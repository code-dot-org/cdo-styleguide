/*! For license information please see templates-progress-ProgressDetailToggle-story.eab5fe0b.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[3115],{"./.storybook/decorators.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{reduxStore:()=>reduxStore});var redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/redux/es/redux.js"),redux_thunk__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/redux-thunk/lib/index.js"),_cdo_apps_code_studio_isRtlRedux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/code-studio/isRtlRedux.js"),_cdo_apps_code_studio_responsiveRedux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/code-studio/responsiveRedux.js");const reduxStore=(reducers={},state={})=>(0,redux__WEBPACK_IMPORTED_MODULE_3__.createStore)((0,redux__WEBPACK_IMPORTED_MODULE_3__.combineReducers)({isRtl:_cdo_apps_code_studio_isRtlRedux__WEBPACK_IMPORTED_MODULE_1__.default,responsive:_cdo_apps_code_studio_responsiveRedux__WEBPACK_IMPORTED_MODULE_2__.default,...reducers}),state,(0,redux__WEBPACK_IMPORTED_MODULE_3__.applyMiddleware)(redux_thunk__WEBPACK_IMPORTED_MODULE_0__.default))},"./src/code-studio/progressReduxSelectors.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.progressionsFromLevels=exports.nextLevelId=exports.levelsForLessonId=exports.levelsByLesson=exports.levelCount=exports.lessons=exports.lessonExtrasUrl=exports.isPerfect=exports.hasLockableLessons=exports.hasGroups=exports.groupedLessons=exports.getProgressLevelType=exports.getLevelPropertiesPath=exports.currentLevelIndex=exports.__testonly__=exports.ProgressLevelType=void 0;var _lodash=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/lodash/lodash.js")),_sharedConstants=__webpack_require__("./generated-scripts/sharedConstants.js"),_progressHelpers=__webpack_require__("./src/templates/progress/progressHelpers.js"),_constants=__webpack_require__("./src/constants.js"),_activityUtils=__webpack_require__("./src/code-studio/activityUtils.js");function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}exports.hasLockableLessons=function hasLockableLessons(state){return state.lessons.some((function(lesson){return lesson.lockable}))};exports.hasGroups=function hasGroups(state){return Object.keys(groupedLessons(state)).length>1};var lessonFromLessonAtIndex=function lessonFromLessonAtIndex(state,lessonIndex){return _objectSpread(_objectSpread({},lessonFromLesson(state.lessons[lessonIndex])),{},{isFocusArea:state.focusAreaLessonIds.includes(state.lessons[lessonIndex].id)})},lessonFromLesson=function lessonFromLesson(lesson){return _lodash.default.pick(lesson,["name","id","lockable","lessonNumber","lessonStartUrl","lesson_plan_html_url","lesson_feedback_url","student_lesson_plan_html_url","description_student","description_teacher"])};exports.lessons=function lessons(state){return state.lessons.map((function(_,index){return lessonFromLessonAtIndex(state,index)}))};var peerReviewLesson=function peerReviewLesson(state){return _objectSpread(_objectSpread({},lessonFromLesson(state.peerReviewLessonInfo)),{},{id:-1,lockable:!1,isFocusArea:!1})},peerReviewLevels=function peerReviewLevels(state){return state.peerReviewLessonInfo.levels.map((function(level,index){return _objectSpread(_objectSpread({},level),{},{id:(-1).toString(),isLocked:level.locked,status:level.status||_sharedConstants.LevelStatus.not_tried,levelNumber:index+1})}))},ProgressLevelType={SCRIPT_LEVEL:"script_level",LEVEL:"level"};exports.ProgressLevelType=ProgressLevelType;var getProgressLevelType=function getProgressLevelType(state){return state.progress.lessons?ProgressLevelType.SCRIPT_LEVEL:state.progress.currentLevelId?ProgressLevelType.LEVEL:void 0};exports.getProgressLevelType=getProgressLevelType;exports.getLevelPropertiesPath=function getLevelPropertiesPath(state){if(state.progress.lessons){var _state$progress$lesso,scriptName=state.progress.scriptName,lessonPosition=null===(_state$progress$lesso=state.progress.lessons)||void 0===_state$progress$lesso?void 0:_state$progress$lesso.find((function(lesson){return lesson.id===state.progress.currentLessonId})).relative_position,levelNumber=levelsForLessonId(state.progress,state.progress.currentLessonId).findIndex((function(level){return level.isCurrentLevel}))+1;return"/s/".concat(scriptName,"/lessons/").concat(lessonPosition,"/levels/").concat(levelNumber,"/level_properties")}if(null!==state.progress.currentLevelId){var levelId=state.progress.currentLevelId;return"/levels/".concat(levelId,"/level_properties")}};var levelWithProgress=function levelWithProgress(_ref,level,isLockable){var _levelProgress,_level$ids,levelResults=_ref.levelResults,unitProgress=_ref.unitProgress,_ref$levelPairing=_ref.levelPairing,levelPairing=void 0===_ref$levelPairing?{}:_ref$levelPairing,currentLevelId=_ref.currentLevelId,normalizedLevel=(0,_progressHelpers.processedLevel)(level);level.ids&&(normalizedLevel.id=function bestResultLevelId(levelIds,progressData){if(1===levelIds.length)return levelIds[0];var attemptedIds=levelIds.filter((function(id){return progressData[id]}));if(0===attemptedIds.length)return levelIds[0];var bestId=attemptedIds[0],bestResult=progressData[bestId];return attemptedIds.forEach((function(id){var result=progressData[id];result>bestResult&&(bestId=id,bestResult=result)})),bestId}(level.ids,levelResults));var status=_sharedConstants.LevelStatus.not_tried,locked=isLockable,teacherFeedbackReviewState=null,levelProgress=unitProgress[normalizedLevel.id];null!==(_levelProgress=levelProgress)&&void 0!==_levelProgress&&_levelProgress.pages&&(levelProgress=levelProgress.pages[normalizedLevel.pageNumber-1]),levelProgress?(status=levelProgress.status,locked=levelProgress.locked,teacherFeedbackReviewState=levelProgress.teacherFeedbackReviewState):level.kind!==_sharedConstants.LevelKind.assessment&&(status=(0,_activityUtils.activityCssClass)(levelResults[normalizedLevel.id]));var isCurrent=normalizedLevel.id===currentLevelId||!(null===(_level$ids=level.ids)||void 0===_level$ids||!_level$ids.includes[currentLevelId]);return _objectSpread(_objectSpread({},normalizedLevel),{},{status,isCurrentLevel:isCurrent,paired:levelPairing[level.activeId],isLocked:locked,teacherFeedbackReviewState})},levelsByLesson=function levelsByLesson(_ref2){var lessons=_ref2.lessons,levelResults=_ref2.levelResults,unitProgress=_ref2.unitProgress,levelPairing=_ref2.levelPairing,currentLevelId=_ref2.currentLevelId;return lessons.map((function(lesson){return lesson.levels.map((function(level){var statusLevel=levelWithProgress({levelResults,unitProgress,levelPairing,currentLevelId},level,lesson.lockable);return statusLevel.sublevels&&(statusLevel.sublevels=level.sublevels.map((function(sublevel){return levelWithProgress({levelResults,unitProgress,levelPairing,currentLevelId},sublevel,lesson.lockable)}))),statusLevel}))}))};exports.levelsByLesson=levelsByLesson;var levelsForLessonId=function levelsForLessonId(state,lessonId){var _state$lessons,lesson=null===(_state$lessons=state.lessons)||void 0===_state$lessons?void 0:_state$lessons.find((function(lesson){return lesson.id===lessonId}));return null==lesson?void 0:lesson.levels.map((function(level){return levelWithProgress(state,level,lesson.lockable)}))};exports.levelsForLessonId=levelsForLessonId;exports.currentLevelIndex=function currentLevelIndex(state){return getProgressLevelType(state)===ProgressLevelType.LEVEL?0:getProgressLevelType(state)===ProgressLevelType.SCRIPT_LEVEL?levelsForLessonId(state.progress,state.progress.currentLessonId).findIndex((function(level){return level.isCurrentLevel})):void 0};exports.nextLevelId=function nextLevelId(state){if(getProgressLevelType(state)===ProgressLevelType.SCRIPT_LEVEL){var levels=levelsForLessonId(state.progress,state.progress.currentLessonId),currentLevelIndex=levels.findIndex((function(level){return level.isCurrentLevel}));if(currentLevelIndex!==levels.length-1)return levels[currentLevelIndex+1].id}};exports.levelCount=function levelCount(state){return getProgressLevelType(state)===ProgressLevelType.LEVEL?1:getProgressLevelType(state)===ProgressLevelType.SCRIPT_LEVEL?levelsForLessonId(state.progress,state.progress.currentLessonId).length:0};exports.lessonExtrasUrl=function lessonExtrasUrl(state,lessonId){return state.lessonExtrasEnabled?state.lessons.find((function(lesson){return lesson.id===lessonId})).lesson_extras_level_url:""};exports.isPerfect=function isPerfect(state,levelId){return!!state.levelResults&&state.levelResults[levelId]>=_constants.TestResults.MINIMUM_OPTIMAL_RESULT};var groupedLessons=function groupedLessons(state){var includeBonusLevels=arguments.length>1&&void 0!==arguments[1]&&arguments[1],byGroup={},allLevels=levelsByLesson(state);return state.lessonGroups.forEach((function(lessonGroup){byGroup[lessonGroup.display_name]={lessonGroup:{id:lessonGroup.id,userFacing:lessonGroup.user_facing,displayName:lessonGroup.display_name,description:lessonGroup.description,bigQuestions:lessonGroup.big_questions},lessons:[],levelsByLesson:[]}})),state.lessons.forEach((function(lesson,index){var group=lesson.lesson_group_display_name,lessonAtIndex=lessonFromLessonAtIndex(state,index),lessonLevels=allLevels[index];includeBonusLevels||(lessonLevels=lessonLevels.filter((function(level){return!level.bonus}))),byGroup[group]&&(byGroup[group].lessons.push(lessonAtIndex),byGroup[group].levelsByLesson.push(lessonLevels))})),state.peerReviewLessonInfo&&(byGroup[state.peerReviewLessonInfo.lesson_group_display_name]={group:state.peerReviewLessonInfo.lesson_group_display_name,lessonGroup:{id:null,displayName:state.peerReviewLessonInfo.lesson_group_display_name,description:null,bigQuestions:null},lessons:[peerReviewLesson(state)],levelsByLesson:[peerReviewLevels(state)]}),_lodash.default.values(byGroup)};exports.groupedLessons=groupedLessons;exports.progressionsFromLevels=function progressionsFromLevels(levels){var progressions=[];if(0===levels.length)return progressions;var currentProgression={start:0,name:levels[0].progression||levels[0].name,displayName:levels[0].progressionDisplayName||levels[0].name,levels:[levels[0]]};return levels.slice(1).forEach((function(level,index){(level.progression||level.name)===currentProgression.name?currentProgression.levels.push(level):(progressions.push(currentProgression),currentProgression={start:index+1,name:level.progression||level.name,displayName:level.progressionDisplayName||level.name,levels:[level]})})),progressions.push(currentProgression),progressions};var __testonly__={};exports.__testonly__=__testonly__},"./src/templates/FontAwesome.jsx":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=FontAwesome;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_lodash=_interopRequireDefault(__webpack_require__("./node_modules/lodash/lodash.js")),_excluded=["icon","className","title"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function FontAwesome(_ref){var icon=_ref.icon,className=_ref.className,title=_ref.title,props=_objectWithoutProperties(_ref,_excluded),newProps=_lodash.default.assign({},props,{className:"fa fa-".concat(icon," ").concat(className||"")});return _react.default.createElement("i",_extends({},newProps,{title}))}FontAwesome.propTypes={icon:_propTypes.default.string.isRequired,className:_propTypes.default.string,title:_propTypes.default.string},module.exports=exports.default},"./node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}}else if("object"===argType){if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]")){classes.push(arg.toString());continue}for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/css-loader/dist/runtime/api.js":module=>{"use strict";module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map((function(item){var content="",needLayer=void 0!==item[5];return item[4]&&(content+="@supports (".concat(item[4],") {")),item[2]&&(content+="@media ".concat(item[2]," {")),needLayer&&(content+="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {")),content+=cssWithMappingToString(item),needLayer&&(content+="}"),item[2]&&(content+="}"),item[4]&&(content+="}"),content})).join("")},list.i=function i(modules,media,dedupe,supports,layer){"string"==typeof modules&&(modules=[[null,modules,void 0]]);var alreadyImportedModules={};if(dedupe)for(var k=0;k<this.length;k++){var id=this[k][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _k=0;_k<modules.length;_k++){var item=[].concat(modules[_k]);dedupe&&alreadyImportedModules[item[0]]||(void 0!==layer&&(void 0===item[5]||(item[1]="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {").concat(item[1],"}")),item[5]=layer),media&&(item[2]?(item[1]="@media ".concat(item[2]," {").concat(item[1],"}"),item[2]=media):item[2]=media),supports&&(item[4]?(item[1]="@supports (".concat(item[4],") {").concat(item[1],"}"),item[4]=supports):item[4]="".concat(supports)),list.push(item))}},list}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":module=>{"use strict";module.exports=function(item){var content=item[1],cssMapping=item[3];if(!cssMapping)return content;if("function"==typeof btoa){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),sourceMapping="/*# ".concat(data," */"),sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}},"./node_modules/redux-thunk/lib/index.js":(__unused_webpack_module,exports)=>{"use strict";function createThunkMiddleware(extraArgument){return function(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(action){return"function"==typeof action?action(dispatch,getState,extraArgument):next(action)}}}}exports.__esModule=!0;var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware,exports.default=thunk},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":module=>{"use strict";var stylesInDOM=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDOM.length;i++)if(stylesInDOM[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var indexByIdentifier=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3],supports:item[4],layer:item[5]};if(-1!==indexByIdentifier)stylesInDOM[indexByIdentifier].references++,stylesInDOM[indexByIdentifier].updater(obj);else{var updater=addElementStyle(obj,options);options.byIndex=i,stylesInDOM.splice(i,0,{identifier,updater,references:1})}identifiers.push(identifier)}return identifiers}function addElementStyle(obj,options){var api=options.domAPI(options);api.update(obj);return function updater(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap&&newObj.supports===obj.supports&&newObj.layer===obj.layer)return;api.update(obj=newObj)}else api.remove()}}module.exports=function(list,options){var lastIdentifiers=modulesToDom(list=list||[],options=options||{});return function update(newList){newList=newList||[];for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDOM[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDOM[_index].references&&(stylesInDOM[_index].updater(),stylesInDOM.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":module=>{"use strict";var memo={};module.exports=function insertBySelector(insert,style){var target=function getTarget(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}(insert);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":module=>{"use strict";module.exports=function insertStyleElement(options){var element=document.createElement("style");return options.setAttributes(element,options.attributes),options.insert(element,options.options),element}},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=function setAttributesWithoutAttributes(styleElement){var nonce=__webpack_require__.nc;nonce&&styleElement.setAttribute("nonce",nonce)}},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":module=>{"use strict";module.exports=function domAPI(options){var styleElement=options.insertStyleElement(options);return{update:function update(obj){!function apply(styleElement,options,obj){var css="";obj.supports&&(css+="@supports (".concat(obj.supports,") {")),obj.media&&(css+="@media ".concat(obj.media," {"));var needLayer=void 0!==obj.layer;needLayer&&(css+="@layer".concat(obj.layer.length>0?" ".concat(obj.layer):""," {")),css+=obj.css,needLayer&&(css+="}"),obj.media&&(css+="}"),obj.supports&&(css+="}");var sourceMap=obj.sourceMap;sourceMap&&"undefined"!=typeof btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),options.styleTagTransform(css,styleElement,options.options)}(styleElement,options,obj)},remove:function remove(){!function removeStyleElement(styleElement){if(null===styleElement.parentNode)return!1;styleElement.parentNode.removeChild(styleElement)}(styleElement)}}}},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":module=>{"use strict";module.exports=function styleTagTransform(css,styleElement){if(styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}},"./src/templates/progress/ProgressDetailToggle.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.YesSummaryYesGroups=exports.YesSummaryNoGroups=exports.NoSummaryYesGroups=exports.NoSummaryNoGroups=void 0;var _react=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/react/index.js")),_addonActions=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js"),_ProgressDetailToggle=__webpack_require__("./src/templates/progress/ProgressDetailToggle.jsx"),_decorators=__webpack_require__("./.storybook/decorators.js"),_reactRedux=__webpack_require__("./node_modules/react-redux/es/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var _default={component:_ProgressDetailToggle.UnconnectedProgressDetailToggle};exports.default=_default;var Template=function Template(args){return _react.default.createElement(_reactRedux.Provider,{store:(0,_decorators.reduxStore)()},_react.default.createElement(_ProgressDetailToggle.UnconnectedProgressDetailToggle,_extends({setIsSummaryView:(0,_addonActions.action)("setIsSummaryView"),isPlc:!1},args)))},YesSummaryNoGroups=Template.bind({});exports.YesSummaryNoGroups=YesSummaryNoGroups,YesSummaryNoGroups.args={isSummaryView:!0,hasGroups:!1};var NoSummaryNoGroups=Template.bind({});exports.NoSummaryNoGroups=NoSummaryNoGroups,NoSummaryNoGroups.args={isSummaryView:!1,hasGroups:!1};var YesSummaryYesGroups=Template.bind({});exports.YesSummaryYesGroups=YesSummaryYesGroups,YesSummaryYesGroups.args={isSummaryView:!0,hasGroups:!0};var NoSummaryYesGroups=Template.bind({});exports.NoSummaryYesGroups=NoSummaryYesGroups,NoSummaryYesGroups.args={isSummaryView:!1,hasGroups:!0}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVtcGxhdGVzLXByb2dyZXNzLVByb2dyZXNzRGV0YWlsVG9nZ2xlLXN0b3J5LjEwNmQyZDQ3LmlmcmFtZS5idW5kbGUuanMiLCJtYXBwaW5ncyI6IjsydUJBTU8sTUFBTUEsV0FBYSxDQUFDQyxTQUFXLENBQUMsRUFBR0MsTUFBUSxDQUFDLEtBQzFDLHFDQUFBQyxjQUNMLHFDQUFBQyxpQkFBZ0IsQ0FBQ0MsTUFBSyxpRkFBWSx5RkFDbENILE9BQ0EscUNBQUFJLGlCQUFnQiwrbEJDUHBCLHVKQUNBLCtFQUNBLG9GQUNBLHFEQUNBLHNnQ0FPa0MsU0FBckJDLG1CQUFxQkwsT0FBSyxPQUNyQ0EsTUFBTU0sUUFBUUMsTUFBSyxTQUFBQyxRQUFNLE9BQUlBLE9BQU9DLFFBQVgsR0FEWSxvQkFHZCxTQUFaQyxVQUFZVixPQUFLLE9BQUlXLE9BQU9DLEtBQUtDLGVBQWViLFFBQVFjLE9BQVMsQ0FBaEQsRUFTOUIsSUFBTUMsd0JBQTBCLFNBQTFCQSx3QkFBMkJmLE1BQU9nQixhQUFSLHNDQUMzQkMsaUJBQWlCakIsTUFBTU0sUUFBUVUsZUFESixJQUU5QkUsWUFBYWxCLE1BQU1tQixtQkFBbUJDLFNBQVNwQixNQUFNTSxRQUFRVSxhQUFhSyxLQUY1QyxFQUsxQkosaUJBQW1CLFNBQW5CQSxpQkFBbUJULFFBQU0sT0FDN0JjLFFBQUFBLFFBQUVDLEtBQUtmLE9BQVEsQ0FDYixPQUNBLEtBQ0EsV0FDQSxlQUNBLGlCQUNBLHVCQUNBLHNCQUNBLCtCQUNBLHNCQUNBLHVCQVgyQixrQkFhUixTQUFWRixRQUFVTixPQUFLLE9BQzFCQSxNQUFNTSxRQUFRa0IsS0FBSSxTQUFDRixFQUFHRyxPQUFKLE9BQWNWLHdCQUF3QmYsTUFBT3lCLE1BQTdDLEdBRFEsRUFPNUIsSUFBTUMsaUJBQW1CLFNBQW5CQSxpQkFBbUIxQixPQUFLLHNDQUN6QmlCLGlCQUFpQmpCLE1BQU0yQix1QkFERSxJQUc1Qk4sSUE3Q3FCLEVBOENyQlosVUFBVSxFQUNWUyxhQUFhLEdBTGUsRUFZeEJVLGlC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U0FBUzhGLGtCQUFrQjFDLElBQUt1QyxjQUM5QixHQUFJQSxhQUFhTyxXQUNmUCxhQUFhTyxXQUFXQyxRQUFVL0MsUUFDN0IsQ0FDTCxLQUFPdUMsYUFBYVMsWUFDbEJULGFBQWFNLFlBQVlOLGFBQWFTLFlBR3hDVCxhQUFhUCxZQUFZUixTQUFTeUIsZUFBZWpELEtBQ25ELENBQ0YsNFRDYkEsb0pBQ0EsMkZBQ0EsK0ZBQ0EsOERBQ0EsMlhBRWUsQ0FDYmtELFVBQVdDLHNCQUFBQSwwREFHYixJQUFNQyxTQUFXLFNBQVhBLFNBQVdDLE1BQUksT0FDbkIsNkJBQUMsWUFBQUMsU0FBRCxDQUFVQyxPQUFPLEVBQUFyUSxZQUFBQSxlQUNmLDZCQUFDLHNEQUFELFVBQ0VzUSxrQkFBa0IsRUFBQXZFLGNBQUFBLFFBQU8sb0JBQ3pCd0UsT0FBTyxHQUNISixPQUxXLEVBVVJLLG1CQUFxQk4sU0FBU08sS0FBSyxDQUFDLGlEQUNqREQsbUJBQW1CTCxLQUFPLENBQ3hCTyxlQUFlLEVBQ2Y5UCxXQUFXLEdBR04sSUFBTStQLGtCQUFvQlQsU0FBU08sS0FBSyxDQUFDLCtDQUNoREUsa0JBQWtCUixLQUFPLENBQ3ZCTyxlQUFlLEVBQ2Y5UCxXQUFXLEdBR04sSUFBTWdRLG9CQUFzQlYsU0FBU08sS0FBSyxDQUFDLG1EQUNsREcsb0JBQW9CVCxLQUFPLENBQ3pCTyxlQUFlLEVBQ2Y5UCxXQUFXLEdBR04sSUFBTWlRLG1CQUFxQlgsU0FBU08sS0FBSyxDQUFDLGlEQUNqREksbUJBQW1CVixLQUFPLENBQ3hCTyxlQUFlLEVBQ2Y5UCxXQUFXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vLnN0b3J5Ym9vay9kZWNvcmF0b3JzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9jb2RlLXN0dWRpby9wcm9ncmVzc1JlZHV4U2VsZWN0b3JzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy90ZW1wbGF0ZXMvRm9udEF3ZXNvbWUuanN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlZHV4LXRodW5rL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy90ZW1wbGF0ZXMvcHJvZ3Jlc3MvUHJvZ3Jlc3NEZXRhaWxUb2dnbGUuc3RvcnkuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y3JlYXRlU3RvcmUsIGNvbWJpbmVSZWR1Y2VycywgYXBwbHlNaWRkbGV3YXJlfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgcmVkdXhUaHVuayBmcm9tICdyZWR1eC10aHVuayc7XG5cbmltcG9ydCBpc1J0bCBmcm9tICdAY2RvL2FwcHMvY29kZS1zdHVkaW8vaXNSdGxSZWR1eCc7XG5pbXBvcnQgcmVzcG9uc2l2ZSBmcm9tICdAY2RvL2FwcHMvY29kZS1zdHVkaW8vcmVzcG9uc2l2ZVJlZHV4JztcblxuZXhwb3J0IGNvbnN0IHJlZHV4U3RvcmUgPSAocmVkdWNlcnMgPSB7fSwgc3RhdGUgPSB7fSkgPT4ge1xuICByZXR1cm4gY3JlYXRlU3RvcmUoXG4gICAgY29tYmluZVJlZHVjZXJzKHtpc1J0bCwgcmVzcG9uc2l2ZSwgLi4ucmVkdWNlcnN9KSxcbiAgICBzdGF0ZSxcbiAgICBhcHBseU1pZGRsZXdhcmUocmVkdXhUaHVuaylcbiAgKTtcbn07XG4iLCIvLyBTZWxlY3RvcnMgYW5kIHJlbGF0ZWQgaGVscGVycyBmb3IgcHJvZ3Jlc3NSZWR1eC4gVGhlc2UgYXJlIGluIHRoZWlyIG93biBmaWxlXG4vLyBiZWNhdXNlIHRoZXkgYXJlIHF1aXRlIGNvbXBsZXggYW5kIHByb2dyZXNzUmVkdXguanMgaXMgYWxyZWFkeSBxdWl0ZSBsYXJnZS5cblxuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7TGV2ZWxTdGF0dXMsIExldmVsS2luZH0gZnJvbSAnQGNkby9nZW5lcmF0ZWQtc2NyaXB0cy9zaGFyZWRDb25zdGFudHMnO1xuaW1wb3J0IHtwcm9jZXNzZWRMZXZlbH0gZnJvbSAnQGNkby9hcHBzL3RlbXBsYXRlcy9wcm9ncmVzcy9wcm9ncmVzc0hlbHBlcnMnO1xuaW1wb3J0IHtUZXN0UmVzdWx0c30gZnJvbSAnQGNkby9hcHBzL2NvbnN0YW50cyc7XG5pbXBvcnQge2FjdGl2aXR5Q3NzQ2xhc3N9IGZyb20gJy4vYWN0aXZpdHlVdGlscyc7XG5cbmNvbnN0IFBFRVJfUkVWSUVXX0lEID0gLTE7XG5cbi8vIFNlbGVjdG9yc1xuXG4vLyBEbyB3ZSBoYXZlIG9uZSBvciBtb3JlIGxvY2thYmxlIGxlc3NvbnNcbmV4cG9ydCBjb25zdCBoYXNMb2NrYWJsZUxlc3NvbnMgPSBzdGF0ZSA9PlxuICBzdGF0ZS5sZXNzb25zLnNvbWUobGVzc29uID0+IGxlc3Nvbi5sb2NrYWJsZSk7XG5cbmV4cG9ydCBjb25zdCBoYXNHcm91cHMgPSBzdGF0ZSA9PiBPYmplY3Qua2V5cyhncm91cGVkTGVzc29ucyhzdGF0ZSkpLmxlbmd0aCA+IDE7XG5cbi8qKlxuICogRXh0cmFjdCB0aGUgcmVsZXZhbnQgcG9ydGlvbnMgb2YgYSBwYXJ0aWN1bGFyIGxlc3NvbiBmcm9tIHRoZSBzdG9yZS5cbiAqIE5vdGUsIHRoYXQgdGhpcyBkb2VzIG5vdCBpbmNsdWRlIGxldmVsc1xuICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIC0gVGhlIHByb2dyZXNzIHN0YXRlIGluIG91ciByZWR1eCBzdG9yZVxuICogQHBhcmFtIHtudW1iZXJ9IGxlc3NvbkluZGV4IC0gVGhlIGluZGV4IGludG8gb3VyIGxlc3NvbnMgd2UgY2FyZSBhYm91dFxuICogQHJldHVybnMge0xlc3Nvbn1cbiAqL1xuY29uc3QgbGVzc29uRnJvbUxlc3NvbkF0SW5kZXggPSAoc3RhdGUsIGxlc3NvbkluZGV4KSA9PiAoe1xuICAuLi5sZXNzb25Gcm9tTGVzc29uKHN0YXRlLmxlc3NvbnNbbGVzc29uSW5kZXhdKSxcbiAgaXNGb2N1c0FyZWE6IHN0YXRlLmZvY3VzQXJlYUxlc3Nvbklkcy5pbmNsdWRlcyhzdGF0ZS5sZXNzb25zW2xlc3NvbkluZGV4XS5pZCksXG59KTtcblxuY29uc3QgbGVzc29uRnJvbUxlc3NvbiA9IGxlc3NvbiA9PlxuICBfLnBpY2sobGVzc29uLCBbXG4gICAgJ25hbWUnLFxuICAgICdpZCcsXG4gICAgJ2xvY2thYmxlJyxcbiAgICAnbGVzc29uTnVtYmVyJyxcbiAgICAnbGVzc29uU3RhcnRVcmwnLFxuICAgICdsZXNzb25fcGxhbl9odG1sX3VybCcsXG4gICAgJ2xlc3Nvbl9mZWVkYmFja191cmwnLFxuICAgICdzdHVkZW50X2xlc3Nvbl9wbGFuX2h0bWxfdXJsJyxcbiAgICAnZGVzY3JpcHRpb25fc3R1ZGVudCcsXG4gICAgJ2Rlc2NyaXB0aW9uX3RlYWNoZXInLFxuICBdKTtcbmV4cG9ydCBjb25zdCBsZXNzb25zID0gc3RhdGUgPT5cbiAgc3RhdGUubGVzc29ucy5tYXAoKF8sIGluZGV4KSA9PiBsZXNzb25Gcm9tTGVzc29uQXRJbmRleChzdGF0ZSwgaW5kZXgpKTtcblxuLyoqXG4gKiBFeHRyYWN0IGxlc3NvbiBmcm9tIG91ciBwZWVyUmV2aWV3TGVzc29uSW5mbyBpZiB3ZSBoYXZlIG9uZS4gV2Ugd2FudCB0aGlzIHRvIGVuZCB1cFxuICogaGF2aW5nIHRoZSBzYW1lIGZpZWxkcyBhcyBvdXIgbm9uLXBlZXIgcmV2aWV3IGxlc3NvbnMuXG4gKi9cbmNvbnN0IHBlZXJSZXZpZXdMZXNzb24gPSBzdGF0ZSA9PiAoe1xuICAuLi5sZXNzb25Gcm9tTGVzc29uKHN0YXRlLnBlZXJSZXZpZXdMZXNzb25JbmZvKSxcbiAgLy8gYWRkIHNvbWUgZmllbGRzIHRoYXQgYXJlIG1pc3NpbmcgZm9yIHRoaXMgbGVzc29uIGJ1dCByZXF1aXJlZCBmb3IgbGVzc29uVHlwZVxuICBpZDogUEVFUl9SRVZJRVdfSUQsXG4gIGxvY2thYmxlOiBmYWxzZSxcbiAgaXNGb2N1c0FyZWE6IGZhbHNlLFxufSk7XG5cbi8qKlxuICogRXh0cmFjdCBsZXZlbHMgZnJvbSBvdXIgcGVlclJldmlld0xlc3NvbkluZm8sIG1ha2luZyBzdXJlIHRoZSBsZXZlbHMgaGF2ZSB0aGUgc2FtZVxuICogc2V0IG9mIGZpZWxkcyBhcyBvdXIgbm9uLXBlZXIgcmV2aWV3IGxldmVscy5cbiAqL1xuY29uc3QgcGVlclJldmlld0xldmVscyA9IHN0YXRlID0+XG4gIHN0YXRlLnBlZXJSZXZpZXdMZXNzb25JbmZvLmxldmVscy5tYXAoKGxldmVsLCBpbmRleCkgPT4gKHtcbiAgICAvLyBUaGVzZSBhcmVuJ3QgdHJ1ZSBsZXZlbHMgKGkuZS4gd2Ugd29uJ3QgaGF2ZSBhbiBlbnRyeSBpbiBsZXZlbFJlc3VsdHMpLFxuICAgIC8vIHNvIGFsd2F5cyB1c2UgYSBzcGVjaWZpYyBpZCB0aGF0IHdvbid0IGNvbGxpZGUgd2l0aCByZWFsIGxldmVsc1xuICAgIC4uLmxldmVsLFxuICAgIGlkOiBQRUVSX1JFVklFV19JRC50b1N0cmluZygpLFxuICAgIGlzTG9ja2VkOiBsZXZlbC5sb2NrZWQsXG4gICAgc3RhdHVzOiBsZXZlbC5zdGF0dXMgfHwgTGV2ZWxTdGF0dXMubm90X3RyaWVkLFxuICAgIGxldmVsTnVtYmVyOiBpbmRleCArIDEsXG4gIH0pKTtcblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgd2UgYXBwZWFyIHRvIGJlIGluIGEgc2NyaXB0IGxldmVsIG9yIGEgc3RhbmRhbG9uZSBsZXZlbC5cbiAqIEEgc2NyaXB0IGxldmVsIGlzIGlkZW50aWZpZWQgYmVjYXVzZSBpdCBoYXMgbGVzc29ucy5cbiAqIEEgc3RhbmRhbG9uZSBsZXZlbCBkb2Vzbid0IGhhdmUgbGVzc29ucywgYnV0IGl0IGRvZXMgaGF2ZSBhIGxldmVsIElELlxuICovXG5leHBvcnQgY29uc3QgUHJvZ3Jlc3NMZXZlbFR5cGUgPSB7XG4gIFNDUklQVF9MRVZFTDogJ3NjcmlwdF9sZXZlbCcsXG4gIExFVkVMOiAnbGV2ZWwnLFxufTtcblxuZXhwb3J0IGNvbnN0IGdldFByb2dyZXNzTGV2ZWxUeXBlID0gc3RhdGUgPT4ge1xuICBpZiAoc3RhdGUucHJvZ3Jlc3MubGVzc29ucykge1xuICAgIHJldHVybiBQcm9ncmVzc0xldmVsVHlwZS5TQ1JJUFRfTEVWRUw7XG4gIH0gZWxzZSBpZiAoc3RhdGUucHJvZ3Jlc3MuY3VycmVudExldmVsSWQpIHtcbiAgICByZXR1cm4gUHJvZ3Jlc3NMZXZlbFR5cGUuTEVWRUw7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkYXNoYm9hcmQgVVJMIHBhdGggdG8gcmV0cmlldmUgdGhlIGxldmVsIHByb3BlcnRpZXMgZm9yIGEgc2NyaXB0XG4gKiBsZXZlbCAoaWYgd2UgaGF2ZSBsZXNzb25zKSBvciBhIGxldmVsIChpZiB3ZSBkb24ndCBoYXZlIGxlc3NvbnMpLiBJZiB3ZSBkb24ndFxuICogaGF2ZSBhIGN1cnJlbnQgbGV2ZWwsIHRoaXMgcmV0dXJucyB1bmRlZmluZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRMZXZlbFByb3BlcnRpZXNQYXRoID0gc3RhdGUgPT4ge1xuICBpZiAoc3RhdGUucHJvZ3Jlc3MubGVzc29ucykge1xuICAgIGNvbnN0IHNjcmlwdE5hbWUgPSBzdGF0ZS5wcm9ncmVzcy5zY3JpcHROYW1lO1xuICAgIGNvbnN0IGxlc3NvblBvc2l0aW9uID0gc3RhdGUucHJvZ3Jlc3MubGVzc29ucz8uZmluZChcbiAgICAgIGxlc3NvbiA9PiBsZXNzb24uaWQgPT09IHN0YXRlLnByb2dyZXNzLmN1cnJlbnRMZXNzb25JZFxuICAgICkucmVsYXRpdmVfcG9zaXRpb247XG4gICAgY29uc3QgbGV2ZWxOdW1iZXIgPVxuICAgICAgbGV2ZWxzRm9yTGVzc29uSWQoXG4gICAgICAgIHN0YXRlLnByb2dyZXNzLFxuICAgICAgICBzdGF0ZS5wcm9ncmVzcy5jdXJyZW50TGVzc29uSWRcbiAgICAgICkuZmluZEluZGV4KGxldmVsID0+IGxldmVsLmlzQ3VycmVudExldmVsKSArIDE7XG4gICAgcmV0dXJuIGAvcy8ke3NjcmlwdE5hbWV9L2xlc3NvbnMvJHtsZXNzb25Qb3NpdGlvbn0vbGV2ZWxzLyR7bGV2ZWxOdW1iZXJ9L2xldmVsX3Byb3BlcnRpZXNgO1xuICB9IGVsc2UgaWYgKHN0YXRlLnByb2dyZXNzLmN1cnJlbnRMZXZlbElkICE9PSBudWxsKSB7XG4gICAgY29uc3QgbGV2ZWxJZCA9IHN0YXRlLnByb2dyZXNzLmN1cnJlbnRMZXZlbElkO1xuICAgIHJldHVybiBgL2xldmVscy8ke2xldmVsSWR9L2xldmVsX3Byb3BlcnRpZXNgO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cbi8qKlxuICogVGhlIGxldmVsIG9iamVjdCBwYXNzZWQgZG93biB0byB1c2UgdmlhIHRoZSBzZXJ2ZXIgKGFuZCBzdG9yZWQgaW4gbGVzc29uLmxlc3NvbnMubGV2ZWxzKVxuICogY29udGFpbnMgbW9yZSBkYXRhIHRoYW4gd2UgbmVlZC4gVGhpcyAoYSkgZmlsdGVycyB0byB0aGUgcGFydHMgb3VyIHZpZXdzIGNhcmVcbiAqIGFib3V0IGFuZCAoYikgZGV0ZXJtaW5lcyBjdXJyZW50IHN0YXR1cyBiYXNlZCBvbiB0aGUgY3VycmVudCBzdGF0ZSBvZlxuICogc3RhdGUubGV2ZWxSZXN1bHRzXG4gKi9cbmNvbnN0IGxldmVsV2l0aFByb2dyZXNzID0gKFxuICB7bGV2ZWxSZXN1bHRzLCB1bml0UHJvZ3Jlc3MsIGxldmVsUGFpcmluZyA9IHt9LCBjdXJyZW50TGV2ZWxJZH0sXG4gIGxldmVsLFxuICBpc0xvY2thYmxlXG4pID0+IHtcbiAgY29uc3Qgbm9ybWFsaXplZExldmVsID0gcHJvY2Vzc2VkTGV2ZWwobGV2ZWwpO1xuICBpZiAobGV2ZWwuaWRzKSB7XG4gICAgLy8gbWFrZSBzdXJlIHdlJ3JlIHVzaW5nIHRoZSBpZCB3aXRoIGJlc3QgcHJvZ3Jlc3NcbiAgICBub3JtYWxpemVkTGV2ZWwuaWQgPSBiZXN0UmVzdWx0TGV2ZWxJZChsZXZlbC5pZHMsIGxldmVsUmVzdWx0cyk7XG4gIH1cblxuICAvLyBkZWZhdWx0IHZhbHVlc1xuICBsZXQgc3RhdHVzID0gTGV2ZWxTdGF0dXMubm90X3RyaWVkO1xuICBsZXQgbG9ja2VkID0gaXNMb2NrYWJsZTtcbiAgbGV0IHRlYWNoZXJGZWVkYmFja1Jldmlld1N0YXRlID0gbnVsbDtcblxuICBsZXQgbGV2ZWxQcm9ncmVzcyA9IHVuaXRQcm9ncmVzc1tub3JtYWxpemVkTGV2ZWwuaWRdO1xuICBpZiAobGV2ZWxQcm9ncmVzcz8ucGFnZXMpIHtcbiAgICBsZXZlbFByb2dyZXNzID0gbGV2ZWxQcm9ncmVzcy5wYWdlc1tub3JtYWxpemVkTGV2ZWwucGFnZU51bWJlciAtIDFdO1xuICB9XG4gIGlmIChsZXZlbFByb2dyZXNzKSB7XG4gICAgLy8gaWYgd2UgaGF2ZSBsZXZlbFByb2dyZXNzLCBvdmVyd3JpdGUgZGVmYXVsdCB2YWx1ZXNcbiAgICBzdGF0dXMgPSBsZXZlbFByb2dyZXNzLnN0YXR1cztcbiAgICBsb2NrZWQgPSBsZXZlbFByb2dyZXNzLmxvY2tlZDtcbiAgICB0ZWFjaGVyRmVlZGJhY2tSZXZpZXdTdGF0ZSA9IGxldmVsUHJvZ3Jlc3MudGVhY2hlckZlZWRiYWNrUmV2aWV3U3RhdGU7XG4gIH0gZWxzZSBpZiAobGV2ZWwua2luZCAhPT0gTGV2ZWxLaW5kLmFzc2Vzc21lbnQpIHtcbiAgICAvLyBpZiB3ZSBkb24ndCBoYXZlIGxldmVsUHJvZ3Jlc3MsIGdldCB0aGUgc3RhdHVzIGZyb20gYGxldmVsUmVzdWx0c2AuXG4gICAgLy8gaG93ZXZlciwgYGxldmVsUmVzdWx0c2AgZG9lc24ndCB0cmFjayBwZXItcGFnZSByZXN1bHRzIGZvciBtdWx0aS1wYWdlXG4gICAgLy8gYXNzZXNzbWVudHMsIHNvIGZvciBhc3Nlc3NtZW50cyB3ZSBsZWF2ZSBkZWZhdWx0IHZhbHVlcy5cbiAgICAvL1xuICAgIC8vIG5vdGU6IGlmIHdlJ3JlIG5vdCB1c2luZyBsZXZlbFByb2dyZXNzLCBgaXNMb2NrZWRgIHdpbGwgYWx3YXlzIGJlIGZhbHNlLlxuICAgIHN0YXR1cyA9IGFjdGl2aXR5Q3NzQ2xhc3MobGV2ZWxSZXN1bHRzW25vcm1hbGl6ZWRMZXZlbC5pZF0pO1xuICB9XG4gIGNvbnN0IGlzQ3VycmVudCA9XG4gICAgbm9ybWFsaXplZExldmVsLmlkID09PSBjdXJyZW50TGV2ZWxJZCB8fFxuICAgICEhbGV2ZWwuaWRzPy5pbmNsdWRlc1tjdXJyZW50TGV2ZWxJZF07XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5ub3JtYWxpemVkTGV2ZWwsXG4gICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgaXNDdXJyZW50TGV2ZWw6IGlzQ3VycmVudCxcbiAgICBwYWlyZWQ6IGxldmVsUGFpcmluZ1tsZXZlbC5hY3RpdmVJZF0sXG4gICAgaXNMb2NrZWQ6IGxvY2tlZCxcbiAgICB0ZWFjaGVyRmVlZGJhY2tSZXZpZXdTdGF0ZTogdGVhY2hlckZlZWRiYWNrUmV2aWV3U3RhdGUsXG4gIH07XG59O1xuXG4vKipcbiAqIEdldCBsZXZlbCBkYXRhIGZvciBhbGwgbGVzc29uc1xuICovXG5leHBvcnQgY29uc3QgbGV2ZWxzQnlMZXNzb24gPSAoe1xuICBsZXNzb25zLFxuICBsZXZlbFJlc3VsdHMsXG4gIHVuaXRQcm9ncmVzcyxcbiAgbGV2ZWxQYWlyaW5nLFxuICBjdXJyZW50TGV2ZWxJZCxcbn0pID0+XG4gIGxlc3NvbnMubWFwKGxlc3NvbiA9PlxuICAgIGxlc3Nvbi5sZXZlbHMubWFwKGxldmVsID0+IHtcbiAgICAgIGxldCBzdGF0dXNMZXZlbCA9IGxldmVsV2l0aFByb2dyZXNzKFxuICAgICAgICB7bGV2ZWxSZXN1bHRzLCB1bml0UHJvZ3Jlc3MsIGxldmVsUGFpcmluZywgY3VycmVudExldmVsSWR9LFxuICAgICAgICBsZXZlbCxcbiAgICAgICAgbGVzc29uLmxvY2thYmxlXG4gICAgICApO1xuICAgICAgaWYgKHN0YXR1c0xldmVsLnN1YmxldmVscykge1xuICAgICAgICBzdGF0dXNMZXZlbC5zdWJsZXZlbHMgPSBsZXZlbC5zdWJsZXZlbHMubWFwKHN1YmxldmVsID0+XG4gICAgICAgICAgbGV2ZWxXaXRoUHJvZ3Jlc3MoXG4gICAgICAgICAgICB7bGV2ZWxSZXN1bHRzLCB1bml0UHJvZ3Jlc3MsIGxldmVsUGFpcmluZywgY3VycmVudExldmVsSWR9LFxuICAgICAgICAgICAgc3VibGV2ZWwsXG4gICAgICAgICAgICBsZXNzb24ubG9ja2FibGVcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RhdHVzTGV2ZWw7XG4gICAgfSlcbiAgKTtcblxuLyoqXG4gKiBHZXQgZGF0YSBmb3IgYSBwYXJ0aWN1bGFyIGxlc3NvblxuICovXG5leHBvcnQgY29uc3QgbGV2ZWxzRm9yTGVzc29uSWQgPSAoc3RhdGUsIGxlc3NvbklkKSA9PiB7XG4gIGNvbnN0IGxlc3NvbiA9IHN0YXRlLmxlc3NvbnM/LmZpbmQobGVzc29uID0+IGxlc3Nvbi5pZCA9PT0gbGVzc29uSWQpO1xuICByZXR1cm4gbGVzc29uPy5sZXZlbHMubWFwKGxldmVsID0+XG4gICAgbGV2ZWxXaXRoUHJvZ3Jlc3Moc3RhdGUsIGxldmVsLCBsZXNzb24ubG9ja2FibGUpXG4gICk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgaW5kZXggb2YgdGhlIGN1cnJlbnQgbGV2ZWwuIE9uIHNjcmlwdCBsZXZlbHMsIGNoZWNrXG4gKiB3aGljaCBsZXZlbCBoYXMgaXNDdXJyZW50TGV2ZWwgc2V0LiBGb3Igc2luZ2xlIGxldmVscywgcmV0dXJuIDAuXG4gKiBPdGhlcndpc2UsIHJldHVybiB1bmRlZmluZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBjdXJyZW50TGV2ZWxJbmRleCA9IHN0YXRlID0+IHtcbiAgaWYgKGdldFByb2dyZXNzTGV2ZWxUeXBlKHN0YXRlKSA9PT0gUHJvZ3Jlc3NMZXZlbFR5cGUuTEVWRUwpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZiAoZ2V0UHJvZ3Jlc3NMZXZlbFR5cGUoc3RhdGUpID09PSBQcm9ncmVzc0xldmVsVHlwZS5TQ1JJUFRfTEVWRUwpIHtcbiAgICByZXR1cm4gbGV2ZWxzRm9yTGVzc29uSWQoXG4gICAgICBzdGF0ZS5wcm9ncmVzcyxcbiAgICAgIHN0YXRlLnByb2dyZXNzLmN1cnJlbnRMZXNzb25JZFxuICAgICkuZmluZEluZGV4KGxldmVsID0+IGxldmVsLmlzQ3VycmVudExldmVsKTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIG5leHQgbGV2ZWwgSUQgaW4gdGhlIHByb2dyZXNzaW9uIGlmIGl0IGV4aXN0cy5cbiAqIFJldHVybnMgdW5kZWZpbmVkIGlmIG5vdCBjdXJyZW50bHkgaW4gYSBzY3JpcHQgbGV2ZWwgb3JcbiAqIGN1cnJlbnRseSBvbiB0aGUgbGFzdCBsZXZlbC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5leHRMZXZlbElkID0gc3RhdGUgPT4ge1xuICBpZiAoZ2V0UHJvZ3Jlc3NMZXZlbFR5cGUoc3RhdGUpICE9PSBQcm9ncmVzc0xldmVsVHlwZS5TQ1JJUFRfTEVWRUwpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29uc3QgbGV2ZWxzID0gbGV2ZWxzRm9yTGVzc29uSWQoXG4gICAgc3RhdGUucHJvZ3Jlc3MsXG4gICAgc3RhdGUucHJvZ3Jlc3MuY3VycmVudExlc3NvbklkXG4gICk7XG4gIGNvbnN0IGN1cnJlbnRMZXZlbEluZGV4ID0gbGV2ZWxzLmZpbmRJbmRleChsZXZlbCA9PiBsZXZlbC5pc0N1cnJlbnRMZXZlbCk7XG4gIGlmIChjdXJyZW50TGV2ZWxJbmRleCA9PT0gbGV2ZWxzLmxlbmd0aCAtIDEpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgY29uc3QgbmV4dExldmVsID0gbGV2ZWxzW2N1cnJlbnRMZXZlbEluZGV4ICsgMV07XG4gIHJldHVybiBuZXh0TGV2ZWwuaWQ7XG59O1xuXG5leHBvcnQgY29uc3QgbGV2ZWxDb3VudCA9IHN0YXRlID0+IHtcbiAgaWYgKGdldFByb2dyZXNzTGV2ZWxUeXBlKHN0YXRlKSA9PT0gUHJvZ3Jlc3NMZXZlbFR5cGUuTEVWRUwpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICBpZiAoZ2V0UHJvZ3Jlc3NMZXZlbFR5cGUoc3RhdGUpID09PSBQcm9ncmVzc0xldmVsVHlwZS5TQ1JJUFRfTEVWRUwpIHtcbiAgICByZXR1cm4gbGV2ZWxzRm9yTGVzc29uSWQoc3RhdGUucHJvZ3Jlc3MsIHN0YXRlLnByb2dyZXNzLmN1cnJlbnRMZXNzb25JZClcbiAgICAgIC5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5leHBvcnQgY29uc3QgbGVzc29uRXh0cmFzVXJsID0gKHN0YXRlLCBsZXNzb25JZCkgPT5cbiAgc3RhdGUubGVzc29uRXh0cmFzRW5hYmxlZFxuICAgID8gc3RhdGUubGVzc29ucy5maW5kKGxlc3NvbiA9PiBsZXNzb24uaWQgPT09IGxlc3NvbklkKVxuICAgICAgICAubGVzc29uX2V4dHJhc19sZXZlbF91cmxcbiAgICA6ICcnO1xuXG5leHBvcnQgY29uc3QgaXNQZXJmZWN0ID0gKHN0YXRlLCBsZXZlbElkKSA9PlxuICAhIXN0YXRlLmxldmVsUmVzdWx0cyAmJlxuICBzdGF0ZS5sZXZlbFJlc3VsdHNbbGV2ZWxJZF0gPj0gVGVzdFJlc3VsdHMuTUlOSU1VTV9PUFRJTUFMX1JFU1VMVDtcblxuLyoqXG4gKiBHcm91cHMgbGVzc29ucyBhY2NvcmRpbmcgdG8gTGVzc29uR3JvdXAuXG4gKiBAcmV0dXJucyB7T2JqZWN0W119XG4gKiB7c3RyaW5nfSBPYmplY3QubmFtZVxuICoge3N0cmluZ1tdfSBPYmplY3QubGVzc29uTmFtZXNcbiAqIHtPYmplY3RbXX0gT2JqZWN0Lmxlc3NvbkxldmVsc1xuICovXG5leHBvcnQgY29uc3QgZ3JvdXBlZExlc3NvbnMgPSAoc3RhdGUsIGluY2x1ZGVCb251c0xldmVscyA9IGZhbHNlKSA9PiB7XG4gIGxldCBieUdyb3VwID0ge307XG5cbiAgY29uc3QgYWxsTGV2ZWxzID0gbGV2ZWxzQnlMZXNzb24oc3RhdGUpO1xuXG4gIHN0YXRlLmxlc3Nvbkdyb3Vwcy5mb3JFYWNoKGxlc3Nvbkdyb3VwID0+IHtcbiAgICBieUdyb3VwW2xlc3Nvbkdyb3VwLmRpc3BsYXlfbmFtZV0gPSB7XG4gICAgICBsZXNzb25Hcm91cDoge1xuICAgICAgICBpZDogbGVzc29uR3JvdXAuaWQsXG4gICAgICAgIHVzZXJGYWNpbmc6IGxlc3Nvbkdyb3VwLnVzZXJfZmFjaW5nLFxuICAgICAgICBkaXNwbGF5TmFtZTogbGVzc29uR3JvdXAuZGlzcGxheV9uYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbjogbGVzc29uR3JvdXAuZGVzY3JpcHRpb24sXG4gICAgICAgIGJpZ1F1ZXN0aW9uczogbGVzc29uR3JvdXAuYmlnX3F1ZXN0aW9ucyxcbiAgICAgIH0sXG4gICAgICBsZXNzb25zOiBbXSxcbiAgICAgIGxldmVsc0J5TGVzc29uOiBbXSxcbiAgICB9O1xuICB9KTtcblxuICBzdGF0ZS5sZXNzb25zLmZvckVhY2goKGxlc3NvbiwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBncm91cCA9IGxlc3Nvbi5sZXNzb25fZ3JvdXBfZGlzcGxheV9uYW1lO1xuICAgIGNvbnN0IGxlc3NvbkF0SW5kZXggPSBsZXNzb25Gcm9tTGVzc29uQXRJbmRleChzdGF0ZSwgaW5kZXgpO1xuICAgIGxldCBsZXNzb25MZXZlbHMgPSBhbGxMZXZlbHNbaW5kZXhdO1xuICAgIGlmICghaW5jbHVkZUJvbnVzTGV2ZWxzKSB7XG4gICAgICBsZXNzb25MZXZlbHMgPSBsZXNzb25MZXZlbHMuZmlsdGVyKGxldmVsID0+ICFsZXZlbC5ib251cyk7XG4gICAgfVxuXG4gICAgaWYgKGJ5R3JvdXBbZ3JvdXBdKSB7XG4gICAgICBieUdyb3VwW2dyb3VwXS5sZXNzb25zLnB1c2gobGVzc29uQXRJbmRleCk7XG4gICAgICBieUdyb3VwW2dyb3VwXS5sZXZlbHNCeUxlc3Nvbi5wdXNoKGxlc3NvbkxldmVscyk7XG4gICAgfVxuICB9KTtcblxuICAvLyBQZWVyIHJldmlld3MgZ2V0IHRoZWlyIG93biBncm91cCwgYnV0IHRoZXNlIGxldmVscy9sZXNzb24gYXJlIHN0b3JlZFxuICAvLyBzZXBhcmF0ZWx5IGZyb20gb3VyIG90aGVyIGxldmVscy9sZXNzb25zIGluIHJlZHV4IChzaW5jZSB0aGV5J3JlIHNsaWdodGx5XG4gIC8vIGRpZmZlcmVudClcbiAgaWYgKHN0YXRlLnBlZXJSZXZpZXdMZXNzb25JbmZvKSB7XG4gICAgYnlHcm91cFtzdGF0ZS5wZWVyUmV2aWV3TGVzc29uSW5mby5sZXNzb25fZ3JvdXBfZGlzcGxheV9uYW1lXSA9IHtcbiAgICAgIGdyb3VwOiBzdGF0ZS5wZWVyUmV2aWV3TGVzc29uSW5mby5sZXNzb25fZ3JvdXBfZGlzcGxheV9uYW1lLFxuICAgICAgbGVzc29uR3JvdXA6IHtcbiAgICAgICAgaWQ6IG51bGwsIC8vUGVlciByZXZpZXdzIGRvIG5vdCBoYXZlIGRlc2NyaXB0aW9ucyBvciBiaWcgcXVlc3Rpb25zIHNvIHRoZXkgd29uJ3QgbmVlZCBhbiBpZCB0byB0cmFjayBjbGlja3NcbiAgICAgICAgZGlzcGxheU5hbWU6IHN0YXRlLnBlZXJSZXZpZXdMZXNzb25JbmZvLmxlc3Nvbl9ncm91cF9kaXNwbGF5X25hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLFxuICAgICAgICBiaWdRdWVzdGlvbnM6IG51bGwsXG4gICAgICB9LFxuICAgICAgbGVzc29uczogW3BlZXJSZXZpZXdMZXNzb24oc3RhdGUpXSxcbiAgICAgIGxldmVsc0J5TGVzc29uOiBbcGVlclJldmlld0xldmVscyhzdGF0ZSldLFxuICAgIH07XG4gIH1cblxuICAvLyBXZSB3YW50IHRvIHJldHVybiBhbiBhcnJheSBvZiBjYXRlZ29yaWVzXG4gIHJldHVybiBfLnZhbHVlcyhieUdyb3VwKTtcbn07XG5cbi8qKlxuICogR2l2ZW4gYSBzZXQgb2YgbGV2ZWxzLCBncm91cHMgdGhlbSBpbiBzZXRzIG9mIHByb2dyZXNzaW9ucywgd2hlcmUgZWFjaFxuICogcHJvZ3Jlc3Npb24gaXMgYSBzZXQgb2YgYWRqYWNlbnQgbGV2ZWxzIHNoYXJpbmcgdGhlIHNhbWUgcHJvZ3Jlc3Npb24gbmFtZVxuICogQW55IGdpdmVuIGxldmVsJ3MgcHJvZ3Jlc3Npb24gbmFtZSBpcyBkZXRlcm1pbmVkIGJ5IGZpcnN0IGxvb2tpbmcgdG8gc2VlIGlmXG4gKiB0aGUgc2VydmVyIHByb3ZpZGVkIHVzIG9uZSBhcyBsZXZlbC5wcm9ncmVzc2lvbiwgb3RoZXJ3aXNlIHdlIGZhbGwgYmFjayB0b1xuICoganVzdCBsZXZlbC5uYW1lXG4gKiBAcGFyYW0ge0xldmVsW119IGxldmVsc1xuICogQHJldHVybnMge29iamVjdFtdfSBBbiBhcnJheSBvZiBwcm9ncmVzc2lvbnMsIHdoZXJlIGVhY2ggY29uc2lzdHMgb2YgYSBuYW1lLFxuICogICB0aGUgcG9zaXRpb24gb2YgdGhlIHByb2dyZXNzaW9uIGluIHRoZSBpbnB1dCBhcnJheSwgYW5kIHRoZSBzZXQgb2YgbGV2ZWxzXG4gKiAgIGluIHRoZSBwcm9ncmVzc2lvblxuICovXG5leHBvcnQgY29uc3QgcHJvZ3Jlc3Npb25zRnJvbUxldmVscyA9IGxldmVscyA9PiB7XG4gIGNvbnN0IHByb2dyZXNzaW9ucyA9IFtdO1xuICBpZiAobGV2ZWxzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBwcm9ncmVzc2lvbnM7XG4gIH1cbiAgbGV0IGN1cnJlbnRQcm9ncmVzc2lvbiA9IHtcbiAgICBzdGFydDogMCxcbiAgICBuYW1lOiBsZXZlbHNbMF0ucHJvZ3Jlc3Npb24gfHwgbGV2ZWxzWzBdLm5hbWUsXG4gICAgZGlzcGxheU5hbWU6IGxldmVsc1swXS5wcm9ncmVzc2lvbkRpc3BsYXlOYW1lIHx8IGxldmVsc1swXS5uYW1lLFxuICAgIGxldmVsczogW2xldmVsc1swXV0sXG4gIH07XG4gIGxldmVscy5zbGljZSgxKS5mb3JFYWNoKChsZXZlbCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBwcm9ncmVzc2lvbk5hbWUgPSBsZXZlbC5wcm9ncmVzc2lvbiB8fCBsZXZlbC5uYW1lO1xuICAgIGlmIChwcm9ncmVzc2lvbk5hbWUgPT09IGN1cnJlbnRQcm9ncmVzc2lvbi5uYW1lKSB7XG4gICAgICBjdXJyZW50UHJvZ3Jlc3Npb24ubGV2ZWxzLnB1c2gobGV2ZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9ncmVzc2lvbnMucHVzaChjdXJyZW50UHJvZ3Jlc3Npb24pO1xuICAgICAgY3VycmVudFByb2dyZXNzaW9uID0ge1xuICAgICAgICAvLyArIDEgYmVjYXVzZSB3ZSBzbGljZWQgb2ZmIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICAgIHN0YXJ0OiBpbmRleCArIDEsXG4gICAgICAgIG5hbWU6IGxldmVsLnByb2dyZXNzaW9uIHx8IGxldmVsLm5hbWUsXG4gICAgICAgIGRpc3BsYXlOYW1lOiBsZXZlbC5wcm9ncmVzc2lvbkRpc3BsYXlOYW1lIHx8IGxldmVsLm5hbWUsXG4gICAgICAgIGxldmVsczogW2xldmVsXSxcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbiAgcHJvZ3Jlc3Npb25zLnB1c2goY3VycmVudFByb2dyZXNzaW9uKTtcbiAgcmV0dXJuIHByb2dyZXNzaW9ucztcbn07XG5cbi8vIEhlbHBlcnNcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxldmVsIHdpdGggdGhlIGhpZ2hlc3QgcHJvZ3Jlc3MsIG9yIHRoZSBmaXJzdCBsZXZlbCBpZiBub25lIGhhdmVcbiAqIGJlZW4gYXR0ZW1wdGVkXG4gKiBAcGFyYW0ge251bWJlcltdfSBsZXZlbElkc1xuICogQHBhcmFtIHtPYmplY3QuPG51bWJlcixudW1iZXI+fSAtIE1hcHBpbmcgZnJvbSBsZXZlbCBpZCB0byBwcm9ncmVzcyByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYmVzdFJlc3VsdExldmVsSWQobGV2ZWxJZHMsIHByb2dyZXNzRGF0YSkge1xuICAvLyBUaGUgdXN1YWwgY2FzZVxuICBpZiAobGV2ZWxJZHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGxldmVsSWRzWzBdO1xuICB9XG5cbiAgLy8gUmV0dXJuIHRoZSBsZXZlbCB3aXRoIHRoZSBoaWdoZXN0IHJlc3VsdFxuICB2YXIgYXR0ZW1wdGVkSWRzID0gbGV2ZWxJZHMuZmlsdGVyKGlkID0+IHByb2dyZXNzRGF0YVtpZF0pO1xuICBpZiAoYXR0ZW1wdGVkSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIE5vbmUgb2YgdGhlbSBoYXZlIGJlZW4gYXR0ZW1wdGVkLCBqdXN0IHJldHVybiB0aGUgZmlyc3RcbiAgICByZXR1cm4gbGV2ZWxJZHNbMF07XG4gIH1cbiAgdmFyIGJlc3RJZCA9IGF0dGVtcHRlZElkc1swXTtcbiAgdmFyIGJlc3RSZXN1bHQgPSBwcm9ncmVzc0RhdGFbYmVzdElkXTtcbiAgYXR0ZW1wdGVkSWRzLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgdmFyIHJlc3VsdCA9IHByb2dyZXNzRGF0YVtpZF07XG4gICAgaWYgKHJlc3VsdCA+IGJlc3RSZXN1bHQpIHtcbiAgICAgIGJlc3RJZCA9IGlkO1xuICAgICAgYmVzdFJlc3VsdCA9IHJlc3VsdDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYmVzdElkO1xufVxuXG4vLyBleHBvcnQgcHJpdmF0ZSBmdW5jdGlvbihzKSB0byBleHBvc2UgdG8gdW5pdCB0ZXN0aW5nXG5leHBvcnQgY29uc3QgX190ZXN0b25seV9fID0gSU5fVU5JVF9URVNUXG4gID8ge1xuICAgICAgYmVzdFJlc3VsdExldmVsSWQsXG4gICAgICBwZWVyUmV2aWV3TGVzc29uLFxuICAgICAgcGVlclJldmlld0xldmVscyxcbiAgICAgIFBFRVJfUkVWSUVXX0lELFxuICAgIH1cbiAgOiB7fTtcbiIsIi8qKiBAZmlsZSBmb250LWF3ZXNvbWUgaGVscGVyIGNvbXBvbmVudC4gKi9cblxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG4vKipcbiAqIEdpdmVuIGFuIGljb24gbmFtZSwgcmVuZGVyIHRoZSBpY29uIHVzaW5nIGFuIDxpPiB0YWcgaW4gdHlwaWNhbCBmb250LWF3ZXNvbWVcbiAqIGZhc2hpb24uICBSZXF1aXJlcyBmb250LWF3ZXNvbWUgdG8gYmUgYXZhaWxhYmxlIG9uIHRoZSBwYWdlLlxuICogU2VlIGh0dHA6Ly9mb250YXdlc29tZS5pby9pY29ucy8gdG8gbG9vayB1cCBzdXBwb3J0ZWQgaWNvbiBuYW1lcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRm9udEF3ZXNvbWUoe2ljb24sIGNsYXNzTmFtZSwgdGl0bGUsIC4uLnByb3BzfSkge1xuICBjb25zdCBuZXdQcm9wcyA9IF8uYXNzaWduKHt9LCBwcm9wcywge1xuICAgIGNsYXNzTmFtZTogYGZhIGZhLSR7aWNvbn0gJHtjbGFzc05hbWUgPyBjbGFzc05hbWUgOiAnJ31gLFxuICB9KTtcbiAgcmV0dXJuIDxpIHsuLi5uZXdQcm9wc30gdGl0bGU9e3RpdGxlfSAvPjtcbn1cblxuRm9udEF3ZXNvbWUucHJvcFR5cGVzID0ge1xuICBpY29uOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIC8vIFRpdGxlIHNob3VsZCBiZSB1c2VkIGZvciBzZW1hbnRpYyBpY29ucy4gSWYgbm90IGdpdmVuLCB0aGUgc2NyZWVucmVhZGVyIHdpbGwgbm90IHJlYWQgdGhlIGljb25cbiAgLy8gU2VlIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2RvY3Mvd2ViL2RpZy1kZWVwZXIvYWNjZXNzaWJpbGl0eSNpY29ucy11c2VkLWFzLXNlbWFudGljLWVsZW1lbnRzXG59O1xuIiwiLyohXG5cdENvcHlyaWdodCAoYykgMjAxOCBKZWQgV2F0c29uLlxuXHRMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuXHRodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXHR2YXIgbmF0aXZlQ29kZVN0cmluZyA9ICdbbmF0aXZlIGNvZGVdJztcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRpZiAoYXJnLmxlbmd0aCkge1xuXHRcdFx0XHRcdHZhciBpbm5lciA9IGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKTtcblx0XHRcdFx0XHRpZiAoaW5uZXIpIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChpbm5lcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGlmIChhcmcudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgJiYgIWFyZy50b1N0cmluZy50b1N0cmluZygpLmluY2x1ZGVzKCdbbmF0aXZlIGNvZGVdJykpIHtcblx0XHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnLnRvU3RyaW5nKCkpO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdGNsYXNzTmFtZXMuZGVmYXVsdCA9IGNsYXNzTmFtZXM7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuXG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmZ1bmN0aW9uIGNyZWF0ZVRodW5rTWlkZGxld2FyZShleHRyYUFyZ3VtZW50KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7XG4gICAgdmFyIGdldFN0YXRlID0gX3JlZi5nZXRTdGF0ZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIGFjdGlvbihkaXNwYXRjaCwgZ2V0U3RhdGUsIGV4dHJhQXJndW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn1cblxudmFyIHRodW5rID0gY3JlYXRlVGh1bmtNaWRkbGV3YXJlKCk7XG50aHVuay53aXRoRXh0cmFBcmd1bWVudCA9IGNyZWF0ZVRodW5rTWlkZGxld2FyZTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gdGh1bms7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cblxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG5cbiAgY3NzICs9IG9iai5jc3M7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge2FjdGlvbn0gZnJvbSAnQHN0b3J5Ym9vay9hZGRvbi1hY3Rpb25zJztcbmltcG9ydCB7VW5jb25uZWN0ZWRQcm9ncmVzc0RldGFpbFRvZ2dsZSBhcyBQcm9ncmVzc0RldGFpbFRvZ2dsZX0gZnJvbSAnLi9Qcm9ncmVzc0RldGFpbFRvZ2dsZSc7XG5pbXBvcnQge3JlZHV4U3RvcmV9IGZyb20gJ0BjZG8vc3Rvcnlib29rL2RlY29yYXRvcnMnO1xuaW1wb3J0IHtQcm92aWRlcn0gZnJvbSAncmVhY3QtcmVkdXgnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbXBvbmVudDogUHJvZ3Jlc3NEZXRhaWxUb2dnbGUsXG59O1xuXG5jb25zdCBUZW1wbGF0ZSA9IGFyZ3MgPT4gKFxuICA8UHJvdmlkZXIgc3RvcmU9e3JlZHV4U3RvcmUoKX0+XG4gICAgPFByb2dyZXNzRGV0YWlsVG9nZ2xlXG4gICAgICBzZXRJc1N1bW1hcnlWaWV3PXthY3Rpb24oJ3NldElzU3VtbWFyeVZpZXcnKX1cbiAgICAgIGlzUGxjPXtmYWxzZX1cbiAgICAgIHsuLi5hcmdzfVxuICAgIC8+XG4gIDwvUHJvdmlkZXI+XG4pO1xuXG5leHBvcnQgY29uc3QgWWVzU3VtbWFyeU5vR3JvdXBzID0gVGVtcGxhdGUuYmluZCh7fSk7XG5ZZXNTdW1tYXJ5Tm9Hcm91cHMuYXJncyA9IHtcbiAgaXNTdW1tYXJ5VmlldzogdHJ1ZSxcbiAgaGFzR3JvdXBzOiBmYWxzZSxcbn07XG5cbmV4cG9ydCBjb25zdCBOb1N1bW1hcnlOb0dyb3VwcyA9IFRlbXBsYXRlLmJpbmQoe30pO1xuTm9TdW1tYXJ5Tm9Hcm91cHMuYXJncyA9IHtcbiAgaXNTdW1tYXJ5VmlldzogZmFsc2UsXG4gIGhhc0dyb3VwczogZmFsc2UsXG59O1xuXG5leHBvcnQgY29uc3QgWWVzU3VtbWFyeVllc0dyb3VwcyA9IFRlbXBsYXRlLmJpbmQoe30pO1xuWWVzU3VtbWFyeVllc0dyb3Vwcy5hcmdzID0ge1xuICBpc1N1bW1hcnlWaWV3OiB0cnVlLFxuICBoYXNHcm91cHM6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgTm9TdW1tYXJ5WWVzR3JvdXBzID0gVGVtcGxhdGUuYmluZCh7fSk7XG5Ob1N1bW1hcnlZZXNHcm91cHMuYXJncyA9IHtcbiAgaXNTdW1tYXJ5VmlldzogZmFsc2UsXG4gIGhhc0dyb3VwczogdHJ1ZSxcbn07XG4iXSwibmFtZXMiOlsicmVkdXhTdG9yZSIsInJlZHVjZXJzIiwic3RhdGUiLCJjcmVhdGVTdG9yZSIsImNvbWJpbmVSZWR1Y2VycyIsImlzUnRsIiwiYXBwbHlNaWRkbGV3YXJlIiwiaGFzTG9ja2FibGVMZXNzb25zIiwibGVzc29ucyIsInNvbWUiLCJsZXNzb24iLCJsb2NrYWJsZSIsImhhc0dyb3VwcyIsIk9iamVjdCIsImtleXMiLCJncm91cGVkTGVzc29ucyIsImxlbmd0aCIsImxlc3NvbkZyb21MZXNzb25BdEluZGV4IiwibGVzc29uSW5kZXgiLCJsZXNzb25Gcm9tTGVzc29uIiwiaXNGb2N1c0FyZWEiLCJmb2N1c0FyZWFMZXNzb25JZHMiLCJpbmNsdWRlcyIsImlkIiwiXyIsInBpY2siLCJtYXAiLCJpbmRleCIsInBlZXJSZXZpZXdMZXNzb24iLCJwZWVyUmV2aWV3TGVzc29uSW5mbyIsInBlZXJSZXZpZXdMZXZlbHMiLCJsZXZlbHMiLCJsZXZlbCIsInRvU3RyaW5nIiwiaXNMb2NrZWQiLCJsb2NrZWQiLCJzdGF0dXMiLCJMZXZlbFN0YXR1cyIsIm5vdF90cmllZCIsImxldmVsTnVtYmVyIiwiUHJvZ3Jlc3NMZXZlbFR5cGUiLCJTQ1JJUFRfTEVWRUwiLCJMRVZFTCIsImdldFByb2dyZXNzTGV2ZWxUeXBlIiwicHJvZ3Jlc3MiLCJjdXJyZW50TGV2ZWxJZCIsImdldExldmVsUHJvcGVydGllc1BhdGgiLCJzY3JpcHROYW1lIiwibGVzc29uUG9zaXRpb24iLCJmaW5kIiwiY3VycmVudExlc3NvbklkIiwicmVsYXRpdmVfcG9zaXRpb24iLCJsZXZlbHNGb3JMZXNzb25JZCIsImZpbmRJbmRleCIsImlzQ3VycmVudExldmVsIiwibGV2ZWxJZCIsImxldmVsV2l0aFByb2dyZXNzIiwiaXNMb2NrYWJsZSIsImxldmVsUmVzdWx0cyIsInVuaXRQcm9ncmVzcyIsImxldmVsUGFpcmluZyIsIm5vcm1hbGl6ZWRMZXZlbCIsInByb2Nlc3NlZExldmVsIiwiaWRzIiwiYmVzdFJlc3VsdExldmVsSWQiLCJsZXZlbElkcyIsInByb2dyZXNzRGF0YSIsImF0dGVtcHRlZElkcyIsImZpbHRlciIsImJlc3RJZCIsImJlc3RSZXN1bHQiLCJmb3JFYWNoIiwicmVzdWx0IiwidGVhY2hlckZlZWRiYWNrUmV2aWV3U3RhdGUiLCJsZXZlbFByb2dyZXNzIiwicGFnZXMiLCJwYWdlTnVtYmVyIiwia2luZCIsIkxldmVsS2luZCIsImFzc2Vzc21lbnQiLCJhY3Rpdml0eUNzc0NsYXNzIiwiaXNDdXJyZW50IiwicGFpcmVkIiwiYWN0aXZlSWQiLCJsZXZlbHNCeUxlc3NvbiIsInN0YXR1c0xldmVsIiwic3VibGV2ZWxzIiwic3VibGV2ZWwiLCJsZXNzb25JZCIsImN1cnJlbnRMZXZlbEluZGV4IiwibmV4dExldmVsSWQiLCJsZXZlbENvdW50IiwibGVzc29uRXh0cmFzVXJsIiwibGVzc29uRXh0cmFzRW5hYmxlZCIsImxlc3Nvbl9leHRyYXNfbGV2ZWxfdXJsIiwiaXNQZXJmZWN0IiwiVGVzdFJlc3VsdHMiLCJNSU5JTVVNX09QVElNQUxfUkVTVUxUIiwiaW5jbHVkZUJvbnVzTGV2ZWxzIiwiYnlHcm91cCIsImFsbExldmVscyIsImxlc3Nvbkdyb3VwcyIsImxlc3Nvbkdyb3VwIiwiZGlzcGxheV9uYW1lIiwidXNlckZhY2luZyIsInVzZXJfZmFjaW5nIiwiZGlzcGxheU5hbWUiLCJkZXNjcmlwdGlvbiIsImJpZ1F1ZXN0aW9ucyIsImJpZ19xdWVzdGlvbnMiLCJncm91cCIsImxlc3Nvbl9ncm91cF9kaXNwbGF5X25hbWUiLCJsZXNzb25BdEluZGV4IiwibGVzc29uTGV2ZWxzIiwiYm9udXMiLCJwdXNoIiwidmFsdWVzIiwicHJvZ3Jlc3Npb25zRnJvbUxldmVscyIsInByb2dyZXNzaW9ucyIsImN1cnJlbnRQcm9ncmVzc2lvbiIsInN0YXJ0IiwibmFtZSIsInByb2dyZXNzaW9uIiwicHJvZ3Jlc3Npb25EaXNwbGF5TmFtZSIsInNsaWNlIiwiX190ZXN0b25seV9fIiwiRm9udEF3ZXNvbWUiLCJpY29uIiwiY2xhc3NOYW1lIiwidGl0bGUiLCJwcm9wcyIsIm5ld1Byb3BzIiwiYXNzaWduIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic3RyaW5nIiwiaXNSZXF1aXJlZCIsImhhc093biIsImhhc093blByb3BlcnR5IiwiY2xhc3NOYW1lcyIsImNsYXNzZXMiLCJpIiwiYXJndW1lbnRzIiwiYXJnIiwiYXJnVHlwZSIsIkFycmF5IiwiaXNBcnJheSIsImlubmVyIiwiYXBwbHkiLCJwcm90b3R5cGUiLCJrZXkiLCJjYWxsIiwiam9pbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZWZhdWx0IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0aGlzIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjcmVhdGVUaHVua01pZGRsZXdhcmUiLCJleHRyYUFyZ3VtZW50IiwiX3JlZiIsImRpc3BhdGNoIiwiZ2V0U3RhdGUiLCJuZXh0IiwiYWN0aW9uIiwiX19lc01vZHVsZSIsInRodW5rIiwid2l0aEV4dHJhQXJndW1lbnQiLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnRCeVNlbGVjdG9yIiwiaW5zZXJ0Iiwic3R5bGUiLCJ0YXJnZXQiLCJnZXRUYXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJFcnJvciIsImFwcGVuZENoaWxkIiwiaW5zZXJ0U3R5bGVFbGVtZW50IiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsInNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyIsInN0eWxlRWxlbWVudCIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImNvbXBvbmVudCIsIlByb2dyZXNzRGV0YWlsVG9nZ2xlIiwiVGVtcGxhdGUiLCJhcmdzIiwiUHJvdmlkZXIiLCJzdG9yZSIsInNldElzU3VtbWFyeVZpZXciLCJpc1BsYyIsIlllc1N1bW1hcnlOb0dyb3VwcyIsImJpbmQiLCJpc1N1bW1hcnlWaWV3IiwiTm9TdW1tYXJ5Tm9Hcm91cHMiLCJZZXNTdW1tYXJ5WWVzR3JvdXBzIiwiTm9TdW1tYXJ5WWVzR3JvdXBzIl0sInNvdXJjZVJvb3QiOiIifQ==