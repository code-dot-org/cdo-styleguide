(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[6453],{"./src/code-studio/pd/workshop_dashboard/components/survey_results/choice_responses.jsx":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_lodash=_interopRequireDefault(__webpack_require__("./node_modules/lodash/lodash.js")),_reactBootstrap=__webpack_require__("./node_modules/react-bootstrap/es/index.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var ChoiceResponses=function(_React$Component){function ChoiceResponses(){return _React$Component.apply(this,arguments)||this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(ChoiceResponses,_React$Component);var _proto=ChoiceResponses.prototype;return _proto.getTotalRespondents=function getTotalRespondents(){return this.props.perFacilitator?Object.values(this.props.answers).reduce((function(sum,answers){return sum+Object.values(answers).reduce((function(subSum,x){return subSum+x}),0)}),0):void 0!==this.props.numRespondents?this.props.numRespondents:Object.values(this.props.answers).reduce((function(sum,x){return sum+x}),0)},_proto.getAnswerIndex=function getAnswerIndex(possibleAnswer,i){return"selectValue"===this.props.answerType?i+1:"scale"===this.props.answerType?possibleAnswer.split(" ")[0]:possibleAnswer},_proto.formatPercentage=function formatPercentage(percentage){return percentage.toLocaleString("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2})},_proto.renderSingleAnswerCounts=function renderSingleAnswerCounts(){var _this=this;return this.props.possibleAnswers.map((function(possibleAnswer,i){var count=_this.props.answers[_this.getAnswerIndex(possibleAnswer,i)]||0;return _react.default.createElement("tr",{key:i},_react.default.createElement("td",null,_this.formatPercentage(count/_this.getTotalRespondents())),_react.default.createElement("td",{style:{paddingLeft:"20px"}},count),_react.default.createElement("td",{style:{paddingLeft:"20px"}},_this.getPossibleAnswerText(possibleAnswer)))}))},_proto.getPossibleAnswerText=function getPossibleAnswerText(possibleAnswer){var possibleAnswersMap=this.props.possibleAnswersMap;return possibleAnswersMap&&possibleAnswersMap[possibleAnswer]?possibleAnswersMap[possibleAnswer]:possibleAnswer},_proto.renderPerFacilitatorAnswerCounts=function renderPerFacilitatorAnswerCounts(){var _this2=this,facilitatorNames=Object.keys(this.props.answers),showTotalCount=facilitatorNames.length>1,totalCountsPerFacilitator=facilitatorNames.map((function(name){return Object.values(_this2.props.answers[name]).reduce((function(sum,count){return sum+count}),0)})),facilitators=this.props.facilitators,headerRow=_react.default.createElement("tr",{key:"header"},_react.default.createElement("td",null),facilitatorNames.map((function(name,i){return _react.default.createElement("td",{colSpan:2,style:{paddingLeft:"20px"},key:i},facilitators&&facilitators[name]||name)})),showTotalCount&&_react.default.createElement("td",{colSpan:2,style:{paddingLeft:"20px"}},"Total Responses")),contentRows=this.props.possibleAnswers.map((function(possibleAnswer,i){var countsByFacilitator=facilitatorNames.map((function(name){return _this2.props.answers[name][_this2.getAnswerIndex(possibleAnswer,i)]||0})),totalCount=countsByFacilitator.reduce((function(sum,count){return sum+count}),0);return _react.default.createElement("tr",{key:i},_react.default.createElement("td",null,_this2.getPossibleAnswerText(possibleAnswer)),countsByFacilitator.map((function(count,j){return[_react.default.createElement("td",{style:{paddingLeft:"20px"},key:"".concat(j,".count")},count),_react.default.createElement("td",{style:{paddingLeft:"4px"},key:"".concat(j,".percentage")},"(".concat(_this2.formatPercentage(count/totalCountsPerFacilitator[j]),")"))]})),showTotalCount&&_react.default.createElement("td",{style:{paddingLeft:"20px"}},totalCount),showTotalCount&&_react.default.createElement("td",{style:{paddingLeft:"4px"}},"(".concat(_this2.formatPercentage(totalCount/_this2.getTotalRespondents()),")")))}));return[headerRow].concat(contentRows)},_proto.render=function render(){var possibleAnswers="scale"===this.props.answerType?this.props.possibleAnswers.map((function(x){return x.split(" ")[0]})):this.props.possibleAnswers,otherAnswers=this.props.otherAnswers;if(!otherAnswers)if(this.props.perFacilitator){var givenAnswers=Object.values(this.props.answers).reduce((function(set,answers){var _Object$keys;return new Set((_Object$keys=Object.keys(answers)).concat.apply(_Object$keys,_toConsumableArray(set.values())))}),new Set);otherAnswers=_lodash.default.difference(givenAnswers,possibleAnswers)}else otherAnswers=_lodash.default.difference(Object.keys(this.props.answers),possibleAnswers);return _react.default.createElement(_reactBootstrap.Panel,null,_react.default.createElement(_reactBootstrap.Panel.Body,null,this.props.question,_react.default.createElement("table",{style:{marginTop:"1em"}},_react.default.createElement("tbody",null,this.props.perFacilitator?this.renderPerFacilitatorAnswerCounts():this.renderSingleAnswerCounts(),this.props.otherText&&_react.default.createElement("tr",null,_react.default.createElement("td",null,this.formatPercentage(otherAnswers.length/this.getTotalRespondents())),_react.default.createElement("td",{style:{paddingLeft:"20px"}},otherAnswers.length),_react.default.createElement("td",{style:{paddingLeft:"20px"}},this.props.otherText)))),this.props.otherText&&otherAnswers.length>0&&_react.default.createElement("div",null,_react.default.createElement("br",null),this.props.otherText,_react.default.createElement("ul",null,_lodash.default.compact(otherAnswers).map((function(answer,i){return _react.default.createElement("li",{key:i},answer)}))))))},ChoiceResponses}(_react.default.Component);exports.default=ChoiceResponses,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(ChoiceResponses,"propTypes",{question:_propTypes.default.string.isRequired,answers:_propTypes.default.object.isRequired,perFacilitator:_propTypes.default.bool,numRespondents:_propTypes.default.number,answerType:_propTypes.default.string.isRequired,possibleAnswers:_propTypes.default.array.isRequired,possibleAnswersMap:_propTypes.default.object,otherText:_propTypes.default.string,otherAnswers:_propTypes.default.array,facilitators:_propTypes.default.object}),module.exports=exports.default},"./node_modules/prop-types/factoryWithThrowingShims.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ReactPropTypesSecret=__webpack_require__("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function emptyFunction(){}module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return ReactPropTypes.checkPropTypes=emptyFunction,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},"./node_modules/prop-types/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":module=>{"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./src/code-studio/pd/workshop_dashboard/components/survey_results/choice_responses.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ScaleRatingsPerFacilitator=exports.ScaleRatings=exports.ChoiceSelectValueResponsePerFacilitator=exports.ChoiceSelectValueResponse=exports.ChoiceResponsesWithoutOtherPerFacilitator=exports.ChoiceResponsesWithoutOther=exports.ChoiceResponsesWithOthersPerFacilitator=exports.ChoiceResponsesWithOthers=exports.ChoiceResponsesForOnlyOneFacilitator=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_choice_responses=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/workshop_dashboard/components/survey_results/choice_responses.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={component:_choice_responses.default};exports.default=_default;var Template=function Template(args){return _react.default.createElement(_choice_responses.default,args)},ChoiceResponsesWithoutOther=Template.bind({});exports.ChoiceResponsesWithoutOther=ChoiceResponsesWithoutOther,ChoiceResponsesWithoutOther.args={name:"Choice responses without other",question:"What is your favorite pizza topping?",answers:{Peppers:4,Onions:13,Mushrooms:2,Olives:2,Sausage:3},possibleAnswers:["Peppers","Onions","Mushrooms","Sausage","Olives","Pineapples"],answerType:"selectText"};var ChoiceResponsesWithOthers=Template.bind({});exports.ChoiceResponsesWithOthers=ChoiceResponsesWithOthers,ChoiceResponsesWithOthers.args={name:"Choice responses with others",question:"What is your favorite pizza topping? Please provide the topping if it is not listed here",answers:{Peppers:4,Onions:13,Mushrooms:2,Olives:2,Sausage:3,Corn:1,"Anything but pineapples lol":1,"Kalamata Olives specifically":1},possibleAnswers:["Peppers","Onions","Mushrooms","Sausage","Olives","Pineapples"],otherText:"Other toppings",answerType:"selectText"};var ChoiceSelectValueResponse=Template.bind({});exports.ChoiceSelectValueResponse=ChoiceSelectValueResponse,ChoiceSelectValueResponse.args={name:"Choice selectValue response",question:"What do you think about pineapples on pizza?",answers:{1:10,2:5,3:1,4:0,5:0},answerType:"selectValue",possibleAnswers:["Abhorrent","Not good","Ambivalent","Good","Delicious"]};var ScaleRatings=Template.bind({});exports.ScaleRatings=ScaleRatings,ScaleRatings.args={name:"Scale ratings",question:"How do you feel about deep dish?",answers:{1:1,4:5,5:10},answerType:"scale",possibleAnswers:["1 - I hate it","2","3","4","5 - I love it"]};var ChoiceResponsesForOnlyOneFacilitator=Template.bind({});exports.ChoiceResponsesForOnlyOneFacilitator=ChoiceResponsesForOnlyOneFacilitator,ChoiceResponsesForOnlyOneFacilitator.args={name:"Choice responses for only one facilitator",question:"What is your favorite pizza topping?",perFacilitator:!0,answers:{Tom:{Peppers:4,Mushrooms:2,Olives:2,Sausage:3}},possibleAnswers:["Peppers","Onions","Mushrooms","Sausage","Olives","Pineapples"],answerType:"selectText"};var ChoiceResponsesWithoutOtherPerFacilitator=Template.bind({});exports.ChoiceResponsesWithoutOtherPerFacilitator=ChoiceResponsesWithoutOtherPerFacilitator,ChoiceResponsesWithoutOtherPerFacilitator.args={name:"Choice responses without other per facilitator",question:"What is your favorite pizza topping?",perFacilitator:!0,answers:{Tom:{Peppers:4,Mushrooms:2,Olives:2,Sausage:3},Dick:{Peppers:4,Onions:13,Sausage:3},Harry:{Pineapples:5,Onions:5}},possibleAnswers:["Peppers","Onions","Mushrooms","Sausage","Olives","Pineapples"],answerType:"selectText"};var ChoiceResponsesWithOthersPerFacilitator=Template.bind({});exports.ChoiceResponsesWithOthersPerFacilitator=ChoiceResponsesWithOthersPerFacilitator,ChoiceResponsesWithOthersPerFacilitator.args={name:"Choice responses with others",question:"What is your favorite pizza topping? Please provide the topping if it is not listed here",perFacilitator:!0,answers:{Tom:{Peppers:4,Onions:13,Mushrooms:2,Olives:2,Sausage:3,Corn:1,"Anything but pineapples lol":1,"Kalamata Olives specifically":1},Dick:{"Pepperoni and literally nothing else":1},Harry:{Peppers:16,Onions:17,Mushrooms:8,Sausage:16,Olives:12,Pineapples:14}},possibleAnswers:["Peppers","Onions","Mushrooms","Sausage","Olives","Pineapples"],otherText:"Other toppings",answerType:"selectText"};var ChoiceSelectValueResponsePerFacilitator=Template.bind({});exports.ChoiceSelectValueResponsePerFacilitator=ChoiceSelectValueResponsePerFacilitator,ChoiceSelectValueResponsePerFacilitator.args={name:"Choice selectValue response",question:"What do you think about pineapples on pizza?",perFacilitator:!0,answers:{Tom:{1:10,2:5,3:1},Dick:{3:1,4:5,5:10},Harry:{1:1,2:1,3:1,4:1,5:1}},answerType:"selectValue",possibleAnswers:["Abhorrent","Not good","Ambivalent","Good","Delicious"]};var ScaleRatingsPerFacilitator=Template.bind({});exports.ScaleRatingsPerFacilitator=ScaleRatingsPerFacilitator,ScaleRatingsPerFacilitator.args={name:"Scale ratings",question:"How do you feel about deep dish?",perFacilitator:!0,answers:{Tom:{1:10,2:5,3:1},Dick:{3:1,4:5,5:10},Harry:{1:1,3:1,5:1}},answerType:"scale",possibleAnswers:["1 - I hate it","2","3","4","5 - I love it"]}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZS1zdHVkaW8tcGQtd29ya3Nob3BfZGFzaGJvYXJkLWNvbXBvbmVudHMtc3VydmV5X3Jlc3VsdHMtY2hvaWNlX3Jlc3BvbnNlcy1zdG9yeS5iNjc2ZTgyMy5pZnJhbWUuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiIyU0FBQSxpR0FDQSxvRkFDQSx1RkFDQSxrRixndkNBS3FCQSxnQkFBQUEsU0FBQUEsa0IsdVZBY25CQyxvQkFBQSxTQUFBQSxzQkFDRSxPQUFJQyxLQUFLQyxNQUFNQyxlQUNOQyxPQUFPQyxPQUFPSixLQUFLQyxNQUFNSSxTQUFTQyxRQUFPLFNBQUNDLElBQUtGLFNBQ3BELE9BQ0VFLElBQU1KLE9BQU9DLE9BQU9DLFNBQVNDLFFBQU8sU0FBQ0UsT0FBUUMsR0FBVCxPQUFlRCxPQUFTQyxDQUF4QixHQUEyQixFQUVsRSxHQUFFLFFBRStCQyxJQUE5QlYsS0FBS0MsTUFBTVUsZUFNTlgsS0FBS0MsTUFBTVUsZUFTWFIsT0FBT0MsT0FBT0osS0FBS0MsTUFBTUksU0FBU0MsUUFBTyxTQUFDQyxJQUFLRSxHQUFOLE9BQVlGLElBQU1FLENBQWxCLEdBQXFCLEVBRzFFLEUsT0FFREcsZUFBQSxTQUFBQSxlQUFlQyxlQUFnQkMsR0FDN0IsTUFBOEIsZ0JBQTFCZCxLQUFLQyxNQUFNYyxXQUlORCxFQUFJLEVBQ3dCLFVBQTFCZCxLQUFLQyxNQUFNYyxXQUNiRixlQUFlRyxNQUFNLEtBQUssR0FFMUJILGNBRVYsRSxPQUVESSxpQkFBQSxTQUFBQSxpQkFBaUJDLFlBQ2YsT0FBT0EsV0FBV0MsZUFBZSxRQUFTLENBQ3hDQyxNQUFPLFVBQ1BDLHNCQUF1QixFQUN2QkMsc0JBQXVCLEdBRTFCLEUsT0FFREMseUJBQUEsU0FBQUEsMkJBQTJCLGVBQ3pCLE9BQU92QixLQUFLQyxNQUFNdUIsZ0JBQWdCQyxLQUFJLFNBQUNaLGVBQWdCQyxHQUNyRCxJQUFJWSxNQUNGLE1BQUt6QixNQUFNSSxRQUFRLE1BQUtPLGVBQWVDLGVBQWdCQyxLQUFPLEVBRWhFLE9BQ0Us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RUxDLE1BQU8sQ0FDTCxFQUFHLEVBQ0gsRUFBRyxFQUNILEVBQUcsRUFDSCxFQUFHLEVBQ0gsRUFBRyxJQUdQbkcsV0FBWSxjQUNaUyxnQkFBaUIsQ0FBQyxZQUFhLFdBQVksYUFBYyxPQUFRLGNBRzVELElBQU04RiwyQkFBNkJyQixTQUFTRyxLQUFLLENBQUMsRyw4REFDekRrQiwyQkFBMkJwQixLQUFPLENBQ2hDN0QsS0FBTSxnQkFDTmtCLFNBQVUsbUNBQ1ZyRCxnQkFBZ0IsRUFDaEJHLFFBQVMsQ0FDUDBHLElBQUssQ0FDSCxFQUFHLEdBQ0gsRUFBRyxFQUNILEVBQUcsR0FFTEUsS0FBTSxDQUNKLEVBQUcsRUFDSCxFQUFHLEVBQ0gsRUFBRyxJQUVMQyxNQUFPLENBQ0wsRUFBRyxFQUNILEVBQUcsRUFDSCxFQUFHLElBR1BuRyxXQUFZLFFBQ1pTLGdCQUFpQixDQUFDLGdCQUFpQixJQUFLLElBQUssSUFBSyxpQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9jb2RlLXN0dWRpby9wZC93b3Jrc2hvcF9kYXNoYm9hcmQvY29tcG9uZW50cy9zdXJ2ZXlfcmVzdWx0cy9jaG9pY2VfcmVzcG9uc2VzLmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9jb2RlLXN0dWRpby9wZC93b3Jrc2hvcF9kYXNoYm9hcmQvY29tcG9uZW50cy9zdXJ2ZXlfcmVzdWx0cy9jaG9pY2VfcmVzcG9uc2VzLnN0b3J5LmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQge1BhbmVsfSBmcm9tICdyZWFjdC1ib290c3RyYXAnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtaW1wb3J0c1xuXG4vLyBUaGlzIGNvbXBvbmVudCByZW5kZXJzIGEgc3VydmV5IGFuc3dlciBmb3IgYW5zd2VyX3R5cGUgb2YgJ3NjYWxlJyxcbi8vICdzaW5nbGVTZWxlY3QnLCBvciAnbXVsdGlTZWxlY3QnLlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaG9pY2VSZXNwb25zZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHF1ZXN0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgYW5zd2VyczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHBlckZhY2lsaXRhdG9yOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBudW1SZXNwb25kZW50czogUHJvcFR5cGVzLm51bWJlcixcbiAgICBhbnN3ZXJUeXBlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgcG9zc2libGVBbnN3ZXJzOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCxcbiAgICBwb3NzaWJsZUFuc3dlcnNNYXA6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgb3RoZXJUZXh0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIG90aGVyQW5zd2VyczogUHJvcFR5cGVzLmFycmF5LFxuICAgIGZhY2lsaXRhdG9yczogUHJvcFR5cGVzLm9iamVjdCxcbiAgfTtcblxuICBnZXRUb3RhbFJlc3BvbmRlbnRzKCkge1xuICAgIGlmICh0aGlzLnByb3BzLnBlckZhY2lsaXRhdG9yKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyh0aGlzLnByb3BzLmFuc3dlcnMpLnJlZHVjZSgoc3VtLCBhbnN3ZXJzKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgc3VtICsgT2JqZWN0LnZhbHVlcyhhbnN3ZXJzKS5yZWR1Y2UoKHN1YlN1bSwgeCkgPT4gc3ViU3VtICsgeCwgMClcbiAgICAgICAgKTtcbiAgICAgIH0sIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5udW1SZXNwb25kZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIE11bHRpLXNlbGVjdCBxdWVzdGlvbnMgd2lsbCB0ZWxsIHVzIGhvdyBtYW55IHJlc3BvbmRlbnRzIHRoZXJlIHdlcmUsXG4gICAgICAgIC8vIHNvIHRoYXQgd2UgY2FuIGNvcnJlY3RseSBzaG93IHRoZSBwZXJjZW50YWdlIG9mIHJlc3BvbmRlbnRzIHdob1xuICAgICAgICAvLyBnYXZlIGEgY2VydGFpbiBhbnN3ZXIuICAoVGhlIGRlZmF1bHQgdGVjaG5pcXVlIG9mIGNvdW50aW5nIHRoZSBudW1iZXJcbiAgICAgICAgLy8gb2YgYW5zd2VycyBkb2Vzbid0IHdvcmsgd2hlbiBhIHNpbmdsZSByZXNwb25kZW50IGNhbiBjaG9vc2UgbXVsdGlwbGVcbiAgICAgICAgLy8gYW5zd2VycywgdGhvdWdoIGl0IGNvbnRpbnVlcyB0byB3b3JrIGZvciBzaW5nbGUtc2VsZWN0IHF1ZXN0aW9ucy4pXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLm51bVJlc3BvbmRlbnRzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhlcmUgYXJlIHN0aWxsIG11bHRpcGxlIHBhdGhzIHRocm91Z2ggc3VtbWFyaXplX3dvcmtzaG9wX3N1cnZleXMgb25cbiAgICAgICAgLy8gdGhlIHNlcnZlciB3aGljaCByZXR1cm4gcmVzdWx0cyB3aXRob3V0IHRlbGxpbmcgdXMgaG93IG1hbnlcbiAgICAgICAgLy8gcmVzcG9uZGVudHMgdGhlcmUgd2VyZSwgYW5kIHNvIHdlIG1haW50YWluIHRoaXMgYmVoYXZpb3IgZm9yXG4gICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LiAgVGhpcyB0ZWNobmlxdWUgY291bnRzIHRoZSBudW1iZXIgb2YgYW5zd2Vyc1xuICAgICAgICAvLyBwcm92aWRlZCwgYnV0IGZvciBub24tbXVsdGlTZWxlY3QgcXVlc3Rpb25zIHRoaXMgd29ya3Mgb3V0IHRoZSBzYW1lXG4gICAgICAgIC8vIGFzIHRoZSBudW1iZXIgb2YgcmVzcG9uZGVudHMgdG8gYSBxdWVzdGlvbiwgc2luY2UgdGhlcmUgY2FuIG9ubHkgYmVcbiAgICAgICAgLy8gb25lIHJlc3BvbnNlIGdpdmVuIHBlciBxdWVzdGlvbi5cbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5wcm9wcy5hbnN3ZXJzKS5yZWR1Y2UoKHN1bSwgeCkgPT4gc3VtICsgeCwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0QW5zd2VySW5kZXgocG9zc2libGVBbnN3ZXIsIGkpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5hbnN3ZXJUeXBlID09PSAnc2VsZWN0VmFsdWUnKSB7XG4gICAgICAvLyBGb3Igc2VsZWN0VmFsdWUgcXVlc3Rpb25zLCB0aGUgdmFsdWUgaXMgbm90IHRoZSB0ZXh0IG9mIHRoZSByZXNwb25zZVxuICAgICAgLy8gYnV0IGEgbnVtZXJpYyB2YWx1ZSBpbiBzb21lIHJhbmdlLiBUaGUgaGFzaCBjb250YWlucyBhIG1hcCBvZiB0aGVcbiAgICAgIC8vIG51bWVyaWMgdmFsdWVzIHRvIGNvdW50cywgbm90IHRleHRzIHRvIGNvdW50cy5cbiAgICAgIHJldHVybiBpICsgMTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuYW5zd2VyVHlwZSA9PT0gJ3NjYWxlJykge1xuICAgICAgcmV0dXJuIHBvc3NpYmxlQW5zd2VyLnNwbGl0KCcgJylbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwb3NzaWJsZUFuc3dlcjtcbiAgICB9XG4gIH1cblxuICBmb3JtYXRQZXJjZW50YWdlKHBlcmNlbnRhZ2UpIHtcbiAgICByZXR1cm4gcGVyY2VudGFnZS50b0xvY2FsZVN0cmluZygnZW4tVVMnLCB7XG4gICAgICBzdHlsZTogJ3BlcmNlbnQnLFxuICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAyLFxuICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyLFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyU2luZ2xlQW5zd2VyQ291bnRzKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnBvc3NpYmxlQW5zd2Vycy5tYXAoKHBvc3NpYmxlQW5zd2VyLCBpKSA9PiB7XG4gICAgICBsZXQgY291bnQgPVxuICAgICAgICB0aGlzLnByb3BzLmFuc3dlcnNbdGhpcy5nZXRBbnN3ZXJJbmRleChwb3NzaWJsZUFuc3dlciwgaSldIHx8IDA7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDx0ciBrZXk9e2l9PlxuICAgICAgICAgIDx0ZD57dGhpcy5mb3JtYXRQZXJjZW50YWdlKGNvdW50IC8gdGhpcy5nZXRUb3RhbFJlc3BvbmRlbnRzKCkpfTwvdGQ+XG4gICAgICAgICAgPHRkIHN0eWxlPXt7cGFkZGluZ0xlZnQ6ICcyMHB4J319Pntjb3VudH08L3RkPlxuICAgICAgICAgIDx0ZCBzdHlsZT17e3BhZGRpbmdMZWZ0OiAnMjBweCd9fT5cbiAgICAgICAgICAgIHt0aGlzLmdldFBvc3NpYmxlQW5zd2VyVGV4dChwb3NzaWJsZUFuc3dlcil9XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRQb3NzaWJsZUFuc3dlclRleHQocG9zc2libGVBbnN3ZXIpIHtcbiAgICBjb25zdCB7cG9zc2libGVBbnN3ZXJzTWFwfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHBvc3NpYmxlQW5zd2Vyc01hcCAmJiBwb3NzaWJsZUFuc3dlcnNNYXBbcG9zc2libGVBbnN3ZXJdKSB7XG4gICAgICByZXR1cm4gcG9zc2libGVBbnN3ZXJzTWFwW3Bvc3NpYmxlQW5zd2VyXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHBvc3NpYmxlQW5zd2VyO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlclBlckZhY2lsaXRhdG9yQW5zd2VyQ291bnRzKCkge1xuICAgIGNvbnN0IGZhY2lsaXRhdG9yTmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnByb3BzLmFuc3dlcnMpO1xuICAgIGNvbnN0IHNob3dUb3RhbENvdW50ID0gZmFjaWxpdGF0b3JOYW1lcy5sZW5ndGggPiAxO1xuICAgIGNvbnN0IHRvdGFsQ291bnRzUGVyRmFjaWxpdGF0b3IgPSBmYWNpbGl0YXRvck5hbWVzLm1hcChuYW1lID0+IHtcbiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMucHJvcHMuYW5zd2Vyc1tuYW1lXSkucmVkdWNlKFxuICAgICAgICAoc3VtLCBjb3VudCkgPT4gc3VtICsgY291bnQsXG4gICAgICAgIDBcbiAgICAgICk7XG4gICAgfSk7XG4gICAgY29uc3Qge2ZhY2lsaXRhdG9yc30gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgaGVhZGVyUm93ID0gKFxuICAgICAgPHRyIGtleT1cImhlYWRlclwiPlxuICAgICAgICA8dGQgLz5cbiAgICAgICAge2ZhY2lsaXRhdG9yTmFtZXMubWFwKChuYW1lLCBpKSA9PiAoXG4gICAgICAgICAgPHRkIGNvbFNwYW49ezJ9IHN0eWxlPXt7cGFkZGluZ0xlZnQ6ICcyMHB4J319IGtleT17aX0+XG4gICAgICAgICAgICB7KGZhY2lsaXRhdG9ycyAmJiBmYWNpbGl0YXRvcnNbbmFtZV0pIHx8IG5hbWV9XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgKSl9XG4gICAgICAgIHtzaG93VG90YWxDb3VudCAmJiAoXG4gICAgICAgICAgPHRkIGNvbFNwYW49ezJ9IHN0eWxlPXt7cGFkZGluZ0xlZnQ6ICcyMHB4J319PlxuICAgICAgICAgICAgVG90YWwgUmVzcG9uc2VzXG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgKX1cbiAgICAgIDwvdHI+XG4gICAgKTtcblxuICAgIGNvbnN0IGNvbnRlbnRSb3dzID0gdGhpcy5wcm9wcy5wb3NzaWJsZUFuc3dlcnMubWFwKChwb3NzaWJsZUFuc3dlciwgaSkgPT4ge1xuICAgICAgY29uc3QgY291bnRzQnlGYWNpbGl0YXRvciA9IGZhY2lsaXRhdG9yTmFtZXMubWFwKG5hbWUgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHRoaXMucHJvcHMuYW5zd2Vyc1tuYW1lXVt0aGlzLmdldEFuc3dlckluZGV4KHBvc3NpYmxlQW5zd2VyLCBpKV0gfHwgMFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICBjb25zdCB0b3RhbENvdW50ID0gY291bnRzQnlGYWNpbGl0YXRvci5yZWR1Y2UoXG4gICAgICAgIChzdW0sIGNvdW50KSA9PiBzdW0gKyBjb3VudCxcbiAgICAgICAgMFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPHRyIGtleT17aX0+XG4gICAgICAgICAgPHRkPnt0aGlzLmdldFBvc3NpYmxlQW5zd2VyVGV4dChwb3NzaWJsZUFuc3dlcil9PC90ZD5cbiAgICAgICAgICB7Y291bnRzQnlGYWNpbGl0YXRvci5tYXAoKGNvdW50LCBqKSA9PiBbXG4gICAgICAgICAgICA8dGQgc3R5bGU9e3twYWRkaW5nTGVmdDogJzIwcHgnfX0ga2V5PXtgJHtqfS5jb3VudGB9PlxuICAgICAgICAgICAgICB7Y291bnR9XG4gICAgICAgICAgICA8L3RkPixcbiAgICAgICAgICAgIDx0ZCBzdHlsZT17e3BhZGRpbmdMZWZ0OiAnNHB4J319IGtleT17YCR7an0ucGVyY2VudGFnZWB9PlxuICAgICAgICAgICAgICB7YCgke3RoaXMuZm9ybWF0UGVyY2VudGFnZShcbiAgICAgICAgICAgICAgICBjb3VudCAvIHRvdGFsQ291bnRzUGVyRmFjaWxpdGF0b3Jbal1cbiAgICAgICAgICAgICAgKX0pYH1cbiAgICAgICAgICAgIDwvdGQ+LFxuICAgICAgICAgIF0pfVxuICAgICAgICAgIHtzaG93VG90YWxDb3VudCAmJiAoXG4gICAgICAgICAgICA8dGQgc3R5bGU9e3twYWRkaW5nTGVmdDogJzIwcHgnfX0+e3RvdGFsQ291bnR9PC90ZD5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtzaG93VG90YWxDb3VudCAmJiAoXG4gICAgICAgICAgICA8dGQgc3R5bGU9e3twYWRkaW5nTGVmdDogJzRweCd9fT5cbiAgICAgICAgICAgICAge2AoJHt0aGlzLmZvcm1hdFBlcmNlbnRhZ2UoXG4gICAgICAgICAgICAgICAgdG90YWxDb3VudCAvIHRoaXMuZ2V0VG90YWxSZXNwb25kZW50cygpXG4gICAgICAgICAgICAgICl9KWB9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvdHI+XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIFtoZWFkZXJSb3ddLmNvbmNhdChjb250ZW50Um93cyk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgLy8gVGhlIHNwbGl0IGlzIG5lZWRlZCBmb3Igc2NhbGUgcXVlc3Rpb25zLiBUaGUgdG9wIGFuZCBib3R0b20gcmVzcG9uc2VzIGhhdmUgdGV4dFxuICAgIC8vIGxpa2UgXCIxIC0gbm90IHJlYWR5IC8gNSAtIHZlcnkgcmVhZHlcIiBhbmQgd2UgbmVlZCB0byBleHRyYWN0IHRoZSBudW1iZXJcbiAgICBsZXQgcG9zc2libGVBbnN3ZXJzID1cbiAgICAgIHRoaXMucHJvcHMuYW5zd2VyVHlwZSA9PT0gJ3NjYWxlJ1xuICAgICAgICA/IHRoaXMucHJvcHMucG9zc2libGVBbnN3ZXJzLm1hcCh4ID0+IHguc3BsaXQoJyAnKVswXSlcbiAgICAgICAgOiB0aGlzLnByb3BzLnBvc3NpYmxlQW5zd2VycztcbiAgICBsZXQgb3RoZXJBbnN3ZXJzID0gdGhpcy5wcm9wcy5vdGhlckFuc3dlcnM7XG4gICAgaWYgKCFvdGhlckFuc3dlcnMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLnBlckZhY2lsaXRhdG9yKSB7XG4gICAgICAgIGxldCBnaXZlbkFuc3dlcnMgPSBPYmplY3QudmFsdWVzKHRoaXMucHJvcHMuYW5zd2VycykucmVkdWNlKFxuICAgICAgICAgIChzZXQsIGFuc3dlcnMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2V0KE9iamVjdC5rZXlzKGFuc3dlcnMpLmNvbmNhdCguLi5zZXQudmFsdWVzKCkpKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG5ldyBTZXQoKVxuICAgICAgICApO1xuICAgICAgICBvdGhlckFuc3dlcnMgPSBfLmRpZmZlcmVuY2UoZ2l2ZW5BbnN3ZXJzLCBwb3NzaWJsZUFuc3dlcnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3RoZXJBbnN3ZXJzID0gXy5kaWZmZXJlbmNlKFxuICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMucHJvcHMuYW5zd2VycyksXG4gICAgICAgICAgcG9zc2libGVBbnN3ZXJzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQYW5lbD5cbiAgICAgICAgPFBhbmVsLkJvZHk+XG4gICAgICAgICAge3RoaXMucHJvcHMucXVlc3Rpb259XG4gICAgICAgICAgPHRhYmxlIHN0eWxlPXt7bWFyZ2luVG9wOiAnMWVtJ319PlxuICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5wZXJGYWNpbGl0YXRvclxuICAgICAgICAgICAgICAgID8gdGhpcy5yZW5kZXJQZXJGYWNpbGl0YXRvckFuc3dlckNvdW50cygpXG4gICAgICAgICAgICAgICAgOiB0aGlzLnJlbmRlclNpbmdsZUFuc3dlckNvdW50cygpfVxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5vdGhlclRleHQgJiYgKFxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZm9ybWF0UGVyY2VudGFnZShcbiAgICAgICAgICAgICAgICAgICAgICBvdGhlckFuc3dlcnMubGVuZ3RoIC8gdGhpcy5nZXRUb3RhbFJlc3BvbmRlbnRzKClcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3twYWRkaW5nTGVmdDogJzIwcHgnfX0+e290aGVyQW5zd2Vycy5sZW5ndGh9PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17e3BhZGRpbmdMZWZ0OiAnMjBweCd9fT57dGhpcy5wcm9wcy5vdGhlclRleHR9PC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgIHt0aGlzLnByb3BzLm90aGVyVGV4dCAmJiBvdGhlckFuc3dlcnMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMub3RoZXJUZXh0fVxuICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAge18uY29tcGFjdChvdGhlckFuc3dlcnMpLm1hcCgoYW5zd2VyLCBpKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8bGkga2V5PXtpfT57YW5zd2VyfTwvbGk+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L1BhbmVsLkJvZHk+XG4gICAgICA8L1BhbmVsPlxuICAgICk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuXG5mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge31cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgIGlmIChzZWNyZXQgPT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICApO1xuICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIHRocm93IGVycjtcbiAgfTtcbiAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcbiAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcbiAgICByZXR1cm4gc2hpbTtcbiAgfTtcbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBzaGltLFxuICAgIGJvb2w6IHNoaW0sXG4gICAgZnVuYzogc2hpbSxcbiAgICBudW1iZXI6IHNoaW0sXG4gICAgb2JqZWN0OiBzaGltLFxuICAgIHN0cmluZzogc2hpbSxcbiAgICBzeW1ib2w6IHNoaW0sXG5cbiAgICBhbnk6IHNoaW0sXG4gICAgYXJyYXlPZjogZ2V0U2hpbSxcbiAgICBlbGVtZW50OiBzaGltLFxuICAgIGluc3RhbmNlT2Y6IGdldFNoaW0sXG4gICAgbm9kZTogc2hpbSxcbiAgICBvYmplY3RPZjogZ2V0U2hpbSxcbiAgICBvbmVPZjogZ2V0U2hpbSxcbiAgICBvbmVPZlR5cGU6IGdldFNoaW0sXG4gICAgc2hhcGU6IGdldFNoaW0sXG4gICAgZXhhY3Q6IGdldFNoaW1cbiAgfTtcblxuICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGVtcHR5RnVuY3Rpb247XG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIFN5bWJvbC5mb3IgJiZcbiAgICBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG4gICAgMHhlYWM3O1xuXG4gIHZhciBpc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgb2JqZWN0ICE9PSBudWxsICYmXG4gICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgfTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ2hvaWNlUmVzcG9uc2VzIGZyb20gJy4vY2hvaWNlX3Jlc3BvbnNlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29tcG9uZW50OiBDaG9pY2VSZXNwb25zZXMsXG59O1xuXG5jb25zdCBUZW1wbGF0ZSA9IGFyZ3MgPT4gPENob2ljZVJlc3BvbnNlcyB7Li4uYXJnc30gLz47XG5cbmV4cG9ydCBjb25zdCBDaG9pY2VSZXNwb25zZXNXaXRob3V0T3RoZXIgPSBUZW1wbGF0ZS5iaW5kKHt9KTtcbkNob2ljZVJlc3BvbnNlc1dpdGhvdXRPdGhlci5hcmdzID0ge1xuICBuYW1lOiAnQ2hvaWNlIHJlc3BvbnNlcyB3aXRob3V0IG90aGVyJyxcbiAgcXVlc3Rpb246ICdXaGF0IGlzIHlvdXIgZmF2b3JpdGUgcGl6emEgdG9wcGluZz8nLFxuICBhbnN3ZXJzOiB7XG4gICAgUGVwcGVyczogNCxcbiAgICBPbmlvbnM6IDEzLFxuICAgIE11c2hyb29tczogMixcbiAgICBPbGl2ZXM6IDIsXG4gICAgU2F1c2FnZTogMyxcbiAgfSxcbiAgcG9zc2libGVBbnN3ZXJzOiBbXG4gICAgJ1BlcHBlcnMnLFxuICAgICdPbmlvbnMnLFxuICAgICdNdXNocm9vbXMnLFxuICAgICdTYXVzYWdlJyxcbiAgICAnT2xpdmVzJyxcbiAgICAnUGluZWFwcGxlcycsXG4gIF0sXG4gIGFuc3dlclR5cGU6ICdzZWxlY3RUZXh0Jyxcbn07XG5cbmV4cG9ydCBjb25zdCBDaG9pY2VSZXNwb25zZXNXaXRoT3RoZXJzID0gVGVtcGxhdGUuYmluZCh7fSk7XG5DaG9pY2VSZXNwb25zZXNXaXRoT3RoZXJzLmFyZ3MgPSB7XG4gIG5hbWU6ICdDaG9pY2UgcmVzcG9uc2VzIHdpdGggb3RoZXJzJyxcbiAgcXVlc3Rpb246XG4gICAgJ1doYXQgaXMgeW91ciBmYXZvcml0ZSBwaXp6YSB0b3BwaW5nPyBQbGVhc2UgcHJvdmlkZSB0aGUgdG9wcGluZyBpZiBpdCBpcyBub3QgbGlzdGVkIGhlcmUnLFxuICBhbnN3ZXJzOiB7XG4gICAgUGVwcGVyczogNCxcbiAgICBPbmlvbnM6IDEzLFxuICAgIE11c2hyb29tczogMixcbiAgICBPbGl2ZXM6IDIsXG4gICAgU2F1c2FnZTogMyxcbiAgICBDb3JuOiAxLFxuICAgICdBbnl0aGluZyBidXQgcGluZWFwcGxlcyBsb2wnOiAxLFxuICAgICdLYWxhbWF0YSBPbGl2ZXMgc3BlY2lmaWNhbGx5JzogMSxcbiAgfSxcbiAgcG9zc2libGVBbnN3ZXJzOiBbXG4gICAgJ1BlcHBlcnMnLFxuICAgICdPbmlvbnMnLFxuICAgICdNdXNocm9vbXMnLFxuICAgICdTYXVzYWdlJyxcbiAgICAnT2xpdmVzJyxcbiAgICAnUGluZWFwcGxlcycsXG4gIF0sXG4gIG90aGVyVGV4dDogJ090aGVyIHRvcHBpbmdzJyxcbiAgYW5zd2VyVHlwZTogJ3NlbGVjdFRleHQnLFxufTtcblxuZXhwb3J0IGNvbnN0IENob2ljZVNlbGVjdFZhbHVlUmVzcG9uc2UgPSBUZW1wbGF0ZS5iaW5kKHt9KTtcbkNob2ljZVNlbGVjdFZhbHVlUmVzcG9uc2UuYXJncyA9IHtcbiAgbmFtZTogJ0Nob2ljZSBzZWxlY3RWYWx1ZSByZXNwb25zZScsXG4gIHF1ZXN0aW9uOiAnV2hhdCBkbyB5b3UgdGhpbmsgYWJvdXQgcGluZWFwcGxlcyBvbiBwaXp6YT8nLFxuICBhbnN3ZXJzOiB7XG4gICAgMTogMTAsXG4gICAgMjogNSxcbiAgICAzOiAxLFxuICAgIDQ6IDAsXG4gICAgNTogMCxcbiAgfSxcbiAgYW5zd2VyVHlwZTogJ3NlbGVjdFZhbHVlJyxcbiAgcG9zc2libGVBbnN3ZXJzOiBbJ0FiaG9ycmVudCcsICdOb3QgZ29vZCcsICdBbWJpdmFsZW50JywgJ0dvb2QnLCAnRGVsaWNpb3VzJ10sXG59O1xuXG5leHBvcnQgY29uc3QgU2NhbGVSYXRpbmdzID0gVGVtcGxhdGUuYmluZCh7fSk7XG5TY2FsZVJhdGluZ3MuYXJncyA9IHtcbiAgbmFtZTogJ1NjYWxlIHJhdGluZ3MnLFxuICBxdWVzdGlvbjogJ0hvdyBkbyB5b3UgZmVlbCBhYm91dCBkZWVwIGRpc2g/JyxcbiAgYW5zd2Vyczoge1xuICAgIDE6IDEsXG4gICAgNDogNSxcbiAgICA1OiAxMCxcbiAgfSxcbiAgYW5zd2VyVHlwZTogJ3NjYWxlJyxcbiAgcG9zc2libGVBbnN3ZXJzOiBbJzEgLSBJIGhhdGUgaXQnLCAnMicsICczJywgJzQnLCAnNSAtIEkgbG92ZSBpdCddLFxufTtcblxuZXhwb3J0IGNvbnN0IENob2ljZVJlc3BvbnNlc0Zvck9ubHlPbmVGYWNpbGl0YXRvciA9IFRlbXBsYXRlLmJpbmQoe30pO1xuQ2hvaWNlUmVzcG9uc2VzRm9yT25seU9uZUZhY2lsaXRhdG9yLmFyZ3MgPSB7XG4gIG5hbWU6ICdDaG9pY2UgcmVzcG9uc2VzIGZvciBvbmx5IG9uZSBmYWNpbGl0YXRvcicsXG4gIHF1ZXN0aW9uOiAnV2hhdCBpcyB5b3VyIGZhdm9yaXRlIHBpenphIHRvcHBpbmc/JyxcbiAgcGVyRmFjaWxpdGF0b3I6IHRydWUsXG4gIGFuc3dlcnM6IHtcbiAgICBUb206IHtcbiAgICAgIFBlcHBlcnM6IDQsXG4gICAgICBNdXNocm9vbXM6IDIsXG4gICAgICBPbGl2ZXM6IDIsXG4gICAgICBTYXVzYWdlOiAzLFxuICAgIH0sXG4gIH0sXG4gIHBvc3NpYmxlQW5zd2VyczogW1xuICAgICdQZXBwZXJzJyxcbiAgICAnT25pb25zJyxcbiAgICAnTXVzaHJvb21zJyxcbiAgICAnU2F1c2FnZScsXG4gICAgJ09saXZlcycsXG4gICAgJ1BpbmVhcHBsZXMnLFxuICBdLFxuICBhbnN3ZXJUeXBlOiAnc2VsZWN0VGV4dCcsXG59O1xuXG5leHBvcnQgY29uc3QgQ2hvaWNlUmVzcG9uc2VzV2l0aG91dE90aGVyUGVyRmFjaWxpdGF0b3IgPSBUZW1wbGF0ZS5iaW5kKHt9KTtcbkNob2ljZVJlc3BvbnNlc1dpdGhvdXRPdGhlclBlckZhY2lsaXRhdG9yLmFyZ3MgPSB7XG4gIG5hbWU6ICdDaG9pY2UgcmVzcG9uc2VzIHdpdGhvdXQgb3RoZXIgcGVyIGZhY2lsaXRhdG9yJyxcbiAgcXVlc3Rpb246ICdXaGF0IGlzIHlvdXIgZmF2b3JpdGUgcGl6emEgdG9wcGluZz8nLFxuICBwZXJGYWNpbGl0YXRvcjogdHJ1ZSxcbiAgYW5zd2Vyczoge1xuICAgIFRvbToge1xuICAgICAgUGVwcGVyczogNCxcbiAgICAgIE11c2hyb29tczogMixcbiAgICAgIE9saXZlczogMixcbiAgICAgIFNhdXNhZ2U6IDMsXG4gICAgfSxcbiAgICBEaWNrOiB7XG4gICAgICBQZXBwZXJzOiA0LFxuICAgICAgT25pb25zOiAxMyxcbiAgICAgIFNhdXNhZ2U6IDMsXG4gICAgfSxcbiAgICBIYXJyeToge1xuICAgICAgUGluZWFwcGxlczogNSxcbiAgICAgIE9uaW9uczogNSxcbiAgICB9LFxuICB9LFxuICBwb3NzaWJsZUFuc3dlcnM6IFtcbiAgICAnUGVwcGVycycsXG4gICAgJ09uaW9ucycsXG4gICAgJ011c2hyb29tcycsXG4gICAgJ1NhdXNhZ2UnLFxuICAgICdPbGl2ZXMnLFxuICAgICdQaW5lYXBwbGVzJyxcbiAgXSxcbiAgYW5zd2VyVHlwZTogJ3NlbGVjdFRleHQnLFxufTtcblxuZXhwb3J0IGNvbnN0IENob2ljZVJlc3BvbnNlc1dpdGhPdGhlcnNQZXJGYWNpbGl0YXRvciA9IFRlbXBsYXRlLmJpbmQoe30pO1xuQ2hvaWNlUmVzcG9uc2VzV2l0aE90aGVyc1BlckZhY2lsaXRhdG9yLmFyZ3MgPSB7XG4gIG5hbWU6ICdDaG9pY2UgcmVzcG9uc2VzIHdpdGggb3RoZXJzJyxcbiAgcXVlc3Rpb246XG4gICAgJ1doYXQgaXMgeW91ciBmYXZvcml0ZSBwaXp6YSB0b3BwaW5nPyBQbGVhc2UgcHJvdmlkZSB0aGUgdG9wcGluZyBpZiBpdCBpcyBub3QgbGlzdGVkIGhlcmUnLFxuICBwZXJGYWNpbGl0YXRvcjogdHJ1ZSxcbiAgYW5zd2Vyczoge1xuICAgIFRvbToge1xuICAgICAgUGVwcGVyczogNCxcbiAgICAgIE9uaW9uczogMTMsXG4gICAgICBNdXNocm9vbXM6IDIsXG4gICAgICBPbGl2ZXM6IDIsXG4gICAgICBTYXVzYWdlOiAzLFxuICAgICAgQ29ybjogMSxcbiAgICAgICdBbnl0aGluZyBidXQgcGluZWFwcGxlcyBsb2wnOiAxLFxuICAgICAgJ0thbGFtYXRhIE9saXZlcyBzcGVjaWZpY2FsbHknOiAxLFxuICAgIH0sXG4gICAgRGljazoge1xuICAgICAgJ1BlcHBlcm9uaSBhbmQgbGl0ZXJhbGx5IG5vdGhpbmcgZWxzZSc6IDEsXG4gICAgfSxcbiAgICBIYXJyeToge1xuICAgICAgUGVwcGVyczogMTYsXG4gICAgICBPbmlvbnM6IDE3LFxuICAgICAgTXVzaHJvb21zOiA4LFxuICAgICAgU2F1c2FnZTogMTYsXG4gICAgICBPbGl2ZXM6IDEyLFxuICAgICAgUGluZWFwcGxlczogMTQsXG4gICAgfSxcbiAgfSxcbiAgcG9zc2libGVBbnN3ZXJzOiBbXG4gICAgJ1BlcHBlcnMnLFxuICAgICdPbmlvbnMnLFxuICAgICdNdXNocm9vbXMnLFxuICAgICdTYXVzYWdlJyxcbiAgICAnT2xpdmVzJyxcbiAgICAnUGluZWFwcGxlcycsXG4gIF0sXG4gIG90aGVyVGV4dDogJ090aGVyIHRvcHBpbmdzJyxcbiAgYW5zd2VyVHlwZTogJ3NlbGVjdFRleHQnLFxufTtcblxuZXhwb3J0IGNvbnN0IENob2ljZVNlbGVjdFZhbHVlUmVzcG9uc2VQZXJGYWNpbGl0YXRvciA9IFRlbXBsYXRlLmJpbmQoe30pO1xuQ2hvaWNlU2VsZWN0VmFsdWVSZXNwb25zZVBlckZhY2lsaXRhdG9yLmFyZ3MgPSB7XG4gIG5hbWU6ICdDaG9pY2Ugc2VsZWN0VmFsdWUgcmVzcG9uc2UnLFxuICBxdWVzdGlvbjogJ1doYXQgZG8geW91IHRoaW5rIGFib3V0IHBpbmVhcHBsZXMgb24gcGl6emE/JyxcbiAgcGVyRmFjaWxpdGF0b3I6IHRydWUsXG4gIGFuc3dlcnM6IHtcbiAgICBUb206IHtcbiAgICAgIDE6IDEwLFxuICAgICAgMjogNSxcbiAgICAgIDM6IDEsXG4gICAgfSxcbiAgICBEaWNrOiB7XG4gICAgICAzOiAxLFxuICAgICAgNDogNSxcbiAgICAgIDU6IDEwLFxuICAgIH0sXG4gICAgSGFycnk6IHtcbiAgICAgIDE6IDEsXG4gICAgICAyOiAxLFxuICAgICAgMzogMSxcbiAgICAgIDQ6IDEsXG4gICAgICA1OiAxLFxuICAgIH0sXG4gIH0sXG4gIGFuc3dlclR5cGU6ICdzZWxlY3RWYWx1ZScsXG4gIHBvc3NpYmxlQW5zd2VyczogWydBYmhvcnJlbnQnLCAnTm90IGdvb2QnLCAnQW1iaXZhbGVudCcsICdHb29kJywgJ0RlbGljaW91cyddLFxufTtcblxuZXhwb3J0IGNvbnN0IFNjYWxlUmF0aW5nc1BlckZhY2lsaXRhdG9yID0gVGVtcGxhdGUuYmluZCh7fSk7XG5TY2FsZVJhdGluZ3NQZXJGYWNpbGl0YXRvci5hcmdzID0ge1xuICBuYW1lOiAnU2NhbGUgcmF0aW5ncycsXG4gIHF1ZXN0aW9uOiAnSG93IGRvIHlvdSBmZWVsIGFib3V0IGRlZXAgZGlzaD8nLFxuICBwZXJGYWNpbGl0YXRvcjogdHJ1ZSxcbiAgYW5zd2Vyczoge1xuICAgIFRvbToge1xuICAgICAgMTogMTAsXG4gICAgICAyOiA1LFxuICAgICAgMzogMSxcbiAgICB9LFxuICAgIERpY2s6IHtcbiAgICAgIDM6IDEsXG4gICAgICA0OiA1LFxuICAgICAgNTogMTAsXG4gICAgfSxcbiAgICBIYXJyeToge1xuICAgICAgMTogMSxcbiAgICAgIDM6IDEsXG4gICAgICA1OiAxLFxuICAgIH0sXG4gIH0sXG4gIGFuc3dlclR5cGU6ICdzY2FsZScsXG4gIHBvc3NpYmxlQW5zd2VyczogWycxIC0gSSBoYXRlIGl0JywgJzInLCAnMycsICc0JywgJzUgLSBJIGxvdmUgaXQnXSxcbn07XG4iXSwibmFtZXMiOlsiQ2hvaWNlUmVzcG9uc2VzIiwiZ2V0VG90YWxSZXNwb25kZW50cyIsInRoaXMiLCJwcm9wcyIsInBlckZhY2lsaXRhdG9yIiwiT2JqZWN0IiwidmFsdWVzIiwiYW5zd2VycyIsInJlZHVjZSIsInN1bSIsInN1YlN1bSIsIngiLCJ1bmRlZmluZWQiLCJudW1SZXNwb25kZW50cyIsImdldEFuc3dlckluZGV4IiwicG9zc2libGVBbnN3ZXIiLCJpIiwiYW5zd2VyVHlwZSIsInNwbGl0IiwiZm9ybWF0UGVyY2VudGFnZSIsInBlcmNlbnRhZ2UiLCJ0b0xvY2FsZVN0cmluZyIsInN0eWxlIiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwicmVuZGVyU2luZ2xlQW5zd2VyQ291bnRzIiwicG9zc2libGVBbnN3ZXJzIiwibWFwIiwiY291bnQiLCJrZXkiLCJwYWRkaW5nTGVmdCIsImdldFBvc3NpYmxlQW5zd2VyVGV4dCIsInBvc3NpYmxlQW5zd2Vyc01hcCIsInJlbmRlclBlckZhY2lsaXRhdG9yQW5zd2VyQ291bnRzIiwiZmFjaWxpdGF0b3JOYW1lcyIsImtleXMiLCJzaG93VG90YWxDb3VudCIsImxlbmd0aCIsInRvdGFsQ291bnRzUGVyRmFjaWxpdGF0b3IiLCJuYW1lIiwiZmFjaWxpdGF0b3JzIiwiaGVhZGVyUm93IiwiY29sU3BhbiIsImNvbnRlbnRSb3dzIiwiY291bnRzQnlGYWNpbGl0YXRvciIsInRvdGFsQ291bnQiLCJqIiwiY29uY2F0IiwicmVuZGVyIiwib3RoZXJBbnN3ZXJzIiwiZ2l2ZW5BbnN3ZXJzIiwic2V0IiwiU2V0IiwiXyIsImRpZmZlcmVuY2UiLCJQYW5lbCIsIkJvZHkiLCJxdWVzdGlvbiIsIm1hcmdpblRvcCIsIm90aGVyVGV4dCIsImNvbXBhY3QiLCJhbnN3ZXIiLCJSZWFjdCIsIkNvbXBvbmVudCIsIlByb3BUeXBlcyIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJvYmplY3QiLCJib29sIiwibnVtYmVyIiwiYXJyYXkiLCJSZWFjdFByb3BUeXBlc1NlY3JldCIsImVtcHR5RnVuY3Rpb24iLCJtb2R1bGUiLCJleHBvcnRzIiwic2hpbSIsInByb3BOYW1lIiwiY29tcG9uZW50TmFtZSIsImxvY2F0aW9uIiwicHJvcEZ1bGxOYW1lIiwic2VjcmV0IiwiZXJyIiwiRXJyb3IiLCJnZXRTaGltIiwiUmVhY3RQcm9wVHlwZXMiLCJmdW5jIiwic3ltYm9sIiwiYW55IiwiYXJyYXlPZiIsImVsZW1lbnQiLCJpbnN0YW5jZU9mIiwibm9kZSIsIm9iamVjdE9mIiwib25lT2YiLCJvbmVPZlR5cGUiLCJzaGFwZSIsImV4YWN0IiwiY2hlY2tQcm9wVHlwZXMiLCJjb21wb25lbnQiLCJUZW1wbGF0ZSIsImFyZ3MiLCJDaG9pY2VSZXNwb25zZXNXaXRob3V0T3RoZXIiLCJiaW5kIiwiUGVwcGVycyIsIk9uaW9ucyIsIk11c2hyb29tcyIsIk9saXZlcyIsIlNhdXNhZ2UiLCJDaG9pY2VSZXNwb25zZXNXaXRoT3RoZXJzIiwiQ29ybiIsIkNob2ljZVNlbGVjdFZhbHVlUmVzcG9uc2UiLCJTY2FsZVJhdGluZ3MiLCJDaG9pY2VSZXNwb25zZXNGb3JPbmx5T25lRmFjaWxpdGF0b3IiLCJUb20iLCJDaG9pY2VSZXNwb25zZXNXaXRob3V0T3RoZXJQZXJGYWNpbGl0YXRvciIsIkRpY2siLCJIYXJyeSIsIlBpbmVhcHBsZXMiLCJDaG9pY2VSZXNwb25zZXNXaXRoT3RoZXJzUGVyRmFjaWxpdGF0b3IiLCJDaG9pY2VTZWxlY3RWYWx1ZVJlc3BvbnNlUGVyRmFjaWxpdGF0b3IiLCJTY2FsZVJhdGluZ3NQZXJGYWNpbGl0YXRvciJdLCJzb3VyY2VSb290IjoiIn0=