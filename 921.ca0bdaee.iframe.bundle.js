(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[921],{"./src/third-party/canvg/svg_todataurl.js":()=>{SVGElement.prototype.toDataURL=function(type,options){var _svg=this;function XMLSerialize(svg){return window.XMLSerializer?(new XMLSerializer).serializeToString(svg):function XMLSerializerForIE(s){var out="";out+="<"+s.nodeName;for(var n=0;n<s.attributes.length;n++)out+=" "+s.attributes[n].name+"='"+s.attributes[n].value+"'";if(s.hasChildNodes()){for(out+=">\n",n=0;n<s.childNodes.length;n++)out+=XMLSerializerForIE(s.childNodes[n]);out+="</"+s.nodeName+">\n"}else out+=" />\n";return out}(svg)}function base64dataURLencode(s){var b64="data:image/svg+xml;base64,";return window.btoa?b64+=btoa(unescape(encodeURIComponent(s))):b64+=Base64.encode(s),b64}switch(type||(type="image/svg+xml"),options||(options={}),options.keepNonSafe,options.keepOutsideViewport,type){case"image/svg+xml":return function exportSVG(){var svg_dataurl=base64dataURLencode(XMLSerialize(_svg));return svg_dataurl.length,options.callback&&options.callback(svg_dataurl),svg_dataurl}();case"image/png":case"image/jpeg":switch(options.renderer||(window.canvg?options.renderer="canvg":options.renderer="native"),options.renderer){case"canvg":return function exportImageCanvg(type){var canvas=document.createElement("canvas"),svg_xml=(canvas.getContext("2d"),XMLSerialize(_svg)),keepBB=options.keepOutsideViewport;if(keepBB)var bb=_svg.getBBox();return canvg(canvas,svg_xml,{ignoreMouse:!0,ignoreAnimation:!0,offsetX:keepBB?-bb.x:void 0,offsetY:keepBB?-bb.y:void 0,scaleWidth:keepBB?bb.width+bb.x:void 0,scaleHeight:keepBB?bb.height+bb.y:void 0,renderCallback:function renderCallback(){canvas.width,canvas.height;var png_dataurl=canvas.toDataURL(type);png_dataurl.length,options.callback&&options.callback(png_dataurl)}}),canvas.toDataURL(type)}(type);case"native":return function exportImage(type){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),svg_img=new Image,svg_xml=XMLSerialize(_svg);svg_img.src=base64dataURLencode(svg_xml),svg_img.onload=function(){svg_img.width,svg_img.height,canvas.width=svg_img.width,canvas.height=svg_img.height,ctx.drawImage(svg_img,0,0);var png_dataurl=canvas.toDataURL(type);png_dataurl.length,options.callback&&options.callback(png_dataurl)},svg_img.onerror=function(){console.log("Can't export! Maybe your browser doesn't support SVG in img element or SVG input for Canvas drawImage?\nhttp://en.wikipedia.org/wiki/SVG#Native_support")}}(type);default:options.renderer}}}},"./src/util/svgelement-polyfill.js":(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"undefined"!=typeof SVGElement&&(__webpack_require__("./node_modules/canvg/canvg.js"),__webpack_require__("./src/third-party/canvg/svg_todataurl.js"))}}]);