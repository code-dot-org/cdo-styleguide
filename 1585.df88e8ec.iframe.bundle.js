"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[1585],{"./src/templates/manageStudents/manageStudentsRedux.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.convertStudentServerData=exports.convertStudentDataToArray=exports.cancelStudentTransfer=exports.cancelEditingStudent=exports.blankStudentTransferStatus=exports.blankStudentTransfer=exports.addStudentsSuccess=exports.addStudentsFull=exports.addStudentsFailure=exports.addStudents=exports.addMultipleRows=exports.addMultipleAddRows=exports.TransferType=exports.TransferStatus=exports.RowType=exports.PrintLoginCardsButtonMetricsCategory=exports.ParentLetterButtonMetricsCategory=exports.AddStatus=void 0,exports.default=function manageStudents(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;if(action.type===SET_LOGIN_TYPE){var addRowInitialization={};return action.loginType!==_sharedConstants.SectionLoginType.word&&action.loginType!==_sharedConstants.SectionLoginType.picture||(addRowInitialization={studentData:_defineProperty({},addRowId,_objectSpread(_objectSpread({},blankAddRow),{},{loginType:action.loginType})),editingData:_defineProperty({},addRowId,_objectSpread(_objectSpread({},blankAddRow),{},{loginType:action.loginType}))}),_objectSpread(_objectSpread({},state),{},{loginType:action.loginType},addRowInitialization)}if(action.type===SET_STUDENTS){var studentData=_objectSpread({},action.studentData);return state.loginType!==_sharedConstants.SectionLoginType.word&&state.loginType!==_sharedConstants.SectionLoginType.picture||(studentData[addRowId]=_objectSpread(_objectSpread({},blankAddRow),{},{loginType:state.loginType})),_objectSpread(_objectSpread({},state),{},{studentData,addStatus:{status:null,numStudents:null},isLoadingStudents:!1,sectionId:action.sectionId})}if(action.type===START_EDITING_STUDENT)return _objectSpread(_objectSpread({},state),{},{studentData:_objectSpread(_objectSpread({},state.studentData),{},_defineProperty({},action.studentId,_objectSpread(_objectSpread({},state.studentData[action.studentId]),{},{isEditing:!0}))),editingData:_objectSpread(_objectSpread({},state.editingData),{},_defineProperty({},action.studentId,_objectSpread(_objectSpread({},state.studentData[action.studentId]),{},{id:action.studentId})))});if(action.type===CANCEL_EDITING_STUDENT)return _objectSpread(_objectSpread({},state),{},{studentData:_objectSpread(_objectSpread({},state.studentData),{},_defineProperty({},action.studentId,_objectSpread(_objectSpread({},state.studentData[action.studentId]),{},{isEditing:!1}))),editingData:_lodash.default.omit(state.editingData,action.studentId)});if(action.type===START_SAVING_STUDENT)return _objectSpread(_objectSpread({},state),{},{studentData:_objectSpread(_objectSpread({},state.studentData),{},_defineProperty({},action.studentId,_objectSpread(_objectSpread({},state.studentData[action.studentId]),{},{isSaving:!0}))),editingData:_objectSpread(_objectSpread({},state.editingData),{},_defineProperty({},action.studentId,_objectSpread(_objectSpread({},state.editingData[action.studentId]),{},{isSaving:!0})))});if(action.type===SAVE_STUDENT_SUCCESS)return _objectSpread(_objectSpread({},state),{},{studentData:_objectSpread(_objectSpread({},state.studentData),{},_defineProperty({},action.studentId,_objectSpread(_objectSpread(_objectSpread({},state.studentData[action.studentId]),state.editingData[action.studentId]),{},{isEditing:!1,isSaving:!1,rowType:RowType.STUDENT}))),editingData:_lodash.default.omit(state.editingData,action.studentId)});if(action.type===ADD_STUDENT_FAILURE){for(var newState=_objectSpread(_objectSpread({},state),{},{addStatus:{status:AddStatus.FAIL,numStudents:action.numStudents}}),i=0;i<action.studentIds.length;i++)newState.studentData[action.studentIds[i]]=_objectSpread(_objectSpread({},state.studentData[action.studentIds[i]]),{},{isSaving:!1}),newState.editingData[action.studentIds[i]]=_objectSpread(_objectSpread({},state.editingData[action.studentIds[i]]),{},{isSaving:!1});return newState}if(action.type===ADD_STUDENT_FULL){for(var _newState=_objectSpread(_objectSpread({},state),{},{addStatus:_objectSpread(_objectSpread({},state.addStatus),{},{status:AddStatus.FULL,numStudents:action.numStudents,sectionCapacity:action.sectionCapacity,sectionCode:action.sectionCode,sectionStudentCount:action.sectionStudentCount})}),_i=0;_i<action.studentIds.length;_i++)_newState.studentData[action.studentIds[_i]]=_objectSpread(_objectSpread({},state.studentData[action.studentIds[_i]]),{},{isSaving:!1}),_newState.editingData[action.studentIds[_i]]=_objectSpread(_objectSpread({},state.editingData[action.studentIds[_i]]),{},{isSaving:!1});return _newState}if(action.type===ADD_STUDENT_SUCCESS){return _objectSpread(_objectSpread({},state),{},{studentData:_objectSpread(_objectSpread(_objectSpread({},_lodash.default.omit(state.studentData,action.rowIds)),action.studentData),{},_defineProperty({},addRowId,_objectSpread(_objectSpread({},blankAddRow),{},{loginType:state.loginType}))),editingData:_objectSpread(_objectSpread({},_lodash.default.omit(state.editingData,action.rowIds)),{},_defineProperty({},addRowId,_objectSpread(_objectSpread({},blankAddRow),{},{loginType:state.loginType}))),addStatus:{status:AddStatus.SUCCESS,numStudents:action.numStudents}})}if(action.type===SET_SHARING_DEFAULT){var sharingDisabled=state.editingData[action.studentId].age<13;return _objectSpread(_objectSpread({},state),{},{editingData:_objectSpread(_objectSpread({},state.editingData),{},_defineProperty({},action.studentId,_objectSpread(_objectSpread({},state.editingData[action.studentId]),{},{id:action.studentId,sharingDisabled})))})}if(action.type===EDIT_STUDENT)return _objectSpread(_objectSpread({},state),{},{editingData:_objectSpread(_objectSpread({},state.editingData),{},_defineProperty({},action.studentId,_objectSpread(_objectSpread(_objectSpread({},state.editingData[action.studentId]),action.studentData),{},{id:action.studentId})))});if(action.type===EDIT_ALL){var _newState3=_objectSpread({},state);for(var studentKey in state.studentData){var student=state.studentData[studentKey];_newState3.studentData[student.id].isEditing=!0,_newState3.editingData[student.id]=_objectSpread(_objectSpread({},_newState3.studentData[student.id]),state.editingData[student.id])}return _newState3}if(action.type===UPDATE_ALL_SHARE_SETTING){var _newState4=_objectSpread({},state);for(var _studentKey in state.studentData){var _student=state.studentData[_studentKey];_newState4.editingData[_student.id].sharingDisabled=action.disable}return _newState4}if(action.type===SET_SECRET_IMAGE)return _objectSpread(_objectSpread({},state),{},{studentData:_objectSpread(_objectSpread({},state.studentData),{},_defineProperty({},action.studentId,_objectSpread(_objectSpread({},state.studentData[action.studentId]),{},{secretPicturePath:action.image})))});if(action.type===SET_SECRET_WORDS)return _objectSpread(_objectSpread({},state),{},{studentData:_objectSpread(_objectSpread({},state.studentData),{},_defineProperty({},action.studentId,_objectSpread(_objectSpread({},state.studentData[action.studentId]),{},{secretWords:action.words})))});if(action.type===REMOVE_STUDENT){var studentId=action.studentId;if(!state.studentData[studentId])throw new Error("student does not exist");return _objectSpread(_objectSpread({},state),{},{studentData:_lodash.default.omit(state.studentData,studentId),editingData:_lodash.default.omit(state.editingData,studentId)})}if(action.type===ADD_MULTIPLE_ROWS)return _objectSpread(_objectSpread({},state),{},{studentData:_objectSpread(_objectSpread({},state.studentData),action.studentData),editingData:_objectSpread(_objectSpread({},state.editingData),action.studentData)});if(action.type===SET_SHOW_SHARING_COLUMN)return _objectSpread(_objectSpread({},state),{},{showSharingColumn:!!action.visible});if(action.type===UPDATE_STUDENT_TRANSFER)return _objectSpread(_objectSpread({},state),{},{transferData:_objectSpread(_objectSpread({},state.transferData),action.transferData),transferStatus:blankStudentTransferStatus});if(action.type===CANCEL_STUDENT_TRANSFER)return _objectSpread(_objectSpread({},state),{},{transferData:blankStudentTransfer,transferStatus:_objectSpread(_objectSpread({},state.transferStatus),{},{error:null})});if(action.type===TRANSFER_STUDENTS_SUCCESS)return _objectSpread(_objectSpread({},state),{},{transferStatus:_objectSpread(_objectSpread({},state.transferStatus),{},{status:TransferStatus.SUCCESS,type:action.transferType,numStudents:action.numStudents,sectionDisplay:action.sectionDisplay})});if(action.type===TRANSFER_STUDENTS_FULL)return _objectSpread(_objectSpread({},state),{},{transferStatus:_objectSpread(_objectSpread({},state.transferStatus),{},{status:TransferStatus.FULL,sectionCapacity:action.sectionCapacity,numStudents:action.numStudents,sectionCode:action.sectionCode,sectionStudentCount:action.sectionStudentCount,verb:action.verb})});if(action.type===TRANSFER_STUDENTS_FAILURE)return _objectSpread(_objectSpread({},state),{},{transferStatus:_objectSpread(_objectSpread({},state.transferStatus),{},{status:TransferStatus.FAIL,error:action.error})});if(action.type===TRANSFER_STUDENTS_PENDING)return _objectSpread(_objectSpread({},state),{},{transferStatus:_objectSpread(_objectSpread({},state.transferStatus),{},{status:TransferStatus.PENDING})});if(action.type===START_LOADING_STUDENTS)return _objectSpread(_objectSpread({},state),{},{isLoadingStudents:!0});if(action.type===FINISH_LOADING_STUDENTS)return _objectSpread(_objectSpread({},state),{},{isLoadingStudents:!1});return state},exports.updateStudentTransfer=exports.updateAllShareSetting=exports.transferStudentsSuccess=exports.transferStudentsPending=exports.transferStudentsFull=exports.transferStudentsFailure=exports.transferStudents=exports.startSavingStudent=exports.startLoadingStudents=exports.startEditingStudent=exports.setStudents=exports.setShowSharingColumn=exports.setSharingDefault=exports.setSecretWords=exports.setSecretImage=exports.setLoginType=exports.saveStudentSuccess=exports.saveStudent=exports.saveAllStudents=exports.removeStudent=exports.loadSectionStudentData=exports.handleShareSetting=exports.getStudentCount=exports.finishLoadingStudents=exports.editStudent=exports.editAll=void 0;var _jquery=_interopRequireDefault(__webpack_require__("./node_modules/jquery/dist/jquery.js")),_lodash=_interopRequireDefault(__webpack_require__("./node_modules/lodash/lodash.js")),_teacherSectionsRedux=__webpack_require__("./src/templates/teacherDashboard/teacherSectionsRedux.js"),_sharedConstants=__webpack_require__("./src/util/sharedConstants.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}exports.ParentLetterButtonMetricsCategory={ABOVE_TABLE:"above-table",BELOW_TABLE:"below-table"};exports.PrintLoginCardsButtonMetricsCategory={MANAGE_STUDENTS:"manage-students",LOGIN_INFO:"section-login-info"};var AddStatus={SUCCESS:"success",FAIL:"fail",FULL:"full"};exports.AddStatus=AddStatus;var RowType={ADD:"addRow",NEW_STUDENT:"newStudentRow",STUDENT:"studentRow"};exports.RowType=RowType;var TransferStatus={SUCCESS:"success",FAIL:"fail",FULL:"full",PENDING:"pending"};exports.TransferStatus=TransferStatus;var TransferType={MOVE_STUDENTS:"moveStudents",COPY_STUDENTS:"copyStudents"};exports.TransferType=TransferType;var blankStudentTransfer={studentIds:[],sectionId:null,otherTeacher:!1,otherTeacherSection:"",copyStudents:!0};exports.blankStudentTransfer=blankStudentTransfer;var blankStudentTransferStatus={status:null,type:null,error:null,numStudents:0,sectionDisplay:""};exports.blankStudentTransferStatus=blankStudentTransferStatus;var addRowId=0,addRowIdCounter=-1,blankAddRow={id:addRowId,name:"",age:"",gender:"",username:"",loginType:"",sharingDisabled:!0,isEditing:!0,rowType:RowType.ADD},blankNewStudentRow={id:addRowId,name:"",age:"",gender:"",username:"",loginType:"",sharingDisabled:!0,isEditing:!0,rowType:RowType.NEW_STUDENT},initialState={loginType:"",sectionId:null,studentData:{},editingData:{},showSharingColumn:!1,addStatus:{status:null,numStudents:null},transferData:_objectSpread({},blankStudentTransfer),transferStatus:_objectSpread({},blankStudentTransferStatus),isLoadingStudents:!0},SET_LOGIN_TYPE="manageStudents/SET_LOGIN_TYPE",SET_STUDENTS="manageStudents/SET_STUDENTS",START_EDITING_STUDENT="manageStudents/START_EDITING_STUDENT",CANCEL_EDITING_STUDENT="manageStudents/CANCEL_EDITING_STUDENT",REMOVE_STUDENT="manageStudents/REMOVE_STUDENT",SET_SECRET_IMAGE="manageStudents/SET_SECRET_IMAGE",SET_SECRET_WORDS="manageStudents/SET_SECRET_WORDS",EDIT_STUDENT="manageStudents/EDIT_STUDENT",START_SAVING_STUDENT="manageStudents/START_SAVING_STUDENT",SAVE_STUDENT_SUCCESS="manageStudents/SAVE_STUDENT_SUCCESS",ADD_STUDENT_SUCCESS="manageStudents/ADD_STUDENT_SUCCESS",ADD_STUDENT_FAILURE="manageStudents/ADD_STUDENT_FAILURE",ADD_STUDENT_FULL="manageStudents/ADD_STUDENT_FULL",ADD_MULTIPLE_ROWS="manageStudents/ADD_MULTIPLE_ROWS",SET_SHOW_SHARING_COLUMN="manageStudents/SET_SHOW_SHARING_COLUMN",EDIT_ALL="manageStudents/EDIT_ALL",UPDATE_ALL_SHARE_SETTING="manageStudents/UPDATE_ALL_SHARE_SETTING",SET_SHARING_DEFAULT="manageStudents/SET_SHARING_DEFAULT",UPDATE_STUDENT_TRANSFER="manageStudents/UPDATE_STUDENT_TRANSFER",CANCEL_STUDENT_TRANSFER="manageStudents/CANCEL_STUDENT_TRANSFER",TRANSFER_STUDENTS_SUCCESS="manageStudents/TRANSFER_STUDENTS_SUCCESS",TRANSFER_STUDENTS_FAILURE="manageStudents/TRANSFER_STUDENTS_FAILURE",TRANSFER_STUDENTS_PENDING="manageStudents/TRANSFER_STUDENTS_PENDING",TRANSFER_STUDENTS_FULL="manageStudents/TRANSFER_STUDENTS_FULL",START_LOADING_STUDENTS="manageStudents/START_LOADING_STUDENTS",FINISH_LOADING_STUDENTS="manageStudents/FINISH_LOADING_STUDENTS",startLoadingStudents=function startLoadingStudents(){return{type:START_LOADING_STUDENTS}};exports.startLoadingStudents=startLoadingStudents;var finishLoadingStudents=function finishLoadingStudents(){return{type:FINISH_LOADING_STUDENTS}};exports.finishLoadingStudents=finishLoadingStudents;exports.setLoginType=function setLoginType(loginType){return{type:SET_LOGIN_TYPE,loginType}};var setStudents=function setStudents(studentData,sectionId){return{type:SET_STUDENTS,studentData,sectionId}};exports.setStudents=setStudents;exports.startEditingStudent=function startEditingStudent(studentId){return{type:START_EDITING_STUDENT,studentId}};exports.cancelEditingStudent=function cancelEditingStudent(studentId){return{type:CANCEL_EDITING_STUDENT,studentId}};var removeStudent=function removeStudent(studentId){return{type:REMOVE_STUDENT,studentId}};exports.removeStudent=removeStudent;exports.setSecretImage=function setSecretImage(studentId,image){return{type:SET_SECRET_IMAGE,studentId,image}};exports.setSecretWords=function setSecretWords(studentId,words){return{type:SET_SECRET_WORDS,studentId,words}};exports.editStudent=function editStudent(studentId,studentData){return{type:EDIT_STUDENT,studentId,studentData}};exports.setSharingDefault=function setSharingDefault(studentId){return{type:SET_SHARING_DEFAULT,studentId}};var editAll=function editAll(){return{type:EDIT_ALL}};exports.editAll=editAll;var updateAllShareSetting=function updateAllShareSetting(disable){return{type:UPDATE_ALL_SHARE_SETTING,disable}};exports.updateAllShareSetting=updateAllShareSetting;var startSavingStudent=function startSavingStudent(studentId){return{type:START_SAVING_STUDENT,studentId}};exports.startSavingStudent=startSavingStudent;var saveStudentSuccess=function saveStudentSuccess(studentId){return{type:SAVE_STUDENT_SUCCESS,studentId}};exports.saveStudentSuccess=saveStudentSuccess;exports.updateStudentTransfer=function updateStudentTransfer(transferData){return{type:UPDATE_STUDENT_TRANSFER,transferData}};exports.cancelStudentTransfer=function cancelStudentTransfer(){return{type:CANCEL_STUDENT_TRANSFER}};var transferStudentsSuccess=function transferStudentsSuccess(transferType,numStudents,sectionDisplay){return{type:TRANSFER_STUDENTS_SUCCESS,transferType,numStudents,sectionDisplay}};exports.transferStudentsSuccess=transferStudentsSuccess;var transferStudentsFailure=function transferStudentsFailure(error){return{type:TRANSFER_STUDENTS_FAILURE,error}};exports.transferStudentsFailure=transferStudentsFailure;var transferStudentsPending=function transferStudentsPending(){return{type:TRANSFER_STUDENTS_PENDING}};exports.transferStudentsPending=transferStudentsPending;var transferStudentsFull=function transferStudentsFull(_ref,copy){var sectionCapacity=_ref.sectionCapacity,numStudents=_ref.numStudents,sectionCode=_ref.sectionCode,sectionStudentCount=_ref.sectionStudentCount;return{type:TRANSFER_STUDENTS_FULL,sectionCapacity,numStudents,sectionStudentCount,sectionCode,verb:copy?"copy":"move"}};exports.transferStudentsFull=transferStudentsFull;var addStudentsSuccess=function addStudentsSuccess(numStudents,rowIds,studentData){return{type:ADD_STUDENT_SUCCESS,numStudents,rowIds,studentData}};exports.addStudentsSuccess=addStudentsSuccess;var addStudentsFailure=function addStudentsFailure(numStudents,error,studentIds){return{type:ADD_STUDENT_FAILURE,numStudents,error,studentIds}};exports.addStudentsFailure=addStudentsFailure;var addStudentsFull=function addStudentsFull(_ref2,studentIds){var sectionCapacity=_ref2.sectionCapacity,numStudents=_ref2.numStudents,sectionCode=_ref2.sectionCode,sectionStudentCount=_ref2.sectionStudentCount;return{type:ADD_STUDENT_FULL,sectionCapacity,numStudents,sectionStudentCount,sectionCode,studentIds}};exports.addStudentsFull=addStudentsFull;var addMultipleRows=function addMultipleRows(studentData){return{type:ADD_MULTIPLE_ROWS,studentData}};exports.addMultipleRows=addMultipleRows;exports.setShowSharingColumn=function setShowSharingColumn(visible){return{type:SET_SHOW_SHARING_COLUMN,visible}};exports.handleShareSetting=function handleShareSetting(disable){return function(dispatch,getState){dispatch(editAll()),dispatch(updateAllShareSetting(disable))}};var saveStudent=function saveStudent(studentId){return function(dispatch,getState){var state=getState().manageStudents,sectionId=getState().teacherSections.selectedSectionId;dispatch(startSavingStudent(studentId)),updateStudentOnServer(state.editingData[studentId],sectionId,(function(error,data){error&&console.error(error),dispatch(saveStudentSuccess(studentId)),dispatch((0,_teacherSectionsRedux.asyncLoadSectionData)(sectionId))}))}};exports.saveStudent=saveStudent;exports.saveAllStudents=function saveAllStudents(){return function(dispatch,getState){var state=getState().manageStudents;Object.values(state.editingData).filter((function(student){return student.rowType===RowType.STUDENT})).forEach((function(student){""!==student.name&&dispatch(saveStudent(student.id))}));var newStudentsToAdd=Object.values(state.editingData).filter((function(student){return student.rowType===RowType.NEW_STUDENT&&!student.isSaving})).map((function(student){return student.id}));newStudentsToAdd.length>0&&dispatch(addStudents(newStudentsToAdd))}};var addStudents=function addStudents(studentIds){return function(dispatch,getState){for(var state=getState().manageStudents,sectionId=getState().teacherSections.selectedSectionId,numStudentsToAdd=studentIds.length,i=0;i<studentIds.length;i++)dispatch(startSavingStudent(studentIds[i]));var filteredData=Object.values(state.editingData).filter((function(student){return studentIds.includes(student.id)}));addStudentOnServer(filteredData,sectionId,(function(error,data){error&&data&&data.result===AddStatus.FULL?dispatch(addStudentsFull(data,studentIds)):error?(dispatch(addStudentsFailure(numStudentsToAdd,error,studentIds)),console.error(error)):(dispatch(addStudentsSuccess(numStudentsToAdd,studentIds,convertStudentServerData(data,state.loginType,sectionId))),dispatch((0,_teacherSectionsRedux.asyncLoadSectionData)(sectionId)))}))}};exports.addStudents=addStudents;exports.addMultipleAddRows=function addMultipleAddRows(studentDataArray){return function(dispatch,getState){var studentData=studentDataArray.filter((function(data){return data.name})).reduce((function(accumulator,data){var newId=addRowIdCounter--;return _objectSpread(_objectSpread({},accumulator),{},_defineProperty({},newId,_objectSpread(_objectSpread({},blankNewStudentRow),{},{name:data.name,familyName:data.familyName,id:newId})))}),{});dispatch(addMultipleRows(studentData))}};exports.transferStudents=function transferStudents(onComplete){return function(dispatch,getState){dispatch(transferStudentsPending());var newSectionCode,state=getState(),currentSectionCode=(0,_teacherSectionsRedux.sectionCode)(state,state.teacherSections.selectedSectionId),_state$manageStudents=state.manageStudents.transferData,studentIds=_state$manageStudents.studentIds,newSectionId=_state$manageStudents.sectionId,otherTeacher=_state$manageStudents.otherTeacher,otherTeacherSection=_state$manageStudents.otherTeacherSection,copyStudents=_state$manageStudents.copyStudents;newSectionCode=otherTeacher&&otherTeacherSection?otherTeacherSection:(0,_teacherSectionsRedux.sectionCode)(state,newSectionId),transferStudentsOnServer(studentIds,currentSectionCode,newSectionCode,copyStudents,(function(error,data){if(error&&data&&data.result===TransferStatus.FULL)dispatch(transferStudentsFull(data,copyStudents)),onComplete();else if(error)dispatch(transferStudentsFailure(data&&data.error||error));else{copyStudents&&otherTeacher||studentIds.forEach((function(id){dispatch(removeStudent(id))}));var transferType=copyStudents?TransferType.COPY_STUDENTS:TransferType.MOVE_STUDENTS,sectionDisplay=otherTeacher?otherTeacherSection:(0,_teacherSectionsRedux.sectionName)(state,newSectionId);dispatch(transferStudentsSuccess(transferType,studentIds.length,sectionDisplay)),onComplete(),dispatch((0,_teacherSectionsRedux.asyncLoadSectionData)(state.teacherSections.selectedSectionId))}}))}};exports.getStudentCount=function getStudentCount(state){var studentData=_objectSpread({},state.manageStudents.studentData);return delete studentData[0],Object.keys(studentData).length};var convertStudentServerData=function convertStudentServerData(studentData,loginType,sectionId){for(var studentLookup={},i=0;i<studentData.length;i++){var student=studentData[i];studentLookup[student.id]={id:student.id,name:student.name,familyName:student.family_name,username:student.username,email:student.email,age:student.age||"",gender:student.gender||"",genderTeacherInput:student.gender_teacher_input||"",secretWords:student.secret_words,secretPicturePath:student.secret_picture_path,loginType,sectionId,sharingDisabled:student.sharing_disabled,hasEverSignedIn:student.has_ever_signed_in,dependsOnThisSectionForLogin:student.depends_on_this_section_for_login,isEditing:!1,isSaving:!1,rowType:RowType.STUDENT,userType:student.user_type}}return studentLookup};exports.convertStudentServerData=convertStudentServerData;exports.convertStudentDataToArray=function convertStudentDataToArray(studentData){return Object.values(studentData).reverse()};var updateStudentOnServer=function updateStudentOnServer(updatedStudentInfo,sectionId,onComplete){var dataToUpdate={student:{id:updatedStudentInfo.id,name:updatedStudentInfo.name,family_name:updatedStudentInfo.familyName,age:updatedStudentInfo.age,gender:updatedStudentInfo.gender,gender_teacher_input:updatedStudentInfo.genderTeacherInput,sharing_disabled:updatedStudentInfo.sharingDisabled}};_jquery.default.ajax({url:"/dashboardapi/sections/".concat(sectionId,"/students/").concat(dataToUpdate.student.id),method:"PATCH",type:"json",contentType:"application/json;charset=UTF-8",data:JSON.stringify(dataToUpdate)}).done((function(data){onComplete(null,data)})).fail((function(jqXhr,status){onComplete(status,null)}))},addStudentOnServer=function addStudentOnServer(updatedStudentsInfo,sectionId,onComplete){for(var studentsToAdd=[],i=0;i<updatedStudentsInfo.length;i++)studentsToAdd[i]={editing:!0,name:updatedStudentsInfo[i].name,family_name:updatedStudentsInfo[i].familyName,age:updatedStudentsInfo[i].age,gender:updatedStudentsInfo[i].gender,gender_teacher_input:updatedStudentsInfo[i].genderTeacherInput,sharing_disabled:updatedStudentsInfo[i].sharingDisabled};var students={students:studentsToAdd};_jquery.default.ajax({url:"/dashboardapi/sections/".concat(sectionId,"/students/bulk_add"),method:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify(students)}).done((function(data){onComplete(null,data)})).fail((function(jqXhr,status){onComplete(status,jqXhr.responseJSON||null)}))},transferStudentsOnServer=function transferStudentsOnServer(studentIds,currentSectionCode,newSectionCode,stayEnrolledInCurrentSection,onComplete){var payload={student_ids:studentIds,current_section_code:currentSectionCode,new_section_code:newSectionCode,stay_enrolled_in_current_section:stayEnrolledInCurrentSection};_jquery.default.ajax({url:"/dashboardapi/sections/transfers",method:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify(payload)}).done((function(data){onComplete(null,data)})).fail((function(jqXhr,status){onComplete(status,jqXhr.responseJSON)}))};exports.loadSectionStudentData=function loadSectionStudentData(sectionId){return function(dispatch,getState){var state=getState().manageStudents;state.sectionId===sectionId?dispatch(finishLoadingStudents()):(dispatch(startLoadingStudents()),_jquery.default.ajax({method:"GET",url:"/dashboardapi/sections/".concat(sectionId,"/students"),dataType:"json"}).done((function(studentData){var convertedStudentData=convertStudentServerData(studentData,state.loginType,sectionId);dispatch(setStudents(convertedStudentData,sectionId))})))}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBTTBDLFFBQVUsQ0FDZEMsWUFBYXZLLFdBQ2J3SyxxQkFBc0IxQyxtQkFDdEIyQyxpQkFBa0I1QyxlQUNsQjZDLGlDQUFrQ0wsOEJBRXBDZixRQUFBQSxRQUFFQyxLQUFLLENBQ0xDLElBQUssbUNBQ0xDLE9BQVEsT0FDUkMsWUFBYSxpQ0FDYnRELEtBQU11RCxLQUFLQyxVQUFVVSxXQUVwQlQsTUFBSyxTQUFBekQsTUFDSndCLFdBQVcsS0FBTXhCLEtBQ2xCLElBQ0EwRCxNQUFLLFNBQUNDLE1BQU9yTCxRQUNaa0osV0FBV2xKLE9BQVFxTCxNQUFNSyxhQUMxQixHQUNKLEUsK0JBRXFDLFNBQXpCTyx1QkFBeUI5TCxXQUNwQyxPQUFPLFNBQUNpSCxTQUFVQyxVQUNoQixJQUFNckksTUFBUXFJLFdBQVd0SSxlQUdNQyxNQUFNbUIsWUFBY0EsVUFpQmpEaUgsU0FBUzNCLDBCQWRUMkIsU0FBUzVCLHdCQUNUb0YsUUFBQUEsUUFBRUMsS0FBSyxDQUNMRSxPQUFRLE1BQ1JELElBQUssMEJBQUYsT0FBNEIzSyxVQUE1QixhQUNIK0wsU0FBVSxTQUNUZixNQUFLLFNBQUF6TCxhQUNOLElBQU15TSxxQkFBdUJ6RCx5QkFDM0JoSixZQUNBVixNQUFNTSxVQUNOYSxXQUVGaUgsU0FBU3pCLFlBQVl3RyxxQkFBc0JoTSxXQUM1QyxJQUlKLENBQ0YsQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy90ZW1wbGF0ZXMvbWFuYWdlU3R1ZGVudHMvbWFuYWdlU3R1ZGVudHNSZWR1eC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgc2VjdGlvbkNvZGUsXG4gIHNlY3Rpb25OYW1lLFxuICBhc3luY0xvYWRTZWN0aW9uRGF0YSxcbn0gZnJvbSAnQGNkby9hcHBzL3RlbXBsYXRlcy90ZWFjaGVyRGFzaGJvYXJkL3RlYWNoZXJTZWN0aW9uc1JlZHV4JztcbmltcG9ydCB7U2VjdGlvbkxvZ2luVHlwZX0gZnJvbSAnQGNkby9hcHBzL3V0aWwvc2hhcmVkQ29uc3RhbnRzJztcblxuZXhwb3J0IGNvbnN0IFBhcmVudExldHRlckJ1dHRvbk1ldHJpY3NDYXRlZ29yeSA9IHtcbiAgQUJPVkVfVEFCTEU6ICdhYm92ZS10YWJsZScsXG4gIEJFTE9XX1RBQkxFOiAnYmVsb3ctdGFibGUnLFxufTtcblxuZXhwb3J0IGNvbnN0IFByaW50TG9naW5DYXJkc0J1dHRvbk1ldHJpY3NDYXRlZ29yeSA9IHtcbiAgTUFOQUdFX1NUVURFTlRTOiAnbWFuYWdlLXN0dWRlbnRzJyxcbiAgTE9HSU5fSU5GTzogJ3NlY3Rpb24tbG9naW4taW5mbycsXG59O1xuXG4vLyBSZXNwb25zZSBmcm9tIHNlcnZlciBhZnRlciBhZGRpbmcgYSBuZXcgc3R1ZGVudCB0byB0aGUgc2VjdGlvbi5cbmV4cG9ydCBjb25zdCBBZGRTdGF0dXMgPSB7XG4gIFNVQ0NFU1M6ICdzdWNjZXNzJyxcbiAgRkFJTDogJ2ZhaWwnLFxuICBGVUxMOiAnZnVsbCcsXG59O1xuXG4vLyBUeXBlcyBvZiByb3dzIGluIHN0dWRlbnREYXRhL2VkaXRpbmdEYXRhXG4vLyBuZXdTdHVkZW50IGxvb2tzIGxpa2UgYSBzdHVkZW50Um93IHdpdGggaXNFZGl0aW5nIHRydWUsIGJ1dFxuLy8gaXMgdXBkYXRlZCBsaWtlIGFuIGFkZCByb3csIHNpbmNlIHRoZSBzdHVkZW50IGhhcyB5ZXQgdG8gYmUgYWRkZWQuXG5leHBvcnQgY29uc3QgUm93VHlwZSA9IHtcbiAgQUREOiAnYWRkUm93JyxcbiAgTkVXX1NUVURFTlQ6ICduZXdTdHVkZW50Um93JyxcbiAgU1RVREVOVDogJ3N0dWRlbnRSb3cnLFxufTtcblxuLy8gQ29uc3RhbnRzIGFyb3VuZCBtb3Zpbmcgc3R1ZGVudHMgdG8gYW5vdGhlciBzZWN0aW9uLlxuLy8gUmVzcG9uc2UgZnJvbSBzZXJ2ZXIgYWZ0ZXIgbW92aW5nIHN0dWRlbnQocykgdG8gYSBuZXcgc2VjdGlvblxuZXhwb3J0IGNvbnN0IFRyYW5zZmVyU3RhdHVzID0ge1xuICBTVUNDRVNTOiAnc3VjY2VzcycsXG4gIEZBSUw6ICdmYWlsJyxcbiAgRlVMTDogJ2Z1bGwnLFxuICBQRU5ESU5HOiAncGVuZGluZycsXG59O1xuXG4vLyBUeXBlIG9mIHN0dWRlbnQgdHJhbnNmZXIgLSB3aGV0aGVyIHN0dWRlbnRzIGFyZSBiZWluZyBtb3ZlZCAoYW5kIHN1YnNlcXVlbnRseSByZW1vdmVkIGZyb20gY3VycmVudCBzZWN0aW9uKSBvciBjb3BpZWQgdG8gbmV3IHNlY3Rpb25cbmV4cG9ydCBjb25zdCBUcmFuc2ZlclR5cGUgPSB7XG4gIE1PVkVfU1RVREVOVFM6ICdtb3ZlU3R1ZGVudHMnLFxuICBDT1BZX1NUVURFTlRTOiAnY29weVN0dWRlbnRzJyxcbn07XG5cbi8qKiBJbml0aWFsIHN0YXRlIGZvciBtYW5hZ2VTdHVkZW50cy50cmFuc2ZlckRhdGEgcmVkdXggc3RvcmUuXG4gKiBzdHVkZW50SWRzIC0gc3R1ZGVudCBpZHMgc2VsZWN0ZWQgdG8gYmUgbW92ZWQgdG8gYW5vdGhlciBzZWN0aW9uXG4gKiBzZWN0aW9uSWQgLSBzZWN0aW9uIGlkIHRvIHdoaWNoIG5ldyBzdHVkZW50cyB3aWxsIGJlIG1vdmVkXG4gKiBvdGhlclRlYWNoZXIgLSBzdHVkZW50cyBhcmUgYmVpbmcgbW92ZWQgdG8gYSBzZWN0aW9uIG93bmVkIGJ5IGEgZGlmZmVyZW50IHRlYWNoZXJcbiAqIG90aGVyVGVhY2hlclNlY3Rpb24gLSBpZiBuZXcgc2VjdGlvbiBpcyBvd25lZCBieSBhIGRpZmZlcmVudCB0ZWFjaGVyLCBjdXJyZW50IHRlYWNoZXIgaW5wdXRzIG5ldyBzZWN0aW9uIGNvZGVcbiAqIGNvcHlTdHVkZW50cyAtIHdoZXRoZXIgb3Igbm90IHN0dWRlbnRzIHdpbGwgYmUgY29waWVkIHRvIG5ldyBzZWN0aW9uIG9yIG1vdmVkIChhbmQgc3Vic2VxdWVudGx5IHJlbW92ZWQgZnJvbSBjdXJyZW50IHNlY3Rpb24pXG4gKi9cbmV4cG9ydCBjb25zdCBibGFua1N0dWRlbnRUcmFuc2ZlciA9IHtcbiAgc3R1ZGVudElkczogW10sXG4gIHNlY3Rpb25JZDogbnVsbCxcbiAgb3RoZXJUZWFjaGVyOiBmYWxzZSxcbiAgb3RoZXJUZWFjaGVyU2VjdGlvbjogJycsXG4gIGNvcHlTdHVkZW50czogdHJ1ZSxcbn07XG5cbi8qKiBJbml0aWFsIHN0YXRlIGZvciBtYW5hZ2VTdHVkZW50cy50cmFuc2ZlclN0YXR1cyByZWR1eCBzdG9yZS5cbiAqIHN0YXR1cyAoVHJhbnNmZXJTdGF0dXMpIC0gd2hldGhlciB0cmFuc2ZlciB3YXMgc3VjY2Vzc2Z1bCBvciBmYWlsZWRcbiAqIHR5cGUgKFRyYW5zZmVyVHlwZSkgLSB3aGV0aGVyIHRyYW5zZmVyIG1vdmVkIHN0dWRlbnRzIChhbmQgc3Vic2VxdWVudGx5IHJlbW92ZWQgdGhlbSBmcm9tIGN1cnJlbnQgc2VjdGlvbikgb3IgY29waWVkIHRoZW1cbiAqIGVycm9yIC0gZXJyb3IgdGV4dCByZXR1cm5lZCBmcm9tIHNlcnZlclxuICogbnVtU3R1ZGVudHMgLSBudW1iZXIgb2Ygc3R1ZGVudHMgdHJhbnNmZXJyZWQgdG8gbmV3IHNlY3Rpb25cbiAqIHNlY3Rpb25EaXNwbGF5IC0gaG93IHNlY3Rpb24gc2hvdWxkIGJlIGRpc3BsYXllZCB0byB1c2VyLiBtb3N0IGxpa2VseSB0aGUgc2VjdGlvbiBuYW1lIG9yIHNlY3Rpb24gY29kZVxuICovXG5leHBvcnQgY29uc3QgYmxhbmtTdHVkZW50VHJhbnNmZXJTdGF0dXMgPSB7XG4gIHN0YXR1czogbnVsbCxcbiAgdHlwZTogbnVsbCxcbiAgZXJyb3I6IG51bGwsXG4gIG51bVN0dWRlbnRzOiAwLFxuICBzZWN0aW9uRGlzcGxheTogJycsXG59O1xuXG4vLyBUaGlzIGRvZXNuJ3QgZ2V0IHVzZWQgdG8gbWFrZSBhIHNlcnZlciBjYWxsLCBidXQgZG9lc1xuLy8gbmVlZCB0byBiZSB1bmlxdWUgZnJvbSB0aGUgcmVzdCBvZiB0aGUgaWRzLlxuY29uc3QgYWRkUm93SWQgPSAwO1xuXG4vLyBOdW1iZXIgdGhhdCBpcyBhdmFpbGFibGUgYXMgYSBuZXcgaWQgZm9yIGFkZGluZyBzdHVkZW50cy5cbi8vIEVhY2ggbmVlZHMgYSB1bmlxdWUgaWQsIGFuZCBjb3VudHMgYmFja3dhcmQgZnJvbSAtMS5cbmxldCBhZGRSb3dJZENvdW50ZXIgPSAtMTtcblxuLy8gQWRkIHJvdyBpcyBmb3IgYWRkaW5nIGEgc2luZ2xlIHN0dWRlbnQgZnJvbSBibGFuayBkYXRhLlxuY29uc3QgYmxhbmtBZGRSb3cgPSB7XG4gIGlkOiBhZGRSb3dJZCxcbiAgbmFtZTogJycsXG4gIGFnZTogJycsXG4gIGdlbmRlcjogJycsXG4gIHVzZXJuYW1lOiAnJyxcbiAgbG9naW5UeXBlOiAnJyxcbiAgc2hhcmluZ0Rpc2FibGVkOiB0cnVlLFxuICBpc0VkaXRpbmc6IHRydWUsXG4gIHJvd1R5cGU6IFJvd1R5cGUuQURELFxufTtcblxuLy8gTmV3IHN0dWRlbnQgcm93IGlzIGNyZWF0ZWQgYWZ0ZXIgYSBsaXN0IG9mIHN0dWRlbnRzIGhhdmUgYmVlblxuLy8gYWRkZWQgdG8gdGhlIHRhYmxlLCBidXQgdGhlaXIgaW5mb3JtYXRpb24gaGFzbid0IGJlZW4gc2F2ZWRcbi8vIHRvIHRoZSBzZXJ2ZXIgeWV0LlxuY29uc3QgYmxhbmtOZXdTdHVkZW50Um93ID0ge1xuICBpZDogYWRkUm93SWQsXG4gIG5hbWU6ICcnLFxuICBhZ2U6ICcnLFxuICBnZW5kZXI6ICcnLFxuICB1c2VybmFtZTogJycsXG4gIGxvZ2luVHlwZTogJycsXG4gIHNoYXJpbmdEaXNhYmxlZDogdHJ1ZSxcbiAgaXNFZGl0aW5nOiB0cnVlLFxuICByb3dUeXBlOiBSb3dUeXBlLk5FV19TVFVERU5ULFxufTtcblxuLyoqIEluaXRpYWwgc3RhdGUgZm9yIHRoZSBtYW5hZ2VTdHVkZW50cyByZWR1eCBzdG9yZS5cbiAqIGxvZ2luVHlwZSAtIGEgU2VjdGlvbkxvZ2luVHlwZSBmb3IgdGhlIGFjdGl2ZSBzZWN0aW9uLlxuICogc2VjdGlvbklkIC0gdGhlIHNlY3Rpb25JZCBudW1iZXIgZm9yIHRoZSBhY3RpdmUgc2VjdGlvbi5cbiAqIHN0dWRlbnREYXRhIC0gcmVwcmVzZW50cyBzdHVkZW50IGluZm9ybWF0aW9uIHBlcnNpc3RlZCBvbiB0aGUgc2VydmVyLlxuICogaWYgaXNFZGl0aW5nIChpbiBzdHVkZW50RGF0YSksIHRoZW4gZWRpdGluZ0RhdGEgcmVwcmVzZW50cyB0aGUgZGF0YVxuICogaW4gdGhlIGVkaXQgZmllbGRzIG9uIHRoZSBjbGllbnQgd2hpY2ggaGFzIG5vdCB5ZXQgYmVlbiBwZXJzaXN0ZWQgdG8gdGhlIHNlcnZlci5cbiAqIHNob3dTaGFyaW5nQ29sdW1uIC0gd2hldGhlciB0aGUgY29udHJvbCBwcm9qZWN0IHNoYXJpbmcgY29sdW1uIHNob3VsZCBiZSBoaWRkZW4gb3IgdmlzaWJsZSBpbiB0aGUgdGFibGUuXG4gKiBhZGRTdGF0dXMgLSBzdGF0dXMgaXMgb2YgdHlwZSBBZGRTdGF0dXMgYW5kIG51bVN0dWRlbnRzIGlzIGhvdyBtYW55IHN0dWRlbnRzIHdlcmUgYWRkZWQuXG4gKiB0cmFuc2ZlckRhdGEgLSBpbml0aWFsIHN0YXRlIGRlc2NyaWJlZCBhYm92ZSBpbiBibGFua1N0dWRlbnRUcmFuc2ZlciBhc3NpZ25tZW50XG4gKi9cbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgbG9naW5UeXBlOiAnJyxcbiAgc2VjdGlvbklkOiBudWxsLFxuICBzdHVkZW50RGF0YToge30sXG4gIGVkaXRpbmdEYXRhOiB7fSxcbiAgc2hvd1NoYXJpbmdDb2x1bW46IGZhbHNlLFxuICBhZGRTdGF0dXM6IHtzdGF0dXM6IG51bGwsIG51bVN0dWRlbnRzOiBudWxsfSxcbiAgdHJhbnNmZXJEYXRhOiB7Li4uYmxhbmtTdHVkZW50VHJhbnNmZXJ9LFxuICB0cmFuc2ZlclN0YXR1czogey4uLmJsYW5rU3R1ZGVudFRyYW5zZmVyU3RhdHVzfSxcbiAgaXNMb2FkaW5nU3R1ZGVudHM6IHRydWUsXG59O1xuXG5jb25zdCBTRVRfTE9HSU5fVFlQRSA9ICdtYW5hZ2VTdHVkZW50cy9TRVRfTE9HSU5fVFlQRSc7XG5jb25zdCBTRVRfU1RVREVOVFMgPSAnbWFuYWdlU3R1ZGVudHMvU0VUX1NUVURFTlRTJztcbmNvbnN0IFNUQVJUX0VESVRJTkdfU1RVREVOVCA9ICdtYW5hZ2VTdHVkZW50cy9TVEFSVF9FRElUSU5HX1NUVURFTlQnO1xuY29uc3QgQ0FOQ0VMX0VESVRJTkdfU1RVREVOVCA9ICdtYW5hZ2VTdHVkZW50cy9DQU5DRUxfRURJVElOR19TVFVERU5UJztcbmNvbnN0IFJFTU9WRV9TVFVERU5UID0gJ21hbmFnZVN0dWRlbnRzL1JFTU9WRV9TVFVERU5UJztcbmNvbnN0IFNFVF9TRUNSRVRfSU1BR0UgPSAnbWFuYWdlU3R1ZGVudHMvU0VUX1NFQ1JFVF9JTUFHRSc7XG5jb25zdCBTRVRfU0VDUkVUX1dPUkRTID0gJ21hbmFnZVN0dWRlbnRzL1NFVF9TRUNSRVRfV09SRFMnO1xuY29uc3QgRURJVF9TVFVERU5UID0gJ21hbmFnZVN0dWRlbnRzL0VESVRfU1RVREVOVCc7XG5jb25zdCBTVEFSVF9TQVZJTkdfU1RVREVOVCA9ICdtYW5hZ2VTdHVkZW50cy9TVEFSVF9TQVZJTkdfU1RVREVOVCc7XG5jb25zdCBTQVZFX1NUVURFTlRfU1VDQ0VTUyA9ICdtYW5hZ2VTdHVkZW50cy9TQVZFX1NUVURFTlRfU1VDQ0VTUyc7XG5jb25zdCBBRERfU1RVREVOVF9TVUNDRVNTID0gJ21hbmFnZVN0dWRlbnRzL0FERF9TVFVERU5UX1NVQ0NFU1MnO1xuY29uc3QgQUREX1NUVURFTlRfRkFJTFVSRSA9ICdtYW5hZ2VTdHVkZW50cy9BRERfU1RVREVOVF9GQUlMVVJFJztcbmNvbnN0IEFERF9TVFVERU5UX0ZVTEwgPSAnbWFuYWdlU3R1ZGVudHMvQUREX1NUVURFTlRfRlVMTCc7XG5jb25zdCBBRERfTVVMVElQTEVfUk9XUyA9ICdtYW5hZ2VTdHVkZW50cy9BRERfTVVMVElQTEVfUk9XUyc7XG5jb25zdCBTRVRfU0hPV19TSEFSSU5HX0NPTFVNTiA9ICdtYW5hZ2VTdHVkZW50cy9TRVRfU0hPV19TSEFSSU5HX0NPTFVNTic7XG5jb25zdCBFRElUX0FMTCA9ICdtYW5hZ2VTdHVkZW50cy9FRElUX0FMTCc7XG5jb25zdCBVUERBVEVfQUxMX1NIQVJFX1NFVFRJTkcgPSAnbWFuYWdlU3R1ZGVudHMvVVBEQVRFX0FMTF9TSEFSRV9TRVRUSU5HJztcbmNvbnN0IFNFVF9TSEFSSU5HX0RFRkFVTFQgPSAnbWFuYWdlU3R1ZGVudHMvU0VUX1NIQVJJTkdfREVGQVVMVCc7XG5jb25zdCBVUERBVEVfU1RVREVOVF9UUkFOU0ZFUiA9ICdtYW5hZ2VTdHVkZW50cy9VUERBVEVfU1RVREVOVF9UUkFOU0ZFUic7XG5jb25zdCBDQU5DRUxfU1RVREVOVF9UUkFOU0ZFUiA9ICdtYW5hZ2VTdHVkZW50cy9DQU5DRUxfU1RVREVOVF9UUkFOU0ZFUic7XG5jb25zdCBUUkFOU0ZFUl9TVFVERU5UU19TVUNDRVNTID0gJ21hbmFnZVN0dWRlbnRzL1RSQU5TRkVSX1NUVURFTlRTX1NVQ0NFU1MnO1xuY29uc3QgVFJBTlNGRVJfU1RVREVOVFNfRkFJTFVSRSA9ICdtYW5hZ2VTdHVkZW50cy9UUkFOU0ZFUl9TVFVERU5UU19GQUlMVVJFJztcbmNvbnN0IFRSQU5TRkVSX1NUVURFTlRTX1BFTkRJTkcgPSAnbWFuYWdlU3R1ZGVudHMvVFJBTlNGRVJfU1RVREVOVFNfUEVORElORyc7XG5jb25zdCBUUkFOU0ZFUl9TVFVERU5UU19GVUxMID0gJ21hbmFnZVN0dWRlbnRzL1RSQU5TRkVSX1NUVURFTlRTX0ZVTEwnO1xuY29uc3QgU1RBUlRfTE9BRElOR19TVFVERU5UUyA9ICdtYW5hZ2VTdHVkZW50cy9TVEFSVF9MT0FESU5HX1NUVURFTlRTJztcbmNvbnN0IEZJTklTSF9MT0FESU5HX1NUVURFTlRTID0gJ21hbmFnZVN0dWRlbnRzL0ZJTklTSF9MT0FESU5HX1NUVURFTlRTJztcblxuLy8gQWN0aW9uIGNyZWF0b3JzXG5leHBvcnQgY29uc3Qgc3RhcnRMb2FkaW5nU3R1ZGVudHMgPSAoKSA9PiAoe3R5cGU6IFNUQVJUX0xPQURJTkdfU1RVREVOVFN9KTtcbmV4cG9ydCBjb25zdCBmaW5pc2hMb2FkaW5nU3R1ZGVudHMgPSAoKSA9PiAoe3R5cGU6IEZJTklTSF9MT0FESU5HX1NUVURFTlRTfSk7XG5cbmV4cG9ydCBjb25zdCBzZXRMb2dpblR5cGUgPSBsb2dpblR5cGUgPT4gKHt0eXBlOiBTRVRfTE9HSU5fVFlQRSwgbG9naW5UeXBlfSk7XG5leHBvcnQgY29uc3Qgc2V0U3R1ZGVudHMgPSAoc3R1ZGVudERhdGEsIHNlY3Rpb25JZCkgPT4gKHtcbiAgdHlwZTogU0VUX1NUVURFTlRTLFxuICBzdHVkZW50RGF0YSxcbiAgc2VjdGlvbklkLFxufSk7XG5leHBvcnQgY29uc3Qgc3RhcnRFZGl0aW5nU3R1ZGVudCA9IHN0dWRlbnRJZCA9PiAoe1xuICB0eXBlOiBTVEFSVF9FRElUSU5HX1NUVURFTlQsXG4gIHN0dWRlbnRJZCxcbn0pO1xuZXhwb3J0IGNvbnN0IGNhbmNlbEVkaXRpbmdTdHVkZW50ID0gc3R1ZGVudElkID0+ICh7XG4gIHR5cGU6IENBTkNFTF9FRElUSU5HX1NUVURFTlQsXG4gIHN0dWRlbnRJZCxcbn0pO1xuZXhwb3J0IGNvbnN0IHJlbW92ZVN0dWRlbnQgPSBzdHVkZW50SWQgPT4gKHt0eXBlOiBSRU1PVkVfU1RVREVOVCwgc3R1ZGVudElkfSk7XG5leHBvcnQgY29uc3Qgc2V0U2VjcmV0SW1hZ2UgPSAoc3R1ZGVudElkLCBpbWFnZSkgPT4gKHtcbiAgdHlwZTogU0VUX1NFQ1JFVF9JTUFHRSxcbiAgc3R1ZGVudElkLFxuICBpbWFnZSxcbn0pO1xuZXhwb3J0IGNvbnN0IHNldFNlY3JldFdvcmRzID0gKHN0dWRlbnRJZCwgd29yZHMpID0+ICh7XG4gIHR5cGU6IFNFVF9TRUNSRVRfV09SRFMsXG4gIHN0dWRlbnRJZCxcbiAgd29yZHMsXG59KTtcbmV4cG9ydCBjb25zdCBlZGl0U3R1ZGVudCA9IChzdHVkZW50SWQsIHN0dWRlbnREYXRhKSA9PiAoe1xuICB0eXBlOiBFRElUX1NUVURFTlQsXG4gIHN0dWRlbnRJZCxcbiAgc3R1ZGVudERhdGEsXG59KTtcbmV4cG9ydCBjb25zdCBzZXRTaGFyaW5nRGVmYXVsdCA9IHN0dWRlbnRJZCA9PiAoe1xuICB0eXBlOiBTRVRfU0hBUklOR19ERUZBVUxULFxuICBzdHVkZW50SWQsXG59KTtcbmV4cG9ydCBjb25zdCBlZGl0QWxsID0gKCkgPT4gKHt0eXBlOiBFRElUX0FMTH0pO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZUFsbFNoYXJlU2V0dGluZyA9IGRpc2FibGUgPT4gKHtcbiAgdHlwZTogVVBEQVRFX0FMTF9TSEFSRV9TRVRUSU5HLFxuICBkaXNhYmxlLFxufSk7XG5leHBvcnQgY29uc3Qgc3RhcnRTYXZpbmdTdHVkZW50ID0gc3R1ZGVudElkID0+ICh7XG4gIHR5cGU6IFNUQVJUX1NBVklOR19TVFVERU5ULFxuICBzdHVkZW50SWQsXG59KTtcbmV4cG9ydCBjb25zdCBzYXZlU3R1ZGVudFN1Y2Nlc3MgPSBzdHVkZW50SWQgPT4gKHtcbiAgdHlwZTogU0FWRV9TVFVERU5UX1NVQ0NFU1MsXG4gIHN0dWRlbnRJZCxcbn0pO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVN0dWRlbnRUcmFuc2ZlciA9IHRyYW5zZmVyRGF0YSA9PiAoe1xuICB0eXBlOiBVUERBVEVfU1RVREVOVF9UUkFOU0ZFUixcbiAgdHJhbnNmZXJEYXRhLFxufSk7XG5leHBvcnQgY29uc3QgY2FuY2VsU3R1ZGVudFRyYW5zZmVyID0gKCkgPT4gKHt0eXBlOiBDQU5DRUxfU1RVREVOVF9UUkFOU0ZFUn0pO1xuZXhwb3J0IGNvbnN0IHRyYW5zZmVyU3R1ZGVudHNTdWNjZXNzID0gKFxuICB0cmFuc2ZlclR5cGUsXG4gIG51bVN0dWRlbnRzLFxuICBzZWN0aW9uRGlzcGxheVxuKSA9PiAoe1xuICB0eXBlOiBUUkFOU0ZFUl9TVFVERU5UU19TVUNDRVNTLFxuICB0cmFuc2ZlclR5cGUsXG4gIG51bVN0dWRlbnRzLFxuICBzZWN0aW9uRGlzcGxheSxcbn0pO1xuZXhwb3J0IGNvbnN0IHRyYW5zZmVyU3R1ZGVudHNGYWlsdXJlID0gZXJyb3IgPT4gKHtcbiAgdHlwZTogVFJBTlNGRVJfU1RVREVOVFNfRkFJTFVSRSxcbiAgZXJyb3IsXG59KTtcbmV4cG9ydCBjb25zdCB0cmFuc2ZlclN0dWRlbnRzUGVuZGluZyA9ICgpID0+ICh7XG4gIHR5cGU6IFRSQU5TRkVSX1NUVURFTlRTX1BFTkRJTkcsXG59KTtcbmV4cG9ydCBjb25zdCB0cmFuc2ZlclN0dWRlbnRzRnVsbCA9IChcbiAge3NlY3Rpb25DYXBhY2l0eSwgbnVtU3R1ZGVudHMsIHNlY3Rpb25Db2RlLCBzZWN0aW9uU3R1ZGVudENvdW50fSxcbiAgY29weVxuKSA9PiAoe1xuICB0eXBlOiBUUkFOU0ZFUl9TVFVERU5UU19GVUxMLFxuICBzZWN0aW9uQ2FwYWNpdHksXG4gIG51bVN0dWRlbnRzLFxuICBzZWN0aW9uU3R1ZGVudENvdW50LFxuICBzZWN0aW9uQ29kZSxcbiAgdmVyYjogY29weSA/ICdjb3B5JyA6ICdtb3ZlJyxcbn0pO1xuZXhwb3J0IGNvbnN0IGFkZFN0dWRlbnRzU3VjY2VzcyA9IChudW1TdHVkZW50cywgcm93SWRzLCBzdHVkZW50RGF0YSkgPT4gKHtcbiAgdHlwZTogQUREX1NUVURFTlRfU1VDQ0VTUyxcbiAgbnVtU3R1ZGVudHMsXG4gIHJvd0lkcyxcbiAgc3R1ZGVudERhdGEsXG59KTtcbmV4cG9ydCBjb25zdCBhZGRTdHVkZW50c0ZhaWx1cmUgPSAobnVtU3R1ZGVudHMsIGVycm9yLCBzdHVkZW50SWRzKSA9PiAoe1xuICB0eXBlOiBBRERfU1RVREVOVF9GQUlMVVJFLFxuICBudW1TdHVkZW50cyxcbiAgZXJyb3IsXG4gIHN0dWRlbnRJZHMsXG59KTtcbmV4cG9ydCBjb25zdCBhZGRTdHVkZW50c0Z1bGwgPSAoXG4gIHtzZWN0aW9uQ2FwYWNpdHksIG51bVN0dWRlbnRzLCBzZWN0aW9uQ29kZSwgc2VjdGlvblN0dWRlbnRDb3VudH0sXG4gIHN0dWRlbnRJZHNcbikgPT4gKHtcbiAgdHlwZTogQUREX1NUVURFTlRfRlVMTCxcbiAgc2VjdGlvbkNhcGFjaXR5LFxuICBudW1TdHVkZW50cyxcbiAgc2VjdGlvblN0dWRlbnRDb3VudCxcbiAgc2VjdGlvbkNvZGUsXG4gIHN0dWRlbnRJZHMsXG59KTtcbmV4cG9ydCBjb25zdCBhZGRNdWx0aXBsZVJvd3MgPSBzdHVkZW50RGF0YSA9PiAoe1xuICB0eXBlOiBBRERfTVVMVElQTEVfUk9XUyxcbiAgc3R1ZGVudERhdGEsXG59KTtcblxuZXhwb3J0IGNvbnN0IHNldFNob3dTaGFyaW5nQ29sdW1uID0gdmlzaWJsZSA9PiAoe1xuICB0eXBlOiBTRVRfU0hPV19TSEFSSU5HX0NPTFVNTixcbiAgdmlzaWJsZSxcbn0pO1xuXG5leHBvcnQgY29uc3QgaGFuZGxlU2hhcmVTZXR0aW5nID0gZGlzYWJsZSA9PiB7XG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgZGlzcGF0Y2goZWRpdEFsbCgpKTtcbiAgICBkaXNwYXRjaCh1cGRhdGVBbGxTaGFyZVNldHRpbmcoZGlzYWJsZSkpO1xuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHNhdmVTdHVkZW50ID0gc3R1ZGVudElkID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCkubWFuYWdlU3R1ZGVudHM7XG4gICAgY29uc3Qgc2VjdGlvbklkID0gZ2V0U3RhdGUoKS50ZWFjaGVyU2VjdGlvbnMuc2VsZWN0ZWRTZWN0aW9uSWQ7XG4gICAgZGlzcGF0Y2goc3RhcnRTYXZpbmdTdHVkZW50KHN0dWRlbnRJZCkpO1xuICAgIHVwZGF0ZVN0dWRlbnRPblNlcnZlcihcbiAgICAgIHN0YXRlLmVkaXRpbmdEYXRhW3N0dWRlbnRJZF0sXG4gICAgICBzZWN0aW9uSWQsXG4gICAgICAoZXJyb3IsIGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZGlzcGF0Y2goc2F2ZVN0dWRlbnRTdWNjZXNzKHN0dWRlbnRJZCkpO1xuICAgICAgICBkaXNwYXRjaChhc3luY0xvYWRTZWN0aW9uRGF0YShzZWN0aW9uSWQpKTtcbiAgICAgIH1cbiAgICApO1xuICB9O1xufTtcblxuLy8gU2F2ZXMgYWxsIFJvd1R5cGUuU1RVREVOVCBjdXJyZW50bHkgYmVpbmcgZWRpdGVkIGFuZCBhZGRzIGFsbFxuLy8gUm93VHlwZS5ORVdfU1RVREVOVCBjdXJyZW50bHkgYmVpbmcgZWRpdGVkLlxuZXhwb3J0IGNvbnN0IHNhdmVBbGxTdHVkZW50cyA9ICgpID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCkubWFuYWdlU3R1ZGVudHM7XG5cbiAgICAvLyBDdXJyZW50bHksIGV2ZXJ5IHVwZGF0ZSBpcyBhbiBpbmRpdmlkdWFsIGNhbGwgdG8gdGhlIHNlcnZlci5cbiAgICBjb25zdCBjdXJyZW50bHlFZGl0ZWREYXRhID0gT2JqZWN0LnZhbHVlcyhzdGF0ZS5lZGl0aW5nRGF0YSk7XG4gICAgbGV0IHN0dWRlbnRzVG9TYXZlID0gY3VycmVudGx5RWRpdGVkRGF0YS5maWx0ZXIoXG4gICAgICBzdHVkZW50ID0+IHN0dWRlbnQucm93VHlwZSA9PT0gUm93VHlwZS5TVFVERU5UXG4gICAgKTtcbiAgICBzdHVkZW50c1RvU2F2ZS5mb3JFYWNoKHN0dWRlbnQgPT4ge1xuICAgICAgaWYgKHN0dWRlbnQubmFtZSAhPT0gJycpIHtcbiAgICAgICAgZGlzcGF0Y2goc2F2ZVN0dWRlbnQoc3R1ZGVudC5pZCkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQWRkaW5nIHN0dWRlbnRzIGNhbiBiZSBzYXZlZCB0b2dldGhlci5cbiAgICAvLyBPbmx5IGFkZCBzdHVkZW50cyB0aGF0IGN1cnJlbnRseSBhcmUgbm90IGluIHByb2dyZXNzIHNhdmluZy5cbiAgICBjb25zdCBhcnJheU9mRWRpdGVkRGF0YSA9IE9iamVjdC52YWx1ZXMoc3RhdGUuZWRpdGluZ0RhdGEpO1xuICAgIGNvbnN0IG5ld1N0dWRlbnRzVG9BZGQgPSBhcnJheU9mRWRpdGVkRGF0YVxuICAgICAgLmZpbHRlcihcbiAgICAgICAgc3R1ZGVudCA9PiBzdHVkZW50LnJvd1R5cGUgPT09IFJvd1R5cGUuTkVXX1NUVURFTlQgJiYgIXN0dWRlbnQuaXNTYXZpbmdcbiAgICAgIClcbiAgICAgIC5tYXAoc3R1ZGVudCA9PiBzdHVkZW50LmlkKTtcbiAgICBpZiAobmV3U3R1ZGVudHNUb0FkZC5sZW5ndGggPiAwKSB7XG4gICAgICBkaXNwYXRjaChhZGRTdHVkZW50cyhuZXdTdHVkZW50c1RvQWRkKSk7XG4gICAgfVxuICB9O1xufTtcblxuLy8gQWRkcyBhIHN0dWRlbnQsIHdpdGggdGhlIGdpdmVuIHJvdyBpZCAoc3R1ZGVudElkcyksIGZyb20gUm93VHlwZS5BREQgb3Jcbi8vIFJvd1R5cGUuTkVXX1NUVURFTlQuXG5leHBvcnQgY29uc3QgYWRkU3R1ZGVudHMgPSBzdHVkZW50SWRzID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCkubWFuYWdlU3R1ZGVudHM7XG4gICAgY29uc3Qgc2VjdGlvbklkID0gZ2V0U3RhdGUoKS50ZWFjaGVyU2VjdGlvbnMuc2VsZWN0ZWRTZWN0aW9uSWQ7XG4gICAgY29uc3QgbnVtU3R1ZGVudHNUb0FkZCA9IHN0dWRlbnRJZHMubGVuZ3RoO1xuXG4gICAgLy8gVXBkYXRlIGVhY2ggcm93IHRvIHNhdmluZyBpbiBwcm9ncmVzcy5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0dWRlbnRJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRpc3BhdGNoKHN0YXJ0U2F2aW5nU3R1ZGVudChzdHVkZW50SWRzW2ldKSk7XG4gICAgfVxuXG4gICAgY29uc3QgYXJyYXlPZkVkaXRlZERhdGEgPSBPYmplY3QudmFsdWVzKHN0YXRlLmVkaXRpbmdEYXRhKTtcbiAgICBjb25zdCBmaWx0ZXJlZERhdGEgPSBhcnJheU9mRWRpdGVkRGF0YS5maWx0ZXIoc3R1ZGVudCA9PlxuICAgICAgc3R1ZGVudElkcy5pbmNsdWRlcyhzdHVkZW50LmlkKVxuICAgICk7XG4gICAgYWRkU3R1ZGVudE9uU2VydmVyKGZpbHRlcmVkRGF0YSwgc2VjdGlvbklkLCAoZXJyb3IsIGRhdGEpID0+IHtcbiAgICAgIGlmIChlcnJvciAmJiBkYXRhICYmIGRhdGEucmVzdWx0ID09PSBBZGRTdGF0dXMuRlVMTCkge1xuICAgICAgICAvLyBzdHVkZW50SWRzIHJlcXVpcmVkIHRvIGFsbG93IGZvciByZXBlYXQgYnVsa19hZGQgYXR0ZW1wdHNcbiAgICAgICAgZGlzcGF0Y2goYWRkU3R1ZGVudHNGdWxsKGRhdGEsIHN0dWRlbnRJZHMpKTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IpIHtcbiAgICAgICAgZGlzcGF0Y2goYWRkU3R1ZGVudHNGYWlsdXJlKG51bVN0dWRlbnRzVG9BZGQsIGVycm9yLCBzdHVkZW50SWRzKSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgYWRkU3R1ZGVudHNTdWNjZXNzKFxuICAgICAgICAgICAgbnVtU3R1ZGVudHNUb0FkZCxcbiAgICAgICAgICAgIHN0dWRlbnRJZHMsXG4gICAgICAgICAgICBjb252ZXJ0U3R1ZGVudFNlcnZlckRhdGEoZGF0YSwgc3RhdGUubG9naW5UeXBlLCBzZWN0aW9uSWQpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBkaXNwYXRjaChhc3luY0xvYWRTZWN0aW9uRGF0YShzZWN0aW9uSWQpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn07XG5cbi8vIENyZWF0ZXMgYSBuZXcgUm93VHlwZS5ORVdfU1RVREVOVCBmb3IgZWFjaCBuYW1lIGluIHRoZSBhcnJheS5cbmV4cG9ydCBjb25zdCBhZGRNdWx0aXBsZUFkZFJvd3MgPSBzdHVkZW50RGF0YUFycmF5ID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdHVkZW50RGF0YSA9IHN0dWRlbnREYXRhQXJyYXlcbiAgICAgIC5maWx0ZXIoZGF0YSA9PiBkYXRhLm5hbWUpXG4gICAgICAucmVkdWNlKChhY2N1bXVsYXRvciwgZGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdJZCA9IGFkZFJvd0lkQ291bnRlci0tO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uYWNjdW11bGF0b3IsXG4gICAgICAgICAgW25ld0lkXToge1xuICAgICAgICAgICAgLi4uYmxhbmtOZXdTdHVkZW50Um93LFxuICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgICAgZmFtaWx5TmFtZTogZGF0YS5mYW1pbHlOYW1lLFxuICAgICAgICAgICAgaWQ6IG5ld0lkLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9LCB7fSk7XG4gICAgZGlzcGF0Y2goYWRkTXVsdGlwbGVSb3dzKHN0dWRlbnREYXRhKSk7XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgdHJhbnNmZXJTdHVkZW50cyA9IG9uQ29tcGxldGUgPT4ge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGRpc3BhdGNoKHRyYW5zZmVyU3R1ZGVudHNQZW5kaW5nKCkpO1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAvLyBHZXQgc2VjdGlvbiBjb2RlIGZvciBjdXJyZW50IHNlY3Rpb24gZnJvbSB0ZWFjaGVyU2VjdGlvbnNSZWR1eFxuICAgIGNvbnN0IGN1cnJlbnRTZWN0aW9uQ29kZSA9IHNlY3Rpb25Db2RlKFxuICAgICAgc3RhdGUsXG4gICAgICBzdGF0ZS50ZWFjaGVyU2VjdGlvbnMuc2VsZWN0ZWRTZWN0aW9uSWRcbiAgICApO1xuICAgIGNvbnN0IHtcbiAgICAgIHN0dWRlbnRJZHMsXG4gICAgICBzZWN0aW9uSWQ6IG5ld1NlY3Rpb25JZCxcbiAgICAgIG90aGVyVGVhY2hlcixcbiAgICAgIG90aGVyVGVhY2hlclNlY3Rpb24sXG4gICAgICBjb3B5U3R1ZGVudHMsXG4gICAgfSA9IHN0YXRlLm1hbmFnZVN0dWRlbnRzLnRyYW5zZmVyRGF0YTtcbiAgICBsZXQgbmV3U2VjdGlvbkNvZGU7XG5cbiAgICBpZiAob3RoZXJUZWFjaGVyICYmIG90aGVyVGVhY2hlclNlY3Rpb24pIHtcbiAgICAgIG5ld1NlY3Rpb25Db2RlID0gb3RoZXJUZWFjaGVyU2VjdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3U2VjdGlvbkNvZGUgPSBzZWN0aW9uQ29kZShzdGF0ZSwgbmV3U2VjdGlvbklkKTtcbiAgICB9XG5cbiAgICB0cmFuc2ZlclN0dWRlbnRzT25TZXJ2ZXIoXG4gICAgICBzdHVkZW50SWRzLFxuICAgICAgY3VycmVudFNlY3Rpb25Db2RlLFxuICAgICAgbmV3U2VjdGlvbkNvZGUsXG4gICAgICBjb3B5U3R1ZGVudHMsXG4gICAgICAoZXJyb3IsIGRhdGEpID0+IHtcbiAgICAgICAgaWYgKGVycm9yICYmIGRhdGEgJiYgZGF0YS5yZXN1bHQgPT09IFRyYW5zZmVyU3RhdHVzLkZVTEwpIHtcbiAgICAgICAgICBkaXNwYXRjaCh0cmFuc2ZlclN0dWRlbnRzRnVsbChkYXRhLCBjb3B5U3R1ZGVudHMpKTtcbiAgICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBkaXNwYXRjaCh0cmFuc2ZlclN0dWRlbnRzRmFpbHVyZSgoZGF0YSAmJiBkYXRhLmVycm9yKSB8fCBlcnJvcikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghY29weVN0dWRlbnRzIHx8ICFvdGhlclRlYWNoZXIpIHtcbiAgICAgICAgICAgIHN0dWRlbnRJZHMuZm9yRWFjaChpZCA9PiB7XG4gICAgICAgICAgICAgIGRpc3BhdGNoKHJlbW92ZVN0dWRlbnQoaWQpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB0cmFuc2ZlclR5cGUgPSBjb3B5U3R1ZGVudHNcbiAgICAgICAgICAgID8gVHJhbnNmZXJUeXBlLkNPUFlfU1RVREVOVFNcbiAgICAgICAgICAgIDogVHJhbnNmZXJUeXBlLk1PVkVfU1RVREVOVFM7XG4gICAgICAgICAgLy8gR2V0IHNlY3Rpb24gbmFtZSBmb3IgbmV3IHNlY3Rpb24gZnJvbSB0ZWFjaGVyU2VjdGlvbnNSZWR1eFxuICAgICAgICAgIGNvbnN0IHNlY3Rpb25EaXNwbGF5ID0gb3RoZXJUZWFjaGVyXG4gICAgICAgICAgICA/IG90aGVyVGVhY2hlclNlY3Rpb25cbiAgICAgICAgICAgIDogc2VjdGlvbk5hbWUoc3RhdGUsIG5ld1NlY3Rpb25JZCk7XG4gICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICB0cmFuc2ZlclN0dWRlbnRzU3VjY2VzcyhcbiAgICAgICAgICAgICAgdHJhbnNmZXJUeXBlLFxuICAgICAgICAgICAgICBzdHVkZW50SWRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgc2VjdGlvbkRpc3BsYXlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICAgIG9uQ29tcGxldGUoKTtcbiAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIGFzeW5jTG9hZFNlY3Rpb25EYXRhKHN0YXRlLnRlYWNoZXJTZWN0aW9ucy5zZWxlY3RlZFNlY3Rpb25JZClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1hbmFnZVN0dWRlbnRzKHN0YXRlID0gaW5pdGlhbFN0YXRlLCBhY3Rpb24pIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBTRVRfTE9HSU5fVFlQRSkge1xuICAgIGxldCBhZGRSb3dJbml0aWFsaXphdGlvbiA9IHt9O1xuICAgIGlmIChcbiAgICAgIGFjdGlvbi5sb2dpblR5cGUgPT09IFNlY3Rpb25Mb2dpblR5cGUud29yZCB8fFxuICAgICAgYWN0aW9uLmxvZ2luVHlwZSA9PT0gU2VjdGlvbkxvZ2luVHlwZS5waWN0dXJlXG4gICAgKSB7XG4gICAgICBhZGRSb3dJbml0aWFsaXphdGlvbiA9IHtcbiAgICAgICAgc3R1ZGVudERhdGE6IHtcbiAgICAgICAgICBbYWRkUm93SWRdOiB7XG4gICAgICAgICAgICAuLi5ibGFua0FkZFJvdyxcbiAgICAgICAgICAgIGxvZ2luVHlwZTogYWN0aW9uLmxvZ2luVHlwZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBlZGl0aW5nRGF0YToge1xuICAgICAgICAgIFthZGRSb3dJZF06IHtcbiAgICAgICAgICAgIC4uLmJsYW5rQWRkUm93LFxuICAgICAgICAgICAgbG9naW5UeXBlOiBhY3Rpb24ubG9naW5UeXBlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBsb2dpblR5cGU6IGFjdGlvbi5sb2dpblR5cGUsXG4gICAgICAuLi5hZGRSb3dJbml0aWFsaXphdGlvbixcbiAgICB9O1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX1NUVURFTlRTKSB7XG4gICAgbGV0IHN0dWRlbnREYXRhID0ge1xuICAgICAgLi4uYWN0aW9uLnN0dWRlbnREYXRhLFxuICAgIH07XG4gICAgaWYgKFxuICAgICAgc3RhdGUubG9naW5UeXBlID09PSBTZWN0aW9uTG9naW5UeXBlLndvcmQgfHxcbiAgICAgIHN0YXRlLmxvZ2luVHlwZSA9PT0gU2VjdGlvbkxvZ2luVHlwZS5waWN0dXJlXG4gICAgKSB7XG4gICAgICBzdHVkZW50RGF0YVthZGRSb3dJZF0gPSB7XG4gICAgICAgIC4uLmJsYW5rQWRkUm93LFxuICAgICAgICBsb2dpblR5cGU6IHN0YXRlLmxvZ2luVHlwZSxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHN0dWRlbnREYXRhOiBzdHVkZW50RGF0YSxcbiAgICAgIGFkZFN0YXR1czoge3N0YXR1czogbnVsbCwgbnVtU3R1ZGVudHM6IG51bGx9LFxuICAgICAgaXNMb2FkaW5nU3R1ZGVudHM6IGZhbHNlLFxuICAgICAgc2VjdGlvbklkOiBhY3Rpb24uc2VjdGlvbklkLFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBTVEFSVF9FRElUSU5HX1NUVURFTlQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBzdHVkZW50RGF0YToge1xuICAgICAgICAuLi5zdGF0ZS5zdHVkZW50RGF0YSxcbiAgICAgICAgW2FjdGlvbi5zdHVkZW50SWRdOiB7XG4gICAgICAgICAgLi4uc3RhdGUuc3R1ZGVudERhdGFbYWN0aW9uLnN0dWRlbnRJZF0sXG4gICAgICAgICAgaXNFZGl0aW5nOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGVkaXRpbmdEYXRhOiB7XG4gICAgICAgIC4uLnN0YXRlLmVkaXRpbmdEYXRhLFxuICAgICAgICBbYWN0aW9uLnN0dWRlbnRJZF06IHtcbiAgICAgICAgICAuLi5zdGF0ZS5zdHVkZW50RGF0YVthY3Rpb24uc3R1ZGVudElkXSxcbiAgICAgICAgICBpZDogYWN0aW9uLnN0dWRlbnRJZCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IENBTkNFTF9FRElUSU5HX1NUVURFTlQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBzdHVkZW50RGF0YToge1xuICAgICAgICAuLi5zdGF0ZS5zdHVkZW50RGF0YSxcbiAgICAgICAgW2FjdGlvbi5zdHVkZW50SWRdOiB7XG4gICAgICAgICAgLi4uc3RhdGUuc3R1ZGVudERhdGFbYWN0aW9uLnN0dWRlbnRJZF0sXG4gICAgICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBlZGl0aW5nRGF0YTogXy5vbWl0KHN0YXRlLmVkaXRpbmdEYXRhLCBhY3Rpb24uc3R1ZGVudElkKSxcbiAgICB9O1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU1RBUlRfU0FWSU5HX1NUVURFTlQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBzdHVkZW50RGF0YToge1xuICAgICAgICAuLi5zdGF0ZS5zdHVkZW50RGF0YSxcbiAgICAgICAgW2FjdGlvbi5zdHVkZW50SWRdOiB7XG4gICAgICAgICAgLi4uc3RhdGUuc3R1ZGVudERhdGFbYWN0aW9uLnN0dWRlbnRJZF0sXG4gICAgICAgICAgaXNTYXZpbmc6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZWRpdGluZ0RhdGE6IHtcbiAgICAgICAgLi4uc3RhdGUuZWRpdGluZ0RhdGEsXG4gICAgICAgIFthY3Rpb24uc3R1ZGVudElkXToge1xuICAgICAgICAgIC4uLnN0YXRlLmVkaXRpbmdEYXRhW2FjdGlvbi5zdHVkZW50SWRdLFxuICAgICAgICAgIGlzU2F2aW5nOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0FWRV9TVFVERU5UX1NVQ0NFU1MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBzdHVkZW50RGF0YToge1xuICAgICAgICAuLi5zdGF0ZS5zdHVkZW50RGF0YSxcbiAgICAgICAgW2FjdGlvbi5zdHVkZW50SWRdOiB7XG4gICAgICAgICAgLi4uc3RhdGUuc3R1ZGVudERhdGFbYWN0aW9uLnN0dWRlbnRJZF0sXG4gICAgICAgICAgLi4uc3RhdGUuZWRpdGluZ0RhdGFbYWN0aW9uLnN0dWRlbnRJZF0sXG4gICAgICAgICAgaXNFZGl0aW5nOiBmYWxzZSxcbiAgICAgICAgICBpc1NhdmluZzogZmFsc2UsXG4gICAgICAgICAgcm93VHlwZTogUm93VHlwZS5TVFVERU5ULFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGVkaXRpbmdEYXRhOiBfLm9taXQoc3RhdGUuZWRpdGluZ0RhdGEsIGFjdGlvbi5zdHVkZW50SWQpLFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBBRERfU1RVREVOVF9GQUlMVVJFKSB7XG4gICAgbGV0IG5ld1N0YXRlID0ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBhZGRTdGF0dXM6IHtzdGF0dXM6IEFkZFN0YXR1cy5GQUlMLCBudW1TdHVkZW50czogYWN0aW9uLm51bVN0dWRlbnRzfSxcbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aW9uLnN0dWRlbnRJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ld1N0YXRlLnN0dWRlbnREYXRhW2FjdGlvbi5zdHVkZW50SWRzW2ldXSA9IHtcbiAgICAgICAgLi4uc3RhdGUuc3R1ZGVudERhdGFbYWN0aW9uLnN0dWRlbnRJZHNbaV1dLFxuICAgICAgICBpc1NhdmluZzogZmFsc2UsXG4gICAgICB9O1xuICAgICAgbmV3U3RhdGUuZWRpdGluZ0RhdGFbYWN0aW9uLnN0dWRlbnRJZHNbaV1dID0ge1xuICAgICAgICAuLi5zdGF0ZS5lZGl0aW5nRGF0YVthY3Rpb24uc3R1ZGVudElkc1tpXV0sXG4gICAgICAgIGlzU2F2aW5nOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IEFERF9TVFVERU5UX0ZVTEwpIHtcbiAgICBsZXQgbmV3U3RhdGUgPSB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGFkZFN0YXR1czoge1xuICAgICAgICAuLi5zdGF0ZS5hZGRTdGF0dXMsXG4gICAgICAgIHN0YXR1czogQWRkU3RhdHVzLkZVTEwsXG4gICAgICAgIG51bVN0dWRlbnRzOiBhY3Rpb24ubnVtU3R1ZGVudHMsXG4gICAgICAgIHNlY3Rpb25DYXBhY2l0eTogYWN0aW9uLnNlY3Rpb25DYXBhY2l0eSxcbiAgICAgICAgc2VjdGlvbkNvZGU6IGFjdGlvbi5zZWN0aW9uQ29kZSxcbiAgICAgICAgc2VjdGlvblN0dWRlbnRDb3VudDogYWN0aW9uLnNlY3Rpb25TdHVkZW50Q291bnQsXG4gICAgICB9LFxuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3Rpb24uc3R1ZGVudElkcy5sZW5ndGg7IGkrKykge1xuICAgICAgbmV3U3RhdGUuc3R1ZGVudERhdGFbYWN0aW9uLnN0dWRlbnRJZHNbaV1dID0ge1xuICAgICAgICAuLi5zdGF0ZS5zdHVkZW50RGF0YVthY3Rpb24uc3R1ZGVudElkc1tpXV0sXG4gICAgICAgIGlzU2F2aW5nOiBmYWxzZSxcbiAgICAgIH07XG4gICAgICBuZXdTdGF0ZS5lZGl0aW5nRGF0YVthY3Rpb24uc3R1ZGVudElkc1tpXV0gPSB7XG4gICAgICAgIC4uLnN0YXRlLmVkaXRpbmdEYXRhW2FjdGlvbi5zdHVkZW50SWRzW2ldXSxcbiAgICAgICAgaXNTYXZpbmc6IGZhbHNlLFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld1N0YXRlO1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gQUREX1NUVURFTlRfU1VDQ0VTUykge1xuICAgIGxldCBuZXdTdGF0ZSA9IHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc3R1ZGVudERhdGE6IHtcbiAgICAgICAgLi4uXy5vbWl0KHN0YXRlLnN0dWRlbnREYXRhLCBhY3Rpb24ucm93SWRzKSxcbiAgICAgICAgLi4uYWN0aW9uLnN0dWRlbnREYXRhLFxuICAgICAgICBbYWRkUm93SWRdOiB7XG4gICAgICAgICAgLi4uYmxhbmtBZGRSb3csXG4gICAgICAgICAgbG9naW5UeXBlOiBzdGF0ZS5sb2dpblR5cGUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgZWRpdGluZ0RhdGE6IHtcbiAgICAgICAgLi4uXy5vbWl0KHN0YXRlLmVkaXRpbmdEYXRhLCBhY3Rpb24ucm93SWRzKSxcbiAgICAgICAgW2FkZFJvd0lkXToge1xuICAgICAgICAgIC4uLmJsYW5rQWRkUm93LFxuICAgICAgICAgIGxvZ2luVHlwZTogc3RhdGUubG9naW5UeXBlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGFkZFN0YXR1czoge3N0YXR1czogQWRkU3RhdHVzLlNVQ0NFU1MsIG51bVN0dWRlbnRzOiBhY3Rpb24ubnVtU3R1ZGVudHN9LFxuICAgIH07XG4gICAgcmV0dXJuIG5ld1N0YXRlO1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX1NIQVJJTkdfREVGQVVMVCkge1xuICAgIGNvbnN0IGVkaXRlZEFnZSA9IHN0YXRlLmVkaXRpbmdEYXRhW2FjdGlvbi5zdHVkZW50SWRdLmFnZTtcbiAgICAvLyBGb3IgcHJpdmFjeSByZWFzb25zLCB3ZSBkaXNhYmxlIHNoYXJpbmcgYnkgZGVmYXVsdCBpZiB0aGUgc3R1ZGVudCBpcyB1bmRlciB0aGUgYWdlIG9mIDEzLlxuICAgIGNvbnN0IHNoYXJpbmdEaXNhYmxlZCA9IGVkaXRlZEFnZSA8IDEzO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGVkaXRpbmdEYXRhOiB7XG4gICAgICAgIC4uLnN0YXRlLmVkaXRpbmdEYXRhLFxuICAgICAgICBbYWN0aW9uLnN0dWRlbnRJZF06IHtcbiAgICAgICAgICAuLi5zdGF0ZS5lZGl0aW5nRGF0YVthY3Rpb24uc3R1ZGVudElkXSxcbiAgICAgICAgICBpZDogYWN0aW9uLnN0dWRlbnRJZCxcbiAgICAgICAgICBzaGFyaW5nRGlzYWJsZWQ6IHNoYXJpbmdEaXNhYmxlZCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IEVESVRfU1RVREVOVCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGVkaXRpbmdEYXRhOiB7XG4gICAgICAgIC4uLnN0YXRlLmVkaXRpbmdEYXRhLFxuICAgICAgICBbYWN0aW9uLnN0dWRlbnRJZF06IHtcbiAgICAgICAgICAuLi5zdGF0ZS5lZGl0aW5nRGF0YVthY3Rpb24uc3R1ZGVudElkXSxcbiAgICAgICAgICAuLi5hY3Rpb24uc3R1ZGVudERhdGEsXG4gICAgICAgICAgaWQ6IGFjdGlvbi5zdHVkZW50SWQsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBFRElUX0FMTCkge1xuICAgIGxldCBuZXdTdGF0ZSA9IHtcbiAgICAgIC4uLnN0YXRlLFxuICAgIH07XG4gICAgZm9yIChjb25zdCBzdHVkZW50S2V5IGluIHN0YXRlLnN0dWRlbnREYXRhKSB7XG4gICAgICBjb25zdCBzdHVkZW50ID0gc3RhdGUuc3R1ZGVudERhdGFbc3R1ZGVudEtleV07XG4gICAgICBuZXdTdGF0ZS5zdHVkZW50RGF0YVtzdHVkZW50LmlkXS5pc0VkaXRpbmcgPSB0cnVlO1xuICAgICAgbmV3U3RhdGUuZWRpdGluZ0RhdGFbc3R1ZGVudC5pZF0gPSB7XG4gICAgICAgIC4uLm5ld1N0YXRlLnN0dWRlbnREYXRhW3N0dWRlbnQuaWRdLFxuICAgICAgICAuLi5zdGF0ZS5lZGl0aW5nRGF0YVtzdHVkZW50LmlkXSxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFVQREFURV9BTExfU0hBUkVfU0VUVElORykge1xuICAgIGxldCBuZXdTdGF0ZSA9IHtcbiAgICAgIC4uLnN0YXRlLFxuICAgIH07XG4gICAgZm9yIChjb25zdCBzdHVkZW50S2V5IGluIHN0YXRlLnN0dWRlbnREYXRhKSB7XG4gICAgICBjb25zdCBzdHVkZW50ID0gc3RhdGUuc3R1ZGVudERhdGFbc3R1ZGVudEtleV07XG4gICAgICBuZXdTdGF0ZS5lZGl0aW5nRGF0YVtzdHVkZW50LmlkXS5zaGFyaW5nRGlzYWJsZWQgPSBhY3Rpb24uZGlzYWJsZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld1N0YXRlO1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX1NFQ1JFVF9JTUFHRSkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHN0dWRlbnREYXRhOiB7XG4gICAgICAgIC4uLnN0YXRlLnN0dWRlbnREYXRhLFxuICAgICAgICBbYWN0aW9uLnN0dWRlbnRJZF06IHtcbiAgICAgICAgICAuLi5zdGF0ZS5zdHVkZW50RGF0YVthY3Rpb24uc3R1ZGVudElkXSxcbiAgICAgICAgICBzZWNyZXRQaWN0dXJlUGF0aDogYWN0aW9uLmltYWdlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX1NFQ1JFVF9XT1JEUykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHN0dWRlbnREYXRhOiB7XG4gICAgICAgIC4uLnN0YXRlLnN0dWRlbnREYXRhLFxuICAgICAgICBbYWN0aW9uLnN0dWRlbnRJZF06IHtcbiAgICAgICAgICAuLi5zdGF0ZS5zdHVkZW50RGF0YVthY3Rpb24uc3R1ZGVudElkXSxcbiAgICAgICAgICBzZWNyZXRXb3JkczogYWN0aW9uLndvcmRzLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gUkVNT1ZFX1NUVURFTlQpIHtcbiAgICBjb25zdCBzdHVkZW50SWQgPSBhY3Rpb24uc3R1ZGVudElkO1xuICAgIGNvbnN0IHN0dWRlbnQgPSBzdGF0ZS5zdHVkZW50RGF0YVtzdHVkZW50SWRdO1xuICAgIGlmICghc3R1ZGVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdHVkZW50IGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHN0dWRlbnREYXRhOiBfLm9taXQoc3RhdGUuc3R1ZGVudERhdGEsIHN0dWRlbnRJZCksXG4gICAgICBlZGl0aW5nRGF0YTogXy5vbWl0KHN0YXRlLmVkaXRpbmdEYXRhLCBzdHVkZW50SWQpLFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBBRERfTVVMVElQTEVfUk9XUykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHN0dWRlbnREYXRhOiB7XG4gICAgICAgIC4uLnN0YXRlLnN0dWRlbnREYXRhLFxuICAgICAgICAuLi5hY3Rpb24uc3R1ZGVudERhdGEsXG4gICAgICB9LFxuICAgICAgZWRpdGluZ0RhdGE6IHtcbiAgICAgICAgLi4uc3RhdGUuZWRpdGluZ0RhdGEsXG4gICAgICAgIC4uLmFjdGlvbi5zdHVkZW50RGF0YSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNFVF9TSE9XX1NIQVJJTkdfQ09MVU1OKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc2hvd1NoYXJpbmdDb2x1bW46ICEhYWN0aW9uLnZpc2libGUsXG4gICAgfTtcbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gVVBEQVRFX1NUVURFTlRfVFJBTlNGRVIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICB0cmFuc2ZlckRhdGE6IHtcbiAgICAgICAgLi4uc3RhdGUudHJhbnNmZXJEYXRhLFxuICAgICAgICAuLi5hY3Rpb24udHJhbnNmZXJEYXRhLFxuICAgICAgfSxcbiAgICAgIC8vIGNsZWFyIGFueSBwcmV2aW91cyBzdGF0dXMgaWYgdHJhbnNmZXIgZGF0YSBoYXMgY2hhbmdlZFxuICAgICAgdHJhbnNmZXJTdGF0dXM6IGJsYW5rU3R1ZGVudFRyYW5zZmVyU3RhdHVzLFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBDQU5DRUxfU1RVREVOVF9UUkFOU0ZFUikge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHRyYW5zZmVyRGF0YTogYmxhbmtTdHVkZW50VHJhbnNmZXIsXG4gICAgICB0cmFuc2ZlclN0YXR1czoge1xuICAgICAgICAuLi5zdGF0ZS50cmFuc2ZlclN0YXR1cyxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBUUkFOU0ZFUl9TVFVERU5UU19TVUNDRVNTKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgdHJhbnNmZXJTdGF0dXM6IHtcbiAgICAgICAgLi4uc3RhdGUudHJhbnNmZXJTdGF0dXMsXG4gICAgICAgIHN0YXR1czogVHJhbnNmZXJTdGF0dXMuU1VDQ0VTUyxcbiAgICAgICAgdHlwZTogYWN0aW9uLnRyYW5zZmVyVHlwZSxcbiAgICAgICAgbnVtU3R1ZGVudHM6IGFjdGlvbi5udW1TdHVkZW50cyxcbiAgICAgICAgc2VjdGlvbkRpc3BsYXk6IGFjdGlvbi5zZWN0aW9uRGlzcGxheSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFRSQU5TRkVSX1NUVURFTlRTX0ZVTEwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICB0cmFuc2ZlclN0YXR1czoge1xuICAgICAgICAuLi5zdGF0ZS50cmFuc2ZlclN0YXR1cyxcbiAgICAgICAgc3RhdHVzOiBUcmFuc2ZlclN0YXR1cy5GVUxMLFxuICAgICAgICBzZWN0aW9uQ2FwYWNpdHk6IGFjdGlvbi5zZWN0aW9uQ2FwYWNpdHksXG4gICAgICAgIG51bVN0dWRlbnRzOiBhY3Rpb24ubnVtU3R1ZGVudHMsXG4gICAgICAgIHNlY3Rpb25Db2RlOiBhY3Rpb24uc2VjdGlvbkNvZGUsXG4gICAgICAgIHNlY3Rpb25TdHVkZW50Q291bnQ6IGFjdGlvbi5zZWN0aW9uU3R1ZGVudENvdW50LFxuICAgICAgICB2ZXJiOiBhY3Rpb24udmVyYixcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFRSQU5TRkVSX1NUVURFTlRTX0ZBSUxVUkUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICB0cmFuc2ZlclN0YXR1czoge1xuICAgICAgICAuLi5zdGF0ZS50cmFuc2ZlclN0YXR1cyxcbiAgICAgICAgc3RhdHVzOiBUcmFuc2ZlclN0YXR1cy5GQUlMLFxuICAgICAgICBlcnJvcjogYWN0aW9uLmVycm9yLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gVFJBTlNGRVJfU1RVREVOVFNfUEVORElORykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHRyYW5zZmVyU3RhdHVzOiB7XG4gICAgICAgIC4uLnN0YXRlLnRyYW5zZmVyU3RhdHVzLFxuICAgICAgICBzdGF0dXM6IFRyYW5zZmVyU3RhdHVzLlBFTkRJTkcsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBTVEFSVF9MT0FESU5HX1NUVURFTlRTKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgaXNMb2FkaW5nU3R1ZGVudHM6IHRydWUsXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IEZJTklTSF9MT0FESU5HX1NUVURFTlRTKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgaXNMb2FkaW5nU3R1ZGVudHM6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRTdHVkZW50Q291bnQgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IHN0dWRlbnREYXRhID0gey4uLnN0YXRlLm1hbmFnZVN0dWRlbnRzLnN0dWRlbnREYXRhfTtcbiAgLy8gRGVsZXRlIHBsYWNlaG9sZGVyIHJvdyBmb3IgYWRkaW5nIGEgc3R1ZGVudCB3aGVyZSBpZCBpcyBzZXQgdG8gMC5cbiAgZGVsZXRlIHN0dWRlbnREYXRhWzBdO1xuXG4gIHJldHVybiBPYmplY3Qua2V5cyhzdHVkZW50RGF0YSkubGVuZ3RoO1xufTtcblxuLy8gQ29udmVydHMgZGF0YSBmcm9tIC9kYXNoYm9hcmRhcGkvc2VjdGlvbnMvc2VjdGlvbmlkL3N0dWRlbnRzIHRvIGEgc2V0IG9mIGtleS92YWx1ZVxuLy8gb2JqZWN0cyBmb3IgdGhlIHJlZHV4IHN0b3JlXG5leHBvcnQgY29uc3QgY29udmVydFN0dWRlbnRTZXJ2ZXJEYXRhID0gKHN0dWRlbnREYXRhLCBsb2dpblR5cGUsIHNlY3Rpb25JZCkgPT4ge1xuICBsZXQgc3R1ZGVudExvb2t1cCA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0dWRlbnREYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHN0dWRlbnQgPSBzdHVkZW50RGF0YVtpXTtcbiAgICBzdHVkZW50TG9va3VwW3N0dWRlbnQuaWRdID0ge1xuICAgICAgaWQ6IHN0dWRlbnQuaWQsXG4gICAgICBuYW1lOiBzdHVkZW50Lm5hbWUsXG4gICAgICBmYW1pbHlOYW1lOiBzdHVkZW50LmZhbWlseV9uYW1lLFxuICAgICAgdXNlcm5hbWU6IHN0dWRlbnQudXNlcm5hbWUsXG4gICAgICBlbWFpbDogc3R1ZGVudC5lbWFpbCxcbiAgICAgIGFnZTogc3R1ZGVudC5hZ2UgfHwgJycsXG4gICAgICBnZW5kZXI6IHN0dWRlbnQuZ2VuZGVyIHx8ICcnLFxuICAgICAgZ2VuZGVyVGVhY2hlcklucHV0OiBzdHVkZW50LmdlbmRlcl90ZWFjaGVyX2lucHV0IHx8ICcnLFxuICAgICAgc2VjcmV0V29yZHM6IHN0dWRlbnQuc2VjcmV0X3dvcmRzLFxuICAgICAgc2VjcmV0UGljdHVyZVBhdGg6IHN0dWRlbnQuc2VjcmV0X3BpY3R1cmVfcGF0aCxcbiAgICAgIGxvZ2luVHlwZTogbG9naW5UeXBlLFxuICAgICAgc2VjdGlvbklkOiBzZWN0aW9uSWQsXG4gICAgICBzaGFyaW5nRGlzYWJsZWQ6IHN0dWRlbnQuc2hhcmluZ19kaXNhYmxlZCxcbiAgICAgIGhhc0V2ZXJTaWduZWRJbjogc3R1ZGVudC5oYXNfZXZlcl9zaWduZWRfaW4sXG4gICAgICBkZXBlbmRzT25UaGlzU2VjdGlvbkZvckxvZ2luOiBzdHVkZW50LmRlcGVuZHNfb25fdGhpc19zZWN0aW9uX2Zvcl9sb2dpbixcbiAgICAgIGlzRWRpdGluZzogZmFsc2UsXG4gICAgICBpc1NhdmluZzogZmFsc2UsXG4gICAgICByb3dUeXBlOiBSb3dUeXBlLlNUVURFTlQsXG4gICAgICB1c2VyVHlwZTogc3R1ZGVudC51c2VyX3R5cGUsXG4gICAgfTtcbiAgfVxuICByZXR1cm4gc3R1ZGVudExvb2t1cDtcbn07XG5cbi8vIENvbnZlcnRzIGtleS92YWx1ZSBpZC9zdHVkZW50IHBhaXJzIHRvIGFuIGFycmF5IG9mIHN0dWRlbnQgb2JqZWN0cyBmb3IgdGhlXG4vLyBjb21wb25lbnQgdG8gZGlzcGxheVxuZXhwb3J0IGNvbnN0IGNvbnZlcnRTdHVkZW50RGF0YVRvQXJyYXkgPSBzdHVkZW50RGF0YSA9PiB7XG4gIHJldHVybiBPYmplY3QudmFsdWVzKHN0dWRlbnREYXRhKS5yZXZlcnNlKCk7XG59O1xuXG4vLyBNYWtlIGEgcG9zdCByZXF1ZXN0IHRvIGVkaXQgYSBzdHVkZW50LlxuY29uc3QgdXBkYXRlU3R1ZGVudE9uU2VydmVyID0gKHVwZGF0ZWRTdHVkZW50SW5mbywgc2VjdGlvbklkLCBvbkNvbXBsZXRlKSA9PiB7XG4gIGNvbnN0IGRhdGFUb1VwZGF0ZSA9IHtcbiAgICBzdHVkZW50OiB7XG4gICAgICBpZDogdXBkYXRlZFN0dWRlbnRJbmZvLmlkLFxuICAgICAgbmFtZTogdXBkYXRlZFN0dWRlbnRJbmZvLm5hbWUsXG4gICAgICBmYW1pbHlfbmFtZTogdXBkYXRlZFN0dWRlbnRJbmZvLmZhbWlseU5hbWUsXG4gICAgICBhZ2U6IHVwZGF0ZWRTdHVkZW50SW5mby5hZ2UsXG4gICAgICBnZW5kZXI6IHVwZGF0ZWRTdHVkZW50SW5mby5nZW5kZXIsXG4gICAgICBnZW5kZXJfdGVhY2hlcl9pbnB1dDogdXBkYXRlZFN0dWRlbnRJbmZvLmdlbmRlclRlYWNoZXJJbnB1dCxcbiAgICAgIHNoYXJpbmdfZGlzYWJsZWQ6IHVwZGF0ZWRTdHVkZW50SW5mby5zaGFyaW5nRGlzYWJsZWQsXG4gICAgfSxcbiAgfTtcbiAgJC5hamF4KHtcbiAgICB1cmw6IGAvZGFzaGJvYXJkYXBpL3NlY3Rpb25zLyR7c2VjdGlvbklkfS9zdHVkZW50cy8ke2RhdGFUb1VwZGF0ZS5zdHVkZW50LmlkfWAsXG4gICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgIHR5cGU6ICdqc29uJyxcbiAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YVRvVXBkYXRlKSxcbiAgfSlcbiAgICAuZG9uZShkYXRhID0+IHtcbiAgICAgIG9uQ29tcGxldGUobnVsbCwgZGF0YSk7XG4gICAgfSlcbiAgICAuZmFpbCgoanFYaHIsIHN0YXR1cykgPT4ge1xuICAgICAgb25Db21wbGV0ZShzdGF0dXMsIG51bGwpO1xuICAgIH0pO1xufTtcblxuLy8gTWFrZSBhIHBvc3QgcmVxdWVzdCB0byBhZGQgc3R1ZGVudHMuXG5jb25zdCBhZGRTdHVkZW50T25TZXJ2ZXIgPSAodXBkYXRlZFN0dWRlbnRzSW5mbywgc2VjdGlvbklkLCBvbkNvbXBsZXRlKSA9PiB7XG4gIGNvbnN0IHN0dWRlbnRzVG9BZGQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB1cGRhdGVkU3R1ZGVudHNJbmZvLmxlbmd0aDsgaSsrKSB7XG4gICAgc3R1ZGVudHNUb0FkZFtpXSA9IHtcbiAgICAgIGVkaXRpbmc6IHRydWUsXG4gICAgICBuYW1lOiB1cGRhdGVkU3R1ZGVudHNJbmZvW2ldLm5hbWUsXG4gICAgICBmYW1pbHlfbmFtZTogdXBkYXRlZFN0dWRlbnRzSW5mb1tpXS5mYW1pbHlOYW1lLFxuICAgICAgYWdlOiB1cGRhdGVkU3R1ZGVudHNJbmZvW2ldLmFnZSxcbiAgICAgIGdlbmRlcjogdXBkYXRlZFN0dWRlbnRzSW5mb1tpXS5nZW5kZXIsXG4gICAgICBnZW5kZXJfdGVhY2hlcl9pbnB1dDogdXBkYXRlZFN0dWRlbnRzSW5mb1tpXS5nZW5kZXJUZWFjaGVySW5wdXQsXG4gICAgICBzaGFyaW5nX2Rpc2FibGVkOiB1cGRhdGVkU3R1ZGVudHNJbmZvW2ldLnNoYXJpbmdEaXNhYmxlZCxcbiAgICB9O1xuICB9XG4gIGNvbnN0IHN0dWRlbnRzID0ge1xuICAgIHN0dWRlbnRzOiBzdHVkZW50c1RvQWRkLFxuICB9O1xuICAkLmFqYXgoe1xuICAgIHVybDogYC9kYXNoYm9hcmRhcGkvc2VjdGlvbnMvJHtzZWN0aW9uSWR9L3N0dWRlbnRzL2J1bGtfYWRkYCxcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoc3R1ZGVudHMpLFxuICB9KVxuICAgIC5kb25lKGRhdGEgPT4ge1xuICAgICAgb25Db21wbGV0ZShudWxsLCBkYXRhKTtcbiAgICB9KVxuICAgIC5mYWlsKChqcVhociwgc3RhdHVzKSA9PiB7XG4gICAgICBvbkNvbXBsZXRlKHN0YXR1cywganFYaHIucmVzcG9uc2VKU09OIHx8IG51bGwpO1xuICAgIH0pO1xufTtcblxuLy8gTWFrZSBhIHBvc3QgcmVxdWVzdCB0byB0cmFuc2ZlciBzdHVkZW50cy5cbmNvbnN0IHRyYW5zZmVyU3R1ZGVudHNPblNlcnZlciA9IChcbiAgc3R1ZGVudElkcyxcbiAgY3VycmVudFNlY3Rpb25Db2RlLFxuICBuZXdTZWN0aW9uQ29kZSxcbiAgc3RheUVucm9sbGVkSW5DdXJyZW50U2VjdGlvbixcbiAgb25Db21wbGV0ZVxuKSA9PiB7XG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgc3R1ZGVudF9pZHM6IHN0dWRlbnRJZHMsXG4gICAgY3VycmVudF9zZWN0aW9uX2NvZGU6IGN1cnJlbnRTZWN0aW9uQ29kZSxcbiAgICBuZXdfc2VjdGlvbl9jb2RlOiBuZXdTZWN0aW9uQ29kZSxcbiAgICBzdGF5X2Vucm9sbGVkX2luX2N1cnJlbnRfc2VjdGlvbjogc3RheUVucm9sbGVkSW5DdXJyZW50U2VjdGlvbixcbiAgfTtcbiAgJC5hamF4KHtcbiAgICB1cmw6ICcvZGFzaGJvYXJkYXBpL3NlY3Rpb25zL3RyYW5zZmVycycsXG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnLFxuICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICB9KVxuICAgIC5kb25lKGRhdGEgPT4ge1xuICAgICAgb25Db21wbGV0ZShudWxsLCBkYXRhKTtcbiAgICB9KVxuICAgIC5mYWlsKChqcVhociwgc3RhdHVzKSA9PiB7XG4gICAgICBvbkNvbXBsZXRlKHN0YXR1cywganFYaHIucmVzcG9uc2VKU09OKTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2FkU2VjdGlvblN0dWRlbnREYXRhID0gc2VjdGlvbklkID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCkubWFuYWdlU3R1ZGVudHM7XG5cbiAgICAvLyBEb24ndCBsb2FkIGRhdGEgaWYgaXQncyBhbHJlYWR5IHN0b3JlZCBpbiByZWR1eC5cbiAgICBjb25zdCBhbHJlYWR5SGF2ZVN0dWRlbnREYXRhID0gc3RhdGUuc2VjdGlvbklkID09PSBzZWN0aW9uSWQ7XG5cbiAgICBpZiAoIWFscmVhZHlIYXZlU3R1ZGVudERhdGEpIHtcbiAgICAgIGRpc3BhdGNoKHN0YXJ0TG9hZGluZ1N0dWRlbnRzKCkpO1xuICAgICAgJC5hamF4KHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdXJsOiBgL2Rhc2hib2FyZGFwaS9zZWN0aW9ucy8ke3NlY3Rpb25JZH0vc3R1ZGVudHNgLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgfSkuZG9uZShzdHVkZW50RGF0YSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZFN0dWRlbnREYXRhID0gY29udmVydFN0dWRlbnRTZXJ2ZXJEYXRhKFxuICAgICAgICAgIHN0dWRlbnREYXRhLFxuICAgICAgICAgIHN0YXRlLmxvZ2luVHlwZSxcbiAgICAgICAgICBzZWN0aW9uSWRcbiAgICAgICAgKTtcbiAgICAgICAgZGlzcGF0Y2goc2V0U3R1ZGVudHMoY29udmVydGVkU3R1ZGVudERhdGEsIHNlY3Rpb25JZCkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BhdGNoKGZpbmlzaExvYWRpbmdTdHVkZW50cygpKTtcbiAgICB9XG4gIH07XG59O1xuIl0sIm5hbWVzIjpbIm1hbmFnZVN0dWRlbnRzIiwic3RhdGUiLCJpbml0aWFsU3RhdGUiLCJhY3Rpb24iLCJ0eXBlIiwiU0VUX0xPR0lOX1RZUEUiLCJhZGRSb3dJbml0aWFsaXphdGlvbiIsImxvZ2luVHlwZSIsIlNlY3Rpb25Mb2dpblR5cGUiLCJ3b3JkIiwicGljdHVyZSIsInN0dWRlbnREYXRhIiwiYWRkUm93SWQiLCJibGFua0FkZFJvdyIsImVkaXRpbmdEYXRhIiwiU0VUX1NUVURFTlRTIiwiYWRkU3RhdHVzIiwic3RhdHVzIiwibnVtU3R1ZGVudHMiLCJpc0xvYWRpbmdTdHVkZW50cyIsInNlY3Rpb25JZCIsIlNUQVJUX0VESVRJTkdfU1RVREVOVCIsInN0dWRlbnRJZCIsImlzRWRpdGluZyIsImlkIiwiQ0FOQ0VMX0VESVRJTkdfU1RVREVOVCIsIl8iLCJvbWl0IiwiU1RBUlRfU0FWSU5HX1NUVURFTlQiLCJpc1NhdmluZyIsIlNBVkVfU1RVREVOVF9TVUNDRVNTIiwicm93VHlwZSIsIlJvd1R5cGUiLCJTVFVERU5UIiwiQUREX1NUVURFTlRfRkFJTFVSRSIsIm5ld1N0YXRlIiwiQWRkU3RhdHVzIiwiRkFJTCIsImkiLCJzdHVkZW50SWRzIiwibGVuZ3RoIiwiQUREX1NUVURFTlRfRlVMTCIsIkZVTEwiLCJzZWN0aW9uQ2FwYWNpdHkiLCJzZWN0aW9uQ29kZSIsInNlY3Rpb25TdHVkZW50Q291bnQiLCJBRERfU1RVREVOVF9TVUNDRVNTIiwicm93SWRzIiwiU1VDQ0VTUyIsIlNFVF9TSEFSSU5HX0RFRkFVTFQiLCJzaGFyaW5nRGlzYWJsZWQiLCJhZ2UiLCJFRElUX1NUVURFTlQiLCJFRElUX0FMTCIsInN0dWRlbnRLZXkiLCJzdHVkZW50IiwiVVBEQVRFX0FMTF9TSEFSRV9TRVRUSU5HIiwiZGlzYWJsZSIsIlNFVF9TRUNSRVRfSU1BR0UiLCJzZWNyZXRQaWN0dXJlUGF0aCIsImltYWdlIiwiU0VUX1NFQ1JFVF9XT1JEUyIsInNlY3JldFdvcmRzIiwid29yZHMiLCJSRU1PVkVfU1RVREVOVCIsIkVycm9yIiwiQUREX01VTFRJUExFX1JPV1MiLCJTRVRfU0hPV19TSEFSSU5HX0NPTFVNTiIsInNob3dTaGFyaW5nQ29sdW1uIiwidmlzaWJsZSIsIlVQREFURV9TVFVERU5UX1RSQU5TRkVSIiwidHJhbnNmZXJEYXRhIiwidHJhbnNmZXJTdGF0dXMiLCJibGFua1N0dWRlbnRUcmFuc2ZlclN0YXR1cyIsIkNBTkNFTF9TVFVERU5UX1RSQU5TRkVSIiwiYmxhbmtTdHVkZW50VHJhbnNmZXIiLCJlcnJvciIsIlRSQU5TRkVSX1NUVURFTlRTX1NVQ0NFU1MiLCJUcmFuc2ZlclN0YXR1cyIsInRyYW5zZmVyVHlwZSIsInNlY3Rpb25EaXNwbGF5IiwiVFJBTlNGRVJfU1RVREVOVFNfRlVMTCIsInZlcmIiLCJUUkFOU0ZFUl9TVFVERU5UU19GQUlMVVJFIiwiVFJBTlNGRVJfU1RVREVOVFNfUEVORElORyIsIlBFTkRJTkciLCJTVEFSVF9MT0FESU5HX1NUVURFTlRTIiwiRklOSVNIX0xPQURJTkdfU1RVREVOVFMiLCJBQk9WRV9UQUJMRSIsIkJFTE9XX1RBQkxFIiwiTUFOQUdFX1NUVURFTlRTIiwiTE9HSU5fSU5GTyIsIkFERCIsIk5FV19TVFVERU5UIiwiVHJhbnNmZXJUeXBlIiwiTU9WRV9TVFVERU5UUyIsIkNPUFlfU1RVREVOVFMiLCJvdGhlclRlYWNoZXIiLCJvdGhlclRlYWNoZXJTZWN0aW9uIiwiY29weVN0dWRlbnRzIiwiYWRkUm93SWRDb3VudGVyIiwibmFtZSIsImdlbmRlciIsInVzZXJuYW1lIiwiYmxhbmtOZXdTdHVkZW50Um93Iiwic3RhcnRMb2FkaW5nU3R1ZGVudHMiLCJmaW5pc2hMb2FkaW5nU3R1ZGVudHMiLCJzZXRMb2dpblR5cGUiLCJzZXRTdHVkZW50cyIsInN0YXJ0RWRpdGluZ1N0dWRlbnQiLCJjYW5jZWxFZGl0aW5nU3R1ZGVudCIsInJlbW92ZVN0dWRlbnQiLCJzZXRTZWNyZXRJbWFnZSIsInNldFNlY3JldFdvcmRzIiwiZWRpdFN0dWRlbnQiLCJzZXRTaGFyaW5nRGVmYXVsdCIsImVkaXRBbGwiLCJ1cGRhdGVBbGxTaGFyZVNldHRpbmciLCJzdGFydFNhdmluZ1N0dWRlbnQiLCJzYXZlU3R1ZGVudFN1Y2Nlc3MiLCJ1cGRhdGVTdHVkZW50VHJhbnNmZXIiLCJjYW5jZWxTdHVkZW50VHJhbnNmZXIiLCJ0cmFuc2ZlclN0dWRlbnRzU3VjY2VzcyIsInRyYW5zZmVyU3R1ZGVudHNGYWlsdXJlIiwidHJhbnNmZXJTdHVkZW50c1BlbmRpbmciLCJ0cmFuc2ZlclN0dWRlbnRzRnVsbCIsImNvcHkiLCJhZGRTdHVkZW50c1N1Y2Nlc3MiLCJhZGRTdHVkZW50c0ZhaWx1cmUiLCJhZGRTdHVkZW50c0Z1bGwiLCJhZGRNdWx0aXBsZVJvd3MiLCJzZXRTaG93U2hhcmluZ0NvbHVtbiIsImhhbmRsZVNoYXJlU2V0dGluZyIsImRpc3BhdGNoIiwiZ2V0U3RhdGUiLCJzYXZlU3R1ZGVudCIsInRlYWNoZXJTZWN0aW9ucyIsInNlbGVjdGVkU2VjdGlvbklkIiwidXBkYXRlU3R1ZGVudE9uU2VydmVyIiwiZGF0YSIsImNvbnNvbGUiLCJhc3luY0xvYWRTZWN0aW9uRGF0YSIsInNhdmVBbGxTdHVkZW50cyIsIk9iamVjdCIsInZhbHVlcyIsImZpbHRlciIsImZvckVhY2giLCJuZXdTdHVkZW50c1RvQWRkIiwibWFwIiwiYWRkU3R1ZGVudHMiLCJudW1TdHVkZW50c1RvQWRkIiwiZmlsdGVyZWREYXRhIiwiaW5jbHVkZXMiLCJhZGRTdHVkZW50T25TZXJ2ZXIiLCJyZXN1bHQiLCJjb252ZXJ0U3R1ZGVudFNlcnZlckRhdGEiLCJhZGRNdWx0aXBsZUFkZFJvd3MiLCJzdHVkZW50RGF0YUFycmF5IiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJuZXdJZCIsImZhbWlseU5hbWUiLCJ0cmFuc2ZlclN0dWRlbnRzIiwib25Db21wbGV0ZSIsIm5ld1NlY3Rpb25Db2RlIiwiY3VycmVudFNlY3Rpb25Db2RlIiwibmV3U2VjdGlvbklkIiwidHJhbnNmZXJTdHVkZW50c09uU2VydmVyIiwic2VjdGlvbk5hbWUiLCJnZXRTdHVkZW50Q291bnQiLCJrZXlzIiwic3R1ZGVudExvb2t1cCIsImZhbWlseV9uYW1lIiwiZW1haWwiLCJnZW5kZXJUZWFjaGVySW5wdXQiLCJnZW5kZXJfdGVhY2hlcl9pbnB1dCIsInNlY3JldF93b3JkcyIsInNlY3JldF9waWN0dXJlX3BhdGgiLCJzaGFyaW5nX2Rpc2FibGVkIiwiaGFzRXZlclNpZ25lZEluIiwiaGFzX2V2ZXJfc2lnbmVkX2luIiwiZGVwZW5kc09uVGhpc1NlY3Rpb25Gb3JMb2dpbiIsImRlcGVuZHNfb25fdGhpc19zZWN0aW9uX2Zvcl9sb2dpbiIsInVzZXJUeXBlIiwidXNlcl90eXBlIiwiY29udmVydFN0dWRlbnREYXRhVG9BcnJheSIsInJldmVyc2UiLCJ1cGRhdGVkU3R1ZGVudEluZm8iLCJkYXRhVG9VcGRhdGUiLCIkIiwiYWpheCIsInVybCIsIm1ldGhvZCIsImNvbnRlbnRUeXBlIiwiSlNPTiIsInN0cmluZ2lmeSIsImRvbmUiLCJmYWlsIiwianFYaHIiLCJ1cGRhdGVkU3R1ZGVudHNJbmZvIiwic3R1ZGVudHNUb0FkZCIsImVkaXRpbmciLCJzdHVkZW50cyIsInJlc3BvbnNlSlNPTiIsInN0YXlFbnJvbGxlZEluQ3VycmVudFNlY3Rpb24iLCJwYXlsb2FkIiwic3R1ZGVudF9pZHMiLCJjdXJyZW50X3NlY3Rpb25fY29kZSIsIm5ld19zZWN0aW9uX2NvZGUiLCJzdGF5X2Vucm9sbGVkX2luX2N1cnJlbnRfc2VjdGlvbiIsImxvYWRTZWN0aW9uU3R1ZGVudERhdGEiLCJkYXRhVHlwZSIsImNvbnZlcnRlZFN0dWRlbnREYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==