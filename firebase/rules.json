{
  "rules": {
    "v3": {
      "config": {
        ".read": "auth.uid != null"
      },
      "channels": {
        "$channelId": {
          ".read": "auth.uid != null",
          "serverTime": {
            ".validate": "newData.isNumber()",
            ".write": "auth.uid != null"
          },
          "counters": {
            ".validate": "newData.hasChildren(['limits'])",
            "limits": {
              "15": {
                ".validate": "newData.hasChildren() && ((newData.parent().parent().parent().child('counters').child('limits').child(15 + '').child('lastResetTime').val() == null ? 0 : newData.parent().parent().parent().child('counters').child('limits').child(15 + '').child('lastResetTime').val()) == (data.parent().parent().parent().child('counters').child('limits').child(15 + '').child('lastResetTime').val() == null ? 0 : data.parent().parent().parent().child('counters').child('limits').child(15 + '').child('lastResetTime').val()) && (newData.parent().parent().parent().child('counters').child('limits').child(15 + '').child('writeCount').val() == null ? 0 : newData.parent().parent().parent().child('counters').child('limits').child(15 + '').child('writeCount').val()) > (data.parent().parent().parent().child('counters').child('limits').child(15 + '').child('writeCount').val() == null ? 0 : data.parent().parent().parent().child('counters').child('limits').child(15 + '').child('writeCount').val()) && newData.parent().parent().parent().child('counters').child('limits').child(15 + '').child('writeCount').val() <= newData.parent().parent().parent().parent().parent().parent().child('v3').child('config').child('channels').child('limits').child('15').val() || newData.parent().parent().parent().child('counters').child('limits').child(15 + '').child('lastResetTime').val() == now && (newData.parent().parent().parent().child('counters').child('limits').child(15 + '').child('lastResetTime').val() == null ? 0 : newData.parent().parent().parent().child('counters').child('limits').child(15 + '').child('lastResetTime').val()) >= (data.parent().parent().parent().child('counters').child('limits').child(15 + '').child('lastResetTime').val() == null ? 0 : data.parent().parent().parent().child('counters').child('limits').child(15 + '').child('lastResetTime').val()) + 15 * 1000 && newData.parent().parent().parent().child('counters').child('limits').child(15 + '').child('writeCount').val() == 1)",
                "lastResetTime": {
                  ".validate": "newData.isNumber()"
                },
                "writeCount": {
                  ".validate": "newData.isNumber()"
                },
                "$other": {
                  ".validate": "false"
                }
              },
              "60": {
                ".validate": "newData.hasChildren() && ((newData.parent().parent().parent().child('counters').child('limits').child(60 + '').child('lastResetTime').val() == null ? 0 : newData.parent().parent().parent().child('counters').child('limits').child(60 + '').child('lastResetTime').val()) == (data.parent().parent().parent().child('counters').child('limits').child(60 + '').child('lastResetTime').val() == null ? 0 : data.parent().parent().parent().child('counters').child('limits').child(60 + '').child('lastResetTime').val()) && (newData.parent().parent().parent().child('counters').child('limits').child(60 + '').child('writeCount').val() == null ? 0 : newData.parent().parent().parent().child('counters').child('limits').child(60 + '').child('writeCount').val()) > (data.parent().parent().parent().child('counters').child('limits').child(60 + '').child('writeCount').val() == null ? 0 : data.parent().parent().parent().child('counters').child('limits').child(60 + '').child('writeCount').val()) && newData.parent().parent().parent().child('counters').child('limits').child(60 + '').child('writeCount').val() <= newData.parent().parent().parent().parent().parent().parent().child('v3').child('config').child('channels').child('limits').child('60').val() || newData.parent().parent().parent().child('counters').child('limits').child(60 + '').child('lastResetTime').val() == now && (newData.parent().parent().parent().child('counters').child('limits').child(60 + '').child('lastResetTime').val() == null ? 0 : newData.parent().parent().parent().child('counters').child('limits').child(60 + '').child('lastResetTime').val()) >= (data.parent().parent().parent().child('counters').child('limits').child(60 + '').child('lastResetTime').val() == null ? 0 : data.parent().parent().parent().child('counters').child('limits').child(60 + '').child('lastResetTime').val()) + 60 * 1000 && newData.parent().parent().parent().child('counters').child('limits').child(60 + '').child('writeCount').val() == 1)",
                "lastResetTime": {
                  ".validate": "newData.isNumber()"
                },
                "writeCount": {
                  ".validate": "newData.isNumber()"
                },
                "$other": {
                  ".validate": "false"
                }
              },
              ".validate": "newData.hasChildren()",
              "$other": {
                ".validate": "false"
              }
            },
            "tables": {
              "$key1": {
                ".validate": "newData.hasChildren() && (newData.child('lastId').val() == null ? 0 : newData.child('lastId').val()) >= (data.child('lastId').val() == null ? -1 : data.child('lastId').val()) && (newData.child('rowCount').val() == null ? 0 : newData.child('rowCount').val()) >= 0 && (newData.child('rowCount').val() == null ? 0 : newData.child('rowCount').val()) <= newData.parent().parent().parent().parent().parent().parent().child('v3').child('config').child('channels').child('maxTableRows').val()",
                "lastId": {
                  ".validate": "newData.isNumber()"
                },
                "rowCount": {
                  ".validate": "newData.isNumber()"
                },
                "$other": {
                  ".validate": "false"
                }
              },
              ".validate": "newData.hasChildren()"
            },
            "$other": {
              ".validate": "false"
            },
            ".write": "auth.uid != null"
          },
          "metadata": {
            ".validate": "newData.hasChildren()",
            "tables": {
              "$key2": {
                ".validate": "newData.hasChildren()",
                "columns": {
                  "$key3": {
                    ".validate": "newData.hasChildren(['columnName'])",
                    "columnName": {
                      ".validate": "newData.isString()"
                    },
                    "$other": {
                      ".validate": "false"
                    }
                  },
                  ".validate": "newData.hasChildren()"
                },
                "$other": {
                  ".validate": "false"
                }
              },
              ".validate": "newData.hasChildren()"
            },
            "$other": {
              ".validate": "false"
            },
            ".write": "auth.uid != null"
          },
          "storage": {
            ".validate": "newData.hasChildren()",
            "tables": {
              "$key4": {
                ".validate": "newData.hasChildren()",
                "records": {
                  "$key5": {
                    ".validate": "newData.isString() && newData.val().length <= newData.parent().parent().parent().parent().parent().parent().parent().parent().child('v3').child('config').child('channels').child('maxRecordSize').val()"
                  },
                  ".validate": "newData.hasChildren()"
                },
                "$other": {
                  ".validate": "false"
                }
              },
              ".validate": "newData.hasChildren()"
            },
            "keys": {
              "$key6": {
                ".validate": "newData.isString() && newData.val().length <= newData.parent().parent().parent().parent().parent().parent().child('v3').child('config').child('channels').child('maxPropertySize').val()"
              },
              ".validate": "newData.hasChildren()"
            },
            "$other": {
              ".validate": "false"
            },
            ".write": "auth.uid != null"
          }
        }
      }
    }
  }
}
