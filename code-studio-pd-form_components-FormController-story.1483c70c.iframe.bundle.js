/*! For license information please see code-studio-pd-form_components-FormController-story.1483c70c.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[7893],{"./src/code-studio/pd/form_components/FormComponent.jsx":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_ButtonList=__webpack_require__("./src/code-studio/pd/form_components/ButtonList.jsx"),_FieldGroup=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/form_components/FieldGroup.jsx")),_UsPhoneNumberInput=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/form_components/UsPhoneNumberInput.jsx")),_SingleCheckbox=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/form_components/SingleCheckbox.jsx")),_utils=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/form_components/utils.js")),_excluded=["name","label","placeholder","required"],_excluded2=["name","label","placeholder","required","options"],_excluded3=["name","label","type","required"],_excluded4=["name","label","required"],_excluded5=["name","label","type","required"],_excluded6=["name","label","type","required","textFieldMap"],_excluded7=["name","label","type","required","options","textFieldMap"],_excluded8=["name","label","type","required","answers"],_excluded9=["name","label","required"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var FormComponent=function(_React$Component){function FormComponent(props){var _this;if((_this=_React$Component.call(this,props)||this).constructor===FormComponent)throw new TypeError("\n        FormComponent is an abstract class; cannot construct instances directly\n      ");return _this.handleChange=_this.handleChange.bind(function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(_this)),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(FormComponent,_React$Component),FormComponent.getDynamicallyRequiredFields=function getDynamicallyRequiredFields(data){return[]},FormComponent.getErrorMessages=function getErrorMessages(data){return{}},FormComponent.processPageData=function processPageData(data){return{}};var _proto=FormComponent.prototype;return _proto.handleChange=function handleChange(newState){this.props.onChange(newState)},_proto.getValidationState=function getValidationState(name){if(this.props.errors.includes(name))return"error"},_proto.buildSelectFieldGroupFromOptions=function buildSelectFieldGroupFromOptions(_ref){var name=_ref.name,label=_ref.label,placeholder=_ref.placeholder,required=_ref.required,props=_objectWithoutProperties(_ref,_excluded),options=this.props.options[name];return this.buildSelectFieldGroup(_objectSpread({name,label,placeholder,required,options},props))},_proto.buildSelectFieldGroup=function buildSelectFieldGroup(_ref2){var renderedOptions,name=_ref2.name,label=_ref2.label,placeholder=_ref2.placeholder,required=_ref2.required,options=_ref2.options,props=_objectWithoutProperties(_ref2,_excluded2);return renderedOptions=Array.isArray(options)?options.map((function(value){var _utils$normalizeAnswe=_utils.default.normalizeAnswer(value),answerText=_utils$normalizeAnswe.answerText,answerValue=_utils$normalizeAnswe.answerValue;return _react.default.createElement("option",{key:answerValue,value:answerValue},answerText)})):Object.keys(options).map((function(key){return _react.default.createElement("option",{key,value:key},options[key])})),_react.default.createElement(_FieldGroup.default,_extends({key:name,id:name,componentClass:"select",label,validationState:this.getValidationState(name),errorMessage:this.props.errorMessages[name],onChange:this.handleChange,value:this.props.data[name]||"",required},props),placeholder&&_react.default.createElement("option",{key:"placeholder",value:""},placeholder),renderedOptions)},_proto.buildFieldGroup=function buildFieldGroup(_ref3){var name=_ref3.name,label=_ref3.label,type=_ref3.type,required=_ref3.required,props=_objectWithoutProperties(_ref3,_excluded3);return _react.default.createElement(_FieldGroup.default,_extends({key:name,id:name,type,label,validationState:this.getValidationState(name),errorMessage:this.props.errorMessages[name],onChange:this.handleChange,value:this.props.data[name]||"",required},props))},_proto.buildUsPhoneNumberInput=function buildUsPhoneNumberInput(_ref4){var name=_ref4.name,label=_ref4.label,required=_ref4.required,props=_objectWithoutProperties(_ref4,_excluded4);return _react.default.createElement(_UsPhoneNumberInput.default,_extends({name,label,required,validationState:this.getValidationState(name),errorMessage:this.props.errorMessages[name],onChange:this.handleChange,value:this.props.data[name]},props))},_proto.buildButtonsFromOptions=function buildButtonsFromOptions(_ref5){var name=_ref5.name,label=_ref5.label,type=_ref5.type,required=_ref5.required,props=_objectWithoutProperties(_ref5,_excluded5);if(!this.props.options[name]||0===this.props.options[name].length)throw"Cannot create buttons for ".concat(name," without options");var answers=this.props.options[name];return this.buildButtons(_objectSpread({name,label,type,required,answers},props))},_proto.buildButtonsWithAdditionalTextFieldsFromOptions=function buildButtonsWithAdditionalTextFieldsFromOptions(_ref6){var name=_ref6.name,label=_ref6.label,type=_ref6.type,required=_ref6.required,textFieldMap=_ref6.textFieldMap,props=_objectWithoutProperties(_ref6,_excluded6);if(!this.props.options[name]||0===this.props.options[name].length)throw"Cannot create buttons for ".concat(name," without options");var options=this.props.options[name];return this.buildButtonsWithAdditionalTextFields(_objectSpread({name,label,type,required,options,textFieldMap},props))},_proto.buildButtonsWithAdditionalTextFields=function buildButtonsWithAdditionalTextFields(_ref7){var _this2=this,name=_ref7.name,label=_ref7.label,type=_ref7.type,required=_ref7.required,options=_ref7.options,textFieldMap=_ref7.textFieldMap,props=_objectWithoutProperties(_ref7,_excluded7),answers=options.map((function(answer){if(!(answer in textFieldMap))return answer;var textFieldName="".concat(name,"_").concat(textFieldMap[answer]);return{answerText:answer,inputValue:_this2.props.data[textFieldName],onInputChange:function onInputChange(newValue){return _this2.handleChange(_defineProperty({},textFieldName,newValue))}}}));return this.buildButtons(_objectSpread({name,label,type,required,answers},props))},_proto.buildButtons=function buildButtons(_ref8){var name=_ref8.name,label=_ref8.label,type=_ref8.type,required=_ref8.required,answers=_ref8.answers,props=_objectWithoutProperties(_ref8,_excluded8);return void 0===required&&(required=!0),_react.default.createElement(_ButtonList.ButtonList,_extends({key:name,answers,groupName:name,label,onChange:this.handleChange,selectedItems:this.props.data[name],validationState:this.getValidationState(name),required,type},props))},_proto.buildSingleCheckbox=function buildSingleCheckbox(_ref9){var name=_ref9.name,label=_ref9.label,required=_ref9.required,props=_objectWithoutProperties(_ref9,_excluded9);return void 0===required&&(required=!0),_react.default.createElement(_SingleCheckbox.default,_extends({name,label,required,validationState:this.getValidationState(name),value:this.props.data[name],onChange:this.handleChange},props))},FormComponent}(_react.default.Component);exports.default=FormComponent,_defineProperty(FormComponent,"propTypes",{options:_propTypes.default.object.isRequired,errors:_propTypes.default.arrayOf(_propTypes.default.string).isRequired,errorMessages:_propTypes.default.object.isRequired,data:_propTypes.default.object.isRequired,onChange:_propTypes.default.func.isRequired}),_defineProperty(FormComponent,"associatedFields",[]),module.exports=exports.default},"./src/code-studio/pd/form_components/FormController.jsx":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_jquery=_interopRequireDefault(__webpack_require__("./node_modules/jquery/dist/jquery.js")),_reactBootstrap=__webpack_require__("./node_modules/react-bootstrap/es/index.js"),_pagination=__webpack_require__("./node_modules/@react-bootstrap/pagination/lib/index.js"),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var FormController=function(_React$Component){function FormController(props){var _this;if(_defineProperty(_assertThisInitialized(_this=_React$Component.call(this,props)||this),"saveToSessionStorage",(function(newState){if(_this.constructor.sessionStorageKey){var mergedData=_objectSpread(_objectSpread({},{currentPage:_this.state.currentPage,data:_this.state.data}),newState);sessionStorage.setItem(_this.constructor.sessionStorageKey,JSON.stringify(mergedData))}})),_this.constructor===FormController)throw new TypeError("\n        FormController is an abstract class; cannot construct instances directly\n      ");return _this.state={data:{},errors:[],errorMessages:{},errorHeader:null,globalError:!1,currentPage:0,submitting:!1},_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this)),_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this)),_this.nextPage=_this.nextPage.bind(_assertThisInitialized(_this)),_this.prevPage=_this.prevPage.bind(_assertThisInitialized(_this)),_this.onInitialize(),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(FormController,_React$Component);var _proto=FormController.prototype;return _proto.UNSAFE_componentWillMount=function UNSAFE_componentWillMount(){var newPage;if(this.constructor.sessionStorageKey&&sessionStorage[this.constructor.sessionStorageKey]){var reloadedState=JSON.parse(sessionStorage[this.constructor.sessionStorageKey]);this.setState(reloadedState),newPage=reloadedState.currentPage}else newPage=this.state.currentPage;this.onSetPage(newPage)},_proto.UNSAFE_componentWillUpdate=function UNSAFE_componentWillUpdate(nextProps,nextState){if(0===this.state.errors.length&&nextState.errors.length>0)for(var i=0;i<this.getPageComponents().length;i++)if(this.pageHasError(i,nextState.errors)){nextState.currentPage=i;break}},_proto.componentDidUpdate=function componentDidUpdate(prevProps,prevState){var newErrors=prevState.errors.length<this.state.errors.length,newPage=prevState.currentPage!==this.state.currentPage;(newErrors||newPage)&&(0,_jquery.default)("html, body").animate({scrollTop:0},200),newPage&&this.onSetPage(this.state.currentPage)},_proto.getPageComponents=function getPageComponents(){throw new TypeError("must override FormController.getPageComponents")},_proto.getCurrentPageComponent=function getCurrentPageComponent(){return this.getPageComponents()[this.state.currentPage]},_proto.handleChange=function handleChange(newState){var newFields=Object.keys(newState),errors=this.state.errors.filter((function(error){return!newFields.includes(error)})),data=Object.assign({},this.state.data,newState);this.setState({data,errors}),this.saveToSessionStorage({data})},_proto.serializeFormData=function serializeFormData(){return{form_data:this.state.data}},_proto.onInitialize=function onInitialize(){},_proto.onSuccessfulSubmit=function onSuccessfulSubmit(){},_proto.onSetPage=function onSetPage(newPage){},_proto.handleSubmit=function handleSubmit(event){var _this2=this;event.preventDefault(),this.validateCurrentPageRequiredFields()&&(this.setState({errors:[],errorHeader:null,globalError:!1,submitting:!0}),_jquery.default.ajax({method:"POST",url:this.props.apiEndpoint,contentType:"application/json",dataType:"json",data:JSON.stringify(this.serializeFormData())}).done((function(data){sessionStorage.removeItem(_this2.constructor.sessionStorageKey),_this2.onSuccessfulSubmit(data)})).fail((function(data){data.responseJSON&&data.responseJSON.errors&&data.responseJSON.errors.form_data?data.responseJSON.general_error?_this2.setState({errors:data.responseJSON.errors.form_data,errorHeader:data.responseJSON.general_error,globalError:!0}):_this2.setState({errors:data.responseJSON.errors.form_data,errorHeader:_locale.default.formErrorsBelow()}):_this2.setState({globalError:!0,errorHeader:_locale.default.formServerError()}),_this2.setState({submitting:!1})})),event.preventDefault())},_proto.renderErrorFeedback=function renderErrorFeedback(){if(this.state.errorHeader&&(this.state.globalError||this.pageHasError()))return _react.default.createElement(_reactBootstrap.Alert,{key:"error-header",bsStyle:"danger"},_react.default.createElement("h3",null,this.state.errorHeader))},_proto.pageHasError=function pageHasError(){var page=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.currentPage,errors=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.errors,pageFields=this.getPageComponents()[page].associatedFields;if(!pageFields)throw new TypeError("\n        Every PageComponent of a FormController must define an array\n        PageComponent.associatedFields for error handling\n      ");var flattenedErrors=errors.map((function(e){return e.replace(/\[[^\]]*\]/,"")}));return pageFields.some((function(field){return flattenedErrors.includes(field)}))},_proto.getPageProps=function getPageProps(){return{key:this.state.currentPage,options:this.props.options,onChange:this.handleChange,errors:this.state.errors,errorMessages:this.state.errorMessages,data:this.state.data}},_proto.renderCurrentPage=function renderCurrentPage(){var PageComponent=this.getCurrentPageComponent();return _react.default.createElement(PageComponent,this.getPageProps())},_proto.getRequiredFields=function getRequiredFields(){var _this3=this,requiredFields=_toConsumableArray(this.props.requiredFields);return this.getPageComponents().map((function(page){return page.getDynamicallyRequiredFields(_this3.state.data,_this3.getPageProps())})).reduce((function(flattened,subArray){return flattened.concat(subArray)}),requiredFields)},_proto.validatePageRequiredFields=function validatePageRequiredFields(pageIndex){var _this4=this;if(pageIndex<0||pageIndex>=this.getPageComponents().length)throw"Invalid page index ".concat(pageIndex);var page=this.getPageComponents()[pageIndex],requiredFields=this.getRequiredFields(),pageFields=page.associatedFields,pageData={};pageFields.forEach((function(field){var value=_this4.state.data[field];if("string"==typeof value){var trimmedValue=value.trim();pageData[field]=trimmedValue.length>0?trimmedValue:null}else pageData[field]=value})),pageData=Object.assign(pageData,page.processPageData(pageData)),this.setState({data:_objectSpread(_objectSpread({},this.state.data),pageData)});var missingRequiredFields=pageFields.filter((function(f){return requiredFields.includes(f)})).filter((function(f){return!pageData[f]})),formatErrors=page.getErrorMessages(pageData);return!missingRequiredFields.length&&!Object.keys(formatErrors).length||(this.setState({errors:[].concat(_toConsumableArray(missingRequiredFields),_toConsumableArray(Object.keys(formatErrors))),errorMessages:formatErrors,errorHeader:"Please fill out all required fields. You must completely fill out this section before moving           on to the next section or going back to edit a previous section."}),!1)},_proto.validateCurrentPageRequiredFields=function validateCurrentPageRequiredFields(){return this.validatePageRequiredFields(this.state.currentPage)},_proto.nextPage=function nextPage(){this.setPage(this.state.currentPage+1)},_proto.prevPage=function prevPage(){this.setPage(this.state.currentPage-1)},_proto.setPage=function setPage(i){var newPage=Math.min(Math.max(i,0),this.getPageComponents().length-1);this.validateCurrentPageRequiredFields()&&(this.setState({currentPage:newPage}),this.saveToSessionStorage({currentPage:newPage}))},_proto.shouldShowSubmit=function shouldShowSubmit(){return this.state.currentPage===this.getPageComponents().length-1},_proto.renderControlButtons=function renderControlButtons(){var backButton,_this5=this;this.state.currentPage>0&&(backButton=_react.default.createElement(_reactBootstrap.Button,{key:"back",id:"back",onClick:this.prevPage},"Back"));var nextButton=_react.default.createElement(_reactBootstrap.Button,{bsStyle:"primary",key:"next",id:"next",onClick:this.nextPage},"Next");this.shouldShowSubmit()&&(nextButton=_react.default.createElement(_reactBootstrap.Button,{bsStyle:"primary",disabled:this.state.submitting,key:"submit",id:"submit",type:"submit"},this.constructor.submitButtonText));var pageButtons=this.getPageComponents().length>1&&_react.default.createElement(_pagination.Pagination,{style:styles.pageButtons,items:this.getPageComponents().length,activePage:this.state.currentPage+1,onSelect:function onSelect(i){return _this5.setPage(i-1)}});return _react.default.createElement(_reactBootstrap.FormGroup,{key:"control-buttons",className:"text-center"},backButton,pageButtons,nextButton)},_proto.render=function render(){var _this6=this;return _react.default.createElement("form",{ref:function ref(form){_this6.form=form},onSubmit:this.handleSubmit},this.renderErrorFeedback(),this.renderCurrentPage(),this.renderControlButtons())},FormController}(_react.default.Component);exports.default=FormController,_defineProperty(FormController,"sessionStorageKey",null),_defineProperty(FormController,"submitButtonText",_locale.default.submit());var styles={pageButtons:{verticalAlign:"middle",margin:"0 10px"}};FormController.propTypes={apiEndpoint:_propTypes.default.string.isRequired,options:_propTypes.default.object.isRequired,requiredFields:_propTypes.default.arrayOf(_propTypes.default.string).isRequired},FormController.defaultProps={requiredFields:[]},module.exports=exports.default},"./node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}}else if("object"===argType){if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]")){classes.push(arg.toString());continue}for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./src/code-studio/pd/form_components/FormController.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.MultiPageForm=exports.GeneratedTextInput=exports.FormWithSelectDropdown=exports.FormWithRadioButtons=exports.FormWithCheckButtons=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_reactBootstrap=__webpack_require__("./node_modules/react-bootstrap/es/index.js"),_FormComponent5=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/form_components/FormComponent.jsx")),_FormController2=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/form_components/FormController.jsx")),_reactBootstrapStoryDecorator=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/reactBootstrapStoryDecorator.jsx")),_addonActions=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var TestPageOne=function(_FormComponent){function TestPageOne(){return _FormComponent.apply(this,arguments)||this}return _inheritsLoose(TestPageOne,_FormComponent),TestPageOne.prototype.render=function render(){return _react.default.createElement(_reactBootstrap.FormGroup,null,_react.default.createElement("h4",null,"Page One"),this.buildButtonsFromOptions({name:"one",label:"Input One",type:"check"}))},TestPageOne}(_FormComponent5.default);TestPageOne.associatedFields=["one"];var TestPageTwo=function(_FormComponent2){function TestPageTwo(){return _FormComponent2.apply(this,arguments)||this}return _inheritsLoose(TestPageTwo,_FormComponent2),TestPageTwo.prototype.render=function render(){return _react.default.createElement(_reactBootstrap.FormGroup,null,_react.default.createElement("h4",null,"Page Two"),this.buildButtonsFromOptions({name:"two",label:"Input Two",type:"radio"}))},TestPageTwo}(_FormComponent5.default);TestPageTwo.associatedFields=["two"];var TestPageThree=function(_FormComponent3){function TestPageThree(){return _FormComponent3.apply(this,arguments)||this}return _inheritsLoose(TestPageThree,_FormComponent3),TestPageThree.prototype.render=function render(){return _react.default.createElement(_reactBootstrap.FormGroup,null,_react.default.createElement("h4",null,"Page Three"),this.buildSelectFieldGroupFromOptions({name:"three",label:"Input Three"}))},TestPageThree}(_FormComponent5.default);TestPageThree.associatedFields=["three"];var TestPageFour=function(_FormComponent4){function TestPageFour(){return _FormComponent4.apply(this,arguments)||this}return _inheritsLoose(TestPageFour,_FormComponent4),TestPageFour.prototype.render=function render(){return _react.default.createElement(_reactBootstrap.FormGroup,null,_react.default.createElement("h4",null,"Page Four"),this.buildFieldGroup({name:"four",label:"Input Four",type:"text"}))},TestPageFour}(_FormComponent5.default);TestPageFour.associatedFields=["four"];var TestController=function(_FormController){function TestController(){return _FormController.apply(this,arguments)||this}_inheritsLoose(TestController,_FormController);var _proto5=TestController.prototype;return _proto5.getPageComponents=function getPageComponents(){return[TestPageOne,TestPageTwo,TestPageThree,TestPageFour]},_proto5.handleChange=function handleChange(newState){this.props.action("onChange")(newState),_FormController.prototype.handleChange.call(this,newState)},_proto5.handleSubmit=function handleSubmit(event){this.props.action("submit")(this.serializeFormData()),event.preventDefault()},TestController}(_FormController2.default),OPTIONS={one:["First","Second","Third"],two:["Fourth","Fifth","Sixth"],three:["Seventh","Eighth","Ninth"]},_default={component:_FormController2.default,decorators:[_reactBootstrapStoryDecorator.default]};exports.default=_default;exports.FormWithRadioButtons=function FormWithRadioButtons(){return _react.default.createElement(TestPageOne,{options:{one:OPTIONS.one},onChange:(0,_addonActions.action)("onChange"),errors:[],errorMessages:{},data:{}})};exports.FormWithCheckButtons=function FormWithCheckButtons(){return _react.default.createElement(TestPageTwo,{options:{two:OPTIONS.two},onChange:(0,_addonActions.action)("onChange"),errors:[],errorMessages:{},data:{}})};exports.FormWithSelectDropdown=function FormWithSelectDropdown(){return _react.default.createElement(TestPageThree,{options:{three:OPTIONS.three},onChange:(0,_addonActions.action)("onChange"),errors:[],errorMessages:{},data:{}})};exports.GeneratedTextInput=function GeneratedTextInput(){return _react.default.createElement(TestPageFour,{options:{},onChange:(0,_addonActions.action)("onChange"),errors:[],errorMessages:{},data:{}})};exports.MultiPageForm=function MultiPageForm(){return _react.default.createElement(TestController,{apiEndpoint:"",options:OPTIONS,requiredFields:[]})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZS1zdHVkaW8tcGQtZm9ybV9jb21wb25lbnRzLUZvcm1Db250cm9sbGVyLXN0b3J5LmE4NTQ2ZjZhLmlmcmFtZS5idW5kbGUuanMiLCJtYXBwaW5ncyI6IjsyUUFBQSxpR0FDQSxvRkFDQSx1RkFDQSwrR0FDQSwrSEFDQSx1SEFDQSxzb0ZBV3FCQSxjQUFBQSxTQUFBQSxrQkE0Q25CLHVCQUFZQyxPQUFPLFVBR2pCLElBRkEsaUNBQU1BLFFBQU4sTUFFU0MsY0FBZ0JGLGNBQ3ZCLE1BQU0sSUFBSUcsVUFBSiw2RkFKUyxPQVNqQixNQUFLQyxhQUFlLE1BQUtBLGFBQWFDLDhKQUFsQixTQVRILEtBVWxCLGtPQWxDTUMsNkJBQVAsc0NBQW9DQyxNQUNsQyxNQUFPLEVBQ1IsZ0JBT01DLGlCQUFQLDBCQUF3QkQsTUFDdEIsTUFBTyxDQUFDLENBQ1QsZ0JBU01FLGdCQUFQLHlCQUF1QkYsTUFDckIsTUFBTyxDQUFDLENBQ1QsbURBa0JESCxhQUFBLFNBQUFBLGFBQWFNLFVBQ1hDLEtBQUtWLE1BQU1XLFNBQVNGLFNBQ3JCLFNBTURHLG1CQUFBLFNBQUFBLG1CQUFtQkMsTUFDakIsR0FBSUgsS0FBS1YsTUFBTWMsT0FBT0MsU0FBU0YsTUFDN0IsTUFBTyxPQUVWLFNBZURHLGlDQUFBLFNBQUFBLGlDQUFBLE1BTUcsSUFMREgsS0FLQyxLQUxEQSxLQUNBSSxNQUlDLEtBSkRBLE1BQ0FDLFlBR0MsS0FIREEsWUFDQUMsU0FFQyxLQUZEQSxTQUNHbkIsTUFDRix5Q0FDS29CLFFBQVVWLEtBQUtWLE1BQU1vQixRQUFRUCxNQUNuQyxPQUFPSCxLQUFLVyxzQkFBTCxlQUNMUixLQUNBSSxNQUNBQyxZQUNBQyxTQUNBQyxTQUNHcEIsT0FFTixTQWlCRHFCLHNCQUFBLFNBQUFBLHNCQUFBLE9BT0csSUFDR0MsZ0JBUEpULEtBTUMsTUFOREEsS0FDQUksTUFLQyxNQUxEQSxNQUNBQyxZQUlDLE1BSkRBLFlBQ0FDLFNBR0MsTUFIREEsU0FDQUMsUUFFQyxNQUZEQSxRQUNHcEIs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eS1tb29jLy4vc3JjL2NvZGUtc3R1ZGlvL3BkL2Zvcm1fY29tcG9uZW50cy9Gb3JtQ29tcG9uZW50LmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvY29kZS1zdHVkaW8vcGQvZm9ybV9jb21wb25lbnRzL0Zvcm1Db250cm9sbGVyLmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvY29kZS1zdHVkaW8vcGQvZm9ybV9jb21wb25lbnRzL0Zvcm1Db250cm9sbGVyLnN0b3J5LmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7QnV0dG9uTGlzdH0gZnJvbSAnLi4vZm9ybV9jb21wb25lbnRzL0J1dHRvbkxpc3QuanN4JztcbmltcG9ydCBGaWVsZEdyb3VwIGZyb20gJy4uL2Zvcm1fY29tcG9uZW50cy9GaWVsZEdyb3VwJztcbmltcG9ydCBVc1Bob25lTnVtYmVySW5wdXQgZnJvbSAnLi4vZm9ybV9jb21wb25lbnRzL1VzUGhvbmVOdW1iZXJJbnB1dCc7XG5pbXBvcnQgU2luZ2xlQ2hlY2tib3ggZnJvbSAnLi4vZm9ybV9jb21wb25lbnRzL1NpbmdsZUNoZWNrYm94JztcbmltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzJztcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgZm9yIGRhc2hib2FyZCBmb3Jtcy4gUHJvdmlkZXMgaGVscGVyIG1ldGhvZHMgZm9yIGVhc2lseVxuICogZ2VuZXJhdGluZyBjb21tb25seS11c2VkIGZvcm0gY29tcG9uZW50cyBmcm9tIGEgcHJvdmlkZWQgc2V0IG9mIG9wdGlvbnMgYW5kXG4gKiBzdGFuZGFyZGl6aW5nIG9uQ2hhbmdlIGhhbmRsZXJzLiBJbnRlbmRlZCB0byBiZSB1c2VkIGJ5IGFuIGluc3RhbmNlIG9mXG4gKiBGb3JtQ29udHJvbGxlciwgd2l0aGluIHdoaWNoIGVhY2ggRm9ybUNvbXBvbmVudCB3aWxsIGFjdCBhcyBhIHNpbmdsZSBwYWdlIG9mXG4gKiB0aGUgZm9ybS5cbiAqXG4gKiBAc2VlIHRoZSBwYWdlQ29tcG9uZW50cyBvZiBUZWFjaGVyQXBwbGljYXRpb24gZm9yIGV4YW1wbGUgdXNhZ2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1Db21wb25lbnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIG9wdGlvbnM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBlcnJvcnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLmlzUmVxdWlyZWQsXG4gICAgZXJyb3JNZXNzYWdlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGRhdGE6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgfTtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgaW4gZGVyaXZlZCBjbGFzc2VzXG4gICAqIFVzZWQgYnkgRm9ybUNvbnRyb2xsZXIgdG8gbWFwIGZpZWxkIGVycm9ycyB0byB0aGVpciBhcHByb3ByaWF0ZSBwYWdlXG4gICAqL1xuICBzdGF0aWMgYXNzb2NpYXRlZEZpZWxkcyA9IFtdO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBpbiBkZXJpdmVkIGNsYXNzZXNcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBmb3JtIGRhdGFcbiAgICogQHJldHVybnMge1N0cmluZ1tdfSAtIGxpc3Qgb2YgZHluYW1pYyByZXF1aXJlZCBmaWVsZHMgYmFzZWQgb24gb3RoZXIgcmVzcG9uc2VzIGluIHRoaXMgcGFnZVxuICAgKi9cbiAgc3RhdGljIGdldER5bmFtaWNhbGx5UmVxdWlyZWRGaWVsZHMoZGF0YSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBpbiBkZXJpdmVkIGNsYXNzZXNcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBmb3JtIGRhdGEgZm9yIHRoaXMgcGFnZVxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIGN1c3RvbSBlcnJvciBtZXNzYWdlcyBwZXIgZmllbGRcbiAgICovXG4gIHN0YXRpYyBnZXRFcnJvck1lc3NhZ2VzKGRhdGEpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGUgaW4gZGVyaXZlZCBjbGFzc2VzXG4gICAqIFByb2Nlc3MgYW5kIHRyYW5zZm9ybSB0aGlzIHBhZ2UncyBmb3JtIGRhdGEgYmVmb3JlIHZhbGlkYXRpb24sXG4gICAqIGZvciBleGFtcGxlIHRvIHJlbW92ZSBhbnN3ZXJzIHRvIHF1ZXN0aW9ucyB0aGF0IGFyZSBubyBsb25nZXIgcmVsZXZhbnQgYmFzZWQgb24gb3RoZXIgc2VsZWN0aW9ucy5cbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBmb3JtIGRhdGEgZm9yIHRoaXMgcGFnZSwgYXMgZW50ZXJlZFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIGZpZWxkcyB0byB1cGRhdGUgd2l0aCBuZXcgdmFsdWVzLCBvciB1bmRlZmluZWQgdG8gY2xlYXJcbiAgICovXG4gIHN0YXRpYyBwcm9jZXNzUGFnZURhdGEoZGF0YSkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgaWYgKHRoaXMuY29uc3RydWN0b3IgPT09IEZvcm1Db21wb25lbnQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFxuICAgICAgICBGb3JtQ29tcG9uZW50IGlzIGFuIGFic3RyYWN0IGNsYXNzOyBjYW5ub3QgY29uc3RydWN0IGluc3RhbmNlcyBkaXJlY3RseVxuICAgICAgYCk7XG4gICAgfVxuXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgRm9ybUNvbnRyb2xsZXIuaGFuZGxlQ2hhbmdlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBuZXdTdGF0ZVxuICAgKi9cbiAgaGFuZGxlQ2hhbmdlKG5ld1N0YXRlKSB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShuZXdTdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgICogQHJldHVybnMge1N0cmluZ3x1bmRlZmluZWR9XG4gICAqL1xuICBnZXRWYWxpZGF0aW9uU3RhdGUobmFtZSkge1xuICAgIGlmICh0aGlzLnByb3BzLmVycm9ycy5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgcmV0dXJuICdlcnJvcic7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIGNvbnRyb2xsZWQgU2VsZWN0IGRyb3Bkb3duIGZyb20gdGhlIG9wdGlvbnMgc3BlY2lmaWVkIGluXG4gICAqIHRoaXMucHJvcHNcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSB0aGUgbmFtZSBvZiB0aGUgaW5wdXQuIFNob3VsZCBtYXRjaCBhIGtleSBpblxuICAgKiAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3BsYWNlaG9sZGVyXSAtIGlmIHNwZWNpZmllZCwgd2lsbCBhZGQgYSB2YWx1ZWxlc3Mgb3B0aW9uXG4gICAqICAgICAgICB3aXRoIHRoZSBzcGVjaWZpZWQgcGxhY2Vob2xkZXIgdGV4dFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXF1aXJlZD1mYWxzZV1cbiAgICpcbiAgICogQHJldHVybnMge0ZpZWxkR3JvdXB9XG4gICAqL1xuICBidWlsZFNlbGVjdEZpZWxkR3JvdXBGcm9tT3B0aW9ucyh7XG4gICAgbmFtZSxcbiAgICBsYWJlbCxcbiAgICBwbGFjZWhvbGRlcixcbiAgICByZXF1aXJlZCxcbiAgICAuLi5wcm9wc1xuICB9KSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMucHJvcHMub3B0aW9uc1tuYW1lXTtcbiAgICByZXR1cm4gdGhpcy5idWlsZFNlbGVjdEZpZWxkR3JvdXAoe1xuICAgICAgbmFtZSxcbiAgICAgIGxhYmVsLFxuICAgICAgcGxhY2Vob2xkZXIsXG4gICAgICByZXF1aXJlZCxcbiAgICAgIG9wdGlvbnMsXG4gICAgICAuLi5wcm9wcyxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBjb250cm9sbGVkIFNlbGVjdCBkcm9wZG93biB3aXRoIHN1cHBsaWVkIG9wdGlvbnNcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSB0aGUgbmFtZSBvZiB0aGUgaW5wdXQuIFNob3VsZCBtYXRjaCBhIGtleSBpbiBvcHRpb25zXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBsYWJlbFxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3BsYWNlaG9sZGVyXSAtIGlmIHNwZWNpZmllZCwgd2lsbCBhZGQgYSB2YWx1ZWxlc3Mgb3B0aW9uXG4gICAqICAgICAgICB3aXRoIHRoZSBzcGVjaWZpZWQgcGxhY2Vob2xkZXIgdGV4dFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXF1aXJlZD1mYWxzZV1cbiAgICogQHBhcmFtIHtBbnN3ZXJbXXxTaW1wbGVBbnN3ZXJbXXxPYmplY3R9IG9wdGlvbnMgLSBjYW4gYmUgc3BlY2lmaWVkIGFzXG4gICAqICAgICAgICBlaXRoZXIgYW4gYXJyYXkgKG9mIGVpdGhlciBBbnN3ZXJzIG9yIFNpbXBsZUFuc3dlcnMsIGFzIGRlZmluZWQgaW5cbiAgICogICAgICAgIHV0aWxzLmpzKSBvciBhbiBvYmplY3QgKGluIHdoaWNoIGNhc2Ugd2UnbGwgdXNlIHRoZSBrZXlzIGZvciB0aGVcbiAgICogICAgICAgIHZhbHVlcyBhbmQgdGhlIHZhbHVlcyBmb3IgdGhlIGRpc3BsYXkgbmFtZXMpXG4gICAqXG4gICAqIEByZXR1cm5zIHtGaWVsZEdyb3VwfVxuICAgKi9cbiAgYnVpbGRTZWxlY3RGaWVsZEdyb3VwKHtcbiAgICBuYW1lLFxuICAgIGxhYmVsLFxuICAgIHBsYWNlaG9sZGVyLFxuICAgIHJlcXVpcmVkLFxuICAgIG9wdGlvbnMsXG4gICAgLi4ucHJvcHNcbiAgfSkge1xuICAgIGxldCByZW5kZXJlZE9wdGlvbnM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucykpIHtcbiAgICAgIHJlbmRlcmVkT3B0aW9ucyA9IG9wdGlvbnMubWFwKHZhbHVlID0+IHtcbiAgICAgICAgY29uc3Qge2Fuc3dlclRleHQsIGFuc3dlclZhbHVlfSA9IHV0aWxzLm5vcm1hbGl6ZUFuc3dlcih2YWx1ZSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPG9wdGlvbiBrZXk9e2Fuc3dlclZhbHVlfSB2YWx1ZT17YW5zd2VyVmFsdWV9PlxuICAgICAgICAgICAge2Fuc3dlclRleHR9XG4gICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVuZGVyZWRPcHRpb25zID0gT2JqZWN0LmtleXMob3B0aW9ucykubWFwKGtleSA9PiAoXG4gICAgICAgIDxvcHRpb24ga2V5PXtrZXl9IHZhbHVlPXtrZXl9PlxuICAgICAgICAgIHtvcHRpb25zW2tleV19XG4gICAgICAgIDwvb3B0aW9uPlxuICAgICAgKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxGaWVsZEdyb3VwXG4gICAgICAgIGtleT17bmFtZX1cbiAgICAgICAgaWQ9e25hbWV9XG4gICAgICAgIGNvbXBvbmVudENsYXNzPVwic2VsZWN0XCJcbiAgICAgICAgbGFiZWw9e2xhYmVsfVxuICAgICAgICB2YWxpZGF0aW9uU3RhdGU9e3RoaXMuZ2V0VmFsaWRhdGlvblN0YXRlKG5hbWUpfVxuICAgICAgICBlcnJvck1lc3NhZ2U9e3RoaXMucHJvcHMuZXJyb3JNZXNzYWdlc1tuYW1lXX1cbiAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5kYXRhW25hbWVdIHx8ICcnfVxuICAgICAgICByZXF1aXJlZD17cmVxdWlyZWR9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgID5cbiAgICAgICAge3BsYWNlaG9sZGVyICYmIChcbiAgICAgICAgICA8b3B0aW9uIGtleT1cInBsYWNlaG9sZGVyXCIgdmFsdWU9XCJcIj5cbiAgICAgICAgICAgIHtwbGFjZWhvbGRlcn1cbiAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgKX1cbiAgICAgICAge3JlbmRlcmVkT3B0aW9uc31cbiAgICAgIDwvRmllbGRHcm91cD5cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIGNvbnRyb2xsZWQgaW5wdXRcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIC0gc2hvdWxkIG1hdGNoIGEgc3RhbmRhcmQgSFRNTCBpbnB1dCB0eXBlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlcXVpcmVkPWZhbHNlXVxuICAgKlxuICAgKiBAcmV0dXJucyB7RmllbGRHcm91cH1cbiAgICovXG4gIGJ1aWxkRmllbGRHcm91cCh7bmFtZSwgbGFiZWwsIHR5cGUsIHJlcXVpcmVkLCAuLi5wcm9wc30pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEZpZWxkR3JvdXBcbiAgICAgICAga2V5PXtuYW1lfVxuICAgICAgICBpZD17bmFtZX1cbiAgICAgICAgdHlwZT17dHlwZX1cbiAgICAgICAgbGFiZWw9e2xhYmVsfVxuICAgICAgICB2YWxpZGF0aW9uU3RhdGU9e3RoaXMuZ2V0VmFsaWRhdGlvblN0YXRlKG5hbWUpfVxuICAgICAgICBlcnJvck1lc3NhZ2U9e3RoaXMucHJvcHMuZXJyb3JNZXNzYWdlc1tuYW1lXX1cbiAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5kYXRhW25hbWVdIHx8ICcnfVxuICAgICAgICByZXF1aXJlZD17cmVxdWlyZWR9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBjb250cm9sbGVkIFVTIHBob25lIG51bWJlciBpbnB1dFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtib29sZWFufSBbcmVxdWlyZWQ9ZmFsc2VdXG4gICAqXG4gICAqIEByZXR1cm5zIHtVc1Bob25lTnVtYmVySW5wdXR9XG4gICAqL1xuICBidWlsZFVzUGhvbmVOdW1iZXJJbnB1dCh7bmFtZSwgbGFiZWwsIHJlcXVpcmVkLCAuLi5wcm9wc30pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFVzUGhvbmVOdW1iZXJJbnB1dFxuICAgICAgICBuYW1lPXtuYW1lfVxuICAgICAgICBsYWJlbD17bGFiZWx9XG4gICAgICAgIHJlcXVpcmVkPXtyZXF1aXJlZH1cbiAgICAgICAgdmFsaWRhdGlvblN0YXRlPXt0aGlzLmdldFZhbGlkYXRpb25TdGF0ZShuYW1lKX1cbiAgICAgICAgZXJyb3JNZXNzYWdlPXt0aGlzLnByb3BzLmVycm9yTWVzc2FnZXNbbmFtZV19XG4gICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cbiAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMuZGF0YVtuYW1lXX1cbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIGNvbnRyb2xsZWQgcmFkaW8gb3IgY2hlY2tib3ggaW5wdXQgZnJvbSB0aGUgb3B0aW9ucyBzcGVjaWZpZWRcbiAgICogaW4gdGhpcy5wcm9wc1xuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBpbnB1dC4gU2hvdWxkIG1hdGNoIGEga2V5IGluXG4gICAqICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIC0gc2hvdWxkIGJlIG9uZSBvZiAncmFkaW8nIG9yICdjaGVjaydcbiAgICogQHBhcmFtIHtib29sZWFufSBbcmVxdWlyZWQ9dHJ1ZV1cbiAgICpcbiAgICogQHJldHVybnMge0J1dHRvbkxpc3R9XG4gICAqL1xuICBidWlsZEJ1dHRvbnNGcm9tT3B0aW9ucyh7bmFtZSwgbGFiZWwsIHR5cGUsIHJlcXVpcmVkLCAuLi5wcm9wc30pIHtcbiAgICBpZiAoIXRoaXMucHJvcHMub3B0aW9uc1tuYW1lXSB8fCB0aGlzLnByb3BzLm9wdGlvbnNbbmFtZV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBgQ2Fubm90IGNyZWF0ZSBidXR0b25zIGZvciAke25hbWV9IHdpdGhvdXQgb3B0aW9uc2A7XG4gICAgfVxuXG4gICAgY29uc3QgYW5zd2VycyA9IHRoaXMucHJvcHMub3B0aW9uc1tuYW1lXTtcbiAgICByZXR1cm4gdGhpcy5idWlsZEJ1dHRvbnMoe25hbWUsIGxhYmVsLCB0eXBlLCByZXF1aXJlZCwgYW5zd2VycywgLi4ucHJvcHN9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBjb250cm9sbGVkIHJhZGlvIG9yIGNoZWNrYm94IGlucHV0IGZyb20gdGhlIG9wdGlvbnMgc3BlY2lmaWVkXG4gICAqIGluIHRoaXMucHJvcHMgd2l0aCBhZGRpdGlvbmFsIHRleHQgZmllbGRzIG9uIGNlcnRhaW4gYW5zd2Vyc1xuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBpbnB1dC4gU2hvdWxkIG1hdGNoIGEga2V5IGluXG4gICAqICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIC0gc2hvdWxkIGJlIG9uZSBvZiAncmFkaW8nIG9yICdjaGVjaydcbiAgICogQHBhcmFtIHtib29sZWFufSBbcmVxdWlyZWQ9dHJ1ZV1cbiAgICogQHBhcmFtIHtPYmplY3R9IHRleHRGaWVsZE1hcCAtIG1hcCBzcGVjaWZ5aW5nIHdoaWNoIGFuc3dlcnMgc2hvdWxkIGJlIGZvbGxvd2VkIGJ5IGEgdGV4dCBmaWVsZFxuICAgKiAgICAgICAgRWFjaCBrZXkgaXMgYW4gYW5zd2VyIHRleHQgZnJvbSBvcHRpb25zLlxuICAgKiAgICAgICAgRWFjaCB2YWx1ZSBpcyB0aGUgc3VmZml4IChhcHBlbmRlZCB0byBgJHtuYW1lfV9gKSB3aGljaCB3aWxsIGJlY29tZSB0aGUgbmFtZSBvZiB0aGUgbmV3IHRleHQgZmllbGRcbiAgICpcbiAgICogICAgICAgIEZvciBleGFtcGxlLCB7XCJPdGhlclwiIDogXCJvdGhlclwifSB3aWxsIGFkZCBhIHRleHQgZmllbGQgY2FsbGVkIGAke25hbWV9X290aGVyYCBhZnRlciB0aGUgXCJPdGhlclwiIG9wdGlvbi5cbiAgICpcbiAgICogQHJldHVybnMge0J1dHRvbkxpc3R9XG4gICAqL1xuICBidWlsZEJ1dHRvbnNXaXRoQWRkaXRpb25hbFRleHRGaWVsZHNGcm9tT3B0aW9ucyh7XG4gICAgbmFtZSxcbiAgICBsYWJlbCxcbiAgICB0eXBlLFxuICAgIHJlcXVpcmVkLFxuICAgIHRleHRGaWVsZE1hcCxcbiAgICAuLi5wcm9wc1xuICB9KSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLm9wdGlvbnNbbmFtZV0gfHwgdGhpcy5wcm9wcy5vcHRpb25zW25hbWVdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgYENhbm5vdCBjcmVhdGUgYnV0dG9ucyBmb3IgJHtuYW1lfSB3aXRob3V0IG9wdGlvbnNgO1xuICAgIH1cblxuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLnByb3BzLm9wdGlvbnNbbmFtZV07XG4gICAgcmV0dXJuIHRoaXMuYnVpbGRCdXR0b25zV2l0aEFkZGl0aW9uYWxUZXh0RmllbGRzKHtcbiAgICAgIG5hbWUsXG4gICAgICBsYWJlbCxcbiAgICAgIHR5cGUsXG4gICAgICByZXF1aXJlZCxcbiAgICAgIG9wdGlvbnMsXG4gICAgICB0ZXh0RmllbGRNYXAsXG4gICAgICAuLi5wcm9wcyxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3QgYSBjb250cm9sbGVkIHJhZGlvIG9yIGNoZWNrYm94IGlucHV0IGZyb20gdGhlIG9wdGlvbnMgc3BlY2lmaWVkXG4gICAqIGluIHRoaXMucHJvcHMgd2l0aCBhZGRpdGlvbmFsIHRleHQgZmllbGRzIG9uIGNlcnRhaW4gYW5zd2Vyc1xuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBpbnB1dC4gU2hvdWxkIG1hdGNoIGEga2V5IGluXG4gICAqICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIC0gc2hvdWxkIGJlIG9uZSBvZiAncmFkaW8nIG9yICdjaGVjaydcbiAgICogQHBhcmFtIHtib29sZWFufSBbcmVxdWlyZWQ9dHJ1ZV1cbiAgICogQHBhcmFtIHtBcnJheTxTdHJpbmc+fSBvcHRpb25zIC0gbGlzdCBvZiBhdmFpbGFibGUgb3B0aW9ucyBmb3IgdGhlIEJ1dHRvbkxpc3QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB0ZXh0RmllbGRNYXAgLSBtYXAgc3BlY2lmeWluZyB3aGljaCBhbnN3ZXJzIHNob3VsZCBiZSBmb2xsb3dlZCBieSBhIHRleHQgZmllbGRcbiAgICogICAgICAgIEVhY2gga2V5IGlzIGFuIGFuc3dlciB0ZXh0IGZyb20gb3B0aW9ucy5cbiAgICogICAgICAgIEVhY2ggdmFsdWUgaXMgdGhlIHN1ZmZpeCAoYXBwZW5kZWQgdG8gYCR7bmFtZX1fYCkgd2hpY2ggd2lsbCBiZWNvbWUgdGhlIG5hbWUgb2YgdGhlIG5ldyB0ZXh0IGZpZWxkXG4gICAqXG4gICAqICAgICAgICBGb3IgZXhhbXBsZSwge1wiT3RoZXJcIiA6IFwib3RoZXJcIn0gd2lsbCBhZGQgYSB0ZXh0IGZpZWxkIGNhbGxlZCBgJHtuYW1lfV9vdGhlcmAgYWZ0ZXIgdGhlIFwiT3RoZXJcIiBvcHRpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIHtCdXR0b25MaXN0fVxuICAgKi9cbiAgYnVpbGRCdXR0b25zV2l0aEFkZGl0aW9uYWxUZXh0RmllbGRzKHtcbiAgICBuYW1lLFxuICAgIGxhYmVsLFxuICAgIHR5cGUsXG4gICAgcmVxdWlyZWQsXG4gICAgb3B0aW9ucyxcbiAgICB0ZXh0RmllbGRNYXAsXG4gICAgLi4ucHJvcHNcbiAgfSkge1xuICAgIGNvbnN0IGFuc3dlcnMgPSBvcHRpb25zLm1hcChhbnN3ZXIgPT4ge1xuICAgICAgaWYgKCEoYW5zd2VyIGluIHRleHRGaWVsZE1hcCkpIHtcbiAgICAgICAgcmV0dXJuIGFuc3dlcjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGV4dEZpZWxkTmFtZSA9IGAke25hbWV9XyR7dGV4dEZpZWxkTWFwW2Fuc3dlcl19YDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFuc3dlclRleHQ6IGFuc3dlcixcbiAgICAgICAgaW5wdXRWYWx1ZTogdGhpcy5wcm9wcy5kYXRhW3RleHRGaWVsZE5hbWVdLFxuICAgICAgICBvbklucHV0Q2hhbmdlOiBuZXdWYWx1ZSA9PlxuICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKHtbdGV4dEZpZWxkTmFtZV06IG5ld1ZhbHVlfSksXG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuYnVpbGRCdXR0b25zKHtuYW1lLCBsYWJlbCwgdHlwZSwgcmVxdWlyZWQsIGFuc3dlcnMsIC4uLnByb3BzfSk7XG4gIH1cblxuICAvKipcbiAgICogQ29uc3RydWN0IGEgY29udHJvbGxlZCByYWRpbyBvciBjaGVja2JveCBpbnB1dCBmcm9tIHRoZSBwcm92aWRlZCBvcHRpb25zXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdGhlIG5hbWUgb2YgdGhlIGlucHV0LiBTaG91bGQgbWF0Y2ggYSBrZXkgaW5cbiAgICogICAgICAgIHRoaXMucHJvcHMub3B0aW9uc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gbGFiZWxcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSBzaG91bGQgYmUgb25lIG9mICdyYWRpbycgb3IgJ2NoZWNrJ1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXF1aXJlZD10cnVlXVxuICAgKiBAcGFyYW0ge0FycmF5PFN0cmluZ3xPYmplY3Q+fSBhbnN3ZXJzIC0gbGlzdCBvZiBhdmFpbGFibGUgYW5zd2VycyBmb3IgdGhlIEJ1dHRvbkxpc3QuXG4gICAqICAgICAgICBUaGVzZSBjYW4gYmUgc3RyaW5ncywgb3Igb2JqZWN0cyB3aGljaCB3aWxsIGdlbmVyYXRlIGFuIGFkZGl0aW9uYWwgdGV4dCBmaWVsZC5cbiAgICogICAgICAgIFNlZSAjQnV0dG9uTGlzdCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7QnV0dG9uTGlzdH1cbiAgICovXG4gIGJ1aWxkQnV0dG9ucyh7bmFtZSwgbGFiZWwsIHR5cGUsIHJlcXVpcmVkLCBhbnN3ZXJzLCAuLi5wcm9wc30pIHtcbiAgICBpZiAocmVxdWlyZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVxdWlyZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8QnV0dG9uTGlzdFxuICAgICAgICBrZXk9e25hbWV9XG4gICAgICAgIGFuc3dlcnM9e2Fuc3dlcnN9XG4gICAgICAgIGdyb3VwTmFtZT17bmFtZX1cbiAgICAgICAgbGFiZWw9e2xhYmVsfVxuICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgIHNlbGVjdGVkSXRlbXM9e3RoaXMucHJvcHMuZGF0YVtuYW1lXX1cbiAgICAgICAgdmFsaWRhdGlvblN0YXRlPXt0aGlzLmdldFZhbGlkYXRpb25TdGF0ZShuYW1lKX1cbiAgICAgICAgcmVxdWlyZWQ9e3JlcXVpcmVkfVxuICAgICAgICB0eXBlPXt0eXBlfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQ29uc3RydWN0IGEgY29udHJvbGxlZCBzaW5nbGUgY2hlY2tib3ggaW5wdXQgZnJvbSB0aGUgcHJvdmlkZWQgb3B0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBuYW1lIG9mIHRoZSBpbnB1dC4gU2hvdWxkIG1hdGNoIGEga2V5IGluXG4gICAqICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGxhYmVsXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlcXVpcmVkPXRydWVdXG4gICAqXG4gICAqIEByZXR1cm5zIHtTaW5nbGVDaGVja2JveH1cbiAgICovXG4gIGJ1aWxkU2luZ2xlQ2hlY2tib3goe25hbWUsIGxhYmVsLCByZXF1aXJlZCwgLi4ucHJvcHN9KSB7XG4gICAgaWYgKHJlcXVpcmVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFNpbmdsZUNoZWNrYm94XG4gICAgICAgIG5hbWU9e25hbWV9XG4gICAgICAgIGxhYmVsPXtsYWJlbH1cbiAgICAgICAgcmVxdWlyZWQ9e3JlcXVpcmVkfVxuICAgICAgICB2YWxpZGF0aW9uU3RhdGU9e3RoaXMuZ2V0VmFsaWRhdGlvblN0YXRlKG5hbWUpfVxuICAgICAgICB2YWx1ZT17dGhpcy5wcm9wcy5kYXRhW25hbWVdfVxuICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHtCdXR0b24sIEFsZXJ0LCBGb3JtR3JvdXB9IGZyb20gJ3JlYWN0LWJvb3RzdHJhcCc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1pbXBvcnRzXG5pbXBvcnQge1BhZ2luYXRpb259IGZyb20gJ0ByZWFjdC1ib290c3RyYXAvcGFnaW5hdGlvbic7XG5pbXBvcnQgaTE4biBmcm9tICdAY2RvL2xvY2FsZSc7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIGZvciBkYXNoYm9hcmQgZm9ybXMuIEV4cGVjdHMgdG8gYmUgZXh0ZW5kZWQgYnkgYSBjbGFzcyB3aGljaFxuICogd2lsbCBpbXBsZW1lbnQgdGhlIGdldFBhZ2VDb21wb25lbnRzIG1ldGhvZCwgd2hpY2ggaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGFuXG4gKiBhcnJheSBvZiBjb21wb25lbnRzIHdpdGggZXh0ZW5kIGZyb20gdGhlIEZvcm1Db21wb25lbnQgaGVscGVyIGNsYXNzLlxuICogUmVzdWx0aW5nIGZvcm0gd2lsbCB0aGVuIGRpc3BsYXkgdGhvc2UgY29tcG9uZW50cyBwYWdpbmF0ZWQgYW5kIGluIG9yZGVyLFxuICogd2l0aCBhIHN1Ym1pdCBidXR0b24gb24gdGhlIGxhc3QgcGFnZS5cbiAqXG4gKiBAc2VlIFRlYWNoZXJBcHBsaWNhdGlvbiBjb21wb25lbnQgZm9yIGV4YW1wbGUgdXNhZ2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1Db250cm9sbGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICBpZiAodGhpcy5jb25zdHJ1Y3RvciA9PT0gRm9ybUNvbnRyb2xsZXIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFxuICAgICAgICBGb3JtQ29udHJvbGxlciBpcyBhbiBhYnN0cmFjdCBjbGFzczsgY2Fubm90IGNvbnN0cnVjdCBpbnN0YW5jZXMgZGlyZWN0bHlcbiAgICAgIGApO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBkYXRhOiB7fSxcbiAgICAgIGVycm9yczogW10sXG4gICAgICBlcnJvck1lc3NhZ2VzOiB7fSxcbiAgICAgIGVycm9ySGVhZGVyOiBudWxsLFxuICAgICAgZ2xvYmFsRXJyb3I6IGZhbHNlLFxuICAgICAgY3VycmVudFBhZ2U6IDAsXG4gICAgICBzdWJtaXR0aW5nOiBmYWxzZSxcbiAgICB9O1xuXG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlU3VibWl0ID0gdGhpcy5oYW5kbGVTdWJtaXQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm5leHRQYWdlID0gdGhpcy5uZXh0UGFnZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucHJldlBhZ2UgPSB0aGlzLnByZXZQYWdlLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLm9uSW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICBsZXQgbmV3UGFnZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yLnNlc3Npb25TdG9yYWdlS2V5ICYmXG4gICAgICBzZXNzaW9uU3RvcmFnZVt0aGlzLmNvbnN0cnVjdG9yLnNlc3Npb25TdG9yYWdlS2V5XVxuICAgICkge1xuICAgICAgY29uc3QgcmVsb2FkZWRTdGF0ZSA9IEpTT04ucGFyc2UoXG4gICAgICAgIHNlc3Npb25TdG9yYWdlW3RoaXMuY29uc3RydWN0b3Iuc2Vzc2lvblN0b3JhZ2VLZXldXG4gICAgICApO1xuICAgICAgdGhpcy5zZXRTdGF0ZShyZWxvYWRlZFN0YXRlKTtcbiAgICAgIG5ld1BhZ2UgPSByZWxvYWRlZFN0YXRlLmN1cnJlbnRQYWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdQYWdlID0gdGhpcy5zdGF0ZS5jdXJyZW50UGFnZTtcbiAgICB9XG5cbiAgICB0aGlzLm9uU2V0UGFnZShuZXdQYWdlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgLy8gSWYgd2UgZ290IG5ldyBlcnJvcnMsIG5hdmlnYXRlIHRvIHRoZSBmaXJzdCBwYWdlIGNvbnRhaW5pbmcgZXJyb3JzXG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3JzLmxlbmd0aCA9PT0gMCAmJiBuZXh0U3RhdGUuZXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nZXRQYWdlQ29tcG9uZW50cygpLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLnBhZ2VIYXNFcnJvcihpLCBuZXh0U3RhdGUuZXJyb3JzKSkge1xuICAgICAgICAgIG5leHRTdGF0ZS5jdXJyZW50UGFnZSA9IGk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAvLyBJZiB3ZSBnb3QgbmV3IGVycm9ycyBvciBqdXN0IGNoYW5nZWQgcGFnZXMsIHNjcm9sbCB0byB0b3Agb2YgdGhlIHBhZ2VcbiAgICBjb25zdCBuZXdFcnJvcnMgPSBwcmV2U3RhdGUuZXJyb3JzLmxlbmd0aCA8IHRoaXMuc3RhdGUuZXJyb3JzLmxlbmd0aDtcbiAgICBjb25zdCBuZXdQYWdlID0gcHJldlN0YXRlLmN1cnJlbnRQYWdlICE9PSB0aGlzLnN0YXRlLmN1cnJlbnRQYWdlO1xuXG4gICAgaWYgKG5ld0Vycm9ycyB8fCBuZXdQYWdlKSB7XG4gICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZShcbiAgICAgICAge1xuICAgICAgICAgIHNjcm9sbFRvcDogMCxcbiAgICAgICAgfSxcbiAgICAgICAgMjAwXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChuZXdQYWdlKSB7XG4gICAgICB0aGlzLm9uU2V0UGFnZSh0aGlzLnN0YXRlLmN1cnJlbnRQYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWV0aG9kIHRvIGJlIG92ZXJyaWRkZW4gYnkgaW5oZXJpdGluZyBjbGFzc2VzOyB3aWxsIGRlZmluZSB0aGUgcGFnZXMgb2ZcbiAgICogdGhpcyBmb3JtIGJ5IEZvcm1Db21wb25lbnQgaW5zdGFuY2VzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7W0Zvcm1Db21wb25lbnRdfVxuICAgKi9cbiAgZ2V0UGFnZUNvbXBvbmVudHMoKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbXVzdCBvdmVycmlkZSBGb3JtQ29udHJvbGxlci5nZXRQYWdlQ29tcG9uZW50cycpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtGb3JtQ29tcG9uZW50fVxuICAgKi9cbiAgZ2V0Q3VycmVudFBhZ2VDb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UGFnZUNvbXBvbmVudHMoKVt0aGlzLnN0YXRlLmN1cnJlbnRQYWdlXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBlY3RzIGFuIG9iamVjdCB3aG9zZSBrZXlzIGFyZSB0aGUgbmFtZXMgb2YgZm9ybSBpbnB1dHMgYW5kIHdob3NlIHZhbHVlc1xuICAgKiByZWZsZWN0IHRoZSBuZXcgZXhwZWN0ZWQgc3RhdGUgb2YgdGhvc2UgaW5wdXRzOyBpbnRlbmRlZCB0byBtYXRjaCB0aGVcbiAgICogZm9ybWF0IG9mIHRoZSBvbkNoYW5nZSBoYW5kbGVycyBvZiBCdXR0b25MaXN0IGFuZCBGaWVsZEdyb3VwXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBuZXdTdGF0ZVxuICAgKi9cbiAgaGFuZGxlQ2hhbmdlKG5ld1N0YXRlKSB7XG4gICAgLy8gY2xlYXIgYW55IGVycm9ycyBmb3IgbmV3bHkgY2hhbmdlZCBmaWVsZHNcbiAgICBjb25zdCBuZXdGaWVsZHMgPSBPYmplY3Qua2V5cyhuZXdTdGF0ZSk7XG4gICAgY29uc3QgZXJyb3JzID0gdGhpcy5zdGF0ZS5lcnJvcnMuZmlsdGVyKFxuICAgICAgZXJyb3IgPT4gIW5ld0ZpZWxkcy5pbmNsdWRlcyhlcnJvcilcbiAgICApO1xuXG4gICAgLy8gdXBkYXRlIHN0YXRlIHdpdGggbmV3IGRhdGFcbiAgICBjb25zdCBkYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZS5kYXRhLCBuZXdTdGF0ZSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkYXRhLFxuICAgICAgZXJyb3JzLFxuICAgIH0pO1xuXG4gICAgdGhpcy5zYXZlVG9TZXNzaW9uU3RvcmFnZSh7ZGF0YX0pO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIGluIGRlcml2ZWQgY2xhc3NlcyB3aXRoIGEga2V5IG5hbWUgKGUuZy4gdGhlIGNsYXNzIG5hbWUpXG4gICAqIHRvIHNhdmUgc2Vzc2lvbiBzdG9yYWdlIGluIHRoYXQga2V5LiBPdGhlcndpc2UsIG5vIHNlc3Npb24gc3RvcmFnZSB3aWxsIGJlIHNhdmVkLlxuICAgKi9cbiAgc3RhdGljIHNlc3Npb25TdG9yYWdlS2V5ID0gbnVsbDtcblxuICAvKipcbiAgICogU2F2ZSBjdXJyZW50UGFnZSBhbmQgZm9ybSBkYXRhIHRvIHRoZSBzZXNzaW9uIHN0b3JhZ2UsIGlmIGEgc2Vzc2lvblN0b3JhZ2VLZXkgaXMgc3BlY2lmaWVkIG9uIHRoaXMgY2xhc3NcbiAgICogQHBhcmFtIHtPYmplY3R9IG5ld1N0YXRlIC0gZGF0YSBhbmQvb3IgY3VycmVudFBhZ2UgdG8gb3ZlcnJpZGUgdGhlIHZhbHVlIGluIHRoaXMuc3RhdGVcbiAgICovXG4gIHNhdmVUb1Nlc3Npb25TdG9yYWdlID0gbmV3U3RhdGUgPT4ge1xuICAgIGlmICh0aGlzLmNvbnN0cnVjdG9yLnNlc3Npb25TdG9yYWdlS2V5KSB7XG4gICAgICBjb25zdCBtZXJnZWREYXRhID0ge1xuICAgICAgICAuLi57XG4gICAgICAgICAgY3VycmVudFBhZ2U6IHRoaXMuc3RhdGUuY3VycmVudFBhZ2UsXG4gICAgICAgICAgZGF0YTogdGhpcy5zdGF0ZS5kYXRhLFxuICAgICAgICB9LFxuICAgICAgICAuLi5uZXdTdGF0ZSxcbiAgICAgIH07XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLnNlc3Npb25TdG9yYWdlS2V5LFxuICAgICAgICBKU09OLnN0cmluZ2lmeShtZXJnZWREYXRhKVxuICAgICAgKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEFzc2VtYmxlIGFsbCBkYXRhIHRvIGJlIHN1Ym1pdHRlZFxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgKi9cbiAgc2VyaWFsaXplRm9ybURhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvcm1fZGF0YTogdGhpcy5zdGF0ZS5kYXRhLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gd2UgaW5pdGlhbGl6ZSB0aGUgZm9ybS5cbiAgICovXG4gIG9uSW5pdGlhbGl6ZSgpIHtcbiAgICAvLyBJbnRlbnRpb25hbCBub29wOyBvdmVycmlkZGVuIGJ5IGNoaWxkIGNsYXNzZXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB3ZSBnZXQgYSBzdWNjZXNzZnVsIHJlc3BvbnNlIGZyb20gdGhlIEFQSSBzdWJtaXNzaW9uXG4gICAqL1xuICBvblN1Y2Nlc3NmdWxTdWJtaXQoKSB7XG4gICAgLy8gSW50ZW50aW9uYWwgbm9vcDsgb3ZlcnJpZGRlbiBieSBjaGlsZCBjbGFzc2VzXG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gd2Ugc2V0IGEgbmV3IHBhZ2UuXG4gICAqL1xuICBvblNldFBhZ2UobmV3UGFnZSkge1xuICAgIC8vIEludGVudGlvbmFsIG5vb3A7IG92ZXJyaWRkZW4gYnkgY2hpbGQgY2xhc3Nlc1xuICB9XG5cbiAgLyoqXG4gICAqIFN1Ym1pdCBzZXJpYWxpemVkIGZvcm0gZGF0YSB0byB0aGUgc3BlY2lmaWVkIEFQSSBFbmRwb2ludCBhbmQgaGFuZGxlIHNlcnZlclxuICAgKiByZXNwb25zZVxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICAgKi9cbiAgaGFuZGxlU3VibWl0KGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIXRoaXMudmFsaWRhdGVDdXJyZW50UGFnZVJlcXVpcmVkRmllbGRzKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBjbGVhciBlcnJvcnMgc28gd2UgY2FuIG1vcmUgY2xlYXJseSBkZXRlY3QgXCJuZXdcIiBlcnJvcnMgYW5kIHRvZ2dsZVxuICAgIC8vIHN1Ym1pdHRpbmcgZmxhZyBzbyB3ZSBjYW4gcHJldmVudCBkdXBsaWNhdGUgc3VibWlzc2lvblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZXJyb3JzOiBbXSxcbiAgICAgIGVycm9ySGVhZGVyOiBudWxsLFxuICAgICAgZ2xvYmFsRXJyb3I6IGZhbHNlLFxuICAgICAgc3VibWl0dGluZzogdHJ1ZSxcbiAgICB9KTtcblxuICAgICQuYWpheCh7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIHVybDogdGhpcy5wcm9wcy5hcGlFbmRwb2ludCxcbiAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkodGhpcy5zZXJpYWxpemVGb3JtRGF0YSgpKSxcbiAgICB9KVxuICAgICAgLmRvbmUoZGF0YSA9PiB7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5jb25zdHJ1Y3Rvci5zZXNzaW9uU3RvcmFnZUtleSk7XG4gICAgICAgIHRoaXMub25TdWNjZXNzZnVsU3VibWl0KGRhdGEpO1xuICAgICAgfSlcbiAgICAgIC5mYWlsKGRhdGEgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZGF0YS5yZXNwb25zZUpTT04gJiZcbiAgICAgICAgICBkYXRhLnJlc3BvbnNlSlNPTi5lcnJvcnMgJiZcbiAgICAgICAgICBkYXRhLnJlc3BvbnNlSlNPTi5lcnJvcnMuZm9ybV9kYXRhXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChkYXRhLnJlc3BvbnNlSlNPTi5nZW5lcmFsX2Vycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgZXJyb3JzOiBkYXRhLnJlc3BvbnNlSlNPTi5lcnJvcnMuZm9ybV9kYXRhLFxuICAgICAgICAgICAgICBlcnJvckhlYWRlcjogZGF0YS5yZXNwb25zZUpTT04uZ2VuZXJhbF9lcnJvcixcbiAgICAgICAgICAgICAgZ2xvYmFsRXJyb3I6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGZhaWx1cmUgd2FzIGEgcmVzdWx0IG9mIGFuIGludmFsaWQgZm9ybSwgaGlnaGxpZ2h0IHRoZSBlcnJvcnNcbiAgICAgICAgICAgIC8vIGFuZCBkaXNwbGF5IHRoZSBnZW5lcmljIGVycm9yIGhlYWRlclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIGVycm9yczogZGF0YS5yZXNwb25zZUpTT04uZXJyb3JzLmZvcm1fZGF0YSxcbiAgICAgICAgICAgICAgZXJyb3JIZWFkZXI6IGkxOG4uZm9ybUVycm9yc0JlbG93KCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlLCBzb21ldGhpbmcgdW5rbm93biB3ZW50IHdyb25nIG9uIHRoZSBzZXJ2ZXJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGdsb2JhbEVycm9yOiB0cnVlLFxuICAgICAgICAgICAgZXJyb3JIZWFkZXI6IGkxOG4uZm9ybVNlcnZlckVycm9yKCksXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgc3VibWl0dGluZzogZmFsc2UsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtFbGVtZW50fHVuZGVmaW5lZH1cbiAgICovXG4gIHJlbmRlckVycm9yRmVlZGJhY2soKSB7XG4gICAgY29uc3Qgc2hvdWxkU2hvd0Vycm9yID1cbiAgICAgIHRoaXMuc3RhdGUuZXJyb3JIZWFkZXIgJiYgKHRoaXMuc3RhdGUuZ2xvYmFsRXJyb3IgfHwgdGhpcy5wYWdlSGFzRXJyb3IoKSk7XG5cbiAgICBpZiAoc2hvdWxkU2hvd0Vycm9yKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8QWxlcnQga2V5PVwiZXJyb3ItaGVhZGVyXCIgYnNTdHlsZT1cImRhbmdlclwiPlxuICAgICAgICAgIDxoMz57dGhpcy5zdGF0ZS5lcnJvckhlYWRlcn08L2gzPlxuICAgICAgICA8L0FsZXJ0PlxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBhIGdpdmVuIHBhZ2UgKGRlZmF1bHRzIHRvIGN1cnJlbnQgcGFnZSkgaXMgcmVzcG9uc2libGUgZm9yIGFueVxuICAgKiBvZiB0aGUgZ2l2ZW4gZXJyb3JzIChkZWZhdWx0cyB0byBjdXJyZW50IHN0YXRlIGVycm9ycykuXG4gICAqXG4gICAqIE5vdGUgdGhhdCBmb3IgcHVycG9zZXMgb2YgcGFnZSBlcnJvcnMsIGVycm9yIHN0cmluZ3MgbGlrZVxuICAgKiBcImZpZWxkTmFtZVtzb21lX2V4dHJhX2RhdGFdXCIgd2lsbCBiZSBub3JtYWxpemVkIHRvIFwiZmllbGROYW1lXCJcbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtwYWdlPXRoaXMuc3RhdGUuY3VycmVudFBhZ2VdIHdoaWNoIHBhZ2UgdG8gZXhhbWluZVxuICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBbZXJyb3JzPXRoaXMuc3RhdGUuZXJyb3JzXSB3aGljaCBlcnJvcnMgdG8gY29uc2lkZXJcbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBwYWdlSGFzRXJyb3IocGFnZSA9IHRoaXMuc3RhdGUuY3VycmVudFBhZ2UsIGVycm9ycyA9IHRoaXMuc3RhdGUuZXJyb3JzKSB7XG4gICAgY29uc3QgcGFnZUZpZWxkcyA9IHRoaXMuZ2V0UGFnZUNvbXBvbmVudHMoKVtwYWdlXS5hc3NvY2lhdGVkRmllbGRzO1xuICAgIGlmICghcGFnZUZpZWxkcykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgXG4gICAgICAgIEV2ZXJ5IFBhZ2VDb21wb25lbnQgb2YgYSBGb3JtQ29udHJvbGxlciBtdXN0IGRlZmluZSBhbiBhcnJheVxuICAgICAgICBQYWdlQ29tcG9uZW50LmFzc29jaWF0ZWRGaWVsZHMgZm9yIGVycm9yIGhhbmRsaW5nXG4gICAgICBgKTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHVzaW5nIFZhcmlhYmxlRm9ybUdyb3VwcyB0aGF0IGFsbG93IGZvciBuZXN0aW5nIHF1ZXN0aW9ucywgdGhlXG4gICAgLy8gZXJyb3JzIHJldHVybmVkIGZyb20gdGhlIHNlcnZlciBjYW4gaW5jbHVkZSBzdGF0ZS1zcGVjaWZpYyBkYXRhIGxpa2VcbiAgICAvLyBcImhvd0ludGVyZXN0aW5nW2ZhY2lsaXRhdG9yX25hbWVdXCIuIFRoaXMgaXMgZ3JlYXQgZm9yIGJlaW5nIGFibGUgdG8gZmxhZ1xuICAgIC8vIHRoZSBzcGVjaWZpYyBxdWVzdGlvbiBvbiB0aGUgcGFnZSwgYnV0IGZvciBwdXJwb3NlcyBvZiBkZXRlcm1pbmluZyB3aGljaFxuICAgIC8vIHBhZ2UgYSBnaXZlbiBlcnJvciBpcyBvbiB3ZSByZWFsbHkgb25seSBjYXJlIGFib3V0IHRoZSBcImhvd0ludGVyZXN0aW5nXCJcbiAgICAvLyBrZXksIG5vdCB0aGUgXCJmYWNpbGl0YXRvcl9uYW1lXCIgZGF0YS5cbiAgICBjb25zdCBmbGF0dGVuZWRFcnJvcnMgPSBlcnJvcnMubWFwKGUgPT4gZS5yZXBsYWNlKC9cXFtbXlxcXV0qXFxdLywgJycpKTtcbiAgICByZXR1cm4gcGFnZUZpZWxkcy5zb21lKGZpZWxkID0+IGZsYXR0ZW5lZEVycm9ycy5pbmNsdWRlcyhmaWVsZCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAqL1xuICBnZXRQYWdlUHJvcHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleTogdGhpcy5zdGF0ZS5jdXJyZW50UGFnZSxcbiAgICAgIG9wdGlvbnM6IHRoaXMucHJvcHMub3B0aW9ucyxcbiAgICAgIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZSxcbiAgICAgIGVycm9yczogdGhpcy5zdGF0ZS5lcnJvcnMsXG4gICAgICBlcnJvck1lc3NhZ2VzOiB0aGlzLnN0YXRlLmVycm9yTWVzc2FnZXMsXG4gICAgICBkYXRhOiB0aGlzLnN0YXRlLmRhdGEsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICovXG4gIHJlbmRlckN1cnJlbnRQYWdlKCkge1xuICAgIGNvbnN0IFBhZ2VDb21wb25lbnQgPSB0aGlzLmdldEN1cnJlbnRQYWdlQ29tcG9uZW50KCk7XG4gICAgcmV0dXJuIDxQYWdlQ29tcG9uZW50IHsuLi50aGlzLmdldFBhZ2VQcm9wcygpfSAvPjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXR0ZXIgbWV0aG9kIGZvciByZXF1aXJlZCBmaWVsZCB2YWxpZGF0aW9uLCBzbyB0aGF0IGluaGVyaXRpbmcgY2xhc3NlcyBjYW5cbiAgICogc3VwcG9ydCBjb25kaXRpb25hbGx5LXJlcXVpcmVkIGZpZWxkc1xuICAgKiBAcmV0dXJucyB7U3RyaW5nW119XG4gICAqL1xuICBnZXRSZXF1aXJlZEZpZWxkcygpIHtcbiAgICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IFsuLi50aGlzLnByb3BzLnJlcXVpcmVkRmllbGRzXTtcbiAgICBjb25zdCBwYWdlUmVxdWlyZWRGaWVsZHMgPSB0aGlzLmdldFBhZ2VDb21wb25lbnRzKCkubWFwKHBhZ2UgPT5cbiAgICAgIHBhZ2UuZ2V0RHluYW1pY2FsbHlSZXF1aXJlZEZpZWxkcyh0aGlzLnN0YXRlLmRhdGEsIHRoaXMuZ2V0UGFnZVByb3BzKCkpXG4gICAgKTtcbiAgICByZXR1cm4gcGFnZVJlcXVpcmVkRmllbGRzLnJlZHVjZShcbiAgICAgIChmbGF0dGVuZWQsIHN1YkFycmF5KSA9PiBmbGF0dGVuZWQuY29uY2F0KHN1YkFycmF5KSxcbiAgICAgIHJlcXVpcmVkRmllbGRzXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBjaGVja3MgdGhlIGRhdGEgY29sbGVjdGVkIHNvIGZhciBhZ2FpbnN0IHRoZSByZXF1aXJlZCBmaWVsZHMgYW5kIHRoZSBmaWVsZHNcbiAgICogZm9yIHRoaXMgcGFnZSwgdG8gbWFrZSBzdXJlIHRoYXQgYWxsIHJlcXVpcmVkIGZpZWxkcyBvbiB0aGlzIHBhZ2UgaGF2ZSBiZWVuXG4gICAqIGZpbGxlZCBvdXQuIEZsYWdzIGFueSBzdWNoIGZpZWxkcyB3aXRoIGFuIGVycm9yLCBhbmQgcmV0dXJucyBhIGJvb2xlYW5cbiAgICogaW5kaWNhdGluZyB3aGV0aGVyIGFueSB3ZXJlIGZvdW5kLlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoaXMgcGFnZSBpcyB2YWxpZCwgZmFsc2UgaWYgYW55IHJlcXVpcmVkIGZpZWxkc1xuICAgKiAgICAgICAgIGFyZSBtaXNzaW5nXG4gICAqL1xuICB2YWxpZGF0ZVBhZ2VSZXF1aXJlZEZpZWxkcyhwYWdlSW5kZXgpIHtcbiAgICBpZiAocGFnZUluZGV4IDwgMCB8fCBwYWdlSW5kZXggPj0gdGhpcy5nZXRQYWdlQ29tcG9uZW50cygpLmxlbmd0aCkge1xuICAgICAgdGhyb3cgYEludmFsaWQgcGFnZSBpbmRleCAke3BhZ2VJbmRleH1gO1xuICAgIH1cblxuICAgIGNvbnN0IHBhZ2UgPSB0aGlzLmdldFBhZ2VDb21wb25lbnRzKClbcGFnZUluZGV4XTtcbiAgICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IHRoaXMuZ2V0UmVxdWlyZWRGaWVsZHMoKTtcbiAgICBjb25zdCBwYWdlRmllbGRzID0gcGFnZS5hc3NvY2lhdGVkRmllbGRzO1xuXG4gICAgLy8gVHJpbSBzdHJpbmcgdmFsdWVzIG9uIHBhZ2UsIGFuZCBzZXQgZW1wdHkgc3RyaW5ncyB0byBudWxsXG4gICAgbGV0IHBhZ2VEYXRhID0ge307XG4gICAgcGFnZUZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuc3RhdGUuZGF0YVtmaWVsZF07XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCB0cmltbWVkVmFsdWUgPSB2YWx1ZS50cmltKCk7XG4gICAgICAgIHBhZ2VEYXRhW2ZpZWxkXSA9IHRyaW1tZWRWYWx1ZS5sZW5ndGggPiAwID8gdHJpbW1lZFZhbHVlIDogbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2VEYXRhW2ZpZWxkXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcGFnZURhdGEgPSBPYmplY3QuYXNzaWduKHBhZ2VEYXRhLCBwYWdlLnByb2Nlc3NQYWdlRGF0YShwYWdlRGF0YSkpO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICAuLi50aGlzLnN0YXRlLmRhdGEsXG4gICAgICAgIC4uLnBhZ2VEYXRhLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHBhZ2VSZXF1aXJlZEZpZWxkcyA9IHBhZ2VGaWVsZHMuZmlsdGVyKGYgPT5cbiAgICAgIHJlcXVpcmVkRmllbGRzLmluY2x1ZGVzKGYpXG4gICAgKTtcbiAgICBjb25zdCBtaXNzaW5nUmVxdWlyZWRGaWVsZHMgPSBwYWdlUmVxdWlyZWRGaWVsZHMuZmlsdGVyKGYgPT4gIXBhZ2VEYXRhW2ZdKTtcbiAgICBjb25zdCBmb3JtYXRFcnJvcnMgPSBwYWdlLmdldEVycm9yTWVzc2FnZXMocGFnZURhdGEpO1xuXG4gICAgaWYgKG1pc3NpbmdSZXF1aXJlZEZpZWxkcy5sZW5ndGggfHwgT2JqZWN0LmtleXMoZm9ybWF0RXJyb3JzKS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlcnJvcnM6IFsuLi5taXNzaW5nUmVxdWlyZWRGaWVsZHMsIC4uLk9iamVjdC5rZXlzKGZvcm1hdEVycm9ycyldLFxuICAgICAgICBlcnJvck1lc3NhZ2VzOiBmb3JtYXRFcnJvcnMsXG4gICAgICAgIGVycm9ySGVhZGVyOlxuICAgICAgICAgICdQbGVhc2UgZmlsbCBvdXQgYWxsIHJlcXVpcmVkIGZpZWxkcy4gWW91IG11c3QgY29tcGxldGVseSBmaWxsIG91dCB0aGlzIHNlY3Rpb24gYmVmb3JlIG1vdmluZyBcXFxuICAgICAgICAgIG9uIHRvIHRoZSBuZXh0IHNlY3Rpb24gb3IgZ29pbmcgYmFjayB0byBlZGl0IGEgcHJldmlvdXMgc2VjdGlvbi4nLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiB2YWxpZGF0ZSB0aGUgY3VycmVudCBwYWdlXG4gICAqL1xuICB2YWxpZGF0ZUN1cnJlbnRQYWdlUmVxdWlyZWRGaWVsZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVQYWdlUmVxdWlyZWRGaWVsZHModGhpcy5zdGF0ZS5jdXJyZW50UGFnZSk7XG4gIH1cblxuICAvKipcbiAgICogc3dpdGNoIHRvIHRoZSBuZXh0IHBhZ2UgaW4gc2VxdWVuY2UsIGlmIGl0IGV4aXN0c1xuICAgKi9cbiAgbmV4dFBhZ2UoKSB7XG4gICAgdGhpcy5zZXRQYWdlKHRoaXMuc3RhdGUuY3VycmVudFBhZ2UgKyAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzd2l0Y2ggdG8gdGhlIHByZXZpb3VzIHBhZ2UgaW4gc2VxdWVuY2UsIGlmIGl0IGV4aXN0c1xuICAgKi9cbiAgcHJldlBhZ2UoKSB7XG4gICAgdGhpcy5zZXRQYWdlKHRoaXMuc3RhdGUuY3VycmVudFBhZ2UgLSAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzd2l0Y2ggdG8gdGhlIHNwZWNpZmllZCBwYWdlIGluIHNlcXVlbmNlLCBpZiBpdCBleGlzdHNcbiAgICovXG4gIHNldFBhZ2UoaSkge1xuICAgIGNvbnN0IG5ld1BhZ2UgPSBNYXRoLm1pbihcbiAgICAgIE1hdGgubWF4KGksIDApLFxuICAgICAgdGhpcy5nZXRQYWdlQ29tcG9uZW50cygpLmxlbmd0aCAtIDFcbiAgICApO1xuXG4gICAgY29uc3QgY3VycmVudFBhZ2VWYWxpZCA9IHRoaXMudmFsaWRhdGVDdXJyZW50UGFnZVJlcXVpcmVkRmllbGRzKCk7XG4gICAgaWYgKGN1cnJlbnRQYWdlVmFsaWQpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjdXJyZW50UGFnZTogbmV3UGFnZSxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNhdmVUb1Nlc3Npb25TdG9yYWdlKHtjdXJyZW50UGFnZTogbmV3UGFnZX0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG4gIHNob3VsZFNob3dTdWJtaXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY3VycmVudFBhZ2UgPT09IHRoaXMuZ2V0UGFnZUNvbXBvbmVudHMoKS5sZW5ndGggLSAxO1xuICB9XG4gIHN0YXRpYyBzdWJtaXRCdXR0b25UZXh0ID0gaTE4bi5zdWJtaXQoKTtcblxuICAvKipcbiAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAqL1xuICByZW5kZXJDb250cm9sQnV0dG9ucygpIHtcbiAgICBsZXQgYmFja0J1dHRvbjtcbiAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50UGFnZSA+IDApIHtcbiAgICAgIGJhY2tCdXR0b24gPSAoXG4gICAgICAgIDxCdXR0b24ga2V5PVwiYmFja1wiIGlkPVwiYmFja1wiIG9uQ2xpY2s9e3RoaXMucHJldlBhZ2V9PlxuICAgICAgICAgIEJhY2tcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICApO1xuICAgIH1cblxuICAgIGxldCBuZXh0QnV0dG9uID0gKFxuICAgICAgPEJ1dHRvbiBic1N0eWxlPVwicHJpbWFyeVwiIGtleT1cIm5leHRcIiBpZD1cIm5leHRcIiBvbkNsaWNrPXt0aGlzLm5leHRQYWdlfT5cbiAgICAgICAgTmV4dFxuICAgICAgPC9CdXR0b24+XG4gICAgKTtcbiAgICBpZiAodGhpcy5zaG91bGRTaG93U3VibWl0KCkpIHtcbiAgICAgIG5leHRCdXR0b24gPSAoXG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBic1N0eWxlPVwicHJpbWFyeVwiXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuc3VibWl0dGluZ31cbiAgICAgICAgICBrZXk9XCJzdWJtaXRcIlxuICAgICAgICAgIGlkPVwic3VibWl0XCJcbiAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgPlxuICAgICAgICAgIHt0aGlzLmNvbnN0cnVjdG9yLnN1Ym1pdEJ1dHRvblRleHR9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYWdlQnV0dG9ucyA9IHRoaXMuZ2V0UGFnZUNvbXBvbmVudHMoKS5sZW5ndGggPiAxICYmIChcbiAgICAgIDxQYWdpbmF0aW9uXG4gICAgICAgIHN0eWxlPXtzdHlsZXMucGFnZUJ1dHRvbnN9XG4gICAgICAgIGl0ZW1zPXt0aGlzLmdldFBhZ2VDb21wb25lbnRzKCkubGVuZ3RofVxuICAgICAgICBhY3RpdmVQYWdlPXt0aGlzLnN0YXRlLmN1cnJlbnRQYWdlICsgMX1cbiAgICAgICAgb25TZWxlY3Q9e2kgPT4gdGhpcy5zZXRQYWdlKGkgLSAxKX0gLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9qc3gtbm8tYmluZFxuICAgICAgLz5cbiAgICApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxGb3JtR3JvdXAga2V5PVwiY29udHJvbC1idXR0b25zXCIgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAge2JhY2tCdXR0b259XG4gICAgICAgIHtwYWdlQnV0dG9uc31cbiAgICAgICAge25leHRCdXR0b259XG4gICAgICA8L0Zvcm1Hcm91cD5cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybVxuICAgICAgICByZWY9e2Zvcm0gPT4ge1xuICAgICAgICAgIHRoaXMuZm9ybSA9IGZvcm07XG4gICAgICAgIH19XG4gICAgICAgIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH1cbiAgICAgID5cbiAgICAgICAge3RoaXMucmVuZGVyRXJyb3JGZWVkYmFjaygpfVxuICAgICAgICB7dGhpcy5yZW5kZXJDdXJyZW50UGFnZSgpfVxuICAgICAgICB7dGhpcy5yZW5kZXJDb250cm9sQnV0dG9ucygpfVxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0ge1xuICBwYWdlQnV0dG9uczoge1xuICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnLFxuICAgIG1hcmdpbjogJzAgMTBweCcsXG4gIH0sXG59O1xuXG5Gb3JtQ29udHJvbGxlci5wcm9wVHlwZXMgPSB7XG4gIGFwaUVuZHBvaW50OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG9wdGlvbnM6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgcmVxdWlyZWRGaWVsZHM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLmlzUmVxdWlyZWQsXG59O1xuXG5Gb3JtQ29udHJvbGxlci5kZWZhdWx0UHJvcHMgPSB7XG4gIHJlcXVpcmVkRmllbGRzOiBbXSxcbn07XG4iLCIvKiFcblx0Q29weXJpZ2h0IChjKSAyMDE4IEplZCBXYXRzb24uXG5cdExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG5cdGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cdHZhciBuYXRpdmVDb2RlU3RyaW5nID0gJ1tuYXRpdmUgY29kZV0nO1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGlmIChhcmcubGVuZ3RoKSB7XG5cdFx0XHRcdFx0dmFyIGlubmVyID0gY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpO1xuXHRcdFx0XHRcdGlmIChpbm5lcikge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGlubmVyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0aWYgKGFyZy50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyAmJiAhYXJnLnRvU3RyaW5nLnRvU3RyaW5nKCkuaW5jbHVkZXMoJ1tuYXRpdmUgY29kZV0nKSkge1xuXHRcdFx0XHRcdGNsYXNzZXMucHVzaChhcmcudG9TdHJpbmcoKSk7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0Y2xhc3NOYW1lcy5kZWZhdWx0ID0gY2xhc3NOYW1lcztcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7Rm9ybUdyb3VwfSBmcm9tICdyZWFjdC1ib290c3RyYXAnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXJlc3RyaWN0ZWQtaW1wb3J0c1xuaW1wb3J0IEZvcm1Db21wb25lbnQgZnJvbSAnLi9Gb3JtQ29tcG9uZW50JztcbmltcG9ydCBGb3JtQ29udHJvbGxlciBmcm9tICcuL0Zvcm1Db250cm9sbGVyJztcbmltcG9ydCByZWFjdEJvb3RzdHJhcFN0b3J5RGVjb3JhdG9yIGZyb20gJy4uL3JlYWN0Qm9vdHN0cmFwU3RvcnlEZWNvcmF0b3InO1xuaW1wb3J0IHthY3Rpb259IGZyb20gJ0BzdG9yeWJvb2svYWRkb24tYWN0aW9ucyc7XG5cbmNsYXNzIFRlc3RQYWdlT25lIGV4dGVuZHMgRm9ybUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm1Hcm91cD5cbiAgICAgICAgPGg0PlBhZ2UgT25lPC9oND5cbiAgICAgICAge3RoaXMuYnVpbGRCdXR0b25zRnJvbU9wdGlvbnMoe1xuICAgICAgICAgIG5hbWU6ICdvbmUnLFxuICAgICAgICAgIGxhYmVsOiAnSW5wdXQgT25lJyxcbiAgICAgICAgICB0eXBlOiAnY2hlY2snLFxuICAgICAgICB9KX1cbiAgICAgIDwvRm9ybUdyb3VwPlxuICAgICk7XG4gIH1cbn1cblxuVGVzdFBhZ2VPbmUuYXNzb2NpYXRlZEZpZWxkcyA9IFsnb25lJ107XG5cbmNsYXNzIFRlc3RQYWdlVHdvIGV4dGVuZHMgRm9ybUNvbXBvbmVudCB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm1Hcm91cD5cbiAgICAgICAgPGg0PlBhZ2UgVHdvPC9oND5cbiAgICAgICAge3RoaXMuYnVpbGRCdXR0b25zRnJvbU9wdGlvbnMoe1xuICAgICAgICAgIG5hbWU6ICd0d28nLFxuICAgICAgICAgIGxhYmVsOiAnSW5wdXQgVHdvJyxcbiAgICAgICAgICB0eXBlOiAncmFkaW8nLFxuICAgICAgICB9KX1cbiAgICAgIDwvRm9ybUdyb3VwPlxuICAgICk7XG4gIH1cbn1cblxuVGVzdFBhZ2VUd28uYXNzb2NpYXRlZEZpZWxkcyA9IFsndHdvJ107XG5cbmNsYXNzIFRlc3RQYWdlVGhyZWUgZXh0ZW5kcyBGb3JtQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybUdyb3VwPlxuICAgICAgICA8aDQ+UGFnZSBUaHJlZTwvaDQ+XG4gICAgICAgIHt0aGlzLmJ1aWxkU2VsZWN0RmllbGRHcm91cEZyb21PcHRpb25zKHtcbiAgICAgICAgICBuYW1lOiAndGhyZWUnLFxuICAgICAgICAgIGxhYmVsOiAnSW5wdXQgVGhyZWUnLFxuICAgICAgICB9KX1cbiAgICAgIDwvRm9ybUdyb3VwPlxuICAgICk7XG4gIH1cbn1cblxuVGVzdFBhZ2VUaHJlZS5hc3NvY2lhdGVkRmllbGRzID0gWyd0aHJlZSddO1xuXG5jbGFzcyBUZXN0UGFnZUZvdXIgZXh0ZW5kcyBGb3JtQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybUdyb3VwPlxuICAgICAgICA8aDQ+UGFnZSBGb3VyPC9oND5cbiAgICAgICAge3RoaXMuYnVpbGRGaWVsZEdyb3VwKHtcbiAgICAgICAgICBuYW1lOiAnZm91cicsXG4gICAgICAgICAgbGFiZWw6ICdJbnB1dCBGb3VyJyxcbiAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgIH0pfVxuICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgKTtcbiAgfVxufVxuXG5UZXN0UGFnZUZvdXIuYXNzb2NpYXRlZEZpZWxkcyA9IFsnZm91ciddO1xuXG5jbGFzcyBUZXN0Q29udHJvbGxlciBleHRlbmRzIEZvcm1Db250cm9sbGVyIHtcbiAgZ2V0UGFnZUNvbXBvbmVudHMoKSB7XG4gICAgcmV0dXJuIFtUZXN0UGFnZU9uZSwgVGVzdFBhZ2VUd28sIFRlc3RQYWdlVGhyZWUsIFRlc3RQYWdlRm91cl07XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBoYW5kbGVDaGFuZ2UobmV3U3RhdGUpIHtcbiAgICB0aGlzLnByb3BzLmFjdGlvbignb25DaGFuZ2UnKShuZXdTdGF0ZSk7XG4gICAgc3VwZXIuaGFuZGxlQ2hhbmdlKG5ld1N0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGhhbmRsZVN1Ym1pdChldmVudCkge1xuICAgIHRoaXMucHJvcHMuYWN0aW9uKCdzdWJtaXQnKSh0aGlzLnNlcmlhbGl6ZUZvcm1EYXRhKCkpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbn1cblxuY29uc3QgT1BUSU9OUyA9IHtcbiAgb25lOiBbJ0ZpcnN0JywgJ1NlY29uZCcsICdUaGlyZCddLFxuICB0d286IFsnRm91cnRoJywgJ0ZpZnRoJywgJ1NpeHRoJ10sXG4gIHRocmVlOiBbJ1NldmVudGgnLCAnRWlnaHRoJywgJ05pbnRoJ10sXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbXBvbmVudDogRm9ybUNvbnRyb2xsZXIsXG4gIGRlY29yYXRvcnM6IFtyZWFjdEJvb3RzdHJhcFN0b3J5RGVjb3JhdG9yXSxcbn07XG5cbmV4cG9ydCBjb25zdCBGb3JtV2l0aFJhZGlvQnV0dG9ucyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8VGVzdFBhZ2VPbmVcbiAgICAgIG9wdGlvbnM9e3tcbiAgICAgICAgb25lOiBPUFRJT05TLm9uZSxcbiAgICAgIH19XG4gICAgICBvbkNoYW5nZT17YWN0aW9uKCdvbkNoYW5nZScpfVxuICAgICAgZXJyb3JzPXtbXX1cbiAgICAgIGVycm9yTWVzc2FnZXM9e3t9fVxuICAgICAgZGF0YT17e319XG4gICAgLz5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBGb3JtV2l0aENoZWNrQnV0dG9ucyA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8VGVzdFBhZ2VUd29cbiAgICAgIG9wdGlvbnM9e3tcbiAgICAgICAgdHdvOiBPUFRJT05TLnR3byxcbiAgICAgIH19XG4gICAgICBvbkNoYW5nZT17YWN0aW9uKCdvbkNoYW5nZScpfVxuICAgICAgZXJyb3JzPXtbXX1cbiAgICAgIGVycm9yTWVzc2FnZXM9e3t9fVxuICAgICAgZGF0YT17e319XG4gICAgLz5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBGb3JtV2l0aFNlbGVjdERyb3Bkb3duID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxUZXN0UGFnZVRocmVlXG4gICAgICBvcHRpb25zPXt7XG4gICAgICAgIHRocmVlOiBPUFRJT05TLnRocmVlLFxuICAgICAgfX1cbiAgICAgIG9uQ2hhbmdlPXthY3Rpb24oJ29uQ2hhbmdlJyl9XG4gICAgICBlcnJvcnM9e1tdfVxuICAgICAgZXJyb3JNZXNzYWdlcz17e319XG4gICAgICBkYXRhPXt7fX1cbiAgICAvPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IEdlbmVyYXRlZFRleHRJbnB1dCA9ICgpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8VGVzdFBhZ2VGb3VyXG4gICAgICBvcHRpb25zPXt7fX1cbiAgICAgIG9uQ2hhbmdlPXthY3Rpb24oJ29uQ2hhbmdlJyl9XG4gICAgICBlcnJvcnM9e1tdfVxuICAgICAgZXJyb3JNZXNzYWdlcz17e319XG4gICAgICBkYXRhPXt7fX1cbiAgICAvPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IE11bHRpUGFnZUZvcm0gPSAoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPFRlc3RDb250cm9sbGVyIGFwaUVuZHBvaW50PVwiXCIgb3B0aW9ucz17T1BUSU9OU30gcmVxdWlyZWRGaWVsZHM9e1tdfSAvPlxuICApO1xufTtcbiJdLCJuYW1lcyI6WyJGb3JtQ29tcG9uZW50IiwicHJvcHMiLCJjb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsImhhbmRsZUNoYW5nZSIsImJpbmQiLCJnZXREeW5hbWljYWxseVJlcXVpcmVkRmllbGRzIiwiZGF0YSIsImdldEVycm9yTWVzc2FnZXMiLCJwcm9jZXNzUGFnZURhdGEiLCJuZXdTdGF0ZSIsInRoaXMiLCJvbkNoYW5nZSIsImdldFZhbGlkYXRpb25TdGF0ZSIsIm5hbWUiLCJlcnJvcnMiLCJpbmNsdWRlcyIsImJ1aWxkU2VsZWN0RmllbGRHcm91cEZyb21PcHRpb25zIiwibGFiZWwiLCJwbGFjZWhvbGRlciIsInJlcXVpcmVkIiwib3B0aW9ucyIsImJ1aWxkU2VsZWN0RmllbGRHcm91cCIsInJlbmRlcmVkT3B0aW9ucyIsIkFycmF5IiwiaXNBcnJheSIsIm1hcCIsInZhbHVlIiwidXRpbHMiLCJub3JtYWxpemVBbnN3ZXIiLCJhbnN3ZXJUZXh0IiwiYW5zd2VyVmFsdWUiLCJrZXkiLCJPYmplY3QiLCJrZXlzIiwiaWQiLCJjb21wb25lbnRDbGFzcyIsInZhbGlkYXRpb25TdGF0ZSIsImVycm9yTWVzc2FnZSIsImVycm9yTWVzc2FnZXMiLCJidWlsZEZpZWxkR3JvdXAiLCJ0eXBlIiwiYnVpbGRVc1Bob25lTnVtYmVySW5wdXQiLCJidWlsZEJ1dHRvbnNGcm9tT3B0aW9ucyIsImxlbmd0aCIsImFuc3dlcnMiLCJidWlsZEJ1dHRvbnMiLCJidWlsZEJ1dHRvbnNXaXRoQWRkaXRpb25hbFRleHRGaWVsZHNGcm9tT3B0aW9ucyIsInRleHRGaWVsZE1hcCIsImJ1aWxkQnV0dG9uc1dpdGhBZGRpdGlvbmFsVGV4dEZpZWxkcyIsImFuc3dlciIsInRleHRGaWVsZE5hbWUiLCJpbnB1dFZhbHVlIiwib25JbnB1dENoYW5nZSIsIm5ld1ZhbHVlIiwidW5kZWZpbmVkIiwiQnV0dG9uTGlzdCIsImdyb3VwTmFtZSIsInNlbGVjdGVkSXRlbXMiLCJidWlsZFNpbmdsZUNoZWNrYm94IiwiUmVhY3QiLCJDb21wb25lbnQiLCJQcm9wVHlwZXMiLCJvYmplY3QiLCJpc1JlcXVpcmVkIiwiYXJyYXlPZiIsInN0cmluZyIsImZ1bmMiLCJGb3JtQ29udHJvbGxlciIsInNlc3Npb25TdG9yYWdlS2V5IiwibWVyZ2VkRGF0YSIsImN1cnJlbnRQYWdlIiwic3RhdGUiLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3JIZWFkZXIiLCJnbG9iYWxFcnJvciIsInN1Ym1pdHRpbmciLCJoYW5kbGVTdWJtaXQiLCJuZXh0UGFnZSIsInByZXZQYWdlIiwib25Jbml0aWFsaXplIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCIsIm5ld1BhZ2UiLCJyZWxvYWRlZFN0YXRlIiwicGFyc2UiLCJzZXRTdGF0ZSIsIm9uU2V0UGFnZSIsIlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlIiwibmV4dFByb3BzIiwibmV4dFN0YXRlIiwiaSIsImdldFBhZ2VDb21wb25lbnRzIiwicGFnZUhhc0Vycm9yIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwicHJldlN0YXRlIiwibmV3RXJyb3JzIiwiJCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJnZXRDdXJyZW50UGFnZUNvbXBvbmVudCIsIm5ld0ZpZWxkcyIsImZpbHRlciIsImVycm9yIiwiYXNzaWduIiwic2F2ZVRvU2Vzc2lvblN0b3JhZ2UiLCJzZXJpYWxpemVGb3JtRGF0YSIsImZvcm1fZGF0YSIsIm9uU3VjY2Vzc2Z1bFN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ2YWxpZGF0ZUN1cnJlbnRQYWdlUmVxdWlyZWRGaWVsZHMiLCJhamF4IiwibWV0aG9kIiwidXJsIiwiYXBpRW5kcG9pbnQiLCJjb250ZW50VHlwZSIsImRhdGFUeXBlIiwiZG9uZSIsInJlbW92ZUl0ZW0iLCJmYWlsIiwicmVzcG9uc2VKU09OIiwiZ2VuZXJhbF9lcnJvciIsImkxOG4iLCJmb3JtRXJyb3JzQmVsb3ciLCJmb3JtU2VydmVyRXJyb3IiLCJyZW5kZXJFcnJvckZlZWRiYWNrIiwiQWxlcnQiLCJic1N0eWxlIiwicGFnZSIsInBhZ2VGaWVsZHMiLCJhc3NvY2lhdGVkRmllbGRzIiwiZmxhdHRlbmVkRXJyb3JzIiwiZSIsInJlcGxhY2UiLCJzb21lIiwiZmllbGQiLCJnZXRQYWdlUHJvcHMiLCJyZW5kZXJDdXJyZW50UGFnZSIsIlBhZ2VDb21wb25lbnQiLCJnZXRSZXF1aXJlZEZpZWxkcyIsInJlcXVpcmVkRmllbGRzIiwicmVkdWNlIiwiZmxhdHRlbmVkIiwic3ViQXJyYXkiLCJjb25jYXQiLCJ2YWxpZGF0ZVBhZ2VSZXF1aXJlZEZpZWxkcyIsInBhZ2VJbmRleCIsInBhZ2VEYXRhIiwiZm9yRWFjaCIsInRyaW1tZWRWYWx1ZSIsInRyaW0iLCJtaXNzaW5nUmVxdWlyZWRGaWVsZHMiLCJmIiwiZm9ybWF0RXJyb3JzIiwic2V0UGFnZSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJzaG91bGRTaG93U3VibWl0IiwicmVuZGVyQ29udHJvbEJ1dHRvbnMiLCJiYWNrQnV0dG9uIiwiQnV0dG9uIiwib25DbGljayIsIm5leHRCdXR0b24iLCJkaXNhYmxlZCIsInN1Ym1pdEJ1dHRvblRleHQiLCJwYWdlQnV0dG9ucyIsIlBhZ2luYXRpb24iLCJzdHlsZSIsInN0eWxlcyIsIml0ZW1zIiwiYWN0aXZlUGFnZSIsIm9uU2VsZWN0IiwiRm9ybUdyb3VwIiwiY2xhc3NOYW1lIiwicmVuZGVyIiwicmVmIiwiZm9ybSIsIm9uU3VibWl0Iiwic3VibWl0IiwidmVydGljYWxBbGlnbiIsIm1hcmdpbiIsInByb3BUeXBlcyIsImRlZmF1bHRQcm9wcyIsImhhc093biIsImhhc093blByb3BlcnR5IiwiY2xhc3NOYW1lcyIsImNsYXNzZXMiLCJhcmd1bWVudHMiLCJhcmciLCJhcmdUeXBlIiwicHVzaCIsImlubmVyIiwiYXBwbHkiLCJ0b1N0cmluZyIsInByb3RvdHlwZSIsImNhbGwiLCJqb2luIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmF1bHQiLCJUZXN0UGFnZU9uZSIsIlRlc3RQYWdlVHdvIiwiVGVzdFBhZ2VUaHJlZSIsIlRlc3RQYWdlRm91ciIsIlRlc3RDb250cm9sbGVyIiwiYWN0aW9uIiwiT1BUSU9OUyIsIm9uZSIsInR3byIsInRocmVlIiwiY29tcG9uZW50IiwiZGVjb3JhdG9ycyIsInJlYWN0Qm9vdHN0cmFwU3RvcnlEZWNvcmF0b3IiLCJGb3JtV2l0aFJhZGlvQnV0dG9ucyIsIkZvcm1XaXRoQ2hlY2tCdXR0b25zIiwiRm9ybVdpdGhTZWxlY3REcm9wZG93biIsIkdlbmVyYXRlZFRleHRJbnB1dCIsIk11bHRpUGFnZUZvcm0iXSwic291cmNlUm9vdCI6IiJ9