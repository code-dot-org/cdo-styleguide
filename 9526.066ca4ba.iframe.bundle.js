"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[9526],{"./src/accounts/constants.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.SingleSignOnProviders=exports.OAuthSectionTypes=exports.LmsLoginTypeNames=exports.LmsLoginInstructionUrls=void 0;var _utils=__webpack_require__("./src/utils.js"),_sharedConstants=__webpack_require__("./generated-scripts/sharedConstants.ts");exports.OAuthSectionTypes=(0,_utils.makeEnum)(_sharedConstants.SectionLoginType.google_classroom,_sharedConstants.SectionLoginType.clever,"microsoft_classroom"),exports.SingleSignOnProviders={google:"google_oauth2",microsoft:"microsoft_v2_auth",clever:"clever",facebook:"facebook",lti_v1:_sharedConstants.SectionLoginType.lti_v1},exports.LmsLoginTypeNames={clever:"Clever",google_classroom:"Google Classroom",canvas:"Canvas",canvas_cloud:"Canvas",canvas_beta_cloud:"Canvas Beta",canvas_test_cloud:"Canvas Test",schoology:"Schoology"},exports.LmsLoginInstructionUrls={clever:"https://support.code.org/hc/en-us/articles/115002716111-Setting-Up-Sections-with-Clever-Sync",google_classroom:"https://support.code.org/hc/en-us/articles/115001319312-Setting-Up-Sections-with-Google-Classroom-Sync",canvas:"https://support.code.org/hc/en-us/articles/23621973451405-Create-and-sync-rosters-with-Canvas",schoology:"https://support.code.org/hc/en-us/articles/23622036958093-Create-and-sync-rosters-with-Schoology"}},"./src/generated/curriculum/sharedCourseConstants.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.PublishedState=exports.ParticipantAudiencesByType=exports.ParticipantAudience=exports.InstructorAudience=exports.InstructionType=exports.DeviceTypes=exports.DeviceCompatibilityLevels=exports.CurriculumUmbrella=exports.CurriculumTopicTags=exports.CurriculumContentArea=exports.CourseOfferingSchoolSubjects=exports.CourseOfferingMarketingInitiatives=exports.CourseOfferingHeaders=exports.CourseOfferingCurriculumTypes=exports.CourseOfferingCsTopics=void 0;exports.PublishedState={in_development:"in_development",pilot:"pilot",beta:"beta",preview:"preview",stable:"stable",sunsetting:"sunsetting",deprecated:"deprecated"},exports.InstructionType={teacher_led:"teacher_led",self_paced:"self_paced"},exports.ParticipantAudience={facilitator:"facilitator",teacher:"teacher",student:"student"},exports.InstructorAudience={universal_instructor:"universal_instructor",plc_reviewer:"plc_reviewer",facilitator:"facilitator",teacher:"teacher"},exports.CurriculumUmbrella={CSF:"CSF",CSD:"CSD",CSP:"CSP",CSA:"CSA",CSC:"CSC",HOC:"HOC",AI:"AI",CSA_self_paced_pl:"CSA Self Paced PL",CSP_self_paced_pl:"CSP Self Paced PL",CSD_self_paced_pl:"CSD Self Paced PL",CSF_self_paced_pl:"CSF Self Paced PL",CSC_self_paced_pl:"CSC Self Paced PL",CSC_k_5_self_paced_pl:"CSC K-5 self-paced PL",student_self_paced:"Student Self Paced Courses",pd_workshop_activity_csf:"PD Workshop Activity CSF",pd_workshop_activity_csd:"PD Workshop Activity CSD",pd_workshop_activity_csp:"PD Workshop Activity CSP",pd_workshop_activity_csa:"PD Workshop Activity CSA",foundations_of_cs:"Foundations of CS",foundations_of_programming:"Foundations of Programming",CSC_K_5:"CSC K-5",CSC_6_8:"CSC 6-8",CSC_9_12:"CSC 9-12",special_topics_k_5:"K-5 Special topics",special_topics_6_8:"6-8 Special topics",special_topics_9_12:"9-12 Special topics",foundations_of_cs_selfpaced_pl:"Foundations of CS selfpaced pl",ai_for_teachers_selfpaced_pl:"AI for teachers selfpaced pl",special_topics_curriculum_selfpaced_pl_k_5:"K-5 Special topics curriculum selfpaced pl",special_topics_curriculum_selfpaced_pl_6_8:"6-8 Special topics curriculum selfpaced pl",special_topics_curriculum_selfpaced_pl_9_12:"9-12 Special topics curriculum selfpaced pl",pedagogy_special_topics_selfpaced_pl:"Pedagogy special topics selfpaced pl",cs_basics_selfpaced_pl:"CS Basics selfpaced pl"},exports.CurriculumTopicTags={ai:"AI",maker:"Maker",music_lab:"Music lab"},exports.CurriculumContentArea={curriculum_k_5:"K-5 Curriculum",curriculum_6_8:"6-8 Curriculum",curriculum_9_12:"9-12 Curriculum",hoc:"HOC",pl_workshop_activities:"PL Workshop activities",self_paced_pl_k_5:"K-5 self-paced PL",self_paced_pl_6_8:"6-8 self-paced PL",self_paced_pl_9_12:"9-12 self-paced PL",skills_focused_self_paced_pl:"Skills-focused self-paced PL",other:"Other"},exports.CourseOfferingCurriculumTypes={module:"Module",course:"Course",standalone_unit:"Standalone Unit",hoc:"Hour of Code",pl:"Professional Learning"},exports.CourseOfferingHeaders={favorites:"Favorites",labs_and_skills:"Labs and Skills",minecraft:"Minecraft",hello_world:"Hello World",popular_media:"Popular Media",sports:"Sports",express:"Express",csf:"CS Fundamentals",csc:"CS Connections",year_long:"Year Long",csa_labs:"CSA Labs",self_paced:"Self-Paced",teacher_led:"Teacher-Led",collections:"Collections",workshops_k5:"K-5 Workshops",summer_workshops_612:"6-12 Summer Workshops",virtual_academic_year_workshops_612:"6â€“12 Virtual Academic Year Workshops",unsupported:"Unsupported"},exports.CourseOfferingMarketingInitiatives={hoc:"HOC",csc:"CSC",csf:"CSF",csa:"CSA",csp:"CSP",csd:"CSD"},exports.CourseOfferingCsTopics=["art_and_design","app_design","artificial_intelligence","cybersecurity","data","digital_literacy","games_and_animations","internet","physical_computing","web_design","programming"],exports.CourseOfferingSchoolSubjects=["math","science","english_language_arts","history"],exports.DeviceTypes=["computer","chromebook","tablet","mobile","no_device"],exports.DeviceCompatibilityLevels=["ideal","not_recommended","incompatible"],exports.ParticipantAudiencesByType={student:["student"],teacher:["student","teacher"],facilitator:["student","teacher","facilitator"]}},"./src/templates/teacherDashboard/teacherSectionsReduxSelectors.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.USER_EDITABLE_SECTION_PROPS=void 0,exports.assignedCourseOffering=function assignedCourseOffering(state){var _getRoot=getRoot(state),sectionBeingEdited=_getRoot.sectionBeingEdited;return _getRoot.courseOfferings[null==sectionBeingEdited?void 0:sectionBeingEdited.courseOfferingId]},exports.assignmentPaths=exports.assignmentNames=void 0,exports.getAssignmentName=function getAssignmentName(state,sectionId){var _getRoot3=getRoot(state),sections=_getRoot3.sections,courseOfferings=_getRoot3.courseOfferings;return assignmentNames(courseOfferings,sections[sectionId])[0]},exports.getRoot=getRoot,exports.getSectionRows=function getSectionRows(state,sectionIds){var _getRoot2=getRoot(state),sections=_getRoot2.sections,courseOfferings=_getRoot2.courseOfferings,courseOfferingsAreLoaded=_getRoot2.courseOfferingsAreLoaded;return sectionIds.map((function(id){return _objectSpread(_objectSpread({},_lodash.default.pick(sections[id],["id","name","courseVersionName","courseDisplayName","loginType","loginTypeName","studentCount","code","participantType","grades","providerManaged","hidden"])),{},{assignmentNames:assignmentNames(courseOfferings,sections[id]),assignmentPaths:assignmentPaths(courseOfferings,sections[id]),courseOfferingsAreLoaded})}))},exports.getVisibleSections=function getVisibleSections(state){var allSections=Object.values(getRoot(state).sections);return sortSectionsList(allSections||[]).filter((function(section){return!section.hidden}))},exports.hiddenPlSectionIds=function hiddenPlSectionIds(state){return(state=getRoot(state)).sectionIds.filter((function(id){return state.sections[id].hidden&&state.sections[id].participantType!==_sharedCourseConstants.ParticipantAudience.student}))},exports.hiddenSectionIds=function hiddenSectionIds(state){return(state=getRoot(state)).sectionIds.filter((function(id){return state.sections[id].hidden}))},exports.hiddenStudentSectionIds=function hiddenStudentSectionIds(state){return(state=getRoot(state)).sectionIds.filter((function(id){return state.sections[id].hidden&&state.sections[id].participantType===_sharedCourseConstants.ParticipantAudience.student}))},exports.isAddingSection=function isAddingSection(state){return!!(state.sectionBeingEdited&&state.sectionBeingEdited.id<0)},exports.isRosterDialogOpen=function isRosterDialogOpen(state){return getRoot(state).isRosterDialogOpen},exports.isSaveInProgress=function isSaveInProgress(state){return getRoot(state).saveInProgress},exports.isSectionProviderManaged=isSectionProviderManaged,exports.ltiSyncResult=function ltiSyncResult(state){return getRoot(state).ltiSyncResult},exports.newSectionData=function newSectionData(participantType){return{id:PENDING_NEW_SECTION_ID,name:"",loginType:void 0,grades:[""],providerManaged:!1,lessonExtras:!0,pairingAllowed:!0,ttsAutoplayEnabled:!1,sharingDisabled:!1,studentCount:0,participantType,code:"",courseId:null,courseOfferingId:null,courseVersionId:null,courseDisplayName:null,unitId:null,unitName:null,isAssignedStandaloneCourse:!1,hidden:!1,restrictSection:!1,aiTutorEnabled:!1}},exports.rosterProvider=rosterProvider,exports.rosterProviderName=rosterProviderName,exports.sectionCode=function sectionCode(state,sectionId){return(getRoot(state).sections[sectionId]||{}).code},exports.sectionFromServerSection=void 0,exports.sectionName=function sectionName(state,sectionId){return(getRoot(state).sections[sectionId]||{}).name},exports.sectionProvider=function sectionProvider(state,sectionId){if(isSectionProviderManaged(state,sectionId))return rosterProvider(state);return null},exports.sectionProviderName=function sectionProviderName(state,sectionId){if(isSectionProviderManaged(state,sectionId))return rosterProviderName(state);return null},exports.sectionUnitName=function sectionUnitName(state,sectionId){return(getRoot(state).sections[sectionId]||{}).courseVersionName},exports.sectionsForDropdown=function sectionsForDropdown(state,courseOfferingId,courseVersionId,unitId){return sortedSectionsList(state.sections).map((function(section){return _objectSpread(_objectSpread({},section),{},{isAssigned:null!==unitId&&section.unitId===unitId||null!==courseOfferingId&&section.courseOfferingId===courseOfferingId&&null!==courseVersionId&&section.courseVersionId===courseVersionId})}))},exports.sectionsNameAndId=function sectionsNameAndId(state){return sortSectionsList(state.sectionIds.map((function(id){return{id:parseInt(id,10),name:state.sections[id].name}})))},exports.selectedSection=function selectedSection(state){var selectedSectionId=getRoot(state).selectedSectionId;return selectedSectionId?getRoot(state).sections[selectedSectionId]:null},exports.serverSectionFromSection=function serverSectionFromSection(section){return _objectSpread(_objectSpread({},section),{},{login_type:section.loginType,lesson_extras:section.lessonExtras,pairing_allowed:section.pairingAllowed,tts_autoplay_enabled:section.ttsAutoplayEnabled,sharing_disabled:section.sharingDisabled,course_offering_id:section.courseOfferingId,course_version_id:section.courseVersionId,unit_id:section.unitId,course_id:section.courseId,restrict_section:section.restrictSection,participant_type:section.participantType,ai_tutor_enabled:section.aiTutorEnabled})},exports.studentShape=exports.studentFromServerStudent=exports.sortedSectionsList=exports.sortSectionsList=void 0,exports.syncEnabled=function syncEnabled(state,sectionId){return(getRoot(state).sections[sectionId]||{}).syncEnabled};var _lodash=_interopRequireDefault(__webpack_require__("./node_modules/lodash/lodash.js")),_propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_sharedCourseConstants=__webpack_require__("./src/generated/curriculum/sharedCourseConstants.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}exports.USER_EDITABLE_SECTION_PROPS=["name","loginType","lessonExtras","pairingAllowed","ttsAutoplayEnabled","participantType","courseId","courseOfferingId","courseVersionId","unitId","grades","hidden","restrictSection","codeReviewExpiresAt","aiTutorEnabled"];var PENDING_NEW_SECTION_ID=-1;function getRoot(state){return state.teacherSections}function rosterProvider(state){return getRoot(state).rosterProvider}function rosterProviderName(state){return getRoot(state).rosterProviderName}function isSectionProviderManaged(state,sectionId){return!!(getRoot(state).sections[sectionId]||{}).providerManaged}exports.sectionFromServerSection=function sectionFromServerSection(serverSection){return{id:serverSection.id,name:serverSection.name,courseVersionName:serverSection.courseVersionName,unitName:serverSection.unitName,isAssignedStandaloneCourse:serverSection.isAssignedStandaloneCourse,createdAt:serverSection.createdAt,loginType:serverSection.login_type,loginTypeName:serverSection.login_type_name,grades:serverSection.grades,providerManaged:serverSection.providerManaged||!1,lessonExtras:serverSection.lesson_extras,pairingAllowed:serverSection.pairing_allowed,ttsAutoplayEnabled:serverSection.tts_autoplay_enabled,sharingDisabled:serverSection.sharing_disabled,studentCount:serverSection.studentCount,code:serverSection.code,courseOfferingId:serverSection.course_offering_id,courseVersionId:serverSection.course_version_id,courseDisplayName:serverSection.course_display_name,unitId:serverSection.unit_id,courseId:serverSection.course_id,hidden:serverSection.hidden,restrictSection:serverSection.restrict_section,postMilestoneDisabled:serverSection.post_milestone_disabled,codeReviewExpiresAt:serverSection.code_review_expires_at?Date.parse(serverSection.code_review_expires_at):null,isAssignedCSA:serverSection.is_assigned_csa,participantType:serverSection.participant_type,sectionInstructors:serverSection.section_instructors,syncEnabled:serverSection.sync_enabled,aiTutorEnabled:serverSection.ai_tutor_enabled,anyStudentHasProgress:serverSection.any_student_has_progress}},exports.studentFromServerStudent=function studentFromServerStudent(serverStudent,sectionId){return{sectionId,id:serverStudent.id,name:serverStudent.name,familyName:serverStudent.family_name,sharingDisabled:serverStudent.sharing_disabled,secretPicturePath:serverStudent.secret_picture_path,secretPictureName:serverStudent.secret_picture_name,secretWords:serverStudent.secret_words,userType:serverStudent.user_type}};var assignmentsForSection=function assignmentsForSection(courseOfferings,section){var assignments=[];if(section.courseOfferingId&&section.courseVersionId){var _courseOfferings$sect,courseVersion=null===(_courseOfferings$sect=courseOfferings[section.courseOfferingId])||void 0===_courseOfferings$sect?void 0:_courseOfferings$sect.course_versions[section.courseVersionId];courseVersion&&(assignments.push(courseVersion),section.unitId&&"UnitGroup"===courseVersion.type&&courseVersion.units[section.unitId]&&assignments.push(courseVersion.units[section.unitId]))}return assignments},assignmentNames=exports.assignmentNames=function assignmentNames(courseOfferings,section){return assignmentsForSection(courseOfferings,section).map((function(assignment){return assignment?assignment.name:""}))},assignmentPaths=exports.assignmentPaths=function assignmentPaths(courseOfferings,section){return assignmentsForSection(courseOfferings,section).map((function(assignment){return assignment?assignment.path:""}))};var sortedSectionsList=exports.sortedSectionsList=function sortedSectionsList(sectionsObject){return sortSectionsList(Object.values(sectionsObject))},sortSectionsList=exports.sortSectionsList=function sortSectionsList(sectionsList){return sectionsList.sort((function(a,b){return b.id-a.id}))};exports.studentShape=_propTypes.default.shape({sectionId:_propTypes.default.number,id:_propTypes.default.number.isRequired,name:_propTypes.default.string.isRequired,familyName:_propTypes.default.string,sharingDisabled:_propTypes.default.bool,secretPicturePath:_propTypes.default.string,secretWords:_propTypes.default.string})},"./src/templates/teacherDashboard/teacherSectionsRedux.ts":function(__unused_webpack_module,exports,__webpack_require__){var _a,_b,_c,__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},__spreadArray=this&&this.__spreadArray||function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateSelectedSection=exports.updateSectionAiTutorEnabled=exports.startLoadingSectionData=exports.setStudentsForCurrentSection=exports.setSections=exports.setSectionCodeReviewExpiresAt=exports.setRosterProviderName=exports.setRosterProvider=exports.setPageType=exports.setCourseOfferings=exports.setCoteacherInviteForPl=exports.setCoteacherInvite=exports.setAuthProviders=exports.selectSection=exports.rosterImportFailed=exports.removeSection=exports.finishLoadingSectionData=exports.editSectionProperties=exports.cancelImportRosterFlow=exports.cancelEditingSection=exports.beginEditingSection=exports.beginCreatingSection=exports.pageTypes=exports.importOrUpdateRoster=exports.beginImportRosterFlow=exports.unassignSection=exports.assignToSection=exports.asyncLoadCoteacherInvite=exports.asyncLoadSectionData=exports.removeSectionOrThrow=exports.finishEditingSection=exports.toggleSectionHidden=exports.__testInterface__=exports.SELECT_SECTION=exports.NO_SECTION=void 0;var toolkit_1=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),lodash_1=__importDefault(__webpack_require__("./node_modules/lodash/lodash.js")),constants_1=__webpack_require__("./src/accounts/constants.js"),sharedCourseConstants_1=__webpack_require__("./src/generated/curriculum/sharedCourseConstants.js"),AnalyticsConstants_1=__webpack_require__("./src/metrics/AnalyticsConstants.js"),AnalyticsReporter_1=__importDefault(__webpack_require__("./src/metrics/AnalyticsReporter.js")),firehose_1=__importDefault(__webpack_require__("./src/metrics/firehose.js")),sharedConstants_1=__webpack_require__("./generated-scripts/sharedConstants.ts"),teacherSectionsReduxSelectors_1=__webpack_require__("./src/templates/teacherDashboard/teacherSectionsReduxSelectors.js");exports.NO_SECTION=null,exports.SELECT_SECTION="teacherSections/selectSection";var initialState={nextTempId:-1,studioUrl:"",providers:[],sectionIds:[],studentSectionIds:[],plSectionIds:[],selectedSectionId:exports.NO_SECTION,selectedSectionName:"",courseOfferings:[],courseOfferingsAreLoaded:!1,availableParticipantTypes:[],sections:{},selectedStudents:[],sectionsAreLoaded:!1,showSectionEditDialog:!1,saveInProgress:!1,asyncLoadComplete:!1,isRosterDialogOpen:!1,rosterProvider:null,rosterProviderName:null,classrooms:null,sectionBeingEdited:null,loadError:null,pageType:"",ltiSyncResult:null,isLoadingSectionData:!1,initialUnitName:null},mapProviderToSectionType=function(provider){return"google_oauth2"===provider?constants_1.OAuthSectionTypes.google_classroom:provider},sectionFromServerSection=function(section){return(0,teacherSectionsReduxSelectors_1.sectionFromServerSection)(section)},sectionSlice=(0,toolkit_1.createSlice)({name:"teacherSections",initialState,reducers:{setAuthProviders:function(state,action){state.providers=action.payload.map(mapProviderToSectionType)},setRosterProvider:function(state,action){action.payload&&(constants_1.OAuthSectionTypes[action.payload]||action.payload===sharedConstants_1.SectionLoginType.lti_v1)&&(state.rosterProvider=action.payload)},setPageType:function(state,action){state.pageType=action.payload},selectSection:function(state,action){if(action.payload){var id=parseInt(action.payload.toString(),10);state.sectionIds.includes(id)?(state.selectedSectionId=id,state.selectedSectionName=state.sections[id].name):(state.selectedSectionId=exports.NO_SECTION,state.selectedSectionName="")}else state.selectedSectionId=exports.NO_SECTION,state.selectedSectionName=""},updateSelectedSection:function(state,action){var sectionId=action.payload.id;sectionId&&(state.sections[sectionId]=__assign(__assign({},state.sections[sectionId]),sectionFromServerSection(action.payload)))},setSections:{reducer:function(state,action){var sections=action.payload.sections.map(sectionFromServerSection),selectedSectionId=action.payload.autoSelectOnlySection&&1===Object.keys(sections).length?action.payload.sections[0].id:state.selectedSectionId;sections.forEach((function(section){var prevSection=state.sections[section.id];prevSection&&Object.keys(section).forEach((function(key){if(void 0===section[key]&&void 0!==prevSection[key])throw new Error("SET_SECTIONS called multiple times in a way that would remove data")}))}));var sectionIds=lodash_1.default.uniq(state.sectionIds.concat(sections.map((function(section){return section.id})))),studentSectionIds=sections.filter((function(section){return section.participantType===sharedCourseConstants_1.ParticipantAudience.student})).map((function(section){return section.id})),plSectionIds=sections.filter((function(section){return section.participantType!==sharedCourseConstants_1.ParticipantAudience.student})).map((function(section){return section.id}));state.sectionsAreLoaded=!0,state.selectedSectionId=selectedSectionId,state.sectionIds=sectionIds,state.studentSectionIds=studentSectionIds,state.plSectionIds=plSectionIds,state.sections=__assign(__assign({},state.sections),lodash_1.default.keyBy(sections,"id"))},prepare:function(sections,autoSelectOnlySection){return void 0===autoSelectOnlySection&&(autoSelectOnlySection=!0),{payload:{sections,autoSelectOnlySection}}}},startLoadingSectionData:function(state){state.isLoadingSectionData=!0},finishLoadingSectionData:function(state){state.isLoadingSectionData=!1},setStudentsForCurrentSection:{reducer:function(state,action){var selectedStudents=(action.payload.students||[]).map((function(student){return(0,teacherSectionsReduxSelectors_1.studentFromServerStudent)(student,action.payload.sectionId)}));state.selectedStudents=selectedStudents},prepare:function(sectionId,students){return{payload:{sectionId,students}}}},setRosterProviderName:function(state,action){state.rosterProviderName=action.payload},updateSectionAiTutorEnabled:function(state,action){var _a=action.payload,sectionId=_a.sectionId,aiTutorEnabled=_a.aiTutorEnabled;state.sections[sectionId].aiTutorEnabled=aiTutorEnabled},setCourseOfferings:function(state,action){state.courseOfferings=action.payload,state.courseOfferingsAreLoaded=!0},setAvailableParticipantTypes:function(state,action){state.availableParticipantTypes=action.payload},setSectionCodeReviewExpiresAt:{reducer:function(state,action){if(!state.sections[action.payload.sectionId])throw new Error("section does not exist");state.sections[action.payload.sectionId].codeReviewExpiresAt=action.payload.codeReviewExpiresAt?Date.parse(action.payload.codeReviewExpiresAt):null},prepare:function(sectionId,codeReviewExpiresAt){return{payload:{sectionId,codeReviewExpiresAt}}}},removeSection:function(state,action){var sectionId=action.payload;state.sections[sectionId];state.sectionIds=lodash_1.default.without(state.sectionIds,sectionId),state.studentSectionIds=lodash_1.default.without(state.studentSectionIds,sectionId),state.plSectionIds=lodash_1.default.without(state.plSectionIds,sectionId),state.sections=lodash_1.default.omit(state.sections,sectionId)},beginCreatingSection:{reducer:function(state,action){var initialSectionData=(0,teacherSectionsReduxSelectors_1.newSectionData)(action.payload.participantType);action.payload.courseOfferingId&&(initialSectionData.courseOfferingId=action.payload.courseOfferingId),action.payload.courseVersionId&&(initialSectionData.courseVersionId=action.payload.courseVersionId),action.payload.unitId&&(initialSectionData.unitId=action.payload.unitId),state.initialCourseId=initialSectionData.courseId,state.initialUnitId=initialSectionData.unitId,state.initialCourseOfferingId=initialSectionData.courseOfferingId,state.initialCourseVersionId=initialSectionData.courseVersionId,state.initialLoginType=initialSectionData.loginType,state.initialUnitName=initialSectionData.unitName,state.sectionBeingEdited=initialSectionData},prepare:function(courseOfferingId,courseVersionId,unitId,participantType){return{payload:{courseOfferingId,courseVersionId,unitId,participantType}}}},beginEditingSection:{reducer:function(state,action){var silent=!!action.payload.silent,initialParticipantType=1===state.availableParticipantTypes.length?state.availableParticipantTypes[0]:void 0,initialSectionData=action.payload.sectionId?__assign({},state.sections[action.payload.sectionId]):(0,teacherSectionsReduxSelectors_1.newSectionData)(initialParticipantType);state.initialCourseId=initialSectionData.courseId,state.initialUnitId=initialSectionData.unitId,state.initialCourseOfferingId=initialSectionData.courseOfferingId,state.initialCourseVersionId=initialSectionData.courseVersionId,state.initialLoginType=initialSectionData.loginType,state.sectionBeingEdited=initialSectionData,state.showSectionEditDialog=!silent},prepare:function(sectionId,silent){return void 0===sectionId&&(sectionId=null),void 0===silent&&(silent=!1),{payload:{sectionId,silent}}}},editSectionProperties:function(state,action){if(!state.sectionBeingEdited)throw new Error("Cannot edit section properties; no section is currently being edited.");for(var key in action.payload)if(!teacherSectionsReduxSelectors_1.USER_EDITABLE_SECTION_PROPS.includes(key))throw new Error("Cannot edit property ".concat(key,"; it's not allowed."));action.payload.participantType&&action.payload.participantType!==sharedCourseConstants_1.ParticipantAudience.student&&(state.sectionBeingEdited.loginType=sharedConstants_1.SectionLoginType.email,state.sectionBeingEdited.grades=[sharedConstants_1.PlGradeValue]),action.payload.unitId&&void 0===action.payload.lessonExtras&&(state.sectionBeingEdited.lessonExtras=!0),action.payload.unitId&&void 0===action.payload.ttsAutoplayEnabled&&(state.sectionBeingEdited.ttsAutoplayEnabled=!1),state.sectionBeingEdited=__assign(__assign({},state.sectionBeingEdited),action.payload)},startSaveRequest:function(state){state.saveInProgress=!0},finishSaveRequest:function(state,action){var section=sectionFromServerSection(action.payload.serverSection),oldSectionId=action.payload.sectionId,isNewSection=section.id!==oldSectionId;isNewSection&&(state.sectionIds.includes(oldSectionId)?state.sectionIds=state.sectionIds.map((function(id){return id===oldSectionId?section.id:id})):state.sectionIds=__spreadArray([section.id],__read(state.sectionIds),!1)),delete state.sections[oldSectionId],state.sections[section.id]=__assign(__assign({},state.sections[section.id]),section),state.studentSectionIds=Object.values(state.sections).filter((function(section){return section.participantType===sharedCourseConstants_1.ParticipantAudience.student})).map((function(section){return section.id})),state.plSectionIds=Object.values(state.sections).filter((function(section){return section.participantType!==sharedCourseConstants_1.ParticipantAudience.student})).map((function(section){return section.id})),section.loginType!==state.initialLoginType&&firehose_1.default.putRecord({study:"teacher-dashboard",study_group:"edit-section-details",event:"change-login-type",data_json:JSON.stringify({sectionId:section.id,initialLoginType:state.initialLoginType,updatedLoginType:section.loginType})},{includeUserId:!0});var assignmentData={section_id:section.id,section_creation_timestamp:section.createdAt,page_name:state.pageType};section.unitId!==state.initialUnitId&&(assignmentData.unit_id=section.unitId),section.courseId!==state.initialCourseId&&(assignmentData.course_id=section.courseId),section.courseOfferingId!==state.initialCourseOfferingId&&(assignmentData.course_offering_id=section.courseOfferingId),section.courseVersionId!==state.initialCourseVersionId&&(assignmentData.course_version_id=section.courseVersionId),section.unitName!==state.initialUnitName&&(assignmentData.unitName=section.unitName),(assignmentData.unit_id||assignmentData.course_id)&&firehose_1.default.putRecord({study:"assignment",study_group:"v1",event:isNewSection?"create_section":"edit_section_details",data_json:JSON.stringify(assignmentData)},{includeUserId:!0}),state.sectionBeingEdited=null,state.saveInProgress=!1},failSaveRequest:function(state){state.saveInProgress=!1},beginAsyncLoad:function(state){state.asyncLoadComplete=!1},endAsyncLoad:function(state){state.asyncLoadComplete=!0},cancelEditingSection:function(state){state.sectionBeingEdited=null},setCoteacherInvite:function(state,action){state.coteacherInvite=action.payload},setCoteacherInviteForPl:function(state,action){state.coteacherInviteForPl=action.payload},beginImportRosterFlow:function(state){state.isRosterDialogOpen=!0,state.classrooms=null},importRosterFlowListLoaded:function(state,action){state.classrooms=action.payload},cancelImportRosterFlow:function(state){state.isRosterDialogOpen=!1,state.rosterProvider=null,state.classrooms=null},rosterImportFailed:function(state,action){state.loadError={status:action.payload.status,message:action.payload.message}},rosterImportRequest:function(state){state.classrooms=null},rosterImportSuccess:function(state,action){state.isRosterDialogOpen=!1,state.sectionBeingEdited=__assign(__assign({},state.sections[action.payload]),{hidden:!1})},ltiRosterImportSuccess:function(state,action){state.ltiSyncResult=action.payload}}});exports.__testInterface__={EDIT_SECTION_REQUEST:"teacherSections/startSaveRequest",EDIT_SECTION_SUCCESS:"teacherSections/finishSaveRequest",IMPORT_ROSTER_FLOW_BEGIN:"teacherSections/beginImportRosterFlow",IMPORT_ROSTER_FLOW_LIST_LOADED:"teacherSections/importRosterFlowListLoaded",PENDING_NEW_SECTION_ID:-1,USER_EDITABLE_SECTION_PROPS:teacherSectionsReduxSelectors_1.USER_EDITABLE_SECTION_PROPS};exports.toggleSectionHidden=function(sectionId){return function(dispatch,getState){dispatch((0,exports.beginEditingSection)(sectionId,!0));var currentlyHidden=getState().teacherSections.sections[sectionId].hidden;return dispatch((0,exports.editSectionProperties)({hidden:!currentlyHidden})),firehose_1.default.putRecord({study:"teacher_dashboard_actions",study_group:"toggleSectionHidden",event:currentlyHidden?"restoreSection":"archiveSection",data_json:JSON.stringify({section_id:sectionId})}),dispatch((0,exports.finishEditingSection)())}};exports.finishEditingSection=function(){return function(dispatch,getState){var section=getState().teacherSections.sectionBeingEdited;if(!section)throw new Error("section does not exist");return new Promise((function(resolve,reject){(function(dispatch,getState){dispatch(startSaveRequest());var state=getState().teacherSections,section=state.sectionBeingEdited;if(!section)throw new Error("section does not exist");return(0,teacherSectionsReduxSelectors_1.isAddingSection)(state)?$.ajax({url:"/dashboardapi/sections",method:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify((0,teacherSectionsReduxSelectors_1.serverSectionFromSection)(section))}):$.ajax({url:"/dashboardapi/sections/".concat(section.id),method:"PATCH",contentType:"application/json;charset=UTF-8",data:JSON.stringify((0,teacherSectionsReduxSelectors_1.serverSectionFromSection)(section))})})(dispatch,getState).done((function(result){dispatch(finishSaveRequest({sectionId:section.id,serverSection:result})),resolve(result)})).fail((function(jqXhr,status){dispatch(failSaveRequest()),reject(status)}))}))}};exports.removeSectionOrThrow=function(sectionId){return function(dispatch,getState){if(!getState().teacherSections.sections[sectionId])throw new Error("section does not exist");dispatch((0,exports.removeSection)(sectionId))}};function fetchJSON(url,params){return new Promise((function(resolve,reject){$.getJSON(url,params).done(resolve).fail((function(jqxhr){return reject(new Error("\n        url: ".concat(url,"\n        status: ").concat(jqxhr.status,"\n        statusText: ").concat(jqxhr.statusText,"\n        responseText: ").concat(jqxhr.responseText,"\n      ")))}))}))}exports.asyncLoadSectionData=function(id){return function(dispatch){dispatch(beginAsyncLoad());var promises=[fetchJSON("/dashboardapi/sections").then((function(sections){return dispatch((0,exports.setSections)(sections))})),fetchJSON("/dashboardapi/sections/valid_course_offerings").then((function(offerings){return dispatch((0,exports.setCourseOfferings)(offerings))})),fetchJSON("/dashboardapi/sections/available_participant_types").then((function(participantTypes){return dispatch(setAvailableParticipantTypes(participantTypes.availableParticipantTypes))}))];return id&&promises.push(fetchJSON("/dashboardapi/sections/".concat(id,"/students")).then((function(students){return dispatch((0,exports.setStudentsForCurrentSection)(id,students))}))),Promise.all(promises).catch((function(err){console.error(err.message)})).then((function(){dispatch(endAsyncLoad())}))}};exports.asyncLoadCoteacherInvite=function(){return function(dispatch){fetchJSON("/api/v1/section_instructors").then((function(response){var sectionInstructors=response,coteacherInviteForPl=sectionInstructors.find((function(instructorInvite){return"invited"===instructorInvite.status&&"student"!==instructorInvite.participant_type})),coteacherInviteForClassrooms=sectionInstructors.find((function(instructorInvite){return"invited"===instructorInvite.status&&"student"===instructorInvite.participant_type}));dispatch((0,exports.setCoteacherInvite)(coteacherInviteForClassrooms)),dispatch((0,exports.setCoteacherInviteForPl)(coteacherInviteForPl))})).catch((function(err){console.error(err.message)}))}};exports.assignToSection=function(sectionId,courseId,courseOfferingId,courseVersionId,unitId,pageType){return firehose_1.default.putRecord({study:"assignment",event:"course-assigned-to-section",data_json:JSON.stringify({sectionId,unitId,courseId,date:new Date},removeNullValues)},{includeUserId:!0}),function(dispatch,getState){var section=getState().teacherSections.sections[sectionId];return(courseOfferingId&&section.courseOfferingId!==courseOfferingId||courseVersionId&&section.courseVersionId!==courseVersionId||unitId&&section.unitId!==unitId)&&AnalyticsReporter_1.default.sendEvent(AnalyticsConstants_1.EVENTS.CURRICULUM_ASSIGNED,{sectionName:section.name,sectionId,sectionLoginType:section.loginType,previousUnitId:section.unitId,previousCourseId:section.courseOfferingId,previousCourseVersionId:section.courseVersionId,newUnitId:unitId,newCourseId:courseOfferingId,newCourseVersionId:courseVersionId},AnalyticsConstants_1.PLATFORMS.BOTH),dispatch((0,exports.beginEditingSection)(sectionId,!0)),dispatch((0,exports.editSectionProperties)({courseId,courseOfferingId,courseVersionId,unitId})),dispatch((0,exports.finishEditingSection)())}};function removeNullValues(key,val){if(null!=val)return val}exports.unassignSection=function(sectionId,location){return function(dispatch,getState){dispatch((0,exports.beginEditingSection)(sectionId,!0));var _a=getState().teacherSections,initialCourseId=_a.initialCourseId,initialUnitId=_a.initialUnitId;return dispatch((0,exports.editSectionProperties)({courseId:null,courseOfferingId:null,courseVersionId:null,unitId:null})),firehose_1.default.putRecord({study:"assignment",event:"course-unassigned-from-section",data_json:JSON.stringify({sectionId,scriptId:initialUnitId,courseId:initialCourseId,location,date:new Date},removeNullValues)},{includeUserId:!0}),dispatch((0,exports.finishEditingSection)())}};var urlByProvider=((_a={})[constants_1.OAuthSectionTypes.google_classroom]="/dashboardapi/google_classrooms",_a[constants_1.OAuthSectionTypes.clever]="/dashboardapi/clever_classrooms",_a);exports.beginImportRosterFlow=function(){return function(dispatch,getState){var state=getState().teacherSections,provider=state.rosterProvider;return provider&&Object.keys(urlByProvider).includes(provider)?state.isRosterDialogOpen?Promise.resolve():(dispatch(sectionSlice.actions.beginImportRosterFlow()),new Promise((function(resolve,reject){var url=urlByProvider[provider];$.ajax(url).done((function(response){dispatch(importRosterFlowListLoaded(response.courses||[])),resolve()})).fail((function(result){var message=result.responseJSON?result.responseJSON.error:"Unknown error.";dispatch((0,exports.rosterImportFailed)({status:result.status,message})),reject(new Error(message))}))}))):Promise.reject(new Error("Unable to begin import roster flow without a provider"))}};var importUrlByProvider=((_b={})[constants_1.OAuthSectionTypes.google_classroom]="/dashboardapi/import_google_classroom",_b[constants_1.OAuthSectionTypes.clever]="/dashboardapi/import_clever_classroom",_b[sharedConstants_1.SectionLoginType.lti_v1]="/lti/v1/sync_course",_b);exports.importOrUpdateRoster=function(courseId,courseName){return function(dispatch,getState){var provider=getState().teacherSections.rosterProvider;if(!provider)throw new Error("Roster provider has not been set.");var sectionId,importSectionUrl=importUrlByProvider[provider];return dispatch(rosterImportRequest()),provider===sharedConstants_1.SectionLoginType.lti_v1?fetch("".concat(importSectionUrl,"?section_code=").concat(courseId),{headers:{Accept:"application/json"}}).then((function(response){return response.json()})).then((function(results){return dispatch(ltiRosterImportSuccess(results))})):fetchJSON(importSectionUrl,{courseId,courseName}).then((function(newSection){return sectionId=newSection.id})).then((function(){return dispatch((0,exports.asyncLoadSectionData)())})).then((function(){return dispatch(rosterImportSuccess(sectionId))}))}},exports.pageTypes={level:"level",scriptOverview:"script_overview",courseOverview:"course_overview",lessonExtras:"lesson_extras",homepage:"homepage"};var _d=sectionSlice.actions,beginAsyncLoad=_d.beginAsyncLoad,endAsyncLoad=_d.endAsyncLoad,failSaveRequest=_d.failSaveRequest,finishSaveRequest=_d.finishSaveRequest,importRosterFlowListLoaded=_d.importRosterFlowListLoaded,ltiRosterImportSuccess=_d.ltiRosterImportSuccess,rosterImportRequest=_d.rosterImportRequest,rosterImportSuccess=_d.rosterImportSuccess,setAvailableParticipantTypes=_d.setAvailableParticipantTypes,startSaveRequest=_d.startSaveRequest;exports.beginCreatingSection=(_c=sectionSlice.actions).beginCreatingSection,exports.beginEditingSection=_c.beginEditingSection,exports.cancelEditingSection=_c.cancelEditingSection,exports.cancelImportRosterFlow=_c.cancelImportRosterFlow,exports.editSectionProperties=_c.editSectionProperties,exports.finishLoadingSectionData=_c.finishLoadingSectionData,exports.removeSection=_c.removeSection,exports.rosterImportFailed=_c.rosterImportFailed,exports.selectSection=_c.selectSection,exports.setAuthProviders=_c.setAuthProviders,exports.setCoteacherInvite=_c.setCoteacherInvite,exports.setCoteacherInviteForPl=_c.setCoteacherInviteForPl,exports.setCourseOfferings=_c.setCourseOfferings,exports.setPageType=_c.setPageType,exports.setRosterProvider=_c.setRosterProvider,exports.setRosterProviderName=_c.setRosterProviderName,exports.setSectionCodeReviewExpiresAt=_c.setSectionCodeReviewExpiresAt,exports.setSections=_c.setSections,exports.setStudentsForCurrentSection=_c.setStudentsForCurrentSection,exports.startLoadingSectionData=_c.startLoadingSectionData,exports.updateSectionAiTutorEnabled=_c.updateSectionAiTutorEnabled,exports.updateSelectedSection=_c.updateSelectedSection,exports.default=sectionSlice.reducer}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUlOLE9BV0ZwSyxhQUFhbUosUUFWZmxGLGVBQWMsa0JBQ2RDLGFBQVksZ0JBQ1pGLGdCQUFlLG1CQUNmaEIsa0JBQWlCLHFCQUNqQnlCLDJCQUEwQiw4QkFDMUJPLHVCQUFzQiwwQkFDdEJGLG9CQUFtQix1QkFDbkJDLG9CQUFtQix1QkFDbkJuRCw2QkFBNEIsZ0NBQzVCbUIsaUJBQWdCLG9CQUloQixRQUFBZCxzQkFEVyxHQXVCVGpDLGFBQWFtSixTQUFPLHFCQXJCdEIsUUFBQTNHLG9CQUFtQix1QkFDbkIsUUFBQTJCLHFCQUFvQix3QkFDcEIsUUFBQU8sdUJBQXNCLDBCQUN0QixRQUFBL0Isc0JBQXFCLHlCQUNyQixRQUFBckIseUJBQXdCLDRCQUN4QixRQUFBUSxjQUFhLGlCQUNiLFFBQUE2QyxtQkFBa0Isc0JBQ2xCLFFBQUFuRSxjQUFhLGlCQUNiLFFBQUFMLGlCQUFnQixvQkFDaEIsUUFBQWlFLG1CQUFrQixzQkFDbEIsUUFBQUUsd0JBQXVCLDJCQUN2QixRQUFBM0MsbUJBQWtCLHNCQUNsQixRQUFBcEIsWUFBVyxlQUNYLFFBQUFELGtCQUFpQixxQkFDakIsUUFBQW1CLHNCQUFxQix5QkFDckIsUUFBQUksOEJBQTZCLGlDQUM3QixRQUFBakIsWUFBVyxlQUNYLFFBQUFXLDZCQUE0QixnQ0FDNUIsUUFBQUYsd0JBQXVCLDJCQUN2QixRQUFBSyw0QkFBMkIsK0JBQzNCLFFBQUFmLHNCQUFxQix5QkFHdkIsZ0JBQWVYLGFBQWFhLE8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvYWNjb3VudHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9nZW5lcmF0ZWQvY3VycmljdWx1bS9zaGFyZWRDb3Vyc2VDb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3RlbXBsYXRlcy90ZWFjaGVyRGFzaGJvYXJkL3RlYWNoZXJTZWN0aW9uc1JlZHV4U2VsZWN0b3JzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy90ZW1wbGF0ZXMvdGVhY2hlckRhc2hib2FyZC90ZWFjaGVyU2VjdGlvbnNSZWR1eC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge21ha2VFbnVtfSBmcm9tICdAY2RvL2FwcHMvdXRpbHMnO1xuaW1wb3J0IHtTZWN0aW9uTG9naW5UeXBlfSBmcm9tICdAY2RvL2dlbmVyYXRlZC1zY3JpcHRzL3NoYXJlZENvbnN0YW50cyc7XG5cbmV4cG9ydCBjb25zdCBPQXV0aFNlY3Rpb25UeXBlcyA9IG1ha2VFbnVtKFxuICBTZWN0aW9uTG9naW5UeXBlLmdvb2dsZV9jbGFzc3Jvb20sXG4gIFNlY3Rpb25Mb2dpblR5cGUuY2xldmVyLFxuICAnbWljcm9zb2Z0X2NsYXNzcm9vbSdcbik7XG5cbmV4cG9ydCBjb25zdCBTaW5nbGVTaWduT25Qcm92aWRlcnMgPSB7XG4gIGdvb2dsZTogJ2dvb2dsZV9vYXV0aDInLFxuICBtaWNyb3NvZnQ6ICdtaWNyb3NvZnRfdjJfYXV0aCcsXG4gIGNsZXZlcjogJ2NsZXZlcicsXG4gIGZhY2Vib29rOiAnZmFjZWJvb2snLFxuICBsdGlfdjE6IFNlY3Rpb25Mb2dpblR5cGUubHRpX3YxLFxufTtcblxuZXhwb3J0IGNvbnN0IExtc0xvZ2luVHlwZU5hbWVzID0ge1xuICBjbGV2ZXI6ICdDbGV2ZXInLFxuICBnb29nbGVfY2xhc3Nyb29tOiAnR29vZ2xlIENsYXNzcm9vbScsXG4gIGNhbnZhczogJ0NhbnZhcycsXG4gIGNhbnZhc19jbG91ZDogJ0NhbnZhcycsXG4gIGNhbnZhc19iZXRhX2Nsb3VkOiAnQ2FudmFzIEJldGEnLFxuICBjYW52YXNfdGVzdF9jbG91ZDogJ0NhbnZhcyBUZXN0JyxcbiAgc2Nob29sb2d5OiAnU2Nob29sb2d5Jyxcbn07XG5cbmV4cG9ydCBjb25zdCBMbXNMb2dpbkluc3RydWN0aW9uVXJscyA9IHtcbiAgY2xldmVyOlxuICAgICdodHRwczovL3N1cHBvcnQuY29kZS5vcmcvaGMvZW4tdXMvYXJ0aWNsZXMvMTE1MDAyNzE2MTExLVNldHRpbmctVXAtU2VjdGlvbnMtd2l0aC1DbGV2ZXItU3luYycsXG4gIGdvb2dsZV9jbGFzc3Jvb206XG4gICAgJ2h0dHBzOi8vc3VwcG9ydC5jb2RlLm9yZy9oYy9lbi11cy9hcnRpY2xlcy8xMTUwMDEzMTkzMTItU2V0dGluZy1VcC1TZWN0aW9ucy13aXRoLUdvb2dsZS1DbGFzc3Jvb20tU3luYycsXG4gIGNhbnZhczpcbiAgICAnaHR0cHM6Ly9zdXBwb3J0LmNvZGUub3JnL2hjL2VuLXVzL2FydGljbGVzLzIzNjIxOTczNDUxNDA1LUNyZWF0ZS1hbmQtc3luYy1yb3N0ZXJzLXdpdGgtQ2FudmFzJyxcbiAgc2Nob29sb2d5OlxuICAgICdodHRwczovL3N1cHBvcnQuY29kZS5vcmcvaGMvZW4tdXMvYXJ0aWNsZXMvMjM2MjIwMzY5NTgwOTMtQ3JlYXRlLWFuZC1zeW5jLXJvc3RlcnMtd2l0aC1TY2hvb2xvZ3knLFxufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG5cbi8vIFRoaXMgaXMgYSBnZW5lcmF0ZWQgZmlsZSBhbmQgU0hPVUxEIE5PVCBCRSBFRElURUQgTUFOVUFMTFkhIVxuLy8gQ29udGVudHMgYXJlIGdlbmVyYXRlZCBhcyBwYXJ0IG9mIGdydW50IGJ1aWxkXG4vLyBTb3VyY2Ugb2YgdHJ1dGggaXMgbGliL2Nkby9zaGFyZWRfY29uc3RhbnRzLnJiIGFuZCBmaWxlcyBpbiBsaWIvY2RvL3NoYXJlZF9jb25zdGFudHMvXG5cbmV4cG9ydCBjb25zdCBQdWJsaXNoZWRTdGF0ZSA9IHtcbiAgXCJpbl9kZXZlbG9wbWVudFwiOiBcImluX2RldmVsb3BtZW50XCIsXG4gIFwicGlsb3RcIjogXCJwaWxvdFwiLFxuICBcImJldGFcIjogXCJiZXRhXCIsXG4gIFwicHJldmlld1wiOiBcInByZXZpZXdcIixcbiAgXCJzdGFibGVcIjogXCJzdGFibGVcIixcbiAgXCJzdW5zZXR0aW5nXCI6IFwic3Vuc2V0dGluZ1wiLFxuICBcImRlcHJlY2F0ZWRcIjogXCJkZXByZWNhdGVkXCJcbn07XG5cbmV4cG9ydCBjb25zdCBJbnN0cnVjdGlvblR5cGUgPSB7XG4gIFwidGVhY2hlcl9sZWRcIjogXCJ0ZWFjaGVyX2xlZFwiLFxuICBcInNlbGZfcGFjZWRcIjogXCJzZWxmX3BhY2VkXCJcbn07XG5cbmV4cG9ydCBjb25zdCBQYXJ0aWNpcGFudEF1ZGllbmNlID0ge1xuICBcImZhY2lsaXRhdG9yXCI6IFwiZmFjaWxpdGF0b3JcIixcbiAgXCJ0ZWFjaGVyXCI6IFwidGVhY2hlclwiLFxuICBcInN0dWRlbnRcIjogXCJzdHVkZW50XCJcbn07XG5cbmV4cG9ydCBjb25zdCBJbnN0cnVjdG9yQXVkaWVuY2UgPSB7XG4gIFwidW5pdmVyc2FsX2luc3RydWN0b3JcIjogXCJ1bml2ZXJzYWxfaW5zdHJ1Y3RvclwiLFxuICBcInBsY19yZXZpZXdlclwiOiBcInBsY19yZXZpZXdlclwiLFxuICBcImZhY2lsaXRhdG9yXCI6IFwiZmFjaWxpdGF0b3JcIixcbiAgXCJ0ZWFjaGVyXCI6IFwidGVhY2hlclwiXG59O1xuXG5leHBvcnQgY29uc3QgQ3VycmljdWx1bVVtYnJlbGxhID0ge1xuICBcIkNTRlwiOiBcIkNTRlwiLFxuICBcIkNTRFwiOiBcIkNTRFwiLFxuICBcIkNTUFwiOiBcIkNTUFwiLFxuICBcIkNTQVwiOiBcIkNTQVwiLFxuICBcIkNTQ1wiOiBcIkNTQ1wiLFxuICBcIkhPQ1wiOiBcIkhPQ1wiLFxuICBcIkFJXCI6IFwiQUlcIixcbiAgXCJDU0Ffc2VsZl9wYWNlZF9wbFwiOiBcIkNTQSBTZWxmIFBhY2VkIFBMXCIsXG4gIFwiQ1NQX3NlbGZfcGFjZWRfcGxcIjogXCJDU1AgU2VsZiBQYWNlZCBQTFwiLFxuICBcIkNTRF9zZWxmX3BhY2VkX3BsXCI6IFwiQ1NEIFNlbGYgUGFjZWQgUExcIixcbiAgXCJDU0Zfc2VsZl9wYWNlZF9wbFwiOiBcIkNTRiBTZWxmIFBhY2VkIFBMXCIsXG4gIFwiQ1NDX3NlbGZfcGFjZWRfcGxcIjogXCJDU0MgU2VsZiBQYWNlZCBQTFwiLFxuICBcIkNTQ19rXzVfc2VsZl9wYWNlZF9wbFwiOiBcIkNTQyBLLTUgc2VsZi1wYWNlZCBQTFwiLFxuICBcInN0dWRlbnRfc2VsZl9wYWNlZFwiOiBcIlN0dWRlbnQgU2VsZiBQYWNlZCBDb3Vyc2VzXCIsXG4gIFwicGRfd29ya3Nob3BfYWN0aXZpdHlfY3NmXCI6IFwiUEQgV29ya3Nob3AgQWN0aXZpdHkgQ1NGXCIsXG4gIFwicGRfd29ya3Nob3BfYWN0aXZpdHlfY3NkXCI6IFwiUEQgV29ya3Nob3AgQWN0aXZpdHkgQ1NEXCIsXG4gIFwicGRfd29ya3Nob3BfYWN0aXZpdHlfY3NwXCI6IFwiUEQgV29ya3Nob3AgQWN0aXZpdHkgQ1NQXCIsXG4gIFwicGRfd29ya3Nob3BfYWN0aXZpdHlfY3NhXCI6IFwiUEQgV29ya3Nob3AgQWN0aXZpdHkgQ1NBXCIsXG4gIFwiZm91bmRhdGlvbnNfb2ZfY3NcIjogXCJGb3VuZGF0aW9ucyBvZiBDU1wiLFxuICBcImZvdW5kYXRpb25zX29mX3Byb2dyYW1taW5nXCI6IFwiRm91bmRhdGlvbnMgb2YgUHJvZ3JhbW1pbmdcIixcbiAgXCJDU0NfS181XCI6IFwiQ1NDIEstNVwiLFxuICBcIkNTQ182XzhcIjogXCJDU0MgNi04XCIsXG4gIFwiQ1NDXzlfMTJcIjogXCJDU0MgOS0xMlwiLFxuICBcInNwZWNpYWxfdG9waWNzX2tfNVwiOiBcIkstNSBTcGVjaWFsIHRvcGljc1wiLFxuICBcInNwZWNpYWxfdG9waWNzXzZfOFwiOiBcIjYtOCBTcGVjaWFsIHRvcGljc1wiLFxuICBcInNwZWNpYWxfdG9waWNzXzlfMTJcIjogXCI5LTEyIFNwZWNpYWwgdG9waWNzXCIsXG4gIFwiZm91bmRhdGlvbnNfb2ZfY3Nfc2VsZnBhY2VkX3BsXCI6IFwiRm91bmRhdGlvbnMgb2YgQ1Mgc2VsZnBhY2VkIHBsXCIsXG4gIFwiYWlfZm9yX3RlYWNoZXJzX3NlbGZwYWNlZF9wbFwiOiBcIkFJIGZvciB0ZWFjaGVycyBzZWxmcGFjZWQgcGxcIixcbiAgXCJzcGVjaWFsX3RvcGljc19jdXJyaWN1bHVtX3NlbGZwYWNlZF9wbF9rXzVcIjogXCJLLTUgU3BlY2lhbCB0b3BpY3MgY3VycmljdWx1bSBzZWxmcGFjZWQgcGxcIixcbiAgXCJzcGVjaWFsX3RvcGljc19jdXJyaWN1bHVtX3NlbGZwYWNlZF9wbF82XzhcIjogXCI2LTggU3BlY2lhbCB0b3BpY3MgY3VycmljdWx1bSBzZWxmcGFjZWQgcGxcIixcbiAgXCJzcGVjaWFsX3RvcGljc19jdXJyaWN1bHVtX3NlbGZwYWNlZF9wbF85XzEyXCI6IFwiOS0xMiBTcGVjaWFsIHRvcGljcyBjdXJyaWN1bHVtIHNlbGZwYWNlZCBwbFwiLFxuICBcInBlZGFnb2d5X3NwZWNpYWxfdG9waWNzX3NlbGZwYWNlZF9wbFwiOiBcIlBlZGFnb2d5IHNwZWNpYWwgdG9waWNzIHNlbGZwYWNlZCBwbFwiLFxuICBcImNzX2Jhc2ljc19zZWxmcGFjZWRfcGxcIjogXCJDUyBCYXNpY3Mgc2VsZnBhY2VkIHBsXCJcbn07XG5cbmV4cG9ydCBjb25zdCBDdXJyaWN1bHVtVG9waWNUYWdzID0ge1xuICBcImFpXCI6IFwiQUlcIixcbiAgXCJtYWtlclwiOiBcIk1ha2VyXCIsXG4gIFwibXVzaWNfbGFiXCI6IFwiTXVzaWMgbGFiXCJcbn07XG5cbmV4cG9ydCBjb25zdCBDdXJyaWN1bHVtQ29udGVudEFyZWEgPSB7XG4gIFwiY3VycmljdWx1bV9rXzVcIjogXCJLLTUgQ3VycmljdWx1bVwiLFxuICBcImN1cnJpY3VsdW1fNl84XCI6IFwiNi04IEN1cnJpY3VsdW1cIixcbiAgXCJjdXJyaWN1bHVtXzlfMTJcIjogXCI5LTEyIEN1cnJpY3VsdW1cIixcbiAgXCJob2NcIjogXCJIT0NcIixcbiAgXCJwbF93b3Jrc2hvcF9hY3Rpdml0aWVzXCI6IFwiUEwgV29ya3Nob3AgYWN0aXZpdGllc1wiLFxuICBcInNlbGZfcGFjZWRfcGxfa181XCI6IFwiSy01IHNlbGYtcGFjZWQgUExcIixcbiAgXCJzZWxmX3BhY2VkX3BsXzZfOFwiOiBcIjYtOCBzZWxmLXBhY2VkIFBMXCIsXG4gIFwic2VsZl9wYWNlZF9wbF85XzEyXCI6IFwiOS0xMiBzZWxmLXBhY2VkIFBMXCIsXG4gIFwic2tpbGxzX2ZvY3VzZWRfc2VsZl9wYWNlZF9wbFwiOiBcIlNraWxscy1mb2N1c2VkIHNlbGYtcGFjZWQgUExcIixcbiAgXCJvdGhlclwiOiBcIk90aGVyXCJcbn07XG5cbmV4cG9ydCBjb25zdCBDb3Vyc2VPZmZlcmluZ0N1cnJpY3VsdW1UeXBlcyA9IHtcbiAgXCJtb2R1bGVcIjogXCJNb2R1bGVcIixcbiAgXCJjb3Vyc2VcIjogXCJDb3Vyc2VcIixcbiAgXCJzdGFuZGFsb25lX3VuaXRcIjogXCJTdGFuZGFsb25lIFVuaXRcIixcbiAgXCJob2NcIjogXCJIb3VyIG9mIENvZGVcIixcbiAgXCJwbFwiOiBcIlByb2Zlc3Npb25hbCBMZWFybmluZ1wiXG59O1xuXG5leHBvcnQgY29uc3QgQ291cnNlT2ZmZXJpbmdIZWFkZXJzID0ge1xuICBcImZhdm9yaXRlc1wiOiBcIkZhdm9yaXRlc1wiLFxuICBcImxhYnNfYW5kX3NraWxsc1wiOiBcIkxhYnMgYW5kIFNraWxsc1wiLFxuICBcIm1pbmVjcmFmdFwiOiBcIk1pbmVjcmFmdFwiLFxuICBcImhlbGxvX3dvcmxkXCI6IFwiSGVsbG8gV29ybGRcIixcbiAgXCJwb3B1bGFyX21lZGlhXCI6IFwiUG9wdWxhciBNZWRpYVwiLFxuICBcInNwb3J0c1wiOiBcIlNwb3J0c1wiLFxuICBcImV4cHJlc3NcIjogXCJFeHByZXNzXCIsXG4gIFwiY3NmXCI6IFwiQ1MgRnVuZGFtZW50YWxzXCIsXG4gIFwiY3NjXCI6IFwiQ1MgQ29ubmVjdGlvbnNcIixcbiAgXCJ5ZWFyX2xvbmdcIjogXCJZZWFyIExvbmdcIixcbiAgXCJjc2FfbGFic1wiOiBcIkNTQSBMYWJzXCIsXG4gIFwic2VsZl9wYWNlZFwiOiBcIlNlbGYtUGFjZWRcIixcbiAgXCJ0ZWFjaGVyX2xlZFwiOiBcIlRlYWNoZXItTGVkXCIsXG4gIFwiY29sbGVjdGlvbnNcIjogXCJDb2xsZWN0aW9uc1wiLFxuICBcIndvcmtzaG9wc19rNVwiOiBcIkstNSBXb3Jrc2hvcHNcIixcbiAgXCJzdW1tZXJfd29ya3Nob3BzXzYxMlwiOiBcIjYtMTIgU3VtbWVyIFdvcmtzaG9wc1wiLFxuICBcInZpcnR1YWxfYWNhZGVtaWNfeWVhcl93b3Jrc2hvcHNfNjEyXCI6IFwiNuKAkzEyIFZpcnR1YWwgQWNhZGVtaWMgWWVhciBXb3Jrc2hvcHNcIixcbiAgXCJ1bnN1cHBvcnRlZFwiOiBcIlVuc3VwcG9ydGVkXCJcbn07XG5cbmV4cG9ydCBjb25zdCBDb3Vyc2VPZmZlcmluZ01hcmtldGluZ0luaXRpYXRpdmVzID0ge1xuICBcImhvY1wiOiBcIkhPQ1wiLFxuICBcImNzY1wiOiBcIkNTQ1wiLFxuICBcImNzZlwiOiBcIkNTRlwiLFxuICBcImNzYVwiOiBcIkNTQVwiLFxuICBcImNzcFwiOiBcIkNTUFwiLFxuICBcImNzZFwiOiBcIkNTRFwiXG59O1xuXG5leHBvcnQgY29uc3QgQ291cnNlT2ZmZXJpbmdDc1RvcGljcyA9IFtcbiAgXCJhcnRfYW5kX2Rlc2lnblwiLFxuICBcImFwcF9kZXNpZ25cIixcbiAgXCJhcnRpZmljaWFsX2ludGVsbGlnZW5jZVwiLFxuICBcImN5YmVyc2VjdXJpdHlcIixcbiAgXCJkYXRhXCIsXG4gIFwiZGlnaXRhbF9saXRlcmFjeVwiLFxuICBcImdhbWVzX2FuZF9hbmltYXRpb25zXCIsXG4gIFwiaW50ZXJuZXRcIixcbiAgXCJwaHlzaWNhbF9jb21wdXRpbmdcIixcbiAgXCJ3ZWJfZGVzaWduXCIsXG4gIFwicHJvZ3JhbW1pbmdcIlxuXTtcblxuZXhwb3J0IGNvbnN0IENvdXJzZU9mZmVyaW5nU2Nob29sU3ViamVjdHMgPSBbXG4gIFwibWF0aFwiLFxuICBcInNjaWVuY2VcIixcbiAgXCJlbmdsaXNoX2xhbmd1YWdlX2FydHNcIixcbiAgXCJoaXN0b3J5XCJcbl07XG5cbmV4cG9ydCBjb25zdCBEZXZpY2VUeXBlcyA9IFtcbiAgXCJjb21wdXRlclwiLFxuICBcImNocm9tZWJvb2tcIixcbiAgXCJ0YWJsZXRcIixcbiAgXCJtb2JpbGVcIixcbiAgXCJub19kZXZpY2VcIlxuXTtcblxuZXhwb3J0IGNvbnN0IERldmljZUNvbXBhdGliaWxpdHlMZXZlbHMgPSBbXG4gIFwiaWRlYWxcIixcbiAgXCJub3RfcmVjb21tZW5kZWRcIixcbiAgXCJpbmNvbXBhdGlibGVcIlxuXTtcblxuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50QXVkaWVuY2VzQnlUeXBlID0ge1xuICBcInN0dWRlbnRcIjogW1xuICAgIFwic3R1ZGVudFwiXG4gIF0sXG4gIFwidGVhY2hlclwiOiBbXG4gICAgXCJzdHVkZW50XCIsXG4gICAgXCJ0ZWFjaGVyXCJcbiAgXSxcbiAgXCJmYWNpbGl0YXRvclwiOiBbXG4gICAgXCJzdHVkZW50XCIsXG4gICAgXCJ0ZWFjaGVyXCIsXG4gICAgXCJmYWNpbGl0YXRvclwiXG4gIF1cbn07XG4iLCJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IHtQYXJ0aWNpcGFudEF1ZGllbmNlfSBmcm9tICdAY2RvL2FwcHMvZ2VuZXJhdGVkL2N1cnJpY3VsdW0vc2hhcmVkQ291cnNlQ29uc3RhbnRzJztcblxuLyoqXG4gKiBAY29uc3Qge3N0cmluZ1tdfSBUaGUgb25seSBwcm9wZXJ0aWVzIHRoYXQgY2FuIGJlIHVwZGF0ZWQgYnkgdGhlIHVzZXJcbiAqIHdoZW4gY3JlYXRpbmcgb3IgZWRpdGluZyBhIHNlY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBVU0VSX0VESVRBQkxFX1NFQ1RJT05fUFJPUFMgPSBbXG4gICduYW1lJyxcbiAgJ2xvZ2luVHlwZScsXG4gICdsZXNzb25FeHRyYXMnLFxuICAncGFpcmluZ0FsbG93ZWQnLFxuICAndHRzQXV0b3BsYXlFbmFibGVkJyxcbiAgJ3BhcnRpY2lwYW50VHlwZScsXG4gICdjb3Vyc2VJZCcsXG4gICdjb3Vyc2VPZmZlcmluZ0lkJyxcbiAgJ2NvdXJzZVZlcnNpb25JZCcsXG4gICd1bml0SWQnLFxuICAnZ3JhZGVzJyxcbiAgJ2hpZGRlbicsXG4gICdyZXN0cmljdFNlY3Rpb24nLFxuICAnY29kZVJldmlld0V4cGlyZXNBdCcsXG4gICdhaVR1dG9yRW5hYmxlZCcsXG5dO1xuXG4vKiogQGNvbnN0IHtudW1iZXJ9IElEIGZvciBhIG5ldyBzZWN0aW9uIHRoYXQgaGFzIG5vdCBiZWVuIHNhdmVkICovXG5jb25zdCBQRU5ESU5HX05FV19TRUNUSU9OX0lEID0gLTE7XG5cbi8vIEhlbHBlcnMgYW5kIFNlbGVjdG9yc1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um9vdChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUudGVhY2hlclNlY3Rpb25zOyAvLyBHbG9iYWwga25vd2xlZGdlIGV3dy5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUm9zdGVyRGlhbG9nT3BlbihzdGF0ZSkge1xuICByZXR1cm4gZ2V0Um9vdChzdGF0ZSkuaXNSb3N0ZXJEaWFsb2dPcGVuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm9zdGVyUHJvdmlkZXIoc3RhdGUpIHtcbiAgcmV0dXJuIGdldFJvb3Qoc3RhdGUpLnJvc3RlclByb3ZpZGVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm9zdGVyUHJvdmlkZXJOYW1lKHN0YXRlKSB7XG4gIHJldHVybiBnZXRSb290KHN0YXRlKS5yb3N0ZXJQcm92aWRlck5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWN0aW9uQ29kZShzdGF0ZSwgc2VjdGlvbklkKSB7XG4gIHJldHVybiAoZ2V0Um9vdChzdGF0ZSkuc2VjdGlvbnNbc2VjdGlvbklkXSB8fCB7fSkuY29kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlY3Rpb25OYW1lKHN0YXRlLCBzZWN0aW9uSWQpIHtcbiAgcmV0dXJuIChnZXRSb290KHN0YXRlKS5zZWN0aW9uc1tzZWN0aW9uSWRdIHx8IHt9KS5uYW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbHRpU3luY1Jlc3VsdChzdGF0ZSkge1xuICByZXR1cm4gZ2V0Um9vdChzdGF0ZSkubHRpU3luY1Jlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN5bmNFbmFibGVkKHN0YXRlLCBzZWN0aW9uSWQpIHtcbiAgcmV0dXJuIChnZXRSb290KHN0YXRlKS5zZWN0aW9uc1tzZWN0aW9uSWRdIHx8IHt9KS5zeW5jRW5hYmxlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlY3Rpb25Vbml0TmFtZShzdGF0ZSwgc2VjdGlvbklkKSB7XG4gIHJldHVybiAoZ2V0Um9vdChzdGF0ZSkuc2VjdGlvbnNbc2VjdGlvbklkXSB8fCB7fSkuY291cnNlVmVyc2lvbk5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZFNlY3Rpb24oc3RhdGUpIHtcbiAgY29uc3Qgc2VsZWN0ZWRTZWN0aW9uSWQgPSBnZXRSb290KHN0YXRlKS5zZWxlY3RlZFNlY3Rpb25JZDtcbiAgaWYgKHNlbGVjdGVkU2VjdGlvbklkKSB7XG4gICAgcmV0dXJuIGdldFJvb3Qoc3RhdGUpLnNlY3Rpb25zW3NlbGVjdGVkU2VjdGlvbklkXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VjdGlvblByb3ZpZGVyKHN0YXRlLCBzZWN0aW9uSWQpIHtcbiAgaWYgKGlzU2VjdGlvblByb3ZpZGVyTWFuYWdlZChzdGF0ZSwgc2VjdGlvbklkKSkge1xuICAgIHJldHVybiByb3N0ZXJQcm92aWRlcihzdGF0ZSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWN0aW9uUHJvdmlkZXJOYW1lKHN0YXRlLCBzZWN0aW9uSWQpIHtcbiAgaWYgKGlzU2VjdGlvblByb3ZpZGVyTWFuYWdlZChzdGF0ZSwgc2VjdGlvbklkKSkge1xuICAgIHJldHVybiByb3N0ZXJQcm92aWRlck5hbWUoc3RhdGUpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTZWN0aW9uUHJvdmlkZXJNYW5hZ2VkKHN0YXRlLCBzZWN0aW9uSWQpIHtcbiAgcmV0dXJuICEhKGdldFJvb3Qoc3RhdGUpLnNlY3Rpb25zW3NlY3Rpb25JZF0gfHwge30pLnByb3ZpZGVyTWFuYWdlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2F2ZUluUHJvZ3Jlc3Moc3RhdGUpIHtcbiAgcmV0dXJuIGdldFJvb3Qoc3RhdGUpLnNhdmVJblByb2dyZXNzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzaWduZWRDb3Vyc2VPZmZlcmluZyhzdGF0ZSkge1xuICBjb25zdCB7c2VjdGlvbkJlaW5nRWRpdGVkLCBjb3Vyc2VPZmZlcmluZ3N9ID0gZ2V0Um9vdChzdGF0ZSk7XG5cbiAgcmV0dXJuIGNvdXJzZU9mZmVyaW5nc1tzZWN0aW9uQmVpbmdFZGl0ZWQ/LmNvdXJzZU9mZmVyaW5nSWRdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmlzaWJsZVNlY3Rpb25zKHN0YXRlKSB7XG4gIGNvbnN0IGFsbFNlY3Rpb25zID0gT2JqZWN0LnZhbHVlcyhnZXRSb290KHN0YXRlKS5zZWN0aW9ucyk7XG4gIHJldHVybiBzb3J0U2VjdGlvbnNMaXN0KGFsbFNlY3Rpb25zIHx8IFtdKS5maWx0ZXIoc2VjdGlvbiA9PiAhc2VjdGlvbi5oaWRkZW4pO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgbmVlZGVkIGJ5IFJlYWN0dGFidWxhciB0byBzaG93IGEgc29ydGFibGUgdGFibGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSAtIEZ1bGwgc3RvcmUgc3RhdGVcbiAqIEBwYXJhbSB7bnVtYmVyW119IHNlY3Rpb25JZHMgLSBMaXN0IG9mIHNlY3Rpb24gaWRzIHdlIHdhbnQgcm93IGRhdGEgZm9yXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWN0aW9uUm93cyhzdGF0ZSwgc2VjdGlvbklkcykge1xuICBjb25zdCB7c2VjdGlvbnMsIGNvdXJzZU9mZmVyaW5ncywgY291cnNlT2ZmZXJpbmdzQXJlTG9hZGVkfSA9IGdldFJvb3Qoc3RhdGUpO1xuICByZXR1cm4gc2VjdGlvbklkcy5tYXAoaWQgPT4gKHtcbiAgICAuLi5fLnBpY2soc2VjdGlvbnNbaWRdLCBbXG4gICAgICAnaWQnLFxuICAgICAgJ25hbWUnLFxuICAgICAgJ2NvdXJzZVZlcnNpb25OYW1lJyxcbiAgICAgICdjb3Vyc2VEaXNwbGF5TmFtZScsXG4gICAgICAnbG9naW5UeXBlJyxcbiAgICAgICdsb2dpblR5cGVOYW1lJyxcbiAgICAgICdzdHVkZW50Q291bnQnLFxuICAgICAgJ2NvZGUnLFxuICAgICAgJ3BhcnRpY2lwYW50VHlwZScsXG4gICAgICAnZ3JhZGVzJyxcbiAgICAgICdwcm92aWRlck1hbmFnZWQnLFxuICAgICAgJ2hpZGRlbicsXG4gICAgXSksXG4gICAgYXNzaWdubWVudE5hbWVzOiBhc3NpZ25tZW50TmFtZXMoY291cnNlT2ZmZXJpbmdzLCBzZWN0aW9uc1tpZF0pLFxuICAgIGFzc2lnbm1lbnRQYXRoczogYXNzaWdubWVudFBhdGhzKGNvdXJzZU9mZmVyaW5ncywgc2VjdGlvbnNbaWRdKSxcbiAgICBjb3Vyc2VPZmZlcmluZ3NBcmVMb2FkZWQsXG4gIH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFzc2lnbm1lbnROYW1lKHN0YXRlLCBzZWN0aW9uSWQpIHtcbiAgY29uc3Qge3NlY3Rpb25zLCBjb3Vyc2VPZmZlcmluZ3N9ID0gZ2V0Um9vdChzdGF0ZSk7XG4gIHJldHVybiBhc3NpZ25tZW50TmFtZXMoY291cnNlT2ZmZXJpbmdzLCBzZWN0aW9uc1tzZWN0aW9uSWRdKVswXTtcbn1cbi8qKlxuICogTWFwcyBmcm9tIHRoZSBkYXRhIHdlIGdldCBiYWNrIGZyb20gdGhlIHNlcnZlciBmb3IgYSBzZWN0aW9uLCB0byB0aGUgZm9ybWF0XG4gKiB3ZSB3YW50IHRvIGhhdmUgaW4gb3VyIHN0b3JlLlxuICovXG5leHBvcnQgY29uc3Qgc2VjdGlvbkZyb21TZXJ2ZXJTZWN0aW9uID0gc2VydmVyU2VjdGlvbiA9PiAoe1xuICBpZDogc2VydmVyU2VjdGlvbi5pZCxcbiAgbmFtZTogc2VydmVyU2VjdGlvbi5uYW1lLFxuICBjb3Vyc2VWZXJzaW9uTmFtZTogc2VydmVyU2VjdGlvbi5jb3Vyc2VWZXJzaW9uTmFtZSxcbiAgdW5pdE5hbWU6IHNlcnZlclNlY3Rpb24udW5pdE5hbWUsXG4gIGlzQXNzaWduZWRTdGFuZGFsb25lQ291cnNlOiBzZXJ2ZXJTZWN0aW9uLmlzQXNzaWduZWRTdGFuZGFsb25lQ291cnNlLFxuICBjcmVhdGVkQXQ6IHNlcnZlclNlY3Rpb24uY3JlYXRlZEF0LFxuICBsb2dpblR5cGU6IHNlcnZlclNlY3Rpb24ubG9naW5fdHlwZSxcbiAgbG9naW5UeXBlTmFtZTogc2VydmVyU2VjdGlvbi5sb2dpbl90eXBlX25hbWUsXG4gIGdyYWRlczogc2VydmVyU2VjdGlvbi5ncmFkZXMsXG4gIHByb3ZpZGVyTWFuYWdlZDogc2VydmVyU2VjdGlvbi5wcm92aWRlck1hbmFnZWQgfHwgZmFsc2UsIC8vIFRPRE86IChqb3NoKSBtYWtlIHRoaXMgcmVxdWlyZWQgd2hlbiAvdjIvc2VjdGlvbnMgQVBJIGlzIGRlcHJlY2F0ZWRcbiAgbGVzc29uRXh0cmFzOiBzZXJ2ZXJTZWN0aW9uLmxlc3Nvbl9leHRyYXMsXG4gIHBhaXJpbmdBbGxvd2VkOiBzZXJ2ZXJTZWN0aW9uLnBhaXJpbmdfYWxsb3dlZCxcbiAgdHRzQXV0b3BsYXlFbmFibGVkOiBzZXJ2ZXJTZWN0aW9uLnR0c19hdXRvcGxheV9lbmFibGVkLFxuICBzaGFyaW5nRGlzYWJsZWQ6IHNlcnZlclNlY3Rpb24uc2hhcmluZ19kaXNhYmxlZCxcbiAgc3R1ZGVudENvdW50OiBzZXJ2ZXJTZWN0aW9uLnN0dWRlbnRDb3VudCxcbiAgY29kZTogc2VydmVyU2VjdGlvbi5jb2RlLFxuICBjb3Vyc2VPZmZlcmluZ0lkOiBzZXJ2ZXJTZWN0aW9uLmNvdXJzZV9vZmZlcmluZ19pZCxcbiAgY291cnNlVmVyc2lvbklkOiBzZXJ2ZXJTZWN0aW9uLmNvdXJzZV92ZXJzaW9uX2lkLFxuICBjb3Vyc2VEaXNwbGF5TmFtZTogc2VydmVyU2VjdGlvbi5jb3Vyc2VfZGlzcGxheV9uYW1lLFxuICB1bml0SWQ6IHNlcnZlclNlY3Rpb24udW5pdF9pZCxcbiAgY291cnNlSWQ6IHNlcnZlclNlY3Rpb24uY291cnNlX2lkLFxuICBoaWRkZW46IHNlcnZlclNlY3Rpb24uaGlkZGVuLFxuICByZXN0cmljdFNlY3Rpb246IHNlcnZlclNlY3Rpb24ucmVzdHJpY3Rfc2VjdGlvbixcbiAgcG9zdE1pbGVzdG9uZURpc2FibGVkOiBzZXJ2ZXJTZWN0aW9uLnBvc3RfbWlsZXN0b25lX2Rpc2FibGVkLFxuICBjb2RlUmV2aWV3RXhwaXJlc0F0OiBzZXJ2ZXJTZWN0aW9uLmNvZGVfcmV2aWV3X2V4cGlyZXNfYXRcbiAgICA/IERhdGUucGFyc2Uoc2VydmVyU2VjdGlvbi5jb2RlX3Jldmlld19leHBpcmVzX2F0KVxuICAgIDogbnVsbCxcbiAgaXNBc3NpZ25lZENTQTogc2VydmVyU2VjdGlvbi5pc19hc3NpZ25lZF9jc2EsXG4gIHBhcnRpY2lwYW50VHlwZTogc2VydmVyU2VjdGlvbi5wYXJ0aWNpcGFudF90eXBlLFxuICBzZWN0aW9uSW5zdHJ1Y3RvcnM6IHNlcnZlclNlY3Rpb24uc2VjdGlvbl9pbnN0cnVjdG9ycyxcbiAgc3luY0VuYWJsZWQ6IHNlcnZlclNlY3Rpb24uc3luY19lbmFibGVkLFxuICBhaVR1dG9yRW5hYmxlZDogc2VydmVyU2VjdGlvbi5haV90dXRvcl9lbmFibGVkLFxuICBhbnlTdHVkZW50SGFzUHJvZ3Jlc3M6IHNlcnZlclNlY3Rpb24uYW55X3N0dWRlbnRfaGFzX3Byb2dyZXNzLFxufSk7XG5cbi8qKlxuICogTWFwcyBmcm9tIHRoZSBkYXRhIHdlIGdldCBiYWNrIGZyb20gdGhlIHNlcnZlciBmb3IgYSBzdHVkZW50LCB0byB0aGUgZm9ybWF0XG4gKiB3ZSB3YW50IHRvIGhhdmUgaW4gb3VyIHN0b3JlLlxuICovXG5leHBvcnQgY29uc3Qgc3R1ZGVudEZyb21TZXJ2ZXJTdHVkZW50ID0gKHNlcnZlclN0dWRlbnQsIHNlY3Rpb25JZCkgPT4gKHtcbiAgc2VjdGlvbklkOiBzZWN0aW9uSWQsXG4gIGlkOiBzZXJ2ZXJTdHVkZW50LmlkLFxuICBuYW1lOiBzZXJ2ZXJTdHVkZW50Lm5hbWUsXG4gIGZhbWlseU5hbWU6IHNlcnZlclN0dWRlbnQuZmFtaWx5X25hbWUsXG4gIHNoYXJpbmdEaXNhYmxlZDogc2VydmVyU3R1ZGVudC5zaGFyaW5nX2Rpc2FibGVkLFxuICBzZWNyZXRQaWN0dXJlUGF0aDogc2VydmVyU3R1ZGVudC5zZWNyZXRfcGljdHVyZV9wYXRoLFxuICBzZWNyZXRQaWN0dXJlTmFtZTogc2VydmVyU3R1ZGVudC5zZWNyZXRfcGljdHVyZV9uYW1lLFxuICBzZWNyZXRXb3Jkczogc2VydmVyU3R1ZGVudC5zZWNyZXRfd29yZHMsXG4gIHVzZXJUeXBlOiBzZXJ2ZXJTdHVkZW50LnVzZXJfdHlwZSxcbn0pO1xuXG4vKipcbiAqIE1hcCBmcm9tIGNsaWVudCBzZWN0aW9uU2hhcGUgdG8gd2VsbC1mb3JtYXR0ZWQgcGFyYW1zIGZvciB1cGRhdGluZyB0aGVcbiAqIHNlY3Rpb24gb24gdGhlIHNlcnZlciB2aWEgdGhlIHNlY3Rpb25zIEFQSS5cbiAqIEBwYXJhbSB7c2VjdGlvblNoYXBlfSBzZWN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXJ2ZXJTZWN0aW9uRnJvbVNlY3Rpb24oc2VjdGlvbikge1xuICAvLyBMYXp5OiBXZSBsZWF2ZSBzb21lIGV4dHJhIHByb3BlcnRpZXMgb24gdGhpcyBvYmplY3QgKHRoZXkncmUgaWdub3JlZCBieVxuICAvLyB0aGUgc2VydmVyIGZvciBub3cpIGhvcGluZyB0aGlzIGNhbiBldmVudHVhbGx5IGJlY29tZSBhIHBhc3MtdGhyb3VnaC5cbiAgcmV0dXJuIHtcbiAgICAuLi5zZWN0aW9uLFxuICAgIGxvZ2luX3R5cGU6IHNlY3Rpb24ubG9naW5UeXBlLFxuICAgIGxlc3Nvbl9leHRyYXM6IHNlY3Rpb24ubGVzc29uRXh0cmFzLFxuICAgIHBhaXJpbmdfYWxsb3dlZDogc2VjdGlvbi5wYWlyaW5nQWxsb3dlZCxcbiAgICB0dHNfYXV0b3BsYXlfZW5hYmxlZDogc2VjdGlvbi50dHNBdXRvcGxheUVuYWJsZWQsXG4gICAgc2hhcmluZ19kaXNhYmxlZDogc2VjdGlvbi5zaGFyaW5nRGlzYWJsZWQsXG4gICAgY291cnNlX29mZmVyaW5nX2lkOiBzZWN0aW9uLmNvdXJzZU9mZmVyaW5nSWQsXG4gICAgY291cnNlX3ZlcnNpb25faWQ6IHNlY3Rpb24uY291cnNlVmVyc2lvbklkLFxuICAgIHVuaXRfaWQ6IHNlY3Rpb24udW5pdElkLFxuICAgIGNvdXJzZV9pZDogc2VjdGlvbi5jb3Vyc2VJZCxcbiAgICByZXN0cmljdF9zZWN0aW9uOiBzZWN0aW9uLnJlc3RyaWN0U2VjdGlvbixcbiAgICBwYXJ0aWNpcGFudF90eXBlOiBzZWN0aW9uLnBhcnRpY2lwYW50VHlwZSxcbiAgICBhaV90dXRvcl9lbmFibGVkOiBzZWN0aW9uLmFpVHV0b3JFbmFibGVkLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3U2VjdGlvbkRhdGEocGFydGljaXBhbnRUeXBlKSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IFBFTkRJTkdfTkVXX1NFQ1RJT05fSUQsXG4gICAgbmFtZTogJycsXG4gICAgbG9naW5UeXBlOiB1bmRlZmluZWQsXG4gICAgZ3JhZGVzOiBbJyddLFxuICAgIHByb3ZpZGVyTWFuYWdlZDogZmFsc2UsXG4gICAgbGVzc29uRXh0cmFzOiB0cnVlLFxuICAgIHBhaXJpbmdBbGxvd2VkOiB0cnVlLFxuICAgIHR0c0F1dG9wbGF5RW5hYmxlZDogZmFsc2UsXG4gICAgc2hhcmluZ0Rpc2FibGVkOiBmYWxzZSxcbiAgICBzdHVkZW50Q291bnQ6IDAsXG4gICAgcGFydGljaXBhbnRUeXBlOiBwYXJ0aWNpcGFudFR5cGUsXG4gICAgY29kZTogJycsXG4gICAgY291cnNlSWQ6IG51bGwsXG4gICAgY291cnNlT2ZmZXJpbmdJZDogbnVsbCxcbiAgICBjb3Vyc2VWZXJzaW9uSWQ6IG51bGwsXG4gICAgY291cnNlRGlzcGxheU5hbWU6IG51bGwsXG4gICAgdW5pdElkOiBudWxsLFxuICAgIHVuaXROYW1lOiBudWxsLFxuICAgIGlzQXNzaWduZWRTdGFuZGFsb25lQ291cnNlOiBmYWxzZSxcbiAgICBoaWRkZW46IGZhbHNlLFxuICAgIHJlc3RyaWN0U2VjdGlvbjogZmFsc2UsXG4gICAgYWlUdXRvckVuYWJsZWQ6IGZhbHNlLFxuICB9O1xufVxuXG5jb25zdCBhc3NpZ25tZW50c0ZvclNlY3Rpb24gPSAoY291cnNlT2ZmZXJpbmdzLCBzZWN0aW9uKSA9PiB7XG4gIGNvbnN0IGFzc2lnbm1lbnRzID0gW107XG4gIGlmIChzZWN0aW9uLmNvdXJzZU9mZmVyaW5nSWQgJiYgc2VjdGlvbi5jb3Vyc2VWZXJzaW9uSWQpIHtcbiAgICBjb25zdCBjb3Vyc2VWZXJzaW9uID1cbiAgICAgIGNvdXJzZU9mZmVyaW5nc1tzZWN0aW9uLmNvdXJzZU9mZmVyaW5nSWRdPy5jb3Vyc2VfdmVyc2lvbnNbXG4gICAgICAgIHNlY3Rpb24uY291cnNlVmVyc2lvbklkXG4gICAgICBdO1xuICAgIGlmIChjb3Vyc2VWZXJzaW9uKSB7XG4gICAgICBhc3NpZ25tZW50cy5wdXNoKGNvdXJzZVZlcnNpb24pO1xuICAgICAgaWYgKHNlY3Rpb24udW5pdElkICYmIGNvdXJzZVZlcnNpb24udHlwZSA9PT0gJ1VuaXRHcm91cCcpIHtcbiAgICAgICAgaWYgKGNvdXJzZVZlcnNpb24udW5pdHNbc2VjdGlvbi51bml0SWRdKSB7XG4gICAgICAgICAgYXNzaWdubWVudHMucHVzaChjb3Vyc2VWZXJzaW9uLnVuaXRzW3NlY3Rpb24udW5pdElkXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXNzaWdubWVudHM7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgbmFtZSBvZiB0aGUgY291cnNlL3VuaXQgYXNzaWduZWQgdG8gdGhlIGdpdmVuIHNlY3Rpb25cbiAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAqL1xuZXhwb3J0IGNvbnN0IGFzc2lnbm1lbnROYW1lcyA9IChjb3Vyc2VPZmZlcmluZ3MsIHNlY3Rpb24pID0+IHtcbiAgY29uc3QgYXNzaWdubWVudHMgPSBhc3NpZ25tZW50c0ZvclNlY3Rpb24oY291cnNlT2ZmZXJpbmdzLCBzZWN0aW9uKTtcbiAgLy8gd2UgbWlnaHQgbm90IGhhdmUgYW4gYXNzaWdubWVudCBvYmplY3QgaWYgd2UgaGF2ZSBhIHNlY3Rpb24gdGhhdCB3YXMgc29tZWhvd1xuICAvLyBhc3NpZ25lZCB0byBhIGhpZGRlbiB1bml0IChhbmQgd2UgZG9udCBoYXZlIHBlcm1pc3Npb25zIHRvIHNlZSBoaWRkZW4gdW5pdHMpXG4gIHJldHVybiBhc3NpZ25tZW50cy5tYXAoYXNzaWdubWVudCA9PiAoYXNzaWdubWVudCA/IGFzc2lnbm1lbnQubmFtZSA6ICcnKSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgcGF0aCBvZiB0aGUgY291cnNlL3VuaXQgYXNzaWduZWQgdG8gdGhlIGdpdmVuIHNlY3Rpb25cbiAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAqL1xuZXhwb3J0IGNvbnN0IGFzc2lnbm1lbnRQYXRocyA9IChjb3Vyc2VPZmZlcmluZ3MsIHNlY3Rpb24pID0+IHtcbiAgY29uc3QgYXNzaWdubWVudHMgPSBhc3NpZ25tZW50c0ZvclNlY3Rpb24oY291cnNlT2ZmZXJpbmdzLCBzZWN0aW9uKTtcbiAgcmV0dXJuIGFzc2lnbm1lbnRzLm1hcChhc3NpZ25tZW50ID0+IChhc3NpZ25tZW50ID8gYXNzaWdubWVudC5wYXRoIDogJycpKTtcbn07XG5cbi8qKlxuICogQXNrIHdoZXRoZXIgdGhlIHVzZXIgaXMgY3VycmVudGx5IGFkZGluZyBhIG5ldyBzZWN0aW9uIHVzaW5nXG4gKiB0aGUgQWRkIFNlY3Rpb24gZGlhbG9nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBZGRpbmdTZWN0aW9uKHN0YXRlKSB7XG4gIHJldHVybiAhIShzdGF0ZS5zZWN0aW9uQmVpbmdFZGl0ZWQgJiYgc3RhdGUuc2VjdGlvbkJlaW5nRWRpdGVkLmlkIDwgMCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIC0gc3RhdGUudGVhY2hlclNlY3Rpb25zIGluIHJlZHV4IHRyZWVcbiAqIEV4dHJhY3QgYSBsaXN0IG9mIG5hbWUvaWQgZm9yIGVhY2ggc2VjdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VjdGlvbnNOYW1lQW5kSWQoc3RhdGUpIHtcbiAgcmV0dXJuIHNvcnRTZWN0aW9uc0xpc3QoXG4gICAgc3RhdGUuc2VjdGlvbklkcy5tYXAoaWQgPT4gKHtcbiAgICAgIGlkOiBwYXJzZUludChpZCwgMTApLFxuICAgICAgbmFtZTogc3RhdGUuc2VjdGlvbnNbaWRdLm5hbWUsXG4gICAgfSkpXG4gICk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIC0gc3RhdGUudGVhY2hlclNlY3Rpb25zIGluIHJlZHV4IHRyZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlY3Rpb25zRm9yRHJvcGRvd24oXG4gIHN0YXRlLFxuICBjb3Vyc2VPZmZlcmluZ0lkLFxuICBjb3Vyc2VWZXJzaW9uSWQsXG4gIHVuaXRJZFxuKSB7XG4gIHJldHVybiBzb3J0ZWRTZWN0aW9uc0xpc3Qoc3RhdGUuc2VjdGlvbnMpLm1hcChzZWN0aW9uID0+ICh7XG4gICAgLi4uc2VjdGlvbixcbiAgICBpc0Fzc2lnbmVkOlxuICAgICAgKHVuaXRJZCAhPT0gbnVsbCAmJiBzZWN0aW9uLnVuaXRJZCA9PT0gdW5pdElkKSB8fFxuICAgICAgKGNvdXJzZU9mZmVyaW5nSWQgIT09IG51bGwgJiZcbiAgICAgICAgc2VjdGlvbi5jb3Vyc2VPZmZlcmluZ0lkID09PSBjb3Vyc2VPZmZlcmluZ0lkICYmXG4gICAgICAgIGNvdXJzZVZlcnNpb25JZCAhPT0gbnVsbCAmJlxuICAgICAgICBzZWN0aW9uLmNvdXJzZVZlcnNpb25JZCA9PT0gY291cnNlVmVyc2lvbklkKSxcbiAgfSkpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBzZWN0aW9uc09iamVjdCAtIGFuIG9iamVjdCBjb250YWluaW5nIHNlY3Rpb25zIGtleWVkIGJ5IGlkXG4gKiBDb252ZXJ0cyBhbiB1bm9yZGVyZWQgZGljdGlvbmFyeSBvZiBzZWN0aW9ucyBpbnRvIGEgc29ydGVkIGFycmF5XG4gKi9cbmV4cG9ydCBjb25zdCBzb3J0ZWRTZWN0aW9uc0xpc3QgPSBzZWN0aW9uc09iamVjdCA9PlxuICBzb3J0U2VjdGlvbnNMaXN0KE9iamVjdC52YWx1ZXMoc2VjdGlvbnNPYmplY3QpKTtcblxuLyoqXG4gKiBAcGFyYW0ge2FycmF5fSBzZWN0aW9uc0xpc3QgLSBhbiBhcnJheSBvZiBzZWN0aW9uIG9iamVjdHNcbiAqIFNvcnRzIGFuIGFycmF5IG9mIHNlY3Rpb25zIGJ5IGRlc2NlbmRpbmcgaWRcbiAqL1xuZXhwb3J0IGNvbnN0IHNvcnRTZWN0aW9uc0xpc3QgPSBzZWN0aW9uc0xpc3QgPT5cbiAgc2VjdGlvbnNMaXN0LnNvcnQoKGEsIGIpID0+IGIuaWQgLSBhLmlkKTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgLSBGdWxsIHN0YXRlIG9mIHJlZHV4IHRyZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhpZGRlblNlY3Rpb25JZHMoc3RhdGUpIHtcbiAgc3RhdGUgPSBnZXRSb290KHN0YXRlKTtcbiAgcmV0dXJuIHN0YXRlLnNlY3Rpb25JZHMuZmlsdGVyKGlkID0+IHN0YXRlLnNlY3Rpb25zW2lkXS5oaWRkZW4pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSAtIEZ1bGwgc3RhdGUgb2YgcmVkdXggdHJlZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGlkZGVuU3R1ZGVudFNlY3Rpb25JZHMoc3RhdGUpIHtcbiAgc3RhdGUgPSBnZXRSb290KHN0YXRlKTtcbiAgcmV0dXJuIHN0YXRlLnNlY3Rpb25JZHMuZmlsdGVyKFxuICAgIGlkID0+XG4gICAgICBzdGF0ZS5zZWN0aW9uc1tpZF0uaGlkZGVuICYmXG4gICAgICBzdGF0ZS5zZWN0aW9uc1tpZF0ucGFydGljaXBhbnRUeXBlID09PSBQYXJ0aWNpcGFudEF1ZGllbmNlLnN0dWRlbnRcbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgLSBGdWxsIHN0YXRlIG9mIHJlZHV4IHRyZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhpZGRlblBsU2VjdGlvbklkcyhzdGF0ZSkge1xuICBzdGF0ZSA9IGdldFJvb3Qoc3RhdGUpO1xuICByZXR1cm4gc3RhdGUuc2VjdGlvbklkcy5maWx0ZXIoXG4gICAgaWQgPT5cbiAgICAgIHN0YXRlLnNlY3Rpb25zW2lkXS5oaWRkZW4gJiZcbiAgICAgIHN0YXRlLnNlY3Rpb25zW2lkXS5wYXJ0aWNpcGFudFR5cGUgIT09IFBhcnRpY2lwYW50QXVkaWVuY2Uuc3R1ZGVudFxuICApO1xufVxuXG5leHBvcnQgY29uc3Qgc3R1ZGVudFNoYXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgc2VjdGlvbklkOiBQcm9wVHlwZXMubnVtYmVyLFxuICBpZDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGZhbWlseU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHNoYXJpbmdEaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gIHNlY3JldFBpY3R1cmVQYXRoOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzZWNyZXRXb3JkczogUHJvcFR5cGVzLnN0cmluZyxcbn0pO1xuIiwiaW1wb3J0IHtcbiAgY3JlYXRlU2xpY2UsXG4gIEFueUFjdGlvbixcbiAgUGF5bG9hZEFjdGlvbixcbiAgVGh1bmtBY3Rpb24sXG4gIFRodW5rRGlzcGF0Y2gsXG59IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtPQXV0aFNlY3Rpb25UeXBlc30gZnJvbSAnQGNkby9hcHBzL2FjY291bnRzL2NvbnN0YW50cyc7XG5pbXBvcnQge1BhcnRpY2lwYW50QXVkaWVuY2V9IGZyb20gJ0BjZG8vYXBwcy9nZW5lcmF0ZWQvY3VycmljdWx1bS9zaGFyZWRDb3Vyc2VDb25zdGFudHMnO1xuaW1wb3J0IHtFVkVOVFMsIFBMQVRGT1JNU30gZnJvbSAnQGNkby9hcHBzL21ldHJpY3MvQW5hbHl0aWNzQ29uc3RhbnRzJztcbmltcG9ydCBhbmFseXRpY3NSZXBvcnRlciBmcm9tICdAY2RvL2FwcHMvbWV0cmljcy9BbmFseXRpY3NSZXBvcnRlcic7XG5pbXBvcnQgZmlyZWhvc2VDbGllbnQgZnJvbSAnQGNkby9hcHBzL21ldHJpY3MvZmlyZWhvc2UnO1xuaW1wb3J0IHtSb290U3RhdGV9IGZyb20gJ0BjZG8vYXBwcy90eXBlcy9yZWR1eCc7XG5pbXBvcnQge1xuICBQbEdyYWRlVmFsdWUsXG4gIFNlY3Rpb25Mb2dpblR5cGUsXG59IGZyb20gJ0BjZG8vZ2VuZXJhdGVkLXNjcmlwdHMvc2hhcmVkQ29uc3RhbnRzJztcblxuaW1wb3J0IHtcbiAgaXNBZGRpbmdTZWN0aW9uLFxuICBzZWN0aW9uRnJvbVNlcnZlclNlY3Rpb24gYXMgdW50eXBlZFNlY3Rpb25Gcm9tU2VydmVyU2VjdGlvbixcbiAgc2VydmVyU2VjdGlvbkZyb21TZWN0aW9uLFxuICBzdHVkZW50RnJvbVNlcnZlclN0dWRlbnQsXG4gIG5ld1NlY3Rpb25EYXRhLFxuICBVU0VSX0VESVRBQkxFX1NFQ1RJT05fUFJPUFMsXG59IGZyb20gJy4vdGVhY2hlclNlY3Rpb25zUmVkdXhTZWxlY3RvcnMnO1xuaW1wb3J0IHtcbiAgQXNzaWdubWVudENvdXJzZU9mZmVyaW5nLFxuICBDbGFzc3Jvb20sXG4gIEx0aVNlY3Rpb25TeW5jUmVzdWx0LFxuICBPQXV0aFNlY3Rpb25UeXBlTmFtZSxcbiAgU2VjdGlvbixcbiAgU2VjdGlvbkluc3RydWN0b3IsXG4gIFNlY3Rpb25NYXAsXG4gIFNlcnZlck9BdXRoU2VjdGlvblR5cGVOYW1lLFxuICBTZXJ2ZXJTZWN0aW9uLFxuICBTZXJ2ZXJTdHVkZW50LFxuICBTdHVkZW50LFxuICBVc2VyRWRpdGFibGVTZWN0aW9uLFxufSBmcm9tICcuL3R5cGVzL3RlYWNoZXJTZWN0aW9uVHlwZXMnO1xuXG50eXBlIFJvc3RlclByb3ZpZGVyID0gc3RyaW5nIHwga2V5b2YgdHlwZW9mIFNlY3Rpb25Mb2dpblR5cGUgfCBudWxsO1xuXG50eXBlIEFzc2lnbm1lbnREYXRhID0ge1xuICBzZWN0aW9uX2lkOiBudW1iZXI7XG4gIHNlY3Rpb25fY3JlYXRpb25fdGltZXN0YW1wPzogc3RyaW5nO1xuICBwYWdlX25hbWU6IHN0cmluZztcbiAgdW5pdF9pZD86IG51bWJlciB8IG51bGw7XG4gIGNvdXJzZV9pZD86IG51bWJlciB8IG51bGw7XG4gIGNvdXJzZV92ZXJzaW9uX2lkPzogbnVtYmVyIHwgbnVsbDtcbiAgY291cnNlX29mZmVyaW5nX2lkPzogbnVtYmVyIHwgbnVsbDtcbiAgdW5pdE5hbWU/OiBzdHJpbmcgfCBudWxsO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBUZWFjaGVyU2VjdGlvblN0YXRlIHtcbiAgbmV4dFRlbXBJZDogbnVtYmVyO1xuICBzdHVkaW9Vcmw6IHN0cmluZztcbiAgLy8gTGlzdCBvZiB0ZWFjaGVyJ3MgYXV0aGVudGljYXRpb24gcHJvdmlkZXJzIChtYXBwZWQgdG8gT0F1dGhTZWN0aW9uVHlwZXNcbiAgLy8gZm9yIGNvbnNpc3RlbmN5IGFuZCBlYXNlIG9mIGNvbXBhcmlzb24pLlxuICBwcm92aWRlcnM6IE9BdXRoU2VjdGlvblR5cGVOYW1lW107IC8vVE9ETzogSSB0aGluayB0aGlzIGlzIHJpZ2h0Pz8/XG4gIHNlY3Rpb25JZHM6IG51bWJlcltdO1xuICBzdHVkZW50U2VjdGlvbklkczogbnVtYmVyW107XG4gIHBsU2VjdGlvbklkczogbnVtYmVyW107XG4gIHNlbGVjdGVkU2VjdGlvbklkOiBudW1iZXIgfCBudWxsO1xuICBzZWxlY3RlZFNlY3Rpb25OYW1lOiBzdHJpbmc7XG4gIC8vIEFycmF5IG9mIGNvdXJzZSBvZmZlcmluZ3MsIHRvIHBvcHVsYXRlIHRoZSBhc3NpZ25tZW50IGRyb3Bkb3duXG4gIC8vIHdpdGggb3B0aW9ucyBsaWtlIFwiQ1NEXCIsIFwiQ291cnNlIEFcIiwgb3IgXCJGcm96ZW5cIi4gU2VlIHRoZVxuICAvLyBhc3NpZ25tZW50Q291cnNlT2ZmZXJpbmdTaGFwZSBQcm9wVHlwZS5cbiAgY291cnNlT2ZmZXJpbmdzOiBBc3NpZ25tZW50Q291cnNlT2ZmZXJpbmdbXTtcbiAgY291cnNlT2ZmZXJpbmdzQXJlTG9hZGVkOiBib29sZWFuO1xuICAvLyBUaGUgcGFydGljaXBhbnQgdHlwZXMgdGhlIHVzZXIgY2FuIGNyZWF0ZSBzZWN0aW9ucyBmb3JcbiAgYXZhaWxhYmxlUGFydGljaXBhbnRUeXBlczogc3RyaW5nW107XG4gIC8vIE1hcHBpbmcgZnJvbSBzZWN0aW9uSWQgdG8gc2VjdGlvbiBvYmplY3RcbiAgc2VjdGlvbnM6IFNlY3Rpb25NYXA7XG4gIC8vIExpc3Qgb2Ygc3R1ZGVudHMgaW4gc2VjdGlvbiBjdXJyZW50bHkgYmVpbmcgZWRpdGVkIChzZWUgc3R1ZGVudFNoYXBlIFByb3BUeXBlKVxuICBzZWxlY3RlZFN0dWRlbnRzOiBTdHVkZW50W107XG4gIHNlY3Rpb25zQXJlTG9hZGVkOiBib29sZWFuO1xuICAvLyBXZSBjYW4gZWRpdCBleGFjdGx5IG9uZSBzZWN0aW9uIGF0IGEgdGltZS5cbiAgLy8gV2hpbGUgZWRpdGluZyB3ZSBzdG9yZSB0aGF0IHNlY3Rpb24ncyAnaW4tcHJvZ3Jlc3MnIHN0YXRlIHNlcGFyYXRlIGZyb21cbiAgLy8gaXRzIHBlcnNpc3RlZCBzdGF0ZSBpbiB0aGUgc2VjdGlvbnMgbWFwLlxuICBzZWN0aW9uQmVpbmdFZGl0ZWQ6IFNlY3Rpb24gfCBudWxsO1xuICBzaG93U2VjdGlvbkVkaXREaWFsb2c6IGJvb2xlYW47XG4gIHNhdmVJblByb2dyZXNzOiBib29sZWFuO1xuICAvLyBUcmFjayB3aGV0aGVyIHdlJ3ZlIGFzeW5jLWxvYWRlZCBvdXIgc2VjdGlvbiBhbmQgYXNzaWdubWVudCBkYXRhXG4gIGFzeW5jTG9hZENvbXBsZXRlOiBib29sZWFuO1xuICAvLyBXaGV0aGVyIHRoZSByb3N0ZXIgZGlhbG9nICh1c2VkIHRvIGltcG9ydCBzZWN0aW9ucyBmcm9tIGdvb2dsZS9jbGV2ZXIpIGlzIG9wZW4uXG4gIGlzUm9zdGVyRGlhbG9nT3BlbjogYm9vbGVhbjtcbiAgLy8gVHJhY2sgYSBzZWN0aW9uJ3Mgcm9zdGVyIHByb3ZpZGVyLiBNdXN0IGJlIG9mIHR5cGUgT0F1dGhTZWN0aW9uVHlwZXMuXG4gIHJvc3RlclByb3ZpZGVyOiBSb3N0ZXJQcm92aWRlcjtcbiAgcm9zdGVyUHJvdmlkZXJOYW1lOiBzdHJpbmcgfCBudWxsO1xuICAvLyBTZXQgb2Ygb2F1dGggY2xhc3Nyb29tcyBhdmFpbGFibGUgZm9yIGltcG9ydCBmcm9tIGEgdGhpcmQtcGFydHkgc291cmNlLlxuICAvLyBOb3QgcG9wdWxhdGVkIHVudGlsIHRoZSBSb3N0ZXJEaWFsb2cgaXMgb3BlbmVkLlxuICBjbGFzc3Jvb21zOiBDbGFzc3Jvb21bXSB8IG51bGw7XG4gIC8vIEVycm9yIHRoYXQgb2NjdXJyZWQgd2hpbGUgbG9hZGluZyBvYXV0aCBjbGFzc3Jvb21zXG4gIGxvYWRFcnJvcjoge3N0YXR1czogbnVtYmVyOyBtZXNzYWdlOiBzdHJpbmd9IHwgbnVsbDtcbiAgLy8gVGhlIHBhZ2Ugd2hlcmUgdGhlIGFjdGlvbiBpcyBvY2N1cnJpbmdcbiAgcGFnZVR5cGU6IHN0cmluZztcbiAgbHRpU3luY1Jlc3VsdDogTHRpU2VjdGlvblN5bmNSZXN1bHQgfCBudWxsO1xuICBpc0xvYWRpbmdTZWN0aW9uRGF0YTogYm9vbGVhbjtcbiAgaW5pdGlhbENvdXJzZUlkPzogbnVtYmVyIHwgbnVsbDtcbiAgaW5pdGlhbFVuaXRJZD86IG51bWJlciB8IG51bGw7XG4gIGluaXRpYWxVbml0TmFtZT86IHN0cmluZyB8IG51bGw7XG4gIGluaXRpYWxDb3Vyc2VPZmZlcmluZ0lkPzogbnVtYmVyIHwgbnVsbDtcbiAgaW5pdGlhbENvdXJzZVZlcnNpb25JZD86IG51bWJlciB8IG51bGw7XG4gIGluaXRpYWxMb2dpblR5cGU/OiBrZXlvZiB0eXBlb2YgU2VjdGlvbkxvZ2luVHlwZTtcbiAgY290ZWFjaGVySW52aXRlPzogU2VjdGlvbkluc3RydWN0b3I7XG4gIGNvdGVhY2hlckludml0ZUZvclBsPzogU2VjdGlvbkluc3RydWN0b3I7XG59XG5cbi8qKiBAY29uc3Qge251bGx9IG51bGwgdXNlZCB0byBpbmRpY2F0ZSBubyBzZWN0aW9uIHNlbGVjdGVkICovXG5leHBvcnQgY29uc3QgTk9fU0VDVElPTiA9IG51bGw7XG5leHBvcnQgY29uc3QgU0VMRUNUX1NFQ1RJT04gPSAndGVhY2hlclNlY3Rpb25zL3NlbGVjdFNlY3Rpb24nO1xuXG5jb25zdCBpbml0aWFsU3RhdGU6IFRlYWNoZXJTZWN0aW9uU3RhdGUgPSB7XG4gIG5leHRUZW1wSWQ6IC0xLFxuICBzdHVkaW9Vcmw6ICcnLFxuICAvLyBMaXN0IG9mIHRlYWNoZXIncyBhdXRoZW50aWNhdGlvbiBwcm92aWRlcnMgKG1hcHBlZCB0byBPQXV0aFNlY3Rpb25UeXBlc1xuICAvLyBmb3IgY29uc2lzdGVuY3kgYW5kIGVhc2Ugb2YgY29tcGFyaXNvbikuXG4gIHByb3ZpZGVyczogW10sXG4gIHNlY3Rpb25JZHM6IFtdLFxuICBzdHVkZW50U2VjdGlvbklkczogW10sXG4gIHBsU2VjdGlvbklkczogW10sXG4gIHNlbGVjdGVkU2VjdGlvbklkOiBOT19TRUNUSU9OLFxuICBzZWxlY3RlZFNlY3Rpb25OYW1lOiAnJyxcbiAgLy8gQXJyYXkgb2YgY291cnNlIG9mZmVyaW5ncywgdG8gcG9wdWxhdGUgdGhlIGFzc2lnbm1lbnQgZHJvcGRvd25cbiAgLy8gd2l0aCBvcHRpb25zIGxpa2UgXCJDU0RcIiwgXCJDb3Vyc2UgQVwiLCBvciBcIkZyb3plblwiLiBTZWUgdGhlXG4gIC8vIGFzc2lnbm1lbnRDb3Vyc2VPZmZlcmluZ1NoYXBlIFByb3BUeXBlLlxuICBjb3Vyc2VPZmZlcmluZ3M6IFtdLFxuICBjb3Vyc2VPZmZlcmluZ3NBcmVMb2FkZWQ6IGZhbHNlLFxuICAvLyBUaGUgcGFydGljaXBhbnQgdHlwZXMgdGhlIHVzZXIgY2FuIGNyZWF0ZSBzZWN0aW9ucyBmb3JcbiAgYXZhaWxhYmxlUGFydGljaXBhbnRUeXBlczogW10sXG4gIC8vIE1hcHBpbmcgZnJvbSBzZWN0aW9uSWQgdG8gc2VjdGlvbiBvYmplY3RcbiAgc2VjdGlvbnM6IHt9LFxuICAvLyBMaXN0IG9mIHN0dWRlbnRzIGluIHNlY3Rpb24gY3VycmVudGx5IGJlaW5nIGVkaXRlZCAoc2VlIHN0dWRlbnRTaGFwZSBQcm9wVHlwZSlcbiAgc2VsZWN0ZWRTdHVkZW50czogW10sXG4gIHNlY3Rpb25zQXJlTG9hZGVkOiBmYWxzZSxcbiAgc2hvd1NlY3Rpb25FZGl0RGlhbG9nOiBmYWxzZSxcbiAgc2F2ZUluUHJvZ3Jlc3M6IGZhbHNlLFxuICAvLyBUcmFjayB3aGV0aGVyIHdlJ3ZlIGFzeW5jLWxvYWRlZCBvdXIgc2VjdGlvbiBhbmQgYXNzaWdubWVudCBkYXRhXG4gIGFzeW5jTG9hZENvbXBsZXRlOiBmYWxzZSxcbiAgLy8gV2hldGhlciB0aGUgcm9zdGVyIGRpYWxvZyAodXNlZCB0byBpbXBvcnQgc2VjdGlvbnMgZnJvbSBnb29nbGUvY2xldmVyKSBpcyBvcGVuLlxuICBpc1Jvc3RlckRpYWxvZ09wZW46IGZhbHNlLFxuICAvLyBUcmFjayBhIHNlY3Rpb24ncyByb3N0ZXIgcHJvdmlkZXIuIE11c3QgYmUgb2YgdHlwZSBPQXV0aFNlY3Rpb25UeXBlcy5cbiAgcm9zdGVyUHJvdmlkZXI6IG51bGwsXG4gIHJvc3RlclByb3ZpZGVyTmFtZTogbnVsbCxcbiAgLy8gU2V0IG9mIG9hdXRoIGNsYXNzcm9vbXMgYXZhaWxhYmxlIGZvciBpbXBvcnQgZnJvbSBhIHRoaXJkLXBhcnR5IHNvdXJjZS5cbiAgLy8gTm90IHBvcHVsYXRlZCB1bnRpbCB0aGUgUm9zdGVyRGlhbG9nIGlzIG9wZW5lZC5cbiAgY2xhc3Nyb29tczogbnVsbCxcbiAgc2VjdGlvbkJlaW5nRWRpdGVkOiBudWxsLFxuICAvLyBFcnJvciB0aGF0IG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgb2F1dGggY2xhc3Nyb29tc1xuICBsb2FkRXJyb3I6IG51bGwsXG4gIC8vIFRoZSBwYWdlIHdoZXJlIHRoZSBhY3Rpb24gaXMgb2NjdXJyaW5nXG4gIHBhZ2VUeXBlOiAnJyxcbiAgbHRpU3luY1Jlc3VsdDogbnVsbCxcbiAgaXNMb2FkaW5nU2VjdGlvbkRhdGE6IGZhbHNlLFxuICBpbml0aWFsVW5pdE5hbWU6IG51bGwsXG59O1xuXG4vLyBNYXBzIGF1dGhlbnRpY2F0aW9uIHByb3ZpZGVyIHRvIE9BdXRoU2VjdGlvblR5cGVzIGZvciBlYXNlIG9mIGNvbXBhcmlzb25cbi8vIChpLmUuLCBHb29nbGUgYXV0aCBpcyAnZ29vZ2xlX29hdXRoMicgYnV0IHRoZSBzZWN0aW9uIHR5cGUgaXMgJ2dvb2dsZV9jbGFzc3Jvb20nKS5cbmNvbnN0IG1hcFByb3ZpZGVyVG9TZWN0aW9uVHlwZSA9IChwcm92aWRlcjogU2VydmVyT0F1dGhTZWN0aW9uVHlwZU5hbWUpID0+IHtcbiAgc3dpdGNoIChwcm92aWRlcikge1xuICAgIGNhc2UgJ2dvb2dsZV9vYXV0aDInOlxuICAgICAgcmV0dXJuIE9BdXRoU2VjdGlvblR5cGVzLmdvb2dsZV9jbGFzc3Jvb207XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcm92aWRlcjtcbiAgfVxufTtcblxuY29uc3Qgc2VjdGlvbkZyb21TZXJ2ZXJTZWN0aW9uID0gKHNlY3Rpb246IFNlcnZlclNlY3Rpb24pID0+XG4gIHVudHlwZWRTZWN0aW9uRnJvbVNlcnZlclNlY3Rpb24oc2VjdGlvbikgYXMgU2VjdGlvbjtcblxuY29uc3Qgc2VjdGlvblNsaWNlID0gY3JlYXRlU2xpY2Uoe1xuICBuYW1lOiAndGVhY2hlclNlY3Rpb25zJyxcbiAgaW5pdGlhbFN0YXRlLFxuICByZWR1Y2Vyczoge1xuICAgIHNldEF1dGhQcm92aWRlcnMoc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxzdHJpbmdbXT4pIHtcbiAgICAgIHN0YXRlLnByb3ZpZGVycyA9IGFjdGlvbi5wYXlsb2FkLm1hcChtYXBQcm92aWRlclRvU2VjdGlvblR5cGUpO1xuICAgIH0sXG4gICAgc2V0Um9zdGVyUHJvdmlkZXIoc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxSb3N0ZXJQcm92aWRlcj4pIHtcbiAgICAgIC8vIE5vLW9wIGlmIHRoaXMgYWN0aW9uIGlzIGNhbGxlZCB3aXRoIGEgbm9uLU9BdXRoIHNlY3Rpb24gdHlwZSxcbiAgICAgIC8vIHNpbmNlIHRoaXMgYWN0aW9uIGlzIHRyaWdnZXJlZCBvbiBldmVyeSBzZWN0aW9uIGxvYWQuXG4gICAgICBpZiAoXG4gICAgICAgIGFjdGlvbi5wYXlsb2FkICYmXG4gICAgICAgIChPQXV0aFNlY3Rpb25UeXBlc1thY3Rpb24ucGF5bG9hZF0gfHxcbiAgICAgICAgICBhY3Rpb24ucGF5bG9hZCA9PT0gU2VjdGlvbkxvZ2luVHlwZS5sdGlfdjEpXG4gICAgICApIHtcbiAgICAgICAgc3RhdGUucm9zdGVyUHJvdmlkZXIgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldFBhZ2VUeXBlKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248c3RyaW5nPikge1xuICAgICAgc3RhdGUucGFnZVR5cGUgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICB9LFxuICAgIHNlbGVjdFNlY3Rpb24oc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxzdHJpbmcgfCBudW1iZXI+KSB7XG4gICAgICBpZiAoYWN0aW9uLnBheWxvYWQpIHtcbiAgICAgICAgY29uc3QgaWQgPSBwYXJzZUludChhY3Rpb24ucGF5bG9hZC50b1N0cmluZygpLCAxMCk7XG4gICAgICAgIGlmIChzdGF0ZS5zZWN0aW9uSWRzLmluY2x1ZGVzKGlkKSkge1xuICAgICAgICAgIHN0YXRlLnNlbGVjdGVkU2VjdGlvbklkID0gaWQ7XG4gICAgICAgICAgc3RhdGUuc2VsZWN0ZWRTZWN0aW9uTmFtZSA9IHN0YXRlLnNlY3Rpb25zW2lkXS5uYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLnNlbGVjdGVkU2VjdGlvbklkID0gTk9fU0VDVElPTjtcbiAgICAgICAgICBzdGF0ZS5zZWxlY3RlZFNlY3Rpb25OYW1lID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnNlbGVjdGVkU2VjdGlvbklkID0gTk9fU0VDVElPTjtcbiAgICAgICAgc3RhdGUuc2VsZWN0ZWRTZWN0aW9uTmFtZSA9ICcnO1xuICAgICAgfVxuICAgIH0sXG4gICAgdXBkYXRlU2VsZWN0ZWRTZWN0aW9uKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248U2VydmVyU2VjdGlvbj4pIHtcbiAgICAgIGNvbnN0IHNlY3Rpb25JZCA9IGFjdGlvbi5wYXlsb2FkLmlkO1xuICAgICAgaWYgKHNlY3Rpb25JZCkge1xuICAgICAgICBzdGF0ZS5zZWN0aW9uc1tzZWN0aW9uSWRdID0ge1xuICAgICAgICAgIC4uLnN0YXRlLnNlY3Rpb25zW3NlY3Rpb25JZF0sXG4gICAgICAgICAgLi4uc2VjdGlvbkZyb21TZXJ2ZXJTZWN0aW9uKGFjdGlvbi5wYXlsb2FkKSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldFNlY3Rpb25zOiB7XG4gICAgICByZWR1Y2VyKFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtcbiAgICAgICAgICBzZWN0aW9uczogU2VydmVyU2VjdGlvbltdO1xuICAgICAgICAgIGF1dG9TZWxlY3RPbmx5U2VjdGlvbjogYm9vbGVhbjtcbiAgICAgICAgfT5cbiAgICAgICkge1xuICAgICAgICBjb25zdCBzZWN0aW9ucyA9IGFjdGlvbi5wYXlsb2FkLnNlY3Rpb25zLm1hcChzZWN0aW9uRnJvbVNlcnZlclNlY3Rpb24pO1xuXG4gICAgICAgIC8vIElmIHdlIGhhdmUgb25seSBvbmUgc2VjdGlvbiwgYXV0b3NlbGVjdCBpdFxuICAgICAgICBjb25zdCBzZWxlY3RlZFNlY3Rpb25JZCA9XG4gICAgICAgICAgYWN0aW9uLnBheWxvYWQuYXV0b1NlbGVjdE9ubHlTZWN0aW9uICYmXG4gICAgICAgICAgT2JqZWN0LmtleXMoc2VjdGlvbnMpLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgPyBhY3Rpb24ucGF5bG9hZC5zZWN0aW9uc1swXS5pZFxuICAgICAgICAgICAgOiBzdGF0ZS5zZWxlY3RlZFNlY3Rpb25JZDtcblxuICAgICAgICBzZWN0aW9ucy5mb3JFYWNoKHNlY3Rpb24gPT4ge1xuICAgICAgICAgIC8vIFNFVF9TRUNUSU9OUyBpcyBjYWxsZWQgaW4gdHdvIGRpZmZlcmVudCBjb250ZXh0cy4gT24gc29tZSBwYWdlcyBpdCBpcyBjYWxsZWRcbiAgICAgICAgICAvLyBpbiBhIHdheSB0aGF0IG9ubHkgcHJvdmlkZXMgbmFtZS9pZCBwZXIgc2VjdGlvbiwgaW4gb3RoZXIgcGxhY2VzIChob21lcGFnZSwgdW5pdCBvdmVydmlldylcbiAgICAgICAgICAvLyBpdCBwcm92aWRlcyBtb3JlIGRldGFpbGVkIGluZm9ybWF0aW9uLiBUaGVyZSBhcmUgY3VycmVudGx5IG5vIHBhZ2VzIHdoZXJlXG4gICAgICAgICAgLy8gaXQgc2hvdWxkIGJlIGNhbGxlZCBpbiBib3RoIG1hbm5lcnMsIGJ1dCB3ZSB3YW50IHRvIG1ha2Ugc3VyZSB0aGF0IGlmIGl0XG4gICAgICAgICAgLy8gd2VyZSBpdCB3aWxsIHRocm93IGFuIGVycm9yIHJhdGhlciB0aGFuIGRlc3Ryb3kgZGF0YS5cbiAgICAgICAgICBjb25zdCBwcmV2U2VjdGlvbiA9IHN0YXRlLnNlY3Rpb25zW3NlY3Rpb24uaWRdO1xuICAgICAgICAgIGlmIChwcmV2U2VjdGlvbikge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoc2VjdGlvbikuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc2VjdGlvbltrZXkgYXMga2V5b2YgU2VjdGlvbl0gPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgIHByZXZTZWN0aW9uW2tleSBhcyBrZXlvZiBTZWN0aW9uXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICdTRVRfU0VDVElPTlMgY2FsbGVkIG11bHRpcGxlIHRpbWVzIGluIGEgd2F5IHRoYXQgd291bGQgcmVtb3ZlIGRhdGEnXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzZWN0aW9uSWRzID0gXy51bmlxKFxuICAgICAgICAgIHN0YXRlLnNlY3Rpb25JZHMuY29uY2F0KHNlY3Rpb25zLm1hcChzZWN0aW9uID0+IHNlY3Rpb24uaWQpKVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHN0dWRlbnRTZWN0aW9uSWRzID0gc2VjdGlvbnNcbiAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgc2VjdGlvbiA9PiBzZWN0aW9uLnBhcnRpY2lwYW50VHlwZSA9PT0gUGFydGljaXBhbnRBdWRpZW5jZS5zdHVkZW50XG4gICAgICAgICAgKVxuICAgICAgICAgIC5tYXAoc2VjdGlvbiA9PiBzZWN0aW9uLmlkKTtcbiAgICAgICAgY29uc3QgcGxTZWN0aW9uSWRzID0gc2VjdGlvbnNcbiAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgc2VjdGlvbiA9PiBzZWN0aW9uLnBhcnRpY2lwYW50VHlwZSAhPT0gUGFydGljaXBhbnRBdWRpZW5jZS5zdHVkZW50XG4gICAgICAgICAgKVxuICAgICAgICAgIC5tYXAoc2VjdGlvbiA9PiBzZWN0aW9uLmlkKTtcblxuICAgICAgICBzdGF0ZS5zZWN0aW9uc0FyZUxvYWRlZCA9IHRydWU7XG4gICAgICAgIHN0YXRlLnNlbGVjdGVkU2VjdGlvbklkID0gc2VsZWN0ZWRTZWN0aW9uSWQ7XG4gICAgICAgIHN0YXRlLnNlY3Rpb25JZHMgPSBzZWN0aW9uSWRzO1xuICAgICAgICBzdGF0ZS5zdHVkZW50U2VjdGlvbklkcyA9IHN0dWRlbnRTZWN0aW9uSWRzO1xuICAgICAgICBzdGF0ZS5wbFNlY3Rpb25JZHMgPSBwbFNlY3Rpb25JZHM7XG4gICAgICAgIHN0YXRlLnNlY3Rpb25zID0ge1xuICAgICAgICAgIC4uLnN0YXRlLnNlY3Rpb25zLFxuICAgICAgICAgIC4uLl8ua2V5Qnkoc2VjdGlvbnMsICdpZCcpLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHByZXBhcmUoc2VjdGlvbnMsIGF1dG9TZWxlY3RPbmx5U2VjdGlvbiA9IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBzZWN0aW9ucyxcbiAgICAgICAgICAgIGF1dG9TZWxlY3RPbmx5U2VjdGlvbixcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9LFxuICAgIHN0YXJ0TG9hZGluZ1NlY3Rpb25EYXRhKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc0xvYWRpbmdTZWN0aW9uRGF0YSA9IHRydWU7XG4gICAgfSxcbiAgICBmaW5pc2hMb2FkaW5nU2VjdGlvbkRhdGEoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZ1NlY3Rpb25EYXRhID0gZmFsc2U7XG4gICAgfSxcbiAgICBzZXRTdHVkZW50c0ZvckN1cnJlbnRTZWN0aW9uOiB7XG4gICAgICByZWR1Y2VyKFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtcbiAgICAgICAgICBzZWN0aW9uSWQ6IG51bWJlcjtcbiAgICAgICAgICBzdHVkZW50czogU2VydmVyU3R1ZGVudFtdO1xuICAgICAgICB9PlxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHN0dWRlbnRzID0gYWN0aW9uLnBheWxvYWQuc3R1ZGVudHMgfHwgW107XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkU3R1ZGVudHMgPSBzdHVkZW50cy5tYXAoXG4gICAgICAgICAgc3R1ZGVudCA9PlxuICAgICAgICAgICAgc3R1ZGVudEZyb21TZXJ2ZXJTdHVkZW50KFxuICAgICAgICAgICAgICBzdHVkZW50LFxuICAgICAgICAgICAgICBhY3Rpb24ucGF5bG9hZC5zZWN0aW9uSWRcbiAgICAgICAgICAgICkgYXMgU3R1ZGVudFxuICAgICAgICApO1xuXG4gICAgICAgIHN0YXRlLnNlbGVjdGVkU3R1ZGVudHMgPSBzZWxlY3RlZFN0dWRlbnRzO1xuICAgICAgfSxcbiAgICAgIHByZXBhcmUoc2VjdGlvbklkOiBudW1iZXIsIHN0dWRlbnRzOiBTZXJ2ZXJTdHVkZW50W10pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBzZWN0aW9uSWQsXG4gICAgICAgICAgICBzdHVkZW50cyxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9LFxuICAgIHNldFJvc3RlclByb3ZpZGVyTmFtZShzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHN0cmluZz4pIHtcbiAgICAgIHN0YXRlLnJvc3RlclByb3ZpZGVyTmFtZSA9IGFjdGlvbi5wYXlsb2FkO1xuICAgIH0sXG4gICAgdXBkYXRlU2VjdGlvbkFpVHV0b3JFbmFibGVkKFxuICAgICAgc3RhdGUsXG4gICAgICBhY3Rpb246IFBheWxvYWRBY3Rpb248e1xuICAgICAgICBzZWN0aW9uSWQ6IG51bWJlcjtcbiAgICAgICAgYWlUdXRvckVuYWJsZWQ6IGJvb2xlYW47XG4gICAgICB9PlxuICAgICkge1xuICAgICAgY29uc3Qge3NlY3Rpb25JZCwgYWlUdXRvckVuYWJsZWR9ID0gYWN0aW9uLnBheWxvYWQ7XG5cbiAgICAgIHN0YXRlLnNlY3Rpb25zW3NlY3Rpb25JZF0uYWlUdXRvckVuYWJsZWQgPSBhaVR1dG9yRW5hYmxlZDtcbiAgICB9LFxuICAgIHNldENvdXJzZU9mZmVyaW5ncyhcbiAgICAgIHN0YXRlLFxuICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPEFzc2lnbm1lbnRDb3Vyc2VPZmZlcmluZ1tdPlxuICAgICkge1xuICAgICAgc3RhdGUuY291cnNlT2ZmZXJpbmdzID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICBzdGF0ZS5jb3Vyc2VPZmZlcmluZ3NBcmVMb2FkZWQgPSB0cnVlO1xuICAgIH0sXG4gICAgc2V0QXZhaWxhYmxlUGFydGljaXBhbnRUeXBlcyhzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHN0cmluZ1tdPikge1xuICAgICAgc3RhdGUuYXZhaWxhYmxlUGFydGljaXBhbnRUeXBlcyA9IGFjdGlvbi5wYXlsb2FkO1xuICAgIH0sXG4gICAgc2V0U2VjdGlvbkNvZGVSZXZpZXdFeHBpcmVzQXQ6IHtcbiAgICAgIHJlZHVjZXIoXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBhY3Rpb246IFBheWxvYWRBY3Rpb248e1xuICAgICAgICAgIHNlY3Rpb25JZDogbnVtYmVyO1xuICAgICAgICAgIGNvZGVSZXZpZXdFeHBpcmVzQXQ6IHN0cmluZztcbiAgICAgICAgfT5cbiAgICAgICkge1xuICAgICAgICBjb25zdCBzZWN0aW9uID0gc3RhdGUuc2VjdGlvbnNbYWN0aW9uLnBheWxvYWQuc2VjdGlvbklkXTtcbiAgICAgICAgaWYgKCFzZWN0aW9uKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZWN0aW9uIGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZS5zZWN0aW9uc1thY3Rpb24ucGF5bG9hZC5zZWN0aW9uSWRdLmNvZGVSZXZpZXdFeHBpcmVzQXQgPSBhY3Rpb25cbiAgICAgICAgICAucGF5bG9hZC5jb2RlUmV2aWV3RXhwaXJlc0F0XG4gICAgICAgICAgPyBEYXRlLnBhcnNlKGFjdGlvbi5wYXlsb2FkLmNvZGVSZXZpZXdFeHBpcmVzQXQpXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgfSxcbiAgICAgIHByZXBhcmUoc2VjdGlvbklkOiBudW1iZXIsIGNvZGVSZXZpZXdFeHBpcmVzQXQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIHNlY3Rpb25JZCxcbiAgICAgICAgICAgIGNvZGVSZXZpZXdFeHBpcmVzQXQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICByZW1vdmVTZWN0aW9uKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248bnVtYmVyPikge1xuICAgICAgY29uc3Qgc2VjdGlvbklkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICBjb25zdCBzZWN0aW9uID0gc3RhdGUuc2VjdGlvbnNbc2VjdGlvbklkXTtcbiAgICAgIGlmICghc2VjdGlvbikge1xuICAgICAgfVxuICAgICAgc3RhdGUuc2VjdGlvbklkcyA9IF8ud2l0aG91dChzdGF0ZS5zZWN0aW9uSWRzLCBzZWN0aW9uSWQpO1xuICAgICAgc3RhdGUuc3R1ZGVudFNlY3Rpb25JZHMgPSBfLndpdGhvdXQoc3RhdGUuc3R1ZGVudFNlY3Rpb25JZHMsIHNlY3Rpb25JZCk7XG4gICAgICBzdGF0ZS5wbFNlY3Rpb25JZHMgPSBfLndpdGhvdXQoc3RhdGUucGxTZWN0aW9uSWRzLCBzZWN0aW9uSWQpO1xuICAgICAgc3RhdGUuc2VjdGlvbnMgPSBfLm9taXQoc3RhdGUuc2VjdGlvbnMsIHNlY3Rpb25JZCk7XG4gICAgfSxcbiAgICBiZWdpbkNyZWF0aW5nU2VjdGlvbjoge1xuICAgICAgcmVkdWNlcihcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGFjdGlvbjogUGF5bG9hZEFjdGlvbjx7XG4gICAgICAgICAgY291cnNlT2ZmZXJpbmdJZD86IG51bWJlciB8IG51bGw7XG4gICAgICAgICAgY291cnNlVmVyc2lvbklkPzogbnVtYmVyIHwgbnVsbDtcbiAgICAgICAgICB1bml0SWQ/OiBudW1iZXIgfCBudWxsO1xuICAgICAgICAgIHBhcnRpY2lwYW50VHlwZT86IHN0cmluZztcbiAgICAgICAgfT5cbiAgICAgICkge1xuICAgICAgICBjb25zdCBpbml0aWFsU2VjdGlvbkRhdGEgPSBuZXdTZWN0aW9uRGF0YShcbiAgICAgICAgICBhY3Rpb24ucGF5bG9hZC5wYXJ0aWNpcGFudFR5cGVcbiAgICAgICAgKSBhcyBTZWN0aW9uO1xuICAgICAgICBpZiAoYWN0aW9uLnBheWxvYWQuY291cnNlT2ZmZXJpbmdJZCkge1xuICAgICAgICAgIGluaXRpYWxTZWN0aW9uRGF0YS5jb3Vyc2VPZmZlcmluZ0lkID0gYWN0aW9uLnBheWxvYWQuY291cnNlT2ZmZXJpbmdJZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aW9uLnBheWxvYWQuY291cnNlVmVyc2lvbklkKSB7XG4gICAgICAgICAgaW5pdGlhbFNlY3Rpb25EYXRhLmNvdXJzZVZlcnNpb25JZCA9IGFjdGlvbi5wYXlsb2FkLmNvdXJzZVZlcnNpb25JZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aW9uLnBheWxvYWQudW5pdElkKSB7XG4gICAgICAgICAgaW5pdGlhbFNlY3Rpb25EYXRhLnVuaXRJZCA9IGFjdGlvbi5wYXlsb2FkLnVuaXRJZDtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5pbml0aWFsQ291cnNlSWQgPSBpbml0aWFsU2VjdGlvbkRhdGEuY291cnNlSWQ7XG4gICAgICAgIHN0YXRlLmluaXRpYWxVbml0SWQgPSBpbml0aWFsU2VjdGlvbkRhdGEudW5pdElkO1xuICAgICAgICBzdGF0ZS5pbml0aWFsQ291cnNlT2ZmZXJpbmdJZCA9IGluaXRpYWxTZWN0aW9uRGF0YS5jb3Vyc2VPZmZlcmluZ0lkO1xuICAgICAgICBzdGF0ZS5pbml0aWFsQ291cnNlVmVyc2lvbklkID0gaW5pdGlhbFNlY3Rpb25EYXRhLmNvdXJzZVZlcnNpb25JZDtcbiAgICAgICAgc3RhdGUuaW5pdGlhbExvZ2luVHlwZSA9IGluaXRpYWxTZWN0aW9uRGF0YS5sb2dpblR5cGU7XG4gICAgICAgIHN0YXRlLmluaXRpYWxVbml0TmFtZSA9IGluaXRpYWxTZWN0aW9uRGF0YS51bml0TmFtZTtcbiAgICAgICAgc3RhdGUuc2VjdGlvbkJlaW5nRWRpdGVkID0gaW5pdGlhbFNlY3Rpb25EYXRhO1xuICAgICAgfSxcbiAgICAgIHByZXBhcmUoXG4gICAgICAgIGNvdXJzZU9mZmVyaW5nSWQ/OiBudW1iZXIsXG4gICAgICAgIGNvdXJzZVZlcnNpb25JZD86IG51bWJlcixcbiAgICAgICAgdW5pdElkPzogbnVtYmVyLFxuICAgICAgICBwYXJ0aWNpcGFudFR5cGU/OiBzdHJpbmdcbiAgICAgICkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIGNvdXJzZU9mZmVyaW5nSWQsXG4gICAgICAgICAgICBjb3Vyc2VWZXJzaW9uSWQsXG4gICAgICAgICAgICB1bml0SWQsXG4gICAgICAgICAgICBwYXJ0aWNpcGFudFR5cGUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBiZWdpbkVkaXRpbmdTZWN0aW9uOiB7XG4gICAgICByZWR1Y2VyKFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtzZWN0aW9uSWQ/OiBudW1iZXI7IHNpbGVudDogYm9vbGVhbn0+XG4gICAgICApIHtcbiAgICAgICAgY29uc3Qgc2lsZW50ID0gISFhY3Rpb24ucGF5bG9hZC5zaWxlbnQ7XG4gICAgICAgIGNvbnN0IGluaXRpYWxQYXJ0aWNpcGFudFR5cGUgPVxuICAgICAgICAgIHN0YXRlLmF2YWlsYWJsZVBhcnRpY2lwYW50VHlwZXMubGVuZ3RoID09PSAxXG4gICAgICAgICAgICA/IHN0YXRlLmF2YWlsYWJsZVBhcnRpY2lwYW50VHlwZXNbMF1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBpbml0aWFsU2VjdGlvbkRhdGE6IFNlY3Rpb24gPSBhY3Rpb24ucGF5bG9hZC5zZWN0aW9uSWRcbiAgICAgICAgICA/IHsuLi5zdGF0ZS5zZWN0aW9uc1thY3Rpb24ucGF5bG9hZC5zZWN0aW9uSWRdfVxuICAgICAgICAgIDogbmV3U2VjdGlvbkRhdGEoaW5pdGlhbFBhcnRpY2lwYW50VHlwZSk7XG4gICAgICAgIHN0YXRlLmluaXRpYWxDb3Vyc2VJZCA9IGluaXRpYWxTZWN0aW9uRGF0YS5jb3Vyc2VJZDtcbiAgICAgICAgc3RhdGUuaW5pdGlhbFVuaXRJZCA9IGluaXRpYWxTZWN0aW9uRGF0YS51bml0SWQ7XG4gICAgICAgIHN0YXRlLmluaXRpYWxDb3Vyc2VPZmZlcmluZ0lkID0gaW5pdGlhbFNlY3Rpb25EYXRhLmNvdXJzZU9mZmVyaW5nSWQ7XG4gICAgICAgIHN0YXRlLmluaXRpYWxDb3Vyc2VWZXJzaW9uSWQgPSBpbml0aWFsU2VjdGlvbkRhdGEuY291cnNlVmVyc2lvbklkO1xuICAgICAgICBzdGF0ZS5pbml0aWFsTG9naW5UeXBlID0gaW5pdGlhbFNlY3Rpb25EYXRhLmxvZ2luVHlwZTtcbiAgICAgICAgc3RhdGUuc2VjdGlvbkJlaW5nRWRpdGVkID0gaW5pdGlhbFNlY3Rpb25EYXRhO1xuICAgICAgICBzdGF0ZS5zaG93U2VjdGlvbkVkaXREaWFsb2cgPSAhc2lsZW50O1xuICAgICAgfSxcbiAgICAgIHByZXBhcmUoc2VjdGlvbklkID0gbnVsbCwgc2lsZW50ID0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBzZWN0aW9uSWQsXG4gICAgICAgICAgICBzaWxlbnQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBlZGl0U2VjdGlvblByb3BlcnRpZXMoc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxVc2VyRWRpdGFibGVTZWN0aW9uPikge1xuICAgICAgaWYgKCFzdGF0ZS5zZWN0aW9uQmVpbmdFZGl0ZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdDYW5ub3QgZWRpdCBzZWN0aW9uIHByb3BlcnRpZXM7IG5vIHNlY3Rpb24gaXMnICtcbiAgICAgICAgICAgICcgY3VycmVudGx5IGJlaW5nIGVkaXRlZC4nXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3Qga2V5IGluIGFjdGlvbi5wYXlsb2FkKSB7XG4gICAgICAgIGlmICghVVNFUl9FRElUQUJMRV9TRUNUSU9OX1BST1BTLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBlZGl0IHByb3BlcnR5ICR7a2V5fTsgaXQncyBub3QgYWxsb3dlZC5gKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBQTCBTZWN0aW9ucyBtdXN0IHVzZSBlbWFpbCBsb2dpbnMgYW5kIGl0cyBncmFkZSB2YWx1ZSBzaG91bGQgYmUgXCJwbFwiXG4gICAgICBpZiAoXG4gICAgICAgIGFjdGlvbi5wYXlsb2FkLnBhcnRpY2lwYW50VHlwZSAmJlxuICAgICAgICBhY3Rpb24ucGF5bG9hZC5wYXJ0aWNpcGFudFR5cGUgIT09IFBhcnRpY2lwYW50QXVkaWVuY2Uuc3R1ZGVudFxuICAgICAgKSB7XG4gICAgICAgIHN0YXRlLnNlY3Rpb25CZWluZ0VkaXRlZC5sb2dpblR5cGUgPSBTZWN0aW9uTG9naW5UeXBlLmVtYWlsO1xuICAgICAgICBzdGF0ZS5zZWN0aW9uQmVpbmdFZGl0ZWQuZ3JhZGVzID0gW1BsR3JhZGVWYWx1ZV07XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3Rpb24ucGF5bG9hZC51bml0SWQgJiYgYWN0aW9uLnBheWxvYWQubGVzc29uRXh0cmFzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3RhdGUuc2VjdGlvbkJlaW5nRWRpdGVkLmxlc3NvbkV4dHJhcyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgYWN0aW9uLnBheWxvYWQudW5pdElkICYmXG4gICAgICAgIGFjdGlvbi5wYXlsb2FkLnR0c0F1dG9wbGF5RW5hYmxlZCA9PT0gdW5kZWZpbmVkXG4gICAgICApIHtcbiAgICAgICAgc3RhdGUuc2VjdGlvbkJlaW5nRWRpdGVkLnR0c0F1dG9wbGF5RW5hYmxlZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBzdGF0ZS5zZWN0aW9uQmVpbmdFZGl0ZWQgPSB7XG4gICAgICAgIC4uLnN0YXRlLnNlY3Rpb25CZWluZ0VkaXRlZCxcbiAgICAgICAgLi4uYWN0aW9uLnBheWxvYWQsXG4gICAgICB9O1xuICAgIH0sXG4gICAgc3RhcnRTYXZlUmVxdWVzdChzdGF0ZSkge1xuICAgICAgc3RhdGUuc2F2ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgIH0sXG4gICAgZmluaXNoU2F2ZVJlcXVlc3QoXG4gICAgICBzdGF0ZSxcbiAgICAgIGFjdGlvbjogUGF5bG9hZEFjdGlvbjx7XG4gICAgICAgIHNlY3Rpb25JZDogbnVtYmVyO1xuICAgICAgICBzZXJ2ZXJTZWN0aW9uOiBTZXJ2ZXJTZWN0aW9uO1xuICAgICAgfT5cbiAgICApIHtcbiAgICAgIC8vIFdoZW4gdXBkYXRpbmcgYSBwZXJzaXN0ZWQgc2VjdGlvbiwgb2xkU2VjdGlvbklkIHdpbGwgYmUgaWRlbnRpY2FsIHRvXG4gICAgICAvLyBzZWN0aW9uLmlkLiBIb3dldmVyLCBpZiB0aGlzIGlzIGEgbmV3bHkgcGVyc2lzdGVkIHNlY3Rpb24sIG9sZFNlY3Rpb25JZFxuICAgICAgLy8gd2lsbCByZXByZXNlbnQgb3VyIHRlbXBvcmFyeSBzZWN0aW9uLiBJbiB0aGF0IGNhc2UsIHdlIHdhbnQgdG8gZGVsZXRlXG4gICAgICAvLyB0aGF0IHNlY3Rpb24sIGFuZCByZXBsYWNlIGl0IHdpdGggb3VyIG5ldyBvbmUuXG4gICAgICBjb25zdCBzZWN0aW9uID0gc2VjdGlvbkZyb21TZXJ2ZXJTZWN0aW9uKGFjdGlvbi5wYXlsb2FkLnNlcnZlclNlY3Rpb24pO1xuICAgICAgY29uc3Qgb2xkU2VjdGlvbklkID0gYWN0aW9uLnBheWxvYWQuc2VjdGlvbklkO1xuICAgICAgY29uc3QgaXNOZXdTZWN0aW9uID0gc2VjdGlvbi5pZCAhPT0gb2xkU2VjdGlvbklkO1xuXG4gICAgICBpZiAoaXNOZXdTZWN0aW9uKSB7XG4gICAgICAgIGlmIChzdGF0ZS5zZWN0aW9uSWRzLmluY2x1ZGVzKG9sZFNlY3Rpb25JZCkpIHtcbiAgICAgICAgICBzdGF0ZS5zZWN0aW9uSWRzID0gc3RhdGUuc2VjdGlvbklkcy5tYXAoaWQgPT5cbiAgICAgICAgICAgIGlkID09PSBvbGRTZWN0aW9uSWQgPyBzZWN0aW9uLmlkIDogaWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLnNlY3Rpb25JZHMgPSBbc2VjdGlvbi5pZCwgLi4uc3RhdGUuc2VjdGlvbklkc107XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZGVsZXRlIHN0YXRlLnNlY3Rpb25zW29sZFNlY3Rpb25JZF07XG4gICAgICBzdGF0ZS5zZWN0aW9uc1tzZWN0aW9uLmlkXSA9IHsuLi5zdGF0ZS5zZWN0aW9uc1tzZWN0aW9uLmlkXSwgLi4uc2VjdGlvbn07XG5cbiAgICAgIHN0YXRlLnN0dWRlbnRTZWN0aW9uSWRzID0gT2JqZWN0LnZhbHVlcyhzdGF0ZS5zZWN0aW9ucylcbiAgICAgICAgLmZpbHRlcihcbiAgICAgICAgICBzZWN0aW9uID0+IHNlY3Rpb24ucGFydGljaXBhbnRUeXBlID09PSBQYXJ0aWNpcGFudEF1ZGllbmNlLnN0dWRlbnRcbiAgICAgICAgKVxuICAgICAgICAubWFwKHNlY3Rpb24gPT4gc2VjdGlvbi5pZCk7XG4gICAgICBzdGF0ZS5wbFNlY3Rpb25JZHMgPSBPYmplY3QudmFsdWVzKHN0YXRlLnNlY3Rpb25zKVxuICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgIHNlY3Rpb24gPT4gc2VjdGlvbi5wYXJ0aWNpcGFudFR5cGUgIT09IFBhcnRpY2lwYW50QXVkaWVuY2Uuc3R1ZGVudFxuICAgICAgICApXG4gICAgICAgIC5tYXAoc2VjdGlvbiA9PiBzZWN0aW9uLmlkKTtcblxuICAgICAgaWYgKHNlY3Rpb24ubG9naW5UeXBlICE9PSBzdGF0ZS5pbml0aWFsTG9naW5UeXBlKSB7XG4gICAgICAgIGZpcmVob3NlQ2xpZW50LnB1dFJlY29yZChcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdHVkeTogJ3RlYWNoZXItZGFzaGJvYXJkJyxcbiAgICAgICAgICAgIHN0dWR5X2dyb3VwOiAnZWRpdC1zZWN0aW9uLWRldGFpbHMnLFxuICAgICAgICAgICAgZXZlbnQ6ICdjaGFuZ2UtbG9naW4tdHlwZScsXG4gICAgICAgICAgICBkYXRhX2pzb246IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgc2VjdGlvbklkOiBzZWN0aW9uLmlkLFxuICAgICAgICAgICAgICBpbml0aWFsTG9naW5UeXBlOiBzdGF0ZS5pbml0aWFsTG9naW5UeXBlLFxuICAgICAgICAgICAgICB1cGRhdGVkTG9naW5UeXBlOiBzZWN0aW9uLmxvZ2luVHlwZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge2luY2x1ZGVVc2VySWQ6IHRydWV9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFzc2lnbm1lbnREYXRhOiBBc3NpZ25tZW50RGF0YSA9IHtcbiAgICAgICAgc2VjdGlvbl9pZDogc2VjdGlvbi5pZCxcbiAgICAgICAgc2VjdGlvbl9jcmVhdGlvbl90aW1lc3RhbXA6IHNlY3Rpb24uY3JlYXRlZEF0LFxuICAgICAgICBwYWdlX25hbWU6IHN0YXRlLnBhZ2VUeXBlLFxuICAgICAgfTtcbiAgICAgIGlmIChzZWN0aW9uLnVuaXRJZCAhPT0gc3RhdGUuaW5pdGlhbFVuaXRJZCkge1xuICAgICAgICBhc3NpZ25tZW50RGF0YS51bml0X2lkID0gc2VjdGlvbi51bml0SWQ7XG4gICAgICB9XG4gICAgICBpZiAoc2VjdGlvbi5jb3Vyc2VJZCAhPT0gc3RhdGUuaW5pdGlhbENvdXJzZUlkKSB7XG4gICAgICAgIGFzc2lnbm1lbnREYXRhLmNvdXJzZV9pZCA9IHNlY3Rpb24uY291cnNlSWQ7XG4gICAgICB9XG4gICAgICBpZiAoc2VjdGlvbi5jb3Vyc2VPZmZlcmluZ0lkICE9PSBzdGF0ZS5pbml0aWFsQ291cnNlT2ZmZXJpbmdJZCkge1xuICAgICAgICBhc3NpZ25tZW50RGF0YS5jb3Vyc2Vfb2ZmZXJpbmdfaWQgPSBzZWN0aW9uLmNvdXJzZU9mZmVyaW5nSWQ7XG4gICAgICB9XG4gICAgICBpZiAoc2VjdGlvbi5jb3Vyc2VWZXJzaW9uSWQgIT09IHN0YXRlLmluaXRpYWxDb3Vyc2VWZXJzaW9uSWQpIHtcbiAgICAgICAgYXNzaWdubWVudERhdGEuY291cnNlX3ZlcnNpb25faWQgPSBzZWN0aW9uLmNvdXJzZVZlcnNpb25JZDtcbiAgICAgIH1cbiAgICAgIGlmIChzZWN0aW9uLnVuaXROYW1lICE9PSBzdGF0ZS5pbml0aWFsVW5pdE5hbWUpIHtcbiAgICAgICAgYXNzaWdubWVudERhdGEudW5pdE5hbWUgPSBzZWN0aW9uLnVuaXROYW1lO1xuICAgICAgfVxuICAgICAgLy8gSWYgZWl0aGVyIG9mIHRoZXNlIGhhcyBiZWVuIHNldCwgYXNzaWdubWVudCBjaGFuZ2VkIGFuZCBzaG91bGQgYmUgbG9nZ2VkXG4gICAgICBpZiAoYXNzaWdubWVudERhdGEudW5pdF9pZCB8fCBhc3NpZ25tZW50RGF0YS5jb3Vyc2VfaWQpIHtcbiAgICAgICAgZmlyZWhvc2VDbGllbnQucHV0UmVjb3JkKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0dWR5OiAnYXNzaWdubWVudCcsXG4gICAgICAgICAgICBzdHVkeV9ncm91cDogJ3YxJyxcbiAgICAgICAgICAgIGV2ZW50OiBpc05ld1NlY3Rpb24gPyAnY3JlYXRlX3NlY3Rpb24nIDogJ2VkaXRfc2VjdGlvbl9kZXRhaWxzJyxcbiAgICAgICAgICAgIGRhdGFfanNvbjogSlNPTi5zdHJpbmdpZnkoYXNzaWdubWVudERhdGEpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAge2luY2x1ZGVVc2VySWQ6IHRydWV9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHN0YXRlLnNlY3Rpb25CZWluZ0VkaXRlZCA9IG51bGw7XG4gICAgICBzdGF0ZS5zYXZlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIH0sXG4gICAgZmFpbFNhdmVSZXF1ZXN0KHN0YXRlKSB7XG4gICAgICBzdGF0ZS5zYXZlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIH0sXG4gICAgYmVnaW5Bc3luY0xvYWQoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmFzeW5jTG9hZENvbXBsZXRlID0gZmFsc2U7XG4gICAgfSxcbiAgICBlbmRBc3luY0xvYWQoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmFzeW5jTG9hZENvbXBsZXRlID0gdHJ1ZTtcbiAgICB9LFxuICAgIGNhbmNlbEVkaXRpbmdTZWN0aW9uKHN0YXRlKSB7XG4gICAgICBzdGF0ZS5zZWN0aW9uQmVpbmdFZGl0ZWQgPSBudWxsO1xuICAgIH0sXG4gICAgc2V0Q290ZWFjaGVySW52aXRlKFxuICAgICAgc3RhdGUsXG4gICAgICBhY3Rpb246IFBheWxvYWRBY3Rpb248U2VjdGlvbkluc3RydWN0b3IgfCB1bmRlZmluZWQ+XG4gICAgKSB7XG4gICAgICBzdGF0ZS5jb3RlYWNoZXJJbnZpdGUgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICB9LFxuICAgIHNldENvdGVhY2hlckludml0ZUZvclBsKFxuICAgICAgc3RhdGUsXG4gICAgICBhY3Rpb246IFBheWxvYWRBY3Rpb248U2VjdGlvbkluc3RydWN0b3IgfCB1bmRlZmluZWQ+XG4gICAgKSB7XG4gICAgICBzdGF0ZS5jb3RlYWNoZXJJbnZpdGVGb3JQbCA9IGFjdGlvbi5wYXlsb2FkO1xuICAgIH0sXG4gICAgYmVnaW5JbXBvcnRSb3N0ZXJGbG93KHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc1Jvc3RlckRpYWxvZ09wZW4gPSB0cnVlO1xuICAgICAgc3RhdGUuY2xhc3Nyb29tcyA9IG51bGw7XG4gICAgfSxcbiAgICBpbXBvcnRSb3N0ZXJGbG93TGlzdExvYWRlZChzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPENsYXNzcm9vbVtdPikge1xuICAgICAgc3RhdGUuY2xhc3Nyb29tcyA9IGFjdGlvbi5wYXlsb2FkO1xuICAgIH0sXG4gICAgY2FuY2VsSW1wb3J0Um9zdGVyRmxvdyhzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNSb3N0ZXJEaWFsb2dPcGVuID0gZmFsc2U7XG4gICAgICBzdGF0ZS5yb3N0ZXJQcm92aWRlciA9IG51bGw7XG4gICAgICBzdGF0ZS5jbGFzc3Jvb21zID0gbnVsbDtcbiAgICB9LFxuICAgIHJvc3RlckltcG9ydEZhaWxlZChcbiAgICAgIHN0YXRlLFxuICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtzdGF0dXM6IG51bWJlcjsgbWVzc2FnZTogc3RyaW5nfT5cbiAgICApIHtcbiAgICAgIHN0YXRlLmxvYWRFcnJvciA9IHtcbiAgICAgICAgc3RhdHVzOiBhY3Rpb24ucGF5bG9hZC5zdGF0dXMsXG4gICAgICAgIG1lc3NhZ2U6IGFjdGlvbi5wYXlsb2FkLm1lc3NhZ2UsXG4gICAgICB9O1xuICAgIH0sXG4gICAgcm9zdGVySW1wb3J0UmVxdWVzdChzdGF0ZSkge1xuICAgICAgc3RhdGUuY2xhc3Nyb29tcyA9IG51bGw7XG4gICAgfSxcbiAgICByb3N0ZXJJbXBvcnRTdWNjZXNzKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248bnVtYmVyPikge1xuICAgICAgc3RhdGUuaXNSb3N0ZXJEaWFsb2dPcGVuID0gZmFsc2U7XG4gICAgICBzdGF0ZS5zZWN0aW9uQmVpbmdFZGl0ZWQgPSB7XG4gICAgICAgIC4uLnN0YXRlLnNlY3Rpb25zW2FjdGlvbi5wYXlsb2FkXSxcbiAgICAgICAgLy8gZXhwbGljaXRseSB1bmhpZGUgYWZ0ZXIgaW1wb3J0aW5nXG4gICAgICAgIGhpZGRlbjogZmFsc2UsXG4gICAgICB9O1xuICAgIH0sXG4gICAgbHRpUm9zdGVySW1wb3J0U3VjY2VzcyhzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPEx0aVNlY3Rpb25TeW5jUmVzdWx0Pikge1xuICAgICAgc3RhdGUubHRpU3luY1Jlc3VsdCA9IGFjdGlvbi5wYXlsb2FkO1xuICAgIH0sXG4gIH0sXG59KTtcblxuLyoqIEBjb25zdCBBIGZldyBjb25zdGFudHMgZXhwb3NlZCBmb3IgdW5pdCB0ZXN0IHNldHVwICovXG5leHBvcnQgY29uc3QgX190ZXN0SW50ZXJmYWNlX18gPSB7XG4gIEVESVRfU0VDVElPTl9SRVFVRVNUOiAndGVhY2hlclNlY3Rpb25zL3N0YXJ0U2F2ZVJlcXVlc3QnLFxuICBFRElUX1NFQ1RJT05fU1VDQ0VTUzogJ3RlYWNoZXJTZWN0aW9ucy9maW5pc2hTYXZlUmVxdWVzdCcsXG4gIElNUE9SVF9ST1NURVJfRkxPV19CRUdJTjogJ3RlYWNoZXJTZWN0aW9ucy9iZWdpbkltcG9ydFJvc3RlckZsb3cnLFxuICBJTVBPUlRfUk9TVEVSX0ZMT1dfTElTVF9MT0FERUQ6ICd0ZWFjaGVyU2VjdGlvbnMvaW1wb3J0Um9zdGVyRmxvd0xpc3RMb2FkZWQnLFxuICBQRU5ESU5HX05FV19TRUNUSU9OX0lEOiAtMSxcbiAgVVNFUl9FRElUQUJMRV9TRUNUSU9OX1BST1BTLFxufTtcblxuLy9UaHVua3NcbnR5cGUgU2VjdGlvblRodW5rQWN0aW9uID0gVGh1bmtBY3Rpb248dm9pZCwgUm9vdFN0YXRlLCB1bmRlZmluZWQsIEFueUFjdGlvbj47XG5cbi8qKlxuICogQ2hhbmdlcyB0aGUgaGlkZGVuIHN0YXRlIG9mIGEgZ2l2ZW4gc2VjdGlvbiwgcGVyc2lzdGluZyB0aGVzZSBjaGFuZ2VzIHRvIHRoZVxuICogc2VydmVyXG4gKiBAcGFyYW0ge251bWJlcn0gc2VjdGlvbklkXG4gKi9cbmV4cG9ydCBjb25zdCB0b2dnbGVTZWN0aW9uSGlkZGVuID1cbiAgKHNlY3Rpb25JZDogbnVtYmVyKTogU2VjdGlvblRodW5rQWN0aW9uID0+XG4gIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBkaXNwYXRjaChiZWdpbkVkaXRpbmdTZWN0aW9uKHNlY3Rpb25JZCwgdHJ1ZSkpO1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKS50ZWFjaGVyU2VjdGlvbnM7XG4gICAgY29uc3QgY3VycmVudGx5SGlkZGVuID0gc3RhdGUuc2VjdGlvbnNbc2VjdGlvbklkXS5oaWRkZW47XG4gICAgZGlzcGF0Y2goZWRpdFNlY3Rpb25Qcm9wZXJ0aWVzKHtoaWRkZW46ICFjdXJyZW50bHlIaWRkZW59KSk7XG5cbiAgICAvLyBUcmFjayBhcmNoaXZlL3Jlc3RvcmUgc2VjdGlvbiBhY3Rpb25cbiAgICBmaXJlaG9zZUNsaWVudC5wdXRSZWNvcmQoe1xuICAgICAgc3R1ZHk6ICd0ZWFjaGVyX2Rhc2hib2FyZF9hY3Rpb25zJyxcbiAgICAgIHN0dWR5X2dyb3VwOiAndG9nZ2xlU2VjdGlvbkhpZGRlbicsXG4gICAgICBldmVudDogY3VycmVudGx5SGlkZGVuID8gJ3Jlc3RvcmVTZWN0aW9uJyA6ICdhcmNoaXZlU2VjdGlvbicsXG4gICAgICBkYXRhX2pzb246IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgc2VjdGlvbl9pZDogc2VjdGlvbklkLFxuICAgICAgfSksXG4gICAgfSk7XG4gICAgcmV0dXJuIGRpc3BhdGNoKGZpbmlzaEVkaXRpbmdTZWN0aW9uKCkpO1xuICB9O1xuXG5jb25zdCBzdWJtaXRFZGl0aW5nU2VjdGlvbiA9IChcbiAgZGlzcGF0Y2g6IFRodW5rRGlzcGF0Y2g8XG4gICAge3RlYWNoZXJTZWN0aW9uczogVGVhY2hlclNlY3Rpb25TdGF0ZX0sXG4gICAgdW5kZWZpbmVkLFxuICAgIEFueUFjdGlvblxuICA+LFxuICBnZXRTdGF0ZTogKCkgPT4gUm9vdFN0YXRlXG4pID0+IHtcbiAgZGlzcGF0Y2goc3RhcnRTYXZlUmVxdWVzdCgpKTtcbiAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpLnRlYWNoZXJTZWN0aW9ucztcbiAgY29uc3Qgc2VjdGlvbiA9IHN0YXRlLnNlY3Rpb25CZWluZ0VkaXRlZDtcblxuICBpZiAoIXNlY3Rpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlY3Rpb24gZG9lcyBub3QgZXhpc3QnKTtcbiAgfVxuXG4gIGlmIChpc0FkZGluZ1NlY3Rpb24oc3RhdGUpKSB7XG4gICAgcmV0dXJuICQuYWpheCh7XG4gICAgICB1cmw6ICcvZGFzaGJvYXJkYXBpL3NlY3Rpb25zJyxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoc2VydmVyU2VjdGlvbkZyb21TZWN0aW9uKHNlY3Rpb24pKSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJC5hamF4KHtcbiAgICAgIHVybDogYC9kYXNoYm9hcmRhcGkvc2VjdGlvbnMvJHtzZWN0aW9uLmlkfWAsXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShzZXJ2ZXJTZWN0aW9uRnJvbVNlY3Rpb24oc2VjdGlvbikpLFxuICAgIH0pO1xuICB9XG59O1xuXG4vKipcbiAqIFN1Ym1pdCBzdGFnZWQgc2VjdGlvbiBjaGFuZ2VzIHRvIHRoZSBzZXJ2ZXIuXG4gKiBDbG9zZXMgVUkgYW5kIHVwZGF0ZXMgc2VjdGlvbiB0YWJsZSBvbiBzdWNjZXNzLlxuICovXG5leHBvcnQgY29uc3QgZmluaXNoRWRpdGluZ1NlY3Rpb24gPVxuICAoKTogU2VjdGlvblRodW5rQWN0aW9uID0+IChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCkudGVhY2hlclNlY3Rpb25zO1xuICAgIGNvbnN0IHNlY3Rpb24gPSBzdGF0ZS5zZWN0aW9uQmVpbmdFZGl0ZWQ7XG5cbiAgICBpZiAoIXNlY3Rpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignc2VjdGlvbiBkb2VzIG5vdCBleGlzdCcpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzdWJtaXRFZGl0aW5nU2VjdGlvbihkaXNwYXRjaCwgZ2V0U3RhdGUpXG4gICAgICAgIC5kb25lKHJlc3VsdCA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICBmaW5pc2hTYXZlUmVxdWVzdCh7XG4gICAgICAgICAgICAgIHNlY3Rpb25JZDogc2VjdGlvbi5pZCxcbiAgICAgICAgICAgICAgc2VydmVyU2VjdGlvbjogcmVzdWx0LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZhaWwoKGpxWGhyOiBvYmplY3QsIHN0YXR1czogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goZmFpbFNhdmVSZXF1ZXN0KCkpO1xuICAgICAgICAgIHJlamVjdChzdGF0dXMpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuLyoqXG4gKiBSZW1vdmVzIGEgc2VjdGlvbiBvciB0aHJvd3MgYW4gZXJyb3IgaWYgdGhlIHNlY3Rpb24gZG9lcyBub3QgZXhpc3QuXG4gKi9cbmV4cG9ydCBjb25zdCByZW1vdmVTZWN0aW9uT3JUaHJvdyA9XG4gIChzZWN0aW9uSWQ6IG51bWJlcik6IFNlY3Rpb25UaHVua0FjdGlvbiA9PlxuICAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpLnRlYWNoZXJTZWN0aW9ucztcblxuICAgIGlmIChzdGF0ZS5zZWN0aW9uc1tzZWN0aW9uSWRdKSB7XG4gICAgICBkaXNwYXRjaChyZW1vdmVTZWN0aW9uKHNlY3Rpb25JZCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlY3Rpb24gZG9lcyBub3QgZXhpc3QnKTtcbiAgICB9XG4gIH07XG5cbnR5cGUgUGFydGljaXBhbnRUeXBlc1Jlc3BvbnNlID0ge1xuICBhdmFpbGFibGVQYXJ0aWNpcGFudFR5cGVzOiBzdHJpbmdbXTtcbn07XG5cbmV4cG9ydCBjb25zdCBhc3luY0xvYWRTZWN0aW9uRGF0YSA9XG4gIChpZDogbnVtYmVyIHwgdm9pZCk6IFNlY3Rpb25UaHVua0FjdGlvbiA9PlxuICBkaXNwYXRjaCA9PiB7XG4gICAgZGlzcGF0Y2goYmVnaW5Bc3luY0xvYWQoKSk7XG5cbiAgICBjb25zdCBwcm9taXNlczogUHJvbWlzZTxvYmplY3Q+W10gPSBbXG4gICAgICBmZXRjaEpTT04oJy9kYXNoYm9hcmRhcGkvc2VjdGlvbnMnKS50aGVuKHNlY3Rpb25zID0+XG4gICAgICAgIGRpc3BhdGNoKHNldFNlY3Rpb25zKHNlY3Rpb25zIGFzIFNlcnZlclNlY3Rpb25bXSkpXG4gICAgICApLFxuICAgICAgZmV0Y2hKU09OKCcvZGFzaGJvYXJkYXBpL3NlY3Rpb25zL3ZhbGlkX2NvdXJzZV9vZmZlcmluZ3MnKS50aGVuKFxuICAgICAgICBvZmZlcmluZ3MgPT5cbiAgICAgICAgICBkaXNwYXRjaChzZXRDb3Vyc2VPZmZlcmluZ3Mob2ZmZXJpbmdzIGFzIEFzc2lnbm1lbnRDb3Vyc2VPZmZlcmluZ1tdKSlcbiAgICAgICksXG4gICAgICBmZXRjaEpTT04oJy9kYXNoYm9hcmRhcGkvc2VjdGlvbnMvYXZhaWxhYmxlX3BhcnRpY2lwYW50X3R5cGVzJykudGhlbihcbiAgICAgICAgcGFydGljaXBhbnRUeXBlcyA9PlxuICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgc2V0QXZhaWxhYmxlUGFydGljaXBhbnRUeXBlcyhcbiAgICAgICAgICAgICAgKHBhcnRpY2lwYW50VHlwZXMgYXMgUGFydGljaXBhbnRUeXBlc1Jlc3BvbnNlKVxuICAgICAgICAgICAgICAgIC5hdmFpbGFibGVQYXJ0aWNpcGFudFR5cGVzXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgKSxcbiAgICBdO1xuXG4gICAgLy8gSWYgc2VjdGlvbiBpZCBpcyBwcm92aWRlZCwgbG9hZCBzdHVkZW50cyBmb3IgdGhlIGN1cnJlbnQgc2VjdGlvbi5cbiAgICBpZiAoaWQpIHtcbiAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgIGZldGNoSlNPTihgL2Rhc2hib2FyZGFwaS9zZWN0aW9ucy8ke2lkfS9zdHVkZW50c2ApLnRoZW4oc3R1ZGVudHMgPT5cbiAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIHNldFN0dWRlbnRzRm9yQ3VycmVudFNlY3Rpb24oaWQsIHN0dWRlbnRzIGFzIFNlcnZlclN0dWRlbnRbXSlcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goZW5kQXN5bmNMb2FkKCkpO1xuICAgICAgfSk7XG4gIH07XG5cbmZ1bmN0aW9uIGZldGNoSlNPTih1cmw6IHN0cmluZywgcGFyYW1zPzogb2JqZWN0KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgJC5nZXRKU09OKHVybCwgcGFyYW1zKVxuICAgICAgLmRvbmUocmVzb2x2ZSlcbiAgICAgIC5mYWlsKGpxeGhyID0+XG4gICAgICAgIHJlamVjdChcbiAgICAgICAgICBuZXcgRXJyb3IoYFxuICAgICAgICB1cmw6ICR7dXJsfVxuICAgICAgICBzdGF0dXM6ICR7anF4aHIuc3RhdHVzfVxuICAgICAgICBzdGF0dXNUZXh0OiAke2pxeGhyLnN0YXR1c1RleHR9XG4gICAgICAgIHJlc3BvbnNlVGV4dDogJHtqcXhoci5yZXNwb25zZVRleHR9XG4gICAgICBgKVxuICAgICAgICApXG4gICAgICApO1xuICB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IGFzeW5jTG9hZENvdGVhY2hlckludml0ZSA9ICgpOiBTZWN0aW9uVGh1bmtBY3Rpb24gPT4gZGlzcGF0Y2ggPT4ge1xuICBmZXRjaEpTT04oJy9hcGkvdjEvc2VjdGlvbl9pbnN0cnVjdG9ycycpXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgY29uc3Qgc2VjdGlvbkluc3RydWN0b3JzID0gcmVzcG9uc2UgYXMgU2VjdGlvbkluc3RydWN0b3JbXTtcbiAgICAgIGNvbnN0IGNvdGVhY2hlckludml0ZUZvclBsID0gc2VjdGlvbkluc3RydWN0b3JzLmZpbmQoaW5zdHJ1Y3Rvckludml0ZSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgaW5zdHJ1Y3Rvckludml0ZS5zdGF0dXMgPT09ICdpbnZpdGVkJyAmJlxuICAgICAgICAgIGluc3RydWN0b3JJbnZpdGUucGFydGljaXBhbnRfdHlwZSAhPT0gJ3N0dWRlbnQnXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGNvdGVhY2hlckludml0ZUZvckNsYXNzcm9vbXMgPSBzZWN0aW9uSW5zdHJ1Y3RvcnMuZmluZChcbiAgICAgICAgaW5zdHJ1Y3Rvckludml0ZSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGluc3RydWN0b3JJbnZpdGUuc3RhdHVzID09PSAnaW52aXRlZCcgJiZcbiAgICAgICAgICAgIGluc3RydWN0b3JJbnZpdGUucGFydGljaXBhbnRfdHlwZSA9PT0gJ3N0dWRlbnQnXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgZGlzcGF0Y2goc2V0Q290ZWFjaGVySW52aXRlKGNvdGVhY2hlckludml0ZUZvckNsYXNzcm9vbXMpKTtcbiAgICAgIGRpc3BhdGNoKHNldENvdGVhY2hlckludml0ZUZvclBsKGNvdGVhY2hlckludml0ZUZvclBsKSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBBc3NpZ25zIGEgY291cnNlIHRvIGEgZ2l2ZW4gc2VjdGlvbiwgcGVyc2lzdGluZyB0aGVzZSBjaGFuZ2VzIHRvXG4gKiB0aGUgc2VydmVyXG4gKiBAcGFyYW0ge251bWJlcn0gc2VjdGlvbklkXG4gKiBAcGFyYW0ge251bWJlcn0gY291cnNlSWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3Vyc2VPZmZlcmluZ0lkXG4gKiBAcGFyYW0ge251bWJlcn0gY291cnNlVmVyc2lvbklkXG4gKiBAcGFyYW0ge251bWJlcn0gdW5pdElkXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFnZVR5cGVcbiAqL1xuZXhwb3J0IGNvbnN0IGFzc2lnblRvU2VjdGlvbiA9IChcbiAgc2VjdGlvbklkOiBudW1iZXIsXG4gIGNvdXJzZUlkOiBudW1iZXIsXG4gIGNvdXJzZU9mZmVyaW5nSWQ6IG51bWJlcixcbiAgY291cnNlVmVyc2lvbklkOiBudW1iZXIsXG4gIHVuaXRJZDogbnVtYmVyLFxuICBwYWdlVHlwZTogc3RyaW5nXG4pOiBTZWN0aW9uVGh1bmtBY3Rpb24gPT4ge1xuICBmaXJlaG9zZUNsaWVudC5wdXRSZWNvcmQoXG4gICAge1xuICAgICAgc3R1ZHk6ICdhc3NpZ25tZW50JyxcbiAgICAgIGV2ZW50OiAnY291cnNlLWFzc2lnbmVkLXRvLXNlY3Rpb24nLFxuICAgICAgZGF0YV9qc29uOiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAge1xuICAgICAgICAgIHNlY3Rpb25JZCxcbiAgICAgICAgICB1bml0SWQsXG4gICAgICAgICAgY291cnNlSWQsXG4gICAgICAgICAgZGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlTnVsbFZhbHVlc1xuICAgICAgKSxcbiAgICB9LFxuICAgIHtpbmNsdWRlVXNlcklkOiB0cnVlfVxuICApO1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHNlY3Rpb24gPSBnZXRTdGF0ZSgpLnRlYWNoZXJTZWN0aW9ucy5zZWN0aW9uc1tzZWN0aW9uSWRdO1xuICAgIC8vIE9ubHkgbG9nIGlmIHRoZSBhc3NpZ25tZW50IGlzIGNoYW5naW5nLlxuICAgIC8vIFdlIG5lZWQgYW4gT1IgaGVyZSBiZWNhdXNlIHVuaXRJZCB3aWxsIGJlIG51bGwgZm9yIHN0YW5kYWxvbmUgdW5pdHNcbiAgICBpZiAoXG4gICAgICAoY291cnNlT2ZmZXJpbmdJZCAmJiBzZWN0aW9uLmNvdXJzZU9mZmVyaW5nSWQgIT09IGNvdXJzZU9mZmVyaW5nSWQpIHx8XG4gICAgICAoY291cnNlVmVyc2lvbklkICYmIHNlY3Rpb24uY291cnNlVmVyc2lvbklkICE9PSBjb3Vyc2VWZXJzaW9uSWQpIHx8XG4gICAgICAodW5pdElkICYmIHNlY3Rpb24udW5pdElkICE9PSB1bml0SWQpXG4gICAgKSB7XG4gICAgICBhbmFseXRpY3NSZXBvcnRlci5zZW5kRXZlbnQoXG4gICAgICAgIEVWRU5UUy5DVVJSSUNVTFVNX0FTU0lHTkVELFxuICAgICAgICB7XG4gICAgICAgICAgc2VjdGlvbk5hbWU6IHNlY3Rpb24ubmFtZSxcbiAgICAgICAgICBzZWN0aW9uSWQsXG4gICAgICAgICAgc2VjdGlvbkxvZ2luVHlwZTogc2VjdGlvbi5sb2dpblR5cGUsXG4gICAgICAgICAgcHJldmlvdXNVbml0SWQ6IHNlY3Rpb24udW5pdElkLFxuICAgICAgICAgIHByZXZpb3VzQ291cnNlSWQ6IHNlY3Rpb24uY291cnNlT2ZmZXJpbmdJZCxcbiAgICAgICAgICBwcmV2aW91c0NvdXJzZVZlcnNpb25JZDogc2VjdGlvbi5jb3Vyc2VWZXJzaW9uSWQsXG4gICAgICAgICAgbmV3VW5pdElkOiB1bml0SWQsXG4gICAgICAgICAgbmV3Q291cnNlSWQ6IGNvdXJzZU9mZmVyaW5nSWQsXG4gICAgICAgICAgbmV3Q291cnNlVmVyc2lvbklkOiBjb3Vyc2VWZXJzaW9uSWQsXG4gICAgICAgIH0sXG4gICAgICAgIFBMQVRGT1JNUy5CT1RIXG4gICAgICApO1xuICAgIH1cblxuICAgIGRpc3BhdGNoKGJlZ2luRWRpdGluZ1NlY3Rpb24oc2VjdGlvbklkLCB0cnVlKSk7XG4gICAgZGlzcGF0Y2goXG4gICAgICBlZGl0U2VjdGlvblByb3BlcnRpZXMoe1xuICAgICAgICBjb3Vyc2VJZDogY291cnNlSWQsXG4gICAgICAgIGNvdXJzZU9mZmVyaW5nSWQ6IGNvdXJzZU9mZmVyaW5nSWQsXG4gICAgICAgIGNvdXJzZVZlcnNpb25JZDogY291cnNlVmVyc2lvbklkLFxuICAgICAgICB1bml0SWQ6IHVuaXRJZCxcbiAgICAgIH0pXG4gICAgKTtcbiAgICByZXR1cm4gZGlzcGF0Y2goZmluaXNoRWRpdGluZ1NlY3Rpb24oKSk7XG4gIH07XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYXNzaWdubWVudHMgZnJvbSB0aGUgZ2l2ZW4gc2VjdGlvbiwgcGVyc2lzdGluZyB0aGVzZSBjaGFuZ2VzIHRvXG4gKiB0aGUgc2VydmVyXG4gKiBAcGFyYW0ge251bWJlcn0gc2VjdGlvbklkXG4gKi9cbmV4cG9ydCBjb25zdCB1bmFzc2lnblNlY3Rpb24gPVxuICAoc2VjdGlvbklkOiBudW1iZXIsIGxvY2F0aW9uOiBzdHJpbmcpOiBTZWN0aW9uVGh1bmtBY3Rpb24gPT5cbiAgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGRpc3BhdGNoKGJlZ2luRWRpdGluZ1NlY3Rpb24oc2VjdGlvbklkLCB0cnVlKSk7XG4gICAgY29uc3Qge2luaXRpYWxDb3Vyc2VJZCwgaW5pdGlhbFVuaXRJZH0gPSBnZXRTdGF0ZSgpLnRlYWNoZXJTZWN0aW9ucztcblxuICAgIGRpc3BhdGNoKFxuICAgICAgZWRpdFNlY3Rpb25Qcm9wZXJ0aWVzKHtcbiAgICAgICAgY291cnNlSWQ6IG51bGwsXG4gICAgICAgIGNvdXJzZU9mZmVyaW5nSWQ6IG51bGwsXG4gICAgICAgIGNvdXJzZVZlcnNpb25JZDogbnVsbCxcbiAgICAgICAgdW5pdElkOiBudWxsLFxuICAgICAgfSlcbiAgICApO1xuICAgIGZpcmVob3NlQ2xpZW50LnB1dFJlY29yZChcbiAgICAgIHtcbiAgICAgICAgc3R1ZHk6ICdhc3NpZ25tZW50JyxcbiAgICAgICAgZXZlbnQ6ICdjb3Vyc2UtdW5hc3NpZ25lZC1mcm9tLXNlY3Rpb24nLFxuICAgICAgICBkYXRhX2pzb246IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNlY3Rpb25JZCxcbiAgICAgICAgICAgIHNjcmlwdElkOiBpbml0aWFsVW5pdElkLFxuICAgICAgICAgICAgY291cnNlSWQ6IGluaXRpYWxDb3Vyc2VJZCxcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgIGRhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW1vdmVOdWxsVmFsdWVzXG4gICAgICAgICksXG4gICAgICB9LFxuICAgICAge2luY2x1ZGVVc2VySWQ6IHRydWV9XG4gICAgKTtcbiAgICByZXR1cm4gZGlzcGF0Y2goZmluaXNoRWRpdGluZ1NlY3Rpb24oKSk7XG4gIH07XG5cbi8qKlxuICogUmVtb3ZlcyBudWxsIHZhbHVlcyBmcm9tIHN0cmluZ2lmaWVkIG9iamVjdCBiZWZvcmUgc2VuZGluZyBmaXJlaG9zZSByZWNvcmRcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTnVsbFZhbHVlcyhrZXk6IHN0cmluZywgdmFsPzogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCkge1xuICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gdmFsO1xufVxuXG4vKiogQGNvbnN0IHtPYmplY3R9IE1hcCBvYXV0aCBzZWN0aW9uIHR5cGUgdG8gcmVsYXRpdmUgXCJsaXN0IHJvc3RlcnNcIiBVUkwuICovXG5jb25zdCB1cmxCeVByb3ZpZGVyOiB7W2tleTogc3RyaW5nXTogc3RyaW5nfSA9IHtcbiAgW09BdXRoU2VjdGlvblR5cGVzLmdvb2dsZV9jbGFzc3Jvb21dOiAnL2Rhc2hib2FyZGFwaS9nb29nbGVfY2xhc3Nyb29tcycsXG4gIFtPQXV0aFNlY3Rpb25UeXBlcy5jbGV2ZXJdOiAnL2Rhc2hib2FyZGFwaS9jbGV2ZXJfY2xhc3Nyb29tcycsXG59IGFzIGNvbnN0O1xuXG4vKipcbiAqIFN0YXJ0IHRoZSBwcm9jZXNzIG9mIGltcG9ydGluZyBhIHNlY3Rpb24gZnJvbSBhIHRoaXJkLXBhcnR5IHByb3ZpZGVyXG4gKiAobGlrZSBHb29nbGUgQ2xhc3Nyb29tIG9yIENsZXZlcikgYnkgb3BlbmluZyB0aGUgUm9zdGVyRGlhbG9nIGFuZFxuICogbG9hZGluZyB0aGUgbGlzdCBvZiBjbGFzc3Jvb21zIGF2YWlsYWJsZSBmb3IgaW1wb3J0LlxuICovXG5leHBvcnQgY29uc3QgYmVnaW5JbXBvcnRSb3N0ZXJGbG93ID1cbiAgKCk6IFNlY3Rpb25UaHVua0FjdGlvbiA9PiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpLnRlYWNoZXJTZWN0aW9ucztcbiAgICBjb25zdCBwcm92aWRlciA9IHN0YXRlLnJvc3RlclByb3ZpZGVyO1xuICAgIGlmICghcHJvdmlkZXIgfHwgIU9iamVjdC5rZXlzKHVybEJ5UHJvdmlkZXIpLmluY2x1ZGVzKHByb3ZpZGVyKSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBuZXcgRXJyb3IoJ1VuYWJsZSB0byBiZWdpbiBpbXBvcnQgcm9zdGVyIGZsb3cgd2l0aG91dCBhIHByb3ZpZGVyJylcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLmlzUm9zdGVyRGlhbG9nT3Blbikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGRpc3BhdGNoKHNlY3Rpb25TbGljZS5hY3Rpb25zLmJlZ2luSW1wb3J0Um9zdGVyRmxvdygpKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdXJsID0gdXJsQnlQcm92aWRlcltwcm92aWRlcl0gYXMgc3RyaW5nO1xuICAgICAgJC5hamF4KHVybClcbiAgICAgICAgLmRvbmUocmVzcG9uc2UgPT4ge1xuICAgICAgICAgIGRpc3BhdGNoKGltcG9ydFJvc3RlckZsb3dMaXN0TG9hZGVkKHJlc3BvbnNlLmNvdXJzZXMgfHwgW10pKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5mYWlsKHJlc3VsdCA9PiB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHJlc3VsdC5yZXNwb25zZUpTT05cbiAgICAgICAgICAgID8gcmVzdWx0LnJlc3BvbnNlSlNPTi5lcnJvclxuICAgICAgICAgICAgOiAnVW5rbm93biBlcnJvci4nO1xuICAgICAgICAgIGRpc3BhdGNoKHJvc3RlckltcG9ydEZhaWxlZCh7c3RhdHVzOiByZXN1bHQuc3RhdHVzLCBtZXNzYWdlfSkpO1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IobWVzc2FnZSkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuLyoqIEBjb25zdCB7T2JqZWN0fSBNYXAgb2F1dGggc2VjdGlvbiB0eXBlIHRvIHJlbGF0aXZlIGltcG9ydCBVUkwuICovXG5jb25zdCBpbXBvcnRVcmxCeVByb3ZpZGVyOiB7W2tleTogc3RyaW5nXTogc3RyaW5nfSA9IHtcbiAgW09BdXRoU2VjdGlvblR5cGVzLmdvb2dsZV9jbGFzc3Jvb21dOiAnL2Rhc2hib2FyZGFwaS9pbXBvcnRfZ29vZ2xlX2NsYXNzcm9vbScsXG4gIFtPQXV0aFNlY3Rpb25UeXBlcy5jbGV2ZXJdOiAnL2Rhc2hib2FyZGFwaS9pbXBvcnRfY2xldmVyX2NsYXNzcm9vbScsXG4gIFtTZWN0aW9uTG9naW5UeXBlLmx0aV92MV06ICcvbHRpL3YxL3N5bmNfY291cnNlJyxcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogSW1wb3J0IHRoZSBjb3Vyc2Ugd2l0aCB0aGUgZ2l2ZW4gY291cnNlSWQgZnJvbSBhIHRoaXJkLXBhcnR5IHByb3ZpZGVyXG4gKiAobGlrZSBHb29nbGUgQ2xhc3Nyb29tIG9yIENsZXZlciksIGNyZWF0aW5nIGEgbmV3IHNlY3Rpb24uIElmIHRoZSBjb3Vyc2VcbiAqIGluIHF1ZXN0aW9uIGhhcyBhbHJlYWR5IGJlZW4gaW1wb3J0ZWQsIHVwZGF0ZSB0aGUgZXhpc3Rpbmcgc2VjdGlvbiBhbHJlYWR5XG4gKiBhc3NvY2lhdGVkIHdpdGggaXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gY291cnNlSWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb3Vyc2VOYW1lXG4gKiBAcmV0dXJuIHtmdW5jdGlvbigpOlByb21pc2V9XG4gKi9cbmV4cG9ydCBjb25zdCBpbXBvcnRPclVwZGF0ZVJvc3RlciA9XG4gIChjb3Vyc2VJZDogc3RyaW5nLCBjb3Vyc2VOYW1lOiBzdHJpbmcpOiBTZWN0aW9uVGh1bmtBY3Rpb24gPT5cbiAgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBwcm92aWRlciA9IHN0YXRlLnRlYWNoZXJTZWN0aW9ucy5yb3N0ZXJQcm92aWRlcjtcblxuICAgIGlmICghcHJvdmlkZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUm9zdGVyIHByb3ZpZGVyIGhhcyBub3QgYmVlbiBzZXQuJyk7XG4gICAgfVxuXG4gICAgY29uc3QgaW1wb3J0U2VjdGlvblVybCA9IGltcG9ydFVybEJ5UHJvdmlkZXJbcHJvdmlkZXJdO1xuXG4gICAgZGlzcGF0Y2gocm9zdGVySW1wb3J0UmVxdWVzdCgpKTtcbiAgICBpZiAocHJvdmlkZXIgPT09IFNlY3Rpb25Mb2dpblR5cGUubHRpX3YxKSB7XG4gICAgICByZXR1cm4gZmV0Y2goYCR7aW1wb3J0U2VjdGlvblVybH0/c2VjdGlvbl9jb2RlPSR7Y291cnNlSWR9YCwge1xuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzdWx0cyA9PiB7XG4gICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKGx0aVJvc3RlckltcG9ydFN1Y2Nlc3MocmVzdWx0cykpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHNlY3Rpb25JZDogbnVtYmVyO1xuICAgIHJldHVybiBmZXRjaEpTT04oaW1wb3J0U2VjdGlvblVybCwge2NvdXJzZUlkLCBjb3Vyc2VOYW1lfSlcbiAgICAgIC50aGVuKG5ld1NlY3Rpb24gPT4gKHNlY3Rpb25JZCA9IChuZXdTZWN0aW9uIGFzIFNlcnZlclNlY3Rpb24pLmlkKSlcbiAgICAgIC50aGVuKCgpID0+IGRpc3BhdGNoKGFzeW5jTG9hZFNlY3Rpb25EYXRhKCkpKVxuICAgICAgLnRoZW4oKCkgPT4gZGlzcGF0Y2gocm9zdGVySW1wb3J0U3VjY2VzcyhzZWN0aW9uSWQpKSk7XG4gIH07XG5cbi8vIHBhZ2VUeXBlIGRlc2NyaWJlcyB0aGUgY3VycmVudCByb3V0ZSB0aGUgdXNlciBpcyBvbi4gVXNlZCBvbmx5IGZvciBsb2dnaW5nLlxuLy8gRW51bSBvZiBhbGxvd2VkIHZhbHVlczpcbmV4cG9ydCBjb25zdCBwYWdlVHlwZXMgPSB7XG4gIGxldmVsOiAnbGV2ZWwnLFxuICBzY3JpcHRPdmVydmlldzogJ3NjcmlwdF9vdmVydmlldycsXG4gIGNvdXJzZU92ZXJ2aWV3OiAnY291cnNlX292ZXJ2aWV3JyxcbiAgbGVzc29uRXh0cmFzOiAnbGVzc29uX2V4dHJhcycsXG4gIGhvbWVwYWdlOiAnaG9tZXBhZ2UnLFxufSBhcyBjb25zdDtcblxuLy8gQWN0aW9ucyB1c2VkIG9ubHkgYnkgdGh1bmtzIHdpdGhpbiB0aGlzIGZpbGUgZG9uJ3QgbmVlZCB0byBiZSBleHBvcnRlZC5cbmNvbnN0IHtcbiAgYmVnaW5Bc3luY0xvYWQsXG4gIGVuZEFzeW5jTG9hZCxcbiAgZmFpbFNhdmVSZXF1ZXN0LFxuICBmaW5pc2hTYXZlUmVxdWVzdCxcbiAgaW1wb3J0Um9zdGVyRmxvd0xpc3RMb2FkZWQsXG4gIGx0aVJvc3RlckltcG9ydFN1Y2Nlc3MsXG4gIHJvc3RlckltcG9ydFJlcXVlc3QsXG4gIHJvc3RlckltcG9ydFN1Y2Nlc3MsXG4gIHNldEF2YWlsYWJsZVBhcnRpY2lwYW50VHlwZXMsXG4gIHN0YXJ0U2F2ZVJlcXVlc3QsXG59ID0gc2VjdGlvblNsaWNlLmFjdGlvbnM7XG5cbmV4cG9ydCBjb25zdCB7XG4gIGJlZ2luQ3JlYXRpbmdTZWN0aW9uLFxuICBiZWdpbkVkaXRpbmdTZWN0aW9uLFxuICBjYW5jZWxFZGl0aW5nU2VjdGlvbixcbiAgY2FuY2VsSW1wb3J0Um9zdGVyRmxvdyxcbiAgZWRpdFNlY3Rpb25Qcm9wZXJ0aWVzLFxuICBmaW5pc2hMb2FkaW5nU2VjdGlvbkRhdGEsXG4gIHJlbW92ZVNlY3Rpb24sXG4gIHJvc3RlckltcG9ydEZhaWxlZCxcbiAgc2VsZWN0U2VjdGlvbixcbiAgc2V0QXV0aFByb3ZpZGVycyxcbiAgc2V0Q290ZWFjaGVySW52aXRlLFxuICBzZXRDb3RlYWNoZXJJbnZpdGVGb3JQbCxcbiAgc2V0Q291cnNlT2ZmZXJpbmdzLFxuICBzZXRQYWdlVHlwZSxcbiAgc2V0Um9zdGVyUHJvdmlkZXIsXG4gIHNldFJvc3RlclByb3ZpZGVyTmFtZSxcbiAgc2V0U2VjdGlvbkNvZGVSZXZpZXdFeHBpcmVzQXQsXG4gIHNldFNlY3Rpb25zLFxuICBzZXRTdHVkZW50c0ZvckN1cnJlbnRTZWN0aW9uLFxuICBzdGFydExvYWRpbmdTZWN0aW9uRGF0YSxcbiAgdXBkYXRlU2VjdGlvbkFpVHV0b3JFbmFibGVkLFxuICB1cGRhdGVTZWxlY3RlZFNlY3Rpb24sXG59ID0gc2VjdGlvblNsaWNlLmFjdGlvbnM7XG5cbmV4cG9ydCBkZWZhdWx0IHNlY3Rpb25TbGljZS5yZWR1Y2VyO1xuIl0sIm5hbWVzIjpbIl91dGlscyIsInJlcXVpcmUiLCJfc2hhcmVkQ29uc3RhbnRzIiwiZXhwb3J0cyIsIm1ha2VFbnVtIiwiU2VjdGlvbkxvZ2luVHlwZSIsImdvb2dsZV9jbGFzc3Jvb20iLCJjbGV2ZXIiLCJnb29nbGUiLCJtaWNyb3NvZnQiLCJmYWNlYm9vayIsImx0aV92MSIsImNhbnZhcyIsImNhbnZhc19jbG91ZCIsImNhbnZhc19iZXRhX2Nsb3VkIiwiY2FudmFzX3Rlc3RfY2xvdWQiLCJzY2hvb2xvZ3kiLCJhc3NpZ25lZENvdXJzZU9mZmVyaW5nIiwic3RhdGUiLCJfZ2V0Um9vdCIsImdldFJvb3QiLCJzZWN0aW9uQmVpbmdFZGl0ZWQiLCJjb3Vyc2VPZmZlcmluZ3MiLCJjb3Vyc2VPZmZlcmluZ0lkIiwiZ2V0QXNzaWdubWVudE5hbWUiLCJzZWN0aW9uSWQiLCJfZ2V0Um9vdDMiLCJzZWN0aW9ucyIsImFzc2lnbm1lbnROYW1lcyIsImdldFNlY3Rpb25Sb3dzIiwic2VjdGlvbklkcyIsIl9nZXRSb290MiIsImNvdXJzZU9mZmVyaW5nc0FyZUxvYWRlZCIsIm1hcCIsImlkIiwiX29iamVjdFNwcmVhZCIsIl8iLCJwaWNrIiwiYXNzaWdubWVudFBhdGhzIiwiZ2V0VmlzaWJsZVNlY3Rpb25zIiwiYWxsU2VjdGlvbnMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJzb3J0U2VjdGlvbnNMaXN0IiwiZmlsdGVyIiwic2VjdGlvbiIsImhpZGRlbiIsImhpZGRlblBsU2VjdGlvbklkcyIsInBhcnRpY2lwYW50VHlwZSIsIlBhcnRpY2lwYW50QXVkaWVuY2UiLCJzdHVkZW50IiwiaGlkZGVuU2VjdGlvbklkcyIsImhpZGRlblN0dWRlbnRTZWN0aW9uSWRzIiwiaXNBZGRpbmdTZWN0aW9uIiwiaXNSb3N0ZXJEaWFsb2dPcGVuIiwiaXNTYXZlSW5Qcm9ncmVzcyIsInNhdmVJblByb2dyZXNzIiwibHRpU3luY1Jlc3VsdCIsIm5ld1NlY3Rpb25EYXRhIiwiUEVORElOR19ORVdfU0VDVElPTl9JRCIsIm5hbWUiLCJsb2dpblR5cGUiLCJ1bmRlZmluZWQiLCJncmFkZXMiLCJwcm92aWRlck1hbmFnZWQiLCJsZXNzb25FeHRyYXMiLCJwYWlyaW5nQWxsb3dlZCIsInR0c0F1dG9wbGF5RW5hYmxlZCIsInNoYXJpbmdEaXNhYmxlZCIsInN0dWRlbnRDb3VudCIsImNvZGUiLCJjb3Vyc2VJZCIsImNvdXJzZVZlcnNpb25JZCIsImNvdXJzZURpc3BsYXlOYW1lIiwidW5pdElkIiwidW5pdE5hbWUiLCJpc0Fzc2lnbmVkU3RhbmRhbG9uZUNvdXJzZSIsInJlc3RyaWN0U2VjdGlvbiIsImFpVHV0b3JFbmFibGVkIiwic2VjdGlvbkNvZGUiLCJzZWN0aW9uTmFtZSIsInNlY3Rpb25Qcm92aWRlciIsImlzU2VjdGlvblByb3ZpZGVyTWFuYWdlZCIsInJvc3RlclByb3ZpZGVyIiwic2VjdGlvblByb3ZpZGVyTmFtZSIsInJvc3RlclByb3ZpZGVyTmFtZSIsInNlY3Rpb25Vbml0TmFtZSIsImNvdXJzZVZlcnNpb25OYW1lIiwic2VjdGlvbnNGb3JEcm9wZG93biIsInNvcnRlZFNlY3Rpb25zTGlzdCIsImlzQXNzaWduZWQiLCJzZWN0aW9uc05hbWVBbmRJZCIsInBhcnNlSW50Iiwic2VsZWN0ZWRTZWN0aW9uIiwic2VsZWN0ZWRTZWN0aW9uSWQiLCJzZXJ2ZXJTZWN0aW9uRnJvbVNlY3Rpb24iLCJsb2dpbl90eXBlIiwibGVzc29uX2V4dHJhcyIsInBhaXJpbmdfYWxsb3dlZCIsInR0c19hdXRvcGxheV9lbmFibGVkIiwic2hhcmluZ19kaXNhYmxlZCIsImNvdXJzZV9vZmZlcmluZ19pZCIsImNvdXJzZV92ZXJzaW9uX2lkIiwidW5pdF9pZCIsImNvdXJzZV9pZCIsInJlc3RyaWN0X3NlY3Rpb24iLCJwYXJ0aWNpcGFudF90eXBlIiwiYWlfdHV0b3JfZW5hYmxlZCIsInN5bmNFbmFibGVkIiwiX2xvZGFzaCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfcHJvcFR5cGVzIiwiX3NoYXJlZENvdXJzZUNvbnN0YW50cyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJfdHlwZW9mIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJvd25LZXlzIiwiZSIsInIiLCJ0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJpIiwiX3RvUHJpbWl0aXZlIiwidG9QcmltaXRpdmUiLCJjYWxsIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiTnVtYmVyIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ0ZWFjaGVyU2VjdGlvbnMiLCJzZWN0aW9uRnJvbVNlcnZlclNlY3Rpb24iLCJzZXJ2ZXJTZWN0aW9uIiwiY3JlYXRlZEF0IiwibG9naW5UeXBlTmFtZSIsImxvZ2luX3R5cGVfbmFtZSIsImNvdXJzZV9kaXNwbGF5X25hbWUiLCJwb3N0TWlsZXN0b25lRGlzYWJsZWQiLCJwb3N0X21pbGVzdG9uZV9kaXNhYmxlZCIsImNvZGVSZXZpZXdFeHBpcmVzQXQiLCJjb2RlX3Jldmlld19leHBpcmVzX2F0IiwiRGF0ZSIsInBhcnNlIiwiaXNBc3NpZ25lZENTQSIsImlzX2Fzc2lnbmVkX2NzYSIsInNlY3Rpb25JbnN0cnVjdG9ycyIsInNlY3Rpb25faW5zdHJ1Y3RvcnMiLCJzeW5jX2VuYWJsZWQiLCJhbnlTdHVkZW50SGFzUHJvZ3Jlc3MiLCJhbnlfc3R1ZGVudF9oYXNfcHJvZ3Jlc3MiLCJzdHVkZW50RnJvbVNlcnZlclN0dWRlbnQiLCJzZXJ2ZXJTdHVkZW50IiwiZmFtaWx5TmFtZSIsImZhbWlseV9uYW1lIiwic2VjcmV0UGljdHVyZVBhdGgiLCJzZWNyZXRfcGljdHVyZV9wYXRoIiwic2VjcmV0UGljdHVyZU5hbWUiLCJzZWNyZXRfcGljdHVyZV9uYW1lIiwic2VjcmV0V29yZHMiLCJzZWNyZXRfd29yZHMiLCJ1c2VyVHlwZSIsInVzZXJfdHlwZSIsImFzc2lnbm1lbnRzRm9yU2VjdGlvbiIsImFzc2lnbm1lbnRzIiwiX2NvdXJzZU9mZmVyaW5ncyRzZWN0IiwiY291cnNlVmVyc2lvbiIsImNvdXJzZV92ZXJzaW9ucyIsInR5cGUiLCJ1bml0cyIsImFzc2lnbm1lbnQiLCJwYXRoIiwic2VjdGlvbnNPYmplY3QiLCJzZWN0aW9uc0xpc3QiLCJzb3J0IiwiYSIsImIiLCJQcm9wVHlwZXMiLCJzaGFwZSIsIm51bWJlciIsImlzUmVxdWlyZWQiLCJzdHJpbmciLCJib29sIiwiTk9fU0VDVElPTiIsIlNFTEVDVF9TRUNUSU9OIiwiaW5pdGlhbFN0YXRlIiwibmV4dFRlbXBJZCIsInN0dWRpb1VybCIsInByb3ZpZGVycyIsInN0dWRlbnRTZWN0aW9uSWRzIiwicGxTZWN0aW9uSWRzIiwic2VsZWN0ZWRTZWN0aW9uTmFtZSIsImF2YWlsYWJsZVBhcnRpY2lwYW50VHlwZXMiLCJzZWxlY3RlZFN0dWRlbnRzIiwic2VjdGlvbnNBcmVMb2FkZWQiLCJzaG93U2VjdGlvbkVkaXREaWFsb2ciLCJhc3luY0xvYWRDb21wbGV0ZSIsImNsYXNzcm9vbXMiLCJsb2FkRXJyb3IiLCJwYWdlVHlwZSIsImlzTG9hZGluZ1NlY3Rpb25EYXRhIiwiaW5pdGlhbFVuaXROYW1lIiwibWFwUHJvdmlkZXJUb1NlY3Rpb25UeXBlIiwicHJvdmlkZXIiLCJPQXV0aFNlY3Rpb25UeXBlcyIsInNlY3Rpb25TbGljZSIsImNyZWF0ZVNsaWNlIiwicmVkdWNlcnMiLCJzZXRBdXRoUHJvdmlkZXJzIiwiYWN0aW9uIiwicGF5bG9hZCIsInNldFJvc3RlclByb3ZpZGVyIiwic2V0UGFnZVR5cGUiLCJzZWxlY3RTZWN0aW9uIiwidG9TdHJpbmciLCJpbmNsdWRlcyIsInVwZGF0ZVNlbGVjdGVkU2VjdGlvbiIsInNldFNlY3Rpb25zIiwicmVkdWNlciIsImF1dG9TZWxlY3RPbmx5U2VjdGlvbiIsInByZXZTZWN0aW9uIiwiRXJyb3IiLCJ1bmlxIiwiY29uY2F0Iiwia2V5QnkiLCJwcmVwYXJlIiwic3RhcnRMb2FkaW5nU2VjdGlvbkRhdGEiLCJmaW5pc2hMb2FkaW5nU2VjdGlvbkRhdGEiLCJzZXRTdHVkZW50c0ZvckN1cnJlbnRTZWN0aW9uIiwic3R1ZGVudHMiLCJzZXRSb3N0ZXJQcm92aWRlck5hbWUiLCJ1cGRhdGVTZWN0aW9uQWlUdXRvckVuYWJsZWQiLCJzZXRDb3Vyc2VPZmZlcmluZ3MiLCJzZXRBdmFpbGFibGVQYXJ0aWNpcGFudFR5cGVzIiwic2V0U2VjdGlvbkNvZGVSZXZpZXdFeHBpcmVzQXQiLCJyZW1vdmVTZWN0aW9uIiwid2l0aG91dCIsIm9taXQiLCJiZWdpbkNyZWF0aW5nU2VjdGlvbiIsImluaXRpYWxTZWN0aW9uRGF0YSIsImluaXRpYWxDb3Vyc2VJZCIsImluaXRpYWxVbml0SWQiLCJpbml0aWFsQ291cnNlT2ZmZXJpbmdJZCIsImluaXRpYWxDb3Vyc2VWZXJzaW9uSWQiLCJpbml0aWFsTG9naW5UeXBlIiwiYmVnaW5FZGl0aW5nU2VjdGlvbiIsInNpbGVudCIsImluaXRpYWxQYXJ0aWNpcGFudFR5cGUiLCJlZGl0U2VjdGlvblByb3BlcnRpZXMiLCJVU0VSX0VESVRBQkxFX1NFQ1RJT05fUFJPUFMiLCJlbWFpbCIsIlBsR3JhZGVWYWx1ZSIsInN0YXJ0U2F2ZVJlcXVlc3QiLCJmaW5pc2hTYXZlUmVxdWVzdCIsIm9sZFNlY3Rpb25JZCIsImlzTmV3U2VjdGlvbiIsInB1dFJlY29yZCIsInN0dWR5Iiwic3R1ZHlfZ3JvdXAiLCJldmVudCIsImRhdGFfanNvbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cGRhdGVkTG9naW5UeXBlIiwiaW5jbHVkZVVzZXJJZCIsImFzc2lnbm1lbnREYXRhIiwic2VjdGlvbl9pZCIsInNlY3Rpb25fY3JlYXRpb25fdGltZXN0YW1wIiwicGFnZV9uYW1lIiwiZmFpbFNhdmVSZXF1ZXN0IiwiYmVnaW5Bc3luY0xvYWQiLCJlbmRBc3luY0xvYWQiLCJjYW5jZWxFZGl0aW5nU2VjdGlvbiIsInNldENvdGVhY2hlckludml0ZSIsImNvdGVhY2hlckludml0ZSIsInNldENvdGVhY2hlckludml0ZUZvclBsIiwiY290ZWFjaGVySW52aXRlRm9yUGwiLCJiZWdpbkltcG9ydFJvc3RlckZsb3ciLCJpbXBvcnRSb3N0ZXJGbG93TGlzdExvYWRlZCIsImNhbmNlbEltcG9ydFJvc3RlckZsb3ciLCJyb3N0ZXJJbXBvcnRGYWlsZWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicm9zdGVySW1wb3J0UmVxdWVzdCIsInJvc3RlckltcG9ydFN1Y2Nlc3MiLCJsdGlSb3N0ZXJJbXBvcnRTdWNjZXNzIiwiX190ZXN0SW50ZXJmYWNlX18iLCJFRElUX1NFQ1RJT05fUkVRVUVTVCIsIkVESVRfU0VDVElPTl9TVUNDRVNTIiwiSU1QT1JUX1JPU1RFUl9GTE9XX0JFR0lOIiwiSU1QT1JUX1JPU1RFUl9GTE9XX0xJU1RfTE9BREVEIiwidG9nZ2xlU2VjdGlvbkhpZGRlbiIsImRpc3BhdGNoIiwiZ2V0U3RhdGUiLCJjdXJyZW50bHlIaWRkZW4iLCJmaW5pc2hFZGl0aW5nU2VjdGlvbiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiJCIsImFqYXgiLCJ1cmwiLCJtZXRob2QiLCJjb250ZW50VHlwZSIsImRhdGEiLCJzdWJtaXRFZGl0aW5nU2VjdGlvbiIsImRvbmUiLCJyZXN1bHQiLCJmYWlsIiwianFYaHIiLCJyZW1vdmVTZWN0aW9uT3JUaHJvdyIsImZldGNoSlNPTiIsInBhcmFtcyIsImdldEpTT04iLCJqcXhociIsInN0YXR1c1RleHQiLCJyZXNwb25zZVRleHQiLCJhc3luY0xvYWRTZWN0aW9uRGF0YSIsInByb21pc2VzIiwidGhlbiIsIm9mZmVyaW5ncyIsInBhcnRpY2lwYW50VHlwZXMiLCJhbGwiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImFzeW5jTG9hZENvdGVhY2hlckludml0ZSIsInJlc3BvbnNlIiwiZmluZCIsImluc3RydWN0b3JJbnZpdGUiLCJjb3RlYWNoZXJJbnZpdGVGb3JDbGFzc3Jvb21zIiwiYXNzaWduVG9TZWN0aW9uIiwiZGF0ZSIsInJlbW92ZU51bGxWYWx1ZXMiLCJzZW5kRXZlbnQiLCJFVkVOVFMiLCJDVVJSSUNVTFVNX0FTU0lHTkVEIiwic2VjdGlvbkxvZ2luVHlwZSIsInByZXZpb3VzVW5pdElkIiwicHJldmlvdXNDb3Vyc2VJZCIsInByZXZpb3VzQ291cnNlVmVyc2lvbklkIiwibmV3VW5pdElkIiwibmV3Q291cnNlSWQiLCJuZXdDb3Vyc2VWZXJzaW9uSWQiLCJQTEFURk9STVMiLCJCT1RIIiwidmFsIiwidW5hc3NpZ25TZWN0aW9uIiwibG9jYXRpb24iLCJzY3JpcHRJZCIsInVybEJ5UHJvdmlkZXIiLCJhY3Rpb25zIiwiY291cnNlcyIsInJlc3BvbnNlSlNPTiIsImltcG9ydFVybEJ5UHJvdmlkZXIiLCJpbXBvcnRPclVwZGF0ZVJvc3RlciIsImNvdXJzZU5hbWUiLCJpbXBvcnRTZWN0aW9uVXJsIiwiZmV0Y2giLCJoZWFkZXJzIiwiQWNjZXB0IiwianNvbiIsInJlc3VsdHMiLCJuZXdTZWN0aW9uIiwicGFnZVR5cGVzIiwibGV2ZWwiLCJzY3JpcHRPdmVydmlldyIsImNvdXJzZU92ZXJ2aWV3IiwiaG9tZXBhZ2UiXSwic291cmNlUm9vdCI6IiJ9