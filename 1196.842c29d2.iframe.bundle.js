(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[1196],{"./src/redux/unitSelectionRedux.js":(__unused_webpack_module,exports)=>{"use strict";function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SET_SCRIPT=exports.SET_COURSES=void 0,exports.default=function unitSelection(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;if(action.type===SET_COURSES){var firstCourse=action.coursesWithProgress[0],firstUnit=firstCourse?firstCourse.units[0]:null;return _objectSpread(_objectSpread({},state),{},{coursesWithProgress:action.coursesWithProgress,scriptId:null===state.scriptId?null==firstUnit?void 0:firstUnit.id:state.scriptId})}if(action.type===SET_SCRIPT)return _objectSpread(_objectSpread({},state),{},{scriptId:action.scriptId});return state},exports.setScriptId=exports.setCoursesWithProgress=exports.getSelectedScriptName=exports.getSelectedScriptFriendlyName=exports.getSelectedScriptDescription=exports.doesCurrentCourseUseFeedback=void 0;var SET_SCRIPT=exports.SET_SCRIPT="unitSelection/SET_SCRIPT",SET_COURSES=exports.SET_COURSES="unitSelection/SET_COURSES",getSelectedUnit=(exports.setScriptId=function setScriptId(scriptId){return{type:SET_SCRIPT,scriptId}},exports.setCoursesWithProgress=function setCoursesWithProgress(coursesWithProgress){return{type:SET_COURSES,coursesWithProgress}},function getSelectedUnit(state){var unit,scriptId=state.unitSelection.scriptId;return scriptId?(state.unitSelection.coursesWithProgress.forEach((function(course){var tempUnit=course.units.find((function(unit){return scriptId===unit.id}));tempUnit&&(unit=tempUnit)})),unit):null}),initialState=(exports.getSelectedScriptName=function getSelectedScriptName(state){return getSelectedUnit(state)?getSelectedUnit(state).key:null},exports.getSelectedScriptFriendlyName=function getSelectedScriptFriendlyName(state){return getSelectedUnit(state)?getSelectedUnit(state).name:null},exports.getSelectedScriptDescription=function getSelectedScriptDescription(state){return getSelectedUnit(state)?getSelectedUnit(state).description:null},exports.doesCurrentCourseUseFeedback=function doesCurrentCourseUseFeedback(state){var _getSelectedUnit;return!(null===(_getSelectedUnit=getSelectedUnit(state))||void 0===_getSelectedUnit||!_getSelectedUnit.is_feedback_enabled)},{scriptId:null,coursesWithProgress:[]})},"./src/templates/sectionAssessments/sectionAssessmentsRedux.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.currentStudentHasResponses=exports.countSubmissionsForCurrentAssessment=exports.asyncLoadAssessments=exports.QuestionType=exports.ASSESSMENT_FEEDBACK_OPTION_ID=exports.ALL_STUDENT_FILTER=void 0,exports.default=function sectionAssessments(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;if(action.type===_unitSelectionRedux.SET_SCRIPT)return _objectSpread(_objectSpread({},state),{},{studentId:ALL_STUDENT_FILTER,questionIndex:0});if(action.type===SET_ASSESSMENT_ID)return _objectSpread(_objectSpread({},state),{},{assessmentId:action.assessmentId,questionIndex:0,studentId:ALL_STUDENT_FILTER});if(action.type===SET_INITIAL_ASSESSMENT_ID){var assessmentId=getFirstAssessmentId(state,action.scriptId);return _objectSpread(_objectSpread({},state),{},{assessmentId})}if(action.type===SET_STUDENT_ID)return _objectSpread(_objectSpread({},state),{},{studentId:action.studentId});if(action.type===SET_QUESTION_INDEX)return _objectSpread(_objectSpread({},state),{},{questionIndex:action.questionIndex});if(action.type===SET_ASSESSMENT_RESPONSES)return _objectSpread(_objectSpread({},state),{},{assessmentResponsesByScript:_objectSpread(_objectSpread({},state.assessmentResponsesByScript),{},_defineProperty({},action.scriptId,action.assessments))});if(action.type===SET_FEEDBACK)return _objectSpread(_objectSpread({},state),{},{feedbackByScript:_objectSpread(_objectSpread({},state.feedbackByScript),{},_defineProperty({},action.scriptId,action.feedback))});if(action.type===SET_SURVEYS)return _objectSpread(_objectSpread({},state),{},{surveysByScript:_objectSpread(_objectSpread({},state.surveysByScript),{},_defineProperty({},action.scriptId,action.surveys))});if(action.type===SET_ASSESSMENTS_QUESTIONS)return _objectSpread(_objectSpread({},state),{},{assessmentQuestionsByScript:_objectSpread(_objectSpread({},state.assessmentQuestionsByScript),{},_defineProperty({},action.scriptId,action.assessments)),assessmentId:parseInt(Object.keys(action.assessments)[0])});if(action.type===START_LOADING_ASSESSMENTS)return _objectSpread(_objectSpread({},state),{},{isLoading:!0});if(action.type===FINISH_LOADING_ASSESSMENTS)return _objectSpread(_objectSpread({},state),{},{isLoading:!1});return state},exports.getAssessmentsFreeResponseResults=exports.getAssessmentResponsesForCurrentScript=exports.finishLoadingAssessments=void 0,exports.getCorrectAnswer=getCorrectAnswer,exports.inProgressFakeTimestamp=exports.getSurveyFreeResponseQuestions=exports.getStudentsMCandMatchSummaryForCurrentAssessment=exports.getStudentMatchResponsesForCurrentAssessment=exports.getStudentMCResponsesForCurrentAssessment=exports.getStudentAnswersForCurrentQuestion=exports.getMultipleChoiceSurveyResults=exports.getMultipleChoiceStructureForCurrentAssessment=exports.getMultipleChoiceSectionSummary=exports.getMatchStructureForCurrentAssessment=exports.getMatchSectionSummary=exports.getExportableSurveyData=exports.getExportableSubmissionStatusData=exports.getExportableFeedbackData=exports.getExportableData=exports.getExportableAssessmentData=exports.getCurrentScriptAssessmentList=exports.getCurrentQuestion=exports.getCurrentAssessmentQuestions=void 0,exports.indexesToAnswerString=indexesToAnswerString,exports.startLoadingAssessments=exports.setSurveys=exports.setStudentId=exports.setQuestionIndex=exports.setInitialAssessmentId=exports.setFeedback=exports.setAssessmentResponses=exports.setAssessmentQuestions=exports.setAssessmentId=exports.notStartedFakeTimestamp=exports.isCurrentScriptCSD=exports.isCurrentAssessmentSurvey=void 0;var _unitSelectionRedux=__webpack_require__("./src/redux/unitSelectionRedux.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ALL_STUDENT_FILTER=exports.ALL_STUDENT_FILTER=0,initialState={assessmentResponsesByScript:{},assessmentQuestionsByScript:{},feedbackByScript:{},surveysByScript:{},isLoading:!1,assessmentId:0,questionIndex:0,studentId:ALL_STUDENT_FILTER},QuestionType=exports.QuestionType={MULTI:"Multi",MATCH:"Match",FREE_RESPONSE:"FreeResponse"},SurveyQuestionType_MULTI="multi",SurveyQuestionType_FREE_RESPONSE="free_response",MultiAnswerStatus_CORRECT="correct",ANSWER_LETTERS=["A","B","C","D","E","F","G","H","I","J","K"],ASSESSMENT_FEEDBACK_OPTION_ID=exports.ASSESSMENT_FEEDBACK_OPTION_ID=0,inProgressFakeTimestamp=exports.inProgressFakeTimestamp=new Date("1990-01-01T20:52:05.000+00:00"),notStartedFakeTimestamp=exports.notStartedFakeTimestamp=new Date("1980-01-01T20:52:05.000+00:00"),SET_ASSESSMENT_RESPONSES="sectionAssessments/SET_ASSESSMENT_RESPONSES",SET_ASSESSMENTS_QUESTIONS="sectionAssessments/SET_ASSESSMENTS_QUESTIONS",SET_FEEDBACK="sectionAssessments/SET_FEEDBACK",SET_SURVEYS="sectionAssessments/SET_SURVEYS",START_LOADING_ASSESSMENTS="sectionAssessments/START_LOADING_ASSESSMENTS",FINISH_LOADING_ASSESSMENTS="sectionAssessments/FINISH_LOADING_ASSESSMENTS",SET_ASSESSMENT_ID="sectionAssessments/SET_ASSESSMENT_ID",SET_INITIAL_ASSESSMENT_ID="sectionAssessments/SET_INITIAL_ASSESSMENT_ID",SET_STUDENT_ID="sectionAssessments/SET_STUDENT_ID",SET_QUESTION_INDEX="sectionAssessments/SET_QUESTION_INDEX",setAssessmentResponses=exports.setAssessmentResponses=function setAssessmentResponses(scriptId,assessments){return{type:SET_ASSESSMENT_RESPONSES,scriptId,assessments}},setAssessmentQuestions=exports.setAssessmentQuestions=function setAssessmentQuestions(scriptId,assessments){return{type:SET_ASSESSMENTS_QUESTIONS,scriptId,assessments}},setFeedback=exports.setFeedback=function setFeedback(scriptId,feedback){return{type:SET_FEEDBACK,scriptId,feedback}},startLoadingAssessments=exports.startLoadingAssessments=function startLoadingAssessments(){return{type:START_LOADING_ASSESSMENTS}},finishLoadingAssessments=exports.finishLoadingAssessments=function finishLoadingAssessments(){return{type:FINISH_LOADING_ASSESSMENTS}},setInitialAssessmentId=(exports.setAssessmentId=function setAssessmentId(assessmentId){return{type:SET_ASSESSMENT_ID,assessmentId}},exports.setInitialAssessmentId=function setInitialAssessmentId(scriptId){return{type:SET_INITIAL_ASSESSMENT_ID,scriptId}}),setSurveys=(exports.setQuestionIndex=function setQuestionIndex(questionIndex){return{type:SET_QUESTION_INDEX,questionIndex}},exports.setStudentId=function setStudentId(studentId){return{type:SET_STUDENT_ID,studentId}},exports.setSurveys=function setSurveys(scriptId,surveys){return{type:SET_SURVEYS,scriptId,surveys}});exports.asyncLoadAssessments=function asyncLoadAssessments(sectionId,scriptId){return function(dispatch,getState){if(!getState().sectionAssessments.assessmentResponsesByScript[scriptId]&&scriptId&&sectionId){dispatch(startLoadingAssessments());var loadResponses=loadAssessmentResponsesFromServer(sectionId,scriptId),loadQuestions=loadAssessmentQuestionsFromServer(scriptId),loadSurveys=loadSurveysFromServer(sectionId,scriptId),loadFeedback=loadFeedbackFromServer(sectionId,scriptId);Promise.all([loadResponses,loadQuestions,loadSurveys,loadFeedback]).then((function(arrayOfValues){dispatch(setAssessmentResponses(scriptId,arrayOfValues[0])),dispatch(setAssessmentQuestions(scriptId,arrayOfValues[1])),dispatch(setFeedback(scriptId,arrayOfValues[3])),dispatch(setSurveys(scriptId,arrayOfValues[2])),dispatch(setInitialAssessmentId(scriptId)),dispatch(finishLoadingAssessments())})).catch((function(error){dispatch(finishLoadingAssessments())}))}}};exports.getCurrentScriptAssessmentList=function getCurrentScriptAssessmentList(state){var tempAssessmentList=computeScriptAssessmentList(state.sectionAssessments,state.unitSelection.scriptId);return(0,_unitSelectionRedux.doesCurrentCourseUseFeedback)(state)&&(tempAssessmentList=tempAssessmentList.concat({id:ASSESSMENT_FEEDBACK_OPTION_ID,name:"All teacher feedback in this unit"})),tempAssessmentList};var getAssessmentResponsesForCurrentScript=exports.getAssessmentResponsesForCurrentScript=function getAssessmentResponsesForCurrentScript(state){return state.sectionAssessments.assessmentResponsesByScript[state.unitSelection.scriptId]||{}},getCurrentAssessmentQuestions=exports.getCurrentAssessmentQuestions=function getCurrentAssessmentQuestions(state){return(state.sectionAssessments.assessmentQuestionsByScript[state.unitSelection.scriptId]||{})[state.sectionAssessments.assessmentId]},isCurrentAssessmentSurvey=(exports.getCurrentQuestion=function getCurrentQuestion(state){var emptyQuestion={question:"",answers:[]};if(isCurrentAssessmentSurvey(state)){var question=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[state.sectionAssessments.assessmentId].levelgroup_results[state.sectionAssessments.questionIndex];return question?{question:question.question,answers:question.type===SurveyQuestionType_MULTI&&question.answer_texts.map((function(answer,index){return{text:answer,correct:!1,letter:ANSWER_LETTERS[index]}}))}:emptyQuestion}var assessmentQuestions=(getCurrentAssessmentQuestions(state)||{}).questions,_question=assessmentQuestions?assessmentQuestions[state.sectionAssessments.questionIndex]:null;if(!_question)return emptyQuestion;if(_question.type===QuestionType.MULTI){var answers=_question.type===QuestionType.MULTI&&(_question.answers||[]).map((function(answer,index){return _objectSpread(_objectSpread({},answer),{},{letter:ANSWER_LETTERS[index]})}));return{question:_question.question_text,answers,questionType:QuestionType.MULTI}}if(_question.type===QuestionType.FREE_RESPONSE)return{question:_question.question_text,answers:null,questionType:QuestionType.FREE_RESPONSE};if(_question.type===QuestionType.MATCH){var _answers=_question.answers.map((function(answer){return answer.text})),options=_question.options.map((function(option){return option.text}));return{question:_question.question,answers:_answers,options,questionType:QuestionType.MATCH}}},exports.getMultipleChoiceStructureForCurrentAssessment=function getMultipleChoiceStructureForCurrentAssessment(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);return assessmentsStructure?assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.MULTI})).map((function(question){return{id:question.level_id,question:question.question_text,questionNumber:question.question_index+1,correctAnswer:getCorrectAnswer(question.answers)}})):[]},exports.getStudentMCResponsesForCurrentAssessment=function getStudentMCResponsesForCurrentAssessment(state){var studentResponses=getAssessmentResponsesForCurrentScript(state);if(!studentResponses)return{};var studentId=state.sectionAssessments.studentId,studentObject=studentResponses[studentId];if(!studentObject)return{};var currentAssessmentId=state.sectionAssessments.assessmentId,studentAssessment=studentObject.responses_by_assessment[currentAssessmentId];return studentAssessment?{id:studentId,name:studentObject.student_name,studentResponses:studentAssessment.level_results.filter((function(answer){return answer.type===QuestionType.MULTI})).map((function(answer){return{responses:indexesToAnswerString(answer.student_result),isCorrect:answer.status===MultiAnswerStatus_CORRECT}}))}:{}},exports.getMatchStructureForCurrentAssessment=function getMatchStructureForCurrentAssessment(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);return assessmentsStructure?assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.MATCH})).map((function(question){return{id:question.level_id,question:question.question,questionNumber:question.question_index+1,answers:question.answers,options:question.options}})):[]},exports.getStudentMatchResponsesForCurrentAssessment=function getStudentMatchResponsesForCurrentAssessment(state){var studentResponses=getAssessmentResponsesForCurrentScript(state);if(!studentResponses)return{};var studentId=state.sectionAssessments.studentId,studentObject=studentResponses[studentId];if(!studentObject)return{};var currentAssessmentId=state.sectionAssessments.assessmentId,studentAssessment=studentObject.responses_by_assessment[currentAssessmentId];return studentAssessment?{id:studentId,name:studentObject.student_name,studentResponses:studentAssessment.level_results.filter((function(answer){return answer.type===QuestionType.MATCH})).map((function(answer){return{responses:answer.student_result}}))}:{}},exports.getStudentAnswersForCurrentQuestion=function getStudentAnswersForCurrentQuestion(state){var studentResponses=getAssessmentResponsesForCurrentScript(state);if(!studentResponses||isCurrentAssessmentSurvey(state))return[];var questionIndex=state.sectionAssessments.questionIndex,studentAnswers=[];return Object.keys(studentResponses).forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],currentAssessmentId=state.sectionAssessments.assessmentId,question=((studentObject.responses_by_assessment[currentAssessmentId]||{}).level_results||[])[questionIndex];question&&question.type===QuestionType.MULTI&&studentAnswers.push({id:studentId,name:studentObject.student_name,answer:question.student_result?indexesToAnswerString(question.student_result):"-",correct:"correct"===question.status})})),studentAnswers},exports.getAssessmentsFreeResponseResults=function getAssessmentsFreeResponseResults(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);if(!assessmentsStructure)return[];var questionsAndResults=assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.FREE_RESPONSE})).map((function(question){return{questionText:question.question_text,questionNumber:question.question_index+1,responses:[]}})),studentResponses=getAssessmentResponsesForCurrentScript(state),currentStudentsIds=Object.keys(studentResponses);if(state.sectionAssessments.studentId!==ALL_STUDENT_FILTER){if(!currentStudentHasResponses(state))return[];currentStudentsIds=[state.sectionAssessments.studentId]}return currentStudentsIds.forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],currentAssessmentId=state.sectionAssessments.assessmentId;((studentObject.responses_by_assessment[currentAssessmentId]||{}).level_results||[]).filter((function(result){return result.type===QuestionType.FREE_RESPONSE})).forEach((function(response,index){questionsAndResults[index]&&questionsAndResults[index].responses.push({id:studentId,name:studentObject.student_name,response:response.student_result})}))})),questionsAndResults},exports.getSurveyFreeResponseQuestions=function getSurveyFreeResponseQuestions(state){var currentSurvey=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[state.sectionAssessments.assessmentId];return currentSurvey?currentSurvey.levelgroup_results.filter((function(question){return question.type===SurveyQuestionType_FREE_RESPONSE})).map((function(question){return{questionText:question.question,questionNumber:question.question_index+1,answers:question.results.map((function(response,index){return{index,response:response.result}}))}})):[]},exports.getMultipleChoiceSurveyResults=function getMultipleChoiceSurveyResults(state){var currentSurvey=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[state.sectionAssessments.assessmentId];return currentSurvey?currentSurvey.levelgroup_results.filter((function(question){return question.type===SurveyQuestionType_MULTI})).map((function(question,index){for(var totalAnswered=question.results.length,answerTotals=[],i=0;i<question.answer_texts.length;i++)answerTotals[i]=0;for(var notAnswered=0,_i=0;_i<totalAnswered;_i++){var answerIndex=question.results[_i].answer_index;answerIndex>=0?answerTotals[answerIndex]++:notAnswered++}return{id:index,question:question.question,questionNumber:question.question_index+1,answers:question.answer_texts.map((function(answer,index){return{multipleChoiceOption:ANSWER_LETTERS[index],percentAnswered:Math.floor(answerTotals[index]/totalAnswered*100),text:answer}})),notAnswered:Math.floor(notAnswered/totalAnswered*100),totalAnswered}})):[]},exports.isCurrentAssessmentSurvey=function isCurrentAssessmentSurvey(state){var scriptId=state.unitSelection.scriptId,surveysStructure=state.sectionAssessments.surveysByScript[scriptId]||{},currentAssessmentId=state.sectionAssessments.assessmentId;return Object.keys(surveysStructure).includes(currentAssessmentId+"")}),getStudentsMCandMatchSummaryForCurrentAssessment=exports.getStudentsMCandMatchSummaryForCurrentAssessment=function getStudentsMCandMatchSummaryForCurrentAssessment(state){var studentResponses=getAssessmentResponsesForCurrentScript(state);if(!studentResponses)return[];var allStudentsByIds={};state.teacherSections.selectedStudents.forEach((function(student){allStudentsByIds[student.id]={student_name:student.name,responses_by_assessment:{}}})),allStudentsByIds=_objectSpread(_objectSpread({},allStudentsByIds),studentResponses);var currentStudentsIds=Object.keys(allStudentsByIds);return state.sectionAssessments.studentId!==ALL_STUDENT_FILTER&&(currentStudentsIds=[state.sectionAssessments.studentId]),currentStudentsIds.map((function(studentId){studentId=parseInt(studentId,10);var studentsObject=allStudentsByIds[studentId],currentAssessmentId=state.sectionAssessments.assessmentId,studentsAssessment=studentsObject.responses_by_assessment[currentAssessmentId];if(!studentsAssessment)return{id:studentId,name:studentsObject.student_name,isSubmitted:!1,inProgress:!1,submissionTimeStamp:notStartedFakeTimestamp};var inProgress=studentsAssessment.timestamp&&!studentsAssessment.submitted,submissionTimeStamp=inProgress?inProgressFakeTimestamp:new Date(studentsAssessment.timestamp);return{id:studentId,name:studentsObject.student_name,numMultipleChoiceCorrect:studentsAssessment.multi_correct,numMultipleChoice:studentsAssessment.multi_count,numMatchCorrect:studentsAssessment.match_correct,numMatch:studentsAssessment.match_count,inProgress,isSubmitted:studentsAssessment.submitted,submissionTimeStamp,url:studentsAssessment.url}}))},getExportableSurveyData=(exports.getExportableSubmissionStatusData=function getExportableSubmissionStatusData(state){var summaryStudentStatus=[];return getStudentsMCandMatchSummaryForCurrentAssessment(state).forEach((function(student){summaryStudentStatus.push({studentName:student.name,numMultipleChoiceCorrect:student.numMultipleChoiceCorrect,numMultipleChoice:student.numMultipleChoice,numMatchCorrect:student.numMatchCorrect,numMatch:student.numMatch,submissionTimestamp:student.submissionTimeStamp})})),summaryStudentStatus},exports.getMultipleChoiceSectionSummary=function getMultipleChoiceSectionSummary(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);if(!assessmentsStructure)return[];var results=assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.MULTI})).map((function(question){return{id:question.level_id,question:question.question_text,questionNumber:question.question_index+1,answers:question.answers.map((function(answer,index){return{multipleChoiceOption:ANSWER_LETTERS[index],isCorrect:answer.correct,numAnswered:0}})),totalAnswered:0,notAnswered:0}})),studentResponses=getAssessmentResponsesForCurrentScript(state);return studentResponses?(Object.keys(studentResponses).forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],currentAssessmentId=state.sectionAssessments.assessmentId;((studentObject.responses_by_assessment[currentAssessmentId]||{}).level_results||[]).filter((function(result){return result.type===QuestionType.MULTI})).forEach((function(response,questionIndex){results[questionIndex].totalAnswered++,"unsubmitted"===response.status?results[questionIndex].notAnswered++:(response.student_result||[]).forEach((function(answer){results[questionIndex].answers[answer].numAnswered++}))}))})),results):[]},exports.getMatchSectionSummary=function getMatchSectionSummary(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);if(!assessmentsStructure)return[];var results=assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.MATCH})).map((function(question){return{id:question.level_id,question:question.question,questionNumber:question.question_index+1,options:question.options.map((function(option,indexO){return{option:question.options[indexO].text,id:indexO,totalAnswered:0,notAnswered:0,answers:question.answers.map((function(answer,indexA){return{answer:question.answers[indexA].text,isCorrect:indexA===indexO,numAnswered:0}}))}}))}})),studentResponses=getAssessmentResponsesForCurrentScript(state);return studentResponses?(Object.keys(studentResponses).forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],currentAssessmentId=state.sectionAssessments.assessmentId;((studentObject.responses_by_assessment[currentAssessmentId]||{}).level_results||[]).filter((function(result){return result.type===QuestionType.MATCH})).forEach((function(response,questionIndex){(response.student_result||[]).forEach((function(answer,index){results[questionIndex].options[index].totalAnswered++,"unsubmitted"===response.status[index]?results[questionIndex].options[index].notAnswered++:results[questionIndex].options[index].answers[answer].numAnswered++}))}))})),results):[]},exports.countSubmissionsForCurrentAssessment=function countSubmissionsForCurrentAssessment(state){var currentAssessmentId=state.sectionAssessments.assessmentId;if(!currentAssessmentId)return 0;if(isCurrentAssessmentSurvey(state)){var currentSurvey=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[currentAssessmentId];return currentSurvey&&0!==currentSurvey.levelgroup_results.length?currentSurvey.levelgroup_results[0].results.length:0}var studentResponses=getAssessmentResponsesForCurrentScript(state),totalSubmissions=0;return Object.values(studentResponses).forEach((function(student){Object.keys(student.responses_by_assessment).includes(currentAssessmentId+"")&&totalSubmissions++})),totalSubmissions},exports.getExportableData=function getExportableData(state){return isCurrentAssessmentSurvey(state)?getExportableSurveyData(state):getExportableAssessmentData(state)},exports.getExportableSurveyData=function getExportableSurveyData(state){for(var currentAssessmentId=state.sectionAssessments.assessmentId,currentSurvey=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[currentAssessmentId],responses=[],i=0;i<currentSurvey.levelgroup_results.length;i++){var questionResults=currentSurvey.levelgroup_results[i],rowBase={lesson:currentSurvey.lesson_name,questionNumber:questionResults.question_index+1,questionText:questionResults.question};if(questionResults.type===SurveyQuestionType_MULTI)for(var _loop=function _loop(answerIndex){responses.push(_objectSpread(_objectSpread({},rowBase),{},{answer:questionResults.answer_texts[answerIndex],numberAnswered:questionResults.results.filter((function(result){return result.answer_index===answerIndex})).length}))},answerIndex=0;answerIndex<questionResults.answer_texts.length;answerIndex++)_loop(answerIndex);else if(questionResults.type===SurveyQuestionType_FREE_RESPONSE)for(var j=0;j<questionResults.results.length;j++)responses.push(_objectSpread(_objectSpread({},rowBase),{},{answer:questionResults.results[j].result,numberAnswered:1}))}return responses}),getExportableAssessmentData=exports.getExportableAssessmentData=function getExportableAssessmentData(state){var responses=[],currentAssessmentId=state.sectionAssessments.assessmentId,studentResponses=getAssessmentResponsesForCurrentScript(state);return Object.keys(studentResponses).forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],studentAssessment=studentObject.responses_by_assessment[currentAssessmentId];if(studentAssessment&&studentAssessment.level_results)for(var questionIndex=0;questionIndex<studentAssessment.level_results.length;questionIndex++){var response=studentAssessment.level_results[questionIndex];responses.push({studentName:studentObject.student_name,lesson:studentAssessment.lesson,timestamp:studentAssessment.timestamp,question:questionIndex+1,response:response.type===QuestionType.MULTI?indexesToAnswerString(response.student_result):response.student_result,correct:response.status})}})),responses},currentStudentHasResponses=(exports.getExportableFeedbackData=function getExportableFeedbackData(state){var feedback=[],feedbackForCurrentScript=state.sectionAssessments.feedbackByScript[state.unitSelection.scriptId]||{};return Object.keys(feedbackForCurrentScript).forEach((function(feedbackId){feedbackId=parseInt(feedbackId,10),feedback.push(feedbackForCurrentScript[feedbackId])})),feedback},exports.isCurrentScriptCSD=function isCurrentScriptCSD(state){return((0,_unitSelectionRedux.getSelectedScriptName)(state)||"").includes("csd")},exports.currentStudentHasResponses=function currentStudentHasResponses(state){return!!Object.prototype.hasOwnProperty.call(getAssessmentResponsesForCurrentScript(state),state.sectionAssessments.studentId)});function getCorrectAnswer(answerArr){return indexesToAnswerString(answerArr.map((function(_ref,i){return _ref.correct?i:null})).filter((function(i){return null!==i})))}function indexesToAnswerString(answerArr){return answerArr?answerArr.map((function(index){return ANSWER_LETTERS[index]})).join(", "):""}var getFirstAssessmentId=function getFirstAssessmentId(state,scriptId){return computeScriptAssessmentList(state,scriptId).map((function(a){return parseInt(a.id)}))[0]},computeScriptAssessmentList=function computeScriptAssessmentList(state,scriptId){var assessmentStructure=state.assessmentQuestionsByScript[scriptId]||{},assessments=Object.values(assessmentStructure).map((function(assessment){return{id:assessment.id,name:assessment.name}})),surveysStructure=state.surveysByScript[scriptId]||{},surveys=Object.keys(surveysStructure).map((function(surveyId){return{id:parseInt(surveyId),name:surveysStructure[surveyId].lesson_name}}));return assessments.concat(surveys)},loadAssessmentResponsesFromServer=function loadAssessmentResponsesFromServer(sectionId,scriptId){var payload={section_id:sectionId};return scriptId&&(payload.script_id=scriptId),$.ajax({url:"/dashboardapi/assessments/section_responses",method:"GET",contentType:"application/json;charset=UTF-8",data:payload})},loadAssessmentQuestionsFromServer=function loadAssessmentQuestionsFromServer(scriptId){var payload={script_id:scriptId};return $.ajax({url:"/dashboardapi/assessments",method:"GET",contentType:"application/json;charset=UTF-8",data:payload})},loadSurveysFromServer=function loadSurveysFromServer(sectionId,scriptId){var payload={script_id:scriptId,section_id:sectionId};return $.ajax({url:"/dashboardapi/assessments/section_surveys",method:"GET",contentType:"application/json;charset=UTF-8",data:payload})},loadFeedbackFromServer=function loadFeedbackFromServer(sectionId,scriptId){var payload={script_id:scriptId,section_id:sectionId};return $.ajax({url:"/dashboardapi/assessments/section_feedback",method:"GET",contentType:"application/json;charset=UTF-8",data:payload})}},"./src/util/color.js":module=>{module.exports={black:"#000",background_black:"#121416",dark_gray:"#2D3139",darkest_gray:"#292F36",dark_slate_gray:"#282c34",darkest_slate_gray:"#25292d",dark_charcoal:"#4d575f",charcoal:"#5b6770",light_gray:"#949ca2",lighter_gray:"#c6cacd",lightest_gray:"#e7e8ea",background_gray:"#f2f2f2",dimgray:"#696969",white:"#fff",default_blue:"#3670b3",dark_teal:"#0094a3",teal:"#0093a4",applab_button_teal:"#1abc9c",light_teal:"#59cad3",lightish_teal:"#80d6de",lighter_teal:"#a6e3e8",lightest_teal:"#d9f3f5",ai_rubric_cyan:"#3cfff8",purple:"#8c52ba",light_purple:"#a69bc1",lighter_purple:"#cfc9de",lightest_purple:"#ebe8f1",cyan:"#0094ca",light_cyan:"#59b9dc",lighter_cyan:"#a6daed",lightest_cyan:"#d9eff7",almost_white_cyan:"#f5fcff",orange:"#ffa400",light_orange:"#ffc459",lighter_orange:"#ffe0a6",lightest_orange:"#fff2d9",dark_orange:"#ff8600",green:"#b9bf15",light_green:"#d1d567",lighter_green:"#e7e9ad",lightest_green:"#f5f5dc",highlight_green:"#8afc9b",yellow:"#ffb81d",light_yellow:"#ffdb74",lighter_yellow:"#ffebb5",lightest_yellow:"#fff7df",goldenrod:"#daa520",header_text:"#fff",bkgnd_color:"#0093a4",inset_color:"#c6cacd",dark_color:"#8c52ba",hdr_color:"#8c52ba",red:"#c00",lightest_red:"#fcc",dark_red:"#d62911",realgreen:"#008000",realyellow:"#ff0",mustardyellow:"#efcd1c",twitter_blue:"#00aced",facebook_blue:"#3b5998",linkedin_blue:"#0077B5",dark_blue:"#00647f",blockly_flyout_gray:"#ddd",default_text:"#333",border_gray:"#bbb",border_light_gray:"#d8d8d8",table_header:"#ececec",table_light_row:"#fcfcfc",table_dark_row:"#f4f4f4",level_submitted:"#8c52ba",level_perfect:"rgb(14, 190, 14)",level_passed:"rgb(159, 212, 159)",level_attempted:"#ff0",level_not_tried:"#fefefe",level_current:"#ffa400",level_review_rejected:"#c00",level_review_accepted:"rgb(11, 142, 11)",assessment:"#0094ca",workspace_running_background:"#e5e5e5",dark_purple:"#682A77",bright_green:"#0ebe0e",neon_pink:"#e9118f",link_color:"#0596ce",shadow:"rgba(0, 0, 0, 0.3)",bootstrap_button_blue:"#337ab7",bootstrap_button_red:"#d9534f",bootstrap_error_background:"#f2dede",bootstrap_error_text:"#b94a48",bootstrap_v3_error_text:"#a94442",bootstrap_error_border:"#ebccd1",bootstrap_warning_background:"#fcf8e3",bootstrap_warning_text:"#c09853",bootstrap_warning_border:"#faebcc",bootstrap_border_color:"#cccccc",bootstrap_success_background:"#dff0d8",bootstrap_success_text:"#468847",bootstrap_success_border:"#d6e9c6",droplet_light_green:"#d3e965",droplet_blue:"#64b5f6",droplet_bright_blue:"#19c3e1",droplet_yellow:"#fff176",droplet_orange:"#ffb74d",droplet_red:"#f78183",droplet_cyan:"#4dd0e1",droplet_pink:"#f57ac6",droplet_purple:"#bb77c7",droplet_green:"#68d995",droplet_white:"#fff",oceans_deep_blue:"rgb(2, 0, 28)",dark_black:"#121212",brand_primary_light:"#ABDFE5",brand_primary_default:"#009EB0",brand_primary_dark:"#008291",brand_secondary_light:"#E0D1EC",brand_secondary_default:"#8C52BA",brand_secondary_dark:"#6F488E",brand_accent_default:"#ED6060",brand_teal_5:"#DFF2F4",product_affirmative_default:"#3EA33E",product_negative_light:"#FDEBE9",product_negative_default:"#E5311A",product_negative_dark:"#AA2513",product_caution_default:"#F9CB28",product_information_default:"#007ACC",neutral_white:"#FFFFFF",neutral_light:"#F7F8FA",neutral_dark10:"#EAEBEB",neutral_dark20:"#D4D5D7",neutral_dark30:"#BFC1C3",neutral_dark40:"#A9ACAF",neutral_dark50:"#94979B",neutral_dark60:"#7F8286",neutral_dark70:"#6A6E73",neutral_dark80:"#54595E",neutral_dark90:"#3F444B",neutral_dark:"#292F36",google_brand_color:"#0F9D58",microsoft_brand_color:"#FFB900",facebook_brand_color:"#3B5998",light_primary_100:"#ABDFE5",light_primary_500:"#0093A4",light_primary_700:"#008291",light_secondary_100:"#E2D4EE",light_secondary_500:"#8C52BA",light_secondary_700:"#6F488E",light_gray_50:"#F7F8FA",light_gray_100:"#EAEBEB",light_gray_200:"#D4D5D7",light_gray_300:"#BFC1C3",light_gray_400:"#A9ACAF",light_gray_500:"#94979B",light_gray_600:"#7F8286",light_gray_700:"#6A6E73",light_gray_800:"#54595E",light_gray_900:"#3F444B",light_affirmative_100:"#E2F1E2",light_affirmative_500:"#3EA33E",light_negative_500:"#E5311A",light_caution_500:"#F9CB28",light_info_100:"#DCEFFB",light_info_500:"#1892E3",light_white:"#FFFFFF",light_black:"#292F36"}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGVBQWtCLFVBQ2xCLFlBQWUsVUFDZixZQUFlLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvcmVkdXgvdW5pdFNlbGVjdGlvblJlZHV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy90ZW1wbGF0ZXMvc2VjdGlvbkFzc2Vzc21lbnRzL3NlY3Rpb25Bc3Nlc3NtZW50c1JlZHV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy91dGlsL2NvbG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFJlZHVjZXIgZm9yIHNjcmlwdCBzZWxlY3Rpb24gaW4gdGVhY2hlciBkYXNoYm9hcmQuXG4vLyBUYWIgc3BlY2lmaWMgcmVkdWNlcnMgY2FuIGltcG9ydCBhY3Rpb25zIGZyb20gdGhpcyBmaWxlXG4vLyBpZiB0aGV5IG5lZWQgdG8gcmVzcG9uZCB0byBhIHNjcmlwdCBjaGFuZ2luZy5cblxuLy8gQWN0aW9uIHR5cGUgY29uc3RhbnRzXG5leHBvcnQgY29uc3QgU0VUX1NDUklQVCA9ICd1bml0U2VsZWN0aW9uL1NFVF9TQ1JJUFQnO1xuZXhwb3J0IGNvbnN0IFNFVF9DT1VSU0VTID0gJ3VuaXRTZWxlY3Rpb24vU0VUX0NPVVJTRVMnO1xuXG4vLyBBY3Rpb24gY3JlYXRvcnNcbmV4cG9ydCBjb25zdCBzZXRTY3JpcHRJZCA9IHNjcmlwdElkID0+ICh7dHlwZTogU0VUX1NDUklQVCwgc2NyaXB0SWR9KTtcbmV4cG9ydCBjb25zdCBzZXRDb3Vyc2VzV2l0aFByb2dyZXNzID0gY291cnNlc1dpdGhQcm9ncmVzcyA9PiAoe1xuICB0eXBlOiBTRVRfQ09VUlNFUyxcbiAgY291cnNlc1dpdGhQcm9ncmVzcyxcbn0pO1xuXG4vLyBTZWxlY3RvcnNcbmNvbnN0IGdldFNlbGVjdGVkVW5pdCA9IHN0YXRlID0+IHtcbiAgY29uc3Qgc2NyaXB0SWQgPSBzdGF0ZS51bml0U2VsZWN0aW9uLnNjcmlwdElkO1xuICBpZiAoIXNjcmlwdElkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZXQgdW5pdDtcbiAgc3RhdGUudW5pdFNlbGVjdGlvbi5jb3Vyc2VzV2l0aFByb2dyZXNzLmZvckVhY2goY291cnNlID0+IHtcbiAgICBjb25zdCB0ZW1wVW5pdCA9IGNvdXJzZS51bml0cy5maW5kKHVuaXQgPT4gc2NyaXB0SWQgPT09IHVuaXQuaWQpO1xuICAgIGlmICh0ZW1wVW5pdCkge1xuICAgICAgdW5pdCA9IHRlbXBVbml0O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB1bml0O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNlbGVjdGVkU2NyaXB0TmFtZSA9IHN0YXRlID0+IHtcbiAgcmV0dXJuIGdldFNlbGVjdGVkVW5pdChzdGF0ZSkgPyBnZXRTZWxlY3RlZFVuaXQoc3RhdGUpLmtleSA6IG51bGw7XG59O1xuXG4vKiBHZXQgdGhlIHVzZXIgZnJpZW5kbHkgbmFtZSBvZiBhIHNjcmlwdCh0aGUgdW5pdCBvciBjb3Vyc2UgbmFtZSkgKi9cbmV4cG9ydCBjb25zdCBnZXRTZWxlY3RlZFNjcmlwdEZyaWVuZGx5TmFtZSA9IHN0YXRlID0+IHtcbiAgcmV0dXJuIGdldFNlbGVjdGVkVW5pdChzdGF0ZSkgPyBnZXRTZWxlY3RlZFVuaXQoc3RhdGUpLm5hbWUgOiBudWxsO1xufTtcblxuLyogR2V0IHRoZSBkZXNjcmlwdGlvbiBvZiBhIHNjcmlwdCh0aGUgdW5pdCBvciBjb3Vyc2UgbmFtZSkgKi9cbmV4cG9ydCBjb25zdCBnZXRTZWxlY3RlZFNjcmlwdERlc2NyaXB0aW9uID0gc3RhdGUgPT4ge1xuICByZXR1cm4gZ2V0U2VsZWN0ZWRVbml0KHN0YXRlKSA/IGdldFNlbGVjdGVkVW5pdChzdGF0ZSkuZGVzY3JpcHRpb24gOiBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IGRvZXNDdXJyZW50Q291cnNlVXNlRmVlZGJhY2sgPSBzdGF0ZSA9PiB7XG4gIHJldHVybiAhIWdldFNlbGVjdGVkVW5pdChzdGF0ZSk/LmlzX2ZlZWRiYWNrX2VuYWJsZWQ7XG59O1xuXG4vLyBJbml0aWFsIHN0YXRlIG9mIHVuaXRTZWxlY3Rpb25SZWR1eFxuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBzY3JpcHRJZDogbnVsbCxcbiAgY291cnNlc1dpdGhQcm9ncmVzczogW10sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1bml0U2VsZWN0aW9uKHN0YXRlID0gaW5pdGlhbFN0YXRlLCBhY3Rpb24pIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBTRVRfQ09VUlNFUykge1xuICAgIGxldCBmaXJzdENvdXJzZSA9IGFjdGlvbi5jb3Vyc2VzV2l0aFByb2dyZXNzWzBdO1xuXG4gICAgY29uc3QgZmlyc3RVbml0ID0gZmlyc3RDb3Vyc2UgPyBmaXJzdENvdXJzZS51bml0c1swXSA6IG51bGw7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBjb3Vyc2VzV2l0aFByb2dyZXNzOiBhY3Rpb24uY291cnNlc1dpdGhQcm9ncmVzcyxcbiAgICAgIHNjcmlwdElkOiBzdGF0ZS5zY3JpcHRJZCA9PT0gbnVsbCA/IGZpcnN0VW5pdD8uaWQgOiBzdGF0ZS5zY3JpcHRJZCxcbiAgICB9O1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBTRVRfU0NSSVBUKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc2NyaXB0SWQ6IGFjdGlvbi5zY3JpcHRJZCxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuIiwiaW1wb3J0IHtcbiAgU0VUX1NDUklQVCxcbiAgZ2V0U2VsZWN0ZWRTY3JpcHROYW1lLFxuICBkb2VzQ3VycmVudENvdXJzZVVzZUZlZWRiYWNrLFxufSBmcm9tICdAY2RvL2FwcHMvcmVkdXgvdW5pdFNlbGVjdGlvblJlZHV4JztcblxuZXhwb3J0IGNvbnN0IEFMTF9TVFVERU5UX0ZJTFRFUiA9IDA7XG5cbi8qKlxuICogSW5pdGlhbCBzdGF0ZSBvZiBzZWN0aW9uQXNzZXNzbWVudHNSZWR1eFxuICogVGhlIHJlZHV4IHN0YXRlIG1hdGNoZXMgdGhlIHN0cnVjdHVyZSBvZiBvdXIgQVBJIGNhbGxzIGFuZCBvdXIgdmlld3MgZG9uJ3RcbiAqIHVzZSB0aGlzIHN0cnVjdHVyZSBkaXJlY3RseS4gU2VsZWN0b3JzIGZpbHRlciBhbmQgdHJhbnNmb3JtIGRhdGEgdG8gd2hhdCB0aGV5IG5lZWQuXG4gKlxuICogYXNzZXNzbWVudFJlc3BvbnNlc0J5U2NyaXB0IC0gb2JqZWN0IC0ga2V5cyBhcmUgc2NyaXB0SWRzLCB2YWx1ZXMgYXJlIG9iamVjdHMgb2ZcbiAqICBzdHVkZW50IGlkcyB0byBzdHVkZW50IHJlc3BvbnNlIGRhdGEgZm9yIGVhY2ggYXNzZXNzbWVudFxuICogYXNzZXNzbWVudFF1ZXN0aW9uc0J5U2NyaXB0IC0gb2JqZWN0IC0ga2V5cyBhcmUgc2NyaXB0SWRzLCB2YWx1ZXMgYXJlIG9iamVjdHMgb2ZcbiAqICAgYXNzZXNzbWVudElkcyB0byBxdWVzdGlvbiBhbmQgYW5zd2VyIGluZm9ybWF0aW9uIGZvciBlYWNoIGFzc2Vzc21lbnRcbiAqIHN1cnZleXNCeVNjcmlwdCAtIG9iamVjdCAtIGtleXMgYXJlIHNjcmlwdElkcywgdmFsdWVzIGFyZSBvYmplY3RzIG9mXG4gKiAgIGFzc2Vzc21lbnRJZHMgdG8gc3VydmV5IHF1ZXN0aW9ucyBhbmQgYW5vbnltb3VzIHJlc3BvbnNlc1xuICogaXNMb2FkaW5nIC0gYm9vbGVhbiAtIGluZGljYXRlcyB0aGF0IHJlcXVlc3RzIGZvciBhc3Nlc3NtZW50cyBhbmQgc3VydmV5cyBoYXZlIGJlZW5cbiAqIHNlbnQgdG8gdGhlIHNlcnZlciBidXQgdGhlIGNsaWVudCBoYXMgbm90IHlldCByZWNlaXZlZCBhIHJlc3BvbnNlXG4gKiBhc3Nlc3NtZW50SWQgLSBpbnQgLSB0aGUgbGV2ZWxfZ3JvdXAgaWQgb2YgdGhlIGFzc2Vzc21lbnQgY3VycmVudGx5IGluIHZpZXdcbiAqIHF1ZXN0aW9uSW5kZXggLSBpbnQgLSB0aGUgcXVlc3Rpb24gaW5kZXggb2YgdGhlIHF1ZXN0aW9uIGN1cnJlbnRseSBpbiB2aWV3IGluIGRldGFpbCB2aWV3XG4gKiBzdHVkZW50SWQgLSBpbnQgLSB0aGUgc3R1ZGVudElkIG9mIHRoZSBjdXJyZW50IHN0dWRlbnQgYmVpbmcgZmlsdGVyZWQgZm9yLlxuICovXG5jb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gIGFzc2Vzc21lbnRSZXNwb25zZXNCeVNjcmlwdDoge30sXG4gIGFzc2Vzc21lbnRRdWVzdGlvbnNCeVNjcmlwdDoge30sXG4gIGZlZWRiYWNrQnlTY3JpcHQ6IHt9LFxuICBzdXJ2ZXlzQnlTY3JpcHQ6IHt9LFxuICBpc0xvYWRpbmc6IGZhbHNlLFxuICBhc3Nlc3NtZW50SWQ6IDAsXG4gIHF1ZXN0aW9uSW5kZXg6IDAsXG4gIHN0dWRlbnRJZDogQUxMX1NUVURFTlRfRklMVEVSLFxufTtcblxuLy8gUXVlc3Rpb24gdHlwZXMgZm9yIGFzc2Vzc21lbnRzLlxuZXhwb3J0IGNvbnN0IFF1ZXN0aW9uVHlwZSA9IHtcbiAgTVVMVEk6ICdNdWx0aScsXG4gIE1BVENIOiAnTWF0Y2gnLFxuICBGUkVFX1JFU1BPTlNFOiAnRnJlZVJlc3BvbnNlJyxcbn07XG5cbi8vIFF1ZXN0aW9uIHR5cGVzIGZvciBzdXJ2ZXlzLlxuY29uc3QgU3VydmV5UXVlc3Rpb25UeXBlID0ge1xuICBNVUxUSTogJ211bHRpJyxcbiAgRlJFRV9SRVNQT05TRTogJ2ZyZWVfcmVzcG9uc2UnLFxufTtcblxuY29uc3QgTXVsdGlBbnN3ZXJTdGF0dXMgPSB7XG4gIENPUlJFQ1Q6ICdjb3JyZWN0JyxcbiAgSU5DT1JSRUNUOiAnaW5jb3JyZWN0Jyxcbn07XG5cbmNvbnN0IEFOU1dFUl9MRVRURVJTID0gWydBJywgJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snXTtcblxuZXhwb3J0IGNvbnN0IEFTU0VTU01FTlRfRkVFREJBQ0tfT1BUSU9OX0lEID0gMDtcblxuLyogSW4gb3JkZXIgZm9yIHRoZSBzb3J0aW5nIG9mIHRoZSBzdWJtaXNzaW9uIHRpbWVzdGFtcCBjb2x1bW4gdG8gd29yayBjb3JyZWN0bHkgaW4gdGhlIFN1Ym1pc3Npb25TdGF0dXNBc3Nlc3NtZW50c1RhYmxlLCB0aGUgc3VibWlzc2lvblRpbWVTdGFtcCBmaWVsZCBtdXN0IGJlIGEgRGF0ZS4gU28sIHdlIHBhc3MgaW4gYXJiaXRyYXJ5IERhdGVzIGluIHRoZSBwYXN0IHRvIGhhbmRsZSB3aGVuIHRoZSBhc3Nlc3NtZW50IGlzIGluIHByb2dyZXNzIG9yIG5vdCB5ZXQgc3RhcnRlZC4gKi9cbmV4cG9ydCBjb25zdCBpblByb2dyZXNzRmFrZVRpbWVzdGFtcCA9IG5ldyBEYXRlKFxuICAnMTk5MC0wMS0wMVQyMDo1MjowNS4wMDArMDA6MDAnXG4pO1xuZXhwb3J0IGNvbnN0IG5vdFN0YXJ0ZWRGYWtlVGltZXN0YW1wID0gbmV3IERhdGUoXG4gICcxOTgwLTAxLTAxVDIwOjUyOjA1LjAwMCswMDowMCdcbik7XG5cbi8vIEFjdGlvbiB0eXBlIGNvbnN0YW50c1xuY29uc3QgU0VUX0FTU0VTU01FTlRfUkVTUE9OU0VTID0gJ3NlY3Rpb25Bc3Nlc3NtZW50cy9TRVRfQVNTRVNTTUVOVF9SRVNQT05TRVMnO1xuY29uc3QgU0VUX0FTU0VTU01FTlRTX1FVRVNUSU9OUyA9XG4gICdzZWN0aW9uQXNzZXNzbWVudHMvU0VUX0FTU0VTU01FTlRTX1FVRVNUSU9OUyc7XG5jb25zdCBTRVRfRkVFREJBQ0sgPSAnc2VjdGlvbkFzc2Vzc21lbnRzL1NFVF9GRUVEQkFDSyc7XG5jb25zdCBTRVRfU1VSVkVZUyA9ICdzZWN0aW9uQXNzZXNzbWVudHMvU0VUX1NVUlZFWVMnO1xuY29uc3QgU1RBUlRfTE9BRElOR19BU1NFU1NNRU5UUyA9XG4gICdzZWN0aW9uQXNzZXNzbWVudHMvU1RBUlRfTE9BRElOR19BU1NFU1NNRU5UUyc7XG5jb25zdCBGSU5JU0hfTE9BRElOR19BU1NFU1NNRU5UUyA9XG4gICdzZWN0aW9uQXNzZXNzbWVudHMvRklOSVNIX0xPQURJTkdfQVNTRVNTTUVOVFMnO1xuY29uc3QgU0VUX0FTU0VTU01FTlRfSUQgPSAnc2VjdGlvbkFzc2Vzc21lbnRzL1NFVF9BU1NFU1NNRU5UX0lEJztcbmNvbnN0IFNFVF9JTklUSUFMX0FTU0VTU01FTlRfSUQgPVxuICAnc2VjdGlvbkFzc2Vzc21lbnRzL1NFVF9JTklUSUFMX0FTU0VTU01FTlRfSUQnO1xuY29uc3QgU0VUX1NUVURFTlRfSUQgPSAnc2VjdGlvbkFzc2Vzc21lbnRzL1NFVF9TVFVERU5UX0lEJztcbmNvbnN0IFNFVF9RVUVTVElPTl9JTkRFWCA9ICdzZWN0aW9uQXNzZXNzbWVudHMvU0VUX1FVRVNUSU9OX0lOREVYJztcblxuLy8gQWN0aW9uIGNyZWF0b3JzXG5leHBvcnQgY29uc3Qgc2V0QXNzZXNzbWVudFJlc3BvbnNlcyA9IChzY3JpcHRJZCwgYXNzZXNzbWVudHMpID0+ICh7XG4gIHR5cGU6IFNFVF9BU1NFU1NNRU5UX1JFU1BPTlNFUyxcbiAgc2NyaXB0SWQsXG4gIGFzc2Vzc21lbnRzLFxufSk7XG5leHBvcnQgY29uc3Qgc2V0QXNzZXNzbWVudFF1ZXN0aW9ucyA9IChzY3JpcHRJZCwgYXNzZXNzbWVudHMpID0+ICh7XG4gIHR5cGU6IFNFVF9BU1NFU1NNRU5UU19RVUVTVElPTlMsXG4gIHNjcmlwdElkLFxuICBhc3Nlc3NtZW50cyxcbn0pO1xuZXhwb3J0IGNvbnN0IHNldEZlZWRiYWNrID0gKHNjcmlwdElkLCBmZWVkYmFjaykgPT4gKHtcbiAgdHlwZTogU0VUX0ZFRURCQUNLLFxuICBzY3JpcHRJZCxcbiAgZmVlZGJhY2ssXG59KTtcbmV4cG9ydCBjb25zdCBzdGFydExvYWRpbmdBc3Nlc3NtZW50cyA9ICgpID0+ICh7XG4gIHR5cGU6IFNUQVJUX0xPQURJTkdfQVNTRVNTTUVOVFMsXG59KTtcbmV4cG9ydCBjb25zdCBmaW5pc2hMb2FkaW5nQXNzZXNzbWVudHMgPSAoKSA9PiAoe1xuICB0eXBlOiBGSU5JU0hfTE9BRElOR19BU1NFU1NNRU5UUyxcbn0pO1xuZXhwb3J0IGNvbnN0IHNldEFzc2Vzc21lbnRJZCA9IGFzc2Vzc21lbnRJZCA9PiAoe1xuICB0eXBlOiBTRVRfQVNTRVNTTUVOVF9JRCxcbiAgYXNzZXNzbWVudElkOiBhc3Nlc3NtZW50SWQsXG59KTtcbmV4cG9ydCBjb25zdCBzZXRJbml0aWFsQXNzZXNzbWVudElkID0gc2NyaXB0SWQgPT4gKHtcbiAgdHlwZTogU0VUX0lOSVRJQUxfQVNTRVNTTUVOVF9JRCxcbiAgc2NyaXB0SWQ6IHNjcmlwdElkLFxufSk7XG5leHBvcnQgY29uc3Qgc2V0UXVlc3Rpb25JbmRleCA9IHF1ZXN0aW9uSW5kZXggPT4gKHtcbiAgdHlwZTogU0VUX1FVRVNUSU9OX0lOREVYLFxuICBxdWVzdGlvbkluZGV4OiBxdWVzdGlvbkluZGV4LFxufSk7XG5leHBvcnQgY29uc3Qgc2V0U3R1ZGVudElkID0gc3R1ZGVudElkID0+ICh7XG4gIHR5cGU6IFNFVF9TVFVERU5UX0lELFxuICBzdHVkZW50SWQ6IHN0dWRlbnRJZCxcbn0pO1xuZXhwb3J0IGNvbnN0IHNldFN1cnZleXMgPSAoc2NyaXB0SWQsIHN1cnZleXMpID0+ICh7XG4gIHR5cGU6IFNFVF9TVVJWRVlTLFxuICBzY3JpcHRJZCxcbiAgc3VydmV5cyxcbn0pO1xuXG5leHBvcnQgY29uc3QgYXN5bmNMb2FkQXNzZXNzbWVudHMgPSAoc2VjdGlvbklkLCBzY3JpcHRJZCkgPT4ge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKS5zZWN0aW9uQXNzZXNzbWVudHM7XG5cbiAgICAvLyBEb24ndCBsb2FkIGRhdGEgaWYgaXQncyBhbHJlYWR5IHN0b3JlZCBvciBpZiB0aGVyZSBpcyBubyBzY3JpcHQgb3Igbm8gc2VjdGlvbiBzZWxlY3RlZC5cbiAgICBpZiAoXG4gICAgICBzdGF0ZS5hc3Nlc3NtZW50UmVzcG9uc2VzQnlTY3JpcHRbc2NyaXB0SWRdIHx8XG4gICAgICAhc2NyaXB0SWQgfHxcbiAgICAgICFzZWN0aW9uSWRcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkaXNwYXRjaChzdGFydExvYWRpbmdBc3Nlc3NtZW50cygpKTtcblxuICAgIGNvbnN0IGxvYWRSZXNwb25zZXMgPSBsb2FkQXNzZXNzbWVudFJlc3BvbnNlc0Zyb21TZXJ2ZXIoXG4gICAgICBzZWN0aW9uSWQsXG4gICAgICBzY3JpcHRJZFxuICAgICk7XG4gICAgY29uc3QgbG9hZFF1ZXN0aW9ucyA9IGxvYWRBc3Nlc3NtZW50UXVlc3Rpb25zRnJvbVNlcnZlcihzY3JpcHRJZCk7XG4gICAgY29uc3QgbG9hZFN1cnZleXMgPSBsb2FkU3VydmV5c0Zyb21TZXJ2ZXIoc2VjdGlvbklkLCBzY3JpcHRJZCk7XG4gICAgY29uc3QgbG9hZEZlZWRiYWNrID0gbG9hZEZlZWRiYWNrRnJvbVNlcnZlcihzZWN0aW9uSWQsIHNjcmlwdElkKTtcblxuICAgIFByb21pc2UuYWxsKFtsb2FkUmVzcG9uc2VzLCBsb2FkUXVlc3Rpb25zLCBsb2FkU3VydmV5cywgbG9hZEZlZWRiYWNrXSlcbiAgICAgIC50aGVuKGFycmF5T2ZWYWx1ZXMgPT4ge1xuICAgICAgICBkaXNwYXRjaChzZXRBc3Nlc3NtZW50UmVzcG9uc2VzKHNjcmlwdElkLCBhcnJheU9mVmFsdWVzWzBdKSk7XG4gICAgICAgIGRpc3BhdGNoKHNldEFzc2Vzc21lbnRRdWVzdGlvbnMoc2NyaXB0SWQsIGFycmF5T2ZWYWx1ZXNbMV0pKTtcbiAgICAgICAgZGlzcGF0Y2goc2V0RmVlZGJhY2soc2NyaXB0SWQsIGFycmF5T2ZWYWx1ZXNbM10pKTtcbiAgICAgICAgZGlzcGF0Y2goc2V0U3VydmV5cyhzY3JpcHRJZCwgYXJyYXlPZlZhbHVlc1syXSkpO1xuICAgICAgICBkaXNwYXRjaChzZXRJbml0aWFsQXNzZXNzbWVudElkKHNjcmlwdElkKSk7XG4gICAgICAgIGRpc3BhdGNoKGZpbmlzaExvYWRpbmdBc3Nlc3NtZW50cygpKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAvLyBJZiBhbnkgcmV0dXJuIGFuIGVycm9yLCB0aGUgVUkgd2lsbCBzaG93IHRoYXQgdGhlcmUgYXJlIG5vIGFzc2Vzc21lbnRzLlxuICAgICAgICBkaXNwYXRjaChmaW5pc2hMb2FkaW5nQXNzZXNzbWVudHMoKSk7XG4gICAgICB9KTtcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlY3Rpb25Bc3Nlc3NtZW50cyhzdGF0ZSA9IGluaXRpYWxTdGF0ZSwgYWN0aW9uKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX1NDUklQVCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHN0dWRlbnRJZDogQUxMX1NUVURFTlRfRklMVEVSLFxuICAgICAgcXVlc3Rpb25JbmRleDogMCxcbiAgICB9O1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX0FTU0VTU01FTlRfSUQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBhc3Nlc3NtZW50SWQ6IGFjdGlvbi5hc3Nlc3NtZW50SWQsXG4gICAgICBxdWVzdGlvbkluZGV4OiAwLFxuICAgICAgc3R1ZGVudElkOiBBTExfU1RVREVOVF9GSUxURVIsXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNFVF9JTklUSUFMX0FTU0VTU01FTlRfSUQpIHtcbiAgICBjb25zdCBhc3Nlc3NtZW50SWQgPSBnZXRGaXJzdEFzc2Vzc21lbnRJZChzdGF0ZSwgYWN0aW9uLnNjcmlwdElkKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBhc3Nlc3NtZW50SWQsXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNFVF9TVFVERU5UX0lEKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc3R1ZGVudElkOiBhY3Rpb24uc3R1ZGVudElkLFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBTRVRfUVVFU1RJT05fSU5ERVgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBxdWVzdGlvbkluZGV4OiBhY3Rpb24ucXVlc3Rpb25JbmRleCxcbiAgICB9O1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX0FTU0VTU01FTlRfUkVTUE9OU0VTKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgYXNzZXNzbWVudFJlc3BvbnNlc0J5U2NyaXB0OiB7XG4gICAgICAgIC4uLnN0YXRlLmFzc2Vzc21lbnRSZXNwb25zZXNCeVNjcmlwdCxcbiAgICAgICAgW2FjdGlvbi5zY3JpcHRJZF06IGFjdGlvbi5hc3Nlc3NtZW50cyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNFVF9GRUVEQkFDSykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGZlZWRiYWNrQnlTY3JpcHQ6IHtcbiAgICAgICAgLi4uc3RhdGUuZmVlZGJhY2tCeVNjcmlwdCxcbiAgICAgICAgW2FjdGlvbi5zY3JpcHRJZF06IGFjdGlvbi5mZWVkYmFjayxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNFVF9TVVJWRVlTKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc3VydmV5c0J5U2NyaXB0OiB7XG4gICAgICAgIC4uLnN0YXRlLnN1cnZleXNCeVNjcmlwdCxcbiAgICAgICAgW2FjdGlvbi5zY3JpcHRJZF06IGFjdGlvbi5zdXJ2ZXlzLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX0FTU0VTU01FTlRTX1FVRVNUSU9OUykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGFzc2Vzc21lbnRRdWVzdGlvbnNCeVNjcmlwdDoge1xuICAgICAgICAuLi5zdGF0ZS5hc3Nlc3NtZW50UXVlc3Rpb25zQnlTY3JpcHQsXG4gICAgICAgIFthY3Rpb24uc2NyaXB0SWRdOiBhY3Rpb24uYXNzZXNzbWVudHMsXG4gICAgICB9LFxuICAgICAgLy8gRGVmYXVsdCB0aGUgYXNzZXNzbWVudElkIHRvIHRoZSBmaXJzdCBhc3Nlc3NtZW50IGluIHRoZSBzdHJ1Y3R1cmVcbiAgICAgIGFzc2Vzc21lbnRJZDogcGFyc2VJbnQoT2JqZWN0LmtleXMoYWN0aW9uLmFzc2Vzc21lbnRzKVswXSksXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNUQVJUX0xPQURJTkdfQVNTRVNTTUVOVFMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IEZJTklTSF9MT0FESU5HX0FTU0VTU01FTlRTKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vLyBTZWxlY3RvciBmdW5jdGlvbnNcblxuLy8gUmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3RzLCBlYWNoIGluZGljYXRpbmcgYW4gYXNzZXNzbWVudCBuYW1lIGFuZCBpdCdzIGlkXG4vLyBmb3IgdGhlIGFzc2Vzc21lbnRzIGFuZCBzdXJ2ZXlzIGluIHRoZSBjdXJyZW50IHNjcmlwdC5cbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50U2NyaXB0QXNzZXNzbWVudExpc3QgPSBzdGF0ZSA9PiB7XG4gIGxldCB0ZW1wQXNzZXNzbWVudExpc3QgPSBjb21wdXRlU2NyaXB0QXNzZXNzbWVudExpc3QoXG4gICAgc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLFxuICAgIHN0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRcbiAgKTtcbiAgLyogT25seSBhZGQgdGhlIGZlZWRiYWNrIG9wdGlvbiB0byB0aGUgZHJvcGRvd24gZm9yIENTRCBhbmQgQ1NQICovXG4gIGlmIChkb2VzQ3VycmVudENvdXJzZVVzZUZlZWRiYWNrKHN0YXRlKSkge1xuICAgIHRlbXBBc3Nlc3NtZW50TGlzdCA9IHRlbXBBc3Nlc3NtZW50TGlzdC5jb25jYXQoe1xuICAgICAgaWQ6IEFTU0VTU01FTlRfRkVFREJBQ0tfT1BUSU9OX0lELFxuICAgICAgbmFtZTogJ0FsbCB0ZWFjaGVyIGZlZWRiYWNrIGluIHRoaXMgdW5pdCcsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRlbXBBc3Nlc3NtZW50TGlzdDtcbn07XG5cbi8vIEdldCB0aGUgc3R1ZGVudCByZXNwb25zZXMgZm9yIGFzc2Vzc21lbnRzIGluIHRoZSBjdXJyZW50IHNjcmlwdCBhbmQgY3VycmVudCBhc3Nlc3NtZW50XG5leHBvcnQgY29uc3QgZ2V0QXNzZXNzbWVudFJlc3BvbnNlc0ZvckN1cnJlbnRTY3JpcHQgPSBzdGF0ZSA9PiB7XG4gIHJldHVybiAoXG4gICAgc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLmFzc2Vzc21lbnRSZXNwb25zZXNCeVNjcmlwdFtcbiAgICAgIHN0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRcbiAgICBdIHx8IHt9XG4gICk7XG59O1xuXG4vLyBHZXQgdGhlIHF1ZXN0aW9uIHN0cnVjdHVyZSBmb3IgYXNzZXNzbWVudHMgaW4gdGhlIGN1cnJlbnQgc2NyaXB0IGFuZCBjdXJyZW50IGFzc2Vzc21lbnRcbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50QXNzZXNzbWVudFF1ZXN0aW9ucyA9IHN0YXRlID0+IHtcbiAgY29uc3QgY3VycmVudFNjcmlwdERhdGEgPVxuICAgIHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50UXVlc3Rpb25zQnlTY3JpcHRbXG4gICAgICBzdGF0ZS51bml0U2VsZWN0aW9uLnNjcmlwdElkXG4gICAgXSB8fCB7fTtcbiAgcmV0dXJuIGN1cnJlbnRTY3JpcHREYXRhW3N0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWRdO1xufTtcblxuLy8gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgcXVlc3Rpb24gdGV4dCBhbmQgYW5zd2VycyBvZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkXG4vLyBxdWVzdGlvbiBpbiB0aGUgY3VycmVudCBhc3Nlc3NtZW50LlxuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRRdWVzdGlvbiA9IHN0YXRlID0+IHtcbiAgY29uc3QgZW1wdHlRdWVzdGlvbiA9IHtxdWVzdGlvbjogJycsIGFuc3dlcnM6IFtdfTtcbiAgY29uc3QgaXNTdXJ2ZXkgPSBpc0N1cnJlbnRBc3Nlc3NtZW50U3VydmV5KHN0YXRlKTtcbiAgaWYgKGlzU3VydmV5KSB7XG4gICAgY29uc3Qgc3VydmV5cyA9XG4gICAgICBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3VydmV5c0J5U2NyaXB0W3N0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRdIHx8XG4gICAgICB7fTtcbiAgICBjb25zdCBjdXJyZW50U3VydmV5ID0gc3VydmV5c1tzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkXTtcbiAgICBjb25zdCBxdWVzdGlvbnNEYXRhID0gY3VycmVudFN1cnZleS5sZXZlbGdyb3VwX3Jlc3VsdHM7XG4gICAgY29uc3QgcXVlc3Rpb24gPSBxdWVzdGlvbnNEYXRhW3N0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5xdWVzdGlvbkluZGV4XTtcbiAgICBpZiAocXVlc3Rpb24pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvbi5xdWVzdGlvbixcbiAgICAgICAgYW5zd2VyczpcbiAgICAgICAgICBxdWVzdGlvbi50eXBlID09PSBTdXJ2ZXlRdWVzdGlvblR5cGUuTVVMVEkgJiZcbiAgICAgICAgICBxdWVzdGlvbi5hbnN3ZXJfdGV4dHMubWFwKChhbnN3ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0ZXh0OiBhbnN3ZXIsXG4gICAgICAgICAgICAgIGNvcnJlY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICBsZXR0ZXI6IEFOU1dFUl9MRVRURVJTW2luZGV4XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZW1wdHlRdWVzdGlvbjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gR2V0IHF1ZXN0aW9uIHRleHQgZm9yIGFzc2Vzc21lbnQuXG4gICAgY29uc3QgYXNzZXNzbWVudCA9IGdldEN1cnJlbnRBc3Nlc3NtZW50UXVlc3Rpb25zKHN0YXRlKSB8fCB7fTtcbiAgICBjb25zdCBhc3Nlc3NtZW50UXVlc3Rpb25zID0gYXNzZXNzbWVudC5xdWVzdGlvbnM7XG4gICAgY29uc3QgcXVlc3Rpb24gPSBhc3Nlc3NtZW50UXVlc3Rpb25zXG4gICAgICA/IGFzc2Vzc21lbnRRdWVzdGlvbnNbc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnF1ZXN0aW9uSW5kZXhdXG4gICAgICA6IG51bGw7XG4gICAgaWYgKHF1ZXN0aW9uKSB7XG4gICAgICBpZiAocXVlc3Rpb24udHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1VTFRJKSB7XG4gICAgICAgIGNvbnN0IGFuc3dlcnMgPVxuICAgICAgICAgIHF1ZXN0aW9uLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NVUxUSSAmJlxuICAgICAgICAgIChxdWVzdGlvbi5hbnN3ZXJzIHx8IFtdKS5tYXAoKGFuc3dlciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7Li4uYW5zd2VyLCBsZXR0ZXI6IEFOU1dFUl9MRVRURVJTW2luZGV4XX07XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb25fdGV4dCxcbiAgICAgICAgICBhbnN3ZXJzOiBhbnN3ZXJzLFxuICAgICAgICAgIHF1ZXN0aW9uVHlwZTogUXVlc3Rpb25UeXBlLk1VTFRJLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChxdWVzdGlvbi50eXBlID09PSBRdWVzdGlvblR5cGUuRlJFRV9SRVNQT05TRSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvbi5xdWVzdGlvbl90ZXh0LFxuICAgICAgICAgIGFuc3dlcnM6IG51bGwsXG4gICAgICAgICAgcXVlc3Rpb25UeXBlOiBRdWVzdGlvblR5cGUuRlJFRV9SRVNQT05TRSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAocXVlc3Rpb24udHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1BVENIKSB7XG4gICAgICAgIGNvbnN0IGFuc3dlcnMgPSBxdWVzdGlvbi5hbnN3ZXJzLm1hcChhbnN3ZXIgPT4ge1xuICAgICAgICAgIHJldHVybiBhbnN3ZXIudGV4dDtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBxdWVzdGlvbi5vcHRpb25zLm1hcChvcHRpb24gPT4ge1xuICAgICAgICAgIHJldHVybiBvcHRpb24udGV4dDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uLnF1ZXN0aW9uLFxuICAgICAgICAgIGFuc3dlcnM6IGFuc3dlcnMsXG4gICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICBxdWVzdGlvblR5cGU6IFF1ZXN0aW9uVHlwZS5NQVRDSCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVtcHR5UXVlc3Rpb247XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cywgZWFjaCBvZiB0eXBlIHF1ZXN0aW9uU3RydWN0dXJlUHJvcFR5cGVcbiAqIGluZGljYXRpbmcgdGhlIHF1ZXN0aW9uIGFuZCBjb3JyZWN0IGFuc3dlcnMgZm9yIGVhY2ggbXVsdGlwbGUgY2hvaWNlXG4gKiBxdWVzdGlvbiBpbiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGFzc2Vzc21lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRNdWx0aXBsZUNob2ljZVN0cnVjdHVyZUZvckN1cnJlbnRBc3Nlc3NtZW50ID0gc3RhdGUgPT4ge1xuICBjb25zdCBhc3Nlc3NtZW50c1N0cnVjdHVyZSA9IGdldEN1cnJlbnRBc3Nlc3NtZW50UXVlc3Rpb25zKHN0YXRlKTtcbiAgaWYgKCFhc3Nlc3NtZW50c1N0cnVjdHVyZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IHF1ZXN0aW9uRGF0YSA9IGFzc2Vzc21lbnRzU3RydWN0dXJlLnF1ZXN0aW9ucztcblxuICAvLyBUcmFuc2Zvcm0gdGhhdCBkYXRhIGludG8gd2hhdCB3ZSBuZWVkIGZvciB0aGlzIHBhcnRpY3VsYXIgdGFibGUsIGluIHRoaXMgY2FzZVxuICAvLyBxdWVzdGlvblN0cnVjdHVyZVByb3BUeXBlIHN0cnVjdHVyZS5cbiAgcmV0dXJuIHF1ZXN0aW9uRGF0YVxuICAgIC5maWx0ZXIocXVlc3Rpb24gPT4gcXVlc3Rpb24udHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1VTFRJKVxuICAgIC5tYXAocXVlc3Rpb24gPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHF1ZXN0aW9uLmxldmVsX2lkLFxuICAgICAgICBxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb25fdGV4dCxcbiAgICAgICAgcXVlc3Rpb25OdW1iZXI6IHF1ZXN0aW9uLnF1ZXN0aW9uX2luZGV4ICsgMSxcbiAgICAgICAgY29ycmVjdEFuc3dlcjogZ2V0Q29ycmVjdEFuc3dlcihxdWVzdGlvbi5hbnN3ZXJzKSxcbiAgICAgIH07XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cywgZWFjaCBvZiB0eXBlIHN0dWRlbnRBbnN3ZXJEYXRhUHJvcFR5cGVcbiAqIGluZGljYXRpbmcgdGhlIHN0dWRlbnQgcmVzcG9uc2VzIHRvIG11bHRpcGxlIGNob2ljZSBxdWVzdGlvbnMgZm9yIHRoZVxuICogY3VycmVudGx5IHNlbGVjdGVkIGFzc2Vzc21lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTdHVkZW50TUNSZXNwb25zZXNGb3JDdXJyZW50QXNzZXNzbWVudCA9IHN0YXRlID0+IHtcbiAgY29uc3Qgc3R1ZGVudFJlc3BvbnNlcyA9IGdldEFzc2Vzc21lbnRSZXNwb25zZXNGb3JDdXJyZW50U2NyaXB0KHN0YXRlKTtcbiAgaWYgKCFzdHVkZW50UmVzcG9uc2VzKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIGNvbnN0IHN0dWRlbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5zdHVkZW50SWQ7XG4gIGNvbnN0IHN0dWRlbnRPYmplY3QgPSBzdHVkZW50UmVzcG9uc2VzW3N0dWRlbnRJZF07XG4gIGlmICghc3R1ZGVudE9iamVjdCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIGNvbnN0IGN1cnJlbnRBc3Nlc3NtZW50SWQgPSBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkO1xuICBjb25zdCBzdHVkZW50QXNzZXNzbWVudCA9XG4gICAgc3R1ZGVudE9iamVjdC5yZXNwb25zZXNfYnlfYXNzZXNzbWVudFtjdXJyZW50QXNzZXNzbWVudElkXTtcblxuICAvLyBJZiB0aGUgc3R1ZGVudCBoYXMgbm90IHN1Ym1pdHRlZCB0aGlzIGFzc2Vzc21lbnQsIGRvbid0IGRpc3BsYXkgcmVzdWx0cy5cbiAgaWYgKCFzdHVkZW50QXNzZXNzbWVudCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIC8vIFRyYW5zZm9ybSB0aGF0IGRhdGEgaW50byB3aGF0IHdlIG5lZWQgZm9yIHRoaXMgcGFydGljdWxhciB0YWJsZSwgaW4gdGhpcyBjYXNlXG4gIC8vIGlzIHRoZSBzdHJ1Y3R1cmUgc3R1ZGVudEFuc3dlckRhdGFQcm9wVHlwZVxuICByZXR1cm4ge1xuICAgIGlkOiBzdHVkZW50SWQsXG4gICAgbmFtZTogc3R1ZGVudE9iamVjdC5zdHVkZW50X25hbWUsXG4gICAgc3R1ZGVudFJlc3BvbnNlczogc3R1ZGVudEFzc2Vzc21lbnQubGV2ZWxfcmVzdWx0c1xuICAgICAgLmZpbHRlcihhbnN3ZXIgPT4gYW5zd2VyLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NVUxUSSlcbiAgICAgIC5tYXAoYW5zd2VyID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNwb25zZXM6IGluZGV4ZXNUb0Fuc3dlclN0cmluZyhhbnN3ZXIuc3R1ZGVudF9yZXN1bHQpLFxuICAgICAgICAgIGlzQ29ycmVjdDogYW5zd2VyLnN0YXR1cyA9PT0gTXVsdGlBbnN3ZXJTdGF0dXMuQ09SUkVDVCxcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICB9O1xufTtcblxuLypcbiAqIEdldCB0aGUgbWF0Y2ggcXVlc3Rpb25zIGluIHRoZSBjdXJyZW50IGFzc2Vzc21lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGdldE1hdGNoU3RydWN0dXJlRm9yQ3VycmVudEFzc2Vzc21lbnQgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IGFzc2Vzc21lbnRzU3RydWN0dXJlID0gZ2V0Q3VycmVudEFzc2Vzc21lbnRRdWVzdGlvbnMoc3RhdGUpO1xuICBpZiAoIWFzc2Vzc21lbnRzU3RydWN0dXJlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgcXVlc3Rpb25EYXRhID0gYXNzZXNzbWVudHNTdHJ1Y3R1cmUucXVlc3Rpb25zO1xuXG4gIC8vIFRyYW5zZm9ybSB0aGF0IGRhdGEgaW50byB3aGF0IHdlIG5lZWQgZm9yIHRoaXMgcGFydGljdWxhciB0YWJsZSwgaW4gdGhpcyBjYXNlXG4gIC8vIHF1ZXN0aW9uU3RydWN0dXJlUHJvcFR5cGUgc3RydWN0dXJlLlxuICByZXR1cm4gcXVlc3Rpb25EYXRhXG4gICAgLmZpbHRlcihxdWVzdGlvbiA9PiBxdWVzdGlvbi50eXBlID09PSBRdWVzdGlvblR5cGUuTUFUQ0gpXG4gICAgLm1hcChxdWVzdGlvbiA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcXVlc3Rpb24ubGV2ZWxfaWQsXG4gICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvbi5xdWVzdGlvbixcbiAgICAgICAgcXVlc3Rpb25OdW1iZXI6IHF1ZXN0aW9uLnF1ZXN0aW9uX2luZGV4ICsgMSxcbiAgICAgICAgYW5zd2VyczogcXVlc3Rpb24uYW5zd2VycyxcbiAgICAgICAgb3B0aW9uczogcXVlc3Rpb24ub3B0aW9ucyxcbiAgICAgIH07XG4gICAgfSk7XG59O1xuXG4vKlxuICogR2V0IHRoZSBtYXRjaCBxdWVzdGlvbnMgcmVzcG9uc2VzIGluIHRoZSBjdXJyZW50IGFzc2Vzc21lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFN0dWRlbnRNYXRjaFJlc3BvbnNlc0ZvckN1cnJlbnRBc3Nlc3NtZW50ID0gc3RhdGUgPT4ge1xuICBjb25zdCBzdHVkZW50UmVzcG9uc2VzID0gZ2V0QXNzZXNzbWVudFJlc3BvbnNlc0ZvckN1cnJlbnRTY3JpcHQoc3RhdGUpO1xuICBpZiAoIXN0dWRlbnRSZXNwb25zZXMpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgY29uc3Qgc3R1ZGVudElkID0gc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN0dWRlbnRJZDtcbiAgY29uc3Qgc3R1ZGVudE9iamVjdCA9IHN0dWRlbnRSZXNwb25zZXNbc3R1ZGVudElkXTtcbiAgaWYgKCFzdHVkZW50T2JqZWN0KSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gIGNvbnN0IHN0dWRlbnRBc3Nlc3NtZW50ID1cbiAgICBzdHVkZW50T2JqZWN0LnJlc3BvbnNlc19ieV9hc3Nlc3NtZW50W2N1cnJlbnRBc3Nlc3NtZW50SWRdO1xuXG4gIC8vIElmIHRoZSBzdHVkZW50IGhhcyBub3Qgc3VibWl0dGVkIHRoaXMgYXNzZXNzbWVudCwgZG9uJ3QgZGlzcGxheSByZXN1bHRzLlxuICBpZiAoIXN0dWRlbnRBc3Nlc3NtZW50KSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgLy8gVHJhbnNmb3JtIHRoYXQgZGF0YSBpbnRvIHdoYXQgd2UgbmVlZCBmb3IgdGhpcyBwYXJ0aWN1bGFyIHRhYmxlLCBpbiB0aGlzIGNhc2VcbiAgLy8gaXMgdGhlIHN0cnVjdHVyZSBzdHVkZW50QW5zd2VyRGF0YVByb3BUeXBlXG4gIHJldHVybiB7XG4gICAgaWQ6IHN0dWRlbnRJZCxcbiAgICBuYW1lOiBzdHVkZW50T2JqZWN0LnN0dWRlbnRfbmFtZSxcbiAgICBzdHVkZW50UmVzcG9uc2VzOiBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzXG4gICAgICAuZmlsdGVyKGFuc3dlciA9PiBhbnN3ZXIudHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1BVENIKVxuICAgICAgLm1hcChhbnN3ZXIgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3BvbnNlczogYW5zd2VyLnN0dWRlbnRfcmVzdWx0LFxuICAgICAgICB9O1xuICAgICAgfSksXG4gIH07XG59O1xuXG4vLyBHZXQgYW4gYXJyYXkgb2Ygb2JqZWN0cyBpbmRpY2F0aW5nIHdoYXQgZWFjaCBzdHVkZW50IGFuc3dlcmVkIGZvciB0aGUgY3VycmVudFxuLy8gcXVlc3Rpb24gaW4gdmlldy5cbmV4cG9ydCBjb25zdCBnZXRTdHVkZW50QW5zd2Vyc0ZvckN1cnJlbnRRdWVzdGlvbiA9IHN0YXRlID0+IHtcbiAgY29uc3Qgc3R1ZGVudFJlc3BvbnNlcyA9IGdldEFzc2Vzc21lbnRSZXNwb25zZXNGb3JDdXJyZW50U2NyaXB0KHN0YXRlKTtcbiAgaWYgKCFzdHVkZW50UmVzcG9uc2VzIHx8IGlzQ3VycmVudEFzc2Vzc21lbnRTdXJ2ZXkoc3RhdGUpKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgcXVlc3Rpb25JbmRleCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5xdWVzdGlvbkluZGV4O1xuICBsZXQgc3R1ZGVudEFuc3dlcnMgPSBbXTtcblxuICAvLyBGb3IgZWFjaCBzdHVkZW50LCBsb29rIHVwIHRoZWlyIHJlc3BvbnNlcyB0byB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGFzc2Vzc21lbnQuXG4gIE9iamVjdC5rZXlzKHN0dWRlbnRSZXNwb25zZXMpLmZvckVhY2goc3R1ZGVudElkID0+IHtcbiAgICBzdHVkZW50SWQgPSBwYXJzZUludChzdHVkZW50SWQsIDEwKTtcbiAgICBjb25zdCBzdHVkZW50T2JqZWN0ID0gc3R1ZGVudFJlc3BvbnNlc1tzdHVkZW50SWRdO1xuICAgIGNvbnN0IGN1cnJlbnRBc3Nlc3NtZW50SWQgPSBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkO1xuICAgIGxldCBzdHVkZW50QXNzZXNzbWVudCA9XG4gICAgICBzdHVkZW50T2JqZWN0LnJlc3BvbnNlc19ieV9hc3Nlc3NtZW50W2N1cnJlbnRBc3Nlc3NtZW50SWRdIHx8IHt9O1xuXG4gICAgY29uc3QgcmVzcG9uc2VzQXJyYXkgPSBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzIHx8IFtdO1xuICAgIGNvbnN0IHF1ZXN0aW9uID0gcmVzcG9uc2VzQXJyYXlbcXVlc3Rpb25JbmRleF07XG4gICAgaWYgKHF1ZXN0aW9uKSB7XG4gICAgICBpZiAocXVlc3Rpb24udHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1VTFRJKSB7XG4gICAgICAgIHN0dWRlbnRBbnN3ZXJzLnB1c2goe1xuICAgICAgICAgIGlkOiBzdHVkZW50SWQsXG4gICAgICAgICAgbmFtZTogc3R1ZGVudE9iamVjdC5zdHVkZW50X25hbWUsXG4gICAgICAgICAgYW5zd2VyOiBxdWVzdGlvbi5zdHVkZW50X3Jlc3VsdFxuICAgICAgICAgICAgPyBpbmRleGVzVG9BbnN3ZXJTdHJpbmcocXVlc3Rpb24uc3R1ZGVudF9yZXN1bHQpXG4gICAgICAgICAgICA6ICctJyxcbiAgICAgICAgICBjb3JyZWN0OiBxdWVzdGlvbi5zdGF0dXMgPT09ICdjb3JyZWN0JyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHN0dWRlbnRBbnN3ZXJzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIG9iamVjdHMsIGVhY2ggcmVwcmVzZW50aW5nIGEgZnJlZSByZXNwb25zZSBxdWVzdGlvblxuICogYW5kIGFsbCB0aGUgc3R1ZGVudHMnIHJlc3BvbnNlcyB0byB0aGF0IHF1ZXN0aW9uLlxuICovXG5leHBvcnQgY29uc3QgZ2V0QXNzZXNzbWVudHNGcmVlUmVzcG9uc2VSZXN1bHRzID0gc3RhdGUgPT4ge1xuICBjb25zdCBhc3Nlc3NtZW50c1N0cnVjdHVyZSA9IGdldEN1cnJlbnRBc3Nlc3NtZW50UXVlc3Rpb25zKHN0YXRlKTtcbiAgaWYgKCFhc3Nlc3NtZW50c1N0cnVjdHVyZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgYW4gb2JqZWN0IGZvciBlYWNoIHF1ZXN0aW9uLCB3aXRoIHRoZSBxdWVzdGlvblRleHQgYW5kXG4gIC8vIGFuIGVtcHR5IGFycmF5IG9mIHJlc3BvbnNlcy5cbiAgY29uc3QgcXVlc3Rpb25EYXRhID0gYXNzZXNzbWVudHNTdHJ1Y3R1cmUucXVlc3Rpb25zO1xuICBjb25zdCBxdWVzdGlvbnNBbmRSZXN1bHRzID0gcXVlc3Rpb25EYXRhXG4gICAgLmZpbHRlcihxdWVzdGlvbiA9PiBxdWVzdGlvbi50eXBlID09PSBRdWVzdGlvblR5cGUuRlJFRV9SRVNQT05TRSlcbiAgICAubWFwKHF1ZXN0aW9uID0+ICh7XG4gICAgICBxdWVzdGlvblRleHQ6IHF1ZXN0aW9uLnF1ZXN0aW9uX3RleHQsXG4gICAgICBxdWVzdGlvbk51bWJlcjogcXVlc3Rpb24ucXVlc3Rpb25faW5kZXggKyAxLFxuICAgICAgcmVzcG9uc2VzOiBbXSxcbiAgICB9KSk7XG5cbiAgY29uc3Qgc3R1ZGVudFJlc3BvbnNlcyA9IGdldEFzc2Vzc21lbnRSZXNwb25zZXNGb3JDdXJyZW50U2NyaXB0KHN0YXRlKTtcblxuICBsZXQgY3VycmVudFN0dWRlbnRzSWRzID0gT2JqZWN0LmtleXMoc3R1ZGVudFJlc3BvbnNlcyk7XG4gIC8vIEZpbHRlciBieSBjdXJyZW50IHNlbGVjdGVkIHN0dWRlbnQuXG4gIGlmIChzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3R1ZGVudElkICE9PSBBTExfU1RVREVOVF9GSUxURVIpIHtcbiAgICBpZiAoIWN1cnJlbnRTdHVkZW50SGFzUmVzcG9uc2VzKHN0YXRlKSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50U3R1ZGVudHNJZHMgPSBbc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN0dWRlbnRJZF07XG4gICAgfVxuICB9XG5cbiAgLy8gRm9yIGVhY2ggc3R1ZGVudCwgbG9vayB1cCB0aGVpciByZXNwb25zZXMgdG8gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBhc3Nlc3NtZW50LlxuICBjdXJyZW50U3R1ZGVudHNJZHMuZm9yRWFjaChzdHVkZW50SWQgPT4ge1xuICAgIHN0dWRlbnRJZCA9IHBhcnNlSW50KHN0dWRlbnRJZCwgMTApO1xuICAgIGNvbnN0IHN0dWRlbnRPYmplY3QgPSBzdHVkZW50UmVzcG9uc2VzW3N0dWRlbnRJZF07XG4gICAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gICAgbGV0IHN0dWRlbnRBc3Nlc3NtZW50ID1cbiAgICAgIHN0dWRlbnRPYmplY3QucmVzcG9uc2VzX2J5X2Fzc2Vzc21lbnRbY3VycmVudEFzc2Vzc21lbnRJZF0gfHwge307XG5cbiAgICBjb25zdCByZXNwb25zZXNBcnJheSA9IHN0dWRlbnRBc3Nlc3NtZW50LmxldmVsX3Jlc3VsdHMgfHwgW107XG4gICAgcmVzcG9uc2VzQXJyYXlcbiAgICAgIC5maWx0ZXIocmVzdWx0ID0+IHJlc3VsdC50eXBlID09PSBRdWVzdGlvblR5cGUuRlJFRV9SRVNQT05TRSlcbiAgICAgIC5mb3JFYWNoKChyZXNwb25zZSwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKHF1ZXN0aW9uc0FuZFJlc3VsdHNbaW5kZXhdKSB7XG4gICAgICAgICAgcXVlc3Rpb25zQW5kUmVzdWx0c1tpbmRleF0ucmVzcG9uc2VzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IHN0dWRlbnRJZCxcbiAgICAgICAgICAgIG5hbWU6IHN0dWRlbnRPYmplY3Quc3R1ZGVudF9uYW1lLFxuICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLnN0dWRlbnRfcmVzdWx0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBxdWVzdGlvbnNBbmRSZXN1bHRzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIG9iamVjdHMsIGVhY2ggb2YgdHlwZSBmcmVlUmVzcG9uc2VRdWVzdGlvbnNQcm9wVHlwZVxuICogaW5kaWNhdGluZyB0aGUgcXVlc3Rpb24gYW5kIHJlc3BvbnNlcyB0byBmcmVlIHJlc3BvbnNlIHF1ZXN0aW9ucyBmb3IgdGhlXG4gKiBjdXJyZW50bHkgc2VsZWN0ZWQgc3VydmV5LlxuICovXG5leHBvcnQgY29uc3QgZ2V0U3VydmV5RnJlZVJlc3BvbnNlUXVlc3Rpb25zID0gc3RhdGUgPT4ge1xuICBjb25zdCBzdXJ2ZXlzU3RydWN0dXJlID1cbiAgICBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3VydmV5c0J5U2NyaXB0W3N0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRdIHx8XG4gICAge307XG4gIGNvbnN0IGN1cnJlbnRTdXJ2ZXkgPSBzdXJ2ZXlzU3RydWN0dXJlW3N0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWRdO1xuICBpZiAoIWN1cnJlbnRTdXJ2ZXkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25zdCBxdWVzdGlvbkRhdGEgPSBjdXJyZW50U3VydmV5LmxldmVsZ3JvdXBfcmVzdWx0cztcblxuICByZXR1cm4gcXVlc3Rpb25EYXRhXG4gICAgLmZpbHRlcihxdWVzdGlvbiA9PiBxdWVzdGlvbi50eXBlID09PSBTdXJ2ZXlRdWVzdGlvblR5cGUuRlJFRV9SRVNQT05TRSlcbiAgICAubWFwKHF1ZXN0aW9uID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHF1ZXN0aW9uVGV4dDogcXVlc3Rpb24ucXVlc3Rpb24sXG4gICAgICAgIHF1ZXN0aW9uTnVtYmVyOiBxdWVzdGlvbi5xdWVzdGlvbl9pbmRleCArIDEsXG4gICAgICAgIGFuc3dlcnM6IHF1ZXN0aW9uLnJlc3VsdHMubWFwKChyZXNwb25zZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICByZXR1cm4ge2luZGV4OiBpbmRleCwgcmVzcG9uc2U6IHJlc3BvbnNlLnJlc3VsdH07XG4gICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3RzLCBlYWNoIG9mIHR5cGUgbXVsdGlwbGVDaG9pY2VEYXRhUHJvcFR5cGVcbiAqIGluZGljYXRpbmcgYSBtdWx0aXBsZSBjaG9pY2UgcXVlc3Rpb24gYW5kIHRoZSBwZXJjZW50IG9mIHJlc3BvbnNlcyByZWNlaXZlZFxuICogZm9yIGVhY2ggYW5zd2VyLlxuICovXG5leHBvcnQgY29uc3QgZ2V0TXVsdGlwbGVDaG9pY2VTdXJ2ZXlSZXN1bHRzID0gc3RhdGUgPT4ge1xuICBjb25zdCBzdXJ2ZXlzU3RydWN0dXJlID1cbiAgICBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3VydmV5c0J5U2NyaXB0W3N0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRdIHx8XG4gICAge307XG4gIGNvbnN0IGN1cnJlbnRTdXJ2ZXkgPSBzdXJ2ZXlzU3RydWN0dXJlW3N0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWRdO1xuICBpZiAoIWN1cnJlbnRTdXJ2ZXkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25zdCBxdWVzdGlvbkRhdGEgPSBjdXJyZW50U3VydmV5LmxldmVsZ3JvdXBfcmVzdWx0cztcblxuICAvLyBGaWx0ZXIgdG8gbXVsdGlwbGUgY2hvaWNlIHF1ZXN0aW9ucy5cbiAgcmV0dXJuIHF1ZXN0aW9uRGF0YVxuICAgIC5maWx0ZXIocXVlc3Rpb24gPT4gcXVlc3Rpb24udHlwZSA9PT0gU3VydmV5UXVlc3Rpb25UeXBlLk1VTFRJKVxuICAgIC5tYXAoKHF1ZXN0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSB0b3RhbCByZXNwb25zZXMgZm9yIGVhY2ggYW5zd2VyLlxuXG4gICAgICBjb25zdCB0b3RhbEFuc3dlcmVkID0gcXVlc3Rpb24ucmVzdWx0cy5sZW5ndGg7XG4gICAgICAvLyBFYWNoIHZhbHVlIG9mIGFuc3dlclRvdGFscyByZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgcmVzcG9uc2VzIHJlY2VpdmVkIGZvclxuICAgICAgLy8gdGhlIGFuc3dlciBpbiB0aGF0IGluZGV4LlxuICAgICAgY29uc3QgYW5zd2VyVG90YWxzID0gW107XG4gICAgICAvLyBJbml0aWFsaXplIGVhY2ggYW5zd2VyIHRvIDAgcmVzcG9uc2VzLlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWVzdGlvbi5hbnN3ZXJfdGV4dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYW5zd2VyVG90YWxzW2ldID0gMDtcbiAgICAgIH1cbiAgICAgIGxldCBub3RBbnN3ZXJlZCA9IDA7XG5cbiAgICAgIC8vIEZvciBlYWNoIHJlc3BvbnNlLCBhZGQgMSB0byB0aGUgY29ycmVjdCB2YWx1ZSBpbiBhbnN3ZXJUb3RhbHMuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsQW5zd2VyZWQ7IGkrKykge1xuICAgICAgICBjb25zdCBhbnN3ZXJJbmRleCA9IHF1ZXN0aW9uLnJlc3VsdHNbaV0uYW5zd2VyX2luZGV4O1xuICAgICAgICBpZiAoYW5zd2VySW5kZXggPj0gMCkge1xuICAgICAgICAgIGFuc3dlclRvdGFsc1thbnN3ZXJJbmRleF0rKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub3RBbnN3ZXJlZCsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBpbmRleCxcbiAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uLnF1ZXN0aW9uLFxuICAgICAgICBxdWVzdGlvbk51bWJlcjogcXVlc3Rpb24ucXVlc3Rpb25faW5kZXggKyAxLFxuICAgICAgICBhbnN3ZXJzOiBxdWVzdGlvbi5hbnN3ZXJfdGV4dHMubWFwKChhbnN3ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG11bHRpcGxlQ2hvaWNlT3B0aW9uOiBBTlNXRVJfTEVUVEVSU1tpbmRleF0sXG4gICAgICAgICAgICBwZXJjZW50QW5zd2VyZWQ6IE1hdGguZmxvb3IoXG4gICAgICAgICAgICAgIChhbnN3ZXJUb3RhbHNbaW5kZXhdIC8gdG90YWxBbnN3ZXJlZCkgKiAxMDBcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0ZXh0OiBhbnN3ZXIsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIG5vdEFuc3dlcmVkOiBNYXRoLmZsb29yKChub3RBbnN3ZXJlZCAvIHRvdGFsQW5zd2VyZWQpICogMTAwKSxcbiAgICAgICAgdG90YWxBbnN3ZXJlZDogdG90YWxBbnN3ZXJlZCxcbiAgICAgIH07XG4gICAgfSk7XG59O1xuXG4vLyBSZXR1cm5zIGEgYm9vbGVhbi4gIFRoZSBzZWxlY3RvciBmdW5jdGlvbiBjaGVja3MgaWYgdGhlIGN1cnJlbnQgYXNzZXNzbWVudCBJZFxuLy8gaXMgaW4gdGhlIHN1cnZleXMgc3RydWN0dXJlLlxuZXhwb3J0IGNvbnN0IGlzQ3VycmVudEFzc2Vzc21lbnRTdXJ2ZXkgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IHNjcmlwdElkID0gc3RhdGUudW5pdFNlbGVjdGlvbi5zY3JpcHRJZDtcbiAgY29uc3Qgc3VydmV5c1N0cnVjdHVyZSA9XG4gICAgc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN1cnZleXNCeVNjcmlwdFtzY3JpcHRJZF0gfHwge307XG5cbiAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gIHJldHVybiBPYmplY3Qua2V5cyhzdXJ2ZXlzU3RydWN0dXJlKS5pbmNsdWRlcyhjdXJyZW50QXNzZXNzbWVudElkICsgJycpO1xufTtcblxuLyoqIEdldCBkYXRhIGZvciBzdHVkZW50cyBhc3Nlc3NtZW50cyBtdWx0aXBsZSBjaG9pY2UgdGFibGVcbiAqIFJldHVybnMgYW4gb2JqZWN0LCBlYWNoIG9mIHR5cGUgc3R1ZGVudE92ZXJ2aWV3RGF0YVByb3BUeXBlIHdpdGhcbiAqIHRoZSB2YWx1ZSBvZiB0aGUga2V5IGJlaW5nIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBudW1iZXJcbiAqIG9mIG11bHRpcGxlIGNob2ljZSBhbnN3ZXJlZCBjb3JyZWN0bHkgYnkgYSBzdHVkZW50LCB0b3RhbCBudW1iZXJcbiAqIG9mIG11bHRpcGxlIGNob2ljZSBvcHRpb25zLCBjaGVjayBmb3IgaWYgdGhlIHN0dWRlbnQgc3VibWl0dGVkIHRoZVxuICogYXNzZXNzbWVudCBhbmQgYSB0aW1lc3RhbXAgdGhhdCBpbmRpY2F0ZXMgd2hlbiBhIHN0dWRlbnQgc3VibWl0dGVkXG4gKiB0aGUgYXNzZXNzbWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFN0dWRlbnRzTUNhbmRNYXRjaFN1bW1hcnlGb3JDdXJyZW50QXNzZXNzbWVudCA9IHN0YXRlID0+IHtcbiAgY29uc3Qgc3R1ZGVudFJlc3BvbnNlcyA9IGdldEFzc2Vzc21lbnRSZXNwb25zZXNGb3JDdXJyZW50U2NyaXB0KHN0YXRlKTtcbiAgaWYgKCFzdHVkZW50UmVzcG9uc2VzKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgLy8gR2V0IGEgc2V0IG9mIGFsbCBzdHVkZW50cyBmcm9tIHRlYWNoZXJTZWN0aW9uc1JlZHV4LlxuICBsZXQgYWxsU3R1ZGVudHNCeUlkcyA9IHt9O1xuICBzdGF0ZS50ZWFjaGVyU2VjdGlvbnMuc2VsZWN0ZWRTdHVkZW50cy5mb3JFYWNoKHN0dWRlbnQgPT4ge1xuICAgIGFsbFN0dWRlbnRzQnlJZHNbc3R1ZGVudC5pZF0gPSB7XG4gICAgICBzdHVkZW50X25hbWU6IHN0dWRlbnQubmFtZSxcbiAgICAgIHJlc3BvbnNlc19ieV9hc3Nlc3NtZW50OiB7fSxcbiAgICB9O1xuICB9KTtcblxuICAvLyBDb21iaW5lIHRoZSBsaXN0IG9mIGFsbCBzdHVkZW50cyB3aXRoIHRoZSBsaXN0IG9mIHN0dWRlbnQgcmVzcG9uc2VzLlxuICBhbGxTdHVkZW50c0J5SWRzID0ge1xuICAgIC4uLmFsbFN0dWRlbnRzQnlJZHMsXG4gICAgLi4uc3R1ZGVudFJlc3BvbnNlcyxcbiAgfTtcblxuICBsZXQgY3VycmVudFN0dWRlbnRzSWRzID0gT2JqZWN0LmtleXMoYWxsU3R1ZGVudHNCeUlkcyk7XG4gIC8vIEZpbHRlciBieSBjdXJyZW50IHNlbGVjdGVkIHN0dWRlbnQuXG4gIGlmIChzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3R1ZGVudElkICE9PSBBTExfU1RVREVOVF9GSUxURVIpIHtcbiAgICBjdXJyZW50U3R1ZGVudHNJZHMgPSBbc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN0dWRlbnRJZF07XG4gIH1cblxuICBjb25zdCBzdHVkZW50c1N1bW1hcnlBcnJheSA9IGN1cnJlbnRTdHVkZW50c0lkcy5tYXAoc3R1ZGVudElkID0+IHtcbiAgICBzdHVkZW50SWQgPSBwYXJzZUludChzdHVkZW50SWQsIDEwKTtcbiAgICBjb25zdCBzdHVkZW50c09iamVjdCA9IGFsbFN0dWRlbnRzQnlJZHNbc3R1ZGVudElkXTtcbiAgICBjb25zdCBjdXJyZW50QXNzZXNzbWVudElkID0gc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLmFzc2Vzc21lbnRJZDtcbiAgICBjb25zdCBzdHVkZW50c0Fzc2Vzc21lbnQgPVxuICAgICAgc3R1ZGVudHNPYmplY3QucmVzcG9uc2VzX2J5X2Fzc2Vzc21lbnRbY3VycmVudEFzc2Vzc21lbnRJZF07XG5cbiAgICAvLyBJZiB0aGUgc3R1ZGVudCBoYXMgbm90IHN1Ym1pdHRlZCB0aGlzIGFzc2Vzc21lbnRcbiAgICBpZiAoIXN0dWRlbnRzQXNzZXNzbWVudCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHN0dWRlbnRJZCxcbiAgICAgICAgbmFtZTogc3R1ZGVudHNPYmplY3Quc3R1ZGVudF9uYW1lLFxuICAgICAgICBpc1N1Ym1pdHRlZDogZmFsc2UsXG4gICAgICAgIGluUHJvZ3Jlc3M6IGZhbHNlLFxuICAgICAgICBzdWJtaXNzaW9uVGltZVN0YW1wOiBub3RTdGFydGVkRmFrZVRpbWVzdGFtcCxcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIFRyYW5zZm9ybSB0aGF0IGRhdGEgaW50byB3aGF0IHdlIG5lZWQgZm9yIHRoaXMgcGFydGljdWxhciB0YWJsZSwgaW4gdGhpcyBjYXNlXG4gICAgLy8gaXQgaXMgdGhlIHN0cnVjdHVyZSBzdHVkZW50T3ZlcnZpZXdEYXRhUHJvcFR5cGVcblxuICAgIC8qIEluIHByb2dyZXNzIGFzc2Vzc21lbnRzIGhhdmUgYSB0aW1lc3RhbXAgZnJvbSB0aGUgc2VydmVyIGluZGljYXRpbmcgd2hlbiB0aGUgc3R1ZGVudCBsYXN0IHdvcmtlZCBvbiB0aGUgYXNzZXNzbWVudC4gV2UgZG9uJ3QgZGlzcGxheSB0aGF0IHRpbWVzdGFtcCBpbiB0aGUgU3VibWlzc2lvblN0YXR1c0Fzc2Vzc21lbnRzVGFibGUsIGJ1dCB3ZSB1c2UgaXQgaGVyZSB0byBjaGVjayBpZiB0aGUgYXNzZXNzbWVudCBoYXMgYmVlbiBzdGFydGVkLiAqL1xuICAgIGNvbnN0IGluUHJvZ3Jlc3MgPVxuICAgICAgc3R1ZGVudHNBc3Nlc3NtZW50LnRpbWVzdGFtcCAmJiAhc3R1ZGVudHNBc3Nlc3NtZW50LnN1Ym1pdHRlZDtcbiAgICBjb25zdCBzdWJtaXNzaW9uVGltZVN0YW1wID0gaW5Qcm9ncmVzc1xuICAgICAgPyBpblByb2dyZXNzRmFrZVRpbWVzdGFtcFxuICAgICAgOiBuZXcgRGF0ZShzdHVkZW50c0Fzc2Vzc21lbnQudGltZXN0YW1wKTtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogc3R1ZGVudElkLFxuICAgICAgbmFtZTogc3R1ZGVudHNPYmplY3Quc3R1ZGVudF9uYW1lLFxuICAgICAgbnVtTXVsdGlwbGVDaG9pY2VDb3JyZWN0OiBzdHVkZW50c0Fzc2Vzc21lbnQubXVsdGlfY29ycmVjdCxcbiAgICAgIG51bU11bHRpcGxlQ2hvaWNlOiBzdHVkZW50c0Fzc2Vzc21lbnQubXVsdGlfY291bnQsXG4gICAgICBudW1NYXRjaENvcnJlY3Q6IHN0dWRlbnRzQXNzZXNzbWVudC5tYXRjaF9jb3JyZWN0LFxuICAgICAgbnVtTWF0Y2g6IHN0dWRlbnRzQXNzZXNzbWVudC5tYXRjaF9jb3VudCxcbiAgICAgIGluUHJvZ3Jlc3M6IGluUHJvZ3Jlc3MsXG4gICAgICBpc1N1Ym1pdHRlZDogc3R1ZGVudHNBc3Nlc3NtZW50LnN1Ym1pdHRlZCxcbiAgICAgIHN1Ym1pc3Npb25UaW1lU3RhbXA6IHN1Ym1pc3Npb25UaW1lU3RhbXAsXG4gICAgICB1cmw6IHN0dWRlbnRzQXNzZXNzbWVudC51cmwsXG4gICAgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIHN0dWRlbnRzU3VtbWFyeUFycmF5O1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7YXJyYXl9IG9mIG9iamVjdHMgd2l0aCBrZXlzIGNvcnJlc3BvbmRpbmcgdG8gY29sdW1uc1xuICogb2YgQ1NWIHRvIGRvd25sb2FkLiBDb2x1bW5zIGFyZSBkZWZpbmVkIGFzIENTVl9TVUJNSVNTSU9OX1NUQVRVU19IRUFERVJTIGluIFN1Ym1pc3Npb25TdGF0dXNBc3Nlc3NtZW50c0NvbnRhaW5lclxuICovXG5leHBvcnQgY29uc3QgZ2V0RXhwb3J0YWJsZVN1Ym1pc3Npb25TdGF0dXNEYXRhID0gc3RhdGUgPT4ge1xuICBsZXQgc3VtbWFyeVN0dWRlbnRTdGF0dXMgPSBbXTtcbiAgY29uc3Qgc3R1ZGVudFN0YXR1cyA9IGdldFN0dWRlbnRzTUNhbmRNYXRjaFN1bW1hcnlGb3JDdXJyZW50QXNzZXNzbWVudChzdGF0ZSk7XG5cbiAgc3R1ZGVudFN0YXR1cy5mb3JFYWNoKHN0dWRlbnQgPT4ge1xuICAgIHN1bW1hcnlTdHVkZW50U3RhdHVzLnB1c2goe1xuICAgICAgc3R1ZGVudE5hbWU6IHN0dWRlbnQubmFtZSxcbiAgICAgIG51bU11bHRpcGxlQ2hvaWNlQ29ycmVjdDogc3R1ZGVudC5udW1NdWx0aXBsZUNob2ljZUNvcnJlY3QsXG4gICAgICBudW1NdWx0aXBsZUNob2ljZTogc3R1ZGVudC5udW1NdWx0aXBsZUNob2ljZSxcbiAgICAgIG51bU1hdGNoQ29ycmVjdDogc3R1ZGVudC5udW1NYXRjaENvcnJlY3QsXG4gICAgICBudW1NYXRjaDogc3R1ZGVudC5udW1NYXRjaCxcbiAgICAgIHN1Ym1pc3Npb25UaW1lc3RhbXA6IHN0dWRlbnQuc3VibWlzc2lvblRpbWVTdGFtcCxcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBzdW1tYXJ5U3R1ZGVudFN0YXR1cztcbn07XG5cbi8vIFJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cyBjb3JyZXNwb25kaW5nIHRvIGVhY2ggcXVlc3Rpb24gYW5kIHRoZVxuLy8gbnVtYmVyIG9mIHN0dWRlbnRzIHdobyBhbnN3ZXJlZCBlYWNoIGFuc3dlci5cbmV4cG9ydCBjb25zdCBnZXRNdWx0aXBsZUNob2ljZVNlY3Rpb25TdW1tYXJ5ID0gc3RhdGUgPT4ge1xuICAvLyBTZXQgdXAgYW4gaW5pdGlhbCBzdHJ1Y3R1cmUgYmFzZWQgb24gdGhlIG11bHRpcGxlIGNob2ljZSBhc3Nlc3NtZW50IHF1ZXN0aW9ucy5cbiAgLy8gSW5pdGlhbGl6ZSBudW1BbnN3ZXJlZCBmb3IgZWFjaCBhbnN3ZXIgdG8gMCwgYW5kIHRvdGFsQW5zd2VyZWQgZm9yIGVhY2hcbiAgLy8gcXVlc3Rpb24gdG8gMC5cbiAgY29uc3QgYXNzZXNzbWVudHNTdHJ1Y3R1cmUgPSBnZXRDdXJyZW50QXNzZXNzbWVudFF1ZXN0aW9ucyhzdGF0ZSk7XG4gIGlmICghYXNzZXNzbWVudHNTdHJ1Y3R1cmUpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgcXVlc3Rpb25EYXRhID0gYXNzZXNzbWVudHNTdHJ1Y3R1cmUucXVlc3Rpb25zO1xuICBjb25zdCBtdWx0aVF1ZXN0aW9ucyA9IHF1ZXN0aW9uRGF0YS5maWx0ZXIoXG4gICAgcXVlc3Rpb24gPT4gcXVlc3Rpb24udHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1VTFRJXG4gICk7XG4gIGNvbnN0IHJlc3VsdHMgPSBtdWx0aVF1ZXN0aW9ucy5tYXAocXVlc3Rpb24gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcXVlc3Rpb24ubGV2ZWxfaWQsXG4gICAgICBxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb25fdGV4dCxcbiAgICAgIHF1ZXN0aW9uTnVtYmVyOiBxdWVzdGlvbi5xdWVzdGlvbl9pbmRleCArIDEsXG4gICAgICBhbnN3ZXJzOiBxdWVzdGlvbi5hbnN3ZXJzLm1hcCgoYW5zd2VyLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG11bHRpcGxlQ2hvaWNlT3B0aW9uOiBBTlNXRVJfTEVUVEVSU1tpbmRleF0sXG4gICAgICAgICAgaXNDb3JyZWN0OiBhbnN3ZXIuY29ycmVjdCxcbiAgICAgICAgICBudW1BbnN3ZXJlZDogMCxcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgdG90YWxBbnN3ZXJlZDogMCxcbiAgICAgIG5vdEFuc3dlcmVkOiAwLFxuICAgIH07XG4gIH0pO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIHN0dWRlbnRzIHdobyBhbnN3ZXJlZCBlYWNoIG9wdGlvbiBhbmQgZmlsbFxuICAvLyBpbiB0aGUgaW5pdGlhbGl6ZWQgcmVzdWx0cyBzdHJ1Y3R1cmUgYWJvdmUuXG4gIGNvbnN0IHN0dWRlbnRSZXNwb25zZXMgPSBnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdChzdGF0ZSk7XG4gIGlmICghc3R1ZGVudFJlc3BvbnNlcykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBPYmplY3Qua2V5cyhzdHVkZW50UmVzcG9uc2VzKS5mb3JFYWNoKHN0dWRlbnRJZCA9PiB7XG4gICAgc3R1ZGVudElkID0gcGFyc2VJbnQoc3R1ZGVudElkLCAxMCk7XG4gICAgY29uc3Qgc3R1ZGVudE9iamVjdCA9IHN0dWRlbnRSZXNwb25zZXNbc3R1ZGVudElkXTtcbiAgICBjb25zdCBjdXJyZW50QXNzZXNzbWVudElkID0gc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLmFzc2Vzc21lbnRJZDtcbiAgICBjb25zdCBzdHVkZW50QXNzZXNzbWVudCA9XG4gICAgICBzdHVkZW50T2JqZWN0LnJlc3BvbnNlc19ieV9hc3Nlc3NtZW50W2N1cnJlbnRBc3Nlc3NtZW50SWRdIHx8IHt9O1xuXG4gICAgY29uc3Qgc3R1ZGVudFJlc3VsdHMgPSBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzIHx8IFtdO1xuICAgIGNvbnN0IG11bHRpUmVzdWx0cyA9IHN0dWRlbnRSZXN1bHRzLmZpbHRlcihcbiAgICAgIHJlc3VsdCA9PiByZXN1bHQudHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1VTFRJXG4gICAgKTtcbiAgICBtdWx0aVJlc3VsdHMuZm9yRWFjaCgocmVzcG9uc2UsIHF1ZXN0aW9uSW5kZXgpID0+IHtcbiAgICAgIC8vIHN0dWRlbnRfcmVzdWx0IGlzIGVpdGhlciBbXSBhbmQgbm90IGFuc3dlcmVkIG9yIGEgc2VyaWVzIG9mIGxldHRlcnNcbiAgICAgIC8vIHRoYXQgdGhlIHN0dWRlbnQgc2VsZWN0ZWQuXG4gICAgICByZXN1bHRzW3F1ZXN0aW9uSW5kZXhdLnRvdGFsQW5zd2VyZWQrKztcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09ICd1bnN1Ym1pdHRlZCcpIHtcbiAgICAgICAgcmVzdWx0c1txdWVzdGlvbkluZGV4XS5ub3RBbnN3ZXJlZCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKHJlc3BvbnNlLnN0dWRlbnRfcmVzdWx0IHx8IFtdKS5mb3JFYWNoKGFuc3dlciA9PiB7XG4gICAgICAgICAgcmVzdWx0c1txdWVzdGlvbkluZGV4XS5hbnN3ZXJzW2Fuc3dlcl0ubnVtQW5zd2VyZWQrKztcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gUmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3RzIGNvcnJlc3BvbmRpbmcgdG8gZWFjaCBtYXRjaCBxdWVzdGlvbiBhbmQgdGhlXG4vLyBudW1iZXIgb2Ygc3R1ZGVudHMgd2hvIGFuc3dlcmVkIGVhY2ggYW5zd2VyLlxuZXhwb3J0IGNvbnN0IGdldE1hdGNoU2VjdGlvblN1bW1hcnkgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IGFzc2Vzc21lbnRzU3RydWN0dXJlID0gZ2V0Q3VycmVudEFzc2Vzc21lbnRRdWVzdGlvbnMoc3RhdGUpO1xuICBpZiAoIWFzc2Vzc21lbnRzU3RydWN0dXJlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IHF1ZXN0aW9uRGF0YSA9IGFzc2Vzc21lbnRzU3RydWN0dXJlLnF1ZXN0aW9ucztcbiAgY29uc3QgbWF0Y2hRdWVzdGlvbnMgPSBxdWVzdGlvbkRhdGEuZmlsdGVyKFxuICAgIHF1ZXN0aW9uID0+IHF1ZXN0aW9uLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NQVRDSFxuICApO1xuXG4gIGNvbnN0IHJlc3VsdHMgPSBtYXRjaFF1ZXN0aW9ucy5tYXAocXVlc3Rpb24gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcXVlc3Rpb24ubGV2ZWxfaWQsXG4gICAgICBxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb24sXG4gICAgICBxdWVzdGlvbk51bWJlcjogcXVlc3Rpb24ucXVlc3Rpb25faW5kZXggKyAxLFxuICAgICAgb3B0aW9uczogcXVlc3Rpb24ub3B0aW9ucy5tYXAoKG9wdGlvbiwgaW5kZXhPKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgb3B0aW9uOiBxdWVzdGlvbi5vcHRpb25zW2luZGV4T10udGV4dCxcbiAgICAgICAgICBpZDogaW5kZXhPLFxuICAgICAgICAgIHRvdGFsQW5zd2VyZWQ6IDAsXG4gICAgICAgICAgbm90QW5zd2VyZWQ6IDAsXG4gICAgICAgICAgYW5zd2VyczogcXVlc3Rpb24uYW5zd2Vycy5tYXAoKGFuc3dlciwgaW5kZXhBKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBhbnN3ZXI6IHF1ZXN0aW9uLmFuc3dlcnNbaW5kZXhBXS50ZXh0LFxuICAgICAgICAgICAgICBpc0NvcnJlY3Q6IGluZGV4QSA9PT0gaW5kZXhPLFxuICAgICAgICAgICAgICBudW1BbnN3ZXJlZDogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICB9O1xuICB9KTtcblxuICAvLyBDYWxjdWxhdGUgdGhlIG51bWJlciBvZiBzdHVkZW50cyB3aG8gYW5zd2VyZWQgZWFjaCBvcHRpb24gYW5kIGZpbGxcbiAgLy8gaW4gdGhlIGluaXRpYWxpemVkIHJlc3VsdHMgc3RydWN0dXJlIGFib3ZlLlxuICBjb25zdCBzdHVkZW50UmVzcG9uc2VzID0gZ2V0QXNzZXNzbWVudFJlc3BvbnNlc0ZvckN1cnJlbnRTY3JpcHQoc3RhdGUpO1xuICBpZiAoIXN0dWRlbnRSZXNwb25zZXMpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBPYmplY3Qua2V5cyhzdHVkZW50UmVzcG9uc2VzKS5mb3JFYWNoKHN0dWRlbnRJZCA9PiB7XG4gICAgc3R1ZGVudElkID0gcGFyc2VJbnQoc3R1ZGVudElkLCAxMCk7XG4gICAgY29uc3Qgc3R1ZGVudE9iamVjdCA9IHN0dWRlbnRSZXNwb25zZXNbc3R1ZGVudElkXTtcbiAgICBjb25zdCBjdXJyZW50QXNzZXNzbWVudElkID0gc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLmFzc2Vzc21lbnRJZDtcbiAgICBjb25zdCBzdHVkZW50QXNzZXNzbWVudCA9XG4gICAgICBzdHVkZW50T2JqZWN0LnJlc3BvbnNlc19ieV9hc3Nlc3NtZW50W2N1cnJlbnRBc3Nlc3NtZW50SWRdIHx8IHt9O1xuXG4gICAgY29uc3Qgc3R1ZGVudFJlc3VsdHMgPSBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzIHx8IFtdO1xuICAgIGNvbnN0IG1hdGNoUmVzdWx0cyA9IHN0dWRlbnRSZXN1bHRzLmZpbHRlcihcbiAgICAgIHJlc3VsdCA9PiByZXN1bHQudHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1BVENIXG4gICAgKTtcblxuICAgIG1hdGNoUmVzdWx0cy5mb3JFYWNoKChyZXNwb25zZSwgcXVlc3Rpb25JbmRleCkgPT4ge1xuICAgICAgKHJlc3BvbnNlLnN0dWRlbnRfcmVzdWx0IHx8IFtdKS5mb3JFYWNoKChhbnN3ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgIHJlc3VsdHNbcXVlc3Rpb25JbmRleF0ub3B0aW9uc1tpbmRleF0udG90YWxBbnN3ZXJlZCsrO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzW2luZGV4XSA9PT0gJ3Vuc3VibWl0dGVkJykge1xuICAgICAgICAgIHJlc3VsdHNbcXVlc3Rpb25JbmRleF0ub3B0aW9uc1tpbmRleF0ubm90QW5zd2VyZWQrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHRzW3F1ZXN0aW9uSW5kZXhdLm9wdGlvbnNbaW5kZXhdLmFuc3dlcnNbYW5zd2VyXS5udW1BbnN3ZXJlZCsrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdHM7XG59O1xuXG4vKipcbiAqIFNlbGVjdG9yIGZ1bmN0aW9uIHRoYXQgdGFrZXMgaW4gdGhlIHN0YXRlLlxuICogQHJldHVybnMge251bWJlcn0gdG90YWwgY291bnQgb2Ygc3R1ZGVudHMgd2hvIGhhdmUgc3VibWl0dGVkXG4gKiB0aGUgY3VycmVudCBhc3Nlc3NtZW50LlxuICovXG5leHBvcnQgY29uc3QgY291bnRTdWJtaXNzaW9uc0ZvckN1cnJlbnRBc3Nlc3NtZW50ID0gc3RhdGUgPT4ge1xuICBjb25zdCBjdXJyZW50QXNzZXNzbWVudElkID0gc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLmFzc2Vzc21lbnRJZDtcbiAgaWYgKCFjdXJyZW50QXNzZXNzbWVudElkKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgaXNTdXJ2ZXkgPSBpc0N1cnJlbnRBc3Nlc3NtZW50U3VydmV5KHN0YXRlKTtcbiAgaWYgKGlzU3VydmV5KSB7XG4gICAgY29uc3Qgc3VydmV5c1N0cnVjdHVyZSA9XG4gICAgICBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3VydmV5c0J5U2NyaXB0W3N0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRdIHx8XG4gICAgICB7fTtcbiAgICBjb25zdCBjdXJyZW50U3VydmV5ID0gc3VydmV5c1N0cnVjdHVyZVtjdXJyZW50QXNzZXNzbWVudElkXTtcbiAgICBpZiAoIWN1cnJlbnRTdXJ2ZXkgfHwgY3VycmVudFN1cnZleS5sZXZlbGdyb3VwX3Jlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRTdXJ2ZXkubGV2ZWxncm91cF9yZXN1bHRzWzBdLnJlc3VsdHMubGVuZ3RoO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHN0dWRlbnRSZXNwb25zZXMgPSBnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdChzdGF0ZSk7XG4gICAgbGV0IHRvdGFsU3VibWlzc2lvbnMgPSAwO1xuICAgIE9iamVjdC52YWx1ZXMoc3R1ZGVudFJlc3BvbnNlcykuZm9yRWFjaChzdHVkZW50ID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgT2JqZWN0LmtleXMoc3R1ZGVudC5yZXNwb25zZXNfYnlfYXNzZXNzbWVudCkuaW5jbHVkZXMoXG4gICAgICAgICAgY3VycmVudEFzc2Vzc21lbnRJZCArICcnXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICB0b3RhbFN1Ym1pc3Npb25zKys7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvdGFsU3VibWlzc2lvbnM7XG4gIH1cbn07XG5cbi8qKlxuICogQHJldHVybnMge2FycmF5fSBvZiBvYmplY3RzIHdpdGgga2V5cyBjb3JyZXNwb25kaW5nIHRvIGNvbHVtbnNcbiAqIG9mIENTViB0byBkb3dubG9hZC4gQ29sdW1ucyBhcmUgZGVmaW5lZCBhcyBDU1ZfU1VSVkVZX0hFQURFUlMgYW5kIENTVl9BU1NFU1NNRU5UX0hFQURFUlMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRFeHBvcnRhYmxlRGF0YSA9IHN0YXRlID0+IHtcbiAgY29uc3QgaXNTdXJ2ZXkgPSBpc0N1cnJlbnRBc3Nlc3NtZW50U3VydmV5KHN0YXRlKTtcbiAgaWYgKGlzU3VydmV5KSB7XG4gICAgcmV0dXJuIGdldEV4cG9ydGFibGVTdXJ2ZXlEYXRhKHN0YXRlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0RXhwb3J0YWJsZUFzc2Vzc21lbnREYXRhKHN0YXRlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7YXJyYXl9IG9mIG9iamVjdHMgd2l0aCBrZXlzIGNvcnJlc3BvbmRpbmcgdG8gY29sdW1uc1xuICogb2YgQ1NWIHRvIGRvd25sb2FkLiBDb2x1bW5zIGFyZSBsZXNzb24sIHF1ZXN0aW9uTnVtYmVyLCBxdWVzdGlvblRleHQsIGFuc3dlciwgbnVtYmVyQW5zd2VyZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRFeHBvcnRhYmxlU3VydmV5RGF0YSA9IHN0YXRlID0+IHtcbiAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gIGNvbnN0IHN1cnZleXMgPVxuICAgIHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5zdXJ2ZXlzQnlTY3JpcHRbc3RhdGUudW5pdFNlbGVjdGlvbi5zY3JpcHRJZF0gfHxcbiAgICB7fTtcbiAgY29uc3QgY3VycmVudFN1cnZleSA9IHN1cnZleXNbY3VycmVudEFzc2Vzc21lbnRJZF07XG4gIGxldCByZXNwb25zZXMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRTdXJ2ZXkubGV2ZWxncm91cF9yZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcXVlc3Rpb25SZXN1bHRzID0gY3VycmVudFN1cnZleS5sZXZlbGdyb3VwX3Jlc3VsdHNbaV07XG4gICAgY29uc3Qgcm93QmFzZSA9IHtcbiAgICAgIGxlc3NvbjogY3VycmVudFN1cnZleS5sZXNzb25fbmFtZSxcbiAgICAgIHF1ZXN0aW9uTnVtYmVyOiBxdWVzdGlvblJlc3VsdHMucXVlc3Rpb25faW5kZXggKyAxLFxuICAgICAgcXVlc3Rpb25UZXh0OiBxdWVzdGlvblJlc3VsdHMucXVlc3Rpb24sXG4gICAgfTtcblxuICAgIGlmIChxdWVzdGlvblJlc3VsdHMudHlwZSA9PT0gU3VydmV5UXVlc3Rpb25UeXBlLk1VTFRJKSB7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgYW5zd2VySW5kZXggPSAwO1xuICAgICAgICBhbnN3ZXJJbmRleCA8IHF1ZXN0aW9uUmVzdWx0cy5hbnN3ZXJfdGV4dHMubGVuZ3RoO1xuICAgICAgICBhbnN3ZXJJbmRleCsrXG4gICAgICApIHtcbiAgICAgICAgcmVzcG9uc2VzLnB1c2goe1xuICAgICAgICAgIC4uLnJvd0Jhc2UsXG4gICAgICAgICAgYW5zd2VyOiBxdWVzdGlvblJlc3VsdHMuYW5zd2VyX3RleHRzW2Fuc3dlckluZGV4XSxcbiAgICAgICAgICBudW1iZXJBbnN3ZXJlZDogcXVlc3Rpb25SZXN1bHRzLnJlc3VsdHMuZmlsdGVyKFxuICAgICAgICAgICAgcmVzdWx0ID0+IHJlc3VsdC5hbnN3ZXJfaW5kZXggPT09IGFuc3dlckluZGV4XG4gICAgICAgICAgKS5sZW5ndGgsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocXVlc3Rpb25SZXN1bHRzLnR5cGUgPT09IFN1cnZleVF1ZXN0aW9uVHlwZS5GUkVFX1JFU1BPTlNFKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHF1ZXN0aW9uUmVzdWx0cy5yZXN1bHRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHJlc3BvbnNlcy5wdXNoKHtcbiAgICAgICAgICAuLi5yb3dCYXNlLFxuICAgICAgICAgIGFuc3dlcjogcXVlc3Rpb25SZXN1bHRzLnJlc3VsdHNbal0ucmVzdWx0LFxuICAgICAgICAgIG51bWJlckFuc3dlcmVkOiAxLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2VzO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7YXJyYXl9IG9mIG9iamVjdHMgd2l0aCBrZXlzIGNvcnJlc3BvbmRpbmcgdG8gY29sdW1uc1xuICogb2YgQ1NWIHRvIGRvd25sb2FkLiBDb2x1bW5zIGFyZSBzdHVkZW50TmFtZSwgbGVzc29uLCB0aW1lc3RhbXAsIHF1ZXN0aW9uLCByZXNwb25zZSwgYW5kIGNvcnJlY3QuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRFeHBvcnRhYmxlQXNzZXNzbWVudERhdGEgPSBzdGF0ZSA9PiB7XG4gIGxldCByZXNwb25zZXMgPSBbXTtcbiAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gIGNvbnN0IHN0dWRlbnRSZXNwb25zZXMgPSBnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdChzdGF0ZSk7XG5cbiAgT2JqZWN0LmtleXMoc3R1ZGVudFJlc3BvbnNlcykuZm9yRWFjaChzdHVkZW50SWQgPT4ge1xuICAgIHN0dWRlbnRJZCA9IHBhcnNlSW50KHN0dWRlbnRJZCwgMTApO1xuICAgIGNvbnN0IHN0dWRlbnRPYmplY3QgPSBzdHVkZW50UmVzcG9uc2VzW3N0dWRlbnRJZF07XG4gICAgY29uc3Qgc3R1ZGVudEFzc2Vzc21lbnQgPVxuICAgICAgc3R1ZGVudE9iamVjdC5yZXNwb25zZXNfYnlfYXNzZXNzbWVudFtjdXJyZW50QXNzZXNzbWVudElkXTtcblxuICAgIGlmIChzdHVkZW50QXNzZXNzbWVudCAmJiBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzKSB7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgcXVlc3Rpb25JbmRleCA9IDA7XG4gICAgICAgIHF1ZXN0aW9uSW5kZXggPCBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzLmxlbmd0aDtcbiAgICAgICAgcXVlc3Rpb25JbmRleCsrXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzW3F1ZXN0aW9uSW5kZXhdO1xuICAgICAgICByZXNwb25zZXMucHVzaCh7XG4gICAgICAgICAgc3R1ZGVudE5hbWU6IHN0dWRlbnRPYmplY3Quc3R1ZGVudF9uYW1lLFxuICAgICAgICAgIGxlc3Nvbjogc3R1ZGVudEFzc2Vzc21lbnQubGVzc29uLFxuICAgICAgICAgIHRpbWVzdGFtcDogc3R1ZGVudEFzc2Vzc21lbnQudGltZXN0YW1wLFxuICAgICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvbkluZGV4ICsgMSxcbiAgICAgICAgICByZXNwb25zZTpcbiAgICAgICAgICAgIHJlc3BvbnNlLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NVUxUSVxuICAgICAgICAgICAgICA/IGluZGV4ZXNUb0Fuc3dlclN0cmluZyhyZXNwb25zZS5zdHVkZW50X3Jlc3VsdClcbiAgICAgICAgICAgICAgOiByZXNwb25zZS5zdHVkZW50X3Jlc3VsdCxcbiAgICAgICAgICBjb3JyZWN0OiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3BvbnNlcztcbn07XG5cbi8qKlxuICogQHJldHVybnMge2FycmF5fSBvZiBvYmplY3RzIHdpdGgga2V5cyBjb3JyZXNwb25kaW5nIHRvIGNvbHVtbnNcbiAqIG9mIENTViB0byBkb3dubG9hZC4gQ29sdW1ucyBhcmUgc3R1ZGVudE5hbWUsIGxlc3NvbiwgbGV2ZWwsIGtleSBjb25jZXB0LCBydWJyaWMsIGNvbW1lbnQsIHRpbWVzdGFtcCwgLlxuICovXG5leHBvcnQgY29uc3QgZ2V0RXhwb3J0YWJsZUZlZWRiYWNrRGF0YSA9IHN0YXRlID0+IHtcbiAgbGV0IGZlZWRiYWNrID0gW107XG4gIGxldCBmZWVkYmFja0ZvckN1cnJlbnRTY3JpcHQgPVxuICAgIHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5mZWVkYmFja0J5U2NyaXB0W3N0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRdIHx8XG4gICAge307XG5cbiAgT2JqZWN0LmtleXMoZmVlZGJhY2tGb3JDdXJyZW50U2NyaXB0KS5mb3JFYWNoKGZlZWRiYWNrSWQgPT4ge1xuICAgIGZlZWRiYWNrSWQgPSBwYXJzZUludChmZWVkYmFja0lkLCAxMCk7XG4gICAgZmVlZGJhY2sucHVzaChmZWVkYmFja0ZvckN1cnJlbnRTY3JpcHRbZmVlZGJhY2tJZF0pO1xuICB9KTtcblxuICByZXR1cm4gZmVlZGJhY2s7XG59O1xuXG5leHBvcnQgY29uc3QgaXNDdXJyZW50U2NyaXB0Q1NEID0gc3RhdGUgPT4ge1xuICBjb25zdCBzY3JpcHROYW1lID0gZ2V0U2VsZWN0ZWRTY3JpcHROYW1lKHN0YXRlKSB8fCAnJztcbiAgcmV0dXJuIHNjcmlwdE5hbWUuaW5jbHVkZXMoJ2NzZCcpO1xufTtcblxuLyoqXG4gKiAgQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgY3VycmVudCBzdHVkZW50SWQgaGFzIHN1Ym1pdHRlZCByZXNwb25zZXMgZm9yIGN1cnJlbnQgc2NyaXB0LlxuICovXG5leHBvcnQgY29uc3QgY3VycmVudFN0dWRlbnRIYXNSZXNwb25zZXMgPSBzdGF0ZSA9PiB7XG4gIHJldHVybiAhIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiAgICBnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdChzdGF0ZSksXG4gICAgc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN0dWRlbnRJZFxuICApO1xufTtcblxuLy8gSGVscGVyc1xuXG4vKipcbiAqIFRha2VzIGluIGFuIGFycmF5IG9mIG9iamVjdHMge2Fuc3dlclRleHQ6ICcnLCBjb3JyZWN0OiB0cnVlL2ZhbHNlfSBhbmRcbiAqIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgbGV0dGVycyB0byB0aGUgb3B0aW9ucyB3aXRoIHRoZSBjb3JyZWN0IGFuc3dlcnMuXG4gKiBFeCAtIFt7Y29ycmVjdDogZmFsc2V9LCB7Y29ycmVjdDogdHJ1ZX1dIC0tPiByZXR1cm5zICdCJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29ycmVjdEFuc3dlcihhbnN3ZXJBcnIpIHtcbiAgY29uc3QgY29ycmVjdEluZGV4ZXMgPSBhbnN3ZXJBcnJcbiAgICAubWFwKCh7Y29ycmVjdH0sIGkpID0+IChjb3JyZWN0ID8gaSA6IG51bGwpKVxuICAgIC5maWx0ZXIoaSA9PiBpICE9PSBudWxsKTtcbiAgcmV0dXJuIGluZGV4ZXNUb0Fuc3dlclN0cmluZyhjb3JyZWN0SW5kZXhlcyk7XG59XG5cbi8qKlxuICogVGFrZXMgaW4gYW4gYXJyYXkgb2YgaW50ZWdlcnMgYW5kIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgbGV0dGVyc1xuICogcmVwcmVzZW50aW5nIGNvcnJlY3QgYW5zd2Vycy5cbiAqIEV4IC0gWzFdIC0tPiByZXR1cm5zICdCJywgWzAsIDJdIC0tPiByZXR1cm5zICdBLCBDJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhlc1RvQW5zd2VyU3RyaW5nKGFuc3dlckFycikge1xuICBpZiAoIWFuc3dlckFycikge1xuICAgIHJldHVybiAnJztcbiAgfVxuICByZXR1cm4gYW5zd2VyQXJyLm1hcChpbmRleCA9PiBBTlNXRVJfTEVUVEVSU1tpbmRleF0pLmpvaW4oJywgJyk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBpZCBvZiB0aGUgZmlyc3QgYXNzZXNzbWVudCBvciBzdXJ2ZXkgaW4gdGhlIGxpc3QuXG4gKlxuICogQHBhcmFtIHN0YXRlIHtPYmplY3R9IHRoZSBzZWN0aW9uQXNzZXNzbWVudHMgYnJhbmNoIG9mIHRoZSByZWR1eCBzdGF0ZSB0cmVlLlxuICogQHBhcmFtIHNjcmlwdElkXG4gKiBAcmV0dXJucyB7bnVtYmVyfHVuZGVmaW5lZH0gVGhlIGlkIG9mIHRoZSBmaXJzdCBhc3Nlc3NtZW50IG9yIHN1cnZleS5cbiAqL1xuY29uc3QgZ2V0Rmlyc3RBc3Nlc3NtZW50SWQgPSAoc3RhdGUsIHNjcmlwdElkKSA9PlxuICBjb21wdXRlU2NyaXB0QXNzZXNzbWVudExpc3Qoc3RhdGUsIHNjcmlwdElkKS5tYXAoYSA9PiBwYXJzZUludChhLmlkKSlbMF07XG5cbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgaWRzIGFuZCBuYW1lcyBvZiBhc3Nlc3NtZW50cyBhbmQgc3VydmV5cy5cbiAqXG4gKiBAcGFyYW0gc3RhdGUge09iamVjdH0gdGhlIHNlY3Rpb25Bc3Nlc3NtZW50cyBicmFuY2ggb2YgdGhlIHJlZHV4IHN0YXRlIHRyZWUuXG4gKiBAcGFyYW0gc2NyaXB0SWQge251bWJlcnxzdHJpbmd9XG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmNvbnN0IGNvbXB1dGVTY3JpcHRBc3Nlc3NtZW50TGlzdCA9IChzdGF0ZSwgc2NyaXB0SWQpID0+IHtcbiAgY29uc3QgYXNzZXNzbWVudFN0cnVjdHVyZSA9IHN0YXRlLmFzc2Vzc21lbnRRdWVzdGlvbnNCeVNjcmlwdFtzY3JpcHRJZF0gfHwge307XG4gIGNvbnN0IGFzc2Vzc21lbnRzID0gT2JqZWN0LnZhbHVlcyhhc3Nlc3NtZW50U3RydWN0dXJlKS5tYXAoYXNzZXNzbWVudCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBhc3Nlc3NtZW50LmlkLFxuICAgICAgbmFtZTogYXNzZXNzbWVudC5uYW1lLFxuICAgIH07XG4gIH0pO1xuXG4gIGNvbnN0IHN1cnZleXNTdHJ1Y3R1cmUgPSBzdGF0ZS5zdXJ2ZXlzQnlTY3JpcHRbc2NyaXB0SWRdIHx8IHt9O1xuICBjb25zdCBzdXJ2ZXlzID0gT2JqZWN0LmtleXMoc3VydmV5c1N0cnVjdHVyZSkubWFwKHN1cnZleUlkID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBhcnNlSW50KHN1cnZleUlkKSxcbiAgICAgIG5hbWU6IHN1cnZleXNTdHJ1Y3R1cmVbc3VydmV5SWRdLmxlc3Nvbl9uYW1lLFxuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiBhc3Nlc3NtZW50cy5jb25jYXQoc3VydmV5cyk7XG59O1xuXG4vLyBSZXF1ZXN0cyB0byB0aGUgc2VydmVyIGZvciBhc3Nlc3NtZW50IGRhdGFcblxuLy8gTG9hZHMgdGhlIGFzc2Vzc21lbnQgcmVzcG9uc2VzLlxuY29uc3QgbG9hZEFzc2Vzc21lbnRSZXNwb25zZXNGcm9tU2VydmVyID0gKHNlY3Rpb25JZCwgc2NyaXB0SWQpID0+IHtcbiAgbGV0IHBheWxvYWQgPSB7c2VjdGlvbl9pZDogc2VjdGlvbklkfTtcbiAgaWYgKHNjcmlwdElkKSB7XG4gICAgcGF5bG9hZC5zY3JpcHRfaWQgPSBzY3JpcHRJZDtcbiAgfVxuICByZXR1cm4gJC5hamF4KHtcbiAgICB1cmw6IGAvZGFzaGJvYXJkYXBpL2Fzc2Vzc21lbnRzL3NlY3Rpb25fcmVzcG9uc2VzYCxcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JyxcbiAgICBkYXRhOiBwYXlsb2FkLFxuICB9KTtcbn07XG5cbi8vIExvYWRzIHRoZSBhc3Nlc3NtZW50IHF1ZXN0aW9uIHN0cnVjdHVyZS5cbmNvbnN0IGxvYWRBc3Nlc3NtZW50UXVlc3Rpb25zRnJvbVNlcnZlciA9IHNjcmlwdElkID0+IHtcbiAgY29uc3QgcGF5bG9hZCA9IHtzY3JpcHRfaWQ6IHNjcmlwdElkfTtcbiAgcmV0dXJuICQuYWpheCh7XG4gICAgdXJsOiBgL2Rhc2hib2FyZGFwaS9hc3Nlc3NtZW50c2AsXG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gICAgZGF0YTogcGF5bG9hZCxcbiAgfSk7XG59O1xuXG4vLyBMb2FkcyBzdXJ2ZXkgcXVlc3Rpb25zIGFuZCBhbm9ueW1vdXMgcmVzcG9uc2VzLlxuY29uc3QgbG9hZFN1cnZleXNGcm9tU2VydmVyID0gKHNlY3Rpb25JZCwgc2NyaXB0SWQpID0+IHtcbiAgY29uc3QgcGF5bG9hZCA9IHtzY3JpcHRfaWQ6IHNjcmlwdElkLCBzZWN0aW9uX2lkOiBzZWN0aW9uSWR9O1xuICByZXR1cm4gJC5hamF4KHtcbiAgICB1cmw6IGAvZGFzaGJvYXJkYXBpL2Fzc2Vzc21lbnRzL3NlY3Rpb25fc3VydmV5c2AsXG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gICAgZGF0YTogcGF5bG9hZCxcbiAgfSk7XG59O1xuXG4vLyBMb2FkcyBjb21tZW50IGFuZCBydWJyaWMgZmVlZGJhY2suXG5jb25zdCBsb2FkRmVlZGJhY2tGcm9tU2VydmVyID0gKHNlY3Rpb25JZCwgc2NyaXB0SWQpID0+IHtcbiAgY29uc3QgcGF5bG9hZCA9IHtzY3JpcHRfaWQ6IHNjcmlwdElkLCBzZWN0aW9uX2lkOiBzZWN0aW9uSWR9O1xuICByZXR1cm4gJC5hamF4KHtcbiAgICB1cmw6IGAvZGFzaGJvYXJkYXBpL2Fzc2Vzc21lbnRzL3NlY3Rpb25fZmVlZGJhY2tgLFxuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnLFxuICAgIGRhdGE6IHBheWxvYWQsXG4gIH0pO1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG5cbi8vIGFwcHMvc3JjL3V0aWwvY29sb3IuanNcbi8vIEdFTkVSQVRFRCBGSUxFOiBETyBOT1QgTU9ESUZZIERJUkVDVExZXG4vLyBUaGlzIGdlbmVyYXRlZCBmaWxlIGV4cG9ydHMgYWxsIHZhcmlhYmxlcyBkZWZpbmVkIGluIHNoYXJlZC9jc3MvY29sb3Iuc2Nzc1xuLy8gZm9yIHVzZSBpbiBKYXZhU2NyaXB0LiBUaGUgZ2VuZXJhdG9yIHNjcmlwdCBpcyBjb252ZXJ0LXNjc3MtdmFyaWFibGVzLmpzXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJibGFja1wiOiBcIiMwMDBcIixcbiAgXCJiYWNrZ3JvdW5kX2JsYWNrXCI6IFwiIzEyMTQxNlwiLFxuICBcImRhcmtfZ3JheVwiOiBcIiMyRDMxMzlcIixcbiAgXCJkYXJrZXN0X2dyYXlcIjogXCIjMjkyRjM2XCIsXG4gIFwiZGFya19zbGF0ZV9ncmF5XCI6IFwiIzI4MmMzNFwiLFxuICBcImRhcmtlc3Rfc2xhdGVfZ3JheVwiOiBcIiMyNTI5MmRcIixcbiAgXCJkYXJrX2NoYXJjb2FsXCI6IFwiIzRkNTc1ZlwiLFxuICBcImNoYXJjb2FsXCI6IFwiIzViNjc3MFwiLFxuICBcImxpZ2h0X2dyYXlcIjogXCIjOTQ5Y2EyXCIsXG4gIFwibGlnaHRlcl9ncmF5XCI6IFwiI2M2Y2FjZFwiLFxuICBcImxpZ2h0ZXN0X2dyYXlcIjogXCIjZTdlOGVhXCIsXG4gIFwiYmFja2dyb3VuZF9ncmF5XCI6IFwiI2YyZjJmMlwiLFxuICBcImRpbWdyYXlcIjogXCIjNjk2OTY5XCIsXG4gIFwid2hpdGVcIjogXCIjZmZmXCIsXG4gIFwiZGVmYXVsdF9ibHVlXCI6IFwiIzM2NzBiM1wiLFxuICBcImRhcmtfdGVhbFwiOiBcIiMwMDk0YTNcIixcbiAgXCJ0ZWFsXCI6IFwiIzAwOTNhNFwiLFxuICBcImFwcGxhYl9idXR0b25fdGVhbFwiOiBcIiMxYWJjOWNcIixcbiAgXCJsaWdodF90ZWFsXCI6IFwiIzU5Y2FkM1wiLFxuICBcImxpZ2h0aXNoX3RlYWxcIjogXCIjODBkNmRlXCIsXG4gIFwibGlnaHRlcl90ZWFsXCI6IFwiI2E2ZTNlOFwiLFxuICBcImxpZ2h0ZXN0X3RlYWxcIjogXCIjZDlmM2Y1XCIsXG4gIFwiYWlfcnVicmljX2N5YW5cIjogXCIjM2NmZmY4XCIsXG4gIFwicHVycGxlXCI6IFwiIzhjNTJiYVwiLFxuICBcImxpZ2h0X3B1cnBsZVwiOiBcIiNhNjliYzFcIixcbiAgXCJsaWdodGVyX3B1cnBsZVwiOiBcIiNjZmM5ZGVcIixcbiAgXCJsaWdodGVzdF9wdXJwbGVcIjogXCIjZWJlOGYxXCIsXG4gIFwiY3lhblwiOiBcIiMwMDk0Y2FcIixcbiAgXCJsaWdodF9jeWFuXCI6IFwiIzU5YjlkY1wiLFxuICBcImxpZ2h0ZXJfY3lhblwiOiBcIiNhNmRhZWRcIixcbiAgXCJsaWdodGVzdF9jeWFuXCI6IFwiI2Q5ZWZmN1wiLFxuICBcImFsbW9zdF93aGl0ZV9jeWFuXCI6IFwiI2Y1ZmNmZlwiLFxuICBcIm9yYW5nZVwiOiBcIiNmZmE0MDBcIixcbiAgXCJsaWdodF9vcmFuZ2VcIjogXCIjZmZjNDU5XCIsXG4gIFwibGlnaHRlcl9vcmFuZ2VcIjogXCIjZmZlMGE2XCIsXG4gIFwibGlnaHRlc3Rfb3JhbmdlXCI6IFwiI2ZmZjJkOVwiLFxuICBcImRhcmtfb3JhbmdlXCI6IFwiI2ZmODYwMFwiLFxuICBcImdyZWVuXCI6IFwiI2I5YmYxNVwiLFxuICBcImxpZ2h0X2dyZWVuXCI6IFwiI2QxZDU2N1wiLFxuICBcImxpZ2h0ZXJfZ3JlZW5cIjogXCIjZTdlOWFkXCIsXG4gIFwibGlnaHRlc3RfZ3JlZW5cIjogXCIjZjVmNWRjXCIsXG4gIFwiaGlnaGxpZ2h0X2dyZWVuXCI6IFwiIzhhZmM5YlwiLFxuICBcInllbGxvd1wiOiBcIiNmZmI4MWRcIixcbiAgXCJsaWdodF95ZWxsb3dcIjogXCIjZmZkYjc0XCIsXG4gIFwibGlnaHRlcl95ZWxsb3dcIjogXCIjZmZlYmI1XCIsXG4gIFwibGlnaHRlc3RfeWVsbG93XCI6IFwiI2ZmZjdkZlwiLFxuICBcImdvbGRlbnJvZFwiOiBcIiNkYWE1MjBcIixcbiAgXCJoZWFkZXJfdGV4dFwiOiBcIiNmZmZcIixcbiAgXCJia2duZF9jb2xvclwiOiBcIiMwMDkzYTRcIixcbiAgXCJpbnNldF9jb2xvclwiOiBcIiNjNmNhY2RcIixcbiAgXCJkYXJrX2NvbG9yXCI6IFwiIzhjNTJiYVwiLFxuICBcImhkcl9jb2xvclwiOiBcIiM4YzUyYmFcIixcbiAgXCJyZWRcIjogXCIjYzAwXCIsXG4gIFwibGlnaHRlc3RfcmVkXCI6IFwiI2ZjY1wiLFxuICBcImRhcmtfcmVkXCI6IFwiI2Q2MjkxMVwiLFxuICBcInJlYWxncmVlblwiOiBcIiMwMDgwMDBcIixcbiAgXCJyZWFseWVsbG93XCI6IFwiI2ZmMFwiLFxuICBcIm11c3RhcmR5ZWxsb3dcIjogXCIjZWZjZDFjXCIsXG4gIFwidHdpdHRlcl9ibHVlXCI6IFwiIzAwYWNlZFwiLFxuICBcImZhY2Vib29rX2JsdWVcIjogXCIjM2I1OTk4XCIsXG4gIFwibGlua2VkaW5fYmx1ZVwiOiBcIiMwMDc3QjVcIixcbiAgXCJkYXJrX2JsdWVcIjogXCIjMDA2NDdmXCIsXG4gIFwiYmxvY2tseV9mbHlvdXRfZ3JheVwiOiBcIiNkZGRcIixcbiAgXCJkZWZhdWx0X3RleHRcIjogXCIjMzMzXCIsXG4gIFwiYm9yZGVyX2dyYXlcIjogXCIjYmJiXCIsXG4gIFwiYm9yZGVyX2xpZ2h0X2dyYXlcIjogXCIjZDhkOGQ4XCIsXG4gIFwidGFibGVfaGVhZGVyXCI6IFwiI2VjZWNlY1wiLFxuICBcInRhYmxlX2xpZ2h0X3Jvd1wiOiBcIiNmY2ZjZmNcIixcbiAgXCJ0YWJsZV9kYXJrX3Jvd1wiOiBcIiNmNGY0ZjRcIixcbiAgXCJsZXZlbF9zdWJtaXR0ZWRcIjogXCIjOGM1MmJhXCIsXG4gIFwibGV2ZWxfcGVyZmVjdFwiOiBcInJnYigxNCwgMTkwLCAxNClcIixcbiAgXCJsZXZlbF9wYXNzZWRcIjogXCJyZ2IoMTU5LCAyMTIsIDE1OSlcIixcbiAgXCJsZXZlbF9hdHRlbXB0ZWRcIjogXCIjZmYwXCIsXG4gIFwibGV2ZWxfbm90X3RyaWVkXCI6IFwiI2ZlZmVmZVwiLFxuICBcImxldmVsX2N1cnJlbnRcIjogXCIjZmZhNDAwXCIsXG4gIFwibGV2ZWxfcmV2aWV3X3JlamVjdGVkXCI6IFwiI2MwMFwiLFxuICBcImxldmVsX3Jldmlld19hY2NlcHRlZFwiOiBcInJnYigxMSwgMTQyLCAxMSlcIixcbiAgXCJhc3Nlc3NtZW50XCI6IFwiIzAwOTRjYVwiLFxuICBcIndvcmtzcGFjZV9ydW5uaW5nX2JhY2tncm91bmRcIjogXCIjZTVlNWU1XCIsXG4gIFwiZGFya19wdXJwbGVcIjogXCIjNjgyQTc3XCIsXG4gIFwiYnJpZ2h0X2dyZWVuXCI6IFwiIzBlYmUwZVwiLFxuICBcIm5lb25fcGlua1wiOiBcIiNlOTExOGZcIixcbiAgXCJsaW5rX2NvbG9yXCI6IFwiIzA1OTZjZVwiLFxuICBcInNoYWRvd1wiOiBcInJnYmEoMCwgMCwgMCwgMC4zKVwiLFxuICBcImJvb3RzdHJhcF9idXR0b25fYmx1ZVwiOiBcIiMzMzdhYjdcIixcbiAgXCJib290c3RyYXBfYnV0dG9uX3JlZFwiOiBcIiNkOTUzNGZcIixcbiAgXCJib290c3RyYXBfZXJyb3JfYmFja2dyb3VuZFwiOiBcIiNmMmRlZGVcIixcbiAgXCJib290c3RyYXBfZXJyb3JfdGV4dFwiOiBcIiNiOTRhNDhcIixcbiAgXCJib290c3RyYXBfdjNfZXJyb3JfdGV4dFwiOiBcIiNhOTQ0NDJcIixcbiAgXCJib290c3RyYXBfZXJyb3JfYm9yZGVyXCI6IFwiI2ViY2NkMVwiLFxuICBcImJvb3RzdHJhcF93YXJuaW5nX2JhY2tncm91bmRcIjogXCIjZmNmOGUzXCIsXG4gIFwiYm9vdHN0cmFwX3dhcm5pbmdfdGV4dFwiOiBcIiNjMDk4NTNcIixcbiAgXCJib290c3RyYXBfd2FybmluZ19ib3JkZXJcIjogXCIjZmFlYmNjXCIsXG4gIFwiYm9vdHN0cmFwX2JvcmRlcl9jb2xvclwiOiBcIiNjY2NjY2NcIixcbiAgXCJib290c3RyYXBfc3VjY2Vzc19iYWNrZ3JvdW5kXCI6IFwiI2RmZjBkOFwiLFxuICBcImJvb3RzdHJhcF9zdWNjZXNzX3RleHRcIjogXCIjNDY4ODQ3XCIsXG4gIFwiYm9vdHN0cmFwX3N1Y2Nlc3NfYm9yZGVyXCI6IFwiI2Q2ZTljNlwiLFxuICBcImRyb3BsZXRfbGlnaHRfZ3JlZW5cIjogXCIjZDNlOTY1XCIsXG4gIFwiZHJvcGxldF9ibHVlXCI6IFwiIzY0YjVmNlwiLFxuICBcImRyb3BsZXRfYnJpZ2h0X2JsdWVcIjogXCIjMTljM2UxXCIsXG4gIFwiZHJvcGxldF95ZWxsb3dcIjogXCIjZmZmMTc2XCIsXG4gIFwiZHJvcGxldF9vcmFuZ2VcIjogXCIjZmZiNzRkXCIsXG4gIFwiZHJvcGxldF9yZWRcIjogXCIjZjc4MTgzXCIsXG4gIFwiZHJvcGxldF9jeWFuXCI6IFwiIzRkZDBlMVwiLFxuICBcImRyb3BsZXRfcGlua1wiOiBcIiNmNTdhYzZcIixcbiAgXCJkcm9wbGV0X3B1cnBsZVwiOiBcIiNiYjc3YzdcIixcbiAgXCJkcm9wbGV0X2dyZWVuXCI6IFwiIzY4ZDk5NVwiLFxuICBcImRyb3BsZXRfd2hpdGVcIjogXCIjZmZmXCIsXG4gIFwib2NlYW5zX2RlZXBfYmx1ZVwiOiBcInJnYigyLCAwLCAyOClcIixcbiAgXCJkYXJrX2JsYWNrXCI6IFwiIzEyMTIxMlwiLFxuICBcImJyYW5kX3ByaW1hcnlfbGlnaHRcIjogXCIjQUJERkU1XCIsXG4gIFwiYnJhbmRfcHJpbWFyeV9kZWZhdWx0XCI6IFwiIzAwOUVCMFwiLFxuICBcImJyYW5kX3ByaW1hcnlfZGFya1wiOiBcIiMwMDgyOTFcIixcbiAgXCJicmFuZF9zZWNvbmRhcnlfbGlnaHRcIjogXCIjRTBEMUVDXCIsXG4gIFwiYnJhbmRfc2Vjb25kYXJ5X2RlZmF1bHRcIjogXCIjOEM1MkJBXCIsXG4gIFwiYnJhbmRfc2Vjb25kYXJ5X2RhcmtcIjogXCIjNkY0ODhFXCIsXG4gIFwiYnJhbmRfYWNjZW50X2RlZmF1bHRcIjogXCIjRUQ2MDYwXCIsXG4gIFwiYnJhbmRfdGVhbF81XCI6IFwiI0RGRjJGNFwiLFxuICBcInByb2R1Y3RfYWZmaXJtYXRpdmVfZGVmYXVsdFwiOiBcIiMzRUEzM0VcIixcbiAgXCJwcm9kdWN0X25lZ2F0aXZlX2xpZ2h0XCI6IFwiI0ZERUJFOVwiLFxuICBcInByb2R1Y3RfbmVnYXRpdmVfZGVmYXVsdFwiOiBcIiNFNTMxMUFcIixcbiAgXCJwcm9kdWN0X25lZ2F0aXZlX2RhcmtcIjogXCIjQUEyNTEzXCIsXG4gIFwicHJvZHVjdF9jYXV0aW9uX2RlZmF1bHRcIjogXCIjRjlDQjI4XCIsXG4gIFwicHJvZHVjdF9pbmZvcm1hdGlvbl9kZWZhdWx0XCI6IFwiIzAwN0FDQ1wiLFxuICBcIm5ldXRyYWxfd2hpdGVcIjogXCIjRkZGRkZGXCIsXG4gIFwibmV1dHJhbF9saWdodFwiOiBcIiNGN0Y4RkFcIixcbiAgXCJuZXV0cmFsX2RhcmsxMFwiOiBcIiNFQUVCRUJcIixcbiAgXCJuZXV0cmFsX2RhcmsyMFwiOiBcIiNENEQ1RDdcIixcbiAgXCJuZXV0cmFsX2RhcmszMFwiOiBcIiNCRkMxQzNcIixcbiAgXCJuZXV0cmFsX2Rhcms0MFwiOiBcIiNBOUFDQUZcIixcbiAgXCJuZXV0cmFsX2Rhcms1MFwiOiBcIiM5NDk3OUJcIixcbiAgXCJuZXV0cmFsX2Rhcms2MFwiOiBcIiM3RjgyODZcIixcbiAgXCJuZXV0cmFsX2Rhcms3MFwiOiBcIiM2QTZFNzNcIixcbiAgXCJuZXV0cmFsX2Rhcms4MFwiOiBcIiM1NDU5NUVcIixcbiAgXCJuZXV0cmFsX2Rhcms5MFwiOiBcIiMzRjQ0NEJcIixcbiAgXCJuZXV0cmFsX2RhcmtcIjogXCIjMjkyRjM2XCIsXG4gIFwiZ29vZ2xlX2JyYW5kX2NvbG9yXCI6IFwiIzBGOUQ1OFwiLFxuICBcIm1pY3Jvc29mdF9icmFuZF9jb2xvclwiOiBcIiNGRkI5MDBcIixcbiAgXCJmYWNlYm9va19icmFuZF9jb2xvclwiOiBcIiMzQjU5OThcIixcbiAgXCJsaWdodF9wcmltYXJ5XzEwMFwiOiBcIiNBQkRGRTVcIixcbiAgXCJsaWdodF9wcmltYXJ5XzUwMFwiOiBcIiMwMDkzQTRcIixcbiAgXCJsaWdodF9wcmltYXJ5XzcwMFwiOiBcIiMwMDgyOTFcIixcbiAgXCJsaWdodF9zZWNvbmRhcnlfMTAwXCI6IFwiI0UyRDRFRVwiLFxuICBcImxpZ2h0X3NlY29uZGFyeV81MDBcIjogXCIjOEM1MkJBXCIsXG4gIFwibGlnaHRfc2Vjb25kYXJ5XzcwMFwiOiBcIiM2RjQ4OEVcIixcbiAgXCJsaWdodF9ncmF5XzUwXCI6IFwiI0Y3RjhGQVwiLFxuICBcImxpZ2h0X2dyYXlfMTAwXCI6IFwiI0VBRUJFQlwiLFxuICBcImxpZ2h0X2dyYXlfMjAwXCI6IFwiI0Q0RDVEN1wiLFxuICBcImxpZ2h0X2dyYXlfMzAwXCI6IFwiI0JGQzFDM1wiLFxuICBcImxpZ2h0X2dyYXlfNDAwXCI6IFwiI0E5QUNBRlwiLFxuICBcImxpZ2h0X2dyYXlfNTAwXCI6IFwiIzk0OTc5QlwiLFxuICBcImxpZ2h0X2dyYXlfNjAwXCI6IFwiIzdGODI4NlwiLFxuICBcImxpZ2h0X2dyYXlfNzAwXCI6IFwiIzZBNkU3M1wiLFxuICBcImxpZ2h0X2dyYXlfODAwXCI6IFwiIzU0NTk1RVwiLFxuICBcImxpZ2h0X2dyYXlfOTAwXCI6IFwiIzNGNDQ0QlwiLFxuICBcImxpZ2h0X2FmZmlybWF0aXZlXzEwMFwiOiBcIiNFMkYxRTJcIixcbiAgXCJsaWdodF9hZmZpcm1hdGl2ZV81MDBcIjogXCIjM0VBMzNFXCIsXG4gIFwibGlnaHRfbmVnYXRpdmVfNTAwXCI6IFwiI0U1MzExQVwiLFxuICBcImxpZ2h0X2NhdXRpb25fNTAwXCI6IFwiI0Y5Q0IyOFwiLFxuICBcImxpZ2h0X2luZm9fMTAwXCI6IFwiI0RDRUZGQlwiLFxuICBcImxpZ2h0X2luZm9fNTAwXCI6IFwiIzE4OTJFM1wiLFxuICBcImxpZ2h0X3doaXRlXCI6IFwiI0ZGRkZGRlwiLFxuICBcImxpZ2h0X2JsYWNrXCI6IFwiIzI5MkYzNlwiLFxufTtcbiJdLCJuYW1lcyI6WyJ1bml0U2VsZWN0aW9uIiwic3RhdGUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJpbml0aWFsU3RhdGUiLCJhY3Rpb24iLCJ0eXBlIiwiU0VUX0NPVVJTRVMiLCJmaXJzdENvdXJzZSIsImNvdXJzZXNXaXRoUHJvZ3Jlc3MiLCJmaXJzdFVuaXQiLCJ1bml0cyIsIl9vYmplY3RTcHJlYWQiLCJzY3JpcHRJZCIsImlkIiwiU0VUX1NDUklQVCIsImV4cG9ydHMiLCJnZXRTZWxlY3RlZFVuaXQiLCJzZXRTY3JpcHRJZCIsInNldENvdXJzZXNXaXRoUHJvZ3Jlc3MiLCJ1bml0IiwiZm9yRWFjaCIsImNvdXJzZSIsInRlbXBVbml0IiwiZmluZCIsImdldFNlbGVjdGVkU2NyaXB0TmFtZSIsImtleSIsImdldFNlbGVjdGVkU2NyaXB0RnJpZW5kbHlOYW1lIiwibmFtZSIsImdldFNlbGVjdGVkU2NyaXB0RGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsImRvZXNDdXJyZW50Q291cnNlVXNlRmVlZGJhY2siLCJfZ2V0U2VsZWN0ZWRVbml0IiwiaXNfZmVlZGJhY2tfZW5hYmxlZCIsInNlY3Rpb25Bc3Nlc3NtZW50cyIsInN0dWRlbnRJZCIsIkFMTF9TVFVERU5UX0ZJTFRFUiIsInF1ZXN0aW9uSW5kZXgiLCJTRVRfQVNTRVNTTUVOVF9JRCIsImFzc2Vzc21lbnRJZCIsIlNFVF9JTklUSUFMX0FTU0VTU01FTlRfSUQiLCJnZXRGaXJzdEFzc2Vzc21lbnRJZCIsIlNFVF9TVFVERU5UX0lEIiwiU0VUX1FVRVNUSU9OX0lOREVYIiwiU0VUX0FTU0VTU01FTlRfUkVTUE9OU0VTIiwiYXNzZXNzbWVudFJlc3BvbnNlc0J5U2NyaXB0IiwiX2RlZmluZVByb3BlcnR5IiwiYXNzZXNzbWVudHMiLCJTRVRfRkVFREJBQ0siLCJmZWVkYmFja0J5U2NyaXB0IiwiZmVlZGJhY2siLCJTRVRfU1VSVkVZUyIsInN1cnZleXNCeVNjcmlwdCIsInN1cnZleXMiLCJTRVRfQVNTRVNTTUVOVFNfUVVFU1RJT05TIiwiYXNzZXNzbWVudFF1ZXN0aW9uc0J5U2NyaXB0IiwicGFyc2VJbnQiLCJPYmplY3QiLCJrZXlzIiwiU1RBUlRfTE9BRElOR19BU1NFU1NNRU5UUyIsImlzTG9hZGluZyIsIkZJTklTSF9MT0FESU5HX0FTU0VTU01FTlRTIiwiX3VuaXRTZWxlY3Rpb25SZWR1eCIsInJlcXVpcmUiLCJfdHlwZW9mIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJvd25LZXlzIiwiZSIsInIiLCJ0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZmlsdGVyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJvYmoiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiaSIsIl90b1ByaW1pdGl2ZSIsInRvUHJpbWl0aXZlIiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsIk51bWJlciIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiUXVlc3Rpb25UeXBlIiwiTVVMVEkiLCJNQVRDSCIsIkZSRUVfUkVTUE9OU0UiLCJTdXJ2ZXlRdWVzdGlvblR5cGUiLCJNdWx0aUFuc3dlclN0YXR1cyIsIkFOU1dFUl9MRVRURVJTIiwiQVNTRVNTTUVOVF9GRUVEQkFDS19PUFRJT05fSUQiLCJpblByb2dyZXNzRmFrZVRpbWVzdGFtcCIsIkRhdGUiLCJub3RTdGFydGVkRmFrZVRpbWVzdGFtcCIsInNldEFzc2Vzc21lbnRSZXNwb25zZXMiLCJzZXRBc3Nlc3NtZW50UXVlc3Rpb25zIiwic2V0RmVlZGJhY2siLCJzdGFydExvYWRpbmdBc3Nlc3NtZW50cyIsImZpbmlzaExvYWRpbmdBc3Nlc3NtZW50cyIsInNldEluaXRpYWxBc3Nlc3NtZW50SWQiLCJzZXRBc3Nlc3NtZW50SWQiLCJzZXRTdXJ2ZXlzIiwic2V0UXVlc3Rpb25JbmRleCIsInNldFN0dWRlbnRJZCIsImFzeW5jTG9hZEFzc2Vzc21lbnRzIiwic2VjdGlvbklkIiwiZGlzcGF0Y2giLCJnZXRTdGF0ZSIsImxvYWRSZXNwb25zZXMiLCJsb2FkQXNzZXNzbWVudFJlc3BvbnNlc0Zyb21TZXJ2ZXIiLCJsb2FkUXVlc3Rpb25zIiwibG9hZEFzc2Vzc21lbnRRdWVzdGlvbnNGcm9tU2VydmVyIiwibG9hZFN1cnZleXMiLCJsb2FkU3VydmV5c0Zyb21TZXJ2ZXIiLCJsb2FkRmVlZGJhY2siLCJsb2FkRmVlZGJhY2tGcm9tU2VydmVyIiwiUHJvbWlzZSIsImFsbCIsInRoZW4iLCJhcnJheU9mVmFsdWVzIiwiZXJyb3IiLCJnZXRDdXJyZW50U2NyaXB0QXNzZXNzbWVudExpc3QiLCJ0ZW1wQXNzZXNzbWVudExpc3QiLCJjb21wdXRlU2NyaXB0QXNzZXNzbWVudExpc3QiLCJjb25jYXQiLCJnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdCIsImdldEN1cnJlbnRBc3Nlc3NtZW50UXVlc3Rpb25zIiwiaXNDdXJyZW50QXNzZXNzbWVudFN1cnZleSIsImdldEN1cnJlbnRRdWVzdGlvbiIsImVtcHR5UXVlc3Rpb24iLCJxdWVzdGlvbiIsImFuc3dlcnMiLCJsZXZlbGdyb3VwX3Jlc3VsdHMiLCJhbnN3ZXJfdGV4dHMiLCJtYXAiLCJhbnN3ZXIiLCJpbmRleCIsInRleHQiLCJjb3JyZWN0IiwibGV0dGVyIiwiYXNzZXNzbWVudFF1ZXN0aW9ucyIsInF1ZXN0aW9ucyIsInF1ZXN0aW9uX3RleHQiLCJxdWVzdGlvblR5cGUiLCJvcHRpb25zIiwib3B0aW9uIiwiZ2V0TXVsdGlwbGVDaG9pY2VTdHJ1Y3R1cmVGb3JDdXJyZW50QXNzZXNzbWVudCIsImFzc2Vzc21lbnRzU3RydWN0dXJlIiwibGV2ZWxfaWQiLCJxdWVzdGlvbk51bWJlciIsInF1ZXN0aW9uX2luZGV4IiwiY29ycmVjdEFuc3dlciIsImdldENvcnJlY3RBbnN3ZXIiLCJnZXRTdHVkZW50TUNSZXNwb25zZXNGb3JDdXJyZW50QXNzZXNzbWVudCIsInN0dWRlbnRSZXNwb25zZXMiLCJzdHVkZW50T2JqZWN0IiwiY3VycmVudEFzc2Vzc21lbnRJZCIsInN0dWRlbnRBc3Nlc3NtZW50IiwicmVzcG9uc2VzX2J5X2Fzc2Vzc21lbnQiLCJzdHVkZW50X25hbWUiLCJsZXZlbF9yZXN1bHRzIiwicmVzcG9uc2VzIiwiaW5kZXhlc1RvQW5zd2VyU3RyaW5nIiwic3R1ZGVudF9yZXN1bHQiLCJpc0NvcnJlY3QiLCJzdGF0dXMiLCJnZXRNYXRjaFN0cnVjdHVyZUZvckN1cnJlbnRBc3Nlc3NtZW50IiwiZ2V0U3R1ZGVudE1hdGNoUmVzcG9uc2VzRm9yQ3VycmVudEFzc2Vzc21lbnQiLCJnZXRTdHVkZW50QW5zd2Vyc0ZvckN1cnJlbnRRdWVzdGlvbiIsInN0dWRlbnRBbnN3ZXJzIiwiZ2V0QXNzZXNzbWVudHNGcmVlUmVzcG9uc2VSZXN1bHRzIiwicXVlc3Rpb25zQW5kUmVzdWx0cyIsInF1ZXN0aW9uVGV4dCIsImN1cnJlbnRTdHVkZW50c0lkcyIsImN1cnJlbnRTdHVkZW50SGFzUmVzcG9uc2VzIiwicmVzdWx0IiwicmVzcG9uc2UiLCJnZXRTdXJ2ZXlGcmVlUmVzcG9uc2VRdWVzdGlvbnMiLCJjdXJyZW50U3VydmV5IiwicmVzdWx0cyIsImdldE11bHRpcGxlQ2hvaWNlU3VydmV5UmVzdWx0cyIsInRvdGFsQW5zd2VyZWQiLCJhbnN3ZXJUb3RhbHMiLCJub3RBbnN3ZXJlZCIsImFuc3dlckluZGV4IiwiYW5zd2VyX2luZGV4IiwibXVsdGlwbGVDaG9pY2VPcHRpb24iLCJwZXJjZW50QW5zd2VyZWQiLCJNYXRoIiwiZmxvb3IiLCJzdXJ2ZXlzU3RydWN0dXJlIiwiaW5jbHVkZXMiLCJnZXRTdHVkZW50c01DYW5kTWF0Y2hTdW1tYXJ5Rm9yQ3VycmVudEFzc2Vzc21lbnQiLCJhbGxTdHVkZW50c0J5SWRzIiwidGVhY2hlclNlY3Rpb25zIiwic2VsZWN0ZWRTdHVkZW50cyIsInN0dWRlbnQiLCJzdHVkZW50c09iamVjdCIsInN0dWRlbnRzQXNzZXNzbWVudCIsImlzU3VibWl0dGVkIiwiaW5Qcm9ncmVzcyIsInN1Ym1pc3Npb25UaW1lU3RhbXAiLCJ0aW1lc3RhbXAiLCJzdWJtaXR0ZWQiLCJudW1NdWx0aXBsZUNob2ljZUNvcnJlY3QiLCJtdWx0aV9jb3JyZWN0IiwibnVtTXVsdGlwbGVDaG9pY2UiLCJtdWx0aV9jb3VudCIsIm51bU1hdGNoQ29ycmVjdCIsIm1hdGNoX2NvcnJlY3QiLCJudW1NYXRjaCIsIm1hdGNoX2NvdW50IiwidXJsIiwiZ2V0RXhwb3J0YWJsZVN1cnZleURhdGEiLCJnZXRFeHBvcnRhYmxlU3VibWlzc2lvblN0YXR1c0RhdGEiLCJzdW1tYXJ5U3R1ZGVudFN0YXR1cyIsInN0dWRlbnROYW1lIiwic3VibWlzc2lvblRpbWVzdGFtcCIsImdldE11bHRpcGxlQ2hvaWNlU2VjdGlvblN1bW1hcnkiLCJudW1BbnN3ZXJlZCIsImdldE1hdGNoU2VjdGlvblN1bW1hcnkiLCJpbmRleE8iLCJpbmRleEEiLCJjb3VudFN1Ym1pc3Npb25zRm9yQ3VycmVudEFzc2Vzc21lbnQiLCJ0b3RhbFN1Ym1pc3Npb25zIiwidmFsdWVzIiwiZ2V0RXhwb3J0YWJsZURhdGEiLCJnZXRFeHBvcnRhYmxlQXNzZXNzbWVudERhdGEiLCJxdWVzdGlvblJlc3VsdHMiLCJyb3dCYXNlIiwibGVzc29uIiwibGVzc29uX25hbWUiLCJfbG9vcCIsIm51bWJlckFuc3dlcmVkIiwiaiIsImdldEV4cG9ydGFibGVGZWVkYmFja0RhdGEiLCJmZWVkYmFja0ZvckN1cnJlbnRTY3JpcHQiLCJmZWVkYmFja0lkIiwiaXNDdXJyZW50U2NyaXB0Q1NEIiwiaGFzT3duUHJvcGVydHkiLCJhbnN3ZXJBcnIiLCJfcmVmIiwiam9pbiIsImEiLCJhc3Nlc3NtZW50U3RydWN0dXJlIiwiYXNzZXNzbWVudCIsInN1cnZleUlkIiwicGF5bG9hZCIsInNlY3Rpb25faWQiLCJzY3JpcHRfaWQiLCIkIiwiYWpheCIsIm1ldGhvZCIsImNvbnRlbnRUeXBlIiwiZGF0YSIsIm1vZHVsZSJdLCJzb3VyY2VSb290IjoiIn0=