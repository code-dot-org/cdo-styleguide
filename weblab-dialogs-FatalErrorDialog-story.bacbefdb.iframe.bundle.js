"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[185],{"./src/templates/SafeMarkdown.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _redactableMarkdown=_interopRequireDefault(__webpack_require__("./node_modules/@code-dot-org/redactable-markdown/dist/main.js")),_remarkPlugins=__webpack_require__("./node_modules/@code-dot-org/remark-plugins/src/index.js"),_github=_interopRequireDefault(__webpack_require__("./node_modules/hast-util-sanitize/lib/github.json")),_propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_rehypeRaw=_interopRequireDefault(__webpack_require__("./node_modules/rehype-raw/index.js")),_rehypeReact=_interopRequireDefault(__webpack_require__("./node_modules/rehype-react/index.js")),_rehypeSanitize=_interopRequireDefault(__webpack_require__("./node_modules/rehype-sanitize/index.js")),_remarkRehype=_interopRequireDefault(__webpack_require__("./node_modules/remark-rehype/index.js")),_externalLinks=_interopRequireDefault(__webpack_require__("./src/templates/plugins/externalLinks.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var SafeMarkdown=function(_React$Component){function SafeMarkdown(){return _React$Component.apply(this,arguments)||this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(SafeMarkdown,_React$Component),SafeMarkdown.prototype.render=function render(){var rendered=(this.props.openExternalLinksInNewTab?markdownToReactExternalLinks:markdownToReact).processSync(this.props.markdown).contents,markdownProps={};return this.props.className&&(markdownProps.className=this.props.className),rendered&&"div"===rendered.type&&!Object.keys(markdownProps).length?rendered:_react.default.createElement("div",markdownProps,rendered)},SafeMarkdown}(_react.default.Component);!function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(SafeMarkdown,"propTypes",{markdown:_propTypes.default.string.isRequired,openExternalLinksInNewTab:_propTypes.default.bool,className:_propTypes.default.string});var schema=Object.assign({},_github.default);schema.attributes.img.push("height","width"),schema.tagNames.push("span"),schema.attributes.span=["dataUrl","className"],schema.attributes["*"].push("style","className"),schema.attributes.b=["dataId"],schema.clobber=[];var blocklyTags=["block","functional_input","mutation","next","statement","title","field","value","xml"];schema.tagNames=schema.tagNames.concat(blocklyTags);var blocklyComponentWrappers={};blocklyTags.forEach((function(tag){schema.attributes[tag]=["block_text","id","inline","name","type"],blocklyComponentWrappers[tag]=function(props){var BlocklyElement=tag;return _react.default.createElement(BlocklyElement,_extends({is:tag},props))}}));var markdownToReact=_redactableMarkdown.default.create().getParser().use([_remarkPlugins.clickableText,_remarkPlugins.expandableImages,_remarkPlugins.visualCodeBlock,_remarkPlugins.xmlAsTopLevelBlock,_remarkPlugins.details]).use(_remarkRehype.default,{allowDangerousHTML:!0}).use(_rehypeRaw.default).use(_rehypeSanitize.default,schema).use(_rehypeReact.default,{createElement:_react.default.createElement,components:blocklyComponentWrappers}),markdownToReactExternalLinks=markdownToReact().use(_externalLinks.default,{links:"all"});exports.default=SafeMarkdown;module.exports=exports.default},"./src/templates/plugins/externalLinks.js":(__unused_webpack_module,exports)=>{function isExternalLink(url){return!/https?:\/\/([^.]+\.)*code.org(:[0-9]+)?\//.test(function fullyQualified(path){return(a=a||document.createElement("a")).href=path,a.href}(url))}var a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function externalLinks(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},tokenizers=this.Parser.prototype.inlineTokenizers,original=tokenizers.link,all="all"===options.links;tokenizers.link=function(eat,value,silent){var link=original.call(this,eat,value,silent);if(link&&"link"===link.type&&(all||isExternalLink(link.url))){link.data=link.data||{},link.data.hProperties=link.data.hProperties||{};var props=link.data.hProperties;props.target=props.target||"_blank",props.rel="noreferrer noopener"}return link},tokenizers.link.locator=original.locator},exports.isExternalLink=isExternalLink},"./src/weblab/SupportArticleMarkdown.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function SupportArticleMarkdown(){return _react.default.createElement(_SafeMarkdown.default,{markdown:_locale.default.troubleshootingSupport({url:_constants.SUPPORT_ARTICLE_URL}),openExternalLinksInNewTab:!0})};var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_locale=_interopRequireDefault(__webpack_require__("./src/weblab/locale-do-not-import.js")),_SafeMarkdown=_interopRequireDefault(__webpack_require__("./src/templates/SafeMarkdown.jsx")),_constants=__webpack_require__("./src/weblab/constants.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=exports.default},"./src/weblab/constants.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.SUPPORT_ARTICLE_URL=exports.FatalErrorType=exports.FILE_SYSTEM_ERROR=exports.BRAMBLE_READY_STATE=void 0;var _utils=__webpack_require__("./src/utils.js");exports.SUPPORT_ARTICLE_URL="https://support.code.org/hc/en-us/articles/360016804871",exports.FatalErrorType=(0,_utils.makeEnum)("Default","LoadFailure","ResetFailure"),exports.FILE_SYSTEM_ERROR="EFILESYSTEMERROR",exports.BRAMBLE_READY_STATE="bramble:readyToMount"},"./src/weblab/dialogs/FatalErrorDialog.jsx":(module,exports,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=FatalErrorDialog;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_locale2=_interopRequireDefault(__webpack_require__("./src/weblab/locale-do-not-import.js")),_StylizedBaseDialog=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./src/componentLibrary/StylizedBaseDialog.jsx")),_SupportArticleMarkdown=_interopRequireDefault(__webpack_require__("./src/weblab/SupportArticleMarkdown.jsx")),_utils=__webpack_require__("./src/utils.js"),_excluded=["isOpen","errorMessage","handleClose","handleResetProject"];function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function FatalErrorDialog(_ref){var isOpen=_ref.isOpen,errorMessage=_ref.errorMessage,handleClose=_ref.handleClose,handleResetProject=_ref.handleResetProject,props=_objectWithoutProperties(_ref,_excluded),body=_react.default.createElement("div",null,_react.default.createElement("p",null,errorMessage),_react.default.createElement(_SupportArticleMarkdown.default,null)),footerButtons=[_react.default.createElement(_StylizedBaseDialog.FooterButton,{text:_locale.default.tryAgain(),onClick:_utils.reload,key:"cancel",type:"cancel"}),_react.default.createElement(_StylizedBaseDialog.FooterButton,{text:_locale2.default.reset(),onClick:handleResetProject,key:"reset",color:"red"}),_react.default.createElement(_StylizedBaseDialog.FooterButton,{text:_locale.default.dismiss(),onClick:handleClose,key:"confirm",type:"confirm"})];return _react.default.createElement(_StylizedBaseDialog.default,_extends({},props,{isOpen,title:_locale.default.errorOccurredTitle(),body,handleClose,renderFooter:function renderFooter(){return footerButtons}}))}FatalErrorDialog.propTypes={isOpen:_propTypes.default.bool.isRequired,errorMessage:_propTypes.default.string.isRequired,handleClose:_propTypes.default.func.isRequired,handleResetProject:_propTypes.default.func.isRequired},module.exports=exports.default},"./src/weblab/dialogs/FatalErrorDialog.story.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Basic=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_addonActions=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js"),_FatalErrorDialog=_interopRequireDefault(__webpack_require__("./src/weblab/dialogs/FatalErrorDialog.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={component:_FatalErrorDialog.default},exports.Basic=function Basic(){return _react.default.createElement(_FatalErrorDialog.default,{isOpen:!0,errorMessage:"Web Lab failed to load",handleClose:(0,_addonActions.action)("close"),handleResetProject:(0,_addonActions.action)("resetting project"),hideBackdrop:!0})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2VibGFiLWRpYWxvZ3MtRmF0YWxFcnJvckRpYWxvZy1zdG9yeS40MzJlNWI0NS5pZnJhbWUuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJvUEFBQSxJQUFBQSxvQkFBQUMsdUJBQUFDLG9CQUFBLGtFQUNBQyxlQUFBRCxvQkFBQSw0REFPQUUsUUFBQUgsdUJBQUFDLG9CQUFBLHNEQUNBRyxXQUFBSix1QkFBQUMsb0JBQUEsdUNBQ0FJLE9BQUFMLHVCQUFBQyxvQkFBQSxrQ0FDQUssV0FBQU4sdUJBQUFDLG9CQUFBLHVDQUNBTSxhQUFBUCx1QkFBQUMsb0JBQUEseUNBQ0FPLGdCQUFBUix1QkFBQUMsb0JBQUEsNENBQ0FRLGNBQUFULHVCQUFBQyxvQkFBQSwwQ0FFQVMsZUFBQVYsdUJBQUFDLG9CQUFBLDZDQUFvRCxTQUFBRCx1QkFBQVcsS0FBQSxPQUFBQSxLQUFBQSxJQUFBQyxXQUFBRCxJQUFBLFNBQUFBLElBQUEsVUFBQUUsUUFBQUMsR0FBQSxPQUFBRCxRQUFBLG1CQUFBRSxRQUFBLGlCQUFBQSxPQUFBQyxTQUFBLFNBQUFGLEdBQUEsY0FBQUEsQ0FBQSxXQUFBQSxHQUFBLE9BQUFBLEdBQUEsbUJBQUFDLFFBQUFELEVBQUFHLGNBQUFGLFFBQUFELElBQUFDLE9BQUFHLFVBQUEsZ0JBQUFKLENBQUEsRUFBQUQsUUFBQUMsRUFBQSxVQUFBSyxXQUFBLE9BQUFBLFNBQUFDLE9BQUFDLE9BQUFELE9BQUFDLE9BQUFDLE9BQUEsU0FBQUMsUUFBQSxRQUFBQyxFQUFBLEVBQUFBLEVBQUFDLFVBQUFDLE9BQUFGLElBQUEsS0FBQUcsT0FBQUYsVUFBQUQsR0FBQSxRQUFBSSxPQUFBRCxPQUFBUCxPQUFBRixVQUFBVyxlQUFBQyxLQUFBSCxPQUFBQyxPQUFBTCxPQUFBSyxLQUFBRCxPQUFBQyxLQUFBLFFBQUFMLE1BQUEsRUFBQUosU0FBQVksTUFBQSxLQUFBTixVQUFBLFVBQUFPLGdCQUFBbEIsRUFBQW1CLEdBQUEsT0FBQUQsZ0JBQUFaLE9BQUFjLGVBQUFkLE9BQUFj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cGxhdGVzL1NhZmVNYXJrZG93bi5qc3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3RlbXBsYXRlcy9wbHVnaW5zL2V4dGVybmFsTGlua3MuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3dlYmxhYi9TdXBwb3J0QXJ0aWNsZU1hcmtkb3duLmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvd2VibGFiL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvd2VibGFiL2RpYWxvZ3MvRmF0YWxFcnJvckRpYWxvZy5qc3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3dlYmxhYi9kaWFsb2dzL0ZhdGFsRXJyb3JEaWFsb2cuc3RvcnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBhcnNlciBmcm9tICdAY29kZS1kb3Qtb3JnL3JlZGFjdGFibGUtbWFya2Rvd24nO1xuaW1wb3J0IHtcbiAgZGV0YWlscyxcbiAgY2xpY2thYmxlVGV4dCxcbiAgZXhwYW5kYWJsZUltYWdlcyxcbiAgdmlzdWFsQ29kZUJsb2NrLFxuICB4bWxBc1RvcExldmVsQmxvY2ssXG59IGZyb20gJ0Bjb2RlLWRvdC1vcmcvcmVtYXJrLXBsdWdpbnMnO1xuaW1wb3J0IGRlZmF1bHRTYW5pdGl6YXRpb25TY2hlbWEgZnJvbSAnaGFzdC11dGlsLXNhbml0aXplL2xpYi9naXRodWIuanNvbic7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCByZWh5cGVSYXcgZnJvbSAncmVoeXBlLXJhdyc7XG5pbXBvcnQgcmVoeXBlUmVhY3QgZnJvbSAncmVoeXBlLXJlYWN0JztcbmltcG9ydCByZWh5cGVTYW5pdGl6ZSBmcm9tICdyZWh5cGUtc2FuaXRpemUnO1xuaW1wb3J0IHJlbWFya1JlaHlwZSBmcm9tICdyZW1hcmstcmVoeXBlJztcblxuaW1wb3J0IGV4dGVybmFsTGlua3MgZnJvbSAnLi9wbHVnaW5zL2V4dGVybmFsTGlua3MnO1xuXG4vKipcbiAqIEJhc2ljIGNvbXBvbmVudCBmb3IgcmVuZGVyaW5nIGEgbWFya2Rvd24gc3RyaW5nIGFzIEhUTUwsIHdpdGggc2FuaXRpemF0aW9uLlxuICogQ2FuIHNhZmVseSByZW5kZXIgbWFya2Rvd24gZXZlbiBmcm9tIHVudHJ1c3RlZCBzb3VyY2VzLCB3aXRob3V0IHBvdGVudGlhbGx5XG4gKiBleHBvc2luZyB1cyB0byBhbiBYU1MgaW5qZWN0aW9uLlxuICovXG5jbGFzcyBTYWZlTWFya2Rvd24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIG1hcmtkb3duOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgb3BlbkV4dGVybmFsTGlua3NJbk5ld1RhYjogUHJvcFR5cGVzLmJvb2wsXG4gICAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICAvLyBXZSBvbmx5IG9wZW4gZXh0ZXJuYWwgbGlua3MgaW4gYSBuZXcgdGFiIGlmIGl0J3MgZXhwbGljaXRseSBzcGVjaWZpZWRcbiAgICAvLyB0aGF0IHdlIGRvIHNvOyB0aGlzIGlzIGFic29sdXRlbHkgbm90IHNvbWV0aGluZyB3ZSB3YW50IHRvIGRvIGFzIGFcbiAgICAvLyBnZW5lcmFsIHByYWN0aWNlLCBidXQgdW5mb3J0dW5hdGVseSB0aGVyZSBhcmUgc29tZSBzaXR1YXRpb25zIGluIHdoaWNoXG4gICAgLy8gaXQgaXMgY3VycmVudGx5IGEgcmVxdWlyZW1lbnQuXG4gICAgY29uc3QgcGFyc2VyID0gdGhpcy5wcm9wcy5vcGVuRXh0ZXJuYWxMaW5rc0luTmV3VGFiXG4gICAgICA/IG1hcmtkb3duVG9SZWFjdEV4dGVybmFsTGlua3NcbiAgICAgIDogbWFya2Rvd25Ub1JlYWN0O1xuXG4gICAgY29uc3QgcmVuZGVyZWQgPSBwYXJzZXIucHJvY2Vzc1N5bmModGhpcy5wcm9wcy5tYXJrZG93bikuY29udGVudHM7XG5cbiAgICBjb25zdCBtYXJrZG93blByb3BzID0ge307XG4gICAgaWYgKHRoaXMucHJvcHMuY2xhc3NOYW1lKSB7XG4gICAgICBtYXJrZG93blByb3BzLmNsYXNzTmFtZSA9IHRoaXMucHJvcHMuY2xhc3NOYW1lO1xuICAgIH1cbiAgICAvLyByZWh5cGUtcmVhY3Qgd2lsbCBvbmx5IHdyYXAgdGhlIGNvbXBpbGVkIG1hcmtkb3duIGluIGEgPGRpdj4gdGFnXG4gICAgLy8gaWYgaXQgbmVlZHMgdG8gKGllLCBpZiB0aGVyZSB3b3VsZCBvdGhlcndpc2UgYmUgbXVsdGlwbGUgZWxlbWVudHNcbiAgICAvLyByZXR1cm5lZCkgb3Igd2UncmUgYXNzaWduaW5nIHByb3BzLiBXZSBwcmVmZXIgY29uc2lzdGVuY3kgb3ZlciBmbGV4aWJpbGl0eSxcbiAgICAvLyBzbyBoZXJlIHdlIHdyYXAgdGhlIHJlc3VsdCBpbiBhIGRpdiBpZiBpdCB3YXNuJ3QgYWxyZWFkeVxuICAgIGlmIChcbiAgICAgIHJlbmRlcmVkICYmXG4gICAgICByZW5kZXJlZC50eXBlID09PSAnZGl2JyAmJlxuICAgICAgIU9iamVjdC5rZXlzKG1hcmtkb3duUHJvcHMpLmxlbmd0aFxuICAgICkge1xuICAgICAgcmV0dXJuIHJlbmRlcmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPGRpdiB7Li4ubWFya2Rvd25Qcm9wc30+e3JlbmRlcmVkfTwvZGl2PjtcbiAgICB9XG4gIH1cbn1cblxuLy8gY3JlYXRlIGN1c3RvbSBzYW5pdGl6YXRpb24gc2NoZW1hIGFzIHBlclxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3N5bnRheC10cmVlL2hhc3QtdXRpbC1zYW5pdGl6ZSNzY2hlbWFcbi8vIHRvIHN1cHBvcnQgb3VyIGN1c3RvbSBzeW50YXhlc1xuY29uc3Qgc2NoZW1hID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFNhbml0aXphdGlvblNjaGVtYSk7XG5cbi8vIFdlIHVzZSBhIF9sb3RfIG9mIGltYWdlIGZvcm1hdHRpbmcgc3R1ZmYgaW4gb3VyXG4vLyBpbnN0cnVjdGlvbnMsIHBhcnRpY3VsYXJseSBpbiBDU1BcbnNjaGVtYS5hdHRyaWJ1dGVzLmltZy5wdXNoKCdoZWlnaHQnLCAnd2lkdGgnKTtcblxuLy8gQWRkIHN1cHBvcnQgZm9yIGV4cGFuZGFibGVJbWFnZXNcbnNjaGVtYS50YWdOYW1lcy5wdXNoKCdzcGFuJyk7XG5zY2hlbWEuYXR0cmlidXRlcy5zcGFuID0gWydkYXRhVXJsJywgJ2NsYXNzTmFtZSddO1xuXG4vLyBBZGQgc3VwcG9ydCBmb3IgaW5saW5lIHN0eWxlcyAoZ3Jvc3MpXG4vLyBUT0RPIHJlcGxhY2UgYWxsIGlubGluZSBzdHlsZXMgaW4gb3VyIGN1cnJpY3VsdW0gY29udGVudCB3aXRoXG4vLyBzZW1hbnRpY2FsbHktc2lnbmlmaWNhbnQgY29udGVudFxuc2NoZW1hLmF0dHJpYnV0ZXNbJyonXS5wdXNoKCdzdHlsZScsICdjbGFzc05hbWUnKTtcblxuLy8gQ2xpY2thYmxlVGV4dCB1c2VzIGRhdGEtaWQgb24gYSBib2xkIHRhZy5cbnNjaGVtYS5hdHRyaWJ1dGVzWydiJ10gPSBbJ2RhdGFJZCddO1xuXG4vLyBBZGQgc3VwcG9ydCBmb3IgQmxvY2tseSBYTUxcbnNjaGVtYS5jbG9iYmVyID0gW107XG5jb25zdCBibG9ja2x5VGFncyA9IFtcbiAgJ2Jsb2NrJyxcbiAgJ2Z1bmN0aW9uYWxfaW5wdXQnLFxuICAnbXV0YXRpb24nLFxuICAnbmV4dCcsXG4gICdzdGF0ZW1lbnQnLFxuICAndGl0bGUnLFxuICAnZmllbGQnLFxuICAndmFsdWUnLFxuICAneG1sJyxcbl07XG5zY2hlbWEudGFnTmFtZXMgPSBzY2hlbWEudGFnTmFtZXMuY29uY2F0KGJsb2NrbHlUYWdzKTtcbmxldCBibG9ja2x5Q29tcG9uZW50V3JhcHBlcnMgPSB7fTtcbmJsb2NrbHlUYWdzLmZvckVhY2godGFnID0+IHtcbiAgc2NoZW1hLmF0dHJpYnV0ZXNbdGFnXSA9IFsnYmxvY2tfdGV4dCcsICdpZCcsICdpbmxpbmUnLCAnbmFtZScsICd0eXBlJ107XG5cbiAgLy8gQ3JlYXRlIGEgUmVhY3QgY29tcG9uZW50IHRvIHdyYXAgZWFjaCBCbG9ja2x5IHRhZy4gU2luY2UgdGhlc2UgZWxlbWVudHMgdWx0aW1hdGVseVxuICAvLyByZW5kZXIgYXMgUmVhY3QgY29tcG9uZW50cywgY3JlYXRpbmcgYSB3cmFwcGVyIG1ha2VzIHRoZW0gdmFsaWQgKHdoZXJlYXMgPHhtbD5cbiAgLy8gaXMgbm90IGEgdmFsaWQgUmVhY3QgdGFnKS5cbiAgYmxvY2tseUNvbXBvbmVudFdyYXBwZXJzW3RhZ10gPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICBjb25zdCBCbG9ja2x5RWxlbWVudCA9IHRhZztcbiAgICAvLyBUaGUgXCJpc1wiIGF0dHJpYnV0ZSBwcmV2ZW50cyBSZWFjdCBmcm9tIHdhcm5pbmcgYWJvdXQgdW5yZWNvZ25pemVkIHRhZ3M6XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMTE4NCNpc3N1ZWNvbW1lbnQtMzM1OTQyNDM5XG4gICAgcmV0dXJuIDxCbG9ja2x5RWxlbWVudCBpcz17dGFnfSB7Li4ucHJvcHN9IC8+O1xuICB9O1xufSk7XG5cbmNvbnN0IG1hcmtkb3duVG9SZWFjdCA9IFBhcnNlci5jcmVhdGUoKVxuICAuZ2V0UGFyc2VyKClcbiAgLy8gaW5jbHVkZSBjdXN0b20gcGx1Z2luc1xuICAudXNlKFtcbiAgICBjbGlja2FibGVUZXh0LFxuICAgIGV4cGFuZGFibGVJbWFnZXMsXG4gICAgdmlzdWFsQ29kZUJsb2NrLFxuICAgIHhtbEFzVG9wTGV2ZWxCbG9jayxcbiAgICBkZXRhaWxzLFxuICBdKVxuICAvLyBjb252ZXJ0IG1hcmtkb3duIHRvIGFuIEhUTUwgQWJzdHJhY3QgU3ludGF4IFRyZWUgKEhBU1QpXG4gIC51c2UocmVtYXJrUmVoeXBlLCB7XG4gICAgLy8gaW5jbHVkZSBhbnkgcmF3IEhUTUwgaW4gdGhlIG1hcmtkb3duIGFzIHJhdyBIVE1MIG5vZGVzIGluIHRoZSBIQVNUXG4gICAgYWxsb3dEYW5nZXJvdXNIVE1MOiB0cnVlLFxuICB9KVxuICAvLyBwYXJzZSB0aGUgcmF3IEhUTUwgbm9kZXMgaW4gdGhlIEhBU1QgdG8gYWN0dWFsIEhBU1Qgbm9kZXNcbiAgLnVzZShyZWh5cGVSYXcpXG4gIC8vIHNhbml0aXplIHRoZSBIQVNUXG4gIC51c2UocmVoeXBlU2FuaXRpemUsIHNjaGVtYSlcbiAgLy8gY29udmVydCB0aGUgSEFTVCB0byBSZWFjdFxuICAudXNlKHJlaHlwZVJlYWN0LCB7XG4gICAgY3JlYXRlRWxlbWVudDogUmVhY3QuY3JlYXRlRWxlbWVudCxcbiAgICAvLyBVc2UgUmVhY3QgY29tcG9uZW50IHdyYXBwZXJzIGZvciBCbG9ja2x5IFhNTCBlbGVtZW50cyB0byBwcmV2ZW50XG4gICAgLy8gUmVhY3QgZnJvbSB3YXJuaW5nIHVzIGFib3V0IGludmFsaWQgY29tcG9uZW50cy5cbiAgICBjb21wb25lbnRzOiBibG9ja2x5Q29tcG9uZW50V3JhcHBlcnMsXG4gIH0pO1xuXG5jb25zdCBtYXJrZG93blRvUmVhY3RFeHRlcm5hbExpbmtzID0gbWFya2Rvd25Ub1JlYWN0KCkudXNlKGV4dGVybmFsTGlua3MsIHtcbiAgbGlua3M6ICdhbGwnLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFNhZmVNYXJrZG93bjtcbiIsIi8qKlxuICogT3BlbiBleHRlcm5hbCBsaW5rcyBpbiBhIG5ldyB0YWIuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGV4dGVybmFsTGlua3Mob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IFBhcnNlciA9IHRoaXMuUGFyc2VyO1xuICBjb25zdCB0b2tlbml6ZXJzID0gUGFyc2VyLnByb3RvdHlwZS5pbmxpbmVUb2tlbml6ZXJzO1xuICBjb25zdCBvcmlnaW5hbCA9IHRva2VuaXplcnMubGluaztcbiAgY29uc3QgYWxsID0gb3B0aW9ucy5saW5rcyA9PT0gJ2FsbCc7XG5cbiAgdG9rZW5pemVycy5saW5rID0gZnVuY3Rpb24gKGVhdCwgdmFsdWUsIHNpbGVudCkge1xuICAgIGNvbnN0IGxpbmsgPSBvcmlnaW5hbC5jYWxsKHRoaXMsIGVhdCwgdmFsdWUsIHNpbGVudCk7XG4gICAgaWYgKGxpbmsgJiYgbGluay50eXBlID09PSAnbGluaycgJiYgKGFsbCB8fCBpc0V4dGVybmFsTGluayhsaW5rLnVybCkpKSB7XG4gICAgICBsaW5rLmRhdGEgPSBsaW5rLmRhdGEgfHwge307XG4gICAgICBsaW5rLmRhdGEuaFByb3BlcnRpZXMgPSBsaW5rLmRhdGEuaFByb3BlcnRpZXMgfHwge307XG5cbiAgICAgIGNvbnN0IHByb3BzID0gbGluay5kYXRhLmhQcm9wZXJ0aWVzO1xuICAgICAgcHJvcHMudGFyZ2V0ID0gcHJvcHMudGFyZ2V0IHx8ICdfYmxhbmsnO1xuICAgICAgcHJvcHMucmVsID0gJ25vcmVmZXJyZXIgbm9vcGVuZXInO1xuICAgIH1cblxuICAgIHJldHVybiBsaW5rO1xuICB9O1xuICB0b2tlbml6ZXJzLmxpbmsubG9jYXRvciA9IG9yaWdpbmFsLmxvY2F0b3I7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0V4dGVybmFsTGluayh1cmwpIHtcbiAgcmV0dXJuICEvaHR0cHM/OlxcL1xcLyhbXi5dK1xcLikqY29kZS5vcmcoOlswLTldKyk/XFwvLy50ZXN0KGZ1bGx5UXVhbGlmaWVkKHVybCkpO1xufVxuXG5sZXQgYTtcbmZ1bmN0aW9uIGZ1bGx5UXVhbGlmaWVkKHBhdGgpIHtcbiAgYSA9IGEgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICBhLmhyZWYgPSBwYXRoO1xuICByZXR1cm4gYS5ocmVmO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB3ZWJsYWJJMThuIGZyb20gJ0BjZG8vd2VibGFiL2xvY2FsZSc7XG5pbXBvcnQgU2FmZU1hcmtkb3duIGZyb20gJ0BjZG8vYXBwcy90ZW1wbGF0ZXMvU2FmZU1hcmtkb3duJztcbmltcG9ydCB7U1VQUE9SVF9BUlRJQ0xFX1VSTH0gZnJvbSAnQGNkby9hcHBzL3dlYmxhYi9jb25zdGFudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTdXBwb3J0QXJ0aWNsZU1hcmtkb3duKCkge1xuICByZXR1cm4gKFxuICAgIDxTYWZlTWFya2Rvd25cbiAgICAgIG1hcmtkb3duPXt3ZWJsYWJJMThuLnRyb3VibGVzaG9vdGluZ1N1cHBvcnQoe3VybDogU1VQUE9SVF9BUlRJQ0xFX1VSTH0pfVxuICAgICAgb3BlbkV4dGVybmFsTGlua3NJbk5ld1RhYlxuICAgIC8+XG4gICk7XG59XG4iLCJpbXBvcnQge21ha2VFbnVtfSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBjb25zdCBTVVBQT1JUX0FSVElDTEVfVVJMID1cbiAgJ2h0dHBzOi8vc3VwcG9ydC5jb2RlLm9yZy9oYy9lbi11cy9hcnRpY2xlcy8zNjAwMTY4MDQ4NzEnO1xuXG5leHBvcnQgY29uc3QgRmF0YWxFcnJvclR5cGUgPSBtYWtlRW51bShcbiAgJ0RlZmF1bHQnLFxuICAnTG9hZEZhaWx1cmUnLFxuICAnUmVzZXRGYWlsdXJlJ1xuKTtcblxuZXhwb3J0IGNvbnN0IEZJTEVfU1lTVEVNX0VSUk9SID0gJ0VGSUxFU1lTVEVNRVJST1InO1xuZXhwb3J0IGNvbnN0IEJSQU1CTEVfUkVBRFlfU1RBVEUgPSAnYnJhbWJsZTpyZWFkeVRvTW91bnQnO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY29tbW9uSTE4biBmcm9tICdAY2RvL2xvY2FsZSc7XG5pbXBvcnQgd2VibGFiSTE4biBmcm9tICdAY2RvL3dlYmxhYi9sb2NhbGUnO1xuaW1wb3J0IFN0eWxpemVkQmFzZURpYWxvZywge1xuICBGb290ZXJCdXR0b24sXG59IGZyb20gJ0BjZG8vYXBwcy9jb21wb25lbnRMaWJyYXJ5L1N0eWxpemVkQmFzZURpYWxvZyc7XG5pbXBvcnQgU3VwcG9ydEFydGljbGVNYXJrZG93biBmcm9tICdAY2RvL2FwcHMvd2VibGFiL1N1cHBvcnRBcnRpY2xlTWFya2Rvd24nO1xuaW1wb3J0IHtyZWxvYWR9IGZyb20gJ0BjZG8vYXBwcy91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZhdGFsRXJyb3JEaWFsb2coe1xuICBpc09wZW4sXG4gIGVycm9yTWVzc2FnZSxcbiAgaGFuZGxlQ2xvc2UsXG4gIGhhbmRsZVJlc2V0UHJvamVjdCxcbiAgLi4ucHJvcHNcbn0pIHtcbiAgY29uc3QgYm9keSA9IChcbiAgICA8ZGl2PlxuICAgICAgPHA+e2Vycm9yTWVzc2FnZX08L3A+XG4gICAgICA8U3VwcG9ydEFydGljbGVNYXJrZG93biAvPlxuICAgIDwvZGl2PlxuICApO1xuXG4gIGNvbnN0IGZvb3RlckJ1dHRvbnMgPSBbXG4gICAgPEZvb3RlckJ1dHRvblxuICAgICAgdGV4dD17Y29tbW9uSTE4bi50cnlBZ2FpbigpfVxuICAgICAgb25DbGljaz17cmVsb2FkfVxuICAgICAga2V5PVwiY2FuY2VsXCJcbiAgICAgIHR5cGU9XCJjYW5jZWxcIlxuICAgIC8+LFxuICAgIDxGb290ZXJCdXR0b25cbiAgICAgIHRleHQ9e3dlYmxhYkkxOG4ucmVzZXQoKX1cbiAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlc2V0UHJvamVjdH1cbiAgICAgIGtleT1cInJlc2V0XCJcbiAgICAgIGNvbG9yPVwicmVkXCJcbiAgICAvPixcbiAgICA8Rm9vdGVyQnV0dG9uXG4gICAgICB0ZXh0PXtjb21tb25JMThuLmRpc21pc3MoKX1cbiAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsb3NlfVxuICAgICAga2V5PVwiY29uZmlybVwiXG4gICAgICB0eXBlPVwiY29uZmlybVwiXG4gICAgLz4sXG4gIF07XG5cbiAgcmV0dXJuIChcbiAgICA8U3R5bGl6ZWRCYXNlRGlhbG9nXG4gICAgICB7Li4ucHJvcHN9XG4gICAgICBpc09wZW49e2lzT3Blbn1cbiAgICAgIHRpdGxlPXtjb21tb25JMThuLmVycm9yT2NjdXJyZWRUaXRsZSgpfVxuICAgICAgYm9keT17Ym9keX1cbiAgICAgIGhhbmRsZUNsb3NlPXtoYW5kbGVDbG9zZX1cbiAgICAgIHJlbmRlckZvb3Rlcj17KCkgPT4gZm9vdGVyQnV0dG9uc31cbiAgICAvPlxuICApO1xufVxuXG5GYXRhbEVycm9yRGlhbG9nLnByb3BUeXBlcyA9IHtcbiAgaXNPcGVuOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBlcnJvck1lc3NhZ2U6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgaGFuZGxlQ2xvc2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGhhbmRsZVJlc2V0UHJvamVjdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHthY3Rpb259IGZyb20gJ0BzdG9yeWJvb2svYWRkb24tYWN0aW9ucyc7XG5pbXBvcnQgRmF0YWxFcnJvckRpYWxvZyBmcm9tICcuL0ZhdGFsRXJyb3JEaWFsb2cnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbXBvbmVudDogRmF0YWxFcnJvckRpYWxvZyxcbn07XG5cbmV4cG9ydCBjb25zdCBCYXNpYyA9ICgpID0+IChcbiAgPEZhdGFsRXJyb3JEaWFsb2dcbiAgICBpc09wZW5cbiAgICBlcnJvck1lc3NhZ2U9XCJXZWIgTGFiIGZhaWxlZCB0byBsb2FkXCJcbiAgICBoYW5kbGVDbG9zZT17YWN0aW9uKCdjbG9zZScpfVxuICAgIGhhbmRsZVJlc2V0UHJvamVjdD17YWN0aW9uKCdyZXNldHRpbmcgcHJvamVjdCcpfVxuICAgIGhpZGVCYWNrZHJvcFxuICAvPlxuKTtcbiJdLCJuYW1lcyI6WyJfcmVkYWN0YWJsZU1hcmtkb3duIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVtYXJrUGx1Z2lucyIsIl9naXRodWIiLCJfcHJvcFR5cGVzIiwiX3JlYWN0IiwiX3JlaHlwZVJhdyIsIl9yZWh5cGVSZWFjdCIsIl9yZWh5cGVTYW5pdGl6ZSIsIl9yZW1hcmtSZWh5cGUiLCJfZXh0ZXJuYWxMaW5rcyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJfdHlwZW9mIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfZXh0ZW5kcyIsIk9iamVjdCIsImFzc2lnbiIsImJpbmQiLCJ0YXJnZXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYXBwbHkiLCJfc2V0UHJvdG90eXBlT2YiLCJwIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJTYWZlTWFya2Rvd24iLCJfUmVhY3QkQ29tcG9uZW50IiwiX2luaGVyaXRzTG9vc2UiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJyZW5kZXIiLCJyZW5kZXJlZCIsInRoaXMiLCJwcm9wcyIsIm9wZW5FeHRlcm5hbExpbmtzSW5OZXdUYWIiLCJtYXJrZG93blRvUmVhY3RFeHRlcm5hbExpbmtzIiwibWFya2Rvd25Ub1JlYWN0IiwicHJvY2Vzc1N5bmMiLCJtYXJrZG93biIsImNvbnRlbnRzIiwibWFya2Rvd25Qcm9wcyIsImNsYXNzTmFtZSIsInR5cGUiLCJrZXlzIiwiY3JlYXRlRWxlbWVudCIsIlJlYWN0IiwiQ29tcG9uZW50IiwiX2RlZmluZVByb3BlcnR5IiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsInQiLCJfdG9QcmltaXRpdmUiLCJyIiwiZSIsInRvUHJpbWl0aXZlIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiTnVtYmVyIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJQcm9wVHlwZXMiLCJzdHJpbmciLCJpc1JlcXVpcmVkIiwiYm9vbCIsInNjaGVtYSIsImRlZmF1bHRTYW5pdGl6YXRpb25TY2hlbWEiLCJhdHRyaWJ1dGVzIiwiaW1nIiwicHVzaCIsInRhZ05hbWVzIiwic3BhbiIsImNsb2JiZXIiLCJibG9ja2x5VGFncyIsImNvbmNhdCIsImJsb2NrbHlDb21wb25lbnRXcmFwcGVycyIsImZvckVhY2giLCJ0YWciLCJCbG9ja2x5RWxlbWVudCIsImlzIiwiUGFyc2VyIiwiZ2V0UGFyc2VyIiwidXNlIiwiY2xpY2thYmxlVGV4dCIsImV4cGFuZGFibGVJbWFnZXMiLCJ2aXN1YWxDb2RlQmxvY2siLCJ4bWxBc1RvcExldmVsQmxvY2siLCJkZXRhaWxzIiwicmVtYXJrUmVoeXBlIiwiYWxsb3dEYW5nZXJvdXNIVE1MIiwicmVoeXBlUmF3IiwicmVoeXBlU2FuaXRpemUiLCJyZWh5cGVSZWFjdCIsImNvbXBvbmVudHMiLCJleHRlcm5hbExpbmtzIiwibGlua3MiLCJleHBvcnRzIiwibW9kdWxlIiwiaXNFeHRlcm5hbExpbmsiLCJ1cmwiLCJ0ZXN0IiwiZnVsbHlRdWFsaWZpZWQiLCJwYXRoIiwiYSIsImRvY3VtZW50IiwiaHJlZiIsIm9wdGlvbnMiLCJ1bmRlZmluZWQiLCJ0b2tlbml6ZXJzIiwiaW5saW5lVG9rZW5pemVycyIsIm9yaWdpbmFsIiwibGluayIsImFsbCIsImVhdCIsInNpbGVudCIsImRhdGEiLCJoUHJvcGVydGllcyIsInJlbCIsImxvY2F0b3IiLCJTdXBwb3J0QXJ0aWNsZU1hcmtkb3duIiwiX1NhZmVNYXJrZG93biIsIndlYmxhYkkxOG4iLCJ0cm91Ymxlc2hvb3RpbmdTdXBwb3J0IiwiU1VQUE9SVF9BUlRJQ0xFX1VSTCIsIl9sb2NhbGUiLCJfY29uc3RhbnRzIiwiX3V0aWxzIiwibWFrZUVudW0iLCJfbG9jYWxlMiIsIl9TdHlsaXplZEJhc2VEaWFsb2ciLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImhhcyIsImdldCIsIm4iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1Iiwic2V0IiwiX1N1cHBvcnRBcnRpY2xlTWFya2Rvd24iLCJfZXhjbHVkZWQiLCJXZWFrTWFwIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiZXhjbHVkZWQiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsInNvdXJjZUtleXMiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic291cmNlU3ltYm9sS2V5cyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiRmF0YWxFcnJvckRpYWxvZyIsIl9yZWYiLCJpc09wZW4iLCJlcnJvck1lc3NhZ2UiLCJoYW5kbGVDbG9zZSIsImhhbmRsZVJlc2V0UHJvamVjdCIsImJvZHkiLCJmb290ZXJCdXR0b25zIiwiRm9vdGVyQnV0dG9uIiwidGV4dCIsImNvbW1vbkkxOG4iLCJ0cnlBZ2FpbiIsIm9uQ2xpY2siLCJyZWxvYWQiLCJyZXNldCIsImNvbG9yIiwiZGlzbWlzcyIsInRpdGxlIiwiZXJyb3JPY2N1cnJlZFRpdGxlIiwicmVuZGVyRm9vdGVyIiwicHJvcFR5cGVzIiwiZnVuYyIsIl9hZGRvbkFjdGlvbnMiLCJfRmF0YWxFcnJvckRpYWxvZyIsImNvbXBvbmVudCIsIkJhc2ljIiwiYWN0aW9uIiwiaGlkZUJhY2tkcm9wIl0sInNvdXJjZVJvb3QiOiIifQ==