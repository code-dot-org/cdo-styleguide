"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[9790],{"./node_modules/reactabular-sticky/dist/body.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react2=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_reactabularTable=(_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),__webpack_require__("./node_modules/reactabular-table/dist/index.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Body=function(_React$Component){function Body(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Body);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Body.__proto__||Object.getPrototypeOf(Body)).call(this,props));return _this.ref=null,_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Body,_React$Component),_createClass(Body,[{key:"render",value:function render(){var _this2=this,_props=this.props,style=_props.style,tableHeader=_props.tableHeader,_onScroll=_props.onScroll,props=function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_props,["style","tableHeader","onScroll"]),scrollOffset=(tableHeader?tableHeader.clientWidth:0)-(this.ref?this.ref.clientWidth:0)||0;return _react2.default.createElement(_reactabularTable.Body,_extends({ref:function ref(body){_this2.ref=body&&body.getRef()},style:_extends({display:"block",overflow:"auto",paddingRight:scrollOffset},style||{}),onScroll:function onScroll(e){_onScroll&&_onScroll(e);var scrollLeft=e.target.scrollLeft;tableHeader&&(tableHeader.scrollLeft=scrollLeft)}},props))}},{key:"getRef",value:function getRef(){return this.ref}}]),Body}(_react2.default.Component);exports.default=Body},"./node_modules/reactabular-sticky/dist/header.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react2=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_reactabularTable=(_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),__webpack_require__("./node_modules/reactabular-table/dist/index.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Header=function(_React$Component){function Header(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Header);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Header.__proto__||Object.getPrototypeOf(Header)).call(this,props));return _this.ref=null,_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Header,_React$Component),_createClass(Header,[{key:"render",value:function render(){var _this2=this,_props=this.props,style=_props.style,tableBody=_props.tableBody,props=function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_props,["style","tableBody"]);return _react2.default.createElement(_reactabularTable.Header,_extends({ref:function ref(header){_this2.ref=header&&header.getRef()},style:_extends({display:"block",overflow:"auto"},style||{})},props,{onScroll:function onScroll(_ref){var scrollLeft=_ref.target.scrollLeft;tableBody&&(tableBody.scrollLeft=scrollLeft)}}))}},{key:"getRef",value:function getRef(){return this.ref}}]),Header}(_react2.default.Component);exports.default=Header},"./node_modules/reactabular-sticky/dist/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.Header=exports.Body=void 0;var _body2=_interopRequireDefault(__webpack_require__("./node_modules/reactabular-sticky/dist/body.js")),_header2=_interopRequireDefault(__webpack_require__("./node_modules/reactabular-sticky/dist/header.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Body=_body2.default,exports.Header=_header2.default},"./node_modules/reactabular-virtualized/dist/body-row.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var _isEqual3=_interopRequireDefault(__webpack_require__("./node_modules/lodash/isEqual.js")),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react2=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_reactabularTable=__webpack_require__("./node_modules/reactabular-table/dist/index.js"),_types=__webpack_require__("./node_modules/reactabular-virtualized/dist/types.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var BodyRow=function(_React$Component){function BodyRow(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BodyRow);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(BodyRow.__proto__||Object.getPrototypeOf(BodyRow)).call(this,props));return _this.ref=null,_this.updateHeight=_this.updateHeight.bind(_this),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(BodyRow,_React$Component),_createClass(BodyRow,[{key:"componentDidMount",value:function componentDidMount(){this.updateHeight()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.context.initialMeasurement&&this.updateHeight()}},{key:"render",value:function render(){var _this2=this;return _react2.default.createElement("tr",_extends({},this.props,{ref:function ref(e){e&&(_this2.ref=e)}}))}},{key:"updateHeight",value:function updateHeight(){this.context.updateHeight(this.props["data-rowkey"],this.ref.offsetHeight)}}]),BodyRow}(_react2.default.Component);BodyRow.contextTypes=_types.bodyRowContextTypes,BodyRow.shouldComponentUpdate=function(nextProps){var previousProps=this.props;return!nextProps.rowData._measured||!((0,_reactabularTable.columnsAreEqual)(previousProps.columns,nextProps.columns)&&(0,_isEqual3.default)(previousProps.rowData,nextProps.rowData))},exports.default=BodyRow},"./node_modules/reactabular-virtualized/dist/body-wrapper.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/react/index.js")),_types=__webpack_require__("./node_modules/reactabular-virtualized/dist/types.js");var BodyWrapper=function(_React$Component){function BodyWrapper(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BodyWrapper);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(BodyWrapper.__proto__||Object.getPrototypeOf(BodyWrapper)).call(this,props));return _this.ref=null,_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(BodyWrapper,_React$Component),_createClass(BodyWrapper,[{key:"render",value:function render(){var _this2=this,_props=this.props,children=_props.children,props=function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_props,["children"]),_context=this.context,startHeight=_context.startHeight,endHeight=_context.endHeight,showExtraRow=_context.showExtraRow,startRow=tr({key:"start-row",style:{height:startHeight}}),endRow=tr({key:"end-row",style:{height:endHeight}}),rows=[startRow].concat(children).concat(endRow);return showExtraRow&&rows.unshift(tr({key:"extra-row",style:{height:0}})),_react2.default.createElement("tbody",_extends({},props,{ref:function ref(e){_this2.ref=e}}),rows)}},{key:"getRef",value:function getRef(){return this.ref}}]),BodyWrapper}(_react2.default.Component);function tr(props){return _react2.default.createElement("tr",props)}BodyWrapper.contextTypes=_types.bodyWrapperContextTypes,exports.default=BodyWrapper},"./node_modules/reactabular-virtualized/dist/body.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var _isEqual3=_interopRequireDefault(__webpack_require__("./node_modules/lodash/isEqual.js")),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.heightPropCheck=function heightPropCheck(props,propName,componentName){if(!("number"==typeof props[propName]||props.style&&"number"==typeof props.style.maxHeight||props.container&&"function"==typeof props.container))return new Error("height or style.maxHeight of type 'number' or container of type 'function' is marked as required in "+componentName);return};var _react2=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_reactabularSticky=__webpack_require__("./node_modules/reactabular-sticky/dist/index.js"),_reactabularTable=__webpack_require__("./node_modules/reactabular-table/dist/index.js"),_types=(_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),__webpack_require__("./node_modules/reactabular-virtualized/dist/types.js")),_calculateAverageHeight2=_interopRequireDefault(__webpack_require__("./node_modules/reactabular-virtualized/dist/calculate-average-height.js")),_calculateRows3=_interopRequireDefault(__webpack_require__("./node_modules/reactabular-virtualized/dist/calculate-rows.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var VirtualizedBody=function(_React$Component){function VirtualizedBody(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,VirtualizedBody);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(VirtualizedBody.__proto__||Object.getPrototypeOf(VirtualizedBody)).call(this,props));return _this.measuredRows={},_this.ref=null,_this.scrollTop=0,_this.initialMeasurement=!0,_this.timeoutId=0,_this.state={amountOfRowsToRender:3,startIndex:0,startHeight:0,endHeight:0,showExtraRow:!1},_this.checkMeasurements=_this.checkMeasurements.bind(_this),_this.onScroll=_this.onScroll.bind(_this),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(VirtualizedBody,_React$Component),_createClass(VirtualizedBody,[{key:"componentDidMount",value:function componentDidMount(){this.checkMeasurements(),this.props.container&&this.registerContainer()}},{key:"registerContainer",value:function registerContainer(){var _this2=this;setTimeout((function(){_this2.props.container().addEventListener("scroll",_this2.onScroll)}),0)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.checkMeasurements()}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearTimeout(this.timeoutId)}},{key:"getHeight",value:function getHeight(props){return this.props.container?this.props.container().clientHeight:props.height||props.style.maxHeight}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(nextProps){if(!(0,_isEqual3.default)(this.props.rows,nextProps.rows)||this.getHeight(this.props)!==this.getHeight(nextProps)){0;var rows=this.calculateRows(nextProps);if(!rows)return;this.setState(rows)}}},{key:"getChildContext",value:function getChildContext(){var _this3=this,_state=this.state;return{startHeight:_state.startHeight,endHeight:_state.endHeight,showExtraRow:_state.showExtraRow,updateHeight:function updateHeight(rowKey,height){_this3.measuredRows[rowKey]=height},initialMeasurement:this.initialMeasurement}}},{key:"render",value:function render(){var _this4=this,_props=this.props,_onRow=_props.onRow,rows=_props.rows,props=(_props.onScroll,_props.container,function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_props,["onRow","rows","onScroll","container"])),_state2=this.state,startIndex=_state2.startIndex,amountOfRowsToRender=_state2.amountOfRowsToRender,rowsToRender=rows.slice(startIndex,startIndex+amountOfRowsToRender).map((function(rowData,rowIndex){return _extends({},rowData,{_measured:!!_this4.measuredRows[(0,_reactabularTable.resolveRowKey)({rowData,rowIndex,rowKey:_this4.props.rowKey})]})}));return _react2.default.createElement(this.props.container?_reactabularTable.Body:_reactabularSticky.Body,_extends({},props,{onRow:function onRow(row,extra){var rowProps=_onRow?_onRow(row,extra):{};return _extends({"data-rowkey":extra.rowKey},rowProps)},rows:rowsToRender,ref:function ref(body){_this4.ref=body&&body.getRef().getRef()},onScroll:this.onScroll}))}},{key:"getBodyOffset",value:function getBodyOffset(){return this.ref.parentElement.offsetTop+this.ref.offsetTop}},{key:"onScroll",value:function onScroll(e){var onScroll=this.props.onScroll;onScroll&&onScroll(e);var scrollTop=e.target.scrollTop;this.scrollTop!==scrollTop&&(this.scrollTop=this.props.container?scrollTop-this.getBodyOffset():scrollTop,this.setState(this.calculateRows(this.props)))}},{key:"getRef",value:function getRef(){var _this5=this,ref=this.ref;return ref.scrollTo=function(index){var startIndex=parseInt(index,10);if(startIndex>=0){var startHeight=(0,_calculateAverageHeight2.default)({measuredRows:_this5.measuredRows,rows:_this5.props.rows,rowKey:_this5.props.rowKey})*startIndex;_this5.scrollTop=startHeight,_this5.ref.scrollTop=startHeight,_this5.setState(_this5.calculateRows(_this5.props))}},ref}},{key:"calculateRows",value:function calculateRows(props){return(0,_calculateRows3.default)({scrollTop:this.scrollTop,measuredRows:this.measuredRows,height:this.getHeight(props),rowKey:props.rowKey,rows:props.rows})}},{key:"checkMeasurements",value:function checkMeasurements(){var _this6=this;this.initialMeasurement&&(this.timeoutId=setTimeout((function(){var rows=_this6.calculateRows(_this6.props);rows?_this6.setState(rows,(function(){_this6.initialMeasurement=!1})):_this6.forceUpdate()}),100))}}]),VirtualizedBody}(_react2.default.Component);VirtualizedBody.defaultProps=_reactabularSticky.Body.defaultProps,VirtualizedBody.childContextTypes=_types.bodyChildContextTypes,exports.default=VirtualizedBody},"./node_modules/reactabular-virtualized/dist/calculate-average-height.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var _reactabularTable=__webpack_require__("./node_modules/reactabular-table/dist/index.js");exports.default=function calculateAverageHeight(_ref){var measuredRows=_ref.measuredRows,rows=_ref.rows,rowKey=_ref.rowKey,resolvedRowKeys=rows.map((function(rowData,rowIndex){return(0,_reactabularTable.resolveRowKey)({rowData,rowIndex,rowKey})})),measuredAmounts=Object.keys(measuredRows).filter((function(key){return resolvedRowKeys.indexOf(key)>=0})).map((function(key){return measuredRows[key]})),amountOfMeasuredRows=measuredAmounts.length;return measuredAmounts.reduce((function(a,b){return a+b/amountOfMeasuredRows}),0)}},"./node_modules/reactabular-virtualized/dist/calculate-rows.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0});var _calculateAverageHeight2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/reactabular-virtualized/dist/calculate-average-height.js"));exports.default=function calculateRows(_ref){var measuredRows=_ref.measuredRows,height=_ref.height,rowKey=_ref.rowKey,rows=_ref.rows,_ref$scrollTop=_ref.scrollTop,scrollTop=void 0===_ref$scrollTop?0:_ref$scrollTop,averageHeight=(0,_calculateAverageHeight2.default)({measuredRows,rows,rowKey}),amountOfRowsToRender=Math.ceil(height/averageHeight)+2,startIndex=Math.floor(scrollTop/averageHeight),zeroedIndex=Math.max(startIndex,0);if(!rows.slice(zeroedIndex,Math.max(startIndex+amountOfRowsToRender,0)).length)return null;var startHeight=zeroedIndex*averageHeight;return{amountOfRowsToRender,startIndex:zeroedIndex,showExtraRow:!(zeroedIndex%2),startHeight,endHeight:Math.max((rows.length-amountOfRowsToRender)*averageHeight-startHeight,0)}}},"./node_modules/reactabular-virtualized/dist/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateRows=exports.BodyWrapper=exports.BodyRow=exports.Body=void 0;var _body2=_interopRequireDefault(__webpack_require__("./node_modules/reactabular-virtualized/dist/body.js")),_bodyRow2=_interopRequireDefault(__webpack_require__("./node_modules/reactabular-virtualized/dist/body-row.js")),_bodyWrapper2=_interopRequireDefault(__webpack_require__("./node_modules/reactabular-virtualized/dist/body-wrapper.js")),_calculateRows2=_interopRequireDefault(__webpack_require__("./node_modules/reactabular-virtualized/dist/calculate-rows.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Body=_body2.default,exports.BodyRow=_bodyRow2.default,exports.BodyWrapper=_bodyWrapper2.default,exports.calculateRows=_calculateRows2.default},"./node_modules/reactabular-virtualized/dist/types.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.bodyWrapperTypes=exports.bodyWrapperContextTypes=exports.bodyRowTypes=exports.bodyRowContextTypes=exports.bodyChildContextTypes=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_propTypes2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/prop-types/index.js"));var bodyRowContextTypes={initialMeasurement:_propTypes2.default.bool,updateHeight:_propTypes2.default.func},bodyRowTypes={"data-rowkey":_propTypes2.default.string},bodyWrapperContextTypes={startHeight:_propTypes2.default.number,endHeight:_propTypes2.default.number,showExtraRow:_propTypes2.default.bool},bodyWrapperTypes={children:_propTypes2.default.any},bodyChildContextTypes=_extends({},bodyRowContextTypes,bodyWrapperContextTypes);exports.bodyChildContextTypes=bodyChildContextTypes,exports.bodyRowContextTypes=bodyRowContextTypes,exports.bodyRowTypes=bodyRowTypes,exports.bodyWrapperContextTypes=bodyWrapperContextTypes,exports.bodyWrapperTypes=bodyWrapperTypes}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bEM1RyxRQUFRc0wsaUJBQW1CQSxnQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9yZWFjdGFidWxhci1zdGlja3kvZGlzdC9ib2R5LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9yZWFjdGFidWxhci1zdGlja3kvZGlzdC9oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0YWJ1bGFyLXN0aWNreS9kaXN0L2luZGV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9yZWFjdGFidWxhci12aXJ0dWFsaXplZC9kaXN0L2JvZHktcm93LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9yZWFjdGFidWxhci12aXJ0dWFsaXplZC9kaXN0L2JvZHktd3JhcHBlci5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3RhYnVsYXItdmlydHVhbGl6ZWQvZGlzdC9ib2R5LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9yZWFjdGFidWxhci12aXJ0dWFsaXplZC9kaXN0L2NhbGN1bGF0ZS1hdmVyYWdlLWhlaWdodC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3RhYnVsYXItdmlydHVhbGl6ZWQvZGlzdC9jYWxjdWxhdGUtcm93cy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3RhYnVsYXItdmlydHVhbGl6ZWQvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3RhYnVsYXItdmlydHVhbGl6ZWQvZGlzdC90eXBlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3RhYnVsYXJUYWJsZSA9IHJlcXVpcmUoJ3JlYWN0YWJ1bGFyLXRhYmxlJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcmVmZXItc3RhdGVsZXNzLWZ1bmN0aW9uICovXG5cblxudmFyIEJvZHkgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQm9keSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQm9keShwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCb2R5KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChCb2R5Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQm9keSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnJlZiA9IG51bGw7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEJvZHksIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIHRhYmxlSGVhZGVyID0gX3Byb3BzLnRhYmxlSGVhZGVyLFxuICAgICAgICAgIF9vblNjcm9sbCA9IF9wcm9wcy5vblNjcm9sbCxcbiAgICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMsIFsnc3R5bGUnLCAndGFibGVIZWFkZXInLCAnb25TY3JvbGwnXSk7XG5cbiAgICAgIHZhciB0YWJsZUhlYWRlcldpZHRoID0gdGFibGVIZWFkZXIgPyB0YWJsZUhlYWRlci5jbGllbnRXaWR0aCA6IDA7XG4gICAgICB2YXIgdGFibGVCb2R5V2lkdGggPSB0aGlzLnJlZiA/IHRoaXMucmVmLmNsaWVudFdpZHRoIDogMDtcbiAgICAgIHZhciBzY3JvbGxPZmZzZXQgPSB0YWJsZUhlYWRlcldpZHRoIC0gdGFibGVCb2R5V2lkdGggfHwgMDtcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdGFidWxhclRhYmxlLkJvZHksIF9leHRlbmRzKHtcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoYm9keSkge1xuICAgICAgICAgIF90aGlzMi5yZWYgPSBib2R5ICYmIGJvZHkuZ2V0UmVmKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7XG4gICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICBvdmVyZmxvdzogJ2F1dG8nLFxuICAgICAgICAgIHBhZGRpbmdSaWdodDogc2Nyb2xsT2Zmc2V0XG4gICAgICAgIH0sIHN0eWxlIHx8IHt9KSxcbiAgICAgICAgLy8gRXhwYW5kIG9uU2Nyb2xsIGFzIG90aGVyd2lzZSB0aGUgbG9naWMgd29uJ3Qgd29ya1xuICAgICAgICBvblNjcm9sbDogZnVuY3Rpb24gb25TY3JvbGwoZSkge1xuICAgICAgICAgIF9vblNjcm9sbCAmJiBfb25TY3JvbGwoZSk7XG5cbiAgICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IGUudGFyZ2V0LnNjcm9sbExlZnQ7XG5cblxuICAgICAgICAgIGlmICh0YWJsZUhlYWRlcikge1xuICAgICAgICAgICAgdGFibGVIZWFkZXIuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCBwcm9wcykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFJlZicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlZigpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlZjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQm9keTtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IEJvZHkucHJvcFR5cGVzID0ge1xuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5hbnksXG4gIHRhYmxlSGVhZGVyOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueSxcbiAgb25TY3JvbGw6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xufSA6IHZvaWQgMDtcblxuZXhwb3J0cy5kZWZhdWx0ID0gQm9keTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3RhYnVsYXJUYWJsZSA9IHJlcXVpcmUoJ3JlYWN0YWJ1bGFyLXRhYmxlJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcmVmZXItc3RhdGVsZXNzLWZ1bmN0aW9uICovXG5cblxudmFyIEhlYWRlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhIZWFkZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEhlYWRlcihwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBIZWFkZXIpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEhlYWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEhlYWRlcikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnJlZiA9IG51bGw7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEhlYWRlciwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgdGFibGVCb2R5ID0gX3Byb3BzLnRhYmxlQm9keSxcbiAgICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMsIFsnc3R5bGUnLCAndGFibGVCb2R5J10pO1xuXG4gICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0YWJ1bGFyVGFibGUuSGVhZGVyLCBfZXh0ZW5kcyh7XG4gICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKGhlYWRlcikge1xuICAgICAgICAgIF90aGlzMi5yZWYgPSBoZWFkZXIgJiYgaGVhZGVyLmdldFJlZigpO1xuICAgICAgICB9LFxuICAgICAgICBzdHlsZTogX2V4dGVuZHMoe1xuICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgICAgb3ZlcmZsb3c6ICdhdXRvJ1xuICAgICAgICB9LCBzdHlsZSB8fCB7fSlcbiAgICAgIH0sIHByb3BzLCB7XG4gICAgICAgIC8vIE92ZXJyaWRlIG9uU2Nyb2xsIGFzIG90aGVyd2lzZSB0aGUgbG9naWMgd29uJ3Qgd29ya1xuICAgICAgICBvblNjcm9sbDogZnVuY3Rpb24gb25TY3JvbGwoX3JlZikge1xuICAgICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gX3JlZi50YXJnZXQuc2Nyb2xsTGVmdDtcblxuICAgICAgICAgIGlmICh0YWJsZUJvZHkpIHtcbiAgICAgICAgICAgIHRhYmxlQm9keS5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRSZWYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZWYoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWY7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEhlYWRlcjtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IEhlYWRlci5wcm9wVHlwZXMgPSB7XG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueSxcbiAgdGFibGVCb2R5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmFueVxufSA6IHZvaWQgMDtcblxuZXhwb3J0cy5kZWZhdWx0ID0gSGVhZGVyOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuSGVhZGVyID0gZXhwb3J0cy5Cb2R5ID0gdW5kZWZpbmVkO1xuXG52YXIgX2JvZHkgPSByZXF1aXJlKCcuL2JvZHknKTtcblxudmFyIF9ib2R5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JvZHkpO1xuXG52YXIgX2hlYWRlciA9IHJlcXVpcmUoJy4vaGVhZGVyJyk7XG5cbnZhciBfaGVhZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hlYWRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuQm9keSA9IF9ib2R5Mi5kZWZhdWx0O1xuZXhwb3J0cy5IZWFkZXIgPSBfaGVhZGVyMi5kZWZhdWx0OyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9pc0VxdWFsMiA9IHJlcXVpcmUoJ2xvZGFzaC9pc0VxdWFsJyk7XG5cbnZhciBfaXNFcXVhbDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0VxdWFsMik7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9yZWFjdGFidWxhclRhYmxlID0gcmVxdWlyZSgncmVhY3RhYnVsYXItdGFibGUnKTtcblxudmFyIF90eXBlcyA9IHJlcXVpcmUoJy4vdHlwZXMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgQm9keVJvdyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhCb2R5Um93LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBCb2R5Um93KHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvZHlSb3cpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEJvZHlSb3cuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihCb2R5Um93KSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMucmVmID0gbnVsbDtcblxuICAgIF90aGlzLnVwZGF0ZUhlaWdodCA9IF90aGlzLnVwZGF0ZUhlaWdodC5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQm9keVJvdywgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy51cGRhdGVIZWlnaHQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAvLyBDYXB0dXJlIGhlaWdodCBkYXRhIG9ubHkgZHVyaW5nIGluaXRpYWwgbWVhc3VyZW1lbnQgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgLy8gVGhpcyBsb3NlcyBzb21lIGFjY3VyYWN5IGlmIHJvdyBoZWlnaHQgY2hhbmdlcywgYnV0IGl0J3MgZ29vZCBlbm91Z2hcbiAgICAgIC8vIGZvciBtb3N0IHB1cnBvc2VzLlxuICAgICAgaWYgKHRoaXMuY29udGV4dC5pbml0aWFsTWVhc3VyZW1lbnQpIHtcbiAgICAgICAgdGhpcy51cGRhdGVIZWlnaHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCd0cicsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7XG4gICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKGUpIHtcbiAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgX3RoaXMyLnJlZiA9IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlSGVpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlSGVpZ2h0KCkge1xuICAgICAgdGhpcy5jb250ZXh0LnVwZGF0ZUhlaWdodCh0aGlzLnByb3BzWydkYXRhLXJvd2tleSddLCB0aGlzLnJlZi5vZmZzZXRIZWlnaHQpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBCb2R5Um93O1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuQm9keVJvdy5jb250ZXh0VHlwZXMgPSBfdHlwZXMuYm9keVJvd0NvbnRleHRUeXBlcztcbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IEJvZHlSb3cucHJvcFR5cGVzID0gX3R5cGVzLmJvZHlSb3dUeXBlcyA6IHZvaWQgMDtcblxuQm9keVJvdy5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbiAobmV4dFByb3BzKSB7XG4gIHZhciBwcmV2aW91c1Byb3BzID0gdGhpcy5wcm9wcztcblxuICAvLyBVcGRhdGUgb25seSBpZiBhIHJvdyBoYXMgbm90IGJlZW4gbWVhc3VyZWQgYW5kIGVpdGhlclxuICAvLyBjb2x1bW5zIG9yIHJvd0RhdGEgaGFzbid0IGNoYW5nZWRcbiAgaWYgKG5leHRQcm9wcy5yb3dEYXRhLl9tZWFzdXJlZCkge1xuICAgIHJldHVybiAhKCgwLCBfcmVhY3RhYnVsYXJUYWJsZS5jb2x1bW5zQXJlRXF1YWwpKHByZXZpb3VzUHJvcHMuY29sdW1ucywgbmV4dFByb3BzLmNvbHVtbnMpICYmICgwLCBfaXNFcXVhbDMuZGVmYXVsdCkocHJldmlvdXNQcm9wcy5yb3dEYXRhLCBuZXh0UHJvcHMucm93RGF0YSkpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBCb2R5Um93OyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3R5cGVzID0gcmVxdWlyZSgnLi90eXBlcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEJvZHlXcmFwcGVyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEJvZHlXcmFwcGVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBCb2R5V3JhcHBlcihwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCb2R5V3JhcHBlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQm9keVdyYXBwZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihCb2R5V3JhcHBlcikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnJlZiA9IG51bGw7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEJvZHlXcmFwcGVyLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMsIFsnY2hpbGRyZW4nXSk7XG5cbiAgICAgIHZhciBfY29udGV4dCA9IHRoaXMuY29udGV4dCxcbiAgICAgICAgICBzdGFydEhlaWdodCA9IF9jb250ZXh0LnN0YXJ0SGVpZ2h0LFxuICAgICAgICAgIGVuZEhlaWdodCA9IF9jb250ZXh0LmVuZEhlaWdodCxcbiAgICAgICAgICBzaG93RXh0cmFSb3cgPSBfY29udGV4dC5zaG93RXh0cmFSb3c7XG5cbiAgICAgIHZhciBzdGFydFJvdyA9IHRyKHtcbiAgICAgICAga2V5OiAnc3RhcnQtcm93JyxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBoZWlnaHQ6IHN0YXJ0SGVpZ2h0XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIGVuZFJvdyA9IHRyKHtcbiAgICAgICAga2V5OiAnZW5kLXJvdycsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgaGVpZ2h0OiBlbmRIZWlnaHRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBFeHRyYSByb3cgdG8ga2VlcCBvblJvdyBpbmRleGluZyBzdGFibGUgaW5zdGVhZCBvZiBldmVuL29kZC4gVGhpcyBpcyBpbXBvcnRhbnRcbiAgICAgIC8vIGZvciBzdHlsaW5nLlxuICAgICAgdmFyIHJvd3MgPSBbc3RhcnRSb3ddLmNvbmNhdChjaGlsZHJlbikuY29uY2F0KGVuZFJvdyk7XG5cbiAgICAgIGlmIChzaG93RXh0cmFSb3cpIHtcbiAgICAgICAgcm93cy51bnNoaWZ0KHRyKHtcbiAgICAgICAgICBrZXk6ICdleHRyYS1yb3cnLFxuICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KCd0Ym9keScsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICByZWY6IGZ1bmN0aW9uIHJlZihlKSB7XG4gICAgICAgICAgX3RoaXMyLnJlZiA9IGU7XG4gICAgICAgIH1cbiAgICAgIH0pLCByb3dzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRSZWYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZWYoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWY7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEJvZHlXcmFwcGVyO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcblxuQm9keVdyYXBwZXIuY29udGV4dFR5cGVzID0gX3R5cGVzLmJvZHlXcmFwcGVyQ29udGV4dFR5cGVzO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gQm9keVdyYXBwZXIucHJvcFR5cGVzID0gX3R5cGVzLmJvZHlXcmFwcGVyVHlwZXMgOiB2b2lkIDA7XG5cbmZ1bmN0aW9uIHRyKHByb3BzKSB7XG4gIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCgndHInLCBwcm9wcyk7XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEJvZHlXcmFwcGVyOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9pc0VxdWFsMiA9IHJlcXVpcmUoJ2xvZGFzaC9pc0VxdWFsJyk7XG5cbnZhciBfaXNFcXVhbDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0VxdWFsMik7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmV4cG9ydHMuaGVpZ2h0UHJvcENoZWNrID0gaGVpZ2h0UHJvcENoZWNrO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RhYnVsYXJTdGlja3kgPSByZXF1aXJlKCdyZWFjdGFidWxhci1zdGlja3knKTtcblxudmFyIF9yZWFjdGFidWxhclRhYmxlID0gcmVxdWlyZSgncmVhY3RhYnVsYXItdGFibGUnKTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfdHlwZXMgPSByZXF1aXJlKCcuL3R5cGVzJyk7XG5cbnZhciBfY2FsY3VsYXRlQXZlcmFnZUhlaWdodCA9IHJlcXVpcmUoJy4vY2FsY3VsYXRlLWF2ZXJhZ2UtaGVpZ2h0Jyk7XG5cbnZhciBfY2FsY3VsYXRlQXZlcmFnZUhlaWdodDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jYWxjdWxhdGVBdmVyYWdlSGVpZ2h0KTtcblxudmFyIF9jYWxjdWxhdGVSb3dzMiA9IHJlcXVpcmUoJy4vY2FsY3VsYXRlLXJvd3MnKTtcblxudmFyIF9jYWxjdWxhdGVSb3dzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhbGN1bGF0ZVJvd3MyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBWaXJ0dWFsaXplZEJvZHkgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoVmlydHVhbGl6ZWRCb2R5LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBWaXJ0dWFsaXplZEJvZHkocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmlydHVhbGl6ZWRCb2R5KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChWaXJ0dWFsaXplZEJvZHkuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihWaXJ0dWFsaXplZEJvZHkpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5tZWFzdXJlZFJvd3MgPSB7fTsgLy8gcm93IGtleSAtPiBtZWFzdXJlbWVudFxuICAgIF90aGlzLnJlZiA9IG51bGw7XG4gICAgX3RoaXMuc2Nyb2xsVG9wID0gMDtcbiAgICBfdGhpcy5pbml0aWFsTWVhc3VyZW1lbnQgPSB0cnVlO1xuICAgIF90aGlzLnRpbWVvdXRJZCA9IDA7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IGdldEluaXRpYWxTdGF0ZSgpO1xuXG4gICAgX3RoaXMuY2hlY2tNZWFzdXJlbWVudHMgPSBfdGhpcy5jaGVja01lYXN1cmVtZW50cy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vblNjcm9sbCA9IF90aGlzLm9uU2Nyb2xsLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhWaXJ0dWFsaXplZEJvZHksIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMuY2hlY2tNZWFzdXJlbWVudHMoKTtcbiAgICAgIHRoaXMucHJvcHMuY29udGFpbmVyICYmIHRoaXMucmVnaXN0ZXJDb250YWluZXIoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZWdpc3RlckNvbnRhaW5lcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyQ29udGFpbmVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIucHJvcHMuY29udGFpbmVyKCkuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgX3RoaXMyLm9uU2Nyb2xsKTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIHRoaXMuY2hlY2tNZWFzdXJlbWVudHMoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIZWlnaHQocHJvcHMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNvbnRhaW5lcikge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5jb250YWluZXIoKS5jbGllbnRIZWlnaHQ7XG4gICAgICB9XG4gICAgICAvLyBJZiBgcHJvcHMuaGVpZ2h0YCBpcyBub3QgZGVmaW5lZCwgd2UgdXNlIGBwcm9wcy5zdHlsZS5tYXhIZWlnaHRgIGluc3RlYWQuXG4gICAgICByZXR1cm4gcHJvcHMuaGVpZ2h0IHx8IHByb3BzLnN0eWxlLm1heEhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIGlmICghKDAsIF9pc0VxdWFsMy5kZWZhdWx0KSh0aGlzLnByb3BzLnJvd3MsIG5leHRQcm9wcy5yb3dzKSB8fCB0aGlzLmdldEhlaWdodCh0aGlzLnByb3BzKSAhPT0gdGhpcy5nZXRIZWlnaHQobmV4dFByb3BzKSkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTE9HX1ZJUlRVQUxJWkVEKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2ludmFsaWRhdGluZyBtZWFzdXJlbWVudHMnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcm93cyA9IHRoaXMuY2FsY3VsYXRlUm93cyhuZXh0UHJvcHMpO1xuXG4gICAgICAgIGlmICghcm93cykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUocm93cyk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Q2hpbGRDb250ZXh0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2hpbGRDb250ZXh0KCkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIHN0YXJ0SGVpZ2h0ID0gX3N0YXRlLnN0YXJ0SGVpZ2h0LFxuICAgICAgICAgIGVuZEhlaWdodCA9IF9zdGF0ZS5lbmRIZWlnaHQsXG4gICAgICAgICAgc2hvd0V4dHJhUm93ID0gX3N0YXRlLnNob3dFeHRyYVJvdztcblxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGFydEhlaWdodDogc3RhcnRIZWlnaHQsXG4gICAgICAgIGVuZEhlaWdodDogZW5kSGVpZ2h0LFxuICAgICAgICBzaG93RXh0cmFSb3c6IHNob3dFeHRyYVJvdyxcbiAgICAgICAgdXBkYXRlSGVpZ2h0OiBmdW5jdGlvbiB1cGRhdGVIZWlnaHQocm93S2V5LCBoZWlnaHQpIHtcbiAgICAgICAgICBfdGhpczMubWVhc3VyZWRSb3dzW3Jvd0tleV0gPSBoZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIENhcHR1cmUgaGVpZ2h0IGRhdGEgb25seSBkdXJpbmcgdGhlIGluaXRpYWwgbWVhc3VyZW1lbnRcbiAgICAgICAgaW5pdGlhbE1lYXN1cmVtZW50OiB0aGlzLmluaXRpYWxNZWFzdXJlbWVudFxuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgX29uUm93ID0gX3Byb3BzLm9uUm93LFxuICAgICAgICAgIHJvd3MgPSBfcHJvcHMucm93cyxcbiAgICAgICAgICBvblNjcm9sbCA9IF9wcm9wcy5vblNjcm9sbCxcbiAgICAgICAgICBjb250YWluZXIgPSBfcHJvcHMuY29udGFpbmVyLFxuICAgICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wcywgWydvblJvdycsICdyb3dzJywgJ29uU2Nyb2xsJywgJ2NvbnRhaW5lciddKTtcblxuICAgICAgdmFyIF9zdGF0ZTIgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIHN0YXJ0SW5kZXggPSBfc3RhdGUyLnN0YXJ0SW5kZXgsXG4gICAgICAgICAgYW1vdW50T2ZSb3dzVG9SZW5kZXIgPSBfc3RhdGUyLmFtb3VudE9mUm93c1RvUmVuZGVyO1xuXG4gICAgICAvLyBBdHRhY2ggaW5mb3JtYXRpb24gYWJvdXQgbWVhc3VyaW5nIHN0YXR1cy4gVGhpcyB3YXkgd2UgY2FuIGltcGxlbWVudFxuICAgICAgLy8gcHJvcGVyIHNob3VsZENvbXBvbmVudFVwZGF0ZVxuXG4gICAgICB2YXIgcm93c1RvUmVuZGVyID0gcm93cy5zbGljZShzdGFydEluZGV4LCBzdGFydEluZGV4ICsgYW1vdW50T2ZSb3dzVG9SZW5kZXIpLm1hcChmdW5jdGlvbiAocm93RGF0YSwgcm93SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCByb3dEYXRhLCB7XG4gICAgICAgICAgX21lYXN1cmVkOiAhIV90aGlzNC5tZWFzdXJlZFJvd3NbKDAsIF9yZWFjdGFidWxhclRhYmxlLnJlc29sdmVSb3dLZXkpKHtcbiAgICAgICAgICAgIHJvd0RhdGE6IHJvd0RhdGEsXG4gICAgICAgICAgICByb3dJbmRleDogcm93SW5kZXgsXG4gICAgICAgICAgICByb3dLZXk6IF90aGlzNC5wcm9wcy5yb3dLZXlcbiAgICAgICAgICB9KV1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LkxPR19WSVJUVUFMSVpFRCkge1xuICAgICAgICBjb25zb2xlLmxvZyggLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgICdyZW5kZXJpbmcnLCByb3dzVG9SZW5kZXIubGVuZ3RoLCAnLycsIHJvd3MubGVuZ3RoLCAncm93cyB0byByZW5kZXInLCByb3dzVG9SZW5kZXIsICdzdGFydCBpbmRleCcsIHN0YXJ0SW5kZXgsICdhbW91bnQgb2Ygcm93cyB0byByZW5kZXInLCBhbW91bnRPZlJvd3NUb1JlbmRlcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh0aGlzLnByb3BzLmNvbnRhaW5lciA/IF9yZWFjdGFidWxhclRhYmxlLkJvZHkgOiBfcmVhY3RhYnVsYXJTdGlja3kuQm9keSwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgIG9uUm93OiBmdW5jdGlvbiBvblJvdyhyb3csIGV4dHJhKSB7XG4gICAgICAgICAgdmFyIHJvd1Byb3BzID0gX29uUm93ID8gX29uUm93KHJvdywgZXh0cmEpIDoge307XG5cbiAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICAgICAgLy8gUGFzcyBpbmRleCBzbyB0aGF0IHJvdyBoZWlnaHRzIGNhbiBiZSB0cmFja2VkIHByb3Blcmx5XG4gICAgICAgICAgICAnZGF0YS1yb3drZXknOiBleHRyYS5yb3dLZXlcbiAgICAgICAgICB9LCByb3dQcm9wcyk7XG4gICAgICAgIH0sXG4gICAgICAgIHJvd3M6IHJvd3NUb1JlbmRlcixcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoYm9keSkge1xuICAgICAgICAgIF90aGlzNC5yZWYgPSBib2R5ICYmIGJvZHkuZ2V0UmVmKCkuZ2V0UmVmKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uU2Nyb2xsOiB0aGlzLm9uU2Nyb2xsXG4gICAgICB9KSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Qm9keU9mZnNldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJvZHlPZmZzZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWYucGFyZW50RWxlbWVudC5vZmZzZXRUb3AgKyB0aGlzLnJlZi5vZmZzZXRUb3A7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25TY3JvbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblNjcm9sbChlKSB7XG4gICAgICB2YXIgb25TY3JvbGwgPSB0aGlzLnByb3BzLm9uU2Nyb2xsO1xuXG4gICAgICBvblNjcm9sbCAmJiBvblNjcm9sbChlKTtcblxuICAgICAgdmFyIHNjcm9sbFRvcCA9IGUudGFyZ2V0LnNjcm9sbFRvcDtcblxuICAgICAgLy8gWSBkaWRuJ3QgY2hhbmdlLCBiYWlsIHRvIGF2b2lkIHJlbmRlcmluZyByb3dzXG5cbiAgICAgIGlmICh0aGlzLnNjcm9sbFRvcCA9PT0gc2Nyb2xsVG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zY3JvbGxUb3AgPSB0aGlzLnByb3BzLmNvbnRhaW5lciA/IHNjcm9sbFRvcCAtIHRoaXMuZ2V0Qm9keU9mZnNldCgpIDogc2Nyb2xsVG9wO1xuXG4gICAgICB0aGlzLnNldFN0YXRlKHRoaXMuY2FsY3VsYXRlUm93cyh0aGlzLnByb3BzKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0UmVmJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVmKCkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHZhciByZWYgPSB0aGlzLnJlZjtcblxuXG4gICAgICByZWYuc2Nyb2xsVG8gPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgdmFyIHN0YXJ0SW5kZXggPSBwYXJzZUludChpbmRleCwgMTApO1xuXG4gICAgICAgIGlmIChzdGFydEluZGV4ID49IDApIHtcbiAgICAgICAgICB2YXIgc3RhcnRIZWlnaHQgPSAoMCwgX2NhbGN1bGF0ZUF2ZXJhZ2VIZWlnaHQyLmRlZmF1bHQpKHtcbiAgICAgICAgICAgIG1lYXN1cmVkUm93czogX3RoaXM1Lm1lYXN1cmVkUm93cyxcbiAgICAgICAgICAgIHJvd3M6IF90aGlzNS5wcm9wcy5yb3dzLFxuICAgICAgICAgICAgcm93S2V5OiBfdGhpczUucHJvcHMucm93S2V5XG4gICAgICAgICAgfSkgKiBzdGFydEluZGV4O1xuXG4gICAgICAgICAgX3RoaXM1LnNjcm9sbFRvcCA9IHN0YXJ0SGVpZ2h0O1xuICAgICAgICAgIF90aGlzNS5yZWYuc2Nyb2xsVG9wID0gc3RhcnRIZWlnaHQ7XG5cbiAgICAgICAgICBfdGhpczUuc2V0U3RhdGUoX3RoaXM1LmNhbGN1bGF0ZVJvd3MoX3RoaXM1LnByb3BzKSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiByZWY7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY2FsY3VsYXRlUm93cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGN1bGF0ZVJvd3MocHJvcHMpIHtcbiAgICAgIHJldHVybiAoMCwgX2NhbGN1bGF0ZVJvd3MzLmRlZmF1bHQpKHtcbiAgICAgICAgc2Nyb2xsVG9wOiB0aGlzLnNjcm9sbFRvcCxcbiAgICAgICAgbWVhc3VyZWRSb3dzOiB0aGlzLm1lYXN1cmVkUm93cyxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLmdldEhlaWdodChwcm9wcyksXG4gICAgICAgIHJvd0tleTogcHJvcHMucm93S2V5LFxuICAgICAgICByb3dzOiBwcm9wcy5yb3dzXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjaGVja01lYXN1cmVtZW50cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrTWVhc3VyZW1lbnRzKCkge1xuICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgIC8vIElmIHRoZXJlIGFyZSBubyB2YWxpZCBtZWFzdXJlbWVudHMsIGNhbGN1bGF0ZSBzb21lIGFmdGVyIHdhaXRpbmcgYSB3aGlsZS5cbiAgICAgIC8vIFdpdGhvdXQgdGhpcyBzdHlsaW5nIHNvbHV0aW9ucyBsaWtlIFJhZGl1bSB3b24ndCB3b3JrIGFzIHlvdSBtaWdodCBleHBlY3RcbiAgICAgIC8vIGdpdmVuIHRoZXkgY2FuIHRha2UgYSB3aGlsZSB0byBzZXQgY29udGFpbmVyIGhlaWdodC5cbiAgICAgIGlmICh0aGlzLmluaXRpYWxNZWFzdXJlbWVudCkge1xuICAgICAgICB0aGlzLnRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciByb3dzID0gX3RoaXM2LmNhbGN1bGF0ZVJvd3MoX3RoaXM2LnByb3BzKTtcblxuICAgICAgICAgIGlmICghcm93cykge1xuICAgICAgICAgICAgLy8gUmVmcmVzaCB0aGUgcm93cyB0byB0cmlnZ2VyIG1lYXN1cmVtZW50LlxuICAgICAgICAgICAgX3RoaXM2LmZvcmNlVXBkYXRlKCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpczYuc2V0U3RhdGUocm93cywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXM2LmluaXRpYWxNZWFzdXJlbWVudCA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAxMDApO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBWaXJ0dWFsaXplZEJvZHk7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuXG5WaXJ0dWFsaXplZEJvZHkuZGVmYXVsdFByb3BzID0gX3JlYWN0YWJ1bGFyU3RpY2t5LkJvZHkuZGVmYXVsdFByb3BzO1xucHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gVmlydHVhbGl6ZWRCb2R5LnByb3BUeXBlcyA9IF9leHRlbmRzKHt9LCBfcmVhY3RhYnVsYXJTdGlja3kuQm9keS5wcm9wVHlwZXMsIHtcbiAgaGVpZ2h0OiBoZWlnaHRQcm9wQ2hlY2ssXG4gIGNvbnRhaW5lcjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jXG59KSA6IHZvaWQgMDtcblZpcnR1YWxpemVkQm9keS5jaGlsZENvbnRleHRUeXBlcyA9IF90eXBlcy5ib2R5Q2hpbGRDb250ZXh0VHlwZXM7XG5cbmZ1bmN0aW9uIGhlaWdodFByb3BDaGVjayhwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgaWYgKHR5cGVvZiBwcm9wc1twcm9wTmFtZV0gIT09ICdudW1iZXInICYmICghcHJvcHMuc3R5bGUgfHwgdHlwZW9mIHByb3BzLnN0eWxlLm1heEhlaWdodCAhPT0gJ251bWJlcicpICYmICghcHJvcHMuY29udGFpbmVyIHx8IHR5cGVvZiBwcm9wcy5jb250YWluZXIgIT09ICdmdW5jdGlvbicpKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcignaGVpZ2h0IG9yIHN0eWxlLm1heEhlaWdodCBvZiB0eXBlIFxcJ251bWJlclxcJyBvciBjb250YWluZXIgb2YgdHlwZSBcXCdmdW5jdGlvblxcJyBpcyBtYXJrZWQgYXMgcmVxdWlyZWQgaW4gJyArIGNvbXBvbmVudE5hbWUpO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkge1xuICByZXR1cm4ge1xuICAgIGFtb3VudE9mUm93c1RvUmVuZGVyOiAzLCAvLyBGaXJzdCBmZXcgcm93cyBmb3IgaW5pdGlhbCBtZWFzdXJlbWVudFxuICAgIHN0YXJ0SW5kZXg6IDAsIC8vIEluZGV4IHdoZXJlIHRvIHN0YXJ0IHJlbmRlcmluZ1xuXG4gICAgLy8gSGVpZ2h0cyBmb3IgZXh0cmEgcm93cyB0byBtaW1pYyBzY3JvbGxpbmdcbiAgICBzdGFydEhlaWdodDogMCxcbiAgICBlbmRIZWlnaHQ6IDAsXG5cbiAgICAvLyBTaG93IGV4dHJhIHJvdyAoZXZlbi9vZGQgaXNzdWUpXG4gICAgc2hvd0V4dHJhUm93OiBmYWxzZVxuICB9O1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBWaXJ0dWFsaXplZEJvZHk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0YWJ1bGFyVGFibGUgPSByZXF1aXJlKCdyZWFjdGFidWxhci10YWJsZScpO1xuXG52YXIgY2FsY3VsYXRlQXZlcmFnZUhlaWdodCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUF2ZXJhZ2VIZWlnaHQoX3JlZikge1xuICB2YXIgbWVhc3VyZWRSb3dzID0gX3JlZi5tZWFzdXJlZFJvd3MsXG4gICAgICByb3dzID0gX3JlZi5yb3dzLFxuICAgICAgcm93S2V5ID0gX3JlZi5yb3dLZXk7XG5cbiAgdmFyIHJlc29sdmVkUm93S2V5cyA9IHJvd3MubWFwKGZ1bmN0aW9uIChyb3dEYXRhLCByb3dJbmRleCkge1xuICAgIHJldHVybiAoMCwgX3JlYWN0YWJ1bGFyVGFibGUucmVzb2x2ZVJvd0tleSkoeyByb3dEYXRhOiByb3dEYXRhLCByb3dJbmRleDogcm93SW5kZXgsIHJvd0tleTogcm93S2V5IH0pO1xuICB9KTtcbiAgdmFyIG1lYXN1cmVkQW1vdW50cyA9IE9iamVjdC5rZXlzKG1lYXN1cmVkUm93cykuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gcmVzb2x2ZWRSb3dLZXlzLmluZGV4T2Yoa2V5KSA+PSAwO1xuICB9KS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBtZWFzdXJlZFJvd3Nba2V5XTtcbiAgfSk7XG4gIHZhciBhbW91bnRPZk1lYXN1cmVkUm93cyA9IG1lYXN1cmVkQW1vdW50cy5sZW5ndGg7XG5cbiAgcmV0dXJuIG1lYXN1cmVkQW1vdW50cy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYSArIGIgLyBhbW91bnRPZk1lYXN1cmVkUm93cztcbiAgfSwgMCk7XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBjYWxjdWxhdGVBdmVyYWdlSGVpZ2h0OyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jYWxjdWxhdGVBdmVyYWdlSGVpZ2h0ID0gcmVxdWlyZSgnLi9jYWxjdWxhdGUtYXZlcmFnZS1oZWlnaHQnKTtcblxudmFyIF9jYWxjdWxhdGVBdmVyYWdlSGVpZ2h0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhbGN1bGF0ZUF2ZXJhZ2VIZWlnaHQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgY2FsY3VsYXRlUm93cyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVJvd3MoX3JlZikge1xuICB2YXIgbWVhc3VyZWRSb3dzID0gX3JlZi5tZWFzdXJlZFJvd3MsXG4gICAgICBoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIHJvd0tleSA9IF9yZWYucm93S2V5LFxuICAgICAgcm93cyA9IF9yZWYucm93cyxcbiAgICAgIF9yZWYkc2Nyb2xsVG9wID0gX3JlZi5zY3JvbGxUb3AsXG4gICAgICBzY3JvbGxUb3AgPSBfcmVmJHNjcm9sbFRvcCA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYkc2Nyb2xsVG9wO1xuXG4gIC8vIENhbGN1bGF0ZSBhbW91bnQgb2Ygcm93cyB0byByZW5kZXIgYmFzZWQgb24gYXZlcmFnZSBoZWlnaHQgYW5kIHRha2UgdGhlXG4gIC8vIGFtb3VudCBvZiBhY3R1YWwgcm93cyBpbnRvIGFjY291bnQuXG4gIHZhciBhdmVyYWdlSGVpZ2h0ID0gKDAsIF9jYWxjdWxhdGVBdmVyYWdlSGVpZ2h0Mi5kZWZhdWx0KSh7IG1lYXN1cmVkUm93czogbWVhc3VyZWRSb3dzLCByb3dzOiByb3dzLCByb3dLZXk6IHJvd0tleSB9KTtcbiAgdmFyIGFtb3VudE9mUm93c1RvUmVuZGVyID0gTWF0aC5jZWlsKGhlaWdodCAvIGF2ZXJhZ2VIZWlnaHQpICsgMjtcblxuICB2YXIgc3RhcnRJbmRleCA9IE1hdGguZmxvb3Ioc2Nyb2xsVG9wIC8gYXZlcmFnZUhlaWdodCk7XG4gIHZhciB6ZXJvZWRJbmRleCA9IE1hdGgubWF4KHN0YXJ0SW5kZXgsIDApO1xuICB2YXIgcm93c1RvUmVuZGVyID0gcm93cy5zbGljZSh6ZXJvZWRJbmRleCwgTWF0aC5tYXgoc3RhcnRJbmRleCArIGFtb3VudE9mUm93c1RvUmVuZGVyLCAwKSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LkxPR19WSVJUVUFMSVpFRCkge1xuICAgIGNvbnNvbGUubG9nKCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAndXBkYXRlIHJvd3MgdG8gcmVuZGVyJywgJ3Njcm9sbCB0b3AnLCBzY3JvbGxUb3AsICdtZWFzdXJlZCByb3dzJywgbWVhc3VyZWRSb3dzLCAnYW1vdW50IG9mIHJvd3MgdG8gcmVuZGVyJywgYW1vdW50T2ZSb3dzVG9SZW5kZXIsICdyb3dzIHRvIHJlbmRlcicsIHJvd3NUb1JlbmRlciwgJ3N0YXJ0IGluZGV4Jywgc3RhcnRJbmRleCk7XG4gIH1cblxuICAvLyBFc2NhcGUgaWYgdGhlcmUgYXJlIG5vIHJvd3MgdG8gcmVuZGVyIGZvciBzb21lIHJlYXNvblxuICBpZiAoIXJvd3NUb1JlbmRlci5sZW5ndGgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBzdGFydEhlaWdodCA9IHplcm9lZEluZGV4ICogYXZlcmFnZUhlaWdodDtcblxuICAvLyBDYWxjdWxhdGUgdGhlIHBhZGRpbmcgb2YgdGhlIGxhc3Qgcm93IHNvIHdlIGNhbiBtYXRjaCB3aG9sZSBoZWlnaHQuIFRoaXNcbiAgLy8gd29uJ3QgYmUgdG90YWxseSBhY2N1cmF0ZSBpZiByb3cgaGVpZ2h0cyBkaWZmZXIgYnV0IHNob3VsZCBnZXQgY2xvc2VcbiAgLy8gZW5vdWdoIGluIG1vc3QgY2FzZXMuXG4gIHZhciBlbmRIZWlnaHQgPSBNYXRoLm1heCgocm93cy5sZW5ndGggLSBhbW91bnRPZlJvd3NUb1JlbmRlcikgKiBhdmVyYWdlSGVpZ2h0IC0gc3RhcnRIZWlnaHQsIDApO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5MT0dfVklSVFVBTElaRUQpIHtcbiAgICBjb25zb2xlLmxvZyggLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgJ2F2ZXJhZ2UgaGVpZ2h0JywgYXZlcmFnZUhlaWdodCwgJ2JvZHkgaGVpZ2h0JywgaGVpZ2h0LCAnc2Nyb2xsIHRvcCcsIHNjcm9sbFRvcCwgJ3N0YXJ0IGhlaWdodCcsIHN0YXJ0SGVpZ2h0LCAnZW5kIGhlaWdodCcsIGVuZEhlaWdodCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFtb3VudE9mUm93c1RvUmVuZGVyOiBhbW91bnRPZlJvd3NUb1JlbmRlcixcbiAgICBzdGFydEluZGV4OiB6ZXJvZWRJbmRleCxcbiAgICBzaG93RXh0cmFSb3c6ICEoemVyb2VkSW5kZXggJSAyKSxcbiAgICBzdGFydEhlaWdodDogc3RhcnRIZWlnaHQsXG4gICAgZW5kSGVpZ2h0OiBlbmRIZWlnaHRcbiAgfTtcbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNhbGN1bGF0ZVJvd3M7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5jYWxjdWxhdGVSb3dzID0gZXhwb3J0cy5Cb2R5V3JhcHBlciA9IGV4cG9ydHMuQm9keVJvdyA9IGV4cG9ydHMuQm9keSA9IHVuZGVmaW5lZDtcblxudmFyIF9ib2R5ID0gcmVxdWlyZSgnLi9ib2R5Jyk7XG5cbnZhciBfYm9keTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ib2R5KTtcblxudmFyIF9ib2R5Um93ID0gcmVxdWlyZSgnLi9ib2R5LXJvdycpO1xuXG52YXIgX2JvZHlSb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYm9keVJvdyk7XG5cbnZhciBfYm9keVdyYXBwZXIgPSByZXF1aXJlKCcuL2JvZHktd3JhcHBlcicpO1xuXG52YXIgX2JvZHlXcmFwcGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JvZHlXcmFwcGVyKTtcblxudmFyIF9jYWxjdWxhdGVSb3dzID0gcmVxdWlyZSgnLi9jYWxjdWxhdGUtcm93cycpO1xuXG52YXIgX2NhbGN1bGF0ZVJvd3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsY3VsYXRlUm93cyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuQm9keSA9IF9ib2R5Mi5kZWZhdWx0O1xuZXhwb3J0cy5Cb2R5Um93ID0gX2JvZHlSb3cyLmRlZmF1bHQ7XG5leHBvcnRzLkJvZHlXcmFwcGVyID0gX2JvZHlXcmFwcGVyMi5kZWZhdWx0O1xuZXhwb3J0cy5jYWxjdWxhdGVSb3dzID0gX2NhbGN1bGF0ZVJvd3MyLmRlZmF1bHQ7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5ib2R5V3JhcHBlclR5cGVzID0gZXhwb3J0cy5ib2R5V3JhcHBlckNvbnRleHRUeXBlcyA9IGV4cG9ydHMuYm9keVJvd1R5cGVzID0gZXhwb3J0cy5ib2R5Um93Q29udGV4dFR5cGVzID0gZXhwb3J0cy5ib2R5Q2hpbGRDb250ZXh0VHlwZXMgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgYm9keVJvd0NvbnRleHRUeXBlcyA9IHtcbiAgaW5pdGlhbE1lYXN1cmVtZW50OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHVwZGF0ZUhlaWdodDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jXG59O1xudmFyIGJvZHlSb3dUeXBlcyA9IHtcbiAgJ2RhdGEtcm93a2V5JzogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmdcbn07XG52YXIgYm9keVdyYXBwZXJDb250ZXh0VHlwZXMgPSB7XG4gIHN0YXJ0SGVpZ2h0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgZW5kSGVpZ2h0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm51bWJlcixcbiAgc2hvd0V4dHJhUm93OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2xcbn07XG52YXIgYm9keVdyYXBwZXJUeXBlcyA9IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuYW55XG59O1xudmFyIGJvZHlDaGlsZENvbnRleHRUeXBlcyA9IF9leHRlbmRzKHt9LCBib2R5Um93Q29udGV4dFR5cGVzLCBib2R5V3JhcHBlckNvbnRleHRUeXBlcyk7XG5cbmV4cG9ydHMuYm9keUNoaWxkQ29udGV4dFR5cGVzID0gYm9keUNoaWxkQ29udGV4dFR5cGVzO1xuZXhwb3J0cy5ib2R5Um93Q29udGV4dFR5cGVzID0gYm9keVJvd0NvbnRleHRUeXBlcztcbmV4cG9ydHMuYm9keVJvd1R5cGVzID0gYm9keVJvd1R5cGVzO1xuZXhwb3J0cy5ib2R5V3JhcHBlckNvbnRleHRUeXBlcyA9IGJvZHlXcmFwcGVyQ29udGV4dFR5cGVzO1xuZXhwb3J0cy5ib2R5V3JhcHBlclR5cGVzID0gYm9keVdyYXBwZXJUeXBlczsiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInRhcmdldCIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiQ29uc3RydWN0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfcmVhY3QyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9yZWFjdGFidWxhclRhYmxlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJCb2R5IiwiX1JlYWN0JENvbXBvbmVudCIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiVHlwZUVycm9yIiwidGhpcyIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfX3Byb3RvX18iLCJnZXRQcm90b3R5cGVPZiIsInJlZiIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwic2V0UHJvdG90eXBlT2YiLCJyZW5kZXIiLCJfdGhpczIiLCJfcHJvcHMiLCJzdHlsZSIsInRhYmxlSGVhZGVyIiwiX29uU2Nyb2xsIiwib25TY3JvbGwiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJrZXlzIiwiaW5kZXhPZiIsInNjcm9sbE9mZnNldCIsImNsaWVudFdpZHRoIiwiY3JlYXRlRWxlbWVudCIsImJvZHkiLCJnZXRSZWYiLCJkaXNwbGF5Iiwib3ZlcmZsb3ciLCJwYWRkaW5nUmlnaHQiLCJlIiwic2Nyb2xsTGVmdCIsIkNvbXBvbmVudCIsIkhlYWRlciIsInRhYmxlQm9keSIsImhlYWRlciIsIl9yZWYiLCJ1bmRlZmluZWQiLCJfYm9keTIiLCJfaGVhZGVyMiIsIl9pc0VxdWFsMyIsIl90eXBlcyIsIkJvZHlSb3ciLCJ1cGRhdGVIZWlnaHQiLCJiaW5kIiwiY29tcG9uZW50RGlkTW91bnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJjb250ZXh0IiwiaW5pdGlhbE1lYXN1cmVtZW50Iiwib2Zmc2V0SGVpZ2h0IiwiY29udGV4dFR5cGVzIiwiYm9keVJvd0NvbnRleHRUeXBlcyIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsIm5leHRQcm9wcyIsInByZXZpb3VzUHJvcHMiLCJyb3dEYXRhIiwiX21lYXN1cmVkIiwiY29sdW1uc0FyZUVxdWFsIiwiY29sdW1ucyIsIkJvZHlXcmFwcGVyIiwiY2hpbGRyZW4iLCJfY29udGV4dCIsInN0YXJ0SGVpZ2h0IiwiZW5kSGVpZ2h0Iiwic2hvd0V4dHJhUm93Iiwic3RhcnRSb3ciLCJ0ciIsImhlaWdodCIsImVuZFJvdyIsInJvd3MiLCJjb25jYXQiLCJ1bnNoaWZ0IiwiYm9keVdyYXBwZXJDb250ZXh0VHlwZXMiLCJoZWlnaHRQcm9wQ2hlY2siLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJtYXhIZWlnaHQiLCJjb250YWluZXIiLCJFcnJvciIsIl9yZWFjdGFidWxhclN0aWNreSIsIl9jYWxjdWxhdGVBdmVyYWdlSGVpZ2h0MiIsIl9jYWxjdWxhdGVSb3dzMyIsIlZpcnR1YWxpemVkQm9keSIsIm1lYXN1cmVkUm93cyIsInNjcm9sbFRvcCIsInRpbWVvdXRJZCIsInN0YXRlIiwiYW1vdW50T2ZSb3dzVG9SZW5kZXIiLCJzdGFydEluZGV4IiwiY2hlY2tNZWFzdXJlbWVudHMiLCJyZWdpc3RlckNvbnRhaW5lciIsInNldFRpbWVvdXQiLCJhZGRFdmVudExpc3RlbmVyIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJjbGVhclRpbWVvdXQiLCJnZXRIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwiY2FsY3VsYXRlUm93cyIsInNldFN0YXRlIiwiZ2V0Q2hpbGRDb250ZXh0IiwiX3RoaXMzIiwiX3N0YXRlIiwicm93S2V5IiwiX3RoaXM0IiwiX29uUm93Iiwib25Sb3ciLCJfc3RhdGUyIiwicm93c1RvUmVuZGVyIiwic2xpY2UiLCJtYXAiLCJyb3dJbmRleCIsInJlc29sdmVSb3dLZXkiLCJyb3ciLCJleHRyYSIsInJvd1Byb3BzIiwiZ2V0Qm9keU9mZnNldCIsInBhcmVudEVsZW1lbnQiLCJvZmZzZXRUb3AiLCJfdGhpczUiLCJzY3JvbGxUbyIsImluZGV4IiwicGFyc2VJbnQiLCJfdGhpczYiLCJmb3JjZVVwZGF0ZSIsImRlZmF1bHRQcm9wcyIsImNoaWxkQ29udGV4dFR5cGVzIiwiYm9keUNoaWxkQ29udGV4dFR5cGVzIiwiY2FsY3VsYXRlQXZlcmFnZUhlaWdodCIsInJlc29sdmVkUm93S2V5cyIsIm1lYXN1cmVkQW1vdW50cyIsImZpbHRlciIsImFtb3VudE9mTWVhc3VyZWRSb3dzIiwicmVkdWNlIiwiYSIsImIiLCJfcmVmJHNjcm9sbFRvcCIsImF2ZXJhZ2VIZWlnaHQiLCJNYXRoIiwiY2VpbCIsImZsb29yIiwiemVyb2VkSW5kZXgiLCJtYXgiLCJfYm9keVJvdzIiLCJfYm9keVdyYXBwZXIyIiwiX2NhbGN1bGF0ZVJvd3MyIiwiYm9keVdyYXBwZXJUeXBlcyIsImJvZHlSb3dUeXBlcyIsIl9wcm9wVHlwZXMyIiwiYm9vbCIsImZ1bmMiLCJzdHJpbmciLCJudW1iZXIiLCJhbnkiXSwic291cmNlUm9vdCI6IiJ9