/*! For license information please see 9560.84bd01ec.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[9560],{"./src/constants.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestResults=exports.TOOLBOX_EDIT_MODE=exports.SVG_NS=exports.START_BLOCKS=exports.ResultType=exports.Position=exports.NOTIFICATION_ALERT_TYPE=exports.KeyCodes=exports.HarvesterTerminationValue=exports.DEPRECATED_PROJECT_TYPES=exports.CIPHER=exports.BeeTerminationValue=exports.BASE_DIALOG_WIDTH=exports.ALPHABET=void 0;exports.ResultType={UNSET:0,SUCCESS:1,FAILURE:-1,TIMEOUT:2,ERROR:-2};exports.TestResults={NO_TESTS_RUN:-1,GENERIC_FAIL:0,EMPTY_BLOCK_FAIL:1,TOO_FEW_BLOCKS_FAIL:2,LEVEL_INCOMPLETE_FAIL:3,MISSING_BLOCK_UNFINISHED:4,EXTRA_TOP_BLOCKS_FAIL:5,RUNTIME_ERROR_FAIL:6,SYNTAX_ERROR_FAIL:7,MISSING_BLOCK_FINISHED:10,APP_SPECIFIC_FAIL:11,EMPTY_FUNCTION_BLOCK_FAIL:12,UNUSED_PARAM:13,UNUSED_FUNCTION:14,PARAM_INPUT_UNATTACHED:15,INCOMPLETE_BLOCK_IN_FUNCTION:16,QUESTION_MARKS_IN_NUMBER_FIELD:17,EMPTY_FUNCTIONAL_BLOCK:18,EXAMPLE_FAILED:19,NESTED_FOR_SAME_VARIABLE:-2,EMPTY_FUNCTION_NAME:-3,MISSING_RECOMMENDED_BLOCK_UNFINISHED:-4,EXTRA_FUNCTION_FAIL:-5,LOCAL_FUNCTION_FAIL:-6,GENERIC_LINT_FAIL:-7,LOG_CONDITION_FAIL:-8,BLOCK_LIMIT_FAIL:-9,FREE_PLAY_UNCHANGED_FAIL:-10,UNSUBMITTED_ATTEMPT:-50,SKIPPED:-100,TEACHER_FEEDBACK_KEEP_WORKING:-110,LEVEL_STARTED:-150,MINIMUM_PASS_RESULT:20,TOO_MANY_BLOCKS_FAIL:20,APP_SPECIFIC_ACCEPTABLE_FAIL:21,MISSING_RECOMMENDED_BLOCK_FINISHED:22,MINIMUM_OPTIMAL_RESULT:30,FREE_PLAY:30,PASS_WITH_EXTRA_TOP_BLOCKS:31,APP_SPECIFIC_IMPERFECT_PASS:32,EDIT_BLOCKS:70,MANUAL_PASS:90,ALL_PASS:100,CONTAINED_LEVEL_RESULT:101,BETTER_THAN_IDEAL:102,SUBMITTED_RESULT:1e3,REVIEW_REJECTED_RESULT:1500,REVIEW_ACCEPTED_RESULT:2e3};var BeeTerminationValue={FAILURE:!1,SUCCESS:!0,INFINITE_LOOP:1/0,NOT_AT_FLOWER:1,FLOWER_EMPTY:2,NOT_AT_HONEYCOMB:3,HONEYCOMB_FULL:4,UNCHECKED_CLOUD:5,UNCHECKED_PURPLE:6,INSUFFICIENT_NECTAR:7,INSUFFICIENT_HONEY:8,DID_NOT_COLLECT_EVERYTHING:9};exports.BeeTerminationValue=BeeTerminationValue;exports.HarvesterTerminationValue={WRONG_CROP:1,EMPTY_CROP:2,DID_NOT_COLLECT_EVERYTHING:3};exports.KeyCodes={BACKSPACE:8,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,COPY:67,PASTE:86,DELETE:127};exports.Position={OUTTOPOUTLEFT:1,OUTTOPLEFT:2,OUTTOPCENTER:3,OUTTOPRIGHT:4,OUTTOPOUTRIGHT:5,TOPOUTLEFT:6,TOPLEFT:7,TOPCENTER:8,TOPRIGHT:9,TOPOUTRIGHT:10,MIDDLEOUTLEFT:11,MIDDLELEFT:12,MIDDLECENTER:13,MIDDLERIGHT:14,MIDDLEOUTRIGHT:15,BOTTOMOUTLEFT:16,BOTTOMLEFT:17,BOTTOMCENTER:18,BOTTOMRIGHT:19,BOTTOMOUTRIGHT:20,OUTBOTTOMOUTLEFT:21,OUTBOTTOMLEFT:22,OUTBOTTOMCENTER:23,OUTBOTTOMRIGHT:24,OUTBOTTOMOUTRIGHT:25};exports.SVG_NS="http://www.w3.org/2000/svg";exports.ALPHABET="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";exports.CIPHER="Iq61F8kiaUHPGcsY7DgX4yAu3LwtWhnCmeR5pVrJoKfQZMx0BSdlOjEv2TbN9z";exports.BASE_DIALOG_WIDTH=700;exports.TOOLBOX_EDIT_MODE="toolbox_blocks";exports.NOTIFICATION_ALERT_TYPE="notification";exports.START_BLOCKS="start_blocks";exports.DEPRECATED_PROJECT_TYPES=["algebra_game","calc","eval"]},"./src/dcdo.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.DCDO=void 0;var _getScriptData=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./src/util/getScriptData.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}var DCDO=function(){function DCDO(){var configs=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.configs=configs}var _proto=DCDO.prototype;return _proto.get=function get(key){var defaultValue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return key&&key in this.configs?this.configs[key]:defaultValue},_proto.set=function set(key,value){key&&(this.configs[key]=value)},_proto.reset=function reset(){this.configs={}},DCDO}();exports.DCDO=DCDO;var configs={};(0,_getScriptData.hasScriptData)("script[data-dcdo]")&&(configs=(0,_getScriptData.default)("dcdo"));var _default=new DCDO(configs);exports.default=_default},"./src/imageUtils.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.URIFromImageData=function URIFromImageData(imageData){var canvas=document.createElement("canvas");return canvas.width=imageData.width,canvas.height=imageData.height,canvas.getContext("2d").putImageData(imageData,0,0),canvas.toDataURL()},exports.blobToDataURI=function blobToDataURI(blob,onComplete){var fileReader=new FileReader;fileReader.onload=function(e){return onComplete(e.target.result)},fileReader.readAsDataURL(blob)},exports.canvasToBlob=canvasToBlob,exports.dataURIFromURI=function dataURIFromURI(_x){return _dataURIFromURI.apply(this,arguments)},exports.dataURIToBlob=function dataURIToBlob(_x2){return _dataURIToBlob.apply(this,arguments)},exports.dataURIToFramedBlob=function dataURIToFramedBlob(dataURI,callback){var frame=new Image,imageData=new Image;imageData.src=dataURI,frame.onload=function(){var canvas=document.createElement("canvas");canvas.width=frame.width,canvas.height=frame.height;var ctx=canvas.getContext("2d");ctx.drawImage(frame,0,0),ctx.drawImage(imageData,175,52,154,154),canvas.toBlob&&canvas.toBlob(callback)},frame.src=_blank_sharing_drawing.default},exports.dataURIToSourceSize=function dataURIToSourceSize(dataURI){return toImage(dataURI).then((function(image){return{x:image.width,y:image.height}}))},exports.downloadBlobAsPng=function downloadBlobAsPng(blob){var filename=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image.png",download=document.createElement("a");download.href=URL.createObjectURL(blob),download.download=filename,download.click()},exports.fetchURLAsBlob=function fetchURLAsBlob(url,onComplete){var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.responseType="blob",xhr.onload=function(e){200===e.target.status?onComplete(null,e.target.response):onComplete(new Error("URL ".concat(url," responded with code ").concat(e.target.status)))},xhr.onerror=function(e){return onComplete(new Error("Error ".concat(e.target.status," occurred while receiving the document.")))},xhr.send()},exports.svgToDataURI=function svgToDataURI(svg){var imageType=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(resolve){Promise.all([__webpack_require__.e(6767),__webpack_require__.e(2867)]).then(__webpack_require__.t.bind(__webpack_require__,"./src/util/svgelement-polyfill.js",23)).then((function(){svg.toDataURL(imageType,_objectSpread(_objectSpread({},options),{},{callback:resolve}))}))}))},exports.toCanvas=toCanvas,exports.toImage=toImage,exports.toImageData=function toImageData(_x5){return _toImageData.apply(this,arguments)};var _blank_sharing_drawing=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./static/turtle/blank_sharing_drawing.png"));function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==_typeof(value)&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _dataURIFromURI(){return(_dataURIFromURI=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(uri){var canvas;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,toCanvas(uri);case 2:return canvas=_context.sent,_context.abrupt("return",canvas.toDataURL());case 4:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function canvasToBlob(canvas){return new Promise((function(resolve){canvas.toBlob(resolve)}))}function _dataURIToBlob(){return(_dataURIToBlob=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(uri){var canvas;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,toCanvas(uri);case 2:return canvas=_context2.sent,_context2.next=5,canvasToBlob(canvas);case 5:return _context2.abrupt("return",_context2.sent);case 6:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function toImage(_x3){return _toImage.apply(this,arguments)}function _toImage(){return(_toImage=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(input){var src,cleanup;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!(input instanceof HTMLImageElement)){_context3.next=2;break}return _context3.abrupt("return",input);case 2:if(cleanup=function cleanup(){},!(input instanceof Blob)){_context3.next=8;break}src=URL.createObjectURL(input),cleanup=function cleanup(){return URL.revokeObjectURL(input)},_context3.next=13;break;case 8:if("string"!=typeof input){_context3.next=12;break}src=input,_context3.next=13;break;case 12:throw new Error("Unable to convert input to image");case 13:return _context3.abrupt("return",new Promise((function(resolve,reject){var image=new Image;image.onload=function(){cleanup(),resolve(image)},image.onerror=function(err){cleanup(),reject(err)},image.src=src})));case 14:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}function toCanvas(_x4){return _toCanvas.apply(this,arguments)}function _toCanvas(){return(_toCanvas=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(input){var image,canvas;return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!(input instanceof HTMLCanvasElement)){_context4.next=2;break}return _context4.abrupt("return",input);case 2:return _context4.prev=2,_context4.next=5,toImage(input);case 5:return image=_context4.sent,(canvas=document.createElement("canvas")).width=image.width,canvas.height=image.height,canvas.getContext("2d").drawImage(image,0,0),_context4.abrupt("return",canvas);case 14:throw _context4.prev=14,_context4.t0=_context4.catch(2),new Error("Unable to convert input to canvas: "+_context4.t0);case 17:case"end":return _context4.stop()}}),_callee4,null,[[2,14]])})))).apply(this,arguments)}function _toImageData(){return(_toImageData=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(input){var canvas;return _regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!(input instanceof ImageData)){_context5.next=2;break}return _context5.abrupt("return",input);case 2:return _context5.prev=2,_context5.next=5,toCanvas(input);case 5:return canvas=_context5.sent,_context5.abrupt("return",canvas.getContext("2d").getImageData(0,0,canvas.width,canvas.height));case 9:throw _context5.prev=9,_context5.t0=_context5.catch(2),new Error("Unable to convert input to ImageData: "+_context5.t0);case 12:case"end":return _context5.stop()}}),_callee5,null,[[2,9]])})))).apply(this,arguments)}},"./src/polyfills.js":(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _wgxpath=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/wgxpath/wgxpath.install.js"));HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function value(callback,type,quality){for(var binStr=atob(this.toDataURL(type,quality).split(",")[1]),arr=new Uint8Array(binStr.length),i=0;i<binStr.length;i++)arr[i]=binStr.charCodeAt(i);callback(new Blob([arr],{type:type||"image/png"}))}}),void 0===SVGElement.prototype.getElementsByClassName&&(SVGElement.prototype.getElementsByClassName=function(className){return this.querySelectorAll("."+className)}),document.evaluate||_wgxpath.default.install(window)},"./src/util/experiments.js":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=__webpack_require__("./src/utils.js"),_jsCookie=_interopRequireDefault(__webpack_require__("./node_modules/js-cookie/src/js.cookie.js")),_trackEvent=_interopRequireDefault(__webpack_require__("./src/util/trackEvent.js")),_dcdo=_interopRequireDefault(__webpack_require__("./src/dcdo.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var queryString=__webpack_require__("./node_modules/query-string/index.js"),experiments=module.exports,_default=experiments;exports.default=_default;experiments.REDUX_LOGGING="reduxLogging",experiments.SCHOOL_AUTOCOMPLETE_DROPDOWN_NEW_SEARCH="schoolAutocompleteDropdownNewSearch",experiments.SHOW_UNPUBLISHED_FIREBASE_TABLES="showUnpublishedFirebaseTables",experiments.TEACHER_DASHBOARD_SECTION_BUTTONS="teacher-dashboard-section-buttons",experiments.TEACHER_DASHBOARD_SECTION_BUTTONS_ALTERNATE_TEXT="teacher-dashboard-section-buttons-alternate-text",experiments.FINISH_DIALOG_METRICS="finish-dialog-metrics",experiments.I18N_TRACKING="frontend-i18n-tracking",experiments.TIME_SPENT="time-spent",experiments.BYPASS_DIALOG_POPUP="bypass-dialog-popup",experiments.SPECIAL_TOPIC="special-topic",experiments.OPT_IN_EMAIL_REG_PARTNER="optInEmailRegPartner",experiments.BACKGROUNDS_AND_UPLOAD="backgroundsTab",experiments.SECTION_SETUP_REFRESH="sectionSetupRefresh",experiments.GENDER_FEATURE_ENABLED="gender",experiments.CPA_EXPERIENCE="cpa_experience",experiments.AI_RUBRICS="ai-rubrics",experiments.NON_AI_RUBRICS="non-ai-rubrics",experiments.AI_TUTOR_ACCESS="ai-tutor",experiments.GOOGLE_BLOCKLY="google_blockly",experiments.SPRITE_LAB_DOCS="sl_docs",experiments.KEYBOARD_NAVIGATION="blockly_keyboard",experiments.SECTION_PROGRESS_V2="section_progress_v2",experiments.SCHOOL_ASSOCIATION_V2="school_association_v2",experiments.BUBBLE_DIALOG="bubbleDialog",experiments.getQueryString_=function(){return window.location.search},experiments.getStoredExperiments_=function(){var experimentsCookie=_jsCookie.default.get("_experiments"+window.cookieEnvSuffix),userExperiments=experimentsCookie?JSON.parse(decodeURIComponent(experimentsCookie)).map((function(name){return{key:name}})):[];try{var jsonList=localStorage.getItem("experimentsList"),storedExperiments=jsonList?JSON.parse(jsonList):[],now=Date.now(),enabledExperiments=storedExperiments.filter((function(experiment){return experiment.key&&(void 0===experiment.expiration||experiment.expiration>now)}));return enabledExperiments.length<storedExperiments.length&&(0,_utils.trySetLocalStorage)("experimentsList",JSON.stringify(enabledExperiments)),userExperiments.concat(enabledExperiments)}catch(e){return userExperiments}},experiments.getEnabledExperiments=function(){return this.getStoredExperiments_().map((function(experiment){return experiment.key}))},experiments.setEnabled=function(key,shouldEnable){var expiration=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,allEnabled=this.getStoredExperiments_(),experimentIndex=allEnabled.findIndex((function(experiment){return experiment.key===key}));if(shouldEnable)experimentIndex<0?(allEnabled.push({key,expiration}),(0,_trackEvent.default)("experiments","enable",key)):allEnabled[experimentIndex].expiration=expiration;else{if(!(experimentIndex>=0))return;allEnabled.splice(experimentIndex,1),(0,_trackEvent.default)("experiments","disable",key)}(0,_utils.trySetLocalStorage)("experimentsList",JSON.stringify(allEnabled))},experiments.isEnabledAllowingQueryString=function(key){return!!queryString.parse(this.getQueryString_())[key]||experiments.isEnabled(key)},experiments.isEnabled=function(key){var enabled=this.getStoredExperiments_().some((function(experiment){return experiment.key===key}))||!!(window.appOptions&&window.appOptions.experiments&&window.appOptions.experiments.includes(key));enabled=enabled||!!_dcdo.default.get(key,!1);var query=queryString.parse(this.getQueryString_()),enableQuery=query.enableExperiments,disableQuery=query.disableExperiments,tempEnableQuery=query.tempEnableExperiments;enableQuery&&(enableQuery.split(",").indexOf(key)>=0&&(enabled=!0,this.setEnabled(key,!0)));disableQuery&&(disableQuery.split(",").indexOf(key)>=0&&(enabled=!1,this.setEnabled(key,!1)));if(tempEnableQuery){var expirationDate=new Date;expirationDate.setHours(expirationDate.getHours()+12);var expiration=expirationDate.getTime();tempEnableQuery.split(",").indexOf(key)>=0&&(enabled=!0,this.setEnabled(key,!0,expiration))}return enabled},module.exports=exports.default},"./src/util/getScriptData.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function getScriptData(name){name=name.toLowerCase();var script=document.querySelector("script[data-".concat(name,"]"));try{return JSON.parse(script.dataset[name])}catch(e){throw console.error("Failed to parse script data for script",name),e}},exports.hasScriptData=function hasScriptData(name){return!!document.querySelector(name)}},"./src/util/i18nStringTracker.js":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function localeWithI18nStringTracker(locale,source){if(!_experiments.default.isEnabled(_experiments.default.I18N_TRACKING))return locale;var localeWithTracker={};return Object.keys(locale).forEach((function(stringKey,index){localeWithTracker[stringKey]=function(d){var value=locale[stringKey](d);return function log(stringKey,source){if(!stringKey||!source)return;(0,_i18nStringTrackerWorker.getI18nStringTrackerWorker)().log(stringKey,source)}(stringKey,source),value}})),localeWithTracker};var _experiments=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./src/util/experiments.js")),_i18nStringTrackerWorker=__webpack_require__("./src/util/i18nStringTrackerWorker.js");module.exports=exports.default},"./src/util/i18nStringTrackerWorker.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getI18nStringTrackerWorker=function getI18nStringTrackerWorker(){return new I18nStringTrackerWorker},__webpack_require__("./node_modules/whatwg-fetch/fetch.js");var I18nStringTrackerWorker=function(){function I18nStringTrackerWorker(){var instance=this.constructor.instance;if(instance)return instance;this.constructor.instance=this,this.buffer={}}var _proto=I18nStringTrackerWorker.prototype;return _proto.log=function log(stringKey,source){var _this=this;stringKey&&source&&(this.buffer[source]=this.buffer[source]||new Set,this.buffer[source].add("".concat(source,".").concat(stringKey)),this.pendingFlush||(this.pendingFlush=setTimeout((function(){return _this.flush()}),3e3)))},_proto.flush=function flush(){if(0!==Object.keys(this.buffer).length){var records=this.buffer;this.buffer={},this.pendingFlush=null,0===Math.floor(100*Math.random())&&function sendRecords(records){var locationOrigin=window.location.origin;locationOrigin||(locationOrigin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var url=locationOrigin+window.location.pathname;Object.keys(records).forEach((function(source){for(var stringKeys=Array.from(records[source]),i=0;i<stringKeys.length;i+=RECORD_LIMIT){var stringKeyBatch=stringKeys.slice(i,RECORD_LIMIT);fetch("/i18n/track_string_usage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url,source,string_keys:stringKeyBatch})})}}))}(records)}},I18nStringTrackerWorker}(),RECORD_LIMIT=500},"./src/util/locale-do-not-import.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _safeLoadLocale=_interopRequireDefault(__webpack_require__("./src/util/safeLoadLocale.js")),_i18nStringTracker=_interopRequireDefault(__webpack_require__("./src/util/i18nStringTracker.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var locale=(0,_safeLoadLocale.default)("common_locale");locale=(0,_i18nStringTracker.default)(locale,"common"),module.exports=locale},"./src/util/safeLoadLocale.js":(module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function safeLoadLocale(localeKey){return window.locales&&window.locales[localeKey]?window.locales[localeKey]:(console.warn("Translations must be loaded into the global scope before access. Falling back on an empty translation object. This page may break due to missing translations."),{})},module.exports=exports.default},"./src/util/trackEvent.js":(module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function trackEvent(){var _window;return void 0;(_window=window).trackEvent.apply(_window,arguments)},module.exports=exports.default},"./src/utils.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bisect=function bisect(array,conditional){var positive=array.filter((function(x){return conditional(x)})),negative=array.filter((function(x){return!conditional(x)}));return[positive,negative]},exports.calculateOffsetCoordinates=function calculateOffsetCoordinates(element,clientX,clientY){var rect=element.getBoundingClientRect();return{x:Math.round((clientX-rect.left)*element.offsetWidth/rect.width),y:Math.round((clientY-rect.top)*element.offsetHeight/rect.height)}},exports.cloneWithoutFunctions=function cloneWithoutFunctions(object){return JSON.parse(JSON.stringify(object))},exports.createEvent=function createEvent(type){var customEvent,bubbles=arguments.length>1&&void 0!==arguments[1]&&arguments[1],cancelable=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{customEvent=new Event(type,{bubbles,cancelable})}catch(e){(customEvent=document.createEvent("Event")).initEvent(type,bubbles,cancelable)}return customEvent},exports.createHiddenPrintWindow=function createHiddenPrintWindow(src){(0,_imageUtils.dataURIFromURI)(src).then((function(data){var iframe=(0,_jquery.default)('<iframe style="position: absolute; visibility: hidden;"></iframe>');iframe.appendTo("body"),iframe[0].contentWindow.document.write('<img src="'.concat(data,'" style="border: 1px solid #000;" onload="if (document.execCommand(\'print\', false, null)) {  } else { window.print(); }"/>'))}))},exports.createUuid=function createUuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)}))},exports.currentLocation=currentLocation,exports.deepMergeConcatArrays=function deepMergeConcatArrays(baseObject,overrides){return _immutable.default.fromJS(baseObject).mergeWith((function deepConcatMerger(a,b){var isList=_immutable.default.List.isList;return isList(a)&&isList(b)?a.concat(b):a&&a.mergeWith?a.mergeWith(deepConcatMerger,b):b}),overrides).toJS()},exports.ellipsify=function ellipsify(inputText,maxLength){if(inputText&&inputText.length>maxLength)return inputText.substr(0,maxLength-3)+"...";return inputText||""},exports.escapeHtml=function escapeHtml(unsafe){return unsafe?unsafe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;"):""},exports.escapeText=function escapeText(text){var escapedText=text.toString(),lines=(escapedText=(escapedText=(escapedText=(escapedText=escapedText.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/ {2}/g," &nbsp;")).split("\n"),first=lines[0],rest=lines.slice(1);0===first.length&&lines.length>1&&(first="<br>");return first+rest.map((function(line){return"<div>"+(line.length?line:"<br>")+"</div>"})).join("")},exports.executeIfConditional=function executeIfConditional(conditional,fn){return function(){if(conditional())return fn.apply(this,arguments)}},exports.extend=function extend(defaults,options){var finalOptions=exports.shallowCopy(defaults);for(var prop in options)finalOptions[prop]=options[prop];return finalOptions},exports.fetchSignedCookies=function fetchSignedCookies(){var buster=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return fetch("/dashboardapi/sign_cookies".concat(buster?"?bust=".concat(Date.now()):""),{credentials:"same-origin"})},exports.findExplicitlySetBlockIds=function findExplicitlySetBlockIds(){var appOptions=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!appOptions||!appOptions.level)return[];for(var explicitlySetIds=new Set,_i=0,_blockSources=["startBlocks","toolbox"];_i<_blockSources.length;_i++){var _appOptions$level,levelProperty=_blockSources[_i],xmlString=null===(_appOptions$level=appOptions.level)||void 0===_appOptions$level?void 0:_appOptions$level[levelProperty];try{if(!xmlString)break;(new DOMParser).parseFromString(xmlString,"text/xml").querySelectorAll("block").forEach((function(blockElement){var idAttribute=blockElement.getAttribute("id");idAttribute&&explicitlySetIds.add(idAttribute)}))}catch(error){console.error("Error parsing XML for ".concat(levelProperty,":"),error)}}return explicitlySetIds},exports.findProfanity=void 0,exports.fireResizeEvent=function fireResizeEvent(){var ev=document.createEvent("Event");ev.initEvent("resize",!0,!0),window.dispatchEvent(ev)},exports.flatten=function flatten(array){return array.reduce((function(flat,toFlatten){return flat.concat(Array.isArray(toFlatten)?flatten(toFlatten):toFlatten)}),[])},exports.getAlphanumericId=function getAlphanumericId(){for(var validCharacters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",id=[],i=0;i<16;i++)id.push(validCharacters.charAt(Math.floor(62*Math.random())));return id.join("")},exports.getEnvironment=getEnvironment,exports.getTabId=function getTabId(){var tabId=tryGetSessionStorage("tabId",!1);if(tabId)return tabId;return trySetSessionStorage("tabId",Math.random()+""),tryGetSessionStorage("tabId",!1)},exports.hashString=function hashString(str){return(0,_md.default)(str)},exports.interpolateColors=function interpolateColors(from,to,value){var fromRGB=new _rgbcolor.default(from),toRGB=new _rgbcolor.default(to),r=Math.round(fromRGB.r*(1-value)+toRGB.r*value),g=Math.round(fromRGB.g*(1-value)+toRGB.g*value),b=Math.round(fromRGB.b*(1-value)+toRGB.b*value);return"rgb(".concat(r,", ").concat(g,", ").concat(b,")")},exports.isBlank=function isBlank(str){return!(str&&""!==str.trim())},exports.isDevelopmentEnvironment=function isDevelopmentEnvironment(){return getEnvironment()===Environments.development},exports.isInfiniteRecursionError=function isInfiniteRecursionError(err){if(err instanceof RangeError&&/^Maximum call stack size exceeded/.test(err.message))return!0;if("undefined"!=typeof InternalError&&err instanceof InternalError&&"too much recursion"===err.message)return!0;if(err instanceof Error&&"Out of stack space"===err.message)return!0;return!1},exports.isProductionEnvironment=function isProductionEnvironment(){return getEnvironment()===Environments.production},exports.isStagingEnvironment=function isStagingEnvironment(){return getEnvironment()===Environments.staging},exports.isSubsequence=function isSubsequence(sequence,subsequence){var superIndex=0,subIndex=0;for(;subIndex<subsequence.length;){for(;superIndex<sequence.length&&subsequence[subIndex]!==sequence[superIndex];)superIndex++;if(superIndex>=sequence.length)return!1;subIndex++,superIndex++}return!0},exports.isTestEnvironment=function isTestEnvironment(){return getEnvironment()===Environments.test},exports.levenshtein=function levenshtein(a,b){if(!a||!b)return(a||b).length;for(var matrix=[],i=0;i<=b.length;i++)if(matrix[i]=[i],0!==i)for(var j=0;j<=a.length;j++)matrix[0][j]=j,0!==j&&(matrix[i][j]=b.charAt(i-1)===a.charAt(j-1)?matrix[i-1][j-1]:Math.min(matrix[i-1][j-1]+1,matrix[i][j-1]+1,matrix[i-1][j]+1));return matrix[b.length][a.length]},exports.linkWithQueryParams=function linkWithQueryParams(link){var queryParams=window.location.search||"";return link+queryParams},exports.makeEnum=function makeEnum(){for(var key,result={},i=0;i<arguments.length;i++){if(result[key=String(arguments[i])])throw new Error('Key "'+key+'" occurred twice while constructing enum');result[key]=key}Object.freeze&&Object.freeze(result);return result},exports.mod=function mod(number,mod){return(number%mod+mod)%mod},exports.navigateToHref=function navigateToHref(href){window.location.href=href},exports.normalize=function normalize(vector){var mag=Math.sqrt(vector.x*vector.x+vector.y*vector.y);if(0===mag)return vector;return{x:vector.x/mag,y:vector.y/mag}},exports.quote=function quote(str){return'"'+str+'"'},exports.randomKey=function randomKey(obj){return randomValue(Object.keys(obj))},exports.randomValue=randomValue,exports.range=function range(start,end){for(var ints=[],i=start;i<=end;i++)ints.push(i);return ints},exports.reload=function reload(){window.location.reload()},exports.resetAniGif=function resetAniGif(element){if(!element)return;var src=element.src;element.src="#",setTimeout((function(){return element.src=src}),0)},exports.shallowCopy=function shallowCopy(source){var result={};for(var prop in source)result[prop]=source[prop];return result},exports.showGenericQtip=showGenericQtip,exports.showUnusedBlockQtip=function showUnusedBlockQtip(targetElement){var msg=__webpack_require__("./src/util/locale-do-not-import.js"),title=msg.unattachedBlockTipTitle(),message=msg.unattachedBlockTipBody();showGenericQtip(targetElement,title,message,{my:"bottom left",at:"top right"})},exports.stringToChunks=function stringToChunks(str,maxLength){var delimiter=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return str.split(delimiter).reduce((function(acc,val){var lastVal="";return acc[acc.length-1].length+val.length<maxLength&&(lastVal=acc.pop()+delimiter),lastVal+=val,acc.push(lastVal.trim()),acc}),[""])},exports.stringifyQueryParams=function stringifyQueryParams(params){if(!params)return"";var keys=Object.keys(params);if(!keys.length)return"";return"?"+keys.map((function(key){return"".concat(key,"=").concat(params[key])})).join("&")},exports.stripEncapsulatingDoubleQuotes=void 0,exports.stripQuotes=function stripQuotes(inputString){return inputString.replace(/["']/g,"")},exports.tooltipifyVocabulary=function tooltipifyVocabulary(){(0,_jquery.default)(".vocab").each((function(){(0,_jquery.default)(this).tooltip({placement:"bottom"})}))},exports.tryGetLocalStorage=function tryGetLocalStorage(key,defaultValue){if(void 0===defaultValue)throw"tryGetLocalStorage requires defaultValue";var returnValue=defaultValue;try{returnValue=localStorage.getItem(key)}catch(e){}return returnValue},exports.tryGetSessionStorage=tryGetSessionStorage,exports.trySetLocalStorage=function trySetLocalStorage(item,value){try{return localStorage.setItem(item,value),!0}catch(e){return!1}},exports.trySetSessionStorage=trySetSessionStorage,exports.unescapeText=function unescapeText(text){var cleanedText=text;return cleanedText=(cleanedText=(cleanedText=(cleanedText=(cleanedText=(cleanedText=cleanedText.replace(/(?!^)<div[^>]*>/gi,"\n")).replace(/<[^>]+>/gi,"")).replace(/&nbsp;/gi," ")).replace(/&gt;/gi,">")).replace(/&lt;/gi,"<")).replace(/&amp;/gi,"&")},exports.valueOr=function valueOr(val,defaultVal){return void 0===val?defaultVal:val},exports.windowOpen=function windowOpen(){var _window;return(_window=window).open.apply(_window,arguments)},exports.wrapNumberValidatorsForLevelBuilder=function wrapNumberValidatorsForLevelBuilder(){var nonNeg=Blockly.FieldTextInput.nonnegativeIntegerValidator,numVal=Blockly.FieldTextInput.numberValidator;Blockly.FieldTextInput.nonnegativeIntegerValidator=function(text){return"???"===text?text:nonNeg(text)},Blockly.FieldTextInput.numberValidator=function(text){return"???"===text?text:numVal(text)}},exports.xFromPosition=function xFromPosition(position){var containerWidth=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,spriteWidth=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(position){case _constants.Position.OUTTOPOUTLEFT:case _constants.Position.TOPOUTLEFT:case _constants.Position.MIDDLEOUTLEFT:case _constants.Position.BOTTOMOUTLEFT:case _constants.Position.OUTBOTTOMOUTLEFT:return-spriteWidth;case _constants.Position.OUTTOPLEFT:case _constants.Position.TOPLEFT:case _constants.Position.MIDDLELEFT:case _constants.Position.BOTTOMLEFT:case _constants.Position.OUTBOTTOMLEFT:return 0;case _constants.Position.OUTTOPCENTER:case _constants.Position.TOPCENTER:case _constants.Position.MIDDLECENTER:case _constants.Position.BOTTOMCENTER:case _constants.Position.OUTBOTTOMCENTER:return(containerWidth-spriteWidth)/2;case _constants.Position.OUTTOPRIGHT:case _constants.Position.TOPRIGHT:case _constants.Position.MIDDLERIGHT:case _constants.Position.BOTTOMRIGHT:case _constants.Position.OUTBOTTOMRIGHT:return containerWidth-spriteWidth;case _constants.Position.OUTTOPOUTRIGHT:case _constants.Position.TOPOUTRIGHT:case _constants.Position.MIDDLEOUTRIGHT:case _constants.Position.BOTTOMOUTRIGHT:case _constants.Position.OUTBOTTOMOUTRIGHT:return containerWidth}},exports.yFromPosition=function yFromPosition(position){var containerHeight=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,spriteHeight=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(position){case _constants.Position.OUTTOPOUTLEFT:case _constants.Position.OUTTOPLEFT:case _constants.Position.OUTTOPCENTER:case _constants.Position.OUTTOPRIGHT:case _constants.Position.OUTTOPOUTRIGHT:return-spriteHeight;case _constants.Position.TOPOUTLEFT:case _constants.Position.TOPLEFT:case _constants.Position.TOPCENTER:case _constants.Position.TOPRIGHT:case _constants.Position.TOPOUTRIGHT:return 0;case _constants.Position.MIDDLEOUTLEFT:case _constants.Position.MIDDLELEFT:case _constants.Position.MIDDLECENTER:case _constants.Position.MIDDLERIGHT:case _constants.Position.MIDDLEOUTRIGHT:return(containerHeight-spriteHeight)/2;case _constants.Position.BOTTOMOUTLEFT:case _constants.Position.BOTTOMLEFT:case _constants.Position.BOTTOMCENTER:case _constants.Position.BOTTOMRIGHT:case _constants.Position.BOTTOMOUTRIGHT:return containerHeight-spriteHeight;case _constants.Position.OUTBOTTOMOUTLEFT:case _constants.Position.OUTBOTTOMLEFT:case _constants.Position.OUTBOTTOMCENTER:case _constants.Position.OUTBOTTOMRIGHT:case _constants.Position.OUTBOTTOMOUTRIGHT:return containerHeight}};var _jquery=_interopRequireDefault(__webpack_require__("./node_modules/jquery/dist/jquery.js")),_immutable=_interopRequireDefault(__webpack_require__("./node_modules/immutable/dist/immutable.js")),_rgbcolor=_interopRequireDefault(__webpack_require__("./node_modules/rgbcolor/index.js")),_constants=__webpack_require__("./src/constants.js"),_imageUtils=__webpack_require__("./src/imageUtils.js");__webpack_require__("./src/polyfills.js");var _md=_interopRequireDefault(__webpack_require__("./node_modules/md5/md5.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function randomValue(values){return values[Math.floor(Math.random()*values.length)]}function showGenericQtip(targetElement,title,message,position){(0,_jquery.default)(targetElement).qtip({content:{text:"\n        <h4>".concat(title,"</h4>\n        <p>").concat(message,"</p>\n      "),title:{button:(0,_jquery.default)('<div class="tooltip-x-close"/>')}},position,style:{classes:"cdo-qtips",tip:{width:20,height:20}},hide:{event:"unfocus"},show:!1}).qtip("show")}function tryGetSessionStorage(key,defaultValue){if(void 0===defaultValue)throw"tryGetSessionStorage requires defaultValue";var returnValue=defaultValue;try{returnValue=sessionStorage.getItem(key)}catch(e){}return returnValue}function trySetSessionStorage(item,value){try{return sessionStorage.setItem(item,value),!0}catch(e){if("QuotaExceededError"!==e.name)throw e;return!1}}function currentLocation(){return window.location}exports.stripEncapsulatingDoubleQuotes=function stripEncapsulatingDoubleQuotes(inputString){return inputString.replace(/^"(.*)"$/,"$1")},Function.prototype.inherits=function(parent){this.prototype=Object.create(parent.prototype),this.prototype.constructor=this,this.superPrototype=parent.prototype};exports.findProfanity=function findProfanity(text,locale){var authenticityToken=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,request={url:"/profanity/find",method:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify({text,locale})};return authenticityToken&&(request.headers={"X-CSRF-Token":authenticityToken}),_jquery.default.ajax(request)};var Environments={production:"production",levelbuilder:"levelbuilder",test:"test",staging:"staging",adhoc:"adhoc",development:"development",unknown:"unknown"};function getEnvironment(){var hostname=currentLocation().hostname;return hostname.includes("adhoc")?Environments.adhoc:hostname.includes("test")?Environments.test:hostname.includes("levelbuilder")?Environments.levelbuilder:hostname.includes("staging")?Environments.staging:hostname.includes("localhost")||hostname.includes("127.0.0.1")?Environments.development:"code.org"===hostname||"studio.code.org"===hostname?Environments.production:Environments.unknown}},"./static/turtle/blank_sharing_drawing.png":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__.p+"blank_sharing_drawingwp0045715723f5808287c6c2c9a54f5d87.png"}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTU2MC40Y2EzMGU3OC5pZnJhbWUuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7dWlCQVEwQixDQUN4QkEsTUFBTyxFQUNQQyxRQUFTLEVBQ1RDLFNBQVUsRUFDVkMsUUFBUyxFQUNUQyxPQUFRLHVCQW1CaUIsQ0FFekJDLGNBQWUsRUFHZkMsYUFBYyxFQUNkQyxpQkFBa0IsRUFDbEJDLG9CQUFxQixFQUNyQkMsc0JBQXVCLEVBQ3ZCQyx5QkFBMEIsRUFDMUJDLHNCQUF1QixFQUN2QkMsbUJBQW9CLEVBQ3BCQyxrQkFBbUIsRUFDbkJDLHVCQUF3QixHQUN4QkMsa0JBQW1CLEdBQ25CQywwQkFBMkIsR0FDM0JDLGFBQWMsR0FDZEMsZ0JBQWlCLEdBQ2pCQyx1QkFBd0IsR0FDeEJDLDZCQUE4QixHQUM5QkMsK0JBQWdDLEdBQ2hDQyx1QkFBd0IsR0FDeEJDLGVBQWdCLEdBR2hCQywwQkFBMkIsRUFFM0JDLHFCQUFzQixFQUN0QkMsc0NBQXVDLEVBQ3ZDQyxxQkFBc0IsRUFDdEJDLHFCQUFzQixFQUN0QkMsbUJBQW9CLEVBQ3BCQyxvQkFBcUIsRUFDckJDLGtCQUFtQixFQUNuQkMsMEJBQTJCLEdBRzNCQyxxQkFBc0IsR0FFdEJDLFNBQVUsSUFHVkMsK0JBQWdDLElBQ2hDQyxlQUFnQixJQUtoQkMsb0JBQXFCLEdBR3JCQyxxQkFBc0IsR0FDdEJDLDZCQUE4QixHQUM5QkMsbUNBQW9DLEdBSXBDQyx1QkFBd0IsR0FHeEJDLFVBQVcsR0FDWEMsMkJBQTRCLEdBQzVCQyw0QkFBNkIsR0FDN0JDLFlBQWEsR0FDYkMsWUFBYSxHQUdiQyxTQUFVLElBR1ZDLHVCQUF3QixJQUd4QkMsa0JBQW1CLElBRW5CQyxpQkFBa0IsSUFFbEJDLHVCQUF3QixLQUN4QkMsdUJBQXdCLEtBR25CLElBQU1DLG9CQUFzQixDQUNqQ25ELFNBQVMsRUFDVEQsU0FBUyxFQUNUcUQsY0FBZUMsSUFDZkMsY0FBZSxFQUNmQyxhQUFjLEVBQ2RDLGlCQUFrQixFQUNsQkMsZUFBZ0IsRUFDaEJDLGdCQUFpQixFQUNqQkMsaUJBQWtCLEVBQ2xCQyxvQkFBcUIsRUFDckJDLG1CQUFvQixFQUNwQkMsMkJBQTRCLHFGQUdXLENBQ3ZDQyxXQUFZLEVBQ1pDLFdBQVksRUFDWkYsMkJBQTRCLG9CQUdOLENBQ3RCRyxVQUFXLEVBQ1hDLE1BQU8sR0FDUEMsTUFBTyxHQUNQQyxLQUFNLEdBQ05DLEdBQUksR0FDSkMsTUFBTyxHQUNQQyxLQUFNLEdBQ05DLEtBQU0sR0FDTkMsTUFBTyxHQUNQQyxPQUFRLHNCQUdjLENBQ3RCQyxjQUFlLEVBQ2ZDLFdBQVksRUFDWkMsYUFBYyxFQUNkQyxZQUFhLEVBQ2JDLGVBQWdCLEVBQ2hCQyxXQUFZLEVBQ1pDLFFBQVMsRUFDVEMsVUFBVyxFQUNYQyxTQUFVLEVBQ1ZDLFlBQWEsR0FDYkMsY0FBZSxHQUNmQyxXQUFZLEdBQ1pDLGFBQWMsR0FDZEMsWUFBYSxHQUNiQyxlQUFnQixHQUNoQkMsY0FBZSxHQUNmQyxXQUFZLEdBQ1pDLGFBQWMsR0FDZEMsWUFBYSxHQUNiQyxlQUFnQixHQUNoQkMsaUJBQWtCLEdBQ2xCQyxjQUFlLEdBQ2ZDLGdCQUFpQixHQUNqQkMsZUFBZ0IsR0FDaEJDLGtCQUFtQixtQkFJQyw4Q0FHcEIsZ0ZBRUEsMkZBRStCLDhCQUVBLGlEQUVNLG9DQUVYLGdEQUVZLENBQUMsZUFBZ0IsT0FBUSxtY0MvTGpFLCtoQ0FLYUMsS0FBQUEsV0FJWCxnQkFBMEIsSUFBZEMsUUFBYyx1REFBSixDQUFDLEVBQ3JCQyxLQUFLRCxRQUFVQSxPQUNoQix5Q0FVREUsSUFBQSxTQUFBQSxJQUFJQyxLQUErQixJQUExQkMsYUFBMEIsNERBQVhDLEVBQ3RCLE9BQUlGLEtBQU9BLE9BQU9GLEtBQUtELFFBQ2RDLEtBQUtELFFBQVFHLEtBRWZDLFlBQ1IsU0FPREUsSUFBQSxTQUFBQSxJQUFJSCxJQUFLSSxPQUNISixNQUNGRixLQUFLRCxRQUFRRyxLQUFPSSxNQUV2QixTQUtEQyxNQUFBLFNBQUFBLFFBQ0VQLEtBQUtELFFBQVUsQ0FBQyxDQUNqQixPQXZDVUQscUJBK0NiLElBQUlDLFFBQVUsQ0FBQyxHQUNYLEVBQUFTLGVBQUFBLGVBQWMsdUJBQ2hCVCxTQUFVLEVBQUFVLGVBQUFBLFNBQWMsc0JBRVgsSUFBSVgsS0FBS0Msd2RDZGpCLFNBQVNXLGlCQUFpQkMsV0FDL0IsSUFBTUMsT0FBU0MsU0FBU0MsY0FBYyxVQUt0QyxPQUpBRixPQUFPRyxNQUFRSixVQUFVSSxNQUN6QkgsT0FBT0ksT0FBU0wsVUFBVUssT0FDVkosT0FBT0ssV0FBVyxNQUMxQkMsYUFBYVAsVUFBVyxFQUFHLEdBQzVCQyxPQUFPTyxXQUNmLHdCQXpCTSxTQUFTQyxjQUFjQyxLQUFNQyxZQUNsQyxJQUFJQyxXQUFhLElBQUlDLFdBQ3JCRCxXQUFXRSxPQUFTLFNBQUFDLEdBQUMsT0FBSUosV0FBV0ksRUFBRUMsT0FBT0MsT0FBeEIsRUFDckJMLFdBQVdNLGNBQWNSLEtBQzFCLG9FQVNxQlMsZUFBZSxpRkErQ2ZDLGNBQWMsOEVBakM3QixTQUFTQyxvQkFBb0JDLFFBQVNDLFVBQzNDLElBQU1DLE1BQVEsSUFBSUMsTUFDWnpCLFVBQVksSUFBSXlCLE1BQ3RCekIsVUFBVTBCLElBQU1KLFFBQ2hCRSxNQUFNVixPQUFTLFdBQ2IsSUFBTWIsT0FBU0MsU0FBU0MsY0FBYyxVQUN0Q0YsT0FBT0csTUFBUW9CLE1BQU1wQixNQUNyQkgsT0FBT0ksT0FBU21CLE1BQU1uQixPQUN0QixJQUFNc0IsSUFBTTFCLE9BQU9LLFdBQVcsTUFDOUJxQixJQUFJQyxVQUFVSixNQUFPLEVBQUcsR0FDeEJHLElBQUlDLFVBQVU1QixVQUFXLElBQUssR0FBSSxJQUFLLEtBQ25DQyxPQUFPNEIsUUFDVDVCLE9BQU80QixPQUFPTixTQUVqQixFQUNEQyxNQUFNRSxJQUFNSSx1QkFBQUEsT0FDYiw4QkFyQ00sU0FBU0Msb0JBQW9CVCxTQUNsQyxPQUFPVSxRQUFRVixTQUFTVyxNQUFLLFNBQUFDLE9BQUssTUFBSyxDQUNyQ0MsRUFBR0QsTUFBTTlCLE1BQ1RnQyxFQUFHRixNQUFNN0IsT0FGdUIsR0FJbkMsNEJBb0pNLFNBQVNnQyxrQkFBa0IzQixNQUE4QixJQUF4QjRCLFNBQXdCLHVEQUFiLFlBQzNDQyxTQUFXckMsU0FBU0MsY0FBYyxLQUN4Q29DLFNBQVNDLEtBQU9DLElBQUlDLGdCQUFnQmhDLE1BQ3BDNkIsU0FBU0EsU0FBV0QsU0FDcEJDLFNBQVNJLE9BQ1YseUJBMUxNLFNBQVNDLGVBQWVDLElBQUtsQyxZQUNsQyxJQUFJbUMsSUFBTSxJQUFJQyxlQUNkRCxJQUFJRSxLQUFLLE1BQU9ILEtBQUssR0FDckJDLElBQUlHLGFBQWUsT0FDbkJILElBQUloQyxPQUFTLFNBQUFDLEdBQ2EsTUFBcEJBLEVBQUVDLE9BQU9rQyxPQUNYdkMsV0FBVyxLQUFNSSxFQUFFQyxPQUFPbUMsVUFFMUJ4QyxXQUNFLElBQUl5QyxNQUFKLGNBQWlCUCxJQUFqQixnQ0FBNEM5QixFQUFFQyxPQUFPa0MsU0FHMUQsRUFDREosSUFBSU8sUUFBVSxTQUFBdEMsR0FBQyxPQUNiSixXQUNFLElBQUl5QyxNQUFKLGdCQUNXckMsRUFBRUMsT0FBT2tDLE9BRHBCLDRDQUZXLEVBTWZKLElBQUlRLE1BQ0wsdUJBK0NNLFNBQVNDLGFBQWFDLEtBQTRDLElBQXZDQyxVQUF1Qyx1REFBM0IsWUFBYUMsUUFBYyx1REFBSixDQUFDLEVBQ3BFLE9BQU8sSUFBSUMsU0FBUSxTQUFBQyxTQUVqQixvS0FBcUMzQixNQUFLLFdBQ3hDdUIsSUFBSWhELFVBQVVpRCxVQUFkLCtCQUE2QkMsU0FBN0IsSUFBc0NuQyxTQUFVcUMsVUFDakQsR0FDRixHQUNGLGlGQXlGcUJDLFlBQVksZ0RBcktsQywrTUFDQSxza1hBb0NPLGlCQUE4QkMsS0FBOUIsbUpBQ2dCQyxTQUFTRCxLQUR6QixjQUNDN0QsT0FERCx1Q0FFRUEsT0FBT08sYUFGVCwrRUF5Q0EsU0FBU3dELGFBQWEvRCxRQUMzQixPQUFPLElBQUkwRCxTQUFRLFNBQUFDLFNBQ2pCM0QsT0FBTzRCLE9BQU8rQixRQUNmLEdBQ0YsK0ZBRU0sa0JBQTZCRSxLQUE3Qix3SkFDZ0JDLFNBQVNELEtBRHpCLGNBQ0M3RCxPQURELGdDQUVRK0QsYUFBYS9ELFFBRnJCLGtKQW9CZStCLFFBQVEsNkhBQXZCLGtCQUF1QmlDLE9BQXZCLDBJQUNEQSxpQkFBaUJDLGtCQURoQix5REFFSUQsT0FGSixVQU1ERSxRQUFVLG1CQUFRLElBRWxCRixpQkFBaUJHLE1BUmhCLHdCQVNIMUMsSUFBTWUsSUFBSUMsZ0JBQWdCdUIsT0FDMUJFLFFBQVUsMEJBQU0xQixJQUFJNEIsZ0JBQWdCSixNQUExQixFQVZQLGtDQVd1QixpQkFBVkEsTUFYYix5QkFZSHZDLElBQU11QyxNQVpILHNDQWNHLElBQUliLE1BQU0sb0NBZGIseUNBaUJFLElBQUlPLFNBQVEsU0FBQ0MsUUFBU1UsUUFDM0IsSUFBSXBDLE1BQVEsSUFBSVQsTUFDaEJTLE1BQU1wQixPQUFTLFdBQ2JxRCxVQUNBUCxRQUFRMUIsTUFDVCxFQUNEQSxNQUFNbUIsUUFBVSxTQUFVa0IsS0FDeEJKLFVBQ0FHLE9BQU9DLElBQ1IsRUFDRHJDLE1BQU1SLElBQU1BLEdBQ2IsS0E1QkksMkZBcUNlcUMsU0FBUyxnSUFBeEIsa0JBQXdCRSxPQUF4QiwySUFDREEsaUJBQWlCTyxtQkFEaEIseURBRUlQLE9BRkosZ0RBTWlCakMsUUFBUWlDLE9BTnpCLGNBTUcvQixNQU5ILGdCQU9HakMsT0FBU0MsU0FBU0MsY0FBYyxXQUMvQkMsTUFBUThCLE1BQU05QixNQUNyQkgsT0FBT0ksT0FBUzZCLE1BQU03QixPQUNOSixPQUFPSyxXQUFXLE1BQzFCc0IsVUFBVU0sTUFBTyxFQUFHLEdBWHpCLDBCQVlJakMsUUFaSixnRUFjRyxJQUFJbUQsTUFBTSxzQ0FBd0MsVUFBeEMsSUFkYiwwTEF3QkEsa0JBQTJCYSxPQUEzQixxSUFDREEsaUJBQWlCUSxXQURoQix5REFFSVIsT0FGSixnREFNa0JGLFNBQVNFLE9BTjNCLGNBTUdoRSxPQU5ILHlDQU9JQSxPQUNKSyxXQUFXLE1BQ1hvRSxhQUFhLEVBQUcsRUFBR3pFLE9BQU9HLE1BQU9ILE9BQU9JLFNBVHhDLDhEQVdHLElBQUkrQyxNQUFNLHlDQUEyQyxVQUEzQyxJQVhiLDRNQ3JLUCxrS0FNS29CLGtCQUFrQkcsVUFBVTlDLFFBQy9CK0MsT0FBT0MsZUFBZUwsa0JBQWtCRyxVQUFXLFNBQVUsQ0FDM0RoRixNQUFPLFNBQVMsTUFBQzRCLFNBQVV1RCxLQUFNQyxTQUkvQixJQUhBLElBQU1DLE9BQVNDLEtBQUs1RixLQUFLbUIsVUFBVXNFLEtBQU1DLFNBQVNHLE1BQU0sS0FBSyxJQUN2REMsSUFBTSxJQUFJQyxXQUFXSixPQUFPSyxRQUV6QkMsRUFBSSxFQUFHQSxFQUFJTixPQUFPSyxPQUFRQyxJQUNqQ0gsSUFBSUcsR0FBS04sT0FBT08sV0FBV0QsR0FJN0IvRCxTQURhLElBQUk2QyxLQUFLLENBQUNlLEtBQU0sQ0FBQ0wsS0FBTUEsTUFBUSxjQUU3QyxTQVErQ3JGLElBQWhEK0YsV0FBV2IsVUFBVWMseUJBQ3ZCRCxXQUFXYixVQUFVYyx1QkFBeUIsU0FBVUMsV0FDdEQsT0FBT3JHLEtBQUtzRyxpQkFBaUIsSUFBTUQsVUFDcEMsR0FNRXhGLFNBQVMwRixVQUNaQyxTQUFBQSxRQUFnQkMsUUFBUUMsdUtDNUIxQixpREFDQSxtR0FDQSxvRkFDQSxxSkFFQSxJQUFNQyxZQUFjQyxvQkFBUSx3Q0FFdEJDLFlBQWNDLE9BQU9DLGlCQUVaRixxQ0FNZkEsWUFBWUcsY0FBZ0IsZUFDNUJILFlBQVlJLHdDQUNWLHNDQUNGSixZQUFZSyxpQ0FBbUMsZ0NBQy9DTCxZQUFZTSxrQ0FDVixvQ0FDRk4sWUFBWU8saURBQ1YsbURBQ0ZQLFlBQVlRLHNCQUF3Qix3QkFDcENSLFlBQVlTLGNBQWdCLHlCQUM1QlQsWUFBWVUsV0FBYSxhQUN6QlYsWUFBWVcsb0JBQXNCLHNCQUNsQ1gsWUFBWVksY0FBZ0IsZ0JBQzVCWixZQUFZYSx5QkFBMkIsdUJBR3ZDYixZQUFZYyx1QkFBeUIsaUJBQ3JDZCxZQUFZZSxzQkFBd0Isc0JBRXBDZixZQUFZZ0IsdUJBQXlCLFNBRXJDaEIsWUFBWWlCLGVBQWlCLGlCQUM3QmpCLFlBQVlrQixXQUFhLGFBQ3pCbEIsWUFBWW1CLGVBQWlCLGlCQUU3Qm5CLFlBQVlvQixnQkFBa0IsV0FFOUJwQixZQUFZcUIsZUFBaUIsaUJBRTdCckIsWUFBWXNCLGdCQUFrQixVQUU5QnRCLFlBQVl1QixvQkFBc0IsbUJBRWxDdkIsWUFBWXdCLG9CQUFzQixzQkFFbEN4QixZQUFZeUIsc0JBQXdCLHdCQU9wQ3pCLFlBQVkwQixjQUFnQixlQUs1QjFCLFlBQVkyQixnQkFBa0IsV0FDNUIsT0FBTzlCLE9BQU8rQixTQUFTQyxNQUN4QixFQUVEN0IsWUFBWThCLHNCQUF3QixXQUVsQyxJQUFNQyxrQkFBb0JDLFVBQUFBLFFBQU81SSxJQUFJLGVBQWlCeUcsT0FBT29DLGlCQUN2REMsZ0JBQWtCSCxrQkFDcEJJLEtBQUtDLE1BQU1DLG1CQUFtQk4sb0JBQW9CTyxLQUFJLFNBQUFDLE1BQUksTUFBSyxDQUM3RGxKLElBQUtrSixLQURtRCxJQUcxRCxHQUdKLElBQ0UsSUFBTUMsU0FBV0MsYUFBYUMsUUFuRWQsbUJBb0VWQyxrQkFBb0JILFNBQVdMLEtBQUtDLE1BQU1JLFVBQVksR0FDdERJLElBQU1DLEtBQUtELE1BQ1hFLG1CQUFxQkgsa0JBQWtCSSxRQUFPLFNBQUFDLFlBQ2xELE9BQ0VBLFdBQVczSixXQUNnQkUsSUFBMUJ5SixXQUFXQyxZQUE0QkQsV0FBV0MsV0FBYUwsSUFFbkUsSUFJRCxPQUhJRSxtQkFBbUIzRCxPQUFTd0Qsa0JBQWtCeEQsU0FDaEQsRUFBQStELE9BQUFBLG9CQTdFYyxrQkE2RWtCZixLQUFLZ0IsVUFBVUwscUJBRTFDWixnQkFBZ0JrQixPQUFPTixtQkFDL0IsQ0FBQyxNQUFPakksR0FDUCxPQUFPcUgsZUFDUixDQUNGLEVBRURsQyxZQUFZcUQsc0JBQXdCLFdBQ2xDLE9BQU9sSyxLQUFLMkksd0JBQXdCUSxLQUFJLFNBQUFVLFlBQVUsT0FBSUEsV0FBVzNKLEdBQWYsR0FDbkQsRUFFRDJHLFlBQVlzRCxXQUFhLFNBQVVqSyxJQUFLa0ssY0FBc0MsSUFBeEJOLFdBQXdCLDREQUFYMUosRUFDM0RpSyxXQUFhckssS0FBSzJJLHdCQUNsQjJCLGdCQUFrQkQsV0FBV0UsV0FDakMsU0FBQVYsWUFBVSxPQUFJQSxXQUFXM0osTUFBUUEsR0FBdkIsSUFFWixHQUFJa0ssYUFDRUUsZ0JBQWtCLEdBQ3BCRCxXQUFXRyxLQUFLLENBQUN0SyxJQUFLNEosY0FDdEIsRUFBQVcsWUFBQUEsU0FoR1csY0FnR1UsU0FBVXZLLE1BRS9CbUssV0FBV0MsaUJBQWlCUixXQUFhQSxlQUV0QyxNQUFJUSxpQkFBbUIsR0FJNUIsT0FIQUQsV0FBV0ssT0FBT0osZ0JBQWlCLElBQ25DLEVBQUFHLFlBQUFBLFNBdEdhLGNBc0dRLFVBQVd2SyxJQUdqQyxFQUNELEVBQUE2SixPQUFBQSxvQkEzR2tCLGtCQTJHY2YsS0FBS2dCLFVBQVVLLFlBQ2hELEVBVUR4RCxZQUFZOEQsNkJBQStCLFNBQVV6SyxLQUluRCxRQUhjeUcsWUFBWXNDLE1BQU1qSixLQUFLd0ksbUJBRzNCdEksTUFNSDJHLFlBQVkrRCxVQUFVMUssSUFDOUIsRUFPRDJHLFlBQVkrRCxVQUFZLFNBQVUxSyxLQUNoQyxJQUNJMkssUUFEc0I3SyxLQUFLMkksd0JBRVhtQyxNQUFLLFNBQUFqQixZQUFVLE9BQUlBLFdBQVczSixNQUFRQSxHQUF2QixRQUUvQndHLE9BQU9xRSxZQUNQckUsT0FBT3FFLFdBQVdsRSxhQUNsQkgsT0FBT3FFLFdBQVdsRSxZQUFZbUUsU0FBUzlLLE1BSTNDMkssUUFBVUEsV0FBYS9LLE1BQUFBLFFBQUtHLElBQUlDLEtBQUssR0FFckMsSUFBTStLLE1BQVF0RSxZQUFZc0MsTUFBTWpKLEtBQUt3SSxtQkFDL0IwQyxZQUFjRCxNQUFLLGtCQUNuQkUsYUFBZUYsTUFBSyxtQkFDcEJHLGdCQUFrQkgsTUFBSyxzQkFFekJDLGNBQzBCQSxZQUFZckYsTUFBTSxLQUN0QndGLFFBQVFuTCxNQUFRLElBQ3RDMkssU0FBVSxFQUNWN0ssS0FBS21LLFdBQVdqSyxLQUFLLEtBSXJCaUwsZUFDMkJBLGFBQWF0RixNQUFNLEtBQ3ZCd0YsUUFBUW5MLE1BQVEsSUFDdkMySyxTQUFVLEVBQ1Y3SyxLQUFLbUssV0FBV2pLLEtBQUssS0FJekIsR0FBSWtMLGdCQUFpQixDQUNuQixJQUFNRSxlQUFpQixJQUFJNUIsS0FDM0I0QixlQUFlQyxTQUNiRCxlQUFlRSxXQTNLYSxJQTZLOUIsSUFBTTFCLFdBQWF3QixlQUFlRyxVQUVOTCxnQkFBZ0J2RixNQUFNLEtBQzFCd0YsUUFBUW5MLE1BQVEsSUFDdEMySyxTQUFVLEVBQ1Y3SyxLQUFLbUssV0FBV2pLLEtBQUssRUFBTTRKLFlBRTlCLENBRUQsT0FBT2UsT0FDUix3TEMxTGMsU0FBU3BLLGNBQWMySSxNQUNwQ0EsS0FBT0EsS0FBS3NDLGNBQ1osSUFBTUMsT0FBUzlLLFNBQVMrSyxjQUFULHNCQUFzQ3hDLEtBQXRDLE1BQ2YsSUFDRSxPQUFPSixLQUFLQyxNQUFNMEMsT0FBT0UsUUFBUXpDLE1BQ2xDLENBQUMsTUFBTzFILEdBRVAsTUFEQW9LLFFBQVFDLE1BQU0seUNBQTBDM0MsTUFDbEQxSCxDQUNQLENBQ0Ysd0JBRU0sU0FBU2xCLGNBQWM0SSxNQUM1QixRQUFTdkksU0FBUytLLGNBQWN4QyxLQUNqQyxnS0MzQmMsU0FBUzRDLDRCQUE0QkMsT0FBUUMsUUFDMUQsSUFBS3JGLGFBQUFBLFFBQVkrRCxVQUFVL0QsYUFBQUEsUUFBWVMsZUFDckMsT0FBTzJFLE9BR1QsSUFBTUUsa0JBQW9CLENBQUMsRUFTM0IsT0FQQTVHLE9BQU82RyxLQUFLSCxRQUFRSSxTQUFRLFNBQVVDLFVBQVdDLE9BQy9DSixrQkFBa0JHLFdBQWEsU0FBVUUsR0FDdkMsSUFBTWxNLE1BQVEyTCxPQUFPSyxXQUFXRSxHQUVoQyxPQVNOLFNBQVNDLElBQUlILFVBQVdKLFFBQ3RCLElBQUtJLFlBQWNKLE9BQ2pCLFFBSUYsRUFBQVEseUJBQUFBLDhCQUE2QkQsSUFBSUgsVUFBV0osT0FDN0MsQ0FqQktPLENBQUlILFVBQVdKLFFBQ1I1TCxLQUNSLENBQ0YsSUFDTTZMLGlCQUNSLEVBbEJELHNKQUNBLDZUQ0tPLFNBQVNPLDZCQUNkLE9BQU8sSUFBSUMsdUJBQ1osRUFSRCxnRUFhTUEsd0JBQUFBLFdBQ0osbUNBRUUsSUFBTUMsU0FBVzVNLEtBQUs2TSxZQUFZRCxTQUNsQyxHQUFJQSxTQUNGLE9BQU9BLFNBSVQ1TSxLQUFLNk0sWUFBWUQsU0FBVzVNLEtBWTVCQSxLQUFLOE0sT0FBUyxDQUFDLENBQ2hCLDREQU9ETCxJQUFBLFNBQUFBLElBQUlILFVBQVdKLFFBQVEsZUFDaEJJLFdBQWNKLFNBSW5CbE0sS0FBSzhNLE9BQU9aLFFBQVVsTSxLQUFLOE0sT0FBT1osU0FBVyxJQUFJYSxJQUNqRC9NLEtBQUs4TSxPQUFPWixRQUFRYyxJQUFwQixVQUEyQmQsT0FBM0IsWUFBcUNJLFlBR2hDdE0sS0FBS2lOLGVBQ1JqTixLQUFLaU4sYUFBZUMsWUFBVyxrQkFBTSxNQUFLQyxPQUFYLEdBQW9CLE1BRXRELFNBR0RBLE1BQUEsU0FBQUEsUUFFRSxHQUF3QyxJQUFwQzVILE9BQU82RyxLQUFLcE0sS0FBSzhNLFFBQVE5RyxPQUE3QixDQUtBLElBQU1vSCxRQUFVcE4sS0FBSzhNLE9BQ3JCOU0sS0FBSzhNLE9BQVMsQ0FBQyxFQUNmOU0sS0FBS2lOLGFBQWUsS0FHb0IsSUFBcENJLEtBQUtDLE1BQXNCLElBQWhCRCxLQUFLRSxXQWN4QixTQUFTQyxZQUFZSixTQUNuQixJQUFJSyxlQUFpQi9HLE9BQU8rQixTQUFTaUYsT0FDaENELGlCQUNIQSxlQUNFL0csT0FBTytCLFNBQVNrRixTQUNoQixLQUNBakgsT0FBTytCLFNBQVNtRixVQUNmbEgsT0FBTytCLFNBQVNvRixLQUFPLElBQU1uSCxPQUFPK0IsU0FBU29GLEtBQU8sS0FHekQsSUFBTXJLLElBQU1pSyxlQUFpQi9HLE9BQU8rQixTQUFTcUYsU0FFN0N2SSxPQUFPNkcsS0FBS2dCLFNBQVNmLFNBQVEsU0FBQUgsUUFHM0IsSUFGQSxJQUFNNkIsV0FBYUMsTUFBTUMsS0FBS2IsUUFBUWxCLFNBRTdCakcsRUFBSSxFQUFHQSxFQUFJOEgsV0FBVy9ILE9BQVFDLEdBQUtpSSxhQUFjLENBQ3hELElBQU1DLGVBQWlCSixXQUFXSyxNQUFNbkksRUFBR2lJLGNBQzNDRyxNQUFNLDJCQUE0QixDQUNoQ0MsT0FBUSxPQUNSQyxRQUFTLENBQ1AsZUFBZ0Isb0JBRWxCQyxLQUFNeEYsS0FBS2dCLFVBQVUsQ0FDbkJ4RyxJQUNBMEksT0FDQXVDLFlBQWFOLGtCQUdsQixDQUNGLEdBQ0YsQ0ExQ0tYLENBQVlKLFFBVmIsQ0FZRiwwQkE1REdULEdBZ0VBdUIsYUFBZSwrR0NuRXJCLGdHQUNBLG9MQUVBLElBQUlqQyxRQUFTLEVBQUF5QyxnQkFBQUEsU0FBZSxpQkFDNUJ6QyxRQUFTLEVBQUFELG1CQUFBQSxTQUE0QkMsT0FBUSxVQUM3Q25GLE9BQU9DLFFBQVVrRiw4SUNORixTQUFTeUMsZUFBZUMsV0FDckMsT0FBSWpJLE9BQU9rSSxTQUFXbEksT0FBT2tJLFFBQVFELFdBQzVCakksT0FBT2tJLFFBQVFELFlBRXRCN0MsUUFBUStDLEtBQ04sa0tBTUssQ0FBQyxFQUVYLG9LQ2pCYyxTQUFTcEUsYUFBb0IsWUFJeEMsZUFFRixRQUFBL0QsUUFBTytELFdBQVAsd0JBQ0QsOExDNHJCTSxTQUFTcUUsT0FBT0MsTUFBT0MsYUFDNUIsSUFBTUMsU0FBV0YsTUFBTW5GLFFBQU8sU0FBQTlHLEdBQUMsT0FBSWtNLFlBQVlsTSxFQUFoQixJQUN6Qm9NLFNBQVdILE1BQU1uRixRQUFPLFNBQUE5RyxHQUFDLE9BQUtrTSxZQUFZbE0sRUFBakIsSUFDL0IsTUFBTyxDQUFDbU0sU0FBVUMsU0FDbkIscUNBcUlNLFNBQVNDLDJCQUEyQkMsUUFBU0MsUUFBU0MsU0FDM0QsSUFBTUMsS0FBT0gsUUFBUUksd0JBQ3JCLE1BQU8sQ0FDTDFNLEVBQUd1SyxLQUFLb0MsT0FBUUosUUFBVUUsS0FBS0csTUFBUU4sUUFBUU8sWUFBZUosS0FBS3hPLE9BQ25FZ0MsRUFBR3NLLEtBQUtvQyxPQUFRSCxRQUFVQyxLQUFLSyxLQUFPUixRQUFRUyxhQUFnQk4sS0FBS3ZPLFFBRXRFLGdDQXZ5Qk0sU0FBUzhPLHNCQUFzQkMsUUFDcEMsT0FBTy9HLEtBQUtDLE1BQU1ELEtBQUtnQixVQUFVK0YsUUFDbEMsc0JBd2ZNLFNBQVNDLFlBQVl2SyxNQUEyQyxJQUNqRXdLLFlBRDRCQyxRQUFxQyx3REFBcEJDLFdBQW9CLHdEQUVyRSxJQUNFRixZQUFjLElBQUlHLE1BQU0zSyxLQUFNLENBQUN5SyxRQUFTQyxZQUN6QyxDQUFDLE1BQU96TyxJQUNQdU8sWUFBY3BQLFNBQVNtUCxZQUFZLFVBQ3ZCSyxVQUFVNUssS0FBTXlLLFFBQVNDLFdBQ3RDLENBQ0QsT0FBT0YsV0FDUixrQ0FrUk0sU0FBU0ssd0JBQXdCak8sTUFDdEMsRUFBQVAsWUFBQUEsZ0JBQWVPLEtBQUtPLE1BQUssU0FBQTJOLE1BQ3ZCLElBQUlDLFFBQVMsRUFBQUMsUUFBQUEsU0FDWCxxRUFFRkQsT0FBT0UsU0FBUyxRQUNoQkYsT0FBTyxHQUFHRyxjQUFjOVAsU0FBUytQLE1BQWpDLG9CQUNlTCxLQURmLGdJQUdELEdBQ0YscUJBOW1CTSxTQUFTTSxhQUNkLE1BQU8sdUNBQXVDQyxRQUFRLFNBQVMsU0FBVUMsR0FDdkUsSUFBSUMsRUFBcUIsR0FBaEIzRCxLQUFLRSxTQUFpQixFQUUvQixPQURZLE1BQU53RCxFQUFZQyxFQUFTLEVBQUpBLEVBQVcsR0FDekJDLFNBQVMsR0FDbkIsR0FDRix3RUF1U00sU0FBU0Msc0JBQXNCQyxXQUFZQyxXQWFoRCxPQURvQkMsV0FBQUEsUUFBVUMsT0FBT0gsWUFDaEJJLFdBWnJCLFNBQVNDLGlCQUFpQkMsRUFBR0MsR0FDM0IsSUFBTUMsT0FBU04sV0FBQUEsUUFBVU8sS0FBS0QsT0FDOUIsT0FBSUEsT0FBT0YsSUFBTUUsT0FBT0QsR0FDZkQsRUFBRXhILE9BQU95SCxHQUVkRCxHQUFLQSxFQUFFRixVQUNGRSxFQUFFRixVQUFVQyxpQkFBa0JFLEdBRWhDQSxDQUNSLEdBR2dETixXQUFXUyxNQUM3RCxvQkFwQ00sU0FBU0MsVUFBVUMsVUFBV0MsV0FDbkMsR0FBSUQsV0FBYUEsVUFBVS9MLE9BQVNnTSxVQUNsQyxPQUFPRCxVQUFVRSxPQUFPLEVBQUdELFVBQVksR0FBSyxNQUU5QyxPQUFPRCxXQUFhLEVBQ3JCLHFCQXJaTSxTQUFTRyxXQUFXQyxRQUN6QixPQUFPQSxPQUNIQSxPQUNHckIsUUFBUSxLQUFNLFNBQ2RBLFFBQVEsS0FBTSxRQUNkQSxRQUFRLEtBQU0sUUFDZEEsUUFBUSxLQUFNLFVBQ2RBLFFBQVEsS0FBTSxTQUNkQSxRQUFRLE1BQU8sU0FDbEIsRUFDTCxxQkE4Tk0sU0FBU3NCLFdBQVdDLE1BQ3pCLElBQUlDLFlBQWNELEtBQUtwQixXQVFuQnNCLE9BSkpELGFBREFBLGFBREFBLGFBREFBLFlBQWNBLFlBQVl4QixRQUFRLEtBQU0sVUFDZEEsUUFBUSxLQUFNLFNBQ2RBLFFBQVEsS0FBTSxTQUNkQSxRQUFRLFFBQVMsWUFJbkJqTCxNQUFNLE1BQzFCMk0sTUFBUUQsTUFBTSxHQUNkRSxLQUFPRixNQUFNbkUsTUFBTSxHQUdGLElBQWpCb0UsTUFBTXhNLFFBQWdCdU0sTUFBTXZNLE9BQVMsSUFDdkN3TSxNQUFRLFFBSVYsT0FDRUEsTUFDQUMsS0FDR3RKLEtBQUksU0FBVXVKLE1BQ2IsTUFBTyxTQUFXQSxLQUFLMU0sT0FBUzBNLEtBQU8sUUFBVSxRQUNsRCxJQUNBQyxLQUFLLEdBRVgsK0JBOU5NLFNBQVNDLHFCQUFxQjVELFlBQWE2RCxJQUNoRCxPQUFPLFdBQ0wsR0FBSTdELGNBQ0YsT0FBTzZELEdBQUdDLE1BQU05UyxLQUFNK1MsVUFFekIsQ0FDRixpQkEzRE0sU0FBU0MsT0FBT0MsU0FBVTVPLFNBQy9CLElBQUk2TyxhQUFlbk0sUUFBUW9NLFlBQVlGLFVBQ3ZDLElBQUssSUFBSUcsUUFBUS9PLFFBQ2Y2TyxhQUFhRSxNQUFRL08sUUFBUStPLE1BRy9CLE9BQU9GLFlBQ1IsNkJBODFCTSxTQUFTRyxxQkFBbUMsSUFBaEJDLE9BQWdCLHdEQUNqRCxPQUFPakYsTUFBTSw2QkFBRCxPQUNtQmlGLE9BQVMsU0FBSCxPQUFZNUosS0FBS0QsT0FBVSxJQUM5RCxDQUNFOEosWUFBYSxlQUdsQixvQ0FvQk0sU0FBU0MsNEJBQTZDLElBQW5CekksV0FBbUIsdURBQU4sS0FDckQsSUFBS0EsYUFBZUEsV0FBVzBJLE1BQzdCLE1BQU8sR0FLVCxJQUhBLElBQU1DLGlCQUFtQixJQUFJM0csSUFHN0IsbUJBRHFCLENBQUMsY0FBZSxXQUNyQyw2QkFBMEMsdUJBQS9CNEcsY0FBYSxrQkFDaEJDLFVBQVMsMEJBQUc3SSxXQUFXMEksYUFBZCw2QkFBRyxrQkFBbUJFLGVBRXJDLElBQ0UsSUFBS0MsVUFDSCxPQUdhLElBQUlDLFdBQ0dDLGdCQUFnQkYsVUFBVyxZQUdwQnROLGlCQUFpQixTQUNoQytGLFNBQVEsU0FBQTBILGNBQ3BCLElBQU1DLFlBQWNELGFBQWFFLGFBQWEsTUFDMUNELGFBQ0ZOLGlCQUFpQjFHLElBQUlnSCxZQUV4QixHQUNGLENBQUMsTUFBT2pJLE9BRVBELFFBQVFDLE1BQVIsZ0NBQXVDNEgsY0FBdkMsS0FBeUQ1SCxNQUMxRCxDQUNGLENBRUQsT0FBTzJILGdCQUNSLHVEQWh4Qk0sU0FBU1Esa0JBQ2QsSUFBSUMsR0FBS3RULFNBQVNtUCxZQUFZLFNBQzlCbUUsR0FBRzlELFVBQVUsVUFBVSxHQUFNLEdBQzdCM0osT0FBTzBOLGNBQWNELEdBQ3RCLGtCQXFlTSxTQUFTRSxRQUFRdEYsT0FDdEIsT0FBT0EsTUFBTXVGLFFBQ1gsU0FBQ0MsS0FBTUMsV0FBUCxPQUNFRCxLQUFLdEssT0FBTytELE1BQU15RyxRQUFRRCxXQUFhSCxRQUFRRyxXQUFhQSxVQUQ5RCxHQUVBLEdBRUgsNEJBOE9NLFNBQVNFLG9CQUtkLElBSkEsSUFBTUMsZ0JBQ0osaUVBRUlDLEdBQUssR0FDRjNPLEVBQUksRUFBR0EsRUFGQyxHQUVhQSxJQUM1QjJPLEdBQUdwSyxLQUNEbUssZ0JBQWdCRSxPQUFPeEgsS0FBS0MsTUFBc0JxSCxHQUFoQnRILEtBQUtFLFlBRzNDLE9BQU9xSCxHQUFHakMsS0FBSyxHQUNoQix5REFySk0sU0FBU21DLFdBQ2QsSUFBSUMsTUFBUUMscUJBQXFCLFNBQVMsR0FDMUMsR0FBSUQsTUFDRixPQUFPQSxNQUdULE9BREFFLHFCQUFxQixRQUFTNUgsS0FBS0UsU0FBVyxJQUN2Q3lILHFCQUFxQixTQUFTLEVBQ3RDLHFCQWlETSxTQUFTRSxXQUFXQyxLQUN6QixPQUFPLEVBQUFDLElBQUFBLFNBQUlELElBQ1osNEJBM0VNLFNBQVNFLGtCQUFrQnBILEtBQU1xSCxHQUFJaFYsT0FDMUMsSUFBTWlWLFFBQVUsSUFBSUMsVUFBQUEsUUFBU3ZILE1BQ3ZCd0gsTUFBUSxJQUFJRCxVQUFBQSxRQUFTRixJQUNyQnRFLEVBQUkzRCxLQUFLb0MsTUFBTThGLFFBQVF2RSxHQUFLLEVBQUkxUSxPQUFTbVYsTUFBTXpFLEVBQUkxUSxPQUNuRG9WLEVBQUlySSxLQUFLb0MsTUFBTThGLFFBQVFHLEdBQUssRUFBSXBWLE9BQVNtVixNQUFNQyxFQUFJcFYsT0FDbkRvUixFQUFJckUsS0FBS29DLE1BQU04RixRQUFRN0QsR0FBSyxFQUFJcFIsT0FBU21WLE1BQU0vRCxFQUFJcFIsT0FDekQsTUFBTyxPQUFQLE9BQWMwUSxFQUFkLGFBQW9CMEUsRUFBcEIsYUFBMEJoRSxFQUExQixJQUNELGtCQWlGTSxTQUFTaUUsUUFBUVIsS0FDdEIsUUFBV0EsS0FBc0IsS0FBZkEsSUFBSVMsT0FDdkIsbUNBb0NNLFNBQVNDLDJCQUNkLE9BQU9DLG1CQUFxQkMsYUFBYUMsV0FDMUMsbUNBNXFCTSxTQUFTQyx5QkFBeUIvUSxLQUV2QyxHQUNFQSxlQUFlZ1IsWUFDZixvQ0FBb0NDLEtBQUtqUixJQUFJa1IsU0FFN0MsT0FBTyxFQU9ULEdBQzJCLG9CQUFsQkMsZUFDUG5SLGVBQWVtUixlQUNDLHVCQUFoQm5SLElBQUlrUixRQUVKLE9BQU8sRUFLVCxHQUFJbFIsZUFBZW5CLE9BQXlCLHVCQUFoQm1CLElBQUlrUixRQUM5QixPQUFPLEVBR1QsT0FBTyxDQUNSLGtDQTBwQk0sU0FBU0UsMEJBQ2QsT0FBT1IsbUJBQXFCQyxhQUFhUSxVQUMxQywrQkFWTSxTQUFTQyx1QkFDZCxPQUFPVixtQkFBcUJDLGFBQWFVLE9BQzFDLHdCQS81Qk0sU0FBU0MsY0FBY0MsU0FBVUMsYUFDdEMsSUFBSUMsV0FBYSxFQUNmQyxTQUFXLEVBQ2IsS0FBT0EsU0FBV0YsWUFBWTVRLFFBQVEsQ0FDcEMsS0FDRTZRLFdBQWFGLFNBQVMzUSxRQUN0QjRRLFlBQVlFLFlBQWNILFNBQVNFLGFBRW5DQSxhQUVGLEdBQUlBLFlBQWNGLFNBQVMzUSxPQUV6QixPQUFPLEVBRVQ4USxXQUNBRCxZQUNELENBQ0QsT0FBTyxDQUNSLDRCQSs0Qk0sU0FBU0Usb0JBQ2QsT0FBT2pCLG1CQUFxQkMsYUFBYUksSUFDMUMsc0JBcFJNLFNBQVNhLFlBQVl2RixFQUFHQyxHQUM3QixJQUFLRCxJQUFNQyxFQUNULE9BQVFELEdBQUtDLEdBQUcxTCxPQUlsQixJQURBLElBQU1pUixPQUFTLEdBQ05oUixFQUFJLEVBQUdBLEdBQUt5TCxFQUFFMUwsT0FBUUMsSUFFN0IsR0FEQWdSLE9BQU9oUixHQUFLLENBQUNBLEdBQ0gsSUFBTkEsRUFJSixJQUFLLElBQUlpUixFQUFJLEVBQUdBLEdBQUt6RixFQUFFekwsT0FBUWtSLElBQzdCRCxPQUFPLEdBQUdDLEdBQUtBLEVBQ0wsSUFBTkEsSUFJSkQsT0FBT2hSLEdBQUdpUixHQUNSeEYsRUFBRW1ELE9BQU81TyxFQUFJLEtBQU93TCxFQUFFb0QsT0FBT3FDLEVBQUksR0FDN0JELE9BQU9oUixFQUFJLEdBQUdpUixFQUFJLEdBQ2xCN0osS0FBSzhKLElBQ0hGLE9BQU9oUixFQUFJLEdBQUdpUixFQUFJLEdBQUssRUFDdkJELE9BQU9oUixHQUFHaVIsRUFBSSxHQUFLLEVBQ25CRCxPQUFPaFIsRUFBSSxHQUFHaVIsR0FBSyxJQUsvQixPQUFPRCxPQUFPdkYsRUFBRTFMLFFBQVF5TCxFQUFFekwsT0FDM0IsOEJBa0ZNLFNBQVNvUixvQkFBb0JDLE1BQ2xDLElBQU1DLFlBQWM1USxPQUFPK0IsU0FBU0MsUUFBVSxHQUM5QyxPQUFPMk8sS0FBT0MsV0FDZixtQkFsVE0sU0FBU0MsV0FHZCxJQUZBLElBQ0VyWCxJQURFMEIsT0FBUyxDQUFDLEVBRUxxRSxFQUFJLEVBQUdBLEVBQUk4TSxVQUFVL00sT0FBUUMsSUFBSyxDQUV6QyxHQUFJckUsT0FESjFCLElBQU1zWCxPQUFPekUsVUFBVTlNLEtBRXJCLE1BQU0sSUFBSWxDLE1BQ1IsUUFBVTdELElBQU0sNENBR3BCMEIsT0FBTzFCLEtBQU9BLEdBQ2YsQ0FDR3FGLE9BQU9rUyxRQUNUbFMsT0FBT2tTLE9BQU83VixRQUVoQixPQUFPQSxNQUNSLGNBdFhNLFNBQVM4VixJQUFJQyxPQUFRRCxLQUMxQixPQUFTQyxPQUFTRCxJQUFPQSxLQUFPQSxHQUNqQyx5QkFxbkJNLFNBQVNFLGVBQWV6VSxNQUUzQnVELE9BQU8rQixTQUFTdEYsS0FBT0EsSUFFMUIsb0JBM0xNLFNBQVMwVSxVQUFVQyxRQUN4QixJQUFJQyxJQUFNMUssS0FBSzJLLEtBQUtGLE9BQU9oVixFQUFJZ1YsT0FBT2hWLEVBQUlnVixPQUFPL1UsRUFBSStVLE9BQU8vVSxHQUM1RCxHQUFZLElBQVJnVixJQUNGLE9BQU9ELE9BRVQsTUFBTyxDQUNMaFYsRUFBR2dWLE9BQU9oVixFQUFJaVYsSUFDZGhWLEVBQUcrVSxPQUFPL1UsRUFBSWdWLElBRWpCLGdCQTVnQk0sU0FBU0UsTUFBTTlDLEtBQ3BCLE1BQU8sSUFBTUEsSUFBTSxHQUNwQixvQkEwSk0sU0FBUytDLFVBQVVDLEtBQ3hCLE9BQU9DLFlBQVk3UyxPQUFPNkcsS0FBSytMLEtBQ2hDLGdEQXBGTSxTQUFTRSxNQUFNQyxNQUFPQyxLQUUzQixJQURBLElBQUlDLEtBQU8sR0FDRnZTLEVBQUlxUyxNQUFPclMsR0FBS3NTLElBQUt0UyxJQUM1QnVTLEtBQUtoTyxLQUFLdkUsR0FFWixPQUFPdVMsSUFDUixpQkF1bEJNLFNBQVNDLFNBQ2QvUixPQUFPK0IsU0FBU2dRLFFBQ2pCLHNCQXdETSxTQUFTQyxZQUFZdEosU0FDMUIsSUFBS0EsUUFDSCxPQUVGLElBQU0vTSxJQUFNK00sUUFBUS9NLElBQ3BCK00sUUFBUS9NLElBQU0sSUFDZDZLLFlBQVcsa0JBQU9rQyxRQUFRL00sSUFBTUEsR0FBckIsR0FBMkIsRUFDdkMsc0JBM3ZCTSxTQUFTOFEsWUFBWWpILFFBQzFCLElBQUl0SyxPQUFTLENBQUMsRUFDZCxJQUFLLElBQUl3UixRQUFRbEgsT0FDZnRLLE9BQU93UixNQUFRbEgsT0FBT2tILE1BR3hCLE9BQU94UixNQUNSLHNFQThWTSxTQUFTK1csb0JBQW9CQyxlQUNsQyxJQUFNQyxJQUFNalMsb0JBQVEsc0NBQ2RrUyxNQUFRRCxJQUFJRSwwQkFDWjNDLFFBQVV5QyxJQUFJRyx5QkFNcEJDLGdCQUFnQkwsY0FBZUUsTUFBTzFDLFFBTHJCLENBQ2Y4QyxHQUFJLGNBQ0pDLEdBQUksYUFJUCx5QkFoVk0sU0FBU0MsZUFBZWpFLElBQUtuRCxXQUE0QixJQUFqQnFILFVBQWlCLHVEQUFMLElBQ3pELE9BQU9sRSxJQUFJdFAsTUFBTXdULFdBQVcvRSxRQUMxQixTQUFDZ0YsSUFBS0MsS0FDSixJQUFJQyxRQUFVLEdBT2QsT0FOSUYsSUFBSUEsSUFBSXRULE9BQVMsR0FBR0EsT0FBU3VULElBQUl2VCxPQUFTZ00sWUFDNUN3SCxRQUFVRixJQUFJRyxNQUFRSixXQUd4QkcsU0FBV0QsSUFDWEQsSUFBSTlPLEtBQUtnUCxRQUFRNUQsUUFDVjBELEdBQ1IsR0FDRCxDQUFDLElBRUosK0JBK3FCTSxTQUFTSSxxQkFBcUJDLFFBQ25DLElBQUtBLE9BQ0gsTUFBTyxHQUVULElBQU12TixLQUFPN0csT0FBTzZHLEtBQUt1TixRQUN6QixJQUFLdk4sS0FBS3BHLE9BQ1IsTUFBTyxHQUVULE1BQU8sSUFBTW9HLEtBQUtqRCxLQUFJLFNBQUFqSixLQUFHLGdCQUFPQSxJQUFQLFlBQWN5WixPQUFPelosS0FBckIsSUFBNkJ5UyxLQUFLLElBQzVELG9FQS9tQk0sU0FBU2lILFlBQVlDLGFBQzFCLE9BQU9BLFlBQVkvSSxRQUFRLFFBQVMsR0FDckMsK0JBaXVCTSxTQUFTZ0osd0JBQ2QsRUFBQXJKLFFBQUFBLFNBQUUsVUFBVXNKLE1BQUssWUFDZixFQUFBdEosUUFBQUEsU0FBRXpRLE1BQU1nYSxRQUFRLENBQUNDLFVBQVcsVUFDN0IsR0FDRiw2QkF2ZU0sU0FBU0MsbUJBQW1CaGEsSUFBS0MsY0FDdEMsUUFBcUJDLElBQWpCRCxhQUNGLEtBQU0sMkNBRVIsSUFBSWdhLFlBQWNoYSxhQUNsQixJQUNFZ2EsWUFBYzdRLGFBQWFDLFFBQVFySixJQUNwQyxDQUFDLE1BQU93QixHQUVSLENBQ0QsT0FBT3lZLFdBQ1IsK0VBU00sU0FBU3BRLG1CQUFtQnFRLEtBQU05WixPQUN2QyxJQUVFLE9BREFnSixhQUFhK1EsUUFBUUQsS0FBTTlaLFFBQ3BCLENBQ1IsQ0FBQyxNQUFPb0IsR0FDUCxPQUFPLENBQ1IsQ0FDRix5RUFuSk0sU0FBUzRZLGFBQWFqSSxNQUMzQixJQUFJa0ksWUFBY2xJLEtBcUNsQixPQURBa0ksYUFEQUEsYUFEQUEsYUFEQUEsYUFEQUEsYUFGQUEsWUFBY0EsWUFBWXpKLFFBQVEsb0JBQXFCLE9BRTdCQSxRQUFRLFlBQWEsS0FDckJBLFFBQVEsV0FBWSxNQUNwQkEsUUFBUSxTQUFVLE1BQ2xCQSxRQUFRLFNBQVUsTUFDbEJBLFFBQVEsVUFBVyxJQUU5QyxrQkFyRk0sU0FBUzBKLFFBQVFqQixJQUFLa0IsWUFDM0IsWUFBZXJhLElBQVJtWixJQUFvQmtCLFdBQWFsQixHQUN6QyxxQkFtZk0sU0FBU21CLGFBQW9CLFlBQ2xDLE9BQU8sUUFBQWhVLFFBQU8vQyxLQUFQLHdCQUNSLDhDQXRqQk0sU0FBU2dYLHNDQUNkLElBQUlDLE9BQVNDLFFBQVFDLGVBQWVDLDRCQUNoQ0MsT0FBU0gsUUFBUUMsZUFBZUcsZ0JBRXBDSixRQUFRQyxlQUFlQyw0QkFBOEIsU0FBVTFJLE1BQzdELE1BQWEsUUFBVEEsS0FDS0EsS0FFRnVJLE9BQU92SSxLQUNmLEVBRUR3SSxRQUFRQyxlQUFlRyxnQkFBa0IsU0FBVTVJLE1BQ2pELE1BQWEsUUFBVEEsS0FDS0EsS0FFRjJJLE9BQU8zSSxLQUNmLENBQ0Ysd0JBc1lNLFNBQVM2SSxjQUFjQyxVQUErQyxJQUFyQ0MsZUFBcUMsdURBQXBCLEVBQUdDLFlBQWlCLHVEQUFILEVBQ3hFLE9BQVFGLFVBQ04sS0FBS0csV0FBQUEsU0FBU2pkLGNBQ2QsS0FBS2lkLFdBQUFBLFNBQVM1YyxXQUNkLEtBQUs0YyxXQUFBQSxTQUFTdmMsY0FDZCxLQUFLdWMsV0FBQUEsU0FBU2xjLGNBQ2QsS0FBS2tjLFdBQUFBLFNBQVM3YixpQkFDWixPQUFRNGIsWUFDVixLQUFLQyxXQUFBQSxTQUFTaGQsV0FDZCxLQUFLZ2QsV0FBQUEsU0FBUzNjLFFBQ2QsS0FBSzJjLFdBQUFBLFNBQVN0YyxXQUNkLEtBQUtzYyxXQUFBQSxTQUFTamMsV0FDZCxLQUFLaWMsV0FBQUEsU0FBUzViLGNBQ1osT0FBTyxFQUNULEtBQUs0YixXQUFBQSxTQUFTL2MsYUFDZCxLQUFLK2MsV0FBQUEsU0FBUzFjLFVBQ2QsS0FBSzBjLFdBQUFBLFNBQVNyYyxhQUNkLEtBQUtxYyxXQUFBQSxTQUFTaGMsYUFDZCxLQUFLZ2MsV0FBQUEsU0FBUzNiLGdCQUNaLE9BQVF5YixlQUFpQkMsYUFBZSxFQUMxQyxLQUFLQyxXQUFBQSxTQUFTOWMsWUFDZCxLQUFLOGMsV0FBQUEsU0FBU3pjLFNBQ2QsS0FBS3ljLFdBQUFBLFNBQVNwYyxZQUNkLEtBQUtvYyxXQUFBQSxTQUFTL2IsWUFDZCxLQUFLK2IsV0FBQUEsU0FBUzFiLGVBQ1osT0FBT3diLGVBQWlCQyxZQUMxQixLQUFLQyxXQUFBQSxTQUFTN2MsZUFDZCxLQUFLNmMsV0FBQUEsU0FBU3hjLFlBQ2QsS0FBS3djLFdBQUFBLFNBQVNuYyxlQUNkLEtBQUttYyxXQUFBQSxTQUFTOWIsZUFDZCxLQUFLOGIsV0FBQUEsU0FBU3piLGtCQUNaLE9BQU91YixlQUVaLHdCQVNNLFNBQVNHLGNBQWNKLFVBQWlELElBQXZDSyxnQkFBdUMsdURBQXJCLEVBQUdDLGFBQWtCLHVEQUFILEVBQzFFLE9BQVFOLFVBQ04sS0FBS0csV0FBQUEsU0FBU2pkLGNBQ2QsS0FBS2lkLFdBQUFBLFNBQVNoZCxXQUNkLEtBQUtnZCxXQUFBQSxTQUFTL2MsYUFDZCxLQUFLK2MsV0FBQUEsU0FBUzljLFlBQ2QsS0FBSzhjLFdBQUFBLFNBQVM3YyxlQUNaLE9BQVFnZCxhQUNWLEtBQUtILFdBQUFBLFNBQVM1YyxXQUNkLEtBQUs0YyxXQUFBQSxTQUFTM2MsUUFDZCxLQUFLMmMsV0FBQUEsU0FBUzFjLFVBQ2QsS0FBSzBjLFdBQUFBLFNBQVN6YyxTQUNkLEtBQUt5YyxXQUFBQSxTQUFTeGMsWUFDWixPQUFPLEVBQ1QsS0FBS3djLFdBQUFBLFNBQVN2YyxjQUNkLEtBQUt1YyxXQUFBQSxTQUFTdGMsV0FDZCxLQUFLc2MsV0FBQUEsU0FBU3JjLGFBQ2QsS0FBS3FjLFdBQUFBLFNBQVNwYyxZQUNkLEtBQUtvYyxXQUFBQSxTQUFTbmMsZUFDWixPQUFRcWMsZ0JBQWtCQyxjQUFnQixFQUM1QyxLQUFLSCxXQUFBQSxTQUFTbGMsY0FDZCxLQUFLa2MsV0FBQUEsU0FBU2pjLFdBQ2QsS0FBS2ljLFdBQUFBLFNBQVNoYyxhQUNkLEtBQUtnYyxXQUFBQSxTQUFTL2IsWUFDZCxLQUFLK2IsV0FBQUEsU0FBUzliLGVBQ1osT0FBT2djLGdCQUFrQkMsYUFDM0IsS0FBS0gsV0FBQUEsU0FBUzdiLGlCQUNkLEtBQUs2YixXQUFBQSxTQUFTNWIsY0FDZCxLQUFLNGIsV0FBQUEsU0FBUzNiLGdCQUNkLEtBQUsyYixXQUFBQSxTQUFTMWIsZUFDZCxLQUFLMGIsV0FBQUEsU0FBU3piLGtCQUNaLE9BQU8yYixnQkFFWixFQXZwQkQsZ0dBQ0EscUdBQ0EsMEZBQ0EscURBQ0EsdURBQ0EsMENBQ0EsbUtBcU1PLFNBQVNwRCxZQUFZc0QsUUFFMUIsT0FBT0EsT0FER3JPLEtBQUtDLE1BQU1ELEtBQUtFLFNBQVdtTyxPQUFPMVYsUUFFN0MsQ0ErSk0sU0FBU2lULGdCQUFnQkwsY0FBZUUsTUFBTzFDLFFBQVMrRSxXQUM3RCxFQUFBMUssUUFBQUEsU0FBRW1JLGVBQ0MrQyxLQUFLLENBQ0pDLFFBQVMsQ0FDUHZKLEtBQU0saUJBQUYsT0FDRXlHLE1BREYsNkJBRUMxQyxRQUZELGdCQUlKMEMsTUFBTyxDQUNMK0MsUUFBUSxFQUFBcEwsUUFBQUEsU0FBRSxvQ0FHZDBLLFNBQ0FXLE1BQU8sQ0FDTEMsUUFBUyxZQUNUQyxJQUFLLENBQ0hqYixNQUFPLEdBQ1BDLE9BQVEsS0FHWmliLEtBQU0sQ0FDSkMsTUFBTyxXQUVUQyxNQUFNLElBRVBSLEtBQUssT0FDVCxDQWdETSxTQUFTM0cscUJBQXFCOVUsSUFBS0MsY0FDeEMsUUFBcUJDLElBQWpCRCxhQUNGLEtBQU0sNkNBRVIsSUFBSWdhLFlBQWNoYSxhQUNsQixJQUNFZ2EsWUFBY2lDLGVBQWU3UyxRQUFRckosSUFDdEMsQ0FBQyxNQUFPd0IsR0FFUixDQUNELE9BQU95WSxXQUNSLENBU00sU0FBU2xGLHFCQUFxQm1GLEtBQU05WixPQUN6QyxJQUVFLE9BREE4YixlQUFlL0IsUUFBUUQsS0FBTTlaLFFBQ3RCLENBQ1IsQ0FBQyxNQUFPb0IsR0FDUCxHQUFlLHVCQUFYQSxFQUFFMEgsS0FDSixNQUFNMUgsRUFFUixPQUFPLENBQ1IsQ0FDRixDQTZRTSxTQUFTMmEsa0JBQ2QsT0FBTzNWLE9BQU8rQixRQUNmLHdDQS9qQjZDLFNBQWpDNlQsK0JBQWlDekMsYUFBVyxPQUN2REEsWUFBWS9JLFFBQVEsV0FBWSxLQUR1QixFQU16RHlMLFNBQVNqWCxVQUFVa1gsU0FBVyxTQUFVQyxRQUN0Q3pjLEtBQUtzRixVQUFZQyxPQUFPbVgsT0FBT0QsT0FBT25YLFdBQ3RDdEYsS0FBS3NGLFVBQVV1SCxZQUFjN00sS0FDN0JBLEtBQUsyYyxlQUFpQkYsT0FBT25YLFNBQzlCLHdCQWlyQjRCLFNBQWhCc1gsY0FBaUJ2SyxLQUFNcEcsUUFBcUMsSUFBN0I0USxrQkFBNkIsdURBQVQsS0FDMURDLFFBQVUsQ0FDWnRaLElBQUssa0JBQ0w4SyxPQUFRLE9BQ1J5TyxZQUFhLGlDQUNieE0sS0FBTXZILEtBQUtnQixVQUFVLENBQUNxSSxLQUFNcEcsVUFPOUIsT0FKSTRRLG9CQUNGQyxRQUFRdk8sUUFBVSxDQUFDLGVBQWdCc08sb0JBRzlCcE0sUUFBQUEsUUFBRXVNLEtBQUtGLFFBQ2YsRUEwQkQsSUFBTS9HLGFBQWUsQ0FDbkJRLFdBQVksYUFDWjBHLGFBQWMsZUFDZDlHLEtBQU0sT0FDTk0sUUFBUyxVQUNUeUcsTUFBTyxRQUNQbEgsWUFBYSxjQUNibUgsUUFBUyxXQUdKLFNBQVNySCxpQkFDZCxJQUFNbEksU0FBV3lPLGtCQUFrQnpPLFNBQ25DLE9BQUlBLFNBQVM1QyxTQUFTLFNBRWIrSyxhQUFhbUgsTUFFbEJ0UCxTQUFTNUMsU0FBUyxRQUNiK0ssYUFBYUksS0FFbEJ2SSxTQUFTNUMsU0FBUyxnQkFDYitLLGFBQWFrSCxhQUVsQnJQLFNBQVM1QyxTQUFTLFdBQ2IrSyxhQUFhVSxRQUVsQjdJLFNBQVM1QyxTQUFTLGNBQWdCNEMsU0FBUzVDLFNBQVMsYUFDL0MrSyxhQUFhQyxZQUVMLGFBQWJwSSxVQUF3QyxvQkFBYkEsU0FDdEJtSSxhQUFhUSxXQUVmUixhQUFhb0gsT0FDckIsdUdDdjZCRHJXLE9BQU9DLFFBQVUsc0JBQTBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvZGNkby5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvaW1hZ2VVdGlscy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvcG9seWZpbGxzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy91dGlsL2V4cGVyaW1lbnRzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy91dGlsL2dldFNjcmlwdERhdGEuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3V0aWwvaTE4blN0cmluZ1RyYWNrZXIuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3V0aWwvaTE4blN0cmluZ1RyYWNrZXJXb3JrZXIuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3V0aWwvbG9jYWxlLWRvLW5vdC1pbXBvcnQuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3V0aWwvc2FmZUxvYWRMb2NhbGUuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3V0aWwvdHJhY2tFdmVudC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3RhdGljL3R1cnRsZS9ibGFua19zaGFyaW5nX2RyYXdpbmcucG5nIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVvdmVydmlldyBDb25zdGFudHMgdXNlZCBpbiBwcm9kdWN0aW9uIGNvZGUgYW5kIHRlc3RzLlxuICovXG5cbi8qKlxuICogRW51bWVyYXRpb24gb2YgdXNlciBwcm9ncmFtIGV4ZWN1dGlvbiBvdXRjb21lcy5cbiAqIFRoZXNlIGFyZSBkZXRlcm1pbmVkIGJ5IGVhY2ggYXBwLlxuICovXG5leHBvcnQgY29uc3QgUmVzdWx0VHlwZSA9IHtcbiAgVU5TRVQ6IDAsIC8vIFRoZSByZXN1bHQgaGFzIG5vdCB5ZXQgYmVlbiBjb21wdXRlZC5cbiAgU1VDQ0VTUzogMSwgLy8gVGhlIHByb2dyYW0gY29tcGxldGVkIHN1Y2Nlc3NmdWxseSwgYWNoaWV2aW5nIHRoZSBnb2FsLlxuICBGQUlMVVJFOiAtMSwgLy8gVGhlIHByb2dyYW0gcmFuIHdpdGhvdXQgZXJyb3IgYnV0IGRpZCBub3QgYWNoaWV2ZSBnb2FsLlxuICBUSU1FT1VUOiAyLCAvLyBUaGUgcHJvZ3JhbSBkaWQgbm90IGNvbXBsZXRlIChsaWtlbHkgaW5maW5pdGUgbG9vcCkuXG4gIEVSUk9SOiAtMiwgLy8gVGhlIHByb2dyYW0gZ2VuZXJhdGVkIGFuIGVycm9yLlxufTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7bnVtYmVyfSBUZXN0UmVzdWx0XG4gKi9cblxuLyoqXG4gKiBFbnVtZXJhdGlvbiBvZiB0ZXN0IHJlc3VsdHMuXG4gKiBFTVBUWV9CTE9DS19GQUlMIGFuZCBFTVBUWV9GVU5DVElPTl9CTE9DS19GQUlMIGNhbiBvbmx5IG9jY3VyIGlmXG4gKiBTdHVkaW9BcHAuY2hlY2tGb3JFbXB0eUJsb2Nrc18gaXMgdHJ1ZS5cbiAqIEEgbnVtYmVyIG9mIHRoZXNlIHJlc3VsdHMgYXJlIGVudW1lcmF0ZWQgb24gdGhlIGRhc2hib2FyZCBzaWRlIGluXG4gKiBhY3Rpdml0eV9jb25zdGFudHMucmIsIGFuZCBpdCdzIGltcG9ydGFudCB0aGF0IHRoZXNlIHR3byBmaWxlcyBhcmUga2VwdCBpblxuICogc3luYy5cbiAqIE5PVEU6IFdlIHN0b3JlIHRoZSByZXN1bHRzIGZvciB1c2VyIGF0dGVtcHRzIGluIG91ciBkYiwgc28gY2hhbmdpbmcgdGhlc2VcbiAqIHZhbHVlcyB3b3VsZCBuZWNlc3NpdGF0ZSBhIG1pZ3JhdGlvblxuICpcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBjb25zdCBUZXN0UmVzdWx0cyA9IHtcbiAgLy8gRGVmYXVsdCB2YWx1ZSBiZWZvcmUgYW55IHRlc3RzIGFyZSBydW4uXG4gIE5PX1RFU1RTX1JVTjogLTEsXG5cbiAgLy8gVGhlIGxldmVsIHdhcyBub3Qgc29sdmVkLlxuICBHRU5FUklDX0ZBSUw6IDAsIC8vIFVzZWQgYnkgRFNMIGRlZmluZWQgbGV2ZWxzLlxuICBFTVBUWV9CTE9DS19GQUlMOiAxLCAvLyBBbiBcImlmXCIgb3IgXCJyZXBlYXRcIiBibG9jayB3YXMgZW1wdHkuXG4gIFRPT19GRVdfQkxPQ0tTX0ZBSUw6IDIsIC8vIEZld2VyIHRoYW4gdGhlIGlkZWFsIG51bWJlciBvZiBibG9ja3MgdXNlZC5cbiAgTEVWRUxfSU5DT01QTEVURV9GQUlMOiAzLCAvLyBEZWZhdWx0IGZhaWx1cmUgdG8gY29tcGxldGUgYSBsZXZlbC5cbiAgTUlTU0lOR19CTE9DS19VTkZJTklTSEVEOiA0LCAvLyBBIHJlcXVpcmVkIGJsb2NrIHdhcyBub3QgdXNlZC5cbiAgRVhUUkFfVE9QX0JMT0NLU19GQUlMOiA1LCAvLyBUaGVyZSB3YXMgbW9yZSB0aGFuIG9uZSB0b3AtbGV2ZWwgYmxvY2suXG4gIFJVTlRJTUVfRVJST1JfRkFJTDogNiwgLy8gVGhlcmUgd2FzIGEgcnVudGltZSBlcnJvciBpbiB0aGUgcHJvZ3JhbS5cbiAgU1lOVEFYX0VSUk9SX0ZBSUw6IDcsIC8vIFRoZXJlIHdhcyBhIHN5bnRheCBlcnJvciBpbiB0aGUgcHJvZ3JhbS5cbiAgTUlTU0lOR19CTE9DS19GSU5JU0hFRDogMTAsIC8vIFRoZSBsZXZlbCB3YXMgc29sdmVkIHdpdGhvdXQgcmVxdWlyZWQgYmxvY2suXG4gIEFQUF9TUEVDSUZJQ19GQUlMOiAxMSwgLy8gQXBwbGljYXRpb24tc3BlY2lmaWMgZmFpbHVyZS5cbiAgRU1QVFlfRlVOQ1RJT05fQkxPQ0tfRkFJTDogMTIsIC8vIEEgXCJmdW5jdGlvblwiIGJsb2NrIHdhcyBlbXB0eVxuICBVTlVTRURfUEFSQU06IDEzLCAvLyBQYXJhbSBkZWNsYXJlZCBidXQgbm90IHVzZWQgaW4gZnVuY3Rpb24uXG4gIFVOVVNFRF9GVU5DVElPTjogMTQsIC8vIEZ1bmN0aW9uIGRlY2xhcmVkIGJ1dCBub3QgdXNlZCBpbiB3b3Jrc3BhY2UuXG4gIFBBUkFNX0lOUFVUX1VOQVRUQUNIRUQ6IDE1LCAvLyBGdW5jdGlvbiBub3QgY2FsbGVkIHdpdGggZW5vdWdoIHBhcmFtcy5cbiAgSU5DT01QTEVURV9CTE9DS19JTl9GVU5DVElPTjogMTYsIC8vIEluY29tcGxldGUgYmxvY2sgaW5zaWRlIGEgZnVuY3Rpb24uXG4gIFFVRVNUSU9OX01BUktTX0lOX05VTUJFUl9GSUVMRDogMTcsIC8vIEJsb2NrIGhhcyA/Pz8gaW5zdGVhZCBvZiBhIHZhbHVlLlxuICBFTVBUWV9GVU5DVElPTkFMX0JMT0NLOiAxOCwgLy8gVGhlcmUncyBhIGZ1bmN0aW9uYWwgYmxvY2sgd2l0aCBhbiBvcGVuIGlucHV0XG4gIEVYQU1QTEVfRkFJTEVEOiAxOSwgLy8gT25lIG9mIG91ciBleGFtcGxlcyBkaWRuJ3QgbWF0Y2ggdGhlIGRlZmluaXRpb25cblxuICAvLyBzdGFydCB1c2luZyBuZWdhdGl2ZSB2YWx1ZXMsIHNpbmNlIHdlIGNvbnNpZGVyID49IDIwIHRvIGJlIFwic29sdmVkXCJcbiAgTkVTVEVEX0ZPUl9TQU1FX1ZBUklBQkxFOiAtMiwgLy8gV2UgaGF2ZSBuZXN0ZWQgZm9yIGxvb3BzIGVhY2ggdXNpbmcgdGhlIHNhbWUgY291bnRlciB2YXJpYWJsZVxuICAvLyBOT1RFOiBmb3Igc21vZSBwZXJpb2Qgb2YgdGltZSwgdGhpcyB3YXMgLTEgYW5kIGNvbmZsaWN0ZWQgd2l0aCBOT19URVNUU19SVU5cbiAgRU1QVFlfRlVOQ1RJT05fTkFNRTogLTMsIC8vIFdlIGhhdmUgYSB2YXJpYWJsZSBvciBmdW5jdGlvbiB3aXRoIHRoZSBuYW1lIFwiXCJcbiAgTUlTU0lOR19SRUNPTU1FTkRFRF9CTE9DS19VTkZJTklTSEVEOiAtNCwgLy8gVGhlIGxldmVsIHdhcyBhdHRlbXB0ZWQgYnV0IG5vdCBzb2x2ZWQgd2l0aG91dCBhIHJlY29tbWVuZGVkIGJsb2NrXG4gIEVYVFJBX0ZVTkNUSU9OX0ZBSUw6IC01LCAvLyBUaGUgcHJvZ3JhbSBjb250YWlucyBhIEphdmFTY3JpcHQgZnVuY3Rpb24gd2hlbiBpdCBzaG91bGQgbm90XG4gIExPQ0FMX0ZVTkNUSU9OX0ZBSUw6IC02LCAvLyBUaGUgcHJvZ3JhbSBjb250YWlucyBhbiB1bmV4cGVjdGVkIEphdmFTY3JpcHQgbG9jYWwgZnVuY3Rpb25cbiAgR0VORVJJQ19MSU5UX0ZBSUw6IC03LCAvLyBUaGUgcHJvZ3JhbSBjb250YWlucyBhIGxpbnQgZXJyb3JcbiAgTE9HX0NPTkRJVElPTl9GQUlMOiAtOCwgLy8gVGhlIHByb2dyYW0gZXhlY3V0aW9uIGxvZyBkaWQgbm90IHBhc3MgYSByZXF1aXJlZCBjb25kaXRpb25cbiAgQkxPQ0tfTElNSVRfRkFJTDogLTksIC8vIFB1enpsZSB3YXMgc29sdmVkIHVzaW5nIG1vcmUgdGhhbiB0aGUgdG9vbGJveCBsaW1pdCBvZiBhIGJsb2NrXG4gIEZSRUVfUExBWV9VTkNIQU5HRURfRkFJTDogLTEwLCAvLyBUaGUgY29kZSB3YXMgbm90IGNoYW5nZWQgd2hlbiB0aGUgZmluaXNoIGJ1dHRvbiB3YXMgY2xpY2tlZFxuXG4gIC8vIENvZGVzIGZvciB1bnZhbGlkYXRlZCBsZXZlbHMuXG4gIFVOU1VCTUlUVEVEX0FUVEVNUFQ6IC01MCwgLy8gUHJvZ3Jlc3Mgd2FzIHNhdmVkIHdpdGhvdXQgc3VibWl0dGluZyBmb3IgcmV2aWV3LCBvciB3YXMgdW5zdWJtaXR0ZWQuXG5cbiAgU0tJUFBFRDogLTEwMCwgLy8gU2tpcHBlZCwgZS5nLiB0aGV5IHVzZWQgdGhlIHNraXAgYnV0dG9uIG9uIGEgY2hhbGxlbmdlIGxldmVsXG4gIC8vIFRoZSB0ZWFjaGVyIGhhcyB0cmlnZ2VyZWQgYSByZXNldCBvZiBwcm9ncmVzcyB0aHJvdWdoIGxlYXZpbmcgXCJLZWVwIHdvcmtpbmdcIiBmZWVkYmFjay5cbiAgLy8gVEVBQ0hFUl9GRUVEQkFDS19LRUVQX1dPUktJTkcgaXMgb25seSBzZXQgYnkgdGhlIGJhY2stZW5kXG4gIFRFQUNIRVJfRkVFREJBQ0tfS0VFUF9XT1JLSU5HOiAtMTEwLFxuICBMRVZFTF9TVEFSVEVEOiAtMTUwLCAvLyBUaGUgdXNlciBoYXMgdHJpZ2dlcmVkIHRoZSByZXNldCBhY3Rpb24gYXQgbGVhc3Qgb25jZSAoZXg6IGJ5IGNsaWNraW5nIHRoZSByZXNldCBidXR0b24pXG5cbiAgLy8gTnVtYmVycyBiZWxvdyAyMCBhcmUgZ2VuZXJhbGx5IGNvbnNpZGVyZWQgc29tZSBmb3JtIG9mIGZhaWx1cmUuXG4gIC8vIE51bWJlcnMgPj0gMjAgZ2VuZXJhbGx5IGluZGljYXRlIHNvbWUgZm9ybSBvZiBzdWNjZXNzIChhbHRob3VnaCBhZ2FpbiB0aGVyZVxuICAvLyBhcmUgdmFsdWVzIGxpa2UgUkVWSUVXX1JFSkVDVEVEX1JFU1VMVCB0aGF0IGRvbid0IHNlZW0gdG8gcXVpdGUgbWVldCB0aGF0IHJlc3RyaWN0aW9uLlxuICBNSU5JTVVNX1BBU1NfUkVTVUxUOiAyMCxcblxuICAvLyBUaGUgbGV2ZWwgd2FzIHNvbHZlZCBpbiBhIG5vbi1vcHRpbWFsIHdheS4gIFVzZXIgbWF5IGFkdmFuY2Ugb3IgcmV0cnkuXG4gIFRPT19NQU5ZX0JMT0NLU19GQUlMOiAyMCwgLy8gTW9yZSB0aGFuIHRoZSBpZGVhbCBudW1iZXIgb2YgYmxvY2tzIHdlcmUgdXNlZC5cbiAgQVBQX1NQRUNJRklDX0FDQ0VQVEFCTEVfRkFJTDogMjEsIC8vIEFwcGxpY2F0aW9uLXNwZWNpZmljIGFjY2VwdGFibGUgZmFpbHVyZS5cbiAgTUlTU0lOR19SRUNPTU1FTkRFRF9CTE9DS19GSU5JU0hFRDogMjIsIC8vIFRoZSBsZXZlbCB3YXMgc29sdmVkIHdpdGhvdXQgYSByZWNvbW1lbmRlZCBibG9ja1xuXG4gIC8vIE51bWJlcnMgPj0gMzAsIGFyZSBjb25zaWRlcmVkIHRvIGJlIFwicGVyZmVjdGx5XCIgc29sdmVkLCBpLmUuIHRob3NlIGluIHRoZSByYW5nZVxuICAvLyBvZiAyMC0zMCBoYXZlIGNvcnJlY3QgYnV0IG5vdCBvcHRpbWFsIHNvbHV0aW9uc1xuICBNSU5JTVVNX09QVElNQUxfUkVTVUxUOiAzMCxcblxuICAvLyBUaGUgbGV2ZWwgd2FzIHNvbHZlZCBpbiBhbiBvcHRpbWFsIHdheS5cbiAgRlJFRV9QTEFZOiAzMCwgLy8gVGhlIHVzZXIgaXMgaW4gZnJlZS1wbGF5IG1vZGUuXG4gIFBBU1NfV0lUSF9FWFRSQV9UT1BfQkxPQ0tTOiAzMSwgLy8gVGhlcmUgd2FzIG1vcmUgdGhhbiBvbmUgdG9wLWxldmVsIGJsb2NrLlxuICBBUFBfU1BFQ0lGSUNfSU1QRVJGRUNUX1BBU1M6IDMyLCAvLyBUaGUgbGV2ZWwgd2FzIHBhc3NlZCBpbiBzb21lIG9wdGltYWwgYnV0IG5vdCBuZWNlc3NhcmlseSBwZXJmZWN0IHdheVxuICBFRElUX0JMT0NLUzogNzAsIC8vIFRoZSB1c2VyIGlzIGNyZWF0aW5nL2VkaXRpbmcgYSBuZXcgbGV2ZWwuXG4gIE1BTlVBTF9QQVNTOiA5MCwgLy8gVGhlIGxldmVsIHdhcyBtYW51YWxseSBzZXQgYXMgcGVyZmVjdGVkIGludGVybmFsbHkuXG5cbiAgLy8gVGhlIGxldmVsIHdhcyBzb2x2ZWQgaW4gdGhlIGlkZWFsIG1hbm5lci5cbiAgQUxMX1BBU1M6IDEwMCxcblxuICAvLyBDb250YWluZWQgbGV2ZWwgcmVzdWx0LiBOb3QgdmFsaWRhdGVkLCBidXQgc2hvdWxkIGJlIHRyZWF0ZWQgYXMgYSBzdWNjZXNzXG4gIENPTlRBSU5FRF9MRVZFTF9SRVNVTFQ6IDEwMSxcblxuICAvLyBUaGUgbGV2ZWwgd2FzIHNvbHZlZCB3aXRoIGZld2VyIGJsb2NrcyB0aGFuIHRoZSByZWNvbW1lbmRlZCBudW1iZXIgb2YgYmxvY2tzLlxuICBCRVRURVJfVEhBTl9JREVBTDogMTAyLFxuXG4gIFNVQk1JVFRFRF9SRVNVTFQ6IDEwMDAsXG5cbiAgUkVWSUVXX1JFSkVDVEVEX1JFU1VMVDogMTUwMCxcbiAgUkVWSUVXX0FDQ0VQVEVEX1JFU1VMVDogMjAwMCxcbn07XG5cbmV4cG9ydCBjb25zdCBCZWVUZXJtaW5hdGlvblZhbHVlID0ge1xuICBGQUlMVVJFOiBmYWxzZSxcbiAgU1VDQ0VTUzogdHJ1ZSxcbiAgSU5GSU5JVEVfTE9PUDogSW5maW5pdHksXG4gIE5PVF9BVF9GTE9XRVI6IDEsIC8vIFRyaWVkIHRvIGdldCBuZWN0YXIgd2hlbiBub3QgYXQgZmxvd2VyLlxuICBGTE9XRVJfRU1QVFk6IDIsIC8vIFRyaWVkIHRvIGdldCBuZWN0YXIgd2hlbiBmbG93ZXIgZW1wdHkuXG4gIE5PVF9BVF9IT05FWUNPTUI6IDMsIC8vIFRyaWVkIHRvIG1ha2UgaG9uZXkgd2hlbiBub3QgYXQgaG9uZXljb21iLlxuICBIT05FWUNPTUJfRlVMTDogNCwgLy8gVHJpZWQgdG8gbWFrZSBob25leSwgYnV0IG5vIHJvb20gYXQgaG9uZXljb21iLlxuICBVTkNIRUNLRURfQ0xPVUQ6IDUsIC8vIEZpbmlzaGVkIHB1enpsZSwgYnV0IGRpZG4ndCBjaGVjayBldmVyeSBjbG91ZGVkIGl0ZW1cbiAgVU5DSEVDS0VEX1BVUlBMRTogNiwgLy8gRmluaXNoZWQgcHV6emxlLCBidXQgZGlkbid0IGNoZWNrIGV2ZXJ5IHB1cnBsZSBmbG93ZXJcbiAgSU5TVUZGSUNJRU5UX05FQ1RBUjogNywgLy8gRGlkbid0IGNvbGxlY3QgYWxsIG5lY3RhciBieSBmaW5pc2hcbiAgSU5TVUZGSUNJRU5UX0hPTkVZOiA4LCAvLyBEaWRuJ3QgbWFrZSBhbGwgaG9uZXkgYnkgZmluaXNoXG4gIERJRF9OT1RfQ09MTEVDVF9FVkVSWVRISU5HOiA5LCAvLyBGb3IgcXVhbnR1bSBsZXZlbHMsIGRpZG4ndCB0cnkgdG8gY29sbGVjdCBhbGwgYXZhaWxhYmxlIGhvbmV5L25lY3RhclxufTtcblxuZXhwb3J0IGNvbnN0IEhhcnZlc3RlclRlcm1pbmF0aW9uVmFsdWUgPSB7XG4gIFdST05HX0NST1A6IDEsXG4gIEVNUFRZX0NST1A6IDIsXG4gIERJRF9OT1RfQ09MTEVDVF9FVkVSWVRISU5HOiAzLFxufTtcblxuZXhwb3J0IGNvbnN0IEtleUNvZGVzID0ge1xuICBCQUNLU1BBQ0U6IDgsXG4gIEVOVEVSOiAxMyxcbiAgU1BBQ0U6IDMyLFxuICBMRUZUOiAzNyxcbiAgVVA6IDM4LFxuICBSSUdIVDogMzksXG4gIERPV046IDQwLFxuICBDT1BZOiA2NyxcbiAgUEFTVEU6IDg2LFxuICBERUxFVEU6IDEyNyxcbn07XG5cbmV4cG9ydCBjb25zdCBQb3NpdGlvbiA9IHtcbiAgT1VUVE9QT1VUTEVGVDogMSxcbiAgT1VUVE9QTEVGVDogMixcbiAgT1VUVE9QQ0VOVEVSOiAzLFxuICBPVVRUT1BSSUdIVDogNCxcbiAgT1VUVE9QT1VUUklHSFQ6IDUsXG4gIFRPUE9VVExFRlQ6IDYsXG4gIFRPUExFRlQ6IDcsXG4gIFRPUENFTlRFUjogOCxcbiAgVE9QUklHSFQ6IDksXG4gIFRPUE9VVFJJR0hUOiAxMCxcbiAgTUlERExFT1VUTEVGVDogMTEsXG4gIE1JRERMRUxFRlQ6IDEyLFxuICBNSURETEVDRU5URVI6IDEzLFxuICBNSURETEVSSUdIVDogMTQsXG4gIE1JRERMRU9VVFJJR0hUOiAxNSxcbiAgQk9UVE9NT1VUTEVGVDogMTYsXG4gIEJPVFRPTUxFRlQ6IDE3LFxuICBCT1RUT01DRU5URVI6IDE4LFxuICBCT1RUT01SSUdIVDogMTksXG4gIEJPVFRPTU9VVFJJR0hUOiAyMCxcbiAgT1VUQk9UVE9NT1VUTEVGVDogMjEsXG4gIE9VVEJPVFRPTUxFRlQ6IDIyLFxuICBPVVRCT1RUT01DRU5URVI6IDIzLFxuICBPVVRCT1RUT01SSUdIVDogMjQsXG4gIE9VVEJPVFRPTU9VVFJJR0hUOiAyNSxcbn07XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gU1ZHIGVsZW1lbnQgbmFtZXNwYWNlICovXG5leHBvcnQgY29uc3QgU1ZHX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcblxuZXhwb3J0IGNvbnN0IEFMUEhBQkVUID1cbiAgJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5JztcbmV4cG9ydCBjb25zdCBDSVBIRVIgPVxuICAnSXE2MUY4a2lhVUhQR2NzWTdEZ1g0eUF1M0x3dFdobkNtZVI1cFZySm9LZlFaTXgwQlNkbE9qRXYyVGJOOXonO1xuXG5leHBvcnQgY29uc3QgQkFTRV9ESUFMT0dfV0lEVEggPSA3MDA7XG5cbmV4cG9ydCBjb25zdCBUT09MQk9YX0VESVRfTU9ERSA9ICd0b29sYm94X2Jsb2Nrcyc7XG5cbmV4cG9ydCBjb25zdCBOT1RJRklDQVRJT05fQUxFUlRfVFlQRSA9ICdub3RpZmljYXRpb24nO1xuXG5leHBvcnQgY29uc3QgU1RBUlRfQkxPQ0tTID0gJ3N0YXJ0X2Jsb2Nrcyc7XG5cbmV4cG9ydCBjb25zdCBERVBSRUNBVEVEX1BST0pFQ1RfVFlQRVMgPSBbJ2FsZ2VicmFfZ2FtZScsICdjYWxjJywgJ2V2YWwnXTtcbiIsImltcG9ydCBnZXRTY3JpcHREYXRhLCB7aGFzU2NyaXB0RGF0YX0gZnJvbSAnLi91dGlsL2dldFNjcmlwdERhdGEnO1xuXG4vKipcbiAqIFN0b3JlcyBEQ0RPIGtleTp2YWx1ZSBwYWlycyBkZWZpbmVkIGluIGBkY2RvLnJiOmZyb250ZW5kX2NvbmZpZ2AuXG4gKi9cbmV4cG9ydCBjbGFzcyBEQ0RPIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBjb25maWdzIHtvYmplY3R9IEEgbWFwcGluZyBvZiBEQ0RPIGtleXMgdG8gdmFsdWVzXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihjb25maWdzID0ge30pIHtcbiAgICB0aGlzLmNvbmZpZ3MgPSBjb25maWdzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgRENETyBjb25maWcgdmFsdWUgZm9yIHRoZSBnaXZlbiBrZXkuIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBkYXRhIGNvdWxkIGJlIHN0YWxlXG4gICAqIGR1ZSB0byB0aGUgY2FjaGluZyBiZWhhdmlvciBvZiB0aGUgcGFnZS4gQW5hbHl6ZSB0aGUgSFRUUCBoZWFkZXJzIG9mIHRoZSBwYWdlcyB5b3UgYXJlXG4gICAqIGludGVyZXN0ZWQgaW4gdG8gdW5kZXJzdGFuZCB3aGF0IGtpbmQgb2YgY2FjaGluZyB0aGV5IHVzZSBhbmQgaWYgdGhhdCB3aWxsIGJlIGEgY29uY2Vybi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IGZvciB0aGUgRENETyBjb25maWcgdG8gbG9va3VwLlxuICAgKiBAcGFyYW0ge29iamVjdH0gZGVmYXVsdFZhbHVlIFRoZSB2YWx1ZSB0byByZXR1cm4gaWYgdGhlIGdpdmVuIGtleSBpcyBub3QgZGVmaW5lZCBpbiBEQ0RPLlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSB2YWx1ZSBmb3IgdGhlIGdpdmVuIGtleS4gVXNlcyB0aGUgZGVmYXVsdFZhbHVlIGlmIG5vIGtleSBmb3VuZC5cbiAgICovXG4gIGdldChrZXksIGRlZmF1bHRWYWx1ZSA9IHVuZGVmaW5lZCkge1xuICAgIGlmIChrZXkgJiYga2V5IGluIHRoaXMuY29uZmlncykge1xuICAgICAgcmV0dXJuIHRoaXMuY29uZmlnc1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIERDRE8gY29uZmlncy4gVGVzdHMgb25seSEgVGhpcyBoYXMgbm8gYWZmZWN0IG9uIHRoZSBiYWNrZW5kLlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgZm9yIHRoZSBEQ0RPIGNvbmZpZyB0byBzZXQuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZSBUaGUgdmFsdWUgdG8gc3RvcmUgZm9yIHRoZSBnaXZlbiBrZXkuXG4gICAqL1xuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIGlmIChrZXkpIHtcbiAgICAgIHRoaXMuY29uZmlnc1trZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgdGhlIERDRE8gY29uZmlncy4gVGVzdHMgb25seSEgVGhpcyBoYXMgbm8gYWZmZWN0IG9uIHRoZSBiYWNrZW5kLlxuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5jb25maWdzID0ge307XG4gIH1cbn1cblxuLyoqXG4gKiBMb2FkcyB0aGUgRENETyBjb25maWd1cmF0aW9ucyB3aGljaCBhcmUgZm9yd2FyZGVkIHRvIHRoZSBmcm9udGVuZC4gU2VlIGBkY2RvLnJiOmZyb250ZW5kX2NvbmZpZ2AuXG4gKiBUaGUgRENETyBjbGFzcyBleHBlY3RzIGEgPHNjcmlwdD4gdGFnIHRvIGhhdmUgYSBgZGF0YS1kY2RvYCBhdHRyaWJ1dGUgd2l0aCBKU09OIHN0cmluZ2lmaWVkIERDRE9cbiAqIGNvbmZpZ3VyYXRpb24gbWFwLlxuICovXG5sZXQgY29uZmlncyA9IHt9O1xuaWYgKGhhc1NjcmlwdERhdGEoJ3NjcmlwdFtkYXRhLWRjZG9dJykpIHtcbiAgY29uZmlncyA9IGdldFNjcmlwdERhdGEoJ2RjZG8nKTtcbn1cbmV4cG9ydCBkZWZhdWx0IG5ldyBEQ0RPKGNvbmZpZ3MpO1xuIiwiaW1wb3J0IGFydGlzdFNoYXJlRnJhbWUgZnJvbSAnLi4vc3RhdGljL3R1cnRsZS9ibGFua19zaGFyaW5nX2RyYXdpbmcucG5nJztcblxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoVVJMQXNCbG9iKHVybCwgb25Db21wbGV0ZSkge1xuICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xuICB4aHIub25sb2FkID0gZSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICBvbkNvbXBsZXRlKG51bGwsIGUudGFyZ2V0LnJlc3BvbnNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25Db21wbGV0ZShcbiAgICAgICAgbmV3IEVycm9yKGBVUkwgJHt1cmx9IHJlc3BvbmRlZCB3aXRoIGNvZGUgJHtlLnRhcmdldC5zdGF0dXN9YClcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICB4aHIub25lcnJvciA9IGUgPT5cbiAgICBvbkNvbXBsZXRlKFxuICAgICAgbmV3IEVycm9yKFxuICAgICAgICBgRXJyb3IgJHtlLnRhcmdldC5zdGF0dXN9IG9jY3VycmVkIHdoaWxlIHJlY2VpdmluZyB0aGUgZG9jdW1lbnQuYFxuICAgICAgKVxuICAgICk7XG4gIHhoci5zZW5kKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBibG9iVG9EYXRhVVJJKGJsb2IsIG9uQ29tcGxldGUpIHtcbiAgbGV0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICBmaWxlUmVhZGVyLm9ubG9hZCA9IGUgPT4gb25Db21wbGV0ZShlLnRhcmdldC5yZXN1bHQpO1xuICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXRhVVJJVG9Tb3VyY2VTaXplKGRhdGFVUkkpIHtcbiAgcmV0dXJuIHRvSW1hZ2UoZGF0YVVSSSkudGhlbihpbWFnZSA9PiAoe1xuICAgIHg6IGltYWdlLndpZHRoLFxuICAgIHk6IGltYWdlLmhlaWdodCxcbiAgfSkpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGF0YVVSSUZyb21VUkkodXJpKSB7XG4gIGNvbnN0IGNhbnZhcyA9IGF3YWl0IHRvQ2FudmFzKHVyaSk7XG4gIHJldHVybiBjYW52YXMudG9EYXRhVVJMKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVUklGcm9tSW1hZ2VEYXRhKGltYWdlRGF0YSkge1xuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgY2FudmFzLndpZHRoID0gaW1hZ2VEYXRhLndpZHRoO1xuICBjYW52YXMuaGVpZ2h0ID0gaW1hZ2VEYXRhLmhlaWdodDtcbiAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICBjb250ZXh0LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xuICByZXR1cm4gY2FudmFzLnRvRGF0YVVSTCgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGF0YVVSSVRvRnJhbWVkQmxvYihkYXRhVVJJLCBjYWxsYmFjaykge1xuICBjb25zdCBmcmFtZSA9IG5ldyBJbWFnZSgpO1xuICBjb25zdCBpbWFnZURhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgaW1hZ2VEYXRhLnNyYyA9IGRhdGFVUkk7XG4gIGZyYW1lLm9ubG9hZCA9ICgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSBmcmFtZS53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0O1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5kcmF3SW1hZ2UoZnJhbWUsIDAsIDApO1xuICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2VEYXRhLCAxNzUsIDUyLCAxNTQsIDE1NCk7XG4gICAgaWYgKGNhbnZhcy50b0Jsb2IpIHtcbiAgICAgIGNhbnZhcy50b0Jsb2IoY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcbiAgZnJhbWUuc3JjID0gYXJ0aXN0U2hhcmVGcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN2Z1RvRGF0YVVSSShzdmcsIGltYWdlVHlwZSA9ICdpbWFnZS9wbmcnLCBvcHRpb25zID0ge30pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIC8vIFVzZSBsYXp5LWxvYWRpbmcgdG8ga2VlcCBjYW52ZyAoNjBLQikgb3V0IG9mIHRoZSBpbml0aWFsIGRvd25sb2FkLlxuICAgIGltcG9ydCgnLi91dGlsL3N2Z2VsZW1lbnQtcG9seWZpbGwnKS50aGVuKCgpID0+IHtcbiAgICAgIHN2Zy50b0RhdGFVUkwoaW1hZ2VUeXBlLCB7Li4ub3B0aW9ucywgY2FsbGJhY2s6IHJlc29sdmV9KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW52YXNUb0Jsb2IoY2FudmFzKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBjYW52YXMudG9CbG9iKHJlc29sdmUpO1xuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRhdGFVUklUb0Jsb2IodXJpKSB7XG4gIGNvbnN0IGNhbnZhcyA9IGF3YWl0IHRvQ2FudmFzKHVyaSk7XG4gIHJldHVybiBhd2FpdCBjYW52YXNUb0Jsb2IoY2FudmFzKTtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7c3RyaW5nfSBJbWFnZVVSSVxuICogQSBzdHJpbmcgaW4gdGhlIGZvcm0gb2YgYW4gaW1hZ2UgVVJJIG9yIGRhdGEgVVJJOyBhbnl0aGluZyB5b3UgbWlnaHRcbiAqIGFzc2lnbiB0byBhbiA8aW1hZ2U+J3MgYHNyY2AgYXR0cmlidXRlLiAgRXhhbXBsZXM6XG4gKiBcImh0dHBzOi8vZXhhbXBsZS5jb20vZXhhbXBsZS5wbmdcIlxuICogXCJkYXRhOmltYWdlL3N2Zyt4bWwsPHN2Zy4uLlwiXG4gKiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUi4uLlwiXG4gKi9cblxuLyoqXG4gKiBHaXZlbiBhbiBpbnB1dCBvZiBhIHN1cHBvcnRlZCB0eXBlLCBjb252ZXJ0cyBpdCB0byBhbiBIVE1MSW1hZ2VFbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7QmxvYnxIVE1MSW1hZ2VFbGVtZW50fEltYWdlVVJJfSBpbnB1dFxuICogQHJldHVybnMge1Byb21pc2U8SFRNTEltYWdlRWxlbWVudD59XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b0ltYWdlKGlucHV0KSB7XG4gIGlmIChpbnB1dCBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICBsZXQgc3JjO1xuICBsZXQgY2xlYW51cCA9ICgpID0+IHt9O1xuXG4gIGlmIChpbnB1dCBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICBzcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGlucHV0KTtcbiAgICBjbGVhbnVwID0gKCkgPT4gVVJMLnJldm9rZU9iamVjdFVSTChpbnB1dCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgIHNyYyA9IGlucHV0O1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNvbnZlcnQgaW5wdXQgdG8gaW1hZ2UnKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgcmVzb2x2ZShpbWFnZSk7XG4gICAgfTtcbiAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfTtcbiAgICBpbWFnZS5zcmMgPSBzcmM7XG4gIH0pO1xufVxuXG4vKipcbiAqIEdpdmVuIGFuIGlucHV0IG9mIGEgc3VwcG9ydGVkIHR5cGUsIGNvbnZlcnRzIGl0IHRvIGFuIEhUTUxDYW52YXNFbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7QmxvYnxIVE1MQ2FudmFzRWxlbWVudHxIVE1MSW1hZ2VFbGVtZW50fEltYWdlVVJJfSBpbnB1dFxuICogQHJldHVybnMge1Byb21pc2U8SFRNTENhbnZhc0VsZW1lbnQ+fVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9DYW52YXMoaW5wdXQpIHtcbiAgaWYgKGlucHV0IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGltYWdlID0gYXdhaXQgdG9JbWFnZShpbnB1dCk7XG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gaW1hZ2Uud2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGltYWdlLmhlaWdodDtcbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xuICAgIHJldHVybiBjYW52YXM7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNvbnZlcnQgaW5wdXQgdG8gY2FudmFzOiAnICsgZXJyKTtcbiAgfVxufVxuXG4vKipcbiAqIEdpdmVuIGFuIGlucHV0IG9mIGEgc3VwcG9ydGVkIHR5cGUsIGNvbnZlcnRzIGl0IHRvIGFuIEltYWdlRGF0YSBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtCbG9ifEhUTUxDYW52YXNFbGVtZW50fEhUTUxJbWFnZUVsZW1lbnR8SW1hZ2VEYXRhfEltYWdlVVJJfSBpbnB1dFxuICogQHJldHVybnMge1Byb21pc2U8SW1hZ2VEYXRhPn1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvSW1hZ2VEYXRhKGlucHV0KSB7XG4gIGlmIChpbnB1dCBpbnN0YW5jZW9mIEltYWdlRGF0YSkge1xuICAgIHJldHVybiBpbnB1dDtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgY2FudmFzID0gYXdhaXQgdG9DYW52YXMoaW5wdXQpO1xuICAgIHJldHVybiBjYW52YXNcbiAgICAgIC5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAuZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNvbnZlcnQgaW5wdXQgdG8gSW1hZ2VEYXRhOiAnICsgZXJyKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7QmxvYn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkQmxvYkFzUG5nKGJsb2IsIGZpbGVuYW1lID0gJ2ltYWdlLnBuZycpIHtcbiAgY29uc3QgZG93bmxvYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGRvd25sb2FkLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICBkb3dubG9hZC5kb3dubG9hZCA9IGZpbGVuYW1lO1xuICBkb3dubG9hZC5jbGljaygpO1xufVxuIiwiaW1wb3J0IHdpY2tlZEdvb2RYcGF0aCBmcm9tICd3Z3hwYXRoJztcblxuLyoqXG4gKiBBIGxvdy1wZXJmb3JtYW5jZSBwb2x5ZmlsbCBmb3IgdG9CbG9iIGJhc2VkIG9uIHRvRGF0YVVSTC4gQWRhcHRlZCBmcm9tOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L3RvQmxvYlxuICovXG5pZiAoIUhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZS50b0Jsb2IpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUxDYW52YXNFbGVtZW50LnByb3RvdHlwZSwgJ3RvQmxvYicsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gKGNhbGxiYWNrLCB0eXBlLCBxdWFsaXR5KSB7XG4gICAgICBjb25zdCBiaW5TdHIgPSBhdG9iKHRoaXMudG9EYXRhVVJMKHR5cGUsIHF1YWxpdHkpLnNwbGl0KCcsJylbMV0pO1xuICAgICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluU3RyLmxlbmd0aCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluU3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycltpXSA9IGJpblN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2Fycl0sIHt0eXBlOiB0eXBlIHx8ICdpbWFnZS9wbmcnfSk7XG4gICAgICBjYWxsYmFjayhibG9iKTtcbiAgICB9LFxuICB9KTtcbn1cblxuLyoqXG4gKiBQb2x5ZmlsbCBmb3Igc3ZnLmdldEVsZW1lbnRzQnlDbGFzc05hbWUgZm9yIElFMTFcbiAqIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL2NsaWVudElPL2pvaW50L2lzc3Vlcy8xMTcjaXNzdWVjb21tZW50LTE5NDY5OTIyMlxuICovXG5pZiAoU1ZHRWxlbWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gIFNWR0VsZW1lbnQucHJvdG90eXBlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPSBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlTZWxlY3RvckFsbCgnLicgKyBjbGFzc05hbWUpO1xuICB9O1xufVxuXG4vKipcbiAqIFBvbHlmaWxsIGZvciBkb2N1bWVudC5ldmFsdWF0ZSBmb3IgSUVcbiAqL1xuaWYgKCFkb2N1bWVudC5ldmFsdWF0ZSkge1xuICB3aWNrZWRHb29kWHBhdGguaW5zdGFsbCh3aW5kb3cpO1xufVxuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBjb250YWlucyBsb2dpYyBmb3IgdHJhY2tpbmcgdmFyaW91cyBleHBlcmltZW50cy4gRXhwZXJpbWVudHNcbiAqIGNhbiBiZSBlbmFibGVkL2Rpc2FibGVkIHVzaW5nIHF1ZXJ5IHBhcmFtZXRlcnM6XG4gKiAgIGVuYWJsZTogIGh0dHA6Ly9mb28uY29tLz9lbmFibGVFeHBlcmltZW50cz1leHBlcmltZW50T25lLGV4cGVyaW1lbnRUd29cbiAqICAgZGlzYWJsZTogaHR0cDovL2Zvby5jb20vP2Rpc2FibGVFeHBlcmltZW50cz1leHBlcmltZW50T25lLGV4cGVyaW1lbnRUd29cbiAqIEV4cGVyaW1lbnQgc3RhdGUgaXMgcGVyc2lzdGVkIGFjcm9zcyBwYWdlIGxvYWRzIHVzaW5nIGxvY2FsIHN0b3JhZ2UuICBOb3RlXG4gKiB0aGF0IGl0J3Mgb25seSB3cml0dGVuIHdoZW4gaXNFbmFibGVkIGlzIGNhbGxlZCBmb3IgdGhlIGtleSBpbiBxdWVzdGlvbi5cbiAqL1xuaW1wb3J0IHt0cnlTZXRMb2NhbFN0b3JhZ2V9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCBDb29raWUgZnJvbSAnanMtY29va2llJztcbmltcG9ydCB0cmFja0V2ZW50IGZyb20gJy4vdHJhY2tFdmVudCc7XG5pbXBvcnQgRENETyBmcm9tICdAY2RvL2FwcHMvZGNkbyc7XG5cbmNvbnN0IHF1ZXJ5U3RyaW5nID0gcmVxdWlyZSgncXVlcnktc3RyaW5nJyk7XG5cbmNvbnN0IGV4cGVyaW1lbnRzID0gbW9kdWxlLmV4cG9ydHM7XG4vLyBOZWVkZWQgdG8gc3VwcG9ydCBUeXBlU2NyaXB0IHVzYWdlLlxuZXhwb3J0IGRlZmF1bHQgZXhwZXJpbWVudHM7XG5jb25zdCBTVE9SQUdFX0tFWSA9ICdleHBlcmltZW50c0xpc3QnO1xuY29uc3QgR0FfRVZFTlQgPSAnZXhwZXJpbWVudHMnO1xuY29uc3QgRVhQRVJJTUVOVF9MSUZFU1BBTl9IT1VSUyA9IDEyO1xuXG4vLyBTcGVjaWZpYyBleHBlcmltZW50IG5hbWVzXG5leHBlcmltZW50cy5SRURVWF9MT0dHSU5HID0gJ3JlZHV4TG9nZ2luZyc7XG5leHBlcmltZW50cy5TQ0hPT0xfQVVUT0NPTVBMRVRFX0RST1BET1dOX05FV19TRUFSQ0ggPVxuICAnc2Nob29sQXV0b2NvbXBsZXRlRHJvcGRvd25OZXdTZWFyY2gnO1xuZXhwZXJpbWVudHMuU0hPV19VTlBVQkxJU0hFRF9GSVJFQkFTRV9UQUJMRVMgPSAnc2hvd1VucHVibGlzaGVkRmlyZWJhc2VUYWJsZXMnO1xuZXhwZXJpbWVudHMuVEVBQ0hFUl9EQVNIQk9BUkRfU0VDVElPTl9CVVRUT05TID1cbiAgJ3RlYWNoZXItZGFzaGJvYXJkLXNlY3Rpb24tYnV0dG9ucyc7XG5leHBlcmltZW50cy5URUFDSEVSX0RBU0hCT0FSRF9TRUNUSU9OX0JVVFRPTlNfQUxURVJOQVRFX1RFWFQgPVxuICAndGVhY2hlci1kYXNoYm9hcmQtc2VjdGlvbi1idXR0b25zLWFsdGVybmF0ZS10ZXh0JztcbmV4cGVyaW1lbnRzLkZJTklTSF9ESUFMT0dfTUVUUklDUyA9ICdmaW5pc2gtZGlhbG9nLW1ldHJpY3MnO1xuZXhwZXJpbWVudHMuSTE4Tl9UUkFDS0lORyA9ICdmcm9udGVuZC1pMThuLXRyYWNraW5nJztcbmV4cGVyaW1lbnRzLlRJTUVfU1BFTlQgPSAndGltZS1zcGVudCc7XG5leHBlcmltZW50cy5CWVBBU1NfRElBTE9HX1BPUFVQID0gJ2J5cGFzcy1kaWFsb2ctcG9wdXAnO1xuZXhwZXJpbWVudHMuU1BFQ0lBTF9UT1BJQyA9ICdzcGVjaWFsLXRvcGljJztcbmV4cGVyaW1lbnRzLk9QVF9JTl9FTUFJTF9SRUdfUEFSVE5FUiA9ICdvcHRJbkVtYWlsUmVnUGFydG5lcic7XG4vLyBFeHBlcmltZW50IGZvciBzaG93aW5nIGEgYmFja2dyb3VuZHMgdGFiIGFuZCBlbmFibGluZyBzdHVkZW50IHVwbG9hZFxuLy8gZm9yIFNwcml0ZSBMYWIgYW5pbWF0aW9uc1xuZXhwZXJpbWVudHMuQkFDS0dST1VORFNfQU5EX1VQTE9BRCA9ICdiYWNrZ3JvdW5kc1RhYic7XG5leHBlcmltZW50cy5TRUNUSU9OX1NFVFVQX1JFRlJFU0ggPSAnc2VjdGlvblNldHVwUmVmcmVzaCc7XG4vLyBFeHBlcmltZW50IGZvciBzaG93aW5nIHRoZSBnZW5kZXIgZmllbGRcbmV4cGVyaW1lbnRzLkdFTkRFUl9GRUFUVVJFX0VOQUJMRUQgPSAnZ2VuZGVyJztcbi8vIEV4cGVyaW1lbnQgZm9yIGVuYWJsaW5nIHRoZSBDUEEgbG9ja291dFxuZXhwZXJpbWVudHMuQ1BBX0VYUEVSSUVOQ0UgPSAnY3BhX2V4cGVyaWVuY2UnO1xuZXhwZXJpbWVudHMuQUlfUlVCUklDUyA9ICdhaS1ydWJyaWNzJztcbmV4cGVyaW1lbnRzLk5PTl9BSV9SVUJSSUNTID0gJ25vbi1haS1ydWJyaWNzJztcbi8vIEV4cGVyaW1lbnQgZm9yIHNob3dpbmcgdGhlIHRvZ2dsZSBhIHRlYWNoZXIgY2FuIHVzZSB0byB0dXJuIG9uIEFJIFR1dG9yIGZvciB0aGVpciBzZWN0aW9uXG5leHBlcmltZW50cy5BSV9UVVRPUl9BQ0NFU1MgPSAnYWktdHV0b3InO1xuLy8gVXNlcyBHb29nbGUgQmxvY2tseSBmb3IgYSBnaXZlbiB1c2VyIGFjcm9zcyBsYWJzL2xldmVscyB1bnRpbCB0aGUgZXhwZXJpbWVudCBpcyBkaXNhYmxlZFxuZXhwZXJpbWVudHMuR09PR0xFX0JMT0NLTFkgPSAnZ29vZ2xlX2Jsb2NrbHknO1xuLy8gQWRkcyBkb2N1bWVudGF0aW9uIGxpbmtzIHRvIGJsb2NrIGNvbnRleHQgbWVudXMgaW4gU3ByaXRlIExhYiAoc3VwcG9ydGVkIHdpdGggR29vZ2xlIEJsb2NrbHkgb25seSlcbmV4cGVyaW1lbnRzLlNQUklURV9MQUJfRE9DUyA9ICdzbF9kb2NzJztcbi8vIEFkZHMgYSBrZXlib2FyZCBuYXZpZ2F0aW9uIHRvZ2dsZSB0byB0aGUgd29ya3NwYWNlIGhlYWRlciBpbiBHb29nbGUgQmxvY2tseSBsYWJzXG5leHBlcmltZW50cy5LRVlCT0FSRF9OQVZJR0FUSU9OID0gJ2Jsb2NrbHlfa2V5Ym9hcmQnO1xuLy8gQWRkcyB0aGUgYWJpbGl0eSB0byB0b2dnbGUgYmV0d2VlbiB2MSBhbmQgdjIgb2YgdGhlIHNlY3Rpb24gcHJvZ3Jlc3MgcGFnZSBvZiB0aGUgdGVhY2hlciBkYXNoYm9hcmRcbmV4cGVyaW1lbnRzLlNFQ1RJT05fUFJPR1JFU1NfVjIgPSAnc2VjdGlvbl9wcm9ncmVzc192Mic7XG4vLyBFbmFibGVzIGEgdXNlciB0byB1dGlsaXplIHRoZSBuZXcgc2Nob29sIGFzc29jaWF0aW9uIGZsb3dcbmV4cGVyaW1lbnRzLlNDSE9PTF9BU1NPQ0lBVElPTl9WMiA9ICdzY2hvb2xfYXNzb2NpYXRpb25fdjInO1xuXG4vKipcbiAqIFRoaXMgd2FzIGEgZ2FtaWZpZWQgdmVyc2lvbiBvZiB0aGUgZmluaXNoIGRpYWxvZywgYnVpbHQgaW4gMjAxOCxcbiAqIGJ1dCBuZXZlciBmdWxseSBzaGlwcGVkLlxuICogU2VlIGdpdGh1Yi5jb20vY29kZS1kb3Qtb3JnL2NvZGUtZG90LW9yZy9wdWxsLzE5NTU3XG4gKi9cbmV4cGVyaW1lbnRzLkJVQkJMRV9ESUFMT0cgPSAnYnViYmxlRGlhbG9nJztcblxuLyoqXG4gKiBHZXQgb3VyIHF1ZXJ5IHN0cmluZy4gUHJvdmlkZWQgYXMgYSBtZXRob2Qgc28gdGhhdCB0ZXN0cyBjYW4gbW9jayB0aGlzLlxuICovXG5leHBlcmltZW50cy5nZXRRdWVyeVN0cmluZ18gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xufTtcblxuZXhwZXJpbWVudHMuZ2V0U3RvcmVkRXhwZXJpbWVudHNfID0gZnVuY3Rpb24gKCkge1xuICAvLyBHZXQgZXhwZXJpbWVudHMgb24gY3VycmVudCB1c2VyIGZyb20gZXhwZXJpbWVudHMgY29va2llXG4gIGNvbnN0IGV4cGVyaW1lbnRzQ29va2llID0gQ29va2llLmdldCgnX2V4cGVyaW1lbnRzJyArIHdpbmRvdy5jb29raWVFbnZTdWZmaXgpO1xuICBjb25zdCB1c2VyRXhwZXJpbWVudHMgPSBleHBlcmltZW50c0Nvb2tpZVxuICAgID8gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoZXhwZXJpbWVudHNDb29raWUpKS5tYXAobmFtZSA9PiAoe1xuICAgICAgICBrZXk6IG5hbWUsXG4gICAgICB9KSlcbiAgICA6IFtdO1xuXG4gIC8vIEdldCBleHBlcmltZW50cyBzdG9yZWQgaW4gbG9jYWwgc3RvcmFnZS5cbiAgdHJ5IHtcbiAgICBjb25zdCBqc29uTGlzdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTtcbiAgICBjb25zdCBzdG9yZWRFeHBlcmltZW50cyA9IGpzb25MaXN0ID8gSlNPTi5wYXJzZShqc29uTGlzdCkgOiBbXTtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGVuYWJsZWRFeHBlcmltZW50cyA9IHN0b3JlZEV4cGVyaW1lbnRzLmZpbHRlcihleHBlcmltZW50ID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGV4cGVyaW1lbnQua2V5ICYmXG4gICAgICAgIChleHBlcmltZW50LmV4cGlyYXRpb24gPT09IHVuZGVmaW5lZCB8fCBleHBlcmltZW50LmV4cGlyYXRpb24gPiBub3cpXG4gICAgICApO1xuICAgIH0pO1xuICAgIGlmIChlbmFibGVkRXhwZXJpbWVudHMubGVuZ3RoIDwgc3RvcmVkRXhwZXJpbWVudHMubGVuZ3RoKSB7XG4gICAgICB0cnlTZXRMb2NhbFN0b3JhZ2UoU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KGVuYWJsZWRFeHBlcmltZW50cykpO1xuICAgIH1cbiAgICByZXR1cm4gdXNlckV4cGVyaW1lbnRzLmNvbmNhdChlbmFibGVkRXhwZXJpbWVudHMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHVzZXJFeHBlcmltZW50cztcbiAgfVxufTtcblxuZXhwZXJpbWVudHMuZ2V0RW5hYmxlZEV4cGVyaW1lbnRzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5nZXRTdG9yZWRFeHBlcmltZW50c18oKS5tYXAoZXhwZXJpbWVudCA9PiBleHBlcmltZW50LmtleSk7XG59O1xuXG5leHBlcmltZW50cy5zZXRFbmFibGVkID0gZnVuY3Rpb24gKGtleSwgc2hvdWxkRW5hYmxlLCBleHBpcmF0aW9uID0gdW5kZWZpbmVkKSB7XG4gIGNvbnN0IGFsbEVuYWJsZWQgPSB0aGlzLmdldFN0b3JlZEV4cGVyaW1lbnRzXygpO1xuICBjb25zdCBleHBlcmltZW50SW5kZXggPSBhbGxFbmFibGVkLmZpbmRJbmRleChcbiAgICBleHBlcmltZW50ID0+IGV4cGVyaW1lbnQua2V5ID09PSBrZXlcbiAgKTtcbiAgaWYgKHNob3VsZEVuYWJsZSkge1xuICAgIGlmIChleHBlcmltZW50SW5kZXggPCAwKSB7XG4gICAgICBhbGxFbmFibGVkLnB1c2goe2tleSwgZXhwaXJhdGlvbn0pO1xuICAgICAgdHJhY2tFdmVudChHQV9FVkVOVCwgJ2VuYWJsZScsIGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFsbEVuYWJsZWRbZXhwZXJpbWVudEluZGV4XS5leHBpcmF0aW9uID0gZXhwaXJhdGlvbjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZXhwZXJpbWVudEluZGV4ID49IDApIHtcbiAgICBhbGxFbmFibGVkLnNwbGljZShleHBlcmltZW50SW5kZXgsIDEpO1xuICAgIHRyYWNrRXZlbnQoR0FfRVZFTlQsICdkaXNhYmxlJywga2V5KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdHJ5U2V0TG9jYWxTdG9yYWdlKFNUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeShhbGxFbmFibGVkKSk7XG59O1xuXG4vKipcbiAqIENoZWNrcyBmb3IgdGhlIGV4cGVyaW1lbnQgd2hpbGUgYWxsb3dpbmcgZm9yIGEgc2ltcGxlciBxdWVyeSBzdHJpbmdcbiAqIHBhcmFtZXRlciB0byBlbmFibGUgdGhlIGV4cGVyaW1lbnQuIEZvciBpbnN0YW5jZSwgaWYgYGtleWAgaXMgXCJmb29cIixcbiAqIHRoZSBleHBlcmltZW50IGlzIGFsbG93ZWQgYnkgYW55IG90aGVyIG1lYW5zIGJ1dCBhbHNvIGlmIGA/Zm9vPTFgIGlzXG4gKiBzcGVjaWZpZWQgaW4gdGhlIGN1cnJlbnQgVVJMLlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIE5hbWUgb2YgZXhwZXJpbWVudCBpbiBxdWVzdGlvblxuICogQHJldHVybnMge2Jvb2x9XG4gKi9cbmV4cGVyaW1lbnRzLmlzRW5hYmxlZEFsbG93aW5nUXVlcnlTdHJpbmcgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIGNvbnN0IHF1ZXJ5ID0gcXVlcnlTdHJpbmcucGFyc2UodGhpcy5nZXRRdWVyeVN0cmluZ18oKSk7XG5cbiAgLy8gTG9vayBmb3IgP215X2V4cGVyaW1lbnQ9MSBzdHlsZSBleHBlcmltZW50IGtleXNcbiAgaWYgKHF1ZXJ5W2tleV0pIHtcbiAgICAvLyBXZSBlbmFibGUgd2hlbiBhbnkgcXVlcnkgc3RyaW5nIG1hdGNoZXMsIGJ1dCBkbyBub3RcbiAgICAvLyBzZXQgaXQgaW4gdGhlIHNlc3Npb24gc3RvcmFnZS5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBleHBlcmltZW50cy5pc0VuYWJsZWQoa2V5KTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgcHJvdmlkZWQgZXhwZXJpbWVudCBpcyBlbmFibGVkIG9yIG5vdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBOYW1lIG9mIGV4cGVyaW1lbnQgaW4gcXVlc3Rpb25cbiAqIEByZXR1cm5zIHtib29sfVxuICovXG5leHBlcmltZW50cy5pc0VuYWJsZWQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIGNvbnN0IHN0b3JlZEV4cGVyaW1lbnRzID0gdGhpcy5nZXRTdG9yZWRFeHBlcmltZW50c18oKTtcbiAgbGV0IGVuYWJsZWQgPVxuICAgIHN0b3JlZEV4cGVyaW1lbnRzLnNvbWUoZXhwZXJpbWVudCA9PiBleHBlcmltZW50LmtleSA9PT0ga2V5KSB8fFxuICAgICEhKFxuICAgICAgd2luZG93LmFwcE9wdGlvbnMgJiZcbiAgICAgIHdpbmRvdy5hcHBPcHRpb25zLmV4cGVyaW1lbnRzICYmXG4gICAgICB3aW5kb3cuYXBwT3B0aW9ucy5leHBlcmltZW50cy5pbmNsdWRlcyhrZXkpXG4gICAgKTtcbiAgLy8gQ2hlY2sgRENETyB0byBzZWUgaWYgdGhpcyBleHBlcmltZW50IGlzIGVuYWJsZWQuXG4gIC8vIFVzZXIgZXhwZXJpbWVudCBmbGFncyBhbmQgY29va2llIGV4cGVyaW1lbnQgZmxhZ3MgdGFrZSBoaWdoZXIgcHJpb3JpdHkgb3ZlciBEQ0RPIGV4cGVyaW1lbnRzLlxuICBlbmFibGVkID0gZW5hYmxlZCB8fCAhIURDRE8uZ2V0KGtleSwgZmFsc2UpO1xuXG4gIGNvbnN0IHF1ZXJ5ID0gcXVlcnlTdHJpbmcucGFyc2UodGhpcy5nZXRRdWVyeVN0cmluZ18oKSk7XG4gIGNvbnN0IGVuYWJsZVF1ZXJ5ID0gcXVlcnlbJ2VuYWJsZUV4cGVyaW1lbnRzJ107XG4gIGNvbnN0IGRpc2FibGVRdWVyeSA9IHF1ZXJ5WydkaXNhYmxlRXhwZXJpbWVudHMnXTtcbiAgY29uc3QgdGVtcEVuYWJsZVF1ZXJ5ID0gcXVlcnlbJ3RlbXBFbmFibGVFeHBlcmltZW50cyddO1xuXG4gIGlmIChlbmFibGVRdWVyeSkge1xuICAgIGNvbnN0IGV4cGVyaW1lbnRzVG9FbmFibGUgPSBlbmFibGVRdWVyeS5zcGxpdCgnLCcpO1xuICAgIGlmIChleHBlcmltZW50c1RvRW5hYmxlLmluZGV4T2Yoa2V5KSA+PSAwKSB7XG4gICAgICBlbmFibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2V0RW5hYmxlZChrZXksIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkaXNhYmxlUXVlcnkpIHtcbiAgICBjb25zdCBleHBlcmltZW50c1RvRGlzYWJsZSA9IGRpc2FibGVRdWVyeS5zcGxpdCgnLCcpO1xuICAgIGlmIChleHBlcmltZW50c1RvRGlzYWJsZS5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5zZXRFbmFibGVkKGtleSwgZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0ZW1wRW5hYmxlUXVlcnkpIHtcbiAgICBjb25zdCBleHBpcmF0aW9uRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgZXhwaXJhdGlvbkRhdGUuc2V0SG91cnMoXG4gICAgICBleHBpcmF0aW9uRGF0ZS5nZXRIb3VycygpICsgRVhQRVJJTUVOVF9MSUZFU1BBTl9IT1VSU1xuICAgICk7XG4gICAgY29uc3QgZXhwaXJhdGlvbiA9IGV4cGlyYXRpb25EYXRlLmdldFRpbWUoKTtcblxuICAgIGNvbnN0IGV4cGVyaW1lbnRzVG9FbmFibGUgPSB0ZW1wRW5hYmxlUXVlcnkuc3BsaXQoJywnKTtcbiAgICBpZiAoZXhwZXJpbWVudHNUb0VuYWJsZS5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgZW5hYmxlZCA9IHRydWU7XG4gICAgICB0aGlzLnNldEVuYWJsZWQoa2V5LCB0cnVlLCBleHBpcmF0aW9uKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZW5hYmxlZDtcbn07XG4iLCIvKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBwdWxsIGpzb24gZGF0YSBvZmYgb2Ygc2NyaXB0IHRhZ3MuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZGF0YSBhdHRyaWJ1dGUgdG8gbG9vayB1cC5cbiAqICAgICBOb3RlIHRoYXQgdGhpcyBtdXN0IGJlIHVuaXF1ZSBvbiB0aGUgcGFnZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IHRoZSBkZWNvZGVkIGpzb24gdmFsdWUgb2YgdGhlIGRhdGEgYXR0cmlidXRlLlxuICpcbiAqIEV4YW1wbGU6IGdpdmVuIHlvdSBoYXZlIHRoZSBmb2xsb3dpbmcgaHRtbDpcbiAqXG4gKiAgIDxzY3JpcHQgc3JjPVwibXlzY3JpcHQuanNcIiBkYXRhLXNvbWVTZXJ2ZXJEYXRhPSd7XCJ1c2VySWRcIjogXCJmb29iYXJcIn0nPjwvc2NyaXB0PlxuICpcbiAqIHlvdSBjb3VsZCB1c2UgdGhpcyBmdW5jdGlvbiBsaWtlIHNvOlxuICpcbiAqICAgY29uc3QgdXNlcklkID0gZ2V0U2NyaXB0RGF0YSgnc29tZVNlcnZlckRhdGEnKS51c2VySWQ7XG4gKiAgIGNvbnNvbGUubG9nKFwidGhlIHNlcnZlciB0aGF0IHJlbmRlcmVkIHRoaXMgcGFnZSBjbGFpbXMgdGhlIHVzZXIgaXNcIiwgdXNlcmlkKTtcbiAqXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFNjcmlwdERhdGEobmFtZSkge1xuICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbZGF0YS0ke25hbWV9XWApO1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHNjcmlwdC5kYXRhc2V0W25hbWVdKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwYXJzZSBzY3JpcHQgZGF0YSBmb3Igc2NyaXB0JywgbmFtZSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzU2NyaXB0RGF0YShuYW1lKSB7XG4gIHJldHVybiAhIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZSk7XG59XG4iLCJpbXBvcnQgZXhwZXJpbWVudHMgZnJvbSAnQGNkby9hcHBzL3V0aWwvZXhwZXJpbWVudHMnO1xuaW1wb3J0IHtnZXRJMThuU3RyaW5nVHJhY2tlcldvcmtlcn0gZnJvbSAnQGNkby9hcHBzL3V0aWwvaTE4blN0cmluZ1RyYWNrZXJXb3JrZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsb2NhbGVXaXRoSTE4blN0cmluZ1RyYWNrZXIobG9jYWxlLCBzb3VyY2UpIHtcbiAgaWYgKCFleHBlcmltZW50cy5pc0VuYWJsZWQoZXhwZXJpbWVudHMuSTE4Tl9UUkFDS0lORykpIHtcbiAgICByZXR1cm4gbG9jYWxlO1xuICB9XG5cbiAgY29uc3QgbG9jYWxlV2l0aFRyYWNrZXIgPSB7fTtcbiAgLy8gSXRlcmF0ZXMgZWFjaCBmdW5jdGlvbiBpbiB0aGUgZ2l2ZW4gbG9jYWxlIG9iamVjdCBhbmQgY3JlYXRlcyBhIHdyYXBwZXIgZnVuY3Rpb24uXG4gIE9iamVjdC5rZXlzKGxvY2FsZSkuZm9yRWFjaChmdW5jdGlvbiAoc3RyaW5nS2V5LCBpbmRleCkge1xuICAgIGxvY2FsZVdpdGhUcmFja2VyW3N0cmluZ0tleV0gPSBmdW5jdGlvbiAoZCkge1xuICAgICAgY29uc3QgdmFsdWUgPSBsb2NhbGVbc3RyaW5nS2V5XShkKTtcbiAgICAgIGxvZyhzdHJpbmdLZXksIHNvdXJjZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiBsb2NhbGVXaXRoVHJhY2tlcjtcbn1cblxuLy8gUmVjb3JkcyB0aGUgdXNhZ2Ugb2YgdGhlIGdpdmVuIGkxOG4gc3RyaW5nIGtleSBmcm9tIHRoZSBnaXZlbiBzb3VyY2UgZmlsZS5cbi8vIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdLZXkgIFRoZSBzdHJpbmcga2V5IHVzZWQgdG8gbG9vayB1cCB0aGUgaTE4biB2YWx1ZSBlLmcuICdob21lLmJhbm5lcl90ZXh0J1xuLy8gQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBDb250ZXh0IGZvciB3aGVyZSB0aGUgZ2l2ZW4gc3RyaW5nIGtleSBjYW1lIGZyb20gZS5nLiAnbWF6ZScsICdkYW5jZScsIGV0Yy5cbmZ1bmN0aW9uIGxvZyhzdHJpbmdLZXksIHNvdXJjZSkge1xuICBpZiAoIXN0cmluZ0tleSB8fCAhc291cmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gU2VuZCB0aGUgdXNhZ2UgZGF0YSB0byBhIGJhY2tncm91bmQgd29ya2VyIHRocmVhZCB0byBiZSBidWZmZXJlZCBhbmQgc2VudC5cbiAgZ2V0STE4blN0cmluZ1RyYWNrZXJXb3JrZXIoKS5sb2coc3RyaW5nS2V5LCBzb3VyY2UpO1xufVxuIiwiaW1wb3J0ICd3aGF0d2ctZmV0Y2gnO1xuXG4vKipcbiAqIEdldHMgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiBhbiBJMThuU3RyaW5nVHJhY2tlcldvcmtlclxuICogQHJldHVybnMge0kxOG5TdHJpbmdUcmFja2VyV29ya2VyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0STE4blN0cmluZ1RyYWNrZXJXb3JrZXIoKSB7XG4gIHJldHVybiBuZXcgSTE4blN0cmluZ1RyYWNrZXJXb3JrZXIoKTtcbn1cblxuLyoqXG4gKiBBIHNpbmdsZXRvbiBjbGFzcyB3aGljaCBidWZmZXJzIGkxOG4gc3RyaW5nIHVzYWdlIGRhdGEgYW5kIHNlbmRzIGl0IGluIGJhdGNoZXMgdG8gdGhlICcvaTE4bi90cmFja19zdHJpbmdfdXNhZ2UnIEFQSS5cbiAqL1xuY2xhc3MgSTE4blN0cmluZ1RyYWNrZXJXb3JrZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhbHJlYWR5IGEgc2luZ2xldG9uIGluc3RhbmNlLlxuICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5jb25zdHJ1Y3Rvci5pbnN0YW5jZTtcbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIHNpbmdsZXRvbiBpbnN0YW5jZSB0byB0aGlzIGluc3RhbmNlIGlmIGl0IGRvZXNuJ3QgZXhpc3QgYWxyZWFkeS5cbiAgICB0aGlzLmNvbnN0cnVjdG9yLmluc3RhbmNlID0gdGhpcztcblxuICAgIC8qKlxuICAgICAqIEEgYnVmZmVyIG9mIHJlY29yZHMgdG8gYmUgc2VudCBpbiBiYXRjaGVzLiBFYWNoIGtleSBpcyB0aGUgYHNvdXJjZWAgZmlsZSBvZiB0aGUgc3RyaW5nIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGVcbiAgICAgKiBpMThuIGBzdHJpbmdLZXlgcyB1c2VkIHRvIGxvb2t1cCB0aGUgdHJhbnNsYXRlZCBzdHJpbmcuXG4gICAgICogQHR5cGVkZWYge09iamVjdC48c3RyaW5nLCBTZXQ+fSBJMThuUmVjb3Jkc1xuICAgICAqIEV4YW1wbGU6XG4gICAgICoge1xuICAgICAqICAgJ2NvbW1vbl9sb2NhbGUnOiBbICdjdXJyaWN1bHVtJywgJ3RlYWNoZXJGb3J1bScsICdwcm9mZXNzaW9uYWxMZWFybmluZycsIC4uLl0sXG4gICAgICogICAnZmlzaF9sb2NhbGUnOiAuLi5cbiAgICAgKiB9XG4gICAgICovXG4gICAgdGhpcy5idWZmZXIgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWZmZXJzIHRoZSBnaXZlbiBpMThuIHN0cmluZyB1c2FnZSBkYXRhIHRvIGJlIHNlbnQgbGF0ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmdLZXkgVGhlIGtleSB1c2VkIHRvIGxvb2sgdXAgdGhlIGkxOG4gc3RyaW5nIHZhbHVlIGUuZy4gJ2N1cnJpY3VsdW0nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgQ29udGV4dCBhYm91dCB0aGUgZmlsZSBpMThuIHZhbHVlIHdhcyBsb29rZWQgdXAgaW4gZS5nLiAnY29tbW9uX2xvY2FsZSdcbiAgICovXG4gIGxvZyhzdHJpbmdLZXksIHNvdXJjZSkge1xuICAgIGlmICghc3RyaW5nS2V5IHx8ICFzb3VyY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmJ1ZmZlcltzb3VyY2VdID0gdGhpcy5idWZmZXJbc291cmNlXSB8fCBuZXcgU2V0KCk7XG4gICAgdGhpcy5idWZmZXJbc291cmNlXS5hZGQoYCR7c291cmNlfS4ke3N0cmluZ0tleX1gKTtcblxuICAgIC8vIHNjaGVkdWxlIGEgYnVmZmVyIGZsdXNoIGlmIHRoZXJlIGlzbid0IGFscmVhZHkgb25lLlxuICAgIGlmICghdGhpcy5wZW5kaW5nRmx1c2gpIHtcbiAgICAgIHRoaXMucGVuZGluZ0ZsdXNoID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLmZsdXNoKCksIDMwMDApO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNlbmRzIGFsbCB0aGUgYnVmZmVyZWQgcmVjb3Jkc1xuICBmbHVzaCgpIHtcbiAgICAvLyBEbyBub3RoaW5nIGlmIHRoZXJlIGFyZSBubyByZWNvcmRzIHRvIHJlY29yZC5cbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5idWZmZXIpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEdyYWIgdGhlIGNvbnRlbnRzIG9mIHRoZSBjdXJyZW50IGJ1ZmZlciBhbmQgY2xlYXIgdGhlIGJ1ZmZlci5cbiAgICBjb25zdCByZWNvcmRzID0gdGhpcy5idWZmZXI7XG4gICAgdGhpcy5idWZmZXIgPSB7fTtcbiAgICB0aGlzLnBlbmRpbmdGbHVzaCA9IG51bGw7XG5cbiAgICAvLyBSTkcgdG8gc2VuZCBvbmx5IDElIG9mIHRoZSB0aW1lXG4gICAgaWYgKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCkgPT09IDApIHtcbiAgICAgIC8vIFJlY29yZCB0aGUgaTE4biBzdHJpbmcgdXNhZ2UgZGF0YS5cbiAgICAgIHNlbmRSZWNvcmRzKHJlY29yZHMpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBUaGUgbWF4IG51bWJlciBvZiByZWNvcmRzIHdoaWNoIGNhbiBiZSBzZW50IGF0IG9uY2UgdG8gdGhlICcvaTE4bi90cmFja19zdHJpbmdfdXNhZ2UnIEFQSVxuY29uc3QgUkVDT1JEX0xJTUlUID0gNTAwO1xuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHNlbmQgdGhlIGdpdmVuIHJlY29yZHMgdG8gdGhlIGAvaTE4bi90cmFja19zdHJpbmdfdXNhZ2VgIEFQSVxuICogQHBhcmFtIHtJMThuUmVjb3Jkc30gcmVjb3JkcyBUaGUgcmVjb3JkcyBvZiBpMThuIHN0cmluZyB1c2FnZSBpbmZvcm1hdGlvbiB0byBiZSBzZW50LlxuICovXG5mdW5jdGlvbiBzZW5kUmVjb3JkcyhyZWNvcmRzKSB7XG4gIGxldCBsb2NhdGlvbk9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW47XG4gIGlmICghbG9jYXRpb25PcmlnaW4pIHtcbiAgICBsb2NhdGlvbk9yaWdpbiA9XG4gICAgICB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgK1xuICAgICAgJy8vJyArXG4gICAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgK1xuICAgICAgKHdpbmRvdy5sb2NhdGlvbi5wb3J0ID8gJzonICsgd2luZG93LmxvY2F0aW9uLnBvcnQgOiAnJyk7XG4gIH1cblxuICBjb25zdCB1cmwgPSBsb2NhdGlvbk9yaWdpbiArIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTsgLy9zdHJpcCB0aGUgcXVlcnkgc3RyaW5nIGZyb20gdGhlIFVSTFxuXG4gIE9iamVjdC5rZXlzKHJlY29yZHMpLmZvckVhY2goc291cmNlID0+IHtcbiAgICBjb25zdCBzdHJpbmdLZXlzID0gQXJyYXkuZnJvbShyZWNvcmRzW3NvdXJjZV0pO1xuICAgIC8vIEJyZWFrIHRoZSBrZXlzIHVwIGludG8gc21hbGxlciBiYXRjaGVzIGJlY2F1c2UgdGhlIEFQSSBoYXMgYSBtYXhpbXVtIGxpbWl0LlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyaW5nS2V5cy5sZW5ndGg7IGkgKz0gUkVDT1JEX0xJTUlUKSB7XG4gICAgICBjb25zdCBzdHJpbmdLZXlCYXRjaCA9IHN0cmluZ0tleXMuc2xpY2UoaSwgUkVDT1JEX0xJTUlUKTtcbiAgICAgIGZldGNoKCcvaTE4bi90cmFja19zdHJpbmdfdXNhZ2UnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgIHN0cmluZ19rZXlzOiBzdHJpbmdLZXlCYXRjaCxcbiAgICAgICAgfSksXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuIiwiLyoqXG4gKiBETyBOT1QgSU1QT1JUIFRISVMgRElSRUNUTFkuIEluc3RlYWQgZG86XG4gKiAgIGBgYFxuICogICBpbXBvcnQgbXNnIGZyb20gJ0BjZG8vbG9jYWxlJy5cbiAqICAgYGBgXG4gKiBUaGlzIGFsbG93cyB0aGUgd2VicGFjayBjb25maWcgdG8gZGV0ZXJtaW5lIGhvdyBsb2NhbGVzIHNob3VsZCBiZSBsb2FkZWQsXG4gKiB3aGljaCBpcyBpbXBvcnRhbnQgZm9yIG1ha2luZyBsb2NhbGUgc2V0dXAgd29yayBzZWVtbGVzc2x5IGluIHRlc3RzLlxuICovXG4vLyBiYXNlIGxvY2FsZVxuXG5pbXBvcnQgc2FmZUxvYWRMb2NhbGUgZnJvbSAnQGNkby9hcHBzL3V0aWwvc2FmZUxvYWRMb2NhbGUnO1xuaW1wb3J0IGxvY2FsZVdpdGhJMThuU3RyaW5nVHJhY2tlciBmcm9tICdAY2RvL2FwcHMvdXRpbC9pMThuU3RyaW5nVHJhY2tlcic7XG5cbmxldCBsb2NhbGUgPSBzYWZlTG9hZExvY2FsZSgnY29tbW9uX2xvY2FsZScpO1xubG9jYWxlID0gbG9jYWxlV2l0aEkxOG5TdHJpbmdUcmFja2VyKGxvY2FsZSwgJ2NvbW1vbicpO1xubW9kdWxlLmV4cG9ydHMgPSBsb2NhbGU7XG4iLCIvKipcbiAqIEhlbHBlciBtZXRob2QgZm9yIGxvYWRpbmcgdGhlIGxvY2FsZSBmcm9tIHRoZSBnbG9iYWwgc2NvcGUsIHdoaWNoIHdpbGwgZGV0ZWN0IGlmXG4gKiB0cmFuc2xhdGlvbnMgYXJlIG5vdCBwcmVzZW50IGluIHRoZSBlbnZpcm9ubWVudCBhbmQgZmFsbCBiYWNrIHRvIGFuIGVtcHR5IGxvY2FsZVxuICogb2JqZWN0LlxuICpcbiAqIEBwYXJhbSBsb2NhbGVLZXkge1N0cmluZ30gVGhlIG5hbWUgb2YgdGhlIGxvY2FsZSBvbiB0aGUgZ2xvYmFsIGJsb2NrbHlcbiAqICAgICBvYmplY3QuIFVzdWFsbHkgc29tZXRoaW5nIGxpa2UgXCJjb21tb25fbG9jYWxlXCIsIFwic3R1ZGlvX2xvY2FsZVwiLFxuICogICAgIFwiYXBwbGFiX2xvY2FsZVwiLCBldGMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNhZmVMb2FkTG9jYWxlKGxvY2FsZUtleSkge1xuICBpZiAod2luZG93LmxvY2FsZXMgJiYgd2luZG93LmxvY2FsZXNbbG9jYWxlS2V5XSkge1xuICAgIHJldHVybiB3aW5kb3cubG9jYWxlc1tsb2NhbGVLZXldO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdUcmFuc2xhdGlvbnMgbXVzdCBiZSBsb2FkZWQgaW50byB0aGUgZ2xvYmFsIHNjb3BlIGJlZm9yZSBhY2Nlc3MuICcgK1xuICAgICAgICAnRmFsbGluZyBiYWNrIG9uIGFuIGVtcHR5IHRyYW5zbGF0aW9uIG9iamVjdC4gVGhpcyBwYWdlIG1heSBicmVhayBkdWUgdG8gbWlzc2luZyB0cmFuc2xhdGlvbnMuJ1xuICAgICk7XG5cbiAgICAvLyBSZXR1cm4gYW4gZW1wdHkgb2JqZWN0LCBzbyBpMThuIG1ldGhvZHMgdGhyb3cgd2hlcmUgdGhleSBhcmUgY2FsbGVkIGFuZFxuICAgIC8vIGdlbmVyYXRlIG1vcmUgdXNlZnVsIHN0YWNrIHRyYWNlcy5cbiAgICByZXR1cm4ge307XG4gIH1cbn1cbiIsIi8qKlxuICogUmVwb3J0IGFuIGV2ZW50IHRvIEdvb2dsZSBBbmFseXRpY3MuXG4gKiB0cmFja0V2ZW50IGlzIHByb3ZpZGVkIGJ5IF9hbmFseXRpY3MuaHRtbC5oYW1sIGluIG1vc3QgY2FzZXMuXG4gKiBJbiB0aG9zZSB3aGVyZSBpdCBpc24ndCwgd2Ugd2FudCB0aGlzIGNhbGwgdG8gYmUgYSBzaW1wbGUgbm8tb3AuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYWNrRXZlbnQoLi4uYXJncykge1xuICBpZiAoSU5fVU5JVF9URVNUIHx8IElOX1NUT1JZQk9PSykge1xuICAgIC8vIFdlIHNob3VsZCBzaWxlbnRseSBuby1vcCBpbiB0ZXN0cywgYnV0IGluIG90aGVyIHBsYWNlcyB3ZSBhY3R1YWxseVxuICAgIC8vIHdhbnQgdGhpcyBjYWxsIHRvIGZhaWwgaWYgd2luZG93LnRyYWNrRXZlbnQgaXMgbm90IGF2YWlsYWJsZS5cbiAgICByZXR1cm47XG4gIH1cbiAgd2luZG93LnRyYWNrRXZlbnQoLi4uYXJncyk7XG59XG4iLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IEltbXV0YWJsZSBmcm9tICdpbW11dGFibGUnO1xuaW1wb3J0IFJHQkNvbG9yIGZyb20gJ3JnYmNvbG9yJztcbmltcG9ydCB7UG9zaXRpb259IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7ZGF0YVVSSUZyb21VUkl9IGZyb20gJy4vaW1hZ2VVdGlscyc7XG5pbXBvcnQgJy4vcG9seWZpbGxzJztcbmltcG9ydCBtZDUgZnJvbSAnbWQ1JztcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgZ2l2ZW4gc3Vic2VxdWVuY2UgaXMgdHJ1bHkgYSBzdWJzZXF1ZW5jZSBvZiB0aGUgZ2l2ZW4gc2VxdWVuY2UsXG4gKiBhbmQgd2hldGhlciB0aGUgZWxlbWVudHMgYXBwZWFyIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBzZXF1ZW5jZS5cbiAqXG4gKiBAcGFyYW0gc2VxdWVuY2UgQXJyYXkgLSBUaGUgc2VxdWVuY2UgdGhhdCB0aGUgc3Vic2VxdWVuY2Ugc2hvdWxkIGJlIGEgc3Vic2VxdWVuY2Ugb2YuXG4gKiBAcGFyYW0gc3Vic2VxdWVuY2UgQXJyYXkgLSBBIHN1YnNlcXVlbmNlIG9mIHRoZSBnaXZlbiBzZXF1ZW5jZS5cbiAqIEByZXR1cm5zIGJvb2xlYW4gLSB3aGV0aGVyIG9yIG5vdCBzdWJzZXF1ZW5jZSBpcyByZWFsbHkgYSBzdWJzZXF1ZW5jZSBvZiBzZXF1ZW5jZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3Vic2VxdWVuY2Uoc2VxdWVuY2UsIHN1YnNlcXVlbmNlKSB7XG4gIGxldCBzdXBlckluZGV4ID0gMCxcbiAgICBzdWJJbmRleCA9IDA7XG4gIHdoaWxlIChzdWJJbmRleCA8IHN1YnNlcXVlbmNlLmxlbmd0aCkge1xuICAgIHdoaWxlIChcbiAgICAgIHN1cGVySW5kZXggPCBzZXF1ZW5jZS5sZW5ndGggJiZcbiAgICAgIHN1YnNlcXVlbmNlW3N1YkluZGV4XSAhPT0gc2VxdWVuY2Vbc3VwZXJJbmRleF1cbiAgICApIHtcbiAgICAgIHN1cGVySW5kZXgrKztcbiAgICB9XG4gICAgaWYgKHN1cGVySW5kZXggPj0gc2VxdWVuY2UubGVuZ3RoKSB7XG4gICAgICAvLyB3ZSB3ZW50IG9mZiB0aGUgZW5kIHdoaWxlIHNlYXJjaGluZ1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzdWJJbmRleCsrO1xuICAgIHN1cGVySW5kZXgrKztcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYWxsb3dDb3B5KHNvdXJjZSkge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgcmVzdWx0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgY2xvbmUgb2YgdGhlIG9iamVjdCwgc3RyaXBwaW5nIGFueSBmdW5jdGlvbnMgb24gaXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZVdpdGhvdXRGdW5jdGlvbnMob2JqZWN0KSB7XG4gIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iamVjdCkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgd2l0aCBhIGRvdWJsZSBxdW90ZSBiZWZvcmUgYW5kIGFmdGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVvdGUoc3RyKSB7XG4gIHJldHVybiAnXCInICsgc3RyICsgJ1wiJztcbn1cblxuLyoqXG4gKiBTcGxpdHMgYSBzdHJpbmcgaW50byBjaHVua3Mgb2YgYSBjZXJ0YWluIGxlbmd0aC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge051bWJlcn0gbWF4TGVuZ3RoIE1heCBsZW5ndGggb2YgZWFjaCBjaHVuay5cbiAqIEBwYXJhbSB7U3RyaW5nfSBkZWxpbWl0ZXJcbiAqIEByZXR1cm5zIEFycmF5PFN0cmluZz5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvQ2h1bmtzKHN0ciwgbWF4TGVuZ3RoLCBkZWxpbWl0ZXIgPSAnICcpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdChkZWxpbWl0ZXIpLnJlZHVjZShcbiAgICAoYWNjLCB2YWwpID0+IHtcbiAgICAgIGxldCBsYXN0VmFsID0gJyc7XG4gICAgICBpZiAoYWNjW2FjYy5sZW5ndGggLSAxXS5sZW5ndGggKyB2YWwubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIGxhc3RWYWwgPSBhY2MucG9wKCkgKyBkZWxpbWl0ZXI7XG4gICAgICB9XG5cbiAgICAgIGxhc3RWYWwgKz0gdmFsO1xuICAgICAgYWNjLnB1c2gobGFzdFZhbC50cmltKCkpO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LFxuICAgIFsnJ11cbiAgKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIGZyb20gZGVmYXVsdHMgb3ZlcnJpZGRlbiBieSBhbnlcbiAqIHByb3BlcnRpZXMgaW4gb3B0aW9ucy4gTGVhdmVzIGRlZmF1bHRzIGFuZCBvcHRpb25zIHVuY2hhbmdlZC5cbiAqIE5PVEU6IEZvciBuZXcgY29kZSwgdXNlIE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRpb25zKSBpbnN0ZWFkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpIHtcbiAgdmFyIGZpbmFsT3B0aW9ucyA9IGV4cG9ydHMuc2hhbGxvd0NvcHkoZGVmYXVsdHMpO1xuICBmb3IgKHZhciBwcm9wIGluIG9wdGlvbnMpIHtcbiAgICBmaW5hbE9wdGlvbnNbcHJvcF0gPSBvcHRpb25zW3Byb3BdO1xuICB9XG5cbiAgcmV0dXJuIGZpbmFsT3B0aW9ucztcbn1cblxuLyoqXG4gKiBSZXBsYWNlcyBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gc3RyaW5nIGJ5IEhUTUwgZW50aXRpZXMuXG4gKiBMaXN0IG9mIHNwZWNpYWwgY2hhcmFjdGVycyBpcyB0YWtlbiBmcm9tXG4gKiBodHRwczovL2NoZWF0c2hlZXRzZXJpZXMub3dhc3Aub3JnL2NoZWF0c2hlZXRzL0Nyb3NzX1NpdGVfU2NyaXB0aW5nX1ByZXZlbnRpb25fQ2hlYXRfU2hlZXQuaHRtbC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1bnNhZmUgLSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEVzY2FwZWQgc3RyaW5nLiBSZXR1cm5zIGFuIGVtcHR5IHN0cmluZyBpZiBpbnB1dCBpcyBudWxsIG9yIHVuZGVmaW5lZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUh0bWwodW5zYWZlKSB7XG4gIHJldHVybiB1bnNhZmVcbiAgICA/IHVuc2FmZVxuICAgICAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgICAgICAucmVwbGFjZSgvJy9nLCAnJiMzOTsnKVxuICAgICAgICAucmVwbGFjZSgvXFwvL2csICcmIzQ3OycpXG4gICAgOiAnJztcbn1cblxuLyoqXG4gKiBWZXJzaW9uIG9mIG1vZHVsbyB3aGljaCwgdW5saWtlIGphdmFzY3JpcHQncyBgJWAgb3BlcmF0b3IsXG4gKiB3aWxsIGFsd2F5cyByZXR1cm4gYSBwb3NpdGl2ZSByZW1haW5kZXIuXG4gKiBAcGFyYW0gbnVtYmVyXG4gKiBAcGFyYW0gbW9kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb2QobnVtYmVyLCBtb2QpIHtcbiAgcmV0dXJuICgobnVtYmVyICUgbW9kKSArIG1vZCkgJSBtb2Q7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGFuIGFycmF5IG9mIGludGVnZXJzIGZyb20gc3RhcnQgdG8gZW5kIGluY2x1c2l2ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2Uoc3RhcnQsIGVuZCkge1xuICB2YXIgaW50cyA9IFtdO1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHtcbiAgICBpbnRzLnB1c2goaSk7XG4gIH1cbiAgcmV0dXJuIGludHM7XG59XG5cbi8qKlxuICogR2l2ZW4gdHdvIGZ1bmN0aW9ucywgZ2VuZXJhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlXG4gKiBzZWNvbmQgZnVuY3Rpb24gaWYgYW5kIG9ubHkgaWYgdGhlIGZpcnN0IGZ1bmN0aW9uIHJldHVybnMgdHJ1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZUlmQ29uZGl0aW9uYWwoY29uZGl0aW9uYWwsIGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGNvbmRpdGlvbmFsKCkpIHtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBzaW5nbGUgYW5kIGRvdWJsZSBxdW90ZXMgZnJvbSBhIHN0cmluZ1xuICogQHBhcmFtIGlucHV0U3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBzdHJpbmcgd2l0aG91dCBxdW90ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwUXVvdGVzKGlucHV0U3RyaW5nKSB7XG4gIHJldHVybiBpbnB1dFN0cmluZy5yZXBsYWNlKC9bXCInXS9nLCAnJyk7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBkb3VibGUgcXVvdGVzIHN1cnJvdW5kaW5nIGEgc3RyaW5nLCBpZiB0aGV5IGV4aXN0XG4gKiBJZiB0aGV5IGRvbid0IGV4aXN0LCBqdXN0IHJldHVybiB0aGUgc3RyaW5nXG4gKiBEb2VzIG5vdCB0b3VjaCBxdW90ZXMgdGhhdCBkb24ndCBtYXRjaCB0aGUgcGF0dGVybiBcIi4uLlwiXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXRTdHJpbmdcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGlucHV0U3RyaW5nIHdpdGggZG91YmxlIHF1b3RlcyBpbiBmaXJzdCBhbmQgbGFzdCBwb3NpdGlvbiByZW1vdmVkLCBpZiB0aGV5IGV4aXN0XG4gKi9cbmV4cG9ydCBjb25zdCBzdHJpcEVuY2Fwc3VsYXRpbmdEb3VibGVRdW90ZXMgPSBpbnB1dFN0cmluZyA9PlxuICBpbnB1dFN0cmluZy5yZXBsYWNlKC9eXCIoLiopXCIkLywgJyQxJyk7XG5cbi8qKlxuICogRGVmaW5lcyBhbiBpbmhlcml0YW5jZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBwYXJlbnQgY2xhc3MgYW5kIHRoaXMgY2xhc3MuXG4gKi9cbkZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgdGhpcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUpO1xuICB0aGlzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHRoaXM7XG4gIHRoaXMuc3VwZXJQcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlO1xufTtcblxuLyoqXG4gKiBXcmFwIGEgY291cGxlIG9mIG91ciBCbG9ja2x5IG51bWJlciB2YWxpZGF0b3JzIHRvIGFsbG93IGZvciA/Pz8uICBUaGlzIGlzXG4gKiBkb25lIHNvIHRoYXQgbGV2ZWwgYnVpbGRlcnMgY2FuIHNwZWNpZnkgcmVxdWlyZWQgYmxvY2tzIHdpdGggd2lsZGNhcmQgZmllbGRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcE51bWJlclZhbGlkYXRvcnNGb3JMZXZlbEJ1aWxkZXIoKSB7XG4gIHZhciBub25OZWcgPSBCbG9ja2x5LkZpZWxkVGV4dElucHV0Lm5vbm5lZ2F0aXZlSW50ZWdlclZhbGlkYXRvcjtcbiAgdmFyIG51bVZhbCA9IEJsb2NrbHkuRmllbGRUZXh0SW5wdXQubnVtYmVyVmFsaWRhdG9yO1xuXG4gIEJsb2NrbHkuRmllbGRUZXh0SW5wdXQubm9ubmVnYXRpdmVJbnRlZ2VyVmFsaWRhdG9yID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICBpZiAodGV4dCA9PT0gJz8/PycpIHtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICByZXR1cm4gbm9uTmVnKHRleHQpO1xuICB9O1xuXG4gIEJsb2NrbHkuRmllbGRUZXh0SW5wdXQubnVtYmVyVmFsaWRhdG9yID0gZnVuY3Rpb24gKHRleHQpIHtcbiAgICBpZiAodGV4dCA9PT0gJz8/PycpIHtcbiAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICByZXR1cm4gbnVtVmFsKHRleHQpO1xuICB9O1xufVxuXG4vKipcbiAqIFJldHVybiBhIHJhbmRvbSB2YWx1ZSBmcm9tIGFuIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21WYWx1ZSh2YWx1ZXMpIHtcbiAgbGV0IGtleSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHZhbHVlcy5sZW5ndGgpO1xuICByZXR1cm4gdmFsdWVzW2tleV07XG59XG5cbi8qKlxuICogUmV0dXJuIGEgcmFuZG9tIGtleSBuYW1lIGZyb20gYW4gb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tS2V5KG9iaikge1xuICByZXR1cm4gcmFuZG9tVmFsdWUoT2JqZWN0LmtleXMob2JqKSk7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgYSByYW5kb20gaWRlbnRpZmllciBpbiBhIGZvcm1hdCBtYXRjaGluZyB0aGUgUkZDLTQxMjIgc3BlY2lmaWNhdGlvbi5cbiAqXG4gKiBUYWtlbiBmcm9tXG4gKiB7QGxpbmsgaHR0cDovL2J5cm9uc2FsYXUuY29tL2Jsb2cvaG93LXRvLWNyZWF0ZS1hLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0L31cbiAqXG4gKiBAc2VlIFJGQy00MTIyIHN0YW5kYXJkIHtAbGluayBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MTIyLnR4dH1cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSRkM0MTIyLWNvbXBsaWFudCBVVUlEXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVdWlkKCkge1xuICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgIHZhciByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLFxuICAgICAgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDg7XG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpcmVSZXNpemVFdmVudCgpIHtcbiAgdmFyIGV2ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gIGV2LmluaXRFdmVudCgncmVzaXplJywgdHJ1ZSwgdHJ1ZSk7XG4gIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2KTtcbn1cblxuLyoqXG4gKiBTaW1pbGFyIHRvIHZhbCB8fCBkZWZhdWx0VmFsLCBleGNlcHQgaXQncyBnYXRlZCBvbiB3aGV0aGVyIG9yIG5vdCB2YWwgaXNcbiAqIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHdoZXRoZXIgdmFsIGlzIGZhbHNleS5cbiAqIEByZXR1cm5zIHsqfSB2YWwgaWYgbm90IHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGRlZmF1bHRWYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbHVlT3IodmFsLCBkZWZhdWx0VmFsKSB7XG4gIHJldHVybiB2YWwgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWwgOiB2YWw7XG59XG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gYW5hbHl6ZSB3aGV0aGVyIG9yIG5vdCBlcnIgcmVwcmVzZW50cyBpbmZpbml0ZSByZWN1cnNpb24gaGF2aW5nXG4gKiBvY2N1cnJlZC4gVGhpcyBlcnJvciBkaWZmZXJzIHBlciBicm93c2VyLCBhbmQgaXQncyBwb3NzaWJsZSB0aGF0IHdlIGRvbid0XG4gKiBwcm9wZXJseSBkaXNjb3ZlciBhbGwgY2FzZXMuXG4gKiBOb3RlOiBPdGhlciBsYW5ndWFnZXMgcHJvYmFibHkgaGF2ZSBsb2NhbGl6ZWQgbWVzc2FnZXMsIG1lYW5pbmcgd2Ugd29uJ3RcbiAqIGNhdGNoIHRoZW0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0luZmluaXRlUmVjdXJzaW9uRXJyb3IoZXJyKSB7XG4gIC8vIENocm9tZS9TYWZhcmk6IG1lc3NhZ2UgZW5kcyBpbiBhIHBlcmlvZCBpbiBTYWZhcmksIG5vdCBpbiBDaHJvbWVcbiAgaWYgKFxuICAgIGVyciBpbnN0YW5jZW9mIFJhbmdlRXJyb3IgJiZcbiAgICAvXk1heGltdW0gY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkLy50ZXN0KGVyci5tZXNzYWdlKVxuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEZpcmVmb3hcbiAgLyplc2xpbnQtZGlzYWJsZSAqL1xuICAvLyBMaW50ZXIgZG9lc24ndCBsaWtlIG91ciB1c2Ugb2YgSW50ZXJuYWxFcnJvciwgZXZlbiB0aG91Z2ggd2UgZ2F0ZSBvbiBpdHNcbiAgLy8gZXhpc3RlbmNlLlxuICBpZiAoXG4gICAgdHlwZW9mIEludGVybmFsRXJyb3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgZXJyIGluc3RhbmNlb2YgSW50ZXJuYWxFcnJvciAmJlxuICAgIGVyci5tZXNzYWdlID09PSAndG9vIG11Y2ggcmVjdXJzaW9uJ1xuICApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvKmVzbGludC1lbmFibGUgKi9cblxuICAvLyBJRVxuICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyLm1lc3NhZ2UgPT09ICdPdXQgb2Ygc3RhY2sgc3BhY2UnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogUmVtb3ZlIGVzY2FwZWQgY2hhcmFjdGVycyBhbmQgSFRNTCB0byBjb252ZXJ0IHNvbWUgcmVuZGVyZWQgdGV4dCB0byB3aGF0IHNob3VsZCBhcHBlYXIgaW4gdXNlci1lZGl0ZWQgY29udHJvbHNcbiAqIEBwYXJhbSB0ZXh0XG4gKiBAcmV0dXJucyBTdHJpbmcgdGhhdCBoYXMgbm8gbW9yZSBlc2NhcGUgY2hhcmFjdGVycyBhbmQgbXVsdGlwbGUgZGl2cyBjb252ZXJ0ZWQgdG8gbmV3bGluZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuZXNjYXBlVGV4dCh0ZXh0KSB7XG4gIHZhciBjbGVhbmVkVGV4dCA9IHRleHQ7XG5cbiAgLy8gSGFuZGxpbmcgb2YgbGluZSBicmVha3M6XG4gIC8vIEluIG11bHRpbGluZSB0ZXh0IGl0J3MgcG9zc2libGUgZm9yIHRoZSBmaXJzdCBsaW5lIHRvIHJlbmRlciB3cmFwcGVkIG9yIHVud3JhcHBlZC5cbiAgLy8gICAgIExpbmUgMVxuICAvLyAgICAgTGluZSAyXG4gIC8vICAgQ2FuIHJlbmRlciBhcyBhbnkgb2Y6XG4gIC8vICAgICBMaW5lIDE8ZGl2PkxpbmUgMjwvZGl2PlxuICAvLyAgICAgTGluZSAxPGJyPjxkaXY+TGluZSAyPC9kaXY+XG4gIC8vICAgICA8ZGl2PkxpbmUgMTwvZGl2PjxkaXY+TGluZSAyPC9kaXY+XG4gIC8vXG4gIC8vIE1vc3QgYmxhbmsgbGluZXMgYXJlIHJlbmRlcmVkIGFzIDxkaXY+PGJyPjwvZGl2PlxuICAvLyAgICAgTGluZSAxXG4gIC8vXG4gIC8vICAgICBMaW5lIDNcbiAgLy8gICBDYW4gcmVuZGVyIGFzIGFueSBvZjpcbiAgLy8gICAgIExpbmUgMTxkaXY+PGJyPjwvZGl2PjxkaXY+TGluZSAzPC9kaXY+XG4gIC8vICAgICBMaW5lIDE8YnI+PGRpdj48YnI+PC9kaXY+PGRpdj5MaW5lIDM8L2Rpdj5cbiAgLy8gICAgIDxkaXY+TGluZSAxPC9kaXY+PGRpdj48YnI+PC9kaXY+PGRpdj5MaW5lIDM8L2Rpdj5cbiAgLy9cbiAgLy8gTGVhZGluZyBibGFuayBsaW5lcyByZW5kZXIgd3JhcHBlZCBvciBhcyBwbGFjZWhvbGRlciBicmVha3MgYW5kIHNob3VsZCBiZSBwcmVzZXJ2ZWRcbiAgLy9cbiAgLy8gICAgIExpbmUgMlxuICAvLyAgIFJlbmRlcnMgYXMgYW55IG9mOlxuICAvLyAgICA8YnI+PGRpdj5MaW5lIDI8L2Rpdj5cbiAgLy8gICAgPGRpdj48YnI+PC9kaXY+PGRpdj5MaW5lIDI8L2Rpdj5cblxuICAvLyBGaXJzdCwgY29udmVydCBldmVyeSA8ZGl2PiB0YWcgdGhhdCBpc24ndCBhdCB0aGUgdmVyeSBiZWdpbm5pbmcgb2YgdGhlIHN0cmluZ1xuICAvLyB0byBhIG5ld2xpbmUuICBUaGlzIGF2b2lkcyBnZW5lcmF0aW5nIGFuIGluY29ycmVjdCBibGFuayBsaW5lIGF0IHRoZSBzdGFydFxuICAvLyBpZiB0aGUgZmlyc3QgbGluZSBpcyB3cmFwcGVkIGluIGEgPGRpdj4uXG4gIGNsZWFuZWRUZXh0ID0gY2xlYW5lZFRleHQucmVwbGFjZSgvKD8hXik8ZGl2W14+XSo+L2dpLCAnXFxuJyk7XG5cbiAgY2xlYW5lZFRleHQgPSBjbGVhbmVkVGV4dC5yZXBsYWNlKC88W14+XSs+L2dpLCAnJyk7IC8vIFN0cmlwIGFsbCBvdGhlciB0YWdzXG4gIGNsZWFuZWRUZXh0ID0gY2xlYW5lZFRleHQucmVwbGFjZSgvJm5ic3A7L2dpLCAnICcpOyAvLyBVbmVzY2FwZSBub25icmVha2luZyBzcGFjZXNcbiAgY2xlYW5lZFRleHQgPSBjbGVhbmVkVGV4dC5yZXBsYWNlKC8mZ3Q7L2dpLCAnPicpOyAvLyBVbmVzY2FwZSA+XG4gIGNsZWFuZWRUZXh0ID0gY2xlYW5lZFRleHQucmVwbGFjZSgvJmx0Oy9naSwgJzwnKTsgLy8gVW5lc2NhcGUgPFxuICBjbGVhbmVkVGV4dCA9IGNsZWFuZWRUZXh0LnJlcGxhY2UoLyZhbXA7L2dpLCAnJicpOyAvLyBVbmVzY2FwZSAmIChtdXN0IGhhcHBlbiBsYXN0ISlcbiAgcmV0dXJuIGNsZWFuZWRUZXh0O1xufVxuXG4vKipcbiAqIEVzY2FwZSBzcGVjaWFsIGNoYXJhY3RlcnMgaW4gYSBwaWVjZSBvZiB0ZXh0LCBhbmQgY29udmVydCBuZXdsaW5lcyB0byBzZXBlcmF0ZSBkaXZzXG4gKiBAcGFyYW0gdGV4dFxuICogQHJldHVybnMgU3RyaW5nIHdpdGggc3BlY2lhbCBjaGFyYWN0ZXJzIGVzY2FwZWQgYW5kIG5ld2xpbmVzIGNvbnZlcnRlZCBkaXZzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVUZXh0KHRleHQpIHtcbiAgdmFyIGVzY2FwZWRUZXh0ID0gdGV4dC50b1N0cmluZygpO1xuICBlc2NhcGVkVGV4dCA9IGVzY2FwZWRUZXh0LnJlcGxhY2UoLyYvZywgJyZhbXA7Jyk7IC8vIEVzY2FwZSAmIChtdXN0IGhhcHBlbiBmaXJzdCEpXG4gIGVzY2FwZWRUZXh0ID0gZXNjYXBlZFRleHQucmVwbGFjZSgvPC9nLCAnJmx0OycpOyAvLyBFc2NhcGUgPFxuICBlc2NhcGVkVGV4dCA9IGVzY2FwZWRUZXh0LnJlcGxhY2UoLz4vZywgJyZndDsnKTsgLy8gRXNjYXBlID5cbiAgZXNjYXBlZFRleHQgPSBlc2NhcGVkVGV4dC5yZXBsYWNlKC8gezJ9L2csICcgJm5ic3A7Jyk7IC8vIEVzY2FwZSBkb3VibGVkIHNwYWNlc1xuXG4gIC8vIE5vdyB3cmFwIGVhY2ggbGluZSBleGNlcHQgdGhlIGZpcnN0IGxpbmUgaW4gYSA8ZGl2PixcbiAgLy8gcmVwbGFjaW5nIGJsYW5rIGxpbmVzIHdpdGggPGRpdj48YnI+PGRpdj5cbiAgdmFyIGxpbmVzID0gZXNjYXBlZFRleHQuc3BsaXQoJ1xcbicpO1xuICB2YXIgZmlyc3QgPSBsaW5lc1swXTtcbiAgdmFyIHJlc3QgPSBsaW5lcy5zbGljZSgxKTtcblxuICAvLyBJZiBmaXJzdCBsaW5lIGlzIGJsYW5rIGFuZCBub3QgdGhlIG9ubHkgbGluZSwgY29udmVydCBpdCB0byBhIDxicj4gdGFnOlxuICBpZiAoZmlyc3QubGVuZ3RoID09PSAwICYmIGxpbmVzLmxlbmd0aCA+IDEpIHtcbiAgICBmaXJzdCA9ICc8YnI+JztcbiAgfVxuXG4gIC8vIFdyYXAgdGhlIHJlc3Qgb2YgdGhlIGxpbmVzXG4gIHJldHVybiAoXG4gICAgZmlyc3QgK1xuICAgIHJlc3RcbiAgICAgIC5tYXAoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuICc8ZGl2PicgKyAobGluZS5sZW5ndGggPyBsaW5lIDogJzxicj4nKSArICc8L2Rpdj4nO1xuICAgICAgfSlcbiAgICAgIC5qb2luKCcnKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0dlbmVyaWNRdGlwKHRhcmdldEVsZW1lbnQsIHRpdGxlLCBtZXNzYWdlLCBwb3NpdGlvbikge1xuICAkKHRhcmdldEVsZW1lbnQpXG4gICAgLnF0aXAoe1xuICAgICAgY29udGVudDoge1xuICAgICAgICB0ZXh0OiBgXG4gICAgICAgIDxoND4ke3RpdGxlfTwvaDQ+XG4gICAgICAgIDxwPiR7bWVzc2FnZX08L3A+XG4gICAgICBgLFxuICAgICAgICB0aXRsZToge1xuICAgICAgICAgIGJ1dHRvbjogJCgnPGRpdiBjbGFzcz1cInRvb2x0aXAteC1jbG9zZVwiLz4nKSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwb3NpdGlvbixcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGNsYXNzZXM6ICdjZG8tcXRpcHMnLFxuICAgICAgICB0aXA6IHtcbiAgICAgICAgICB3aWR0aDogMjAsXG4gICAgICAgICAgaGVpZ2h0OiAyMCxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBoaWRlOiB7XG4gICAgICAgIGV2ZW50OiAndW5mb2N1cycsXG4gICAgICB9LFxuICAgICAgc2hvdzogZmFsc2UsIC8vIGRvbid0IHNob3cgb24gbW91c2VvdmVyXG4gICAgfSlcbiAgICAucXRpcCgnc2hvdycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd1VudXNlZEJsb2NrUXRpcCh0YXJnZXRFbGVtZW50KSB7XG4gIGNvbnN0IG1zZyA9IHJlcXVpcmUoJ0BjZG8vbG9jYWxlJyk7XG4gIGNvbnN0IHRpdGxlID0gbXNnLnVuYXR0YWNoZWRCbG9ja1RpcFRpdGxlKCk7XG4gIGNvbnN0IG1lc3NhZ2UgPSBtc2cudW5hdHRhY2hlZEJsb2NrVGlwQm9keSgpO1xuICBjb25zdCBwb3NpdGlvbiA9IHtcbiAgICBteTogJ2JvdHRvbSBsZWZ0JyxcbiAgICBhdDogJ3RvcCByaWdodCcsXG4gIH07XG5cbiAgc2hvd0dlbmVyaWNRdGlwKHRhcmdldEVsZW1lbnQsIHRpdGxlLCBtZXNzYWdlLCBwb3NpdGlvbik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogQHBhcmFtIHtzdHJpbmd9IGRlZmF1bHRWYWx1ZVxuICogQHJldHVybiB7c3RyaW5nfSByZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUga2V5IGluIGxvY2FsU3RvcmFnZSwgbnVsbCBpZiBub3Qgc2V0IG9yIHRoZSBkZWZhdWx0VmFsdWUgaWYgdGhlcmUgaXMgYW4gZXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyeUdldExvY2FsU3RvcmFnZShrZXksIGRlZmF1bHRWYWx1ZSkge1xuICBpZiAoZGVmYXVsdFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyAndHJ5R2V0TG9jYWxTdG9yYWdlIHJlcXVpcmVzIGRlZmF1bHRWYWx1ZSc7XG4gIH1cbiAgbGV0IHJldHVyblZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICB0cnkge1xuICAgIHJldHVyblZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIElnbm9yZSwgcmV0dXJuIGRlZmF1bHRcbiAgfVxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59XG5cbi8qKlxuICogU2ltcGxlIHdyYXBwZXIgYXJvdW5kIGxvY2FsU3RvcmFnZS5zZXRJdGVtIHRoYXQgY2F0Y2hlcyBhbnkgZXhjZXB0aW9ucyAoZm9yXG4gKiBleGFtcGxlIHdoZW4gd2UgY2FsbCBzZXRJdGVtIGluIFNhZmFyaSdzIHByaXZhdGUgbW9kZSlcbiAqIEBwYXJhbSB7c3RyaW5nfSBpdGVtXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgd2Ugc2V0IHN1Y2Nlc3NmdWxseVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJ5U2V0TG9jYWxTdG9yYWdlKGl0ZW0sIHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oaXRlbSwgdmFsdWUpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cnlHZXRTZXNzaW9uU3RvcmFnZShrZXksIGRlZmF1bHRWYWx1ZSkge1xuICBpZiAoZGVmYXVsdFZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyAndHJ5R2V0U2Vzc2lvblN0b3JhZ2UgcmVxdWlyZXMgZGVmYXVsdFZhbHVlJztcbiAgfVxuICBsZXQgcmV0dXJuVmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gIHRyeSB7XG4gICAgcmV0dXJuVmFsdWUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBJZ25vcmUsIHJldHVybiBkZWZhdWx0XG4gIH1cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufVxuXG4vKipcbiAqIFNpbXBsZSB3cmFwcGVyIGFyb3VuZCBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtIHRoYXQgY2F0Y2hlcyB0aGUgcXVvdGEgZXhjZWVkZWRcbiAqIGV4Y2VwdGlvbnMgd2UgZ2V0IHdoZW4gd2UgY2FsbCBzZXRJdGVtIGluIFNhZmFyaSdzIHByaXZhdGUgbW9kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBpdGVtXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgd2Ugc2V0IHN1Y2Nlc3NmdWxseVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJ5U2V0U2Vzc2lvblN0b3JhZ2UoaXRlbSwgdmFsdWUpIHtcbiAgdHJ5IHtcbiAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGl0ZW0sIHZhbHVlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlLm5hbWUgIT09ICdRdW90YUV4Y2VlZGVkRXJyb3InKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBzaW1wbGUgZW51bSBvYmplY3RcbiAqIEByZXR1cm4ge09iamVjdDxTdHJpbmcsIFN0cmluZz59XG4gKiBAZXhhbXBsZVxuICogICB2YXIgU2Vhc29ucyA9IGVudW0oJ1NQUklORycsICdTVU1NRVInLCAnRkFMTCcsICdXSU5URVInKTtcbiAqICAgU2Vhc29ucy5TUFJJTkcgPT09ICdTUFJJTkcnO1xuICogICBTZWFzb25zLlNVTU1FUiA9PT0gJ1NVTU1FUic7XG4gKiAgIC8vIGV0Yy4uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFrZUVudW0oKSB7XG4gIHZhciByZXN1bHQgPSB7fSxcbiAgICBrZXk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gU3RyaW5nKGFyZ3VtZW50c1tpXSk7XG4gICAgaWYgKHJlc3VsdFtrZXldKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdLZXkgXCInICsga2V5ICsgJ1wiIG9jY3VycmVkIHR3aWNlIHdoaWxlIGNvbnN0cnVjdGluZyBlbnVtJ1xuICAgICAgKTtcbiAgICB9XG4gICAgcmVzdWx0W2tleV0gPSBrZXk7XG4gIH1cbiAgaWYgKE9iamVjdC5mcmVlemUpIHtcbiAgICBPYmplY3QuZnJlZXplKHJlc3VsdCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBJZiB0aGUgc3RyaW5nIGlzIHRvbyBsb25nLCB0cnVuY2F0ZSBpdCBhbmQgYXBwZW5kIGFuIGVsbGlwc2lzLlxuICogQHBhcmFtIHtzdHJpbmd9IGlucHV0VGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IG1heExlbmd0aFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsbGlwc2lmeShpbnB1dFRleHQsIG1heExlbmd0aCkge1xuICBpZiAoaW5wdXRUZXh0ICYmIGlucHV0VGV4dC5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICByZXR1cm4gaW5wdXRUZXh0LnN1YnN0cigwLCBtYXhMZW5ndGggLSAzKSArICcuLi4nO1xuICB9XG4gIHJldHVybiBpbnB1dFRleHQgfHwgJyc7XG59XG5cbi8qKlxuICogUmV0dXJucyBkZWVwIG1lcmdlIG9mIHR3byBvYmplY3RzLCBjb25jYXRlbmF0aW5nIHJhdGhlciB0aGFuIG92ZXJ3cml0aW5nXG4gKiBhcnJheSBwcm9wZXJpdGVzLiBEb2VzIG5vdCBtdXRhdGUgZWl0aGVyIG9iamVjdC5cbiAqXG4gKiBOb3RlOiBuZXcgcHJvcGVydGllcyBpbiBvdmVycmlkZXMgYXJlIGFsd2F5cyBhZGRlZCB0byBlbmQsIG5vdCBpbi1vcmRlci5cbiAqXG4gKiBUT0RPKGJqb3JkYW4pOiBSZXBsYWNlIHdpdGggXy5tZXJnZVdpdGggd2hlbiBsb2Rhc2ggdXBncmFkZWQgdG8gNC54LlxuICpcbiAqIE5vdGU6IG1heSBiZWNvbWUgZGVmYXVsdCBiZWhhdmlvciBvZiBtZXJnZURlZXAgaW4gZnV0dXJlIGltbXV0YWJsZSB2ZXJzaW9ucy5cbiAqICAgQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svaW1tdXRhYmxlLWpzL2lzc3Vlcy80MDZcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYmFzZU9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG92ZXJyaWRlc1xuICogQHJldHVybnMge09iamVjdH0gb3JpZ2luYWwgb2JqZWN0IChub3cgbW9kaWZpZWQgaW4tcGxhY2UpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwTWVyZ2VDb25jYXRBcnJheXMoYmFzZU9iamVjdCwgb3ZlcnJpZGVzKSB7XG4gIGZ1bmN0aW9uIGRlZXBDb25jYXRNZXJnZXIoYSwgYikge1xuICAgIGNvbnN0IGlzTGlzdCA9IEltbXV0YWJsZS5MaXN0LmlzTGlzdDtcbiAgICBpZiAoaXNMaXN0KGEpICYmIGlzTGlzdChiKSkge1xuICAgICAgcmV0dXJuIGEuY29uY2F0KGIpO1xuICAgIH1cbiAgICBpZiAoYSAmJiBhLm1lcmdlV2l0aCkge1xuICAgICAgcmV0dXJuIGEubWVyZ2VXaXRoKGRlZXBDb25jYXRNZXJnZXIsIGIpO1xuICAgIH1cbiAgICByZXR1cm4gYjtcbiAgfVxuXG4gIHZhciBiYXNlSW1tdXRhYmxlID0gSW1tdXRhYmxlLmZyb21KUyhiYXNlT2JqZWN0KTtcbiAgcmV0dXJuIGJhc2VJbW11dGFibGUubWVyZ2VXaXRoKGRlZXBDb25jYXRNZXJnZXIsIG92ZXJyaWRlcykudG9KUygpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZXZlbnQgaW4gYSBjcm9zcy1icm93c3dlci1jb21wYXRpYmxlIHdheS5cbiAqXG4gKiBjcmVhdGVFdmVudCBmdW5jdGlvbmFsaXR5IGlzIG9mZmljaWFsbHkgZGVwcmVjYXRlZCBpbiBmYXZvciBvZlxuICogdGhlIEV2ZW50IGNvbnN0cnVjdG9yLCBidXQgc29tZSBvbGRlciBicm93c2VycyBkbyBub3QgeWV0IHN1cHBvcnRcbiAqIGV2ZW50IGNvbnN0cnVjdG9ycy4gQXR0ZW1wdCB0byB1c2UgdGhlIG5ldyBmdW5jdGlvbmFsaXR5LCBmYWxsXG4gKiBiYWNrIHRvIHRoZSBvbGQgaWYgaXQgZmFpbHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2J1YmJsZXM9ZmFsc2VdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtjYW5jZWxhYmxlPWZhbHNlXVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXZlbnQodHlwZSwgYnViYmxlcyA9IGZhbHNlLCBjYW5jZWxhYmxlID0gZmFsc2UpIHtcbiAgdmFyIGN1c3RvbUV2ZW50O1xuICB0cnkge1xuICAgIGN1c3RvbUV2ZW50ID0gbmV3IEV2ZW50KHR5cGUsIHtidWJibGVzLCBjYW5jZWxhYmxlfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjdXN0b21FdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGN1c3RvbUV2ZW50LmluaXRFdmVudCh0eXBlLCBidWJibGVzLCBjYW5jZWxhYmxlKTtcbiAgfVxuICByZXR1cm4gY3VzdG9tRXZlbnQ7XG59XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IHZlY3RvciB3aXRoIHggYW5kIHkgY29vcmRpbmF0ZXNcbiAqIEByZXR1cm5zIHtPYmplY3R9IHZlY3RvciB3aXRoIHggYW5kIHkgY29vcmRpbmF0ZXMgYW5kIGxlbmd0aCAxIChvciAwIGlmXG4gKiAgIHRoZSBhcmd1bWVudCBhbHNvIGhhZCBsZW5ndGggMClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZSh2ZWN0b3IpIHtcbiAgdmFyIG1hZyA9IE1hdGguc3FydCh2ZWN0b3IueCAqIHZlY3Rvci54ICsgdmVjdG9yLnkgKiB2ZWN0b3IueSk7XG4gIGlmIChtYWcgPT09IDApIHtcbiAgICByZXR1cm4gdmVjdG9yO1xuICB9XG4gIHJldHVybiB7XG4gICAgeDogdmVjdG9yLnggLyBtYWcsXG4gICAgeTogdmVjdG9yLnkgLyBtYWcsXG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uIHNlbGVjdGVkIGZyb20gY29uc3RhbnRzLlBvc2l0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gY29udGFpbmVyV2lkdGggd2lkdGggb2YgdGhlIGVsZW1lbnQgd2UgYXJlXG4gKiAgICAgICAgcG9zaXRpb25pbmcgd2l0aGluXG4gKiBAcGFyYW0ge251bWJlcn0gc3ByaXRlV2lkdGggd2lkdGggb2YgdGhlIGVsZW1lbnQgYmVpbmcgcG9zaXRpb25lZFxuICogQHJldHVybnMge251bWJlcn0gbGVmdC1tb3N0IHBvaW50IG9mIHNwcml0ZSBnaXZlbiBwb3NpdGlvbiBjb25zdGFudFxuICovXG5leHBvcnQgZnVuY3Rpb24geEZyb21Qb3NpdGlvbihwb3NpdGlvbiwgY29udGFpbmVyV2lkdGggPSAwLCBzcHJpdGVXaWR0aCA9IDApIHtcbiAgc3dpdGNoIChwb3NpdGlvbikge1xuICAgIGNhc2UgUG9zaXRpb24uT1VUVE9QT1VUTEVGVDpcbiAgICBjYXNlIFBvc2l0aW9uLlRPUE9VVExFRlQ6XG4gICAgY2FzZSBQb3NpdGlvbi5NSURETEVPVVRMRUZUOlxuICAgIGNhc2UgUG9zaXRpb24uQk9UVE9NT1VUTEVGVDpcbiAgICBjYXNlIFBvc2l0aW9uLk9VVEJPVFRPTU9VVExFRlQ6XG4gICAgICByZXR1cm4gLXNwcml0ZVdpZHRoO1xuICAgIGNhc2UgUG9zaXRpb24uT1VUVE9QTEVGVDpcbiAgICBjYXNlIFBvc2l0aW9uLlRPUExFRlQ6XG4gICAgY2FzZSBQb3NpdGlvbi5NSURETEVMRUZUOlxuICAgIGNhc2UgUG9zaXRpb24uQk9UVE9NTEVGVDpcbiAgICBjYXNlIFBvc2l0aW9uLk9VVEJPVFRPTUxFRlQ6XG4gICAgICByZXR1cm4gMDtcbiAgICBjYXNlIFBvc2l0aW9uLk9VVFRPUENFTlRFUjpcbiAgICBjYXNlIFBvc2l0aW9uLlRPUENFTlRFUjpcbiAgICBjYXNlIFBvc2l0aW9uLk1JRERMRUNFTlRFUjpcbiAgICBjYXNlIFBvc2l0aW9uLkJPVFRPTUNFTlRFUjpcbiAgICBjYXNlIFBvc2l0aW9uLk9VVEJPVFRPTUNFTlRFUjpcbiAgICAgIHJldHVybiAoY29udGFpbmVyV2lkdGggLSBzcHJpdGVXaWR0aCkgLyAyO1xuICAgIGNhc2UgUG9zaXRpb24uT1VUVE9QUklHSFQ6XG4gICAgY2FzZSBQb3NpdGlvbi5UT1BSSUdIVDpcbiAgICBjYXNlIFBvc2l0aW9uLk1JRERMRVJJR0hUOlxuICAgIGNhc2UgUG9zaXRpb24uQk9UVE9NUklHSFQ6XG4gICAgY2FzZSBQb3NpdGlvbi5PVVRCT1RUT01SSUdIVDpcbiAgICAgIHJldHVybiBjb250YWluZXJXaWR0aCAtIHNwcml0ZVdpZHRoO1xuICAgIGNhc2UgUG9zaXRpb24uT1VUVE9QT1VUUklHSFQ6XG4gICAgY2FzZSBQb3NpdGlvbi5UT1BPVVRSSUdIVDpcbiAgICBjYXNlIFBvc2l0aW9uLk1JRERMRU9VVFJJR0hUOlxuICAgIGNhc2UgUG9zaXRpb24uQk9UVE9NT1VUUklHSFQ6XG4gICAgY2FzZSBQb3NpdGlvbi5PVVRCT1RUT01PVVRSSUdIVDpcbiAgICAgIHJldHVybiBjb250YWluZXJXaWR0aDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvbiBzZWxlY3RlZCBmcm9tIGNvbnN0YW50cy5Qb3NpdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IGNvbnRhaW5lckhlaWdodCBoZWlnaHQgb2YgdGhlIGVsZW1lbnQgd2UgYXJlXG4gKiAgICAgICAgcG9zaXRpb25pbmcgd2l0aGluXG4gKiBAcGFyYW0ge251bWJlcn0gc3ByaXRlSGVpZ2h0IGhlaWdodCBvZiB0aGUgZWxlbWVudCBiZWluZyBwb3NpdGlvbmVkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0b3AtbW9zdCBwb2ludCBvZiBzcHJpdGUgZ2l2ZW4gcG9zaXRpb24gY29uc3RhbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHlGcm9tUG9zaXRpb24ocG9zaXRpb24sIGNvbnRhaW5lckhlaWdodCA9IDAsIHNwcml0ZUhlaWdodCA9IDApIHtcbiAgc3dpdGNoIChwb3NpdGlvbikge1xuICAgIGNhc2UgUG9zaXRpb24uT1VUVE9QT1VUTEVGVDpcbiAgICBjYXNlIFBvc2l0aW9uLk9VVFRPUExFRlQ6XG4gICAgY2FzZSBQb3NpdGlvbi5PVVRUT1BDRU5URVI6XG4gICAgY2FzZSBQb3NpdGlvbi5PVVRUT1BSSUdIVDpcbiAgICBjYXNlIFBvc2l0aW9uLk9VVFRPUE9VVFJJR0hUOlxuICAgICAgcmV0dXJuIC1zcHJpdGVIZWlnaHQ7XG4gICAgY2FzZSBQb3NpdGlvbi5UT1BPVVRMRUZUOlxuICAgIGNhc2UgUG9zaXRpb24uVE9QTEVGVDpcbiAgICBjYXNlIFBvc2l0aW9uLlRPUENFTlRFUjpcbiAgICBjYXNlIFBvc2l0aW9uLlRPUFJJR0hUOlxuICAgIGNhc2UgUG9zaXRpb24uVE9QT1VUUklHSFQ6XG4gICAgICByZXR1cm4gMDtcbiAgICBjYXNlIFBvc2l0aW9uLk1JRERMRU9VVExFRlQ6XG4gICAgY2FzZSBQb3NpdGlvbi5NSURETEVMRUZUOlxuICAgIGNhc2UgUG9zaXRpb24uTUlERExFQ0VOVEVSOlxuICAgIGNhc2UgUG9zaXRpb24uTUlERExFUklHSFQ6XG4gICAgY2FzZSBQb3NpdGlvbi5NSURETEVPVVRSSUdIVDpcbiAgICAgIHJldHVybiAoY29udGFpbmVySGVpZ2h0IC0gc3ByaXRlSGVpZ2h0KSAvIDI7XG4gICAgY2FzZSBQb3NpdGlvbi5CT1RUT01PVVRMRUZUOlxuICAgIGNhc2UgUG9zaXRpb24uQk9UVE9NTEVGVDpcbiAgICBjYXNlIFBvc2l0aW9uLkJPVFRPTUNFTlRFUjpcbiAgICBjYXNlIFBvc2l0aW9uLkJPVFRPTVJJR0hUOlxuICAgIGNhc2UgUG9zaXRpb24uQk9UVE9NT1VUUklHSFQ6XG4gICAgICByZXR1cm4gY29udGFpbmVySGVpZ2h0IC0gc3ByaXRlSGVpZ2h0O1xuICAgIGNhc2UgUG9zaXRpb24uT1VUQk9UVE9NT1VUTEVGVDpcbiAgICBjYXNlIFBvc2l0aW9uLk9VVEJPVFRPTUxFRlQ6XG4gICAgY2FzZSBQb3NpdGlvbi5PVVRCT1RUT01DRU5URVI6XG4gICAgY2FzZSBQb3NpdGlvbi5PVVRCT1RUT01SSUdIVDpcbiAgICBjYXNlIFBvc2l0aW9uLk9VVEJPVFRPTU9VVFJJR0hUOlxuICAgICAgcmV0dXJuIGNvbnRhaW5lckhlaWdodDtcbiAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgTGV2ZW5zaHRlaW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gc3RyaW5nc1xuICogQHBhcmFtIHtzdHJpbmd9IGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBiXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGRpc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZXZlbnNodGVpbihhLCBiKSB7XG4gIGlmICghYSB8fCAhYikge1xuICAgIHJldHVybiAoYSB8fCBiKS5sZW5ndGg7XG4gIH1cblxuICBjb25zdCBtYXRyaXggPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPD0gYi5sZW5ndGg7IGkrKykge1xuICAgIG1hdHJpeFtpXSA9IFtpXTtcbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPD0gYS5sZW5ndGg7IGorKykge1xuICAgICAgbWF0cml4WzBdW2pdID0gajtcbiAgICAgIGlmIChqID09PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBtYXRyaXhbaV1bal0gPVxuICAgICAgICBiLmNoYXJBdChpIC0gMSkgPT09IGEuY2hhckF0KGogLSAxKVxuICAgICAgICAgID8gbWF0cml4W2kgLSAxXVtqIC0gMV1cbiAgICAgICAgICA6IE1hdGgubWluKFxuICAgICAgICAgICAgICBtYXRyaXhbaSAtIDFdW2ogLSAxXSArIDEsXG4gICAgICAgICAgICAgIG1hdHJpeFtpXVtqIC0gMV0gKyAxLFxuICAgICAgICAgICAgICBtYXRyaXhbaSAtIDFdW2pdICsgMVxuICAgICAgICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWF0cml4W2IubGVuZ3RoXVthLmxlbmd0aF07XG59XG5cbi8qKlxuICogQmlzZWN0cyB0aGUgZ2l2ZW4gYXJyYXkgYmFzZWQgb24gdGhlIGdpdmVuIGNvbmRpdGlvbmFsXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY29uZGl0aW9uYWxcbiAqIEByZXR1cm4ge0FycmF5LjxBcnJheT59IGFuIGFycmF5IHdpdGggdHdvIGVsZW1lbnRzOyB0aGUgZmlyc3QgaXMgYW5cbiAqICAgICAgICAgYXJyYXkgY29udGFpbmluZyB0aG9zZSB2YWx1ZXMgZm9yIHdoaWNoIHRoZSBnaXZlbiBjb25kaXRpb25hbFxuICogICAgICAgICBmdW5jdGlvbiBpcyB0cnVlIGFuZCB0aGUgc2Vjb25kIGlzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhvc2VcbiAqICAgICAgICAgdmFsdWVzIGZvciB3aGljaCBpdCBpcyBmYWxzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmlzZWN0KGFycmF5LCBjb25kaXRpb25hbCkge1xuICBjb25zdCBwb3NpdGl2ZSA9IGFycmF5LmZpbHRlcih4ID0+IGNvbmRpdGlvbmFsKHgpKTtcbiAgY29uc3QgbmVnYXRpdmUgPSBhcnJheS5maWx0ZXIoeCA9PiAhY29uZGl0aW9uYWwoeCkpO1xuICByZXR1cm4gW3Bvc2l0aXZlLCBuZWdhdGl2ZV07XG59XG5cbi8qKlxuICogUmVjdXJzaXZlbHkgZmxhdHRlbiB0aGUgZ2l2ZW4gYXJyYXlcbiAqIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE1MDMwMTE3LzE4MTA0NjBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHtcbiAgcmV0dXJuIGFycmF5LnJlZHVjZShcbiAgICAoZmxhdCwgdG9GbGF0dGVuKSA9PlxuICAgICAgZmxhdC5jb25jYXQoQXJyYXkuaXNBcnJheSh0b0ZsYXR0ZW4pID8gZmxhdHRlbih0b0ZsYXR0ZW4pIDogdG9GbGF0dGVuKSxcbiAgICBbXVxuICApO1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IHdyYXBzIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQsIHdoaWNoIHdlIGNhbm5vdCBzdHViXG4gKiBpbiB1bml0IHRlc3RzIGlmIHdlJ3JlIHJ1bm5pbmcgdGhlbSBpbiBDaHJvbWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWxvYWQoKSB7XG4gIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGN1cnJlbnRMb2NhdGlvbigpIHtcbiAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbjtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdGhhdCB3cmFwcyB3aW5kb3cub3BlbiwgZm9yIHN0dWJiaW5nIGluIHVuaXQgdGVzdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3aW5kb3dPcGVuKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIHdpbmRvdy5vcGVuKC4uLmFyZ3MpO1xufVxuXG4vKipcbiAqIFdyYXBwZXIgZm9yIHdpbmRvdy5sb2NhdGlvbi5ocmVmIHdoaWNoIHdlIGNhbiBzdHViIGluIHVuaXQgdGVzdHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gaHJlZiBMb2NhdGlvbiB0byBuYXZpZ2F0ZSB0by5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlVG9IcmVmKGhyZWYpIHtcbiAgaWYgKCFJTl9VTklUX1RFU1QpIHtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gIH1cbn1cblxuLyoqXG4gKiBUYWtlcyBhIHNpbXBsZSBvYmplY3QgYW5kIHJldHVybnMgaXQgcmVwcmVzZW50ZWQgYXMgYSBjaGFpbiBvZiB1cmwgcXVlcnlcbiAqIHBhcmFtcywgaW5jbHVkaW5nID8gYW5kICYgYXMgbmVjZXNzYXJ5LiBEb2VzIG5vdCBwZXJmb3JtIGVzY2FwaW5nLiBFeGFtcGxlczpcbiAqIHt9IC0+ICcnXG4gKiB7YTogMX0gLT4gJz9hPTEnXG4gKiB7YTogMSwgYjogJ2MnfSAtPiAnP2E9MSZiPWMnXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyBPYmplY3QgdG8gc3RyaW5naWZ5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5UXVlcnlQYXJhbXMocGFyYW1zKSB7XG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwYXJhbXMpO1xuICBpZiAoIWtleXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHJldHVybiAnPycgKyBrZXlzLm1hcChrZXkgPT4gYCR7a2V5fT0ke3BhcmFtc1trZXldfWApLmpvaW4oJyYnKTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhIGxpbmssIGxvb2tzIGZvciBwYXJhbXMgYWxyZWFkeSBpbiB0aGUgY3VycmVudCBVUkxcbiAqIGFuZCBnZW5lcmF0ZXMgYSBuZXcgbGluayB3aXRoIHRob3NlIHBhcmFtc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbGlua1dpdGhRdWVyeVBhcmFtcyhsaW5rKSB7XG4gIGNvbnN0IHF1ZXJ5UGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaCB8fCAnJztcbiAgcmV0dXJuIGxpbmsgKyBxdWVyeVBhcmFtcztcbn1cblxuLyoqXG4gKiBSZXNldHMgdGhlIGFuaW1hdGlvbiBvZiBhbiBhbmlHaWYgYnkgdW5zZXR0aW5nIGFuZCBzZXR0aW5nIHRoZSBzcmNcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCB0aGUgPGltZz4gZWxlbWVudCB0aGF0IG5lZWRzIHRvIGJlIHJlc2V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNldEFuaUdpZihlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBzcmMgPSBlbGVtZW50LnNyYztcbiAgZWxlbWVudC5zcmMgPSAnIyc7XG4gIHNldFRpbWVvdXQoKCkgPT4gKGVsZW1lbnQuc3JjID0gc3JjKSwgMCk7XG59XG5cbi8qKlxuICogQ29tcHV0ZSBhIGNvbG9yIGFuIGFyYml0cmFyeSBkaXN0YW5jZSBiZXR3ZWVuIGZyb20gYW5kIHRvLCB1c2VmdWwgZm9yXG4gKiByZWFjdC1tb3Rpb24gYmFzZWQgY29sb3IgdHJhbnNpdGlvbnMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZyb20gYSBoZXggY29sb3Igc3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gdG8gYW5vdGhlciBoZXggY29sb3Igc3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLCBleHByZXNzaW5nIGhvdyBmYXIgYWxvbmdcbiAqICAgdGhlIHdheSBmcm9tICdmcm9tJyB0byAndG8nIHRoZSByZXR1cm5lZCBjb2xvciBzaG91bGQgYmVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGEgY29sb3IgYmV0d2VlbiBmcm9tIGFuZCB0b1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJwb2xhdGVDb2xvcnMoZnJvbSwgdG8sIHZhbHVlKSB7XG4gIGNvbnN0IGZyb21SR0IgPSBuZXcgUkdCQ29sb3IoZnJvbSk7XG4gIGNvbnN0IHRvUkdCID0gbmV3IFJHQkNvbG9yKHRvKTtcbiAgY29uc3QgciA9IE1hdGgucm91bmQoZnJvbVJHQi5yICogKDEgLSB2YWx1ZSkgKyB0b1JHQi5yICogdmFsdWUpO1xuICBjb25zdCBnID0gTWF0aC5yb3VuZChmcm9tUkdCLmcgKiAoMSAtIHZhbHVlKSArIHRvUkdCLmcgKiB2YWx1ZSk7XG4gIGNvbnN0IGIgPSBNYXRoLnJvdW5kKGZyb21SR0IuYiAqICgxIC0gdmFsdWUpICsgdG9SR0IuYiAqIHZhbHVlKTtcbiAgcmV0dXJuIGByZ2IoJHtyfSwgJHtnfSwgJHtifSlgO1xufVxuXG4vKipcbiAqIFJldHVybiBhIHJhbmRvbSBpZCB3aGljaCB3aWxsIGJlIGNvbnNpc3RlbnQgZm9yIHRoaXMgYnJvd3NlciB0YWIgb3Igd2luZG93IGFzIGxvbmcgYXMgaXQgcmVtYWluc1xuICogb3BlbiwgaW5jbHVkaW5nIGlmIHRoaXMgcGFnZSBpcyByZWxvYWRlZCBvciBpZiB3ZSBuYXZpZ2F0ZSBhd2F5IGFuZCB0aGVuIGJhY2sgdG8gaXQuIFRoZSBpZCB3aWxsXG4gKiBiZSBkaWZmZXJlbnQgZm9yIG90aGVyIHRhYnMsIGluY2x1ZGluZyB0YWJzIGluIG90aGVyIGJyb3dzZXJzIG9yIG9uIG90aGVyIG1hY2hpbmVzLiBVbmZvcnR1bmF0ZWx5LFxuICogZHVwbGljYXRpbmcgYSBicm93c2VyIHRhYiB3aWxsIHJlc3VsdCBpbiB0d28gdGFicyB3aXRoIHRoZSBzYW1lIGlkLCBidXQgdGhpcyBpcyBub3QgY29tbW9uLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgc3RyaW5nIHJlcHJlc2VudGluZyBhIGZsb2F0IGJldHdlZW4gMCBhbmQgMS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRhYklkKCkge1xuICBsZXQgdGFiSWQgPSB0cnlHZXRTZXNzaW9uU3RvcmFnZSgndGFiSWQnLCBmYWxzZSk7XG4gIGlmICh0YWJJZCkge1xuICAgIHJldHVybiB0YWJJZDtcbiAgfVxuICB0cnlTZXRTZXNzaW9uU3RvcmFnZSgndGFiSWQnLCBNYXRoLnJhbmRvbSgpICsgJycpO1xuICByZXR1cm4gdHJ5R2V0U2Vzc2lvblN0b3JhZ2UoJ3RhYklkJywgZmFsc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSGlkZGVuUHJpbnRXaW5kb3coc3JjKSB7XG4gIGRhdGFVUklGcm9tVVJJKHNyYykudGhlbihkYXRhID0+IHtcbiAgICB2YXIgaWZyYW1lID0gJChcbiAgICAgICc8aWZyYW1lIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyB2aXNpYmlsaXR5OiBoaWRkZW47XCI+PC9pZnJhbWU+J1xuICAgICk7IC8vIENyZWF0ZWQgYSBoaWRkZW4gaWZyYW1lIHdpdGgganVzdCB0aGUgZGVzaXJlZCBpbWFnZSBhcyBpdHMgY29udGVudHNcbiAgICBpZnJhbWUuYXBwZW5kVG8oJ2JvZHknKTtcbiAgICBpZnJhbWVbMF0uY29udGVudFdpbmRvdy5kb2N1bWVudC53cml0ZShcbiAgICAgIGA8aW1nIHNyYz1cIiR7ZGF0YX1cIiBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkICMwMDA7XCIgb25sb2FkPVwiaWYgKGRvY3VtZW50LmV4ZWNDb21tYW5kKCdwcmludCcsIGZhbHNlLCBudWxsKSkgeyAgfSBlbHNlIHsgd2luZG93LnByaW50KCk7IH1cIi8+YFxuICAgICk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlT2Zmc2V0Q29vcmRpbmF0ZXMoZWxlbWVudCwgY2xpZW50WCwgY2xpZW50WSkge1xuICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgcmV0dXJuIHtcbiAgICB4OiBNYXRoLnJvdW5kKCgoY2xpZW50WCAtIHJlY3QubGVmdCkgKiBlbGVtZW50Lm9mZnNldFdpZHRoKSAvIHJlY3Qud2lkdGgpLFxuICAgIHk6IE1hdGgucm91bmQoKChjbGllbnRZIC0gcmVjdC50b3ApICogZWxlbWVudC5vZmZzZXRIZWlnaHQpIC8gcmVjdC5oZWlnaHQpLFxuICB9O1xufVxuXG4vKipcbiAqIERldGVjdHMgcHJvZmFuaXR5IGluIGEgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhbGUgT3B0aW9uYWwuXG4gKiBAcGFyYW0ge3N0cmluZ30gYXV0aGVudGljaXR5VG9rZW4gUmFpbHMgYXV0aGVudGljaXR5IHRva2VuLiBPcHRpb25hbC5cbiAqIEByZXR1cm5zIHtBcnJheTxzdHJpbmc+fG51bGx9IEFycmF5IG9mIHByb2ZhbmUgd29yZHMuXG4gKi9cbmV4cG9ydCBjb25zdCBmaW5kUHJvZmFuaXR5ID0gKHRleHQsIGxvY2FsZSwgYXV0aGVudGljaXR5VG9rZW4gPSBudWxsKSA9PiB7XG4gIGxldCByZXF1ZXN0ID0ge1xuICAgIHVybDogJy9wcm9mYW5pdHkvZmluZCcsXG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnLFxuICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHt0ZXh0LCBsb2NhbGV9KSxcbiAgfTtcblxuICBpZiAoYXV0aGVudGljaXR5VG9rZW4pIHtcbiAgICByZXF1ZXN0LmhlYWRlcnMgPSB7J1gtQ1NSRi1Ub2tlbic6IGF1dGhlbnRpY2l0eVRva2VufTtcbiAgfVxuXG4gIHJldHVybiAkLmFqYXgocmVxdWVzdCk7XG59O1xuXG4vKipcbiAqIENvbnZlcnQgYSBzdHJpbmcgdG8gYW4gTUQ1IGhhc2guXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIHN0cmluZyByZXByZXNlbnRpbmcgYW4gTUQ1IGhhc2guXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoU3RyaW5nKHN0cikge1xuICByZXR1cm4gbWQ1KHN0cik7XG59XG5cbi8qXG4gKiBBZGQgdG9vbHRpcCB0b2dnbGVzIHRvIHZvY2FidWxhcnkgZGVmaW5pdGlvbnMsIGFzIGdlbmVyYXRlZCBieSB0aGVcbiAqIE1hcmtkb3duUHJlcHJvY2Vzc29yXG4gKiBAc2VlIGh0dHBzOi8vZ2V0Ym9vdHN0cmFwLmNvbS8yLjMuMi9qYXZhc2NyaXB0Lmh0bWwjdG9vbHRpcHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvb2x0aXBpZnlWb2NhYnVsYXJ5KCkge1xuICAkKCcudm9jYWInKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMpLnRvb2x0aXAoe3BsYWNlbWVudDogJ2JvdHRvbSd9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0JsYW5rKHN0cikge1xuICByZXR1cm4gISEoIXN0ciB8fCBzdHIudHJpbSgpID09PSAnJyk7XG59XG5cbmNvbnN0IEVudmlyb25tZW50cyA9IHtcbiAgcHJvZHVjdGlvbjogJ3Byb2R1Y3Rpb24nLFxuICBsZXZlbGJ1aWxkZXI6ICdsZXZlbGJ1aWxkZXInLFxuICB0ZXN0OiAndGVzdCcsXG4gIHN0YWdpbmc6ICdzdGFnaW5nJyxcbiAgYWRob2M6ICdhZGhvYycsXG4gIGRldmVsb3BtZW50OiAnZGV2ZWxvcG1lbnQnLFxuICB1bmtub3duOiAndW5rbm93bicsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW52aXJvbm1lbnQoKSB7XG4gIGNvbnN0IGhvc3RuYW1lID0gY3VycmVudExvY2F0aW9uKCkuaG9zdG5hbWU7XG4gIGlmIChob3N0bmFtZS5pbmNsdWRlcygnYWRob2MnKSkge1xuICAgIC8vIEFzIGFkaG9jIGhvc3RuYW1lcyBtYXkgaW5jbHVkZSBvdGhlciBrZXl3b3JkcywgY2hlY2sgaXQgZmlyc3QuXG4gICAgcmV0dXJuIEVudmlyb25tZW50cy5hZGhvYztcbiAgfVxuICBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoJ3Rlc3QnKSkge1xuICAgIHJldHVybiBFbnZpcm9ubWVudHMudGVzdDtcbiAgfVxuICBpZiAoaG9zdG5hbWUuaW5jbHVkZXMoJ2xldmVsYnVpbGRlcicpKSB7XG4gICAgcmV0dXJuIEVudmlyb25tZW50cy5sZXZlbGJ1aWxkZXI7XG4gIH1cbiAgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCdzdGFnaW5nJykpIHtcbiAgICByZXR1cm4gRW52aXJvbm1lbnRzLnN0YWdpbmc7XG4gIH1cbiAgaWYgKGhvc3RuYW1lLmluY2x1ZGVzKCdsb2NhbGhvc3QnKSB8fCBob3N0bmFtZS5pbmNsdWRlcygnMTI3LjAuMC4xJykpIHtcbiAgICByZXR1cm4gRW52aXJvbm1lbnRzLmRldmVsb3BtZW50O1xuICB9XG4gIGlmIChob3N0bmFtZSA9PT0gJ2NvZGUub3JnJyB8fCBob3N0bmFtZSA9PT0gJ3N0dWRpby5jb2RlLm9yZycpIHtcbiAgICByZXR1cm4gRW52aXJvbm1lbnRzLnByb2R1Y3Rpb247XG4gIH1cbiAgcmV0dXJuIEVudmlyb25tZW50cy51bmtub3duO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEZXZlbG9wbWVudEVudmlyb25tZW50KCkge1xuICByZXR1cm4gZ2V0RW52aXJvbm1lbnQoKSA9PT0gRW52aXJvbm1lbnRzLmRldmVsb3BtZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTdGFnaW5nRW52aXJvbm1lbnQoKSB7XG4gIHJldHVybiBnZXRFbnZpcm9ubWVudCgpID09PSBFbnZpcm9ubWVudHMuc3RhZ2luZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVGVzdEVudmlyb25tZW50KCkge1xuICByZXR1cm4gZ2V0RW52aXJvbm1lbnQoKSA9PT0gRW52aXJvbm1lbnRzLnRlc3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb2R1Y3Rpb25FbnZpcm9ubWVudCgpIHtcbiAgcmV0dXJuIGdldEVudmlyb25tZW50KCkgPT09IEVudmlyb25tZW50cy5wcm9kdWN0aW9uO1xufVxuXG4vKipcbiAqIEZldGNoIGNvb2tpZXMgc2lnbmVkIGJ5IGNsb3VkZnJvbnQgd2hpY2ggZ3JhbnQgYWNjZXNzIHRvIHJlc3RyaWN0ZWQgY29udGVudC5cbiAqIEByZXR1cm5zIHtQcm9taXNlPFJlc3BvbnNlPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZldGNoU2lnbmVkQ29va2llcyhidXN0ZXIgPSBmYWxzZSkge1xuICByZXR1cm4gZmV0Y2goXG4gICAgYC9kYXNoYm9hcmRhcGkvc2lnbl9jb29raWVzJHtidXN0ZXIgPyBgP2J1c3Q9JHtEYXRlLm5vdygpfWAgOiAnJ31gLFxuICAgIHtcbiAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuICAgIH1cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFscGhhbnVtZXJpY0lkKCkge1xuICBjb25zdCB2YWxpZENoYXJhY3RlcnMgPVxuICAgICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XG4gIGNvbnN0IGlkTGVuZ3RoID0gMTY7XG4gIGNvbnN0IGlkID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaWRMZW5ndGg7IGkrKykge1xuICAgIGlkLnB1c2goXG4gICAgICB2YWxpZENoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHZhbGlkQ2hhcmFjdGVycy5sZW5ndGgpKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGlkLmpvaW4oJycpO1xufVxuXG4vKipcbiAqIFBhcnNlcyBhIGxldmVsJ3MgWE1MIHByb3BlcnRpZXMgZm9yIGJsb2NrIGlkcyB0aGF0IHdlcmUgZXhwbGljaXRseSBzZXQuXG4gKiBAcGFyYW0ge09iamVjdH0gYXBwT3B0aW9uc1xuICogQHJldHVybnMge1NldDxzdHJpbmc+fSAtIEEgc2V0IG9mIGV4cGxpY2l0bHkgc2V0ICdpZCcgYXR0cmlidXRlcyBmb3VuZCBpbiB0aGUgWE1MLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZEV4cGxpY2l0bHlTZXRCbG9ja0lkcyhhcHBPcHRpb25zID0gbnVsbCkge1xuICBpZiAoIWFwcE9wdGlvbnMgfHwgIWFwcE9wdGlvbnMubGV2ZWwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgZXhwbGljaXRseVNldElkcyA9IG5ldyBTZXQoKTtcblxuICBjb25zdCBibG9ja1NvdXJjZXMgPSBbJ3N0YXJ0QmxvY2tzJywgJ3Rvb2xib3gnXTtcbiAgZm9yIChjb25zdCBsZXZlbFByb3BlcnR5IG9mIGJsb2NrU291cmNlcykge1xuICAgIGNvbnN0IHhtbFN0cmluZyA9IGFwcE9wdGlvbnMubGV2ZWw/LltsZXZlbFByb3BlcnR5XTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAoIXhtbFN0cmluZykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgY29uc3QgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh4bWxTdHJpbmcsICd0ZXh0L3htbCcpO1xuXG4gICAgICAvLyBGaW5kIGFsbCAnYmxvY2snIGVsZW1lbnRzIGFuZCBleHRyYWN0IGV4cGxpY2l0bHkgc2V0IGlkc1xuICAgICAgY29uc3QgYmxvY2tFbGVtZW50cyA9IHhtbERvYy5xdWVyeVNlbGVjdG9yQWxsKCdibG9jaycpO1xuICAgICAgYmxvY2tFbGVtZW50cy5mb3JFYWNoKGJsb2NrRWxlbWVudCA9PiB7XG4gICAgICAgIGNvbnN0IGlkQXR0cmlidXRlID0gYmxvY2tFbGVtZW50LmdldEF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgaWYgKGlkQXR0cmlidXRlKSB7XG4gICAgICAgICAgZXhwbGljaXRseVNldElkcy5hZGQoaWRBdHRyaWJ1dGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSGFuZGxlIHBhcnNpbmcgZXJyb3JzIChlLmcuLCBpbnZhbGlkIFhNTClcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHBhcnNpbmcgWE1MIGZvciAke2xldmVsUHJvcGVydHl9OmAsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZXhwbGljaXRseVNldElkcztcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImJsYW5rX3NoYXJpbmdfZHJhd2luZ3dwMDA0NTcxNTcyM2Y1ODA4Mjg3YzZjMmM5YTU0ZjVkODcucG5nXCI7Il0sIm5hbWVzIjpbIlVOU0VUIiwiU1VDQ0VTUyIsIkZBSUxVUkUiLCJUSU1FT1VUIiwiRVJST1IiLCJOT19URVNUU19SVU4iLCJHRU5FUklDX0ZBSUwiLCJFTVBUWV9CTE9DS19GQUlMIiwiVE9PX0ZFV19CTE9DS1NfRkFJTCIsIkxFVkVMX0lOQ09NUExFVEVfRkFJTCIsIk1JU1NJTkdfQkxPQ0tfVU5GSU5JU0hFRCIsIkVYVFJBX1RPUF9CTE9DS1NfRkFJTCIsIlJVTlRJTUVfRVJST1JfRkFJTCIsIlNZTlRBWF9FUlJPUl9GQUlMIiwiTUlTU0lOR19CTE9DS19GSU5JU0hFRCIsIkFQUF9TUEVDSUZJQ19GQUlMIiwiRU1QVFlfRlVOQ1RJT05fQkxPQ0tfRkFJTCIsIlVOVVNFRF9QQVJBTSIsIlVOVVNFRF9GVU5DVElPTiIsIlBBUkFNX0lOUFVUX1VOQVRUQUNIRUQiLCJJTkNPTVBMRVRFX0JMT0NLX0lOX0ZVTkNUSU9OIiwiUVVFU1RJT05fTUFSS1NfSU5fTlVNQkVSX0ZJRUxEIiwiRU1QVFlfRlVOQ1RJT05BTF9CTE9DSyIsIkVYQU1QTEVfRkFJTEVEIiwiTkVTVEVEX0ZPUl9TQU1FX1ZBUklBQkxFIiwiRU1QVFlfRlVOQ1RJT05fTkFNRSIsIk1JU1NJTkdfUkVDT01NRU5ERURfQkxPQ0tfVU5GSU5JU0hFRCIsIkVYVFJBX0ZVTkNUSU9OX0ZBSUwiLCJMT0NBTF9GVU5DVElPTl9GQUlMIiwiR0VORVJJQ19MSU5UX0ZBSUwiLCJMT0dfQ09ORElUSU9OX0ZBSUwiLCJCTE9DS19MSU1JVF9GQUlMIiwiRlJFRV9QTEFZX1VOQ0hBTkdFRF9GQUlMIiwiVU5TVUJNSVRURURfQVRURU1QVCIsIlNLSVBQRUQiLCJURUFDSEVSX0ZFRURCQUNLX0tFRVBfV09SS0lORyIsIkxFVkVMX1NUQVJURUQiLCJNSU5JTVVNX1BBU1NfUkVTVUxUIiwiVE9PX01BTllfQkxPQ0tTX0ZBSUwiLCJBUFBfU1BFQ0lGSUNfQUNDRVBUQUJMRV9GQUlMIiwiTUlTU0lOR19SRUNPTU1FTkRFRF9CTE9DS19GSU5JU0hFRCIsIk1JTklNVU1fT1BUSU1BTF9SRVNVTFQiLCJGUkVFX1BMQVkiLCJQQVNTX1dJVEhfRVhUUkFfVE9QX0JMT0NLUyIsIkFQUF9TUEVDSUZJQ19JTVBFUkZFQ1RfUEFTUyIsIkVESVRfQkxPQ0tTIiwiTUFOVUFMX1BBU1MiLCJBTExfUEFTUyIsIkNPTlRBSU5FRF9MRVZFTF9SRVNVTFQiLCJCRVRURVJfVEhBTl9JREVBTCIsIlNVQk1JVFRFRF9SRVNVTFQiLCJSRVZJRVdfUkVKRUNURURfUkVTVUxUIiwiUkVWSUVXX0FDQ0VQVEVEX1JFU1VMVCIsIkJlZVRlcm1pbmF0aW9uVmFsdWUiLCJJTkZJTklURV9MT09QIiwiSW5maW5pdHkiLCJOT1RfQVRfRkxPV0VSIiwiRkxPV0VSX0VNUFRZIiwiTk9UX0FUX0hPTkVZQ09NQiIsIkhPTkVZQ09NQl9GVUxMIiwiVU5DSEVDS0VEX0NMT1VEIiwiVU5DSEVDS0VEX1BVUlBMRSIsIklOU1VGRklDSUVOVF9ORUNUQVIiLCJJTlNVRkZJQ0lFTlRfSE9ORVkiLCJESURfTk9UX0NPTExFQ1RfRVZFUllUSElORyIsIldST05HX0NST1AiLCJFTVBUWV9DUk9QIiwiQkFDS1NQQUNFIiwiRU5URVIiLCJTUEFDRSIsIkxFRlQiLCJVUCIsIlJJR0hUIiwiRE9XTiIsIkNPUFkiLCJQQVNURSIsIkRFTEVURSIsIk9VVFRPUE9VVExFRlQiLCJPVVRUT1BMRUZUIiwiT1VUVE9QQ0VOVEVSIiwiT1VUVE9QUklHSFQiLCJPVVRUT1BPVVRSSUdIVCIsIlRPUE9VVExFRlQiLCJUT1BMRUZUIiwiVE9QQ0VOVEVSIiwiVE9QUklHSFQiLCJUT1BPVVRSSUdIVCIsIk1JRERMRU9VVExFRlQiLCJNSURETEVMRUZUIiwiTUlERExFQ0VOVEVSIiwiTUlERExFUklHSFQiLCJNSURETEVPVVRSSUdIVCIsIkJPVFRPTU9VVExFRlQiLCJCT1RUT01MRUZUIiwiQk9UVE9NQ0VOVEVSIiwiQk9UVE9NUklHSFQiLCJCT1RUT01PVVRSSUdIVCIsIk9VVEJPVFRPTU9VVExFRlQiLCJPVVRCT1RUT01MRUZUIiwiT1VUQk9UVE9NQ0VOVEVSIiwiT1VUQk9UVE9NUklHSFQiLCJPVVRCT1RUT01PVVRSSUdIVCIsIkRDRE8iLCJjb25maWdzIiwidGhpcyIsImdldCIsImtleSIsImRlZmF1bHRWYWx1ZSIsInVuZGVmaW5lZCIsInNldCIsInZhbHVlIiwicmVzZXQiLCJoYXNTY3JpcHREYXRhIiwiZ2V0U2NyaXB0RGF0YSIsIlVSSUZyb21JbWFnZURhdGEiLCJpbWFnZURhdGEiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ3aWR0aCIsImhlaWdodCIsImdldENvbnRleHQiLCJwdXRJbWFnZURhdGEiLCJ0b0RhdGFVUkwiLCJibG9iVG9EYXRhVVJJIiwiYmxvYiIsIm9uQ29tcGxldGUiLCJmaWxlUmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImUiLCJ0YXJnZXQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiZGF0YVVSSUZyb21VUkkiLCJkYXRhVVJJVG9CbG9iIiwiZGF0YVVSSVRvRnJhbWVkQmxvYiIsImRhdGFVUkkiLCJjYWxsYmFjayIsImZyYW1lIiwiSW1hZ2UiLCJzcmMiLCJjdHgiLCJkcmF3SW1hZ2UiLCJ0b0Jsb2IiLCJhcnRpc3RTaGFyZUZyYW1lIiwiZGF0YVVSSVRvU291cmNlU2l6ZSIsInRvSW1hZ2UiLCJ0aGVuIiwiaW1hZ2UiLCJ4IiwieSIsImRvd25sb2FkQmxvYkFzUG5nIiwiZmlsZW5hbWUiLCJkb3dubG9hZCIsImhyZWYiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJjbGljayIsImZldGNoVVJMQXNCbG9iIiwidXJsIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwicmVzcG9uc2VUeXBlIiwic3RhdHVzIiwicmVzcG9uc2UiLCJFcnJvciIsIm9uZXJyb3IiLCJzZW5kIiwic3ZnVG9EYXRhVVJJIiwic3ZnIiwiaW1hZ2VUeXBlIiwib3B0aW9ucyIsIlByb21pc2UiLCJyZXNvbHZlIiwidG9JbWFnZURhdGEiLCJ1cmkiLCJ0b0NhbnZhcyIsImNhbnZhc1RvQmxvYiIsImlucHV0IiwiSFRNTEltYWdlRWxlbWVudCIsImNsZWFudXAiLCJCbG9iIiwicmV2b2tlT2JqZWN0VVJMIiwicmVqZWN0IiwiZXJyIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJJbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInR5cGUiLCJxdWFsaXR5IiwiYmluU3RyIiwiYXRvYiIsInNwbGl0IiwiYXJyIiwiVWludDhBcnJheSIsImxlbmd0aCIsImkiLCJjaGFyQ29kZUF0IiwiU1ZHRWxlbWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJjbGFzc05hbWUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZXZhbHVhdGUiLCJ3aWNrZWRHb29kWHBhdGgiLCJpbnN0YWxsIiwid2luZG93IiwicXVlcnlTdHJpbmciLCJyZXF1aXJlIiwiZXhwZXJpbWVudHMiLCJtb2R1bGUiLCJleHBvcnRzIiwiUkVEVVhfTE9HR0lORyIsIlNDSE9PTF9BVVRPQ09NUExFVEVfRFJPUERPV05fTkVXX1NFQVJDSCIsIlNIT1dfVU5QVUJMSVNIRURfRklSRUJBU0VfVEFCTEVTIiwiVEVBQ0hFUl9EQVNIQk9BUkRfU0VDVElPTl9CVVRUT05TIiwiVEVBQ0hFUl9EQVNIQk9BUkRfU0VDVElPTl9CVVRUT05TX0FMVEVSTkFURV9URVhUIiwiRklOSVNIX0RJQUxPR19NRVRSSUNTIiwiSTE4Tl9UUkFDS0lORyIsIlRJTUVfU1BFTlQiLCJCWVBBU1NfRElBTE9HX1BPUFVQIiwiU1BFQ0lBTF9UT1BJQyIsIk9QVF9JTl9FTUFJTF9SRUdfUEFSVE5FUiIsIkJBQ0tHUk9VTkRTX0FORF9VUExPQUQiLCJTRUNUSU9OX1NFVFVQX1JFRlJFU0giLCJHRU5ERVJfRkVBVFVSRV9FTkFCTEVEIiwiQ1BBX0VYUEVSSUVOQ0UiLCJBSV9SVUJSSUNTIiwiTk9OX0FJX1JVQlJJQ1MiLCJBSV9UVVRPUl9BQ0NFU1MiLCJHT09HTEVfQkxPQ0tMWSIsIlNQUklURV9MQUJfRE9DUyIsIktFWUJPQVJEX05BVklHQVRJT04iLCJTRUNUSU9OX1BST0dSRVNTX1YyIiwiU0NIT09MX0FTU09DSUFUSU9OX1YyIiwiQlVCQkxFX0RJQUxPRyIsImdldFF1ZXJ5U3RyaW5nXyIsImxvY2F0aW9uIiwic2VhcmNoIiwiZ2V0U3RvcmVkRXhwZXJpbWVudHNfIiwiZXhwZXJpbWVudHNDb29raWUiLCJDb29raWUiLCJjb29raWVFbnZTdWZmaXgiLCJ1c2VyRXhwZXJpbWVudHMiLCJKU09OIiwicGFyc2UiLCJkZWNvZGVVUklDb21wb25lbnQiLCJtYXAiLCJuYW1lIiwianNvbkxpc3QiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3RvcmVkRXhwZXJpbWVudHMiLCJub3ciLCJEYXRlIiwiZW5hYmxlZEV4cGVyaW1lbnRzIiwiZmlsdGVyIiwiZXhwZXJpbWVudCIsImV4cGlyYXRpb24iLCJ0cnlTZXRMb2NhbFN0b3JhZ2UiLCJzdHJpbmdpZnkiLCJjb25jYXQiLCJnZXRFbmFibGVkRXhwZXJpbWVudHMiLCJzZXRFbmFibGVkIiwic2hvdWxkRW5hYmxlIiwiYWxsRW5hYmxlZCIsImV4cGVyaW1lbnRJbmRleCIsImZpbmRJbmRleCIsInB1c2giLCJ0cmFja0V2ZW50Iiwic3BsaWNlIiwiaXNFbmFibGVkQWxsb3dpbmdRdWVyeVN0cmluZyIsImlzRW5hYmxlZCIsImVuYWJsZWQiLCJzb21lIiwiYXBwT3B0aW9ucyIsImluY2x1ZGVzIiwicXVlcnkiLCJlbmFibGVRdWVyeSIsImRpc2FibGVRdWVyeSIsInRlbXBFbmFibGVRdWVyeSIsImluZGV4T2YiLCJleHBpcmF0aW9uRGF0ZSIsInNldEhvdXJzIiwiZ2V0SG91cnMiLCJnZXRUaW1lIiwidG9Mb3dlckNhc2UiLCJzY3JpcHQiLCJxdWVyeVNlbGVjdG9yIiwiZGF0YXNldCIsImNvbnNvbGUiLCJlcnJvciIsImxvY2FsZVdpdGhJMThuU3RyaW5nVHJhY2tlciIsImxvY2FsZSIsInNvdXJjZSIsImxvY2FsZVdpdGhUcmFja2VyIiwia2V5cyIsImZvckVhY2giLCJzdHJpbmdLZXkiLCJpbmRleCIsImQiLCJsb2ciLCJnZXRJMThuU3RyaW5nVHJhY2tlcldvcmtlciIsIkkxOG5TdHJpbmdUcmFja2VyV29ya2VyIiwiaW5zdGFuY2UiLCJjb25zdHJ1Y3RvciIsImJ1ZmZlciIsIlNldCIsImFkZCIsInBlbmRpbmdGbHVzaCIsInNldFRpbWVvdXQiLCJmbHVzaCIsInJlY29yZHMiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzZW5kUmVjb3JkcyIsImxvY2F0aW9uT3JpZ2luIiwib3JpZ2luIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsInN0cmluZ0tleXMiLCJBcnJheSIsImZyb20iLCJSRUNPUkRfTElNSVQiLCJzdHJpbmdLZXlCYXRjaCIsInNsaWNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsInN0cmluZ19rZXlzIiwic2FmZUxvYWRMb2NhbGUiLCJsb2NhbGVLZXkiLCJsb2NhbGVzIiwid2FybiIsImJpc2VjdCIsImFycmF5IiwiY29uZGl0aW9uYWwiLCJwb3NpdGl2ZSIsIm5lZ2F0aXZlIiwiY2FsY3VsYXRlT2Zmc2V0Q29vcmRpbmF0ZXMiLCJlbGVtZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwicm91bmQiLCJsZWZ0Iiwib2Zmc2V0V2lkdGgiLCJ0b3AiLCJvZmZzZXRIZWlnaHQiLCJjbG9uZVdpdGhvdXRGdW5jdGlvbnMiLCJvYmplY3QiLCJjcmVhdGVFdmVudCIsImN1c3RvbUV2ZW50IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJFdmVudCIsImluaXRFdmVudCIsImNyZWF0ZUhpZGRlblByaW50V2luZG93IiwiZGF0YSIsImlmcmFtZSIsIiQiLCJhcHBlbmRUbyIsImNvbnRlbnRXaW5kb3ciLCJ3cml0ZSIsImNyZWF0ZVV1aWQiLCJyZXBsYWNlIiwiYyIsInIiLCJ0b1N0cmluZyIsImRlZXBNZXJnZUNvbmNhdEFycmF5cyIsImJhc2VPYmplY3QiLCJvdmVycmlkZXMiLCJJbW11dGFibGUiLCJmcm9tSlMiLCJtZXJnZVdpdGgiLCJkZWVwQ29uY2F0TWVyZ2VyIiwiYSIsImIiLCJpc0xpc3QiLCJMaXN0IiwidG9KUyIsImVsbGlwc2lmeSIsImlucHV0VGV4dCIsIm1heExlbmd0aCIsInN1YnN0ciIsImVzY2FwZUh0bWwiLCJ1bnNhZmUiLCJlc2NhcGVUZXh0IiwidGV4dCIsImVzY2FwZWRUZXh0IiwibGluZXMiLCJmaXJzdCIsInJlc3QiLCJsaW5lIiwiam9pbiIsImV4ZWN1dGVJZkNvbmRpdGlvbmFsIiwiZm4iLCJhcHBseSIsImFyZ3VtZW50cyIsImV4dGVuZCIsImRlZmF1bHRzIiwiZmluYWxPcHRpb25zIiwic2hhbGxvd0NvcHkiLCJwcm9wIiwiZmV0Y2hTaWduZWRDb29raWVzIiwiYnVzdGVyIiwiY3JlZGVudGlhbHMiLCJmaW5kRXhwbGljaXRseVNldEJsb2NrSWRzIiwibGV2ZWwiLCJleHBsaWNpdGx5U2V0SWRzIiwibGV2ZWxQcm9wZXJ0eSIsInhtbFN0cmluZyIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImJsb2NrRWxlbWVudCIsImlkQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwiZmlyZVJlc2l6ZUV2ZW50IiwiZXYiLCJkaXNwYXRjaEV2ZW50IiwiZmxhdHRlbiIsInJlZHVjZSIsImZsYXQiLCJ0b0ZsYXR0ZW4iLCJpc0FycmF5IiwiZ2V0QWxwaGFudW1lcmljSWQiLCJ2YWxpZENoYXJhY3RlcnMiLCJpZCIsImNoYXJBdCIsImdldFRhYklkIiwidGFiSWQiLCJ0cnlHZXRTZXNzaW9uU3RvcmFnZSIsInRyeVNldFNlc3Npb25TdG9yYWdlIiwiaGFzaFN0cmluZyIsInN0ciIsIm1kNSIsImludGVycG9sYXRlQ29sb3JzIiwidG8iLCJmcm9tUkdCIiwiUkdCQ29sb3IiLCJ0b1JHQiIsImciLCJpc0JsYW5rIiwidHJpbSIsImlzRGV2ZWxvcG1lbnRFbnZpcm9ubWVudCIsImdldEVudmlyb25tZW50IiwiRW52aXJvbm1lbnRzIiwiZGV2ZWxvcG1lbnQiLCJpc0luZmluaXRlUmVjdXJzaW9uRXJyb3IiLCJSYW5nZUVycm9yIiwidGVzdCIsIm1lc3NhZ2UiLCJJbnRlcm5hbEVycm9yIiwiaXNQcm9kdWN0aW9uRW52aXJvbm1lbnQiLCJwcm9kdWN0aW9uIiwiaXNTdGFnaW5nRW52aXJvbm1lbnQiLCJzdGFnaW5nIiwiaXNTdWJzZXF1ZW5jZSIsInNlcXVlbmNlIiwic3Vic2VxdWVuY2UiLCJzdXBlckluZGV4Iiwic3ViSW5kZXgiLCJpc1Rlc3RFbnZpcm9ubWVudCIsImxldmVuc2h0ZWluIiwibWF0cml4IiwiaiIsIm1pbiIsImxpbmtXaXRoUXVlcnlQYXJhbXMiLCJsaW5rIiwicXVlcnlQYXJhbXMiLCJtYWtlRW51bSIsIlN0cmluZyIsImZyZWV6ZSIsIm1vZCIsIm51bWJlciIsIm5hdmlnYXRlVG9IcmVmIiwibm9ybWFsaXplIiwidmVjdG9yIiwibWFnIiwic3FydCIsInF1b3RlIiwicmFuZG9tS2V5Iiwib2JqIiwicmFuZG9tVmFsdWUiLCJyYW5nZSIsInN0YXJ0IiwiZW5kIiwiaW50cyIsInJlbG9hZCIsInJlc2V0QW5pR2lmIiwic2hvd1VudXNlZEJsb2NrUXRpcCIsInRhcmdldEVsZW1lbnQiLCJtc2ciLCJ0aXRsZSIsInVuYXR0YWNoZWRCbG9ja1RpcFRpdGxlIiwidW5hdHRhY2hlZEJsb2NrVGlwQm9keSIsInNob3dHZW5lcmljUXRpcCIsIm15IiwiYXQiLCJzdHJpbmdUb0NodW5rcyIsImRlbGltaXRlciIsImFjYyIsInZhbCIsImxhc3RWYWwiLCJwb3AiLCJzdHJpbmdpZnlRdWVyeVBhcmFtcyIsInBhcmFtcyIsInN0cmlwUXVvdGVzIiwiaW5wdXRTdHJpbmciLCJ0b29sdGlwaWZ5Vm9jYWJ1bGFyeSIsImVhY2giLCJ0b29sdGlwIiwicGxhY2VtZW50IiwidHJ5R2V0TG9jYWxTdG9yYWdlIiwicmV0dXJuVmFsdWUiLCJpdGVtIiwic2V0SXRlbSIsInVuZXNjYXBlVGV4dCIsImNsZWFuZWRUZXh0IiwidmFsdWVPciIsImRlZmF1bHRWYWwiLCJ3aW5kb3dPcGVuIiwid3JhcE51bWJlclZhbGlkYXRvcnNGb3JMZXZlbEJ1aWxkZXIiLCJub25OZWciLCJCbG9ja2x5IiwiRmllbGRUZXh0SW5wdXQiLCJub25uZWdhdGl2ZUludGVnZXJWYWxpZGF0b3IiLCJudW1WYWwiLCJudW1iZXJWYWxpZGF0b3IiLCJ4RnJvbVBvc2l0aW9uIiwicG9zaXRpb24iLCJjb250YWluZXJXaWR0aCIsInNwcml0ZVdpZHRoIiwiUG9zaXRpb24iLCJ5RnJvbVBvc2l0aW9uIiwiY29udGFpbmVySGVpZ2h0Iiwic3ByaXRlSGVpZ2h0IiwidmFsdWVzIiwicXRpcCIsImNvbnRlbnQiLCJidXR0b24iLCJzdHlsZSIsImNsYXNzZXMiLCJ0aXAiLCJoaWRlIiwiZXZlbnQiLCJzaG93Iiwic2Vzc2lvblN0b3JhZ2UiLCJjdXJyZW50TG9jYXRpb24iLCJzdHJpcEVuY2Fwc3VsYXRpbmdEb3VibGVRdW90ZXMiLCJGdW5jdGlvbiIsImluaGVyaXRzIiwicGFyZW50IiwiY3JlYXRlIiwic3VwZXJQcm90b3R5cGUiLCJmaW5kUHJvZmFuaXR5IiwiYXV0aGVudGljaXR5VG9rZW4iLCJyZXF1ZXN0IiwiY29udGVudFR5cGUiLCJhamF4IiwibGV2ZWxidWlsZGVyIiwiYWRob2MiLCJ1bmtub3duIl0sInNvdXJjZVJvb3QiOiIifQ==