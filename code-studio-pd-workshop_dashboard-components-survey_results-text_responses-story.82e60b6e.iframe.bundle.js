"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[1097],{"./src/code-studio/pd/workshop_dashboard/components/survey_results/text_responses.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_reactBootstrap=__webpack_require__("./node_modules/react-bootstrap/es/index.js"),_lodash=_interopRequireDefault(__webpack_require__("./node_modules/lodash/lodash.js")),_he=_interopRequireDefault(__webpack_require__("./node_modules/he/he.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}!function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(exports.default=function(_React$Component){function TextResponses(){return _React$Component.apply(this,arguments)||this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(TextResponses,_React$Component);var _proto=TextResponses.prototype;return _proto.renderResponseBullets=function renderResponseBullets(){var _this=this;if(Array.isArray(this.props.answers)){var answers=this.props.answers.map((function(answer,i){return _this.renderBullet(answer,i)}));if(this.props.showAverage){var average=this.computeAverageForAnswers(this.props.answers);answers.unshift(_react.default.createElement("li",{key:Object.keys(this.props.answers).length},"Average: ",average))}return answers}return Object.keys(this.props.answers).map((function(facilitator_name,i){var answers=_this.props.answers[facilitator_name].map((function(feedback,j){return _this.renderBullet(feedback,j)}));if(_this.props.showAverage){var _average=_this.computeAverageForAnswers(_this.props.answers[facilitator_name]);answers.unshift(_react.default.createElement("li",{key:Object.keys(_this.props.answers[facilitator_name]).length},"Average: ",_average))}return _react.default.createElement("li",{key:i},_this.props.facilitators&&_this.props.facilitators[facilitator_name]?_this.props.facilitators[facilitator_name]:facilitator_name,_react.default.createElement("ul",null,answers))}))},_proto.computeAverageForAnswers=function computeAverageForAnswers(answers){var numericAnswers=answers.filter((function(answer){return!isNaN(Number(answer))}));return(numericAnswers.reduce((function(sum,answer){var x=parseInt(answer);return x>0?sum+x:sum}),0)/numericAnswers.length).toFixed(2)},_proto.renderBullet=function renderBullet(text,key){var trimmedText=_lodash.default.trim(_he.default.decode(text));if(trimmedText)return _react.default.createElement("li",{key},trimmedText)},_proto.render=function render(){return _react.default.createElement(_reactBootstrap.Well,null,_react.default.createElement("b",null,this.props.question),this.renderResponseBullets())},TextResponses}(_react.default.Component),"propTypes",{question:_propTypes.default.string.isRequired,answers:_propTypes.default.oneOfType([_propTypes.default.array,_propTypes.default.object]).isRequired,showAverage:_propTypes.default.bool,facilitators:_propTypes.default.object}),module.exports=exports.default},"./src/code-studio/pd/workshop_dashboard/components/survey_results/text_responses.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.GeneralTextResponses=exports.GeneralResponsesWithAnAverage=exports.FacilitatorSpecificTextResponses=exports.FacilitatorResponsesWithAverages=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_text_responses=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/workshop_dashboard/components/survey_results/text_responses.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={component:_text_responses.default};var Template=function Template(args){return _react.default.createElement(_text_responses.default,args)};(exports.GeneralTextResponses=Template.bind({})).args={name:"General text responses",question:"What is your favorite food?",answers:["Tacos","Pizza","Burritos","Vegetable Fried Rice"]},(exports.FacilitatorSpecificTextResponses=Template.bind({})).args={name:"Facilitator specific text responses",question:"What snacks do you want your facilitator to bring?",answers:{"Facilitator 1":["Chips","Apples","Nachos","Nachos","Cookies"],"Facilitator 2":["Fries","Carrots","Carrots","Peppers","Donuts"]}},(exports.GeneralResponsesWithAnAverage=Template.bind({})).args={name:"General responses with an average",question:"How many tacos do you want?",answers:["1","2","3","6","3","3","2","0","Dunno"],showAverage:!0},(exports.FacilitatorResponsesWithAverages=Template.bind({})).args={name:"Facilitator responses with averages",question:"On a scale of 1 to 5, how good was the facilitator's cooking?",answers:{"Facilitator 1":["3","4","5","5","4","5","5"],"Facilitator 2":["2","3","1","1","1","2","Dunno"]},showAverage:!0}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZS1zdHVkaW8tcGQtd29ya3Nob3BfZGFzaGJvYXJkLWNvbXBvbmVudHMtc3VydmV5X3Jlc3VsdHMtdGV4dF9yZXNwb25zZXMtc3RvcnkuZjUxNDBlOTQuaWZyYW1lLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoieVNBQUEsSUFBQUEsV0FBQUMsdUJBQUFDLG9CQUFBLHVDQUNBQyxPQUFBRix1QkFBQUMsb0JBQUEsa0NBQ0FFLGdCQUFBRixvQkFBQSw4Q0FDQUcsUUFBQUosdUJBQUFDLG9CQUFBLG9DQUNBSSxJQUFBTCx1QkFBQUMsb0JBQUEsNEJBQW9CLFNBQUFELHVCQUFBTSxLQUFBLE9BQUFBLEtBQUFBLElBQUFDLFdBQUFELElBQUEsU0FBQUEsSUFBQSxVQUFBRSxRQUFBQyxHQUFBLE9BQUFELFFBQUEsbUJBQUFFLFFBQUEsaUJBQUFBLE9BQUFDLFNBQUEsU0FBQUYsR0FBQSxjQUFBQSxDQUFBLFdBQUFBLEdBQUEsT0FBQUEsR0FBQSxtQkFBQUMsUUFBQUQsRUFBQUcsY0FBQUYsUUFBQUQsSUFBQUMsT0FBQUcsVUFBQSxnQkFBQUosQ0FBQSxFQUFBRCxRQUFBQyxFQUFBLFVBQUFLLGdCQUFBTCxFQUFBTSxHQUFBLE9BQUFELGdCQUFBRSxPQUFBQyxlQUFBRCxPQUFBQyxlQUFBQyxPQUFBLFNBQUFKLGdCQUFBTCxFQUFBTSxHQUFBLE9BQUFOLEVBQUFVLFVBQUFKLEVBQUFOLENBQUEsRUFBQUssZ0JBQUFMLEVBQUFNLEVBQUEsV0FBQUssZ0JBQUFkLElBQUFlLElBQUFDLE9BQUEsT0FBQUQsSUFBQSxTQUFBRSxlQUFBQyxHQUFBLElBQUFDLEVBQUEsU0FBQUMsYUFBQUYsRUFBQUcsR0FBQSxhQUFBbkIsUUFBQWdCLEtBQUFBLEVBQUEsT0FBQUEsRUFBQSxJQUFBSSxFQUFBSixFQUFBZCxPQUFBbUIsYUFBQSxZQUFBRCxFQUFBLEtBQUFILEVBQUFHLEVBQUFFLEtBQUFOLEVBQUFHLEdBQUEsd0JBQUFuQixRQUFBaUIsR0FBQSxPQUFBQSxFQUFBLFVBQUFNLFVB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SUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssU0FDbERJLGFBQWEsSUFHOEJwQixRQUFBQSxpQ0FBRzRELFNBQVNoRixLQUFLLENBQUMsSUFDOUJpRixLQUFPLENBQ3RDQyxLQUFNLHNDQUNOZixTQUFVLGdFQUNWL0IsUUFBUyxDQUNQLGdCQUFpQixDQUFDLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLEtBQ2hELGdCQUFpQixDQUFDLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLFVBRWxESSxhQUFhLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvY29kZS1zdHVkaW8vcGQvd29ya3Nob3BfZGFzaGJvYXJkL2NvbXBvbmVudHMvc3VydmV5X3Jlc3VsdHMvdGV4dF9yZXNwb25zZXMuanN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9jb2RlLXN0dWRpby9wZC93b3Jrc2hvcF9kYXNoYm9hcmQvY29tcG9uZW50cy9zdXJ2ZXlfcmVzdWx0cy90ZXh0X3Jlc3BvbnNlcy5zdG9yeS5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1dlbGx9IGZyb20gJ3JlYWN0LWJvb3RzdHJhcCc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1pbXBvcnRzXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IGhlIGZyb20gJ2hlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dFJlc3BvbnNlcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgcXVlc3Rpb246IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBhbnN3ZXJzOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXksIFByb3BUeXBlcy5vYmplY3RdKVxuICAgICAgLmlzUmVxdWlyZWQsXG4gICAgc2hvd0F2ZXJhZ2U6IFByb3BUeXBlcy5ib29sLFxuICAgIGZhY2lsaXRhdG9yczogUHJvcFR5cGVzLm9iamVjdCxcbiAgfTtcblxuICByZW5kZXJSZXNwb25zZUJ1bGxldHMoKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy5hbnN3ZXJzKSkge1xuICAgICAgbGV0IGFuc3dlcnMgPSB0aGlzLnByb3BzLmFuc3dlcnMubWFwKChhbnN3ZXIsIGkpID0+XG4gICAgICAgIHRoaXMucmVuZGVyQnVsbGV0KGFuc3dlciwgaSlcbiAgICAgICk7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLnNob3dBdmVyYWdlKSB7XG4gICAgICAgIGxldCBhdmVyYWdlID0gdGhpcy5jb21wdXRlQXZlcmFnZUZvckFuc3dlcnModGhpcy5wcm9wcy5hbnN3ZXJzKTtcbiAgICAgICAgYW5zd2Vycy51bnNoaWZ0KFxuICAgICAgICAgIDxsaSBrZXk9e09iamVjdC5rZXlzKHRoaXMucHJvcHMuYW5zd2VycykubGVuZ3RofT5cbiAgICAgICAgICAgIEF2ZXJhZ2U6IHthdmVyYWdlfVxuICAgICAgICAgIDwvbGk+XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhbnN3ZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5wcm9wcy5hbnN3ZXJzKS5tYXAoKGZhY2lsaXRhdG9yX25hbWUsIGkpID0+IHtcbiAgICAgICAgbGV0IGFuc3dlcnMgPSB0aGlzLnByb3BzLmFuc3dlcnNbZmFjaWxpdGF0b3JfbmFtZV0ubWFwKChmZWVkYmFjaywgaikgPT5cbiAgICAgICAgICB0aGlzLnJlbmRlckJ1bGxldChmZWVkYmFjaywgailcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc2hvd0F2ZXJhZ2UpIHtcbiAgICAgICAgICBsZXQgYXZlcmFnZSA9IHRoaXMuY29tcHV0ZUF2ZXJhZ2VGb3JBbnN3ZXJzKFxuICAgICAgICAgICAgdGhpcy5wcm9wcy5hbnN3ZXJzW2ZhY2lsaXRhdG9yX25hbWVdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBhbnN3ZXJzLnVuc2hpZnQoXG4gICAgICAgICAgICA8bGkga2V5PXtPYmplY3Qua2V5cyh0aGlzLnByb3BzLmFuc3dlcnNbZmFjaWxpdGF0b3JfbmFtZV0pLmxlbmd0aH0+XG4gICAgICAgICAgICAgIEF2ZXJhZ2U6IHthdmVyYWdlfVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8bGkga2V5PXtpfT5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmZhY2lsaXRhdG9ycyAmJlxuICAgICAgICAgICAgdGhpcy5wcm9wcy5mYWNpbGl0YXRvcnNbZmFjaWxpdGF0b3JfbmFtZV1cbiAgICAgICAgICAgICAgPyB0aGlzLnByb3BzLmZhY2lsaXRhdG9yc1tmYWNpbGl0YXRvcl9uYW1lXVxuICAgICAgICAgICAgICA6IGZhY2lsaXRhdG9yX25hbWV9XG4gICAgICAgICAgICA8dWw+e2Fuc3dlcnN9PC91bD5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcHV0ZUF2ZXJhZ2VGb3JBbnN3ZXJzKGFuc3dlcnMpIHtcbiAgICBsZXQgbnVtZXJpY0Fuc3dlcnMgPSBhbnN3ZXJzLmZpbHRlcihhbnN3ZXIgPT4gIWlzTmFOKE51bWJlcihhbnN3ZXIpKSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgbnVtZXJpY0Fuc3dlcnMucmVkdWNlKChzdW0sIGFuc3dlcikgPT4ge1xuICAgICAgICBsZXQgeCA9IHBhcnNlSW50KGFuc3dlcik7XG4gICAgICAgIGlmICh4ID4gMCkge1xuICAgICAgICAgIHJldHVybiBzdW0gKyB4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBzdW07XG4gICAgICAgIH1cbiAgICAgIH0sIDApIC8gbnVtZXJpY0Fuc3dlcnMubGVuZ3RoXG4gICAgKS50b0ZpeGVkKDIpO1xuICB9XG5cbiAgcmVuZGVyQnVsbGV0KHRleHQsIGtleSkge1xuICAgIGNvbnN0IHRyaW1tZWRUZXh0ID0gXy50cmltKGhlLmRlY29kZSh0ZXh0KSk7XG4gICAgaWYgKHRyaW1tZWRUZXh0KSB7XG4gICAgICByZXR1cm4gPGxpIGtleT17a2V5fT57dHJpbW1lZFRleHR9PC9saT47XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8V2VsbD5cbiAgICAgICAgPGI+e3RoaXMucHJvcHMucXVlc3Rpb259PC9iPlxuICAgICAgICB7dGhpcy5yZW5kZXJSZXNwb25zZUJ1bGxldHMoKX1cbiAgICAgIDwvV2VsbD5cbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFRleHRSZXNwb25zZXMgZnJvbSAnLi90ZXh0X3Jlc3BvbnNlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29tcG9uZW50OiBUZXh0UmVzcG9uc2VzLFxufTtcblxuY29uc3QgVGVtcGxhdGUgPSBhcmdzID0+IDxUZXh0UmVzcG9uc2VzIHsuLi5hcmdzfSAvPjtcblxuZXhwb3J0IGNvbnN0IEdlbmVyYWxUZXh0UmVzcG9uc2VzID0gVGVtcGxhdGUuYmluZCh7fSk7XG5HZW5lcmFsVGV4dFJlc3BvbnNlcy5hcmdzID0ge1xuICBuYW1lOiAnR2VuZXJhbCB0ZXh0IHJlc3BvbnNlcycsXG4gIHF1ZXN0aW9uOiAnV2hhdCBpcyB5b3VyIGZhdm9yaXRlIGZvb2Q/JyxcbiAgYW5zd2VyczogWydUYWNvcycsICdQaXp6YScsICdCdXJyaXRvcycsICdWZWdldGFibGUgRnJpZWQgUmljZSddLFxufTtcblxuZXhwb3J0IGNvbnN0IEZhY2lsaXRhdG9yU3BlY2lmaWNUZXh0UmVzcG9uc2VzID0gVGVtcGxhdGUuYmluZCh7fSk7XG5GYWNpbGl0YXRvclNwZWNpZmljVGV4dFJlc3BvbnNlcy5hcmdzID0ge1xuICBuYW1lOiAnRmFjaWxpdGF0b3Igc3BlY2lmaWMgdGV4dCByZXNwb25zZXMnLFxuICBxdWVzdGlvbjogJ1doYXQgc25hY2tzIGRvIHlvdSB3YW50IHlvdXIgZmFjaWxpdGF0b3IgdG8gYnJpbmc/JyxcbiAgYW5zd2Vyczoge1xuICAgICdGYWNpbGl0YXRvciAxJzogWydDaGlwcycsICdBcHBsZXMnLCAnTmFjaG9zJywgJ05hY2hvcycsICdDb29raWVzJ10sXG4gICAgJ0ZhY2lsaXRhdG9yIDInOiBbJ0ZyaWVzJywgJ0NhcnJvdHMnLCAnQ2Fycm90cycsICdQZXBwZXJzJywgJ0RvbnV0cyddLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IEdlbmVyYWxSZXNwb25zZXNXaXRoQW5BdmVyYWdlID0gVGVtcGxhdGUuYmluZCh7fSk7XG5HZW5lcmFsUmVzcG9uc2VzV2l0aEFuQXZlcmFnZS5hcmdzID0ge1xuICBuYW1lOiAnR2VuZXJhbCByZXNwb25zZXMgd2l0aCBhbiBhdmVyYWdlJyxcbiAgcXVlc3Rpb246ICdIb3cgbWFueSB0YWNvcyBkbyB5b3Ugd2FudD8nLFxuICBhbnN3ZXJzOiBbJzEnLCAnMicsICczJywgJzYnLCAnMycsICczJywgJzInLCAnMCcsICdEdW5ubyddLFxuICBzaG93QXZlcmFnZTogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBGYWNpbGl0YXRvclJlc3BvbnNlc1dpdGhBdmVyYWdlcyA9IFRlbXBsYXRlLmJpbmQoe30pO1xuRmFjaWxpdGF0b3JSZXNwb25zZXNXaXRoQXZlcmFnZXMuYXJncyA9IHtcbiAgbmFtZTogJ0ZhY2lsaXRhdG9yIHJlc3BvbnNlcyB3aXRoIGF2ZXJhZ2VzJyxcbiAgcXVlc3Rpb246IFwiT24gYSBzY2FsZSBvZiAxIHRvIDUsIGhvdyBnb29kIHdhcyB0aGUgZmFjaWxpdGF0b3IncyBjb29raW5nP1wiLFxuICBhbnN3ZXJzOiB7XG4gICAgJ0ZhY2lsaXRhdG9yIDEnOiBbJzMnLCAnNCcsICc1JywgJzUnLCAnNCcsICc1JywgJzUnXSxcbiAgICAnRmFjaWxpdGF0b3IgMic6IFsnMicsICczJywgJzEnLCAnMScsICcxJywgJzInLCAnRHVubm8nXSxcbiAgfSxcbiAgc2hvd0F2ZXJhZ2U6IHRydWUsXG59O1xuIl0sIm5hbWVzIjpbIl9wcm9wVHlwZXMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdCIsIl9yZWFjdEJvb3RzdHJhcCIsIl9sb2Rhc2giLCJfaGUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsIm8iLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX3NldFByb3RvdHlwZU9mIiwicCIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiYmluZCIsIl9fcHJvdG9fXyIsIl9kZWZpbmVQcm9wZXJ0eSIsImtleSIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJ0IiwiaSIsIl90b1ByaW1pdGl2ZSIsInIiLCJlIiwidG9QcmltaXRpdmUiLCJjYWxsIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiTnVtYmVyIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJleHBvcnRzIiwiX1JlYWN0JENvbXBvbmVudCIsIlRleHRSZXNwb25zZXMiLCJhcHBseSIsImFyZ3VtZW50cyIsIl9pbmhlcml0c0xvb3NlIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiX3Byb3RvIiwicmVuZGVyUmVzcG9uc2VCdWxsZXRzIiwiX3RoaXMiLCJBcnJheSIsImlzQXJyYXkiLCJ0aGlzIiwicHJvcHMiLCJhbnN3ZXJzIiwibWFwIiwiYW5zd2VyIiwicmVuZGVyQnVsbGV0Iiwic2hvd0F2ZXJhZ2UiLCJhdmVyYWdlIiwiY29tcHV0ZUF2ZXJhZ2VGb3JBbnN3ZXJzIiwidW5zaGlmdCIsImNyZWF0ZUVsZW1lbnQiLCJrZXlzIiwibGVuZ3RoIiwiZmFjaWxpdGF0b3JfbmFtZSIsImZlZWRiYWNrIiwiaiIsImZhY2lsaXRhdG9ycyIsIm51bWVyaWNBbnN3ZXJzIiwiZmlsdGVyIiwiaXNOYU4iLCJyZWR1Y2UiLCJzdW0iLCJ4IiwicGFyc2VJbnQiLCJ0b0ZpeGVkIiwidGV4dCIsInRyaW1tZWRUZXh0IiwiXyIsInRyaW0iLCJoZSIsImRlY29kZSIsInJlbmRlciIsIldlbGwiLCJxdWVzdGlvbiIsIlJlYWN0IiwiQ29tcG9uZW50IiwiUHJvcFR5cGVzIiwic3RyaW5nIiwiaXNSZXF1aXJlZCIsIm9uZU9mVHlwZSIsImFycmF5Iiwib2JqZWN0IiwiYm9vbCIsIm1vZHVsZSIsIl90ZXh0X3Jlc3BvbnNlcyIsImNvbXBvbmVudCIsIlRlbXBsYXRlIiwiYXJncyIsIm5hbWUiXSwic291cmNlUm9vdCI6IiJ9