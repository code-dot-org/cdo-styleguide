/*! For license information please see code-studio-components-AddAssetButtonRow-story.c019aacf.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[774],{"./src/code-studio/components/AddAssetButtonRow.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.assetButtonStyles=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_AssetUploader=_interopRequireDefault(__webpack_require__("./src/code-studio/components/AssetUploader.jsx")),_Button=_interopRequireDefault(__webpack_require__("./src/templates/Button.jsx")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_browserDetector=__webpack_require__("./src/util/browser-detector.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var assetButtonStyles={button:{paddingLeft:10,paddingRight:10,marginTop:5,fontSize:"large",fontWeight:"lighter",marginRight:10},buttonRow:{display:"flex",flexFlow:"row",alignItems:"center"}};exports.assetButtonStyles=assetButtonStyles;var RecordButton=function RecordButton(_ref){var onSelectRecord=_ref.onSelectRecord,disabled=_ref.disabled;return _react.default.createElement("span",null,_react.default.createElement(_Button.default,{onClick:onSelectRecord,id:"record-asset",className:"share",text:_locale.default.recordAudio(),icon:"microphone",style:assetButtonStyles.button,size:"large",disabled}))};RecordButton.propTypes={onSelectRecord:_propTypes.default.func,disabled:_propTypes.default.bool};var AddAssetButtonRow=function(_React$Component){function AddAssetButtonRow(){return _React$Component.apply(this,arguments)||this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(AddAssetButtonRow,_React$Component),AddAssetButtonRow.prototype.render=function render(){var shouldShowRecordButton=!this.props.hideAudioRecording;return(0,_browserDetector.isIE11)()&&(shouldShowRecordButton=!1),_react.default.createElement("div",{style:assetButtonStyles.buttonRow},_react.default.createElement(_AssetUploader.default,{uploadsEnabled:this.props.uploadsEnabled,allowedExtensions:this.props.allowedExtensions,api:this.props.api,onUploadStart:this.props.onUploadStart,onUploadDone:this.props.onUploadDone,onUploadError:this.props.onUploadError}),shouldShowRecordButton&&_react.default.createElement(RecordButton,{onSelectRecord:this.props.onSelectRecord,disabled:!this.props.uploadsEnabled||this.props.recordDisabled}),_react.default.createElement("span",{id:"manage-asset-status"},this.props.statusMessage))},AddAssetButtonRow}(_react.default.Component);exports.default=AddAssetButtonRow,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(AddAssetButtonRow,"propTypes",{uploadsEnabled:_propTypes.default.bool.isRequired,allowedExtensions:_propTypes.default.string,api:_propTypes.default.object,onUploadStart:_propTypes.default.func.isRequired,onUploadDone:_propTypes.default.func.isRequired,onUploadError:_propTypes.default.func.isRequired,onSelectRecord:_propTypes.default.func.isRequired,statusMessage:_propTypes.default.string,recordDisabled:_propTypes.default.bool,hideAudioRecording:_propTypes.default.bool})},"./src/code-studio/components/AssetUploader.jsx":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_HiddenUploader=_interopRequireDefault(__webpack_require__("./src/code-studio/components/HiddenUploader.jsx")),_Button=_interopRequireDefault(__webpack_require__("./src/templates/Button.jsx")),_AddAssetButtonRow=__webpack_require__("./src/code-studio/components/AddAssetButtonRow.jsx"),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var AssetUploader=function(_React$Component){function AssetUploader(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this),"fileUploadClicked",(function(){return _this.refs.uploader.openFileChooser()})),_this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(AssetUploader,_React$Component),AssetUploader.prototype.render=function render(){var api=this.props.api,url=api.getUploadUrl(),uploadDone=api.wrapUploadDoneCallback(this.props.onUploadDone),uploadStart=api.wrapUploadStartCallback(this.props.onUploadStart);return _react.default.createElement("span",null,_react.default.createElement(_HiddenUploader.default,{ref:"uploader",toUrl:url,allowedExtensions:this.props.allowedExtensions,onUploadStart:uploadStart,onUploadDone:uploadDone,onUploadError:this.props.onUploadError}),_react.default.createElement(_Button.default,{onClick:this.fileUploadClicked,className:"share",id:"upload-asset",disabled:!this.props.uploadsEnabled,icon:"upload",text:_locale.default.uploadFile(),style:_AddAssetButtonRow.assetButtonStyles.button,size:"large"}))},AssetUploader}(_react.default.Component);exports.default=AssetUploader,_defineProperty(AssetUploader,"propTypes",{onUploadStart:_propTypes.default.func.isRequired,onUploadDone:_propTypes.default.func.isRequired,onUploadError:_propTypes.default.func,allowedExtensions:_propTypes.default.string,uploadsEnabled:_propTypes.default.bool.isRequired,api:_propTypes.default.object.isRequired}),module.exports=exports.default},"./src/code-studio/components/HiddenUploader.jsx":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _jquery=_interopRequireDefault(__webpack_require__("./node_modules/jquery/dist/jquery.js")),_propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_firehose=_interopRequireDefault(__webpack_require__("./src/lib/util/firehose.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var HiddenUploader=function(_React$Component){function HiddenUploader(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this),"openFileChooser",(function(){return _this.refs.uploader.click()})),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(HiddenUploader,_React$Component);var _proto=HiddenUploader.prototype;return _proto.componentDidMount=function componentDidMount(){var props=this.props;(0,_jquery.default)(this.refs.uploader).fileupload({dataType:"json",url:this.props.toUrl,replaceFileInput:!1,add:function add(e,data){props.onUploadStart(data);var audioFileName=data.files[0].name.includes("mp3")?data.files[0].name:null;audioFileName&&_firehose.default.putRecord({study:"sound-dialog-2",study_group:"library-file",event:"upload-file",data_json:audioFileName},{includeUserId:!0})},done:function done(e,data){props.onUploadDone(data.result)},error:function error(e,data){props.onUploadError&&props.onUploadError(e.status)}})},_proto.componentWillUnmount=function componentWillUnmount(){(0,_jquery.default)(this.refs.uploader).fileupload("destroy")},_proto.render=function render(){return _react.default.createElement("input",{ref:"uploader",className:"uitest-hidden-uploader",type:"file",style:{display:"none"},accept:this.props.allowedExtensions||"*"})},HiddenUploader}(_react.default.Component);exports.default=HiddenUploader,_defineProperty(HiddenUploader,"propTypes",{toUrl:_propTypes.default.string.isRequired,allowedExtensions:_propTypes.default.string,onUploadStart:_propTypes.default.func.isRequired,onUploadDone:_propTypes.default.func.isRequired,onUploadError:_propTypes.default.func}),window.dashboard=window.dashboard||{},window.dashboard.HiddenUploader=HiddenUploader,module.exports=exports.default},"./src/util/browser-detector.js":(__unused_webpack_module,exports)=>{"use strict";function isIE(){return-1!==navigator.userAgent.indexOf("MSIE")||isIE11()}function IEVersion(){return isIE11()?"11":navigator.userAgent.substring(navigator.userAgent.lastIndexOf("MSIE")+5).split(".")[0]}function isChrome(){return-1!==navigator.userAgent.lastIndexOf("Chrome/")}function chromeVersion(){return navigator.userAgent.substring(navigator.userAgent.lastIndexOf("Chrome/")+7).split(".")[0]}function isSafari(){return-1!==navigator.userAgent.indexOf("Safari/")}function safariVersion(){return navigator.userAgent.substring(navigator.userAgent.lastIndexOf("Version/")+8).split(".")[0]}function isFirefox(){return-1!==navigator.userAgent.indexOf("Firefox")}function firefoxVersion(){return navigator.userAgent.substring(navigator.userAgent.lastIndexOf("Firefox/")+8).split(".")[0]}function isIE11(){return!!window.MSInputMethodContext&&!!document.documentMode}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBrowserName=function getBrowserName(){var includeVersion=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(isChrome())return"Chrome"+(includeVersion?" ".concat(chromeVersion()):"");if(isIE())return"Internet Explorer"+(includeVersion?" ".concat(IEVersion()):"");if(isFirefox())return"Firefox"+(includeVersion?" ".concat(firefoxVersion()):"");if(isSafari())return"Safari"+(includeVersion?" ".concat(safariVersion()):"");return navigator.userAgent},exports.isIE11=isIE11,exports.isMobileDevice=function isMobileDevice(){var check=!1;return function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0)}(navigator.userAgent||navigator.vendor||window.opera),check},exports.isStorageAvailable=function isStorageAvailable(type){try{var storage=window[type],x="__storage_test__";return storage.setItem(x,x),storage.removeItem(x),!0}catch(e){return!1}},exports.isUnsupportedBrowser=function isUnsupportedBrowser(){return function isUnsupportedIE(){return isIE()&&IEVersion()<11}()||function isUnsupportedChrome(){return isChrome()&&chromeVersion()<33}()||function isUnsupportedSafari(){return isSafari()&&safariVersion()<7}()||function isUnsupportedFirefox(){return isFirefox()&&firefoxVersion()<25}()}},"./node_modules/classnames/index.js":(module,exports)=>{var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes=[],i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes.push(arg);else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);inner&&classes.push(inner)}}else if("object"===argType){if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]")){classes.push(arg.toString());continue}for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&classes.push(key)}}}return classes.join(" ")}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"./node_modules/css-loader/dist/runtime/api.js":module=>{"use strict";module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map((function(item){var content="",needLayer=void 0!==item[5];return item[4]&&(content+="@supports (".concat(item[4],") {")),item[2]&&(content+="@media ".concat(item[2]," {")),needLayer&&(content+="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {")),content+=cssWithMappingToString(item),needLayer&&(content+="}"),item[2]&&(content+="}"),item[4]&&(content+="}"),content})).join("")},list.i=function i(modules,media,dedupe,supports,layer){"string"==typeof modules&&(modules=[[null,modules,void 0]]);var alreadyImportedModules={};if(dedupe)for(var k=0;k<this.length;k++){var id=this[k][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _k=0;_k<modules.length;_k++){var item=[].concat(modules[_k]);dedupe&&alreadyImportedModules[item[0]]||(void 0!==layer&&(void 0===item[5]||(item[1]="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {").concat(item[1],"}")),item[5]=layer),media&&(item[2]?(item[1]="@media ".concat(item[2]," {").concat(item[1],"}"),item[2]=media):item[2]=media),supports&&(item[4]?(item[1]="@supports (".concat(item[4],") {").concat(item[1],"}"),item[4]=supports):item[4]="".concat(supports)),list.push(item))}},list}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":module=>{"use strict";module.exports=function(item){var content=item[1],cssMapping=item[3];if(!cssMapping)return content;if("function"==typeof btoa){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),sourceMapping="/*# ".concat(data," */"),sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}},"./node_modules/prop-types/factoryWithThrowingShims.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ReactPropTypesSecret=__webpack_require__("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function emptyFunction(){}module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return ReactPropTypes.checkPropTypes=emptyFunction,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},"./node_modules/prop-types/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":module=>{"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/redux-thunk/lib/index.js":(__unused_webpack_module,exports)=>{"use strict";function createThunkMiddleware(extraArgument){return function(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(action){return"function"==typeof action?action(dispatch,getState,extraArgument):next(action)}}}}exports.__esModule=!0;var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware,exports.default=thunk},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":module=>{"use strict";var stylesInDOM=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDOM.length;i++)if(stylesInDOM[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var indexByIdentifier=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3],supports:item[4],layer:item[5]};if(-1!==indexByIdentifier)stylesInDOM[indexByIdentifier].references++,stylesInDOM[indexByIdentifier].updater(obj);else{var updater=addElementStyle(obj,options);options.byIndex=i,stylesInDOM.splice(i,0,{identifier,updater,references:1})}identifiers.push(identifier)}return identifiers}function addElementStyle(obj,options){var api=options.domAPI(options);api.update(obj);return function updater(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap&&newObj.supports===obj.supports&&newObj.layer===obj.layer)return;api.update(obj=newObj)}else api.remove()}}module.exports=function(list,options){var lastIdentifiers=modulesToDom(list=list||[],options=options||{});return function update(newList){newList=newList||[];for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDOM[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDOM[_index].references&&(stylesInDOM[_index].updater(),stylesInDOM.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":module=>{"use strict";var memo={};module.exports=function insertBySelector(insert,style){var target=function getTarget(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}(insert);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":module=>{"use strict";module.exports=function insertStyleElement(options){var element=document.createElement("style");return options.setAttributes(element,options.attributes),options.insert(element,options.options),element}},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=function setAttributesWithoutAttributes(styleElement){var nonce=__webpack_require__.nc;nonce&&styleElement.setAttribute("nonce",nonce)}},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":module=>{"use strict";module.exports=function domAPI(options){var styleElement=options.insertStyleElement(options);return{update:function update(obj){!function apply(styleElement,options,obj){var css="";obj.supports&&(css+="@supports (".concat(obj.supports,") {")),obj.media&&(css+="@media ".concat(obj.media," {"));var needLayer=void 0!==obj.layer;needLayer&&(css+="@layer".concat(obj.layer.length>0?" ".concat(obj.layer):""," {")),css+=obj.css,needLayer&&(css+="}"),obj.media&&(css+="}"),obj.supports&&(css+="}");var sourceMap=obj.sourceMap;sourceMap&&"undefined"!=typeof btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),options.styleTagTransform(css,styleElement,options.options)}(styleElement,options,obj)},remove:function remove(){!function removeStyleElement(styleElement){if(null===styleElement.parentNode)return!1;styleElement.parentNode.removeChild(styleElement)}(styleElement)}}}},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":module=>{"use strict";module.exports=function styleTagTransform(css,styleElement){if(styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}},"./src/code-studio/components/AddAssetButtonRow.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.JustButtons=exports.ButtonsWithStatus=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_AddAssetButtonRow=_interopRequireDefault(__webpack_require__("./src/code-studio/components/AddAssetButtonRow.jsx")),_addonActions=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var mockApi={getUploadUrl:function getUploadUrl(){return"/some-url"},wrapUploadDoneCallback:function wrapUploadDoneCallback(f){return f},wrapUploadStartCallback:function wrapUploadStartCallback(f){return f}},_default={component:_AddAssetButtonRow.default};exports.default=_default;var Template=function Template(args){return _react.default.createElement(_AddAssetButtonRow.default,_extends({uploadsEnabled:!0,allowedExtensions:"",api:mockApi,onUploadStart:(0,_addonActions.action)("onUploadStart"),onUploadDone:(0,_addonActions.action)("onUploadDone"),onUploadError:(0,_addonActions.action)("onUploadError"),onSelectRecord:(0,_addonActions.action)("onSelectRecord")},args))},JustButtons=Template.bind({});exports.JustButtons=JustButtons,JustButtons.args={statusMessage:""};var ButtonsWithStatus=Template.bind({});exports.ButtonsWithStatus=ButtonsWithStatus,ButtonsWithStatus.args={statusMessage:"This is a status message"}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZS1zdHVkaW8tY29tcG9uZW50cy1BZGRBc3NldEJ1dHRvblJvdy1zdG9yeS5mOTRmNmU4ZC5pZnJhbWUuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7aVRBQUEsaUdBQ0Esb0ZBQ0EsNkdBQ0Esa0ZBQ0EsMEZBQ0EsNFVBRU8sSUFBTUEsa0JBQW9CLENBQy9CQyxPQUFRLENBQ05DLFlBQWEsR0FDYkMsYUFBYyxHQUNkQyxVQUFXLEVBQ1hDLFNBQVUsUUFDVkMsV0FBWSxVQUNaQyxZQUFhLElBRWZDLFVBQVcsQ0FDVEMsUUFBUyxPQUNUQyxTQUFVLE1BQ1ZDLFdBQVksdURBSWhCLElBQU1DLGFBQWUsU0FBZkEsYUFBZ0IsTUFBRCxJQUFFQyxlQUFGLEtBQUVBLGVBQWdCQyxTQUFsQixLQUFrQkEsU0FBbEIsT0FDbkIseUNBQ0UsNkJBQUMsZ0JBQUQsQ0FDRUMsUUFBU0YsZUFDVEcsR0FBRyxlQUNIQyxVQUFVLFFBQ1ZDLEtBQU1DLFFBQUFBLFFBQUtDLGNBQ1hDLEtBQUssYUFDTEMsTUFBT3RCLGtCQUFrQkMsT0FDekJzQixLQUFLLFFBQ0xULFdBVmUsRUFlckJGLGFBQWFZLFVBQVksQ0FDdkJYLGVBQWdCWSxXQUFBQSxRQUFVQyxLQUMxQlosU0FBVVcsV0FBQUEsUUFBVUUsVUFNREMsa0JBQUFBLFNBQUFBLDRWQWNuQkMsT0FBQSxTQUFBQSxTQUNFLElBQUlDLHdCQUEwQkMsS0FBS0MsTUFBTUMsbUJBSXpDLE9BSEksRUFBQUMsaUJBQUFBLFlBQ0ZKLHdCQUF5QixHQUd6QixvQ0FBS1IsTUFBT3RCLGtCQUFrQlEsV0FDNUIsNkJBQUMsdUJBQUQsQ0FDRTJCLGVBQWdCSixLQUFLQyxNQUFNRyxlQUMzQkMsa0JBQW1CTCxLQUFLQyxNQUFNSSxrQkFDOUJDLElBQUtOLEtBQUtDLE1BQU1LLElBQ2hCQyxjQUFlUCxLQUFLQyxNQUFNTSxjQUMxQkMsYUFBY1IsS0FBS0MsTUFBTU8sYUFDekJDLGNBQWVULEtBQUtDLE1BQU1RLGdCQUUzQlYsd0JBQ0MsNkJBQUNsQixh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Yy9jb2RlLXN0dWRpby9jb21wb25lbnRzL0FkZEFzc2V0QnV0dG9uUm93LmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvY29kZS1zdHVkaW8vY29tcG9uZW50cy9Bc3NldFVwbG9hZGVyLmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvY29kZS1zdHVkaW8vY29tcG9uZW50cy9IaWRkZW5VcGxvYWRlci5qc3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3V0aWwvYnJvd3Nlci1kZXRlY3Rvci5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlZHV4LXRodW5rL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9jb2RlLXN0dWRpby9jb21wb25lbnRzL0FkZEFzc2V0QnV0dG9uUm93LnN0b3J5LmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBc3NldFVwbG9hZGVyIGZyb20gJy4vQXNzZXRVcGxvYWRlcic7XG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uLy4uL3RlbXBsYXRlcy9CdXR0b24nO1xuaW1wb3J0IGkxOG4gZnJvbSAnQGNkby9sb2NhbGUnO1xuaW1wb3J0IHtpc0lFMTF9IGZyb20gJ0BjZG8vYXBwcy91dGlsL2Jyb3dzZXItZGV0ZWN0b3InO1xuXG5leHBvcnQgY29uc3QgYXNzZXRCdXR0b25TdHlsZXMgPSB7XG4gIGJ1dHRvbjoge1xuICAgIHBhZGRpbmdMZWZ0OiAxMCxcbiAgICBwYWRkaW5nUmlnaHQ6IDEwLFxuICAgIG1hcmdpblRvcDogNSxcbiAgICBmb250U2l6ZTogJ2xhcmdlJyxcbiAgICBmb250V2VpZ2h0OiAnbGlnaHRlcicsXG4gICAgbWFyZ2luUmlnaHQ6IDEwLFxuICB9LFxuICBidXR0b25Sb3c6IHtcbiAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgZmxleEZsb3c6ICdyb3cnLFxuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICB9LFxufTtcblxuY29uc3QgUmVjb3JkQnV0dG9uID0gKHtvblNlbGVjdFJlY29yZCwgZGlzYWJsZWR9KSA9PiAoXG4gIDxzcGFuPlxuICAgIDxCdXR0b25cbiAgICAgIG9uQ2xpY2s9e29uU2VsZWN0UmVjb3JkfVxuICAgICAgaWQ9XCJyZWNvcmQtYXNzZXRcIlxuICAgICAgY2xhc3NOYW1lPVwic2hhcmVcIlxuICAgICAgdGV4dD17aTE4bi5yZWNvcmRBdWRpbygpfVxuICAgICAgaWNvbj1cIm1pY3JvcGhvbmVcIlxuICAgICAgc3R5bGU9e2Fzc2V0QnV0dG9uU3R5bGVzLmJ1dHRvbn1cbiAgICAgIHNpemU9XCJsYXJnZVwiXG4gICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgLz5cbiAgPC9zcGFuPlxuKTtcblxuUmVjb3JkQnV0dG9uLnByb3BUeXBlcyA9IHtcbiAgb25TZWxlY3RSZWNvcmQ6IFByb3BUeXBlcy5mdW5jLFxuICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG59O1xuXG4vKipcbiAqIEEgY29tcG9uZW50IGZvciB0aGUgYnV0dG9ucyB0aGF0IGVuYWJsZSBhZGRpbmcgYW4gYXNzZXQgdG8gYSBwcm9qZWN0LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZGRBc3NldEJ1dHRvblJvdyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgdXBsb2Fkc0VuYWJsZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgYWxsb3dlZEV4dGVuc2lvbnM6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgYXBpOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIG9uVXBsb2FkU3RhcnQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb25VcGxvYWREb25lOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIG9uVXBsb2FkRXJyb3I6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb25TZWxlY3RSZWNvcmQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgc3RhdHVzTWVzc2FnZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICByZWNvcmREaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgaGlkZUF1ZGlvUmVjb3JkaW5nOiBQcm9wVHlwZXMuYm9vbCxcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgbGV0IHNob3VsZFNob3dSZWNvcmRCdXR0b24gPSAhdGhpcy5wcm9wcy5oaWRlQXVkaW9SZWNvcmRpbmc7XG4gICAgaWYgKGlzSUUxMSgpKSB7XG4gICAgICBzaG91bGRTaG93UmVjb3JkQnV0dG9uID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlPXthc3NldEJ1dHRvblN0eWxlcy5idXR0b25Sb3d9PlxuICAgICAgICA8QXNzZXRVcGxvYWRlclxuICAgICAgICAgIHVwbG9hZHNFbmFibGVkPXt0aGlzLnByb3BzLnVwbG9hZHNFbmFibGVkfVxuICAgICAgICAgIGFsbG93ZWRFeHRlbnNpb25zPXt0aGlzLnByb3BzLmFsbG93ZWRFeHRlbnNpb25zfVxuICAgICAgICAgIGFwaT17dGhpcy5wcm9wcy5hcGl9XG4gICAgICAgICAgb25VcGxvYWRTdGFydD17dGhpcy5wcm9wcy5vblVwbG9hZFN0YXJ0fVxuICAgICAgICAgIG9uVXBsb2FkRG9uZT17dGhpcy5wcm9wcy5vblVwbG9hZERvbmV9XG4gICAgICAgICAgb25VcGxvYWRFcnJvcj17dGhpcy5wcm9wcy5vblVwbG9hZEVycm9yfVxuICAgICAgICAvPlxuICAgICAgICB7c2hvdWxkU2hvd1JlY29yZEJ1dHRvbiAmJiAoXG4gICAgICAgICAgPFJlY29yZEJ1dHRvblxuICAgICAgICAgICAgb25TZWxlY3RSZWNvcmQ9e3RoaXMucHJvcHMub25TZWxlY3RSZWNvcmR9XG4gICAgICAgICAgICBkaXNhYmxlZD17IXRoaXMucHJvcHMudXBsb2Fkc0VuYWJsZWQgfHwgdGhpcy5wcm9wcy5yZWNvcmREaXNhYmxlZH1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICA8c3BhbiBpZD1cIm1hbmFnZS1hc3NldC1zdGF0dXNcIj57dGhpcy5wcm9wcy5zdGF0dXNNZXNzYWdlfTwvc3Bhbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8qKiBAZmlsZSBVcGxvYWQgYnV0dG9uIHdyYXBwaW5nIGEgaGlkZGVuIHVwbG9hZGVyIGNvbXBvbmVudC4gKi9cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEhpZGRlblVwbG9hZGVyIGZyb20gJy4vSGlkZGVuVXBsb2FkZXIuanN4JztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vLi4vdGVtcGxhdGVzL0J1dHRvbic7XG5pbXBvcnQge2Fzc2V0QnV0dG9uU3R5bGVzfSBmcm9tICcuL0FkZEFzc2V0QnV0dG9uUm93JztcbmltcG9ydCBpMThuIGZyb20gJ0BjZG8vbG9jYWxlJztcblxuLyoqXG4gKiBBIGZpbGUgdXBsb2FkIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXNzZXRVcGxvYWRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgb25VcGxvYWRTdGFydDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvblVwbG9hZERvbmU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb25VcGxvYWRFcnJvcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgYWxsb3dlZEV4dGVuc2lvbnM6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdXBsb2Fkc0VuYWJsZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgYXBpOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIH07XG5cbiAgLyoqXG4gICAqIFdlJ3ZlIGhpZGRlbiB0aGUgPGlucHV0IHR5cGU9XCJmaWxlXCIvPiBhbmQgcmVwbGFjZWQgaXQgd2l0aCBhIGJpZyBidXR0b24uXG4gICAqIEZvcndhcmQgY2xpY2tzIG9uIHRoZSBidXR0b24gdG8gdGhlIGhpZGRlbiBmaWxlIGlucHV0LlxuICAgKi9cbiAgZmlsZVVwbG9hZENsaWNrZWQgPSAoKSA9PiB0aGlzLnJlZnMudXBsb2FkZXIub3BlbkZpbGVDaG9vc2VyKCk7XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHthcGl9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgdXJsID0gYXBpLmdldFVwbG9hZFVybCgpO1xuICAgIGxldCB1cGxvYWREb25lID0gYXBpLndyYXBVcGxvYWREb25lQ2FsbGJhY2sodGhpcy5wcm9wcy5vblVwbG9hZERvbmUpO1xuICAgIGxldCB1cGxvYWRTdGFydCA9IGFwaS53cmFwVXBsb2FkU3RhcnRDYWxsYmFjayh0aGlzLnByb3BzLm9uVXBsb2FkU3RhcnQpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuPlxuICAgICAgICA8SGlkZGVuVXBsb2FkZXJcbiAgICAgICAgICByZWY9XCJ1cGxvYWRlclwiXG4gICAgICAgICAgdG9Vcmw9e3VybH1cbiAgICAgICAgICBhbGxvd2VkRXh0ZW5zaW9ucz17dGhpcy5wcm9wcy5hbGxvd2VkRXh0ZW5zaW9uc31cbiAgICAgICAgICBvblVwbG9hZFN0YXJ0PXt1cGxvYWRTdGFydH1cbiAgICAgICAgICBvblVwbG9hZERvbmU9e3VwbG9hZERvbmV9XG4gICAgICAgICAgb25VcGxvYWRFcnJvcj17dGhpcy5wcm9wcy5vblVwbG9hZEVycm9yfVxuICAgICAgICAvPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgb25DbGljaz17dGhpcy5maWxlVXBsb2FkQ2xpY2tlZH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJzaGFyZVwiXG4gICAgICAgICAgaWQ9XCJ1cGxvYWQtYXNzZXRcIlxuICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5wcm9wcy51cGxvYWRzRW5hYmxlZH1cbiAgICAgICAgICBpY29uPVwidXBsb2FkXCJcbiAgICAgICAgICB0ZXh0PXtpMThuLnVwbG9hZEZpbGUoKX1cbiAgICAgICAgICBzdHlsZT17YXNzZXRCdXR0b25TdHlsZXMuYnV0dG9ufVxuICAgICAgICAgIHNpemU9XCJsYXJnZVwiXG4gICAgICAgIC8+XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxufVxuIiwiLyoqIEBmaWxlIEhpZGRlbiBmaWxlIGlucHV0IHdpdGggaW50ZXJmYWNlIGZvciBoYW5kbGluZyB1cGxvYWRzLiAqL1xuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGZpcmVob3NlQ2xpZW50IGZyb20gJ0BjZG8vYXBwcy9saWIvdXRpbC9maXJlaG9zZSc7XG5cbi8qKlxuICogQSBoaWRkZW4gZmlsZSBpbnB1dCBwcm92aWRpbmcgdXBsb2FkIGZ1bmN0aW9uYWxpdHkgd2l0aCBldmVudCBob29rcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGlkZGVuVXBsb2FkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHRvVXJsOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgYWxsb3dlZEV4dGVuc2lvbnM6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgb25VcGxvYWRTdGFydDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBvblVwbG9hZERvbmU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgb25VcGxvYWRFcnJvcjogUHJvcFR5cGVzLmZ1bmMsXG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BzO1xuXG4gICAgJCh0aGlzLnJlZnMudXBsb2FkZXIpLmZpbGV1cGxvYWQoe1xuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIHVybDogdGhpcy5wcm9wcy50b1VybCxcbiAgICAgIC8vIHByZXZlbnQgZmlsZXVwbG9hZCBmcm9tIHJlcGxhY2luZyB0aGUgaW5wdXQgRE9NIGVsZW1lbnQsIHdoaWNoXG4gICAgICAvLyBSZWFjdCBkb2VzIG5vdCBsaWtlXG4gICAgICByZXBsYWNlRmlsZUlucHV0OiBmYWxzZSxcbiAgICAgIGFkZDogZnVuY3Rpb24gKGUsIGRhdGEpIHtcbiAgICAgICAgLy8gb25VcGxvYWRTdGFydCBtZXRob2QgbXVzdCBjYWxsIGRhdGEuc3VibWl0KClcbiAgICAgICAgcHJvcHMub25VcGxvYWRTdGFydChkYXRhKTtcbiAgICAgICAgY29uc3QgYXVkaW9GaWxlTmFtZSA9IGRhdGEuZmlsZXNbMF0ubmFtZS5pbmNsdWRlcygnbXAzJylcbiAgICAgICAgICA/IGRhdGEuZmlsZXNbMF0ubmFtZVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgaWYgKGF1ZGlvRmlsZU5hbWUpIHtcbiAgICAgICAgICBmaXJlaG9zZUNsaWVudC5wdXRSZWNvcmQoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0dWR5OiAnc291bmQtZGlhbG9nLTInLFxuICAgICAgICAgICAgICBzdHVkeV9ncm91cDogJ2xpYnJhcnktZmlsZScsXG4gICAgICAgICAgICAgIGV2ZW50OiAndXBsb2FkLWZpbGUnLFxuICAgICAgICAgICAgICBkYXRhX2pzb246IGF1ZGlvRmlsZU5hbWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge2luY2x1ZGVVc2VySWQ6IHRydWV9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRvbmU6IGZ1bmN0aW9uIChlLCBkYXRhKSB7XG4gICAgICAgIHByb3BzLm9uVXBsb2FkRG9uZShkYXRhLnJlc3VsdCk7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uIChlLCBkYXRhKSB7XG4gICAgICAgIGlmIChwcm9wcy5vblVwbG9hZEVycm9yKSB7XG4gICAgICAgICAgcHJvcHMub25VcGxvYWRFcnJvcihlLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAkKHRoaXMucmVmcy51cGxvYWRlcikuZmlsZXVwbG9hZCgnZGVzdHJveScpO1xuICB9XG5cbiAgb3BlbkZpbGVDaG9vc2VyID0gKCkgPT4gdGhpcy5yZWZzLnVwbG9hZGVyLmNsaWNrKCk7XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIE5PVEU6IElFOSB3aWxsIGlnbm9yZSBhY2NlcHQsIHdoaWNoIG1lYW5zIG9uIHRoaXMgYnJvd3NlciB3ZSBjYW4gZW5kXG4gICAgLy8gdXAgdXBsb2FkaW5nIGZpbGVzIHRoYXQgZG9uJ3QgbWF0Y2ggYWxsb3dlZEV4dGVuc2lvbnM7IGZvciB0aGlzIHJlYXNvbixcbiAgICAvLyB0aGUgc2VydmVyIHNob3VsZCBhbHNvIHZhbGlkYXRlIGFsbG93ZWQgZmlsZSB0eXBlcy5cbiAgICByZXR1cm4gKFxuICAgICAgPGlucHV0XG4gICAgICAgIHJlZj1cInVwbG9hZGVyXCJcbiAgICAgICAgY2xhc3NOYW1lPVwidWl0ZXN0LWhpZGRlbi11cGxvYWRlclwiXG4gICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgc3R5bGU9e3tkaXNwbGF5OiAnbm9uZSd9fVxuICAgICAgICBhY2NlcHQ9e3RoaXMucHJvcHMuYWxsb3dlZEV4dGVuc2lvbnMgfHwgJyonfVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG5cbndpbmRvdy5kYXNoYm9hcmQgPSB3aW5kb3cuZGFzaGJvYXJkIHx8IHt9O1xud2luZG93LmRhc2hib2FyZC5IaWRkZW5VcGxvYWRlciA9IEhpZGRlblVwbG9hZGVyO1xuIiwiLy8gV2Ugc3VwcG9ydCBJRSAxMStcbmZ1bmN0aW9uIGlzSUUoKSB7XG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ01TSUUnKSAhPT0gLTEgfHwgaXNJRTExKCk7XG59XG5cbmZ1bmN0aW9uIElFVmVyc2lvbigpIHtcbiAgcmV0dXJuIGlzSUUxMSgpXG4gICAgPyAnMTEnXG4gICAgOiBuYXZpZ2F0b3IudXNlckFnZW50XG4gICAgICAgIC5zdWJzdHJpbmcobmF2aWdhdG9yLnVzZXJBZ2VudC5sYXN0SW5kZXhPZignTVNJRScpICsgNSlcbiAgICAgICAgLnNwbGl0KCcuJylbMF07XG59XG5cbmZ1bmN0aW9uIGlzVW5zdXBwb3J0ZWRJRSgpIHtcbiAgcmV0dXJuIGlzSUUoKSAmJiBJRVZlcnNpb24oKSA8IDExO1xufVxuXG4vLyBXZSBzdXBwb3J0IENocm9tZSAzMy54ICtcbmZ1bmN0aW9uIGlzQ2hyb21lKCkge1xuICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5sYXN0SW5kZXhPZignQ2hyb21lLycpICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gY2hyb21lVmVyc2lvbigpIHtcbiAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnRcbiAgICAuc3Vic3RyaW5nKG5hdmlnYXRvci51c2VyQWdlbnQubGFzdEluZGV4T2YoJ0Nocm9tZS8nKSArIDcpXG4gICAgLnNwbGl0KCcuJylbMF07XG59XG5cbmZ1bmN0aW9uIGlzVW5zdXBwb3J0ZWRDaHJvbWUoKSB7XG4gIHJldHVybiBpc0Nocm9tZSgpICYmIGNocm9tZVZlcnNpb24oKSA8IDMzO1xufVxuXG4vLyBXZSBzdXBwb3J0IFNhZmFyaSA3LjAueCArXG5mdW5jdGlvbiBpc1NhZmFyaSgpIHtcbiAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignU2FmYXJpLycpICE9PSAtMTtcbn1cblxuZnVuY3Rpb24gc2FmYXJpVmVyc2lvbigpIHtcbiAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnRcbiAgICAuc3Vic3RyaW5nKG5hdmlnYXRvci51c2VyQWdlbnQubGFzdEluZGV4T2YoJ1ZlcnNpb24vJykgKyA4KVxuICAgIC5zcGxpdCgnLicpWzBdO1xufVxuXG5mdW5jdGlvbiBpc1Vuc3VwcG9ydGVkU2FmYXJpKCkge1xuICByZXR1cm4gaXNTYWZhcmkoKSAmJiBzYWZhcmlWZXJzaW9uKCkgPCA3O1xufVxuXG4vLyBXZSBzdXBwb3J0IEZpcmVmb3ggMjUueCArXG5mdW5jdGlvbiBpc0ZpcmVmb3goKSB7XG4gIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0ZpcmVmb3gnKSAhPT0gLTE7XG59XG5cbmZ1bmN0aW9uIGZpcmVmb3hWZXJzaW9uKCkge1xuICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudFxuICAgIC5zdWJzdHJpbmcobmF2aWdhdG9yLnVzZXJBZ2VudC5sYXN0SW5kZXhPZignRmlyZWZveC8nKSArIDgpXG4gICAgLnNwbGl0KCcuJylbMF07XG59XG5cbmZ1bmN0aW9uIGlzVW5zdXBwb3J0ZWRGaXJlZm94KCkge1xuICByZXR1cm4gaXNGaXJlZm94KCkgJiYgZmlyZWZveFZlcnNpb24oKSA8IDI1O1xufVxuXG4vLyBodHRwczovL3N1cHBvcnQuY29kZS5vcmcvaGMvZW4tdXMvYXJ0aWNsZXMvMjAyNTkxNzQzXG4vLyBmb3IgdGhlIGZ1bGwgbGlzdCBvZiBzdXBwb3J0ZWQgYnJvd3NlcnNcbmV4cG9ydCBmdW5jdGlvbiBpc1Vuc3VwcG9ydGVkQnJvd3NlcigpIHtcbiAgcmV0dXJuIChcbiAgICBpc1Vuc3VwcG9ydGVkSUUoKSB8fFxuICAgIGlzVW5zdXBwb3J0ZWRDaHJvbWUoKSB8fFxuICAgIGlzVW5zdXBwb3J0ZWRTYWZhcmkoKSB8fFxuICAgIGlzVW5zdXBwb3J0ZWRGaXJlZm94KClcbiAgKTtcbn1cblxuLy8gRGV0ZWN0IGEgbW9iaWxlIGRldmljZS5cbmV4cG9ydCBmdW5jdGlvbiBpc01vYmlsZURldmljZSgpIHtcbiAgLy8gQWRhcHRlZCBmcm9tIGh0dHA6Ly9kZXRlY3Rtb2JpbGVicm93c2Vycy5jb20vIHdpdGggdGhlIGFkZGl0aW9uIG9mIHxhbmRyb2lkfGlwYWR8cGxheWJvb2t8c2lsayBhc1xuICAvLyBpdCBzdWdnZXN0cyBhdCBodHRwOi8vZGV0ZWN0bW9iaWxlYnJvd3NlcnMuY29tL2Fib3V0XG4gIC8vIE5vdGUgdGhhdCB0aGVyZSBhcmUgdHdvIHJlZ3VsYXIgZXhwcmVzc2lvbnMgaW4gdGhlIGJsb2IuICBUaGUgZmlyc3QgdGVzdHMgYWdhaW5zdCB2YXJpYWJsZSBhICh0aGUgZW50aXJlXG4gIC8vIHVzZXIgYWdlbnQpIHdoaWxlIHRoZSBzZWNvbmQgdGVzdHMgYWdhaW5zdCBqdXN0IHRoZSBmaXJzdCBmb3VyIGNoYXJhY3RlcnMgaW4gaXQuXG5cbiAgdmFyIGNoZWNrID0gZmFsc2U7XG4gIChmdW5jdGlvbiAoYSkge1xuICAgIGlmIChcbiAgICAgIC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyAoY2V8cGhvbmUpfHhkYXx4aWlub3xhbmRyb2lkfGlwYWR8cGxheWJvb2t8c2lsay9pLnRlc3QoXG4gICAgICAgIGFcbiAgICAgICkgfHxcbiAgICAgIC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLnRlc3QoXG4gICAgICAgIGEuc3Vic3RyKDAsIDQpXG4gICAgICApXG4gICAgKSB7XG4gICAgICBjaGVjayA9IHRydWU7XG4gICAgfVxuICB9KShuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgd2luZG93Lm9wZXJhKTtcbiAgcmV0dXJuIGNoZWNrO1xufVxuXG4vLyBEZXRlY3QgSUUxMS4gIEFkYXB0ZWQgZnJvbVxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMTgyNTE1Ny9pbnRlcm5ldC1leHBsb3Jlci0xMS1kZXRlY3Rpb24vMjE4MjUyMDcjMjE4MjUyMDdcbmV4cG9ydCBmdW5jdGlvbiBpc0lFMTEoKSB7XG4gIHZhciBpc0lFMTEgPSAhIXdpbmRvdy5NU0lucHV0TWV0aG9kQ29udGV4dCAmJiAhIWRvY3VtZW50LmRvY3VtZW50TW9kZTtcbiAgcmV0dXJuIGlzSUUxMTtcbn1cblxuLy8gRGV0ZXJtaW5lIHdoZXRoZXIgbG9jYWwgc3RvcmFnZSBpcyBhdmFpbGFibGUuICBPbiBtYWNPUyBTYWZhcmkgUHJpdmF0ZSBNb2RlIGl0IHdvbid0IGJlLlxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3BhdWxpcmlzaC81NTU4NTU3I2dpc3Rjb21tZW50LTE3NTUwOTlcbmV4cG9ydCBmdW5jdGlvbiBpc1N0b3JhZ2VBdmFpbGFibGUodHlwZSkge1xuICB0cnkge1xuICAgIHZhciBzdG9yYWdlID0gd2luZG93W3R5cGVdLFxuICAgICAgeCA9ICdfX3N0b3JhZ2VfdGVzdF9fJztcbiAgICBzdG9yYWdlLnNldEl0ZW0oeCwgeCk7XG4gICAgc3RvcmFnZS5yZW1vdmVJdGVtKHgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IGJyb3dzZXIgYW5kLCBpZiBzcGVjaWZpZWQsIHRoZSBjdXJyZW50IGJyb3dzZXIgdmVyc2lvbi5cbiAqIFJldHVybnMgdGhlIHVzZXIgYWdlbnQgc3RyaW5nIGlmIHRoZSBicm93c2VyIGlzIHVua25vd24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCcm93c2VyTmFtZShpbmNsdWRlVmVyc2lvbiA9IGZhbHNlKSB7XG4gIGlmIChpc0Nocm9tZSgpKSB7XG4gICAgcmV0dXJuICdDaHJvbWUnICsgKGluY2x1ZGVWZXJzaW9uID8gYCAke2Nocm9tZVZlcnNpb24oKX1gIDogJycpO1xuICB9XG5cbiAgaWYgKGlzSUUoKSkge1xuICAgIHJldHVybiAnSW50ZXJuZXQgRXhwbG9yZXInICsgKGluY2x1ZGVWZXJzaW9uID8gYCAke0lFVmVyc2lvbigpfWAgOiAnJyk7XG4gIH1cblxuICBpZiAoaXNGaXJlZm94KCkpIHtcbiAgICByZXR1cm4gJ0ZpcmVmb3gnICsgKGluY2x1ZGVWZXJzaW9uID8gYCAke2ZpcmVmb3hWZXJzaW9uKCl9YCA6ICcnKTtcbiAgfVxuXG4gIGlmIChpc1NhZmFyaSgpKSB7XG4gICAgcmV0dXJuICdTYWZhcmknICsgKGluY2x1ZGVWZXJzaW9uID8gYCAke3NhZmFyaVZlcnNpb24oKX1gIDogJycpO1xuICB9XG5cbiAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQ7XG59XG4iLCIvKiFcblx0Q29weXJpZ2h0IChjKSAyMDE4IEplZCBXYXRzb24uXG5cdExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG5cdGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cdHZhciBuYXRpdmVDb2RlU3RyaW5nID0gJ1tuYXRpdmUgY29kZV0nO1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGlmIChhcmcubGVuZ3RoKSB7XG5cdFx0XHRcdFx0dmFyIGlubmVyID0gY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpO1xuXHRcdFx0XHRcdGlmIChpbm5lcikge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGlubmVyKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0aWYgKGFyZy50b1N0cmluZyAhPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyAmJiAhYXJnLnRvU3RyaW5nLnRvU3RyaW5nKCkuaW5jbHVkZXMoJ1tuYXRpdmUgY29kZV0nKSkge1xuXHRcdFx0XHRcdGNsYXNzZXMucHVzaChhcmcudG9TdHJpbmcoKSk7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0Y2xhc3NOYW1lcy5kZWZhdWx0ID0gY2xhc3NOYW1lcztcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG5cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcbiAgICAgIC8vIEl0IGlzIHN0aWxsIHNhZmUgd2hlbiBjYWxsZWQgZnJvbSBSZWFjdC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcihcbiAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICk7XG4gICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgdGhyb3cgZXJyO1xuICB9O1xuICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuICBmdW5jdGlvbiBnZXRTaGltKCkge1xuICAgIHJldHVybiBzaGltO1xuICB9O1xuICAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNgLlxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IHNoaW0sXG4gICAgYm9vbDogc2hpbSxcbiAgICBmdW5jOiBzaGltLFxuICAgIG51bWJlcjogc2hpbSxcbiAgICBvYmplY3Q6IHNoaW0sXG4gICAgc3RyaW5nOiBzaGltLFxuICAgIHN5bWJvbDogc2hpbSxcblxuICAgIGFueTogc2hpbSxcbiAgICBhcnJheU9mOiBnZXRTaGltLFxuICAgIGVsZW1lbnQ6IHNoaW0sXG4gICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcbiAgICBub2RlOiBzaGltLFxuICAgIG9iamVjdE9mOiBnZXRTaGltLFxuICAgIG9uZU9mOiBnZXRTaGltLFxuICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcbiAgICBzaGFwZTogZ2V0U2hpbSxcbiAgICBleGFjdDogZ2V0U2hpbVxuICB9O1xuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZW1wdHlGdW5jdGlvbjtcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgU3ltYm9sLmZvciAmJlxuICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcbiAgICAweGVhYzc7XG5cbiAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICBvYmplY3QgIT09IG51bGwgJiZcbiAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9O1xuXG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzJykoaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHtcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zJykoKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZnVuY3Rpb24gY3JlYXRlVGh1bmtNaWRkbGV3YXJlKGV4dHJhQXJndW1lbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDtcbiAgICB2YXIgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gYWN0aW9uKGRpc3BhdGNoLCBnZXRTdGF0ZSwgZXh0cmFBcmd1bWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xufVxuXG52YXIgdGh1bmsgPSBjcmVhdGVUaHVua01pZGRsZXdhcmUoKTtcbnRodW5rLndpdGhFeHRyYUFyZ3VtZW50ID0gY3JlYXRlVGh1bmtNaWRkbGV3YXJlO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSB0aHVuazsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcblxuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdXBkYXRlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cblxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuXG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cblxuICBjc3MgKz0gb2JqLmNzcztcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBBZGRBc3NldEJ1dHRvblJvdyBmcm9tICcuL0FkZEFzc2V0QnV0dG9uUm93JztcbmltcG9ydCB7YWN0aW9ufSBmcm9tICdAc3Rvcnlib29rL2FkZG9uLWFjdGlvbnMnO1xuXG5jb25zdCBtb2NrQXBpID0ge1xuICBnZXRVcGxvYWRVcmw6ICgpID0+IHtcbiAgICByZXR1cm4gJy9zb21lLXVybCc7XG4gIH0sXG4gIHdyYXBVcGxvYWREb25lQ2FsbGJhY2s6IGYgPT4ge1xuICAgIHJldHVybiBmO1xuICB9LFxuICB3cmFwVXBsb2FkU3RhcnRDYWxsYmFjazogZiA9PiB7XG4gICAgcmV0dXJuIGY7XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbXBvbmVudDogQWRkQXNzZXRCdXR0b25Sb3csXG59O1xuXG4vLyBUZW1wbGF0ZVxuY29uc3QgVGVtcGxhdGUgPSBhcmdzID0+IChcbiAgPEFkZEFzc2V0QnV0dG9uUm93XG4gICAgdXBsb2Fkc0VuYWJsZWQ9e3RydWV9XG4gICAgYWxsb3dlZEV4dGVuc2lvbnM9XCJcIlxuICAgIGFwaT17bW9ja0FwaX1cbiAgICBvblVwbG9hZFN0YXJ0PXthY3Rpb24oJ29uVXBsb2FkU3RhcnQnKX1cbiAgICBvblVwbG9hZERvbmU9e2FjdGlvbignb25VcGxvYWREb25lJyl9XG4gICAgb25VcGxvYWRFcnJvcj17YWN0aW9uKCdvblVwbG9hZEVycm9yJyl9XG4gICAgb25TZWxlY3RSZWNvcmQ9e2FjdGlvbignb25TZWxlY3RSZWNvcmQnKX1cbiAgICB7Li4uYXJnc31cbiAgLz5cbik7XG5cbi8vIFN0b3JpZXNcbmV4cG9ydCBjb25zdCBKdXN0QnV0dG9ucyA9IFRlbXBsYXRlLmJpbmQoe30pO1xuSnVzdEJ1dHRvbnMuYXJncyA9IHtcbiAgc3RhdHVzTWVzc2FnZTogJycsXG59O1xuXG5leHBvcnQgY29uc3QgQnV0dG9uc1dpdGhTdGF0dXMgPSBUZW1wbGF0ZS5iaW5kKHt9KTtcbkJ1dHRvbnNXaXRoU3RhdHVzLmFyZ3MgPSB7XG4gIHN0YXR1c01lc3NhZ2U6ICdUaGlzIGlzIGEgc3RhdHVzIG1lc3NhZ2UnLFxufTtcbiJdLCJuYW1lcyI6WyJhc3NldEJ1dHRvblN0eWxlcyIsImJ1dHRvbiIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwibWFyZ2luVG9wIiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwibWFyZ2luUmlnaHQiLCJidXR0b25Sb3ciLCJkaXNwbGF5IiwiZmxleEZsb3ciLCJhbGlnbkl0ZW1zIiwiUmVjb3JkQnV0dG9uIiwib25TZWxlY3RSZWNvcmQiLCJkaXNhYmxlZCIsIm9uQ2xpY2siLCJpZCIsImNsYXNzTmFtZSIsInRleHQiLCJpMThuIiwicmVjb3JkQXVkaW8iLCJpY29uIiwic3R5bGUiLCJzaXplIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiZnVuYyIsImJvb2wiLCJBZGRBc3NldEJ1dHRvblJvdyIsInJlbmRlciIsInNob3VsZFNob3dSZWNvcmRCdXR0b24iLCJ0aGlzIiwicHJvcHMiLCJoaWRlQXVkaW9SZWNvcmRpbmciLCJpc0lFMTEiLCJ1cGxvYWRzRW5hYmxlZCIsImFsbG93ZWRFeHRlbnNpb25zIiwiYXBpIiwib25VcGxvYWRTdGFydCIsIm9uVXBsb2FkRG9uZSIsIm9uVXBsb2FkRXJyb3IiLCJyZWNvcmREaXNhYmxlZCIsInN0YXR1c01lc3NhZ2UiLCJSZWFjdCIsIkNvbXBvbmVudCIsImlzUmVxdWlyZWQiLCJzdHJpbmciLCJvYmplY3QiLCJBc3NldFVwbG9hZGVyIiwicmVmcyIsInVwbG9hZGVyIiwib3BlbkZpbGVDaG9vc2VyIiwidXJsIiwiZ2V0VXBsb2FkVXJsIiwidXBsb2FkRG9uZSIsIndyYXBVcGxvYWREb25lQ2FsbGJhY2siLCJ1cGxvYWRTdGFydCIsIndyYXBVcGxvYWRTdGFydENhbGxiYWNrIiwicmVmIiwidG9VcmwiLCJmaWxlVXBsb2FkQ2xpY2tlZCIsInVwbG9hZEZpbGUiLCJIaWRkZW5VcGxvYWRlciIsImNsaWNrIiwiY29tcG9uZW50RGlkTW91bnQiLCIkIiwiZmlsZXVwbG9hZCIsImRhdGFUeXBlIiwicmVwbGFjZUZpbGVJbnB1dCIsImFkZCIsImUiLCJkYXRhIiwiYXVkaW9GaWxlTmFtZSIsImZpbGVzIiwibmFtZSIsImluY2x1ZGVzIiwiZmlyZWhvc2VDbGllbnQiLCJwdXRSZWNvcmQiLCJzdHVkeSIsInN0dWR5X2dyb3VwIiwiZXZlbnQiLCJkYXRhX2pzb24iLCJpbmNsdWRlVXNlcklkIiwiZG9uZSIsInJlc3VsdCIsImVycm9yIiwic3RhdHVzIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJ0eXBlIiwiYWNjZXB0Iiwid2luZG93IiwiZGFzaGJvYXJkIiwiaXNJRSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJJRVZlcnNpb24iLCJzdWJzdHJpbmciLCJsYXN0SW5kZXhPZiIsInNwbGl0IiwiaXNDaHJvbWUiLCJjaHJvbWVWZXJzaW9uIiwiaXNTYWZhcmkiLCJzYWZhcmlWZXJzaW9uIiwiaXNGaXJlZm94IiwiZmlyZWZveFZlcnNpb24iLCJNU0lucHV0TWV0aG9kQ29udGV4dCIsImRvY3VtZW50IiwiZG9jdW1lbnRNb2RlIiwiZ2V0QnJvd3Nlck5hbWUiLCJpbmNsdWRlVmVyc2lvbiIsImlzTW9iaWxlRGV2aWNlIiwiY2hlY2siLCJhIiwidGVzdCIsInN1YnN0ciIsInZlbmRvciIsIm9wZXJhIiwiaXNTdG9yYWdlQXZhaWxhYmxlIiwic3RvcmFnZSIsIngiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImlzVW5zdXBwb3J0ZWRCcm93c2VyIiwiaXNVbnN1cHBvcnRlZElFIiwiaXNVbnN1cHBvcnRlZENocm9tZSIsImlzVW5zdXBwb3J0ZWRTYWZhcmkiLCJpc1Vuc3VwcG9ydGVkRmlyZWZveCIsImhhc093biIsImhhc093blByb3BlcnR5IiwiY2xhc3NOYW1lcyIsImNsYXNzZXMiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJnIiwiYXJnVHlwZSIsInB1c2giLCJBcnJheSIsImlzQXJyYXkiLCJpbm5lciIsImFwcGx5IiwidG9TdHJpbmciLCJPYmplY3QiLCJwcm90b3R5cGUiLCJrZXkiLCJjYWxsIiwiam9pbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJkZWZhdWx0IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJ1bmRlZmluZWQiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsIl9rIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJlbXB0eUZ1bmN0aW9uIiwic2hpbSIsInByb3BOYW1lIiwiY29tcG9uZW50TmFtZSIsImxvY2F0aW9uIiwicHJvcEZ1bGxOYW1lIiwic2VjcmV0IiwiZXJyIiwiRXJyb3IiLCJnZXRTaGltIiwiUmVhY3RQcm9wVHlwZXMiLCJhcnJheSIsIm51bWJlciIsInN5bWJvbCIsImFueSIsImFycmF5T2YiLCJlbGVtZW50IiwiaW5zdGFuY2VPZiIsIm5vZGUiLCJvYmplY3RPZiIsIm9uZU9mIiwib25lT2ZUeXBlIiwic2hhcGUiLCJleGFjdCIsImNoZWNrUHJvcFR5cGVzIiwiY3JlYXRlVGh1bmtNaWRkbGV3YXJlIiwiZXh0cmFBcmd1bWVudCIsIl9yZWYiLCJkaXNwYXRjaCIsImdldFN0YXRlIiwibmV4dCIsImFjdGlvbiIsIl9fZXNNb2R1bGUiLCJ0aHVuayIsIndpdGhFeHRyYUFyZ3VtZW50Iiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnRCeVNlbGVjdG9yIiwiaW5zZXJ0IiwidGFyZ2V0IiwiZ2V0VGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsInN0eWxlVGFnVHJhbnNmb3JtIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJtb2NrQXBpIiwiZiIsImNvbXBvbmVudCIsIlRlbXBsYXRlIiwiYXJncyIsIkp1c3RCdXR0b25zIiwiYmluZCIsIkJ1dHRvbnNXaXRoU3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==