"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[9866],{"./src/templates/SafeMarkdown.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _redactableMarkdown=_interopRequireDefault(__webpack_require__("./node_modules/@code-dot-org/redactable-markdown/dist/main.js")),_remarkPlugins=__webpack_require__("./node_modules/@code-dot-org/remark-plugins/src/index.js"),_github=_interopRequireDefault(__webpack_require__("./node_modules/hast-util-sanitize/lib/github.json")),_propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_rehypeRaw=_interopRequireDefault(__webpack_require__("./node_modules/rehype-raw/index.js")),_rehypeReact=_interopRequireDefault(__webpack_require__("./node_modules/rehype-react/index.js")),_rehypeSanitize=_interopRequireDefault(__webpack_require__("./node_modules/rehype-sanitize/index.js")),_remarkRehype=_interopRequireDefault(__webpack_require__("./node_modules/remark-rehype/index.js")),_externalLinks=_interopRequireDefault(__webpack_require__("./src/templates/plugins/externalLinks.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var SafeMarkdown=function(_React$Component){function SafeMarkdown(){return _React$Component.apply(this,arguments)||this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(SafeMarkdown,_React$Component),SafeMarkdown.prototype.render=function render(){var rendered=(this.props.openExternalLinksInNewTab?markdownToReactExternalLinks:markdownToReact).processSync(this.props.markdown).contents,markdownProps={};return this.props.className&&(markdownProps.className=this.props.className),rendered&&"div"===rendered.type&&!Object.keys(markdownProps).length?rendered:_react.default.createElement("div",markdownProps,rendered)},SafeMarkdown}(_react.default.Component);!function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(SafeMarkdown,"propTypes",{markdown:_propTypes.default.string.isRequired,openExternalLinksInNewTab:_propTypes.default.bool,className:_propTypes.default.string});var schema=Object.assign({},_github.default);schema.attributes.img.push("height","width"),schema.tagNames.push("span"),schema.attributes.span=["dataUrl","className"],schema.attributes["*"].push("style","className"),schema.attributes.b=["dataId"],schema.clobber=[];var blocklyTags=["block","functional_input","mutation","next","statement","title","field","value","xml"];schema.tagNames=schema.tagNames.concat(blocklyTags);var blocklyComponentWrappers={};blocklyTags.forEach((function(tag){schema.attributes[tag]=["block_text","id","inline","name","type"],blocklyComponentWrappers[tag]=function(props){var BlocklyElement=tag;return _react.default.createElement(BlocklyElement,_extends({is:tag},props))}}));var markdownToReact=_redactableMarkdown.default.create().getParser().use([_remarkPlugins.clickableText,_remarkPlugins.expandableImages,_remarkPlugins.visualCodeBlock,_remarkPlugins.xmlAsTopLevelBlock,_remarkPlugins.details]).use(_remarkRehype.default,{allowDangerousHTML:!0}).use(_rehypeRaw.default).use(_rehypeSanitize.default,schema).use(_rehypeReact.default,{createElement:_react.default.createElement,components:blocklyComponentWrappers}),markdownToReactExternalLinks=markdownToReact().use(_externalLinks.default,{links:"all"});exports.default=SafeMarkdown;module.exports=exports.default},"./src/templates/plugins/externalLinks.js":(__unused_webpack_module,exports)=>{function isExternalLink(url){return!/https?:\/\/([^.]+\.)*code.org(:[0-9]+)?\//.test(function fullyQualified(path){return(a=a||document.createElement("a")).href=path,a.href}(url))}var a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function externalLinks(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},tokenizers=this.Parser.prototype.inlineTokenizers,original=tokenizers.link,all="all"===options.links;tokenizers.link=function(eat,value,silent){var link=original.call(this,eat,value,silent);if(link&&"link"===link.type&&(all||isExternalLink(link.url))){link.data=link.data||{},link.data.hProperties=link.data.hProperties||{};var props=link.data.hProperties;props.target=props.target||"_blank",props.rel="noreferrer noopener"}return link},tokenizers.link.locator=original.locator},exports.isExternalLink=isExternalLink},"./src/weblab/SupportArticleMarkdown.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function SupportArticleMarkdown(){return _react.default.createElement(_SafeMarkdown.default,{markdown:_locale.default.troubleshootingSupport({url:_constants.SUPPORT_ARTICLE_URL}),openExternalLinksInNewTab:!0})};var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_locale=_interopRequireDefault(__webpack_require__("./src/weblab/locale-do-not-import.js")),_SafeMarkdown=_interopRequireDefault(__webpack_require__("./src/templates/SafeMarkdown.jsx")),_constants=__webpack_require__("./src/weblab/constants.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=exports.default},"./src/weblab/constants.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.SUPPORT_ARTICLE_URL=exports.FatalErrorType=exports.FILE_SYSTEM_ERROR=exports.BRAMBLE_READY_STATE=void 0;var _utils=__webpack_require__("./src/utils.js");exports.SUPPORT_ARTICLE_URL="https://support.code.org/hc/en-us/articles/360016804871",exports.FatalErrorType=(0,_utils.makeEnum)("Default","LoadFailure","ResetFailure"),exports.FILE_SYSTEM_ERROR="EFILESYSTEMERROR",exports.BRAMBLE_READY_STATE="bramble:readyToMount"},"./src/weblab/dialogs/DisallowedHtmlWarningDialog.jsx":(module,exports,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=DisallowedHtmlWarningDialog;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_locale2=_interopRequireDefault(__webpack_require__("./src/weblab/locale-do-not-import.js")),_StylizedBaseDialog=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./src/componentLibrary/StylizedBaseDialog.jsx")),_SafeMarkdown=_interopRequireDefault(__webpack_require__("./src/templates/SafeMarkdown.jsx")),_SupportArticleMarkdown=_interopRequireDefault(__webpack_require__("./src/weblab/SupportArticleMarkdown.jsx")),_excluded=["isOpen","filename","disallowedTags","handleClose"];function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function DisallowedHtmlWarningDialog(_ref){var isOpen=_ref.isOpen,filename=_ref.filename,disallowedTags=_ref.disallowedTags,handleClose=_ref.handleClose,props=_objectWithoutProperties(_ref,_excluded),body=_react.default.createElement("div",null,_react.default.createElement(_SafeMarkdown.default,{markdown:_locale2.default.disallowedHtml({filename,disallowedTags:disallowedTags.join(", ")})}),_react.default.createElement(_SupportArticleMarkdown.default,null));return _react.default.createElement(_StylizedBaseDialog.default,_extends({},props,{isOpen,title:_locale.default.warning(),body,handleClose,renderFooter:function renderFooter(){return _react.default.createElement(_StylizedBaseDialog.FooterButton,{type:"confirm",text:_locale.default.dialogOK(),onClick:handleClose})}}))}DisallowedHtmlWarningDialog.propTypes={isOpen:_propTypes.default.bool.isRequired,filename:_propTypes.default.string.isRequired,disallowedTags:_propTypes.default.arrayOf(_propTypes.default.string).isRequired,handleClose:_propTypes.default.func.isRequired},module.exports=exports.default},"./src/weblab/dialogs/DisallowedHtmlWarningDialog.story.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.SingleDisallowedTags=exports.MultipleDisallowedTags=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_addonActions=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js"),_DisallowedHtmlWarningDialog=_interopRequireDefault(__webpack_require__("./src/weblab/dialogs/DisallowedHtmlWarningDialog.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}exports.default={component:_DisallowedHtmlWarningDialog.default};var DEFAULT_PROPS={isOpen:!0,filename:"index.html",handleClose:(0,_addonActions.action)("close"),hideBackdrop:!0},Template=function Template(args){return _react.default.createElement(_DisallowedHtmlWarningDialog.default,_extends({},DEFAULT_PROPS,args))};(exports.SingleDisallowedTags=Template.bind({})).args={disallowedTags:["script"]},(exports.MultipleDisallowedTags=Template.bind({})).args={disallowedTags:["script","meta[http-equiv]"]}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2VibGFiLWRpYWxvZ3MtRGlzYWxsb3dlZEh0bWxXYXJuaW5nRGlhbG9nLXN0b3J5LmRmN2EyNDdkLmlmcmFtZS5idW5kbGUuanMiLCJtYXBwaW5ncyI6InFQQUFBLElBQUFBLG9CQUFBQyx1QkFBQUMsb0JBQUEsa0VBQ0FDLGVBQUFELG9CQUFBLDREQU9BRSxRQUFBSCx1QkFBQUMsb0JBQUEsc0RBQ0FHLFdBQUFKLHVCQUFBQyxvQkFBQSx1Q0FDQUksT0FBQUwsdUJBQUFDLG9CQUFBLGtDQUNBSyxXQUFBTix1QkFBQUMsb0JBQUEsdUNBQ0FNLGFBQUFQLHVCQUFBQyxvQkFBQSx5Q0FDQU8sZ0JBQUFSLHVCQUFBQyxvQkFBQSw0Q0FDQVEsY0FBQVQsdUJBQUFDLG9CQUFBLDBDQUVBUyxlQUFBVix1QkFBQUMsb0JBQUEsNkNBQW9ELFNBQUFELHVCQUFBVyxLQUFBLE9BQUFBLEtBQUFBLElBQUFDLFdBQUFELElBQUEsU0FBQUEsSUFBQSxVQUFBRSxRQUFBQyxHQUFBLE9BQUFELFFBQUEsbUJBQUFFLFFBQUEsaUJBQUFBLE9BQUFDLFNBQUEsU0FBQUYsR0FBQSxjQUFBQSxDQUFBLFdBQUFBLEdBQUEsT0FBQUEsR0FBQSxtQkFBQUMsUUFBQUQsRUFBQUcsY0FBQUYsUUFBQUQsSUFBQUMsT0FBQUcsVUFBQSxnQkFBQUosQ0FBQSxFQUFBRCxRQUFBQyxFQUFBLFVBQUFLLFdBQUEsT0FBQUEsU0FBQUMsT0FBQUMsT0FBQUQsT0FBQUMsT0FBQUMsT0FBQSxTQUFBQyxRQUFBLFFBQUFDLEVBQUEsRUFBQUEsRUFBQUMsVUFBQUMsT0FBQUYsSUFBQSxLQUFBRyxPQUFBRixVQUFBRCxHQUFBLFFBQUFJLE9BQUFELE9BQUFQLE9BQUFGLFVBQUFXLGVBQUFDLEtBQUFILE9BQUFDLE9BQUFMLE9BQUFLLEtBQUFELE9BQUFDLEtBQUEsUUFBQUwsTUFBQSxFQUFBSixTQUFBWSxNQUFBLEtBQUFOLFVBQUEsVUFBQU8sZ0JBQUFsQixFQUFBbUIsR0FBQSxPQUFBRCxnQkFBQVosT0FBQWMs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T0FBQSxRQUFBbUQsY0FBQytILDZCQUFBLFFBQTJCcEssU0FBQSxHQUFLc0ssY0FBbUJJLE1BQVEsR0FHN0JoRixRQUFBQSxxQkFBRytFLFNBQVN0SyxLQUFLLENBQUMsSUFDOUJ1SyxLQUFPLENBQzFCdkIsZUFBZ0IsQ0FBQyxZQUdnQnpELFFBQUFBLHVCQUFHK0UsU0FBU3RLLEtBQUssQ0FBQyxJQUM5QnVLLEtBQU8sQ0FDNUJ2QixlQUFnQixDQUFDLFNBQVUsb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvdGVtcGxhdGVzL1NhZmVNYXJrZG93bi5qc3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3RlbXBsYXRlcy9wbHVnaW5zL2V4dGVybmFsTGlua3MuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3dlYmxhYi9TdXBwb3J0QXJ0aWNsZU1hcmtkb3duLmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvd2VibGFiL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvd2VibGFiL2RpYWxvZ3MvRGlzYWxsb3dlZEh0bWxXYXJuaW5nRGlhbG9nLmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvd2VibGFiL2RpYWxvZ3MvRGlzYWxsb3dlZEh0bWxXYXJuaW5nRGlhbG9nLnN0b3J5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQYXJzZXIgZnJvbSAnQGNvZGUtZG90LW9yZy9yZWRhY3RhYmxlLW1hcmtkb3duJztcbmltcG9ydCB7XG4gIGRldGFpbHMsXG4gIGNsaWNrYWJsZVRleHQsXG4gIGV4cGFuZGFibGVJbWFnZXMsXG4gIHZpc3VhbENvZGVCbG9jayxcbiAgeG1sQXNUb3BMZXZlbEJsb2NrLFxufSBmcm9tICdAY29kZS1kb3Qtb3JnL3JlbWFyay1wbHVnaW5zJztcbmltcG9ydCBkZWZhdWx0U2FuaXRpemF0aW9uU2NoZW1hIGZyb20gJ2hhc3QtdXRpbC1zYW5pdGl6ZS9saWIvZ2l0aHViLmpzb24nO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgcmVoeXBlUmF3IGZyb20gJ3JlaHlwZS1yYXcnO1xuaW1wb3J0IHJlaHlwZVJlYWN0IGZyb20gJ3JlaHlwZS1yZWFjdCc7XG5pbXBvcnQgcmVoeXBlU2FuaXRpemUgZnJvbSAncmVoeXBlLXNhbml0aXplJztcbmltcG9ydCByZW1hcmtSZWh5cGUgZnJvbSAncmVtYXJrLXJlaHlwZSc7XG5cbmltcG9ydCBleHRlcm5hbExpbmtzIGZyb20gJy4vcGx1Z2lucy9leHRlcm5hbExpbmtzJztcblxuLyoqXG4gKiBCYXNpYyBjb21wb25lbnQgZm9yIHJlbmRlcmluZyBhIG1hcmtkb3duIHN0cmluZyBhcyBIVE1MLCB3aXRoIHNhbml0aXphdGlvbi5cbiAqIENhbiBzYWZlbHkgcmVuZGVyIG1hcmtkb3duIGV2ZW4gZnJvbSB1bnRydXN0ZWQgc291cmNlcywgd2l0aG91dCBwb3RlbnRpYWxseVxuICogZXhwb3NpbmcgdXMgdG8gYW4gWFNTIGluamVjdGlvbi5cbiAqL1xuY2xhc3MgU2FmZU1hcmtkb3duIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBtYXJrZG93bjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIG9wZW5FeHRlcm5hbExpbmtzSW5OZXdUYWI6IFByb3BUeXBlcy5ib29sLFxuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgLy8gV2Ugb25seSBvcGVuIGV4dGVybmFsIGxpbmtzIGluIGEgbmV3IHRhYiBpZiBpdCdzIGV4cGxpY2l0bHkgc3BlY2lmaWVkXG4gICAgLy8gdGhhdCB3ZSBkbyBzbzsgdGhpcyBpcyBhYnNvbHV0ZWx5IG5vdCBzb21ldGhpbmcgd2Ugd2FudCB0byBkbyBhcyBhXG4gICAgLy8gZ2VuZXJhbCBwcmFjdGljZSwgYnV0IHVuZm9ydHVuYXRlbHkgdGhlcmUgYXJlIHNvbWUgc2l0dWF0aW9ucyBpbiB3aGljaFxuICAgIC8vIGl0IGlzIGN1cnJlbnRseSBhIHJlcXVpcmVtZW50LlxuICAgIGNvbnN0IHBhcnNlciA9IHRoaXMucHJvcHMub3BlbkV4dGVybmFsTGlua3NJbk5ld1RhYlxuICAgICAgPyBtYXJrZG93blRvUmVhY3RFeHRlcm5hbExpbmtzXG4gICAgICA6IG1hcmtkb3duVG9SZWFjdDtcblxuICAgIGNvbnN0IHJlbmRlcmVkID0gcGFyc2VyLnByb2Nlc3NTeW5jKHRoaXMucHJvcHMubWFya2Rvd24pLmNvbnRlbnRzO1xuXG4gICAgY29uc3QgbWFya2Rvd25Qcm9wcyA9IHt9O1xuICAgIGlmICh0aGlzLnByb3BzLmNsYXNzTmFtZSkge1xuICAgICAgbWFya2Rvd25Qcm9wcy5jbGFzc05hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZTtcbiAgICB9XG4gICAgLy8gcmVoeXBlLXJlYWN0IHdpbGwgb25seSB3cmFwIHRoZSBjb21waWxlZCBtYXJrZG93biBpbiBhIDxkaXY+IHRhZ1xuICAgIC8vIGlmIGl0IG5lZWRzIHRvIChpZSwgaWYgdGhlcmUgd291bGQgb3RoZXJ3aXNlIGJlIG11bHRpcGxlIGVsZW1lbnRzXG4gICAgLy8gcmV0dXJuZWQpIG9yIHdlJ3JlIGFzc2lnbmluZyBwcm9wcy4gV2UgcHJlZmVyIGNvbnNpc3RlbmN5IG92ZXIgZmxleGliaWxpdHksXG4gICAgLy8gc28gaGVyZSB3ZSB3cmFwIHRoZSByZXN1bHQgaW4gYSBkaXYgaWYgaXQgd2Fzbid0IGFscmVhZHlcbiAgICBpZiAoXG4gICAgICByZW5kZXJlZCAmJlxuICAgICAgcmVuZGVyZWQudHlwZSA9PT0gJ2RpdicgJiZcbiAgICAgICFPYmplY3Qua2V5cyhtYXJrZG93blByb3BzKS5sZW5ndGhcbiAgICApIHtcbiAgICAgIHJldHVybiByZW5kZXJlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxkaXYgey4uLm1hcmtkb3duUHJvcHN9PntyZW5kZXJlZH08L2Rpdj47XG4gICAgfVxuICB9XG59XG5cbi8vIGNyZWF0ZSBjdXN0b20gc2FuaXRpemF0aW9uIHNjaGVtYSBhcyBwZXJcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zeW50YXgtdHJlZS9oYXN0LXV0aWwtc2FuaXRpemUjc2NoZW1hXG4vLyB0byBzdXBwb3J0IG91ciBjdXN0b20gc3ludGF4ZXNcbmNvbnN0IHNjaGVtYSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRTYW5pdGl6YXRpb25TY2hlbWEpO1xuXG4vLyBXZSB1c2UgYSBfbG90XyBvZiBpbWFnZSBmb3JtYXR0aW5nIHN0dWZmIGluIG91clxuLy8gaW5zdHJ1Y3Rpb25zLCBwYXJ0aWN1bGFybHkgaW4gQ1NQXG5zY2hlbWEuYXR0cmlidXRlcy5pbWcucHVzaCgnaGVpZ2h0JywgJ3dpZHRoJyk7XG5cbi8vIEFkZCBzdXBwb3J0IGZvciBleHBhbmRhYmxlSW1hZ2VzXG5zY2hlbWEudGFnTmFtZXMucHVzaCgnc3BhbicpO1xuc2NoZW1hLmF0dHJpYnV0ZXMuc3BhbiA9IFsnZGF0YVVybCcsICdjbGFzc05hbWUnXTtcblxuLy8gQWRkIHN1cHBvcnQgZm9yIGlubGluZSBzdHlsZXMgKGdyb3NzKVxuLy8gVE9ETyByZXBsYWNlIGFsbCBpbmxpbmUgc3R5bGVzIGluIG91ciBjdXJyaWN1bHVtIGNvbnRlbnQgd2l0aFxuLy8gc2VtYW50aWNhbGx5LXNpZ25pZmljYW50IGNvbnRlbnRcbnNjaGVtYS5hdHRyaWJ1dGVzWycqJ10ucHVzaCgnc3R5bGUnLCAnY2xhc3NOYW1lJyk7XG5cbi8vIENsaWNrYWJsZVRleHQgdXNlcyBkYXRhLWlkIG9uIGEgYm9sZCB0YWcuXG5zY2hlbWEuYXR0cmlidXRlc1snYiddID0gWydkYXRhSWQnXTtcblxuLy8gQWRkIHN1cHBvcnQgZm9yIEJsb2NrbHkgWE1MXG5zY2hlbWEuY2xvYmJlciA9IFtdO1xuY29uc3QgYmxvY2tseVRhZ3MgPSBbXG4gICdibG9jaycsXG4gICdmdW5jdGlvbmFsX2lucHV0JyxcbiAgJ211dGF0aW9uJyxcbiAgJ25leHQnLFxuICAnc3RhdGVtZW50JyxcbiAgJ3RpdGxlJyxcbiAgJ2ZpZWxkJyxcbiAgJ3ZhbHVlJyxcbiAgJ3htbCcsXG5dO1xuc2NoZW1hLnRhZ05hbWVzID0gc2NoZW1hLnRhZ05hbWVzLmNvbmNhdChibG9ja2x5VGFncyk7XG5sZXQgYmxvY2tseUNvbXBvbmVudFdyYXBwZXJzID0ge307XG5ibG9ja2x5VGFncy5mb3JFYWNoKHRhZyA9PiB7XG4gIHNjaGVtYS5hdHRyaWJ1dGVzW3RhZ10gPSBbJ2Jsb2NrX3RleHQnLCAnaWQnLCAnaW5saW5lJywgJ25hbWUnLCAndHlwZSddO1xuXG4gIC8vIENyZWF0ZSBhIFJlYWN0IGNvbXBvbmVudCB0byB3cmFwIGVhY2ggQmxvY2tseSB0YWcuIFNpbmNlIHRoZXNlIGVsZW1lbnRzIHVsdGltYXRlbHlcbiAgLy8gcmVuZGVyIGFzIFJlYWN0IGNvbXBvbmVudHMsIGNyZWF0aW5nIGEgd3JhcHBlciBtYWtlcyB0aGVtIHZhbGlkICh3aGVyZWFzIDx4bWw+XG4gIC8vIGlzIG5vdCBhIHZhbGlkIFJlYWN0IHRhZykuXG4gIGJsb2NrbHlDb21wb25lbnRXcmFwcGVyc1t0YWddID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgY29uc3QgQmxvY2tseUVsZW1lbnQgPSB0YWc7XG4gICAgLy8gVGhlIFwiaXNcIiBhdHRyaWJ1dGUgcHJldmVudHMgUmVhY3QgZnJvbSB3YXJuaW5nIGFib3V0IHVucmVjb2duaXplZCB0YWdzOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTExODQjaXNzdWVjb21tZW50LTMzNTk0MjQzOVxuICAgIHJldHVybiA8QmxvY2tseUVsZW1lbnQgaXM9e3RhZ30gey4uLnByb3BzfSAvPjtcbiAgfTtcbn0pO1xuXG5jb25zdCBtYXJrZG93blRvUmVhY3QgPSBQYXJzZXIuY3JlYXRlKClcbiAgLmdldFBhcnNlcigpXG4gIC8vIGluY2x1ZGUgY3VzdG9tIHBsdWdpbnNcbiAgLnVzZShbXG4gICAgY2xpY2thYmxlVGV4dCxcbiAgICBleHBhbmRhYmxlSW1hZ2VzLFxuICAgIHZpc3VhbENvZGVCbG9jayxcbiAgICB4bWxBc1RvcExldmVsQmxvY2ssXG4gICAgZGV0YWlscyxcbiAgXSlcbiAgLy8gY29udmVydCBtYXJrZG93biB0byBhbiBIVE1MIEFic3RyYWN0IFN5bnRheCBUcmVlIChIQVNUKVxuICAudXNlKHJlbWFya1JlaHlwZSwge1xuICAgIC8vIGluY2x1ZGUgYW55IHJhdyBIVE1MIGluIHRoZSBtYXJrZG93biBhcyByYXcgSFRNTCBub2RlcyBpbiB0aGUgSEFTVFxuICAgIGFsbG93RGFuZ2Vyb3VzSFRNTDogdHJ1ZSxcbiAgfSlcbiAgLy8gcGFyc2UgdGhlIHJhdyBIVE1MIG5vZGVzIGluIHRoZSBIQVNUIHRvIGFjdHVhbCBIQVNUIG5vZGVzXG4gIC51c2UocmVoeXBlUmF3KVxuICAvLyBzYW5pdGl6ZSB0aGUgSEFTVFxuICAudXNlKHJlaHlwZVNhbml0aXplLCBzY2hlbWEpXG4gIC8vIGNvbnZlcnQgdGhlIEhBU1QgdG8gUmVhY3RcbiAgLnVzZShyZWh5cGVSZWFjdCwge1xuICAgIGNyZWF0ZUVsZW1lbnQ6IFJlYWN0LmNyZWF0ZUVsZW1lbnQsXG4gICAgLy8gVXNlIFJlYWN0IGNvbXBvbmVudCB3cmFwcGVycyBmb3IgQmxvY2tseSBYTUwgZWxlbWVudHMgdG8gcHJldmVudFxuICAgIC8vIFJlYWN0IGZyb20gd2FybmluZyB1cyBhYm91dCBpbnZhbGlkIGNvbXBvbmVudHMuXG4gICAgY29tcG9uZW50czogYmxvY2tseUNvbXBvbmVudFdyYXBwZXJzLFxuICB9KTtcblxuY29uc3QgbWFya2Rvd25Ub1JlYWN0RXh0ZXJuYWxMaW5rcyA9IG1hcmtkb3duVG9SZWFjdCgpLnVzZShleHRlcm5hbExpbmtzLCB7XG4gIGxpbmtzOiAnYWxsJyxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBTYWZlTWFya2Rvd247XG4iLCIvKipcbiAqIE9wZW4gZXh0ZXJuYWwgbGlua3MgaW4gYSBuZXcgdGFiLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBleHRlcm5hbExpbmtzKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBQYXJzZXIgPSB0aGlzLlBhcnNlcjtcbiAgY29uc3QgdG9rZW5pemVycyA9IFBhcnNlci5wcm90b3R5cGUuaW5saW5lVG9rZW5pemVycztcbiAgY29uc3Qgb3JpZ2luYWwgPSB0b2tlbml6ZXJzLmxpbms7XG4gIGNvbnN0IGFsbCA9IG9wdGlvbnMubGlua3MgPT09ICdhbGwnO1xuXG4gIHRva2VuaXplcnMubGluayA9IGZ1bmN0aW9uIChlYXQsIHZhbHVlLCBzaWxlbnQpIHtcbiAgICBjb25zdCBsaW5rID0gb3JpZ2luYWwuY2FsbCh0aGlzLCBlYXQsIHZhbHVlLCBzaWxlbnQpO1xuICAgIGlmIChsaW5rICYmIGxpbmsudHlwZSA9PT0gJ2xpbmsnICYmIChhbGwgfHwgaXNFeHRlcm5hbExpbmsobGluay51cmwpKSkge1xuICAgICAgbGluay5kYXRhID0gbGluay5kYXRhIHx8IHt9O1xuICAgICAgbGluay5kYXRhLmhQcm9wZXJ0aWVzID0gbGluay5kYXRhLmhQcm9wZXJ0aWVzIHx8IHt9O1xuXG4gICAgICBjb25zdCBwcm9wcyA9IGxpbmsuZGF0YS5oUHJvcGVydGllcztcbiAgICAgIHByb3BzLnRhcmdldCA9IHByb3BzLnRhcmdldCB8fCAnX2JsYW5rJztcbiAgICAgIHByb3BzLnJlbCA9ICdub3JlZmVycmVyIG5vb3BlbmVyJztcbiAgICB9XG5cbiAgICByZXR1cm4gbGluaztcbiAgfTtcbiAgdG9rZW5pemVycy5saW5rLmxvY2F0b3IgPSBvcmlnaW5hbC5sb2NhdG9yO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFeHRlcm5hbExpbmsodXJsKSB7XG4gIHJldHVybiAhL2h0dHBzPzpcXC9cXC8oW14uXStcXC4pKmNvZGUub3JnKDpbMC05XSspP1xcLy8udGVzdChmdWxseVF1YWxpZmllZCh1cmwpKTtcbn1cblxubGV0IGE7XG5mdW5jdGlvbiBmdWxseVF1YWxpZmllZChwYXRoKSB7XG4gIGEgPSBhIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgYS5ocmVmID0gcGF0aDtcbiAgcmV0dXJuIGEuaHJlZjtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgd2VibGFiSTE4biBmcm9tICdAY2RvL3dlYmxhYi9sb2NhbGUnO1xuaW1wb3J0IFNhZmVNYXJrZG93biBmcm9tICdAY2RvL2FwcHMvdGVtcGxhdGVzL1NhZmVNYXJrZG93bic7XG5pbXBvcnQge1NVUFBPUlRfQVJUSUNMRV9VUkx9IGZyb20gJ0BjZG8vYXBwcy93ZWJsYWIvY29uc3RhbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3VwcG9ydEFydGljbGVNYXJrZG93bigpIHtcbiAgcmV0dXJuIChcbiAgICA8U2FmZU1hcmtkb3duXG4gICAgICBtYXJrZG93bj17d2VibGFiSTE4bi50cm91Ymxlc2hvb3RpbmdTdXBwb3J0KHt1cmw6IFNVUFBPUlRfQVJUSUNMRV9VUkx9KX1cbiAgICAgIG9wZW5FeHRlcm5hbExpbmtzSW5OZXdUYWJcbiAgICAvPlxuICApO1xufVxuIiwiaW1wb3J0IHttYWtlRW51bX0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgU1VQUE9SVF9BUlRJQ0xFX1VSTCA9XG4gICdodHRwczovL3N1cHBvcnQuY29kZS5vcmcvaGMvZW4tdXMvYXJ0aWNsZXMvMzYwMDE2ODA0ODcxJztcblxuZXhwb3J0IGNvbnN0IEZhdGFsRXJyb3JUeXBlID0gbWFrZUVudW0oXG4gICdEZWZhdWx0JyxcbiAgJ0xvYWRGYWlsdXJlJyxcbiAgJ1Jlc2V0RmFpbHVyZSdcbik7XG5cbmV4cG9ydCBjb25zdCBGSUxFX1NZU1RFTV9FUlJPUiA9ICdFRklMRVNZU1RFTUVSUk9SJztcbmV4cG9ydCBjb25zdCBCUkFNQkxFX1JFQURZX1NUQVRFID0gJ2JyYW1ibGU6cmVhZHlUb01vdW50JztcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNvbW1vbkkxOG4gZnJvbSAnQGNkby9sb2NhbGUnO1xuaW1wb3J0IHdlYmxhYkkxOG4gZnJvbSAnQGNkby93ZWJsYWIvbG9jYWxlJztcbmltcG9ydCBTdHlsaXplZEJhc2VEaWFsb2csIHtcbiAgRm9vdGVyQnV0dG9uLFxufSBmcm9tICdAY2RvL2FwcHMvY29tcG9uZW50TGlicmFyeS9TdHlsaXplZEJhc2VEaWFsb2cnO1xuaW1wb3J0IFNhZmVNYXJrZG93biBmcm9tICdAY2RvL2FwcHMvdGVtcGxhdGVzL1NhZmVNYXJrZG93bic7XG5pbXBvcnQgU3VwcG9ydEFydGljbGVNYXJrZG93biBmcm9tICdAY2RvL2FwcHMvd2VibGFiL1N1cHBvcnRBcnRpY2xlTWFya2Rvd24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBEaXNhbGxvd2VkSHRtbFdhcm5pbmdEaWFsb2coe1xuICBpc09wZW4sXG4gIGZpbGVuYW1lLFxuICBkaXNhbGxvd2VkVGFncyxcbiAgaGFuZGxlQ2xvc2UsXG4gIC4uLnByb3BzXG59KSB7XG4gIGNvbnN0IGJvZHkgPSAoXG4gICAgPGRpdj5cbiAgICAgIDxTYWZlTWFya2Rvd25cbiAgICAgICAgbWFya2Rvd249e3dlYmxhYkkxOG4uZGlzYWxsb3dlZEh0bWwoe1xuICAgICAgICAgIGZpbGVuYW1lLFxuICAgICAgICAgIGRpc2FsbG93ZWRUYWdzOiBkaXNhbGxvd2VkVGFncy5qb2luKCcsICcpLFxuICAgICAgICB9KX1cbiAgICAgIC8+XG4gICAgICA8U3VwcG9ydEFydGljbGVNYXJrZG93biAvPlxuICAgIDwvZGl2PlxuICApO1xuXG4gIHJldHVybiAoXG4gICAgPFN0eWxpemVkQmFzZURpYWxvZ1xuICAgICAgey4uLnByb3BzfVxuICAgICAgaXNPcGVuPXtpc09wZW59XG4gICAgICB0aXRsZT17Y29tbW9uSTE4bi53YXJuaW5nKCl9XG4gICAgICBib2R5PXtib2R5fVxuICAgICAgaGFuZGxlQ2xvc2U9e2hhbmRsZUNsb3NlfVxuICAgICAgcmVuZGVyRm9vdGVyPXsoKSA9PiAoXG4gICAgICAgIDxGb290ZXJCdXR0b25cbiAgICAgICAgICB0eXBlPVwiY29uZmlybVwiXG4gICAgICAgICAgdGV4dD17Y29tbW9uSTE4bi5kaWFsb2dPSygpfVxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsb3NlfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAvPlxuICApO1xufVxuXG5EaXNhbGxvd2VkSHRtbFdhcm5pbmdEaWFsb2cucHJvcFR5cGVzID0ge1xuICBpc09wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIGZpbGVuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGRpc2FsbG93ZWRUYWdzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKS5pc1JlcXVpcmVkLFxuICBoYW5kbGVDbG9zZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHthY3Rpb259IGZyb20gJ0BzdG9yeWJvb2svYWRkb24tYWN0aW9ucyc7XG5pbXBvcnQgRGlzYWxsb3dlZEh0bWxXYXJuaW5nRGlhbG9nIGZyb20gJy4vRGlzYWxsb3dlZEh0bWxXYXJuaW5nRGlhbG9nJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjb21wb25lbnQ6IERpc2FsbG93ZWRIdG1sV2FybmluZ0RpYWxvZyxcbn07XG5cbmNvbnN0IERFRkFVTFRfUFJPUFMgPSB7XG4gIGlzT3BlbjogdHJ1ZSxcbiAgZmlsZW5hbWU6ICdpbmRleC5odG1sJyxcbiAgaGFuZGxlQ2xvc2U6IGFjdGlvbignY2xvc2UnKSxcbiAgaGlkZUJhY2tkcm9wOiB0cnVlLFxufTtcblxuY29uc3QgVGVtcGxhdGUgPSBhcmdzID0+IChcbiAgPERpc2FsbG93ZWRIdG1sV2FybmluZ0RpYWxvZyB7Li4uREVGQVVMVF9QUk9QU30gey4uLmFyZ3N9IC8+XG4pO1xuXG5leHBvcnQgY29uc3QgU2luZ2xlRGlzYWxsb3dlZFRhZ3MgPSBUZW1wbGF0ZS5iaW5kKHt9KTtcblNpbmdsZURpc2FsbG93ZWRUYWdzLmFyZ3MgPSB7XG4gIGRpc2FsbG93ZWRUYWdzOiBbJ3NjcmlwdCddLFxufTtcblxuZXhwb3J0IGNvbnN0IE11bHRpcGxlRGlzYWxsb3dlZFRhZ3MgPSBUZW1wbGF0ZS5iaW5kKHt9KTtcbk11bHRpcGxlRGlzYWxsb3dlZFRhZ3MuYXJncyA9IHtcbiAgZGlzYWxsb3dlZFRhZ3M6IFsnc2NyaXB0JywgJ21ldGFbaHR0cC1lcXVpdl0nXSxcbn07XG4iXSwibmFtZXMiOlsiX3JlZGFjdGFibGVNYXJrZG93biIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3JlbWFya1BsdWdpbnMiLCJfZ2l0aHViIiwiX3Byb3BUeXBlcyIsIl9yZWFjdCIsIl9yZWh5cGVSYXciLCJfcmVoeXBlUmVhY3QiLCJfcmVoeXBlU2FuaXRpemUiLCJfcmVtYXJrUmVoeXBlIiwiX2V4dGVybmFsTGlua3MiLCJvYmoiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsIm8iLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX2V4dGVuZHMiLCJPYmplY3QiLCJhc3NpZ24iLCJiaW5kIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImtleSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwiX3NldFByb3RvdHlwZU9mIiwicCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiU2FmZU1hcmtkb3duIiwiX1JlYWN0JENvbXBvbmVudCIsIl9pbmhlcml0c0xvb3NlIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwicmVuZGVyIiwicmVuZGVyZWQiLCJ0aGlzIiwicHJvcHMiLCJvcGVuRXh0ZXJuYWxMaW5rc0luTmV3VGFiIiwibWFya2Rvd25Ub1JlYWN0RXh0ZXJuYWxMaW5rcyIsIm1hcmtkb3duVG9SZWFjdCIsInByb2Nlc3NTeW5jIiwibWFya2Rvd24iLCJjb250ZW50cyIsIm1hcmtkb3duUHJvcHMiLCJjbGFzc05hbWUiLCJ0eXBlIiwia2V5cyIsImNyZWF0ZUVsZW1lbnQiLCJSZWFjdCIsIkNvbXBvbmVudCIsIl9kZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJ0IiwiX3RvUHJpbWl0aXZlIiwiciIsImUiLCJ0b1ByaW1pdGl2ZSIsIlR5cGVFcnJvciIsIlN0cmluZyIsIk51bWJlciIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiUHJvcFR5cGVzIiwic3RyaW5nIiwiaXNSZXF1aXJlZCIsImJvb2wiLCJzY2hlbWEiLCJkZWZhdWx0U2FuaXRpemF0aW9uU2NoZW1hIiwiYXR0cmlidXRlcyIsImltZyIsInB1c2giLCJ0YWdOYW1lcyIsInNwYW4iLCJjbG9iYmVyIiwiYmxvY2tseVRhZ3MiLCJjb25jYXQiLCJibG9ja2x5Q29tcG9uZW50V3JhcHBlcnMiLCJmb3JFYWNoIiwidGFnIiwiQmxvY2tseUVsZW1lbnQiLCJpcyIsIlBhcnNlciIsImdldFBhcnNlciIsInVzZSIsImNsaWNrYWJsZVRleHQiLCJleHBhbmRhYmxlSW1hZ2VzIiwidmlzdWFsQ29kZUJsb2NrIiwieG1sQXNUb3BMZXZlbEJsb2NrIiwiZGV0YWlscyIsInJlbWFya1JlaHlwZSIsImFsbG93RGFuZ2Vyb3VzSFRNTCIsInJlaHlwZVJhdyIsInJlaHlwZVNhbml0aXplIiwicmVoeXBlUmVhY3QiLCJjb21wb25lbnRzIiwiZXh0ZXJuYWxMaW5rcyIsImxpbmtzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlzRXh0ZXJuYWxMaW5rIiwidXJsIiwidGVzdCIsImZ1bGx5UXVhbGlmaWVkIiwicGF0aCIsImEiLCJkb2N1bWVudCIsImhyZWYiLCJvcHRpb25zIiwidW5kZWZpbmVkIiwidG9rZW5pemVycyIsImlubGluZVRva2VuaXplcnMiLCJvcmlnaW5hbCIsImxpbmsiLCJhbGwiLCJlYXQiLCJzaWxlbnQiLCJkYXRhIiwiaFByb3BlcnRpZXMiLCJyZWwiLCJsb2NhdG9yIiwiU3VwcG9ydEFydGljbGVNYXJrZG93biIsIl9TYWZlTWFya2Rvd24iLCJ3ZWJsYWJJMThuIiwidHJvdWJsZXNob290aW5nU3VwcG9ydCIsIlNVUFBPUlRfQVJUSUNMRV9VUkwiLCJfbG9jYWxlIiwiX2NvbnN0YW50cyIsIl91dGlscyIsIm1ha2VFbnVtIiwiX2xvY2FsZTIiLCJfU3R5bGl6ZWRCYXNlRGlhbG9nIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJoYXMiLCJnZXQiLCJuIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInNldCIsIl9TdXBwb3J0QXJ0aWNsZU1hcmtkb3duIiwiX2V4Y2x1ZGVkIiwiV2Vha01hcCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsImV4Y2x1ZGVkIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJzb3VyY2VLZXlzIiwiaW5kZXhPZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsInNvdXJjZVN5bWJvbEtleXMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIkRpc2FsbG93ZWRIdG1sV2FybmluZ0RpYWxvZyIsIl9yZWYiLCJpc09wZW4iLCJmaWxlbmFtZSIsImRpc2FsbG93ZWRUYWdzIiwiaGFuZGxlQ2xvc2UiLCJib2R5IiwiZGlzYWxsb3dlZEh0bWwiLCJqb2luIiwidGl0bGUiLCJjb21tb25JMThuIiwid2FybmluZyIsInJlbmRlckZvb3RlciIsIkZvb3RlckJ1dHRvbiIsInRleHQiLCJkaWFsb2dPSyIsIm9uQ2xpY2siLCJwcm9wVHlwZXMiLCJhcnJheU9mIiwiZnVuYyIsIl9hZGRvbkFjdGlvbnMiLCJfRGlzYWxsb3dlZEh0bWxXYXJuaW5nRGlhbG9nIiwiY29tcG9uZW50IiwiREVGQVVMVF9QUk9QUyIsImFjdGlvbiIsImhpZGVCYWNrZHJvcCIsIlRlbXBsYXRlIiwiYXJncyJdLCJzb3VyY2VSb290IjoiIn0=