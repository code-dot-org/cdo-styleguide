/*! For license information please see 4572.22f869c1.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[4572],{"./node_modules/slate-react/dist/index.es.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.useSlate=exports.useSelected=exports.useReadOnly=exports.useFocused=exports.useEditor=exports.Slate=exports.ReactEditor=exports.Editable=exports.DefaultPlaceholder=exports.DefaultLeaf=exports.DefaultElement=exports.DefaultEditable=exports.AndroidEditable=void 0,exports.useSlateSelector=function useSlateSelector(selector){var equalityFn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:refEquality,forceRender=_slicedToArray((0,_react.useReducer)((function(s){return s+1}),0),2)[1],context=(0,_react.useContext)(SlateSelectorContext);if(!context)throw new Error("The `useSlateSelector` hook must be used inside the <Slate> component's context.");var selectedState,getSlate=context.getSlate,addEventListener=context.addEventListener,latestSubscriptionCallbackError=(0,_react.useRef)(),latestSelector=(0,_react.useRef)((function(){return null})),latestSelectedState=(0,_react.useRef)(null);try{selectedState=selector!==latestSelector.current||latestSubscriptionCallbackError.current?selector(getSlate()):latestSelectedState.current}catch(err){throw latestSubscriptionCallbackError.current&&function isError(error){return error instanceof Error}(err)&&(err.message+="\nThe error may be correlated with this previous error:\n".concat(latestSubscriptionCallbackError.current.stack,"\n\n")),err}return useIsomorphicLayoutEffect((function(){latestSelector.current=selector,latestSelectedState.current=selectedState,latestSubscriptionCallbackError.current=void 0})),useIsomorphicLayoutEffect((function(){function checkForUpdates(){try{var newSelectedState=latestSelector.current(getSlate());if(equalityFn(newSelectedState,latestSelectedState.current))return;latestSelectedState.current=newSelectedState}catch(err){latestSubscriptionCallbackError.current=err}forceRender()}var unsubscribe=addEventListener(checkForUpdates);return checkForUpdates(),function(){return unsubscribe()}}),[addEventListener,getSlate]),selectedState},exports.withReact=exports.useSlateStatic=void 0;var _react=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./node_modules/react/index.js")),_slate=__webpack_require__("./node_modules/slate/dist/index.es.js"),_direction=_interopRequireDefault(__webpack_require__("./node_modules/direction/index.js")),_debounce=_interopRequireDefault(__webpack_require__("./node_modules/lodash/debounce.js")),_throttle=_interopRequireDefault(__webpack_require__("./node_modules/lodash/throttle.js")),_scrollIntoViewIfNeeded=_interopRequireDefault(__webpack_require__("./node_modules/scroll-into-view-if-needed/es/index.js")),_isHotkey=__webpack_require__("./node_modules/is-hotkey/lib/index.js"),_reactDom=_interopRequireDefault(__webpack_require__("./node_modules/react-dom/index.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _defineProperty2(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var IS_REACT_VERSION_17_OR_ABOVE=parseInt(_react.default.version.split(".")[0],10)>=17,IS_IOS="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,IS_APPLE="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),IS_ANDROID="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),IS_FIREFOX="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),IS_SAFARI="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),IS_EDGE_LEGACY="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),IS_CHROME="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),IS_CHROME_LEGACY="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),IS_FIREFOX_LEGACY="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),IS_QQBROWSER="undefined"!=typeof navigator&&/.*QQBrowser/.test(navigator.userAgent),IS_UC_MOBILE="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),IS_WECHATBROWSER="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent),CAN_USE_DOM=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),HAS_BEFORE_INPUT_SUPPORT=!IS_CHROME_LEGACY&&!IS_EDGE_LEGACY&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,useIsomorphicLayoutEffect=CAN_USE_DOM?_react.useLayoutEffect:_react.useEffect,String=function String(props){var isLast=props.isLast,leaf=props.leaf,parent=props.parent,text=props.text,editor=useSlateStatic(),path=ReactEditor.findPath(editor,text),parentPath=_slate.Path.parent(path);return editor.isVoid(parent)?_react.default.createElement(ZeroWidthString,{length:_slate.Node.string(parent).length}):""!==leaf.text||parent.children[parent.children.length-1]!==text||editor.isInline(parent)||""!==_slate.Editor.string(editor,parentPath)?""===leaf.text?_react.default.createElement(ZeroWidthString,null):isLast&&"\n"===leaf.text.slice(-1)?_react.default.createElement(TextString,{isTrailing:!0,text:leaf.text}):_react.default.createElement(TextString,{text:leaf.text}):_react.default.createElement(ZeroWidthString,{isLineBreak:!0})},TextString=function TextString(props){var text=props.text,_props$isTrailing=props.isTrailing,isTrailing=void 0!==_props$isTrailing&&_props$isTrailing,ref=(0,_react.useRef)(null),getTextContent=function getTextContent(){return"".concat(null!=text?text:"").concat(isTrailing?"\n":"")};return useIsomorphicLayoutEffect((function(){var textWithTrailing=getTextContent();ref.current&&ref.current.textContent!==textWithTrailing&&(ref.current.textContent=textWithTrailing)})),ref.current?_react.default.createElement("span",{"data-slate-string":!0,ref}):_react.default.createElement("span",{"data-slate-string":!0,ref},getTextContent())},ZeroWidthString=function ZeroWidthString(props){var _props$length=props.length,length=void 0===_props$length?0:_props$length,_props$isLineBreak=props.isLineBreak,isLineBreak=void 0!==_props$isLineBreak&&_props$isLineBreak;return _react.default.createElement("span",{"data-slate-zero-width":isLineBreak?"n":"z","data-slate-length":length},"\ufeff",isLineBreak?_react.default.createElement("br",null):null)},NODE_TO_INDEX=new WeakMap,NODE_TO_PARENT=new WeakMap,EDITOR_TO_WINDOW=new WeakMap,EDITOR_TO_ELEMENT=new WeakMap,ELEMENT_TO_NODE=new WeakMap,NODE_TO_ELEMENT=new WeakMap,NODE_TO_KEY=new WeakMap,EDITOR_TO_KEY_TO_ELEMENT=new WeakMap,IS_READ_ONLY=new WeakMap,IS_FOCUSED=new WeakMap,IS_COMPOSING=new WeakMap,IS_ON_COMPOSITION_END=new WeakMap,EDITOR_TO_USER_SELECTION=new WeakMap,EDITOR_ON_COMPOSITION_TEXT=new WeakMap,EDITOR_TO_ON_CHANGE=new WeakMap,NODE_TO_RESTORE_DOM=new WeakMap,PLACEHOLDER_SYMBOL=Symbol("placeholder"),Leaf=function Leaf(props){var leaf=props.leaf,isLast=props.isLast,text=props.text,parent=props.parent,renderPlaceholder=props.renderPlaceholder,_props$renderLeaf=props.renderLeaf,renderLeaf=void 0===_props$renderLeaf?function(props){return _react.default.createElement(DefaultLeaf,Object.assign({},props))}:_props$renderLeaf,placeholderRef=(0,_react.useRef)(null);(0,_react.useEffect)((function(){var placeholderEl=null==placeholderRef?void 0:placeholderRef.current,editorEl=document.querySelector('[data-slate-editor="true"]');if(placeholderEl&&editorEl)return editorEl.style.minHeight="".concat(placeholderEl.clientHeight,"px"),function(){editorEl.style.minHeight="auto"}}),[placeholderRef,leaf]);var children=_react.default.createElement(String,{isLast,leaf,parent,text});if(leaf[PLACEHOLDER_SYMBOL]){var placeholderProps={children:leaf.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:placeholderRef}};children=_react.default.createElement(_react.default.Fragment,null,renderPlaceholder(placeholderProps),children)}return renderLeaf({attributes:{"data-slate-leaf":!0},children,leaf,text})},MemoizedLeaf=_react.default.memo(Leaf,(function(prev,next){return next.parent===prev.parent&&next.isLast===prev.isLast&&next.renderLeaf===prev.renderLeaf&&next.renderPlaceholder===prev.renderPlaceholder&&next.text===prev.text&&_slate.Text.equals(next.leaf,prev.leaf)&&next.leaf[PLACEHOLDER_SYMBOL]===prev.leaf[PLACEHOLDER_SYMBOL]})),DefaultLeaf=function DefaultLeaf(props){var attributes=props.attributes,children=props.children;return _react.default.createElement("span",Object.assign({},attributes),children)};exports.DefaultLeaf=DefaultLeaf;var _excluded$3=["anchor","focus"],_excluded2=["anchor","focus"],shallowCompare=function shallowCompare(obj1,obj2){return Object.keys(obj1).length===Object.keys(obj2).length&&Object.keys(obj1).every((function(key){return obj2.hasOwnProperty(key)&&obj1[key]===obj2[key]}))},isDecoratorRangeListEqual=function isDecoratorRangeListEqual(list,another){if(list.length!==another.length)return!1;for(var i=0;i<list.length;i++){var range=list[i],other=another[i],rangeOwnProps=_objectWithoutProperties(range,_excluded$3),otherOwnProps=_objectWithoutProperties(other,_excluded2);if(!_slate.Range.equals(range,other)||range[PLACEHOLDER_SYMBOL]!==other[PLACEHOLDER_SYMBOL]||!shallowCompare(rangeOwnProps,otherOwnProps))return!1}return!0};function useContentKey(node){var contentKeyRef=(0,_react.useRef)(0),updateAnimationFrameRef=(0,_react.useRef)(null),setForceRerenderCounter=_slicedToArray((0,_react.useState)(0),2)[1];return(0,_react.useEffect)((function(){return NODE_TO_RESTORE_DOM.set(node,(function(){updateAnimationFrameRef.current||(updateAnimationFrameRef.current=requestAnimationFrame((function(){setForceRerenderCounter((function(state){return state+1})),updateAnimationFrameRef.current=null})),contentKeyRef.current++)})),function(){NODE_TO_RESTORE_DOM.delete(node)}}),[node]),updateAnimationFrameRef.current&&(cancelAnimationFrame(updateAnimationFrameRef.current),updateAnimationFrameRef.current=null),contentKeyRef.current}var Text=function Text(props){for(var decorations=props.decorations,isLast=props.isLast,parent=props.parent,renderPlaceholder=props.renderPlaceholder,renderLeaf=props.renderLeaf,text=props.text,editor=useSlateStatic(),ref=(0,_react.useRef)(null),leaves=_slate.Text.decorations(text,decorations),key=ReactEditor.findKey(editor,text),children=[],i=0;i<leaves.length;i++){var leaf=leaves[i];children.push(_react.default.createElement(MemoizedLeaf,{isLast:isLast&&i===leaves.length-1,key:"".concat(key.id,"-").concat(i),renderPlaceholder,leaf,text,parent,renderLeaf}))}useIsomorphicLayoutEffect((function(){var KEY_TO_ELEMENT=EDITOR_TO_KEY_TO_ELEMENT.get(editor);ref.current?(null==KEY_TO_ELEMENT||KEY_TO_ELEMENT.set(key,ref.current),NODE_TO_ELEMENT.set(text,ref.current),ELEMENT_TO_NODE.set(ref.current,text)):(null==KEY_TO_ELEMENT||KEY_TO_ELEMENT.delete(key),NODE_TO_ELEMENT.delete(text))}));var contentKey=IS_ANDROID?useContentKey(text):void 0;return _react.default.createElement("span",{"data-slate-node":"text",ref,key:contentKey},children)},MemoizedText=_react.default.memo(Text,(function(prev,next){return next.parent===prev.parent&&next.isLast===prev.isLast&&next.renderLeaf===prev.renderLeaf&&next.text===prev.text&&isDecoratorRangeListEqual(next.decorations,prev.decorations)})),Element=function Element(props){var decorations=props.decorations,element=props.element,_props$renderElement=props.renderElement,renderElement=void 0===_props$renderElement?function(p){return _react.default.createElement(DefaultElement,Object.assign({},p))}:_props$renderElement,renderPlaceholder=props.renderPlaceholder,renderLeaf=props.renderLeaf,selection=props.selection,ref=(0,_react.useRef)(null),editor=useSlateStatic(),readOnly=useReadOnly(),isInline=editor.isInline(element),key=ReactEditor.findKey(editor,element),children=useChildren({decorations,node:element,renderElement,renderPlaceholder,renderLeaf,selection}),attributes={"data-slate-node":"element",ref};if(isInline&&(attributes["data-slate-inline"]=!0),!isInline&&_slate.Editor.hasInlines(editor,element)){var text=_slate.Node.string(element),dir=(0,_direction.default)(text);"rtl"===dir&&(attributes.dir=dir)}if(_slate.Editor.isVoid(editor,element)){attributes["data-slate-void"]=!0,!readOnly&&isInline&&(attributes.contentEditable=!1);var Tag=isInline?"span":"div",_Node$texts2=_slicedToArray(_slate.Node.texts(element),1),_text=_slicedToArray(_Node$texts2[0],1)[0];children=_react.default.createElement(Tag,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},_react.default.createElement(MemoizedText,{renderPlaceholder,decorations:[],isLast:!1,parent:element,text:_text})),NODE_TO_INDEX.set(_text,0),NODE_TO_PARENT.set(_text,element)}useIsomorphicLayoutEffect((function(){var KEY_TO_ELEMENT=EDITOR_TO_KEY_TO_ELEMENT.get(editor);ref.current?(null==KEY_TO_ELEMENT||KEY_TO_ELEMENT.set(key,ref.current),NODE_TO_ELEMENT.set(element,ref.current),ELEMENT_TO_NODE.set(ref.current,element)):(null==KEY_TO_ELEMENT||KEY_TO_ELEMENT.delete(key),NODE_TO_ELEMENT.delete(element))}));var content=renderElement({attributes,children,element});if(IS_ANDROID){var contentKey=useContentKey(element);return _react.default.createElement(_react.Fragment,{key:contentKey},content)}return content},MemoizedElement=_react.default.memo(Element,(function(prev,next){return prev.element===next.element&&prev.renderElement===next.renderElement&&prev.renderLeaf===next.renderLeaf&&isDecoratorRangeListEqual(prev.decorations,next.decorations)&&(prev.selection===next.selection||!!prev.selection&&!!next.selection&&_slate.Range.equals(prev.selection,next.selection))})),DefaultElement=function DefaultElement(props){var attributes=props.attributes,children=props.children,element=props.element,Tag=useSlateStatic().isInline(element)?"span":"div";return _react.default.createElement(Tag,Object.assign({},attributes,{style:{position:"relative"}}),children)};exports.DefaultElement=DefaultElement;var EditorContext=(0,_react.createContext)(null),useSlateStatic=function useSlateStatic(){var editor=(0,_react.useContext)(EditorContext);if(!editor)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return editor};exports.useSlateStatic=useSlateStatic;var DecorateContext=(0,_react.createContext)((function(){return[]})),SelectedContext=(0,_react.createContext)(!1);exports.useSelected=function useSelected(){return(0,_react.useContext)(SelectedContext)};var useChildren=function useChildren(props){for(var decorations=props.decorations,node=props.node,renderElement=props.renderElement,renderPlaceholder=props.renderPlaceholder,renderLeaf=props.renderLeaf,selection=props.selection,decorate=function useDecorate(){return(0,_react.useContext)(DecorateContext)}(),editor=useSlateStatic(),path=ReactEditor.findPath(editor,node),children=[],isLeafBlock=_slate.Element.isElement(node)&&!editor.isInline(node)&&_slate.Editor.hasInlines(editor,node),i=0;i<node.children.length;i++){var _step,p=path.concat(i),n=node.children[i],key=ReactEditor.findKey(editor,n),range=_slate.Editor.range(editor,p),sel=selection&&_slate.Range.intersection(range,selection),ds=decorate([n,p]),_iterator=_createForOfIteratorHelper(decorations);try{for(_iterator.s();!(_step=_iterator.n()).done;){var dec=_step.value,d=_slate.Range.intersection(dec,range);d&&ds.push(d)}}catch(err){_iterator.e(err)}finally{_iterator.f()}_slate.Element.isElement(n)?children.push(_react.default.createElement(SelectedContext.Provider,{key:"provider-".concat(key.id),value:!!sel},_react.default.createElement(MemoizedElement,{decorations:ds,element:n,key:key.id,renderElement,renderPlaceholder,renderLeaf,selection:sel}))):children.push(_react.default.createElement(MemoizedText,{decorations:ds,key:key.id,isLast:isLeafBlock&&i===node.children.length-1,parent:node,renderPlaceholder,renderLeaf,text:n})),NODE_TO_INDEX.set(n,i),NODE_TO_PARENT.set(n,node)}return children},HOTKEYS={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},APPLE_HOTKEYS={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},WINDOWS_HOTKEYS={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},create=function create(key){var generic=HOTKEYS[key],apple=APPLE_HOTKEYS[key],windows=WINDOWS_HOTKEYS[key],isGeneric=generic&&(0,_isHotkey.isKeyHotkey)(generic),isApple=apple&&(0,_isHotkey.isKeyHotkey)(apple),isWindows=windows&&(0,_isHotkey.isKeyHotkey)(windows);return function(event){return!(!isGeneric||!isGeneric(event))||(!!(IS_APPLE&&isApple&&isApple(event))||!(IS_APPLE||!isWindows||!isWindows(event)))}},Hotkeys={isBold:create("bold"),isCompose:create("compose"),isMoveBackward:create("moveBackward"),isMoveForward:create("moveForward"),isDeleteBackward:create("deleteBackward"),isDeleteForward:create("deleteForward"),isDeleteLineBackward:create("deleteLineBackward"),isDeleteLineForward:create("deleteLineForward"),isDeleteWordBackward:create("deleteWordBackward"),isDeleteWordForward:create("deleteWordForward"),isExtendBackward:create("extendBackward"),isExtendForward:create("extendForward"),isExtendLineBackward:create("extendLineBackward"),isExtendLineForward:create("extendLineForward"),isItalic:create("italic"),isMoveLineBackward:create("moveLineBackward"),isMoveLineForward:create("moveLineForward"),isMoveWordBackward:create("moveWordBackward"),isMoveWordForward:create("moveWordForward"),isRedo:create("redo"),isSoftBreak:create("insertSoftBreak"),isSplitBlock:create("splitBlock"),isTransposeCharacter:create("transposeCharacter"),isUndo:create("undo")},ReadOnlyContext=(0,_react.createContext)(!1),useReadOnly=function useReadOnly(){return(0,_react.useContext)(ReadOnlyContext)};exports.useReadOnly=useReadOnly;var SlateContext=(0,_react.createContext)(null),useSlate=function useSlate(){var context=(0,_react.useContext)(SlateContext);if(!context)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");return _slicedToArray(context,1)[0]};exports.useSlate=useSlate;var getDefaultView=function getDefaultView(value){return value&&value.ownerDocument&&value.ownerDocument.defaultView||null},isDOMComment=function isDOMComment(value){return isDOMNode(value)&&8===value.nodeType},isDOMElement=function isDOMElement(value){return isDOMNode(value)&&1===value.nodeType},isDOMNode=function isDOMNode(value){var window=getDefaultView(value);return!!window&&value instanceof window.Node},isDOMSelection=function isDOMSelection(value){var window=value&&value.anchorNode&&getDefaultView(value.anchorNode);return!!window&&value instanceof window.Selection},isDOMText=function isDOMText(value){return isDOMNode(value)&&3===value.nodeType},getEditableChildAndIndex=function getEditableChildAndIndex(parent,index,direction){for(var childNodes=parent.childNodes,child=childNodes[index],i=index,triedForward=!1,triedBackward=!1;(isDOMComment(child)||isDOMElement(child)&&0===child.childNodes.length||isDOMElement(child)&&"false"===child.getAttribute("contenteditable"))&&(!triedForward||!triedBackward);)i>=childNodes.length?(triedForward=!0,i=index-1,direction="backward"):i<0?(triedBackward=!0,i=index+1,direction="forward"):(child=childNodes[i],index=i,i+="forward"===direction?1:-1);return[child,index]},getEditableChild=function getEditableChild(parent,index,direction){return _slicedToArray(getEditableChildAndIndex(parent,index,direction),1)[0]},getPlainText=function getPlainText(domNode){var text="";if(isDOMText(domNode)&&domNode.nodeValue)return domNode.nodeValue;if(isDOMElement(domNode)){for(var _i2=0,_Array$from=Array.from(domNode.childNodes);_i2<_Array$from.length;_i2++){text+=getPlainText(_Array$from[_i2])}var display=getComputedStyle(domNode).getPropertyValue("display");"block"!==display&&"list"!==display&&"BR"!==domNode.tagName||(text+="\n")}return text},catchSlateFragment=/data-slate-fragment="(.+?)"/m,getSlateFragmentAttribute=function getSlateFragmentAttribute(dataTransfer){return _slicedToArray(dataTransfer.getData("text/html").match(catchSlateFragment)||[],2)[1]},_excluded$2=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"];function ownKeys$1(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$1(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$1(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$1(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Children=function Children(props){return _react.default.createElement(_react.default.Fragment,null,useChildren(props))},Editable$1=function Editable$1(props){var autoFocus=props.autoFocus,_props$decorate=props.decorate,decorate=void 0===_props$decorate?defaultDecorate:_props$decorate,propsOnDOMBeforeInput=props.onDOMBeforeInput,placeholder=props.placeholder,_props$readOnly=props.readOnly,readOnly=void 0!==_props$readOnly&&_props$readOnly,renderElement=props.renderElement,renderLeaf=props.renderLeaf,_props$renderPlacehol=props.renderPlaceholder,renderPlaceholder=void 0===_props$renderPlacehol?function(props){return _react.default.createElement(DefaultPlaceholder,Object.assign({},props))}:_props$renderPlacehol,_props$scrollSelectio=props.scrollSelectionIntoView,scrollSelectionIntoView=void 0===_props$scrollSelectio?defaultScrollSelectionIntoView:_props$scrollSelectio,_props$style=props.style,style=void 0===_props$style?{}:_props$style,_props$as=props.as,Component=void 0===_props$as?"div":_props$as,attributes=_objectWithoutProperties(props,_excluded$2),editor=useSlate(),_useState4=_slicedToArray((0,_react.useState)(!1),2),isComposing=_useState4[0],setIsComposing=_useState4[1],ref=(0,_react.useRef)(null),deferredOperations=(0,_react.useRef)([]);IS_READ_ONLY.set(editor,readOnly);var state=(0,_react.useMemo)((function(){return{hasInsertPrefixInCompositon:!1,isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null}}),[]);useIsomorphicLayoutEffect((function(){var window;ref.current&&(window=getDefaultView(ref.current))?(EDITOR_TO_WINDOW.set(editor,window),EDITOR_TO_ELEMENT.set(editor,ref.current),NODE_TO_ELEMENT.set(editor,ref.current),ELEMENT_TO_NODE.set(ref.current,editor)):NODE_TO_ELEMENT.delete(editor);var selection=editor.selection,domSelection=ReactEditor.findDocumentOrShadowRoot(editor).getSelection();if(!ReactEditor.isComposing(editor)&&domSelection&&ReactEditor.isFocused(editor)){var hasDomSelection="None"!==domSelection.type;if(selection||hasDomSelection){var editorElement=EDITOR_TO_ELEMENT.get(editor),hasDomSelectionInEditor=!1;if(editorElement.contains(domSelection.anchorNode)&&editorElement.contains(domSelection.focusNode)&&(hasDomSelectionInEditor=!0),hasDomSelection&&hasDomSelectionInEditor&&selection){var slateRange=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!0,suppressThrow:!0});if(slateRange&&_slate.Range.equals(slateRange,selection))return}if(!selection||ReactEditor.hasRange(editor,selection)){state.isUpdatingSelection=!0;var newDomRange=selection&&ReactEditor.toDOMRange(editor,selection);newDomRange?(_slate.Range.isBackward(selection)?domSelection.setBaseAndExtent(newDomRange.endContainer,newDomRange.endOffset,newDomRange.startContainer,newDomRange.startOffset):domSelection.setBaseAndExtent(newDomRange.startContainer,newDomRange.startOffset,newDomRange.endContainer,newDomRange.endOffset),scrollSelectionIntoView(editor,newDomRange)):domSelection.removeAllRanges(),setTimeout((function(){newDomRange&&IS_FIREFOX&&ReactEditor.toDOMNode(editor,editor).focus();state.isUpdatingSelection=!1}))}else editor.selection=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!1,suppressThrow:!1})}}})),(0,_react.useEffect)((function(){ref.current&&autoFocus&&ref.current.focus()}),[autoFocus]);var onDOMSelectionChange=(0,_react.useCallback)((0,_throttle.default)((function(){if(!ReactEditor.isComposing(editor)&&!state.isUpdatingSelection&&!state.isDraggingInternally){var root=ReactEditor.findDocumentOrShadowRoot(editor),activeElement=root.activeElement,el=ReactEditor.toDOMNode(editor,editor),domSelection=root.getSelection();if(activeElement===el?(state.latestElement=activeElement,IS_FOCUSED.set(editor,!0)):IS_FOCUSED.delete(editor),!domSelection)return _slate.Transforms.deselect(editor);var anchorNode=domSelection.anchorNode,focusNode=domSelection.focusNode,anchorNodeSelectable=hasEditableTarget(editor,anchorNode)||isTargetInsideNonReadonlyVoid(editor,anchorNode),focusNodeSelectable=hasEditableTarget(editor,focusNode)||isTargetInsideNonReadonlyVoid(editor,focusNode);if(anchorNodeSelectable&&focusNodeSelectable){var range=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!1,suppressThrow:!1});_slate.Transforms.select(editor,range)}}}),100),[readOnly]),scheduleOnDOMSelectionChange=(0,_react.useMemo)((function(){return(0,_debounce.default)(onDOMSelectionChange,0)}),[onDOMSelectionChange]),onDOMBeforeInput=(0,_react.useCallback)((function(event){if(!readOnly&&hasEditableTarget(editor,event.target)&&!isDOMEventHandled(event,propsOnDOMBeforeInput)){var _EDITOR_TO_USER_SELEC;scheduleOnDOMSelectionChange.flush(),onDOMSelectionChange.flush();var selection=editor.selection,type=event.inputType,data=event.dataTransfer||event.data||void 0;if("insertCompositionText"===type||"deleteCompositionText"===type)return;var _native=!1;if("insertText"===type&&selection&&_slate.Range.isCollapsed(selection)&&event.data&&1===event.data.length&&/[a-z ]/i.test(event.data)&&0!==selection.anchor.offset){var _node$parentElement;_native=!0,editor.marks&&(_native=!1);var anchor=selection.anchor,_ReactEditor$toDOMPoi2=_slicedToArray(ReactEditor.toDOMPoint(editor,anchor),2),node=_ReactEditor$toDOMPoi2[0],offset=_ReactEditor$toDOMPoi2[1],anchorNode=null===(_node$parentElement=node.parentElement)||void 0===_node$parentElement?void 0:_node$parentElement.closest("a");if(anchorNode&&ReactEditor.hasDOMNode(editor,anchorNode)){var _lastText$textContent,lastText=ReactEditor.getWindow(editor).document.createTreeWalker(anchorNode,NodeFilter.SHOW_TEXT).lastChild();lastText===node&&(null===(_lastText$textContent=lastText.textContent)||void 0===_lastText$textContent?void 0:_lastText$textContent.length)===offset&&(_native=!1)}}if(!type.startsWith("delete")||type.startsWith("deleteBy")){var targetRange=_slicedToArray(event.getTargetRanges(),1)[0];if(targetRange){var range=ReactEditor.toSlateRange(editor,targetRange,{exactMatch:!1,suppressThrow:!1});if(!selection||!_slate.Range.equals(selection,range)){_native=!1;var selectionRef=editor.selection&&_slate.Editor.rangeRef(editor,editor.selection);_slate.Transforms.select(editor,range),selectionRef&&EDITOR_TO_USER_SELECTION.set(editor,selectionRef)}}}if(_native||event.preventDefault(),selection&&_slate.Range.isExpanded(selection)&&type.startsWith("delete")){var direction=type.endsWith("Backward")?"backward":"forward";return void _slate.Editor.deleteFragment(editor,{direction})}switch(type){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":_slate.Editor.deleteFragment(editor);break;case"deleteContent":case"deleteContentForward":_slate.Editor.deleteForward(editor);break;case"deleteContentBackward":_slate.Editor.deleteBackward(editor);break;case"deleteEntireSoftLine":_slate.Editor.deleteBackward(editor,{unit:"line"}),_slate.Editor.deleteForward(editor,{unit:"line"});break;case"deleteHardLineBackward":_slate.Editor.deleteBackward(editor,{unit:"block"});break;case"deleteSoftLineBackward":_slate.Editor.deleteBackward(editor,{unit:"line"});break;case"deleteHardLineForward":_slate.Editor.deleteForward(editor,{unit:"block"});break;case"deleteSoftLineForward":_slate.Editor.deleteForward(editor,{unit:"line"});break;case"deleteWordBackward":_slate.Editor.deleteBackward(editor,{unit:"word"});break;case"deleteWordForward":_slate.Editor.deleteForward(editor,{unit:"word"});break;case"insertLineBreak":_slate.Editor.insertSoftBreak(editor);break;case"insertParagraph":_slate.Editor.insertBreak(editor);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":var _selection=editor.selection;_selection&&_slate.Range.isExpanded(_selection)&&_slate.Editor.deleteFragment(editor),"insertFromComposition"===type&&ReactEditor.isComposing(editor)&&(setIsComposing(!1),IS_COMPOSING.set(editor,!1)),"DataTransfer"===(null==data?void 0:data.constructor.name)?ReactEditor.insertData(editor,data):"string"==typeof data&&(_native?deferredOperations.current.push((function(){return _slate.Editor.insertText(editor,data)})):_slate.Editor.insertText(editor,data))}var toRestore=null===(_EDITOR_TO_USER_SELEC=EDITOR_TO_USER_SELECTION.get(editor))||void 0===_EDITOR_TO_USER_SELEC?void 0:_EDITOR_TO_USER_SELEC.unref();EDITOR_TO_USER_SELECTION.delete(editor),!toRestore||editor.selection&&_slate.Range.equals(editor.selection,toRestore)||_slate.Transforms.select(editor,toRestore)}}),[readOnly,propsOnDOMBeforeInput]);useIsomorphicLayoutEffect((function(){return ref.current&&HAS_BEFORE_INPUT_SUPPORT&&ref.current.addEventListener("beforeinput",onDOMBeforeInput),function(){ref.current&&HAS_BEFORE_INPUT_SUPPORT&&ref.current.removeEventListener("beforeinput",onDOMBeforeInput)}}),[onDOMBeforeInput]),useIsomorphicLayoutEffect((function(){var window=ReactEditor.getWindow(editor);return window.document.addEventListener("selectionchange",scheduleOnDOMSelectionChange),function(){window.document.removeEventListener("selectionchange",scheduleOnDOMSelectionChange)}}),[scheduleOnDOMSelectionChange]);var decorations=decorate([editor,[]]);if(placeholder&&1===editor.children.length&&1===Array.from(_slate.Node.texts(editor)).length&&""===_slate.Node.string(editor)&&!isComposing){var _decorations$push,start=_slate.Editor.start(editor,[]);decorations.push((_defineProperty2(_decorations$push={},PLACEHOLDER_SYMBOL,!0),_defineProperty2(_decorations$push,"placeholder",placeholder),_defineProperty2(_decorations$push,"anchor",start),_defineProperty2(_decorations$push,"focus",start),_decorations$push))}return _react.default.createElement(ReadOnlyContext.Provider,{value:readOnly},_react.default.createElement(DecorateContext.Provider,{value:decorate},_react.default.createElement(Component,Object.assign({role:readOnly?void 0:"textbox"},attributes,{spellCheck:!(!HAS_BEFORE_INPUT_SUPPORT&&CAN_USE_DOM)&&attributes.spellCheck,autoCorrect:HAS_BEFORE_INPUT_SUPPORT||!CAN_USE_DOM?attributes.autoCorrect:"false",autoCapitalize:HAS_BEFORE_INPUT_SUPPORT||!CAN_USE_DOM?attributes.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!readOnly,zindex:-1,suppressContentEditableWarning:!0,ref,style:_objectSpread$1({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},style),onBeforeInput:(0,_react.useCallback)((function(event){if(!HAS_BEFORE_INPUT_SUPPORT&&!readOnly&&!isEventHandled(event,attributes.onBeforeInput)&&hasEditableTarget(editor,event.target)&&(event.preventDefault(),!ReactEditor.isComposing(editor))){var text=event.data;_slate.Editor.insertText(editor,text)}}),[readOnly]),onInput:(0,_react.useCallback)((function(event){var _step2,_iterator2=_createForOfIteratorHelper(deferredOperations.current);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){(0,_step2.value)()}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}deferredOperations.current=[]}),[]),onBlur:(0,_react.useCallback)((function(event){if(!readOnly&&!state.isUpdatingSelection&&hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onBlur)){var root=ReactEditor.findDocumentOrShadowRoot(editor);if(state.latestElement!==root.activeElement){var relatedTarget=event.relatedTarget;if(!(relatedTarget===ReactEditor.toDOMNode(editor,editor)||isDOMElement(relatedTarget)&&relatedTarget.hasAttribute("data-slate-spacer"))){if(null!=relatedTarget&&isDOMNode(relatedTarget)&&ReactEditor.hasDOMNode(editor,relatedTarget)){var node=ReactEditor.toSlateNode(editor,relatedTarget);if(_slate.Element.isElement(node)&&!editor.isVoid(node))return}if(IS_SAFARI){var domSelection=root.getSelection();null==domSelection||domSelection.removeAllRanges()}IS_FOCUSED.delete(editor)}}}}),[readOnly,attributes.onBlur]),onClick:(0,_react.useCallback)((function(event){if(hasTarget(editor,event.target)&&!isEventHandled(event,attributes.onClick)&&isDOMNode(event.target)){var node=ReactEditor.toSlateNode(editor,event.target),path=ReactEditor.findPath(editor,node);if(!_slate.Editor.hasPath(editor,path)||_slate.Node.get(editor,path)!==node)return;if(3===event.detail&&path.length>=1){var blockPath=path;if(!_slate.Editor.isBlock(editor,node)){var _block$,block=_slate.Editor.above(editor,{match:function match(n){return _slate.Editor.isBlock(editor,n)},at:path});blockPath=null!==(_block$=null==block?void 0:block[1])&&void 0!==_block$?_block$:path.slice(0,1)}var range=_slate.Editor.range(editor,blockPath);return void _slate.Transforms.select(editor,range)}if(readOnly)return;var _start=_slate.Editor.start(editor,path),end=_slate.Editor.end(editor,path),startVoid=_slate.Editor.void(editor,{at:_start}),endVoid=_slate.Editor.void(editor,{at:end});if(startVoid&&endVoid&&_slate.Path.equals(startVoid[1],endVoid[1])){var _range=_slate.Editor.range(editor,_start);_slate.Transforms.select(editor,_range)}}}),[readOnly,attributes.onClick]),onCompositionEnd:(0,_react.useCallback)((function(event){if(hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onCompositionEnd)&&(ReactEditor.isComposing(editor)&&(setIsComposing(!1),IS_COMPOSING.set(editor,!1)),IS_SAFARI||IS_FIREFOX_LEGACY||IS_IOS||IS_QQBROWSER||IS_WECHATBROWSER||IS_UC_MOBILE||!event.data||_slate.Editor.insertText(editor,event.data),editor.selection&&_slate.Range.isCollapsed(editor.selection))){var leafPath=editor.selection.anchor.path,currentTextNode=_slate.Node.leaf(editor,leafPath);state.hasInsertPrefixInCompositon&&(state.hasInsertPrefixInCompositon=!1,_slate.Editor.withoutNormalizing(editor,(function(){var text=currentTextNode.text.replace(/^\uFEFF/,"");_slate.Transforms.delete(editor,{distance:currentTextNode.text.length,reverse:!0}),_slate.Editor.insertText(editor,text)})))}}),[attributes.onCompositionEnd]),onCompositionUpdate:(0,_react.useCallback)((function(event){hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onCompositionUpdate)&&(ReactEditor.isComposing(editor)||(setIsComposing(!0),IS_COMPOSING.set(editor,!0)))}),[attributes.onCompositionUpdate]),onCompositionStart:(0,_react.useCallback)((function(event){if(hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onCompositionStart)){var selection=editor.selection,marks=editor.marks;if(selection){if(_slate.Range.isExpanded(selection))return void _slate.Editor.deleteFragment(editor);var inline=_slate.Editor.above(editor,{match:function match(n){return _slate.Editor.isInline(editor,n)},mode:"highest"});if(inline){var inlinePath=_slicedToArray(inline,2)[1];if(_slate.Editor.isEnd(editor,selection.anchor,inlinePath)){var point=_slate.Editor.after(editor,inlinePath);_slate.Transforms.setSelection(editor,{anchor:point,focus:point})}}marks&&(state.hasInsertPrefixInCompositon=!0,_slate.Transforms.insertNodes(editor,_objectSpread$1({text:"\ufeff"},marks),{select:!0}))}}}),[attributes.onCompositionStart]),onCopy:(0,_react.useCallback)((function(event){hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onCopy)&&(event.preventDefault(),ReactEditor.setFragmentData(editor,event.clipboardData,"copy"))}),[attributes.onCopy]),onCut:(0,_react.useCallback)((function(event){if(!readOnly&&hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onCut)){event.preventDefault(),ReactEditor.setFragmentData(editor,event.clipboardData,"cut");var selection=editor.selection;if(selection)if(_slate.Range.isExpanded(selection))_slate.Editor.deleteFragment(editor);else{var node=_slate.Node.parent(editor,selection.anchor.path);_slate.Editor.isVoid(editor,node)&&_slate.Transforms.delete(editor)}}}),[readOnly,attributes.onCut]),onDragOver:(0,_react.useCallback)((function(event){if(hasTarget(editor,event.target)&&!isEventHandled(event,attributes.onDragOver)){var node=ReactEditor.toSlateNode(editor,event.target);_slate.Editor.isVoid(editor,node)&&event.preventDefault()}}),[attributes.onDragOver]),onDragStart:(0,_react.useCallback)((function(event){if(!readOnly&&hasTarget(editor,event.target)&&!isEventHandled(event,attributes.onDragStart)){var node=ReactEditor.toSlateNode(editor,event.target),path=ReactEditor.findPath(editor,node);if(_slate.Editor.isVoid(editor,node)||_slate.Editor.void(editor,{at:path,voids:!0})){var range=_slate.Editor.range(editor,path);_slate.Transforms.select(editor,range)}state.isDraggingInternally=!0,ReactEditor.setFragmentData(editor,event.dataTransfer,"drag")}}),[readOnly,attributes.onDragStart]),onDrop:(0,_react.useCallback)((function(event){if(!readOnly&&hasTarget(editor,event.target)&&!isEventHandled(event,attributes.onDrop)){event.preventDefault();var draggedRange=editor.selection,range=ReactEditor.findEventRange(editor,event),data=event.dataTransfer;_slate.Transforms.select(editor,range),state.isDraggingInternally&&(!draggedRange||_slate.Range.equals(draggedRange,range)||_slate.Editor.void(editor,{at:range,voids:!0})||_slate.Transforms.delete(editor,{at:draggedRange})),ReactEditor.insertData(editor,data),ReactEditor.isFocused(editor)||ReactEditor.focus(editor)}state.isDraggingInternally=!1}),[readOnly,attributes.onDrop]),onDragEnd:(0,_react.useCallback)((function(event){!readOnly&&state.isDraggingInternally&&attributes.onDragEnd&&hasTarget(editor,event.target)&&attributes.onDragEnd(event),state.isDraggingInternally=!1}),[readOnly,attributes.onDragEnd]),onFocus:(0,_react.useCallback)((function(event){if(!readOnly&&!state.isUpdatingSelection&&hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onFocus)){var el=ReactEditor.toDOMNode(editor,editor),root=ReactEditor.findDocumentOrShadowRoot(editor);if(state.latestElement=root.activeElement,IS_FIREFOX&&event.target!==el)return void el.focus();IS_FOCUSED.set(editor,!0)}}),[readOnly,attributes.onFocus]),onKeyDown:(0,_react.useCallback)((function(event){if(!readOnly&&hasEditableTarget(editor,event.target)){var nativeEvent=event.nativeEvent;if(ReactEditor.isComposing(editor)&&!1===nativeEvent.isComposing&&(IS_COMPOSING.set(editor,!1),setIsComposing(!1)),isEventHandled(event,attributes.onKeyDown)||ReactEditor.isComposing(editor))return;var selection=editor.selection,element=editor.children[null!==selection?selection.focus.path[0]:0],isRTL="rtl"===(0,_direction.default)(_slate.Node.string(element));if(Hotkeys.isRedo(nativeEvent)){event.preventDefault();var maybeHistoryEditor=editor;return void("function"==typeof maybeHistoryEditor.redo&&maybeHistoryEditor.redo())}if(Hotkeys.isUndo(nativeEvent)){event.preventDefault();var _maybeHistoryEditor=editor;return void("function"==typeof _maybeHistoryEditor.undo&&_maybeHistoryEditor.undo())}if(Hotkeys.isMoveLineBackward(nativeEvent))return event.preventDefault(),void _slate.Transforms.move(editor,{unit:"line",reverse:!0});if(Hotkeys.isMoveLineForward(nativeEvent))return event.preventDefault(),void _slate.Transforms.move(editor,{unit:"line"});if(Hotkeys.isExtendLineBackward(nativeEvent))return event.preventDefault(),void _slate.Transforms.move(editor,{unit:"line",edge:"focus",reverse:!0});if(Hotkeys.isExtendLineForward(nativeEvent))return event.preventDefault(),void _slate.Transforms.move(editor,{unit:"line",edge:"focus"});if(Hotkeys.isMoveBackward(nativeEvent))return event.preventDefault(),void(selection&&_slate.Range.isCollapsed(selection)?_slate.Transforms.move(editor,{reverse:!isRTL}):_slate.Transforms.collapse(editor,{edge:"start"}));if(Hotkeys.isMoveForward(nativeEvent))return event.preventDefault(),void(selection&&_slate.Range.isCollapsed(selection)?_slate.Transforms.move(editor,{reverse:isRTL}):_slate.Transforms.collapse(editor,{edge:"end"}));if(Hotkeys.isMoveWordBackward(nativeEvent))return event.preventDefault(),selection&&_slate.Range.isExpanded(selection)&&_slate.Transforms.collapse(editor,{edge:"focus"}),void _slate.Transforms.move(editor,{unit:"word",reverse:!isRTL});if(Hotkeys.isMoveWordForward(nativeEvent))return event.preventDefault(),selection&&_slate.Range.isExpanded(selection)&&_slate.Transforms.collapse(editor,{edge:"focus"}),void _slate.Transforms.move(editor,{unit:"word",reverse:isRTL});if(HAS_BEFORE_INPUT_SUPPORT){if((IS_CHROME||IS_SAFARI)&&selection&&(Hotkeys.isDeleteBackward(nativeEvent)||Hotkeys.isDeleteForward(nativeEvent))&&_slate.Range.isCollapsed(selection)){var currentNode=_slate.Node.parent(editor,selection.anchor.path);if(_slate.Element.isElement(currentNode)&&_slate.Editor.isVoid(editor,currentNode)&&_slate.Editor.isInline(editor,currentNode))return event.preventDefault(),void _slate.Editor.deleteBackward(editor,{unit:"block"})}}else{if(Hotkeys.isBold(nativeEvent)||Hotkeys.isItalic(nativeEvent)||Hotkeys.isTransposeCharacter(nativeEvent))return void event.preventDefault();if(Hotkeys.isSoftBreak(nativeEvent))return event.preventDefault(),void _slate.Editor.insertSoftBreak(editor);if(Hotkeys.isSplitBlock(nativeEvent))return event.preventDefault(),void _slate.Editor.insertBreak(editor);if(Hotkeys.isDeleteBackward(nativeEvent))return event.preventDefault(),void(selection&&_slate.Range.isExpanded(selection)?_slate.Editor.deleteFragment(editor,{direction:"backward"}):_slate.Editor.deleteBackward(editor));if(Hotkeys.isDeleteForward(nativeEvent))return event.preventDefault(),void(selection&&_slate.Range.isExpanded(selection)?_slate.Editor.deleteFragment(editor,{direction:"forward"}):_slate.Editor.deleteForward(editor));if(Hotkeys.isDeleteLineBackward(nativeEvent))return event.preventDefault(),void(selection&&_slate.Range.isExpanded(selection)?_slate.Editor.deleteFragment(editor,{direction:"backward"}):_slate.Editor.deleteBackward(editor,{unit:"line"}));if(Hotkeys.isDeleteLineForward(nativeEvent))return event.preventDefault(),void(selection&&_slate.Range.isExpanded(selection)?_slate.Editor.deleteFragment(editor,{direction:"forward"}):_slate.Editor.deleteForward(editor,{unit:"line"}));if(Hotkeys.isDeleteWordBackward(nativeEvent))return event.preventDefault(),void(selection&&_slate.Range.isExpanded(selection)?_slate.Editor.deleteFragment(editor,{direction:"backward"}):_slate.Editor.deleteBackward(editor,{unit:"word"}));if(Hotkeys.isDeleteWordForward(nativeEvent))return event.preventDefault(),void(selection&&_slate.Range.isExpanded(selection)?_slate.Editor.deleteFragment(editor,{direction:"forward"}):_slate.Editor.deleteForward(editor,{unit:"word"}))}}}),[readOnly,attributes.onKeyDown]),onPaste:(0,_react.useCallback)((function(event){readOnly||!hasEditableTarget(editor,event.target)||isEventHandled(event,attributes.onPaste)||HAS_BEFORE_INPUT_SUPPORT&&!function isPlainTextOnlyPaste(event){return event.clipboardData&&""!==event.clipboardData.getData("text/plain")&&1===event.clipboardData.types.length}(event.nativeEvent)||(event.preventDefault(),ReactEditor.insertData(editor,event.clipboardData))}),[readOnly,attributes.onPaste])}),_react.default.createElement(Children,{decorations,node:editor,renderElement,renderPlaceholder,renderLeaf,selection:editor.selection}))))};exports.DefaultEditable=Editable$1;var DefaultPlaceholder=function DefaultPlaceholder(_ref){var attributes=_ref.attributes,children=_ref.children;return _react.default.createElement("span",Object.assign({},attributes),children)};exports.DefaultPlaceholder=DefaultPlaceholder;var defaultDecorate=function defaultDecorate(){return[]},defaultScrollSelectionIntoView=function defaultScrollSelectionIntoView(editor,domRange){if(!editor.selection||editor.selection&&_slate.Range.isCollapsed(editor.selection)){var leafEl=domRange.startContainer.parentElement;leafEl.getBoundingClientRect=domRange.getBoundingClientRect.bind(domRange),(0,_scrollIntoViewIfNeeded.default)(leafEl,{scrollMode:"if-needed"}),delete leafEl.getBoundingClientRect}},hasTarget=function hasTarget(editor,target){return isDOMNode(target)&&ReactEditor.hasDOMNode(editor,target)},hasEditableTarget=function hasEditableTarget(editor,target){return isDOMNode(target)&&ReactEditor.hasDOMNode(editor,target,{editable:!0})},isTargetInsideNonReadonlyVoid=function isTargetInsideNonReadonlyVoid(editor,target){if(IS_READ_ONLY.get(editor))return!1;var slateNode=hasTarget(editor,target)&&ReactEditor.toSlateNode(editor,target);return _slate.Editor.isVoid(editor,slateNode)},isEventHandled=function isEventHandled(event,handler){if(!handler)return!1;var shouldTreatEventAsHandled=handler(event);return null!=shouldTreatEventAsHandled?shouldTreatEventAsHandled:event.isDefaultPrevented()||event.isPropagationStopped()},isDOMEventHandled=function isDOMEventHandled(event,handler){if(!handler)return!1;var shouldTreatEventAsHandled=handler(event);return null!=shouldTreatEventAsHandled?shouldTreatEventAsHandled:event.defaultPrevented};function getDiffOffsets(prev,next){if(prev===next)return null;var start=function getDiffStart(prev,next){for(var length=Math.min(prev.length,next.length),i=0;i<length;i++)if(prev.charAt(i)!==next.charAt(i))return i;return prev.length!==next.length?length:null}(prev,next);if(null===start)return null;var end=function getDiffEnd(prev,next,max){for(var prevLength=prev.length,nextLength=next.length,length=Math.min(prevLength,nextLength,max),i=0;i<length;i++)if(prev.charAt(prevLength-i-1)!==next.charAt(nextLength-i-1))return i;return prev.length!==next.length?length:null}(prev,next,Math.min(prev.length-start,next.length-start));return null===end?null:{start,end}}function sliceText(text,offsets){return text.slice(offsets.start,text.length-offsets.end)}function getTextInsertion(editor,domNode){var node=ReactEditor.toSlateNode(editor,domNode);if(_slate.Text.isText(node)){var prevText=node.text,nextText=domNode.textContent;if(nextText.endsWith("\n")&&(nextText=nextText.slice(0,nextText.length-1)),nextText!==prevText){var textDiff=function diffText(prev,next){if(void 0===prev||void 0===next)return null;var offsets=getDiffOffsets(prev,next);if(null==offsets)return null;var insertText=sliceText(next,offsets),removeText=sliceText(prev,offsets);return{start:offsets.start,end:prev.length-offsets.end,insertText,removeText}}(prevText,nextText);if(null!==textDiff)return{text:textDiff,path:ReactEditor.findPath(editor,node)}}}}function normalizeTextInsertionRange(editor,range,_ref2){var path=_ref2.path,text=_ref2.text,insertionRange={anchor:{path,offset:text.start},focus:{path,offset:text.end}};if(!range||!_slate.Range.isCollapsed(range))return insertionRange;var insertText=text.insertText,removeText=text.removeText;if((1===insertText.length||1===removeText.length)&&_slate.Path.equals(range.anchor.path,path)){var _text=_slicedToArray(Array.from(_slate.Editor.nodes(editor,{at:range,match:_slate.Text.isText})),1)[0];if(_text){var node=_slicedToArray(_text,1)[0],anchor=range.anchor,characterBeforeAnchor=node.text[anchor.offset-1],characterAfterAnchor=node.text[anchor.offset];if(1===insertText.length&&insertText===characterAfterAnchor)return range;if(1===removeText.length&&removeText===characterBeforeAnchor)return{anchor:{path,offset:anchor.offset-1},focus:{path,offset:anchor.offset}}}}return insertionRange}var n=0,Key=function Key(){this.id="".concat(n++)},ReactEditor={isComposing:function isComposing(editor){return!!IS_COMPOSING.get(editor)},getWindow:function getWindow(editor){var window=EDITOR_TO_WINDOW.get(editor);if(!window)throw new Error("Unable to find a host window element for this editor");return window},findKey:function findKey(editor,node){var key=NODE_TO_KEY.get(node);return key||(key=new Key,NODE_TO_KEY.set(node,key)),key},findPath:function findPath(editor,node){for(var path=[],child=node;;){var parent=NODE_TO_PARENT.get(child);if(null==parent){if(_slate.Editor.isEditor(child))return path;break}var i=NODE_TO_INDEX.get(child);if(null==i)break;path.unshift(i),child=parent}throw new Error("Unable to find the path for Slate node: ".concat(_slate.Scrubber.stringify(node)))},findDocumentOrShadowRoot:function findDocumentOrShadowRoot(editor){var el=ReactEditor.toDOMNode(editor,editor),root=el.getRootNode();return(root instanceof Document||root instanceof ShadowRoot)&&null!=root.getSelection?root:el.ownerDocument},isFocused:function isFocused(editor){return!!IS_FOCUSED.get(editor)},isReadOnly:function isReadOnly(editor){return!!IS_READ_ONLY.get(editor)},blur:function blur(editor){var el=ReactEditor.toDOMNode(editor,editor),root=ReactEditor.findDocumentOrShadowRoot(editor);IS_FOCUSED.set(editor,!1),root.activeElement===el&&el.blur()},focus:function focus(editor){var el=ReactEditor.toDOMNode(editor,editor),root=ReactEditor.findDocumentOrShadowRoot(editor);IS_FOCUSED.set(editor,!0),root.activeElement!==el&&el.focus({preventScroll:!0})},deselect:function deselect(editor){ReactEditor.toDOMNode(editor,editor);var selection=editor.selection,domSelection=ReactEditor.findDocumentOrShadowRoot(editor).getSelection();domSelection&&domSelection.rangeCount>0&&domSelection.removeAllRanges(),selection&&_slate.Transforms.deselect(editor)},hasDOMNode:function hasDOMNode(editor,target){var targetEl,_options$editable=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).editable,editable=void 0!==_options$editable&&_options$editable,editorEl=ReactEditor.toDOMNode(editor,editor);try{targetEl=isDOMElement(target)?target:target.parentElement}catch(err){if(!err.message.includes('Permission denied to access property "nodeType"'))throw err}return!!targetEl&&!(targetEl.closest("[data-slate-editor]")!==editorEl||editable&&!targetEl.isContentEditable&&("boolean"!=typeof targetEl.isContentEditable||targetEl.closest('[contenteditable="false"]')!==editorEl)&&!targetEl.getAttribute("data-slate-zero-width"))},insertData:function insertData(editor,data){editor.insertData(data)},insertFragmentData:function insertFragmentData(editor,data){return editor.insertFragmentData(data)},insertTextData:function insertTextData(editor,data){return editor.insertTextData(data)},setFragmentData:function setFragmentData(editor,data,originEvent){editor.setFragmentData(data,originEvent)},toDOMNode:function toDOMNode(editor,node){var KEY_TO_ELEMENT=EDITOR_TO_KEY_TO_ELEMENT.get(editor),domNode=_slate.Editor.isEditor(node)?EDITOR_TO_ELEMENT.get(editor):null==KEY_TO_ELEMENT?void 0:KEY_TO_ELEMENT.get(ReactEditor.findKey(editor,node));if(!domNode)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(_slate.Scrubber.stringify(node)));return domNode},toDOMPoint:function toDOMPoint(editor,point){var domPoint,node=_slicedToArray(_slate.Editor.node(editor,point.path),1)[0],el=ReactEditor.toDOMNode(editor,node);_slate.Editor.void(editor,{at:point})&&(point={path:point.path,offset:0});for(var start=0,_i3=0,_texts=Array.from(el.querySelectorAll("[data-slate-string], [data-slate-zero-width]"));_i3<_texts.length;_i3++){var text=_texts[_i3],domNode=text.childNodes[0];if(null!=domNode&&null!=domNode.textContent){var length=domNode.textContent.length,attr=text.getAttribute("data-slate-length"),end=start+(null==attr?length:parseInt(attr,10));if(point.offset<=end){domPoint=[domNode,Math.min(length,Math.max(0,point.offset-start))];break}start=end}}if(!domPoint)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(_slate.Scrubber.stringify(point)));return domPoint},toDOMRange:function toDOMRange(editor,range){var anchor=range.anchor,focus=range.focus,isBackward=_slate.Range.isBackward(range),domAnchor=ReactEditor.toDOMPoint(editor,anchor),domFocus=_slate.Range.isCollapsed(range)?domAnchor:ReactEditor.toDOMPoint(editor,focus),domRange=ReactEditor.getWindow(editor).document.createRange(),_ref11=_slicedToArray(isBackward?domFocus:domAnchor,2),startNode=_ref11[0],startOffset=_ref11[1],_ref13=_slicedToArray(isBackward?domAnchor:domFocus,2),endNode=_ref13[0],endOffset=_ref13[1],isStartAtZeroWidth=!!(isDOMElement(startNode)?startNode:startNode.parentElement).getAttribute("data-slate-zero-width"),isEndAtZeroWidth=!!(isDOMElement(endNode)?endNode:endNode.parentElement).getAttribute("data-slate-zero-width");return domRange.setStart(startNode,isStartAtZeroWidth?1:startOffset),domRange.setEnd(endNode,isEndAtZeroWidth?1:endOffset),domRange},toSlateNode:function toSlateNode(editor,domNode){var domEl=isDOMElement(domNode)?domNode:domNode.parentElement;domEl&&!domEl.hasAttribute("data-slate-node")&&(domEl=domEl.closest("[data-slate-node]"));var node=domEl?ELEMENT_TO_NODE.get(domEl):null;if(!node)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(domEl));return node},findEventRange:function findEventRange(editor,event){"nativeEvent"in event&&(event=event.nativeEvent);var _event=event,x=_event.clientX,y=_event.clientY,target=_event.target;if(null==x||null==y)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(event));var domRange,node=ReactEditor.toSlateNode(editor,event.target),path=ReactEditor.findPath(editor,node);if(_slate.Editor.isVoid(editor,node)){var rect=target.getBoundingClientRect(),isPrev=editor.isInline(node)?x-rect.left<rect.left+rect.width-x:y-rect.top<rect.top+rect.height-y,edge=_slate.Editor.point(editor,path,{edge:isPrev?"start":"end"}),point=isPrev?_slate.Editor.before(editor,edge):_slate.Editor.after(editor,edge);if(point)return _slate.Editor.range(editor,point)}var document=ReactEditor.getWindow(editor).document;if(document.caretRangeFromPoint)domRange=document.caretRangeFromPoint(x,y);else{var position=document.caretPositionFromPoint(x,y);position&&((domRange=document.createRange()).setStart(position.offsetNode,position.offset),domRange.setEnd(position.offsetNode,position.offset))}if(!domRange)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(event));return ReactEditor.toSlateRange(editor,domRange,{exactMatch:!1,suppressThrow:!1})},toSlatePoint:function toSlatePoint(editor,domPoint,options){var exactMatch=options.exactMatch,suppressThrow=options.suppressThrow,_ref14=exactMatch?domPoint:function normalizeDOMPoint(domPoint){var _domPoint=_slicedToArray(domPoint,2),node=_domPoint[0],offset=_domPoint[1];if(isDOMElement(node)&&node.childNodes.length){var isLast=offset===node.childNodes.length,index=isLast?offset-1:offset,_getEditableChildAndI2=_slicedToArray(getEditableChildAndIndex(node,index,isLast?"backward":"forward"),2);for(node=_getEditableChildAndI2[0],isLast=(index=_getEditableChildAndI2[1])<offset;isDOMElement(node)&&node.childNodes.length;){var i=isLast?node.childNodes.length-1:0;node=getEditableChild(node,i,isLast?"backward":"forward")}offset=isLast&&null!=node.textContent?node.textContent.length:0}return[node,offset]}(domPoint),_ref15=_slicedToArray(_ref14,2),nearestNode=_ref15[0],nearestOffset=_ref15[1],parentNode=nearestNode.parentNode,textNode=null,offset=0;if(parentNode){var _domNode$textContent,editorEl=ReactEditor.toDOMNode(editor,editor),potentialVoidNode=parentNode.closest('[data-slate-void="true"]'),voidNode=potentialVoidNode&&editorEl.contains(potentialVoidNode)?potentialVoidNode:null,leafNode=parentNode.closest("[data-slate-leaf]"),domNode=null;if(leafNode){if(textNode=leafNode.closest('[data-slate-node="text"]')){var range=ReactEditor.getWindow(editor).document.createRange();range.setStart(textNode,0),range.setEnd(nearestNode,nearestOffset);var contents=range.cloneContents();[].concat(_toConsumableArray(Array.prototype.slice.call(contents.querySelectorAll("[data-slate-zero-width]"))),_toConsumableArray(Array.prototype.slice.call(contents.querySelectorAll("[contenteditable=false]")))).forEach((function(el){el.parentNode.removeChild(el)})),offset=contents.textContent.length,domNode=textNode}}else voidNode&&((leafNode=voidNode.querySelector("[data-slate-leaf]"))?(textNode=leafNode.closest('[data-slate-node="text"]'),offset=(domNode=leafNode).textContent.length,domNode.querySelectorAll("[data-slate-zero-width]").forEach((function(el){offset-=el.textContent.length}))):offset=1);domNode&&offset===domNode.textContent.length&&(parentNode.hasAttribute("data-slate-zero-width")||IS_FIREFOX&&null!==(_domNode$textContent=domNode.textContent)&&void 0!==_domNode$textContent&&_domNode$textContent.endsWith("\n\n"))&&offset--}if(!textNode){if(suppressThrow)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(domPoint))}var slateNode=ReactEditor.toSlateNode(editor,textNode);return{path:ReactEditor.findPath(editor,slateNode),offset}},toSlateRange:function toSlateRange(editor,domRange,options){var anchorNode,anchorOffset,focusNode,focusOffset,isCollapsed,exactMatch=options.exactMatch,suppressThrow=options.suppressThrow;if((isDOMSelection(domRange)?domRange.anchorNode:domRange.startContainer)&&(isDOMSelection(domRange)?(anchorNode=domRange.anchorNode,anchorOffset=domRange.anchorOffset,focusNode=domRange.focusNode,focusOffset=domRange.focusOffset,isCollapsed=IS_CHROME&&function hasShadowRoot(){return!(!window.document.activeElement||!window.document.activeElement.shadowRoot)}()?domRange.anchorNode===domRange.focusNode&&domRange.anchorOffset===domRange.focusOffset:domRange.isCollapsed):(anchorNode=domRange.startContainer,anchorOffset=domRange.startOffset,focusNode=domRange.endContainer,focusOffset=domRange.endOffset,isCollapsed=domRange.collapsed)),null==anchorNode||null==focusNode||null==anchorOffset||null==focusOffset)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(domRange));var anchor=ReactEditor.toSlatePoint(editor,[anchorNode,anchorOffset],{exactMatch,suppressThrow});if(!anchor)return null;var focus=isCollapsed?anchor:ReactEditor.toSlatePoint(editor,[focusNode,focusOffset],{exactMatch,suppressThrow});if(!focus)return null;var range={anchor,focus};return _slate.Range.isExpanded(range)&&_slate.Range.isForward(range)&&isDOMElement(focusNode)&&_slate.Editor.void(editor,{at:range.focus,mode:"highest"})&&(range=_slate.Editor.unhangRange(editor,range,{voids:!0})),range},hasRange:function hasRange(editor,range){var anchor=range.anchor,focus=range.focus;return _slate.Editor.hasPath(editor,anchor.path)&&_slate.Editor.hasPath(editor,focus.path)}};exports.ReactEditor=ReactEditor;var AndroidInputManager=function AndroidInputManager(editor,restoreDOM){var _this=this;this.editor=editor,this.restoreDOM=restoreDOM,this.flush=function(mutations){try{_this.reconcileMutations(mutations)}catch(err){console.error(err),_this.restoreDOM()}},this.reconcileMutations=function(mutations){var mutationData=function gatherMutationData(editor,mutations){var addedNodes=[],removedNodes=[],insertedText=[],characterDataMutations=[];return mutations.forEach((function(mutation){switch(mutation.type){case"childList":mutation.addedNodes.length&&mutation.addedNodes.forEach((function(addedNode){addedNodes.push(addedNode)})),mutation.removedNodes.forEach((function(removedNode){removedNodes.push(removedNode)}));break;case"characterData":characterDataMutations.push(mutation);var parentNode=mutation.target.parentNode;if(!parentNode)return;var textInsertion=getTextInsertion(editor,parentNode);if(!textInsertion)return;if(insertedText.some((function(_ref){var path=_ref.path;return _slate.Path.equals(path,textInsertion.path)})))return;insertedText.push(textInsertion)}})),{addedNodes,removedNodes,insertedText,characterDataMutations}}(_this.editor,mutations),insertedText=mutationData.insertedText,removedNodes=mutationData.removedNodes;if(function isReplaceExpandedSelection(_ref4,_ref5){var selection=_ref4.selection,removedNodes=_ref5.removedNodes;return!!selection&&_slate.Range.isExpanded(selection)&&removedNodes.length>0}(_this.editor,mutationData)){var text=function combineInsertedText(insertedText){return insertedText.reduce((function(acc,_ref){var text=_ref.text;return"".concat(acc).concat(text.insertText)}),"")}(insertedText);_this.replaceExpandedSelection(text)}else!function isLineBreak(editor,_ref2){var addedNodes=_ref2.addedNodes,selection=editor.selection,parentNode=selection?_slate.Node.parent(editor,selection.anchor.path):null,parentDOMNode=parentNode?ReactEditor.toDOMNode(editor,parentNode):null;return!!parentDOMNode&&addedNodes.some((function(addedNode){return addedNode instanceof HTMLElement&&addedNode.tagName===(null==parentDOMNode?void 0:parentDOMNode.tagName)}))}(_this.editor,mutationData)?!function isRemoveLeafNodes(_,_ref7){var addedNodes=_ref7.addedNodes,characterDataMutations=_ref7.characterDataMutations;return _ref7.removedNodes.length>0&&0===addedNodes.length&&characterDataMutations.length>0}(_this.editor,mutationData)?!function isDeletion(_,_ref3){return _ref3.removedNodes.length>0}(_this.editor,mutationData)?function isTextInsertion(_,_ref6){return _ref6.insertedText.length>0}(_this.editor,mutationData)&&_this.insertText(insertedText):_this.deleteBackward():_this.removeLeafNodes(removedNodes):_this.insertBreak()},this.insertText=function(insertedText){var selection=_this.editor.selection;if(ReactEditor.isComposing(_this.editor)||IS_ON_COMPOSITION_END.get(_this.editor))return EDITOR_ON_COMPOSITION_TEXT.set(_this.editor,insertedText),void IS_ON_COMPOSITION_END.set(_this.editor,!1);insertedText.forEach((function(insertion){var text=insertion.text.insertText,at=normalizeTextInsertionRange(_this.editor,selection,insertion);_slate.Transforms.setSelection(_this.editor,at),_slate.Editor.insertText(_this.editor,text)}))},this.insertBreak=function(){var selection=_this.editor.selection;_slate.Editor.insertBreak(_this.editor),_this.restoreDOM(),selection&&setTimeout((function(){_this.editor.selection&&_slate.Range.equals(selection,_this.editor.selection)&&_slate.Transforms.move(_this.editor)}),100)},this.replaceExpandedSelection=function(text){_slate.Editor.deleteFragment(_this.editor),text.length&&_slate.Editor.insertText(_this.editor,text),_this.restoreDOM()},this.deleteBackward=function(){_slate.Editor.deleteBackward(_this.editor),ReactEditor.focus(_this.editor),_this.restoreDOM()},this.removeLeafNodes=function(nodes){var _step3,_iterator3=_createForOfIteratorHelper(nodes);try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var node=_step3.value,slateNode=ReactEditor.toSlateNode(_this.editor,node);if(slateNode){var path=ReactEditor.findPath(_this.editor,slateNode);_slate.Transforms.delete(_this.editor,{at:path}),_this.restoreDOM()}}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}},this.editor=editor,this.restoreDOM=restoreDOM};function useMutationObserver(node,callback,options){var mutationObserver=_slicedToArray((0,_react.useState)((function(){return new MutationObserver(callback)})),1)[0];useIsomorphicLayoutEffect((function(){mutationObserver.disconnect()})),(0,_react.useEffect)((function(){if(!node.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return mutationObserver.observe(node.current,options),mutationObserver.disconnect.bind(mutationObserver)}))}var MUTATION_OBSERVER_CONFIG$1={childList:!0,characterData:!0,subtree:!0};function findClosestKnowSlateNode(domNode){var _domEl,domEl=isDOMElement(domNode)?domNode:domNode.parentElement;domEl&&!domEl.hasAttribute("data-slate-node")&&(domEl=domEl.closest("[data-slate-node]"));var slateNode=domEl&&ELEMENT_TO_NODE.get(domEl);return slateNode||(null!==(_domEl=domEl)&&void 0!==_domEl&&_domEl.parentElement?findClosestKnowSlateNode(domEl.parentElement):null)}function useRestoreDom(node,receivedUserInput){var editor=useSlateStatic(),mutatedNodes=(0,_react.useRef)(new Set);useMutationObserver(node,(0,_react.useCallback)((function(mutations){receivedUserInput.current&&mutations.forEach((function(_ref){var slateNode=findClosestKnowSlateNode(_ref.target);if(slateNode)return mutatedNodes.current.add(slateNode)}))}),[]),MUTATION_OBSERVER_CONFIG$1),mutatedNodes.current.clear();var restore=(0,_react.useCallback)((function(){var mutated=Array.from(mutatedNodes.current.values()),nodesToRestore=mutated.filter((function(n){return!mutated.some((function(m){return _slate.Path.isParent(ReactEditor.findPath(editor,m),ReactEditor.findPath(editor,n))}))}));nodesToRestore.forEach((function(n){var _NODE_TO_RESTORE_DOM$;null===(_NODE_TO_RESTORE_DOM$=NODE_TO_RESTORE_DOM.get(n))||void 0===_NODE_TO_RESTORE_DOM$||_NODE_TO_RESTORE_DOM$()})),mutatedNodes.current.clear()}),[]);return restore}var MUTATION_OBSERVER_CONFIG={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};function useAndroidInputManager(node){var editor=useSlateStatic(),_useTrackUserInput=function useTrackUserInput(){var editor=useSlateStatic(),receivedUserInput=(0,_react.useRef)(!1),animationFrameRef=(0,_react.useRef)(null),onUserInput=(0,_react.useCallback)((function(){if(!1===receivedUserInput.current){var window=ReactEditor.getWindow(editor);receivedUserInput.current=!0,animationFrameRef.current&&window.cancelAnimationFrame(animationFrameRef.current),animationFrameRef.current=window.requestAnimationFrame((function(){receivedUserInput.current=!1,animationFrameRef.current=null}))}}),[]);return(0,_react.useEffect)((function(){receivedUserInput.current&&(receivedUserInput.current=!1)})),{receivedUserInput,onUserInput}}(),receivedUserInput=_useTrackUserInput.receivedUserInput,onUserInput=_useTrackUserInput.onUserInput,restoreDom=useRestoreDom(node,receivedUserInput),inputManager=(0,_react.useMemo)((function(){return new AndroidInputManager(editor,restoreDom)}),[restoreDom,editor]),timeoutId=(0,_react.useRef)(null),isReconciling=(0,_react.useRef)(!1);return useMutationObserver(node,(0,_react.useCallback)((function(mutations){receivedUserInput.current&&(isReconciling.current=!0,inputManager.flush(mutations),timeoutId.current&&clearTimeout(timeoutId.current),timeoutId.current=setTimeout((function(){isReconciling.current=!1,timeoutId.current=null}),250))}),[]),MUTATION_OBSERVER_CONFIG),{isReconciling,onUserInput}}var _excluded$1=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","style","as"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var AndroidEditable=function AndroidEditable(props){var autoFocus=props.autoFocus,_props$decorate2=props.decorate,decorate=void 0===_props$decorate2?defaultDecorate:_props$decorate2,propsOnDOMBeforeInput=props.onDOMBeforeInput,placeholder=props.placeholder,_props$readOnly2=props.readOnly,readOnly=void 0!==_props$readOnly2&&_props$readOnly2,renderElement=props.renderElement,renderLeaf=props.renderLeaf,_props$renderPlacehol2=props.renderPlaceholder,renderPlaceholder=void 0===_props$renderPlacehol2?function(props){return _react.default.createElement(DefaultPlaceholder,Object.assign({},props))}:_props$renderPlacehol2,_props$style2=props.style,style=void 0===_props$style2?{}:_props$style2,_props$as2=props.as,Component=void 0===_props$as2?"div":_props$as2,attributes=_objectWithoutProperties(props,_excluded$1),editor=useSlate(),_useState8=_slicedToArray((0,_react.useState)(!1),2),isComposing=_useState8[0],setIsComposing=_useState8[1],ref=(0,_react.useRef)(null),inputManager=useAndroidInputManager(ref);IS_READ_ONLY.set(editor,readOnly);var state=(0,_react.useMemo)((function(){return{isComposing:!1,isUpdatingSelection:!1,latestElement:null}}),[]),contentKey=useContentKey(editor);useIsomorphicLayoutEffect((function(){var window;ref.current&&(window=getDefaultView(ref.current))?(EDITOR_TO_WINDOW.set(editor,window),EDITOR_TO_ELEMENT.set(editor,ref.current),NODE_TO_ELEMENT.set(editor,ref.current),ELEMENT_TO_NODE.set(ref.current,editor)):NODE_TO_ELEMENT.delete(editor);try{var selection=editor.selection,domSelection=ReactEditor.findDocumentOrShadowRoot(editor).getSelection();if(state.isComposing||!domSelection||!ReactEditor.isFocused(editor))return;var hasDomSelection="None"!==domSelection.type;if(!selection&&!hasDomSelection)return;var editorElement=EDITOR_TO_ELEMENT.get(editor),hasDomSelectionInEditor=!1;if(editorElement.contains(domSelection.anchorNode)&&editorElement.contains(domSelection.focusNode)&&(hasDomSelectionInEditor=!0),hasDomSelection&&hasDomSelectionInEditor&&selection){var slateRange=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!0,suppressThrow:!0});if(slateRange&&_slate.Range.equals(slateRange,selection))return}if(selection&&!ReactEditor.hasRange(editor,selection))return void(editor.selection=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!1,suppressThrow:!1}));var el=ReactEditor.toDOMNode(editor,editor);state.isUpdatingSelection=!0;var newDomRange=selection&&ReactEditor.toDOMRange(editor,selection);if(newDomRange){_slate.Range.isBackward(selection)?domSelection.setBaseAndExtent(newDomRange.endContainer,newDomRange.endOffset,newDomRange.startContainer,newDomRange.startOffset):domSelection.setBaseAndExtent(newDomRange.startContainer,newDomRange.startOffset,newDomRange.endContainer,newDomRange.endOffset);var leafEl=newDomRange.startContainer.parentElement;leafEl.getBoundingClientRect=newDomRange.getBoundingClientRect.bind(newDomRange),(0,_scrollIntoViewIfNeeded.default)(leafEl,{scrollMode:"if-needed",boundary:el}),delete leafEl.getBoundingClientRect}else domSelection.removeAllRanges();setTimeout((function(){state.isUpdatingSelection=!1}))}catch(_unused){state.isUpdatingSelection=!1}})),(0,_react.useEffect)((function(){ref.current&&autoFocus&&ref.current.focus()}),[autoFocus]);var onDOMSelectionChange=(0,_react.useCallback)((0,_throttle.default)((function(){try{if(!state.isComposing&&!state.isUpdatingSelection&&!inputManager.isReconciling.current){var root=ReactEditor.findDocumentOrShadowRoot(editor),activeElement=root.activeElement,el=ReactEditor.toDOMNode(editor,editor),domSelection=root.getSelection();if(activeElement===el?(state.latestElement=activeElement,IS_FOCUSED.set(editor,!0)):IS_FOCUSED.delete(editor),!domSelection)return _slate.Transforms.deselect(editor);var anchorNode=domSelection.anchorNode,focusNode=domSelection.focusNode,anchorNodeSelectable=hasEditableTarget(editor,anchorNode)||isTargetInsideNonReadonlyVoid(editor,anchorNode),focusNodeSelectable=hasEditableTarget(editor,focusNode)||isTargetInsideNonReadonlyVoid(editor,focusNode);if(anchorNodeSelectable&&focusNodeSelectable){var range=ReactEditor.toSlateRange(editor,domSelection,{exactMatch:!1,suppressThrow:!1});_slate.Transforms.select(editor,range)}else _slate.Transforms.deselect(editor)}}catch(_unused2){}}),100),[readOnly]),scheduleOnDOMSelectionChange=(0,_react.useMemo)((function(){return(0,_debounce.default)(onDOMSelectionChange,0)}),[onDOMSelectionChange]),onDOMBeforeInput=(0,_react.useCallback)((function(event){readOnly||!hasEditableTarget(editor,event.target)||isDOMEventHandled(event,propsOnDOMBeforeInput)||(scheduleOnDOMSelectionChange.flush(),inputManager.onUserInput())}),[readOnly,propsOnDOMBeforeInput]);useIsomorphicLayoutEffect((function(){var node=ref.current;return null==node||node.addEventListener("beforeinput",onDOMBeforeInput),function(){return null==node?void 0:node.removeEventListener("beforeinput",onDOMBeforeInput)}}),[contentKey,propsOnDOMBeforeInput]),useIsomorphicLayoutEffect((function(){var window=ReactEditor.getWindow(editor);return window.document.addEventListener("selectionchange",scheduleOnDOMSelectionChange),function(){window.document.removeEventListener("selectionchange",scheduleOnDOMSelectionChange)}}),[scheduleOnDOMSelectionChange]);var decorations=decorate([editor,[]]);if(placeholder&&1===editor.children.length&&1===Array.from(_slate.Node.texts(editor)).length&&""===_slate.Node.string(editor)&&!isComposing){var _decorations$push2,start=_slate.Editor.start(editor,[]);decorations.push((_defineProperty2(_decorations$push2={},PLACEHOLDER_SYMBOL,!0),_defineProperty2(_decorations$push2,"placeholder",placeholder),_defineProperty2(_decorations$push2,"anchor",start),_defineProperty2(_decorations$push2,"focus",start),_decorations$push2))}return _react.default.createElement(ReadOnlyContext.Provider,{value:readOnly},_react.default.createElement(DecorateContext.Provider,{value:decorate},_react.default.createElement(Component,Object.assign({key:contentKey,role:readOnly?void 0:"textbox"},attributes,{spellCheck:attributes.spellCheck,autoCorrect:attributes.autoCorrect,autoCapitalize:attributes.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!readOnly||void 0,suppressContentEditableWarning:!0,ref,style:_objectSpread({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},style),onCopy:(0,_react.useCallback)((function(event){hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onCopy)&&(event.preventDefault(),ReactEditor.setFragmentData(editor,event.clipboardData,"copy"))}),[attributes.onCopy]),onCut:(0,_react.useCallback)((function(event){if(!readOnly&&hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onCut)){event.preventDefault(),ReactEditor.setFragmentData(editor,event.clipboardData,"cut");var selection=editor.selection;if(selection)if(_slate.Range.isExpanded(selection))_slate.Editor.deleteFragment(editor);else{var node=_slate.Node.parent(editor,selection.anchor.path);_slate.Editor.isVoid(editor,node)&&_slate.Transforms.delete(editor)}}}),[readOnly,attributes.onCut]),onFocus:(0,_react.useCallback)((function(event){if(!readOnly&&!state.isUpdatingSelection&&hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onFocus)){var root=ReactEditor.findDocumentOrShadowRoot(editor);state.latestElement=root.activeElement,IS_FOCUSED.set(editor,!0)}}),[readOnly,attributes.onFocus]),onBlur:(0,_react.useCallback)((function(event){if(!readOnly&&!state.isUpdatingSelection&&hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onBlur)){var root=ReactEditor.findDocumentOrShadowRoot(editor);if(state.latestElement!==root.activeElement){var relatedTarget=event.relatedTarget;if(!(relatedTarget===ReactEditor.toDOMNode(editor,editor)||isDOMElement(relatedTarget)&&relatedTarget.hasAttribute("data-slate-spacer"))){if(null!=relatedTarget&&isDOMNode(relatedTarget)&&ReactEditor.hasDOMNode(editor,relatedTarget)){var node=ReactEditor.toSlateNode(editor,relatedTarget);if(_slate.Element.isElement(node)&&!editor.isVoid(node))return}IS_FOCUSED.delete(editor)}}}}),[readOnly,attributes.onBlur]),onClick:(0,_react.useCallback)((function(event){if(!readOnly&&hasTarget(editor,event.target)&&!isEventHandled(event,attributes.onClick)&&isDOMNode(event.target)){var node=ReactEditor.toSlateNode(editor,event.target),path=ReactEditor.findPath(editor,node);if(_slate.Editor.hasPath(editor,path))if(_slate.Node.get(editor,path)===node){var _start=_slate.Editor.start(editor,path),end=_slate.Editor.end(editor,path),startVoid=_slate.Editor.void(editor,{at:_start}),endVoid=_slate.Editor.void(editor,{at:end});if(startVoid&&endVoid&&_slate.Path.equals(startVoid[1],endVoid[1])){var range=_slate.Editor.range(editor,_start);_slate.Transforms.select(editor,range)}}}}),[readOnly,attributes.onClick]),onCompositionEnd:(0,_react.useCallback)((function(event){hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onCompositionEnd)&&(scheduleOnDOMSelectionChange.flush(),setTimeout((function(){state.isComposing&&setIsComposing(!1),state.isComposing=!1,IS_COMPOSING.set(editor,!1),IS_ON_COMPOSITION_END.set(editor,!0);var insertedText=EDITOR_ON_COMPOSITION_TEXT.get(editor)||[];if(insertedText.length){EDITOR_ON_COMPOSITION_TEXT.set(editor,[]);var selection=editor.selection;insertedText.forEach((function(insertion){var text=insertion.text.insertText,at=normalizeTextInsertionRange(editor,selection,insertion);_slate.Transforms.setSelection(editor,at),_slate.Editor.insertText(editor,text)}))}}),20))}),[attributes.onCompositionEnd]),onCompositionUpdate:(0,_react.useCallback)((function(event){hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onCompositionUpdate)&&(!state.isComposing&&setIsComposing(!0),state.isComposing=!0,IS_COMPOSING.set(editor,!0))}),[attributes.onCompositionUpdate]),onCompositionStart:(0,_react.useCallback)((function(event){hasEditableTarget(editor,event.target)&&!isEventHandled(event,attributes.onCompositionStart)&&(!state.isComposing&&setIsComposing(!0),state.isComposing=!0,IS_COMPOSING.set(editor,!0))}),[attributes.onCompositionStart]),onPaste:(0,_react.useCallback)((function(event){event.clipboardData=function getClipboardData(dataTransfer){if(!dataTransfer.getData("application/x-slate-fragment")){var fragment=getSlateFragmentAttribute(dataTransfer);if(fragment){var clipboardData=new DataTransfer;return dataTransfer.types.forEach((function(type){clipboardData.setData(type,dataTransfer.getData(type))})),clipboardData.setData("application/x-slate-fragment",fragment),clipboardData}}return dataTransfer}(event.clipboardData),!hasEditableTarget(editor,event.target)||isEventHandled(event,attributes.onPaste)||readOnly||(event.preventDefault(),ReactEditor.insertData(editor,event.clipboardData))}),[readOnly,attributes.onPaste])}),useChildren({decorations,node:editor,renderElement,renderPlaceholder,renderLeaf,selection:editor.selection}))))};exports.AndroidEditable=AndroidEditable;var FocusedContext=(0,_react.createContext)(!1);exports.useFocused=function useFocused(){return(0,_react.useContext)(FocusedContext)};var SlateSelectorContext=(0,_react.createContext)({}),refEquality=function refEquality(a,b){return a===b};var _excluded=["editor","children","onChange","value"];exports.Slate=function Slate(props){var editor=props.editor,children=props.children,onChange=props.onChange,value=props.value,rest=_objectWithoutProperties(props,_excluded),unmountRef=(0,_react.useRef)(!1),_React$useState2=_slicedToArray(_react.default.useState((function(){if(!_slate.Node.isNodeList(value))throw new Error("[Slate] value is invalid! Expected a list of elements"+"but got: ".concat(_slate.Scrubber.stringify(value)));if(!_slate.Editor.isEditor(editor))throw new Error("[Slate] editor is invalid! you passed:"+"".concat(_slate.Scrubber.stringify(editor)));return editor.children=value,Object.assign(editor,rest),[editor]})),2),context=_React$useState2[0],setContext=_React$useState2[1],_getSelectorContext=function getSelectorContext(editor){var eventListeners=(0,_react.useRef)([]).current,slateRef=(0,_react.useRef)({editor}).current,onChange=(0,_react.useCallback)((function(editor){slateRef.editor=editor,eventListeners.forEach((function(listener){return listener(editor)}))}),[]);return{selectorContext:(0,_react.useMemo)((function(){return{getSlate:function getSlate(){return slateRef.editor},addEventListener:function addEventListener(callback){return eventListeners.push(callback),function(){eventListeners.splice(eventListeners.indexOf(callback),1)}}}}),[eventListeners,slateRef]),onChange}}(editor),selectorContext=_getSelectorContext.selectorContext,handleSelectorChange=_getSelectorContext.onChange,onContextChange=(0,_react.useCallback)((function(){onChange&&onChange(editor.children),setContext([editor]),handleSelectorChange(editor)}),[onChange]);EDITOR_TO_ON_CHANGE.set(editor,onContextChange),(0,_react.useEffect)((function(){return function(){EDITOR_TO_ON_CHANGE.set(editor,(function(){})),unmountRef.current=!0}}),[]);var _useState10=_slicedToArray((0,_react.useState)(ReactEditor.isFocused(editor)),2),isFocused=_useState10[0],setIsFocused=_useState10[1];return(0,_react.useEffect)((function(){setIsFocused(ReactEditor.isFocused(editor))})),useIsomorphicLayoutEffect((function(){var fn=function fn(){return setIsFocused(ReactEditor.isFocused(editor))};return IS_REACT_VERSION_17_OR_ABOVE?(document.addEventListener("focusin",fn),document.addEventListener("focusout",fn),function(){document.removeEventListener("focusin",fn),document.removeEventListener("focusout",fn)}):(document.addEventListener("focus",fn,!0),document.addEventListener("blur",fn,!0),function(){document.removeEventListener("focus",fn,!0),document.removeEventListener("blur",fn,!0)})}),[]),_react.default.createElement(SlateSelectorContext.Provider,{value:selectorContext},_react.default.createElement(SlateContext.Provider,{value:context},_react.default.createElement(EditorContext.Provider,{value:editor},_react.default.createElement(FocusedContext.Provider,{value:isFocused},children))))};exports.useEditor=function useEditor(){var editor=(0,_react.useContext)(EditorContext);if(!editor)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return editor};var doRectsIntersect=function doRectsIntersect(rect,compareRect){var middle=(compareRect.top+compareRect.bottom)/2;return rect.top<=middle&&rect.bottom>=middle},areRangesSameLine=function areRangesSameLine(editor,range1,range2){var rect1=ReactEditor.toDOMRange(editor,range1).getBoundingClientRect(),rect2=ReactEditor.toDOMRange(editor,range2).getBoundingClientRect();return doRectsIntersect(rect1,rect2)&&doRectsIntersect(rect2,rect1)};exports.withReact=function withReact(editor){var e=editor,apply=e.apply,onChange=e.onChange,deleteBackward=e.deleteBackward;return EDITOR_TO_KEY_TO_ELEMENT.set(e,new WeakMap),e.deleteBackward=function(unit){if("line"!==unit)return deleteBackward(unit);if(editor.selection&&_slate.Range.isCollapsed(editor.selection)){var parentBlockEntry=_slate.Editor.above(editor,{match:function match(n){return _slate.Editor.isBlock(editor,n)},at:editor.selection});if(parentBlockEntry){var parentBlockPath=_slicedToArray(parentBlockEntry,2)[1],parentElementRange=_slate.Editor.range(editor,parentBlockPath,editor.selection.anchor),currentLineRange=function findCurrentLineRange(editor,parentRange){var parentRangeBoundary=_slate.Editor.range(editor,_slate.Range.end(parentRange)),positions=Array.from(_slate.Editor.positions(editor,{at:parentRange})),left=0,right=positions.length,middle=Math.floor(right/2);if(areRangesSameLine(editor,_slate.Editor.range(editor,positions[left]),parentRangeBoundary))return _slate.Editor.range(editor,positions[left],parentRangeBoundary);if(positions.length<2)return _slate.Editor.range(editor,positions[positions.length-1],parentRangeBoundary);for(;middle!==positions.length&&middle!==left;)areRangesSameLine(editor,_slate.Editor.range(editor,positions[middle]),parentRangeBoundary)?right=middle:left=middle,middle=Math.floor((left+right)/2);return _slate.Editor.range(editor,positions[right],parentRangeBoundary)}(e,parentElementRange);_slate.Range.isCollapsed(currentLineRange)||_slate.Transforms.delete(editor,{at:currentLineRange})}}},e.apply=function(op){var matches=[];switch(op.type){case"insert_text":case"remove_text":case"set_node":case"split_node":matches.push.apply(matches,_toConsumableArray(getMatches(e,op.path)));break;case"set_selection":var _EDITOR_TO_USER_SELEC;null===(_EDITOR_TO_USER_SELEC=EDITOR_TO_USER_SELECTION.get(editor))||void 0===_EDITOR_TO_USER_SELEC||_EDITOR_TO_USER_SELEC.unref(),EDITOR_TO_USER_SELECTION.delete(editor);break;case"insert_node":case"remove_node":matches.push.apply(matches,_toConsumableArray(getMatches(e,_slate.Path.parent(op.path))));break;case"merge_node":var prevPath=_slate.Path.previous(op.path);matches.push.apply(matches,_toConsumableArray(getMatches(e,prevPath)));break;case"move_node":var commonPath=_slate.Path.common(_slate.Path.parent(op.path),_slate.Path.parent(op.newPath));matches.push.apply(matches,_toConsumableArray(getMatches(e,commonPath)))}apply(op);for(var _i4=0,_matches=matches;_i4<_matches.length;_i4++){var _matches$_i=_slicedToArray(_matches[_i4],2),path=_matches$_i[0],key=_matches$_i[1],node=_slicedToArray(_slate.Editor.node(e,path),1)[0];NODE_TO_KEY.set(node,key)}},e.setFragmentData=function(data){var selection=e.selection;if(selection){var _Range$edges2=_slicedToArray(_slate.Range.edges(selection),2),start=_Range$edges2[0],end=_Range$edges2[1],startVoid=_slate.Editor.void(e,{at:start.path}),endVoid=_slate.Editor.void(e,{at:end.path});if(!_slate.Range.isCollapsed(selection)||startVoid){var domRange=ReactEditor.toDOMRange(e,selection),contents=domRange.cloneContents(),attach=contents.childNodes[0];if(contents.childNodes.forEach((function(node){node.textContent&&""!==node.textContent.trim()&&(attach=node)})),endVoid){var voidNode=_slicedToArray(endVoid,1)[0],r=domRange.cloneRange(),domNode=ReactEditor.toDOMNode(e,voidNode);r.setEndAfter(domNode),contents=r.cloneContents()}if(startVoid&&(attach=contents.querySelector("[data-slate-spacer]")),Array.from(contents.querySelectorAll("[data-slate-zero-width]")).forEach((function(zw){var isNewline="n"===zw.getAttribute("data-slate-zero-width");zw.textContent=isNewline?"\n":""})),isDOMText(attach)){var span=attach.ownerDocument.createElement("span");span.style.whiteSpace="pre",span.appendChild(attach),contents.appendChild(span),attach=span}var fragment=e.getFragment(),string=JSON.stringify(fragment),encoded=window.btoa(encodeURIComponent(string));attach.setAttribute("data-slate-fragment",encoded),data.setData("application/x-slate-fragment",encoded);var div=contents.ownerDocument.createElement("div");return div.appendChild(contents),div.setAttribute("hidden","true"),contents.ownerDocument.body.appendChild(div),data.setData("text/html",div.innerHTML),data.setData("text/plain",getPlainText(div)),contents.ownerDocument.body.removeChild(div),data}}},e.insertData=function(data){e.insertFragmentData(data)||e.insertTextData(data)},e.insertFragmentData=function(data){var fragment=data.getData("application/x-slate-fragment")||getSlateFragmentAttribute(data);if(fragment){var decoded=decodeURIComponent(window.atob(fragment)),parsed=JSON.parse(decoded);return e.insertFragment(parsed),!0}return!1},e.insertTextData=function(data){var text=data.getData("text/plain");if(text){var _step4,split=!1,_iterator4=_createForOfIteratorHelper(text.split(/\r\n|\r|\n/));try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var line=_step4.value;split&&_slate.Transforms.splitNodes(e,{always:!0}),e.insertText(line),split=!0}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}return!0}return!1},e.onChange=function(){_reactDom.default.unstable_batchedUpdates((function(){var onContextChange=EDITOR_TO_ON_CHANGE.get(e);onContextChange&&onContextChange(),onChange()}))},e};var getMatches=function getMatches(e,path){var _step5,matches=[],_iterator5=_createForOfIteratorHelper(_slate.Editor.levels(e,{at:path}));try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _step5$value=_slicedToArray(_step5.value,2),n=_step5$value[0],p=_step5$value[1],key=ReactEditor.findKey(e,n);matches.push([p,key])}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}return matches},Editable=IS_ANDROID?AndroidEditable:Editable$1;exports.Editable=Editable},"./node_modules/slate/dist/index.es.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createEditor=exports.Transforms=exports.Text=exports.Span=exports.Scrubber=exports.RangeRef=exports.Range=exports.PointRef=exports.Point=exports.PathRef=exports.Path=exports.Operation=exports.Node=exports.Location=exports.Element=exports.Editor=void 0;var _isPlainObject=__webpack_require__("./node_modules/is-plain-object/dist/is-plain-object.js"),_immer=__webpack_require__("./node_modules/immer/dist/index.js");function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==_typeof(value)&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(void 0===method){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(Gp,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName,nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _defineProperty2(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var DIRTY_PATHS=new WeakMap,DIRTY_PATH_KEYS=new WeakMap,FLUSHING=new WeakMap,NORMALIZING=new WeakMap,PATH_REFS=new WeakMap,POINT_REFS=new WeakMap,RANGE_REFS=new WeakMap;function ownKeys$9(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$9(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$9(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$9(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}exports.createEditor=function createEditor(){var editor={children:[],operations:[],selection:null,marks:null,isInline:function isInline(){return!1},isVoid:function isVoid(){return!1},onChange:function onChange(){},apply:function apply(op){var _step,_iterator=_createForOfIteratorHelper(Editor.pathRefs(editor));try{for(_iterator.s();!(_step=_iterator.n()).done;){var ref=_step.value;PathRef.transform(ref,op)}}catch(err){_iterator.e(err)}finally{_iterator.f()}var _step2,_iterator2=_createForOfIteratorHelper(Editor.pointRefs(editor));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _ref=_step2.value;PointRef.transform(_ref,op)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}var _step3,_iterator3=_createForOfIteratorHelper(Editor.rangeRefs(editor));try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _ref2=_step3.value;RangeRef.transform(_ref2,op)}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}var dirtyPaths,dirtyPathKeys,oldDirtyPaths=DIRTY_PATHS.get(editor)||[],oldDirtyPathKeys=DIRTY_PATH_KEYS.get(editor)||new Set,add=function add(path){if(path){var key=path.join(",");dirtyPathKeys.has(key)||(dirtyPathKeys.add(key),dirtyPaths.push(path))}};if(Path.operationCanTransformPath(op)){dirtyPaths=[],dirtyPathKeys=new Set;var _step4,_iterator4=_createForOfIteratorHelper(oldDirtyPaths);try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var path=_step4.value;add(Path.transform(path,op))}}catch(err){_iterator4.e(err)}finally{_iterator4.f()}}else dirtyPaths=oldDirtyPaths,dirtyPathKeys=oldDirtyPathKeys;var _step5,_iterator5=_createForOfIteratorHelper(getDirtyPaths(op));try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){add(_step5.value)}}catch(err){_iterator5.e(err)}finally{_iterator5.f()}DIRTY_PATHS.set(editor,dirtyPaths),DIRTY_PATH_KEYS.set(editor,dirtyPathKeys),Transforms.transform(editor,op),editor.operations.push(op),Editor.normalize(editor),"set_selection"===op.type&&(editor.marks=null),FLUSHING.get(editor)||(FLUSHING.set(editor,!0),Promise.resolve().then((function(){FLUSHING.set(editor,!1),editor.onChange(),editor.operations=[]})))},addMark:function addMark(key,value){var selection=editor.selection;if(selection)if(Range.isExpanded(selection))Transforms.setNodes(editor,_defineProperty2({},key,value),{match:Text.isText,split:!0});else{var marks=_objectSpread$9(_objectSpread$9({},Editor.marks(editor)||{}),{},_defineProperty2({},key,value));editor.marks=marks,FLUSHING.get(editor)||editor.onChange()}},deleteBackward:function deleteBackward(unit){var selection=editor.selection;selection&&Range.isCollapsed(selection)&&Transforms.delete(editor,{unit,reverse:!0})},deleteForward:function deleteForward(unit){var selection=editor.selection;selection&&Range.isCollapsed(selection)&&Transforms.delete(editor,{unit})},deleteFragment:function deleteFragment(direction){var selection=editor.selection;selection&&Range.isExpanded(selection)&&Transforms.delete(editor,{reverse:"backward"===direction})},getFragment:function getFragment(){var selection=editor.selection;return selection?Node.fragment(editor,selection):[]},insertBreak:function insertBreak(){Transforms.splitNodes(editor,{always:!0})},insertSoftBreak:function insertSoftBreak(){Transforms.splitNodes(editor,{always:!0})},insertFragment:function insertFragment(fragment){Transforms.insertFragment(editor,fragment)},insertNode:function insertNode(node){Transforms.insertNodes(editor,node)},insertText:function insertText(text){var selection=editor.selection,marks=editor.marks;if(selection){if(marks){var node=_objectSpread$9({text},marks);Transforms.insertNodes(editor,node)}else Transforms.insertText(editor,text);editor.marks=null}},normalizeNode:function normalizeNode(entry){var _entry2=_slicedToArray(entry,2),node=_entry2[0],path=_entry2[1];if(!Text.isText(node))if(Element.isElement(node)&&0===node.children.length){Transforms.insertNodes(editor,{text:""},{at:path.concat(0),voids:!0})}else for(var shouldHaveInlines=!Editor.isEditor(node)&&(Element.isElement(node)&&(editor.isInline(node)||0===node.children.length||Text.isText(node.children[0])||editor.isInline(node.children[0]))),n=0,i=0;i<node.children.length;i++,n++){var currentNode=Node.get(editor,path);if(!Text.isText(currentNode)){var _child=node.children[i],prev=currentNode.children[n-1],isLast=i===node.children.length-1;if((Text.isText(_child)||Element.isElement(_child)&&editor.isInline(_child))!==shouldHaveInlines)Transforms.removeNodes(editor,{at:path.concat(n),voids:!0}),n--;else if(Element.isElement(_child)){if(editor.isInline(_child))if(null!=prev&&Text.isText(prev)){if(isLast){Transforms.insertNodes(editor,{text:""},{at:path.concat(n+1),voids:!0}),n++}}else{Transforms.insertNodes(editor,{text:""},{at:path.concat(n),voids:!0}),n++}}else null!=prev&&Text.isText(prev)&&(Text.equals(_child,prev,{loose:!0})?(Transforms.mergeNodes(editor,{at:path.concat(n),voids:!0}),n--):""===prev.text?(Transforms.removeNodes(editor,{at:path.concat(n-1),voids:!0}),n--):""===_child.text&&(Transforms.removeNodes(editor,{at:path.concat(n),voids:!0}),n--))}}},removeMark:function removeMark(key){var selection=editor.selection;if(selection)if(Range.isExpanded(selection))Transforms.unsetNodes(editor,key,{match:Text.isText,split:!0});else{var marks=_objectSpread$9({},Editor.marks(editor)||{});delete marks[key],editor.marks=marks,FLUSHING.get(editor)||editor.onChange()}}};return editor};var getDirtyPaths=function getDirtyPaths(op){switch(op.type){case"insert_text":case"remove_text":case"set_node":var path=op.path;return Path.levels(path);case"insert_node":var node=op.node,_path2=op.path,levels=Path.levels(_path2),descendants=Text.isText(node)?[]:Array.from(Node.nodes(node),(function(_ref3){var p=_slicedToArray(_ref3,2)[1];return _path2.concat(p)}));return[].concat(_toConsumableArray(levels),_toConsumableArray(descendants));case"merge_node":var _path3=op.path,ancestors=Path.ancestors(_path3),previousPath=Path.previous(_path3);return[].concat(_toConsumableArray(ancestors),[previousPath]);case"move_node":var _path4=op.path,newPath=op.newPath;if(Path.equals(_path4,newPath))return[];var _step6,oldAncestors=[],newAncestors=[],_iterator6=_createForOfIteratorHelper(Path.ancestors(_path4));try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var ancestor=_step6.value,p=Path.transform(ancestor,op);oldAncestors.push(p)}}catch(err){_iterator6.e(err)}finally{_iterator6.f()}var _step7,_iterator7=_createForOfIteratorHelper(Path.ancestors(newPath));try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _ancestor=_step7.value,_p=Path.transform(_ancestor,op);newAncestors.push(_p)}}catch(err){_iterator7.e(err)}finally{_iterator7.f()}var newParent=newAncestors[newAncestors.length-1],newIndex=newPath[newPath.length-1],resultPath=newParent.concat(newIndex);return[].concat(oldAncestors,newAncestors,[resultPath]);case"remove_node":var _path5=op.path;return _toConsumableArray(Path.ancestors(_path5));case"split_node":var _path6=op.path,_levels=Path.levels(_path6),nextPath=Path.next(_path6);return[].concat(_toConsumableArray(_levels),[nextPath]);default:return[]}};function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var CodepointType,getCharacterDistance=function getCharacterDistance(str){var _step8,isRTL=arguments.length>1&&void 0!==arguments[1]&&arguments[1],isLTR=!isRTL,codepoints=isRTL?codepointsIteratorRTL(str):str,left=CodepointType.None,right=CodepointType.None,distance=0,gb12Or13=null,_iterator8=_createForOfIteratorHelper(codepoints);try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _char=_step8.value,code=_char.codePointAt(0);if(!code)break;var type=getCodepointType(_char,code),_ref8=_slicedToArray(isLTR?[right,type]:[type,left],2);if(left=_ref8[0],right=_ref8[1],intersects(left,CodepointType.ZWJ)&&intersects(right,CodepointType.ExtPict)&&!endsWithEmojiZWJ(isLTR?str.substring(0,distance):str.substring(0,str.length-distance)))break;if(intersects(left,CodepointType.RI)&&intersects(right,CodepointType.RI)&&!(gb12Or13=null!==gb12Or13?!gb12Or13:!!isLTR||endsWithOddNumberOfRIs(str.substring(0,str.length-distance))))break;if(left!==CodepointType.None&&right!==CodepointType.None&&isBoundaryPair(left,right))break;distance+=_char.length}}catch(err){_iterator8.e(err)}finally{_iterator8.f()}return distance||1},SPACE=/\s/,PUNCTUATION=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,CHAMELEON=/['\u2018\u2019]/,getWordDistance=function getWordDistance(text){for(var isRTL=arguments.length>1&&void 0!==arguments[1]&&arguments[1],dist=0,started=!1;text.length>0;){var charDist=getCharacterDistance(text,isRTL),_splitByCharacterDist2=_slicedToArray(splitByCharacterDistance(text,charDist,isRTL),2),_char2=_splitByCharacterDist2[0],remaining=_splitByCharacterDist2[1];if(isWordCharacter(_char2,remaining,isRTL))started=!0,dist+=charDist;else{if(started)break;dist+=charDist}text=remaining}return dist},splitByCharacterDistance=function splitByCharacterDistance(str,dist,isRTL){if(isRTL){var at=str.length-dist;return[str.slice(at,str.length),str.slice(0,at)]}return[str.slice(0,dist),str.slice(dist)]},isWordCharacter=function isWordCharacter(_char3,remaining){var isRTL=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(SPACE.test(_char3))return!1;if(CHAMELEON.test(_char3)){var charDist=getCharacterDistance(remaining,isRTL),_splitByCharacterDist4=_slicedToArray(splitByCharacterDistance(remaining,charDist,isRTL),2);if(isWordCharacter(_splitByCharacterDist4[0],_splitByCharacterDist4[1],isRTL))return!0}return!PUNCTUATION.test(_char3)},codepointsIteratorRTL=_regeneratorRuntime().mark((function codepointsIteratorRTL(str){var end,i,char1,char2;return _regeneratorRuntime().wrap((function codepointsIteratorRTL$(_context){for(;;)switch(_context.prev=_context.next){case 0:end=str.length-1,i=0;case 2:if(!(i<str.length)){_context.next=16;break}if(char1=str.charAt(end-i),!isLowSurrogate(char1.charCodeAt(0))){_context.next=11;break}if(char2=str.charAt(end-i-1),!isHighSurrogate(char2.charCodeAt(0))){_context.next=11;break}return _context.next=9,char2+char1;case 9:return i++,_context.abrupt("continue",13);case 11:return _context.next=13,char1;case 13:i++,_context.next=2;break;case 16:case"end":return _context.stop()}}),codepointsIteratorRTL)})),isHighSurrogate=function isHighSurrogate(charCode){return charCode>=55296&&charCode<=56319},isLowSurrogate=function isLowSurrogate(charCode){return charCode>=56320&&charCode<=57343};!function(CodepointType){CodepointType[CodepointType.None=0]="None",CodepointType[CodepointType.Extend=1]="Extend",CodepointType[CodepointType.ZWJ=2]="ZWJ",CodepointType[CodepointType.RI=4]="RI",CodepointType[CodepointType.Prepend=8]="Prepend",CodepointType[CodepointType.SpacingMark=16]="SpacingMark",CodepointType[CodepointType.L=32]="L",CodepointType[CodepointType.V=64]="V",CodepointType[CodepointType.T=128]="T",CodepointType[CodepointType.LV=256]="LV",CodepointType[CodepointType.LVT=512]="LVT",CodepointType[CodepointType.ExtPict=1024]="ExtPict",CodepointType[CodepointType.Any=2048]="Any"}(CodepointType||(CodepointType={}));var reExtend=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,rePrepend=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,reSpacingMark=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,reL=/^[\u1100-\u115F\uA960-\uA97C]$/,reV=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,reT=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,reLV=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,reLVT=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,reExtPict=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,getCodepointType=function getCodepointType(_char4,code){var type=CodepointType.Any;return-1!==_char4.search(reExtend)&&(type|=CodepointType.Extend),8205===code&&(type|=CodepointType.ZWJ),code>=127462&&code<=127487&&(type|=CodepointType.RI),-1!==_char4.search(rePrepend)&&(type|=CodepointType.Prepend),-1!==_char4.search(reSpacingMark)&&(type|=CodepointType.SpacingMark),-1!==_char4.search(reL)&&(type|=CodepointType.L),-1!==_char4.search(reV)&&(type|=CodepointType.V),-1!==_char4.search(reT)&&(type|=CodepointType.T),-1!==_char4.search(reLV)&&(type|=CodepointType.LV),-1!==_char4.search(reLVT)&&(type|=CodepointType.LVT),-1!==_char4.search(reExtPict)&&(type|=CodepointType.ExtPict),type};function intersects(x,y){return!!(x&y)}var NonBoundaryPairs=[[CodepointType.L,CodepointType.L|CodepointType.V|CodepointType.LV|CodepointType.LVT],[CodepointType.LV|CodepointType.V,CodepointType.V|CodepointType.T],[CodepointType.LVT|CodepointType.T,CodepointType.T],[CodepointType.Any,CodepointType.Extend|CodepointType.ZWJ],[CodepointType.Any,CodepointType.SpacingMark],[CodepointType.Prepend,CodepointType.Any],[CodepointType.ZWJ,CodepointType.ExtPict],[CodepointType.RI,CodepointType.RI]];function isBoundaryPair(left,right){return-1===NonBoundaryPairs.findIndex((function(r){return intersects(left,r[0])&&intersects(right,r[1])}))}var endingEmojiZWJ=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,endsWithEmojiZWJ=function endsWithEmojiZWJ(str){return-1!==str.search(endingEmojiZWJ)},endingRIs=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,endsWithOddNumberOfRIs=function endsWithOddNumberOfRIs(str){var match=str.match(endingRIs);return null!==match&&match[0].length/2%2==1},isElement=function isElement(value){return(0,_isPlainObject.isPlainObject)(value)&&Node.isNodeList(value.children)&&!Editor.isEditor(value)},Element={isAncestor:function isAncestor(value){return(0,_isPlainObject.isPlainObject)(value)&&Node.isNodeList(value.children)},isElement,isElementList:function isElementList(value){return Array.isArray(value)&&value.every((function(val){return Element.isElement(val)}))},isElementProps:function isElementProps(props){return void 0!==props.children},isElementType:function isElementType(value,elementVal){var elementKey=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return isElement(value)&&value[elementKey]===elementVal},matches:function matches(element,props){for(var key in props)if("children"!==key&&element[key]!==props[key])return!1;return!0}};exports.Element=Element;var _excluded$4=["text"],_excluded2$3=["text"];function ownKeys$8(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$8(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$8(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$8(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var IS_EDITOR_CACHE=new WeakMap,Editor={above:function above(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_options$voids=options.voids,voids=void 0!==_options$voids&&_options$voids,_options$mode=options.mode,mode=void 0===_options$mode?"lowest":_options$mode,_options$at=options.at,at=void 0===_options$at?editor.selection:_options$at,match=options.match;if(at){var _step9,path=Editor.path(editor,at),reverse="lowest"===mode,_iterator9=_createForOfIteratorHelper(Editor.levels(editor,{at:path,voids,match,reverse}));try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _step9$value=_slicedToArray(_step9.value,2),n=_step9$value[0],p=_step9$value[1];if(!Text.isText(n)&&!Path.equals(path,p))return[n,p]}}catch(err){_iterator9.e(err)}finally{_iterator9.f()}}},addMark:function addMark(editor,key,value){editor.addMark(key,value)},after:function after(editor,at){var target,_step10,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},range={anchor:Editor.point(editor,at,{edge:"end"}),focus:Editor.end(editor,[])},_options$distance=options.distance,distance=void 0===_options$distance?1:_options$distance,d=0,_iterator10=_createForOfIteratorHelper(Editor.positions(editor,_objectSpread$8(_objectSpread$8({},options),{},{at:range})));try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var p=_step10.value;if(d>distance)break;0!==d&&(target=p),d++}}catch(err){_iterator10.e(err)}finally{_iterator10.f()}return target},before:function before(editor,at){var target,_step11,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},range={anchor:Editor.start(editor,[]),focus:Editor.point(editor,at,{edge:"start"})},_options$distance2=options.distance,distance=void 0===_options$distance2?1:_options$distance2,d=0,_iterator11=_createForOfIteratorHelper(Editor.positions(editor,_objectSpread$8(_objectSpread$8({},options),{},{at:range,reverse:!0})));try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var p=_step11.value;if(d>distance)break;0!==d&&(target=p),d++}}catch(err){_iterator11.e(err)}finally{_iterator11.f()}return target},deleteBackward:function deleteBackward(editor){var _options$unit=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).unit,unit=void 0===_options$unit?"character":_options$unit;editor.deleteBackward(unit)},deleteForward:function deleteForward(editor){var _options$unit2=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).unit,unit=void 0===_options$unit2?"character":_options$unit2;editor.deleteForward(unit)},deleteFragment:function deleteFragment(editor){var _options$direction=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).direction,direction=void 0===_options$direction?"forward":_options$direction;editor.deleteFragment(direction)},edges:function edges(editor,at){return[Editor.start(editor,at),Editor.end(editor,at)]},end:function end(editor,at){return Editor.point(editor,at,{edge:"end"})},first:function first(editor,at){var path=Editor.path(editor,at,{edge:"start"});return Editor.node(editor,path)},fragment:function fragment(editor,at){var range=Editor.range(editor,at),fragment=Node.fragment(editor,range);return fragment},hasBlocks:function hasBlocks(editor,element){return element.children.some((function(n){return Editor.isBlock(editor,n)}))},hasInlines:function hasInlines(editor,element){return element.children.some((function(n){return Text.isText(n)||Editor.isInline(editor,n)}))},hasTexts:function hasTexts(editor,element){return element.children.every((function(n){return Text.isText(n)}))},insertBreak:function insertBreak(editor){editor.insertBreak()},insertSoftBreak:function insertSoftBreak(editor){editor.insertSoftBreak()},insertFragment:function insertFragment(editor,fragment){editor.insertFragment(fragment)},insertNode:function insertNode(editor,node){editor.insertNode(node)},insertText:function insertText(editor,text){editor.insertText(text)},isBlock:function isBlock(editor,value){return Element.isElement(value)&&!editor.isInline(value)},isEditor:function isEditor(value){if(!(0,_isPlainObject.isPlainObject)(value))return!1;var cachedIsEditor=IS_EDITOR_CACHE.get(value);if(void 0!==cachedIsEditor)return cachedIsEditor;var isEditor="function"==typeof value.addMark&&"function"==typeof value.apply&&"function"==typeof value.deleteBackward&&"function"==typeof value.deleteForward&&"function"==typeof value.deleteFragment&&"function"==typeof value.insertBreak&&"function"==typeof value.insertSoftBreak&&"function"==typeof value.insertFragment&&"function"==typeof value.insertNode&&"function"==typeof value.insertText&&"function"==typeof value.isInline&&"function"==typeof value.isVoid&&"function"==typeof value.normalizeNode&&"function"==typeof value.onChange&&"function"==typeof value.removeMark&&(null===value.marks||(0,_isPlainObject.isPlainObject)(value.marks))&&(null===value.selection||Range.isRange(value.selection))&&Node.isNodeList(value.children)&&Operation.isOperationList(value.operations);return IS_EDITOR_CACHE.set(value,isEditor),isEditor},isEnd:function isEnd(editor,point,at){var end=Editor.end(editor,at);return Point.equals(point,end)},isEdge:function isEdge(editor,point,at){return Editor.isStart(editor,point,at)||Editor.isEnd(editor,point,at)},isEmpty:function isEmpty(editor,element){var children=element.children,first=_slicedToArray(children,1)[0];return 0===children.length||1===children.length&&Text.isText(first)&&""===first.text&&!editor.isVoid(element)},isInline:function isInline(editor,value){return Element.isElement(value)&&editor.isInline(value)},isNormalizing:function isNormalizing(editor){var isNormalizing=NORMALIZING.get(editor);return void 0===isNormalizing||isNormalizing},isStart:function isStart(editor,point,at){if(0!==point.offset)return!1;var start=Editor.start(editor,at);return Point.equals(point,start)},isVoid:function isVoid(editor,value){return Element.isElement(value)&&editor.isVoid(value)},last:function last(editor,at){var path=Editor.path(editor,at,{edge:"end"});return Editor.node(editor,path)},leaf:function leaf(editor,at){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},path=Editor.path(editor,at,options);return[Node.leaf(editor,path),path]},levels:function levels(editor){var _arguments=arguments;return _regeneratorRuntime().mark((function _callee(){var options,_options$at2,at,_options$reverse,reverse,_options$voids2,voids,match,levels,path,_iterator12,_step12,_step12$value,n,p;return _regeneratorRuntime().wrap((function _callee$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(_options$at2=(options=_arguments.length>1&&void 0!==_arguments[1]?_arguments[1]:{}).at,at=void 0===_options$at2?editor.selection:_options$at2,_options$reverse=options.reverse,reverse=void 0!==_options$reverse&&_options$reverse,_options$voids2=options.voids,voids=void 0!==_options$voids2&&_options$voids2,null==(match=options.match)&&(match=function match(){return!0}),at){_context2.next=6;break}return _context2.abrupt("return");case 6:levels=[],path=Editor.path(editor,at),_iterator12=_createForOfIteratorHelper(Node.levels(editor,path)),_context2.prev=9,_iterator12.s();case 11:if((_step12=_iterator12.n()).done){_context2.next=20;break}if(_step12$value=_slicedToArray(_step12.value,2),n=_step12$value[0],p=_step12$value[1],match(n,p)){_context2.next=15;break}return _context2.abrupt("continue",18);case 15:if(levels.push([n,p]),voids||!Editor.isVoid(editor,n)){_context2.next=18;break}return _context2.abrupt("break",20);case 18:_context2.next=11;break;case 20:_context2.next=25;break;case 22:_context2.prev=22,_context2.t0=_context2.catch(9),_iterator12.e(_context2.t0);case 25:return _context2.prev=25,_iterator12.f(),_context2.finish(25);case 28:return reverse&&levels.reverse(),_context2.delegateYield(levels,"t1",30);case 30:case"end":return _context2.stop()}}),_callee,null,[[9,22,25,28]])}))()},marks:function marks(editor){var marks=editor.marks,selection=editor.selection;if(!selection)return null;if(marks)return marks;if(Range.isExpanded(selection)){var match=_slicedToArray(Editor.nodes(editor,{match:Text.isText}),1)[0];return match?_objectWithoutProperties(_slicedToArray(match,1)[0],_excluded$4):{}}var anchor=selection.anchor,path=anchor.path,node=_slicedToArray(Editor.leaf(editor,path),1)[0];if(0===anchor.offset){var prev=Editor.previous(editor,{at:path,match:Text.isText}),block=Editor.above(editor,{match:function match(n){return Editor.isBlock(editor,n)}});if(prev&&block){var _prev2=_slicedToArray(prev,2),prevNode=_prev2[0],prevPath=_prev2[1],blockPath=_slicedToArray(block,2)[1];Path.isAncestor(blockPath,prevPath)&&(node=prevNode)}}return _objectWithoutProperties(node,_excluded2$3)},next:function next(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_options$mode2=options.mode,mode=void 0===_options$mode2?"lowest":_options$mode2,_options$voids3=options.voids,voids=void 0!==_options$voids3&&_options$voids3,match=options.match,_options$at3=options.at,at=void 0===_options$at3?editor.selection:_options$at3;if(at){var pointAfterLocation=Editor.after(editor,at,{voids});if(pointAfterLocation){var to=_slicedToArray(Editor.last(editor,[]),2)[1],span=[pointAfterLocation.path,to];if(Path.isPath(at)&&0===at.length)throw new Error("Cannot get the next node from the root node!");if(null==match)if(Path.isPath(at)){var parent=_slicedToArray(Editor.parent(editor,at),1)[0];match=function match(n){return parent.children.includes(n)}}else match=function match(){return!0};var next=_slicedToArray(Editor.nodes(editor,{at:span,match,mode,voids}),1)[0];return next}}},node:function node(editor,at){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},path=Editor.path(editor,at,options),node=Node.get(editor,path);return[node,path]},nodes:function nodes(editor){var _arguments2=arguments;return _regeneratorRuntime().mark((function _callee2(){var options,_options$at4,at,_options$mode3,mode,_options$universal,universal,_options$reverse2,reverse,_options$voids4,voids,match,from,to,first,last,nodeEntries,matches,hit,_iterator13,_step13,_step13$value,node,path,isLower,emit;return _regeneratorRuntime().wrap((function _callee2$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(_options$at4=(options=_arguments2.length>1&&void 0!==_arguments2[1]?_arguments2[1]:{}).at,at=void 0===_options$at4?editor.selection:_options$at4,_options$mode3=options.mode,mode=void 0===_options$mode3?"all":_options$mode3,_options$universal=options.universal,universal=void 0!==_options$universal&&_options$universal,_options$reverse2=options.reverse,reverse=void 0!==_options$reverse2&&_options$reverse2,_options$voids4=options.voids,voids=void 0!==_options$voids4&&_options$voids4,(match=options.match)||(match=function match(){return!0}),at){_context3.next=6;break}return _context3.abrupt("return");case 6:Span.isSpan(at)?(from=at[0],to=at[1]):(first=Editor.path(editor,at,{edge:"start"}),last=Editor.path(editor,at,{edge:"end"}),from=reverse?last:first,to=reverse?first:last),nodeEntries=Node.nodes(editor,{reverse,from,to,pass:function pass(_ref){var n=_slicedToArray(_ref,1)[0];return!voids&&Editor.isVoid(editor,n)}}),matches=[],_iterator13=_createForOfIteratorHelper(nodeEntries),_context3.prev=10,_iterator13.s();case 12:if((_step13=_iterator13.n()).done){_context3.next=37;break}if(_step13$value=_slicedToArray(_step13.value,2),node=_step13$value[0],path=_step13$value[1],isLower=hit&&0===Path.compare(path,hit[1]),"highest"!==mode||!isLower){_context3.next=17;break}return _context3.abrupt("continue",35);case 17:if(match(node,path)){_context3.next=23;break}if(!universal||isLower||!Text.isText(node)){_context3.next=22;break}return _context3.abrupt("return");case 22:return _context3.abrupt("continue",35);case 23:if("lowest"!==mode||!isLower){_context3.next=26;break}return hit=[node,path],_context3.abrupt("continue",35);case 26:if(!(emit="lowest"===mode?hit:[node,path])){_context3.next=34;break}if(!universal){_context3.next=32;break}matches.push(emit),_context3.next=34;break;case 32:return _context3.next=34,emit;case 34:hit=[node,path];case 35:_context3.next=12;break;case 37:_context3.next=42;break;case 39:_context3.prev=39,_context3.t0=_context3.catch(10),_iterator13.e(_context3.t0);case 42:return _context3.prev=42,_iterator13.f(),_context3.finish(42);case 45:if("lowest"!==mode||!hit){_context3.next=52;break}if(!universal){_context3.next=50;break}matches.push(hit),_context3.next=52;break;case 50:return _context3.next=52,hit;case 52:if(!universal){_context3.next=54;break}return _context3.delegateYield(matches,"t1",54);case 54:case"end":return _context3.stop()}}),_callee2,null,[[10,39,42,45]])}))()},normalize:function normalize(editor){var _options$force=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).force,force=void 0!==_options$force&&_options$force,getDirtyPaths=function getDirtyPaths(editor){return DIRTY_PATHS.get(editor)||[]},popDirtyPath=function popDirtyPath(editor){var path=getDirtyPaths(editor).pop(),key=path.join(",");return function getDirtyPathKeys(editor){return DIRTY_PATH_KEYS.get(editor)||new Set}(editor).delete(key),path};if(Editor.isNormalizing(editor)){if(force){var allPaths=Array.from(Node.nodes(editor),(function(_ref2){return _slicedToArray(_ref2,2)[1]})),allPathKeys=new Set(allPaths.map((function(p){return p.join(",")})));DIRTY_PATHS.set(editor,allPaths),DIRTY_PATH_KEYS.set(editor,allPathKeys)}0!==getDirtyPaths(editor).length&&Editor.withoutNormalizing(editor,(function(){var _step14,_iterator14=_createForOfIteratorHelper(getDirtyPaths(editor));try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var dirtyPath=_step14.value;if(Node.has(editor,dirtyPath)){var entry=Editor.node(editor,dirtyPath),_entry4=_slicedToArray(entry,2),node=_entry4[0];_entry4[1];Element.isElement(node)&&0===node.children.length&&editor.normalizeNode(entry)}}}catch(err){_iterator14.e(err)}finally{_iterator14.f()}for(var max=42*getDirtyPaths(editor).length,m=0;0!==getDirtyPaths(editor).length;){if(m>max)throw new Error("\n            Could not completely normalize the editor after ".concat(max," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var _dirtyPath=popDirtyPath(editor);if(Node.has(editor,_dirtyPath)){var _entry=Editor.node(editor,_dirtyPath);editor.normalizeNode(_entry)}m++}}))}},parent:function parent(editor,at){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},path=Editor.path(editor,at,options),parentPath=Path.parent(path);return Editor.node(editor,parentPath)},path:function path(editor,at){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},depth=options.depth,edge=options.edge;if(Path.isPath(at))if("start"===edge)at=_slicedToArray(Node.first(editor,at),2)[1];else if("end"===edge){at=_slicedToArray(Node.last(editor,at),2)[1]}return Range.isRange(at)&&(at="start"===edge?Range.start(at):"end"===edge?Range.end(at):Path.common(at.anchor.path,at.focus.path)),Point.isPoint(at)&&(at=at.path),null!=depth&&(at=at.slice(0,depth)),at},hasPath:function hasPath(editor,path){return Node.has(editor,path)},pathRef:function pathRef(editor,path){var _options$affinity=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,ref={current:path,affinity:void 0===_options$affinity?"forward":_options$affinity,unref:function unref(){var current=ref.current;return Editor.pathRefs(editor).delete(ref),ref.current=null,current}};return Editor.pathRefs(editor).add(ref),ref},pathRefs:function pathRefs(editor){var refs=PATH_REFS.get(editor);return refs||(refs=new Set,PATH_REFS.set(editor,refs)),refs},point:function point(editor,at){var _options$edge=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).edge,edge=void 0===_options$edge?"start":_options$edge;if(Path.isPath(at)){var path;if("end"===edge)path=_slicedToArray(Node.last(editor,at),2)[1];else path=_slicedToArray(Node.first(editor,at),2)[1];var node=Node.get(editor,path);if(!Text.isText(node))throw new Error("Cannot get the ".concat(edge," point in the node at path [").concat(at,"] because it has no ").concat(edge," text node."));return{path,offset:"end"===edge?node.text.length:0}}if(Range.isRange(at)){var _Range$edges2=_slicedToArray(Range.edges(at),2),start=_Range$edges2[0],end=_Range$edges2[1];return"start"===edge?start:end}return at},pointRef:function pointRef(editor,point){var _options$affinity2=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,ref={current:point,affinity:void 0===_options$affinity2?"forward":_options$affinity2,unref:function unref(){var current=ref.current;return Editor.pointRefs(editor).delete(ref),ref.current=null,current}};return Editor.pointRefs(editor).add(ref),ref},pointRefs:function pointRefs(editor){var refs=POINT_REFS.get(editor);return refs||(refs=new Set,POINT_REFS.set(editor,refs)),refs},positions:function positions(editor){var _arguments3=arguments;return _regeneratorRuntime().mark((function _callee3(){var options,_options$at5,at,_options$unit3,unit,_options$reverse3,reverse,_options$voids5,voids,range,_Range$edges3,_Range$edges4,start,end,first,isNewBlock,blockText,distance,leafTextRemaining,leafTextOffset,_iterator15,_step15,_step15$value,node,path,e,s,isFirst,calcDistance;return _regeneratorRuntime().wrap((function _callee3$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(calcDistance=function _calcDistance(text,unit,reverse){return"character"===unit?getCharacterDistance(text,reverse):"word"===unit?getWordDistance(text,reverse):"line"===unit||"block"===unit?text.length:1},_options$at5=(options=_arguments3.length>1&&void 0!==_arguments3[1]?_arguments3[1]:{}).at,at=void 0===_options$at5?editor.selection:_options$at5,_options$unit3=options.unit,unit=void 0===_options$unit3?"offset":_options$unit3,_options$reverse3=options.reverse,reverse=void 0!==_options$reverse3&&_options$reverse3,_options$voids5=options.voids,voids=void 0!==_options$voids5&&_options$voids5,at){_context4.next=5;break}return _context4.abrupt("return");case 5:range=Editor.range(editor,at),_Range$edges3=Range.edges(range),_Range$edges4=_slicedToArray(_Range$edges3,2),start=_Range$edges4[0],end=_Range$edges4[1],first=reverse?end:start,isNewBlock=!1,blockText="",distance=0,leafTextRemaining=0,leafTextOffset=0,_iterator15=_createForOfIteratorHelper(Editor.nodes(editor,{at,reverse,voids})),_context4.prev=14,_iterator15.s();case 16:if((_step15=_iterator15.n()).done){_context4.next=51;break}if(_step15$value=_slicedToArray(_step15.value,2),node=_step15$value[0],path=_step15$value[1],!Element.isElement(node)){_context4.next=26;break}if(voids||!editor.isVoid(node)){_context4.next=23;break}return _context4.next=22,Editor.start(editor,path);case 22:return _context4.abrupt("continue",49);case 23:if(!editor.isInline(node)){_context4.next=25;break}return _context4.abrupt("continue",49);case 25:Editor.hasInlines(editor,node)&&(e=Path.isAncestor(path,end.path)?end:Editor.end(editor,path),s=Path.isAncestor(path,start.path)?start:Editor.start(editor,path),blockText=Editor.string(editor,{anchor:s,focus:e},{voids}),isNewBlock=!0);case 26:if(!Text.isText(node)){_context4.next=49;break}if((isFirst=Path.equals(path,first.path))?(leafTextRemaining=reverse?first.offset:node.text.length-first.offset,leafTextOffset=first.offset):(leafTextRemaining=node.text.length,leafTextOffset=reverse?leafTextRemaining:0),!isFirst&&!isNewBlock&&"offset"!==unit){_context4.next=33;break}return _context4.next=32,{path,offset:leafTextOffset};case 32:isNewBlock=!1;case 33:if(0!==distance){_context4.next=39;break}if(""!==blockText){_context4.next=37;break}return _context4.abrupt("break",49);case 37:distance=calcDistance(blockText,unit,reverse),blockText=splitByCharacterDistance(blockText,distance,reverse)[1];case 39:if(leafTextOffset=reverse?leafTextOffset-distance:leafTextOffset+distance,!((leafTextRemaining-=distance)<0)){_context4.next=44;break}return distance=-leafTextRemaining,_context4.abrupt("break",49);case 44:return distance=0,_context4.next=47,{path,offset:leafTextOffset};case 47:_context4.next=33;break;case 49:_context4.next=16;break;case 51:_context4.next=56;break;case 53:_context4.prev=53,_context4.t0=_context4.catch(14),_iterator15.e(_context4.t0);case 56:return _context4.prev=56,_iterator15.f(),_context4.finish(56);case 59:case"end":return _context4.stop()}}),_callee3,null,[[14,53,56,59]])}))()},previous:function previous(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_options$mode4=options.mode,mode=void 0===_options$mode4?"lowest":_options$mode4,_options$voids6=options.voids,voids=void 0!==_options$voids6&&_options$voids6,match=options.match,_options$at6=options.at,at=void 0===_options$at6?editor.selection:_options$at6;if(at){var pointBeforeLocation=Editor.before(editor,at,{voids});if(pointBeforeLocation){var to=_slicedToArray(Editor.first(editor,[]),2)[1],span=[pointBeforeLocation.path,to];if(Path.isPath(at)&&0===at.length)throw new Error("Cannot get the previous node from the root node!");if(null==match)if(Path.isPath(at)){var parent=_slicedToArray(Editor.parent(editor,at),1)[0];match=function match(n){return parent.children.includes(n)}}else match=function match(){return!0};var previous=_slicedToArray(Editor.nodes(editor,{reverse:!0,at:span,match,mode,voids}),1)[0];return previous}}},range:function range(editor,at,to){return Range.isRange(at)&&!to?at:{anchor:Editor.start(editor,at),focus:Editor.end(editor,to||at)}},rangeRef:function rangeRef(editor,range){var _options$affinity3=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,ref={current:range,affinity:void 0===_options$affinity3?"forward":_options$affinity3,unref:function unref(){var current=ref.current;return Editor.rangeRefs(editor).delete(ref),ref.current=null,current}};return Editor.rangeRefs(editor).add(ref),ref},rangeRefs:function rangeRefs(editor){var refs=RANGE_REFS.get(editor);return refs||(refs=new Set,RANGE_REFS.set(editor,refs)),refs},removeMark:function removeMark(editor,key){editor.removeMark(key)},setNormalizing:function setNormalizing(editor,isNormalizing){NORMALIZING.set(editor,isNormalizing)},start:function start(editor,at){return Editor.point(editor,at,{edge:"start"})},string:function string(editor,at){var _step16,_options$voids7=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).voids,voids=void 0!==_options$voids7&&_options$voids7,range=Editor.range(editor,at),_Range$edges6=_slicedToArray(Range.edges(range),2),start=_Range$edges6[0],end=_Range$edges6[1],text="",_iterator16=_createForOfIteratorHelper(Editor.nodes(editor,{at:range,match:Text.isText,voids}));try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var _step16$value=_slicedToArray(_step16.value,2),node=_step16$value[0],path=_step16$value[1],t=node.text;Path.equals(path,end.path)&&(t=t.slice(0,end.offset)),Path.equals(path,start.path)&&(t=t.slice(start.offset)),text+=t}}catch(err){_iterator16.e(err)}finally{_iterator16.f()}return text},unhangRange:function unhangRange(editor,range){var _options$voids8=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).voids,voids=void 0!==_options$voids8&&_options$voids8,_Range$edges8=_slicedToArray(Range.edges(range),2),start=_Range$edges8[0],end=_Range$edges8[1];if(0!==start.offset||0!==end.offset||Range.isCollapsed(range))return range;var _step17,endBlock=Editor.above(editor,{at:end,match:function match(n){return Editor.isBlock(editor,n)}}),blockPath=endBlock?endBlock[1]:[],before={anchor:Editor.start(editor,start),focus:end},skip=!0,_iterator17=_createForOfIteratorHelper(Editor.nodes(editor,{at:before,match:Text.isText,reverse:!0,voids}));try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var _step17$value=_slicedToArray(_step17.value,2),node=_step17$value[0],path=_step17$value[1];if(skip)skip=!1;else if(""!==node.text||Path.isBefore(path,blockPath)){end={path,offset:node.text.length};break}}}catch(err){_iterator17.e(err)}finally{_iterator17.f()}return{anchor:start,focus:end}},void:function _void(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Editor.above(editor,_objectSpread$8(_objectSpread$8({},options),{},{match:function match(n){return Editor.isVoid(editor,n)}}))},withoutNormalizing:function withoutNormalizing(editor,fn){var value=Editor.isNormalizing(editor);Editor.setNormalizing(editor,!1);try{fn()}finally{Editor.setNormalizing(editor,value)}Editor.normalize(editor)}};exports.Editor=Editor;var Location={isLocation:function isLocation(value){return Path.isPath(value)||Point.isPoint(value)||Range.isRange(value)}};exports.Location=Location;var Span={isSpan:function isSpan(value){return Array.isArray(value)&&2===value.length&&value.every(Path.isPath)}};exports.Span=Span;var _excluded$3=["children"],_excluded2$2=["text"],IS_NODE_LIST_CACHE=new WeakMap,Node={ancestor:function ancestor(root,path){var node=Node.get(root,path);if(Text.isText(node))throw new Error("Cannot get the ancestor node at path [".concat(path,"] because it refers to a text node instead: ").concat(Scrubber.stringify(node)));return node},ancestors:function ancestors(root,path){var _arguments4=arguments;return _regeneratorRuntime().mark((function _callee4(){var options,_iterator18,_step18,p,n,entry;return _regeneratorRuntime().wrap((function _callee4$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:options=_arguments4.length>2&&void 0!==_arguments4[2]?_arguments4[2]:{},_iterator18=_createForOfIteratorHelper(Path.ancestors(path,options)),_context5.prev=2,_iterator18.s();case 4:if((_step18=_iterator18.n()).done){_context5.next=12;break}return p=_step18.value,n=Node.ancestor(root,p),entry=[n,p],_context5.next=10,entry;case 10:_context5.next=4;break;case 12:_context5.next=17;break;case 14:_context5.prev=14,_context5.t0=_context5.catch(2),_iterator18.e(_context5.t0);case 17:return _context5.prev=17,_iterator18.f(),_context5.finish(17);case 20:case"end":return _context5.stop()}}),_callee4,null,[[2,14,17,20]])}))()},child:function child(root,index){if(Text.isText(root))throw new Error("Cannot get the child of a text node: ".concat(Scrubber.stringify(root)));var c=root.children[index];if(null==c)throw new Error("Cannot get child at index `".concat(index,"` in node: ").concat(Scrubber.stringify(root)));return c},children:function children(root,path){var _arguments5=arguments;return _regeneratorRuntime().mark((function _callee5(){var _options$reverse4,reverse,ancestor,children,index,child,childPath;return _regeneratorRuntime().wrap((function _callee5$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:_options$reverse4=(_arguments5.length>2&&void 0!==_arguments5[2]?_arguments5[2]:{}).reverse,reverse=void 0!==_options$reverse4&&_options$reverse4,ancestor=Node.ancestor(root,path),children=ancestor.children,index=reverse?children.length-1:0;case 5:if(!(reverse?index>=0:index<children.length)){_context6.next=13;break}return child=Node.child(ancestor,index),childPath=path.concat(index),_context6.next=10,[child,childPath];case 10:index=reverse?index-1:index+1,_context6.next=5;break;case 13:case"end":return _context6.stop()}}),_callee5)}))()},common:function common(root,path,another){var p=Path.common(path,another);return[Node.get(root,p),p]},descendant:function descendant(root,path){var node=Node.get(root,path);if(Editor.isEditor(node))throw new Error("Cannot get the descendant node at path [".concat(path,"] because it refers to the root editor node instead: ").concat(Scrubber.stringify(node)));return node},descendants:function descendants(root){var _arguments6=arguments;return _regeneratorRuntime().mark((function _callee6(){var options,_iterator19,_step19,_step19$value,node,path;return _regeneratorRuntime().wrap((function _callee6$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:options=_arguments6.length>1&&void 0!==_arguments6[1]?_arguments6[1]:{},_iterator19=_createForOfIteratorHelper(Node.nodes(root,options)),_context7.prev=2,_iterator19.s();case 4:if((_step19=_iterator19.n()).done){_context7.next=11;break}if(_step19$value=_slicedToArray(_step19.value,2),node=_step19$value[0],0===(path=_step19$value[1]).length){_context7.next=9;break}return _context7.next=9,[node,path];case 9:_context7.next=4;break;case 11:_context7.next=16;break;case 13:_context7.prev=13,_context7.t0=_context7.catch(2),_iterator19.e(_context7.t0);case 16:return _context7.prev=16,_iterator19.f(),_context7.finish(16);case 19:case"end":return _context7.stop()}}),_callee6,null,[[2,13,16,19]])}))()},elements:function elements(root){var _arguments7=arguments;return _regeneratorRuntime().mark((function _callee7(){var options,_iterator20,_step20,_step20$value,node,path;return _regeneratorRuntime().wrap((function _callee7$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:options=_arguments7.length>1&&void 0!==_arguments7[1]?_arguments7[1]:{},_iterator20=_createForOfIteratorHelper(Node.nodes(root,options)),_context8.prev=2,_iterator20.s();case 4:if((_step20=_iterator20.n()).done){_context8.next=11;break}if(_step20$value=_slicedToArray(_step20.value,2),node=_step20$value[0],path=_step20$value[1],!Element.isElement(node)){_context8.next=9;break}return _context8.next=9,[node,path];case 9:_context8.next=4;break;case 11:_context8.next=16;break;case 13:_context8.prev=13,_context8.t0=_context8.catch(2),_iterator20.e(_context8.t0);case 16:return _context8.prev=16,_iterator20.f(),_context8.finish(16);case 19:case"end":return _context8.stop()}}),_callee7,null,[[2,13,16,19]])}))()},extractProps:function extractProps(node){return Element.isAncestor(node)?_objectWithoutProperties(node,_excluded$3):_objectWithoutProperties(node,_excluded2$2)},first:function first(root,path){for(var p=path.slice(),n=Node.get(root,p);n&&!Text.isText(n)&&0!==n.children.length;)n=n.children[0],p.push(0);return[n,p]},fragment:function fragment(root,range){if(Text.isText(root))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Scrubber.stringify(root)));return(0,_immer.produce)({children:root.children},(function(r){var _step21,_Range$edges10=_slicedToArray(Range.edges(range),2),start=_Range$edges10[0],end=_Range$edges10[1],nodeEntries=Node.nodes(r,{reverse:!0,pass:function pass(_ref){var path=_slicedToArray(_ref,2)[1];return!Range.includes(range,path)}}),_iterator21=_createForOfIteratorHelper(nodeEntries);try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var path=_slicedToArray(_step21.value,2)[1];if(!Range.includes(range,path)){var parent=Node.parent(r,path),index=path[path.length-1];parent.children.splice(index,1)}if(Path.equals(path,end.path)){var leaf=Node.leaf(r,path);leaf.text=leaf.text.slice(0,end.offset)}if(Path.equals(path,start.path)){var _leaf=Node.leaf(r,path);_leaf.text=_leaf.text.slice(start.offset)}}}catch(err){_iterator21.e(err)}finally{_iterator21.f()}Editor.isEditor(r)&&(r.selection=null)})).children},get:function get(root,path){for(var node=root,i=0;i<path.length;i++){var p=path[i];if(Text.isText(node)||!node.children[p])throw new Error("Cannot find a descendant at path [".concat(path,"] in node: ").concat(Scrubber.stringify(root)));node=node.children[p]}return node},has:function has(root,path){for(var node=root,i=0;i<path.length;i++){var p=path[i];if(Text.isText(node)||!node.children[p])return!1;node=node.children[p]}return!0},isNode:function isNode(value){return Text.isText(value)||Element.isElement(value)||Editor.isEditor(value)},isNodeList:function isNodeList(value){if(!Array.isArray(value))return!1;var cachedResult=IS_NODE_LIST_CACHE.get(value);if(void 0!==cachedResult)return cachedResult;var isNodeList=value.every((function(val){return Node.isNode(val)}));return IS_NODE_LIST_CACHE.set(value,isNodeList),isNodeList},last:function last(root,path){for(var p=path.slice(),n=Node.get(root,p);n&&!Text.isText(n)&&0!==n.children.length;){var i=n.children.length-1;n=n.children[i],p.push(i)}return[n,p]},leaf:function leaf(root,path){var node=Node.get(root,path);if(!Text.isText(node))throw new Error("Cannot get the leaf node at path [".concat(path,"] because it refers to a non-leaf node: ").concat(Scrubber.stringify(node)));return node},levels:function levels(root,path){var _arguments8=arguments;return _regeneratorRuntime().mark((function _callee8(){var options,_iterator22,_step22,p,n;return _regeneratorRuntime().wrap((function _callee8$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:options=_arguments8.length>2&&void 0!==_arguments8[2]?_arguments8[2]:{},_iterator22=_createForOfIteratorHelper(Path.levels(path,options)),_context9.prev=2,_iterator22.s();case 4:if((_step22=_iterator22.n()).done){_context9.next=11;break}return p=_step22.value,n=Node.get(root,p),_context9.next=9,[n,p];case 9:_context9.next=4;break;case 11:_context9.next=16;break;case 13:_context9.prev=13,_context9.t0=_context9.catch(2),_iterator22.e(_context9.t0);case 16:return _context9.prev=16,_iterator22.f(),_context9.finish(16);case 19:case"end":return _context9.stop()}}),_callee8,null,[[2,13,16,19]])}))()},matches:function matches(node,props){return Element.isElement(node)&&Element.isElementProps(props)&&Element.matches(node,props)||Text.isText(node)&&Text.isTextProps(props)&&Text.matches(node,props)},nodes:function nodes(root){var _arguments9=arguments;return _regeneratorRuntime().mark((function _callee9(){var options,pass,_options$reverse5,reverse,_options$from,from,to,visited,p,n,nextIndex,newPath,_newPath;return _regeneratorRuntime().wrap((function _callee9$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:pass=(options=_arguments9.length>1&&void 0!==_arguments9[1]?_arguments9[1]:{}).pass,_options$reverse5=options.reverse,reverse=void 0!==_options$reverse5&&_options$reverse5,_options$from=options.from,from=void 0===_options$from?[]:_options$from,to=options.to,visited=new Set,p=[],n=root;case 6:if(!to||!(reverse?Path.isBefore(p,to):Path.isAfter(p,to))){_context10.next=9;break}return _context10.abrupt("break",37);case 9:if(visited.has(n)){_context10.next=12;break}return _context10.next=12,[n,p];case 12:if(visited.has(n)||Text.isText(n)||0===n.children.length||null!=pass&&!1!==pass([n,p])){_context10.next=19;break}return visited.add(n),nextIndex=reverse?n.children.length-1:0,Path.isAncestor(p,from)&&(nextIndex=from[p.length]),p=p.concat(nextIndex),n=Node.get(root,p),_context10.abrupt("continue",6);case 19:if(0!==p.length){_context10.next=21;break}return _context10.abrupt("break",37);case 21:if(reverse){_context10.next=27;break}if(newPath=Path.next(p),!Node.has(root,newPath)){_context10.next=27;break}return p=newPath,n=Node.get(root,p),_context10.abrupt("continue",6);case 27:if(!reverse||0===p[p.length-1]){_context10.next=32;break}return _newPath=Path.previous(p),p=_newPath,n=Node.get(root,p),_context10.abrupt("continue",6);case 32:p=Path.parent(p),n=Node.get(root,p),visited.add(n),_context10.next=6;break;case 37:case"end":return _context10.stop()}}),_callee9)}))()},parent:function parent(root,path){var parentPath=Path.parent(path),p=Node.get(root,parentPath);if(Text.isText(p))throw new Error("Cannot get the parent of path [".concat(path,"] because it does not exist in the root."));return p},string:function string(node){return Text.isText(node)?node.text:node.children.map(Node.string).join("")},texts:function texts(root){var _arguments10=arguments;return _regeneratorRuntime().mark((function _callee10(){var options,_iterator23,_step23,_step23$value,node,path;return _regeneratorRuntime().wrap((function _callee10$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:options=_arguments10.length>1&&void 0!==_arguments10[1]?_arguments10[1]:{},_iterator23=_createForOfIteratorHelper(Node.nodes(root,options)),_context11.prev=2,_iterator23.s();case 4:if((_step23=_iterator23.n()).done){_context11.next=11;break}if(_step23$value=_slicedToArray(_step23.value,2),node=_step23$value[0],path=_step23$value[1],!Text.isText(node)){_context11.next=9;break}return _context11.next=9,[node,path];case 9:_context11.next=4;break;case 11:_context11.next=16;break;case 13:_context11.prev=13,_context11.t0=_context11.catch(2),_iterator23.e(_context11.t0);case 16:return _context11.prev=16,_iterator23.f(),_context11.finish(16);case 19:case"end":return _context11.stop()}}),_callee10,null,[[2,13,16,19]])}))()}};function ownKeys$7(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$7(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$7(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$7(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}exports.Node=Node;var Operation={isNodeOperation:function isNodeOperation(value){return Operation.isOperation(value)&&value.type.endsWith("_node")},isOperation:function isOperation(value){if(!(0,_isPlainObject.isPlainObject)(value))return!1;switch(value.type){case"insert_node":case"remove_node":return Path.isPath(value.path)&&Node.isNode(value.node);case"insert_text":case"remove_text":return"number"==typeof value.offset&&"string"==typeof value.text&&Path.isPath(value.path);case"merge_node":return"number"==typeof value.position&&Path.isPath(value.path)&&(0,_isPlainObject.isPlainObject)(value.properties);case"move_node":return Path.isPath(value.path)&&Path.isPath(value.newPath);case"set_node":return Path.isPath(value.path)&&(0,_isPlainObject.isPlainObject)(value.properties)&&(0,_isPlainObject.isPlainObject)(value.newProperties);case"set_selection":return null===value.properties&&Range.isRange(value.newProperties)||null===value.newProperties&&Range.isRange(value.properties)||(0,_isPlainObject.isPlainObject)(value.properties)&&(0,_isPlainObject.isPlainObject)(value.newProperties);case"split_node":return Path.isPath(value.path)&&"number"==typeof value.position&&(0,_isPlainObject.isPlainObject)(value.properties);default:return!1}},isOperationList:function isOperationList(value){return Array.isArray(value)&&value.every((function(val){return Operation.isOperation(val)}))},isSelectionOperation:function isSelectionOperation(value){return Operation.isOperation(value)&&value.type.endsWith("_selection")},isTextOperation:function isTextOperation(value){return Operation.isOperation(value)&&value.type.endsWith("_text")},inverse:function inverse(op){switch(op.type){case"insert_node":return _objectSpread$7(_objectSpread$7({},op),{},{type:"remove_node"});case"insert_text":return _objectSpread$7(_objectSpread$7({},op),{},{type:"remove_text"});case"merge_node":return _objectSpread$7(_objectSpread$7({},op),{},{type:"split_node",path:Path.previous(op.path)});case"move_node":var newPath=op.newPath,path=op.path;if(Path.equals(newPath,path))return op;if(Path.isSibling(path,newPath))return _objectSpread$7(_objectSpread$7({},op),{},{path:newPath,newPath:path});var inversePath=Path.transform(path,op),inverseNewPath=Path.transform(Path.next(path),op);return _objectSpread$7(_objectSpread$7({},op),{},{path:inversePath,newPath:inverseNewPath});case"remove_node":return _objectSpread$7(_objectSpread$7({},op),{},{type:"insert_node"});case"remove_text":return _objectSpread$7(_objectSpread$7({},op),{},{type:"insert_text"});case"set_node":var properties=op.properties,newProperties=op.newProperties;return _objectSpread$7(_objectSpread$7({},op),{},{properties:newProperties,newProperties:properties});case"set_selection":var _properties=op.properties,_newProperties=op.newProperties;return _objectSpread$7(_objectSpread$7({},op),{},null==_properties?{properties:_newProperties,newProperties:null}:null==_newProperties?{properties:null,newProperties:_properties}:{properties:_newProperties,newProperties:_properties});case"split_node":return _objectSpread$7(_objectSpread$7({},op),{},{type:"merge_node",path:Path.next(op.path)})}}};exports.Operation=Operation;var Path={ancestors:function ancestors(path){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_options$reverse6=options.reverse,reverse=void 0!==_options$reverse6&&_options$reverse6,paths=Path.levels(path,options);return paths=reverse?paths.slice(1):paths.slice(0,-1)},common:function common(path,another){for(var common=[],i=0;i<path.length&&i<another.length;i++){var av=path[i];if(av!==another[i])break;common.push(av)}return common},compare:function compare(path,another){for(var min=Math.min(path.length,another.length),i=0;i<min;i++){if(path[i]<another[i])return-1;if(path[i]>another[i])return 1}return 0},endsAfter:function endsAfter(path,another){var i=path.length-1,as=path.slice(0,i),bs=another.slice(0,i),av=path[i],bv=another[i];return Path.equals(as,bs)&&av>bv},endsAt:function endsAt(path,another){var i=path.length,as=path.slice(0,i),bs=another.slice(0,i);return Path.equals(as,bs)},endsBefore:function endsBefore(path,another){var i=path.length-1,as=path.slice(0,i),bs=another.slice(0,i),av=path[i],bv=another[i];return Path.equals(as,bs)&&av<bv},equals:function equals(path,another){return path.length===another.length&&path.every((function(n,i){return n===another[i]}))},hasPrevious:function hasPrevious(path){return path[path.length-1]>0},isAfter:function isAfter(path,another){return 1===Path.compare(path,another)},isAncestor:function isAncestor(path,another){return path.length<another.length&&0===Path.compare(path,another)},isBefore:function isBefore(path,another){return-1===Path.compare(path,another)},isChild:function isChild(path,another){return path.length===another.length+1&&0===Path.compare(path,another)},isCommon:function isCommon(path,another){return path.length<=another.length&&0===Path.compare(path,another)},isDescendant:function isDescendant(path,another){return path.length>another.length&&0===Path.compare(path,another)},isParent:function isParent(path,another){return path.length+1===another.length&&0===Path.compare(path,another)},isPath:function isPath(value){return Array.isArray(value)&&(0===value.length||"number"==typeof value[0])},isSibling:function isSibling(path,another){if(path.length!==another.length)return!1;var as=path.slice(0,-1),bs=another.slice(0,-1);return path[path.length-1]!==another[another.length-1]&&Path.equals(as,bs)},levels:function levels(path){for(var _options$reverse7=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).reverse,reverse=void 0!==_options$reverse7&&_options$reverse7,list=[],i=0;i<=path.length;i++)list.push(path.slice(0,i));return reverse&&list.reverse(),list},next:function next(path){if(0===path.length)throw new Error("Cannot get the next path of a root path [".concat(path,"], because it has no next index."));var last=path[path.length-1];return path.slice(0,-1).concat(last+1)},operationCanTransformPath:function operationCanTransformPath(operation){switch(operation.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent:function parent(path){if(0===path.length)throw new Error("Cannot get the parent path of the root path [".concat(path,"]."));return path.slice(0,-1)},previous:function previous(path){if(0===path.length)throw new Error("Cannot get the previous path of a root path [".concat(path,"], because it has no previous index."));var last=path[path.length-1];if(last<=0)throw new Error("Cannot get the previous path of a first child path [".concat(path,"] because it would result in a negative index."));return path.slice(0,-1).concat(last-1)},relative:function relative(path,ancestor){if(!Path.isAncestor(ancestor,path)&&!Path.equals(path,ancestor))throw new Error("Cannot get the relative path of [".concat(path,"] inside ancestor [").concat(ancestor,"], because it is not above or equal to the path."));return path.slice(ancestor.length)},transform:function transform(path,operation){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,_immer.produce)(path,(function(p){var _options$affinity4=options.affinity,affinity=void 0===_options$affinity4?"forward":_options$affinity4;if(path&&0!==(null==path?void 0:path.length)){if(null===p)return null;switch(operation.type){case"insert_node":var op=operation.path;(Path.equals(op,p)||Path.endsBefore(op,p)||Path.isAncestor(op,p))&&(p[op.length-1]+=1);break;case"remove_node":var _op=operation.path;if(Path.equals(_op,p)||Path.isAncestor(_op,p))return null;Path.endsBefore(_op,p)&&(p[_op.length-1]-=1);break;case"merge_node":var _op2=operation.path,position=operation.position;Path.equals(_op2,p)||Path.endsBefore(_op2,p)?p[_op2.length-1]-=1:Path.isAncestor(_op2,p)&&(p[_op2.length-1]-=1,p[_op2.length]+=position);break;case"split_node":var _op3=operation.path,_position=operation.position;if(Path.equals(_op3,p)){if("forward"===affinity)p[p.length-1]+=1;else if("backward"!==affinity)return null}else Path.endsBefore(_op3,p)?p[_op3.length-1]+=1:Path.isAncestor(_op3,p)&&path[_op3.length]>=_position&&(p[_op3.length-1]+=1,p[_op3.length]-=_position);break;case"move_node":var _op4=operation.path,onp=operation.newPath;if(Path.equals(_op4,onp))return;if(Path.isAncestor(_op4,p)||Path.equals(_op4,p)){var copy=onp.slice();return Path.endsBefore(_op4,onp)&&_op4.length<onp.length&&(copy[_op4.length-1]-=1),copy.concat(p.slice(_op4.length))}Path.isSibling(_op4,onp)&&(Path.isAncestor(onp,p)||Path.equals(onp,p))?Path.endsBefore(_op4,p)?p[_op4.length-1]-=1:p[_op4.length-1]+=1:Path.endsBefore(onp,p)||Path.equals(onp,p)||Path.isAncestor(onp,p)?(Path.endsBefore(_op4,p)&&(p[_op4.length-1]-=1),p[onp.length-1]+=1):Path.endsBefore(_op4,p)&&(Path.equals(onp,p)&&(p[onp.length-1]+=1),p[_op4.length-1]-=1)}}}))}};exports.Path=Path;var PathRef={transform:function transform(ref,op){var current=ref.current,affinity=ref.affinity;if(null!=current){var path=Path.transform(current,op,{affinity});ref.current=path,null==path&&ref.unref()}}};function ownKeys$6(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$6(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$6(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$6(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}exports.PathRef=PathRef;var Point={compare:function compare(point,another){var result=Path.compare(point.path,another.path);return 0===result?point.offset<another.offset?-1:point.offset>another.offset?1:0:result},isAfter:function isAfter(point,another){return 1===Point.compare(point,another)},isBefore:function isBefore(point,another){return-1===Point.compare(point,another)},equals:function equals(point,another){return point.offset===another.offset&&Path.equals(point.path,another.path)},isPoint:function isPoint(value){return(0,_isPlainObject.isPlainObject)(value)&&"number"==typeof value.offset&&Path.isPath(value.path)},transform:function transform(point,op){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,_immer.produce)(point,(function(p){if(null===p)return null;var _options$affinity5=options.affinity,affinity=void 0===_options$affinity5?"forward":_options$affinity5,path=p.path,offset=p.offset;switch(op.type){case"insert_node":case"move_node":p.path=Path.transform(path,op,options);break;case"insert_text":Path.equals(op.path,path)&&(op.offset<offset||op.offset===offset&&"forward"===affinity)&&(p.offset+=op.text.length);break;case"merge_node":Path.equals(op.path,path)&&(p.offset+=op.position),p.path=Path.transform(path,op,options);break;case"remove_text":Path.equals(op.path,path)&&op.offset<=offset&&(p.offset-=Math.min(offset-op.offset,op.text.length));break;case"remove_node":if(Path.equals(op.path,path)||Path.isAncestor(op.path,path))return null;p.path=Path.transform(path,op,options);break;case"split_node":if(Path.equals(op.path,path)){if(op.position===offset&&null==affinity)return null;(op.position<offset||op.position===offset&&"forward"===affinity)&&(p.offset-=op.position,p.path=Path.transform(path,op,_objectSpread$6(_objectSpread$6({},options),{},{affinity:"forward"})))}else p.path=Path.transform(path,op,options)}}))}};exports.Point=Point;var PointRef={transform:function transform(ref,op){var current=ref.current,affinity=ref.affinity;if(null!=current){var point=Point.transform(current,op,{affinity});ref.current=point,null==point&&ref.unref()}}};exports.PointRef=PointRef;var _excluded$2=["anchor","focus"];function ownKeys$5(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}var Range={edges:function edges(range){var _options$reverse8=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).reverse,reverse=void 0!==_options$reverse8&&_options$reverse8,anchor=range.anchor,focus=range.focus;return Range.isBackward(range)===reverse?[anchor,focus]:[focus,anchor]},end:function end(range){var end=_slicedToArray(Range.edges(range),2)[1];return end},equals:function equals(range,another){return Point.equals(range.anchor,another.anchor)&&Point.equals(range.focus,another.focus)},includes:function includes(range,target){if(Range.isRange(target)){if(Range.includes(range,target.anchor)||Range.includes(range,target.focus))return!0;var _Range$edges14=_slicedToArray(Range.edges(range),2),rs=_Range$edges14[0],re=_Range$edges14[1],_Range$edges16=_slicedToArray(Range.edges(target),2),ts=_Range$edges16[0],te=_Range$edges16[1];return Point.isBefore(rs,ts)&&Point.isAfter(re,te)}var _Range$edges18=_slicedToArray(Range.edges(range),2),start=_Range$edges18[0],end=_Range$edges18[1],isAfterStart=!1,isBeforeEnd=!1;return Point.isPoint(target)?(isAfterStart=Point.compare(target,start)>=0,isBeforeEnd=Point.compare(target,end)<=0):(isAfterStart=Path.compare(target,start.path)>=0,isBeforeEnd=Path.compare(target,end.path)<=0),isAfterStart&&isBeforeEnd},intersection:function intersection(range,another){var rest=_objectWithoutProperties(range,_excluded$2),_Range$edges20=_slicedToArray(Range.edges(range),2),s1=_Range$edges20[0],e1=_Range$edges20[1],_Range$edges22=_slicedToArray(Range.edges(another),2),s2=_Range$edges22[0],e2=_Range$edges22[1],start=Point.isBefore(s1,s2)?s2:s1,end=Point.isBefore(e1,e2)?e1:e2;return Point.isBefore(end,start)?null:function _objectSpread$5(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$5(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$5(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({anchor:start,focus:end},rest)},isBackward:function isBackward(range){var anchor=range.anchor,focus=range.focus;return Point.isAfter(anchor,focus)},isCollapsed:function isCollapsed(range){var anchor=range.anchor,focus=range.focus;return Point.equals(anchor,focus)},isExpanded:function isExpanded(range){return!Range.isCollapsed(range)},isForward:function isForward(range){return!Range.isBackward(range)},isRange:function isRange(value){return(0,_isPlainObject.isPlainObject)(value)&&Point.isPoint(value.anchor)&&Point.isPoint(value.focus)},points:function points(range){return _regeneratorRuntime().mark((function _callee11(){return _regeneratorRuntime().wrap((function _callee11$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return _context12.next=2,[range.anchor,"anchor"];case 2:return _context12.next=4,[range.focus,"focus"];case 4:case"end":return _context12.stop()}}),_callee11)}))()},start:function start(range){var start=_slicedToArray(Range.edges(range),1)[0];return start},transform:function transform(range,op){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,_immer.produce)(range,(function(r){if(null===r)return null;var affinityAnchor,affinityFocus,_options$affinity6=options.affinity,affinity=void 0===_options$affinity6?"inward":_options$affinity6;if("inward"===affinity){var isCollapsed=Range.isCollapsed(r);Range.isForward(r)?(affinityAnchor="forward",affinityFocus=isCollapsed?affinityAnchor:"backward"):(affinityAnchor="backward",affinityFocus=isCollapsed?affinityAnchor:"forward")}else"outward"===affinity?Range.isForward(r)?(affinityAnchor="backward",affinityFocus="forward"):(affinityAnchor="forward",affinityFocus="backward"):(affinityAnchor=affinity,affinityFocus=affinity);var anchor=Point.transform(r.anchor,op,{affinity:affinityAnchor}),focus=Point.transform(r.focus,op,{affinity:affinityFocus});if(!anchor||!focus)return null;r.anchor=anchor,r.focus=focus}))}};exports.Range=Range;var RangeRef={transform:function transform(ref,op){var current=ref.current,affinity=ref.affinity;if(null!=current){var path=Range.transform(current,op,{affinity});ref.current=path,null==path&&ref.unref()}}};exports.RangeRef=RangeRef;var _scrubber=void 0,Scrubber={setScrubber:function setScrubber(scrubber){_scrubber=scrubber},stringify:function stringify(value){return JSON.stringify(value,_scrubber)}};exports.Scrubber=Scrubber;var isDeepEqual=function isDeepEqual(node,another){for(var key in node){var a=node[key],b=another[key];if((0,_isPlainObject.isPlainObject)(a)&&(0,_isPlainObject.isPlainObject)(b)){if(!isDeepEqual(a,b))return!1}else if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(var i=0;i<a.length;i++)if(a[i]!==b[i])return!1}else if(a!==b)return!1}for(var _key in another)if(void 0===node[_key]&&void 0!==another[_key])return!1;return!0},_excluded$1=["text"],_excluded2$1=["anchor","focus"];function ownKeys$4(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$4(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$4(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$4(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Text={equals:function equals(text,another){var _options$loose=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).loose,loose=void 0!==_options$loose&&_options$loose;function omitText(obj){return _objectWithoutProperties(obj,_excluded$1)}return isDeepEqual(loose?omitText(text):text,loose?omitText(another):another)},isText:function isText(value){return(0,_isPlainObject.isPlainObject)(value)&&"string"==typeof value.text},isTextList:function isTextList(value){return Array.isArray(value)&&value.every((function(val){return Text.isText(val)}))},isTextProps:function isTextProps(props){return void 0!==props.text},matches:function matches(text,props){for(var key in props)if("text"!==key&&(!text.hasOwnProperty(key)||text[key]!==props[key]))return!1;return!0},decorations:function decorations(node,_decorations){var _step24,leaves=[_objectSpread$4({},node)],_iterator24=_createForOfIteratorHelper(_decorations);try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var _step25,dec=_step24.value,rest=_objectWithoutProperties(dec,_excluded2$1),_Range$edges26=_slicedToArray(Range.edges(dec),2),start=_Range$edges26[0],end=_Range$edges26[1],next=[],o=0,_iterator25=_createForOfIteratorHelper(leaves);try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var leaf=_step25.value,length=leaf.text.length,offset=o;if(o+=length,start.offset<=offset&&end.offset>=o)Object.assign(leaf,rest),next.push(leaf);else if(start.offset!==end.offset&&(start.offset===o||end.offset===offset)||start.offset>o||end.offset<offset||end.offset===offset&&0!==offset)next.push(leaf);else{var middle=leaf,before=void 0,after=void 0;if(end.offset<o){var off=end.offset-offset;after=_objectSpread$4(_objectSpread$4({},middle),{},{text:middle.text.slice(off)}),middle=_objectSpread$4(_objectSpread$4({},middle),{},{text:middle.text.slice(0,off)})}if(start.offset>offset){var _off=start.offset-offset;before=_objectSpread$4(_objectSpread$4({},middle),{},{text:middle.text.slice(0,_off)}),middle=_objectSpread$4(_objectSpread$4({},middle),{},{text:middle.text.slice(_off)})}Object.assign(middle,rest),before&&next.push(before),next.push(middle),after&&next.push(after)}}}catch(err){_iterator25.e(err)}finally{_iterator25.f()}leaves=next}}catch(err){_iterator24.e(err)}finally{_iterator24.f()}return leaves}};function ownKeys$3(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$3(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$3(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$3(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}exports.Text=Text;var _excluded=["text"],_excluded2=["children"];function ownKeys$2(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$2(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$2(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var NodeTransforms={insertNodes:function insertNodes(editor,nodes){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(editor,(function(){var _options$hanging=options.hanging,hanging=void 0!==_options$hanging&&_options$hanging,_options$voids9=options.voids,voids=void 0!==_options$voids9&&_options$voids9,_options$mode5=options.mode,mode=void 0===_options$mode5?"lowest":_options$mode5,at=options.at,match=options.match,select=options.select;if(Node.isNode(nodes)&&(nodes=[nodes]),0!==nodes.length){var node=_slicedToArray(nodes,1)[0];if(at||(at=editor.selection?editor.selection:editor.children.length>0?Editor.end(editor,[]):[0],select=!0),null==select&&(select=!1),Range.isRange(at))if(hanging||(at=Editor.unhangRange(editor,at)),Range.isCollapsed(at))at=at.anchor;else{var end=_slicedToArray(Range.edges(at),2)[1],pointRef=Editor.pointRef(editor,end);Transforms.delete(editor,{at}),at=pointRef.unref()}if(Point.isPoint(at)){null==match&&(match=Text.isText(node)?function match(n){return Text.isText(n)}:editor.isInline(node)?function match(n){return Text.isText(n)||Editor.isInline(editor,n)}:function match(n){return Editor.isBlock(editor,n)});var entry=_slicedToArray(Editor.nodes(editor,{at:at.path,match,mode,voids}),1)[0];if(!entry)return;var _matchPath=_slicedToArray(entry,2)[1],pathRef=Editor.pathRef(editor,_matchPath),isAtEnd=Editor.isEnd(editor,at,_matchPath);Transforms.splitNodes(editor,{at,match,mode,voids});var path=pathRef.unref();at=isAtEnd?Path.next(path):path}var parentPath=Path.parent(at),index=at[at.length-1];if(voids||!Editor.void(editor,{at:parentPath})){var _step34,_iterator34=_createForOfIteratorHelper(nodes);try{for(_iterator34.s();!(_step34=_iterator34.n()).done;){var _node=_step34.value,_path=parentPath.concat(index);index++,editor.apply({type:"insert_node",path:_path,node:_node}),at=Path.next(at)}}catch(err){_iterator34.e(err)}finally{_iterator34.f()}if(at=Path.previous(at),select){var point=Editor.end(editor,at);point&&Transforms.select(editor,point)}}}}))},liftNodes:function liftNodes(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(editor,(function(){var _options$at7=options.at,at=void 0===_options$at7?editor.selection:_options$at7,_options$mode6=options.mode,mode=void 0===_options$mode6?"lowest":_options$mode6,_options$voids10=options.voids,voids=void 0!==_options$voids10&&_options$voids10,match=options.match;if(null==match&&(match=Path.isPath(at)?matchPath(editor,at):function(n){return Editor.isBlock(editor,n)}),at)for(var matches=Editor.nodes(editor,{at,match,mode,voids}),_i2=0,_pathRefs=Array.from(matches,(function(_ref){var p=_slicedToArray(_ref,2)[1];return Editor.pathRef(editor,p)}));_i2<_pathRefs.length;_i2++){var path=_pathRefs[_i2].unref();if(path.length<2)throw new Error("Cannot lift node at a path [".concat(path,"] because it has a depth of less than `2`."));var _parentNodeEntry2=_slicedToArray(Editor.node(editor,Path.parent(path)),2),parent=_parentNodeEntry2[0],parentPath=_parentNodeEntry2[1],index=path[path.length-1],length=parent.children.length;if(1===length){var toPath=Path.next(parentPath);Transforms.moveNodes(editor,{at:path,to:toPath,voids}),Transforms.removeNodes(editor,{at:parentPath,voids})}else if(0===index)Transforms.moveNodes(editor,{at:path,to:parentPath,voids});else if(index===length-1){var _toPath=Path.next(parentPath);Transforms.moveNodes(editor,{at:path,to:_toPath,voids})}else{var splitPath=Path.next(path),_toPath2=Path.next(parentPath);Transforms.splitNodes(editor,{at:splitPath,voids}),Transforms.moveNodes(editor,{at:path,to:_toPath2,voids})}}}))},mergeNodes:function mergeNodes(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(editor,(function(){var match=options.match,_options$at8=options.at,at=void 0===_options$at8?editor.selection:_options$at8,_options$hanging2=options.hanging,hanging=void 0!==_options$hanging2&&_options$hanging2,_options$voids11=options.voids,voids=void 0!==_options$voids11&&_options$voids11,_options$mode7=options.mode,mode=void 0===_options$mode7?"lowest":_options$mode7;if(at){if(null==match)if(Path.isPath(at)){var parent=_slicedToArray(Editor.parent(editor,at),1)[0];match=function match(n){return parent.children.includes(n)}}else match=function match(n){return Editor.isBlock(editor,n)};if(!hanging&&Range.isRange(at)&&(at=Editor.unhangRange(editor,at)),Range.isRange(at))if(Range.isCollapsed(at))at=at.anchor;else{var end=_slicedToArray(Range.edges(at),2)[1],pointRef=Editor.pointRef(editor,end);Transforms.delete(editor,{at}),at=pointRef.unref(),null==options.at&&Transforms.select(editor,at)}var current=_slicedToArray(Editor.nodes(editor,{at,match,voids,mode}),1)[0],prev=Editor.previous(editor,{at,match,voids,mode});if(current&&prev){var _current=_slicedToArray(current,2),node=_current[0],path=_current[1],_prev3=_slicedToArray(prev,2),prevNode=_prev3[0],prevPath=_prev3[1];if(0!==path.length&&0!==prevPath.length){var properties,position,newPath=Path.next(prevPath),commonPath=Path.common(path,prevPath),isPreviousSibling=Path.isSibling(path,prevPath),levels=Array.from(Editor.levels(editor,{at:path}),(function(_ref2){return _slicedToArray(_ref2,1)[0]})).slice(commonPath.length).slice(0,-1),emptyAncestor=Editor.above(editor,{at:path,mode:"highest",match:function match(n){return levels.includes(n)&&hasSingleChildNest(editor,n)}}),emptyRef=emptyAncestor&&Editor.pathRef(editor,emptyAncestor[1]);if(Text.isText(node)&&Text.isText(prevNode)){var rest=_objectWithoutProperties(node,_excluded);position=prevNode.text.length,properties=rest}else{if(!Element.isElement(node)||!Element.isElement(prevNode))throw new Error("Cannot merge the node at path [".concat(path,"] with the previous sibling because it is not the same kind: ").concat(Scrubber.stringify(node)," ").concat(Scrubber.stringify(prevNode)));rest=_objectWithoutProperties(node,_excluded2);position=prevNode.children.length,properties=rest}isPreviousSibling||Transforms.moveNodes(editor,{at:path,to:newPath,voids}),emptyRef&&Transforms.removeNodes(editor,{at:emptyRef.current,voids}),Element.isElement(prevNode)&&Editor.isEmpty(editor,prevNode)||Text.isText(prevNode)&&""===prevNode.text&&0!==prevPath[prevPath.length-1]?Transforms.removeNodes(editor,{at:prevPath,voids}):editor.apply({type:"merge_node",path:newPath,position,properties}),emptyRef&&emptyRef.unref()}}}}))},moveNodes:function moveNodes(editor,options){Editor.withoutNormalizing(editor,(function(){var to=options.to,_options$at9=options.at,at=void 0===_options$at9?editor.selection:_options$at9,_options$mode8=options.mode,mode=void 0===_options$mode8?"lowest":_options$mode8,_options$voids12=options.voids,voids=void 0!==_options$voids12&&_options$voids12,match=options.match;if(at){null==match&&(match=Path.isPath(at)?matchPath(editor,at):function(n){return Editor.isBlock(editor,n)});for(var toRef=Editor.pathRef(editor,to),targets=Editor.nodes(editor,{at,match,mode,voids}),_i3=0,_pathRefs2=Array.from(targets,(function(_ref3){var p=_slicedToArray(_ref3,2)[1];return Editor.pathRef(editor,p)}));_i3<_pathRefs2.length;_i3++){var path=_pathRefs2[_i3].unref(),newPath=toRef.current;0!==path.length&&editor.apply({type:"move_node",path,newPath}),toRef.current&&Path.isSibling(newPath,path)&&Path.isAfter(newPath,path)&&(toRef.current=Path.next(toRef.current))}toRef.unref()}}))},removeNodes:function removeNodes(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(editor,(function(){var _options$hanging3=options.hanging,hanging=void 0!==_options$hanging3&&_options$hanging3,_options$voids13=options.voids,voids=void 0!==_options$voids13&&_options$voids13,_options$mode9=options.mode,mode=void 0===_options$mode9?"lowest":_options$mode9,_options$at10=options.at,at=void 0===_options$at10?editor.selection:_options$at10,match=options.match;if(at){null==match&&(match=Path.isPath(at)?matchPath(editor,at):function(n){return Editor.isBlock(editor,n)}),!hanging&&Range.isRange(at)&&(at=Editor.unhangRange(editor,at));for(var depths=Editor.nodes(editor,{at,match,mode,voids}),_i4=0,_pathRefs3=Array.from(depths,(function(_ref4){var p=_slicedToArray(_ref4,2)[1];return Editor.pathRef(editor,p)}));_i4<_pathRefs3.length;_i4++){var path=_pathRefs3[_i4].unref();if(path){var node=_slicedToArray(Editor.node(editor,path),1)[0];editor.apply({type:"remove_node",path,node})}}}}))},setNodes:function setNodes(editor,props){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(editor,(function(){var match=options.match,_options$at11=options.at,at=void 0===_options$at11?editor.selection:_options$at11,compare=options.compare,merge=options.merge,_options$hanging4=options.hanging,hanging=void 0!==_options$hanging4&&_options$hanging4,_options$mode10=options.mode,mode=void 0===_options$mode10?"lowest":_options$mode10,_options$split=options.split,split=void 0!==_options$split&&_options$split,_options$voids14=options.voids,voids=void 0!==_options$voids14&&_options$voids14;if(at){if(null==match&&(match=Path.isPath(at)?matchPath(editor,at):function(n){return Editor.isBlock(editor,n)}),!hanging&&Range.isRange(at)&&(at=Editor.unhangRange(editor,at)),split&&Range.isRange(at)){if(Range.isCollapsed(at)&&Editor.leaf(editor,at.anchor)[0].text.length>0)return;var rangeRef=Editor.rangeRef(editor,at,{affinity:"inward"}),_Range$edges32=_slicedToArray(Range.edges(at),2),start=_Range$edges32[0],end=_Range$edges32[1],splitMode="lowest"===mode?"lowest":"highest",endAtEndOfNode=Editor.isEnd(editor,end,end.path);Transforms.splitNodes(editor,{at:end,match,mode:splitMode,voids,always:!endAtEndOfNode});var startAtStartOfNode=Editor.isStart(editor,start,start.path);Transforms.splitNodes(editor,{at:start,match,mode:splitMode,voids,always:!startAtStartOfNode}),at=rangeRef.unref(),null==options.at&&Transforms.select(editor,at)}compare||(compare=function compare(prop,nodeProp){return prop!==nodeProp});var _step35,_iterator35=_createForOfIteratorHelper(Editor.nodes(editor,{at,match,mode,voids}));try{for(_iterator35.s();!(_step35=_iterator35.n()).done;){var _step35$value=_slicedToArray(_step35.value,2),node=_step35$value[0],path=_step35$value[1],properties={},newProperties={};if(0!==path.length){var hasChanges=!1;for(var k in props)"children"!==k&&"text"!==k&&compare(props[k],node[k])&&(hasChanges=!0,node.hasOwnProperty(k)&&(properties[k]=node[k]),merge?null!=props[k]&&(newProperties[k]=merge(node[k],props[k])):null!=props[k]&&(newProperties[k]=props[k]));hasChanges&&editor.apply({type:"set_node",path,properties,newProperties})}}}catch(err){_iterator35.e(err)}finally{_iterator35.f()}}}))},splitNodes:function splitNodes(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(editor,(function(){var _options$mode11=options.mode,mode=void 0===_options$mode11?"lowest":_options$mode11,_options$voids15=options.voids,voids=void 0!==_options$voids15&&_options$voids15,match=options.match,_options$at12=options.at,at=void 0===_options$at12?editor.selection:_options$at12,_options$height=options.height,height=void 0===_options$height?0:_options$height,_options$always=options.always,always=void 0!==_options$always&&_options$always;if(null==match&&(match=function match(n){return Editor.isBlock(editor,n)}),Range.isRange(at)&&(at=deleteRange(editor,at)),Path.isPath(at)){var path=at,point=Editor.point(editor,path),parent=_slicedToArray(Editor.parent(editor,path),1)[0];match=function match(n){return n===parent},height=point.path.length-path.length+1,at=point,always=!0}if(at){var afterRef,beforeRef=Editor.pointRef(editor,at,{affinity:"backward"});try{var highest=_slicedToArray(Editor.nodes(editor,{at,match,mode,voids}),1)[0];if(!highest)return;var voidMatch=Editor.void(editor,{at,mode:"highest"});if(!voids&&voidMatch){var _voidMatch=_slicedToArray(voidMatch,2),voidNode=_voidMatch[0],voidPath=_voidMatch[1];if(Element.isElement(voidNode)&&editor.isInline(voidNode)){var after=Editor.after(editor,voidPath);if(!after){var afterPath=Path.next(voidPath);Transforms.insertNodes(editor,{text:""},{at:afterPath,voids}),after=Editor.point(editor,afterPath)}at=after,always=!0}height=at.path.length-voidPath.length+1,always=!0}afterRef=Editor.pointRef(editor,at);var _step36,depth=at.path.length-height,highestPath=_slicedToArray(highest,2)[1],lowestPath=at.path.slice(0,depth),position=0===height?at.offset:at.path[depth]+0,_iterator36=_createForOfIteratorHelper(Editor.levels(editor,{at:lowestPath,reverse:!0,voids}));try{for(_iterator36.s();!(_step36=_iterator36.n()).done;){var _step36$value=_slicedToArray(_step36.value,2),node=_step36$value[0],_path2=_step36$value[1],split=!1;if(_path2.length<highestPath.length||0===_path2.length||!voids&&Editor.isVoid(editor,node))break;var _point=beforeRef.current,isEnd=Editor.isEnd(editor,_point,_path2);if(always||!beforeRef||!Editor.isEdge(editor,_point,_path2)){split=!0;var properties=Node.extractProps(node);editor.apply({type:"split_node",path:_path2,position,properties})}position=_path2[_path2.length-1]+(split||isEnd?1:0)}}catch(err){_iterator36.e(err)}finally{_iterator36.f()}if(null==options.at){var _point2=afterRef.current||Editor.end(editor,[]);Transforms.select(editor,_point2)}}finally{var _afterRef;beforeRef.unref(),null===(_afterRef=afterRef)||void 0===_afterRef||_afterRef.unref()}}}))},unsetNodes:function unsetNodes(editor,props){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(props)||(props=[props]);var _step37,obj={},_iterator37=_createForOfIteratorHelper(props);try{for(_iterator37.s();!(_step37=_iterator37.n()).done;){obj[_step37.value]=null}}catch(err){_iterator37.e(err)}finally{_iterator37.f()}Transforms.setNodes(editor,obj,options)},unwrapNodes:function unwrapNodes(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(editor,(function(){var _options$mode12=options.mode,mode=void 0===_options$mode12?"lowest":_options$mode12,_options$split2=options.split,split=void 0!==_options$split2&&_options$split2,_options$voids16=options.voids,voids=void 0!==_options$voids16&&_options$voids16,_options$at13=options.at,at=void 0===_options$at13?editor.selection:_options$at13,match=options.match;if(at){null==match&&(match=Path.isPath(at)?matchPath(editor,at):function(n){return Editor.isBlock(editor,n)}),Path.isPath(at)&&(at=Editor.range(editor,at));var _step38,rangeRef=Range.isRange(at)?Editor.rangeRef(editor,at):null,matches=Editor.nodes(editor,{at,match,mode,voids}),_loop=function _loop(pathRef){var path=pathRef.unref(),node=_slicedToArray(Editor.node(editor,path),1)[0],range=Editor.range(editor,path);split&&rangeRef&&(range=Range.intersection(rangeRef.current,range)),Transforms.liftNodes(editor,{at:range,match:function match(n){return Element.isAncestor(node)&&node.children.includes(n)},voids})},_iterator38=_createForOfIteratorHelper(Array.from(matches,(function(_ref5){var p=_slicedToArray(_ref5,2)[1];return Editor.pathRef(editor,p)})).reverse());try{for(_iterator38.s();!(_step38=_iterator38.n()).done;){_loop(_step38.value)}}catch(err){_iterator38.e(err)}finally{_iterator38.f()}rangeRef&&rangeRef.unref()}}))},wrapNodes:function wrapNodes(editor,element){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(editor,(function(){var _options$mode13=options.mode,mode=void 0===_options$mode13?"lowest":_options$mode13,_options$split3=options.split,split=void 0!==_options$split3&&_options$split3,_options$voids17=options.voids,voids=void 0!==_options$voids17&&_options$voids17,match=options.match,_options$at14=options.at,at=void 0===_options$at14?editor.selection:_options$at14;if(at){if(null==match&&(match=Path.isPath(at)?matchPath(editor,at):editor.isInline(element)?function match(n){return Editor.isInline(editor,n)||Text.isText(n)}:function match(n){return Editor.isBlock(editor,n)}),split&&Range.isRange(at)){var _Range$edges34=_slicedToArray(Range.edges(at),2),start=_Range$edges34[0],end=_Range$edges34[1],rangeRef=Editor.rangeRef(editor,at,{affinity:"inward"});Transforms.splitNodes(editor,{at:end,match,voids}),Transforms.splitNodes(editor,{at:start,match,voids}),at=rangeRef.unref(),null==options.at&&Transforms.select(editor,at)}for(var _i5=0,_roots=Array.from(Editor.nodes(editor,{at,match:editor.isInline(element)?function(n){return Editor.isBlock(editor,n)}:function(n){return Editor.isEditor(n)},mode:"lowest",voids}));_i5<_roots.length;_i5++){var rootPath=_slicedToArray(_roots[_i5],2)[1],a=Range.isRange(at)?Range.intersection(at,Editor.range(editor,rootPath)):at;if(a){var matches=Array.from(Editor.nodes(editor,{at:a,match,mode,voids}));if(matches.length>0)if("continue"===function(){var first=_slicedToArray(matches,1)[0],last=matches[matches.length-1],firstPath=_slicedToArray(first,2)[1],lastPath=_slicedToArray(last,2)[1];if(0===firstPath.length&&0===lastPath.length)return"continue";var commonPath=Path.equals(firstPath,lastPath)?Path.parent(firstPath):Path.common(firstPath,lastPath),range=Editor.range(editor,firstPath,lastPath),commonNode=_slicedToArray(Editor.node(editor,commonPath),1)[0],depth=commonPath.length+1,wrapperPath=Path.next(lastPath.slice(0,depth)),wrapper=_objectSpread$2(_objectSpread$2({},element),{},{children:[]});Transforms.insertNodes(editor,wrapper,{at:wrapperPath,voids}),Transforms.moveNodes(editor,{at:range,match:function match(n){return Element.isAncestor(commonNode)&&commonNode.children.includes(n)},to:wrapperPath.concat(0),voids})}())continue}}}}))}},hasSingleChildNest=function hasSingleChildNest(editor,node){if(Element.isElement(node)){var element=node;return!!Editor.isVoid(editor,node)||1===element.children.length&&hasSingleChildNest(editor,element.children[0])}return!Editor.isEditor(node)},deleteRange=function deleteRange(editor,range){if(Range.isCollapsed(range))return range.anchor;var end=_slicedToArray(Range.edges(range),2)[1],pointRef=Editor.pointRef(editor,end);return Transforms.delete(editor,{at:range}),pointRef.unref()},matchPath=function matchPath(editor,path){var node=_slicedToArray(Editor.node(editor,path),1)[0];return function(n){return n===node}};function ownKeys$1(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$1(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$1(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$1(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var SelectionTransforms={collapse:function collapse(editor){var _options$edge2=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).edge,edge=void 0===_options$edge2?"anchor":_options$edge2,selection=editor.selection;if(selection)if("anchor"===edge)Transforms.select(editor,selection.anchor);else if("focus"===edge)Transforms.select(editor,selection.focus);else if("start"===edge){var start=_slicedToArray(Range.edges(selection),1)[0];Transforms.select(editor,start)}else if("end"===edge){var end=_slicedToArray(Range.edges(selection),2)[1];Transforms.select(editor,end)}},deselect:function deselect(editor){var selection=editor.selection;selection&&editor.apply({type:"set_selection",properties:selection,newProperties:null})},move:function move(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},selection=editor.selection,_options$distance3=options.distance,distance=void 0===_options$distance3?1:_options$distance3,_options$unit4=options.unit,unit=void 0===_options$unit4?"character":_options$unit4,_options$reverse9=options.reverse,reverse=void 0!==_options$reverse9&&_options$reverse9,_options$edge3=options.edge,edge=void 0===_options$edge3?null:_options$edge3;if(selection){"start"===edge&&(edge=Range.isBackward(selection)?"focus":"anchor"),"end"===edge&&(edge=Range.isBackward(selection)?"anchor":"focus");var anchor=selection.anchor,focus=selection.focus,opts={distance,unit},props={};if(null==edge||"anchor"===edge){var point=reverse?Editor.before(editor,anchor,opts):Editor.after(editor,anchor,opts);point&&(props.anchor=point)}if(null==edge||"focus"===edge){var _point=reverse?Editor.before(editor,focus,opts):Editor.after(editor,focus,opts);_point&&(props.focus=_point)}Transforms.setSelection(editor,props)}},select:function select(editor,target){var selection=editor.selection;if(target=Editor.range(editor,target),selection)Transforms.setSelection(editor,target);else{if(!Range.isRange(target))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Scrubber.stringify(target)));editor.apply({type:"set_selection",properties:selection,newProperties:target})}},setPoint:function setPoint(editor,props){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},selection=editor.selection,_options$edge4=options.edge,edge=void 0===_options$edge4?"both":_options$edge4;if(selection){"start"===edge&&(edge=Range.isBackward(selection)?"focus":"anchor"),"end"===edge&&(edge=Range.isBackward(selection)?"anchor":"focus");var anchor=selection.anchor,focus=selection.focus,point="anchor"===edge?anchor:focus;Transforms.setSelection(editor,_defineProperty2({},"anchor"===edge?"anchor":"focus",_objectSpread$1(_objectSpread$1({},point),props)))}},setSelection:function setSelection(editor,props){var selection=editor.selection,oldProps={},newProps={};if(selection){for(var k in props)("anchor"===k&&null!=props.anchor&&!Point.equals(props.anchor,selection.anchor)||"focus"===k&&null!=props.focus&&!Point.equals(props.focus,selection.focus)||"anchor"!==k&&"focus"!==k&&props[k]!==selection[k])&&(oldProps[k]=selection[k],newProps[k]=props[k]);Object.keys(oldProps).length>0&&editor.apply({type:"set_selection",properties:oldProps,newProperties:newProps})}}},TextTransforms={delete:function _delete(editor){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(editor,(function(){var _options$reverse10=options.reverse,reverse=void 0!==_options$reverse10&&_options$reverse10,_options$unit5=options.unit,unit=void 0===_options$unit5?"character":_options$unit5,_options$distance4=options.distance,distance=void 0===_options$distance4?1:_options$distance4,_options$voids18=options.voids,voids=void 0!==_options$voids18&&_options$voids18,_options$at15=options.at,at=void 0===_options$at15?editor.selection:_options$at15,_options$hanging5=options.hanging,hanging=void 0!==_options$hanging5&&_options$hanging5;if(at){if(Range.isRange(at)&&Range.isCollapsed(at)&&(at=at.anchor),Point.isPoint(at)){var furthestVoid=Editor.void(editor,{at,mode:"highest"});if(!voids&&furthestVoid){at=_slicedToArray(furthestVoid,2)[1]}else{var opts={unit,distance};at={anchor:at,focus:reverse?Editor.before(editor,at,opts)||Editor.start(editor,[]):Editor.after(editor,at,opts)||Editor.end(editor,[])},hanging=!0}}if(Path.isPath(at))Transforms.removeNodes(editor,{at,voids});else if(!Range.isCollapsed(at)){if(!hanging){var _end=_slicedToArray(Range.edges(at),2)[1],endOfDoc=Editor.end(editor,[]);Point.equals(_end,endOfDoc)||(at=Editor.unhangRange(editor,at,{voids}))}var _Range$edges44=_slicedToArray(Range.edges(at),2),start=_Range$edges44[0],end=_Range$edges44[1],startBlock=Editor.above(editor,{match:function match(n){return Editor.isBlock(editor,n)},at:start,voids}),endBlock=Editor.above(editor,{match:function match(n){return Editor.isBlock(editor,n)},at:end,voids}),isAcrossBlocks=startBlock&&endBlock&&!Path.equals(startBlock[1],endBlock[1]),isSingleText=Path.equals(start.path,end.path),startVoid=voids?null:Editor.void(editor,{at:start,mode:"highest"}),endVoid=voids?null:Editor.void(editor,{at:end,mode:"highest"});if(startVoid){var before=Editor.before(editor,start);before&&startBlock&&Path.isAncestor(startBlock[1],before.path)&&(start=before)}if(endVoid){var after=Editor.after(editor,end);after&&endBlock&&Path.isAncestor(endBlock[1],after.path)&&(end=after)}var lastPath,_step39,matches=[],_iterator39=_createForOfIteratorHelper(Editor.nodes(editor,{at,voids}));try{for(_iterator39.s();!(_step39=_iterator39.n()).done;){var entry=_step39.value,_entry7=_slicedToArray(entry,2),node=_entry7[0],path=_entry7[1];lastPath&&0===Path.compare(path,lastPath)||(!voids&&Editor.isVoid(editor,node)||!Path.isCommon(path,start.path)&&!Path.isCommon(path,end.path))&&(matches.push(entry),lastPath=path)}}catch(err){_iterator39.e(err)}finally{_iterator39.f()}var pathRefs=Array.from(matches,(function(_ref){var p=_slicedToArray(_ref,2)[1];return Editor.pathRef(editor,p)})),startRef=Editor.pointRef(editor,start),endRef=Editor.pointRef(editor,end);if(!isSingleText&&!startVoid){var _point=startRef.current,_node=_slicedToArray(Editor.leaf(editor,_point),1)[0],_path=_point.path,offset=start.offset,text=_node.text.slice(offset);text.length>0&&editor.apply({type:"remove_text",path:_path,offset,text})}for(var _i6=0,_pathRefs4=pathRefs;_i6<_pathRefs4.length;_i6++){var _path2=_pathRefs4[_i6].unref();Transforms.removeNodes(editor,{at:_path2,voids})}if(!endVoid){var _point2=endRef.current,_node2=_slicedToArray(Editor.leaf(editor,_point2),1)[0],_path3=_point2.path,_offset=isSingleText?start.offset:0,_text=_node2.text.slice(_offset,end.offset);_text.length>0&&editor.apply({type:"remove_text",path:_path3,offset:_offset,text:_text})}!isSingleText&&isAcrossBlocks&&endRef.current&&startRef.current&&Transforms.mergeNodes(editor,{at:endRef.current,hanging:!0,voids});var startUnref=startRef.unref(),endUnref=endRef.unref(),point=reverse?startUnref||endUnref:endUnref||startUnref;null==options.at&&point&&Transforms.select(editor,point)}}}))},insertFragment:function insertFragment(editor,fragment){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(editor,(function(){var _options$hanging6=options.hanging,hanging=void 0!==_options$hanging6&&_options$hanging6,_options$voids19=options.voids,voids=void 0!==_options$voids19&&_options$voids19,_options$at16=options.at,at=void 0===_options$at16?editor.selection:_options$at16;if(fragment.length&&at){if(Range.isRange(at))if(hanging||(at=Editor.unhangRange(editor,at)),Range.isCollapsed(at))at=at.anchor;else{var end=_slicedToArray(Range.edges(at),2)[1];if(!voids&&Editor.void(editor,{at:end}))return;var pointRef=Editor.pointRef(editor,end);Transforms.delete(editor,{at}),at=pointRef.unref()}else Path.isPath(at)&&(at=Editor.start(editor,at));if(voids||!Editor.void(editor,{at})){var inlineElementMatch=Editor.above(editor,{at,match:function match(n){return Editor.isInline(editor,n)},mode:"highest",voids});if(inlineElementMatch){var _inlinePath=_slicedToArray(inlineElementMatch,2)[1];if(Editor.isEnd(editor,at,_inlinePath))at=Editor.after(editor,_inlinePath);else if(Editor.isStart(editor,at,_inlinePath)){at=Editor.before(editor,_inlinePath)}}var _step40,blockPath=_slicedToArray(Editor.above(editor,{match:function match(n){return Editor.isBlock(editor,n)},at,voids}),2)[1],isBlockStart=Editor.isStart(editor,at,blockPath),isBlockEnd=Editor.isEnd(editor,at,blockPath),isBlockEmpty=isBlockStart&&isBlockEnd,mergeStart=!isBlockStart||isBlockStart&&isBlockEnd,mergeEnd=!isBlockEnd,firstPath=_slicedToArray(Node.first({children:fragment},[]),2)[1],lastPath=_slicedToArray(Node.last({children:fragment},[]),2)[1],matches=[],matcher=function matcher(_ref2){var _ref18=_slicedToArray(_ref2,2),n=_ref18[0],p=_ref18[1];return!(0===p.length)&&(!!isBlockEmpty||!(mergeStart&&Path.isAncestor(p,firstPath)&&Element.isElement(n)&&!editor.isVoid(n)&&!editor.isInline(n))&&!(mergeEnd&&Path.isAncestor(p,lastPath)&&Element.isElement(n)&&!editor.isVoid(n)&&!editor.isInline(n)))},_iterator40=_createForOfIteratorHelper(Node.nodes({children:fragment},{pass:matcher}));try{for(_iterator40.s();!(_step40=_iterator40.n()).done;){var entry=_step40.value;matcher(entry)&&matches.push(entry)}}catch(err){_iterator40.e(err)}finally{_iterator40.f()}for(var starts=[],middles=[],ends=[],starting=!0,hasBlocks=!1,_i7=0,_matches3=matches;_i7<_matches3.length;_i7++){var node=_slicedToArray(_matches3[_i7],1)[0];Element.isElement(node)&&!editor.isInline(node)?(starting=!1,hasBlocks=!0,middles.push(node)):starting?starts.push(node):ends.push(node)}var _Editor$nodes14=_slicedToArray(Editor.nodes(editor,{at,match:function match(n){return Text.isText(n)||Editor.isInline(editor,n)},mode:"highest",voids}),1),inlinePath=_slicedToArray(_Editor$nodes14[0],2)[1],isInlineStart=Editor.isStart(editor,at,inlinePath),isInlineEnd=Editor.isEnd(editor,at,inlinePath),middleRef=Editor.pathRef(editor,isBlockEnd?Path.next(blockPath):blockPath),endRef=Editor.pathRef(editor,isInlineEnd?Path.next(inlinePath):inlinePath),blockPathRef=Editor.pathRef(editor,blockPath);Transforms.splitNodes(editor,{at,match:function match(n){return hasBlocks?Editor.isBlock(editor,n):Text.isText(n)||Editor.isInline(editor,n)},mode:hasBlocks?"lowest":"highest",voids});var startRef=Editor.pathRef(editor,!isInlineStart||isInlineStart&&isInlineEnd?Path.next(inlinePath):inlinePath);if(Transforms.insertNodes(editor,starts,{at:startRef.current,match:function match(n){return Text.isText(n)||Editor.isInline(editor,n)},mode:"highest",voids}),isBlockEmpty&&middles.length&&Transforms.delete(editor,{at:blockPathRef.unref(),voids}),Transforms.insertNodes(editor,middles,{at:middleRef.current,match:function match(n){return Editor.isBlock(editor,n)},mode:"lowest",voids}),Transforms.insertNodes(editor,ends,{at:endRef.current,match:function match(n){return Text.isText(n)||Editor.isInline(editor,n)},mode:"highest",voids}),!options.at){var path;path=ends.length>0?Path.previous(endRef.current):middles.length>0?Path.previous(middleRef.current):Path.previous(startRef.current);var _end2=Editor.end(editor,path);Transforms.select(editor,_end2)}startRef.unref(),middleRef.unref(),endRef.unref()}}}))},insertText:function insertText(editor,text){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(editor,(function(){var _options$voids20=options.voids,voids=void 0!==_options$voids20&&_options$voids20,_options$at17=options.at,at=void 0===_options$at17?editor.selection:_options$at17;if(at){if(Path.isPath(at)&&(at=Editor.range(editor,at)),Range.isRange(at))if(Range.isCollapsed(at))at=at.anchor;else{var end=Range.end(at);if(!voids&&Editor.void(editor,{at:end}))return;var start=Range.start(at),startRef=Editor.pointRef(editor,start),endRef=Editor.pointRef(editor,end);Transforms.delete(editor,{at,voids});var startPoint=startRef.unref(),endPoint=endRef.unref();at=startPoint||endPoint,Transforms.setSelection(editor,{anchor:at,focus:at})}if(voids||!Editor.void(editor,{at})){var _at=at,path=_at.path,offset=_at.offset;text.length>0&&editor.apply({type:"insert_text",path,offset,text})}}}))}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Transforms=_objectSpread(_objectSpread(_objectSpread(_objectSpread({},{transform:function transform(editor,op){editor.children=(0,_immer.createDraft)(editor.children);var selection=editor.selection&&(0,_immer.createDraft)(editor.selection);try{selection=function applyToDraft(editor,selection,op){switch(op.type){case"insert_node":var path=op.path,node=op.node,parent=Node.parent(editor,path),index=path[path.length-1];if(index>parent.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(path,"] because the destination is past the end of the node."));if(parent.children.splice(index,0,node),selection){var _step26,_iterator26=_createForOfIteratorHelper(Range.points(selection));try{for(_iterator26.s();!(_step26=_iterator26.n()).done;){var _step26$value=_slicedToArray(_step26.value,2),point=_step26$value[0];selection[_step26$value[1]]=Point.transform(point,op)}}catch(err){_iterator26.e(err)}finally{_iterator26.f()}}break;case"insert_text":var _path=op.path,offset=op.offset,text=op.text;if(0===text.length)break;var _node=Node.leaf(editor,_path),before=_node.text.slice(0,offset),after=_node.text.slice(offset);if(_node.text=before+text+after,selection){var _step27,_iterator27=_createForOfIteratorHelper(Range.points(selection));try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){var _step27$value=_slicedToArray(_step27.value,2),_point=_step27$value[0];selection[_step27$value[1]]=Point.transform(_point,op)}}catch(err){_iterator27.e(err)}finally{_iterator27.f()}}break;case"merge_node":var _path2=op.path,_node2=Node.get(editor,_path2),prevPath=Path.previous(_path2),prev=Node.get(editor,prevPath),_parent=Node.parent(editor,_path2),_index=_path2[_path2.length-1];if(Text.isText(_node2)&&Text.isText(prev))prev.text+=_node2.text;else{if(Text.isText(_node2)||Text.isText(prev))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(_path2,"] to nodes of different interfaces: ").concat(Scrubber.stringify(_node2)," ").concat(Scrubber.stringify(prev)));var _prev$children;(_prev$children=prev.children).push.apply(_prev$children,_toConsumableArray(_node2.children))}if(_parent.children.splice(_index,1),selection){var _step28,_iterator28=_createForOfIteratorHelper(Range.points(selection));try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var _step28$value=_slicedToArray(_step28.value,2),_point2=_step28$value[0];selection[_step28$value[1]]=Point.transform(_point2,op)}}catch(err){_iterator28.e(err)}finally{_iterator28.f()}}break;case"move_node":var _path3=op.path,newPath=op.newPath;if(Path.isAncestor(_path3,newPath))throw new Error("Cannot move a path [".concat(_path3,"] to new path [").concat(newPath,"] because the destination is inside itself."));var _node3=Node.get(editor,_path3),_parent2=Node.parent(editor,_path3),_index2=_path3[_path3.length-1];_parent2.children.splice(_index2,1);var truePath=Path.transform(_path3,op),newParent=Node.get(editor,Path.parent(truePath)),newIndex=truePath[truePath.length-1];if(newParent.children.splice(newIndex,0,_node3),selection){var _step29,_iterator29=_createForOfIteratorHelper(Range.points(selection));try{for(_iterator29.s();!(_step29=_iterator29.n()).done;){var _step29$value=_slicedToArray(_step29.value,2),_point3=_step29$value[0];selection[_step29$value[1]]=Point.transform(_point3,op)}}catch(err){_iterator29.e(err)}finally{_iterator29.f()}}break;case"remove_node":var _path4=op.path,_index3=_path4[_path4.length-1];if(Node.parent(editor,_path4).children.splice(_index3,1),selection){var _step30,_iterator30=_createForOfIteratorHelper(Range.points(selection));try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var _step30$value=_slicedToArray(_step30.value,2),_point4=_step30$value[0],_key4=_step30$value[1],result=Point.transform(_point4,op);if(null!=selection&&null!=result)selection[_key4]=result;else{var _step31,_prev=void 0,next=void 0,_iterator31=_createForOfIteratorHelper(Node.texts(editor));try{for(_iterator31.s();!(_step31=_iterator31.n()).done;){var _step31$value=_slicedToArray(_step31.value,2),n=_step31$value[0],p=_step31$value[1];if(-1!==Path.compare(p,_path4)){next=[n,p];break}_prev=[n,p]}}catch(err){_iterator31.e(err)}finally{_iterator31.f()}var preferNext=!1;_prev&&next&&(preferNext=Path.equals(next[1],_path4)?!Path.hasPrevious(next[1]):Path.common(_prev[1],_path4).length<Path.common(next[1],_path4).length),_prev&&!preferNext?(_point4.path=_prev[1],_point4.offset=_prev[0].text.length):next?(_point4.path=next[1],_point4.offset=0):selection=null}}}catch(err){_iterator30.e(err)}finally{_iterator30.f()}}break;case"remove_text":var _path5=op.path,_offset=op.offset,_text=op.text;if(0===_text.length)break;var _node4=Node.leaf(editor,_path5),_before=_node4.text.slice(0,_offset),_after=_node4.text.slice(_offset+_text.length);if(_node4.text=_before+_after,selection){var _step32,_iterator32=_createForOfIteratorHelper(Range.points(selection));try{for(_iterator32.s();!(_step32=_iterator32.n()).done;){var _step32$value=_slicedToArray(_step32.value,2),_point5=_step32$value[0];selection[_step32$value[1]]=Point.transform(_point5,op)}}catch(err){_iterator32.e(err)}finally{_iterator32.f()}}break;case"set_node":var _path6=op.path,properties=op.properties,newProperties=op.newProperties;if(0===_path6.length)throw new Error("Cannot set properties on the root node!");var _node5=Node.get(editor,_path6);for(var _key6 in newProperties){if("children"===_key6||"text"===_key6)throw new Error('Cannot set the "'.concat(_key6,'" property of nodes!'));var value=newProperties[_key6];null==value?delete _node5[_key6]:_node5[_key6]=value}for(var _key7 in properties)newProperties.hasOwnProperty(_key7)||delete _node5[_key7];break;case"set_selection":var _newProperties=op.newProperties;if(null==_newProperties)selection=_newProperties;else{if(null==selection){if(!Range.isRange(_newProperties))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Scrubber.stringify(_newProperties)," when there is no current selection."));selection=_objectSpread$3({},_newProperties)}for(var _key8 in _newProperties){var _value=_newProperties[_key8];if(null==_value){if("anchor"===_key8||"focus"===_key8)throw new Error('Cannot remove the "'.concat(_key8,'" selection property'));delete selection[_key8]}else selection[_key8]=_value}}break;case"split_node":var _path7=op.path,position=op.position,_properties=op.properties;if(0===_path7.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(_path7,"] because the root node cannot be split."));var newNode,_node6=Node.get(editor,_path7),_parent4=Node.parent(editor,_path7),_index4=_path7[_path7.length-1];if(Text.isText(_node6)){var _before2=_node6.text.slice(0,position),_after2=_node6.text.slice(position);_node6.text=_before2,newNode=_objectSpread$3(_objectSpread$3({},_properties),{},{text:_after2})}else{var _before3=_node6.children.slice(0,position),_after3=_node6.children.slice(position);_node6.children=_before3,newNode=_objectSpread$3(_objectSpread$3({},_properties),{},{children:_after3})}if(_parent4.children.splice(_index4+1,0,newNode),selection){var _step33,_iterator33=_createForOfIteratorHelper(Range.points(selection));try{for(_iterator33.s();!(_step33=_iterator33.n()).done;){var _step33$value=_slicedToArray(_step33.value,2),_point6=_step33$value[0];selection[_step33$value[1]]=Point.transform(_point6,op)}}catch(err){_iterator33.e(err)}finally{_iterator33.f()}}}return selection}(editor,selection,op)}finally{editor.children=(0,_immer.finishDraft)(editor.children),editor.selection=selection?(0,_immer.isDraft)(selection)?(0,_immer.finishDraft)(selection):selection:null}}}),NodeTransforms),SelectionTransforms),TextTransforms);exports.Transforms=Transforms},"./node_modules/direction/index.js":module=>{"use strict";module.exports=function direction(value){if(value=String(value||""),rtl.test(value))return"rtl";if(ltr.test(value))return"ltr";return"neutral"};var LTR="A-Za-z--------",rtl=new RegExp("^[^"+LTR+"]*[---]"),ltr=new RegExp("^[^---]*["+LTR+"]")},"./node_modules/immer/dist/immer.cjs.production.min.js":(__unused_webpack_module,exports)=>{function n(n){for(var t=arguments.length,r=Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];throw Error("[Immer] minified error nr: "+n+(r.length?" "+r.map((function(n){return"'"+n+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function t(n){return!!n&&!!n[H]}function r(n){return!!n&&(function(n){if(!n||"object"!=typeof n)return!1;var t=Object.getPrototypeOf(n);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Q}(n)||Array.isArray(n)||!!n[G]||!!n.constructor[G]||c(n)||v(n))}function e(n,t,r){void 0===r&&(r=!1),0===i(n)?(r?Object.keys:T)(n).forEach((function(e){r&&"symbol"==typeof e||t(e,n[e],n)})):n.forEach((function(r,e){return t(e,r,n)}))}function i(n){var t=n[H];return t?t.t>3?t.t-4:t.t:Array.isArray(n)?1:c(n)?2:v(n)?3:0}function u(n,t){return 2===i(n)?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function o(n,t){return 2===i(n)?n.get(t):n[t]}function f(n,t,r){var e=i(n);2===e?n.set(t,r):3===e?(n.delete(t),n.add(r)):n[t]=r}function a(n,t){return n===t?0!==n||1/n==1/t:n!=n&&t!=t}function c(n){return W&&n instanceof Map}function v(n){return X&&n instanceof Set}function s(n){return n.i||n.u}function p(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var t=U(n);delete t[H];for(var r=T(t),e=0;e<r.length;e++){var i=r[e],u=t[i];!1===u.writable&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(t[i]={configurable:!0,writable:!0,enumerable:u.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),t)}function l(n,u){return void 0===u&&(u=!1),h(n)||t(n)||!r(n)||(i(n)>1&&(n.set=n.add=n.clear=n.delete=d),Object.freeze(n),u&&e(n,(function(n,t){return l(t,!0)}),!0)),n}function d(){n(2)}function h(n){return null==n||"object"!=typeof n||Object.isFrozen(n)}function y(t){var r=V[t];return r||n(18,t),r}function _(n,t){V[n]||(V[n]=t)}function b(){return J}function m(n,t){t&&(y("Patches"),n.o=[],n.v=[],n.s=t)}function j(n){O(n),n.p.forEach(w),n.p=null}function O(n){n===J&&(J=n.l)}function x(n){return J={p:[],l:J,h:n,_:!0,m:0}}function w(n){var t=n[H];0===t.t||1===t.t?t.j():t.O=!0}function S(t,e){e.m=e.p.length;var i=e.p[0],u=void 0!==t&&t!==i;return e.h.S||y("ES5").P(e,t,u),u?(i[H].M&&(j(e),n(4)),r(t)&&(t=P(e,t),e.l||g(e,t)),e.o&&y("Patches").g(i[H].u,t,e.o,e.v)):t=P(e,i,[]),j(e),e.o&&e.s(e.o,e.v),t!==B?t:void 0}function P(n,t,r){if(h(t))return t;var i=t[H];if(!i)return e(t,(function(e,u){return M(n,i,t,e,u,r)}),!0),t;if(i.A!==n)return t;if(!i.M)return g(n,i.u,!0),i.u;if(!i.R){i.R=!0,i.A.m--;var u=4===i.t||5===i.t?i.i=p(i.k):i.i;e(3===i.t?new Set(u):u,(function(t,e){return M(n,i,u,t,e,r)})),g(n,u,!1),r&&n.o&&y("Patches").F(i,r,n.o,n.v)}return i.i}function M(n,e,i,o,a,c){if(t(a)){var v=P(n,a,c&&e&&3!==e.t&&!u(e.D,o)?c.concat(o):void 0);if(f(i,o,v),!t(v))return;n._=!1}if(r(a)&&!h(a)){if(!n.h.K&&n.m<1)return;P(n,a),e&&e.A.l||g(n,a)}}function g(n,t,r){void 0===r&&(r=!1),n.h.K&&n._&&l(t,r)}function A(n,t){var r=n[H];return(r?s(r):n)[t]}function z(n,t){if(t in n)for(var r=Object.getPrototypeOf(n);r;){var e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Object.getPrototypeOf(r)}}function E(n){n.M||(n.M=!0,n.l&&E(n.l))}function R(n){n.i||(n.i=p(n.u))}function k(n,t,r){var e=c(t)?y("MapSet").$(t,r):v(t)?y("MapSet").C(t,r):n.S?function(n,t){var r=Array.isArray(n),e={t:r?1:0,A:t?t.A:b(),M:!1,R:!1,D:{},l:t,u:n,k:null,i:null,j:null,I:!1},i=e,u=Y;r&&(i=[e],u=Z);var o=Proxy.revocable(i,u),f=o.revoke,a=o.proxy;return e.k=a,e.j=f,a}(t,r):y("ES5").J(t,r);return(r?r.A:b()).p.push(e),e}function F(u){return t(u)||n(22,u),function n(t){if(!r(t))return t;var u,a=t[H],c=i(t);if(a){if(!a.M&&(a.t<4||!y("ES5").N(a)))return a.u;a.R=!0,u=D(t,c),a.R=!1}else u=D(t,c);return e(u,(function(t,r){a&&o(a.u,t)===r||f(u,t,n(r))})),3===c?new Set(u):u}(u)}function D(n,t){switch(t){case 2:return new Map(n);case 3:return Array.from(n)}return p(n)}function K(){function n(n,t){var r=f[n];return r?r.enumerable=t:f[n]=r={configurable:!0,enumerable:t,get:function(){return Y.get(this[H],n)},set:function(t){Y.set(this[H],n,t)}},r}function r(n){for(var t=n.length-1;t>=0;t--){var r=n[t][H];if(!r.M)switch(r.t){case 5:o(r)&&E(r);break;case 4:i(r)&&E(r)}}}function i(n){for(var t=n.u,r=n.k,e=T(r),i=e.length-1;i>=0;i--){var o=e[i];if(o!==H){var f=t[o];if(void 0===f&&!u(t,o))return!0;var c=r[o],v=c&&c[H];if(v?v.u!==f:!a(c,f))return!0}}var s=!!t[H];return e.length!==T(t).length+(s?0:1)}function o(n){var t=n.k;if(t.length!==n.u.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);if(r&&!r.get)return!0;for(var e=0;e<t.length;e++)if(!t.hasOwnProperty(e))return!0;return!1}var f={};_("ES5",{J:function(t,r){var e=Array.isArray(t),i=function(t,r){if(t){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,""+i,n(i,!0));return e}var u=U(r);delete u[H];for(var o=T(u),f=0;f<o.length;f++){var a=o[f];u[a]=n(a,t||!!u[a].enumerable)}return Object.create(Object.getPrototypeOf(r),u)}(e,t),u={t:e?5:4,A:r?r.A:b(),M:!1,R:!1,D:{},l:r,u:t,k:i,i:null,O:!1,I:!1};return Object.defineProperty(i,H,{value:u,writable:!0}),i},P:function(n,i,f){f?t(i)&&i[H].A===n&&r(n.p):(n.o&&function n(t){if(t&&"object"==typeof t){var r=t[H];if(r){var i=r.u,f=r.k,a=r.D,c=r.t;if(4===c)e(f,(function(t){t!==H&&(void 0!==i[t]||u(i,t)?a[t]||n(f[t]):(a[t]=!0,E(r)))})),e(i,(function(n){void 0!==f[n]||u(f,n)||(a[n]=!1,E(r))}));else if(5===c){if(o(r)&&(E(r),a.length=!0),f.length<i.length)for(var v=f.length;v<i.length;v++)a[v]=!1;else for(var s=i.length;s<f.length;s++)a[s]=!0;for(var p=Math.min(f.length,i.length),l=0;l<p;l++)f.hasOwnProperty(l)||(a[l]=!0),void 0===a[l]&&n(f[l])}}}}(n.p[0]),r(n.p))},N:function(n){return 4===n.t?i(n):o(n)}})}function $(){function f(n){if(!r(n))return n;if(Array.isArray(n))return n.map(f);if(c(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],f(n[1])]})));if(v(n))return new Set(Array.from(n).map(f));var t=Object.create(Object.getPrototypeOf(n));for(var e in n)t[e]=f(n[e]);return u(n,G)&&(t[G]=n[G]),t}function a(n){return t(n)?f(n):n}var s="add";_("Patches",{W:function(t,r){return r.forEach((function(r){for(var e=r.path,u=r.op,a=t,c=0;c<e.length-1;c++){var v=i(a),p=""+e[c];0!==v&&1!==v||"__proto__"!==p&&"constructor"!==p||n(24),"function"==typeof a&&"prototype"===p&&n(24),"object"!=typeof(a=o(a,p))&&n(15,e.join("/"))}var l=i(a),d=f(r.value),h=e[e.length-1];switch(u){case"replace":switch(l){case 2:return a.set(h,d);case 3:n(16);default:return a[h]=d}case s:switch(l){case 1:return"-"===h?a.push(d):a.splice(h,0,d);case 2:return a.set(h,d);case 3:return a.add(d);default:return a[h]=d}case"remove":switch(l){case 1:return a.splice(h,1);case 2:return a.delete(h);case 3:return a.delete(r.value);default:return delete a[h]}default:n(17,u)}})),t},F:function(n,t,r,i){switch(n.t){case 0:case 4:case 2:return function(n,t,r,i){var f=n.u,c=n.i;e(n.D,(function(n,e){var v=o(f,n),p=o(c,n),l=e?u(f,n)?"replace":s:"remove";if(v!==p||"replace"!==l){var d=t.concat(n);r.push("remove"===l?{op:l,path:d}:{op:l,path:d,value:p}),i.push(l===s?{op:"remove",path:d}:"remove"===l?{op:s,path:d,value:a(v)}:{op:"replace",path:d,value:a(v)})}}))}(n,t,r,i);case 5:case 1:return function(n,t,r,e){var i=n.u,u=n.D,o=n.i;if(o.length<i.length){var f=[o,i];i=f[0],o=f[1];var c=[e,r];r=c[0],e=c[1]}for(var v=0;v<i.length;v++)if(u[v]&&o[v]!==i[v]){var p=t.concat([v]);r.push({op:"replace",path:p,value:a(o[v])}),e.push({op:"replace",path:p,value:a(i[v])})}for(var l=i.length;l<o.length;l++){var d=t.concat([l]);r.push({op:s,path:d,value:a(o[l])})}i.length<o.length&&e.push({op:"replace",path:t.concat(["length"]),value:i.length})}(n,t,r,i);case 3:return function(n,t,r,e){var i=n.u,u=n.i,o=0;i.forEach((function(n){if(!u.has(n)){var i=t.concat([o]);r.push({op:"remove",path:i,value:n}),e.unshift({op:s,path:i,value:n})}o++})),o=0,u.forEach((function(n){if(!i.has(n)){var u=t.concat([o]);r.push({op:s,path:u,value:n}),e.unshift({op:"remove",path:u,value:n})}o++}))}(n,t,r,i)}},g:function(n,t,r,e){r.push({op:"replace",path:[],value:t===B?void 0:t}),e.push({op:"replace",path:[],value:n})}})}function C(){function t(n,t){function r(){this.constructor=n}f(n,t),n.prototype=(r.prototype=t.prototype,new r)}function i(n){n.i||(n.D=new Map,n.i=new Map(n.u))}function u(n){n.i||(n.i=new Set,n.u.forEach((function(t){if(r(t)){var e=k(n.A.h,t,n);n.p.set(t,e),n.i.add(e)}else n.i.add(t)})))}function o(t){t.O&&n(3,JSON.stringify(s(t)))}var f=function(n,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},a=function(){function n(n,t){return this[H]={t:2,l:t,A:t?t.A:b(),M:!1,R:!1,i:void 0,D:void 0,u:n,k:this,I:!1,O:!1},this}t(n,Map);var u=n.prototype;return Object.defineProperty(u,"size",{get:function(){return s(this[H]).size}}),u.has=function(n){return s(this[H]).has(n)},u.set=function(n,t){var r=this[H];return o(r),s(r).has(n)&&s(r).get(n)===t||(i(r),E(r),r.D.set(n,!0),r.i.set(n,t),r.D.set(n,!0)),this},u.delete=function(n){if(!this.has(n))return!1;var t=this[H];return o(t),i(t),E(t),t.u.has(n)?t.D.set(n,!1):t.D.delete(n),t.i.delete(n),!0},u.clear=function(){var n=this[H];o(n),s(n).size&&(i(n),E(n),n.D=new Map,e(n.u,(function(t){n.D.set(t,!1)})),n.i.clear())},u.forEach=function(n,t){var r=this;s(this[H]).forEach((function(e,i){n.call(t,r.get(i),i,r)}))},u.get=function(n){var t=this[H];o(t);var e=s(t).get(n);if(t.R||!r(e))return e;if(e!==t.u.get(n))return e;var u=k(t.A.h,e,t);return i(t),t.i.set(n,u),u},u.keys=function(){return s(this[H]).keys()},u.values=function(){var n,t=this,r=this.keys();return(n={})[L]=function(){return t.values()},n.next=function(){var n=r.next();return n.done?n:{done:!1,value:t.get(n.value)}},n},u.entries=function(){var n,t=this,r=this.keys();return(n={})[L]=function(){return t.entries()},n.next=function(){var n=r.next();if(n.done)return n;var e=t.get(n.value);return{done:!1,value:[n.value,e]}},n},u[L]=function(){return this.entries()},n}(),c=function(){function n(n,t){return this[H]={t:3,l:t,A:t?t.A:b(),M:!1,R:!1,i:void 0,u:n,k:this,p:new Map,O:!1,I:!1},this}t(n,Set);var r=n.prototype;return Object.defineProperty(r,"size",{get:function(){return s(this[H]).size}}),r.has=function(n){var t=this[H];return o(t),t.i?!!t.i.has(n)||!(!t.p.has(n)||!t.i.has(t.p.get(n))):t.u.has(n)},r.add=function(n){var t=this[H];return o(t),this.has(n)||(u(t),E(t),t.i.add(n)),this},r.delete=function(n){if(!this.has(n))return!1;var t=this[H];return o(t),u(t),E(t),t.i.delete(n)||!!t.p.has(n)&&t.i.delete(t.p.get(n))},r.clear=function(){var n=this[H];o(n),s(n).size&&(u(n),E(n),n.i.clear())},r.values=function(){var n=this[H];return o(n),u(n),n.i.values()},r.entries=function(){var n=this[H];return o(n),u(n),n.i.entries()},r.keys=function(){return this.values()},r[L]=function(){return this.values()},r.forEach=function(n,t){for(var r=this.values(),e=r.next();!e.done;)n.call(t,e.value,e.value,this),e=r.next()},n}();_("MapSet",{$:function(n,t){return new a(n,t)},C:function(n,t){return new c(n,t)}})}var I;Object.defineProperty(exports,"__esModule",{value:!0});var J,N="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),W="undefined"!=typeof Map,X="undefined"!=typeof Set,q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,B=N?Symbol.for("immer-nothing"):((I={})["immer-nothing"]=!0,I),G=N?Symbol.for("immer-draftable"):"__$immer_draftable",H=N?Symbol.for("immer-state"):"__$immer_state",L="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",Q=""+Object.prototype.constructor,T="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,U=Object.getOwnPropertyDescriptors||function(n){var t={};return T(n).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(n,r)})),t},V={},Y={get:function(n,t){if(t===H)return n;var e=s(n);if(!u(e,t))return function(n,t,r){var e,i=z(t,r);return i?"value"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,t);var i=e[t];return n.R||!r(i)?i:i===A(n.u,t)?(R(n),n.i[t]=k(n.A.h,i,n)):i},has:function(n,t){return t in s(n)},ownKeys:function(n){return Reflect.ownKeys(s(n))},set:function(n,t,r){var e=z(s(n),t);if(null==e?void 0:e.set)return e.set.call(n.k,r),!0;if(!n.M){var i=A(s(n),t),o=null==i?void 0:i[H];if(o&&o.u===r)return n.i[t]=r,n.D[t]=!1,!0;if(a(r,i)&&(void 0!==r||u(n.u,t)))return!0;R(n),E(n)}return n.i[t]===r&&"number"!=typeof r&&(void 0!==r||t in n.i)||(n.i[t]=r,n.D[t]=!0,!0)},deleteProperty:function(n,t){return void 0!==A(n.u,t)||t in n.u?(n.D[t]=!1,R(n),E(n)):delete n.D[t],n.i&&delete n.i[t],!0},getOwnPropertyDescriptor:function(n,t){var r=s(n),e=Reflect.getOwnPropertyDescriptor(r,t);return e?{writable:!0,configurable:1!==n.t||"length"!==t,enumerable:e.enumerable,value:r[t]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.u)},setPrototypeOf:function(){n(12)}},Z={};e(Y,(function(n,t){Z[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Z.deleteProperty=function(n,t){return Z.set.call(this,n,t,void 0)},Z.set=function(n,t,r){return Y.set.call(this,n[0],t,r,n[0])};var nn=function(){function e(t){var e=this;this.S=q,this.K=!0,this.produce=function(t,i,u){if("function"==typeof t&&"function"!=typeof i){var o=i;i=t;var f=e;return function(n){var t=this;void 0===n&&(n=o);for(var r=arguments.length,e=Array(r>1?r-1:0),u=1;u<r;u++)e[u-1]=arguments[u];return f.produce(n,(function(n){var r;return(r=i).call.apply(r,[t,n].concat(e))}))}}var a;if("function"!=typeof i&&n(6),void 0!==u&&"function"!=typeof u&&n(7),r(t)){var c=x(e),v=k(e,t,void 0),s=!0;try{a=i(v),s=!1}finally{s?j(c):O(c)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(n){return m(c,u),S(n,c)}),(function(n){throw j(c),n})):(m(c,u),S(a,c))}if(!t||"object"!=typeof t){if(void 0===(a=i(t))&&(a=t),a===B&&(a=void 0),e.K&&l(a,!0),u){var p=[],d=[];y("Patches").g(t,a,p,d),u(p,d)}return a}n(21,t)},this.produceWithPatches=function(n,t){if("function"==typeof n)return function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),u=1;u<r;u++)i[u-1]=arguments[u];return e.produceWithPatches(t,(function(t){return n.apply(void 0,[t].concat(i))}))};var r,i,u=e.produce(n,t,(function(n,t){r=n,i=t}));return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(n){return[n,r,i]})):[u,r,i]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){r(e)||n(8),t(e)&&(e=F(e));var i=x(this),u=k(this,e,void 0);return u[H].I=!0,O(i),u},i.finishDraft=function(n,t){var r=(n&&n[H]).A;return m(r,t),S(void 0,r)},i.setAutoFreeze=function(n){this.K=n},i.setUseProxies=function(t){t&&!q&&n(20),this.S=t},i.applyPatches=function(n,r){var e;for(e=r.length-1;e>=0;e--){var i=r[e];if(0===i.path.length&&"replace"===i.op){n=i.value;break}}e>-1&&(r=r.slice(e+1));var u=y("Patches").W;return t(n)?u(n,r):this.produce(n,(function(n){return u(n,r)}))},e}(),tn=new nn,rn=tn.produce,en=tn.produceWithPatches.bind(tn),un=tn.setAutoFreeze.bind(tn),on=tn.setUseProxies.bind(tn),fn=tn.applyPatches.bind(tn),an=tn.createDraft.bind(tn),cn=tn.finishDraft.bind(tn);exports.Immer=nn,exports.applyPatches=fn,exports.castDraft=function(n){return n},exports.castImmutable=function(n){return n},exports.createDraft=an,exports.current=F,exports.default=rn,exports.enableAllPlugins=function(){K(),C(),$()},exports.enableES5=K,exports.enableMapSet=C,exports.enablePatches=$,exports.finishDraft=cn,exports.freeze=l,exports.immerable=G,exports.isDraft=t,exports.isDraftable=r,exports.nothing=B,exports.original=function(r){return t(r)||n(23,r),r[H].u},exports.produce=rn,exports.produceWithPatches=en,exports.setAutoFreeze=un,exports.setUseProxies=on},"./node_modules/immer/dist/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/immer/dist/immer.cjs.production.min.js")},"./node_modules/is-hotkey/lib/index.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});for(var IS_MAC="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),MODIFIERS={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},ALIASES={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:IS_MAC?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},CODES={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},f=1;f<20;f++)CODES["f"+f]=111+f;function isHotkey(hotkey,options,event){options&&!("byKey"in options)&&(event=options,options=null),Array.isArray(hotkey)||(hotkey=[hotkey]);var array=hotkey.map((function(string){return parseHotkey(string,options)})),check=function check(e){return array.some((function(object){return compareHotkey(object,e)}))};return null==event?check:check(event)}function parseHotkey(hotkey,options){var byKey=options&&options.byKey,ret={},values=(hotkey=hotkey.replace("++","+add")).split("+"),length=values.length;for(var k in MODIFIERS)ret[MODIFIERS[k]]=!1;var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=values[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var value=_step.value,optional=value.endsWith("?")&&value.length>1;optional&&(value=value.slice(0,-1));var name=toKeyName(value),modifier=MODIFIERS[name];1!==length&&modifier||(byKey?ret.key=name:ret.which=toKeyCode(value)),modifier&&(ret[modifier]=!optional||null)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return ret}function compareHotkey(object,event){for(var key in object){var expected=object[key],actual=void 0;if(null!=expected&&((null!=(actual="key"===key&&null!=event.key?event.key.toLowerCase():"which"===key?91===expected&&93===event.which?91:event.which:event[key])||!1!==expected)&&actual!==expected))return!1}return!0}function toKeyCode(name){return name=toKeyName(name),CODES[name]||name.toUpperCase().charCodeAt(0)}function toKeyName(name){return name=name.toLowerCase(),name=ALIASES[name]||name}exports.default=isHotkey,exports.isHotkey=isHotkey,exports.isCodeHotkey=function isCodeHotkey(hotkey,event){return isHotkey(hotkey,event)},exports.isKeyHotkey=function isKeyHotkey(hotkey,event){return isHotkey(hotkey,{byKey:!0},event)},exports.parseHotkey=parseHotkey,exports.compareHotkey=compareHotkey,exports.toKeyCode=toKeyCode,exports.toKeyName=toKeyName},"./node_modules/lodash/throttle.js":(module,__unused_webpack_exports,__webpack_require__)=>{var debounce=__webpack_require__("./node_modules/lodash/debounce.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js");module.exports=function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading,maxWait:wait,trailing})}},"./node_modules/react-portal/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Portal:()=>PortalCompat,PortalWithState:()=>es_PortalWithState});var react_dom=__webpack_require__("./node_modules/react-dom/index.js"),react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var Portal=function(_React$Component){function Portal(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Portal),function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Portal.__proto__||Object.getPrototypeOf(Portal)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Portal,_React$Component),_createClass(Portal,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function render(){return canUseDOM?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),react_dom.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),Portal}(react.Component);Portal.propTypes={children:prop_types_default().node.isRequired,node:prop_types_default().any};const es_Portal=Portal;var LegacyPortal_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var LegacyPortal_Portal=function(_React$Component){function Portal(){return function LegacyPortal_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Portal),function LegacyPortal_possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Portal.__proto__||Object.getPrototypeOf(Portal)).apply(this,arguments))}return function LegacyPortal_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Portal,_React$Component),LegacyPortal_createClass(Portal,[{key:"componentDidMount",value:function componentDidMount(){this.renderPortal()}},{key:"componentDidUpdate",value:function componentDidUpdate(props){this.renderPortal()}},{key:"componentWillUnmount",value:function componentWillUnmount(){react_dom.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function renderPortal(props){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var children=this.props.children;"function"==typeof this.props.children.type&&(children=react.cloneElement(this.props.children)),this.portal=react_dom.unstable_renderSubtreeIntoContainer(this,children,this.props.node||this.defaultNode)}},{key:"render",value:function render(){return null}}]),Portal}(react.Component);const LegacyPortal=LegacyPortal_Portal;LegacyPortal_Portal.propTypes={children:prop_types_default().node.isRequired,node:prop_types_default().any};const PortalCompat=react_dom.createPortal?es_Portal:LegacyPortal;var PortalWithState_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var KEYCODES_ESCAPE=27,PortalWithState=function(_React$Component){function PortalWithState(props){!function PortalWithState_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PortalWithState);var _this=function PortalWithState_possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(PortalWithState.__proto__||Object.getPrototypeOf(PortalWithState)).call(this,props));return _this.portalNode=null,_this.state={active:!!props.defaultOpen},_this.openPortal=_this.openPortal.bind(_this),_this.closePortal=_this.closePortal.bind(_this),_this.wrapWithPortal=_this.wrapWithPortal.bind(_this),_this.handleOutsideMouseClick=_this.handleOutsideMouseClick.bind(_this),_this.handleKeydown=_this.handleKeydown.bind(_this),_this}return function PortalWithState_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(PortalWithState,_React$Component),PortalWithState_createClass(PortalWithState,[{key:"componentDidMount",value:function componentDidMount(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&document.addEventListener("click",this.handleOutsideMouseClick)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&document.removeEventListener("click",this.handleOutsideMouseClick)}},{key:"openPortal",value:function openPortal(e){this.state.active||(e&&e.nativeEvent&&e.nativeEvent.stopImmediatePropagation(),this.setState({active:!0},this.props.onOpen))}},{key:"closePortal",value:function closePortal(){this.state.active&&this.setState({active:!1},this.props.onClose)}},{key:"wrapWithPortal",value:function wrapWithPortal(children){var _this2=this;return this.state.active?react.createElement(PortalCompat,{node:this.props.node,key:"react-portal",ref:function ref(portalNode){return _this2.portalNode=portalNode}},children):null}},{key:"handleOutsideMouseClick",value:function handleOutsideMouseClick(e){if(this.state.active){var root=this.portalNode&&(this.portalNode.props.node||this.portalNode.defaultNode);!root||root.contains(e.target)||e.button&&0!==e.button||this.closePortal()}}},{key:"handleKeydown",value:function handleKeydown(e){e.keyCode===KEYCODES_ESCAPE&&this.state.active&&this.closePortal()}},{key:"render",value:function render(){return this.props.children({openPortal:this.openPortal,closePortal:this.closePortal,portal:this.wrapWithPortal,isOpen:this.state.active})}}]),PortalWithState}(react.Component);PortalWithState.propTypes={children:prop_types_default().func.isRequired,defaultOpen:prop_types_default().bool,node:prop_types_default().any,closeOnEsc:prop_types_default().bool,closeOnOutsideClick:prop_types_default().bool,onOpen:prop_types_default().func,onClose:prop_types_default().func},PortalWithState.defaultProps={onOpen:function onOpen(){},onClose:function onClose(){}};const es_PortalWithState=PortalWithState},"./node_modules/scroll-into-view-if-needed/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function t(t){return"object"==typeof t&&null!=t&&1===t.nodeType}function e(t,e){return(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t}function n(t,n){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var r=getComputedStyle(t,null);return e(r.overflowY,n)||e(r.overflowX,n)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function r(t,e,n,r,i,o,l,d){return o<t&&l>e||o>t&&l<e?0:o<=t&&d<=n||l>=e&&d>=n?o-t-r:l>e&&d<n||o<t&&d>n?l-e+i:0}function index_module(e,i){var o=window,l=i.scrollMode,d=i.block,u=i.inline,h=i.boundary,a=i.skipOverflowHiddenElements,c="function"==typeof h?h:function(t){return t!==h};if(!t(e))throw new TypeError("Invalid target");for(var f=document.scrollingElement||document.documentElement,s=[],p=e;t(p)&&c(p);){if((p=p.parentElement)===f){s.push(p);break}null!=p&&p===document.body&&n(p)&&!n(document.documentElement)||null!=p&&n(p,a)&&s.push(p)}for(var m=o.visualViewport?o.visualViewport.width:innerWidth,g=o.visualViewport?o.visualViewport.height:innerHeight,w=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,W=e.getBoundingClientRect(),b=W.height,H=W.width,y=W.top,E=W.right,M=W.bottom,V=W.left,x="start"===d||"nearest"===d?y:"end"===d?M:y+b/2,I="center"===u?V+H/2:"end"===u?E:V,C=[],T=0;T<s.length;T++){var k=s[T],B=k.getBoundingClientRect(),D=B.height,O=B.width,R=B.top,X=B.right,Y=B.bottom,L=B.left;if("if-needed"===l&&y>=0&&V>=0&&M<=g&&E<=m&&y>=R&&M<=Y&&V>=L&&E<=X)return C;var S=getComputedStyle(k),j=parseInt(S.borderLeftWidth,10),q=parseInt(S.borderTopWidth,10),z=parseInt(S.borderRightWidth,10),A=parseInt(S.borderBottomWidth,10),F=0,G=0,J="offsetWidth"in k?k.offsetWidth-k.clientWidth-j-z:0,K="offsetHeight"in k?k.offsetHeight-k.clientHeight-q-A:0;if(f===k)F="start"===d?x:"end"===d?x-g:"nearest"===d?r(v,v+g,g,q,A,v+x,v+x+b,b):x-g/2,G="start"===u?I:"center"===u?I-m/2:"end"===u?I-m:r(w,w+m,m,j,z,w+I,w+I+H,H),F=Math.max(0,F+v),G=Math.max(0,G+w);else{F="start"===d?x-R-q:"end"===d?x-Y+A+K:"nearest"===d?r(R,Y,D,q,A+K,x,x+b,b):x-(R+D/2)+K/2,G="start"===u?I-L-j:"center"===u?I-(L+O/2)+J/2:"end"===u?I-X+z+J:r(L,X,O,j,z+J,I,I+H,H);var N=k.scrollLeft,P=k.scrollTop;x+=P-(F=Math.max(0,Math.min(P+F,k.scrollHeight-D+K))),I+=N-(G=Math.max(0,Math.min(N+G,k.scrollWidth-O+J)))}C.push({el:k,top:F,left:G})}return C}function isOptionsObject(options){return options===Object(options)&&0!==Object.keys(options).length}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>es});const es=function scrollIntoView(target,options){var isTargetAttached=target.isConnected||target.ownerDocument.documentElement.contains(target);if(isOptionsObject(options)&&"function"==typeof options.behavior)return options.behavior(isTargetAttached?index_module(target,options):[]);if(isTargetAttached){var computeOptions=function getOptions(options){return!1===options?{block:"end",inline:"nearest"}:isOptionsObject(options)?options:{block:"start",inline:"nearest"}}(options);return function defaultBehavior(actions,behavior){void 0===behavior&&(behavior="auto");var canSmoothScroll="scrollBehavior"in document.body.style;actions.forEach((function(_ref){var el=_ref.el,top=_ref.top,left=_ref.left;el.scroll&&canSmoothScroll?el.scroll({top,left,behavior}):(el.scrollTop=top,el.scrollLeft=left)}))}(index_module(target,computeOptions),computeOptions.behavior)}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDU3Mi5kYTAzY2RjMi5pZnJhbWUuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7b3pCQW9DZ0JBLGlCQUNkQyxjQUNBQyxXQUFBQSxVQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxVQUFBQSxHQUFBQSxVQUFBQSxHQUFzQ0MsWUFFN0JDLFlBQVQsZ0JBQXdCQyxFQUFBQSxPQUFBQSxhQUFXQyxTQUFBQSxHQUFDLE9BQUlBLEVBQUksQ0FBUixHQUFXLEdBQS9DLE1BQ01DLFNBQVVDLEVBQUFBLE9BQUFBLFlBQVdDLHNCQUMzQixJQUFLRixRQUNILE1BQU0sSUFBSUcsTUFBSixvRkFJUixJQUtJQyxjQUxJQyxTQUErQkwsUUFBL0JLLFNBQVVDLGlCQUFxQk4sUUFBckJNLGlCQUVaQyxpQ0FBa0NDLEVBQUFBLE9BQUFBLFVBQ2xDQyxnQkFBaUJELEVBQUFBLE9BQUFBLFNBQThCLGtCQUFNLElBQU4sSUFDL0NFLHFCQUFzQkYsRUFBQUEsT0FBQUEsUUFBVyxNQUd2QyxJQUtJSixjQUhBVixXQUFhZSxlQUFlRSxTQUM1QkosZ0NBQWdDSSxRQUVoQmpCLFNBQVNXLFlBRVRLLG9CQUFvQkMsT0FQeEMsQ0FTRSxNQUFPQyxLQUtQLE1BSklMLGdDQUFnQ0ksU0FyRHhDLFNBQVNFLFFBQVFDLE9BQ2YsT0FBT0EsaUJBQWlCWCxLQUN6QixDQW1Ea0RVLENBQVFELE9BQ3JEQSxJQUFJRyxTQUFKSCw0REFBQUEsT0FBMkVMLGdDQUFnQ0ksUUFBUUssTUFBbkgsU0FHSUosR0FDUCxDQXVDRCxPQXRDQUssMkJBQTBCLFdBQ3hCUixlQUFlRSxRQUFVakIsU0FDekJnQixvQkFBb0JDLFFBQVVQLGNBQzlCRyxnQ0FBZ0NJLGFBQVVPLENBSG5CLElBTXpCRCwyQkFDRSxXQUNFLFNBQVNFLGtCQUNQLElBQ0UsSUFBTUMsaUJBQW1CWCxlQUFlRSxRQUFRTixZQUVoRCxHQUFJVixXQUFXeUIsaUJBQWtCVixvQkFBb0JDLFNBQ25ELE9BR0ZELG9CQUFvQkMsUUFBVVMsZ0JBUGhDLENBUUUsTUFBT1IsS0FLUEwsZ0NBQWdDSSxRQUFVQyxHQUMzQyxDQUVEZixhQUNELENBRUQsSUFBTXdCLFlBQWNmLGlCQUFpQmEsaUJBSXJDLE9BRkFBLGtCQUVPLGtCQUFNRSxhQUFOLENBMUJjLEdBNkJ2QixDQUFDZixpQkFBa0JELFdBR2RELGFBQ1IsbzdJQzdHYyxTQUFTa0IsZ0JBQWdCQyxJQUFLQyxJQUFLQyxPQVloRCxPQVhJRCxPQUFPRCxJQUNURyxPQUFPQyxlQUFlSixJQUFLQyxJQUFLLENBQzlCQyxNQUNBRyxZQUFZLEVBQ1pDLGNBQWMsRUFDZEMsVUFBVSxJQUdaUCxJQUFJQyxLQUFPQyxNQUdORixHQUNULENDWmUsU0FBU1EseUJBQXlCQyxPQUFRQyxVQUN2RCxHQUFjLE1BQVZELE9BQWdCLE1BQU8sQ0FBQyxFQUM1QixJQUNJUixJQUFLVSxFQURMQyxPQ0hTLFNBQVNDLDhCQUE4QkosT0FBUUMsVUFDNUQsR0FBYyxNQUFWRCxPQUFnQixNQUFPLENBQUMsRUFDNUIsSUFFSVIsSUFBS1UsRUFGTEMsT0FBUyxDQUFDLEVBQ1ZFLFdBQWFYLE9BQU9ZLEtBQUtOLFFBRzdCLElBQUtFLEVBQUksRUFBR0EsRUFBSUcsV0FBV0UsT0FBUUwsSUFDakNWLElBQU1hLFdBQVdILEdBQ2JELFNBQVNPLFFBQVFoQixNQUFRLElBQzdCVyxPQUFPWCxLQUFPUSxPQUFPUixNQUd2QixPQUFPVyxNQUNULENEVmVNLENBQTZCVCxPQUFRQyxVQUdsRCxHQUFJUCxPQUFPZ0Isc0JBQXVCLENBQ2hDLElBQUlDLGlCQUFtQmpCLE9BQU9nQixzQkFBc0JWLFFBRXBELElBQUtFLEVBQUksRUFBR0EsRUFBSVMsaUJBQWlCSixPQUFRTCxJQUN2Q1YsSUFBTW1CLGlCQUFpQlQsR0FDbkJELFNBQVNPLFFBQVFoQixNQUFRLEdBQ3hCRSxPQUFPa0IsVUFBVUMscUJBQXFCQyxLQUFLZCxPQUFRUixPQUN4RFcsT0FBT1gsS0FBT1EsT0FBT1IsS0FFeEIsQ0FFRCxPQUFPVyxNQUNULENFaEJPLElBQU1ZLDZCQUNYQyxTQUFTQyxPQUFBQSxRQUFNQyxRQUFRQyxNQUFNLEtBQUssR0FBSSxLQUFPLEdBRWxDQyxPQUNVLG9CQUFkQyxXQUNXLG9CQUFYQyxRQUNQLG1CQUFtQkMsS0FBS0YsVUFBVUcsYUFDakNGLE9BQU9HLFNBRUdDLFNBQ1Usb0JBQWRMLFdBQTZCLFdBQVdFLEtBQUtGLFVBQVVHLFdBRW5ERyxXQUNVLG9CQUFkTixXQUE2QixVQUFVRSxLQUFLRixVQUFVRyxXQUVsREksV0FDVSxvQkFBZFAsV0FDUCxtQ0FBbUNFLEtBQUtGLFVBQVVHLFdBRXZDSyxVQUNVLG9CQUFkUixXQUNQLDJCQUEyQkUsS0FBS0YsVUFBVUcsV0FHL0JNLGVBQ1Usb0JBQWRULFdBQ1AsMENBQTBDRSxLQUFLRixVQUFVRyxXQUU5Q08sVUFDVSxvQkFBZFYsV0FBNkIsVUFBVUUsS0FBS0YsVUFBVUcsV0FJbERRLGlCQUNVLG9CQUFkWCxXQUNQLDRDQUE0Q0UsS0FBS0YsVUFBVUcsV0FHaERTLGtCQUNVLG9CQUFkWixXQUNQLG9FQUFvRUUsS0FDbEVGLFVBQVVHLFdBSURVLGFBQ1Usb0JBQWRiLFdBQTZCLGNBQWNFLEtBQUtGLFVBQVVHLFdBR3REVyxhQUNVLG9CQUFkZCxXQUE2QixjQUFjRSxLQUFLRixVQUFVRyxXQUd0RFksaUJBQ1Usb0JBQWRmLFdBQTZCLFdBQVdFLEtBQUtGLFVBQVVHLFdBSW5EYSxjQUNPLG9CQUFYZixhQUNvQixJQUFwQkEsT0FBT2dCLGVBQzJCLElBQWxDaEIsT0FBT2dCLFNBQVNDLGVBS1pDLDBCQUNWUixtQkFDQUYsZ0JBRXFCLG9CQUFmVyxZQUNQQSxXQUFXQyxZQUVnRCxtQkFBcERELFdBQVdDLFdBQVc5QixVQUFVK0IsZ0JDcEU1QjFELDBCQUE0Qm9ELFlBQ3JDTyxPQUFBQSxnQkFDQUMsT0FBQUEsVUNDRUMsT0FBVUMsU0FBVkQsT0FBVUMsT0FNZCxJQUFRQyxPQUErQkQsTUFBL0JDLE9BQVFDLEtBQXVCRixNQUF2QkUsS0FBTUMsT0FBaUJILE1BQWpCRyxPQUFRQyxLQUFTSixNQUFUSSxLQUN4QkMsT0FBU0MsaUJBQ1RDLEtBQU9DLFlBQVlDLFNBQVNKLE9BQVFELE1BQ3BDTSxXQUFhQyxPQUFBQSxLQUFLUixPQUFPSSxNQUkvQixPQUFJRixPQUFPTyxPQUFPVCxRQUNUakMsT0FBQUEsUUFBQUEsY0FBQzJDLGdCQUFEM0MsQ0FBaUJWLE9BQVFzRCxPQUFBQSxLQUFLQyxPQUFPWixRQUFRM0MsU0FPdEMsS0FBZDBDLEtBQUtFLE1BQ0xELE9BQU9hLFNBQVNiLE9BQU9hLFNBQVN4RCxPQUFTLEtBQU80QyxNQUMvQ0MsT0FBT1ksU0FBU2QsU0FDcUIsS0FBdENlLE9BQUFBLE9BQU9ILE9BQU9WLE9BQVFLLFlBUU4sS0FBZFIsS0FBS0UsS0FDQWxDLE9BQUFBLFFBQUFBLGNBQUMyQyxnQkFBRDNDLE1BS0wrQixRQUFrQyxPQUF4QkMsS0FBS0UsS0FBS2UsT0FBTyxHQUN0QmpELE9BQUFBLFFBQUFBLGNBQUNrRCxXQUFEbEQsQ0FBWW1ELFlBQVUsRUFBQ2pCLEtBQU1GLEtBQUtFLE9BR3BDbEMsT0FBQUEsUUFBQUEsY0FBQ2tELFdBQURsRCxDQUFZa0MsS0FBTUYsS0FBS0UsT0FoQnJCbEMsT0FBQUEsUUFBQUEsY0FBQzJDLGdCQUFEM0MsQ0FBaUJvRCxhQUFXLEdBMUJ2QyxFQWdETUYsV0FBY3BCLFNBQWRvQixXQUFjcEIsT0FDbEIsSUFBUUksS0FBNkJKLE1BQTdCSSxLQUFSLGtCQUFxQ0osTUFBdkJxQixXQUFBQSxnQkFBZCx5Q0FFTUUsS0FBTTlGLEVBQUFBLE9BQUFBLFFBQXdCLE1BRTlCK0YsZUFBaUIsU0FBakJBLGlCQUNKLE1BQU8sR0FBUCxPQUFVcEIsV0FBQUEsS0FBUSxJQUFsQixPQUF1QmlCLFdBQWEsS0FBTyxHQUQ3QyxFQTJCQSxPQWRBbkYsMkJBQTBCLFdBRXhCLElBQU11RixpQkFBbUJELGlCQUVyQkQsSUFBSTNGLFNBQVcyRixJQUFJM0YsUUFBUThGLGNBQWdCRCxtQkFDN0NGLElBQUkzRixRQUFROEYsWUFBY0QsaUJBTEwsSUFjcEJGLElBQUkzRixRQVNGc0MsT0FBQUEsUUFBQUEsY0FBQUEsT0FBQUEsd0JBQXdCcUQsTUFQM0JyRCxPQUFBQSxRQUFBQSxjQUFBQSxPQUFBQSx3QkFBd0JxRCxLQUNyQkMsaUJBbkNULEVBZ0RNWCxnQkFBbUJiLFNBQW5CYSxnQkFBbUJiLE9BQ3ZCLGtCQUE0Q0EsTUFBcEN4QyxPQUFBQSxZQUFSLGtCQUFpQixFQUFqQixpQ0FBNEN3QyxNQUF4QnNCLFlBQUFBLGlCQUFwQiwyQ0FDQSxPQUNFcEQsT0FBQUEsUUFBQUEsY0FBQUEsT0FBQUEseUJBQ3lCb0QsWUFBYyxJQUFNLHdCQUN4QjlELFFBRWxCLFNBQ0E4RCxZQUFjcEQsT0FBQUEsUUFBQUEsY0FBQUEsS0FBQUEsTUFBUyxLQVI5QixFQ2pHYXlELGNBQXVDLElBQUlDLFFBQzNDQyxlQUEwQyxJQUFJRCxRQU05Q0UsaUJBQTRDLElBQUlGLFFBQ2hERyxrQkFBa0QsSUFBSUgsUUFFdERJLGdCQUE4QyxJQUFJSixRQUNsREssZ0JBQThDLElBQUlMLFFBQ2xETSxZQUFrQyxJQUFJTixRQUN0Q08seUJBR1QsSUFBSVAsUUFNS1EsYUFBeUMsSUFBSVIsUUFDN0NTLFdBQXVDLElBQUlULFFBRzNDVSxhQUF5QyxJQUFJVixRQUM3Q1csc0JBQWtELElBQUlYLFFBRXREWSx5QkFBc0QsSUFBSVosUUFNMURhLDJCQUdULElBQUliLFFBTUtjLG9CQUFzQixJQUFJZCxRQUUxQmUsb0JBQXNCLElBQUlmLFFBTTFCZ0IsbUJBQXNCQyxPQUFPLGVDbkRwQ0MsS0FBUTlDLFNBQVI4QyxLQUFROUMsT0FRWixJQUNFRSxLQU1FRixNQU5GRSxLQUNBRCxPQUtFRCxNQUxGQyxPQUNBRyxLQUlFSixNQUpGSSxLQUNBRCxPQUdFSCxNQUhGRyxPQUNBNEMsa0JBRUUvQyxNQUZGK0Msa0JBTEYsa0JBT0kvQyxNQURGZ0QsV0FBQUEsZ0JBTkYsc0JBTWdCaEQsU0FBQUEsT0FBRCxPQUE0QjlCLE9BQUFBLFFBQUFBLGNBQUMrRSxZQUFEL0UsT0FBQUEsT0FBQUEsQ0FBQUEsRUFBaUI4QixPQUE3QyxFQU5mLGtCQVNNa0QsZ0JBQWlCekgsRUFBQUEsT0FBQUEsUUFBK0IsT0FFdERxRSxFQUFBQSxPQUFBQSxZQUFVLFdBQ1IsSUFBTXFELGNBQWdCRCwwQkFBSCxFQUFHQSxlQUFnQnRILFFBQ2hDd0gsU0FBVzdELFNBQVM4RCxjQUN4Qiw4QkFHRixHQUFLRixlQUFrQkMsU0FNdkIsT0FGQUEsU0FBU0UsTUFBTUMsVUFBZkgsR0FBQUEsT0FBOEJELGNBQWNLLGFBQTVDLE1BRU8sV0FDTEosU0FBU0UsTUFBTUMsVUFBWSxNQUQ3QixDQVpPLEdBZU4sQ0FBQ0wsZUFBZ0JoRCxPQUVwQixJQUFJYyxTQUNGOUMsT0FBQUEsUUFBQUEsY0FBQzZCLE9BQUQ3QixDQUFRK0IsT0FBZ0JDLEtBQVlDLE9BQWdCQyxPQUd0RCxHQUFJRixLQUFLMEMsb0JBQXFCLENBQzVCLElBQU1hLGlCQUEyQyxDQUMvQ3pDLFNBQVVkLEtBQUt3RCxZQUNmQyxXQUFZLENBQ1YsMEJBQTBCLEVBQzFCTCxNQUFPLENBQ0xNLFNBQVUsV0FDVkMsY0FBZSxPQUNmQyxNQUFPLE9BQ1BDLFNBQVUsT0FDVkMsUUFBUyxRQUNUQyxRQUFTLFFBQ1RDLFdBQVksT0FDWkMsZUFBZ0IsUUFFbEJDLGlCQUFpQixFQUNqQjdDLElBQUsyQixpQkFJVGxDLFNBQ0U5QyxPQUFBQSxRQUFBQSxjQUFDQSxPQUFBQSxRQUFNbUcsU0FBUG5HLEtBQ0c2RSxrQkFBa0JVLGtCQUNsQnpDLFNBR04sQ0FXRCxPQUFPZ0MsV0FBVyxDQUFFVyxXQUpoQixDQUNGLG1CQUFtQixHQUdXM0MsU0FBVWQsS0FBTUUsTUE3RWxELEVBZ0ZNa0UsYUFBZXBHLE9BQUFBLFFBQU1xRyxLQUFLekIsTUFBTSxTQUFDMEIsS0FBTUMsTUFDM0MsT0FDRUEsS0FBS3RFLFNBQVdxRSxLQUFLckUsUUFDckJzRSxLQUFLeEUsU0FBV3VFLEtBQUt2RSxRQUNyQndFLEtBQUt6QixhQUFld0IsS0FBS3hCLFlBQ3pCeUIsS0FBSzFCLG9CQUFzQnlCLEtBQUt6QixtQkFDaEMwQixLQUFLckUsT0FBU29FLEtBQUtwRSxNQUNuQnNFLE9BQUFBLEtBQUtDLE9BQU9GLEtBQUt2RSxLQUFNc0UsS0FBS3RFLE9BQzVCdUUsS0FBS3ZFLEtBQUswQyxzQkFBd0I0QixLQUFLdEUsS0FBSzBDLG1CQVIzQixJQVlSSyxZQUFlakQsU0FBZmlELFlBQWVqRCxPQUMxQixJQUFRMkQsV0FBeUIzRCxNQUF6QjJELFdBQVkzQyxTQUFhaEIsTUFBYmdCLFNBQ3BCLE9BQU85QyxPQUFBQSxRQUFBQSxjQUFBQSxPQUFBQSxPQUFBQSxPQUFBQSxDQUFBQSxFQUFVeUYsWUFBYTNDLFNBQy9CLG1HQ3RHWTRELGVBQWlCLFNBQWpCQSxlQUFrQkMsS0FBVUMsTUFBWCxPQUM1Qm5JLE9BQU9ZLEtBQUtzSCxNQUFNckgsU0FBV2IsT0FBT1ksS0FBS3VILE1BQU10SCxRQUMvQ2IsT0FBT1ksS0FBS3NILE1BQU1FLE9BQ2hCdEksU0FBQUEsS0FBRyxPQUFJcUksS0FBS0UsZUFBZXZJLE1BQVFvSSxLQUFLcEksT0FBU3FJLEtBQUtySSxJQUFuRCxHQUh1QixFQWNqQndJLDBCQUE0QixTQUE1QkEsMEJBQ1hDLEtBQ0FDLFNBRUEsR0FBSUQsS0FBSzFILFNBQVcySCxRQUFRM0gsT0FDMUIsT0FBTyxFQUdULElBQUssSUFBSUwsRUFBSSxFQUFHQSxFQUFJK0gsS0FBSzFILE9BQVFMLElBQUssQ0FDcEMsSUFBTWlJLE1BQVFGLEtBQUsvSCxHQUNia0ksTUFBUUYsUUFBUWhJLEdBRTZCbUksY0FBbkQseUJBQXFFRixNQUFyRSxhQUNtREcsY0FBbkQseUJBQXFFRixNQUFyRSxZQUVBLElBQ0dHLE9BQUFBLE1BQU1iLE9BQU9TLE1BQU9DLFFBQ3JCRCxNQUFNeEMsc0JBQXdCeUMsTUFBTXpDLHNCQUNuQ2dDLGVBQWVVLGNBQWVDLGVBRS9CLE9BQU8sQ0FFVixDQUVELE9BQU8sQ0F4QkYsV0NiU0UsY0FBY0MsTUFDNUIsSUFBTUMsZUFBZ0JsSyxFQUFBQSxPQUFBQSxRQUFlLEdBQy9CbUsseUJBQTBCbkssRUFBQUEsT0FBQUEsUUFBc0IsTUFFN0NvSyx3QkFBVCxnQkFBb0NDLEVBQUFBLE9BQUFBLFVBQVMsR0FBN0MsTUE0QkEsT0ExQkFoRyxFQUFBQSxPQUFBQSxZQUFVLFdBZVIsT0FkQTZDLG9CQUFvQm9ELElBQUlMLE1BQU0sV0FFeEJFLHdCQUF3QmhLLFVBSTVCZ0ssd0JBQXdCaEssUUFBVW9LLHVCQUFzQixXQUN0REgseUJBQXdCSSxTQUFBQSxPQUFLLE9BQUlBLE1BQVEsQ0FBWixJQUM3Qkwsd0JBQXdCaEssUUFBVSxJQUZtQixJQUt2RCtKLGNBQWMvSixVQVhoQixJQWNPLFdBQ0wrRyxvQkFBbUIsT0FBUStDLEtBRDdCLENBZk8sR0FrQk4sQ0FBQ0EsT0FHQUUsd0JBQXdCaEssVUFDMUJzSyxxQkFBcUJOLHdCQUF3QmhLLFNBQzdDZ0ssd0JBQXdCaEssUUFBVSxNQUc3QitKLGNBQWMvSixPQUN0QixDQ2pCRCxJQUFNOEksS0FBUTFFLFNBQVIwRSxLQUFRMUUsT0FzQlosSUFkQSxJQUNFbUcsWUFNRW5HLE1BTkZtRyxZQUNBbEcsT0FLRUQsTUFMRkMsT0FDQUUsT0FJRUgsTUFKRkcsT0FDQTRDLGtCQUdFL0MsTUFIRitDLGtCQUNBQyxXQUVFaEQsTUFGRmdELFdBQ0E1QyxLQUNFSixNQURGSSxLQUVJQyxPQUFTQyxpQkFDVGlCLEtBQU05RixFQUFBQSxPQUFBQSxRQUF3QixNQUM5QjJLLE9BQVNDLE9BQUFBLEtBQVVGLFlBQVkvRixLQUFNK0YsYUFDckMxSixJQUFNK0QsWUFBWThGLFFBQVFqRyxPQUFRRCxNQUNsQ1ksU0FBVyxHQUVSN0QsRUFBSSxFQUFHQSxFQUFJaUosT0FBTzVJLE9BQVFMLElBQUssQ0FDdEMsSUFBTStDLEtBQU9rRyxPQUFPakosR0FFcEI2RCxTQUFTdUYsS0FDUHJJLE9BQUFBLFFBQUFBLGNBQUM0RSxhQUFENUUsQ0FDRStCLE9BQVFBLFFBQVU5QyxJQUFNaUosT0FBTzVJLE9BQVMsRUFDeENmLElBQUcsVUFBS0EsSUFBSStKLEdBQVQsWUFBZXJKLEdBQ2xCNEYsa0JBQ0E3QyxLQUNBRSxLQUNBRCxPQUNBNkMsYUFHTCxDQUdEOUcsMkJBQTBCLFdBQ3hCLElBQU11SyxlQUFpQnRFLHlCQUF5QnVFLElBQUlyRyxRQUNoRGtCLElBQUkzRixTQUNONkssc0JBQUFBLGVBQWdCVixJQUFJdEosSUFBSzhFLElBQUkzRixTQUM3QnFHLGdCQUFnQjhELElBQUkzRixLQUFNbUIsSUFBSTNGLFNBQzlCb0csZ0JBQWdCK0QsSUFBSXhFLElBQUkzRixRQUFTd0UsUUFFakNxRyxzQkFBQUEsZUFBYyxPQUFTaEssS0FDdkJ3RixnQkFBZSxPQUFRN0IsTUFSRixJQVl6QixJQUFNdUcsV0FBYS9ILFdBQWE2RyxjQUFjckYsV0FBUWpFLEVBRXRELE9BQ0UrQixPQUFBQSxRQUFBQSxjQUFBQSxPQUFBQSxtQkFBc0IsT0FBT3FELElBQVU5RSxJQUFLa0ssWUFDekMzRixTQXZEUCxFQTRETTRGLGFBQWUxSSxPQUFBQSxRQUFNcUcsS0FBS0csTUFBTSxTQUFDRixLQUFNQyxNQUMzQyxPQUNFQSxLQUFLdEUsU0FBV3FFLEtBQUtyRSxRQUNyQnNFLEtBQUt4RSxTQUFXdUUsS0FBS3ZFLFFBQ3JCd0UsS0FBS3pCLGFBQWV3QixLQUFLeEIsWUFDekJ5QixLQUFLckUsT0FBU29FLEtBQUtwRSxNQUNuQjZFLDBCQUEwQlIsS0FBSzBCLFlBQWEzQixLQUFLMkIsWUFOaEMsSUNwRGZVLFFBQVc3RyxTQUFYNkcsUUFBVzdHLE9BUWYsSUFDRW1HLFlBTUVuRyxNQU5GbUcsWUFDQVcsUUFLRTlHLE1BTEY4RyxRQUZGLHFCQU9JOUcsTUFKRitHLGNBQUFBLG1CQUhGLHlCQUdtQkMsU0FBQUEsR0FBRCxPQUEyQjlJLE9BQUFBLFFBQUFBLGNBQUMrSSxlQUFEL0ksT0FBQUEsT0FBQUEsQ0FBQUEsRUFBb0I4SSxHQUEvQyxFQUhsQixxQkFJRWpFLGtCQUdFL0MsTUFIRitDLGtCQUNBQyxXQUVFaEQsTUFGRmdELFdBQ0FrRSxVQUNFbEgsTUFERmtILFVBRUkzRixLQUFNOUYsRUFBQUEsT0FBQUEsUUFBb0IsTUFDMUI0RSxPQUFTQyxpQkFDVDZHLFNBQVdDLGNBQ1huRyxTQUFXWixPQUFPWSxTQUFTNkYsU0FDM0JySyxJQUFNK0QsWUFBWThGLFFBQVFqRyxPQUFReUcsU0FDcEM5RixTQUE0QnFHLFlBQVksQ0FDMUNsQixZQUNBVCxLQUFNb0IsUUFDTkMsY0FDQWhFLGtCQUNBQyxXQUNBa0UsWUFLSXZELFdBT0YsQ0FDRixrQkFBbUIsVUFDbkJwQyxLQVNGLEdBTklOLFdBQ0YwQyxXQUFXLHNCQUF1QixJQUsvQjFDLFVBQVlDLE9BQUFBLE9BQU9vRyxXQUFXakgsT0FBUXlHLFNBQVUsQ0FDbkQsSUFBTTFHLEtBQU9VLE9BQUFBLEtBQUtDLE9BQU8rRixTQUNuQlMsS0FBTUMsRUFBQUEsV0FBQUEsU0FBYXBILE1BRWIsUUFBUm1ILE1BQ0Y1RCxXQUFXNEQsSUFBTUEsSUFFcEIsQ0FHRCxHQUFJckcsT0FBQUEsT0FBT04sT0FBT1AsT0FBUXlHLFNBQVUsQ0FDbENuRCxXQUFXLG9CQUFxQixHQUUzQndELFVBQVlsRyxXQUNmMEMsV0FBV1MsaUJBQWtCLEdBRy9CLElBQU1xRCxJQUFNeEcsU0FBVyxPQUFTLE1BQ2hDLDRCQUFpQkgsT0FBQUEsS0FBSzRHLE1BQU1aLFNBQTVCLEdBQVExRyxNQUFSLHFDQUVBWSxTQUNFOUMsT0FBQUEsUUFBQUEsY0FBQ3VKLElBQUR2Six3QkFFRW9GLE1BQU8sQ0FDTHFFLE9BQVEsSUFDUkMsTUFBTyxjQUNQQyxRQUFTLE9BQ1RqRSxTQUFVLGFBR1oxRixPQUFBQSxRQUFBQSxjQUFDd0csYUFBRHhHLENBQ0U2RSxrQkFDQW9ELFlBQWEsR0FDYmxHLFFBQVEsRUFDUkUsT0FBUTJHLFFBQ1IxRyxLQUFNQSxTQUtadUIsY0FBY29FLElBQUkzRixNQUFNLEdBQ3hCeUIsZUFBZWtFLElBQUkzRixNQUFNMEcsUUFDMUIsQ0FHRDVLLDJCQUEwQixXQUN4QixJQUFNdUssZUFBaUJ0RSx5QkFBeUJ1RSxJQUFJckcsUUFDaERrQixJQUFJM0YsU0FDTjZLLHNCQUFBQSxlQUFnQlYsSUFBSXRKLElBQUs4RSxJQUFJM0YsU0FDN0JxRyxnQkFBZ0I4RCxJQUFJZSxRQUFTdkYsSUFBSTNGLFNBQ2pDb0csZ0JBQWdCK0QsSUFBSXhFLElBQUkzRixRQUFTa0wsV0FFakNMLHNCQUFBQSxlQUFjLE9BQVNoSyxLQUN2QndGLGdCQUFlLE9BQVE2RSxTQVJGLElBWXpCLElBQU1nQixRQUFVZixjQUFjLENBQUVwRCxXQUFZM0MsU0FBVThGLFVBRXRELEdBQUlsSSxXQUFZLENBQ2QsSUFBTStILFdBQWFsQixjQUFjcUIsU0FDakMsT0FBTzVJLE9BQUFBLFFBQUFBLGNBQUNtRyxPQUFBQSxTQUFEbkcsQ0FBVXpCLElBQUtrSyxZQUFhbUIsUUFDcEMsQ0FFRCxPQUFPQSxPQWxIVCxFQXFITUMsZ0JBQWtCN0osT0FBQUEsUUFBTXFHLEtBQUtzQyxTQUFTLFNBQUNyQyxLQUFNQyxNQUNqRCxPQUNFRCxLQUFLc0MsVUFBWXJDLEtBQUtxQyxTQUN0QnRDLEtBQUt1QyxnQkFBa0J0QyxLQUFLc0MsZUFDNUJ2QyxLQUFLeEIsYUFBZXlCLEtBQUt6QixZQUN6QmlDLDBCQUEwQlQsS0FBSzJCLFlBQWExQixLQUFLMEIsZUFDaEQzQixLQUFLMEMsWUFBY3pDLEtBQUt5QyxhQUNwQjFDLEtBQUswQyxhQUNKekMsS0FBS3lDLFdBQ1AxQixPQUFBQSxNQUFNYixPQUFPSCxLQUFLMEMsVUFBV3pDLEtBQUt5QyxXQVRsQixJQWlCWEQsZUFBa0JqSCxTQUFsQmlILGVBQWtCakgsT0FDN0IsSUFBUTJELFdBQWtDM0QsTUFBbEMyRCxXQUFZM0MsU0FBc0JoQixNQUF0QmdCLFNBQVU4RixRQUFZOUcsTUFBWjhHLFFBRXhCVyxJQURTbkgsaUJBQ0lXLFNBQVM2RixTQUFXLE9BQVMsTUFDaEQsT0FDRTVJLE9BQUFBLFFBQUFBLGNBQUN1SixJQUFEdkosT0FBQUEsT0FBQUEsQ0FBQUEsRUFBU3lGLFdBQUFBLENBQVlMLE1BQU8sQ0FBRU0sU0FBVSxjQUNyQzVDLFNBR04sd0NDbktNLElBQU1nSCxlQUFnQkMsRUFBQUEsT0FBQUEsZUFBa0MsTUFNbEQzSCxlQUFpQixTQUFqQkEsaUJBQ1gsSUFBTUQsUUFBU25GLEVBQUFBLE9BQUFBLFlBQVc4TSxlQUUxQixJQUFLM0gsT0FDSCxNQUFNLElBQUlqRixNQUFKLGtGQUtSLE9BQU9pRixNQUNSLHdDQ2pCTSxJQUFNNkgsaUJBQWtCRCxFQUFBQSxPQUFBQSxnQkFDN0IsaUJBQU0sRUFBTixJQ0ZXRSxpQkFBa0JGLEVBQUFBLE9BQUFBLGdCQUFjLHVCQU1sQixTQUFkRyxjQUNYLE9BQU9sTixFQUFBQSxPQUFBQSxZQUFXaU4sZ0JBQ25CLEVDTUQsSUFBTWQsWUFBZXJILFNBQWZxSCxZQUFlckgsT0F5Qm5CLElBakJBLElBQ0VtRyxZQU1FbkcsTUFORm1HLFlBQ0FULEtBS0UxRixNQUxGMEYsS0FDQXFCLGNBSUUvRyxNQUpGK0csY0FDQWhFLGtCQUdFL0MsTUFIRitDLGtCQUNBQyxXQUVFaEQsTUFGRmdELFdBQ0FrRSxVQUNFbEgsTUFERmtILFVBRUltQixTRnJCbUIsU0FBZEMsY0FDWCxPQUFPcE4sRUFBQUEsT0FBQUEsWUFBV2dOLGdCQURiLENFcUJZSSxHQUNYakksT0FBU0MsaUJBQ1RDLEtBQU9DLFlBQVlDLFNBQVNKLE9BQVFxRixNQUNwQzFFLFNBQVcsR0FDWHVILFlBQ0oxQixPQUFBQSxRQUFRMkIsVUFBVTlDLFFBQ2pCckYsT0FBT1ksU0FBU3lFLE9BQ2pCeEUsT0FBQUEsT0FBT29HLFdBQVdqSCxPQUFRcUYsTUFFbkJ2SSxFQUFJLEVBQUdBLEVBQUl1SSxLQUFLMUUsU0FBU3hELE9BQVFMLElBQUssQ0FDN0MsSUFENkMsTUFDdkM2SixFQUFJekcsS0FBS2tJLE9BQU90TCxHQUNoQnVMLEVBQUloRCxLQUFLMUUsU0FBUzdELEdBQ2xCVixJQUFNK0QsWUFBWThGLFFBQVFqRyxPQUFRcUksR0FDbEN0RCxNQUFRbEUsT0FBQUEsT0FBT2tFLE1BQU0vRSxPQUFRMkcsR0FDN0IyQixJQUFNekIsV0FBYTFCLE9BQUFBLE1BQU1vRCxhQUFheEQsTUFBTzhCLFdBQzdDMkIsR0FBS1IsU0FBUyxDQUFDSyxFQUFHMUIsSUFOcUIscUNBUTNCYixhQVIyQixJQVE3QyxJQUFLLFVBQUwsaUNBQStCLEtBQXBCMkMsSUFBb0IsWUFDdkJDLEVBQUl2RCxPQUFBQSxNQUFNb0QsYUFBYUUsSUFBSzFELE9BRTlCMkQsR0FDRkYsR0FBR3RDLEtBQUt3QyxFQUVYLENBZDRDLG1EQWdCekNsQyxPQUFBQSxRQUFRMkIsVUFBVUUsR0FDcEIxSCxTQUFTdUYsS0FDUHJJLE9BQUFBLFFBQUFBLGNBQUNpSyxnQkFBZ0JhLFNBQWpCOUssQ0FBMEJ6QixJQUFHLG1CQUFjQSxJQUFJK0osSUFBTTlKLFFBQVNpTSxLQUM1RHpLLE9BQUFBLFFBQUFBLGNBQUMrSyxnQkFBRC9LLENBQ0VpSSxZQUFhMEMsR0FDYi9CLFFBQVM0QixFQUNUak0sSUFBS0EsSUFBSStKLEdBQ1RPLGNBQ0FoRSxrQkFDQUMsV0FDQWtFLFVBQVd5QixRQUtqQjNILFNBQVN1RixLQUNQckksT0FBQUEsUUFBQUEsY0FBQ2dMLGFBQURoTCxDQUNFaUksWUFBYTBDLEdBQ2JwTSxJQUFLQSxJQUFJK0osR0FDVHZHLE9BQVFzSSxhQUFlcEwsSUFBTXVJLEtBQUsxRSxTQUFTeEQsT0FBUyxFQUNwRDJDLE9BQVF1RixLQUNSM0Msa0JBQ0FDLFdBQ0E1QyxLQUFNc0ksS0FLWi9HLGNBQWNvRSxJQUFJMkMsRUFBR3ZMLEdBQ3JCMEUsZUFBZWtFLElBQUkyQyxFQUFHaEQsS0FDdkIsQ0FFRCxPQUFPMUUsUUF6RVQsRUNiTW1JLFFBQVUsQ0FDZEMsS0FBTSxRQUNOQyxRQUFTLENBQUMsT0FBUSxPQUFRLFFBQVMsS0FBTSxZQUFhLFNBQ3REQyxhQUFjLE9BQ2RDLFlBQWEsUUFDYkMsaUJBQWtCLFlBQ2xCQyxnQkFBaUIsYUFDakJDLGVBQWdCLG1CQUNoQkMsY0FBZSxnQkFDZkMsZUFBZ0IsYUFDaEJDLGNBQWUsY0FDZkMsT0FBUSxRQUNSQyxnQkFBaUIsY0FDakJDLFdBQVksUUFDWkMsS0FBTSxTQUdGQyxjQUFnQixDQUNwQkMsaUJBQWtCLFNBQ2xCQyxnQkFBaUIsV0FDakJaLGlCQUFrQixXQUNsQkMsZ0JBQWlCLFlBQ2pCQyxlQUFnQixDQUFDLGlCQUFrQixVQUNuQ0MsY0FBZSxDQUFDLGNBQWUsVUFDL0JVLG1CQUFvQix1QkFDcEJDLGtCQUFtQixDQUFDLG9CQUFxQixVQUN6Q0MsbUJBQW9CLHVCQUNwQkMsa0JBQW1CLG9CQUNuQkMsbUJBQW9CLGVBQ3BCQyxrQkFBbUIsaUJBQ25CQyxLQUFNLGNBQ05DLG1CQUFvQixVQUdoQkMsZ0JBQWtCLENBQ3RCTixtQkFBb0Isd0JBQ3BCQyxrQkFBbUIscUJBQ25CRyxLQUFNLENBQUMsU0FBVSxpQkFPYkcsT0FBVXJPLFNBQVZxTyxPQUFVck8sS0FDZCxJQUFNc08sUUFBVTVCLFFBQVExTSxLQUNsQnVPLE1BQVFkLGNBQWN6TixLQUN0QndPLFFBQVVKLGdCQUFnQnBPLEtBQzFCeU8sVUFBWUgsVUFBV0ksRUFBQUEsVUFBQUEsYUFBWUosU0FDbkNLLFFBQVVKLFFBQVNHLEVBQUFBLFVBQUFBLGFBQVlILE9BQy9CSyxVQUFZSixVQUFXRSxFQUFBQSxVQUFBQSxhQUFZRixTQUV6QyxPQUFRSyxTQUFBQSxPQUNOLFNBQUlKLFlBQWFBLFVBQVVJLGFBQ3ZCM00sVUFBWXlNLFNBQVdBLFFBQVFFLFdBQzlCM00sV0FBWTBNLFlBQWFBLFVBQVVDLFFBSDFDLENBUkYsRUFvQkEsUUFBZSxDQUNiQyxPQUFRVCxPQUFPLFFBQ2ZVLFVBQVdWLE9BQU8sV0FDbEJXLGVBQWdCWCxPQUFPLGdCQUN2QlksY0FBZVosT0FBTyxlQUN0QmEsaUJBQWtCYixPQUFPLGtCQUN6QmMsZ0JBQWlCZCxPQUFPLGlCQUN4QmUscUJBQXNCZixPQUFPLHNCQUM3QmdCLG9CQUFxQmhCLE9BQU8scUJBQzVCaUIscUJBQXNCakIsT0FBTyxzQkFDN0JrQixvQkFBcUJsQixPQUFPLHFCQUM1Qm1CLGlCQUFrQm5CLE9BQU8sa0JBQ3pCb0IsZ0JBQWlCcEIsT0FBTyxpQkFDeEJxQixxQkFBc0JyQixPQUFPLHNCQUM3QnNCLG9CQUFxQnRCLE9BQU8scUJBQzVCdUIsU0FBVXZCLE9BQU8sVUFDakJ3QixtQkFBb0J4QixPQUFPLG9CQUMzQnlCLGtCQUFtQnpCLE9BQU8sbUJBQzFCMEIsbUJBQW9CMUIsT0FBTyxvQkFDM0IyQixrQkFBbUIzQixPQUFPLG1CQUMxQjRCLE9BQVE1QixPQUFPLFFBQ2Y2QixZQUFhN0IsT0FBTyxtQkFDcEI4QixhQUFjOUIsT0FBTyxjQUNyQitCLHFCQUFzQi9CLE9BQU8sc0JBQzdCZ0MsT0FBUWhDLE9BQU8sU0N6RkppQyxpQkFBa0I5RSxFQUFBQSxPQUFBQSxnQkFBYyxHQU1oQ2IsWUFBYyxTQUFkQSxjQUNYLE9BQU9sTSxFQUFBQSxPQUFBQSxZQUFXNlIsZ0JBQ25CLGtDQ0xNLElBQU1DLGNBQWUvRSxFQUFBQSxPQUFBQSxlQUFvQyxNQU1uRGdGLFNBQVcsU0FBWEEsV0FDWCxJQUFNaFMsU0FBVUMsRUFBQUEsT0FBQUEsWUFBVzhSLGNBRTNCLElBQUsvUixRQUNILE1BQU0sSUFBSUcsTUFBSiw0RUFNUixPQURBLGVBQWlCSCxRQUFqQixLQUVELDRCQ2FNLElBQU1pUyxlQUFrQnhRLFNBQWxCd1EsZUFBa0J4USxPQUM3QixPQUNHQSxPQUFTQSxNQUFNeVEsZUFBaUJ6USxNQUFNeVEsY0FBY0MsYUFBZ0IsSUFGbEUsRUFVTUMsYUFBZ0IzUSxTQUFoQjJRLGFBQWdCM1EsT0FDM0IsT0FBTzRRLFVBQVU1USxRQUE2QixJQUFuQkEsTUFBTTZRLFFBRDVCLEVBUU1DLGFBQWdCOVEsU0FBaEI4USxhQUFnQjlRLE9BQzNCLE9BQU80USxVQUFVNVEsUUFBNkIsSUFBbkJBLE1BQU02USxRQUQ1QixFQVFNRCxVQUFhNVEsU0FBYjRRLFVBQWE1USxPQUN4QixJQUFNNkIsT0FBUzJPLGVBQWV4USxPQUM5QixRQUFTNkIsUUFBVTdCLGlCQUFpQjZCLE9BQU91QyxJQUZ0QyxFQVNNMk0sZUFBa0IvUSxTQUFsQitRLGVBQWtCL1EsT0FDN0IsSUFBTTZCLE9BQVM3QixPQUFTQSxNQUFNZ1IsWUFBY1IsZUFBZXhRLE1BQU1nUixZQUNqRSxRQUFTblAsUUFBVTdCLGlCQUFpQjZCLE9BQU9vUCxTQUZ0QyxFQVNNQyxVQUFhbFIsU0FBYmtSLFVBQWFsUixPQUN4QixPQUFPNFEsVUFBVTVRLFFBQTZCLElBQW5CQSxNQUFNNlEsUUFENUIsRUFrRU1NLHlCQUEyQixTQUEzQkEseUJBQ1gxTixPQUNBMk4sTUFDQUMsV0FVQSxJQVJBLElBQVFDLFdBQWU3TixPQUFmNk4sV0FDSkMsTUFBUUQsV0FBV0YsT0FDbkIzUSxFQUFJMlEsTUFDSkksY0FBZSxFQUNmQyxlQUFnQixHQUtsQmQsYUFBYVksUUFDWlQsYUFBYVMsUUFBc0MsSUFBNUJBLE1BQU1ELFdBQVd4USxRQUN4Q2dRLGFBQWFTLFFBQW9ELFVBQTFDQSxNQUFNRyxhQUFhLHVCQUV2Q0YsZUFBZ0JDLGdCQUloQmhSLEdBQUs2USxXQUFXeFEsUUFDbEIwUSxjQUFlLEVBQ2YvUSxFQUFJMlEsTUFBUSxFQUNaQyxVQUFZLFlBSVY1USxFQUFJLEdBQ05nUixlQUFnQixFQUNoQmhSLEVBQUkyUSxNQUFRLEVBQ1pDLFVBQVksWUFJZEUsTUFBUUQsV0FBVzdRLEdBQ25CMlEsTUFBUTNRLEVBQ1JBLEdBQW1CLFlBQWQ0USxVQUEwQixHQUFLLEdBR3RDLE1BQU8sQ0FBQ0UsTUFBT0gsTUF6Q1YsRUFpRE1PLGlCQUFtQixTQUFuQkEsaUJBQ1hsTyxPQUNBMk4sTUFDQUMsV0FHQSxPQURBLGVBQWdCRix5QkFBeUIxTixPQUFRMk4sTUFBT0MsV0FBeEQsS0FMSyxFQWdCTU8sYUFBZ0JDLFNBQWhCRCxhQUFnQkMsU0FDM0IsSUFBSW5PLEtBQU8sR0FFWCxHQUFJd04sVUFBVVcsVUFBWUEsUUFBUUMsVUFDaEMsT0FBT0QsUUFBUUMsVUFHakIsR0FBSWhCLGFBQWFlLFNBQVUsQ0FDekIsSUFBSyxJQUFMLGtCQUF3QkUsTUFBTUMsS0FBS0gsUUFBUVAsWUFBM0MsNkJBQXdELENBQ3RENU4sTUFBUWtPLGFBRFYsaUJBRUMsQ0FFRCxJQUFNdEssUUFBVTJLLGlCQUFpQkosU0FBU0ssaUJBQWlCLFdBRTNDLFVBQVo1SyxTQUFtQyxTQUFaQSxTQUEwQyxPQUFwQnVLLFFBQVFNLFVBQ3ZEek8sTUFBUSxLQUVYLENBRUQsT0FBT0EsSUFuQkYsRUF5QkQwTyxtQkFBcUIsK0JBQ2RDLDBCQUNYQyxTQURXRCwwQkFDWEMsY0FJQSxPQURBLGVBRGlCQSxhQUFhQyxRQUFRLGFBQ1JDLE1BQU1KLHFCQUF1QixHQUEzRCxLQUpLLHU3QkNsTFAsSUFBTUssU0FBWW5QLFNBQVptUCxTQUFZblAsT0FBRCxPQUNmOUIsT0FBQUEsUUFBQUEsY0FBQ0EsT0FBQUEsUUFBTW1HLFNBQVBuRyxLQUFpQm1KLFlBQVlySCxPQURkLEVBdURKb1AsV0FBWXBQLFNBQVpvUCxXQUFZcFAsT0FDdkIsSUFDRXFQLFVBWUVyUCxNQVpGcVAsVUFERixnQkFhSXJQLE1BWEZxSSxTQUFBQSxjQUZGLG9CQUVhaUgsZ0JBRmIsZ0JBR29CQyxzQkFVaEJ2UCxNQVZGd1AsaUJBQ0E5TCxZQVNFMUQsTUFURjBELFlBSkYsZ0JBYUkxRCxNQVJGbUgsU0FBQUEsY0FMRixxQ0FNRUosY0FPRS9HLE1BUEYrRyxjQUNBL0QsV0FNRWhELE1BTkZnRCxXQVBGLHNCQWFJaEQsTUFMRitDLGtCQUFBQSx1QkFSRiwwQkFRc0IvQyxTQUFBQSxPQUFLLE9BQUk5QixPQUFBQSxRQUFBQSxjQUFDdVIsbUJBQUR2UixPQUFBQSxPQUFBQSxDQUFBQSxFQUF3QjhCLE9BQTVCLEVBUjNCLDRDQWFJQSxNQUpGMFAsd0JBQUFBLDZCQVRGLDBCQVM0QkMsK0JBVDVCLG1DQWFJM1AsTUFIRnNELE1BQUFBLFdBVkYsaUJBVVUsQ0FBQyxFQVZYLHVCQWFJdEQsTUFGRjRQLEdBQUlDLGVBWE4sY0FXa0IsTUFYbEIsVUFZS2xNLFdBWkwseUJBYUkzRCxNQWJKLGFBY01LLE9BQVM0TSxXQUVmLDJCQUFzQ25ILEVBQUFBLE9BQUFBLFdBQVMsR0FBL0MsR0FBT2dLLFlBQVAsY0FBb0JDLGVBQXBCLGNBQ014TyxLQUFNOUYsRUFBQUEsT0FBQUEsUUFBdUIsTUFDN0J1VSxvQkFBcUJ2VSxFQUFBQSxPQUFBQSxRQUE0QixJQUd2RDJHLGFBQWEyRCxJQUFJMUYsT0FBUThHLFVBR3pCLElBQU1sQixPQUFRZ0ssRUFBQUEsT0FBQUEsVUFDWixpQkFBTyxDQUNMQyw2QkFBNkIsRUFDN0JDLHNCQUFzQixFQUN0QkMscUJBQXFCLEVBQ3JCQyxjQUFlLEtBSmpCLEdBTUEsSUFJRm5VLDJCQUEwQixXQUV4QixJQUFJcUMsT0FDQWdELElBQUkzRixVQUFZMkMsT0FBUzJPLGVBQWUzTCxJQUFJM0YsV0FDOUNrRyxpQkFBaUJpRSxJQUFJMUYsT0FBUTlCLFFBQzdCd0Qsa0JBQWtCZ0UsSUFBSTFGLE9BQVFrQixJQUFJM0YsU0FDbENxRyxnQkFBZ0I4RCxJQUFJMUYsT0FBUWtCLElBQUkzRixTQUNoQ29HLGdCQUFnQitELElBQUl4RSxJQUFJM0YsUUFBU3lFLFNBRWpDNEIsZ0JBQWUsT0FBUTVCLFFBSXpCLElBQVE2RyxVQUFjN0csT0FBZDZHLFVBRUZvSixhQURPOVAsWUFBWStQLHlCQUF5QmxRLFFBQ3hCbVEsZUFFMUIsSUFDRWhRLFlBQVlzUCxZQUFZelAsU0FDdkJpUSxjQUNBOVAsWUFBWWlRLFVBQVVwUSxRQUh6QixDQVFBLElBQU1xUSxnQkFBd0MsU0FBdEJKLGFBQWFLLEtBR3JDLEdBQUt6SixXQUFjd0osZ0JBQW5CLENBS0EsSUFBTUUsY0FBZ0I3TyxrQkFBa0IyRSxJQUFJckcsUUFDeEN3USx5QkFBMEIsRUFTOUIsR0FQRUQsY0FBY0UsU0FBU1IsYUFBYTVDLGFBQ3BDa0QsY0FBY0UsU0FBU1IsYUFBYVMsYUFFcENGLHlCQUEwQixHQUl4QkgsaUJBQW1CRyx5QkFBMkIzSixVQUFXLENBQzNELElBQU04SixXQUFheFEsWUFBWXlRLGFBQWE1USxPQUFRaVEsYUFBYyxDQUNoRVksWUFBWSxFQUlaQyxlQUFlLElBRWpCLEdBQUlILFlBQWN4TCxPQUFBQSxNQUFNYixPQUFPcU0sV0FBWTlKLFdBQ3pDLE1BRUgsQ0FNRCxJQUFJQSxXQUFjMUcsWUFBWTRRLFNBQVMvUSxPQUFRNkcsV0FBL0MsQ0FTQWpCLE1BQU1tSyxxQkFBc0IsRUFFNUIsSUFBTWlCLFlBQWNuSyxXQUFhMUcsWUFBWThRLFdBQVdqUixPQUFRNkcsV0FDNURtSyxhQUNFN0wsT0FBQUEsTUFBTStMLFdBQVdySyxXQUNuQm9KLGFBQWFrQixpQkFDWEgsWUFBWUksYUFDWkosWUFBWUssVUFDWkwsWUFBWU0sZUFDWk4sWUFBWU8sYUFHZHRCLGFBQWFrQixpQkFDWEgsWUFBWU0sZUFDWk4sWUFBWU8sWUFDWlAsWUFBWUksYUFDWkosWUFBWUssV0FHaEJoQyx3QkFBd0JyUCxPQUFRZ1IsY0FFaENmLGFBQWF1QixrQkFHZkMsWUFBVyxXQUdMVCxhQUFleFMsWUFDTjJCLFlBQVl1UixVQUFVMVIsT0FBUUEsUUFDdEMyUixRQUdML0wsTUFBTW1LLHFCQUFzQixDQVJwQixHQTNCVCxNQUxDL1AsT0FBTzZHLFVBQVkxRyxZQUFZeVEsYUFBYTVRLE9BQVFpUSxhQUFjLENBQ2hFWSxZQUFZLEVBQ1pDLGVBQWUsR0FqQ2xCLENBUEEsQ0F2QnNCLEtBMkd6QnJSLEVBQUFBLE9BQUFBLFlBQVUsV0FDSnlCLElBQUkzRixTQUFXeVQsV0FDakI5TixJQUFJM0YsUUFBUW9XLE9BRlAsR0FJTixDQUFDM0MsWUFPSixJQUFNNEMsc0JBQXVCQyxFQUFBQSxPQUFBQSxjQUMzQkMsRUFBQUEsVUFBQUEsVUFBUyxXQUNQLElBQ0czUixZQUFZc1AsWUFBWXpQLFVBQ3hCNEYsTUFBTW1LLHNCQUNObkssTUFBTWtLLHFCQUNQLENBQ0EsSUFBTWlDLEtBQU81UixZQUFZK1AseUJBQXlCbFEsUUFDMUNnUyxjQUFrQkQsS0FBbEJDLGNBQ0ZDLEdBQUs5UixZQUFZdVIsVUFBVTFSLE9BQVFBLFFBQ25DaVEsYUFBZThCLEtBQUs1QixlQVMxQixHQVBJNkIsZ0JBQWtCQyxJQUNwQnJNLE1BQU1vSyxjQUFnQmdDLGNBQ3RCaFEsV0FBVzBELElBQUkxRixRQUFRLElBRXZCZ0MsV0FBVSxPQUFRaEMsU0FHZmlRLGFBQ0gsT0FBT2lDLE9BQUFBLFdBQVdDLFNBQVNuUyxRQUc3QixJQUFRcU4sV0FBMEI0QyxhQUExQjVDLFdBQVlxRCxVQUFjVCxhQUFkUyxVQUVkMEIscUJBQ0pDLGtCQUFrQnJTLE9BQVFxTixhQUMxQmlGLDhCQUE4QnRTLE9BQVFxTixZQUVsQ2tGLG9CQUNKRixrQkFBa0JyUyxPQUFRMFEsWUFDMUI0Qiw4QkFBOEJ0UyxPQUFRMFEsV0FFeEMsR0FBSTBCLHNCQUF3Qkcsb0JBQXFCLENBQy9DLElBQU14TixNQUFRNUUsWUFBWXlRLGFBQWE1USxPQUFRaVEsYUFBYyxDQUMzRFksWUFBWSxFQUNaQyxlQUFlLElBRWpCb0IsT0FBQUEsV0FBV00sT0FBT3hTLE9BQVErRSxNQUMzQixDQUNGLENBdkNLLEdBd0NMLEtBQ0gsQ0FBQytCLFdBR0cyTCw4QkFBK0I3QyxFQUFBQSxPQUFBQSxVQUNuQyxrQkFBTThDLEVBQUFBLFVBQUFBLFNBQVNkLHFCQUFzQixFQUFyQyxHQUNBLENBQUNBLHVCQU9HekMsa0JBQW1CMEMsRUFBQUEsT0FBQUEsY0FDdEI1RyxTQUFBQSxPQUNDLElBQ0duRSxVQUNEdUwsa0JBQWtCclMsT0FBUWlMLE1BQU1sTyxVQUMvQjRWLGtCQUFrQjFILE1BQU9pRSx1QkFDMUIsMkJBSUF1RCw2QkFBNkJHLFFBQzdCaEIscUJBQXFCZ0IsUUFFckIsSUFBUS9MLFVBQWM3RyxPQUFkNkcsVUFDV3lKLEtBQVNyRixNQUFwQjRILFVBQ0ZDLEtBQVE3SCxNQUFjMEQsY0FBZ0IxRCxNQUFNNkgsV0FBUWhYLEVBSTFELEdBQ1csMEJBQVR3VSxNQUNTLDBCQUFUQSxLQUVBLE9BR0YsSUFBSXlDLFNBQVMsRUFDYixHQUNXLGVBQVR6QyxNQUNBekosV0FDQTFCLE9BQUFBLE1BQU02TixZQUFZbk0sWUFJbEJvRSxNQUFNNkgsTUFDZ0IsSUFBdEI3SCxNQUFNNkgsS0FBSzNWLFFBQ1gsVUFBVWdCLEtBQUs4TSxNQUFNNkgsT0FJTyxJQUE1QmpNLFVBQVVvTSxPQUFPQyxPQUNqQix5QkFDQUgsU0FBUyxFQUlML1MsT0FBT21ULFFBQ1RKLFNBQVMsR0FLWCxJQUFRRSxPQUFXcE0sVUFBWG9NLE9BRVIsc0NBQXVCOVMsWUFBWWlULFdBQVdwVCxPQUFRaVQsUUFBdEQsR0FBTzVOLEtBQVAsMEJBQWE2TixPQUFiLDBCQUNNN0YsV0FBVSw0QkFBR2hJLEtBQUtnTyxxQkFBUiwrQkFBR0Msb0JBQW9CQyxRQUFRLEtBRS9DLEdBQUlsRyxZQUFjbE4sWUFBWXFULFdBQVd4VCxPQUFRcU4sWUFBYSwyQkFJdERvRyxTQUhldFQsWUFBWXVULFVBQVUxVCxRQUFuQ2QsU0FJTHlVLGlCQUFpQnRHLFdBQVl1RyxXQUFXQyxXQUN4Q0MsWUFFQ0wsV0FBYXBPLE9BQVEsOEJBQUFvTyxTQUFTcFMsbUJBQVQsdURBQXNCbEUsVUFBVytWLFNBQ3hESCxTQUFTLEVBRVosQ0E5REgsQ0FvRUEsSUFBS3pDLEtBQUt5RCxXQUFXLFdBQWF6RCxLQUFLeUQsV0FBVyxZQUFhLENBQzdELElBQU9DLFlBQVAsZUFBdUIvSSxNQUFjMUwsa0JBQXJDLE1BRUEsR0FBSXlVLFlBQWEsQ0FDZixJQUFNalAsTUFBUTVFLFlBQVl5USxhQUFhNVEsT0FBUWdVLFlBQWEsQ0FDMURuRCxZQUFZLEVBQ1pDLGVBQWUsSUFHakIsSUFBS2pLLFlBQWMxQixPQUFBQSxNQUFNYixPQUFPdUMsVUFBVzlCLE9BQVEsQ0FDakRnTyxTQUFTLEVBRVQsSUFBTWtCLGFBQ0pqVSxPQUFPNkcsV0FBYWhHLE9BQUFBLE9BQU9xVCxTQUFTbFUsT0FBUUEsT0FBTzZHLFdBRXJEcUwsT0FBQUEsV0FBV00sT0FBT3hTLE9BQVErRSxPQUV0QmtQLGNBQ0Y5Uix5QkFBeUJ1RCxJQUFJMUYsT0FBUWlVLGFBRXhDLENBQ0YsQ0FDRixDQVFELEdBTktsQixTQUNIOUgsTUFBTWtKLGlCQU1OdE4sV0FDQTFCLE9BQUFBLE1BQU1pUCxXQUFXdk4sWUFDakJ5SixLQUFLeUQsV0FBVyxVQUNoQixDQUNBLElBQU1yRyxVQUFZNEMsS0FBSytELFNBQVMsWUFBYyxXQUFhLFVBRTNELFlBREF4VCxPQUFBQSxPQUFPeVQsZUFBZXRVLE9BQVEsQ0FBRTBOLFdBRWpDLENBRUQsT0FBUTRDLE1BQ04sSUFBSyxzQkFDTCxJQUFLLGNBQ0wsSUFBSyxlQUNIelAsT0FBQUEsT0FBT3lULGVBQWV0VSxRQUN0QixNQUdGLElBQUssZ0JBQ0wsSUFBSyx1QkFDSGEsT0FBQUEsT0FBT3lJLGNBQWN0SixRQUNyQixNQUdGLElBQUssd0JBQ0hhLE9BQUFBLE9BQU93SSxlQUFlckosUUFDdEIsTUFHRixJQUFLLHVCQUNIYSxPQUFBQSxPQUFPd0ksZUFBZXJKLE9BQVEsQ0FBRXVVLEtBQU0sU0FDdEMxVCxPQUFBQSxPQUFPeUksY0FBY3RKLE9BQVEsQ0FBRXVVLEtBQU0sU0FDckMsTUFHRixJQUFLLHlCQUNIMVQsT0FBQUEsT0FBT3dJLGVBQWVySixPQUFRLENBQUV1VSxLQUFNLFVBQ3RDLE1BR0YsSUFBSyx5QkFDSDFULE9BQUFBLE9BQU93SSxlQUFlckosT0FBUSxDQUFFdVUsS0FBTSxTQUN0QyxNQUdGLElBQUssd0JBQ0gxVCxPQUFBQSxPQUFPeUksY0FBY3RKLE9BQVEsQ0FBRXVVLEtBQU0sVUFDckMsTUFHRixJQUFLLHdCQUNIMVQsT0FBQUEsT0FBT3lJLGNBQWN0SixPQUFRLENBQUV1VSxLQUFNLFNBQ3JDLE1BR0YsSUFBSyxxQkFDSDFULE9BQUFBLE9BQU93SSxlQUFlckosT0FBUSxDQUFFdVUsS0FBTSxTQUN0QyxNQUdGLElBQUssb0JBQ0gxVCxPQUFBQSxPQUFPeUksY0FBY3RKLE9BQVEsQ0FBRXVVLEtBQU0sU0FDckMsTUFHRixJQUFLLGtCQUNIMVQsT0FBQUEsT0FBTzZJLGdCQUFnQjFKLFFBQ3ZCLE1BRUYsSUFBSyxrQkFDSGEsT0FBQUEsT0FBTzJULFlBQVl4VSxRQUNuQixNQUdGLElBQUssd0JBQ0wsSUFBSyxpQkFDTCxJQUFLLGtCQUNMLElBQUssaUJBQ0wsSUFBSyx3QkFDTCxJQUFLLGFBQ0gsSUFBUTZHLFdBQWM3RyxPQUFkNkcsVUFDSkEsWUFDRTFCLE9BQUFBLE1BQU1pUCxXQUFXdk4sYUFDbkJoRyxPQUFBQSxPQUFPeVQsZUFBZXRVLFFBSWIsMEJBQVRzUSxNQU1FblEsWUFBWXNQLFlBQVl6UCxVQUMxQjBQLGdCQUFlLEdBQ2Z6TixhQUFheUQsSUFBSTFGLFFBQVEsSUFPRSxrQkFBM0I4UyxnQkFBQUEsRUFBQUEsS0FBTTJCLFlBQVlDLE1BQ3BCdlUsWUFBWXdVLFdBQVczVSxPQUFROFMsTUFDTixpQkFBVEEsT0FHWkMsUUFDRnBELG1CQUFtQnBVLFFBQVEySyxNQUFLLGtCQUM5QnJGLE9BQUFBLE9BQU8rVCxXQUFXNVUsT0FBUThTLEtBREksSUFJaENqUyxPQUFBQSxPQUFPK1QsV0FBVzVVLE9BQVE4UyxPQVNsQyxJQUFNK0IsVUFBUyw4QkFBRzFTLHlCQUF5QmtFLElBQUlyRyxlQUFoQyxpQ0FBRzhVLHNCQUFzQ0MsUUFDeEQ1Uyx5QkFBd0IsT0FBUW5DLFNBRzlCNlUsV0FDRTdVLE9BQU82RyxXQUFjMUIsT0FBQUEsTUFBTWIsT0FBT3RFLE9BQU82RyxVQUFXZ08sWUFFdEQzQyxPQUFBQSxXQUFXTSxPQUFPeFMsT0FBUTZVLFVBRTdCLENBMU8rQixHQTRPbEMsQ0FBQy9OLFNBQVVvSSx3QkFPYnJULDJCQUEwQixXQU14QixPQUxJcUYsSUFBSTNGLFNBQVc2RCwwQkFFakI4QixJQUFJM0YsUUFBUUwsaUJBQWlCLGNBQWVpVSxrQkFHdkMsV0FDRGpPLElBQUkzRixTQUFXNkQsMEJBRWpCOEIsSUFBSTNGLFFBQVF5WixvQkFBb0IsY0FBZTdGLGlCQUhuRCxDQU51QixHQVl0QixDQUFDQSxtQkFPSnRULDJCQUEwQixXQUN4QixJQUFNcUMsT0FBU2lDLFlBQVl1VCxVQUFVMVQsUUFNckMsT0FMQTlCLE9BQU9nQixTQUFTaEUsaUJBQ2Qsa0JBQ0F1WCw4QkFHSyxXQUNMdlUsT0FBT2dCLFNBQVM4VixvQkFDZCxrQkFDQXZDLDZCQUhKLENBUHVCLEdBYXRCLENBQUNBLCtCQUVKLElBQU0zTSxZQUFja0MsU0FBUyxDQUFDaEksT0FBUSxLQUV0QyxHQUNFcUQsYUFDMkIsSUFBM0JyRCxPQUFPVyxTQUFTeEQsUUFDMEIsSUFBMUNpUixNQUFNQyxLQUFLNU4sT0FBQUEsS0FBSzRHLE1BQU1ySCxTQUFTN0MsUUFDUCxLQUF4QnNELE9BQUFBLEtBQUtDLE9BQU9WLFVBQ1h5UCxZQUNELHVCQUNNd0YsTUFBUXBVLE9BQUFBLE9BQU9vVSxNQUFNalYsT0FBUSxJQUNuQzhGLFlBQVlJLE1BQVpKLGlCQUFBQSxrQkFBQUEsQ0FBQUEsRUFDR3ZELG9CQUFxQixHQUR4QnVELGlCQUFBQSxrQkFBQUEsY0FFRXpDLGFBRkZ5QyxpQkFBQUEsa0JBQUFBLFNBR1VtUCxPQUhWblAsaUJBQUFBLGtCQUFBQSxRQUlTbVAsT0FKVG5QLG1CQU1ELENBRUQsT0FDRWpJLE9BQUFBLFFBQUFBLGNBQUM2TyxnQkFBZ0IvRCxTQUFqQjlLLENBQTBCeEIsTUFBT3lLLFVBQy9CakosT0FBQUEsUUFBQUEsY0FBQ2dLLGdCQUFnQmMsU0FBakI5SyxDQUEwQnhCLE1BQU8yTCxVQUMvQm5LLE9BQUFBLFFBQUFBLGNBQUMyUixVQUFEM1IsT0FBQUEsT0FBQUEsQ0FDRXFYLEtBQU1wTyxjQUFXaEwsRUFBWSxXQUN6QndILFdBQUFBLENBTUo2UixjQUNFL1YsMEJBQTZCSCxjQUN6QnFFLFdBQVc2UixXQUdqQkMsWUFDRWhXLDJCQUE2QkgsWUFDekJxRSxXQUFXOFIsWUFDWCxRQUVOQyxlQUNFalcsMkJBQTZCSCxZQUN6QnFFLFdBQVcrUixlQUNYLGlEQUdVLFFBRWhCdFIsaUJBQWtCK0MsU0FJbEJ3TyxRQUFTLEVBQ1RDLGdDQUE4QixFQUM5QnJVLElBQ0ErQixNQUFLLGlCQUVITSxTQUFVLFdBRVZpRSxRQUFTLE9BRVRnTyxXQUFZLFdBRVpDLFNBQVUsY0FFUHhTLE9BRUx5UyxlQUFlN0QsRUFBQUEsT0FBQUEsY0FDWjVHLFNBQUFBLE9BSUMsSUFDRzdMLDJCQUNBMEgsV0FDQTZPLGVBQWUxSyxNQUFPM0gsV0FBV29TLGdCQUNsQ3JELGtCQUFrQnJTLE9BQVFpTCxNQUFNbE8sVUFFaENrTyxNQUFNa0osa0JBQ0RoVSxZQUFZc1AsWUFBWXpQLFNBQVMsQ0FDcEMsSUFBTUQsS0FBUWtMLE1BQWM2SCxLQUM1QmpTLE9BQUFBLE9BQU8rVCxXQUFXNVUsT0FBUUQsS0FDM0IsQ0FmbUIsR0FrQnhCLENBQUMrRyxXQUVIOE8sU0FBUy9ELEVBQUFBLE9BQUFBLGNBQWE1RyxTQUFBQSxPQUFELGlEQUtGMEUsbUJBQW1CcFUsU0FMakIsSUFLbkIsSUFBSyxXQUFMLG1DQUE2QyxFQUMzQ3NhLEVBRDJDLGVBRTVDLENBUGtCLHFEQVFuQmxHLG1CQUFtQnBVLFFBQVUsRUFSWCxHQVNqQixJQUNIdWEsUUFBUWpFLEVBQUFBLE9BQUFBLGNBQ0w1RyxTQUFBQSxPQUNDLElBQ0VuRSxXQUNBbEIsTUFBTW1LLHFCQUNMc0Msa0JBQWtCclMsT0FBUWlMLE1BQU1sTyxVQUNqQzRZLGVBQWUxSyxNQUFPM0gsV0FBV3dTLFFBSm5DLENBYUEsSUFBTS9ELEtBQU81UixZQUFZK1AseUJBQXlCbFEsUUFDbEQsR0FBSTRGLE1BQU1vSyxnQkFBa0IrQixLQUFLQyxjQUFqQyxDQUlBLElBQVErRCxjQUFrQjlLLE1BQWxCOEssY0FNUixLQUFJQSxnQkFMTzVWLFlBQVl1UixVQUFVMVIsT0FBUUEsU0FZdkNtTixhQUFhNEksZ0JBQ2JBLGNBQWNDLGFBQWEsc0JBRjdCLENBVUEsR0FDbUIsTUFBakJELGVBQ0E5SSxVQUFVOEksZ0JBQ1Y1VixZQUFZcVQsV0FBV3hULE9BQVErVixlQUMvQixDQUNBLElBQU0xUSxLQUFPbEYsWUFBWThWLFlBQVlqVyxPQUFRK1YsZUFFN0MsR0FBSXZQLE9BQUFBLFFBQVEyQixVQUFVOUMsUUFBVXJGLE9BQU9PLE9BQU84RSxNQUM1QyxNQUVILENBS0QsR0FBSTVHLFVBQVcsQ0FDYixJQUFNd1IsYUFBZThCLEtBQUs1QixlQUMxQkYsb0JBQUFBLGFBQWN1QixpQkFDZixDQUVEeFAsV0FBVSxPQUFRaEMsT0F6QmpCLENBbkJBLENBVEEsQ0FUYyxHQWdFakIsQ0FBQzhHLFNBQVV4RCxXQUFXd1MsU0FFeEJJLFNBQVNyRSxFQUFBQSxPQUFBQSxjQUNONUcsU0FBQUEsT0FDQyxHQUNFa0wsVUFBVW5XLE9BQVFpTCxNQUFNbE8sVUFDdkI0WSxlQUFlMUssTUFBTzNILFdBQVc0UyxVQUNsQ2pKLFVBQVVoQyxNQUFNbE8sUUFDaEIsQ0FDQSxJQUFNc0ksS0FBT2xGLFlBQVk4VixZQUFZalcsT0FBUWlMLE1BQU1sTyxRQUM3Q21ELEtBQU9DLFlBQVlDLFNBQVNKLE9BQVFxRixNQU0xQyxJQUNHeEUsT0FBQUEsT0FBT3VWLFFBQVFwVyxPQUFRRSxPQUN4Qk8sT0FBQUEsS0FBSzRGLElBQUlyRyxPQUFRRSxRQUFVbUYsS0FFM0IsT0FHRixHQ2p4QlksSURpeEJSNEYsTUFBTW9MLFFBQTJCblcsS0FBSy9DLFFBQVUsRUFBRyxDQUNyRCxJQUFJbVosVUFBWXBXLEtBQ2hCLElBQUtXLE9BQUFBLE9BQU8wVixRQUFRdlcsT0FBUXFGLE1BQU8sYUFDM0JtUixNQUFRM1YsT0FBQUEsT0FBTzRWLE1BQU16VyxPQUFRLENBQ2pDNk8sTUFBT3hHLFNBQUFBLE1BQUFBLEdBQUMsT0FBSXhILE9BQUFBLE9BQU8wVixRQUFRdlcsT0FBUXFJLEVBQTNCLEVBQ1JxTyxHQUFJeFcsT0FHTm9XLFVBQVMsZ0JBQUdFLGlCQUFILEVBQUdBLE1BQVEsVUFBWCxvQkFBaUJ0VyxLQUFLWSxNQUFNLEVBQUcsRUFDekMsQ0FFRCxJQUFNaUUsTUFBUWxFLE9BQUFBLE9BQU9rRSxNQUFNL0UsT0FBUXNXLFdBRW5DLFlBREFwRSxPQUFBQSxXQUFXTSxPQUFPeFMsT0FBUStFLE1BRTNCLENBRUQsR0FBSStCLFNBQ0YsT0FHRixJQUFNbU8sT0FBUXBVLE9BQUFBLE9BQU9vVSxNQUFNalYsT0FBUUUsTUFDN0J5VyxJQUFNOVYsT0FBQUEsT0FBTzhWLElBQUkzVyxPQUFRRSxNQUN6QjBXLFVBQVkvVixPQUFBQSxPQUFBQSxLQUFZYixPQUFRLENBQUUwVyxHQUFJekIsU0FDdEM0QixRQUFVaFcsT0FBQUEsT0FBQUEsS0FBWWIsT0FBUSxDQUFFMFcsR0FBSUMsTUFFMUMsR0FDRUMsV0FDQUMsU0FDQXZXLE9BQUFBLEtBQUtnRSxPQUFPc1MsVUFBVSxHQUFJQyxRQUFRLElBQ2xDLENBQ0EsSUFBTTlSLE9BQVFsRSxPQUFBQSxPQUFPa0UsTUFBTS9FLE9BQVFpVixRQUNuQy9DLE9BQUFBLFdBQVdNLE9BQU94UyxPQUFRK0UsT0FDM0IsQ0FDRixDQXREZSxHQXdEbEIsQ0FBQytCLFNBQVV4RCxXQUFXNFMsVUFFeEJZLGtCQUFrQmpGLEVBQUFBLE9BQUFBLGNBQ2Y1RyxTQUFBQSxPQUNDLEdBQ0VvSCxrQkFBa0JyUyxPQUFRaUwsTUFBTWxPLFVBQy9CNFksZUFBZTFLLE1BQU8zSCxXQUFXd1Qsb0JBRTlCM1csWUFBWXNQLFlBQVl6UCxVQUMxQjBQLGdCQUFlLEdBQ2Z6TixhQUFheUQsSUFBSTFGLFFBQVEsSUFReEJ2QixXQUNBSSxtQkFDQWIsUUFDQWMsY0FDQUUsa0JBQ0FELGVBQ0RrTSxNQUFNNkgsTUFFTmpTLE9BQUFBLE9BQU8rVCxXQUFXNVUsT0FBUWlMLE1BQU02SCxNQUc5QjlTLE9BQU82RyxXQUFhMUIsT0FBQUEsTUFBTTZOLFlBQVloVCxPQUFPNkcsWUFBWSxDQUMzRCxJQUFNa1EsU0FBVy9XLE9BQU82RyxVQUFVb00sT0FBTy9TLEtBQ25DOFcsZ0JBQWtCdlcsT0FBQUEsS0FBS1osS0FBS0csT0FBUStXLFVBQ3RDblIsTUFBTWlLLDhCQUNSakssTUFBTWlLLDZCQUE4QixFQUNwQ2hQLE9BQUFBLE9BQU9vVyxtQkFBbUJqWCxRQUFRLFdBRWhDLElBQU1ELEtBQU9pWCxnQkFBZ0JqWCxLQUFLbVgsUUFBUSxVQUFXLElBQ3JEaEYsT0FBQUEsV0FBQUEsT0FBa0JsUyxPQUFRLENBQ3hCbVgsU0FBVUgsZ0JBQWdCalgsS0FBSzVDLE9BQy9CaWEsU0FBUyxJQUVYdlcsT0FBQUEsT0FBTytULFdBQVc1VSxPQUFRRCxLQVA1QixJQVVILENBMUNzQixHQTZDM0IsQ0FBQ3VELFdBQVd3VCxtQkFFZE8scUJBQXFCeEYsRUFBQUEsT0FBQUEsY0FDbEI1RyxTQUFBQSxPQUVHb0gsa0JBQWtCclMsT0FBUWlMLE1BQU1sTyxVQUMvQjRZLGVBQWUxSyxNQUFPM0gsV0FBVytULHVCQUU3QmxYLFlBQVlzUCxZQUFZelAsVUFDM0IwUCxnQkFBZSxHQUNmek4sYUFBYXlELElBQUkxRixRQUFRLElBUkQsR0FZOUIsQ0FBQ3NELFdBQVcrVCxzQkFFZEMsb0JBQW9CekYsRUFBQUEsT0FBQUEsY0FDakI1RyxTQUFBQSxPQUNDLEdBQ0VvSCxrQkFBa0JyUyxPQUFRaUwsTUFBTWxPLFVBQy9CNFksZUFBZTFLLE1BQU8zSCxXQUFXZ1Usb0JBQ2xDLENBQ0EsSUFBUXpRLFVBQXFCN0csT0FBckI2RyxVQUFXc00sTUFBVW5ULE9BQVZtVCxNQUNuQixHQUFJdE0sVUFBVyxDQUNiLEdBQUkxQixPQUFBQSxNQUFNaVAsV0FBV3ZOLFdBRW5CLFlBREFoRyxPQUFBQSxPQUFPeVQsZUFBZXRVLFFBR3hCLElBQU11WCxPQUFTMVcsT0FBQUEsT0FBTzRWLE1BQU16VyxPQUFRLENBQ2xDNk8sTUFBT3hHLFNBQUFBLE1BQUFBLEdBQUMsT0FBSXhILE9BQUFBLE9BQU9ELFNBQVNaLE9BQVFxSSxFQUE1QixFQUNSbVAsS0FBTSxZQUVSLEdBQUlELE9BQVEsQ0FDVixJQUFTRSxXQUFULGVBQXVCRixPQUF2QixNQUNBLEdBQUkxVyxPQUFBQSxPQUFPNlcsTUFBTTFYLE9BQVE2RyxVQUFVb00sT0FBUXdFLFlBQWEsQ0FDdEQsSUFBTUUsTUFBUTlXLE9BQUFBLE9BQU8rVyxNQUFNNVgsT0FBUXlYLFlBQ25DdkYsT0FBQUEsV0FBVzJGLGFBQWE3WCxPQUFRLENBQzlCaVQsT0FBUTBFLE1BQ1JoRyxNQUFPZ0csT0FFVixDQWpCVSxDQXNCVHhFLFFBQ0Z2TixNQUFNaUssNkJBQThCLEVBQ3BDcUMsT0FBQUEsV0FBVzRGLFlBQ1Q5WCxPQURGa1MsZ0JBQUFBLENBR0luUyxLQUFNLFVBQ0hvVCxPQUVMLENBQ0VYLFFBQVEsSUFJZixDQUNGLENBM0MwQixHQTZDN0IsQ0FBQ2xQLFdBQVdnVSxxQkFFZFMsUUFBUWxHLEVBQUFBLE9BQUFBLGNBQ0w1RyxTQUFBQSxPQUVHb0gsa0JBQWtCclMsT0FBUWlMLE1BQU1sTyxVQUMvQjRZLGVBQWUxSyxNQUFPM0gsV0FBV3lVLFVBRWxDOU0sTUFBTWtKLGlCQUNOaFUsWUFBWTZYLGdCQUFnQmhZLE9BQVFpTCxNQUFNZ04sY0FBZSxRQVA1QyxHQVVqQixDQUFDM1UsV0FBV3lVLFNBRWRHLE9BQU9yRyxFQUFBQSxPQUFBQSxjQUNKNUcsU0FBQUEsT0FDQyxJQUNHbkUsVUFDRHVMLGtCQUFrQnJTLE9BQVFpTCxNQUFNbE8sVUFDL0I0WSxlQUFlMUssTUFBTzNILFdBQVc0VSxPQUNsQyxDQUNBak4sTUFBTWtKLGlCQUNOaFUsWUFBWTZYLGdCQUFnQmhZLE9BQVFpTCxNQUFNZ04sY0FBZSxPQUN6RCxJQUFRcFIsVUFBYzdHLE9BQWQ2RyxVQUVSLEdBQUlBLFVBQ0YsR0FBSTFCLE9BQUFBLE1BQU1pUCxXQUFXdk4sV0FDbkJoRyxPQUFBQSxPQUFPeVQsZUFBZXRVLFlBQ2pCLENBQ0wsSUFBTXFGLEtBQU81RSxPQUFBQSxLQUFLWCxPQUFPRSxPQUFRNkcsVUFBVW9NLE9BQU8vUyxNQUM5Q1csT0FBQUEsT0FBT04sT0FBT1AsT0FBUXFGLE9BQ3hCNk0sT0FBQUEsV0FBQUEsT0FBa0JsUyxPQUVyQixDQUVKLENBckJhLEdBdUJoQixDQUFDOEcsU0FBVXhELFdBQVc0VSxRQUV4QkMsWUFBWXRHLEVBQUFBLE9BQUFBLGNBQ1Q1RyxTQUFBQSxPQUNDLEdBQ0VrTCxVQUFVblcsT0FBUWlMLE1BQU1sTyxVQUN2QjRZLGVBQWUxSyxNQUFPM0gsV0FBVzZVLFlBQ2xDLENBSUEsSUFBTTlTLEtBQU9sRixZQUFZOFYsWUFBWWpXLE9BQVFpTCxNQUFNbE8sUUFFL0M4RCxPQUFBQSxPQUFPTixPQUFPUCxPQUFRcUYsT0FDeEI0RixNQUFNa0osZ0JBRVQsQ0Fka0IsR0FnQnJCLENBQUM3USxXQUFXNlUsYUFFZEMsYUFBYXZHLEVBQUFBLE9BQUFBLGNBQ1Y1RyxTQUFBQSxPQUNDLElBQ0duRSxVQUNEcVAsVUFBVW5XLE9BQVFpTCxNQUFNbE8sVUFDdkI0WSxlQUFlMUssTUFBTzNILFdBQVc4VSxhQUNsQyxDQUNBLElBQU0vUyxLQUFPbEYsWUFBWThWLFlBQVlqVyxPQUFRaUwsTUFBTWxPLFFBQzdDbUQsS0FBT0MsWUFBWUMsU0FBU0osT0FBUXFGLE1BTzFDLEdBTEV4RSxPQUFBQSxPQUFPTixPQUFPUCxPQUFRcUYsT0FDdEJ4RSxPQUFBQSxPQUFBQSxLQUFZYixPQUFRLENBQUUwVyxHQUFJeFcsS0FBTW1ZLE9BQU8sSUFJMUIsQ0FDYixJQUFNdFQsTUFBUWxFLE9BQUFBLE9BQU9rRSxNQUFNL0UsT0FBUUUsTUFDbkNnUyxPQUFBQSxXQUFXTSxPQUFPeFMsT0FBUStFLE1BQzNCLENBRURhLE1BQU1rSyxzQkFBdUIsRUFFN0IzUCxZQUFZNlgsZ0JBQWdCaFksT0FBUWlMLE1BQU0wRCxhQUFjLE9BQ3pELENBdkJtQixHQXlCdEIsQ0FBQzdILFNBQVV4RCxXQUFXOFUsY0FFeEJFLFFBQVF6RyxFQUFBQSxPQUFBQSxjQUNMNUcsU0FBQUEsT0FDQyxJQUNHbkUsVUFDRHFQLFVBQVVuVyxPQUFRaUwsTUFBTWxPLFVBQ3ZCNFksZUFBZTFLLE1BQU8zSCxXQUFXZ1YsUUFDbEMsQ0FDQXJOLE1BQU1rSixpQkFHTixJQUFNb0UsYUFBZXZZLE9BQU82RyxVQUd0QjlCLE1BQVE1RSxZQUFZcVksZUFBZXhZLE9BQVFpTCxPQUMzQzZILEtBQU83SCxNQUFNMEQsYUFFbkJ1RCxPQUFBQSxXQUFXTSxPQUFPeFMsT0FBUStFLE9BRXRCYSxNQUFNa0ssd0JBRU55SSxjQUNDcFQsT0FBQUEsTUFBTWIsT0FBT2lVLGFBQWN4VCxRQUMzQmxFLE9BQUFBLE9BQUFBLEtBQVliLE9BQVEsQ0FBRTBXLEdBQUkzUixNQUFPc1QsT0FBTyxLQUV6Q25HLE9BQUFBLFdBQUFBLE9BQWtCbFMsT0FBUSxDQUN4QjBXLEdBQUk2QixnQkFLVnBZLFlBQVl3VSxXQUFXM1UsT0FBUThTLE1BSTFCM1MsWUFBWWlRLFVBQVVwUSxTQUN6QkcsWUFBWXdSLE1BQU0zUixPQUVyQixDQUVENEYsTUFBTWtLLHNCQUF1QixDQXZDZCxHQXlDakIsQ0FBQ2hKLFNBQVV4RCxXQUFXZ1YsU0FFeEJHLFdBQVc1RyxFQUFBQSxPQUFBQSxjQUNSNUcsU0FBQUEsUUFFSW5FLFVBQ0RsQixNQUFNa0ssc0JBQ054TSxXQUFXbVYsV0FDWHRDLFVBQVVuVyxPQUFRaUwsTUFBTWxPLFNBRXhCdUcsV0FBV21WLFVBQVV4TixPQU12QnJGLE1BQU1rSyxzQkFBdUIsQ0FkWCxHQWdCcEIsQ0FBQ2hKLFNBQVV4RCxXQUFXbVYsWUFFeEJDLFNBQVM3RyxFQUFBQSxPQUFBQSxjQUNONUcsU0FBQUEsT0FDQyxJQUNHbkUsV0FDQWxCLE1BQU1tSyxxQkFDUHNDLGtCQUFrQnJTLE9BQVFpTCxNQUFNbE8sVUFDL0I0WSxlQUFlMUssTUFBTzNILFdBQVdvVixTQUNsQyxDQUNBLElBQU16RyxHQUFLOVIsWUFBWXVSLFVBQVUxUixPQUFRQSxRQUNuQytSLEtBQU81UixZQUFZK1AseUJBQXlCbFEsUUFNbEQsR0FMQTRGLE1BQU1vSyxjQUFnQitCLEtBQUtDLGNBS3ZCeFQsWUFBY3lNLE1BQU1sTyxTQUFXa1YsR0FFakMsWUFEQUEsR0FBR04sUUFJTDNQLFdBQVcwRCxJQUFJMUYsUUFBUSxFQUN4QixDQXJCZSxHQXVCbEIsQ0FBQzhHLFNBQVV4RCxXQUFXb1YsVUFFeEJDLFdBQVc5RyxFQUFBQSxPQUFBQSxjQUNSNUcsU0FBQUEsT0FDQyxJQUFLbkUsVUFBWXVMLGtCQUFrQnJTLE9BQVFpTCxNQUFNbE8sUUFBUyxDQUN4RCxJQUFRNmIsWUFBZ0IzTixNQUFoQjJOLFlBYVIsR0FQRXpZLFlBQVlzUCxZQUFZelAsVUFDSSxJQUE1QjRZLFlBQVluSixjQUVaeE4sYUFBYXlELElBQUkxRixRQUFRLEdBQ3pCMFAsZ0JBQWUsSUFJZmlHLGVBQWUxSyxNQUFPM0gsV0FBV3FWLFlBQ2pDeFksWUFBWXNQLFlBQVl6UCxRQUV4QixPQUdGLElBQVE2RyxVQUFjN0csT0FBZDZHLFVBQ0ZKLFFBQ0p6RyxPQUFPVyxTQUNTLE9BQWRrRyxVQUFxQkEsVUFBVThLLE1BQU16UixLQUFLLEdBQUssR0FFN0MyWSxNQUErQyxTQUF2QzFSLEVBQUFBLFdBQUFBLFNBQWExRyxPQUFBQSxLQUFLQyxPQUFPK0YsVUFNdkMsR0FBSXFTLFFBQVF6TSxPQUFPdU0sYUFBYyxDQUMvQjNOLE1BQU1rSixpQkFDTixJQUFNNEUsbUJBQTBCL1ksT0FNaEMsWUFKdUMsbUJBQTVCK1ksbUJBQW1Cek8sTUFDNUJ5TyxtQkFBbUJ6TyxPQUl0QixDQUVELEdBQUl3TyxRQUFRck0sT0FBT21NLGFBQWMsQ0FDL0IzTixNQUFNa0osaUJBQ04sSUFBTTRFLG9CQUEwQi9ZLE9BTWhDLFlBSnVDLG1CQUE1QitZLG9CQUFtQm5QLE1BQzVCbVAsb0JBQW1CblAsT0FoRGlDLENBMER4RCxHQUFJa1AsUUFBUTdNLG1CQUFtQjJNLGFBRzdCLE9BRkEzTixNQUFNa0osc0JBQ05qQyxPQUFBQSxXQUFXOEcsS0FBS2haLE9BQVEsQ0FBRXVVLEtBQU0sT0FBUTZDLFNBQVMsSUFJbkQsR0FBSTBCLFFBQVE1TSxrQkFBa0IwTSxhQUc1QixPQUZBM04sTUFBTWtKLHNCQUNOakMsT0FBQUEsV0FBVzhHLEtBQUtoWixPQUFRLENBQUV1VSxLQUFNLFNBSWxDLEdBQUl1RSxRQUFRaE4scUJBQXFCOE0sYUFPL0IsT0FOQTNOLE1BQU1rSixzQkFDTmpDLE9BQUFBLFdBQVc4RyxLQUFLaFosT0FBUSxDQUN0QnVVLEtBQU0sT0FDTjBFLEtBQU0sUUFDTjdCLFNBQVMsSUFLYixHQUFJMEIsUUFBUS9NLG9CQUFvQjZNLGFBRzlCLE9BRkEzTixNQUFNa0osc0JBQ05qQyxPQUFBQSxXQUFXOEcsS0FBS2haLE9BQVEsQ0FBRXVVLEtBQU0sT0FBUTBFLEtBQU0sVUFTaEQsR0FBSUgsUUFBUTFOLGVBQWV3TixhQVN6QixPQVJBM04sTUFBTWtKLHNCQUVGdE4sV0FBYTFCLE9BQUFBLE1BQU02TixZQUFZbk0sV0FDakNxTCxPQUFBQSxXQUFXOEcsS0FBS2haLE9BQVEsQ0FBRW9YLFNBQVV5QixRQUVwQzNHLE9BQUFBLFdBQVdnSCxTQUFTbFosT0FBUSxDQUFFaVosS0FBTSxXQU14QyxHQUFJSCxRQUFRek4sY0FBY3VOLGFBU3hCLE9BUkEzTixNQUFNa0osc0JBRUZ0TixXQUFhMUIsT0FBQUEsTUFBTTZOLFlBQVluTSxXQUNqQ3FMLE9BQUFBLFdBQVc4RyxLQUFLaFosT0FBUSxDQUFFb1gsUUFBU3lCLFFBRW5DM0csT0FBQUEsV0FBV2dILFNBQVNsWixPQUFRLENBQUVpWixLQUFNLFNBTXhDLEdBQUlILFFBQVEzTSxtQkFBbUJ5TSxhQVE3QixPQVBBM04sTUFBTWtKLGlCQUVGdE4sV0FBYTFCLE9BQUFBLE1BQU1pUCxXQUFXdk4sWUFDaENxTCxPQUFBQSxXQUFXZ0gsU0FBU2xaLE9BQVEsQ0FBRWlaLEtBQU0sZUFHdEMvRyxPQUFBQSxXQUFXOEcsS0FBS2haLE9BQVEsQ0FBRXVVLEtBQU0sT0FBUTZDLFNBQVV5QixRQUlwRCxHQUFJQyxRQUFRMU0sa0JBQWtCd00sYUFRNUIsT0FQQTNOLE1BQU1rSixpQkFFRnROLFdBQWExQixPQUFBQSxNQUFNaVAsV0FBV3ZOLFlBQ2hDcUwsT0FBQUEsV0FBV2dILFNBQVNsWixPQUFRLENBQUVpWixLQUFNLGVBR3RDL0csT0FBQUEsV0FBVzhHLEtBQUtoWixPQUFRLENBQUV1VSxLQUFNLE9BQVE2QyxRQUFTeUIsUUFPbkQsR0FBS3paLDBCQWdHSCxJQUFJVCxXQUFhRixZQUlib0ksWUFDQ2lTLFFBQVF4TixpQkFBaUJzTixjQUN4QkUsUUFBUXZOLGdCQUFnQnFOLGVBQzFCelQsT0FBQUEsTUFBTTZOLFlBQVluTSxXQUNsQixDQUNBLElBQU1zUyxZQUFjMVksT0FBQUEsS0FBS1gsT0FDdkJFLE9BQ0E2RyxVQUFVb00sT0FBTy9TLE1BR25CLEdBQ0VzRyxPQUFBQSxRQUFRMkIsVUFBVWdSLGNBQ2xCdFksT0FBQUEsT0FBT04sT0FBT1AsT0FBUW1aLGNBQ3RCdFksT0FBQUEsT0FBT0QsU0FBU1osT0FBUW1aLGFBS3hCLE9BSEFsTyxNQUFNa0osc0JBQ050VCxPQUFBQSxPQUFPd0ksZUFBZXJKLE9BQVEsQ0FBRXVVLEtBQU0sU0FJekMsTUF4SDBCLENBRzdCLEdBQ0V1RSxRQUFRNU4sT0FBTzBOLGNBQ2ZFLFFBQVE5TSxTQUFTNE0sY0FDakJFLFFBQVF0TSxxQkFBcUJvTSxhQUc3QixZQURBM04sTUFBTWtKLGlCQUlSLEdBQUkyRSxRQUFReE0sWUFBWXNNLGFBR3RCLE9BRkEzTixNQUFNa0osc0JBQ050VCxPQUFBQSxPQUFPNkksZ0JBQWdCMUosUUFJekIsR0FBSThZLFFBQVF2TSxhQUFhcU0sYUFHdkIsT0FGQTNOLE1BQU1rSixzQkFDTnRULE9BQUFBLE9BQU8yVCxZQUFZeFUsUUFJckIsR0FBSThZLFFBQVF4TixpQkFBaUJzTixhQVMzQixPQVJBM04sTUFBTWtKLHNCQUVGdE4sV0FBYTFCLE9BQUFBLE1BQU1pUCxXQUFXdk4sV0FDaENoRyxPQUFBQSxPQUFPeVQsZUFBZXRVLE9BQVEsQ0FBRTBOLFVBQVcsYUFFM0M3TSxPQUFBQSxPQUFPd0ksZUFBZXJKLFNBTTFCLEdBQUk4WSxRQUFRdk4sZ0JBQWdCcU4sYUFTMUIsT0FSQTNOLE1BQU1rSixzQkFFRnROLFdBQWExQixPQUFBQSxNQUFNaVAsV0FBV3ZOLFdBQ2hDaEcsT0FBQUEsT0FBT3lULGVBQWV0VSxPQUFRLENBQUUwTixVQUFXLFlBRTNDN00sT0FBQUEsT0FBT3lJLGNBQWN0SixTQU16QixHQUFJOFksUUFBUXROLHFCQUFxQm9OLGFBUy9CLE9BUkEzTixNQUFNa0osc0JBRUZ0TixXQUFhMUIsT0FBQUEsTUFBTWlQLFdBQVd2TixXQUNoQ2hHLE9BQUFBLE9BQU95VCxlQUFldFUsT0FBUSxDQUFFME4sVUFBVyxhQUUzQzdNLE9BQUFBLE9BQU93SSxlQUFlckosT0FBUSxDQUFFdVUsS0FBTSxVQU0xQyxHQUFJdUUsUUFBUXJOLG9CQUFvQm1OLGFBUzlCLE9BUkEzTixNQUFNa0osc0JBRUZ0TixXQUFhMUIsT0FBQUEsTUFBTWlQLFdBQVd2TixXQUNoQ2hHLE9BQUFBLE9BQU95VCxlQUFldFUsT0FBUSxDQUFFME4sVUFBVyxZQUUzQzdNLE9BQUFBLE9BQU95SSxjQUFjdEosT0FBUSxDQUFFdVUsS0FBTSxVQU16QyxHQUFJdUUsUUFBUXBOLHFCQUFxQmtOLGFBUy9CLE9BUkEzTixNQUFNa0osc0JBRUZ0TixXQUFhMUIsT0FBQUEsTUFBTWlQLFdBQVd2TixXQUNoQ2hHLE9BQUFBLE9BQU95VCxlQUFldFUsT0FBUSxDQUFFME4sVUFBVyxhQUUzQzdNLE9BQUFBLE9BQU93SSxlQUFlckosT0FBUSxDQUFFdVUsS0FBTSxVQU0xQyxHQUFJdUUsUUFBUW5OLG9CQUFvQmlOLGFBUzlCLE9BUkEzTixNQUFNa0osc0JBRUZ0TixXQUFhMUIsT0FBQUEsTUFBTWlQLFdBQVd2TixXQUNoQ2hHLE9BQUFBLE9BQU95VCxlQUFldFUsT0FBUSxDQUFFME4sVUFBVyxZQUUzQzdNLE9BQUFBLE9BQU95SSxjQUFjdEosT0FBUSxDQUFFdVUsS0FBTSxTQTFGM0MsQ0EySEQsQ0F6UWlCLEdBMlFwQixDQUFDek4sU0FBVXhELFdBQVdxVixZQUV4QlMsU0FBU3ZILEVBQUFBLE9BQUFBLGNBQ041RyxTQUFBQSxPQUVJbkUsV0FDRHVMLGtCQUFrQnJTLE9BQVFpTCxNQUFNbE8sU0FDL0I0WSxlQUFlMUssTUFBTzNILFdBQVc4VixVQU8vQmhhLDJCRHh3Q2tCNkwsU0FBeEJvTyxxQkFBd0JwTyxPQUNuQyxPQUNFQSxNQUFNZ04sZUFDd0MsS0FBOUNoTixNQUFNZ04sY0FBY3JKLFFBQVEsZUFDUyxJQUFyQzNELE1BQU1nTixjQUFjcUIsTUFBTW5jLE1BSnZCLENDeXdDV2tjLENBQXFCcE8sTUFBTTJOLGVBRTNCM04sTUFBTWtKLGlCQUNOaFUsWUFBWXdVLFdBQVczVSxPQUFRaUwsTUFBTWdOLGVBaEJ6QixHQW9CbEIsQ0FBQ25SLFNBQVV4RCxXQUFXOFYsWUFHeEJ2YixPQUFBQSxRQUFBQSxjQUFDaVIsU0FBRGpSLENBQ0VpSSxZQUNBVCxLQUFNckYsT0FDTjBHLGNBQ0FoRSxrQkFDQUMsV0FDQWtFLFVBQVc3RyxPQUFPNkcsY0FNN0IseUNBb0JZdUksbUJBQXFCLFNBQXJCQSxtQkFBc0IsTUFBRCxJQUNoQzlMLFdBRGdDLEtBQ2hDQSxXQUNBM0MsU0FGZ0MsS0FFaENBLFNBRmdDLE9BR0o5QyxPQUFBQSxRQUFBQSxjQUFBQSxPQUFBQSxPQUFBQSxPQUFBQSxDQUFBQSxFQUFVeUYsWUFBYTNDLFNBSG5CLGdEQVMzQixJQUFNc08sZ0JBQWlELFNBQWpEQSxrQkFBaUQsTUFBTSxFQUFOLEVBTXhESywrQkFBaUMsU0FBakNBLCtCQUNKdFAsT0FDQXVaLFVBSUEsSUFDR3ZaLE9BQU82RyxXQUNQN0csT0FBTzZHLFdBQWExQixPQUFBQSxNQUFNNk4sWUFBWWhULE9BQU82RyxXQUM5QyxDQUNBLElBQU0yUyxPQUFTRCxTQUFTakksZUFBZStCLGNBQ3ZDbUcsT0FBT0Msc0JBQXdCRixTQUFTRSxzQkFBc0JDLEtBQUtILFdBQ25FSSxFQUFBQSx3QkFBQUEsU0FBZUgsT0FBUSxDQUNyQkksV0FBWSxxQkFFUEosT0FBT0MscUJBQ2YsQ0FoQkgsRUF1QmF0RCxVQUFZLFNBQVpBLFVBQ1huVyxPQUNBakQsUUFFQSxPQUFPa1EsVUFBVWxRLFNBQVdvRCxZQUFZcVQsV0FBV3hULE9BQVFqRCxPQUp0RCxFQVdNc1Ysa0JBQW9CLFNBQXBCQSxrQkFDWHJTLE9BQ0FqRCxRQUVBLE9BQ0VrUSxVQUFVbFEsU0FDVm9ELFlBQVlxVCxXQUFXeFQsT0FBUWpELE9BQVEsQ0FBRThjLFVBQVUsR0FOaEQsRUFjTXZILDhCQUFnQyxTQUFoQ0EsOEJBQ1h0UyxPQUNBakQsUUFFQSxHQUFJZ0YsYUFBYXNFLElBQUlyRyxRQUFTLE9BQU8sRUFFckMsSUFBTThaLFVBQ0ozRCxVQUFVblcsT0FBUWpELFNBQVdvRCxZQUFZOFYsWUFBWWpXLE9BQVFqRCxRQUMvRCxPQUFPOEQsT0FBQUEsT0FBT04sT0FBT1AsT0FBUThaLFVBUnhCLEVBZU1uRSxlQUFpQixTQUFqQkEsZUFHWDFLLE1BQ0E4TyxTQUVBLElBQUtBLFFBQ0gsT0FBTyxFQUlULElBQU1DLDBCQUE0QkQsUUFBUTlPLE9BRTFDLE9BQWlDLE1BQTdCK08sMEJBQ0tBLDBCQUdGL08sTUFBTWdQLHNCQUF3QmhQLE1BQU1pUCxzQkFqQnRDLEVBd0JNdkgsa0JBQW9CLFNBQXBCQSxrQkFDWDFILE1BQ0E4TyxTQUVBLElBQUtBLFFBQ0gsT0FBTyxFQUtULElBQU1DLDBCQUE0QkQsUUFBUTlPLE9BRTFDLE9BQWlDLE1BQTdCK08sMEJBQ0tBLDBCQUdGL08sTUFBTWtQLGdCQWhCUixFRXQ2Q1AsU0FBU0MsZUFBZWpXLEtBQWNDLE1BQ3BDLEdBQUlELE9BQVNDLEtBQU0sT0FBTyxLQUMxQixJQUFNNlEsTUFsRFIsU0FBU29GLGFBQWFsVyxLQUFjQyxNQUdsQyxJQUZBLElBQU1qSCxPQUFTbWQsS0FBS0MsSUFBSXBXLEtBQUtoSCxPQUFRaUgsS0FBS2pILFFBRWpDTCxFQUFJLEVBQUdBLEVBQUlLLE9BQVFMLElBQzFCLEdBQUlxSCxLQUFLcVcsT0FBTzFkLEtBQU9zSCxLQUFLb1csT0FBTzFkLEdBQUksT0FBT0EsRUFHaEQsT0FBSXFILEtBQUtoSCxTQUFXaUgsS0FBS2pILE9BQWVBLE9BQ2pDLElBQ1IsQ0F5Q2VrZCxDQUFhbFcsS0FBTUMsTUFDakMsR0FBYyxPQUFWNlEsTUFBZ0IsT0FBTyxLQUMzQixJQUNNMEIsSUFoQ1IsU0FBUzhELFdBQVd0VyxLQUFjQyxLQUFjc1csS0FLOUMsSUFKQSxJQUFNQyxXQUFheFcsS0FBS2hILE9BQ2xCeWQsV0FBYXhXLEtBQUtqSCxPQUNsQkEsT0FBU21kLEtBQUtDLElBQUlJLFdBQVlDLFdBQVlGLEtBRXZDNWQsRUFBSSxFQUFHQSxFQUFJSyxPQUFRTCxJQUcxQixHQUZpQnFILEtBQUtxVyxPQUFPRyxXQUFhN2QsRUFBSSxLQUM3QnNILEtBQUtvVyxPQUFPSSxXQUFhOWQsRUFBSSxHQUNuQixPQUFPQSxFQUdwQyxPQUFJcUgsS0FBS2hILFNBQVdpSCxLQUFLakgsT0FBZUEsT0FDakMsSUFDUixDQW1CYXNkLENBQVd0VyxLQUFNQyxLQURka1csS0FBS0MsSUFBSXBXLEtBQUtoSCxPQUFTOFgsTUFBTzdRLEtBQUtqSCxPQUFTOFgsUUFFM0QsT0FBWSxPQUFSMEIsSUFBcUIsS0FDbEIsQ0FBRTFCLE1BQU8wQixJQUNqQixDQVNELFNBQVNrRSxVQUFVOWEsS0FBYythLFNBQy9CLE9BQU8vYSxLQUFLZSxNQUFNZ2EsUUFBUTdGLE1BQU9sVixLQUFLNUMsT0FBUzJkLFFBQVFuRSxJQUN4RCxVQTZCZW9FLGlCQUNkL2EsT0FDQWtPLFNBRUEsSUFBTTdJLEtBQU9sRixZQUFZOFYsWUFBWWpXLE9BQVFrTyxTQUU3QyxHQUFLN0osT0FBQUEsS0FBSzJXLE9BQU8zVixNQUFqQixDQUlBLElBQU00VixTQUFXNVYsS0FBS3RGLEtBQ2xCbWIsU0FBV2hOLFFBQVE3TSxZQVF2QixHQUxJNlosU0FBUzdHLFNBQVMsUUFDcEI2RyxTQUFXQSxTQUFTcGEsTUFBTSxFQUFHb2EsU0FBUy9kLE9BQVMsSUFJN0MrZCxXQUFhRCxTQUFVLENBQ3pCLElBQU1FLGtCQXRDTUMsU0FBU2pYLEtBQWVDLE1BQ3RDLFFBQWF0SSxJQUFUcUksV0FBK0JySSxJQUFUc0ksS0FBb0IsT0FBTyxLQUNyRCxJQUFNMFcsUUFBVVYsZUFBZWpXLEtBQU1DLE1BQ3JDLEdBQWUsTUFBWDBXLFFBQWlCLE9BQU8sS0FDNUIsSUFBTWxHLFdBQWFpRyxVQUFVelcsS0FBTTBXLFNBQzdCTyxXQUFhUixVQUFVMVcsS0FBTTJXLFNBQ25DLE1BQU8sQ0FDTDdGLE1BQU82RixRQUFRN0YsTUFDZjBCLElBQUt4UyxLQUFLaEgsT0FBUzJkLFFBQVFuRSxJQUMzQi9CLFdBQ0F5RyxXQUVILENBMEJvQkQsQ0FBU0gsU0FBVUMsVUFDcEMsR0FBaUIsT0FBYkMsU0FHRixNQUFPLENBQ0xwYixLQUFNb2IsU0FDTmpiLEtBSmVDLFlBQVlDLFNBQVNKLE9BQVFxRixNQU9qRCxDQXJCQSxDQXdCRixVQUVlaVcsNEJBQ2R0YixPQUNBK0UsTUFBQUEsV0FDRTdFLEtBQUZxYixNQUFFcmIsS0FBTUgsS0FBUndiLE1BQVF4YixLQUVGeWIsZUFBaUIsQ0FDckJ2SSxPQUFRLENBQUUvUyxLQUFNZ1QsT0FBUW5ULEtBQUtrVixPQUM3QnRELE1BQU8sQ0FBRXpSLEtBQU1nVCxPQUFRblQsS0FBSzRXLE1BRzlCLElBQUs1UixRQUFVSSxPQUFBQSxNQUFNNk4sWUFBWWpPLE9BQy9CLE9BQU95VyxlQUdULElBQVE1RyxXQUEyQjdVLEtBQTNCNlUsV0FBWXlHLFdBQWV0YixLQUFmc2IsV0F1QnBCLElBckJ3QixJQUF0QnpHLFdBQVd6WCxRQUFzQyxJQUF0QmtlLFdBQVdsZSxTQXFCTm1ELE9BQUFBLEtBQUtnRSxPQUFPUyxNQUFNa08sT0FBTy9TLEtBQU1BLE1BQU8sQ0FDdEUsSUFBT0gsTUFBUCxlQUFlcU8sTUFBTUMsS0FDbkJ4TixPQUFBQSxPQUFPNGEsTUFBTXpiLE9BQVEsQ0FBRTBXLEdBQUkzUixNQUFPOEosTUFBT3hLLE9BQUFBLEtBQUsyVyxVQURoRCxNQUlBLEdBQUlqYixNQUFNLENBQ1IsSUFBT3NGLEtBQVAsZUFBZXRGLE1BQWYsTUFDUWtULE9BQVdsTyxNQUFYa08sT0FDRnlJLHNCQUF3QnJXLEtBQUt0RixLQUFLa1QsT0FBT0MsT0FBUyxHQUNsRHlJLHFCQUF1QnRXLEtBQUt0RixLQUFLa1QsT0FBT0MsUUFFOUMsR0FBMEIsSUFBdEIwQixXQUFXelgsUUFBZ0J5WCxhQUFlK0cscUJBRTVDLE9BQU81VyxNQUdULEdBQTBCLElBQXRCc1csV0FBV2xlLFFBQWdCa2UsYUFBZUssc0JBRTVDLE1BQU8sQ0FDTHpJLE9BQVEsQ0FBRS9TLEtBQU1nVCxPQUFRRCxPQUFPQyxPQUFTLEdBQ3hDdkIsTUFBTyxDQUFFelIsS0FBTWdULE9BQVFELE9BQU9DLFFBR25DLENBQ0YsQ0FFRCxPQUFPc0ksY0FDUixDQzVORCxJQUFJblQsRUFBSSxFQU9LdVQsSUFHWG5ILFNBQUFBLE1BQ0VvSCxLQUFLMVYsR0FBTCxVQUFha0MsSUFDZCxFQ3FDVWxJLFlBQWMsQ0FLekJzUCxZQUx5QixxQkFLYnpQLFFBQ1YsUUFBU2lDLGFBQWFvRSxJQUFJckcsT0FOSCxFQWF6QjBULFVBYnlCLG1CQWFmMVQsUUFDUixJQUFNOUIsT0FBU3VELGlCQUFpQjRFLElBQUlyRyxRQUNwQyxJQUFLOUIsT0FDSCxNQUFNLElBQUluRCxNQUFNLHdEQUVsQixPQUFPbUQsTUFsQmdCLEVBeUJ6QitILFFBekJ5QixpQkF5QmpCakcsT0FBcUJxRixNQUMzQixJQUFJakosSUFBTXlGLFlBQVl3RSxJQUFJaEIsTUFPMUIsT0FMS2pKLE1BQ0hBLElBQU0sSUFBSXdmLElBQ1YvWixZQUFZNkQsSUFBSUwsS0FBTWpKLE1BR2pCQSxHQWpDZ0IsRUF3Q3pCZ0UsU0F4Q3lCLGtCQXdDaEJKLE9BQXFCcUYsTUFJNUIsSUFIQSxJQUFNbkYsS0FBYSxHQUNmME4sTUFBUXZJLE9BRUMsQ0FDWCxJQUFNdkYsT0FBUzBCLGVBQWU2RSxJQUFJdUgsT0FFbEMsR0FBYyxNQUFWOU4sT0FBZ0IsQ0FDbEIsR0FBSWUsT0FBQUEsT0FBT2liLFNBQVNsTyxPQUNsQixPQUFPMU4sS0FFUCxLQUVILENBRUQsSUFBTXBELEVBQUl3RSxjQUFjK0UsSUFBSXVILE9BRTVCLEdBQVMsTUFBTDlRLEVBQ0YsTUFHRm9ELEtBQUs2YixRQUFRamYsR0FDYjhRLE1BQVE5TixNQUNULENBRUQsTUFBTSxJQUFJL0UsTUFBSixrREFDdUNpaEIsT0FBQUEsU0FBU0MsVUFBVTVXLE9BbEV6QyxFQTBFekI2Syx5QkExRXlCLGtDQTBFQWxRLFFBQ3ZCLElBQU1pUyxHQUFLOVIsWUFBWXVSLFVBQVUxUixPQUFRQSxRQUNuQytSLEtBQU9FLEdBQUdpSyxjQUVoQixPQUNHbkssZ0JBQWdCb0ssVUFBWXBLLGdCQUFnQnFLLGFBQ3hCLE1BQXJCckssS0FBSzVCLGFBRUU0QixLQUdGRSxHQUFHbkYsYUFyRmEsRUE0RnpCc0QsVUE1RnlCLG1CQTRGZnBRLFFBQ1IsUUFBU2dDLFdBQVdxRSxJQUFJckcsT0E3RkQsRUFvR3pCcWMsV0FwR3lCLG9CQW9HZHJjLFFBQ1QsUUFBUytCLGFBQWFzRSxJQUFJckcsT0FyR0gsRUE0R3pCc2MsS0E1R3lCLGNBNEdwQnRjLFFBQ0gsSUFBTWlTLEdBQUs5UixZQUFZdVIsVUFBVTFSLE9BQVFBLFFBQ25DK1IsS0FBTzVSLFlBQVkrUCx5QkFBeUJsUSxRQUNsRGdDLFdBQVcwRCxJQUFJMUYsUUFBUSxHQUVuQitSLEtBQUtDLGdCQUFrQkMsSUFDekJBLEdBQUdxSyxNQWxIa0IsRUEwSHpCM0ssTUExSHlCLGVBMEhuQjNSLFFBQ0osSUFBTWlTLEdBQUs5UixZQUFZdVIsVUFBVTFSLE9BQVFBLFFBQ25DK1IsS0FBTzVSLFlBQVkrUCx5QkFBeUJsUSxRQUNsRGdDLFdBQVcwRCxJQUFJMUYsUUFBUSxHQUVuQitSLEtBQUtDLGdCQUFrQkMsSUFDekJBLEdBQUdOLE1BQU0sQ0FBRTRLLGVBQWUsR0FoSUwsRUF3SXpCcEssU0F4SXlCLGtCQXdJaEJuUyxRQUNJRyxZQUFZdVIsVUFBVTFSLE9BQVFBLFFBQ3pDLElBQVE2RyxVQUFjN0csT0FBZDZHLFVBRUZvSixhQURPOVAsWUFBWStQLHlCQUF5QmxRLFFBQ3hCbVEsZUFFdEJGLGNBQWdCQSxhQUFhdU0sV0FBYSxHQUM1Q3ZNLGFBQWF1QixrQkFHWDNLLFdBQ0ZxTCxPQUFBQSxXQUFXQyxTQUFTblMsT0FuSkMsRUEySnpCd1QsV0EzSnlCLG9CQTRKdkJ4VCxPQUNBakQsWUFLSTBmLFNBRkosbUJBRkFDLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQWtDLENBQUMsR0FFM0I3QyxTQUFBQSxjQUFSLHlDQUNNOVcsU0FBVzVDLFlBQVl1UixVQUFVMVIsT0FBUUEsUUFPL0MsSUFDRXljLFNBQVl0UCxhQUFhcFEsUUFDckJBLE9BQ0FBLE9BQU9zVyxhQUhiLENBSUUsTUFBTzdYLEtBQ1AsSUFDR0EsSUFBSUcsUUFBUWdoQixTQUFTLG1EQUV0QixNQUFNbmhCLEdBRVQsQ0FFRCxRQUFLaWhCLFlBS0hBLFNBQVNsSixRQUFUa0oseUJBQTRDMVosVUFDMUM4VyxXQUFZNEMsU0FBU0csb0JBRW9CLGtCQUEvQkgsU0FBU0csbUJBRWZILFNBQVNsSixRQUFRLCtCQUFpQ3hRLFlBQ2xEMFosU0FBUzFPLGFBQWEseUJBL0xQLEVBdU16QjRHLFdBdk15QixvQkF1TWQzVSxPQUFxQjhTLE1BQzlCOVMsT0FBTzJVLFdBQVc3QixLQXhNSyxFQStNekIrSixtQkEvTXlCLDRCQStNTjdjLE9BQXFCOFMsTUFDdEMsT0FBTzlTLE9BQU82YyxtQkFBbUIvSixLQWhOVixFQXVOekJnSyxlQXZOeUIsd0JBdU5WOWMsT0FBcUI4UyxNQUNsQyxPQUFPOVMsT0FBTzhjLGVBQWVoSyxLQXhOTixFQStOekJrRixnQkEvTnlCLHlCQWdPdkJoWSxPQUNBOFMsS0FDQWlLLGFBRUEvYyxPQUFPZ1ksZ0JBQWdCbEYsS0FBTWlLLFlBcE9OLEVBMk96QnJMLFVBM095QixtQkEyT2YxUixPQUFxQnFGLE1BQzdCLElBQU1lLGVBQWlCdEUseUJBQXlCdUUsSUFBSXJHLFFBQzlDa08sUUFBVXJOLE9BQUFBLE9BQU9pYixTQUFTelcsTUFDNUIzRCxrQkFBa0IyRSxJQUFJckcsUUFDdEJvRywwQkFGWSxFQUVaQSxlQUFnQkMsSUFBSWxHLFlBQVk4RixRQUFRakcsT0FBUXFGLE9BRXBELElBQUs2SSxRQUNILE1BQU0sSUFBSW5ULE1BQUoscURBQzBDaWhCLE9BQUFBLFNBQVNDLFVBQVU1VyxRQUlyRSxPQUFPNkksT0F2UGdCLEVBOFB6QmtGLFdBOVB5QixvQkE4UGRwVCxPQUFxQjJYLE9BQzlCLElBRUlxRixTQUZHM1gsS0FBUCxlQUFleEUsT0FBQUEsT0FBT3dFLEtBQUtyRixPQUFRMlgsTUFBTXpYLE1BQXpDLE1BQ00rUixHQUFLOVIsWUFBWXVSLFVBQVUxUixPQUFRcUYsTUFLckN4RSxPQUFBQSxPQUFBQSxLQUFZYixPQUFRLENBQUUwVyxHQUFJaUIsVUFDNUJBLE1BQVEsQ0FBRXpYLEtBQU15WCxNQUFNelgsS0FBTWdULE9BQVEsSUFVdEMsSUFKQSxJQUVJK0IsTUFBUSxFQUVaLGFBSGM3RyxNQUFNQyxLQUFLNEQsR0FBR2dMLGlCQURYLGlEQUlqQix3QkFBMEIsQ0FBckIsSUFBTWxkLEtBQVgsWUFDUW1PLFFBQVVuTyxLQUFLNE4sV0FBVyxHQUVoQyxHQUFlLE1BQVhPLFNBQTBDLE1BQXZCQSxRQUFRN00sWUFBL0IsQ0FJQSxJQUFRbEUsT0FBVytRLFFBQVE3TSxZQUFuQmxFLE9BQ0YrZixLQUFPbmQsS0FBS2dPLGFBQWEscUJBRXpCNEksSUFBTTFCLE9BRGUsTUFBUmlJLEtBQWUvZixPQUFTUyxTQUFTc2YsS0FBTSxLQUcxRCxHQUFJdkYsTUFBTXpFLFFBQVV5RCxJQUFLLENBRXZCcUcsU0FBVyxDQUFDOU8sUUFER29NLEtBQUtDLElBQUlwZCxPQUFRbWQsS0FBS0ksSUFBSSxFQUFHL0MsTUFBTXpFLE9BQVMrQixTQUUzRCxLQUNELENBRURBLE1BQVEwQixHQWJQLENBY0YsQ0FFRCxJQUFLcUcsU0FDSCxNQUFNLElBQUlqaUIsTUFBSix1REFDNENpaEIsT0FBQUEsU0FBU0MsVUFDdkR0RSxTQUtOLE9BQU9xRixRQTdTZ0IsRUF5VHpCL0wsV0F6VHlCLG9CQXlUZGpSLE9BQXFCK0UsT0FDOUIsSUFBUWtPLE9BQWtCbE8sTUFBbEJrTyxPQUFRdEIsTUFBVTVNLE1BQVY0TSxNQUNWVCxXQUFhL0wsT0FBQUEsTUFBTStMLFdBQVduTSxPQUM5Qm9ZLFVBQVloZCxZQUFZaVQsV0FBV3BULE9BQVFpVCxRQUMzQ21LLFNBQVdqWSxPQUFBQSxNQUFNNk4sWUFBWWpPLE9BQy9Cb1ksVUFDQWhkLFlBQVlpVCxXQUFXcFQsT0FBUTJSLE9BRzdCNEgsU0FEU3BaLFlBQVl1VCxVQUFVMVQsUUFDYmQsU0FBU21lLGNBQ2pDLHNCQUFpQ25NLFdBQWFrTSxTQUFXRCxVQUF6RCxHQUFPRyxVQUFQLFVBQWtCL0wsWUFBbEIsVUFDQSxzQkFBNkJMLFdBQWFpTSxVQUFZQyxTQUF0RCxHQUFPRyxRQUFQLFVBQWdCbE0sVUFBaEIsVUFRTW1NLHNCQUhXclEsYUFBYW1RLFdBQzFCQSxVQUNBQSxVQUFVakssZUFDdUJ0RixhQUFhLHlCQUk1QzBQLG9CQUhTdFEsYUFBYW9RLFNBQ3hCQSxRQUNBQSxRQUFRbEssZUFDcUJ0RixhQUFhLHlCQUk5QyxPQUZBd0wsU0FBU21FLFNBQVNKLFVBQVdFLG1CQUFxQixFQUFJak0sYUFDdERnSSxTQUFTb0UsT0FBT0osUUFBU0UsaUJBQW1CLEVBQUlwTSxXQUN6Q2tJLFFBcFZnQixFQTJWekJ0RCxZQTNWeUIscUJBMlZialcsT0FBcUJrTyxTQUMvQixJQUFJMFAsTUFBUXpRLGFBQWFlLFNBQVdBLFFBQVVBLFFBQVFtRixjQUVsRHVLLFFBQVVBLE1BQU01SCxhQUFhLHFCQUMvQjRILE1BQVFBLE1BQU1ySyxRQUFOcUssc0JBR1YsSUFBTXZZLEtBQU91WSxNQUFRamMsZ0JBQWdCMEUsSUFBSXVYLE9BQXdCLEtBRWpFLElBQUt2WSxLQUNILE1BQU0sSUFBSXRLLE1BQUoscURBQXdENmlCLFFBR2hFLE9BQU92WSxJQXhXZ0IsRUErV3pCbVQsZUEvV3lCLHdCQStXVnhZLE9BQXFCaUwsT0FDOUIsZ0JBQWlCQSxRQUNuQkEsTUFBUUEsTUFBTTJOLGFBR2hCLFdBQTJDM04sTUFBMUI0UyxFQUFqQixPQUFRQyxRQUFxQkMsRUFBN0IsT0FBb0JDLFFBQVlqaEIsT0FBaEMsT0FBZ0NBLE9BRWhDLEdBQVMsTUFBTDhnQixHQUFrQixNQUFMRSxFQUNmLE1BQU0sSUFBSWhqQixNQUFKLHlEQUE0RGtRLFFBR3BFLElBMEJJc08sU0ExQkVsVSxLQUFPbEYsWUFBWThWLFlBQVlqVyxPQUFRaUwsTUFBTWxPLFFBQzdDbUQsS0FBT0MsWUFBWUMsU0FBU0osT0FBUXFGLE1BSzFDLEdBQUl4RSxPQUFBQSxPQUFPTixPQUFPUCxPQUFRcUYsTUFBTyxDQUMvQixJQUFNNFksS0FBT2xoQixPQUFPMGMsd0JBQ2R5RSxPQUFTbGUsT0FBT1ksU0FBU3lFLE1BQzNCd1ksRUFBSUksS0FBS0UsS0FBT0YsS0FBS0UsS0FBT0YsS0FBS3hhLE1BQVFvYSxFQUN6Q0UsRUFBSUUsS0FBS0csSUFBTUgsS0FBS0csSUFBTUgsS0FBSzNXLE9BQVN5VyxFQUV0QzlFLEtBQU9wWSxPQUFBQSxPQUFPOFcsTUFBTTNYLE9BQVFFLEtBQU0sQ0FDdEMrWSxLQUFNaUYsT0FBUyxRQUFVLFFBRXJCdkcsTUFBUXVHLE9BQ1ZyZCxPQUFBQSxPQUFPd2QsT0FBT3JlLE9BQVFpWixNQUN0QnBZLE9BQUFBLE9BQU8rVyxNQUFNNVgsT0FBUWlaLE1BRXpCLEdBQUl0QixNQUVGLE9BRGM5VyxPQUFBQSxPQUFPa0UsTUFBTS9FLE9BQVEyWCxNQUd0QyxDQUlELElBQVF6WSxTQUFhaUIsWUFBWXVULFVBQVUxVCxRQUFuQ2QsU0FHUixHQUFJQSxTQUFTb2Ysb0JBQ1gvRSxTQUFXcmEsU0FBU29mLG9CQUFvQlQsRUFBR0UsT0FDdEMsQ0FDTCxJQUFNeGEsU0FBV3JFLFNBQVNxZix1QkFBdUJWLEVBQUdFLEdBRWhEeGEsWUFDRmdXLFNBQVdyYSxTQUFTbWUsZUFDWEssU0FBU25hLFNBQVNpYixXQUFZamIsU0FBUzJQLFFBQ2hEcUcsU0FBU29FLE9BQU9wYSxTQUFTaWIsV0FBWWpiLFNBQVMyUCxRQUVqRCxDQUVELElBQUtxRyxTQUNILE1BQU0sSUFBSXhlLE1BQUoseURBQTREa1EsUUFRcEUsT0FKYzlLLFlBQVl5USxhQUFhNVEsT0FBUXVaLFNBQVUsQ0FDdkQxSSxZQUFZLEVBQ1pDLGVBQWUsR0EzYU0sRUFvYnpCMk4sYUFwYnlCLHNCQXFidkJ6ZSxPQUNBZ2QsU0FDQU4sU0FLQSxJQUFRN0wsV0FBOEI2TCxRQUE5QjdMLFdBQVlDLGNBQWtCNEwsUUFBbEI1TCxjQUNwQixPQUFxQ0QsV0FDakNtTSxTTDVZMEJBLFNBQXJCMEIsa0JBQXFCMUIsVUFDaEMsNkJBQXFCQSxTQUFyQixHQUFLM1gsS0FBTCxhQUFXNk4sT0FBWCxhQUlBLEdBQUkvRixhQUFhOUgsT0FBU0EsS0FBS3NJLFdBQVd4USxPQUFRLENBQ2hELElBQUl5QyxPQUFTc1QsU0FBVzdOLEtBQUtzSSxXQUFXeFEsT0FDcENzUSxNQUFRN04sT0FBU3NULE9BQVMsRUFBSUEsT0FGYyxzQ0FHL0IxRix5QkFDZm5JLEtBQ0FvSSxNQUNBN04sT0FBUyxXQUFhLFdBTndCLEdBYWhELElBVkV5RixLQUg4QywwQkFTaER6RixRQU5RNk4sTUFId0MsMkJBUy9CeUYsT0FJVi9GLGFBQWE5SCxPQUFTQSxLQUFLc0ksV0FBV3hRLFFBQVEsQ0FDbkQsSUFBTUwsRUFBSThDLE9BQVN5RixLQUFLc0ksV0FBV3hRLE9BQVMsRUFBSSxFQUNoRGtJLEtBQU8ySSxpQkFBaUIzSSxLQUFNdkksRUFBRzhDLE9BQVMsV0FBYSxVQWZULENBbUJoRHNULE9BQVN0VCxRQUE4QixNQUFwQnlGLEtBQUtoRSxZQUFzQmdFLEtBQUtoRSxZQUFZbEUsT0FBUyxDQUN6RSxDQUdELE1BQU8sQ0FBQ2tJLEtBQU02TixPQTVCVCxDSzZZQ3dMLENBQWtCMUIsVUFGdEIsZ0NBQU8yQixZQUFQLFVBQW9CQyxjQUFwQixVQUdNQyxXQUFhRixZQUFZRSxXQUMzQkMsU0FBOEIsS0FDOUI1TCxPQUFTLEVBRWIsR0FBSTJMLFdBQVksMEJBQ1I5YixTQUFXNUMsWUFBWXVSLFVBQVUxUixPQUFRQSxRQUN6QytlLGtCQUFvQkYsV0FBV3RMLFFBQVEsNEJBS3ZDeUwsU0FDSkQsbUJBQXFCaGMsU0FBUzBOLFNBQVNzTyxtQkFDbkNBLGtCQUNBLEtBQ0ZFLFNBQVdKLFdBQVd0TCxRQUFRLHFCQUM5QnJGLFFBQTZCLEtBSWpDLEdBQUkrUSxVQUdGLEdBRkFILFNBQVdHLFNBQVMxTCxRQUFRLDRCQUVkLENBQ1osSUFDTXhPLE1BRFM1RSxZQUFZdVQsVUFBVTFULFFBQ2hCZCxTQUFTbWUsY0FDOUJ0WSxNQUFNMlksU0FBU29CLFNBQVUsR0FDekIvWixNQUFNNFksT0FBT2dCLFlBQWFDLGVBRTFCLElBQU1NLFNBQVduYSxNQUFNb2EsZ0JBQ04sR0FBSCwwQkFDVC9RLE1BQU01USxVQUFVc0QsTUFBTXBELEtBQ3ZCd2hCLFNBQVNqQyxpQkFBaUIsNkJBRmhCLG1CQUlUN08sTUFBTTVRLFVBQVVzRCxNQUFNcEQsS0FDdkJ3aEIsU0FBU2pDLGlCQUFpQiw4QkFJckJtQyxTQUFRbk4sU0FBQUEsSUFDZkEsR0FBSTRNLFdBQVlRLFlBQVlwTixHQUQ5QixJQVNBaUIsT0FBU2dNLFNBQVM3ZCxZQUFhbEUsT0FDL0IrUSxRQUFVNFEsUUFDWCxPQUNRRSxZQUdUQyxTQUFXRCxTQUFTaGMsY0FBYyx1QkFNaEM4YixTQUFXRyxTQUFTMUwsUUFBUSw0QkFFNUJMLFFBREFoRixRQUFVK1EsVUFDTzVkLFlBQWFsRSxPQUM5QitRLFFBQVErTyxpQkFBaUIsMkJBQTJCbUMsU0FBUW5OLFNBQUFBLElBQzFEaUIsUUFBVWpCLEdBQUc1USxZQUFhbEUsTUFENUIsS0FMQStWLE9BQVMsR0FZWGhGLFNBQ0FnRixTQUFXaEYsUUFBUTdNLFlBQWFsRSxTQU0vQjBoQixXQUFXN0ksYUFBYSwwQkFJdEJ4WCxZQUFVLDZCQUFJMFAsUUFBUTdNLG1CQUFaaWUsSUFBQUEsc0JBQUlBLHFCQUFxQmpMLFNBQVMsVUFFL0NuQixRQUVILENBRUQsSUFBSzRMLFNBQVUsQ0FDYixHQUFJaE8sY0FDRixPQUFPLEtBRVQsTUFBTSxJQUFJL1YsTUFBSix1REFDNENpaUIsVUFFbkQsQ0FLRCxJQUFNbEQsVUFBWTNaLFlBQVk4VixZQUFZalcsT0FBUThlLFVBRWxELE1BQU8sQ0FBRTVlLEtBRElDLFlBQVlDLFNBQVNKLE9BQVE4WixXQUMzQjVHLE9BcmlCUSxFQTRpQnpCdEMsYUE1aUJ5QixzQkE2aUJ2QjVRLE9BQ0F1WixTQUNBbUQsU0FLQSxJQUlJclAsV0FDQWtTLGFBQ0E3TyxVQUNBOE8sWUFDQXhNLFlBUkluQyxXQUE4QjZMLFFBQTlCN0wsV0FBWUMsY0FBa0I0TCxRQUFsQjVMLGNBb0NwQixJQW5DVzFELGVBQWVtTSxVQUN0QkEsU0FBU2xNLFdBQ1RrTSxTQUFTakksa0JBUVBsRSxlQUFlbU0sV0FDakJsTSxXQUFha00sU0FBU2xNLFdBQ3RCa1MsYUFBZWhHLFNBQVNnRyxhQUN4QjdPLFVBQVk2SSxTQUFTN0ksVUFDckI4TyxZQUFjakcsU0FBU2lHLFlBTXJCeE0sWUFERXJVLFdMbmZpQixTQUFoQjhnQixnQkFDWCxTQUNFdmhCLE9BQU9nQixTQUFTOFMsZ0JBQWlCOVQsT0FBT2dCLFNBQVM4UyxjQUFjME4sV0FGNUQsQ0ttZmtCRCxHQUVibEcsU0FBU2xNLGFBQWVrTSxTQUFTN0ksV0FDakM2SSxTQUFTZ0csZUFBaUJoRyxTQUFTaUcsWUFFdkJqRyxTQUFTdkcsY0FHekIzRixXQUFha00sU0FBU2pJLGVBQ3RCaU8sYUFBZWhHLFNBQVNoSSxZQUN4QmIsVUFBWTZJLFNBQVNuSSxhQUNyQm9PLFlBQWNqRyxTQUFTbEksVUFDdkIyQixZQUFjdUcsU0FBU29HLFlBS1gsTUFBZHRTLFlBQ2EsTUFBYnFELFdBQ2dCLE1BQWhCNk8sY0FDZSxNQUFmQyxZQUVBLE1BQU0sSUFBSXprQixNQUFKLHVEQUM0Q3dlLFdBSXBELElBQU10RyxPQUFTOVMsWUFBWXNlLGFBQ3pCemUsT0FDQSxDQUFDcU4sV0FBWWtTLGNBQ2IsQ0FBRTFPLFdBQVlDLGdCQUVoQixJQUFLbUMsT0FDSCxPQUFPLEtBR1QsSUFBTXRCLE1BQVFxQixZQUNWQyxPQUNBOVMsWUFBWXNlLGFBQWF6ZSxPQUFRLENBQUMwUSxVQUFXOE8sYUFBYyxDQUN6RDNPLFdBQ0FDLGdCQUVOLElBQUthLE1BQ0gsT0FBTyxLQUdULElBQUk1TSxNQUFlLENBQUVrTyxPQUF5QnRCLE9BYzlDLE9BUkV4TSxPQUFBQSxNQUFNaVAsV0FBV3JQLFFBQ2pCSSxPQUFBQSxNQUFNeWEsVUFBVTdhLFFBQ2hCb0ksYUFBYXVELFlBQ2I3UCxPQUFBQSxPQUFBQSxLQUFZYixPQUFRLENBQUUwVyxHQUFJM1IsTUFBTTRNLE1BQU82RixLQUFNLGNBRTdDelMsTUFBUWxFLE9BQUFBLE9BQU9nZixZQUFZN2YsT0FBUStFLE1BQU8sQ0FBRXNULE9BQU8sS0FHN0N0VCxLQXBvQmUsRUF1b0J6QmdNLFNBdm9CeUIsa0JBdW9CaEIvUSxPQUFxQitFLE9BQzVCLElBQVFrTyxPQUFrQmxPLE1BQWxCa08sT0FBUXRCLE1BQVU1TSxNQUFWNE0sTUFDaEIsT0FDRTlRLE9BQUFBLE9BQU91VixRQUFRcFcsT0FBUWlULE9BQU8vUyxPQUFTVyxPQUFBQSxPQUFPdVYsUUFBUXBXLE9BQVEyUixNQUFNelIsS0FFdkUsbUNDam5CSSxJQzlCTTRmLG9CQUNYckwsU0FBQUEsb0JBQW9CelUsT0FBNkIrZixZQUFBQSxJQUFBQSxNQUFBQSxLQUE3QixLQUFBL2YsT0FBQUEsT0FBNkIsS0FBQStmLFdBQUFBLFdBV2pELEtBQUFuTixNQUFTb04sU0FBQUEsV0FHUCxJQUNFLE1BQUtDLG1CQUFtQkQsVUFEMUIsQ0FFRSxNQUFPeGtCLEtBRVAwa0IsUUFBUXhrQixNQUFNRixLQUdkLE1BQUt1a0IsWUFDTixDQVhILEVBb0JRLEtBQUFFLG1CQUFzQkQsU0FBQUEsV0FDNUIsSUFBTUcsc0JEcEVNQyxtQkFDZHBnQixPQUNBZ2dCLFdBRUEsSUFBTUssV0FBd0IsR0FDeEJDLGFBQTBCLEdBQzFCQyxhQUFnQyxHQUNoQ0MsdUJBQTJDLEdBOENqRCxPQTVDQVIsVUFBVVosU0FBUXFCLFNBQUFBLFVBQ2hCLE9BQVFBLFNBQVNuUSxNQUNmLElBQUssWUFDQ21RLFNBQVNKLFdBQVdsakIsUUFDdEJzakIsU0FBU0osV0FBV2pCLFNBQVFzQixTQUFBQSxXQUMxQkwsV0FBV25hLEtBQUt3YSxVQURsQixJQUtGRCxTQUFTSCxhQUFhbEIsU0FBUXVCLFNBQUFBLGFBQzVCTCxhQUFhcGEsS0FBS3lhLFlBRHBCLElBSUEsTUFFRixJQUFLLGdCQUNISCx1QkFBdUJ0YSxLQUFLdWEsVUFHNUIsSUFBUTVCLFdBQWU0QixTQUFTMWpCLE9BQXhCOGhCLFdBRVIsSUFBS0EsV0FDSCxPQUdGLElBQU0rQixjQUFnQjdGLGlCQUFpQi9hLE9BQVE2ZSxZQUUvQyxJQUFLK0IsY0FDSCxPQUlGLEdBQ0VMLGFBQWFNLE1BQUssbUJBQUczZ0IsS0FBSCxLQUFHQSxLQUFILE9BQWNJLE9BQUFBLEtBQUtnRSxPQUFPcEUsS0FBTTBnQixjQUFjMWdCLEtBQWhFLElBRUEsT0FJRnFnQixhQUFhcmEsS0FBSzBhLGVBdkN4QixJQTRDTyxDQUFFUCxXQUFZQyxhQUFjQyxhQUFjQyx1QkFDbEQsQ0Njd0JKLENBQW1CLE1BQUtwZ0IsT0FBUWdnQixXQUM3Q08sYUFBK0JKLGFBQS9CSSxhQUFjRCxhQUFpQkgsYUFBakJHLGFBSXRCLEdEeUJ5RCxTQUFoRFEsMkJBQWlELE1BQUQsV0FDekRqYSxVQUFGa2EsTUFBRWxhLFVBQ0F5WixhQUFGVSxNQUFFVixhQUVGLFFBQU96WixXQUNIMUIsT0FBQUEsTUFBTWlQLFdBQVd2TixZQUFjeVosYUFBYW5qQixPQUFTLENBTHBELENDekJDMmpCLENBQTJCLE1BQUs5Z0IsT0FBUW1nQixjQUFlLENBQ3pELElBQU1wZ0IsY0ppQ0lraEIsb0JBQW9CVixjQUNsQyxPQUFPQSxhQUFhVyxRQUFPLFNBQUNDLElBQUQsVUFBUXBoQixLQUFSLEtBQVFBLEtBQVIsZ0JBQXNCb2hCLEtBQXRCLE9BQTRCcGhCLEtBQUs2VSxXQUFyRCxHQUFtRSxHQUMzRSxDSW5Da0JxTSxDQUFvQlYsY0FDakMsTUFBS2EseUJBQXlCcmhCLEtBRmhDLE1EUjBDLFNBQWpDa0IsWUFBa0NqQixPQUFELFdBQVdxZ0IsV0FBRjlFLE1BQUU4RSxXQUMvQ3haLFVBQWM3RyxPQUFkNkcsVUFDRmdZLFdBQWFoWSxVQUNmcEcsT0FBQUEsS0FBS1gsT0FBT0UsT0FBUTZHLFVBQVVvTSxPQUFPL1MsTUFDckMsS0FDRW1oQixjQUFnQnhDLFdBQ2xCMWUsWUFBWXVSLFVBQVUxUixPQUFRNmUsWUFDOUIsS0FFSixRQUFLd0MsZUFJRWhCLFdBQVdRLE1BQ2hCSCxTQUFBQSxXQUFTLE9BQ1BBLHFCQUFxQlksYUFDckJaLFVBQVVsUyxXQUFZNlMseUJBQXRCLEVBQXNCQSxjQUFlN1MsUUFGOUIsR0FkTixDQ1dRdk4sQ0FBWSxNQUFLakIsT0FBUW1nQixlRHlDWSxTQUF2Q29CLGtCQUNYQyxFQURrRCxXQUVoRG5CLFdBQUZvQixNQUFFcEIsV0FBWUcsdUJBQWRpQixNQUFjakIsdUJBRWQsT0FGQWlCLE1BQXNDbkIsYUFHdkJuakIsT0FBUyxHQUNBLElBQXRCa2pCLFdBQVdsakIsUUFDWHFqQix1QkFBdUJyakIsT0FBUyxDQVA3QixDQ3ZDUW9rQixDQUFrQixNQUFLdmhCLE9BQVFtZ0IsZURZRCxTQUFoQ3VCLFdBQWlDRixFQUFELE9BQzNDLE9BRCtDRyxNQUFFckIsYUFDN0JuakIsT0FBUyxDQUR4QixDQ1ZRdWtCLENBQVcsTUFBSzFoQixPQUFRbWdCLGNEOEJXLFNBQXJDeUIsZ0JBQXNDSixFQUFELE9BQ2hELE9BRG9ESyxNQUFFdEIsYUFDbENwakIsT0FBUyxDQUR4QixDQzVCUXlrQixDQUFnQixNQUFLNWhCLE9BQVFtZ0IsZUFDdEMsTUFBS3ZMLFdBQVcyTCxjQUZoQixNQUFLbFgsaUJBRkwsTUFBS3lZLGdCQUFnQnhCLGNBRnJCLE1BQUs5TCxhQVZELEVBd0JBLEtBQUFJLFdBQWMyTCxTQUFBQSxjQUdwQixJQUFRMVosVUFBYyxNQUFLN0csT0FBbkI2RyxVQUlSLEdBQ0UxRyxZQUFZc1AsWUFBWSxNQUFLelAsU0FDN0JrQyxzQkFBc0JtRSxJQUFJLE1BQUtyRyxRQUkvQixPQUZBb0MsMkJBQTJCc0QsSUFBSSxNQUFLMUYsT0FBUXVnQixtQkFDNUNyZSxzQkFBc0J3RCxJQUFJLE1BQUsxRixRQUFRLEdBS3pDdWdCLGFBQWFuQixTQUFRMkMsU0FBQUEsV0FDbkIsSUFBTWhpQixLQUFPZ2lCLFVBQVVoaUIsS0FBSzZVLFdBQ3RCOEIsR0FBSzRFLDRCQUE0QixNQUFLdGIsT0FBUTZHLFVBQVdrYixXQUMvRDdQLE9BQUFBLFdBQVcyRixhQUFhLE1BQUs3WCxPQUFRMFcsSUFDckM3VixPQUFBQSxPQUFPK1QsV0FBVyxNQUFLNVUsT0FBUUQsS0FKakMsR0FqQk0sRUE2QkEsS0FBQXlVLFlBQWMsV0FHcEIsSUFBUTNOLFVBQWMsTUFBSzdHLE9BQW5CNkcsVUFFUmhHLE9BQUFBLE9BQU8yVCxZQUFZLE1BQUt4VSxRQUV4QixNQUFLK2YsYUFFRGxaLFdBRUY0SyxZQUFXLFdBRVAsTUFBS3pSLE9BQU82RyxXQUNaMUIsT0FBQUEsTUFBTWIsT0FBT3VDLFVBQVcsTUFBSzdHLE9BQU82RyxZQUVwQ3FMLE9BQUFBLFdBQVc4RyxLQUFLLE1BQUtoWixPQUxmLEdBT1AsSUFsQkMsRUEwQkEsS0FBQW9oQix5QkFBNEJyaEIsU0FBQUEsTUFJbENjLE9BQUFBLE9BQU95VCxlQUFlLE1BQUt0VSxRQUV2QkQsS0FBSzVDLFFBRVAwRCxPQUFBQSxPQUFPK1QsV0FBVyxNQUFLNVUsT0FBUUQsTUFHakMsTUFBS2dnQixZQVhDLEVBa0JBLEtBQUExVyxlQUFpQixXQUd2QnhJLE9BQUFBLE9BQU93SSxlQUFlLE1BQUtySixRQUMzQkcsWUFBWXdSLE1BQU0sTUFBSzNSLFFBRXZCLE1BQUsrZixZQU5DLEVBWUEsS0FBQStCLGdCQUFtQnJHLFNBQUFBLE9BQUQsaURBQ0xBLE9BREssSUFDeEIsSUFBSyxXQUFMLG1DQUEwQixLQUFmcFcsS0FBZSxhQUNsQnlVLFVBQVkzWixZQUFZOFYsWUFBWSxNQUFLalcsT0FBUXFGLE1BRXZELEdBQUl5VSxVQUFXLENBQ2IsSUFBTTVaLEtBQU9DLFlBQVlDLFNBQVMsTUFBS0osT0FBUThaLFdBRS9DNUgsT0FBQUEsV0FBQUEsT0FBa0IsTUFBS2xTLE9BQVEsQ0FBRTBXLEdBQUl4VyxPQUNyQyxNQUFLNmYsWUFDTixDQUNGLENBVnVCLHFEQUFsQixFQTNJTmxFLEtBQUs3YixPQUFTQSxPQUNkNmIsS0FBS2tFLFdBQWFBLFVBQ25CLFdDbkRhaUMsb0JBQ2QzYyxLQUNBNGMsU0FDQXZGLFNBRUEsSUFBT3dGLGlCQUFQLGdCQUEyQnpjLEVBQUFBLE9BQUFBLFdBQVMsa0JBQU0sSUFBSTBjLGlCQUFpQkYsU0FBM0IsSUFBcEMsTUFFQXBtQiwyQkFBMEIsV0FFeEJxbUIsaUJBQWlCRSxZQUZNLEtBS3pCM2lCLEVBQUFBLE9BQUFBLFlBQVUsV0FDUixJQUFLNEYsS0FBSzlKLFFBQ1IsTUFBTSxJQUFJUixNQUFNLDBEQU9sQixPQUhBbW5CLGlCQUFpQkcsUUFBUWhkLEtBQUs5SixRQUFTbWhCLFNBR2hDd0YsaUJBQWlCRSxXQUFXMUksS0FBS3dJLGlCQVRqQyxHQVdWLENDbkJELElBQU1JLDJCQUFpRCxDQUNyREMsV0FBVyxFQUNYQyxlQUFlLEVBQ2ZDLFNBQVMsR0FHWCxTQUFTQyx5QkFBeUJ4VSxvQkFDNUIwUCxNQUFRelEsYUFBYWUsU0FBV0EsUUFBVUEsUUFBUW1GLGNBRWxEdUssUUFBVUEsTUFBTTVILGFBQWEscUJBQy9CNEgsTUFBUUEsTUFBTXJLLFFBQU5xSyxzQkFHVixJQUFNOUQsVUFBWThELE9BQVNqYyxnQkFBZ0IwRSxJQUFJdVgsT0FDL0MsT0FBSTlELFlBTVEsUUFBTCxPQUFBOEQsYUFBQSxtQkFBT3ZLLGNBQ1ZxUCx5QkFBeUI5RSxNQUFNdkssZUFDL0IsS0FDTCxVQUVlc1AsY0FDZHRkLEtBQ0F1ZCxtQkFFQSxJQUFNNWlCLE9BQVNDLGlCQUNUNGlCLGNBQWV6bkIsRUFBQUEsT0FBQUEsUUFBdUIsSUFBSTBuQixLQWlCaERkLG9CQUFvQjNjLE1BZk13TSxFQUFBQSxPQUFBQSxjQUFhbU8sU0FBQUEsV0FDaEM0QyxrQkFBa0JybkIsU0FJdkJ5a0IsVUFBVVosU0FBUSxtQkFDVnRGLFVBQVk0SSx5QkFEREssS0FBRWhtQixRQUVuQixHQUFLK2MsVUFJTCxPQUFPK0ksYUFBYXRuQixRQUFReW5CLElBQUlsSixVQU5sQyxHQUxtQyxHQWFsQyxJQUUwQ3dJLDRCQUc3Q08sYUFBYXRuQixRQUFRMG5CLFFBQ3JCLElBQU1DLFNBQVVyUixFQUFBQSxPQUFBQSxjQUFZLFdBQzFCLElBQU1zUixRQUFVL1UsTUFBTUMsS0FBS3dVLGFBQWF0bkIsUUFBUTZuQixVQUcxQ0MsZUFBaUJGLFFBQVFHLFFBQzdCamIsU0FBQUEsR0FBQyxPQUNFOGEsUUFBUXRDLE1BQUswQyxTQUFBQSxHQUFDLE9BQ2JqakIsT0FBQUEsS0FBS2tqQixTQUNIcmpCLFlBQVlDLFNBQVNKLE9BQVF1akIsR0FDN0JwakIsWUFBWUMsU0FBU0osT0FBUXFJLEdBSGxCLEdBRGhCLElBU0hnYixlQUFlakUsU0FBUS9XLFNBQUFBLDZCQUNyQi9GLFFBQUEsc0JBQUFBLG9CQUFvQitELElBQUlnQyxVQUF4Qi9GLElBQUFBLHVCQUFBQSx1QkFERixJQUlBdWdCLGFBQWF0bkIsUUFBUTBuQixPQWxCSSxHQW1CeEIsSUFFSCxPQUFPQyxPQUNSLENDdkVELElBQU1aLHlCQUFpRCxDQUNyREMsV0FBVyxFQUNYQyxlQUFlLEVBQ2ZpQix1QkFBdUIsRUFDdkJoQixTQUFTLFlBR0tpQix1QkFBdUJyZSxNQUNyQyxJQUFNckYsT0FBU0MsaUJBRWYsNEJDZGMwakIsb0JBQ2QsSUFBTTNqQixPQUFTQyxpQkFDVDJpQixtQkFBb0J4bkIsRUFBQUEsT0FBQUEsU0FBZ0IsR0FDcEN3b0IsbUJBQW9CeG9CLEVBQUFBLE9BQUFBLFFBQXNCLE1BQzFDeW9CLGFBQWNoUyxFQUFBQSxPQUFBQSxjQUFZLFdBQzlCLElBQWtDLElBQTlCK1Esa0JBQWtCcm5CLFFBQW1CLENBQ3ZDLElBQU0yQyxPQUFTaUMsWUFBWXVULFVBQVUxVCxRQUVyQzRpQixrQkFBa0JybkIsU0FBVSxFQUV4QnFvQixrQkFBa0Jyb0IsU0FDcEIyQyxPQUFPMkgscUJBQXFCK2Qsa0JBQWtCcm9CLFNBR2hEcW9CLGtCQUFrQnJvQixRQUFVMkMsT0FBT3lILHVCQUFzQixXQUN2RGlkLGtCQUFrQnJuQixTQUFVLEVBQzVCcW9CLGtCQUFrQnJvQixRQUFVLElBRkYsR0FJN0IsQ0FkNEIsR0FlNUIsSUFTSCxPQVBBa0UsRUFBQUEsT0FBQUEsWUFBVSxXQUVKbWpCLGtCQUFrQnJuQixVQUNwQnFuQixrQkFBa0JybkIsU0FBVSxFQUh2QixJQU9GLENBQ0xxbkIsa0JBQ0FpQixZQUVILENEbEI0Q0YsR0FBbkNmLGtCQUFSLG1CQUFRQSxrQkFBbUJpQixZQUEzQixtQkFBMkJBLFlBQ3JCQyxXQUFhbkIsY0FBY3RkLEtBQU11ZCxtQkFFakNtQixjQUFlblUsRUFBQUEsT0FBQUEsVUFDbkIsa0JBQU0sSUFBSWtRLG9CQUFvQjlmLE9BQVE4akIsV0FBdEMsR0FDQSxDQUFDQSxXQUFZOWpCLFNBR1Rna0IsV0FBWTVvQixFQUFBQSxPQUFBQSxRQUE2QyxNQUN6RDZvQixlQUFnQjdvQixFQUFBQSxPQUFBQSxTQUFPLEdBcUI3QixPQUZBNG1CLG9CQUFvQjNjLE1BbEJOd00sRUFBQUEsT0FBQUEsY0FBYW1PLFNBQUFBLFdBQ3BCNEMsa0JBQWtCcm5CLFVBSXZCMG9CLGNBQWMxb0IsU0FBVSxFQUN4QndvQixhQUFhblIsTUFBTW9OLFdBRWZnRSxVQUFVem9CLFNBQ1oyb0IsYUFBYUYsVUFBVXpvQixTQUd6QnlvQixVQUFVem9CLFFBQVVrVyxZQUFXLFdBQzdCd1MsY0FBYzFvQixTQUFVLEVBQ3hCeW9CLFVBQVV6b0IsUUFBVSxJQUZRLEdBRzNCLEtBZm9CLEdBZ0J0QixJQUU4QittQiwwQkFFMUIsQ0FDTDJCLGNBQ0FKLFlBRUgsdzVCRUZELElBRWFNLGdCQUFtQnhrQixTQUFuQndrQixnQkFBbUJ4a0IsT0FDOUIsSUFDRXFQLFVBV0VyUCxNQVhGcVAsVUFERixpQkFZSXJQLE1BVkZxSSxTQUFBQSxjQUZGLHFCQUVhaUgsZ0JBRmIsaUJBR29CQyxzQkFTaEJ2UCxNQVRGd1AsaUJBQ0E5TCxZQVFFMUQsTUFSRjBELFlBSkYsaUJBWUkxRCxNQVBGbUgsU0FBQUEsY0FMRix1Q0FNRUosY0FNRS9HLE1BTkYrRyxjQUNBL0QsV0FLRWhELE1BTEZnRCxXQVBGLHVCQVlJaEQsTUFKRitDLGtCQUFBQSx1QkFSRiwyQkFRc0IvQyxTQUFBQSxPQUFLLE9BQUk5QixPQUFBQSxRQUFBQSxjQUFDdVIsbUJBQUR2UixPQUFBQSxPQUFBQSxDQUFBQSxFQUF3QjhCLE9BQTVCLEVBUjNCLHFDQVlJQSxNQUhGc0QsTUFBQUEsV0FURixrQkFTVSxDQUFDLEVBVFgseUJBWUl0RCxNQUZGNFAsR0FBSUMsZUFWTixlQVVrQixNQVZsQixXQVdLbE0sV0FYTCx5QkFZSTNELE1BWkosYUFhTUssT0FBUzRNLFdBRWYsMkJBQXNDbkgsRUFBQUEsT0FBQUEsV0FBUyxHQUEvQyxHQUFPZ0ssWUFBUCxjQUFvQkMsZUFBcEIsY0FDTXhPLEtBQU05RixFQUFBQSxPQUFBQSxRQUF1QixNQUM3QjJvQixhQUFlTCx1QkFBdUJ4aUIsS0FHNUNhLGFBQWEyRCxJQUFJMUYsT0FBUThHLFVBR3pCLElBQU1sQixPQUFRZ0ssRUFBQUEsT0FBQUEsVUFDWixpQkFBTyxDQUNMSCxhQUFhLEVBQ2JNLHFCQUFxQixFQUNyQkMsY0FBZSxLQUhqQixHQUtBLElBR0kxSixXQUFhbEIsY0FBY3BGLFFBR2pDbkUsMkJBQTBCLFdBRXhCLElBQUlxQyxPQUVBZ0QsSUFBSTNGLFVBQVkyQyxPQUFTMk8sZUFBZTNMLElBQUkzRixXQUM5Q2tHLGlCQUFpQmlFLElBQUkxRixPQUFROUIsUUFDN0J3RCxrQkFBa0JnRSxJQUFJMUYsT0FBUWtCLElBQUkzRixTQUNsQ3FHLGdCQUFnQjhELElBQUkxRixPQUFRa0IsSUFBSTNGLFNBQ2hDb0csZ0JBQWdCK0QsSUFBSXhFLElBQUkzRixRQUFTeUUsU0FFakM0QixnQkFBZSxPQUFRNUIsUUFHekIsSUFFRSxJQUFRNkcsVUFBYzdHLE9BQWQ2RyxVQUVGb0osYUFETzlQLFlBQVkrUCx5QkFBeUJsUSxRQUN4Qm1RLGVBRTFCLEdBQ0V2SyxNQUFNNkosY0FDTFEsZUFDQTlQLFlBQVlpUSxVQUFVcFEsUUFFdkIsT0FHRixJQUFNcVEsZ0JBQXdDLFNBQXRCSixhQUFhSyxLQUdyQyxJQUFLekosWUFBY3dKLGdCQUNqQixPQUlGLElBQU1FLGNBQWdCN08sa0JBQWtCMkUsSUFBSXJHLFFBQ3hDd1EseUJBQTBCLEVBUzlCLEdBUEVELGNBQWNFLFNBQVNSLGFBQWE1QyxhQUNwQ2tELGNBQWNFLFNBQVNSLGFBQWFTLGFBRXBDRix5QkFBMEIsR0FJeEJILGlCQUFtQkcseUJBQTJCM0osVUFBVyxDQUMzRCxJQUFNOEosV0FBYXhRLFlBQVl5USxhQUFhNVEsT0FBUWlRLGFBQWMsQ0FDaEVZLFlBQVksRUFDWkMsZUFBZSxJQUVqQixHQUFJSCxZQUFjeEwsT0FBQUEsTUFBTWIsT0FBT3FNLFdBQVk5SixXQUN6QyxNQXRDRixDQThDRixHQUFJQSxZQUFjMUcsWUFBWTRRLFNBQVMvUSxPQUFRNkcsV0FLN0MsWUFKQTdHLE9BQU82RyxVQUFZMUcsWUFBWXlRLGFBQWE1USxPQUFRaVEsYUFBYyxDQUNoRVksWUFBWSxFQUNaQyxlQUFlLEtBTW5CLElBQU1tQixHQUFLOVIsWUFBWXVSLFVBQVUxUixPQUFRQSxRQUN6QzRGLE1BQU1tSyxxQkFBc0IsRUFFNUIsSUFBTWlCLFlBQWNuSyxXQUFhMUcsWUFBWThRLFdBQVdqUixPQUFRNkcsV0FFaEUsR0FBSW1LLFlBQWEsQ0FDWDdMLE9BQUFBLE1BQU0rTCxXQUFXckssV0FDbkJvSixhQUFha0IsaUJBQ1hILFlBQVlJLGFBQ1pKLFlBQVlLLFVBQ1pMLFlBQVlNLGVBQ1pOLFlBQVlPLGFBR2R0QixhQUFha0IsaUJBQ1hILFlBQVlNLGVBQ1pOLFlBQVlPLFlBQ1pQLFlBQVlJLGFBQ1pKLFlBQVlLLFdBR2hCLElBQU1tSSxPQUFTeEksWUFBWU0sZUFBZStCLGNBQzFDbUcsT0FBT0Msc0JBQXdCekksWUFBWXlJLHNCQUFzQkMsS0FDL0QxSSxjQUVGMkksRUFBQUEsd0JBQUFBLFNBQWVILE9BQVEsQ0FDckJJLFdBQVksWUFDWndLLFNBQVVuUyxZQUdMdUgsT0FBT0MscUJBekJoQixNQTJCRXhKLGFBQWF1QixrQkFHZkMsWUFBVyxXQUNUN0wsTUFBTW1LLHFCQUFzQixDQURwQixHQTFGWixDQTZGRSxlQUVBbkssTUFBTW1LLHFCQUFzQixDQUM3QixDQTdHc0IsS0FrSHpCdFEsRUFBQUEsT0FBQUEsWUFBVSxXQUNKeUIsSUFBSTNGLFNBQVd5VCxXQUNqQjlOLElBQUkzRixRQUFRb1csT0FGUCxHQUlOLENBQUMzQyxZQU9KLElBQU00QyxzQkFBdUJDLEVBQUFBLE9BQUFBLGNBQzNCQyxFQUFBQSxVQUFBQSxVQUFTLFdBQ1AsSUFDRSxJQUNHbE0sTUFBTTZKLGNBQ043SixNQUFNbUssc0JBQ05nVSxhQUFhRSxjQUFjMW9CLFFBQzVCLENBQ0EsSUFBTXdXLEtBQU81UixZQUFZK1AseUJBQXlCbFEsUUFDMUNnUyxjQUFrQkQsS0FBbEJDLGNBQ0ZDLEdBQUs5UixZQUFZdVIsVUFBVTFSLE9BQVFBLFFBQ25DaVEsYUFBZThCLEtBQUs1QixlQVMxQixHQVBJNkIsZ0JBQWtCQyxJQUNwQnJNLE1BQU1vSyxjQUFnQmdDLGNBQ3RCaFEsV0FBVzBELElBQUkxRixRQUFRLElBRXZCZ0MsV0FBVSxPQUFRaEMsU0FHZmlRLGFBQ0gsT0FBT2lDLE9BQUFBLFdBQVdDLFNBQVNuUyxRQUc3QixJQUFRcU4sV0FBMEI0QyxhQUExQjVDLFdBQVlxRCxVQUFjVCxhQUFkUyxVQUVkMEIscUJBQ0pDLGtCQUFrQnJTLE9BQVFxTixhQUMxQmlGLDhCQUE4QnRTLE9BQVFxTixZQUVsQ2tGLG9CQUNKRixrQkFBa0JyUyxPQUFRMFEsWUFDMUI0Qiw4QkFBOEJ0UyxPQUFRMFEsV0FFeEMsR0FBSTBCLHNCQUF3Qkcsb0JBQXFCLENBQy9DLElBQU14TixNQUFRNUUsWUFBWXlRLGFBQWE1USxPQUFRaVEsYUFBYyxDQUMzRFksWUFBWSxFQUNaQyxlQUFlLElBRWpCb0IsT0FBQUEsV0FBV00sT0FBT3hTLE9BQVErRSxNQUw1QixNQU9FbU4sT0FBQUEsV0FBV0MsU0FBU25TLE9BRXZCLENBekNILENBMENFLGdCQUVELENBN0NLLEdBOENMLEtBQ0gsQ0FBQzhHLFdBR0cyTCw4QkFBK0I3QyxFQUFBQSxPQUFBQSxVQUNuQyxrQkFBTThDLEVBQUFBLFVBQUFBLFNBQVNkLHFCQUFzQixFQUFyQyxHQUNBLENBQUNBLHVCQU9HekMsa0JBQW1CMEMsRUFBQUEsT0FBQUEsY0FDdEI1RyxTQUFBQSxPQUVJbkUsV0FDRHVMLGtCQUFrQnJTLE9BQVFpTCxNQUFNbE8sU0FDL0I0VixrQkFBa0IxSCxNQUFPaUUseUJBSzFCdUQsNkJBQTZCRyxRQUU3Qm1SLGFBQWFGLGNBWmlCLEdBZWxDLENBQUMvYyxTQUFVb0ksd0JBTWJyVCwyQkFBMEIsV0FDeEIsSUFBTXdKLEtBQU9uRSxJQUFJM0YsUUFNakIsT0FIQThKLFlBQUFBLEtBQU1uSyxpQkFBaUIsY0FBZWlVLGtCQUcvQixrQkFBTTlKLGdCQUFOLEVBQU1BLEtBQU0yUCxvQkFBb0IsY0FBZTdGLGlCQUEvQyxDQVBnQixHQVF0QixDQUFDN0ksV0FBWTRJLHdCQU9oQnJULDJCQUEwQixXQUN4QixJQUFNcUMsT0FBU2lDLFlBQVl1VCxVQUFVMVQsUUFNckMsT0FMQTlCLE9BQU9nQixTQUFTaEUsaUJBQ2Qsa0JBQ0F1WCw4QkFHSyxXQUNMdlUsT0FBT2dCLFNBQVM4VixvQkFDZCxrQkFDQXZDLDZCQUhKLENBUHVCLEdBYXRCLENBQUNBLCtCQUVKLElBQU0zTSxZQUFja0MsU0FBUyxDQUFDaEksT0FBUSxLQUV0QyxHQUNFcUQsYUFDMkIsSUFBM0JyRCxPQUFPVyxTQUFTeEQsUUFDMEIsSUFBMUNpUixNQUFNQyxLQUFLNU4sT0FBQUEsS0FBSzRHLE1BQU1ySCxTQUFTN0MsUUFDUCxLQUF4QnNELE9BQUFBLEtBQUtDLE9BQU9WLFVBQ1h5UCxZQUNELHdCQUNNd0YsTUFBUXBVLE9BQUFBLE9BQU9vVSxNQUFNalYsT0FBUSxJQUNuQzhGLFlBQVlJLE1BQVpKLGlCQUFBQSxtQkFBQUEsQ0FBQUEsRUFDR3ZELG9CQUFxQixHQUR4QnVELGlCQUFBQSxtQkFBQUEsY0FFRXpDLGFBRkZ5QyxpQkFBQUEsbUJBQUFBLFNBR1VtUCxPQUhWblAsaUJBQUFBLG1CQUFBQSxRQUlTbVAsT0FKVG5QLG9CQU1ELENBRUQsT0FDRWpJLE9BQUFBLFFBQUFBLGNBQUM2TyxnQkFBZ0IvRCxTQUFqQjlLLENBQTBCeEIsTUFBT3lLLFVBQy9CakosT0FBQUEsUUFBQUEsY0FBQ2dLLGdCQUFnQmMsU0FBakI5SyxDQUEwQnhCLE1BQU8yTCxVQUMvQm5LLE9BQUFBLFFBQUFBLGNBQUMyUixVQUFEM1IsT0FBQUEsT0FBQUEsQ0FDRXpCLElBQUtrSyxXQUNMNE8sS0FBTXBPLGNBQVdoTCxFQUFZLFdBQ3pCd0gsV0FBQUEsQ0FDSjZSLFdBQVk3UixXQUFXNlIsV0FDdkJDLFlBQWE5UixXQUFXOFIsWUFDeEJDLGVBQWdCL1IsV0FBVytSLHdEQUVYLFFBQ2hCdFIsaUJBQWlCK0MsZUFBV2hMLEVBQzVCeVosZ0NBQThCLEVBQzlCclUsSUFDQStCLE1BQUssZUFFSE0sU0FBVSxXQUVWaUUsUUFBUyxPQUVUZ08sV0FBWSxXQUVaQyxTQUFVLGNBRVB4UyxPQUVMOFUsUUFBUWxHLEVBQUFBLE9BQUFBLGNBQ0w1RyxTQUFBQSxPQUVHb0gsa0JBQWtCclMsT0FBUWlMLE1BQU1sTyxVQUMvQjRZLGVBQWUxSyxNQUFPM0gsV0FBV3lVLFVBRWxDOU0sTUFBTWtKLGlCQUNOaFUsWUFBWTZYLGdCQUFnQmhZLE9BQVFpTCxNQUFNZ04sY0FBZSxRQVA1QyxHQVVqQixDQUFDM1UsV0FBV3lVLFNBRWRHLE9BQU9yRyxFQUFBQSxPQUFBQSxjQUNKNUcsU0FBQUEsT0FDQyxJQUNHbkUsVUFDRHVMLGtCQUFrQnJTLE9BQVFpTCxNQUFNbE8sVUFDL0I0WSxlQUFlMUssTUFBTzNILFdBQVc0VSxPQUNsQyxDQUNBak4sTUFBTWtKLGlCQUNOaFUsWUFBWTZYLGdCQUFnQmhZLE9BQVFpTCxNQUFNZ04sY0FBZSxPQUN6RCxJQUFRcFIsVUFBYzdHLE9BQWQ2RyxVQUVSLEdBQUlBLFVBQ0YsR0FBSTFCLE9BQUFBLE1BQU1pUCxXQUFXdk4sV0FDbkJoRyxPQUFBQSxPQUFPeVQsZUFBZXRVLFlBQ2pCLENBQ0wsSUFBTXFGLEtBQU81RSxPQUFBQSxLQUFLWCxPQUFPRSxPQUFRNkcsVUFBVW9NLE9BQU8vUyxNQUM5Q1csT0FBQUEsT0FBT04sT0FBT1AsT0FBUXFGLE9BQ3hCNk0sT0FBQUEsV0FBQUEsT0FBa0JsUyxPQUVyQixDQUVKLENBckJhLEdBdUJoQixDQUFDOEcsU0FBVXhELFdBQVc0VSxRQUV4QlEsU0FBUzdHLEVBQUFBLE9BQUFBLGNBQ041RyxTQUFBQSxPQUNDLElBQ0duRSxXQUNBbEIsTUFBTW1LLHFCQUNQc0Msa0JBQWtCclMsT0FBUWlMLE1BQU1sTyxVQUMvQjRZLGVBQWUxSyxNQUFPM0gsV0FBV29WLFNBQ2xDLENBQ0EsSUFBTTNHLEtBQU81UixZQUFZK1AseUJBQXlCbFEsUUFDbEQ0RixNQUFNb0ssY0FBZ0IrQixLQUFLQyxjQUUzQmhRLFdBQVcwRCxJQUFJMUYsUUFBUSxFQUN4QixDQVplLEdBY2xCLENBQUM4RyxTQUFVeEQsV0FBV29WLFVBRXhCNUMsUUFBUWpFLEVBQUFBLE9BQUFBLGNBQ0w1RyxTQUFBQSxPQUNDLElBQ0VuRSxXQUNBbEIsTUFBTW1LLHFCQUNMc0Msa0JBQWtCclMsT0FBUWlMLE1BQU1sTyxVQUNqQzRZLGVBQWUxSyxNQUFPM0gsV0FBV3dTLFFBSm5DLENBYUEsSUFBTS9ELEtBQU81UixZQUFZK1AseUJBQXlCbFEsUUFDbEQsR0FBSTRGLE1BQU1vSyxnQkFBa0IrQixLQUFLQyxjQUFqQyxDQUlBLElBQVErRCxjQUFrQjlLLE1BQWxCOEssY0FNUixLQUFJQSxnQkFMTzVWLFlBQVl1UixVQUFVMVIsT0FBUUEsU0FZdkNtTixhQUFhNEksZ0JBQ2JBLGNBQWNDLGFBQWEsc0JBRjdCLENBVUEsR0FDbUIsTUFBakJELGVBQ0E5SSxVQUFVOEksZ0JBQ1Y1VixZQUFZcVQsV0FBV3hULE9BQVErVixlQUMvQixDQUNBLElBQU0xUSxLQUFPbEYsWUFBWThWLFlBQVlqVyxPQUFRK1YsZUFFN0MsR0FBSXZQLE9BQUFBLFFBQVEyQixVQUFVOUMsUUFBVXJGLE9BQU9PLE9BQU84RSxNQUM1QyxNQUVILENBRURyRCxXQUFVLE9BQVFoQyxPQWpCakIsQ0FuQkEsQ0FUQSxDQVRjLEdBd0RqQixDQUFDOEcsU0FBVXhELFdBQVd3UyxTQUV4QkksU0FBU3JFLEVBQUFBLE9BQUFBLGNBQ041RyxTQUFBQSxPQUNDLElBQ0duRSxVQUNEcVAsVUFBVW5XLE9BQVFpTCxNQUFNbE8sVUFDdkI0WSxlQUFlMUssTUFBTzNILFdBQVc0UyxVQUNsQ2pKLFVBQVVoQyxNQUFNbE8sUUFDaEIsQ0FDQSxJQUFNc0ksS0FBT2xGLFlBQVk4VixZQUFZalcsT0FBUWlMLE1BQU1sTyxRQUM3Q21ELEtBQU9DLFlBQVlDLFNBQVNKLE9BQVFxRixNQU0xQyxHQUFJeEUsT0FBQUEsT0FBT3VWLFFBQVFwVyxPQUFRRSxNQUV6QixHQURtQk8sT0FBQUEsS0FBSzRGLElBQUlyRyxPQUFRRSxRQUNqQm1GLEtBQU0sQ0FDdkIsSUFBTTRQLE9BQVFwVSxPQUFBQSxPQUFPb1UsTUFBTWpWLE9BQVFFLE1BQzdCeVcsSUFBTTlWLE9BQUFBLE9BQU84VixJQUFJM1csT0FBUUUsTUFFekIwVyxVQUFZL1YsT0FBQUEsT0FBQUEsS0FBWWIsT0FBUSxDQUFFMFcsR0FBSXpCLFNBQ3RDNEIsUUFBVWhXLE9BQUFBLE9BQUFBLEtBQVliLE9BQVEsQ0FBRTBXLEdBQUlDLE1BRTFDLEdBQ0VDLFdBQ0FDLFNBQ0F2VyxPQUFBQSxLQUFLZ0UsT0FBT3NTLFVBQVUsR0FBSUMsUUFBUSxJQUNsQyxDQUNBLElBQU05UixNQUFRbEUsT0FBQUEsT0FBT2tFLE1BQU0vRSxPQUFRaVYsUUFDbkMvQyxPQUFBQSxXQUFXTSxPQUFPeFMsT0FBUStFLE1BQzNCLENBQ0YsQ0FFSixDQWxDZSxHQW9DbEIsQ0FBQytCLFNBQVV4RCxXQUFXNFMsVUFFeEJZLGtCQUFrQmpGLEVBQUFBLE9BQUFBLGNBQ2Y1RyxTQUFBQSxPQUVHb0gsa0JBQWtCclMsT0FBUWlMLE1BQU1sTyxVQUMvQjRZLGVBQWUxSyxNQUFPM0gsV0FBV3dULG9CQUVsQ3JFLDZCQUE2QkcsUUFDN0JuQixZQUFXLFdBQ1Q3TCxNQUFNNkosYUFBZUMsZ0JBQWUsR0FDcEM5SixNQUFNNkosYUFBYyxFQUVwQnhOLGFBQWF5RCxJQUFJMUYsUUFBUSxHQUN6QmtDLHNCQUFzQndELElBQUkxRixRQUFRLEdBRWxDLElBQU11Z0IsYUFDSm5lLDJCQUEyQmlFLElBQUlyRyxTQUFXLEdBSTVDLEdBQUt1Z0IsYUFBYXBqQixPQUFsQixDQUlBaUYsMkJBQTJCc0QsSUFBSTFGLE9BQVEsSUFFdkMsSUFBUTZHLFVBQWM3RyxPQUFkNkcsVUFFUjBaLGFBQWFuQixTQUFRMkMsU0FBQUEsV0FDbkIsSUFBTWhpQixLQUFPZ2lCLFVBQVVoaUIsS0FBSzZVLFdBQ3RCOEIsR0FBSzRFLDRCQUNUdGIsT0FDQTZHLFVBQ0FrYixXQUVGN1AsT0FBQUEsV0FBVzJGLGFBQWE3WCxPQUFRMFcsSUFDaEM3VixPQUFBQSxPQUFPK1QsV0FBVzVVLE9BQVFELEtBUjVCLEdBTkMsQ0FkTyxHQTNkSixJQW9kaUIsR0F3QzNCLENBQUN1RCxXQUFXd1QsbUJBRWRPLHFCQUFxQnhGLEVBQUFBLE9BQUFBLGNBQ2xCNUcsU0FBQUEsT0FFR29ILGtCQUFrQnJTLE9BQVFpTCxNQUFNbE8sVUFDL0I0WSxlQUFlMUssTUFBTzNILFdBQVcrVCx3QkFFakN6UixNQUFNNkosYUFBZUMsZ0JBQWUsR0FDckM5SixNQUFNNkosYUFBYyxFQUNwQnhOLGFBQWF5RCxJQUFJMUYsUUFBUSxHQVJDLEdBVzlCLENBQUNzRCxXQUFXK1Qsc0JBRWRDLG9CQUFvQnpGLEVBQUFBLE9BQUFBLGNBQ2pCNUcsU0FBQUEsT0FFR29ILGtCQUFrQnJTLE9BQVFpTCxNQUFNbE8sVUFDL0I0WSxlQUFlMUssTUFBTzNILFdBQVdnVSx1QkFFakMxUixNQUFNNkosYUFBZUMsZ0JBQWUsR0FDckM5SixNQUFNNkosYUFBYyxFQUNwQnhOLGFBQWF5RCxJQUFJMUYsUUFBUSxHQVJBLEdBVzdCLENBQUNzRCxXQUFXZ1UscUJBRWQ4QixTQUFTdkgsRUFBQUEsT0FBQUEsY0FDTjVHLFNBQUFBLE9BRUNBLE1BQU1nTixjWmxWYXRKLFNBQXBCMFYsaUJBQW9CMVYsY0FDL0IsSUFBS0EsYUFBYUMsUUFBUSxnQ0FBaUMsQ0FDekQsSUFBTTBWLFNBQVc1ViwwQkFBMEJDLGNBQzNDLEdBQUkyVixTQUFVLENBQ1osSUFBTXJNLGNBQWdCLElBQUlzTSxhQUsxQixPQUpBNVYsYUFBYTJLLE1BQU04RixTQUFROU8sU0FBQUEsTUFDekIySCxjQUFjdU0sUUFBUWxVLEtBQU0zQixhQUFhQyxRQUFRMEIsTUFEbkQsSUFHQTJILGNBQWN1TSxRQUFRLCtCQUFnQ0YsVUFDL0NyTSxhQUNSLENBQ0YsQ0FDRCxPQUFPdEosWUFaRixDWWtWNkIwVixDQUFpQnBaLE1BQU1nTixnQkFHM0M1RixrQkFBa0JyUyxPQUFRaUwsTUFBTWxPLFNBQy9CNFksZUFBZTFLLE1BQU8zSCxXQUFXOFYsVUFDakN0UyxXQUVEbUUsTUFBTWtKLGlCQUNOaFUsWUFBWXdVLFdBQVczVSxPQUFRaUwsTUFBTWdOLGVBWHZCLEdBY2xCLENBQUNuUixTQUFVeEQsV0FBVzhWLFlBR3ZCcFMsWUFBWSxDQUNYbEIsWUFDQVQsS0FBTXJGLE9BQ04wRyxjQUNBaEUsa0JBQ0FDLFdBQ0FrRSxVQUFXN0csT0FBTzZHLGNBTTdCLDBDQ2xtQk0sSUFBTTRkLGdCQUFpQjdjLEVBQUFBLE9BQUFBLGdCQUFjLHNCQU1sQixTQUFiOGMsYUFDWCxPQUFPN3BCLEVBQUFBLE9BQUFBLFlBQVc0cEIsZUFDbkIsRWpDTU0sSUFBTTNwQixzQkFBdUI4TSxFQUFBQSxPQUFBQSxlQUdqQyxDQUFDLEdBRUVwTixZQUFjLFNBQWRBLFlBQWVtcUIsRUFBUUMsR0FBVCxPQUFvQkQsSUFBTUMsQ0FBMUIsdUVrQ05FamxCLFNBQVRrbEIsTUFBU2xsQixPQU1wQixJQUFRSyxPQUErQ0wsTUFBL0NLLE9BQVFXLFNBQXVDaEIsTUFBdkNnQixTQUFVbWtCLFNBQTZCbmxCLE1BQTdCbWxCLFNBQVV6b0IsTUFBbUJzRCxNQUFuQnRELE1BQVUwb0IsS0FBOUMseUJBQXVEcGxCLE1BQXZELFdBQ01xbEIsWUFBYTVwQixFQUFBQSxPQUFBQSxTQUFPLEdBRTFCLGdDQUE4QnlDLE9BQUFBLFFBQU00SCxVQUF3QixXQUMxRCxJQUFLaEYsT0FBQUEsS0FBS3drQixXQUFXNW9CLE9BQ25CLE1BQU0sSUFBSXRCLE1BQ1IsMkVBQ2NpaEIsT0FBQUEsU0FBU0MsVUFBVTVmLFNBR3JDLElBQUt3RSxPQUFBQSxPQUFPaWIsU0FBUzliLFFBQ25CLE1BQU0sSUFBSWpGLE1BQ1IsbURBQ0tpaEIsT0FBQUEsU0FBU0MsVUFBVWpjLFVBSzVCLE9BRkFBLE9BQU9XLFNBQVd0RSxNQUNsQkMsT0FBTzRvQixPQUFPbGxCLE9BQVEra0IsTUFDZixDQUFDL2tCLE9BZm9CLElBQTlCLEdBQU9wRixRQUFQLG9CQUFnQnVxQixXQUFoQixvQkFrQkEsNkJsQ29FY0MsbUJBQW1CcGxCLFFBQ2pDLElBQU1xbEIsZ0JBQWlCanFCLEVBQUFBLE9BQUFBLFFBQThCLElBQUlHLFFBQ25EK3BCLFVBQVdscUIsRUFBQUEsT0FBQUEsUUFFZCxDQUNENEUsU0FDQ3pFLFFBQ0d1cEIsVUFBV2pULEVBQUFBLE9BQUFBLGNBQWE3UixTQUFBQSxRQUM1QnNsQixTQUFTdGxCLE9BQVNBLE9BQ2xCcWxCLGVBQWVqRyxTQUFTbUcsU0FBQUEsVUFBRCxPQUFtQ0EsU0FBU3ZsQixPQUE1QyxHQUZHLEdBR3pCLElBYUgsTUFBTyxDQUFFd2xCLGlCQVhlNVYsRUFBQUEsT0FBQUEsVUFBUSxXQUM5QixNQUFPLENBQ0wzVSxTQUFVLDJCQUFNcXFCLFNBQVN0bEIsTUFBZixFQUNWOUUsaUJBQW1CK21CLFNBQUFBLGlCQUFBQSxVQUVqQixPQURBb0QsZUFBZW5mLEtBQUsrYixVQUNiLFdBQ0xvRCxlQUFlSSxPQUFPSixlQUFlam9CLFFBQVE2a0IsVUFBVyxFQUQxRCxDQUdELEVBUjBCLEdBVTVCLENBQUNvRCxlQUFnQkMsV0FDTVIsU0FDM0IsQ2tDekZLTSxDQUFtQnBsQixRQUZyQndsQixnQkFERixvQkFDRUEsZ0JBQ1VFLHFCQUZaLG9CQUVFWixTQUdJYSxpQkFBa0I5VCxFQUFBQSxPQUFBQSxjQUFZLFdBQzlCaVQsVUFDRkEsU0FBUzlrQixPQUFPVyxVQUdsQndrQixXQUFXLENBQUNubEIsU0FDWjBsQixxQkFBcUIxbEIsT0FOWSxHQU9oQyxDQUFDOGtCLFdBRUp6aUIsb0JBQW9CcUQsSUFBSTFGLE9BQVEybEIsa0JBRWhDbG1CLEVBQUFBLE9BQUFBLFlBQVUsV0FDUixPQUFPLFdBQ0w0QyxvQkFBb0JxRCxJQUFJMUYsUUFBUSxXQUFoQyxJQUNBZ2xCLFdBQVd6cEIsU0FBVSxDQUZ2QixDQURPLEdBS04sSUFFSCxnQ0FBa0NrSyxFQUFBQSxPQUFBQSxVQUFTdEYsWUFBWWlRLFVBQVVwUSxTQUFqRSxHQUFPb1EsVUFBUCxlQUFrQndWLGFBQWxCLGVBNEJBLE9BMUJBbm1CLEVBQUFBLE9BQUFBLFlBQVUsV0FDUm1tQixhQUFhemxCLFlBQVlpUSxVQUFVcFEsUUFENUIsSUFJVG5FLDJCQUEwQixXQUN4QixJQUFNZ3FCLEdBQUssU0FBTEEsS0FBSyxPQUFNRCxhQUFhemxCLFlBQVlpUSxVQUFVcFEsUUFBekMsRUFDWCxPQUFJckMsOEJBSUZ1QixTQUFTaEUsaUJBQWlCLFVBQVcycUIsSUFDckMzbUIsU0FBU2hFLGlCQUFpQixXQUFZMnFCLElBQy9CLFdBQ0wzbUIsU0FBUzhWLG9CQUFvQixVQUFXNlEsSUFDeEMzbUIsU0FBUzhWLG9CQUFvQixXQUFZNlEsR0FGM0MsSUFLQTNtQixTQUFTaEUsaUJBQWlCLFFBQVMycUIsSUFBSSxHQUN2QzNtQixTQUFTaEUsaUJBQWlCLE9BQVEycUIsSUFBSSxHQUMvQixXQUNMM21CLFNBQVM4VixvQkFBb0IsUUFBUzZRLElBQUksR0FDMUMzbUIsU0FBUzhWLG9CQUFvQixPQUFRNlEsSUFBSSxFQUYzQyxFQWZxQixHQW9CdEIsSUFHRGhvQixPQUFBQSxRQUFBQSxjQUFDL0MscUJBQXFCNk4sU0FBdEI5SyxDQUErQnhCLE1BQU9tcEIsaUJBQ3BDM25CLE9BQUFBLFFBQUFBLGNBQUM4TyxhQUFhaEUsU0FBZDlLLENBQXVCeEIsTUFBT3pCLFNBQzVCaUQsT0FBQUEsUUFBQUEsY0FBQzhKLGNBQWNnQixTQUFmOUssQ0FBd0J4QixNQUFPMkQsUUFDN0JuQyxPQUFBQSxRQUFBQSxjQUFDNG1CLGVBQWU5YixTQUFoQjlLLENBQXlCeEIsTUFBTytULFdBQzdCelAsWUFNWixvQkNuR3dCLFNBQVptbEIsWUFDWCxJQUFNOWxCLFFBQVNuRixFQUFBQSxPQUFBQSxZQUFXOE0sZUFFMUIsSUFBSzNILE9BQ0gsTUFBTSxJQUFJakYsTUFBSiw2RUFLUixPQUFPaUYsTUFDUixFQ1pELElBQU0rbEIsaUJBQW1CLFNBQW5CQSxpQkFBb0I5SCxLQUFlK0gsYUFDdkMsSUFBTUMsUUFBVUQsWUFBWTVILElBQU00SCxZQUFZRSxRQUFVLEVBRXhELE9BQU9qSSxLQUFLRyxLQUFPNkgsUUFBVWhJLEtBQUtpSSxRQUFVRCxNQUg5QyxFQU1NRSxrQkFBb0IsU0FBcEJBLGtCQUNKbm1CLE9BQ0FvbUIsT0FDQUMsUUFFQSxJQUFNQyxNQUFRbm1CLFlBQVk4USxXQUFXalIsT0FBUW9tQixRQUFRM00sd0JBQy9DOE0sTUFBUXBtQixZQUFZOFEsV0FBV2pSLE9BQVFxbUIsUUFBUTVNLHdCQUVyRCxPQUFPc00saUJBQWlCTyxNQUFPQyxRQUFVUixpQkFBaUJRLE1BQU9ELE1BUm5FLG9CQ2M0Q3RtQixTQUEvQndtQixVQUErQnhtQixRQUMxQyxJQUFNeW1CLEVBQUl6bUIsT0FDRjBtQixNQUFvQ0QsRUFBcENDLE1BQU81QixTQUE2QjJCLEVBQTdCM0IsU0FBVXpiLGVBQW1Cb2QsRUFBbkJwZCxlQXNPekIsT0FsT0F2SCx5QkFBeUI0RCxJQUFJK2dCLEVBQUcsSUFBSWxsQixTQUVwQ2tsQixFQUFFcGQsZUFBaUJrTCxTQUFBQSxNQUNqQixHQUFhLFNBQVRBLEtBQ0YsT0FBT2xMLGVBQWVrTCxNQUd4QixHQUFJdlUsT0FBTzZHLFdBQWExQixPQUFBQSxNQUFNNk4sWUFBWWhULE9BQU82RyxXQUFZLENBQzNELElBQU04ZixpQkFBbUI5bEIsT0FBQUEsT0FBTzRWLE1BQU16VyxPQUFRLENBQzVDNk8sTUFBT3hHLFNBQUFBLE1BQUFBLEdBQUMsT0FBSXhILE9BQUFBLE9BQU8wVixRQUFRdlcsT0FBUXFJLEVBQTNCLEVBQ1JxTyxHQUFJMVcsT0FBTzZHLFlBR2IsR0FBSThmLGlCQUFrQixDQUNwQixJQUFTQyxnQkFBVCxlQUE0QkQsaUJBQTVCLE1BQ01FLG1CQUFxQmhtQixPQUFBQSxPQUFPa0UsTUFDaEMvRSxPQUNBNG1CLGdCQUNBNW1CLE9BQU82RyxVQUFVb00sUUFHYjZULGlCRHRCc0IsU0FBdkJDLHFCQUNYL21CLE9BQ0FnbkIsYUFFQSxJQUFNQyxvQkFBc0JwbUIsT0FBQUEsT0FBT2tFLE1BQU0vRSxPQUFRbUYsT0FBQUEsTUFBTXdSLElBQUlxUSxjQUNyREUsVUFBWTlZLE1BQU1DLEtBQUt4TixPQUFBQSxPQUFPcW1CLFVBQVVsbkIsT0FBUSxDQUFFMFcsR0FBSXNRLGVBRXhEN0ksS0FBTyxFQUNQZ0osTUFBUUQsVUFBVS9wQixPQUNsQjhvQixPQUFTM0wsS0FBSzhNLE1BQU1ELE1BQVEsR0FFaEMsR0FDRWhCLGtCQUNFbm1CLE9BQ0FhLE9BQUFBLE9BQU9rRSxNQUFNL0UsT0FBUWtuQixVQUFVL0ksT0FDL0I4SSxxQkFHRixPQUFPcG1CLE9BQUFBLE9BQU9rRSxNQUFNL0UsT0FBUWtuQixVQUFVL0ksTUFBTzhJLHFCQUcvQyxHQUFJQyxVQUFVL3BCLE9BQVMsRUFDckIsT0FBTzBELE9BQUFBLE9BQU9rRSxNQUNaL0UsT0FDQWtuQixVQUFVQSxVQUFVL3BCLE9BQVMsR0FDN0I4cEIscUJBSUosS0FBT2hCLFNBQVdpQixVQUFVL3BCLFFBQVU4b0IsU0FBVzlILE1BRTdDZ0ksa0JBQ0VubUIsT0FDQWEsT0FBQUEsT0FBT2tFLE1BQU0vRSxPQUFRa25CLFVBQVVqQixTQUMvQmdCLHFCQUdGRSxNQUFRbEIsT0FFUjlILEtBQU84SCxPQUdUQSxPQUFTM0wsS0FBSzhNLE9BQU9qSixLQUFPZ0osT0FBUyxHQUd2QyxPQUFPdG1CLE9BQUFBLE9BQU9rRSxNQUFNL0UsT0FBUWtuQixVQUFVQyxPQUFRRixvQkE3Q3pDLENDc0IwQkYsQ0FBcUJOLEVBQUdJLG9CQUU1QzFoQixPQUFBQSxNQUFNNk4sWUFBWThULG1CQUNyQjVVLE9BQUFBLFdBQUFBLE9BQWtCbFMsT0FBUSxDQUFFMFcsR0FBSW9RLGtCQUVuQyxDQUNGLENBekJILEVBOEJBTCxFQUFFQyxNQUFTN1EsU0FBQUEsSUFDVCxJQUFNd1IsUUFBeUIsR0FFL0IsT0FBUXhSLEdBQUd2RixNQUNULElBQUssY0FDTCxJQUFLLGNBQ0wsSUFBSyxXQUNMLElBQUssYUFDSCtXLFFBQVFuaEIsS0FBUm1oQixNQUFBQSxRQUFPLG1CQUFTQyxXQUFXYixFQUFHNVEsR0FBRzNWLFFBQ2pDLE1BR0YsSUFBSyxnQkFBaUIsMEJBRXBCaUMsUUFBQSxzQkFBQUEseUJBQXlCa0UsSUFBSXJHLGVBQTdCbUMsSUFBQUEsdUJBQUFBLHNCQUFzQzRTLFFBQ3RDNVMseUJBQXdCLE9BQVFuQyxRQUNoQyxNQUdGLElBQUssY0FDTCxJQUFLLGNBQ0hxbkIsUUFBUW5oQixLQUFSbWhCLE1BQUFBLFFBQU8sbUJBQVNDLFdBQVdiLEVBQUdubUIsT0FBQUEsS0FBS1IsT0FBTytWLEdBQUczVixTQUM3QyxNQUdGLElBQUssYUFDSCxJQUFNcW5CLFNBQVdqbkIsT0FBQUEsS0FBS2tuQixTQUFTM1IsR0FBRzNWLE1BQ2xDbW5CLFFBQVFuaEIsS0FBUm1oQixNQUFBQSxRQUFPLG1CQUFTQyxXQUFXYixFQUFHYyxZQUM5QixNQUdGLElBQUssWUFDSCxJQUFNRSxXQUFhbm5CLE9BQUFBLEtBQUtvbkIsT0FDdEJwbkIsT0FBQUEsS0FBS1IsT0FBTytWLEdBQUczVixNQUNmSSxPQUFBQSxLQUFLUixPQUFPK1YsR0FBRzhSLFVBRWpCTixRQUFRbmhCLEtBQVJtaEIsTUFBQUEsUUFBTyxtQkFBU0MsV0FBV2IsRUFBR2dCLGNBS2xDZixNQUFNN1EsSUFFTixJQUFLLElBQUwsZUFBMEJ3UixRQUExQiwwQkFBbUMsQ0FBOUIsZ0RBQU9ubkIsS0FBUCxlQUFhOUQsSUFBYixlQUNJaUosS0FBUCxlQUFleEUsT0FBQUEsT0FBT3dFLEtBQUtvaEIsRUFBR3ZtQixNQUE5QixNQUNBMkIsWUFBWTZELElBQUlMLEtBQU1qSixJQUN2QixDQTlDSCxFQWlEQXFxQixFQUFFek8sZ0JBQW1CbEYsU0FBQUEsTUFDbkIsSUFBUWpNLFVBQWM0ZixFQUFkNWYsVUFFUixHQUFLQSxVQUFMLENBSUEsaUNBQXFCMUIsT0FBQUEsTUFBTXlpQixNQUFNL2dCLFdBQWpDLEdBQU9vTyxNQUFQLGlCQUFjMEIsSUFBZCxpQkFDTUMsVUFBWS9WLE9BQUFBLE9BQUFBLEtBQVk0bEIsRUFBRyxDQUFFL1AsR0FBSXpCLE1BQU0vVSxPQUN2QzJXLFFBQVVoVyxPQUFBQSxPQUFBQSxLQUFZNGxCLEVBQUcsQ0FBRS9QLEdBQUlDLElBQUl6VyxPQUV6QyxJQUFJaUYsT0FBQUEsTUFBTTZOLFlBQVluTSxZQUFlK1AsVUFBckMsQ0FNQSxJQUFNMkMsU0FBV3BaLFlBQVk4USxXQUFXd1YsRUFBRzVmLFdBQ3ZDcVksU0FBVzNGLFNBQVM0RixnQkFDcEIwSSxPQUFTM0ksU0FBU3ZSLFdBQVcsR0FZakMsR0FUQXVSLFNBQVN2UixXQUFXeVIsU0FBUS9aLFNBQUFBLE1BQ3RCQSxLQUFLaEUsYUFBMkMsS0FBNUJnRSxLQUFLaEUsWUFBWXltQixTQUN2Q0QsT0FBU3hpQixLQUZiLElBU0l3UixRQUFTLENBQ1gsSUFBT21JLFNBQVAsZUFBbUJuSSxRQUFuQixNQUNNa1IsRUFBSXhPLFNBQVN5TyxhQUNiOVosUUFBVS9OLFlBQVl1UixVQUFVK1UsRUFBR3pILFVBQ3pDK0ksRUFBRUUsWUFBWS9aLFNBQ2RnUixTQUFXNkksRUFBRTVJLGVBQ2QsQ0FzQkQsR0FoQkl2SSxZQUNGaVIsT0FBUzNJLFNBQVNsYyxjQUFjLHdCQUtsQ29MLE1BQU1DLEtBQUs2USxTQUFTakMsaUJBQWlCLDRCQUE0Qm1DLFNBQy9EOEksU0FBQUEsSUFDRSxJQUFNQyxVQUF5RCxNQUE3Q0QsR0FBR25hLGFBQWEseUJBQ2xDbWEsR0FBRzdtQixZQUFjOG1CLFVBQVksS0FBTyxFQUh4QyxJQVVJNWEsVUFBVXNhLFFBQVMsQ0FDckIsSUFBTU8sS0FBT1AsT0FBTy9hLGNBQWMzTixjQUFjLFFBR2hEaXBCLEtBQUtubEIsTUFBTXVTLFdBQWEsTUFDeEI0UyxLQUFLQyxZQUFZUixRQUNqQjNJLFNBQVNtSixZQUFZRCxNQUNyQlAsT0FBU08sSUFDVixDQUVELElBQU05RCxTQUFXbUMsRUFBRTZCLGNBQ2I1bkIsT0FBUzZuQixLQUFLdE0sVUFBVXFJLFVBQ3hCa0UsUUFBVXRxQixPQUFPdXFCLEtBQUtDLG1CQUFtQmhvQixTQUMvQ21uQixPQUFPYyxhQUFhLHNCQUF1QkgsU0FDM0MxVixLQUFLMFIsUUFBUSwrQkFBZ0NnRSxTQUc3QyxJQUFNSSxJQUFNMUosU0FBU3BTLGNBQWMzTixjQUFjLE9BT2pELE9BTkF5cEIsSUFBSVAsWUFBWW5KLFVBQ2hCMEosSUFBSUQsYUFBYSxTQUFVLFFBQzNCekosU0FBU3BTLGNBQWMrYixLQUFLUixZQUFZTyxLQUN4QzlWLEtBQUswUixRQUFRLFlBQWFvRSxJQUFJRSxXQUM5QmhXLEtBQUswUixRQUFRLGFBQWN2VyxhQUFhMmEsTUFDeEMxSixTQUFTcFMsY0FBYytiLEtBQUt4SixZQUFZdUosS0FDakM5VixJQXRFTixDQVJBLENBTEgsRUFzRkEyVCxFQUFFOVIsV0FBYzdCLFNBQUFBLE1BQ1QyVCxFQUFFNUosbUJBQW1CL0osT0FDeEIyVCxFQUFFM0osZUFBZWhLLEtBRnJCLEVBTUEyVCxFQUFFNUosbUJBQXNCL0osU0FBQUEsTUFJdEIsSUFBTXdSLFNBQ0p4UixLQUFLbEUsUUFBUSxpQ0FDYkYsMEJBQTBCb0UsTUFFNUIsR0FBSXdSLFNBQVUsQ0FDWixJQUFNeUUsUUFBVUMsbUJBQW1COXFCLE9BQU8rcUIsS0FBSzNFLFdBQ3pDNEUsT0FBU1gsS0FBS1ksTUFBTUosU0FFMUIsT0FEQXRDLEVBQUUyQyxlQUFlRixTQUNWLENBQ1IsQ0FDRCxPQUFPLENBZFQsRUFpQkF6QyxFQUFFM0osZUFBa0JoSyxTQUFBQSxNQUNsQixJQUFNL1MsS0FBTytTLEtBQUtsRSxRQUFRLGNBRTFCLEdBQUk3TyxLQUFNLENBQ1IsSUFEUSxPQUVKaEMsT0FBUSxFQUZKLHNDQUNNZ0MsS0FBS2hDLE1BQU0sZUFEakIsSUFJUixJQUFLLFdBQUwsbUNBQTBCLEtBQWZzckIsS0FBZSxhQUNwQnRyQixPQUNGbVUsT0FBQUEsV0FBV29YLFdBQVc3QyxFQUFHLENBQUU4QyxRQUFRLElBR3JDOUMsRUFBRTdSLFdBQVd5VSxNQUNidHJCLE9BQVEsQ0FDVCxDQVhPLHFEQVlSLE9BQU8sQ0FDUixDQUNELE9BQU8sQ0FqQlQsRUFvQkEwb0IsRUFBRTNCLFNBQVcsV0FLWDBFLFVBQUFBLFFBQVNDLHlCQUF3QixXQUMvQixJQUFNOUQsZ0JBQWtCdGpCLG9CQUFvQmdFLElBQUlvZ0IsR0FFNUNkLGlCQUNGQSxrQkFHRmIsVUFQRixHQUxGLEVBZ0JPMkIsQ0FDUixFQUVELElBQU1hLFdBQWEsU0FBYkEsV0FBY2IsRUFBV3ZtQixNQUM3QixJQURpQixPQUNYbW5CLFFBQXlCLEdBRGQsc0NBRUl4bUIsT0FBQUEsT0FBTzZvQixPQUFPakQsRUFBRyxDQUFFL1AsR0FBSXhXLFFBRjNCLElBRWpCLElBQUssV0FBTCxtQ0FBcUQsaURBQXpDbUksRUFBeUMsZ0JBQXRDMUIsRUFBc0MsZ0JBQzdDdkssSUFBTStELFlBQVk4RixRQUFRd2dCLEVBQUdwZSxHQUNuQ2dmLFFBQVFuaEIsS0FBSyxDQUFDUyxFQUFHdkssS0FDbEIsQ0FMZ0IscURBTWpCLE9BQU9pckIsT0FOVCxFQ2hRYXRZLFNBQVd4USxXQUFhNGxCLGdCQUFrQndGLG1sYnJDTnhDLFNBQVN6dEIsZ0JBQWdCQyxJQUFLQyxJQUFLQyxPQVloRCxPQVhJRCxPQUFPRCxJQUNURyxPQUFPQyxlQUFlSixJQUFLQyxJQUFLLENBQzlCQyxNQUNBRyxZQUFZLEVBQ1pDLGNBQWMsRUFDZEMsVUFBVSxJQUdaUCxJQUFJQyxLQUFPQyxNQUdORixHQUNULENNWE8sSUFBTXl0QixZQUF1QyxJQUFJcm9CLFFBQzNDc29CLGdCQUFnRCxJQUFJdG9CLFFBQ3BEdW9CLFNBQXFDLElBQUl2b0IsUUFDekN3b0IsWUFBd0MsSUFBSXhvQixRQUM1Q3lvQixVQUEyQyxJQUFJem9CLFFBQy9DMG9CLFdBQTZDLElBQUkxb0IsUUFDakQyb0IsV0FBNkMsSUFBSTNvQix5eUJnQ2NsQyxTQUFmNG9CLGVBQ1gsSUFBTW5xQixPQUFpQixDQUNyQlcsU0FBVSxHQUNWeXBCLFdBQVksR0FDWnZqQixVQUFXLEtBQ1hzTSxNQUFPLEtBQ1B2UyxTQUFVLDJCQUFNLENBQU4sRUFDVkwsT0FBUSx5QkFBTSxDQUFOLEVBQ1J1a0IsU0FBVSxvQkFQVyxFQVNyQjRCLE1BQVE3USxTQUFBQSxNQUFBQSxJQUFELCtDQUNhaFYsT0FBT3dwQixTQUFTcnFCLFNBRDdCLElBQ0wsSUFBSyxVQUFMLGlDQUEyQyxLQUFoQ2tCLElBQWdDLFlBQ3pDb3BCLFFBQVFDLFVBQVVycEIsSUFBSzJVLEdBQ3hCLENBSEksb0dBS2FoVixPQUFPMnBCLFVBQVV4cUIsU0FMOUIsSUFLTCxJQUFLLFdBQUwsbUNBQTRDLEtBQWpDa0IsS0FBaUMsYUFDMUN1cEIsU0FBU0YsVUFBVXJwQixLQUFLMlUsR0FDekIsQ0FQSSxzR0FTYWhWLE9BQU82cEIsVUFBVTFxQixTQVQ5QixJQVNMLElBQUssV0FBTCxtQ0FBNEMsS0FBakNrQixNQUFpQyxhQUMxQ3lwQixTQUFTSixVQUFVcnBCLE1BQUsyVSxHQUN6QixDQVhJLHFEQWFMLElBRUkrVSxXQUNBQyxjQUhFQyxjQUFnQmxCLFlBQVl2akIsSUFBSXJHLFNBQVcsR0FDM0MrcUIsaUJBQW1CbEIsZ0JBQWdCeGpCLElBQUlyRyxTQUFXLElBQUk4aUIsSUFJdERFLElBQU85aUIsU0FBUDhpQixJQUFPOWlCLE1BQ1gsR0FBSUEsS0FBTSxDQUNSLElBQU05RCxJQUFNOEQsS0FBSzhxQixLQUFLLEtBRWpCSCxjQUFjSSxJQUFJN3VCLE9BQ3JCeXVCLGNBQWM3SCxJQUFJNW1CLEtBQ2xCd3VCLFdBQVcxa0IsS0FBS2hHLE1BRW5CLENBUkgsRUFXQSxHQUFJSSxLQUFLNHFCLDBCQUEwQnJWLElBQUssQ0FDdEMrVSxXQUFhLEdBQ2JDLGNBQWdCLElBQUkvSCxJQUZrQixpREFHbkJnSSxlQUhtQixJQUd0QyxJQUFLLFdBQUwsbUNBQWtDLEtBQXZCNXFCLEtBQXVCLGFBRWhDOGlCLElBRGdCMWlCLEtBQUtpcUIsVUFBVXJxQixLQUFNMlYsSUFFdEMsQ0FOcUMscURBQXhDLE1BUUUrVSxXQUFhRSxjQUNiRCxjQUFnQkUsaUJBR2xCLElBekNLLDZDQXlDaUJJLGNBQWN0VixLQXpDL0IsSUEwQ0wsSUFBSyxXQUFMLG1DQUFrQyxDQUNoQ21OLElBRGdDLGFBRWpDLENBNUNJLHFEQThDTDRHLFlBQVlsa0IsSUFBSTFGLE9BQVE0cUIsWUFDeEJmLGdCQUFnQm5rQixJQUFJMUYsT0FBUTZxQixlQUM1QjNZLFdBQVdxWSxVQUFVdnFCLE9BQVE2VixJQUM3QjdWLE9BQU9vcUIsV0FBV2xrQixLQUFLMlAsSUFDdkJoVixPQUFPdXFCLFVBQVVwckIsUUFHRCxrQkFBWjZWLEdBQUd2RixPQUNMdFEsT0FBT21ULE1BQVEsTUFHWjJXLFNBQVN6akIsSUFBSXJHLFVBQ2hCOHBCLFNBQVNwa0IsSUFBSTFGLFFBQVEsR0FFckJxckIsUUFBUUMsVUFBVUMsTUFBSyxXQUNyQnpCLFNBQVNwa0IsSUFBSTFGLFFBQVEsR0FDckJBLE9BQU84a0IsV0FDUDlrQixPQUFPb3FCLFdBQWEsRUFIdEIsSUFyRWlCLEVBNkVyQm9CLFFBQVMsaUJBQUNwdkIsSUFBYUMsT0FDckIsSUFBUXdLLFVBQWM3RyxPQUFkNkcsVUFFUixHQUFJQSxVQUNGLEdBQUkxQixNQUFNaVAsV0FBV3ZOLFdBQ25CcUwsV0FBV3VaLFNBQ1R6ckIsT0FERmtTLGlCQUFBQSxDQUFBQSxFQUVLOVYsSUFBTUMsT0FDVCxDQUFFd1MsTUFBT3hLLEtBQUsyVyxPQUFRamQsT0FBTyxRQUUxQixDQUNMLElBQU1vVixNQUFRLGdCQUFILG1CQUNMdFMsT0FBT3NTLE1BQU1uVCxTQUFXLENBQUMsR0FEcEIsdUJBRVI1RCxJQUFNQyxRQUdUMkQsT0FBT21ULE1BQVFBLE1BQ1YyVyxTQUFTempCLElBQUlyRyxTQUNoQkEsT0FBTzhrQixVQUVWLENBakdnQixFQXFHckJ6YixlQUFpQmtMLFNBQUFBLGVBQUFBLE1BQ2YsSUFBUTFOLFVBQWM3RyxPQUFkNkcsVUFFSkEsV0FBYTFCLE1BQU02TixZQUFZbk0sWUFDakNxTCxXQUFVLE9BQVFsUyxPQUFRLENBQUV1VSxLQUFNNkMsU0FBUyxHQXpHMUIsRUE2R3JCOU4sY0FBZ0JpTCxTQUFBQSxjQUFBQSxNQUNkLElBQVExTixVQUFjN0csT0FBZDZHLFVBRUpBLFdBQWExQixNQUFNNk4sWUFBWW5NLFlBQ2pDcUwsV0FBVSxPQUFRbFMsT0FBUSxDQUFFdVUsTUFqSFgsRUFxSHJCRCxlQUFpQjVHLFNBQUFBLGVBQUFBLFdBQ2YsSUFBUTdHLFVBQWM3RyxPQUFkNkcsVUFFSkEsV0FBYTFCLE1BQU1pUCxXQUFXdk4sWUFDaENxTCxXQUFVLE9BQVFsUyxPQUFRLENBQUVvWCxRQUF1QixhQUFkMUosV0F6SHBCLEVBNkhyQjRhLFlBQWEsdUJBQ1gsSUFBUXpoQixVQUFjN0csT0FBZDZHLFVBRVIsT0FBSUEsVUFDS3BHLEtBQUs2akIsU0FBU3RrQixPQUFRNkcsV0FFeEIsRUFuSVksRUFzSXJCMk4sWUFBYSx1QkFDWHRDLFdBQVdvWCxXQUFXdHBCLE9BQVEsQ0FBRXVwQixRQUFRLEdBdklyQixFQTBJckI3ZixnQkFBaUIsMkJBQ2Z3SSxXQUFXb1gsV0FBV3RwQixPQUFRLENBQUV1cEIsUUFBUSxHQTNJckIsRUE4SXJCSCxlQUFpQjlFLFNBQUFBLGVBQUFBLFVBQ2ZwUyxXQUFXa1gsZUFBZXBwQixPQUFRc2tCLFNBL0lmLEVBa0pyQm9ILFdBQWFybUIsU0FBQUEsV0FBQUEsTUFDWDZNLFdBQVc0RixZQUFZOVgsT0FBUXFGLEtBbkpaLEVBc0pyQnVQLFdBQWE3VSxTQUFBQSxXQUFBQSxNQUNYLElBQVE4RyxVQUFxQjdHLE9BQXJCNkcsVUFBV3NNLE1BQVVuVCxPQUFWbVQsTUFFbkIsR0FBSXRNLFVBQVcsQ0FDYixHQUFJc00sTUFBTyxDQUNULElBQU05TixLQUFPLGdCQUFILENBQUt0RixNQUFTb1QsT0FDeEJqQixXQUFXNEYsWUFBWTlYLE9BQVFxRixLQUZqQyxNQUlFNk0sV0FBVzBDLFdBQVc1VSxPQUFRRCxNQUdoQ0MsT0FBT21ULE1BQVEsSUFDaEIsQ0FsS2tCLEVBcUtyQndZLGNBQWdCQyxTQUFBQSxjQUFBQSxPQUNkLDJCQUFxQkEsTUFBckIsR0FBT3ZtQixLQUFQLFdBQWFuRixLQUFiLFdBR0EsSUFBSW1FLEtBQUsyVyxPQUFPM1YsTUFLaEIsR0FBSW1CLFFBQVEyQixVQUFVOUMsT0FBa0MsSUFBekJBLEtBQUsxRSxTQUFTeEQsT0FBN0MsQ0FFRStVLFdBQVc0RixZQUFZOVgsT0FEVCxDQUFFRCxLQUFNLElBQ2dCLENBQ3BDMlcsR0FBSXhXLEtBQUtrSSxPQUFPLEdBQ2hCaVEsT0FBTyxHQUdWLE1BZUQsSUFaQSxJQUFNd1QsbUJBQW9CaHJCLE9BQU9pYixTQUFTelcsUUFFdENtQixRQUFRMkIsVUFBVTlDLFFBQ2pCckYsT0FBT1ksU0FBU3lFLE9BQ1UsSUFBekJBLEtBQUsxRSxTQUFTeEQsUUFDZGtILEtBQUsyVyxPQUFPM1YsS0FBSzFFLFNBQVMsS0FDMUJYLE9BQU9ZLFNBQVN5RSxLQUFLMUUsU0FBUyxNQUloQzBILEVBQUksRUFFQ3ZMLEVBQUksRUFBR0EsRUFBSXVJLEtBQUsxRSxTQUFTeEQsT0FBUUwsSUFBS3VMLElBQUssQ0FDbEQsSUFBTThRLFlBQWMxWSxLQUFLNEYsSUFBSXJHLE9BQVFFLE1BQ3JDLElBQUltRSxLQUFLMlcsT0FBTzdCLGFBQWhCLENBQ0EsSUFBTXZMLE9BQVF2SSxLQUFLMUUsU0FBUzdELEdBQ3RCcUgsS0FBT2dWLFlBQVl4WSxTQUFTMEgsRUFBSSxHQUNoQ3pJLE9BQVM5QyxJQUFNdUksS0FBSzFFLFNBQVN4RCxPQUFTLEVBUzVDLElBUEVrSCxLQUFLMlcsT0FBT3BOLFNBQ1hwSCxRQUFRMkIsVUFBVXlGLFNBQVU1TixPQUFPWSxTQUFTZ04sV0FNeEJpZSxrQkFDckIzWixXQUFXNFosWUFBWTlyQixPQUFRLENBQUUwVyxHQUFJeFcsS0FBS2tJLE9BQU9DLEdBQUlnUSxPQUFPLElBQzVEaFEsU0FDSyxHQUFJN0IsUUFBUTJCLFVBQVV5RixTQUUzQixHQUFJNU4sT0FBT1ksU0FBU2dOLFFBQ2xCLEdBQVksTUFBUnpKLE1BQWlCRSxLQUFLMlcsT0FBTzdXLE9BTzFCLEdBQUl2RSxPQUFRLENBRWpCc1MsV0FBVzRGLFlBQVk5WCxPQUROLENBQUVELEtBQU0sSUFDZ0IsQ0FDdkMyVyxHQUFJeFcsS0FBS2tJLE9BQU9DLEVBQUksR0FDcEJnUSxPQUFPLElBRVRoUSxHQUNELE1BZHVDLENBRXRDNkosV0FBVzRGLFlBQVk5WCxPQUROLENBQUVELEtBQU0sSUFDZ0IsQ0FDdkMyVyxHQUFJeFcsS0FBS2tJLE9BQU9DLEdBQ2hCZ1EsT0FBTyxJQUVUaFEsR0FORixPQWtCVSxNQUFSbEUsTUFBZ0JFLEtBQUsyVyxPQUFPN1csUUFDMUJFLEtBQUtDLE9BQU9zSixPQUFPekosS0FBTSxDQUFFNG5CLE9BQU8sS0FDcEM3WixXQUFXOFosV0FBV2hzQixPQUFRLENBQUUwVyxHQUFJeFcsS0FBS2tJLE9BQU9DLEdBQUlnUSxPQUFPLElBQzNEaFEsS0FDdUIsS0FBZGxFLEtBQUtwRSxNQUNkbVMsV0FBVzRaLFlBQVk5ckIsT0FBUSxDQUM3QjBXLEdBQUl4VyxLQUFLa0ksT0FBT0MsRUFBSSxHQUNwQmdRLE9BQU8sSUFFVGhRLEtBQ3dCLEtBQWZ1RixPQUFNN04sT0FDZm1TLFdBQVc0WixZQUFZOXJCLE9BQVEsQ0FDN0IwVyxHQUFJeFcsS0FBS2tJLE9BQU9DLEdBQ2hCZ1EsT0FBTyxJQUVUaFEsS0FuRGdDLENBdUR2QyxDQTdQa0IsRUFnUXJCNGpCLFdBQWE3dkIsU0FBQUEsV0FBQUEsS0FDWCxJQUFReUssVUFBYzdHLE9BQWQ2RyxVQUVSLEdBQUlBLFVBQ0YsR0FBSTFCLE1BQU1pUCxXQUFXdk4sV0FDbkJxTCxXQUFXZ2EsV0FBV2xzQixPQUFRNUQsSUFBSyxDQUNqQ3lTLE1BQU94SyxLQUFLMlcsT0FDWmpkLE9BQU8sUUFFSixDQUNMLElBQU1vVixNQUFRLGdCQUFILEdBQVN0UyxPQUFPc1MsTUFBTW5ULFNBQVcsQ0FBQyxVQUN0Q21ULE1BQU0vVyxLQUNiNEQsT0FBT21ULE1BQVFBLE1BQ1YyVyxTQUFTempCLElBQUlyRyxTQUNoQkEsT0FBTzhrQixVQUVWLENBRUosR0FHSCxPQUFPOWtCLE1BQ1IsRUFNRCxJQUFNbXJCLGNBQWlCdFYsU0FBakJzVixjQUFpQnRWLElBQ3JCLE9BQVFBLEdBQUd2RixNQUNULElBQUssY0FDTCxJQUFLLGNBQ0wsSUFBSyxXQUNILElBQVFwUSxLQUFTMlYsR0FBVDNWLEtBQ1IsT0FBT0ksS0FBS29wQixPQUFPeHBCLE1BR3JCLElBQUssY0FDSCxJQUFRbUYsS0FBZXdRLEdBQWZ4USxLQUFNbkYsT0FBUzJWLEdBQVQzVixLQUNSd3BCLE9BQVNwcEIsS0FBS29wQixPQUFPeHBCLFFBQ3JCaXNCLFlBQWM5bkIsS0FBSzJXLE9BQU8zVixNQUM1QixHQUNBK0ksTUFBTUMsS0FBSzVOLEtBQUtnYixNQUFNcFcsT0FBTyxvQkFBSXNCLEVBQUosa0NBQVd6RyxPQUFLa0ksT0FBT3pCLEVBQXBELElBRUosTUFBTyxHQUFQLDBCQUFXK2lCLFFBQVgsbUJBQXNCeUMsY0FHeEIsSUFBSyxhQUNILElBQVFqc0IsT0FBUzJWLEdBQVQzVixLQUNGa3NCLFVBQVk5ckIsS0FBSzhyQixVQUFVbHNCLFFBQzNCbXNCLGFBQWUvckIsS0FBS2tuQixTQUFTdG5CLFFBQ25DLE1BQU8sR0FBUCwwQkFBV2tzQixXQUFYLENBQXNCQyxlQUd4QixJQUFLLFlBQ0gsSUFBUW5zQixPQUFrQjJWLEdBQWxCM1YsS0FBTXluQixRQUFZOVIsR0FBWjhSLFFBRWQsR0FBSXJuQixLQUFLZ0UsT0FBT3BFLE9BQU15bkIsU0FDcEIsTUFBTyxHQUdULElBUGdCLE9BT1YyRSxhQUF1QixHQUN2QkMsYUFBdUIsR0FSYixzQ0FVT2pzQixLQUFLOHJCLFVBQVVsc0IsU0FWdEIsSUFVaEIsSUFBSyxXQUFMLG1DQUE2QyxLQUFsQ3NzQixTQUFrQyxhQUNyQzdsQixFQUFJckcsS0FBS2lxQixVQUFVaUMsU0FBVTNXLElBQ25DeVcsYUFBYXBtQixLQUFLUyxFQUNuQixDQWJlLHNHQWVPckcsS0FBSzhyQixVQUFVekUsVUFmdEIsSUFlaEIsSUFBSyxXQUFMLG1DQUFnRCxLQUFyQzZFLFVBQXFDLGFBQ3hDN2xCLEdBQUlyRyxLQUFLaXFCLFVBQVVpQyxVQUFVM1csSUFDbkMwVyxhQUFhcm1CLEtBQUtTLEdBQ25CLENBbEJlLHFEQW9CaEIsSUFBTThsQixVQUFZRixhQUFhQSxhQUFhcHZCLE9BQVMsR0FDL0N1dkIsU0FBVy9FLFFBQVFBLFFBQVF4cUIsT0FBUyxHQUNwQ3d2QixXQUFhRixVQUFVcmtCLE9BQU9za0IsVUFFcEMsTUFBTyxHQUFQLE9BQVdKLGFBQWlCQyxhQUE1QixDQUEwQ0ksYUFHNUMsSUFBSyxjQUNILElBQVF6c0IsT0FBUzJWLEdBQVQzVixLQUVSLE9BQU8sbUJBRFdJLEtBQUs4ckIsVUFBVWxzQixTQUluQyxJQUFLLGFBQ0gsSUFBUUEsT0FBUzJWLEdBQVQzVixLQUNGd3BCLFFBQVNwcEIsS0FBS29wQixPQUFPeHBCLFFBQ3JCMHNCLFNBQVd0c0IsS0FBSzhELEtBQUtsRSxRQUMzQixNQUFPLEdBQVAsMEJBQVd3cEIsU0FBWCxDQUFtQmtELFdBR3JCLFFBQ0UsTUFBTyxHQW5FYixFckNsVGUsU0FBU2p3Qix5QkFBeUJDLE9BQVFDLFVBQ3ZELEdBQWMsTUFBVkQsT0FBZ0IsTUFBTyxDQUFDLEVBQzVCLElBQ0lSLElBQUtVLEVBRExDLE9DSFMsU0FBU0MsOEJBQThCSixPQUFRQyxVQUM1RCxHQUFjLE1BQVZELE9BQWdCLE1BQU8sQ0FBQyxFQUM1QixJQUVJUixJQUFLVSxFQUZMQyxPQUFTLENBQUMsRUFDVkUsV0FBYVgsT0FBT1ksS0FBS04sUUFHN0IsSUFBS0UsRUFBSSxFQUFHQSxFQUFJRyxXQUFXRSxPQUFRTCxJQUNqQ1YsSUFBTWEsV0FBV0gsR0FDYkQsU0FBU08sUUFBUWhCLE1BQVEsSUFDN0JXLE9BQU9YLEtBQU9RLE9BQU9SLE1BR3ZCLE9BQU9XLE1BQ1QsQ0RWZU0sQ0FBNkJULE9BQVFDLFVBR2xELEdBQUlQLE9BQU9nQixzQkFBdUIsQ0FDaEMsSUFBSUMsaUJBQW1CakIsT0FBT2dCLHNCQUFzQlYsUUFFcEQsSUFBS0UsRUFBSSxFQUFHQSxFQUFJUyxpQkFBaUJKLE9BQVFMLElBQ3ZDVixJQUFNbUIsaUJBQWlCVCxHQUNuQkQsU0FBU08sUUFBUWhCLE1BQVEsR0FDeEJFLE9BQU9rQixVQUFVQyxxQkFBcUJDLEtBQUtkLE9BQVFSLE9BQ3hEVyxPQUFPWCxLQUFPUSxPQUFPUixLQUV4QixDQUVELE9BQU9XLE1BQ1QsQ3NDSk8sSUErTEY4dkIsY0EvTFFDLHFCQUF1QixTQUF2QkEscUJBQXdCQyxTQUFELE9BQWNsVSxNQUFRLFVBQVJBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLElBQUFBLFVBQUFBLEdBQzFDbVUsT0FBU25VLE1BQ1RvVSxXQUFhcFUsTUFBUXFVLHNCQUFzQkgsS0FBT0EsSUFFcEQ1TyxLQUFzQjBPLGNBQWNNLEtBQ3BDaEcsTUFBdUIwRixjQUFjTSxLQUNyQ2hXLFNBQVcsRUFHWGlXLFNBQTJCLEtBVEcsc0NBV2ZILFlBWGUsSUFXbEMsSUFBSyxXQUFMLG1DQUErQixLQUFwQkksTUFBb0IsYUFDdkJDLEtBQU9ELE1BQUtFLFlBQVksR0FDOUIsSUFBS0QsS0FBTSxNQUVYLElBQU1oZCxLQUFPa2QsaUJBQWlCSCxNQUFNQyxNQUpQLHFCQUtaTixNQUFRLENBQUM3RixNQUFPN1csTUFBUSxDQUFDQSxLQUFNNk4sTUFMbkIsR0FPN0IsR0FGRUEsS0FMMkIsU0FLckJnSixNQUxxQixTQVEzQnNHLFdBQVd0UCxLQUFNME8sY0FBY2EsTUFDL0JELFdBQVd0RyxNQUFPMEYsY0FBY2MsV0FHdkJDLGlCQURMWixNQUNzQkQsSUFBSWMsVUFBVSxFQUFHMVcsVUFFakI0VixJQUFJYyxVQUFVLEVBQUdkLElBQUk1dkIsT0FBU2dhLFdBRTdDLE1BR2IsR0FDRXNXLFdBQVd0UCxLQUFNME8sY0FBY2lCLEtBQy9CTCxXQUFXdEcsTUFBTzBGLGNBQWNpQixPQUc5QlYsU0FEZSxPQUFiQSxVQUNVQSxXQUVSSixPQUdTZSx1QkFDVGhCLElBQUljLFVBQVUsRUFBR2QsSUFBSTV2QixPQUFTZ2EsWUFJckIsTUFHakIsR0FDRWdILE9BQVMwTyxjQUFjTSxNQUN2QmhHLFFBQVUwRixjQUFjTSxNQUN4QmEsZUFBZTdQLEtBQU1nSixPQUVyQixNQUdGaFEsVUFBWWtXLE1BQUtsd0IsTUFDbEIsQ0F6RGlDLHFEQTJEbEMsT0FBT2dhLFVBQVksQ0EzRGQsRUE4REQ4VyxNQUFRLEtBQ1JDLFlBQWMscXlDQUNkQyxVQUFZLGtCQU1MQyxnQkFBa0IsU0FBbEJBLGdCQUFtQnJ1QixNQUk5QixRQUo0QzhZLE1BQVEsVUFBUkEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsSUFBQUEsVUFBQUEsR0FDeEN3VixLQUFPLEVBQ1BDLFNBQVUsRUFFUHZ1QixLQUFLNUMsT0FBUyxHQUFHLENBQ3RCLElBQU1veEIsU0FBV3pCLHFCQUFxQi9zQixLQUFNOFksT0FDNUMsc0NBQTBCMlYseUJBQXlCenVCLEtBQU13dUIsU0FBVTFWLE9BQW5FLEdBQU93VSxPQUFQLDBCQUFhb0IsVUFBYiwwQkFFQSxHQUFJQyxnQkFBZ0JyQixPQUFNb0IsVUFBVzVWLE9BQ25DeVYsU0FBVSxFQUNWRCxNQUFRRSxhQUNILElBQUtELFFBR1YsTUFGQUQsTUFBUUUsUUFHVCxDQUVEeHVCLEtBQU8wdUIsU0FDUixDQUVELE9BQU9KLElBcEJGLEVBNEJNRyx5QkFBMkIsU0FBM0JBLHlCQUNYekIsSUFDQXNCLEtBQ0F4VixPQUVBLEdBQUlBLE1BQU8sQ0FDVCxJQUFNbkMsR0FBS3FXLElBQUk1dkIsT0FBU2t4QixLQUN4QixNQUFPLENBQUN0QixJQUFJanNCLE1BQU00VixHQUFJcVcsSUFBSTV2QixRQUFTNHZCLElBQUlqc0IsTUFBTSxFQUFHNFYsSUFDakQsQ0FFRCxNQUFPLENBQUNxVyxJQUFJanNCLE1BQU0sRUFBR3V0QixNQUFPdEIsSUFBSWpzQixNQUFNdXRCLE1BVmpDLEVBa0JESyxnQkFBa0IsU0FBbEJBLGdCQUNKckIsT0FDQW9CLGVBQ0E1VixNQUFRLFVBQVJBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLElBQUFBLFVBQUFBLEdBRUEsR0FBSW9WLE1BQU05dkIsS0FBS2t2QixRQUNiLE9BQU8sRUFLVCxHQUFJYyxVQUFVaHdCLEtBQUtrdkIsUUFBTyxDQUN4QixJQUFNa0IsU0FBV3pCLHFCQUFxQjJCLFVBQVc1VixPQUNqRCxzQ0FBa0MyVix5QkFDaENDLFVBQ0FGLFNBQ0ExVixPQUhGLEdBTUEsR0FBSTZWLGdCQU5KLG9EQU02QzdWLE9BQzNDLE9BQU8sQ0FFVixDQUVELE9BQUlxVixZQUFZL3ZCLEtBQUtrdkIsT0F4QnZCLEVBbUNhSCxzQkFBcUIsNEJBQUcsU0FBeEJBLHNCQUFrQ0gsS0FBVixxSkFDN0JwVyxJQUFNb1csSUFBSTV2QixPQUFTLEVBRWhCTCxFQUFJLEVBSHNCLFlBR25CQSxFQUFJaXdCLElBQUk1dkIsUUFIVywyQkFJM0J3eEIsTUFBUTVCLElBQUl2UyxPQUFPN0QsSUFBTTdaLElBRTNCOHhCLGVBQWVELE1BQU1FLFdBQVcsSUFOSCwyQkFPekJDLE1BQVEvQixJQUFJdlMsT0FBTzdELElBQU03WixFQUFJLElBQy9CaXlCLGdCQUFnQkQsTUFBTUQsV0FBVyxJQVJOLHdCQVM3QixPQVQ2QixnQkFTdkJDLE1BQVFILE1BVGUsY0FXN0I3eEIsSUFYNkIsdUNBZ0JqQyxPQWhCaUMsaUJBZ0IzQjZ4QixNQWhCMkIsUUFHSDd4QixJQUhHLGtFQUF4Qm93QixzQkFBd0IsSUEwQi9CNkIsZ0JBQW1CQyxTQUFuQkQsZ0JBQW1CQyxVQUN2QixPQUFPQSxVQUFZLE9BQVVBLFVBQVksS0FEM0MsRUFVTUosZUFBa0JJLFNBQWxCSixlQUFrQkksVUFDdEIsT0FBT0EsVUFBWSxPQUFVQSxVQUFZLEtBRDNDLEdBSUEsU0FBS25DLGVBQ0hBLGNBQUFBLGNBQUFBLEtBQUFBLEdBQUFBLE9BQ0FBLGNBQUFBLGNBQUFBLE9BQUFBLEdBQUFBLFNBQ0FBLGNBQUFBLGNBQUFBLElBQUFBLEdBQUFBLE1BQ0FBLGNBQUFBLGNBQUFBLEdBQUFBLEdBQUFBLEtBQ0FBLGNBQUFBLGNBQUFBLFFBQUFBLEdBQUFBLFVBQ0FBLGNBQUFBLGNBQUFBLFlBQUFBLElBQUFBLGNBQ0FBLGNBQUFBLGNBQUFBLEVBQUFBLElBQUFBLElBQ0FBLGNBQUFBLGNBQUFBLEVBQUFBLElBQUFBLElBQ0FBLGNBQUFBLGNBQUFBLEVBQUFBLEtBQUFBLElBQ0FBLGNBQUFBLGNBQUFBLEdBQUFBLEtBQUFBLEtBQ0FBLGNBQUFBLGNBQUFBLElBQUFBLEtBQUFBLE1BQ0FBLGNBQUFBLGNBQUFBLFFBQUFBLE1BQUFBLFVBQ0FBLGNBQUFBLGNBQUFBLElBQUFBLE1BQUFBLEtBYkYsRUFBS0EsZ0JBQUFBLGNBQWEsS0FnQmxCLElBQU1vQyxTQUFXLDhuSEFDWEMsVUFBWSxrSkFDWkMsY0FBZ0IsK2xEQUNoQkMsSUFBTSxpQ0FDTkMsSUFBTSxpQ0FDTkMsSUFBTSxpQ0FDTkMsS0FBTyxpMkVBQ1BDLE1BQVEsMGtLQUNSQyxVQUFZLHF5QkFFWmpDLGlCQUFtQixTQUFuQkEsaUJBQW9CSCxPQUFjQyxNQUN0QyxJQUFJaGQsS0FBT3VjLGNBQWM2QyxJQW1DekIsT0FsQytCLElBQTNCckMsT0FBS3NDLE9BQU9WLFlBQ2QzZSxNQUFRdWMsY0FBYytDLFFBRVgsT0FBVHRDLE9BQ0ZoZCxNQUFRdWMsY0FBY2EsS0FFcEJKLE1BQVEsUUFBV0EsTUFBUSxTQUM3QmhkLE1BQVF1YyxjQUFjaUIsS0FFUSxJQUE1QlQsT0FBS3NDLE9BQU9ULGFBQ2Q1ZSxNQUFRdWMsY0FBY2dELFVBRVksSUFBaEN4QyxPQUFLc0MsT0FBT1IsaUJBQ2Q3ZSxNQUFRdWMsY0FBY2lELGNBRUUsSUFBdEJ6QyxPQUFLc0MsT0FBT1AsT0FDZDllLE1BQVF1YyxjQUFja0QsSUFFRSxJQUF0QjFDLE9BQUtzQyxPQUFPTixPQUNkL2UsTUFBUXVjLGNBQWNtRCxJQUVFLElBQXRCM0MsT0FBS3NDLE9BQU9MLE9BQ2RoZixNQUFRdWMsY0FBY29ELElBRUcsSUFBdkI1QyxPQUFLc0MsT0FBT0osUUFDZGpmLE1BQVF1YyxjQUFjcUQsS0FFSSxJQUF4QjdDLE9BQUtzQyxPQUFPSCxTQUNkbGYsTUFBUXVjLGNBQWNzRCxNQUVRLElBQTVCOUMsT0FBS3NDLE9BQU9GLGFBQ2RuZixNQUFRdWMsY0FBY2MsU0FHakJyZCxJQXBDVCxFQXVDQSxTQUFTbWQsV0FBVzVQLEVBQWtCRSxHQUNwQyxTQUFRRixFQUFJRSxFQUNiLENBRUQsSUFBTXFTLGlCQUFxRCxDQUV6RCxDQUNFdkQsY0FBY2tELEVBQ2RsRCxjQUFja0QsRUFBSWxELGNBQWNtRCxFQUFJbkQsY0FBY3FELEdBQUtyRCxjQUFjc0QsS0FHdkUsQ0FBQ3RELGNBQWNxRCxHQUFLckQsY0FBY21ELEVBQUduRCxjQUFjbUQsRUFBSW5ELGNBQWNvRCxHQUVyRSxDQUFDcEQsY0FBY3NELElBQU10RCxjQUFjb0QsRUFBR3BELGNBQWNvRCxHQUVwRCxDQUFDcEQsY0FBYzZDLElBQUs3QyxjQUFjK0MsT0FBUy9DLGNBQWNhLEtBRXpELENBQUNiLGNBQWM2QyxJQUFLN0MsY0FBY2lELGFBRWxDLENBQUNqRCxjQUFjZ0QsUUFBU2hELGNBQWM2QyxLQUV0QyxDQUFDN0MsY0FBY2EsSUFBS2IsY0FBY2MsU0FFbEMsQ0FBQ2QsY0FBY2lCLEdBQUlqQixjQUFjaUIsS0FHbkMsU0FBU0UsZUFBZTdQLEtBQXFCZ0osT0FDM0MsT0FHUyxJQUZQaUosaUJBQWlCQyxXQUNmdEksU0FBQUEsR0FBQyxPQUFJMEYsV0FBV3RQLEtBQU00SixFQUFFLEtBQU8wRixXQUFXdEcsTUFBT1ksRUFBRSxHQUFsRCxHQUdOLENBRUQsSUFBTXVJLGVBQWlCLG82SUFDakIxQyxpQkFBb0JiLFNBQXBCYSxpQkFBb0JiLEtBQ3hCLE9BQXVDLElBQWhDQSxJQUFJNEMsT0FBT1csZUFEcEIsRUFJTUMsVUFBWSwrQkFDWnhDLHVCQUEwQmhCLFNBQTFCZ0IsdUJBQTBCaEIsS0FDOUIsSUFBTWxlLE1BQVFrZSxJQUFJbGUsTUFBTTBoQixXQUN4QixPQUFjLE9BQVYxaEIsT0FJYUEsTUFBTSxHQUFHMVIsT0FBUyxFQUNqQixHQUFNLENBUDFCLEVDdlJNZ0wsVUFBYTlMLFNBQWI4TCxVQUFhOUwsT0FDakIsT0FDRW0wQixFQUFBQSxlQUFBQSxlQUFjbjBCLFFBQ2RvRSxLQUFLd2tCLFdBQVc1b0IsTUFBTXNFLFlBQ3JCRSxPQUFPaWIsU0FBU3pmLE1BSnJCLEVBUWFtSyxRQUE0QixDQUt2Q2lxQixXQUx1QyxvQkFLNUJwMEIsT0FDVCxPQUFPbTBCLEVBQUFBLGVBQUFBLGVBQWNuMEIsUUFBVW9FLEtBQUt3a0IsV0FBVzVvQixNQUFNc0UsU0FOaEIsRUFhdkN3SCxVQUtBdW9CLGNBbEJ1Qyx1QkFrQnpCcjBCLE9BQ1osT0FBTytSLE1BQU11aUIsUUFBUXQwQixRQUFVQSxNQUFNcUksT0FBTWtzQixTQUFBQSxLQUFHLE9BQUlwcUIsUUFBUTJCLFVBQVV5b0IsSUFBdEIsR0FuQlQsRUEwQnZDQyxlQTFCdUMsd0JBMEJ4Qmx4QixPQUNiLFlBQWdEN0QsSUFBeEM2RCxNQUEyQmdCLFFBM0JFLEVBbUN2Q213QixjQUFlLHVCQUNiejBCLE1BQ0EwMEIsZ0JBQ0FDLFdBQUFBLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQXFCLE9BRXJCLE9BQU83b0IsVUFBVTlMLFFBQVVBLE1BQU0yMEIsY0FBZ0JELFVBeENaLEVBa0R2QzFKLFFBbER1QyxpQkFrRC9CNWdCLFFBQWtCOUcsT0FDeEIsSUFBSyxJQUFNdkQsT0FBT3VELE1BQ2hCLEdBQVksYUFBUnZELEtBSUFxSyxRQUFRckssT0FBU3VELE1BQU12RCxLQUN6QixPQUFPLEVBSVgsT0FBTyxDQUNSLHMxQkNpT0gsSUFBTTYwQixnQkFBa0IsSUFBSTF2QixRQUVmVixPQUEwQixDQUtyQzRWLE1BTHFDLGVBTW5DelcsWUFDQTBjLFFBQUFBLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQWlDLENBQUMsRUFFbEMsZUFLSUEsUUFKRnJFLE1BQUFBLFdBREYsaURBS0lxRSxRQUhGbEYsS0FBQUEsVUFGRixrQkFFUyxTQUZULDBCQUtJa0YsUUFGRmhHLEdBQUFBLFFBSEYsZ0JBR08xVyxPQUFPNkcsVUFIZCxZQUlFZ0ksTUFDRTZOLFFBREY3TixNQUdGLEdBQUs2SCxHQUFMLENBSUEsSUFmRyxPQWVHeFcsS0FBT1csT0FBT1gsS0FBS0YsT0FBUTBXLElBQzNCVSxRQUFtQixXQUFUSSxLQWhCYixzQ0FrQmtCM1csT0FBTzZvQixPQUFPMXBCLE9BQVEsQ0FDekMwVyxHQUFJeFcsS0FDSm1ZLE1BQ0F4SixNQUNBdUksV0F0QkMsSUFrQkgsSUFBSyxXQUFMLG1DQUtJLGlEQUxRL08sRUFLUixnQkFMVzFCLEVBS1gsZ0JBQ0YsSUFBS3RDLEtBQUsyVyxPQUFPM1MsS0FBTy9ILEtBQUtnRSxPQUFPcEUsS0FBTXlHLEdBQ3hDLE1BQU8sQ0FBQzBCLEVBQUcxQixFQUVkLENBM0JFLHFEQWFGLENBbEJrQyxFQTBDckM2a0IsUUExQ3FDLGlCQTBDN0J4ckIsT0FBZ0I1RCxJQUFhQyxPQUNuQzJELE9BQU93ckIsUUFBUXB2QixJQUFLQyxNQTNDZSxFQWtEckN1YixNQWxEcUMsZUFtRG5DNVgsT0FDQTBXLFFBUUkzWixPQVZELFFBR0gyZixRQUFBQSxVQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxVQUFBQSxHQUFBQSxVQUFBQSxHQUE4QixDQUFDLEVBSXpCM1gsTUFBUSxDQUFFa08sT0FGRHBTLE9BQU84VyxNQUFNM1gsT0FBUTBXLEdBQUksQ0FBRXVDLEtBQU0sUUFFeEJ0SCxNQURWOVEsT0FBTzhWLElBQUkzVyxPQUFRLEtBRWpDLGtCQUF5QjBjLFFBQWpCdkYsU0FBQUEsY0FBUixzQkFBbUIsRUFBbkIsa0JBQ0l6TyxFQUFJLEVBVEwsdUNBWWE3SCxPQUFPcW1CLFVBQVVsbkIsT0FBakJhLGdCQUFBQSxnQkFBQUEsQ0FBQUEsRUFDWDZiLFNBRFcsSUFFZGhHLEdBQUkzUixVQWRILElBWUgsSUFBSyxZQUFMLHFDQUdJLEtBSE80QixFQUdQLGNBQ0YsR0FBSStCLEVBQUl5TyxTQUNOLE1BR1EsSUFBTnpPLElBQ0YzTCxPQUFTNEosR0FHWCtCLEdBQ0QsQ0F6QkUsdURBMkJILE9BQU8zTCxNQTdFNEIsRUFvRnJDc2hCLE9BcEZxQyxnQkFxRm5DcmUsT0FDQTBXLFFBUUkzWixPQVZBLFFBR0oyZixRQUFBQSxVQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxVQUFBQSxHQUFBQSxVQUFBQSxHQUErQixDQUFDLEVBSTFCM1gsTUFBUSxDQUFFa08sT0FGRHBTLE9BQU9vVSxNQUFNalYsT0FBUSxJQUVaMlIsTUFEVjlRLE9BQU84VyxNQUFNM1gsT0FBUTBXLEdBQUksQ0FBRXVDLEtBQU0sV0FFL0MsbUJBQXlCeUQsUUFBakJ2RixTQUFBQSxjQUFSLHVCQUFtQixFQUFuQixtQkFDSXpPLEVBQUksRUFUSix1Q0FZWTdILE9BQU9xbUIsVUFBVWxuQixPQUFqQmEsZ0JBQUFBLGdCQUFBQSxDQUFBQSxFQUNYNmIsU0FEVyxJQUVkaEcsR0FBSTNSLE1BQ0pxUyxTQUFTLE1BZlAsSUFZSixJQUFLLFlBQUwscUNBSUksS0FKT3pRLEVBSVAsY0FDRixHQUFJK0IsRUFBSXlPLFNBQ04sTUFHUSxJQUFOek8sSUFDRjNMLE9BQVM0SixHQUdYK0IsR0FDRCxDQTFCRyx1REE0QkosT0FBTzNMLE1BaEg0QixFQXVIckNzTSxlQXZIcUMsd0JBd0huQ3JKLFlBR0EsZUFGQTBjLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQXlDLENBQUMsR0FFbENuSSxLQUFBQSxVQUFSLGtCQUFlLFlBQWYsY0FDQXZVLE9BQU9xSixlQUFla0wsS0E1SGEsRUFtSXJDakwsY0FuSXFDLHVCQW9JbkN0SixZQUdBLGdCQUZBMGMsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBeUMsQ0FBQyxHQUVsQ25JLEtBQUFBLFVBQVIsbUJBQWUsWUFBZixlQUNBdlUsT0FBT3NKLGNBQWNpTCxLQXhJYyxFQStJckNELGVBL0lxQyx3QkFnSm5DdFUsWUFHQSxvQkFGQTBjLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQXlDLENBQUMsR0FFbENoUCxVQUFBQSxlQUFSLHVCQUFvQixVQUFwQixtQkFDQTFOLE9BQU9zVSxlQUFlNUcsVUFwSmEsRUEySnJDa2EsTUEzSnFDLGVBMkovQjVuQixPQUFnQjBXLElBQ3BCLE1BQU8sQ0FBQzdWLE9BQU9vVSxNQUFNalYsT0FBUTBXLElBQUs3VixPQUFPOFYsSUFBSTNXLE9BQVEwVyxJQTVKbEIsRUFtS3JDQyxJQW5LcUMsYUFtS2pDM1csT0FBZ0IwVyxJQUNsQixPQUFPN1YsT0FBTzhXLE1BQU0zWCxPQUFRMFcsR0FBSSxDQUFFdUMsS0FBTSxPQXBLTCxFQTJLckNpWSxNQTNLcUMsZUEySy9CbHhCLE9BQWdCMFcsSUFDcEIsSUFBTXhXLEtBQU9XLE9BQU9YLEtBQUtGLE9BQVEwVyxHQUFJLENBQUV1QyxLQUFNLFVBQzdDLE9BQU9wWSxPQUFPd0UsS0FBS3JGLE9BQVFFLEtBN0tRLEVBb0xyQ29rQixTQXBMcUMsa0JBb0w1QnRrQixPQUFnQjBXLElBQ3ZCLElBQU0zUixNQUFRbEUsT0FBT2tFLE1BQU0vRSxPQUFRMFcsSUFDN0I0TixTQUFXN2pCLEtBQUs2akIsU0FBU3RrQixPQUFRK0UsT0FDdkMsT0FBT3VmLFFBdkw0QixFQTZMckM2TSxVQTdMcUMsbUJBNkwzQm54QixPQUFnQnlHLFNBQ3hCLE9BQU9BLFFBQVE5RixTQUFTa2dCLE1BQUt4WSxTQUFBQSxHQUFDLE9BQUl4SCxPQUFPMFYsUUFBUXZXLE9BQVFxSSxFQUEzQixHQTlMSyxFQXFNckNwQixXQXJNcUMsb0JBcU0xQmpILE9BQWdCeUcsU0FDekIsT0FBT0EsUUFBUTlGLFNBQVNrZ0IsTUFDdEJ4WSxTQUFBQSxHQUFDLE9BQUloRSxLQUFLMlcsT0FBTzNTLElBQU14SCxPQUFPRCxTQUFTWixPQUFRcUksRUFBOUMsR0F2TWdDLEVBK01yQytvQixTQS9NcUMsa0JBK001QnB4QixPQUFnQnlHLFNBQ3ZCLE9BQU9BLFFBQVE5RixTQUFTK0QsT0FBTTJELFNBQUFBLEdBQUMsT0FBSWhFLEtBQUsyVyxPQUFPM1MsRUFBaEIsR0FoTkksRUF5TnJDbU0sWUF6TnFDLHFCQXlOekJ4VSxRQUNWQSxPQUFPd1UsYUExTjRCLEVBbU9yQzlLLGdCQW5PcUMseUJBbU9yQjFKLFFBQ2RBLE9BQU8wSixpQkFwTzRCLEVBNk9yQzBmLGVBN09xQyx3QkE2T3RCcHBCLE9BQWdCc2tCLFVBQzdCdGtCLE9BQU9vcEIsZUFBZTlFLFNBOU9hLEVBdVByQ29ILFdBdlBxQyxvQkF1UDFCMXJCLE9BQWdCcUYsTUFDekJyRixPQUFPMHJCLFdBQVdybUIsS0F4UGlCLEVBaVFyQ3VQLFdBalFxQyxvQkFpUTFCNVUsT0FBZ0JELE1BQ3pCQyxPQUFPNFUsV0FBVzdVLEtBbFFpQixFQXlRckN3VyxRQXpRcUMsaUJBeVE3QnZXLE9BQWdCM0QsT0FDdEIsT0FBT21LLFFBQVEyQixVQUFVOUwsU0FBVzJELE9BQU9ZLFNBQVN2RSxNQTFRakIsRUFpUnJDeWYsU0FqUnFDLGtCQWlSNUJ6ZixPQUNQLEtBQUttMEIsRUFBQUEsZUFBQUEsZUFBY24wQixPQUFRLE9BQU8sRUFDbEMsSUFBTWcxQixlQUFpQkosZ0JBQWdCNXFCLElBQUloSyxPQUMzQyxRQUF1QlAsSUFBbkJ1MUIsZUFDRixPQUFPQSxlQUVULElBQU12VixTQUNxQixtQkFBbEJ6ZixNQUFNbXZCLFNBQ1UsbUJBQWhCbnZCLE1BQU1xcUIsT0FDbUIsbUJBQXpCcnFCLE1BQU1nTixnQkFDa0IsbUJBQXhCaE4sTUFBTWlOLGVBQ21CLG1CQUF6QmpOLE1BQU1pWSxnQkFDZ0IsbUJBQXRCalksTUFBTW1ZLGFBQ29CLG1CQUExQm5ZLE1BQU1xTixpQkFDbUIsbUJBQXpCck4sTUFBTStzQixnQkFDZSxtQkFBckIvc0IsTUFBTXF2QixZQUNlLG1CQUFyQnJ2QixNQUFNdVksWUFDYSxtQkFBbkJ2WSxNQUFNdUUsVUFDVyxtQkFBakJ2RSxNQUFNa0UsUUFDa0IsbUJBQXhCbEUsTUFBTXN2QixlQUNhLG1CQUFuQnR2QixNQUFNeW9CLFVBQ2UsbUJBQXJCem9CLE1BQU00dkIsYUFDSSxPQUFoQjV2QixNQUFNOFcsUUFBa0JxZCxFQUFBQSxlQUFBQSxlQUFjbjBCLE1BQU04VyxVQUN4QixPQUFwQjlXLE1BQU13SyxXQUFzQjFCLE1BQU1tc0IsUUFBUWoxQixNQUFNd0ssYUFDakRwRyxLQUFLd2tCLFdBQVc1b0IsTUFBTXNFLFdBQ3RCNHdCLFVBQVVDLGdCQUFnQm4xQixNQUFNK3RCLFlBRWxDLE9BREE2RyxnQkFBZ0J2ckIsSUFBSXJKLE1BQU95ZixVQUNwQkEsUUE1UzRCLEVBbVRyQ3BFLE1BblRxQyxlQW1UL0IxWCxPQUFnQjJYLE1BQWNqQixJQUNsQyxJQUFNQyxJQUFNOVYsT0FBTzhWLElBQUkzVyxPQUFRMFcsSUFDL0IsT0FBTythLE1BQU1udEIsT0FBT3FULE1BQU9oQixJQXJUUSxFQTRUckMrYSxPQTVUcUMsZ0JBNFQ5QjF4QixPQUFnQjJYLE1BQWNqQixJQUNuQyxPQUFPN1YsT0FBTzh3QixRQUFRM3hCLE9BQVEyWCxNQUFPakIsS0FBTzdWLE9BQU82VyxNQUFNMVgsT0FBUTJYLE1BQU9qQixHQTdUckMsRUFvVXJDa2IsUUFwVXFDLGlCQW9VN0I1eEIsT0FBZ0J5RyxTQUN0QixJQUFROUYsU0FBYThGLFFBQWI5RixTQUNEdXdCLE1BQVAsZUFBZ0J2d0IsU0FBaEIsTUFDQSxPQUNzQixJQUFwQkEsU0FBU3hELFFBQ1ksSUFBcEJ3RCxTQUFTeEQsUUFDUmtILEtBQUsyVyxPQUFPa1csUUFDRyxLQUFmQSxNQUFNbnhCLE9BQ0xDLE9BQU9PLE9BQU9rRyxRQTVVZ0IsRUFvVnJDN0YsU0FwVnFDLGtCQW9WNUJaLE9BQWdCM0QsT0FDdkIsT0FBT21LLFFBQVEyQixVQUFVOUwsUUFBVTJELE9BQU9ZLFNBQVN2RSxNQXJWaEIsRUE0VnJDdzFCLGNBNVZxQyx1QkE0VnZCN3hCLFFBQ1osSUFBTTZ4QixjQUFnQjlILFlBQVkxakIsSUFBSXJHLFFBQ3RDLFlBQXlCbEUsSUFBbEIrMUIsZUFBcUNBLGFBOVZULEVBcVdyQ0YsUUFyV3FDLGlCQXFXN0IzeEIsT0FBZ0IyWCxNQUFjakIsSUFFcEMsR0FBcUIsSUFBakJpQixNQUFNekUsT0FDUixPQUFPLEVBR1QsSUFBTStCLE1BQVFwVSxPQUFPb1UsTUFBTWpWLE9BQVEwVyxJQUNuQyxPQUFPK2EsTUFBTW50QixPQUFPcVQsTUFBTzFDLE1BNVdRLEVBbVhyQzFVLE9BblhxQyxnQkFtWDlCUCxPQUFnQjNELE9BQ3JCLE9BQU9tSyxRQUFRMkIsVUFBVTlMLFFBQVUyRCxPQUFPTyxPQUFPbEUsTUFwWGQsRUEyWHJDeTFCLEtBM1hxQyxjQTJYaEM5eEIsT0FBZ0IwVyxJQUNuQixJQUFNeFcsS0FBT1csT0FBT1gsS0FBS0YsT0FBUTBXLEdBQUksQ0FBRXVDLEtBQU0sUUFDN0MsT0FBT3BZLE9BQU93RSxLQUFLckYsT0FBUUUsS0E3WFEsRUFvWXJDTCxLQXBZcUMsY0FxWW5DRyxPQUNBMFcsUUFDQWdHLFFBQUFBLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQTZCLENBQUMsRUFFeEJ4YyxLQUFPVyxPQUFPWCxLQUFLRixPQUFRMFcsR0FBSWdHLFNBRXJDLE1BQU8sQ0FETWpjLEtBQUtaLEtBQUtHLE9BQVFFLE1BQ2pCQSxLQTNZcUIsRUFrWnBDd3BCLE9BbFpvQyxnQkFtWm5DMXBCLFFBREYsdVZBRUUwYyxRQUFBQSxXQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxXQUFBQSxHQUFBQSxXQUFBQSxHQUFrQyxDQUFDLEdBRTNCaEcsR0FBQUEsUUFKVixpQkFJZTFXLE9BQU82RyxVQUp0Qiw4QkFJb0U2VixRQUFuQ3RGLFFBQUFBLGFBSmpDLHVEQUlvRXNGLFFBQWxCckUsTUFBQUEsV0FKbEQscUNBT2UsT0FGUHhKLE1BQVU2TixRQUFWN04sU0FHSkEsTUFBUSx3QkFBTSxDQUFOLEdBR0w2SCxHQVhQLGlFQWVRZ1QsT0FBeUIsR0FDekJ4cEIsS0FBT1csT0FBT1gsS0FBS0YsT0FBUTBXLElBaEJuQyx1Q0FrQnVCalcsS0FBS2lwQixPQUFPMXBCLE9BQVFFLE9BbEIzQyxxSkFrQmNtSSxFQWxCZCxpQkFrQmlCMUIsRUFsQmpCLGlCQW1CU2tJLE1BQU14RyxFQUFHMUIsR0FuQmxCLDJFQXVCSStpQixPQUFPeGpCLEtBQUssQ0FBQ21DLEVBQUcxQixJQUVYMFIsUUFBU3hYLE9BQU9OLE9BQU9QLE9BQVFxSSxHQXpCeEMsaVNBa0NFLE9BSkkrTyxTQUNGc1MsT0FBT3RTLFVBR1Qsd0JBQU9zUyxPQUFQLFNBbENGLDhFQWxacUMsRUEyYnJDdlcsTUEzYnFDLGVBMmIvQm5ULFFBQ0osSUFBUW1ULE1BQXFCblQsT0FBckJtVCxNQUFPdE0sVUFBYzdHLE9BQWQ2RyxVQUVmLElBQUtBLFVBQ0gsT0FBTyxLQUdULEdBQUlzTSxNQUNGLE9BQU9BLE1BR1QsR0FBSWhPLE1BQU1pUCxXQUFXdk4sV0FBWSxDQUMvQixJQUFPZ0ksTUFBUCxlQUFnQmhPLE9BQU80YSxNQUFNemIsT0FBUSxDQUFFNk8sTUFBT3hLLEtBQUsyVyxTQUFuRCxNQUVBLE9BQUluTSxNQUVGLHlCQURBLGVBQWVBLE1BQWYsTUFDQSxhQUdPLENBQUMsQ0FFWCxDQUVELElBQVFvRSxPQUFXcE0sVUFBWG9NLE9BQ0EvUyxLQUFTK1MsT0FBVC9TLEtBQ0htRixLQUFMLGVBQWF4RSxPQUFPaEIsS0FBS0csT0FBUUUsTUFBakMsTUFFQSxHQUFzQixJQUFsQitTLE9BQU9DLE9BQWMsQ0FDdkIsSUFBTS9PLEtBQU90RCxPQUFPMm1CLFNBQVN4bkIsT0FBUSxDQUFFMFcsR0FBSXhXLEtBQU0yTyxNQUFPeEssS0FBSzJXLFNBQ3ZEeEUsTUFBUTNWLE9BQU80VixNQUFNelcsT0FBUSxDQUNqQzZPLE1BQU94RyxTQUFBQSxNQUFBQSxHQUFDLE9BQUl4SCxPQUFPMFYsUUFBUXZXLE9BQVFxSSxFQUEzQixJQUdWLEdBQUlsRSxNQUFRcVMsTUFBTyxDQUNqQiwwQkFBNkJyUyxLQUE3QixHQUFPNHRCLFNBQVAsVUFBaUJ4SyxTQUFqQixVQUNTalIsVUFBVCxlQUFzQkUsTUFBdEIsTUFFSWxXLEtBQUttd0IsV0FBV25hLFVBQVdpUixZQUM3QmxpQixLQUFPMHNCLFNBRVYsQ0FDRixDQUdELE9BREEseUJBQTBCMXNCLEtBQTFCLGFBdGVtQyxFQThlckNqQixLQTllcUMsY0ErZW5DcEUsWUFDQTBjLFFBQUFBLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQWdDLENBQUMsRUFFakMsZUFBMkNBLFFBQW5DbEYsS0FBQUEsVUFBUixtQkFBZSxTQUFmLCtCQUEyQ2tGLFFBQWxCckUsTUFBQUEsV0FBekIscUNBQ014SixNQUFpQzZOLFFBQWpDN04sTUFBTixhQUF1QzZOLFFBQTFCaEcsR0FBQUEsUUFBYixpQkFBa0IxVyxPQUFPNkcsVUFBekIsYUFFQSxHQUFLNlAsR0FBTCxDQUlBLElBQU1zYixtQkFBcUJueEIsT0FBTytXLE1BQU01WCxPQUFRMFcsR0FBSSxDQUFFMkIsUUFFdEQsR0FBSzJaLG1CQUFMLENBRUEsSUFBU0MsR0FBVCxlQUFlcHhCLE9BQU9peEIsS0FBSzl4QixPQUFRLElBQW5DLE1BRU1vb0IsS0FBYSxDQUFDNEosbUJBQW1COXhCLEtBQU0reEIsSUFFN0MsR0FBSTN4QixLQUFLNHhCLE9BQU94YixLQUFxQixJQUFkQSxHQUFHdlosT0FDeEIsTUFBTSxJQUFJcEMsTUFBSixnREFHUixHQUFhLE1BQVQ4VCxNQUNGLEdBQUl2TyxLQUFLNHhCLE9BQU94YixJQUFLLENBQ25CLElBQU81VyxPQUFQLGVBQWlCZSxPQUFPZixPQUFPRSxPQUFRMFcsSUFBdkMsTUFDQTdILE1BQVF4RyxTQUFBQSxNQUFBQSxHQUFDLE9BQUl2SSxPQUFPYSxTQUFTZ2MsU0FBU3RVLEVBQTdCLENBRlgsTUFJRXdHLE1BQVEsd0JBQU0sQ0FBTixFQUlaLElBQU96SyxLQUFQLGVBQWV2RCxPQUFPNGEsTUFBTXpiLE9BQVEsQ0FBRTBXLEdBQUkwUixLQUFNdlosTUFBTzJJLEtBQU1hLFFBQTdELE1BQ0EsT0FBT2pVLElBcEJ3QixDQUo5QixDQXZma0MsRUFzaEJyQ2lCLEtBdGhCcUMsY0F1aEJuQ3JGLE9BQ0EwVyxRQUNBZ0csUUFBQUEsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBNkIsQ0FBQyxFQUV4QnhjLEtBQU9XLE9BQU9YLEtBQUtGLE9BQVEwVyxHQUFJZ0csU0FDL0JyWCxLQUFPNUUsS0FBSzRGLElBQUlyRyxPQUFRRSxNQUM5QixNQUFPLENBQUNtRixLQUFNbkYsS0E3aEJxQixFQW9pQnBDdWIsTUFwaUJvQyxlQXFpQm5DemIsUUFERiw4YkFFRTBjLFFBQUFBLFlBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFlBQUFBLEdBQUFBLFlBQUFBLEdBQWlDLENBQUMsR0FHaENoRyxHQUFBQSxRQUxKLGlCQUtTMVcsT0FBTzZHLFVBTGhCLDRCQVVNNlYsUUFKRmxGLEtBQUFBLFVBTkosbUJBTVcsTUFOWCxrQ0FVTWtGLFFBSEZ5VixVQUFBQSxlQVBKLDZEQVVNelYsUUFGRnRGLFFBQUFBLGFBUkoseURBVU1zRixRQURGckUsTUFBQUEsV0FUSixzQ0FXUXhKLE1BQVU2TixRQUFWN04sU0FHSkEsTUFBUSx3QkFBTSxDQUFOLEdBR0w2SCxHQWpCUCxpRUF3Qk0wYixLQUFLQyxPQUFPM2IsS0FDZHJJLEtBQU9xSSxHQUFHLEdBQ1Z1YixHQUFLdmIsR0FBRyxLQUVGd2EsTUFBUXJ3QixPQUFPWCxLQUFLRixPQUFRMFcsR0FBSSxDQUFFdUMsS0FBTSxVQUN4QzZZLEtBQU9qeEIsT0FBT1gsS0FBS0YsT0FBUTBXLEdBQUksQ0FBRXVDLEtBQU0sUUFDN0M1SyxLQUFPK0ksUUFBVTBhLEtBQU9aLE1BQ3hCZSxHQUFLN2EsUUFBVThaLE1BQVFZLE1BR25CUSxZQUFjN3hCLEtBQUtnYixNQUFNemIsT0FBUSxDQUNyQ29YLFFBQ0EvSSxLQUNBNGpCLEdBQ0FNLEtBQU0sd0JBQUVscUIsRUFBRixpQ0FBVWdRLE9BQWdCeFgsT0FBT04sT0FBT1AsT0FBUXFJLEVBQWhELElBR0ZnZixRQUEwQixHQXpDbEMsdUNBNEM2QmlMLGFBNUM3QixzSkE0Q2NqdEIsS0E1Q2QsaUJBNENvQm5GLEtBNUNwQixpQkE2Q1VzeUIsUUFBVUMsS0FBc0MsSUFBL0JueUIsS0FBS295QixRQUFReHlCLEtBQU11eUIsSUFBSSxJQUdqQyxZQUFUamIsT0FBc0JnYixRQWhEOUIsMkVBb0RTM2pCLE1BQU14SixLQUFNbkYsTUFwRHJCLDZCQXdEVWl5QixXQUFjSyxVQUFXbnVCLEtBQUsyVyxPQUFPM1YsTUF4RC9DLHFIQWdFaUIsV0FBVG1TLE9BQXFCZ2IsUUFoRTdCLGdDQWlFTUMsSUFBTSxDQUFDcHRCLEtBQU1uRixNQWpFbkIsNkNBc0VVeXlCLEtBQ0ssV0FBVG5iLEtBQW9CaWIsSUFBTSxDQUFDcHRCLEtBQU1uRixPQXZFdkMsNkJBMEVVaXlCLFVBMUVWLHlCQTJFUTlLLFFBQVFuaEIsS0FBS3lzQixNQTNFckIsZ0NBNkVRLE9BN0VSLGtCQTZFY0EsS0E3RWQsUUFpRklGLElBQU0sQ0FBQ3B0QixLQUFNbkYsTUFqRmpCLHdPQXFGZSxXQUFUc1gsT0FBcUJpYixJQXJGM0IsNkJBc0ZRTixVQXRGUix5QkF1Rk05SyxRQUFRbmhCLEtBQUt1c0IsS0F2Rm5CLGdDQXlGTSxPQXpGTixrQkF5RllBLElBekZaLFlBK0ZNTixVQS9GTix5QkFnR0ksK0JBQU85SyxRQUFQLFNBaEdKLGdGQXBpQnFDLEVBMm9CckMrRCxVQTNvQnFDLG1CQTJvQjNCcHJCLFlBQ1IsZ0JBRHdCMGMsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBa0MsQ0FBQyxHQUNuRGtXLE1BQUFBLFdBQVIsbUNBQ016SCxjQUFpQm5yQixTQUFqQm1yQixjQUFpQm5yQixRQUNyQixPQUFPNHBCLFlBQVl2akIsSUFBSXJHLFNBQVcsRUFEcEMsRUFRTTZ5QixhQUFnQjd5QixTQUFoQjZ5QixhQUFnQjd5QixRQUNwQixJQUFNRSxLQUFPaXJCLGNBQWNuckIsUUFBUTh5QixNQUM3QjEyQixJQUFNOEQsS0FBSzhxQixLQUFLLEtBRXRCLE9BUndCaHJCLFNBQXBCK3lCLGlCQUFvQi95QixRQUN4QixPQUFPNnBCLGdCQUFnQnhqQixJQUFJckcsU0FBVyxJQUFJOGlCLEdBRDVDLENBT0VpUSxDQUFpQi95QixRQUFqQit5QixPQUFnQzMyQixLQUN6QjhELElBSlQsRUFPQSxHQUFLVyxPQUFPZ3hCLGNBQWM3eEIsUUFBMUIsQ0FJQSxHQUFJNHlCLE1BQU8sQ0FDVCxJQUFNSSxTQUFXNWtCLE1BQU1DLEtBQUs1TixLQUFLZ2IsTUFBTXpiLFNBQVMsaURBQS9CLElBQ1hpekIsWUFBYyxJQUFJblEsSUFBSWtRLFNBQVNFLEtBQUl2c0IsU0FBQUEsR0FBQyxPQUFJQSxFQUFFcWtCLEtBQUssSUFBWCxLQUMxQ3BCLFlBQVlsa0IsSUFBSTFGLE9BQVFnekIsVUFDeEJuSixnQkFBZ0Jua0IsSUFBSTFGLE9BQVFpekIsWUFDN0IsQ0FFb0MsSUFBakM5SCxjQUFjbnJCLFFBQVE3QyxRQUkxQjBELE9BQU9vVyxtQkFBbUJqWCxRQUFRLDhEQU1SbXJCLGNBQWNuckIsU0FOTixJQU1oQyxJQUFLLFlBQUwscUNBQStDLEtBQXBDbXpCLFVBQW9DLGNBQzdDLEdBQUkxeUIsS0FBS3dxQixJQUFJanJCLE9BQVFtekIsV0FBWSxDQUMvQixJQUFNdkgsTUFBUS9xQixPQUFPd0UsS0FBS3JGLE9BQVFtekIsV0FDbEMsdUJBQWtCdkgsTUFBbEIsR0FBT3ZtQixLQUFQLHNCQVNJbUIsUUFBUTJCLFVBQVU5QyxPQUFrQyxJQUF6QkEsS0FBSzFFLFNBQVN4RCxRQUMzQzZDLE9BQU8yckIsY0FBY0MsTUFFeEIsQ0FDRixDQXRCK0IsdURBMkJoQyxJQUhBLElBQU1sUixJQUFxQyxHQUEvQnlRLGNBQWNuckIsUUFBUTdDLE9BQzlCb21CLEVBQUksRUFFZ0MsSUFBakM0SCxjQUFjbnJCLFFBQVE3QyxRQUFjLENBQ3pDLEdBQUlvbUIsRUFBSTdJLElBQ04sTUFBTSxJQUFJM2YsTUFBSix3RUFDOEMyZixJQUQ5QywwSEFLUixJQUFNeVksV0FBWU4sYUFBYTd5QixRQUcvQixHQUFJUyxLQUFLd3FCLElBQUlqckIsT0FBUW16QixZQUFZLENBQy9CLElBQU12SCxPQUFRL3FCLE9BQU93RSxLQUFLckYsT0FBUW16QixZQUNsQ256QixPQUFPMnJCLGNBQWNDLE9BQ3RCLENBQ0RySSxHQUNELENBMUNILEdBYkMsQ0E5cEJrQyxFQTZ0QnJDempCLE9BN3RCcUMsZ0JBOHRCbkNFLE9BQ0EwVyxRQUNBZ0csUUFBQUEsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBK0IsQ0FBQyxFQUUxQnhjLEtBQU9XLE9BQU9YLEtBQUtGLE9BQVEwVyxHQUFJZ0csU0FDL0JyYyxXQUFhQyxLQUFLUixPQUFPSSxNQUUvQixPQURjVyxPQUFPd0UsS0FBS3JGLE9BQVFLLFdBcHVCQyxFQTR1QnJDSCxLQTV1QnFDLGNBNHVCaENGLE9BQWdCMFcsUUFBY2dHLFFBQUFBLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQTZCLENBQUMsRUFDdkQwVyxNQUFnQjFXLFFBQWhCMFcsTUFBT25hLEtBQVN5RCxRQUFUekQsS0FFZixHQUFJM1ksS0FBSzR4QixPQUFPeGIsSUFDZCxHQUFhLFVBQVR1QyxLQUVGdkMsR0FEQSxlQUFzQmpXLEtBQUt5d0IsTUFBTWx4QixPQUFRMFcsSUFBekMsV0FFSyxHQUFhLFFBQVR1QyxLQUFnQixDQUV6QnZDLEdBREEsZUFBcUJqVyxLQUFLcXhCLEtBQUs5eEIsT0FBUTBXLElBQXZDLEtBRUQsQ0FxQkgsT0FsQkl2UixNQUFNbXNCLFFBQVE1YSxNQUVkQSxHQURXLFVBQVR1QyxLQUNHOVQsTUFBTThQLE1BQU15QixJQUNDLFFBQVR1QyxLQUNKOVQsTUFBTXdSLElBQUlELElBRVZwVyxLQUFLb25CLE9BQU9oUixHQUFHekQsT0FBTy9TLEtBQU13VyxHQUFHL0UsTUFBTXpSLE9BSTFDdXhCLE1BQU00QixRQUFRM2MsTUFDaEJBLEdBQUtBLEdBQUd4VyxNQUdHLE1BQVRrekIsUUFDRjFjLEdBQUtBLEdBQUc1VixNQUFNLEVBQUdzeUIsUUFHWjFjLEVBM3dCNEIsRUE4d0JyQ04sUUE5d0JxQyxpQkE4d0I3QnBXLE9BQWdCRSxNQUN0QixPQUFPTyxLQUFLd3FCLElBQUlqckIsT0FBUUUsS0Evd0JXLEVBdXhCckNvekIsUUF2eEJxQyxpQkF3eEJuQ3R6QixPQUNBRSxVQUdBLG1CQUZBd2MsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBZ0MsQ0FBQyxHQUV6QjZXLFNBQ0ZyeUIsSUFBZSxDQUNuQjNGLFFBQVMyRSxLQUNUcXpCLGNBSEYsc0JBQW1CLFVBQW5CLGtCQUlFeGUsTUFIbUIsaUJBSWpCLElBQVF4WixRQUFZMkYsSUFBWjNGLFFBSVIsT0FIaUJzRixPQUFPd3BCLFNBQVNycUIsUUFDekIsT0FBUWtCLEtBQ2hCQSxJQUFJM0YsUUFBVSxLQUNQQSxPQUNSLEdBS0gsT0FGYXNGLE9BQU93cEIsU0FBU3JxQixRQUN4QmdqQixJQUFJOWhCLEtBQ0ZBLEdBM3lCNEIsRUFrekJyQ21wQixTQWx6QnFDLGtCQWt6QjVCcnFCLFFBQ1AsSUFBSXd6QixLQUFPeEosVUFBVTNqQixJQUFJckcsUUFPekIsT0FMS3d6QixPQUNIQSxLQUFPLElBQUkxUSxJQUNYa0gsVUFBVXRrQixJQUFJMUYsT0FBUXd6QixPQUdqQkEsSUExekI0QixFQWkwQnJDN2IsTUFqMEJxQyxlQWkwQi9CM1gsT0FBZ0IwVyxRQUNwQixlQURrQ2dHLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQThCLENBQUMsR0FDekR6RCxLQUFBQSxVQUFSLGtCQUFlLFFBQWYsY0FFQSxHQUFJM1ksS0FBSzR4QixPQUFPeGIsSUFBSyxDQUNuQixJQUFJeFcsS0FFSixHQUFhLFFBQVQrWSxLQUVGL1ksS0FEQSxlQUFxQk8sS0FBS3F4QixLQUFLOXhCLE9BQVEwVyxJQUF2QyxXQUlBeFcsS0FEQSxlQUFzQk8sS0FBS3l3QixNQUFNbHhCLE9BQVEwVyxJQUF6QyxNQUlGLElBQU1yUixLQUFPNUUsS0FBSzRGLElBQUlyRyxPQUFRRSxNQUU5QixJQUFLbUUsS0FBSzJXLE9BQU8zVixNQUNmLE1BQU0sSUFBSXRLLE1BQUoseUJBQ2NrZSxLQURkLHVDQUNpRHZDLEdBRGpELCtCQUMwRXVDLEtBRDFFLGdCQUtSLE1BQU8sQ0FBRS9ZLEtBQU1nVCxPQUFpQixRQUFUK0YsS0FBaUI1VCxLQUFLdEYsS0FBSzVDLE9BQVMsRUFDNUQsQ0FFRCxHQUFJZ0ksTUFBTW1zQixRQUFRNWEsSUFBSyxDQUNyQixpQ0FBcUJ2UixNQUFNeWlCLE1BQU1sUixJQUFqQyxHQUFPekIsTUFBUCxpQkFBYzBCLElBQWQsaUJBQ0EsTUFBZ0IsVUFBVHNDLEtBQW1CaEUsTUFBUTBCLEdBQ25DLENBRUQsT0FBT0QsRUEvMUI0QixFQXUyQnJDK2MsU0F2MkJxQyxrQkF3MkJuQ3p6QixPQUNBMlgsV0FHQSxvQkFGQStFLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQWlDLENBQUMsR0FFMUI2VyxTQUNGcnlCLElBQWdCLENBQ3BCM0YsUUFBU29jLE1BQ1Q0YixjQUhGLHVCQUFtQixVQUFuQixtQkFJRXhlLE1BSG9CLGlCQUlsQixJQUFReFosUUFBWTJGLElBQVozRixRQUlSLE9BSGtCc0YsT0FBTzJwQixVQUFVeHFCLFFBQzFCLE9BQVFrQixLQUNqQkEsSUFBSTNGLFFBQVUsS0FDUEEsT0FDUixHQUtILE9BRmFzRixPQUFPMnBCLFVBQVV4cUIsUUFDekJnakIsSUFBSTloQixLQUNGQSxHQTMzQjRCLEVBazRCckNzcEIsVUFsNEJxQyxtQkFrNEIzQnhxQixRQUNSLElBQUl3ekIsS0FBT3ZKLFdBQVc1akIsSUFBSXJHLFFBTzFCLE9BTEt3ekIsT0FDSEEsS0FBTyxJQUFJMVEsSUFDWG1ILFdBQVd2a0IsSUFBSTFGLE9BQVF3ekIsT0FHbEJBLElBMTRCNEIsRUEwNUJwQ3RNLFVBMTVCb0MsbUJBMjVCbkNsbkIsUUFERiwwVkFxS1cwekIsYUFyS1gsd0hBcUtXQSxhQXJLWCx1QkFxS3dCM3pCLEtBQWN3VSxLQUFjNkMsU0FDaEQsTUFBYSxjQUFUN0MsS0FDS3VZLHFCQUFxQi9zQixLQUFNcVgsU0FDaEIsU0FBVDdDLEtBQ0Y2WixnQkFBZ0JydUIsS0FBTXFYLFNBQ1gsU0FBVDdDLE1BQTRCLFVBQVRBLEtBQ3JCeFUsS0FBSzVDLE9BRVAsQ0FDUixFQTlLSCxjQUVFdWYsUUFBQUEsWUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsWUFBQUEsR0FBQUEsWUFBQUEsR0FBa0MsQ0FBQyxHQUdqQ2hHLEdBQUFBLFFBTEosaUJBS1MxVyxPQUFPNkcsVUFMaEIsNEJBU002VixRQUhGbkksS0FBQUEsVUFOSixtQkFNVyxTQU5YLGlDQVNNbUksUUFGRnRGLFFBQUFBLGFBUEoseURBU01zRixRQURGckUsTUFBQUEsV0FSSixxQ0FXTzNCLEdBWFAsaUVBaUNRM1IsTUFBUWxFLE9BQU9rRSxNQUFNL0UsT0FBUTBXLElBakNyQyxjQWtDdUJ2UixNQUFNeWlCLE1BQU03aUIsT0FsQ25DLDhDQWtDU2tRLE1BbENULGlCQWtDZ0IwQixJQWxDaEIsaUJBbUNRdWEsTUFBUTlaLFFBQVVULElBQU0xQixNQUMxQjBlLFlBQWEsRUFDYkMsVUFBWSxHQUNaemMsU0FBVyxFQUNYMGMsa0JBQW9CLEVBQ3BCQyxlQUFpQixFQXhDdkIsdUNBZ0Q2Qmp6QixPQUFPNGEsTUFBTXpiLE9BQVEsQ0FBRTBXLEdBQUlVLFFBQVNpQixTQWhEakUsc0pBZ0RjaFQsS0FoRGQsaUJBZ0RvQm5GLEtBaERwQixrQkFvRFFzRyxRQUFRMkIsVUFBVTlDLE1BcEQxQiw0QkF3RFdnVCxRQUFTclksT0FBT08sT0FBTzhFLE1BeERsQyx5QkF5RFEsT0F6RFIsa0JBeURjeEUsT0FBT29VLE1BQU1qVixPQUFRRSxNQXpEbkMsMkRBZ0VVRixPQUFPWSxTQUFTeUUsTUFoRTFCLHdFQW1FVXhFLE9BQU9vRyxXQUFXakgsT0FBUXFGLFFBWXRCb2hCLEVBQUlubUIsS0FBS213QixXQUFXdndCLEtBQU15VyxJQUFJelcsTUFDaEN5VyxJQUNBOVYsT0FBTzhWLElBQUkzVyxPQUFRRSxNQUNqQnZGLEVBQUkyRixLQUFLbXdCLFdBQVd2d0IsS0FBTStVLE1BQU0vVSxNQUNsQytVLE1BQ0FwVSxPQUFPb1UsTUFBTWpWLE9BQVFFLE1BRXpCMHpCLFVBQVkveUIsT0FBT0gsT0FBT1YsT0FBUSxDQUFFaVQsT0FBUXRZLEVBQUdnWCxNQUFPOFUsR0FBSyxDQUFFcE8sUUFDN0RzYixZQUFhLEdBdkZyQixZQStGUXR2QixLQUFLMlcsT0FBTzNWLE1BL0ZwQiw2QkFnR1kwdUIsUUFBVXp6QixLQUFLZ0UsT0FBT3BFLEtBQU1neEIsTUFBTWh4QixRQVN0QzJ6QixrQkFBb0J6YyxRQUNoQjhaLE1BQU1oZSxPQUNON04sS0FBS3RGLEtBQUs1QyxPQUFTK3pCLE1BQU1oZSxPQUM3QjRnQixlQUFpQjVDLE1BQU1oZSxTQUV2QjJnQixrQkFBb0J4dUIsS0FBS3RGLEtBQUs1QyxPQUM5QjIyQixlQUFpQjFjLFFBQVV5YyxrQkFBb0IsSUFJN0NFLFVBQVdKLFlBQXVCLFdBQVRwZixLQW5IbkMseUJBb0hRLE9BcEhSLGtCQW9IYyxDQUFFclUsS0FBTWdULE9BQVE0Z0IsZ0JBcEg5QixRQXFIUUgsWUFBYSxFQXJIckIsV0E2SHlCLElBQWJ4YyxTQTdIWiw0QkE4SDRCLEtBQWR5YyxVQTlIZCxxRUErSFV6YyxTQUFXdWMsYUFBYUUsVUFBV3JmLEtBQU02QyxTQUd6Q3djLFVBQVlwRix5QkFDVm9GLFVBQ0F6YyxTQUNBQyxTQUNBLEdBdElaLFdBMElRMGMsZUFBaUIxYyxRQUNiMGMsZUFBaUIzYyxTQUNqQjJjLGVBQWlCM2MsWUFDckIwYyxtQkFBd0MxYyxVQUtoQixHQWxKaEMsZ0NBbUpVQSxVQUFZMGMsa0JBbkp0QixxQ0EySlEsT0FEQTFjLFNBQVcsRUExSm5CLGtCQTJKYyxDQUFFalgsS0FBTWdULE9BQVE0Z0IsZ0JBM0o5Qiw2VUExNUJxQyxFQStrQ3JDdE0sU0Eva0NxQyxrQkFnbENuQ3huQixZQUNBMGMsUUFBQUEsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBb0MsQ0FBQyxFQUVyQyxlQUEyQ0EsUUFBbkNsRixLQUFBQSxVQUFSLG1CQUFlLFNBQWYsK0JBQTJDa0YsUUFBbEJyRSxNQUFBQSxXQUF6QixxQ0FDTXhKLE1BQWlDNk4sUUFBakM3TixNQUFOLGFBQXVDNk4sUUFBMUJoRyxHQUFBQSxRQUFiLGlCQUFrQjFXLE9BQU82RyxVQUF6QixhQUVBLEdBQUs2UCxHQUFMLENBSUEsSUFBTXNkLG9CQUFzQm56QixPQUFPd2QsT0FBT3JlLE9BQVEwVyxHQUFJLENBQUUyQixRQUV4RCxHQUFLMmIsb0JBQUwsQ0FJQSxJQUFTL0IsR0FBVCxlQUFlcHhCLE9BQU9xd0IsTUFBTWx4QixPQUFRLElBQXBDLE1BSU1vb0IsS0FBYSxDQUFDNEwsb0JBQW9COXpCLEtBQU0reEIsSUFFOUMsR0FBSTN4QixLQUFLNHhCLE9BQU94YixLQUFxQixJQUFkQSxHQUFHdlosT0FDeEIsTUFBTSxJQUFJcEMsTUFBSixvREFHUixHQUFhLE1BQVQ4VCxNQUNGLEdBQUl2TyxLQUFLNHhCLE9BQU94YixJQUFLLENBQ25CLElBQU81VyxPQUFQLGVBQWlCZSxPQUFPZixPQUFPRSxPQUFRMFcsSUFBdkMsTUFDQTdILE1BQVF4RyxTQUFBQSxNQUFBQSxHQUFDLE9BQUl2SSxPQUFPYSxTQUFTZ2MsU0FBU3RVLEVBQTdCLENBRlgsTUFJRXdHLE1BQVEsd0JBQU0sQ0FBTixFQUlaLElBQU8yWSxTQUFQLGVBQW1CM21CLE9BQU80YSxNQUFNemIsT0FBUSxDQUN0Q29YLFNBQVMsRUFDVFYsR0FBSTBSLEtBQ0p2WixNQUNBMkksS0FDQWEsUUFMRixNQVFBLE9BQU9tUCxRQTdCTixDQU5BLENBeGxDa0MsRUFrb0NyQ3ppQixNQWxvQ3FDLGVBa29DL0IvRSxPQUFnQjBXLEdBQWN1YixJQUNsQyxPQUFJOXNCLE1BQU1tc0IsUUFBUTVhLE1BQVF1YixHQUNqQnZiLEdBS0YsQ0FBRXpELE9BRktwUyxPQUFPb1UsTUFBTWpWLE9BQVEwVyxJQUVYL0UsTUFEWjlRLE9BQU84VixJQUFJM1csT0FBUWl5QixJQUFNdmIsSUF4b0NGLEVBaXBDckN4QyxTQWpwQ3FDLGtCQWtwQ25DbFUsT0FDQStFLFdBR0Esb0JBRkEyWCxVQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxVQUFBQSxHQUFBQSxVQUFBQSxHQUFpQyxDQUFDLEdBRTFCNlcsU0FDRnJ5QixJQUFnQixDQUNwQjNGLFFBQVN3SixNQUNUd3VCLGNBSEYsdUJBQW1CLFVBQW5CLG1CQUlFeGUsTUFIb0IsaUJBSWxCLElBQVF4WixRQUFZMkYsSUFBWjNGLFFBSVIsT0FIa0JzRixPQUFPNnBCLFVBQVUxcUIsUUFDMUIsT0FBUWtCLEtBQ2pCQSxJQUFJM0YsUUFBVSxLQUNQQSxPQUNSLEdBS0gsT0FGYXNGLE9BQU82cEIsVUFBVTFxQixRQUN6QmdqQixJQUFJOWhCLEtBQ0ZBLEdBcnFDNEIsRUE0cUNyQ3dwQixVQTVxQ3FDLG1CQTRxQzNCMXFCLFFBQ1IsSUFBSXd6QixLQUFPdEosV0FBVzdqQixJQUFJckcsUUFPMUIsT0FMS3d6QixPQUNIQSxLQUFPLElBQUkxUSxJQUNYb0gsV0FBV3hrQixJQUFJMUYsT0FBUXd6QixPQUdsQkEsSUFwckM0QixFQStyQ3JDdkgsV0EvckNxQyxvQkErckMxQmpzQixPQUFnQjVELEtBQ3pCNEQsT0FBT2lzQixXQUFXN3ZCLElBaHNDaUIsRUF5c0NyQzYzQixlQXpzQ3FDLHdCQXlzQ3RCajBCLE9BQWdCNnhCLGVBQzdCOUgsWUFBWXJrQixJQUFJMUYsT0FBUTZ4QixjQTFzQ1csRUFpdENyQzVjLE1BanRDcUMsZUFpdEMvQmpWLE9BQWdCMFcsSUFDcEIsT0FBTzdWLE9BQU84VyxNQUFNM1gsT0FBUTBXLEdBQUksQ0FBRXVDLEtBQU0sU0FsdENMLEVBNHRDckN2WSxPQTV0Q3FDLGdCQTZ0Q25DVixPQUNBMFcsUUFGSSxRQUtKLGlCQUZBZ0csVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBK0IsQ0FBQyxHQUV4QnJFLE1BQUFBLFdBQVIscUNBQ010VCxNQUFRbEUsT0FBT2tFLE1BQU0vRSxPQUFRMFcsSUFDbkMsNkJBQXFCdlIsTUFBTXlpQixNQUFNN2lCLE9BQWpDLEdBQU9rUSxNQUFQLGlCQUFjMEIsSUFBZCxpQkFDSTVXLEtBQU8sR0FSUCx1Q0FVdUJjLE9BQU80YSxNQUFNemIsT0FBUSxDQUM5QzBXLEdBQUkzUixNQUNKOEosTUFBT3hLLEtBQUsyVyxPQUNaM0MsU0FiRSxJQVVKLElBQUssWUFBTCxxQ0FJSSxtREFKUWhULEtBSVIsaUJBSmNuRixLQUlkLGlCQUNFZzBCLEVBQUk3dUIsS0FBS3RGLEtBRVRPLEtBQUtnRSxPQUFPcEUsS0FBTXlXLElBQUl6VyxRQUN4QmcwQixFQUFJQSxFQUFFcHpCLE1BQU0sRUFBRzZWLElBQUl6RCxTQUdqQjVTLEtBQUtnRSxPQUFPcEUsS0FBTStVLE1BQU0vVSxRQUMxQmcwQixFQUFJQSxFQUFFcHpCLE1BQU1tVSxNQUFNL0IsU0FHcEJuVCxNQUFRbTBCLENBQ1QsQ0ExQkcsdURBNEJKLE9BQU9uMEIsSUF4dkM0QixFQSt2Q3JDOGYsWUEvdkNxQyxxQkFnd0NuQzdmLE9BQ0ErRSxXQUdBLGlCQUZBMlgsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBb0MsQ0FBQyxHQUU3QnJFLE1BQUFBLFdBQVIscUNBQ0EsNkJBQW1CbFQsTUFBTXlpQixNQUFNN2lCLE9BQS9CLEdBQUtrUSxNQUFMLGlCQUFZMEIsSUFBWixpQkFHQSxHQUFxQixJQUFqQjFCLE1BQU0vQixRQUErQixJQUFmeUQsSUFBSXpELFFBQWdCL04sTUFBTTZOLFlBQVlqTyxPQUM5RCxPQUFPQSxNQUdULElBYlMsUUFhSG92QixTQUFXdHpCLE9BQU80VixNQUFNelcsT0FBUSxDQUNwQzBXLEdBQUlDLElBQ0o5SCxNQUFPeEcsU0FBQUEsTUFBQUEsR0FBQyxPQUFJeEgsT0FBTzBWLFFBQVF2VyxPQUFRcUksRUFBM0IsSUFFSmlPLFVBQVk2ZCxTQUFXQSxTQUFTLEdBQUssR0FFckM5VixPQUFTLENBQUVwTCxPQURIcFMsT0FBT29VLE1BQU1qVixPQUFRaVYsT0FDSHRELE1BQU9nRixLQUNuQ3lkLE1BQU8sRUFwQkYsdUNBc0JrQnZ6QixPQUFPNGEsTUFBTXpiLE9BQVEsQ0FDOUMwVyxHQUFJMkgsT0FDSnhQLE1BQU94SyxLQUFLMlcsT0FDWjVELFNBQVMsRUFDVGlCLFNBMUJPLElBc0JULElBQUssWUFBTCxxQ0FLSSxtREFMUWhULEtBS1IsaUJBTGNuRixLQUtkLGlCQUNGLEdBQUlrMEIsS0FDRkEsTUFBTyxPQUlULEdBQWtCLEtBQWQvdUIsS0FBS3RGLE1BQWVPLEtBQUsrekIsU0FBU24wQixLQUFNb1csV0FBWSxDQUN0REssSUFBTSxDQUFFelcsS0FBTWdULE9BQVE3TixLQUFLdEYsS0FBSzVDLFFBQ2hDLEtBQ0QsQ0FDRixDQXJDUSx1REF1Q1QsTUFBTyxDQUFFOFYsT0FBUWdDLE1BQU90RCxNQUFPZ0YsSUF0eUNJLHNCQTh5Q25DM1csWUFDQTBjLFFBQUFBLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQTZCLENBQUMsRUFFOUIsT0FBTzdiLE9BQU80VixNQUFNelcsT0FBYmEsZ0JBQUFBLGdCQUFBQSxDQUFBQSxFQUNGNmIsU0FERSxJQUVMN04sTUFBT3hHLFNBQUFBLE1BQUFBLEdBQUMsT0FBSXhILE9BQU9OLE9BQU9QLE9BQVFxSSxFQUExQixJQW56Q3lCLEVBMnpDckM0TyxtQkEzekNxQyw0QkEyekNsQmpYLE9BQWdCNmxCLElBQ2pDLElBQU14cEIsTUFBUXdFLE9BQU9neEIsY0FBYzd4QixRQUNuQ2EsT0FBT296QixlQUFlajBCLFFBQVEsR0FDOUIsSUFDRTZsQixJQURGLFNBR0VobEIsT0FBT296QixlQUFlajBCLE9BQVEzRCxNQUMvQixDQUNEd0UsT0FBT3VxQixVQUFVcHJCLE9BQ2xCLDZCQzNuRFVzMEIsU0FBOEIsQ0FLekNDLFdBTHlDLG9CQUs5Qmw0QixPQUNULE9BQU9pRSxLQUFLNHhCLE9BQU83MUIsUUFBVW8xQixNQUFNNEIsUUFBUWgzQixRQUFVOEksTUFBTW1zQixRQUFRajFCLE1BQ3BFLGlDQWNVKzFCLEtBQXNCLENBS2pDQyxPQUxpQyxnQkFLMUJoMkIsT0FDTCxPQUNFK1IsTUFBTXVpQixRQUFRdDBCLFFBQTJCLElBQWpCQSxNQUFNYyxRQUFnQmQsTUFBTXFJLE1BQU1wRSxLQUFLNHhCLE9BRWxFLHdFQ3VER3NDLG1CQUFxQixJQUFJanpCLFFBRWxCZCxLQUFzQixDQUtqQytyQixTQUxpQyxrQkFLeEJ6YSxLQUFZN1IsTUFDbkIsSUFBTW1GLEtBQU81RSxLQUFLNEYsSUFBSTBMLEtBQU03UixNQUU1QixHQUFJbUUsS0FBSzJXLE9BQU8zVixNQUNkLE1BQU0sSUFBSXRLLE1BQUosZ0RBQ3FDbUYsS0FEckMsdURBQ3dGOGIsU0FBU0MsVUFDbkc1VyxRQUtOLE9BQU9BLElBaEJ3QixFQTBCaEMrbUIsVUExQmdDLG1CQTJCL0JyYSxLQUNBN1IsTUFGRixnUEFHRXdjLFFBQUFBLFlBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFlBQUFBLEdBQUFBLFlBQUFBLEdBQWdDLENBQUMsRUFIbkMsdUNBS2tCcGMsS0FBSzhyQixVQUFVbHNCLEtBQU13YyxVQUx2QyxtR0FRSSxPQUhTL1YsRUFMYixjQU1VMEIsRUFBSTVILEtBQUsrckIsU0FBU3phLEtBQU1wTCxHQUN4QmlsQixNQUE2QixDQUFDdmpCLEVBQUcxQixHQVAzQyxrQkFRVWlsQixNQVJWLDBTQTFCaUMsRUEwQ2pDaGUsTUExQ2lDLGVBMEMzQm1FLEtBQVl0RSxPQUNoQixHQUFJcEosS0FBSzJXLE9BQU9qSixNQUNkLE1BQU0sSUFBSWhYLE1BQUosK0NBQ29DaWhCLFNBQVNDLFVBQVVsSyxRQUkvRCxJQUFNMGlCLEVBQUkxaUIsS0FBS3BSLFNBQVM4TSxPQUV4QixHQUFTLE1BQUxnbkIsRUFDRixNQUFNLElBQUkxNUIsTUFBSixxQ0FDMkIwUyxNQUQzQixzQkFDK0N1TyxTQUFTQyxVQUMxRGxLLFFBS04sT0FBTzBpQixDQTNEd0IsRUFrRWhDOXpCLFNBbEVnQyxrQkFtRS9Cb1IsS0FDQTdSLE1BRkYsK1JBR0V3YyxZQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxZQUFBQSxHQUFBQSxZQUFBQSxHQUErQixDQUFDLEdBRXhCdEYsUUFBQUEsYUFMVix5Q0FNUW9WLFNBQVcvckIsS0FBSytyQixTQUFTemEsS0FBTTdSLE1BQzdCUyxTQUFhNnJCLFNBQWI3ckIsU0FDSjhNLE1BQVEySixRQUFVelcsU0FBU3hELE9BQVMsRUFBSSxFQVI5QyxZQVVTaWEsUUFBVTNKLE9BQVMsRUFBSUEsTUFBUTlNLFNBQVN4RCxRQVZqRCx5QkFhSSxPQUZNeVEsTUFBUW5OLEtBQUttTixNQUFNNGUsU0FBVS9lLE9BQzdCaW5CLFVBQVl4MEIsS0FBS2tJLE9BQU9xRixPQVpsQyxrQkFhVSxDQUFDRyxNQUFPOG1CLFdBYmxCLFFBY0lqbkIsTUFBUTJKLFFBQVUzSixNQUFRLEVBQUlBLE1BQVEsRUFkMUMsa0ZBbEVpQyxFQXdGakNpYSxPQXhGaUMsZ0JBd0YxQjNWLEtBQVk3UixLQUFZNEUsU0FDN0IsSUFBTTZCLEVBQUlyRyxLQUFLb25CLE9BQU94bkIsS0FBTTRFLFNBRTVCLE1BQU8sQ0FER3JFLEtBQUs0RixJQUFJMEwsS0FBTXBMLEdBQ2RBLEVBM0ZvQixFQWtHakNndUIsV0FsR2lDLG9CQWtHdEI1aUIsS0FBWTdSLE1BQ3JCLElBQU1tRixLQUFPNUUsS0FBSzRGLElBQUkwTCxLQUFNN1IsTUFFNUIsR0FBSVcsT0FBT2liLFNBQVN6VyxNQUNsQixNQUFNLElBQUl0SyxNQUFKLGtEQUN1Q21GLEtBRHZDLGdFQUNtRzhiLFNBQVNDLFVBQzlHNVcsUUFLTixPQUFPQSxJQTdHd0IsRUFvSGhDOG1CLFlBcEhnQyxxQkFxSC9CcGEsTUFERiw4UEFFRTJLLFFBQUFBLFlBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFlBQUFBLEdBQUFBLFlBQUFBLEdBQWtDLENBQUMsRUFGckMsdUNBSTZCamMsS0FBS2diLE1BQU0xSixLQUFNMkssVUFKOUMsb0pBSWNyWCxLQUpkLGlCQUt3QixLQURKbkYsS0FKcEIsa0JBS2EvQyxPQUxiLHdCQVFNLE9BUk4saUJBUVksQ0FBQ2tJLEtBQU1uRixNQVJuQix5U0FwSGlDLEVBdUloQzAwQixTQXZJZ0Msa0JBd0kvQjdpQixNQURGLDhQQUVFMkssUUFBQUEsWUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsWUFBQUEsR0FBQUEsWUFBQUEsR0FBK0IsQ0FBQyxFQUZsQyx1Q0FJNkJqYyxLQUFLZ2IsTUFBTTFKLEtBQU0ySyxVQUo5QyxvSkFJY3JYLEtBSmQsaUJBSW9CbkYsS0FKcEIsa0JBS1FzRyxRQUFRMkIsVUFBVTlDLE1BTDFCLHdCQU1NLE9BTk4saUJBTVksQ0FBQ0EsS0FBTW5GLE1BTm5CLHlTQXZJaUMsRUFzSmpDMjBCLGFBdEppQyxzQkFzSnBCeHZCLE1BQ1gsT0FBSW1CLFFBQVFpcUIsV0FBV3ByQixNQUNyQix5QkFBb0NBLEtBQXBDLGFBSUEseUJBQWdDQSxLQUFoQyxhQTVKNkIsRUFzS2pDNnJCLE1BdEtpQyxlQXNLM0JuZixLQUFZN1IsTUFJaEIsSUFIQSxJQUFNeUcsRUFBSXpHLEtBQUtZLFFBQ1h1SCxFQUFJNUgsS0FBSzRGLElBQUkwTCxLQUFNcEwsR0FFaEIwQixJQUNEaEUsS0FBSzJXLE9BQU8zUyxJQUE0QixJQUF0QkEsRUFBRTFILFNBQVN4RCxRQUcvQmtMLEVBQUlBLEVBQUUxSCxTQUFTLEdBQ2ZnRyxFQUFFVCxLQUFLLEdBSVgsTUFBTyxDQUFDbUMsRUFBRzFCLEVBbkxvQixFQTBMakMyZCxTQTFMaUMsa0JBMEx4QnZTLEtBQVloTixPQUNuQixHQUFJVixLQUFLMlcsT0FBT2pKLE1BQ2QsTUFBTSxJQUFJaFgsTUFBSixnRUFDcURpaEIsU0FBU0MsVUFDaEVsSyxRQW1DTixPQTlCZ0IraUIsRUFBQUEsT0FBQUEsU0FBUSxDQUFFbjBCLFNBQVVvUixLQUFLcFIsV0FBWW9uQixTQUFBQSxHQUNuRCxJQURvRCxRQUNwRCw4QkFBcUI1aUIsTUFBTXlpQixNQUFNN2lCLE9BQWpDLEdBQU9rUSxNQUFQLGtCQUFjMEIsSUFBZCxrQkFDTTJiLFlBQWM3eEIsS0FBS2diLE1BQU1zTSxFQUFHLENBQ2hDM1EsU0FBUyxFQUNUbWIsS0FBTSx3QkFBSXJ5QixLQUFKLGlDQUFlaUYsTUFBTXdYLFNBQVM1WCxNQUFPN0UsS0FBckMsSUFKNEMsdUNBTzdCb3lCLGFBUDZCLElBT3BELElBQUssWUFBTCxxQ0FBb0MsS0FBdEJweUIsS0FBc0IsbUNBQ2xDLElBQUtpRixNQUFNd1gsU0FBUzVYLE1BQU83RSxNQUFPLENBQ2hDLElBQU1KLE9BQVNXLEtBQUtYLE9BQU9pb0IsRUFBRzduQixNQUN4QnVOLE1BQVF2TixLQUFLQSxLQUFLL0MsT0FBUyxHQUNqQzJDLE9BQU9hLFNBQVM4a0IsT0FBT2hZLE1BQU8sRUFDL0IsQ0FFRCxHQUFJbk4sS0FBS2dFLE9BQU9wRSxLQUFNeVcsSUFBSXpXLE1BQU8sQ0FDL0IsSUFBTUwsS0FBT1ksS0FBS1osS0FBS2tvQixFQUFHN25CLE1BQzFCTCxLQUFLRSxLQUFPRixLQUFLRSxLQUFLZSxNQUFNLEVBQUc2VixJQUFJekQsT0FDcEMsQ0FFRCxHQUFJNVMsS0FBS2dFLE9BQU9wRSxLQUFNK1UsTUFBTS9VLE1BQU8sQ0FDakMsSUFBTUwsTUFBT1ksS0FBS1osS0FBS2tvQixFQUFHN25CLE1BQzFCTCxNQUFLRSxLQUFPRixNQUFLRSxLQUFLZSxNQUFNbVUsTUFBTS9CLE9BQ25DLENBQ0YsQ0F2Qm1ELHVEQXlCaERyUyxPQUFPaWIsU0FBU2lNLEtBQ2xCQSxFQUFFbGhCLFVBQVksS0ExQkssSUE4QlJsRyxRQWpPZ0IsRUF5T2pDMEYsSUF6T2lDLGFBeU83QjBMLEtBQVk3UixNQUdkLElBRkEsSUFBSW1GLEtBQU8wTSxLQUVGalYsRUFBSSxFQUFHQSxFQUFJb0QsS0FBSy9DLE9BQVFMLElBQUssQ0FDcEMsSUFBTTZKLEVBQUl6RyxLQUFLcEQsR0FFZixHQUFJdUgsS0FBSzJXLE9BQU8zVixRQUFVQSxLQUFLMUUsU0FBU2dHLEdBQ3RDLE1BQU0sSUFBSTVMLE1BQUosNENBQ2lDbUYsS0FEakMsc0JBQ21EOGIsU0FBU0MsVUFDOURsSyxRQUtOMU0sS0FBT0EsS0FBSzFFLFNBQVNnRyxFQUN0QixDQUVELE9BQU90QixJQTFQd0IsRUFpUWpDNGxCLElBalFpQyxhQWlRN0JsWixLQUFZN1IsTUFHZCxJQUZBLElBQUltRixLQUFPME0sS0FFRmpWLEVBQUksRUFBR0EsRUFBSW9ELEtBQUsvQyxPQUFRTCxJQUFLLENBQ3BDLElBQU02SixFQUFJekcsS0FBS3BELEdBRWYsR0FBSXVILEtBQUsyVyxPQUFPM1YsUUFBVUEsS0FBSzFFLFNBQVNnRyxHQUN0QyxPQUFPLEVBR1R0QixLQUFPQSxLQUFLMUUsU0FBU2dHLEVBQ3RCLENBRUQsT0FBTyxDQTlRd0IsRUFxUmpDb3VCLE9BclJpQyxnQkFxUjFCMTRCLE9BQ0wsT0FDRWdJLEtBQUsyVyxPQUFPM2UsUUFBVW1LLFFBQVEyQixVQUFVOUwsUUFBVXdFLE9BQU9pYixTQUFTemYsTUF2UnJDLEVBK1JqQzRvQixXQS9SaUMsb0JBK1J0QjVvQixPQUNULElBQUsrUixNQUFNdWlCLFFBQVF0MEIsT0FDakIsT0FBTyxFQUVULElBQU0yNEIsYUFBZVIsbUJBQW1CbnVCLElBQUloSyxPQUM1QyxRQUFxQlAsSUFBakJrNUIsYUFDRixPQUFPQSxhQUVULElBQU0vUCxXQUFhNW9CLE1BQU1xSSxPQUFNa3NCLFNBQUFBLEtBQUcsT0FBSW53QixLQUFLczBCLE9BQU9uRSxJQUFoQixJQUVsQyxPQURBNEQsbUJBQW1COXVCLElBQUlySixNQUFPNG9CLFlBQ3ZCQSxVQXpTd0IsRUFnVGpDNk0sS0FoVGlDLGNBZ1Q1Qi9mLEtBQVk3UixNQUlmLElBSEEsSUFBTXlHLEVBQUl6RyxLQUFLWSxRQUNYdUgsRUFBSTVILEtBQUs0RixJQUFJMEwsS0FBTXBMLEdBRWhCMEIsSUFDRGhFLEtBQUsyVyxPQUFPM1MsSUFBNEIsSUFBdEJBLEVBQUUxSCxTQUFTeEQsUUFEekIsQ0FJTixJQUFNTCxFQUFJdUwsRUFBRTFILFNBQVN4RCxPQUFTLEVBQzlCa0wsRUFBSUEsRUFBRTFILFNBQVM3RCxHQUNmNkosRUFBRVQsS0FBS3BKLEVBRVYsQ0FFRCxNQUFPLENBQUN1TCxFQUFHMUIsRUE5VG9CLEVBcVVqQzlHLEtBclVpQyxjQXFVNUJrUyxLQUFZN1IsTUFDZixJQUFNbUYsS0FBTzVFLEtBQUs0RixJQUFJMEwsS0FBTTdSLE1BRTVCLElBQUttRSxLQUFLMlcsT0FBTzNWLE1BQ2YsTUFBTSxJQUFJdEssTUFBSiw0Q0FDaUNtRixLQURqQyxtREFDZ0Y4YixTQUFTQyxVQUMzRjVXLFFBS04sT0FBT0EsSUFoVndCLEVBMFZoQ3FrQixPQTFWZ0MsZ0JBMlYvQjNYLEtBQ0E3UixNQUZGLDBPQUdFd2MsUUFBQUEsWUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsWUFBQUEsR0FBQUEsWUFBQUEsR0FBNkIsQ0FBQyxFQUhoQyx1Q0FLa0JwYyxLQUFLb3BCLE9BQU94cEIsS0FBTXdjLFVBTHBDLG1HQU9JLE9BRlMvVixFQUxiLGNBTVUwQixFQUFJNUgsS0FBSzRGLElBQUkwTCxLQUFNcEwsR0FON0IsaUJBT1UsQ0FBQzBCLEVBQUcxQixHQVBkLHlTQTFWaUMsRUF5V2pDMGdCLFFBeldpQyxpQkF5V3pCaGlCLEtBQVkxRixPQUNsQixPQUNHNkcsUUFBUTJCLFVBQVU5QyxPQUNqQm1CLFFBQVFxcUIsZUFBZWx4QixRQUN2QjZHLFFBQVE2Z0IsUUFBUWhpQixLQUFNMUYsUUFDdkIwRSxLQUFLMlcsT0FBTzNWLE9BQ1hoQixLQUFLNHdCLFlBQVl0MUIsUUFDakIwRSxLQUFLZ2pCLFFBQVFoaUIsS0FBTTFGLE1BaFhRLEVBMFhoQzhiLE1BMVhnQyxlQTJYL0IxSixNQURGLGlUQUlVd2dCLE1BRlI3VixRQUFBQSxZQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxZQUFBQSxHQUFBQSxZQUFBQSxHQUE0QixDQUFDLEdBRXJCNlYsS0FKVixrQkFJb0M3VixRQUFwQnRGLFFBQUFBLGFBSmhCLHVEQUs0QnNGLFFBQWxCck8sS0FBQUEsVUFMVixrQkFLaUIsR0FMakIsY0FLcUI0akIsR0FBT3ZWLFFBQVB1VixHQUNiaUQsUUFBVSxJQUFJcFMsSUFDaEJuYyxFQUFVLEdBQ1YwQixFQUFJMEosS0FSVixXQVdRa2dCLE1BQU83YSxRQUFVOVcsS0FBSyt6QixTQUFTMXRCLEVBQUdzckIsSUFBTTN4QixLQUFLNjBCLFFBQVF4dUIsRUFBR3NyQixLQVhoRSx3RUFlU2lELFFBQVFqSyxJQUFJNWlCLEdBZnJCLDBCQWdCTSxPQWhCTixtQkFnQlksQ0FBQ0EsRUFBRzFCLEdBaEJoQixXQXFCT3V1QixRQUFRakssSUFBSTVpQixJQUNaaEUsS0FBSzJXLE9BQU8zUyxJQUNTLElBQXRCQSxFQUFFMUgsU0FBU3hELFFBQ0YsTUFBUm8xQixPQUFpQyxJQUFqQkEsS0FBSyxDQUFDbHFCLEVBQUcxQixJQXhCaEMsaUNBMEJNdXVCLFFBQVFsUyxJQUFJM2EsR0FDUitzQixVQUFZaGUsUUFBVS9PLEVBQUUxSCxTQUFTeEQsT0FBUyxFQUFJLEVBRTlDbUQsS0FBS213QixXQUFXOXBCLEVBQUcwSCxRQUNyQittQixVQUFZL21CLEtBQUsxSCxFQUFFeEosU0FHckJ3SixFQUFJQSxFQUFFeUIsT0FBT2d0QixXQUNiL3NCLEVBQUk1SCxLQUFLNEYsSUFBSTBMLEtBQU1wTCxHQWxDekIsMkNBdUNxQixJQUFiQSxFQUFFeEosT0F2Q1YsMEVBNENTaWEsUUE1Q1QsNkJBNkNZdVEsUUFBVXJuQixLQUFLOEQsS0FBS3VDLElBRXRCbEcsS0FBS3dxQixJQUFJbFosS0FBTTRWLFNBL0N6QixpQ0FnRFFoaEIsRUFBSWdoQixRQUNKdGYsRUFBSTVILEtBQUs0RixJQUFJMEwsS0FBTXBMLEdBakQzQiw0Q0F1RFF5USxTQUErQixJQUFwQnpRLEVBQUVBLEVBQUV4SixPQUFTLEdBdkRoQyxpQ0F3RFl3cUIsU0FBVXJuQixLQUFLa25CLFNBQVM3Z0IsR0FDOUJBLEVBQUlnaEIsU0FDSnRmLEVBQUk1SCxLQUFLNEYsSUFBSTBMLEtBQU1wTCxHQTFEekIsd0NBK0RJQSxFQUFJckcsS0FBS1IsT0FBTzZHLEdBQ2hCMEIsRUFBSTVILEtBQUs0RixJQUFJMEwsS0FBTXBMLEdBQ25CdXVCLFFBQVFsUyxJQUFJM2EsR0FqRWhCLG9GQTFYaUMsRUFtY2pDdkksT0FuY2lDLGdCQW1jMUJpUyxLQUFZN1IsTUFDakIsSUFBTUcsV0FBYUMsS0FBS1IsT0FBT0ksTUFDekJ5RyxFQUFJbEcsS0FBSzRGLElBQUkwTCxLQUFNMVIsWUFFekIsR0FBSWdFLEtBQUsyVyxPQUFPclUsR0FDZCxNQUFNLElBQUk1TCxNQUFKLHlDQUM4Qm1GLEtBRDlCLDZDQUtSLE9BQU95RyxDQTdjd0IsRUF3ZGpDakcsT0F4ZGlDLGdCQXdkMUIyRSxNQUNMLE9BQUloQixLQUFLMlcsT0FBTzNWLE1BQ1BBLEtBQUt0RixLQUVMc0YsS0FBSzFFLFNBQVN1eUIsSUFBSXp5QixLQUFLQyxRQUFRc3FCLEtBQUssR0E1ZGQsRUFvZWhDM2pCLE1BcGVnQyxlQXFlL0IwSyxNQURGLG9RQUVFMkssUUFBQUEsYUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsYUFBQUEsR0FBQUEsYUFBQUEsR0FBNEIsQ0FBQyxFQUYvQix1Q0FJNkJqYyxLQUFLZ2IsTUFBTTFKLEtBQU0ySyxVQUo5QyxzSkFJY3JYLEtBSmQsaUJBSW9CbkYsS0FKcEIsa0JBS1FtRSxLQUFLMlcsT0FBTzNWLE1BTHBCLHlCQU1NLE9BTk4sa0JBTVksQ0FBQ0EsS0FBTW5GLE1BTm5CLG1UQVNDLHF5QkNoY1VxeEIsVUFBZ0MsQ0FLM0M4RCxnQkFMMkMseUJBSzNCaDVCLE9BQ2QsT0FBT2sxQixVQUFVK0QsWUFBWWo1QixRQUFVQSxNQUFNaVUsS0FBSytELFNBQVMsUUFObEIsRUFhM0NpaEIsWUFiMkMscUJBYS9CajVCLE9BQ1YsS0FBS20wQixFQUFBQSxlQUFBQSxlQUFjbjBCLE9BQ2pCLE9BQU8sRUFHVCxPQUFRQSxNQUFNaVUsTUFDWixJQUFLLGNBZ0JMLElBQUssY0FDSCxPQUFPaFEsS0FBSzR4QixPQUFPNzFCLE1BQU02RCxPQUFTTyxLQUFLczBCLE9BQU8xNEIsTUFBTWdKLE1BZnRELElBQUssY0FnQkwsSUFBSyxjQUNILE1BQzBCLGlCQUFqQmhKLE1BQU02VyxRQUNTLGlCQUFmN1csTUFBTTBELE1BQ2JPLEtBQUs0eEIsT0FBTzcxQixNQUFNNkQsTUFkdEIsSUFBSyxhQUNILE1BQzRCLGlCQUFuQjdELE1BQU1rSCxVQUNiakQsS0FBSzR4QixPQUFPNzFCLE1BQU02RCxRQUNsQnN3QixFQUFBQSxlQUFBQSxlQUFjbjBCLE1BQU1rNUIsWUFFeEIsSUFBSyxZQUNILE9BQU9qMUIsS0FBSzR4QixPQUFPNzFCLE1BQU02RCxPQUFTSSxLQUFLNHhCLE9BQU83MUIsTUFBTXNyQixTQVN0RCxJQUFLLFdBQ0gsT0FDRXJuQixLQUFLNHhCLE9BQU83MUIsTUFBTTZELFFBQ2xCc3dCLEVBQUFBLGVBQUFBLGVBQWNuMEIsTUFBTWs1QixjQUNwQi9FLEVBQUFBLGVBQUFBLGVBQWNuMEIsTUFBTW01QixlQUV4QixJQUFLLGdCQUNILE9BQ3dCLE9BQXJCbjVCLE1BQU1rNUIsWUFBdUJwd0IsTUFBTW1zQixRQUFRajFCLE1BQU1tNUIsZ0JBQ3pCLE9BQXhCbjVCLE1BQU1tNUIsZUFBMEJyd0IsTUFBTW1zQixRQUFRajFCLE1BQU1rNUIsY0FDcEQvRSxFQUFBQSxlQUFBQSxlQUFjbjBCLE1BQU1rNUIsY0FDbkIvRSxFQUFBQSxlQUFBQSxlQUFjbjBCLE1BQU1tNUIsZUFFMUIsSUFBSyxhQUNILE9BQ0VsMUIsS0FBSzR4QixPQUFPNzFCLE1BQU02RCxPQUNRLGlCQUFuQjdELE1BQU1rSCxXQUNiaXRCLEVBQUFBLGVBQUFBLGVBQWNuMEIsTUFBTWs1QixZQUV4QixRQUNFLE9BQU8sRUEvRDhCLEVBdUUzQy9ELGdCQXZFMkMseUJBdUUzQm4xQixPQUNkLE9BQ0UrUixNQUFNdWlCLFFBQVF0MEIsUUFBVUEsTUFBTXFJLE9BQU1rc0IsU0FBQUEsS0FBRyxPQUFJVyxVQUFVK0QsWUFBWTFFLElBQTFCLEdBekVBLEVBaUYzQzZFLHFCQWpGMkMsOEJBaUZ0QnA1QixPQUNuQixPQUFPazFCLFVBQVUrRCxZQUFZajVCLFFBQVVBLE1BQU1pVSxLQUFLK0QsU0FBUyxhQWxGbEIsRUF5RjNDcWhCLGdCQXpGMkMseUJBeUYzQnI1QixPQUNkLE9BQU9rMUIsVUFBVStELFlBQVlqNUIsUUFBVUEsTUFBTWlVLEtBQUsrRCxTQUFTLFFBMUZsQixFQWtHM0NzaEIsUUFsRzJDLGlCQWtHbkM5ZixJQUNOLE9BQVFBLEdBQUd2RixNQUNULElBQUssY0FDSCxPQUFPLGdCQUFQLG1CQUFZdUYsSUFBWixJQUFnQnZGLEtBQU0sZ0JBR3hCLElBQUssY0FDSCxPQUFPLGdCQUFQLG1CQUFZdUYsSUFBWixJQUFnQnZGLEtBQU0sZ0JBR3hCLElBQUssYUFDSCxPQUFPLGdCQUFQLG1CQUFZdUYsSUFBWixJQUFnQnZGLEtBQU0sYUFBY3BRLEtBQU1JLEtBQUtrbkIsU0FBUzNSLEdBQUczVixRQUc3RCxJQUFLLFlBQ0gsSUFBUXluQixRQUFrQjlSLEdBQWxCOFIsUUFBU3puQixLQUFTMlYsR0FBVDNWLEtBR2pCLEdBQUlJLEtBQUtnRSxPQUFPcWpCLFFBQVN6bkIsTUFDdkIsT0FBTzJWLEdBS1QsR0FBSXZWLEtBQUtzMUIsVUFBVTExQixLQUFNeW5CLFNBQ3ZCLE9BQU8sZ0JBQVAsbUJBQVk5UixJQUFaLElBQWdCM1YsS0FBTXluQixRQUFTQSxRQUFTem5CLE9BUzFDLElBQU0yMUIsWUFBY3YxQixLQUFLaXFCLFVBQVVycUIsS0FBTTJWLElBQ25DaWdCLGVBQWlCeDFCLEtBQUtpcUIsVUFBVWpxQixLQUFLOEQsS0FBS2xFLE1BQU8yVixJQUN2RCxPQUFPLGdCQUFQLG1CQUFZQSxJQUFaLElBQWdCM1YsS0FBTTIxQixZQUFhbE8sUUFBU21PLGlCQUc5QyxJQUFLLGNBQ0gsT0FBTyxnQkFBUCxtQkFBWWpnQixJQUFaLElBQWdCdkYsS0FBTSxnQkFHeEIsSUFBSyxjQUNILE9BQU8sZ0JBQVAsbUJBQVl1RixJQUFaLElBQWdCdkYsS0FBTSxnQkFHeEIsSUFBSyxXQUNILElBQVFpbEIsV0FBOEIxZixHQUE5QjBmLFdBQVlDLGNBQWtCM2YsR0FBbEIyZixjQUNwQixPQUFPLGdCQUFQLG1CQUFZM2YsSUFBWixJQUFnQjBmLFdBQVlDLGNBQWVBLGNBQWVELGFBRzVELElBQUssZ0JBQ0gsSUFBUUEsWUFBOEIxZixHQUE5QjBmLFdBQVlDLGVBQWtCM2YsR0FBbEIyZixjQUVwQixPQUNTLGdCQUFQLG1CQUNLM2YsSUFETCxHQURnQixNQUFkMGYsWUFDRixDQUVFQSxXQUFZQyxlQUNaQSxjQUFlLE1BRVMsTUFBakJBLGVBQ1QsQ0FFRUQsV0FBWSxLQUNaQyxjQUFlRCxhQUdqQixDQUFnQkEsV0FBWUMsZUFBZUEsY0FBZUQsY0FJOUQsSUFBSyxhQUNILE9BQU8sZ0JBQVAsbUJBQVkxZixJQUFaLElBQWdCdkYsS0FBTSxhQUFjcFEsS0FBTUksS0FBSzhELEtBQUt5UixHQUFHM1YsUUFHNUQsbUNDNVFVSSxLQUFzQixDQVFqQzhyQixVQVJpQyxtQkFRdkJsc0IsVUFBWXdjLFFBQUFBLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQWdDLENBQUMsRUFDckQsa0JBQTRCQSxRQUFwQnRGLFFBQUFBLGFBQVIseUNBQ0kyZSxNQUFRejFCLEtBQUtvcEIsT0FBT3hwQixLQUFNd2MsU0FROUIsT0FMRXFaLE1BREUzZSxRQUNNMmUsTUFBTWoxQixNQUFNLEdBRVppMUIsTUFBTWoxQixNQUFNLEdBQUksRUFmSyxFQXlCakM0bUIsT0F6QmlDLGdCQXlCMUJ4bkIsS0FBWTRFLFNBR2pCLElBRkEsSUFBTTRpQixPQUFlLEdBRVo1cUIsRUFBSSxFQUFHQSxFQUFJb0QsS0FBSy9DLFFBQVVMLEVBQUlnSSxRQUFRM0gsT0FBUUwsSUFBSyxDQUMxRCxJQUFNazVCLEdBQUs5MUIsS0FBS3BELEdBR2hCLEdBQUlrNUIsS0FGT2x4QixRQUFRaEksR0FHakIsTUFHRjRxQixPQUFPeGhCLEtBQUs4dkIsR0FDYixDQUVELE9BQU90TyxNQXZDd0IsRUFtRGpDZ0wsUUFuRGlDLGlCQW1EekJ4eUIsS0FBWTRFLFNBR2xCLElBRkEsSUFBTXlWLElBQU1ELEtBQUtDLElBQUlyYSxLQUFLL0MsT0FBUTJILFFBQVEzSCxRQUVqQ0wsRUFBSSxFQUFHQSxFQUFJeWQsSUFBS3pkLElBQUssQ0FDNUIsR0FBSW9ELEtBQUtwRCxHQUFLZ0ksUUFBUWhJLEdBQUksT0FBUSxFQUNsQyxHQUFJb0QsS0FBS3BELEdBQUtnSSxRQUFRaEksR0FBSSxPQUFPLENBQ2xDLENBRUQsT0FBTyxDQTNEd0IsRUFrRWpDbTVCLFVBbEVpQyxtQkFrRXZCLzFCLEtBQVk0RSxTQUNwQixJQUFNaEksRUFBSW9ELEtBQUsvQyxPQUFTLEVBQ2xCb1MsR0FBS3JQLEtBQUtZLE1BQU0sRUFBR2hFLEdBQ25CbzVCLEdBQUtweEIsUUFBUWhFLE1BQU0sRUFBR2hFLEdBQ3RCazVCLEdBQUs5MUIsS0FBS3BELEdBQ1ZxNUIsR0FBS3J4QixRQUFRaEksR0FDbkIsT0FBT3dELEtBQUtnRSxPQUFPaUwsR0FBSTJtQixLQUFPRixHQUFLRyxFQXhFSixFQStFakNDLE9BL0VpQyxnQkErRTFCbDJCLEtBQVk0RSxTQUNqQixJQUFNaEksRUFBSW9ELEtBQUsvQyxPQUNUb1MsR0FBS3JQLEtBQUtZLE1BQU0sRUFBR2hFLEdBQ25CbzVCLEdBQUtweEIsUUFBUWhFLE1BQU0sRUFBR2hFLEdBQzVCLE9BQU93RCxLQUFLZ0UsT0FBT2lMLEdBQUkybUIsR0FuRlEsRUEwRmpDRyxXQTFGaUMsb0JBMEZ0Qm4yQixLQUFZNEUsU0FDckIsSUFBTWhJLEVBQUlvRCxLQUFLL0MsT0FBUyxFQUNsQm9TLEdBQUtyUCxLQUFLWSxNQUFNLEVBQUdoRSxHQUNuQm81QixHQUFLcHhCLFFBQVFoRSxNQUFNLEVBQUdoRSxHQUN0Qms1QixHQUFLOTFCLEtBQUtwRCxHQUNWcTVCLEdBQUtyeEIsUUFBUWhJLEdBQ25CLE9BQU93RCxLQUFLZ0UsT0FBT2lMLEdBQUkybUIsS0FBT0YsR0FBS0csRUFoR0osRUF1R2pDN3hCLE9BdkdpQyxnQkF1RzFCcEUsS0FBWTRFLFNBQ2pCLE9BQ0U1RSxLQUFLL0MsU0FBVzJILFFBQVEzSCxRQUFVK0MsS0FBS3dFLE9BQU0sU0FBQzJELEVBQUd2TCxHQUFKLE9BQVV1TCxJQUFNdkQsUUFBUWhJLEVBQXhCLEdBekdoQixFQWlIakN3NUIsWUFqSGlDLHFCQWlIckJwMkIsTUFDVixPQUFPQSxLQUFLQSxLQUFLL0MsT0FBUyxHQUFLLENBbEhBLEVBeUhqQ2c0QixRQXpIaUMsaUJBeUh6QmoxQixLQUFZNEUsU0FDbEIsT0FBdUMsSUFBaEN4RSxLQUFLb3lCLFFBQVF4eUIsS0FBTTRFLFFBMUhLLEVBaUlqQzJyQixXQWpJaUMsb0JBaUl0QnZ3QixLQUFZNEUsU0FDckIsT0FBTzVFLEtBQUsvQyxPQUFTMkgsUUFBUTNILFFBQTBDLElBQWhDbUQsS0FBS295QixRQUFReHlCLEtBQU00RSxRQWxJM0IsRUF5SWpDdXZCLFNBeklpQyxrQkF5SXhCbjBCLEtBQVk0RSxTQUNuQixPQUF3QyxJQUFqQ3hFLEtBQUtveUIsUUFBUXh5QixLQUFNNEUsUUExSUssRUFpSmpDeXhCLFFBakppQyxpQkFpSnpCcjJCLEtBQVk0RSxTQUNsQixPQUNFNUUsS0FBSy9DLFNBQVcySCxRQUFRM0gsT0FBUyxHQUFxQyxJQUFoQ21ELEtBQUtveUIsUUFBUXh5QixLQUFNNEUsUUFuSjVCLEVBMkpqQzB4QixTQTNKaUMsa0JBMkp4QnQyQixLQUFZNEUsU0FDbkIsT0FBTzVFLEtBQUsvQyxRQUFVMkgsUUFBUTNILFFBQTBDLElBQWhDbUQsS0FBS295QixRQUFReHlCLEtBQU00RSxRQTVKNUIsRUFtS2pDMnhCLGFBbktpQyxzQkFtS3BCdjJCLEtBQVk0RSxTQUN2QixPQUFPNUUsS0FBSy9DLE9BQVMySCxRQUFRM0gsUUFBMEMsSUFBaENtRCxLQUFLb3lCLFFBQVF4eUIsS0FBTTRFLFFBcEszQixFQTJLakMwZSxTQTNLaUMsa0JBMkt4QnRqQixLQUFZNEUsU0FDbkIsT0FDRTVFLEtBQUsvQyxPQUFTLElBQU0ySCxRQUFRM0gsUUFBMEMsSUFBaENtRCxLQUFLb3lCLFFBQVF4eUIsS0FBTTRFLFFBN0s1QixFQXFMakNvdEIsT0FyTGlDLGdCQXFMMUI3MUIsT0FDTCxPQUNFK1IsTUFBTXVpQixRQUFRdDBCLFNBQ0ksSUFBakJBLE1BQU1jLFFBQW9DLGlCQUFiZCxNQUFNLEdBeExQLEVBZ01qQ3U1QixVQWhNaUMsbUJBZ012QjExQixLQUFZNEUsU0FDcEIsR0FBSTVFLEtBQUsvQyxTQUFXMkgsUUFBUTNILE9BQzFCLE9BQU8sRUFHVCxJQUFNb1MsR0FBS3JQLEtBQUtZLE1BQU0sR0FBSSxHQUNwQm8xQixHQUFLcHhCLFFBQVFoRSxNQUFNLEdBQUksR0FHN0IsT0FGV1osS0FBS0EsS0FBSy9DLE9BQVMsS0FDbkIySCxRQUFRQSxRQUFRM0gsT0FBUyxJQUNoQm1ELEtBQUtnRSxPQUFPaUwsR0FBSTJtQixHQXpNTCxFQW9OakN4TSxPQXBOaUMsZ0JBb04xQnhwQixNQUlMLFFBSEEsbUJBRGlCd2MsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBNkIsQ0FBQyxHQUN2Q3RGLFFBQUFBLGFBQVIseUNBQ012UyxLQUFlLEdBRVovSCxFQUFJLEVBQUdBLEdBQUtvRCxLQUFLL0MsT0FBUUwsSUFDaEMrSCxLQUFLcUIsS0FBS2hHLEtBQUtZLE1BQU0sRUFBR2hFLElBTzFCLE9BSklzYSxTQUNGdlMsS0FBS3VTLFVBR0F2UyxJQWhPd0IsRUF1T2pDVCxLQXZPaUMsY0F1TzVCbEUsTUFDSCxHQUFvQixJQUFoQkEsS0FBSy9DLE9BQ1AsTUFBTSxJQUFJcEMsTUFBSixtREFDd0NtRixLQUR4QyxxQ0FLUixJQUFNNHhCLEtBQU81eEIsS0FBS0EsS0FBSy9DLE9BQVMsR0FDaEMsT0FBTytDLEtBQUtZLE1BQU0sR0FBSSxHQUFHc0gsT0FBTzBwQixLQUFPLEVBL09SLEVBeVBqQzVHLDBCQXpQaUMsbUNBeVBQd0wsV0FDeEIsT0FBUUEsVUFBVXBtQixNQUNoQixJQUFLLGNBQ0wsSUFBSyxjQUNMLElBQUssYUFDTCxJQUFLLGFBQ0wsSUFBSyxZQUNILE9BQU8sRUFDVCxRQUNFLE9BQU8sRUFsUW9CLEVBMFFqQ3hRLE9BMVFpQyxnQkEwUTFCSSxNQUNMLEdBQW9CLElBQWhCQSxLQUFLL0MsT0FDUCxNQUFNLElBQUlwQyxNQUFKLHVEQUEwRG1GLEtBQTFELE9BR1IsT0FBT0EsS0FBS1ksTUFBTSxHQUFJLEVBL1FTLEVBc1JqQzBtQixTQXRSaUMsa0JBc1J4QnRuQixNQUNQLEdBQW9CLElBQWhCQSxLQUFLL0MsT0FDUCxNQUFNLElBQUlwQyxNQUFKLHVEQUM0Q21GLEtBRDVDLHlDQUtSLElBQU00eEIsS0FBTzV4QixLQUFLQSxLQUFLL0MsT0FBUyxHQUVoQyxHQUFJMjBCLE1BQVEsRUFDVixNQUFNLElBQUkvMkIsTUFBSiw4REFDbURtRixLQURuRCxtREFLUixPQUFPQSxLQUFLWSxNQUFNLEdBQUksR0FBR3NILE9BQU8wcEIsS0FBTyxFQXJTUixFQTRTakM2RSxTQTVTaUMsa0JBNFN4QnoyQixLQUFZc3NCLFVBQ25CLElBQUtsc0IsS0FBS213QixXQUFXakUsU0FBVXRzQixRQUFVSSxLQUFLZ0UsT0FBT3BFLEtBQU1zc0IsVUFDekQsTUFBTSxJQUFJenhCLE1BQUosMkNBQ2dDbUYsS0FEaEMsOEJBQzBEc3NCLFNBRDFELHFEQUtSLE9BQU90c0IsS0FBS1ksTUFBTTByQixTQUFTcnZCLE9BblRJLEVBMFRqQ290QixVQTFUaUMsbUJBMlQvQnJxQixLQUNBdzJCLGVBQ0FoYSxRQUFBQSxVQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxVQUFBQSxHQUFBQSxVQUFBQSxHQUFnQyxDQUFDLEVBRWpDLE9BQU9vWSxFQUFBQSxPQUFBQSxTQUFRNTBCLE1BQU15RyxTQUFBQSxHQUNuQix1QkFBaUMrVixRQUF6QjZXLFNBQUFBLGNBQVIsdUJBQW1CLFVBQW5CLG1CQUdBLEdBQUtyekIsTUFBeUIsS0FBakJBLGdCQUFBQSxFQUFBQSxLQUFNL0MsUUFBbkIsQ0FJQSxHQUFVLE9BQU53SixFQUNGLE9BQU8sS0FHVCxPQUFRK3ZCLFVBQVVwbUIsTUFDaEIsSUFBSyxjQUNILElBQWN1RixHQUFPNmdCLFVBQWJ4MkIsTUFHTkksS0FBS2dFLE9BQU91UixHQUFJbFAsSUFDaEJyRyxLQUFLKzFCLFdBQVd4Z0IsR0FBSWxQLElBQ3BCckcsS0FBS213QixXQUFXNWEsR0FBSWxQLE1BRXBCQSxFQUFFa1AsR0FBRzFZLE9BQVMsSUFBTSxHQUd0QixNQUdGLElBQUssY0FDSCxJQUFjMFksSUFBTzZnQixVQUFieDJCLEtBRVIsR0FBSUksS0FBS2dFLE9BQU91UixJQUFJbFAsSUFBTXJHLEtBQUttd0IsV0FBVzVhLElBQUlsUCxHQUM1QyxPQUFPLEtBQ0VyRyxLQUFLKzFCLFdBQVd4Z0IsSUFBSWxQLEtBQzdCQSxFQUFFa1AsSUFBRzFZLE9BQVMsSUFBTSxHQUd0QixNQUdGLElBQUssYUFDSCxJQUFjMFksS0FBaUI2Z0IsVUFBdkJ4MkIsS0FBVXFELFNBQWFtekIsVUFBYm56QixTQUVkakQsS0FBS2dFLE9BQU91UixLQUFJbFAsSUFBTXJHLEtBQUsrMUIsV0FBV3hnQixLQUFJbFAsR0FDNUNBLEVBQUVrUCxLQUFHMVksT0FBUyxJQUFNLEVBQ1htRCxLQUFLbXdCLFdBQVc1YSxLQUFJbFAsS0FDN0JBLEVBQUVrUCxLQUFHMVksT0FBUyxJQUFNLEVBQ3BCd0osRUFBRWtQLEtBQUcxWSxTQUFXb0csVUFHbEIsTUFHRixJQUFLLGFBQ0gsSUFBY3NTLEtBQWlCNmdCLFVBQXZCeDJCLEtBQVVxRCxVQUFhbXpCLFVBQWJuekIsU0FFbEIsR0FBSWpELEtBQUtnRSxPQUFPdVIsS0FBSWxQLElBQ2xCLEdBQWlCLFlBQWI0c0IsU0FDRjVzQixFQUFFQSxFQUFFeEosT0FBUyxJQUFNLE9BQ2QsR0FBaUIsYUFBYm8yQixTQUdULE9BQU8sVUFFQWp6QixLQUFLKzFCLFdBQVd4Z0IsS0FBSWxQLEdBQzdCQSxFQUFFa1AsS0FBRzFZLE9BQVMsSUFBTSxFQUNYbUQsS0FBS213QixXQUFXNWEsS0FBSWxQLElBQU16RyxLQUFLMlYsS0FBRzFZLFNBQVdvRyxZQUN0RG9ELEVBQUVrUCxLQUFHMVksT0FBUyxJQUFNLEVBQ3BCd0osRUFBRWtQLEtBQUcxWSxTQUFXb0csV0FHbEIsTUFHRixJQUFLLFlBQ0gsSUFBY3NTLEtBQXFCNmdCLFVBQTNCeDJCLEtBQW1CMDJCLElBQVFGLFVBQWpCL08sUUFHbEIsR0FBSXJuQixLQUFLZ0UsT0FBT3VSLEtBQUkrZ0IsS0FDbEIsT0FHRixHQUFJdDJCLEtBQUttd0IsV0FBVzVhLEtBQUlsUCxJQUFNckcsS0FBS2dFLE9BQU91UixLQUFJbFAsR0FBSSxDQUNoRCxJQUFNa3dCLEtBQU9ELElBQUk5MUIsUUFNakIsT0FKSVIsS0FBSysxQixXQUFXeGdCLEtBQUkrZ0IsTUFBUS9nQixLQUFHMVksT0FBU3k1QixJQUFJejVCLFNBQzlDMDVCLEtBQUtoaEIsS0FBRzFZLE9BQVMsSUFBTSxHQUdsQjA1QixLQUFLenVCLE9BQU96QixFQUFFN0YsTUFBTStVLEtBQUcxWSxRQVBoQyxDQVNFbUQsS0FBS3MxQixVQUFVL2YsS0FBSStnQixPQUNsQnQyQixLQUFLbXdCLFdBQVdtRyxJQUFLandCLElBQU1yRyxLQUFLZ0UsT0FBT3N5QixJQUFLandCLElBRXpDckcsS0FBSysxQixXQUFXeGdCLEtBQUlsUCxHQUN0QkEsRUFBRWtQLEtBQUcxWSxPQUFTLElBQU0sRUFFcEJ3SixFQUFFa1AsS0FBRzFZLE9BQVMsSUFBTSxFQUd0Qm1ELEtBQUsrMUIsV0FBV08sSUFBS2p3QixJQUNyQnJHLEtBQUtnRSxPQUFPc3lCLElBQUtqd0IsSUFDakJyRyxLQUFLbXdCLFdBQVdtRyxJQUFLandCLElBRWpCckcsS0FBSysxQixXQUFXeGdCLEtBQUlsUCxLQUN0QkEsRUFBRWtQLEtBQUcxWSxPQUFTLElBQU0sR0FHdEJ3SixFQUFFaXdCLElBQUl6NUIsT0FBUyxJQUFNLEdBQ1ptRCxLQUFLKzFCLFdBQVd4Z0IsS0FBSWxQLEtBQ3pCckcsS0FBS2dFLE9BQU9zeUIsSUFBS2p3QixLQUNuQkEsRUFBRWl3QixJQUFJejVCLE9BQVMsSUFBTSxHQUd2QndKLEVBQUVrUCxLQUFHMVksT0FBUyxJQUFNLEdBM0d6QixDQU5XLEdBd0hmLHlCQzVkVW10QixRQUE0QixDQUt2Q0MsVUFMdUMsbUJBSzdCcnBCLElBQWMyVSxJQUN0QixJQUFRdGEsUUFBc0IyRixJQUF0QjNGLFFBQVNnNEIsU0FBYXJ5QixJQUFicXlCLFNBRWpCLEdBQWUsTUFBWGg0QixRQUFKLENBSUEsSUFBTTJFLEtBQU9JLEtBQUtpcUIsVUFBVWh2QixRQUFTc2EsR0FBSSxDQUFFMGQsV0FDM0NyeUIsSUFBSTNGLFFBQVUyRSxLQUVGLE1BQVJBLE1BQ0ZnQixJQUFJNlQsT0FOTCxDQVFGLDJ5QkNBVTBjLE1BQXdCLENBTW5DaUIsUUFObUMsaUJBTTNCL2EsTUFBYzdTLFNBQ3BCLElBQU1neUIsT0FBU3gyQixLQUFLb3lCLFFBQVEvYSxNQUFNelgsS0FBTTRFLFFBQVE1RSxNQUVoRCxPQUFlLElBQVg0MkIsT0FDRW5mLE1BQU16RSxPQUFTcE8sUUFBUW9PLFFBQWdCLEVBQ3ZDeUUsTUFBTXpFLE9BQVNwTyxRQUFRb08sT0FBZSxFQUNuQyxFQUdGNGpCLE1BZjBCLEVBc0JuQzNCLFFBdEJtQyxpQkFzQjNCeGQsTUFBYzdTLFNBQ3BCLE9BQXlDLElBQWxDMnNCLE1BQU1pQixRQUFRL2EsTUFBTzdTLFFBdkJLLEVBOEJuQ3V2QixTQTlCbUMsa0JBOEIxQjFjLE1BQWM3UyxTQUNyQixPQUEwQyxJQUFuQzJzQixNQUFNaUIsUUFBUS9hLE1BQU83UyxRQS9CSyxFQXNDbkNSLE9BdENtQyxnQkFzQzVCcVQsTUFBYzdTLFNBRW5CLE9BQ0U2UyxNQUFNekUsU0FBV3BPLFFBQVFvTyxRQUFVNVMsS0FBS2dFLE9BQU9xVCxNQUFNelgsS0FBTTRFLFFBQVE1RSxLQXpDcEMsRUFpRG5DbXpCLFFBakRtQyxpQkFpRDNCaDNCLE9BQ04sT0FDRW0wQixFQUFBQSxlQUFBQSxlQUFjbjBCLFFBQ1UsaUJBQWpCQSxNQUFNNlcsUUFDYjVTLEtBQUs0eEIsT0FBTzcxQixNQUFNNkQsS0FyRGEsRUE2RG5DcXFCLFVBN0RtQyxtQkE4RGpDNVMsTUFDQTlCLFFBQ0E2RyxRQUFBQSxVQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxVQUFBQSxHQUFBQSxVQUFBQSxHQUFpQyxDQUFDLEVBRWxDLE9BQU9vWSxFQUFBQSxPQUFBQSxTQUFRbmQsT0FBT2hSLFNBQUFBLEdBQ3BCLEdBQVUsT0FBTkEsRUFDRixPQUFPLEtBRVQsdUJBQWlDK1YsUUFBekI2VyxTQUFBQSxjQUFSLHVCQUFtQixVQUFuQixtQkFDUXJ6QixLQUFpQnlHLEVBQWpCekcsS0FBTWdULE9BQVd2TSxFQUFYdU0sT0FFZCxPQUFRMkMsR0FBR3ZGLE1BQ1QsSUFBSyxjQUNMLElBQUssWUFDSDNKLEVBQUV6RyxLQUFPSSxLQUFLaXFCLFVBQVVycUIsS0FBTTJWLEdBQUk2RyxTQUNsQyxNQUdGLElBQUssY0FFRHBjLEtBQUtnRSxPQUFPdVIsR0FBRzNWLEtBQU1BLFFBQ3BCMlYsR0FBRzNDLE9BQVNBLFFBQ1YyQyxHQUFHM0MsU0FBV0EsUUFBdUIsWUFBYnFnQixZQUUzQjVzQixFQUFFdU0sUUFBVTJDLEdBQUc5VixLQUFLNUMsUUFHdEIsTUFHRixJQUFLLGFBQ0NtRCxLQUFLZ0UsT0FBT3VSLEdBQUczVixLQUFNQSxRQUN2QnlHLEVBQUV1TSxRQUFVMkMsR0FBR3RTLFVBR2pCb0QsRUFBRXpHLEtBQU9JLEtBQUtpcUIsVUFBVXJxQixLQUFNMlYsR0FBSTZHLFNBQ2xDLE1BR0YsSUFBSyxjQUNDcGMsS0FBS2dFLE9BQU91UixHQUFHM1YsS0FBTUEsT0FBUzJWLEdBQUczQyxRQUFVQSxTQUM3Q3ZNLEVBQUV1TSxRQUFVb0gsS0FBS0MsSUFBSXJILE9BQVMyQyxHQUFHM0MsT0FBUTJDLEdBQUc5VixLQUFLNUMsU0FHbkQsTUFHRixJQUFLLGNBQ0gsR0FBSW1ELEtBQUtnRSxPQUFPdVIsR0FBRzNWLEtBQU1BLE9BQVNJLEtBQUttd0IsV0FBVzVhLEdBQUczVixLQUFNQSxNQUN6RCxPQUFPLEtBR1R5RyxFQUFFekcsS0FBT0ksS0FBS2lxQixVQUFVcnFCLEtBQU0yVixHQUFJNkcsU0FDbEMsTUFHRixJQUFLLGFBQ0gsR0FBSXBjLEtBQUtnRSxPQUFPdVIsR0FBRzNWLEtBQU1BLE1BQU8sQ0FDOUIsR0FBSTJWLEdBQUd0UyxXQUFhMlAsUUFBc0IsTUFBWnFnQixTQUM1QixPQUFPLE1BRVAxZCxHQUFHdFMsU0FBVzJQLFFBQ2IyQyxHQUFHdFMsV0FBYTJQLFFBQXVCLFlBQWJxZ0IsWUFFM0I1c0IsRUFBRXVNLFFBQVUyQyxHQUFHdFMsU0FFZm9ELEVBQUV6RyxLQUFPSSxLQUFLaXFCLFVBQVVycUIsS0FBTTJWLEdBQXJCdlYsZ0JBQUFBLGdCQUFBQSxDQUFBQSxFQUNKb2MsU0FESSxJQUVQNlcsU0FBVSxhQVhoQixNQWVFNXNCLEVBQUV6RyxLQUFPSSxLQUFLaXFCLFVBQVVycUIsS0FBTTJWLEdBQUk2RyxTQXBFNUIsR0EyRWYsMkJDOUpVK04sU0FBOEIsQ0FLekNGLFVBTHlDLG1CQUsvQnJwQixJQUFlMlUsSUFDdkIsSUFBUXRhLFFBQXNCMkYsSUFBdEIzRixRQUFTZzRCLFNBQWFyeUIsSUFBYnF5QixTQUVqQixHQUFlLE1BQVhoNEIsUUFBSixDQUlBLElBQU1vYyxNQUFROFosTUFBTWxILFVBQVVodkIsUUFBU3NhLEdBQUksQ0FBRTBkLFdBQzdDcnlCLElBQUkzRixRQUFVb2MsTUFFRCxNQUFUQSxPQUNGelcsSUFBSTZULE9BTkwsQ0FRRixnWUNTVTVQLE1BQXdCLENBTW5DeWlCLE1BTm1DLGVBTTdCN2lCLFdBQ0osbUJBRGtCMlgsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBNkIsQ0FBQyxHQUN4Q3RGLFFBQUFBLGFBQVIseUNBQ1FuRSxPQUFrQmxPLE1BQWxCa08sT0FBUXRCLE1BQVU1TSxNQUFWNE0sTUFDaEIsT0FBT3hNLE1BQU0rTCxXQUFXbk0sU0FBV3FTLFFBQy9CLENBQUNuRSxPQUFRdEIsT0FDVCxDQUFDQSxNQUFPc0IsT0FYcUIsRUFrQm5DMEQsSUFsQm1DLGFBa0IvQjVSLE9BQ0YsSUFBUzRSLElBQVQsZUFBZ0J4UixNQUFNeWlCLE1BQU03aUIsT0FBNUIsTUFDQSxPQUFPNFIsR0FwQjBCLEVBMkJuQ3JTLE9BM0JtQyxnQkEyQjVCUyxNQUFjRCxTQUNuQixPQUNFMnNCLE1BQU1udEIsT0FBT1MsTUFBTWtPLE9BQVFuTyxRQUFRbU8sU0FDbkN3ZSxNQUFNbnRCLE9BQU9TLE1BQU00TSxNQUFPN00sUUFBUTZNLE1BOUJILEVBc0NuQ2dMLFNBdENtQyxrQkFzQzFCNVgsTUFBY2hJLFFBQ3JCLEdBQUlvSSxNQUFNbXNCLFFBQVF2MEIsUUFBUyxDQUN6QixHQUNFb0ksTUFBTXdYLFNBQVM1WCxNQUFPaEksT0FBT2tXLFNBQzdCOU4sTUFBTXdYLFNBQVM1WCxNQUFPaEksT0FBTzRVLE9BRTdCLE9BQU8sRUFHVCxrQ0FBaUJ4TSxNQUFNeWlCLE1BQU03aUIsT0FBN0IsR0FBT2d5QixHQUFQLGtCQUFXQyxHQUFYLGtCQUNBLDhCQUFpQjd4QixNQUFNeWlCLE1BQU03cUIsUUFBN0IsR0FBT2s2QixHQUFQLGtCQUFXQyxHQUFYLGtCQUNBLE9BQU96RixNQUFNNEMsU0FBUzBDLEdBQUlFLEtBQU94RixNQUFNMEQsUUFBUTZCLEdBQUlFLEdBQ3BELENBRUQsa0NBQXFCL3hCLE1BQU15aUIsTUFBTTdpQixPQUFqQyxHQUFPa1EsTUFBUCxrQkFBYzBCLElBQWQsa0JBQ0l3Z0IsY0FBZSxFQUNmQyxhQUFjLEVBVWxCLE9BUkkzRixNQUFNNEIsUUFBUXQyQixTQUNoQm82QixhQUFlMUYsTUFBTWlCLFFBQVEzMUIsT0FBUWtZLFFBQVUsRUFDL0NtaUIsWUFBYzNGLE1BQU1pQixRQUFRMzFCLE9BQVE0WixNQUFRLElBRTVDd2dCLGFBQWU3MkIsS0FBS295QixRQUFRMzFCLE9BQVFrWSxNQUFNL1UsT0FBUyxFQUNuRGszQixZQUFjOTJCLEtBQUtveUIsUUFBUTMxQixPQUFRNFosSUFBSXpXLE9BQVMsR0FHM0NpM0IsY0FBZ0JDLFdBaEVVLEVBdUVuQzd1QixhQXZFbUMsc0JBdUV0QnhELE1BQWNELFNBQ3pCLElBQTBCaWdCLEtBQTFCLHlCQUFtQ2hnQixNQUFuQyxhQUNBLDhCQUFpQkksTUFBTXlpQixNQUFNN2lCLE9BQTdCLEdBQU9zeUIsR0FBUCxrQkFBV0MsR0FBWCxrQkFDQSw4QkFBaUJueUIsTUFBTXlpQixNQUFNOWlCLFNBQTdCLEdBQU95eUIsR0FBUCxrQkFBV0MsR0FBWCxrQkFDTXZpQixNQUFRd2MsTUFBTTRDLFNBQVNnRCxHQUFJRSxJQUFNQSxHQUFLRixHQUN0QzFnQixJQUFNOGEsTUFBTTRDLFNBQVNpRCxHQUFJRSxJQUFNRixHQUFLRSxHQUUxQyxPQUFJL0YsTUFBTTRDLFNBQVMxZCxJQUFLMUIsT0FDZixxZEFFQSxDQUFQLENBQVNoQyxPQUFRZ0MsTUFBT3RELE1BQU9nRixLQUFRb08sS0FqRlIsRUEwRm5DN1QsV0ExRm1DLG9CQTBGeEJuTSxPQUNULElBQVFrTyxPQUFrQmxPLE1BQWxCa08sT0FBUXRCLE1BQVU1TSxNQUFWNE0sTUFDaEIsT0FBTzhmLE1BQU0wRCxRQUFRbGlCLE9BQVF0QixNQTVGSSxFQW9HbkNxQixZQXBHbUMscUJBb0d2QmpPLE9BQ1YsSUFBUWtPLE9BQWtCbE8sTUFBbEJrTyxPQUFRdEIsTUFBVTVNLE1BQVY0TSxNQUNoQixPQUFPOGYsTUFBTW50QixPQUFPMk8sT0FBUXRCLE1BdEdLLEVBK0duQ3lDLFdBL0dtQyxvQkErR3hCclAsT0FDVCxPQUFRSSxNQUFNNk4sWUFBWWpPLE1BaEhPLEVBeUhuQzZhLFVBekhtQyxtQkF5SHpCN2EsT0FDUixPQUFRSSxNQUFNK0wsV0FBV25NLE1BMUhRLEVBaUluQ3VzQixRQWpJbUMsaUJBaUkzQmoxQixPQUNOLE9BQ0VtMEIsRUFBQUEsZUFBQUEsZUFBY24wQixRQUNkbzFCLE1BQU00QixRQUFRaDNCLE1BQU00VyxTQUNwQndlLE1BQU00QixRQUFRaDNCLE1BQU1zVixNQXJJVyxFQTZJbEM4bEIsT0E3SWtDLGdCQTZJM0IxeUIsT0FBUixpTEFDRSxPQURGLGtCQUNRLENBQUNBLE1BQU1rTyxPQUFRLFVBRHZCLE9BRUUsT0FGRixrQkFFUSxDQUFDbE8sTUFBTTRNLE1BQU8sU0FGdEIsNERBN0ltQyxFQXNKbkNzRCxNQXRKbUMsZUFzSjdCbFEsT0FDSixJQUFPa1EsTUFBUCxlQUFnQjlQLE1BQU15aUIsTUFBTTdpQixPQUE1QixNQUNBLE9BQU9rUSxLQXhKMEIsRUErSm5Dc1YsVUEvSm1DLG1CQWdLakN4bEIsTUFDQThRLFFBQ0E2RyxRQUFBQSxVQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxVQUFBQSxHQUFBQSxVQUFBQSxHQUFpQyxDQUFDLEVBRWxDLE9BQU9vWSxFQUFBQSxPQUFBQSxTQUFRL3ZCLE9BQU9nakIsU0FBQUEsR0FDcEIsR0FBVSxPQUFOQSxFQUNGLE9BQU8sS0FFVCxJQUNJMlAsZUFDQUMsY0FGSixtQkFBZ0NqYixRQUF4QjZXLFNBQUFBLGNBQVIsdUJBQW1CLFNBQW5CLG1CQUlBLEdBQWlCLFdBQWJBLFNBQXVCLENBSXpCLElBQU12Z0IsWUFBYzdOLE1BQU02TixZQUFZK1UsR0FDbEM1aUIsTUFBTXlhLFVBQVVtSSxJQUNsQjJQLGVBQWlCLFVBQ2pCQyxjQUFnQjNrQixZQUFjMGtCLGVBQWlCLGFBRS9DQSxlQUFpQixXQUNqQkMsY0FBZ0Iza0IsWUFBYzBrQixlQUFpQixVQVZuRCxLQVl3QixZQUFibkUsU0FDTHB1QixNQUFNeWEsVUFBVW1JLElBQ2xCMlAsZUFBaUIsV0FDakJDLGNBQWdCLFlBRWhCRCxlQUFpQixVQUNqQkMsY0FBZ0IsYUFHbEJELGVBQWlCbkUsU0FDakJvRSxjQUFnQnBFLFVBRWxCLElBQU10Z0IsT0FBU3dlLE1BQU1sSCxVQUFVeEMsRUFBRTlVLE9BQVE0QyxHQUFJLENBQUUwZCxTQUFVbUUsaUJBQ25EL2xCLE1BQVE4ZixNQUFNbEgsVUFBVXhDLEVBQUVwVyxNQUFPa0UsR0FBSSxDQUFFMGQsU0FBVW9FLGdCQUV2RCxJQUFLMWtCLFNBQVd0QixNQUNkLE9BQU8sS0FHVG9XLEVBQUU5VSxPQUFTQSxPQUNYOFUsRUFBRXBXLE1BQVFBLEtBeENFLEdBMENmLDJCQzFPVWdaLFNBQThCLENBS3pDSixVQUx5QyxtQkFLL0JycEIsSUFBZTJVLElBQ3ZCLElBQVF0YSxRQUFzQjJGLElBQXRCM0YsUUFBU2c0QixTQUFhcnlCLElBQWJxeUIsU0FFakIsR0FBZSxNQUFYaDRCLFFBQUosQ0FJQSxJQUFNMkUsS0FBT2lGLE1BQU1vbEIsVUFBVWh2QixRQUFTc2EsR0FBSSxDQUFFMGQsV0FDNUNyeUIsSUFBSTNGLFFBQVUyRSxLQUVGLE1BQVJBLE1BQ0ZnQixJQUFJNlQsT0FOTCxDQVFGLDZCQzdCSCxJQUFJNmlCLGVBQWtDOTdCLEVBaUJ6QmtnQixTQUE4QixDQUN6QzZiLFlBRHlDLHFCQUM3QkMsVUFDVkYsVUFBWUUsUUFGMkIsRUFLekM3YixVQUx5QyxtQkFLL0I1ZixPQUNSLE9BQU9rc0IsS0FBS3RNLFVBQVU1ZixNQUFPdTdCLFVBQzlCLDZCQ25CSSxJQUFNRyxZQUFjLFNBQWRBLFlBQ1gxeUIsS0FDQVAsU0FFQSxJQUFLLElBQU0xSSxPQUFPaUosS0FBTSxDQUN0QixJQUFNc2YsRUFBSXRmLEtBQUtqSixLQUNUd29CLEVBQUk5ZixRQUFRMUksS0FDbEIsSUFBSW8wQixFQUFBQSxlQUFBQSxlQUFjN0wsS0FBTTZMLEVBQUFBLGVBQUFBLGVBQWM1TCxJQUNwQyxJQUFLbVQsWUFBWXBULEVBQUdDLEdBQUksT0FBTyxPQUMxQixHQUFJeFcsTUFBTXVpQixRQUFRaE0sSUFBTXZXLE1BQU11aUIsUUFBUS9MLEdBQUksQ0FDL0MsR0FBSUQsRUFBRXhuQixTQUFXeW5CLEVBQUV6bkIsT0FBUSxPQUFPLEVBQ2xDLElBQUssSUFBSUwsRUFBSSxFQUFHQSxFQUFJNm5CLEVBQUV4bkIsT0FBUUwsSUFDNUIsR0FBSTZuQixFQUFFN25CLEtBQU84bkIsRUFBRTluQixHQUFJLE9BQU8sQ0FIdkIsTUFLQSxHQUFJNm5CLElBQU1DLEVBQ2YsT0FBTyxDQUVWLENBUUQsSUFBSyxJQUFNeG9CLFFBQU8wSSxRQUNoQixRQUFrQmhKLElBQWR1SixLQUFLakosWUFBdUNOLElBQWpCZ0osUUFBUTFJLE1BQ3JDLE9BQU8sRUFJWCxPQUFPLENBL0JGLHUwQkNrQk1pSSxLQUFzQixDQU9qQ0MsT0FQaUMsZ0JBTzFCdkUsS0FBWStFLGFBQ2pCLGdCQURnQzRYLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQTZCLENBQUMsR0FDdERxUCxNQUFBQSxXQUFSLG1DQUVBLFNBQVNpTSxTQUFTNzdCLEtBR2hCLE9BRkEseUJBQTBCQSxJQUExQixZQUdELENBRUQsT0FBTzQ3QixZQUNMaE0sTUFBUWlNLFNBQVNqNEIsTUFBUUEsS0FDekJnc0IsTUFBUWlNLFNBQVNsekIsU0FBV0EsUUFsQkMsRUEwQmpDa1csT0ExQmlDLGdCQTBCMUIzZSxPQUNMLE9BQU9tMEIsRUFBQUEsZUFBQUEsZUFBY24wQixRQUFnQyxpQkFBZkEsTUFBTTBELElBM0JiLEVBa0NqQ2s0QixXQWxDaUMsb0JBa0N0QjU3QixPQUNULE9BQU8rUixNQUFNdWlCLFFBQVF0MEIsUUFBVUEsTUFBTXFJLE9BQU1rc0IsU0FBQUEsS0FBRyxPQUFJdnNCLEtBQUsyVyxPQUFPNFYsSUFBaEIsR0FuQ2YsRUEwQ2pDcUUsWUExQ2lDLHFCQTBDckJ0MUIsT0FDVixZQUF5QzdELElBQWpDNkQsTUFBd0JJLElBM0NELEVBcURqQ3NuQixRQXJEaUMsaUJBcUR6QnRuQixLQUFZSixPQUNsQixJQUFLLElBQU12RCxPQUFPdUQsTUFDaEIsR0FBWSxTQUFSdkQsT0FJQzJELEtBQUs0RSxlQUFldkksTUFBUTJELEtBQUszRCxPQUFTdUQsTUFBTXZELE1BQ25ELE9BQU8sRUFJWCxPQUFPLENBaEV3QixFQXVFakMwSixZQXZFaUMscUJBdUVyQlQsS0FBWVMsY0FDdEIsSUFEUyxRQUNMQyxPQUFpQixDQUFDLGdCQUFELEdBQU1WLE9BRGxCLHVDQUdTUyxjQUhULElBR1QsSUFBSyxZQUFMLHFDQUErQixhQUFwQjJDLElBQW9CLGNBQ0hzYyxLQUExQix5QkFBbUN0YyxJQUFuQyxjQUNBLDhCQUFxQnRELE1BQU15aUIsTUFBTW5mLEtBQWpDLEdBQU93TSxNQUFQLGtCQUFjMEIsSUFBZCxrQkFDTXZTLEtBQU8sR0FDVDh6QixFQUFJLEVBSnFCLHVDQU1WbnlCLFFBTlUsSUFNN0IsSUFBSyxZQUFMLHFDQUEyQixLQUFoQmxHLEtBQWdCLGNBQ2pCMUMsT0FBVzBDLEtBQUtFLEtBQWhCNUMsT0FDRitWLE9BQVNnbEIsRUFJZixHQUhBQSxHQUFLLzZCLE9BR0Q4WCxNQUFNL0IsUUFBVUEsUUFBVXlELElBQUl6RCxRQUFVZ2xCLEVBQzFDNTdCLE9BQU80b0IsT0FBT3JsQixLQUFNa2xCLE1BQ3BCM2dCLEtBQUs4QixLQUFLckcsV0FLWixHQUNHb1YsTUFBTS9CLFNBQVd5RCxJQUFJekQsU0FDbkIrQixNQUFNL0IsU0FBV2dsQixHQUFLdmhCLElBQUl6RCxTQUFXQSxTQUN4QytCLE1BQU0vQixPQUFTZ2xCLEdBQ2Z2aEIsSUFBSXpELE9BQVNBLFFBQ1p5RCxJQUFJekQsU0FBV0EsUUFBcUIsSUFBWEEsT0FFMUI5TyxLQUFLOEIsS0FBS3JHLFVBUFosQ0FjQSxJQUFJb21CLE9BQVNwbUIsS0FDVHdlLFlBQU0sRUFDTnpHLFdBQUssRUFFVCxHQUFJakIsSUFBSXpELE9BQVNnbEIsRUFBRyxDQUNsQixJQUFNQyxJQUFNeGhCLElBQUl6RCxPQUFTQSxPQUN6QjBFLE1BQVEsZ0JBQUgsbUJBQVFxTyxRQUFSLElBQWdCbG1CLEtBQU1rbUIsT0FBT2xtQixLQUFLZSxNQUFNcTNCLE9BQzdDbFMsT0FBUyxnQkFBSCxtQkFBUUEsUUFBUixJQUFnQmxtQixLQUFNa21CLE9BQU9sbUIsS0FBS2UsTUFBTSxFQUFHcTNCLE1BQ2xELENBRUQsR0FBSWxqQixNQUFNL0IsT0FBU0EsT0FBUSxDQUN6QixJQUFNaWxCLEtBQU1sakIsTUFBTS9CLE9BQVNBLE9BQzNCbUwsT0FBUyxnQkFBSCxtQkFBUTRILFFBQVIsSUFBZ0JsbUIsS0FBTWttQixPQUFPbG1CLEtBQUtlLE1BQU0sRUFBR3EzQixRQUNqRGxTLE9BQVMsZ0JBQUgsbUJBQVFBLFFBQVIsSUFBZ0JsbUIsS0FBTWttQixPQUFPbG1CLEtBQUtlLE1BQU1xM0IsT0FDL0MsQ0FFRDc3QixPQUFPNG9CLE9BQU9lLE9BQVFsQixNQUVsQjFHLFFBQ0ZqYSxLQUFLOEIsS0FBS21ZLFFBR1pqYSxLQUFLOEIsS0FBSytmLFFBRU5yTyxPQUNGeFQsS0FBSzhCLEtBQUswUixNQXBEYSxDQXNEMUIsQ0E1RDRCLHVEQThEN0I3UixPQUFTM0IsSUFDVixDQWxFUSx1REFvRVQsT0FBTzJCLE1BQ1IsaXlCQ3JKSCwyekJDNEdPLElBQU1xeUIsZUFBaUMsQ0FLNUN0Z0IsWUFMNEMscUJBTTFDOVgsT0FDQXliLFdBQ0FpQixRQUFBQSxVQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxVQUFBQSxHQUFBQSxVQUFBQSxHQU9JLENBQUMsRUFFTDdiLE9BQU9vVyxtQkFBbUJqWCxRQUFRLFdBQ2hDLHFCQUE0RDBjLFFBQXBEMmIsUUFBQUEsYUFBUix1REFBNEQzYixRQUFuQ3JFLE1BQUFBLFdBQXpCLG9EQUE0RHFFLFFBQXBCbEYsS0FBQUEsVUFBeEMsbUJBQStDLFNBQS9DLGVBQ01kLEdBQXNCZ0csUUFBdEJoRyxHQUFJN0gsTUFBa0I2TixRQUFsQjdOLE1BQU8yRCxPQUFXa0ssUUFBWGxLLE9BTWpCLEdBSkkvUixLQUFLczBCLE9BQU90WixTQUNkQSxNQUFRLENBQUNBLFFBR1UsSUFBakJBLE1BQU10ZSxPQUFWLENBSUEsSUFBT2tJLEtBQVAsZUFBZW9XLE1BQWYsTUFxQkEsR0FoQksvRSxLQUVEQSxHQURFMVcsT0FBTzZHLFVBQ0o3RyxPQUFPNkcsVUFDSDdHLE9BQU9XLFNBQVN4RCxPQUFTLEVBQzdCMEQsT0FBTzhWLElBQUkzVyxPQUFRLElBRW5CLENBQUMsR0FHUndTLFFBQVMsR0FHRyxNQUFWQSxTQUNGQSxRQUFTLEdBR1ByTixNQUFNbXNCLFFBQVE1YSxJQUtoQixHQUpLMmhCLFVBQ0gzaEIsR0FBSzdWLE9BQU9nZixZQUFZN2YsT0FBUTBXLEtBRzlCdlIsTUFBTTZOLFlBQVkwRCxJQUNwQkEsR0FBS0EsR0FBR3pELFdBQ0gsQ0FDTCxJQUFTMEQsSUFBVCxlQUFnQnhSLE1BQU15aUIsTUFBTWxSLElBQTVCLE1BQ00rYyxTQUFXNXlCLE9BQU80eUIsU0FBU3p6QixPQUFRMlcsS0FDekN6RSxXQUFVLE9BQVFsUyxPQUFRLENBQUUwVyxLQUM1QkEsR0FBSytjLFNBQVMxZSxPQUNmLENBR0gsR0FBSTBjLE1BQU00QixRQUFRM2MsSUFBSyxDQUNSLE1BQVQ3SCxRQUVBQSxNQURFeEssS0FBSzJXLE9BQU8zVixNQUNOZ0QsU0FBQUEsTUFBQUEsR0FBQyxPQUFJaEUsS0FBSzJXLE9BQU8zUyxFQUFoQixFQUNBckksT0FBT1ksU0FBU3lFLE1BQ2pCZ0QsU0FBQUEsTUFBQUEsR0FBQyxPQUFJaEUsS0FBSzJXLE9BQU8zUyxJQUFNeEgsT0FBT0QsU0FBU1osT0FBUXFJLEVBQTlDLEVBRURBLFNBQUFBLE1BQUFBLEdBQUMsT0FBSXhILE9BQU8wVixRQUFRdlcsT0FBUXFJLEVBQTNCLEdBSWIsSUFBT3VqQixNQUFQLGVBQWdCL3FCLE9BQU80YSxNQUFNemIsT0FBUSxDQUNuQzBXLEdBQUlBLEdBQUd4VyxLQUNQMk8sTUFDQTJJLEtBQ0FhLFFBSkYsTUFPQSxJQUFJdVQsTUFRRixPQVBBLElBQVMwTSxXQUFULGVBQXNCMU0sTUFBdEIsTUFDTTBILFFBQVV6eUIsT0FBT3l5QixRQUFRdHpCLE9BQVFzNEIsWUFDakNDLFFBQVUxM0IsT0FBTzZXLE1BQU0xWCxPQUFRMFcsR0FBSTRoQixZQUN6Q3BtQixXQUFXb1gsV0FBV3RwQixPQUFRLENBQUUwVyxHQUFJN0gsTUFBTzJJLEtBQU1hLFFBQ2pELElBQU1uWSxLQUFPb3pCLFFBQVF2ZSxRQUNyQjJCLEdBQUs2aEIsUUFBVWo0QixLQUFLOEQsS0FBS2xFLE1BQVFBLElBSXBDLENBRUQsSUFBTUcsV0FBYUMsS0FBS1IsT0FBTzRXLElBQzNCakosTUFBUWlKLEdBQUdBLEdBQUd2WixPQUFTLEdBRTNCLEdBQUtrYixRQUFTeFgsT0FBTSxLQUFNYixPQUFRLENBQUUwVyxHQUFJclcsYUFBeEMsQ0FqRmdDLG1EQXFGYm9iLE9BckZhLElBcUZoQyxJQUFLLFlBQUwscUNBQTBCLEtBQWZwVyxNQUFlLGNBQ2xCbkYsTUFBT0csV0FBVytILE9BQU9xRixPQUMvQkEsUUFDQXpOLE9BQU8wbUIsTUFBTSxDQUFFcFcsS0FBTSxjQUFlcFEsS0FBQUEsTUFBTW1GLEtBQUFBLFFBQzFDcVIsR0FBS3BXLEtBQUs4RCxLQUFLc1MsR0FDaEIsQ0ExRitCLHVEQTZGaEMsR0FGQUEsR0FBS3BXLEtBQUtrbkIsU0FBUzlRLElBRWZsRSxPQUFRLENBQ1YsSUFBTW1GLE1BQVE5VyxPQUFPOFYsSUFBSTNXLE9BQVEwVyxJQUU3QmlCLE9BQ0Z6RixXQUFXTSxPQUFPeFMsT0FBUTJYLE1BRTdCLENBaEJBLENBekVBLENBVkgsR0FqQjBDLEVBNkg1QzZnQixVQTdINEMsbUJBOEgxQ3g0QixZQUNBMGMsUUFBQUEsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FLSSxDQUFDLEVBRUw3YixPQUFPb1csbUJBQW1CalgsUUFBUSxXQUNoQyxpQkFBa0UwYyxRQUExRGhHLEdBQUFBLFFBQVIsaUJBQWExVyxPQUFPNkcsVUFBcEIsNEJBQWtFNlYsUUFBbkNsRixLQUFBQSxVQUEvQixtQkFBc0MsU0FBdEMsZ0NBQWtFa0YsUUFBbEJyRSxNQUFBQSxXQUFoRCx1Q0FDTXhKLE1BQVU2TixRQUFWN04sTUFRTixHQU5hLE1BQVRBLFFBQ0ZBLE1BQVF2TyxLQUFLNHhCLE9BQU94YixJQUNoQjRoQixVQUFVdDRCLE9BQVEwVyxJQUNsQnJPLFNBQUFBLEdBQUMsT0FBSXhILE9BQU8wVixRQUFRdlcsT0FBUXFJLEVBQTNCLEdBR0ZxTyxHQU9MLElBSEEsSUFBTTJRLFFBQVV4bUIsT0FBTzRhLE1BQU16YixPQUFRLENBQUUwVyxHQUFJN0gsTUFBTzJJLEtBQU1hLFFBR3hELGdCQUZpQmpLLE1BQU1DLEtBQUtnWixTQUFTLG1CQUFJMWdCLEVBQUosaUNBQVc5RixPQUFPeXlCLFFBQVF0ekIsT0FBUTJHLEVBQXRELElBRWpCLDJCQUFnQyxDQUEzQixJQUNHekcsS0FEUixlQUN1QjZVLFFBRXJCLEdBQUk3VSxLQUFLL0MsT0FBUyxFQUNoQixNQUFNLElBQUlwQyxNQUFKLHNDQUMyQm1GLEtBRDNCLCtDQUtSLElBQ0EsaUNBRHdCVyxPQUFPd0UsS0FBS3JGLE9BQVFNLEtBQUtSLE9BQU9JLE9BQ3hELEdBQU9KLE9BQVAscUJBQWVPLFdBQWYscUJBQ01vTixNQUFRdk4sS0FBS0EsS0FBSy9DLE9BQVMsR0FDekJBLE9BQVcyQyxPQUFPYSxTQUFsQnhELE9BRVIsR0FBZSxJQUFYQSxPQUFjLENBQ2hCLElBQU1zN0IsT0FBU240QixLQUFLOEQsS0FBSy9ELFlBQ3pCNlIsV0FBV3dtQixVQUFVMTRCLE9BQVEsQ0FBRTBXLEdBQUl4VyxLQUFNK3hCLEdBQUl3RyxPQUFRcGdCLFFBQ3JEbkcsV0FBVzRaLFlBQVk5ckIsT0FBUSxDQUFFMFcsR0FBSXJXLFdBQVlnWSxPQUhuRCxNQUlPLEdBQWMsSUFBVjVLLE1BQ1R5RSxXQUFXd21CLFVBQVUxNEIsT0FBUSxDQUFFMFcsR0FBSXhXLEtBQU0reEIsR0FBSTV4QixXQUFZZ1ksYUFDcEQsR0FBSTVLLFFBQVV0USxPQUFTLEVBQUcsQ0FDL0IsSUFBTXM3QixRQUFTbjRCLEtBQUs4RCxLQUFLL0QsWUFDekI2UixXQUFXd21CLFVBQVUxNEIsT0FBUSxDQUFFMFcsR0FBSXhXLEtBQU0reEIsR0FBSXdHLFFBQVFwZ0IsT0FGaEQsS0FHQSxDQUNMLElBQU1zZ0IsVUFBWXI0QixLQUFLOEQsS0FBS2xFLE1BQ3RCdTRCLFNBQVNuNEIsS0FBSzhELEtBQUsvRCxZQUN6QjZSLFdBQVdvWCxXQUFXdHBCLE9BQVEsQ0FBRTBXLEdBQUlpaUIsVUFBV3RnQixRQUMvQ25HLFdBQVd3bUIsVUFBVTE0QixPQUFRLENBQUUwVyxHQUFJeFcsS0FBTSt4QixHQUFJd0csU0FBUXBnQixPQUN0RCxDQUNGLENBOUNILEdBdEkwQyxFQTZMNUMyVCxXQTdMNEMsb0JBOEwxQ2hzQixZQUNBMGMsUUFBQUEsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FNSSxDQUFDLEVBRUw3YixPQUFPb1csbUJBQW1CalgsUUFBUSxXQUNoQyxJQUFNNk8sTUFBaUM2TixRQUFqQzdOLE1BQU4sYUFBdUM2TixRQUExQmhHLEdBQUFBLFFBQWIsaUJBQWtCMVcsT0FBTzZHLFVBQXpCLGFBQ0Esa0JBQTRENlYsUUFBcEQyYixRQUFBQSxhQUFSLDBEQUE0RDNiLFFBQW5DckUsTUFBQUEsV0FBekIsc0RBQTREcUUsUUFBcEJsRixLQUFBQSxVQUF4QyxtQkFBK0MsU0FBL0MsZUFFQSxHQUFLZCxHQUFMLENBSUEsR0FBYSxNQUFUN0gsTUFDRixHQUFJdk8sS0FBSzR4QixPQUFPeGIsSUFBSyxDQUNuQixJQUFPNVcsT0FBUCxlQUFpQmUsT0FBT2YsT0FBT0UsT0FBUTBXLElBQXZDLE1BQ0E3SCxNQUFReEcsU0FBQUEsTUFBQUEsR0FBQyxPQUFJdkksT0FBT2EsU0FBU2djLFNBQVN0VSxFQUE3QixDQUZYLE1BSUV3RyxNQUFReEcsU0FBQUEsTUFBQUEsR0FBQyxPQUFJeEgsT0FBTzBWLFFBQVF2VyxPQUFRcUksRUFBM0IsRUFRYixJQUpLZ3dCLFNBQVdsekIsTUFBTW1zQixRQUFRNWEsTUFDNUJBLEdBQUs3VixPQUFPZ2YsWUFBWTdmLE9BQVEwVyxLQUc5QnZSLE1BQU1tc0IsUUFBUTVhLElBQ2hCLEdBQUl2UixNQUFNNk4sWUFBWTBELElBQ3BCQSxHQUFLQSxHQUFHekQsV0FDSCxDQUNMLElBQVMwRCxJQUFULGVBQWdCeFIsTUFBTXlpQixNQUFNbFIsSUFBNUIsTUFDTStjLFNBQVc1eUIsT0FBTzR5QixTQUFTenpCLE9BQVEyVyxLQUN6Q3pFLFdBQVUsT0FBUWxTLE9BQVEsQ0FBRTBXLEtBQzVCQSxHQUFLK2MsU0FBUzFlLFFBRUksTUFBZDJILFFBQVFoRyxJQUNWeEUsV0FBV00sT0FBT3hTLE9BQVEwVyxHQUU3QixDQUdILElBQU9uYixRQUFQLGVBQWtCc0YsT0FBTzRhLE1BQU16YixPQUFRLENBQUUwVyxHQUFJN0gsTUFBT3dKLE1BQU9iLE9BQTNELE1BQ01yVCxLQUFPdEQsT0FBTzJtQixTQUFTeG5CLE9BQVEsQ0FBRTBXLEdBQUk3SCxNQUFPd0osTUFBT2IsT0FFekQsR0FBS2pjLFNBQVk0SSxLQUFqQixDQUlBLDRCQUFxQjVJLFFBQXJCLEdBQU84SixLQUFQLFlBQWFuRixLQUFiLFlBQ0Esc0JBQTZCaUUsS0FBN0IsR0FBTzR0QixTQUFQLFVBQWlCeEssU0FBakIsVUFFQSxHQUFvQixJQUFoQnJuQixLQUFLL0MsUUFBb0MsSUFBcEJvcUIsU0FBU3BxQixPQUFsQyxDQUlBLElBZ0JJbzRCLFdBQ0FoeUIsU0FqQkVva0IsUUFBVXJuQixLQUFLOEQsS0FBS21qQixVQUNwQkUsV0FBYW5uQixLQUFLb25CLE9BQU94bkIsS0FBTXFuQixVQUMvQnFSLGtCQUFvQnQ0QixLQUFLczFCLFVBQVUxMUIsS0FBTXFuQixVQUN6Q21DLE9BQVN0YixNQUFNQyxLQUFLeE4sT0FBTzZvQixPQUFPMXBCLE9BQVEsQ0FBRTBXLEdBQUl4VyxRQUFTLGlEQUFoRCxJQUNaWSxNQUFNMm1CLFdBQVd0cUIsUUFDakIyRCxNQUFNLEdBQUksR0FJUCszQixjQUFnQmg0QixPQUFPNFYsTUFBTXpXLE9BQVEsQ0FDekMwVyxHQUFJeFcsS0FDSnNYLEtBQU0sVUFDTjNJLE1BQU94RyxTQUFBQSxNQUFBQSxHQUFDLE9BQUlxaEIsT0FBTy9NLFNBQVN0VSxJQUFNeXdCLG1CQUFtQjk0QixPQUFRcUksRUFBckQsSUFHSjB3QixTQUFXRixlQUFpQmg0QixPQUFPeXlCLFFBQVF0ekIsT0FBUTY0QixjQUFjLElBTXZFLEdBQUl4MEIsS0FBSzJXLE9BQU8zVixPQUFTaEIsS0FBSzJXLE9BQU8rVyxVQUFXLENBQzlDLElBQWlCaE4sS0FBakIseUJBQTBCMWYsS0FBMUIsV0FDQTlCLFNBQVd3dUIsU0FBU2h5QixLQUFLNUMsT0FDekJvNEIsV0FBYXhRLElBSGYsS0FJTyxLQUFJdmUsUUFBUTJCLFVBQVU5QyxRQUFTbUIsUUFBUTJCLFVBQVU0cEIsVUFLdEQsTUFBTSxJQUFJaDNCLE1BQUoseUNBQzhCbUYsS0FEOUIsd0VBQ2tHOGIsU0FBU0MsVUFDN0c1VyxNQUZFLFlBR0MyVyxTQUFTQyxVQUFVOFYsWUFQTGhOLEtBQXJCLHlCQUE4QjFmLEtBQTlCLFlBQ0E5QixTQUFXd3VCLFNBQVNweEIsU0FBU3hELE9BQzdCbzRCLFdBQWF4USxJQU9kLENBSUk2VCxtQkFDSDFtQixXQUFXd21CLFVBQVUxNEIsT0FBUSxDQUFFMFcsR0FBSXhXLEtBQU0reEIsR0FBSXRLLFFBQVN0UCxRQUtwRDBnQixVQUNGN21CLFdBQVc0WixZQUFZOXJCLE9BQVEsQ0FBRTBXLEdBQUlxaUIsU0FBU3g5QixRQUFVOGMsUUFTdkQ3UixRQUFRMkIsVUFBVTRwQixXQUFhbHhCLE9BQU8rd0IsUUFBUTV4QixPQUFRK3hCLFdBQ3REMXRCLEtBQUsyVyxPQUFPK1csV0FDTyxLQUFsQkEsU0FBU2h5QixNQUN5QixJQUFsQ3duQixTQUFTQSxTQUFTcHFCLE9BQVMsR0FFN0IrVSxXQUFXNFosWUFBWTlyQixPQUFRLENBQUUwVyxHQUFJNlEsU0FBVWxQLFFBRS9DclksT0FBTzBtQixNQUFNLENBQ1hwVyxLQUFNLGFBQ05wUSxLQUFNeW5CLFFBQ05wa0IsU0FDQWd5QixhQUlBd0QsVUFDRkEsU0FBU2hrQixPQXpFVixDQVBBLENBbkNBLENBTkgsR0F2TTBDLEVBeVU1QzJqQixVQXpVNEMsbUJBMFUxQzE0QixPQUNBMGMsU0FRQTdiLE9BQU9vVyxtQkFBbUJqWCxRQUFRLFdBQ2hDLElBQ0VpeUIsR0FJRXZWLFFBSkZ1VixHQURGLGFBS0l2VixRQUhGaEcsR0FBQUEsUUFGRixpQkFFTzFXLE9BQU82RyxVQUZkLDRCQUtJNlYsUUFGRmxGLEtBQUFBLFVBSEYsbUJBR1MsU0FIVCxnQ0FLSWtGLFFBREZyRSxNQUFBQSxXQUpGLHVDQU1NeEosTUFBVTZOLFFBQVY3TixNQUVOLEdBQUs2SCxHQUFMLENBSWEsTUFBVDdILFFBQ0ZBLE1BQVF2TyxLQUFLNHhCLE9BQU94YixJQUNoQjRoQixVQUFVdDRCLE9BQVEwVyxJQUNsQnJPLFNBQUFBLEdBQUMsT0FBSXhILE9BQU8wVixRQUFRdlcsT0FBUXFJLEVBQTNCLEdBT1AsSUFKQSxJQUFNMndCLE1BQVFuNEIsT0FBT3l5QixRQUFRdHpCLE9BQVFpeUIsSUFDL0JnSCxRQUFVcDRCLE9BQU80YSxNQUFNemIsT0FBUSxDQUFFMFcsR0FBSTdILE1BQU8ySSxLQUFNYSxRQUd4RCxpQkFGaUJqSyxNQUFNQyxLQUFLNHFCLFNBQVMsb0JBQUl0eUIsRUFBSixrQ0FBVzlGLE9BQU95eUIsUUFBUXR6QixPQUFRMkcsRUFBdEQsSUFFakIsNEJBQWdDLENBQTNCLElBQ0d6RyxLQURSLGdCQUN1QjZVLFFBQ2Y0UyxRQUFVcVIsTUFBTXo5QixRQUVGLElBQWhCMkUsS0FBSy9DLFFBQ1A2QyxPQUFPMG1CLE1BQU0sQ0FBRXBXLEtBQU0sWUFBYXBRLEtBQU15bkIsVUFJeENxUixNQUFNejlCLFNBQ04rRSxLQUFLczFCLFVBQVVqTyxRQUFTem5CLE9BQ3hCSSxLQUFLNjBCLFFBQVF4TixRQUFTem5CLFFBS3RCODRCLE1BQU16OUIsUUFBVStFLEtBQUs4RCxLQUFLNDBCLE1BQU16OUIsU0FFbkMsQ0FFRHk5QixNQUFNamtCLE9BaENMLENBWEgsR0FuVjBDLEVBc1k1QytXLFlBdFk0QyxxQkF1WTFDOXJCLFlBQ0EwYyxRQUFBQSxVQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxVQUFBQSxHQUFBQSxVQUFBQSxHQU1JLENBQUMsRUFFTDdiLE9BQU9vVyxtQkFBbUJqWCxRQUFRLFdBQ2hDLHNCQUE0RDBjLFFBQXBEMmIsUUFBQUEsYUFBUiwwREFBNEQzYixRQUFuQ3JFLE1BQUFBLFdBQXpCLHNEQUE0RHFFLFFBQXBCbEYsS0FBQUEsVUFBeEMsbUJBQStDLFNBQS9DLGVBQ0EsY0FBdUNrRixRQUFqQ2hHLEdBQUFBLFFBQU4sa0JBQVcxVyxPQUFPNkcsVUFBbEIsY0FBNkJnSSxNQUFVNk4sUUFBVjdOLE1BRTdCLEdBQUs2SCxHQUFMLENBSWEsTUFBVDdILFFBQ0ZBLE1BQVF2TyxLQUFLNHhCLE9BQU94YixJQUNoQjRoQixVQUFVdDRCLE9BQVEwVyxJQUNsQnJPLFNBQUFBLEdBQUMsT0FBSXhILE9BQU8wVixRQUFRdlcsT0FBUXFJLEVBQTNCLElBR0Znd0IsU0FBV2x6QixNQUFNbXNCLFFBQVE1YSxNQUM1QkEsR0FBSzdWLE9BQU9nZixZQUFZN2YsT0FBUTBXLEtBTWxDLElBSEEsSUFBTXdpQixPQUFTcjRCLE9BQU80YSxNQUFNemIsT0FBUSxDQUFFMFcsR0FBSTdILE1BQU8ySSxLQUFNYSxRQUd2RCxpQkFGaUJqSyxNQUFNQyxLQUFLNnFCLFFBQVEsb0JBQUl2eUIsRUFBSixrQ0FBVzlGLE9BQU95eUIsUUFBUXR6QixPQUFRMkcsRUFBckQsSUFFakIsNEJBQWdDLENBQTNCLElBQ0d6RyxLQURSLGdCQUN1QjZVLFFBRXJCLEdBQUk3VSxLQUFNLENBQ1IsSUFBT21GLEtBQVAsZUFBZXhFLE9BQU93RSxLQUFLckYsT0FBUUUsTUFBbkMsTUFDQUYsT0FBTzBtQixNQUFNLENBQUVwVyxLQUFNLGNBQWVwUSxLQUFNbUYsTUFDM0MsQ0FDRixDQXRCQSxDQU5ILEdBaFowQyxFQW9iNUNvbUIsU0FwYjRDLGtCQXFiMUN6ckIsT0FDQUwsV0FDQStjLFFBQUFBLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBU0ksQ0FBQyxFQUVMN2IsT0FBT29XLG1CQUFtQmpYLFFBQVEsV0FDaEMsSUFBTTZPLE1BQWlENk4sUUFBakQ3TixNQUFOLGNBQXVENk4sUUFBMUNoRyxHQUFBQSxRQUFiLGtCQUFrQjFXLE9BQU82RyxVQUF6QixjQUFvQzZyQixRQUFtQmhXLFFBQW5CZ1csUUFBU3lHLE1BQVV6YyxRQUFWeWMsTUFDN0Msa0JBS0l6YyxRQUpGMmIsUUFBQUEsYUFERix5REFLSTNiLFFBSEZsRixLQUFBQSxVQUZGLG9CQUVTLFNBRlQsK0JBS0lrRixRQUZGM2UsTUFBQUEsV0FIRixvREFLSTJlLFFBREZyRSxNQUFBQSxXQUpGLHVDQU9BLEdBQUszQixHQUFMLENBY0EsR0FWYSxNQUFUN0gsUUFDRkEsTUFBUXZPLEtBQUs0eEIsT0FBT3hiLElBQ2hCNGhCLFVBQVV0NEIsT0FBUTBXLElBQ2xCck8sU0FBQUEsR0FBQyxPQUFJeEgsT0FBTzBWLFFBQVF2VyxPQUFRcUksRUFBM0IsSUFHRmd3QixTQUFXbHpCLE1BQU1tc0IsUUFBUTVhLE1BQzVCQSxHQUFLN1YsT0FBT2dmLFlBQVk3ZixPQUFRMFcsS0FHOUIzWSxPQUFTb0gsTUFBTW1zQixRQUFRNWEsSUFBSyxDQUM5QixHQUNFdlIsTUFBTTZOLFlBQVkwRCxLQUNsQjdWLE9BQU9oQixLQUFLRyxPQUFRMFcsR0FBR3pELFFBQVEsR0FBR2xULEtBQUs1QyxPQUFTLEVBSWhELE9BRUYsSUFBTStXLFNBQVdyVCxPQUFPcVQsU0FBU2xVLE9BQVEwVyxHQUFJLENBQUU2YyxTQUFVLFdBQ3pELDhCQUFxQnB1QixNQUFNeWlCLE1BQU1sUixJQUFqQyxHQUFPekIsTUFBUCxrQkFBYzBCLElBQWQsa0JBQ015aUIsVUFBcUIsV0FBVDVoQixLQUFvQixTQUFXLFVBQzNDNmhCLGVBQWlCeDRCLE9BQU82VyxNQUFNMVgsT0FBUTJXLElBQUtBLElBQUl6VyxNQUNyRGdTLFdBQVdvWCxXQUFXdHBCLE9BQVEsQ0FDNUIwVyxHQUFJQyxJQUNKOUgsTUFDQTJJLEtBQU00aEIsVUFDTi9nQixNQUNBa1IsUUFBUzhQLGlCQUVYLElBQU1DLG1CQUFxQno0QixPQUFPOHdCLFFBQVEzeEIsT0FBUWlWLE1BQU9BLE1BQU0vVSxNQUMvRGdTLFdBQVdvWCxXQUFXdHBCLE9BQVEsQ0FDNUIwVyxHQUFJekIsTUFDSnBHLE1BQ0EySSxLQUFNNGhCLFVBQ04vZ0IsTUFDQWtSLFFBQVMrUCxxQkFFWDVpQixHQUFLeEMsU0FBU2EsUUFFSSxNQUFkMkgsUUFBUWhHLElBQ1Z4RSxXQUFXTSxPQUFPeFMsT0FBUTBXLEdBRTdCLENBRUlnYyxVQUNIQSxRQUFVLGlCQUFDNkcsS0FBTUMsVUFBUCxPQUFvQkQsT0FBU0MsUUFBN0IsR0EzRG9CLG1EQThETDM0QixPQUFPNGEsTUFBTXpiLE9BQVEsQ0FDOUMwVyxHQUNBN0gsTUFDQTJJLEtBQ0FhLFNBbEU4QixJQThEaEMsSUFBSyxZQUFMLHFDQUtJLG1EQUxRaFQsS0FLUixpQkFMY25GLEtBS2QsaUJBQ0lxMUIsV0FBNEIsQ0FBQyxFQUM3QkMsY0FBK0IsQ0FBQyxFQUd0QyxHQUFvQixJQUFoQnQxQixLQUFLL0MsT0FBVCxDQUlBLElBQUlzOEIsWUFBYSxFQUVqQixJQUFLLElBQU1DLEtBQUsvNUIsTUFDSixhQUFOKzVCLEdBQTBCLFNBQU5BLEdBSXBCaEgsUUFBUS95QixNQUFNKzVCLEdBQUlyMEIsS0FBS3EwQixNQUN6QkQsWUFBYSxFQUVUcDBCLEtBQUtWLGVBQWUrMEIsS0FBSW5FLFdBQVdtRSxHQUFLcjBCLEtBQUtxMEIsSUFFN0NQLE1BQ2MsTUFBWng1QixNQUFNKzVCLEtBQVlsRSxjQUFja0UsR0FBS1AsTUFBTTl6QixLQUFLcTBCLEdBQUkvNUIsTUFBTSs1QixLQUU5QyxNQUFaLzVCLE1BQU0rNUIsS0FBWWxFLGNBQWNrRSxHQUFLLzVCLE1BQU0rNUIsS0FLakRELFlBQ0Z6NUIsT0FBTzBtQixNQUFNLENBQ1hwVyxLQUFNLFdBQ05wUSxLQUNBcTFCLFdBQ0FDLGVBM0JILENBOEJGLENBeEcrQix1REFXL0IsQ0FYSCxHQWxjMEMsRUFrakI1Q2xNLFdBbGpCNEMsb0JBbWpCMUN0cEIsWUFDQTBjLFFBQUFBLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBT0ksQ0FBQyxFQUVMN2IsT0FBT29XLG1CQUFtQmpYLFFBQVEsV0FDaEMsb0JBQTJDMGMsUUFBbkNsRixLQUFBQSxVQUFSLG9CQUFlLFNBQWYsaUNBQTJDa0YsUUFBbEJyRSxNQUFBQSxXQUF6Qix1Q0FDTXhKLE1BQTZENk4sUUFBN0Q3TixNQUFOLGNBQW1FNk4sUUFBdERoRyxHQUFBQSxRQUFiLGtCQUFrQjFXLE9BQU82RyxVQUF6Qiw4QkFBbUU2VixRQUEvQnBWLE9BQUFBLFlBQXBDLG9CQUE2QyxFQUE3QyxnQ0FBbUVvVixRQUFuQjZNLE9BQUFBLFlBQWhELHFDQVlBLEdBVmEsTUFBVDFhLFFBQ0ZBLE1BQVF4RyxTQUFBQSxNQUFBQSxHQUFDLE9BQUl4SCxPQUFPMFYsUUFBUXZXLE9BQVFxSSxFQUEzQixHQUdQbEQsTUFBTW1zQixRQUFRNWEsTUFDaEJBLEdBQUtpakIsWUFBWTM1QixPQUFRMFcsS0FLdkJwVyxLQUFLNHhCLE9BQU94YixJQUFLLENBQ25CLElBQU14VyxLQUFPd1csR0FDUGlCLE1BQVE5VyxPQUFPOFcsTUFBTTNYLE9BQVFFLE1BQzVCSixPQUFQLGVBQWlCZSxPQUFPZixPQUFPRSxPQUFRRSxNQUF2QyxNQUNBMk8sTUFBUXhHLFNBQUFBLE1BQUFBLEdBQUMsT0FBSUEsSUFBTXZJLE1BQVYsRUFDVHdILE9BQVNxUSxNQUFNelgsS0FBSy9DLE9BQVMrQyxLQUFLL0MsT0FBUyxFQUMzQ3VaLEdBQUtpQixNQUNMNFIsUUFBUyxDQUNWLENBRUQsR0FBSzdTLEdBQUwsQ0FJQSxJQUdJa2pCLFNBSEVDLFVBQVloNUIsT0FBTzR5QixTQUFTenpCLE9BQVEwVyxHQUFJLENBQzVDNmMsU0FBVSxhQUdaLElBQ0UsSUFBT3VHLFFBQVAsZUFBa0JqNUIsT0FBTzRhLE1BQU16YixPQUFRLENBQUUwVyxHQUFJN0gsTUFBTzJJLEtBQU1hLFFBQTFELE1BRUEsSUFBS3loQixRQUNILE9BR0YsSUFBTUMsVUFBWWw1QixPQUFNLEtBQU1iLE9BQVEsQ0FBRTBXLEdBQUljLEtBQU0sWUFHbEQsSUFBS2EsT0FBUzBoQixVQUFXLENBQ3ZCLDhCQUE2QkEsVUFBN0IsR0FBTy9hLFNBQVAsY0FBaUJnYixTQUFqQixjQUVBLEdBQUl4ekIsUUFBUTJCLFVBQVU2VyxXQUFhaGYsT0FBT1ksU0FBU29lLFVBQVcsQ0FDNUQsSUFBSXBILE1BQVEvVyxPQUFPK1csTUFBTTVYLE9BQVFnNkIsVUFFakMsSUFBS3BpQixNQUFPLENBQ1YsSUFDTXFpQixVQUFZMzVCLEtBQUs4RCxLQUFLNDFCLFVBQzVCOW5CLFdBQVc0RixZQUFZOVgsT0FGVixDQUFFRCxLQUFNLElBRWdCLENBQUUyVyxHQUFJdWpCLFVBQVc1aEIsUUFDdERULE1BQVEvVyxPQUFPOFcsTUFBTTNYLE9BQVFpNkIsVUFDOUIsQ0FFRHZqQixHQUFLa0IsTUFDTDJSLFFBQVMsQ0FDVixDQUdEamlCLE9BRHNCb1AsR0FBR3hXLEtBQUsvQyxPQUFTNjhCLFNBQVM3OEIsT0FDdkIsRUFDekJvc0IsUUFBUyxDQUNWLENBRURxUSxTQUFXLzRCLE9BQU80eUIsU0FBU3p6QixPQUFRMFcsSUFDbkMsSUFqQ0UsUUFpQ0kwYyxNQUFRMWMsR0FBR3hXLEtBQUsvQyxPQUFTbUssT0FDdEI0eUIsWUFBVCxlQUF3QkosUUFBeEIsTUFDTUssV0FBYXpqQixHQUFHeFcsS0FBS1ksTUFBTSxFQUFHc3lCLE9BQ2hDN3ZCLFNBQXNCLElBQVgrRCxPQUFlb1AsR0FBR3hELE9BQVN3RCxHQUFHeFcsS0FBS2t6QixPQTVCcEMsRUFSWix1Q0FzQ3lCdnlCLE9BQU82b0IsT0FBTzFwQixPQUFRLENBQy9DMFcsR0FBSXlqQixXQUNKL2lCLFNBQVMsRUFDVGlCLFNBekNBLElBc0NGLElBQUssWUFBTCxxQ0FJSSxtREFKUWhULEtBSVIsaUJBSmNuRixPQUlkLGlCQUNFbkMsT0FBUSxFQUVaLEdBQ0VtQyxPQUFLL0MsT0FBUys4QixZQUFZLzhCLFFBQ1YsSUFBaEIrQyxPQUFLL0MsU0FDSGtiLE9BQVN4WCxPQUFPTixPQUFPUCxPQUFRcUYsTUFFakMsTUFHRixJQUFNc1MsT0FBUWtpQixVQUFVdCtCLFFBQ2xCbWMsTUFBUTdXLE9BQU82VyxNQUFNMVgsT0FBUTJYLE9BQU96WCxRQUUxQyxHQUFJcXBCLFNBQVdzUSxZQUFjaDVCLE9BQU82d0IsT0FBTzF4QixPQUFRMlgsT0FBT3pYLFFBQU8sQ0FDL0RuQyxPQUFRLEVBQ1IsSUFBTXczQixXQUFhOTBCLEtBQUtvMEIsYUFBYXh2QixNQUNyQ3JGLE9BQU8wbUIsTUFBTSxDQUNYcFcsS0FBTSxhQUNOcFEsS0FBQUEsT0FDQXFELFNBQ0FneUIsWUFFSCxDQUVEaHlCLFNBQVdyRCxPQUFLQSxPQUFLL0MsT0FBUyxJQUFNWSxPQUFTMlosTUFBUSxFQUFJLEVBQzFELENBcEVDLHVEQXNFRixHQUFrQixNQUFkZ0YsUUFBUWhHLEdBQVksQ0FDdEIsSUFBTWlCLFFBQVFpaUIsU0FBU3IrQixTQUFXc0YsT0FBTzhWLElBQUkzVyxPQUFRLElBQ3JEa1MsV0FBV00sT0FBT3hTLE9BQVEyWCxRQUMzQixDQXpFSCxTQTBFVSxjQUNSa2lCLFVBQVU5a0IsUUFDRixRQUFSLFVBQUE2a0IsZ0JBQUEseUJBQVU3a0IsT0FDWCxDQW5GQSxDQTFCSCxHQTdqQjBDLEVBa3JCNUNtWCxXQWxyQjRDLG9CQW1yQjFDbHNCLE9BQ0FMLFdBQ0ErYyxRQUFBQSxVQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxVQUFBQSxHQUFBQSxVQUFBQSxHQU1JLENBQUMsRUFFQXRPLE1BQU11aUIsUUFBUWh4QixTQUNqQkEsTUFBUSxDQUFDQSxRQUdYLElBZlEsUUFlRnhELElBQU0sQ0FBQyxFQWZMLHVDQWlCVXdELE9BakJWLElBaUJSLElBQUssWUFBTCxxQ0FBeUIsQ0FDdkJ4RCxJQUR1QixlQUNaLElBQ1osQ0FuQk8sdURBcUJSK1YsV0FBV3VaLFNBQVN6ckIsT0FBUTdELElBQUt1Z0IsUUF2c0JTLEVBK3NCNUMwZCxZQS9zQjRDLHFCQWd0QjFDcDZCLFlBQ0EwYyxRQUFBQSxVQUFBQSxPQUFBQSxRQUFBQSxJQUFBQSxVQUFBQSxHQUFBQSxVQUFBQSxHQU1JLENBQUMsRUFFTDdiLE9BQU9vVyxtQkFBbUJqWCxRQUFRLFdBQ2hDLG9CQUEwRDBjLFFBQWxEbEYsS0FBQUEsVUFBUixvQkFBZSxTQUFmLGdDQUEwRGtGLFFBQWpDM2UsTUFBQUEsV0FBekIsc0RBQTBEMmUsUUFBbEJyRSxNQUFBQSxXQUF4Qyx1Q0FDQSxjQUF1Q3FFLFFBQWpDaEcsR0FBQUEsUUFBTixrQkFBVzFXLE9BQU82RyxVQUFsQixjQUE2QmdJLE1BQVU2TixRQUFWN04sTUFFN0IsR0FBSzZILEdBQUwsQ0FJYSxNQUFUN0gsUUFDRkEsTUFBUXZPLEtBQUs0eEIsT0FBT3hiLElBQ2hCNGhCLFVBQVV0NEIsT0FBUTBXLElBQ2xCck8sU0FBQUEsR0FBQyxPQUFJeEgsT0FBTzBWLFFBQVF2VyxPQUFRcUksRUFBM0IsR0FHSC9ILEtBQUs0eEIsT0FBT3hiLE1BQ2RBLEdBQUs3VixPQUFPa0UsTUFBTS9FLE9BQVEwVyxLQUc1QixJQWxCZ0MsUUFrQjFCeEMsU0FBVy9PLE1BQU1tc0IsUUFBUTVhLElBQU03VixPQUFPcVQsU0FBU2xVLE9BQVEwVyxJQUFNLEtBQzdEMlEsUUFBVXhtQixPQUFPNGEsTUFBTXpiLE9BQVEsQ0FBRTBXLEdBQUk3SCxNQUFPMkksS0FBTWEsNkJBUzdDaWIsU0FDVCxJQUFNcHpCLEtBQU9vekIsUUFBUXZlLFFBQ2QxUCxLQUFQLGVBQWV4RSxPQUFPd0UsS0FBS3JGLE9BQVFFLE1BQW5DLE1BQ0k2RSxNQUFRbEUsT0FBT2tFLE1BQU0vRSxPQUFRRSxNQUU3Qm5DLE9BQVNtVyxXQUNYblAsTUFBUUksTUFBTW9ELGFBQWEyTCxTQUFTM1ksUUFBVXdKLFFBR2hEbU4sV0FBV3NtQixVQUFVeDRCLE9BQVEsQ0FDM0IwVyxHQUFJM1IsTUFDSjhKLE1BQU94RyxTQUFBQSxNQUFBQSxHQUFDLE9BQUk3QixRQUFRaXFCLFdBQVdwckIsT0FBU0EsS0FBSzFFLFNBQVNnYyxTQUFTdFUsRUFBdkQsRUFDUmdRLFNBeEM0Qix1Q0FvQmZqSyxNQUFNQyxLQUNyQmdaLFNBQ0Esb0JBQUkxZ0IsRUFBSixrQ0FBVzlGLE9BQU95eUIsUUFBUXR6QixPQUFRMkcsRUFGbkIsSUFNZnlRLFdBMUI4QixJQTRCaEMsSUFBSyxZQUFMLHFDQUFnQyxDQUFBaWpCLE1BQUEsY0FjL0IsQ0ExQytCLHVEQTRDNUJubUIsVUFDRkEsU0FBU2EsT0F2Q1YsQ0FOSCxHQXp0QjBDLEVBZ3hCNUN1bEIsVUFoeEI0QyxtQkFpeEIxQ3Q2QixPQUNBeUcsYUFDQWlXLFFBQUFBLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBTUksQ0FBQyxFQUVMN2IsT0FBT29XLG1CQUFtQmpYLFFBQVEsV0FDaEMsb0JBQTBEMGMsUUFBbERsRixLQUFBQSxVQUFSLG9CQUFlLFNBQWYsZ0NBQTBEa0YsUUFBakMzZSxNQUFBQSxXQUF6QixzREFBMEQyZSxRQUFsQnJFLE1BQUFBLFdBQXhDLHVDQUNNeEosTUFBaUM2TixRQUFqQzdOLE1BQU4sY0FBdUM2TixRQUExQmhHLEdBQUFBLFFBQWIsa0JBQWtCMVcsT0FBTzZHLFVBQXpCLGNBRUEsR0FBSzZQLEdBQUwsQ0FjQSxHQVZhLE1BQVQ3SCxRQUVBQSxNQURFdk8sS0FBSzR4QixPQUFPeGIsSUFDTjRoQixVQUFVdDRCLE9BQVEwVyxJQUNqQjFXLE9BQU9ZLFNBQVM2RixTQUNqQjRCLFNBQUFBLE1BQUFBLEdBQUMsT0FBSXhILE9BQU9ELFNBQVNaLE9BQVFxSSxJQUFNaEUsS0FBSzJXLE9BQU8zUyxFQUE5QyxFQUVEQSxTQUFBQSxNQUFBQSxHQUFDLE9BQUl4SCxPQUFPMFYsUUFBUXZXLE9BQVFxSSxFQUEzQixHQUlUdEssT0FBU29ILE1BQU1tc0IsUUFBUTVhLElBQUssQ0FDOUIsa0NBQXFCdlIsTUFBTXlpQixNQUFNbFIsSUFBakMsR0FBT3pCLE1BQVAsa0JBQWMwQixJQUFkLGtCQUNNekMsU0FBV3JULE9BQU9xVCxTQUFTbFUsT0FBUTBXLEdBQUksQ0FDM0M2YyxTQUFVLFdBRVpyaEIsV0FBV29YLFdBQVd0cEIsT0FBUSxDQUFFMFcsR0FBSUMsSUFBSzlILE1BQU93SixRQUNoRG5HLFdBQVdvWCxXQUFXdHBCLE9BQVEsQ0FBRTBXLEdBQUl6QixNQUFPcEcsTUFBT3dKLFFBQ2xEM0IsR0FBS3hDLFNBQVNhLFFBRUksTUFBZDJILFFBQVFoRyxJQUNWeEUsV0FBV00sT0FBT3hTLE9BQVEwVyxHQUU3QixDQWFELElBWEEsSUFXQSxhQVhjdEksTUFBTUMsS0FDbEJ4TixPQUFPNGEsTUFBTXpiLE9BQVEsQ0FDbkIwVyxHQUNBN0gsTUFBTzdPLE9BQU9ZLFNBQVM2RixTQUNuQjRCLFNBQUFBLEdBQUMsT0FBSXhILE9BQU8wVixRQUFRdlcsT0FBUXFJLEVBQTNCLEVBQ0RBLFNBQUFBLEdBQUMsT0FBSXhILE9BQU9pYixTQUFTelQsRUFBcEIsRUFDTG1QLEtBQU0sU0FDTmEsU0FJSix3QkFBa0MsQ0FBN0IsSUFBU2tpQixTQUFULGlDQUNHNVYsRUFBSXhmLE1BQU1tc0IsUUFBUTVhLElBQ3BCdlIsTUFBTW9ELGFBQWFtTyxHQUFJN1YsT0FBT2tFLE1BQU0vRSxPQUFRdTZCLFdBQzVDN2pCLEdBRUosR0FBS2lPLEVBQUwsQ0FJQSxJQUFNMEMsUUFBVWpaLE1BQU1DLEtBQ3BCeE4sT0FBTzRhLE1BQU16YixPQUFRLENBQUUwVyxHQUFJaU8sRUFBRzlWLE1BQU8ySSxLQUFNYSxTQUc3QyxHQUFJZ1AsUUFBUWxxQixPQUFTLEVBQUcsMkJBQ3RCLElBQU8rekIsTUFBUCxlQUFnQjdKLFFBQWhCLE1BQ015SyxLQUFPekssUUFBUUEsUUFBUWxxQixPQUFTLEdBQzdCcTlCLFVBQVQsZUFBc0J0SixNQUF0QixNQUNTdUosU0FBVCxlQUFxQjNJLEtBQXJCLE1BRUEsR0FBeUIsSUFBckIwSSxVQUFVcjlCLFFBQW9DLElBQXBCczlCLFNBQVN0OUIsT0FFckMsaUJBR0YsSUFBTXNxQixXQUFhbm5CLEtBQUtnRSxPQUFPazJCLFVBQVdDLFVBQ3RDbjZCLEtBQUtSLE9BQU8wNkIsV0FDWmw2QixLQUFLb25CLE9BQU84UyxVQUFXQyxVQUVyQjExQixNQUFRbEUsT0FBT2tFLE1BQU0vRSxPQUFRdzZCLFVBQVdDLFVBRXZDQyxXQUFQLGVBRHdCNzVCLE9BQU93RSxLQUFLckYsT0FBUXluQixZQUM1QyxNQUNNMkwsTUFBUTNMLFdBQVd0cUIsT0FBUyxFQUM1Qnc5QixZQUFjcjZCLEtBQUs4RCxLQUFLcTJCLFNBQVMzNUIsTUFBTSxFQUFHc3lCLFFBQzFDd0gsUUFBVSxnQkFBSCxtQkFBUW4wQixTQUFSLElBQWlCOUYsU0FBVSxLQUN4Q3VSLFdBQVc0RixZQUFZOVgsT0FBUTQ2QixRQUFTLENBQUVsa0IsR0FBSWlrQixZQUFhdGlCLFFBRTNEbkcsV0FBV3dtQixVQUFVMTRCLE9BQVEsQ0FDM0IwVyxHQUFJM1IsTUFDSjhKLE1BQU94RyxTQUFBQSxNQUFBQSxHQUFDLE9BQ043QixRQUFRaXFCLFdBQVdpSyxhQUFlQSxXQUFXLzVCLFNBQVNnYyxTQUFTdFUsRUFEekQsRUFFUjRwQixHQUFJMEksWUFBWXZ5QixPQUFPLEdBQ3ZCaVEsT0E1Qm9CLElBUXBCLFFBZEgsQ0FxQ0YsQ0FqRkEsQ0FOSCxHQXlGRCxHQUdHeWdCLG1CQUFxQixTQUFyQkEsbUJBQXNCOTRCLE9BQWdCcUYsTUFDMUMsR0FBSW1CLFFBQVEyQixVQUFVOUMsTUFBTyxDQUMzQixJQUFNb0IsUUFBVXBCLEtBQ2hCLFFBQUl4RSxPQUFPTixPQUFPUCxPQUFRcUYsT0FFYSxJQUE1Qm9CLFFBQVE5RixTQUFTeEQsUUFDbkIyN0IsbUJBQW1COTRCLE9BQVF5RyxRQUFROUYsU0FBUyxHQUx2RCxDQVNPLE9BQUlFLE9BQU9pYixTQUFTelcsS0FWN0IsRUFxQk1zMEIsWUFBYyxTQUFkQSxZQUFlMzVCLE9BQWdCK0UsT0FDbkMsR0FBSUksTUFBTTZOLFlBQVlqTyxPQUNwQixPQUFPQSxNQUFNa08sT0FFYixJQUFTMEQsSUFBVCxlQUFnQnhSLE1BQU15aUIsTUFBTTdpQixPQUE1QixNQUNNMHVCLFNBQVc1eUIsT0FBTzR5QixTQUFTenpCLE9BQVEyVyxLQUV6QyxPQURBekUsV0FBVSxPQUFRbFMsT0FBUSxDQUFFMFcsR0FBSTNSLFFBQ3pCMHVCLFNBQVMxZSxPQVBwQixFQVdNdWpCLFVBQVksU0FBWkEsVUFBYXQ0QixPQUFnQkUsTUFDakMsSUFBT21GLEtBQVAsZUFBZXhFLE9BQU93RSxLQUFLckYsT0FBUUUsTUFBbkMsTUFDQSxPQUFPbUksU0FBQUEsR0FBQyxPQUFJQSxJQUFNaEQsSUFBVixDQUZWLDh3QkN6L0JPLElBQU13MUIsb0JBQTJDLENBS3REM2hCLFNBTHNELGtCQUs3Q2xaLFlBQ1AsZ0JBRHVCMGMsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBb0MsQ0FBQyxHQUNwRHpELEtBQUFBLFVBQVIsbUJBQWUsU0FBZixlQUNRcFMsVUFBYzdHLE9BQWQ2RyxVQUVSLEdBQUtBLFVBRUUsR0FBYSxXQUFUb1MsS0FDVC9HLFdBQVdNLE9BQU94UyxPQUFRNkcsVUFBVW9NLGFBQy9CLEdBQWEsVUFBVGdHLEtBQ1QvRyxXQUFXTSxPQUFPeFMsT0FBUTZHLFVBQVU4SyxZQUMvQixHQUFhLFVBQVRzSCxLQUFrQixDQUMzQixJQUFPaEUsTUFBUCxlQUFnQjlQLE1BQU15aUIsTUFBTS9nQixXQUE1QixNQUNBcUwsV0FBV00sT0FBT3hTLE9BQVFpVixNQUZyQixNQUdBLEdBQWEsUUFBVGdFLEtBQWdCLENBQ3pCLElBQVN0QyxJQUFULGVBQWdCeFIsTUFBTXlpQixNQUFNL2dCLFdBQTVCLE1BQ0FxTCxXQUFXTSxPQUFPeFMsT0FBUTJXLElBQzNCLENBckJtRCxFQTRCdER4RSxTQTVCc0Qsa0JBNEI3Q25TLFFBQ1AsSUFBUTZHLFVBQWM3RyxPQUFkNkcsVUFFSkEsV0FDRjdHLE9BQU8wbUIsTUFBTSxDQUNYcFcsS0FBTSxnQkFDTmlsQixXQUFZMXVCLFVBQ1oydUIsY0FBZSxNQW5DaUMsRUE0Q3REeGMsS0E1Q3NELGNBNENqRGhaLFlBQWdCMGMsUUFBQUEsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBZ0MsQ0FBQyxFQUM1QzdWLFVBQWM3RyxPQUFkNkcsVUFDUixtQkFBOEQ2VixRQUF0RHZGLFNBQUFBLGNBQVIsdUJBQW1CLEVBQW5CLGtDQUE4RHVGLFFBQXhDbkksS0FBQUEsVUFBdEIsbUJBQTZCLFlBQTdCLGlDQUE4RG1JLFFBQXBCdEYsUUFBQUEsYUFBMUMseUNBQ0EsZUFBc0JzRixRQUFoQnpELEtBQUFBLFVBQU4sbUJBQWEsS0FBYixlQUVBLEdBQUtwUyxVQUFMLENBSWEsVUFBVG9TLE9BQ0ZBLEtBQU85VCxNQUFNK0wsV0FBV3JLLFdBQWEsUUFBVSxVQUdwQyxRQUFUb1MsT0FDRkEsS0FBTzlULE1BQU0rTCxXQUFXckssV0FBYSxTQUFXLFNBR2xELElBQVFvTSxPQUFrQnBNLFVBQWxCb00sT0FBUXRCLE1BQVU5SyxVQUFWOEssTUFDVm1wQixLQUFPLENBQUUzakIsU0FBVTVDLE1BQ25CNVUsTUFBd0IsQ0FBQyxFQUUvQixHQUFZLE1BQVJzWixNQUF5QixXQUFUQSxLQUFtQixDQUNyQyxJQUFNdEIsTUFBUVAsUUFDVnZXLE9BQU93ZCxPQUFPcmUsT0FBUWlULE9BQVE2bkIsTUFDOUJqNkIsT0FBTytXLE1BQU01WCxPQUFRaVQsT0FBUTZuQixNQUU3Qm5qQixRQUNGaFksTUFBTXNULE9BQVMwRSxNQUVsQixDQUVELEdBQVksTUFBUnNCLE1BQXlCLFVBQVRBLEtBQWtCLENBQ3BDLElBQU10QixPQUFRUCxRQUNWdlcsT0FBT3dkLE9BQU9yZSxPQUFRMlIsTUFBT21wQixNQUM3Qmo2QixPQUFPK1csTUFBTTVYLE9BQVEyUixNQUFPbXBCLE1BRTVCbmpCLFNBQ0ZoWSxNQUFNZ1MsTUFBUWdHLE9BRWpCLENBRUR6RixXQUFXMkYsYUFBYTdYLE9BQVFMLE1BbEMvQixDQW5EbUQsRUE0RnRENlMsT0E1RnNELGdCQTRGL0N4UyxPQUFnQmpELFFBQ3JCLElBQVE4SixVQUFjN0csT0FBZDZHLFVBR1IsR0FGQTlKLE9BQVM4RCxPQUFPa0UsTUFBTS9FLE9BQVFqRCxRQUUxQjhKLFVBQ0ZxTCxXQUFXMkYsYUFBYTdYLE9BQVFqRCxZQURsQyxDQUtBLElBQUtvSSxNQUFNbXNCLFFBQVF2MEIsUUFDakIsTUFBTSxJQUFJaEMsTUFBSiw0SUFDdUlpaEIsU0FBU0MsVUFDbEpsZixVQUtOaUQsT0FBTzBtQixNQUFNLENBQ1hwVyxLQUFNLGdCQUNOaWxCLFdBQVkxdUIsVUFDWjJ1QixjQUFlejRCLFFBYmhCLENBbkdtRCxFQXdIdERnK0IsU0F4SHNELGtCQXlIcEQvNkIsT0FDQUwsV0FDQStjLFFBQUFBLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQW9DLENBQUMsRUFFN0I3VixVQUFjN0csT0FBZDZHLFVBQ1IsZUFBd0I2VixRQUFsQnpELEtBQUFBLFVBQU4sbUJBQWEsT0FBYixlQUVBLEdBQUtwUyxVQUFMLENBSWEsVUFBVG9TLE9BQ0ZBLEtBQU85VCxNQUFNK0wsV0FBV3JLLFdBQWEsUUFBVSxVQUdwQyxRQUFUb1MsT0FDRkEsS0FBTzlULE1BQU0rTCxXQUFXckssV0FBYSxTQUFXLFNBR2xELElBQVFvTSxPQUFrQnBNLFVBQWxCb00sT0FBUXRCLE1BQVU5SyxVQUFWOEssTUFDVmdHLE1BQWlCLFdBQVRzQixLQUFvQmhHLE9BQVN0QixNQUUzQ08sV0FBVzJGLGFBQWE3WCxPQUF4QmtTLGlCQUFBQSxDQUFBQSxFQUNZLFdBQVQrRyxLQUFvQixTQUFXLFFBQWhDK2hCLGdCQUFBQSxnQkFBQUEsQ0FBQUEsRUFBK0NyakIsT0FBVWhZLFFBZDFELENBbEltRCxFQXdKdERrWSxhQXhKc0Qsc0JBd0p6QzdYLE9BQWdCTCxPQUMzQixJQUFRa0gsVUFBYzdHLE9BQWQ2RyxVQUNGbzBCLFNBQWtDLENBQUMsRUFDbkNDLFNBQTJCLENBQUMsRUFFbEMsR0FBS3IwQixVQUFMLENBSUEsSUFBSyxJQUFNNnlCLEtBQUsvNUIsT0FFTCxXQUFOKzVCLEdBQ2lCLE1BQWhCLzVCLE1BQU1zVCxTQUNMd2UsTUFBTW50QixPQUFPM0UsTUFBTXNULE9BQVFwTSxVQUFVb00sU0FDakMsVUFBTnltQixHQUNnQixNQUFmLzVCLE1BQU1nUyxRQUNMOGYsTUFBTW50QixPQUFPM0UsTUFBTWdTLE1BQU85SyxVQUFVOEssUUFDaEMsV0FBTituQixHQUF3QixVQUFOQSxHQUFpQi81QixNQUFNKzVCLEtBQU83eUIsVUFBVTZ5QixNQUUzRHVCLFNBQVN2QixHQUFLN3lCLFVBQVU2eUIsR0FDeEJ3QixTQUFTeEIsR0FBSy81QixNQUFNKzVCLElBSXBCcDlCLE9BQU9ZLEtBQUsrOUIsVUFBVTk5QixPQUFTLEdBQ2pDNkMsT0FBTzBtQixNQUFNLENBQ1hwVyxLQUFNLGdCQUNOaWxCLFdBQVkwRixTQUNaekYsY0FBZTBGLFVBckJsQixDQXdCRixHQ3RLVUMsZUFBaUMseUJBS3JDbjdCLFlBQWdCMGMsUUFBQUEsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBNkIsQ0FBQyxFQUNuRDdiLE9BQU9vVyxtQkFBbUJqWCxRQUFRLFdBQ2hDLHVCQUtJMGMsUUFKRnRGLFFBQUFBLGFBREYsMERBS0lzRixRQUhGbkksS0FBQUEsVUFGRixtQkFFUyxZQUZULGtDQUtJbUksUUFGRnZGLFNBQUFBLGNBSEYsdUJBR2EsRUFIYixvQ0FLSXVGLFFBREZyRSxNQUFBQSxXQUpGLHVDQU1BLGNBQWlEcUUsUUFBM0NoRyxHQUFBQSxRQUFOLGtCQUFXMVcsT0FBTzZHLFVBQWxCLGdDQUFpRDZWLFFBQXBCMmIsUUFBQUEsYUFBN0IseUNBRUEsR0FBSzNoQixHQUFMLENBUUEsR0FKSXZSLE1BQU1tc0IsUUFBUTVhLEtBQU92UixNQUFNNk4sWUFBWTBELE1BQ3pDQSxHQUFLQSxHQUFHekQsUUFHTndlLE1BQU00QixRQUFRM2MsSUFBSyxDQUNyQixJQUFNMGtCLGFBQWV2NkIsT0FBTSxLQUFNYixPQUFRLENBQUUwVyxHQUFJYyxLQUFNLFlBRXJELElBQUthLE9BQVMraUIsYUFBYyxDQUUxQjFrQixHQURBLGVBQXFCMGtCLGFBQXJCLEtBREYsS0FHTyxDQUNMLElBQU1OLEtBQU8sQ0FBRXZtQixLQUFNNEMsVUFJckJULEdBQUssQ0FBRXpELE9BQVF5RCxHQUFJL0UsTUFISnlGLFFBQ1h2VyxPQUFPd2QsT0FBT3JlLE9BQVEwVyxHQUFJb2tCLE9BQVNqNkIsT0FBT29VLE1BQU1qVixPQUFRLElBQ3hEYSxPQUFPK1csTUFBTTVYLE9BQVEwVyxHQUFJb2tCLE9BQVNqNkIsT0FBTzhWLElBQUkzVyxPQUFRLEtBRXpEcTRCLFNBQVUsQ0FDWCxDQUNGLENBRUQsR0FBSS8zQixLQUFLNHhCLE9BQU94YixJQUNkeEUsV0FBVzRaLFlBQVk5ckIsT0FBUSxDQUFFMFcsR0FBSTJCLGFBSXZDLElBQUlsVCxNQUFNNk4sWUFBWTBELElBQXRCLENBSUEsSUFBSzJoQixRQUFTLENBQ1osSUFBUzFoQixLQUFULGVBQWdCeFIsTUFBTXlpQixNQUFNbFIsSUFBNUIsTUFDTTJrQixTQUFXeDZCLE9BQU84VixJQUFJM1csT0FBUSxJQUUvQnl4QixNQUFNbnRCLE9BQU9xUyxLQUFLMGtCLFlBQ3JCM2tCLEdBQUs3VixPQUFPZ2YsWUFBWTdmLE9BQVEwVyxHQUFJLENBQUUyQixRQUV6QyxDQUVELGtDQUFtQmxULE1BQU15aUIsTUFBTWxSLElBQS9CLEdBQUt6QixNQUFMLGtCQUFZMEIsSUFBWixrQkFDTTJrQixXQUFhejZCLE9BQU80VixNQUFNelcsT0FBUSxDQUN0QzZPLE1BQU94RyxTQUFBQSxNQUFBQSxHQUFDLE9BQUl4SCxPQUFPMFYsUUFBUXZXLE9BQVFxSSxFQUEzQixFQUNScU8sR0FBSXpCLE1BQ0pvRCxRQUVJOGIsU0FBV3R6QixPQUFPNFYsTUFBTXpXLE9BQVEsQ0FDcEM2TyxNQUFPeEcsU0FBQUEsTUFBQUEsR0FBQyxPQUFJeEgsT0FBTzBWLFFBQVF2VyxPQUFRcUksRUFBM0IsRUFDUnFPLEdBQUlDLElBQ0owQixRQUVJa2pCLGVBQ0pELFlBQWNuSCxXQUFhN3pCLEtBQUtnRSxPQUFPZzNCLFdBQVcsR0FBSW5ILFNBQVMsSUFDM0RxSCxhQUFlbDdCLEtBQUtnRSxPQUFPMlEsTUFBTS9VLEtBQU15VyxJQUFJelcsTUFDM0MwVyxVQUFZeUIsTUFDZCxLQUNBeFgsT0FBTSxLQUFNYixPQUFRLENBQUUwVyxHQUFJekIsTUFBT3VDLEtBQU0sWUFDckNYLFFBQVV3QixNQUNaLEtBQ0F4WCxPQUFNLEtBQU1iLE9BQVEsQ0FBRTBXLEdBQUlDLElBQUthLEtBQU0sWUFHekMsR0FBSVosVUFBVyxDQUNiLElBQU15SCxPQUFTeGQsT0FBT3dkLE9BQU9yZSxPQUFRaVYsT0FHbkNvSixRQUNBaWQsWUFDQWg3QixLQUFLbXdCLFdBQVc2SyxXQUFXLEdBQUlqZCxPQUFPbmUsUUFFdEMrVSxNQUFRb0osT0FFWCxDQUVELEdBQUl4SCxRQUFTLENBQ1gsSUFBTWUsTUFBUS9XLE9BQU8rVyxNQUFNNVgsT0FBUTJXLEtBRS9CaUIsT0FBU3VjLFVBQVk3ekIsS0FBS213QixXQUFXMEQsU0FBUyxHQUFJdmMsTUFBTTFYLFFBQzFEeVcsSUFBTWlCLE1BRVQsQ0FJRCxJQUNJNmlCLFNBaEc0QixRQStGMUJwVCxRQUF1QixHQS9GRyx1Q0FrR1p4bUIsT0FBTzRhLE1BQU16YixPQUFRLENBQUUwVyxHQUFJMkIsU0FsR2YsSUFrR2hDLElBQUssWUFBTCxxQ0FBeUQsS0FBOUN1VCxNQUE4QyxjQUN2RCx1QkFBcUJBLE1BQXJCLEdBQU92bUIsS0FBUCxXQUFhbkYsS0FBYixXQUVJdTZCLFVBQTZDLElBQWpDbjZCLEtBQUtveUIsUUFBUXh5QixLQUFNdTZCLGFBSy9CcGlCLE9BQVN4WCxPQUFPTixPQUFPUCxPQUFRcUYsUUFDL0IvRSxLQUFLazJCLFNBQVN0MkIsS0FBTStVLE1BQU0vVSxRQUFVSSxLQUFLazJCLFNBQVN0MkIsS0FBTXlXLElBQUl6VyxTQUU5RG1uQixRQUFRbmhCLEtBQUswbEIsT0FDYjZPLFNBQVd2NkIsS0FFZCxDQWhIK0IsdURBa0hoQyxJQUFNbXFCLFNBQVdqYyxNQUFNQyxLQUFLZ1osU0FBUyxtQkFBSTFnQixFQUFKLGlDQUFXOUYsT0FBT3l5QixRQUFRdHpCLE9BQVEyRyxFQUF0RCxJQUNYODBCLFNBQVc1NkIsT0FBTzR5QixTQUFTenpCLE9BQVFpVixPQUNuQ3ltQixPQUFTNzZCLE9BQU80eUIsU0FBU3p6QixPQUFRMlcsS0FFdkMsSUFBSzZrQixlQUFpQjVrQixVQUFXLENBQy9CLElBQU1lLE9BQVE4akIsU0FBU2xnQyxRQUNoQjhKLE1BQVAsZUFBZXhFLE9BQU9oQixLQUFLRyxPQUFRMlgsUUFBbkMsTUFDUXpYLE1BQVN5WCxPQUFUelgsS0FDQWdULE9BQVcrQixNQUFYL0IsT0FDRm5ULEtBQU9zRixNQUFLdEYsS0FBS2UsTUFBTW9TLFFBQ3pCblQsS0FBSzVDLE9BQVMsR0FDaEI2QyxPQUFPMG1CLE1BQU0sQ0FBRXBXLEtBQU0sY0FBZXBRLEtBQUFBLE1BQU1nVCxPQUFRblQsTUFDckQsQ0FFRCxJQUFLLElBQUwsaUJBQXNCc3FCLFNBQXRCLDRCQUFnQyxDQUEzQixJQUNHbnFCLE9BRFIsZ0JBQ3VCNlUsUUFDckI3QyxXQUFXNFosWUFBWTlyQixPQUFRLENBQUUwVyxHQUFJeFcsT0FBTW1ZLE9BQzVDLENBRUQsSUFBS3hCLFFBQVMsQ0FDWixJQUFNYyxRQUFRK2pCLE9BQU9uZ0MsUUFDZDhKLE9BQVAsZUFBZXhFLE9BQU9oQixLQUFLRyxPQUFRMlgsU0FBbkMsTUFDUXpYLE9BQVN5WCxRQUFUelgsS0FDRmdULFFBQVNzb0IsYUFBZXZtQixNQUFNL0IsT0FBUyxFQUN2Q25ULE1BQU9zRixPQUFLdEYsS0FBS2UsTUFBTW9TLFFBQVF5RCxJQUFJekQsUUFDckNuVCxNQUFLNUMsT0FBUyxHQUNoQjZDLE9BQU8wbUIsTUFBTSxDQUFFcFcsS0FBTSxjQUFlcFEsS0FBQUEsT0FBTWdULE9BQUFBLFFBQVFuVCxLQUFBQSxPQUNyRCxFQUdFeTdCLGNBQ0RELGdCQUNBRyxPQUFPbmdDLFNBQ1BrZ0MsU0FBU2xnQyxTQUVUMlcsV0FBVzhaLFdBQVdoc0IsT0FBUSxDQUM1QjBXLEdBQUlnbEIsT0FBT25nQyxRQUNYODhCLFNBQVMsRUFDVGhnQixRQUlKLElBQU1zakIsV0FBYUYsU0FBUzFtQixRQUN0QjZtQixTQUFXRixPQUFPM21CLFFBQ2xCNEMsTUFBUVAsUUFBVXVrQixZQUFjQyxTQUFXQSxVQUFZRCxXQUUzQyxNQUFkamYsUUFBUWhHLElBQWNpQixPQUN4QnpGLFdBQVdNLE9BQU94UyxPQUFRMlgsTUF6SDNCLENBN0JBLENBWEgsR0FOMEMsRUFnTDVDeVIsZUFoTDRDLHdCQWlMMUNwcEIsT0FDQXNrQixjQUNBNUgsUUFBQUEsVUFBQUEsT0FBQUEsUUFBQUEsSUFBQUEsVUFBQUEsR0FBQUEsVUFBQUEsR0FBcUMsQ0FBQyxFQUV0QzdiLE9BQU9vVyxtQkFBbUJqWCxRQUFRLFdBQ2hDLHNCQUEyQzBjLFFBQW5DMmIsUUFBQUEsYUFBUiwwREFBMkMzYixRQUFsQnJFLE1BQUFBLFdBQXpCLHVDQUNBLGNBQWdDcUUsUUFBMUJoRyxHQUFBQSxRQUFOLGtCQUFXMVcsT0FBTzZHLFVBQWxCLGNBRUEsR0FBS3lkLFNBQVNubkIsUUFJVHVaLEdBQUwsQ0FFTyxHQUFJdlIsTUFBTW1zQixRQUFRNWEsSUFLdkIsR0FKSzJoQixVQUNIM2hCLEdBQUs3VixPQUFPZ2YsWUFBWTdmLE9BQVEwVyxLQUc5QnZSLE1BQU02TixZQUFZMEQsSUFDcEJBLEdBQUtBLEdBQUd6RCxXQUNILENBQ0wsSUFBUzBELElBQVQsZUFBZ0J4UixNQUFNeWlCLE1BQU1sUixJQUE1QixNQUVBLElBQUsyQixPQUFTeFgsT0FBTSxLQUFNYixPQUFRLENBQUUwVyxHQUFJQyxNQUN0QyxPQUdGLElBQU04YyxTQUFXNXlCLE9BQU80eUIsU0FBU3p6QixPQUFRMlcsS0FDekN6RSxXQUFVLE9BQVFsUyxPQUFRLENBQUUwVyxLQUM1QkEsR0FBSytjLFNBQVMxZSxPQUNmLE1BQ1F6VSxLQUFLNHhCLE9BQU94YixNQUNyQkEsR0FBSzdWLE9BQU9vVSxNQUFNalYsT0FBUTBXLEtBRzVCLEdBQUsyQixRQUFTeFgsT0FBTSxLQUFNYixPQUFRLENBQUUwVyxLQUFwQyxDQU1BLElBQU1tbEIsbUJBQXFCaDdCLE9BQU80VixNQUFNelcsT0FBUSxDQUM5QzBXLEdBQ0E3SCxNQUFPeEcsU0FBQUEsTUFBQUEsR0FBQyxPQUFJeEgsT0FBT0QsU0FBU1osT0FBUXFJLEVBQTVCLEVBQ1JtUCxLQUFNLFVBQ05hLFFBR0YsR0FBSXdqQixtQkFBb0IsQ0FDdEIsSUFBU3BrQixZQUFULGVBQXVCb2tCLG1CQUF2QixNQUVBLEdBQUloN0IsT0FBTzZXLE1BQU0xWCxPQUFRMFcsR0FBSWUsYUFFM0JmLEdBRGM3VixPQUFPK1csTUFBTTVYLE9BQVF5WCxrQkFFOUIsR0FBSTVXLE9BQU84d0IsUUFBUTN4QixPQUFRMFcsR0FBSWUsYUFBYSxDQUVqRGYsR0FEZTdWLE9BQU93ZCxPQUFPcmUsT0FBUXlYLFlBRXRDLENBQ0YsQ0FFRCxJQXpEZ0MsUUE4RHZCbkIsVUFBVCxlQUxtQnpWLE9BQU80VixNQUFNelcsT0FBUSxDQUN0QzZPLE1BQU94RyxTQUFBQSxNQUFBQSxHQUFDLE9BQUl4SCxPQUFPMFYsUUFBUXZXLE9BQVFxSSxFQUEzQixFQUNScU8sR0FDQTJCLFFBRUYsTUFDTXlqQixhQUFlajdCLE9BQU84d0IsUUFBUTN4QixPQUFRMFcsR0FBSUosV0FDMUN5bEIsV0FBYWw3QixPQUFPNlcsTUFBTTFYLE9BQVEwVyxHQUFJSixXQUN0QzBsQixhQUFlRixjQUFnQkMsV0FDL0JFLFlBQWNILGNBQWlCQSxjQUFnQkMsV0FDL0NHLFVBQVlILFdBQ1R2QixVQUFULGVBQXNCLzVCLEtBQUt5d0IsTUFBTSxDQUFFdndCLFNBQVUyakIsVUFBWSxJQUF6RCxNQUNTbVcsU0FBVCxlQUFxQmg2QixLQUFLcXhCLEtBQUssQ0FBRW54QixTQUFVMmpCLFVBQVksSUFBdkQsTUFFTStDLFFBQXVCLEdBQ3ZCOFUsUUFBVSxTQUFWQSxRQUFXLGlDQUFBNWdCLE1BQUFBLEdBQUNsVCxFQUFBQSxPQUFBQSxHQUFHMUIsRUFBQUEsT0FBQUEsR0FFbkIsUUFENEIsSUFBYkEsRUFBRXhKLFlBS2I2K0IsZ0JBS0ZDLFlBQ0EzN0IsS0FBS213QixXQUFXOXBCLEVBQUc2ekIsWUFDbkJoMEIsUUFBUTJCLFVBQVVFLEtBQ2pCckksT0FBT08sT0FBTzhILEtBQ2RySSxPQUFPWSxTQUFTeUgsT0FNakI2ekIsVUFDQTU3QixLQUFLbXdCLFdBQVc5cEIsRUFBRzh6QixXQUNuQmowQixRQUFRMkIsVUFBVUUsS0FDakJySSxPQUFPTyxPQUFPOEgsS0FDZHJJLE9BQU9ZLFNBQVN5SCxJQXpCckIsRUF4RWdDLHVDQXlHWjVILEtBQUtnYixNQUN2QixDQUFFOWEsU0FBVTJqQixVQUNaLENBQUVpTyxLQUFNNEosV0EzR3NCLElBeUdoQyxJQUFLLFlBQUwscUNBR0csS0FIUXZRLE1BR1IsY0FDR3VRLFFBQVF2USxRQUNWdkUsUUFBUW5oQixLQUFLMGxCLE1BRWhCLENBaEgrQix1REF3SGhDLElBTkEsSUFBTXdRLE9BQVMsR0FDVEMsUUFBVSxHQUNWQyxLQUFPLEdBQ1RDLFVBQVcsRUFDWHBMLFdBQVksRUFFaEIsZ0JBQXFCOUosUUFBckIsMkJBQThCLENBQXpCLElBQU9oaUIsS0FBUCxvQ0FDQ21CLFFBQVEyQixVQUFVOUMsUUFBVXJGLE9BQU9ZLFNBQVN5RSxPQUM5Q2szQixVQUFXLEVBQ1hwTCxXQUFZLEVBQ1prTCxRQUFRbjJCLEtBQUtiLE9BQ0prM0IsU0FDVEgsT0FBT2wyQixLQUFLYixNQUVaaTNCLEtBQUtwMkIsS0FBS2IsS0FFYixDQUVELG1DQUFzQnhFLE9BQU80YSxNQUFNemIsT0FBUSxDQUN6QzBXLEdBQ0E3SCxNQUFPeEcsU0FBQUEsTUFBQUEsR0FBQyxPQUFJaEUsS0FBSzJXLE9BQU8zUyxJQUFNeEgsT0FBT0QsU0FBU1osT0FBUXFJLEVBQTlDLEVBQ1JtUCxLQUFNLFVBQ05hLFFBSkYsR0FPU1osV0FBVCxlQVBBLG1CQU9BLE1BQ00ra0IsY0FBZ0IzN0IsT0FBTzh3QixRQUFRM3hCLE9BQVEwVyxHQUFJZSxZQUMzQ2dsQixZQUFjNTdCLE9BQU82VyxNQUFNMVgsT0FBUTBXLEdBQUllLFlBRXZDaWxCLFVBQVk3N0IsT0FBT3l5QixRQUN2QnR6QixPQUNBKzdCLFdBQWF6N0IsS0FBSzhELEtBQUtrUyxXQUFhQSxXQUdoQ29sQixPQUFTNzZCLE9BQU95eUIsUUFDcEJ0ekIsT0FDQXk4QixZQUFjbjhCLEtBQUs4RCxLQUFLcVQsWUFBY0EsWUFHbENrbEIsYUFBZTk3QixPQUFPeXlCLFFBQVF0ekIsT0FBUXNXLFdBRTVDcEUsV0FBV29YLFdBQVd0cEIsT0FBUSxDQUM1QjBXLEdBQ0E3SCxNQUFPeEcsU0FBQUEsTUFBQUEsR0FBQyxPQUNOOG9CLFVBQ0l0d0IsT0FBTzBWLFFBQVF2VyxPQUFRcUksR0FDdkJoRSxLQUFLMlcsT0FBTzNTLElBQU14SCxPQUFPRCxTQUFTWixPQUFRcUksRUFIeEMsRUFJUm1QLEtBQU0yWixVQUFZLFNBQVcsVUFDN0I5WSxRQUdGLElBQU1vakIsU0FBVzU2QixPQUFPeXlCLFFBQ3RCdHpCLFFBQ0N3OEIsZUFBa0JBLGVBQWlCQyxZQUNoQ244QixLQUFLOEQsS0FBS3FULFlBQ1ZBLFlBNEJOLEdBekJBdkYsV0FBVzRGLFlBQVk5WCxPQUFRbzhCLE9BQVEsQ0FDckMxbEIsR0FBSStrQixTQUFTbGdDLFFBQ2JzVCxNQUFPeEcsU0FBQUEsTUFBQUEsR0FBQyxPQUFJaEUsS0FBSzJXLE9BQU8zUyxJQUFNeEgsT0FBT0QsU0FBU1osT0FBUXFJLEVBQTlDLEVBQ1JtUCxLQUFNLFVBQ05hLFFBR0UyakIsY0FBZ0JLLFFBQVFsL0IsUUFDMUIrVSxXQUFVLE9BQVFsUyxPQUFRLENBQUUwVyxHQUFJaW1CLGFBQWE1bkIsUUFBVXNELFFBR3pEbkcsV0FBVzRGLFlBQVk5WCxPQUFRcThCLFFBQVMsQ0FDdEMzbEIsR0FBSWdtQixVQUFVbmhDLFFBQ2RzVCxNQUFPeEcsU0FBQUEsTUFBQUEsR0FBQyxPQUFJeEgsT0FBTzBWLFFBQVF2VyxPQUFRcUksRUFBM0IsRUFDUm1QLEtBQU0sU0FDTmEsUUFHRm5HLFdBQVc0RixZQUFZOVgsT0FBUXM4QixLQUFNLENBQ25DNWxCLEdBQUlnbEIsT0FBT25nQyxRQUNYc1QsTUFBT3hHLFNBQUFBLE1BQUFBLEdBQUMsT0FBSWhFLEtBQUsyVyxPQUFPM1MsSUFBTXhILE9BQU9ELFNBQVNaLE9BQVFxSSxFQUE5QyxFQUNSbVAsS0FBTSxVQUNOYSxTQUdHcUUsUUFBUWhHLEdBQUksQ0FDZixJQUFJeFcsS0FHRkEsS0FERW84QixLQUFLbi9CLE9BQVMsRUFDVG1ELEtBQUtrbkIsU0FBU2tVLE9BQU9uZ0MsU0FDbkI4Z0MsUUFBUWwvQixPQUFTLEVBQ25CbUQsS0FBS2tuQixTQUFTa1YsVUFBVW5oQyxTQUV4QitFLEtBQUtrbkIsU0FBU2lVLFNBQVNsZ0MsU0FHaEMsSUFBTW9iLE1BQU05VixPQUFPOFYsSUFBSTNXLE9BQVFFLE1BQy9CZ1MsV0FBV00sT0FBT3hTLE9BQVEyVyxNQUMzQixDQUVEOGtCLFNBQVMxbUIsUUFDVDJuQixVQUFVM25CLFFBQ1YybUIsT0FBTzNtQixPQXBMTixDQUpBLENBOUJILEdBckwwQyxFQW1aNUNILFdBblo0QyxvQkFvWjFDNVUsT0FDQUQsVUFDQTJjLFFBQUFBLFVBQUFBLE9BQUFBLFFBQUFBLElBQUFBLFVBQUFBLEdBQUFBLFVBQUFBLEdBQWlDLENBQUMsRUFFbEM3YixPQUFPb1csbUJBQW1CalgsUUFBUSxXQUNoQyxxQkFBMEIwYyxRQUFsQnJFLE1BQUFBLFdBQVIsdUNBQ0EsY0FBZ0NxRSxRQUExQmhHLEdBQUFBLFFBQU4sa0JBQVcxVyxPQUFPNkcsVUFBbEIsY0FFQSxHQUFLNlAsR0FBTCxDQVFBLEdBSklwVyxLQUFLNHhCLE9BQU94YixNQUNkQSxHQUFLN1YsT0FBT2tFLE1BQU0vRSxPQUFRMFcsS0FHeEJ2UixNQUFNbXNCLFFBQVE1YSxJQUNoQixHQUFJdlIsTUFBTTZOLFlBQVkwRCxJQUNwQkEsR0FBS0EsR0FBR3pELFdBQ0gsQ0FDTCxJQUFNMEQsSUFBTXhSLE1BQU13UixJQUFJRCxJQUN0QixJQUFLMkIsT0FBU3hYLE9BQU0sS0FBTWIsT0FBUSxDQUFFMFcsR0FBSUMsTUFDdEMsT0FFRixJQUFNMUIsTUFBUTlQLE1BQU04UCxNQUFNeUIsSUFDcEIra0IsU0FBVzU2QixPQUFPNHlCLFNBQVN6ekIsT0FBUWlWLE9BQ25DeW1CLE9BQVM3NkIsT0FBTzR5QixTQUFTenpCLE9BQVEyVyxLQUN2Q3pFLFdBQVUsT0FBUWxTLE9BQVEsQ0FBRTBXLEdBQUkyQixRQUNoQyxJQUFNdWtCLFdBQWFuQixTQUFTMW1CLFFBQ3RCOG5CLFNBQVduQixPQUFPM21CLFFBRXhCMkIsR0FBS2ttQixZQUFjQyxTQUNuQjNxQixXQUFXMkYsYUFBYTdYLE9BQVEsQ0FBRWlULE9BQVF5RCxHQUFJL0UsTUFBTytFLElBQ3RELENBR0gsR0FBSzJCLFFBQVN4WCxPQUFNLEtBQU1iLE9BQVEsQ0FBRTBXLEtBQXBDLENBSUEsUUFBeUJBLEdBQWpCeFcsS0FBUixJQUFRQSxLQUFNZ1QsT0FBZCxJQUFjQSxPQUNWblQsS0FBSzVDLE9BQVMsR0FDaEI2QyxPQUFPMG1CLE1BQU0sQ0FBRXBXLEtBQU0sY0FBZXBRLEtBQU1nVCxPQUFRblQsTUFKbkQsQ0E1QkEsQ0FOSCxHQXdDRCwyd0JDM2VVbVMsV0FBVSwyREpzVDZCLENBS2xEcVksVUFMa0QsbUJBS3hDdnFCLE9BQWdCNlYsSUFDeEI3VixPQUFPVyxVQUFXbThCLEVBQUFBLE9BQUFBLGFBQVk5OEIsT0FBT1csVUFDckMsSUFBSWtHLFVBQVk3RyxPQUFPNkcsWUFBYWkyQixFQUFBQSxPQUFBQSxhQUFZOThCLE9BQU82RyxXQUV2RCxJQUNFQSxVQWhUZSxTQUFmazJCLGFBQWdCLzhCLE9BQWdCNkcsVUFBc0JnUCxJQUMxRCxPQUFRQSxHQUFHdkYsTUFDVCxJQUFLLGNBQ0gsSUFBUXBRLEtBQWUyVixHQUFmM1YsS0FBTW1GLEtBQVN3USxHQUFUeFEsS0FDUnZGLE9BQVNXLEtBQUtYLE9BQU9FLE9BQVFFLE1BQzdCdU4sTUFBUXZOLEtBQUtBLEtBQUsvQyxPQUFTLEdBRWpDLEdBQUlzUSxNQUFRM04sT0FBT2EsU0FBU3hELE9BQzFCLE1BQU0sSUFBSXBDLE1BQUosMkRBQ2dEbUYsS0FEaEQsMkRBT1IsR0FGQUosT0FBT2EsU0FBUzhrQixPQUFPaFksTUFBTyxFQUFHcEksTUFFN0J3QixVQUFXLG9EQUNjMUIsTUFBTXN5QixPQUFPNXdCLFlBRDNCLElBQ2IsSUFBSyxZQUFMLHFDQUFvRCxtREFBeEM4USxNQUF3QyxpQkFDbEQ5USxVQURrRCxrQkFDakM0cUIsTUFBTWxILFVBQVU1UyxNQUFPOUIsR0FDekMsQ0FIWSx1REFJZCxDQUVELE1BR0YsSUFBSyxjQUNILElBQVEzVixNQUF1QjJWLEdBQXZCM1YsS0FBTWdULE9BQWlCMkMsR0FBakIzQyxPQUFRblQsS0FBUzhWLEdBQVQ5VixLQUN0QixHQUFvQixJQUFoQkEsS0FBSzVDLE9BQWMsTUFDdkIsSUFBTWtJLE1BQU81RSxLQUFLWixLQUFLRyxPQUFRRSxPQUN6Qm1lLE9BQVNoWixNQUFLdEYsS0FBS2UsTUFBTSxFQUFHb1MsUUFDNUIwRSxNQUFRdlMsTUFBS3RGLEtBQUtlLE1BQU1vUyxRQUc5QixHQUZBN04sTUFBS3RGLEtBQU9zZSxPQUFTdGUsS0FBTzZYLE1BRXhCL1EsVUFBVyxvREFDYzFCLE1BQU1zeUIsT0FBTzV3QixZQUQzQixJQUNiLElBQUssWUFBTCxxQ0FBb0QsbURBQXhDOFEsT0FBd0MsaUJBQ2xEOVEsVUFEa0Qsa0JBQ2pDNHFCLE1BQU1sSCxVQUFVNVMsT0FBTzlCLEdBQ3pDLENBSFksdURBSWQsQ0FFRCxNQUdGLElBQUssYUFDSCxJQUFRM1YsT0FBUzJWLEdBQVQzVixLQUNGbUYsT0FBTzVFLEtBQUs0RixJQUFJckcsT0FBUUUsUUFDeEJxbkIsU0FBV2puQixLQUFLa25CLFNBQVN0bkIsUUFDekJpRSxLQUFPMUQsS0FBSzRGLElBQUlyRyxPQUFRdW5CLFVBQ3hCem5CLFFBQVNXLEtBQUtYLE9BQU9FLE9BQVFFLFFBQzdCdU4sT0FBUXZOLE9BQUtBLE9BQUsvQyxPQUFTLEdBRWpDLEdBQUlrSCxLQUFLMlcsT0FBTzNWLFNBQVNoQixLQUFLMlcsT0FBTzdXLE1BQ25DQSxLQUFLcEUsTUFBUXNGLE9BQUt0RixTQUNiLElBQUtzRSxLQUFLMlcsT0FBTzNWLFNBQVVoQixLQUFLMlcsT0FBTzdXLE1BRzVDLE1BQU0sSUFBSXBKLE1BQUoseURBQzhDbUYsT0FEOUMsK0NBQ3lGOGIsU0FBU0MsVUFDcEc1VyxRQUZFLFlBR0MyVyxTQUFTQyxVQUFVOVgsUUFOeUIsb0JBQ25EQSxlQUFBQSxLQUFLeEQsVUFBU3VGLEtBQWQvQixNQUFBQSxlQUFBQSxtQkFBc0JrQixPQUFLMUUsVUFPNUIsQ0FJRCxHQUZBYixRQUFPYSxTQUFTOGtCLE9BQU9oWSxPQUFPLEdBRTFCNUcsVUFBVyxvREFDYzFCLE1BQU1zeUIsT0FBTzV3QixZQUQzQixJQUNiLElBQUssWUFBTCxxQ0FBb0QsbURBQXhDOFEsUUFBd0MsaUJBQ2xEOVEsVUFEa0Qsa0JBQ2pDNHFCLE1BQU1sSCxVQUFVNVMsUUFBTzlCLEdBQ3pDLENBSFksdURBSWQsQ0FFRCxNQUdGLElBQUssWUFDSCxJQUFRM1YsT0FBa0IyVixHQUFsQjNWLEtBQU15bkIsUUFBWTlSLEdBQVo4UixRQUVkLEdBQUlybkIsS0FBS213QixXQUFXdndCLE9BQU15bkIsU0FDeEIsTUFBTSxJQUFJNXNCLE1BQUosOEJBQ21CbUYsT0FEbkIsMEJBQ3lDeW5CLFFBRHpDLGdEQUtSLElBQU10aUIsT0FBTzVFLEtBQUs0RixJQUFJckcsT0FBUUUsUUFDeEJKLFNBQVNXLEtBQUtYLE9BQU9FLE9BQVFFLFFBQzdCdU4sUUFBUXZOLE9BQUtBLE9BQUsvQyxPQUFTLEdBUWpDMkMsU0FBT2EsU0FBUzhrQixPQUFPaFksUUFBTyxHQUM5QixJQUFNdXZCLFNBQVcxOEIsS0FBS2lxQixVQUFVcnFCLE9BQU0yVixJQUNoQzRXLFVBQVloc0IsS0FBSzRGLElBQUlyRyxPQUFRTSxLQUFLUixPQUFPazlCLFdBQ3pDdFEsU0FBV3NRLFNBQVNBLFNBQVM3L0IsT0FBUyxHQUk1QyxHQUZBc3ZCLFVBQVU5ckIsU0FBUzhrQixPQUFPaUgsU0FBVSxFQUFHcm5CLFFBRW5Dd0IsVUFBVyxvREFDYzFCLE1BQU1zeUIsT0FBTzV3QixZQUQzQixJQUNiLElBQUssWUFBTCxxQ0FBb0QsbURBQXhDOFEsUUFBd0MsaUJBQ2xEOVEsVUFEa0Qsa0JBQ2pDNHFCLE1BQU1sSCxVQUFVNVMsUUFBTzlCLEdBQ3pDLENBSFksdURBSWQsQ0FFRCxNQUdGLElBQUssY0FDSCxJQUFRM1YsT0FBUzJWLEdBQVQzVixLQUNGdU4sUUFBUXZOLE9BQUtBLE9BQUsvQyxPQUFTLEdBTWpDLEdBTGVzRCxLQUFLWCxPQUFPRSxPQUFRRSxRQUM1QlMsU0FBUzhrQixPQUFPaFksUUFBTyxHQUkxQjVHLFVBQVcsb0RBQ2MxQixNQUFNc3lCLE9BQU81d0IsWUFEM0IsSUFDYixJQUFLLFlBQUwscUNBQW9ELG1EQUF4QzhRLFFBQXdDLGlCQUFqQ3ZiLE1BQWlDLGlCQUM1QzA2QixPQUFTckYsTUFBTWxILFVBQVU1UyxRQUFPOUIsSUFFdEMsR0FBaUIsTUFBYmhQLFdBQStCLE1BQVZpd0IsT0FDdkJqd0IsVUFBVXpLLE9BQU8wNkIsV0FDWixDQUNMLElBREssUUFDRDN5QixXQUFpQyxFQUNqQ0MsVUFBaUMsRUFGaEMsdUNBSWdCM0QsS0FBSzRHLE1BQU1ySCxTQUozQixJQUlMLElBQUssWUFBTCxxQ0FBeUMsbURBQTdCcUksRUFBNkIsaUJBQTFCMUIsRUFBMEIsaUJBQ3ZDLElBQStCLElBQTNCckcsS0FBS295QixRQUFRL3JCLEVBQUd6RyxRQUViLENBQ0xrRSxLQUFPLENBQUNpRSxFQUFHMUIsR0FDWCxLQUNELENBSkN4QyxNQUFPLENBQUNrRSxFQUFHMUIsRUFLZCxDQVhJLHVEQWFMLElBQUlzMkIsWUFBYSxFQUNiOTRCLE9BQVFDLE9BRVI2NEIsV0FERTM4QixLQUFLZ0UsT0FBT0YsS0FBSyxHQUFJbEUsU0FDVEksS0FBS2cyQixZQUFZbHlCLEtBQUssSUFHbEM5RCxLQUFLb25CLE9BQU92akIsTUFBSyxHQUFJakUsUUFBTS9DLE9BQzNCbUQsS0FBS29uQixPQUFPdGpCLEtBQUssR0FBSWxFLFFBQU0vQyxRQUk3QmdILFFBQVM4NEIsWUFDWHRsQixRQUFNelgsS0FBT2lFLE1BQUssR0FDbEJ3VCxRQUFNekUsT0FBUy9PLE1BQUssR0FBR3BFLEtBQUs1QyxRQUNuQmlILE1BQ1R1VCxRQUFNelgsS0FBT2tFLEtBQUssR0FDbEJ1VCxRQUFNekUsT0FBUyxHQUVmck0sVUFBWSxJQUVmLENBQ0YsQ0F4Q1ksdURBeUNkLENBRUQsTUFHRixJQUFLLGNBQ0gsSUFBUTNHLE9BQXVCMlYsR0FBdkIzVixLQUFNZ1QsUUFBaUIyQyxHQUFqQjNDLE9BQVFuVCxNQUFTOFYsR0FBVDlWLEtBQ3RCLEdBQW9CLElBQWhCQSxNQUFLNUMsT0FBYyxNQUN2QixJQUFNa0ksT0FBTzVFLEtBQUtaLEtBQUtHLE9BQVFFLFFBQ3pCbWUsUUFBU2haLE9BQUt0RixLQUFLZSxNQUFNLEVBQUdvUyxTQUM1QjBFLE9BQVF2UyxPQUFLdEYsS0FBS2UsTUFBTW9TLFFBQVNuVCxNQUFLNUMsUUFHNUMsR0FGQWtJLE9BQUt0RixLQUFPc2UsUUFBU3pHLE9BRWpCL1EsVUFBVyxvREFDYzFCLE1BQU1zeUIsT0FBTzV3QixZQUQzQixJQUNiLElBQUssWUFBTCxxQ0FBb0QsbURBQXhDOFEsUUFBd0MsaUJBQ2xEOVEsVUFEa0Qsa0JBQ2pDNHFCLE1BQU1sSCxVQUFVNVMsUUFBTzlCLEdBQ3pDLENBSFksdURBSWQsQ0FFRCxNQUdGLElBQUssV0FDSCxJQUFRM1YsT0FBb0MyVixHQUFwQzNWLEtBQU1xMUIsV0FBOEIxZixHQUE5QjBmLFdBQVlDLGNBQWtCM2YsR0FBbEIyZixjQUUxQixHQUFvQixJQUFoQnQxQixPQUFLL0MsT0FDUCxNQUFNLElBQUlwQyxNQUFKLDJDQUdSLElBQU1zSyxPQUFPNUUsS0FBSzRGLElBQUlyRyxPQUFRRSxRQUU5QixJQUFLLElBQU05RCxTQUFPbzVCLGNBQWUsQ0FDL0IsR0FBWSxhQUFScDVCLE9BQThCLFNBQVJBLE1BQ3hCLE1BQU0sSUFBSXJCLE1BQUosMEJBQTZCcUIsTUFBN0IseUJBR1IsSUFBTUMsTUFBUW01QixjQUFjcDVCLE9BRWYsTUFBVEMsYUFDS2dKLE9BQUtqSixPQUVaaUosT0FBS2pKLE9BQU9DLEtBbkJELENBd0JmLElBQUssSUFBTUQsU0FBT201QixXQUNYQyxjQUFjN3dCLGVBQWV2SSxlQUN6QmlKLE9BQUtqSixPQUloQixNQUdGLElBQUssZ0JBQ0gsSUFBUW81QixlQUFrQjNmLEdBQWxCMmYsY0FFUixHQUFxQixNQUFqQkEsZUFDRjN1QixVQUFZMnVCLG1CQUNQLENBQ0wsR0FBaUIsTUFBYjN1QixVQUFtQixDQUNyQixJQUFLMUIsTUFBTW1zQixRQUFRa0UsZ0JBQ2pCLE1BQU0sSUFBSXo2QixNQUFKLDBFQUMrRGloQixTQUFTQyxVQUMxRXVaLGdCQUZFLHlDQU9SM3VCLFVBQVksZ0JBQUgsR0FBUTJ1QixlQUNsQixDQUVELElBQUssSUFBTXA1QixTQUFPbzVCLGVBQWUsQ0FDL0IsSUFBTW41QixPQUFRbTVCLGVBQWNwNUIsT0FFNUIsR0FBYSxNQUFUQyxPQUFlLENBQ2pCLEdBQVksV0FBUkQsT0FBNEIsVUFBUkEsTUFDdEIsTUFBTSxJQUFJckIsTUFBSiw2QkFBZ0NxQixNQUFoQyxnQ0FHRHlLLFVBQVV6SyxNQUxuQixNQU9FeUssVUFBVXpLLE9BQU9DLE1BRXBCLENBQ0YsQ0FFRCxNQUdGLElBQUssYUFDSCxJQUFRNkQsT0FBK0IyVixHQUEvQjNWLEtBQU1xRCxTQUF5QnNTLEdBQXpCdFMsU0FBVWd5QixZQUFlMWYsR0FBZjBmLFdBRXhCLEdBQW9CLElBQWhCcjFCLE9BQUsvQyxPQUNQLE1BQU0sSUFBSXBDLE1BQUoseURBQzhDbUYsT0FEOUMsNkNBS1IsSUFHSWc5QixRQUhFNzNCLE9BQU81RSxLQUFLNEYsSUFBSXJHLE9BQVFFLFFBQ3hCSixTQUFTVyxLQUFLWCxPQUFPRSxPQUFRRSxRQUM3QnVOLFFBQVF2TixPQUFLQSxPQUFLL0MsT0FBUyxHQUdqQyxHQUFJa0gsS0FBSzJXLE9BQU8zVixRQUFPLENBQ3JCLElBQU1nWixTQUFTaFosT0FBS3RGLEtBQUtlLE1BQU0sRUFBR3lDLFVBQzVCcVUsUUFBUXZTLE9BQUt0RixLQUFLZSxNQUFNeUMsVUFDOUI4QixPQUFLdEYsS0FBT3NlLFNBQ1o2ZSxRQUFVLGdCQUFILG1CQUNEM0gsYUFEQyxJQUVMeDFCLEtBQU02WCxTQU5WLEtBUU8sQ0FDTCxJQUFNeUcsU0FBU2haLE9BQUsxRSxTQUFTRyxNQUFNLEVBQUd5QyxVQUNoQ3FVLFFBQVF2UyxPQUFLMUUsU0FBU0csTUFBTXlDLFVBQ2xDOEIsT0FBSzFFLFNBQVcwZCxTQUVoQjZlLFFBQVUsZ0JBQUgsbUJBQ0QzSCxhQURDLElBRUw1MEIsU0FBVWlYLFNBRWIsQ0FJRCxHQUZBOVgsU0FBT2EsU0FBUzhrQixPQUFPaFksUUFBUSxFQUFHLEVBQUd5dkIsU0FFakNyMkIsVUFBVyxvREFDYzFCLE1BQU1zeUIsT0FBTzV3QixZQUQzQixJQUNiLElBQUssWUFBTCxxQ0FBb0QsbURBQXhDOFEsUUFBd0MsaUJBQ2xEOVEsVUFEa0Qsa0JBQ2pDNHFCLE1BQU1sSCxVQUFVNVMsUUFBTzlCLEdBQ3pDLENBSFksdURBSWQsRUFLTCxPQUFPaFAsU0FuU1QsQ0FnVGtCazJCLENBQWEvOEIsT0FBUTZHLFVBQVdnUCxHQUQ5QyxTQUdFN1YsT0FBT1csVUFBV3c4QixFQUFBQSxPQUFBQSxhQUFZbjlCLE9BQU9XLFVBR25DWCxPQUFPNkcsVUFETEEsV0FDaUJ1MkIsRUFBQUEsT0FBQUEsU0FBUXYyQixZQUN0QnMyQixFQUFBQSxPQUFBQSxhQUFZdDJCLFdBQ2JBLFVBRWUsSUFFdEIsQ0FDRixJSXZVRXV4QixnQkFDQXlDLHFCQUNBTSx5R0NWTGtDLE9BQU9DLFFBV1AsU0FBUzV2QixVQUFVclIsT0FHakIsR0FGQUEsTUFBUXFELE9BQU9yRCxPQUFTLElBRXBCa2hDLElBQUlwL0IsS0FBSzlCLE9BQ1gsTUFBTyxNQUdULEdBQUltaEMsSUFBSXIvQixLQUFLOUIsT0FDWCxNQUFPLE1BR1QsTUFBTyxTQUNULEVBckJBLElBQ0lvaEMsSUFDRixrQ0FJRUYsSUFBTSxJQUFJRyxPQUFPLE1BQVFELElBQVIsaUJBQ2pCRCxJQUFNLElBQUlFLE9BQU8sa0JBQXNCRCxJQUFNLGtHQ1hqRCxTQUFTcDFCLEVBQUVBLEdBQUcsSUFBSSxJQUFJNnJCLEVBQUV5SixVQUFVeGdDLE9BQU80cUIsRUFBRTNaLE1BQU04bEIsRUFBRSxFQUFFQSxFQUFFLEVBQUUsR0FBR3pOLEVBQUUsRUFBRUEsRUFBRXlOLEVBQUV6TixJQUFJc0IsRUFBRXRCLEVBQUUsR0FBR2tYLFVBQVVsWCxHQUFHLE1BQU0xckIsTUFBTSw4QkFBOEJzTixHQUFHMGYsRUFBRTVxQixPQUFPLElBQUk0cUIsRUFBRW1MLEtBQUksU0FBVTdxQixHQUFHLE1BQU0sSUFBSUEsRUFBRSxHQUFJLElBQUcyaUIsS0FBSyxLQUFLLElBQUksbURBQW1ELENBQUMsU0FBU2tKLEVBQUU3ckIsR0FBRyxRQUFRQSxLQUFLQSxFQUFFdTFCLEVBQUUsQ0FBQyxTQUFTN1YsRUFBRTFmLEdBQUcsUUFBUUEsSUFBSSxTQUFTQSxHQUFHLElBQUlBLEdBQUcsaUJBQWlCQSxFQUFFLE9BQU0sRUFBRyxJQUFJNnJCLEVBQUU1M0IsT0FBT3VoQyxlQUFleDFCLEdBQUcsR0FBRyxPQUFPNnJCLEVBQUUsT0FBTSxFQUFHLElBQUluTSxFQUFFenJCLE9BQU9xSSxlQUFlakgsS0FBS3cyQixFQUFFLGdCQUFnQkEsRUFBRXpmLFlBQVksT0FBT3NULElBQUl6ckIsUUFBUSxtQkFBbUJ5ckIsR0FBRytWLFNBQVNDLFNBQVNyZ0MsS0FBS3FxQixLQUFLaVcsQ0FBQyxDQUExTyxDQUE0TzMxQixJQUFJK0YsTUFBTXVpQixRQUFRdG9CLE1BQU1BLEVBQUU0MUIsTUFBTTUxQixFQUFFb00sWUFBWXdwQixJQUFJeEosRUFBRXBzQixJQUFJNjFCLEVBQUU3MUIsR0FBRyxDQUFDLFNBQVNvZSxFQUFFcGUsRUFBRTZyQixFQUFFbk0sUUFBRyxJQUFTQSxJQUFJQSxHQUFFLEdBQUksSUFBSWpyQixFQUFFdUwsSUFBSTBmLEVBQUV6ckIsT0FBT1ksS0FBSyt5QixHQUFHNW5CLEdBQUcrVyxTQUFRLFNBQVVxSCxHQUFHc0IsR0FBRyxpQkFBaUJ0QixHQUFHeU4sRUFBRXpOLEVBQUVwZSxFQUFFb2UsR0FBR3BlLEVBQUcsSUFBR0EsRUFBRStXLFNBQVEsU0FBVTJJLEVBQUV0QixHQUFHLE9BQU95TixFQUFFek4sRUFBRXNCLEVBQUUxZixFQUFHLEdBQUUsQ0FBQyxTQUFTdkwsRUFBRXVMLEdBQUcsSUFBSTZyQixFQUFFN3JCLEVBQUV1MUIsR0FBRyxPQUFPMUosRUFBRUEsRUFBRUEsRUFBRSxFQUFFQSxFQUFFQSxFQUFFLEVBQUVBLEVBQUVBLEVBQUU5bEIsTUFBTXVpQixRQUFRdG9CLEdBQUcsRUFBRW9zQixFQUFFcHNCLEdBQUcsRUFBRTYxQixFQUFFNzFCLEdBQUcsRUFBRSxDQUFDLENBQUMsU0FBUzgxQixFQUFFOTFCLEVBQUU2ckIsR0FBRyxPQUFPLElBQUlwM0IsRUFBRXVMLEdBQUdBLEVBQUU0aUIsSUFBSWlKLEdBQUc1M0IsT0FBT2tCLFVBQVVtSCxlQUFlakgsS0FBSzJLLEVBQUU2ckIsRUFBRSxDQUFDLFNBQVNnRSxFQUFFN3ZCLEVBQUU2ckIsR0FBRyxPQUFPLElBQUlwM0IsRUFBRXVMLEdBQUdBLEVBQUVoQyxJQUFJNnRCLEdBQUc3ckIsRUFBRTZyQixFQUFFLENBQUMsU0FBU2tLLEVBQUUvMUIsRUFBRTZyQixFQUFFbk0sR0FBRyxJQUFJdEIsRUFBRTNwQixFQUFFdUwsR0FBRyxJQUFJb2UsRUFBRXBlLEVBQUUzQyxJQUFJd3VCLEVBQUVuTSxHQUFHLElBQUl0QixHQUFHcGUsRUFBRWcyQixPQUFPbkssR0FBRzdyQixFQUFFMmEsSUFBSStFLElBQUkxZixFQUFFNnJCLEdBQUduTSxDQUFDLENBQUMsU0FBU3BELEVBQUV0YyxFQUFFNnJCLEdBQUcsT0FBTzdyQixJQUFJNnJCLEVBQUUsSUFBSTdyQixHQUFHLEVBQUVBLEdBQUcsRUFBRTZyQixFQUFFN3JCLEdBQUdBLEdBQUc2ckIsR0FBR0EsQ0FBQyxDQUFDLFNBQVNPLEVBQUVwc0IsR0FBRyxPQUFPaTJCLEdBQUdqMkIsYUFBYWsyQixHQUFHLENBQUMsU0FBU0wsRUFBRTcxQixHQUFHLE9BQU9tMkIsR0FBR24yQixhQUFheWEsR0FBRyxDQUFDLFNBQVNub0IsRUFBRTBOLEdBQUcsT0FBT0EsRUFBRXZMLEdBQUd1TCxFQUFFODFCLENBQUMsQ0FBQyxTQUFTeDNCLEVBQUUwQixHQUFHLEdBQUcrRixNQUFNdWlCLFFBQVF0b0IsR0FBRyxPQUFPK0YsTUFBTTVRLFVBQVVzRCxNQUFNcEQsS0FBSzJLLEdBQUcsSUFBSTZyQixFQUFFdUssRUFBRXAyQixVQUFVNnJCLEVBQUUwSixHQUFHLElBQUksSUFBSTdWLEVBQUVrSSxFQUFFaUUsR0FBR3pOLEVBQUUsRUFBRUEsRUFBRXNCLEVBQUU1cUIsT0FBT3NwQixJQUFJLENBQUMsSUFBSTNwQixFQUFFaXJCLEVBQUV0QixHQUFHMFgsRUFBRWpLLEVBQUVwM0IsSUFBRyxJQUFLcWhDLEVBQUV6aEMsV0FBV3loQyxFQUFFemhDLFVBQVMsRUFBR3loQyxFQUFFMWhDLGNBQWEsSUFBSzBoQyxFQUFFOTNCLEtBQUs4M0IsRUFBRXo0QixPQUFPd3VCLEVBQUVwM0IsR0FBRyxDQUFDTCxjQUFhLEVBQUdDLFVBQVMsRUFBR0YsV0FBVzJoQyxFQUFFM2hDLFdBQVdILE1BQU1nTSxFQUFFdkwsSUFBSSxDQUFDLE9BQU9SLE9BQU9tTyxPQUFPbk8sT0FBT3VoQyxlQUFleDFCLEdBQUc2ckIsRUFBRSxDQUFDLFNBQVN3SyxFQUFFcjJCLEVBQUU4MUIsR0FBRyxZQUFPLElBQVNBLElBQUlBLEdBQUUsR0FBSVEsRUFBRXQyQixJQUFJNnJCLEVBQUU3ckIsS0FBSzBmLEVBQUUxZixLQUFNdkwsRUFBRXVMLEdBQUcsSUFBSUEsRUFBRTNDLElBQUkyQyxFQUFFMmEsSUFBSTNhLEVBQUU0YSxNQUFNNWEsRUFBRWcyQixPQUFPMzFCLEdBQUdwTSxPQUFPc2lDLE9BQU92MkIsR0FBRzgxQixHQUFHMVgsRUFBRXBlLEdBQUUsU0FBVUEsRUFBRTZyQixHQUFHLE9BQU93SyxFQUFFeEssR0FBRSxFQUFJLElBQUUsSUFBcEc3ckIsQ0FBMEcsQ0FBQyxTQUFTSyxJQUFJTCxFQUFFLEVBQUUsQ0FBQyxTQUFTczJCLEVBQUV0MkIsR0FBRyxPQUFPLE1BQU1BLEdBQUcsaUJBQWlCQSxHQUFHL0wsT0FBT3VpQyxTQUFTeDJCLEVBQUUsQ0FBQyxTQUFTMFYsRUFBRW1XLEdBQUcsSUFBSW5NLEVBQUVpSSxFQUFFa0UsR0FBRyxPQUFPbk0sR0FBRzFmLEVBQUUsR0FBRzZyQixHQUFHbk0sQ0FBQyxDQUFDLFNBQVN2RyxFQUFFblosRUFBRTZyQixHQUFHbEUsRUFBRTNuQixLQUFLMm5CLEVBQUUzbkIsR0FBRzZyQixFQUFFLENBQUMsU0FBU3RQLElBQUksT0FBT2thLENBQUMsQ0FBQyxTQUFTdmIsRUFBRWxiLEVBQUU2ckIsR0FBR0EsSUFBSW5XLEVBQUUsV0FBVzFWLEVBQUU2dkIsRUFBRSxHQUFHN3ZCLEVBQUU2MUIsRUFBRSxHQUFHNzFCLEVBQUUxTixFQUFFdTVCLEVBQUUsQ0FBQyxTQUFTNkssRUFBRTEyQixHQUFHMjJCLEVBQUUzMkIsR0FBR0EsRUFBRTFCLEVBQUV5WSxRQUFRNmYsR0FBRzUyQixFQUFFMUIsRUFBRSxJQUFJLENBQUMsU0FBU3E0QixFQUFFMzJCLEdBQUdBLElBQUl5MkIsSUFBSUEsRUFBRXoyQixFQUFFcTJCLEVBQUUsQ0FBQyxTQUFTN2dCLEVBQUV4VixHQUFHLE9BQU95MkIsRUFBRSxDQUFDbjRCLEVBQUUsR0FBRyszQixFQUFFSSxFQUFFSCxFQUFFdDJCLEVBQUVtWixHQUFFLEVBQUcrQixFQUFFLEVBQUUsQ0FBQyxTQUFTMGIsRUFBRTUyQixHQUFHLElBQUk2ckIsRUFBRTdyQixFQUFFdTFCLEdBQUcsSUFBSTFKLEVBQUVBLEdBQUcsSUFBSUEsRUFBRUEsRUFBRUEsRUFBRTZLLElBQUk3SyxFQUFFOEssR0FBRSxDQUFFLENBQUMsU0FBU0UsRUFBRWhMLEVBQUV6TixHQUFHQSxFQUFFbEQsRUFBRWtELEVBQUU5ZixFQUFFeEosT0FBTyxJQUFJTCxFQUFFMnBCLEVBQUU5ZixFQUFFLEdBQUd3M0IsT0FBRSxJQUFTakssR0FBR0EsSUFBSXAzQixFQUFFLE9BQU8ycEIsRUFBRWtZLEVBQUVPLEdBQUduaEIsRUFBRSxPQUFPb2hCLEVBQUUxWSxFQUFFeU4sRUFBRWlLLEdBQUdBLEdBQUdyaEMsRUFBRThnQyxHQUFHd0IsSUFBSUwsRUFBRXRZLEdBQUdwZSxFQUFFLElBQUkwZixFQUFFbU0sS0FBS0EsRUFBRWlMLEVBQUUxWSxFQUFFeU4sR0FBR3pOLEVBQUVpWSxHQUFHVyxFQUFFNVksRUFBRXlOLElBQUl6TixFQUFFeVIsR0FBR25hLEVBQUUsV0FBV3NoQixFQUFFdmlDLEVBQUU4Z0MsR0FBR08sRUFBRWpLLEVBQUV6TixFQUFFeVIsRUFBRXpSLEVBQUV5WCxJQUFJaEssRUFBRWlMLEVBQUUxWSxFQUFFM3BCLEVBQUUsSUFBSWlpQyxFQUFFdFksR0FBR0EsRUFBRXlSLEdBQUd6UixFQUFFOXJCLEVBQUU4ckIsRUFBRXlSLEVBQUV6UixFQUFFeVgsR0FBR2hLLElBQUlvTCxFQUFFcEwsT0FBRSxDQUFNLENBQUMsU0FBU2lMLEVBQUU5MkIsRUFBRTZyQixFQUFFbk0sR0FBRyxHQUFHNFcsRUFBRXpLLEdBQUcsT0FBT0EsRUFBRSxJQUFJcDNCLEVBQUVvM0IsRUFBRTBKLEdBQUcsSUFBSTlnQyxFQUFFLE9BQU8ycEIsRUFBRXlOLEdBQUUsU0FBVXpOLEVBQUUwWCxHQUFHLE9BQU9pQixFQUFFLzJCLEVBQUV2TCxFQUFFbzNCLEVBQUV6TixFQUFFMFgsRUFBRXBXLEVBQUcsSUFBRSxHQUFJbU0sRUFBRSxHQUFHcDNCLEVBQUV5aUMsSUFBSWwzQixFQUFFLE9BQU82ckIsRUFBRSxJQUFJcDNCLEVBQUVzaUMsRUFBRSxPQUFPQyxFQUFFaDNCLEVBQUV2TCxFQUFFcWhDLEdBQUUsR0FBSXJoQyxFQUFFcWhDLEVBQUUsSUFBSXJoQyxFQUFFMGlDLEVBQUUsQ0FBQzFpQyxFQUFFMGlDLEdBQUUsRUFBRzFpQyxFQUFFeWlDLEVBQUVoYyxJQUFJLElBQUk0YSxFQUFFLElBQUlyaEMsRUFBRW8zQixHQUFHLElBQUlwM0IsRUFBRW8zQixFQUFFcDNCLEVBQUVBLEVBQUU2SixFQUFFN0osRUFBRTQ4QixHQUFHNThCLEVBQUVBLEVBQUUycEIsRUFBRSxJQUFJM3BCLEVBQUVvM0IsRUFBRSxJQUFJcFIsSUFBSXFiLEdBQUdBLEdBQUUsU0FBVWpLLEVBQUV6TixHQUFHLE9BQU8yWSxFQUFFLzJCLEVBQUV2TCxFQUFFcWhDLEVBQUVqSyxFQUFFek4sRUFBRXNCLEVBQUcsSUFBR3NYLEVBQUVoM0IsRUFBRTgxQixHQUFFLEdBQUlwVyxHQUFHMWYsRUFBRTZ2QixHQUFHbmEsRUFBRSxXQUFXMGhCLEVBQUUzaUMsRUFBRWlyQixFQUFFMWYsRUFBRTZ2QixFQUFFN3ZCLEVBQUU2MUIsRUFBRSxDQUFDLE9BQU9waEMsRUFBRUEsQ0FBQyxDQUFDLFNBQVNzaUMsRUFBRS8yQixFQUFFb2UsRUFBRTNwQixFQUFFbzdCLEVBQUV2VCxFQUFFOFAsR0FBRyxHQUFHUCxFQUFFdlAsR0FBRyxDQUFDLElBQUl1WixFQUFFaUIsRUFBRTkyQixFQUFFc2MsRUFBRThQLEdBQUdoTyxHQUFHLElBQUlBLEVBQUV5TixJQUFJaUssRUFBRTFYLEVBQUVpWixFQUFFeEgsR0FBR3pELEVBQUVyc0IsT0FBTzh2QixRQUFHLEdBQVEsR0FBR2tHLEVBQUV0aEMsRUFBRW83QixFQUFFZ0csSUFBSWhLLEVBQUVnSyxHQUFHLE9BQU83MUIsRUFBRW1aLEdBQUUsQ0FBRSxDQUFDLEdBQUd1RyxFQUFFcEQsS0FBS2dhLEVBQUVoYSxHQUFHLENBQUMsSUFBSXRjLEVBQUVzMkIsRUFBRWdCLEdBQUd0M0IsRUFBRWtiLEVBQUUsRUFBRSxPQUFPNGIsRUFBRTkyQixFQUFFc2MsR0FBRzhCLEdBQUdBLEVBQUU4WSxFQUFFYixHQUFHVyxFQUFFaDNCLEVBQUVzYyxFQUFFLENBQUMsQ0FBQyxTQUFTMGEsRUFBRWgzQixFQUFFNnJCLEVBQUVuTSxRQUFHLElBQVNBLElBQUlBLEdBQUUsR0FBSTFmLEVBQUVzMkIsRUFBRWdCLEdBQUd0M0IsRUFBRW1aLEdBQUdrZCxFQUFFeEssRUFBRW5NLEVBQUUsQ0FBQyxTQUFTd1gsRUFBRWwzQixFQUFFNnJCLEdBQUcsSUFBSW5NLEVBQUUxZixFQUFFdTFCLEdBQUcsT0FBTzdWLEVBQUVwdEIsRUFBRW90QixHQUFHMWYsR0FBRzZyQixFQUFFLENBQUMsU0FBUzBMLEVBQUV2M0IsRUFBRTZyQixHQUFHLEdBQUdBLEtBQUs3ckIsRUFBRSxJQUFJLElBQUkwZixFQUFFenJCLE9BQU91aEMsZUFBZXgxQixHQUFHMGYsR0FBRyxDQUFDLElBQUl0QixFQUFFbnFCLE9BQU91akMseUJBQXlCOVgsRUFBRW1NLEdBQUcsR0FBR3pOLEVBQUUsT0FBT0EsRUFBRXNCLEVBQUV6ckIsT0FBT3VoQyxlQUFlOVYsRUFBRSxDQUFDLENBQUMsU0FBUytYLEVBQUV6M0IsR0FBR0EsRUFBRSsyQixJQUFJLzJCLEVBQUUrMkIsR0FBRSxFQUFHLzJCLEVBQUVxMkIsR0FBR29CLEVBQUV6M0IsRUFBRXEyQixHQUFHLENBQUMsU0FBU2MsRUFBRW4zQixHQUFHQSxFQUFFdkwsSUFBSXVMLEVBQUV2TCxFQUFFNkosRUFBRTBCLEVBQUU4MUIsR0FBRyxDQUFDLFNBQVN6RSxFQUFFcnhCLEVBQUU2ckIsRUFBRW5NLEdBQUcsSUFBSXRCLEVBQUVnTyxFQUFFUCxHQUFHblcsRUFBRSxVQUFVZ2lCLEVBQUU3TCxFQUFFbk0sR0FBR21XLEVBQUVoSyxHQUFHblcsRUFBRSxVQUFVaWlCLEVBQUU5TCxFQUFFbk0sR0FBRzFmLEVBQUU2MkIsRUFBRSxTQUFTNzJCLEVBQUU2ckIsR0FBRyxJQUFJbk0sRUFBRTNaLE1BQU11aUIsUUFBUXRvQixHQUFHb2UsRUFBRSxDQUFDeU4sRUFBRW5NLEVBQUUsRUFBRSxFQUFFd1gsRUFBRXJMLEVBQUVBLEVBQUVxTCxFQUFFM2EsSUFBSXdhLEdBQUUsRUFBR0ksR0FBRSxFQUFHRSxFQUFFLENBQUMsRUFBRWhCLEVBQUV4SyxFQUFFaUssRUFBRTkxQixFQUFFcXhCLEVBQUUsS0FBSzU4QixFQUFFLEtBQUtpaUMsRUFBRSxLQUFLa0IsR0FBRSxHQUFJbmpDLEVBQUUycEIsRUFBRTBYLEVBQUUrQixFQUFFblksSUFBSWpyQixFQUFFLENBQUMycEIsR0FBRzBYLEVBQUVnQyxHQUFHLElBQUlqSSxFQUFFa0ksTUFBTUMsVUFBVXZqQyxFQUFFcWhDLEdBQUdDLEVBQUVsRyxFQUFFb0ksT0FBTzNiLEVBQUV1VCxFQUFFcUksTUFBTSxPQUFPOVosRUFBRWlULEVBQUUvVSxFQUFFOEIsRUFBRXNZLEVBQUVYLEVBQUV6WixDQUFDLENBQXpNLENBQTJNdVAsRUFBRW5NLEdBQUdoSyxFQUFFLE9BQU8rZ0IsRUFBRTVLLEVBQUVuTSxHQUFHLE9BQU9BLEVBQUVBLEVBQUV3WCxFQUFFM2EsS0FBS2plLEVBQUVULEtBQUt1Z0IsR0FBR0EsQ0FBQyxDQUFDLFNBQVNnWixFQUFFdEIsR0FBRyxPQUFPakssRUFBRWlLLElBQUk5MUIsRUFBRSxHQUFHODFCLEdBQUcsU0FBUzkxQixFQUFFNnJCLEdBQUcsSUFBSW5NLEVBQUVtTSxHQUFHLE9BQU9BLEVBQUUsSUFBSWlLLEVBQUV4WixFQUFFdVAsRUFBRTBKLEdBQUduSixFQUFFMzNCLEVBQUVvM0IsR0FBRyxHQUFHdlAsRUFBRSxDQUFDLElBQUlBLEVBQUV5YSxJQUFJemEsRUFBRXVQLEVBQUUsSUFBSW5XLEVBQUUsT0FBT3lpQixFQUFFN2IsSUFBSSxPQUFPQSxFQUFFd1osRUFBRXhaLEVBQUU2YSxHQUFFLEVBQUdyQixFQUFFdUIsRUFBRXhMLEVBQUVPLEdBQUc5UCxFQUFFNmEsR0FBRSxDQUFFLE1BQU1yQixFQUFFdUIsRUFBRXhMLEVBQUVPLEdBQUcsT0FBT2hPLEVBQUUwWCxHQUFFLFNBQVVqSyxFQUFFbk0sR0FBR3BELEdBQUd1VCxFQUFFdlQsRUFBRXdaLEVBQUVqSyxLQUFLbk0sR0FBR3FXLEVBQUVELEVBQUVqSyxFQUFFN3JCLEVBQUUwZixHQUFJLElBQUcsSUFBSTBNLEVBQUUsSUFBSTNSLElBQUlxYixHQUFHQSxDQUFDLENBQXZOLENBQXlOQSxFQUFFLENBQUMsU0FBU3VCLEVBQUVyM0IsRUFBRTZyQixHQUFHLE9BQU9BLEdBQUcsS0FBSyxFQUFFLE9BQU8sSUFBSXFLLElBQUlsMkIsR0FBRyxLQUFLLEVBQUUsT0FBTytGLE1BQU1DLEtBQUtoRyxHQUFHLE9BQU8xQixFQUFFMEIsRUFBRSxDQUFDLFNBQVNzM0IsSUFBSSxTQUFTdDNCLEVBQUVBLEVBQUU2ckIsR0FBRyxJQUFJbk0sRUFBRXFXLEVBQUUvMUIsR0FBRyxPQUFPMGYsRUFBRUEsRUFBRXZyQixXQUFXMDNCLEVBQUVrSyxFQUFFLzFCLEdBQUcwZixFQUFFLENBQUN0ckIsY0FBYSxFQUFHRCxXQUFXMDNCLEVBQUU3dEIsSUFBSSxXQUFXLE9BQU82NUIsRUFBRTc1QixJQUFJd1YsS0FBSytoQixHQUFHdjFCLEVBQUUsRUFBRTNDLElBQUksU0FBU3d1QixHQUFHZ00sRUFBRXg2QixJQUFJbVcsS0FBSytoQixHQUFHdjFCLEVBQUU2ckIsRUFBRSxHQUFHbk0sQ0FBQyxDQUFDLFNBQVNBLEVBQUUxZixHQUFHLElBQUksSUFBSTZyQixFQUFFN3JCLEVBQUVsTCxPQUFPLEVBQUUrMkIsR0FBRyxFQUFFQSxJQUFJLENBQUMsSUFBSW5NLEVBQUUxZixFQUFFNnJCLEdBQUcwSixHQUFHLElBQUk3VixFQUFFcVgsRUFBRSxPQUFPclgsRUFBRW1NLEdBQUcsS0FBSyxFQUFFZ0UsRUFBRW5RLElBQUkrWCxFQUFFL1gsR0FBRyxNQUFNLEtBQUssRUFBRWpyQixFQUFFaXJCLElBQUkrWCxFQUFFL1gsR0FBRyxDQUFDLENBQUMsU0FBU2pyQixFQUFFdUwsR0FBRyxJQUFJLElBQUk2ckIsRUFBRTdyQixFQUFFODFCLEVBQUVwVyxFQUFFMWYsRUFBRXF4QixFQUFFalQsRUFBRXdKLEVBQUVsSSxHQUFHanJCLEVBQUUycEIsRUFBRXRwQixPQUFPLEVBQUVMLEdBQUcsRUFBRUEsSUFBSSxDQUFDLElBQUlvN0IsRUFBRXpSLEVBQUUzcEIsR0FBRyxHQUFHbzdCLElBQUkwRixFQUFFLENBQUMsSUFBSVEsRUFBRWxLLEVBQUVnRSxHQUFHLFFBQUcsSUFBU2tHLElBQUlELEVBQUVqSyxFQUFFZ0UsR0FBRyxPQUFNLEVBQUcsSUFBSXpELEVBQUUxTSxFQUFFbVEsR0FBR2dHLEVBQUV6SixHQUFHQSxFQUFFbUosR0FBRyxHQUFHTSxFQUFFQSxFQUFFQyxJQUFJQyxHQUFHelosRUFBRThQLEVBQUUySixHQUFHLE9BQU0sQ0FBRSxDQUFDLENBQUMsSUFBSXpqQyxJQUFJdTVCLEVBQUUwSixHQUFHLE9BQU9uWCxFQUFFdHBCLFNBQVM4eUIsRUFBRWlFLEdBQUcvMkIsUUFBUXhDLEVBQUUsRUFBRSxFQUFFLENBQUMsU0FBU3U5QixFQUFFN3ZCLEdBQUcsSUFBSTZyQixFQUFFN3JCLEVBQUVxeEIsRUFBRSxHQUFHeEYsRUFBRS8yQixTQUFTa0wsRUFBRTgxQixFQUFFaGhDLE9BQU8sT0FBTSxFQUFHLElBQUk0cUIsRUFBRXpyQixPQUFPdWpDLHlCQUF5QjNMLEVBQUVBLEVBQUUvMkIsT0FBTyxHQUFHLEdBQUc0cUIsSUFBSUEsRUFBRTFoQixJQUFJLE9BQU0sRUFBRyxJQUFJLElBQUlvZ0IsRUFBRSxFQUFFQSxFQUFFeU4sRUFBRS8yQixPQUFPc3BCLElBQUksSUFBSXlOLEVBQUV2dkIsZUFBZThoQixHQUFHLE9BQU0sRUFBRyxPQUFNLENBQUUsQ0FBQyxJQUFJMlgsRUFBRSxDQUFDLEVBQUU1YyxFQUFFLE1BQU0sQ0FBQ3NkLEVBQUUsU0FBUzVLLEVBQUVuTSxHQUFHLElBQUl0QixFQUFFclksTUFBTXVpQixRQUFRdUQsR0FBR3AzQixFQUFFLFNBQVNvM0IsRUFBRW5NLEdBQUcsR0FBR21NLEVBQUUsQ0FBQyxJQUFJLElBQUl6TixFQUFFclksTUFBTTJaLEVBQUU1cUIsUUFBUUwsRUFBRSxFQUFFQSxFQUFFaXJCLEVBQUU1cUIsT0FBT0wsSUFBSVIsT0FBT0MsZUFBZWtxQixFQUFFLEdBQUczcEIsRUFBRXVMLEVBQUV2TCxHQUFFLElBQUssT0FBTzJwQixDQUFDLENBQUMsSUFBSTBYLEVBQUVNLEVBQUUxVyxVQUFVb1csRUFBRVAsR0FBRyxJQUFJLElBQUkxRixFQUFFakksRUFBRWtPLEdBQUdDLEVBQUUsRUFBRUEsRUFBRWxHLEVBQUUvNkIsT0FBT2loQyxJQUFJLENBQUMsSUFBSXpaLEVBQUV1VCxFQUFFa0csR0FBR0QsRUFBRXhaLEdBQUd0YyxFQUFFc2MsRUFBRXVQLEtBQUtpSyxFQUFFeFosR0FBR25vQixXQUFXLENBQUMsT0FBT0YsT0FBT21PLE9BQU9uTyxPQUFPdWhDLGVBQWU5VixHQUFHb1csRUFBRSxDQUFwUSxDQUFzUTFYLEVBQUV5TixHQUFHaUssRUFBRSxDQUFDakssRUFBRXpOLEVBQUUsRUFBRSxFQUFFOFksRUFBRXhYLEVBQUVBLEVBQUV3WCxFQUFFM2EsSUFBSXdhLEdBQUUsRUFBR0ksR0FBRSxFQUFHRSxFQUFFLENBQUMsRUFBRWhCLEVBQUUzVyxFQUFFb1csRUFBRWpLLEVBQUV3RixFQUFFNThCLEVBQUVBLEVBQUUsS0FBS2tpQyxHQUFFLEVBQUdpQixHQUFFLEdBQUksT0FBTzNqQyxPQUFPQyxlQUFlTyxFQUFFOGdDLEVBQUUsQ0FBQ3ZoQyxNQUFNOGhDLEVBQUV6aEMsVUFBUyxJQUFLSSxDQUFDLEVBQUVxaUMsRUFBRSxTQUFTOTJCLEVBQUV2TCxFQUFFc2hDLEdBQUdBLEVBQUVsSyxFQUFFcDNCLElBQUlBLEVBQUU4Z0MsR0FBRzJCLElBQUlsM0IsR0FBRzBmLEVBQUUxZixFQUFFMUIsSUFBSTBCLEVBQUU2dkIsR0FBRyxTQUFTN3ZCLEVBQUU2ckIsR0FBRyxHQUFHQSxHQUFHLGlCQUFpQkEsRUFBRSxDQUFDLElBQUluTSxFQUFFbU0sRUFBRTBKLEdBQUcsR0FBRzdWLEVBQUUsQ0FBQyxJQUFJanJCLEVBQUVpckIsRUFBRW9XLEVBQUVDLEVBQUVyVyxFQUFFMlIsRUFBRS9VLEVBQUVvRCxFQUFFMlgsRUFBRWpMLEVBQUUxTSxFQUFFbU0sRUFBRSxHQUFHLElBQUlPLEVBQUVoTyxFQUFFMlgsR0FBRSxTQUFVbEssR0FBR0EsSUFBSTBKLFNBQUksSUFBUzlnQyxFQUFFbzNCLElBQUlpSyxFQUFFcmhDLEVBQUVvM0IsR0FBR3ZQLEVBQUV1UCxJQUFJN3JCLEVBQUUrMUIsRUFBRWxLLEtBQUt2UCxFQUFFdVAsSUFBRyxFQUFHNEwsRUFBRS9YLElBQUssSUFBR3RCLEVBQUUzcEIsR0FBRSxTQUFVdUwsUUFBRyxJQUFTKzFCLEVBQUUvMUIsSUFBSTgxQixFQUFFQyxFQUFFLzFCLEtBQUtzYyxFQUFFdGMsSUFBRyxFQUFHeTNCLEVBQUUvWCxHQUFJLFNBQVEsR0FBRyxJQUFJME0sRUFBRSxDQUFDLEdBQUd5RCxFQUFFblEsS0FBSytYLEVBQUUvWCxHQUFHcEQsRUFBRXhuQixRQUFPLEdBQUlpaEMsRUFBRWpoQyxPQUFPTCxFQUFFSyxPQUFPLElBQUksSUFBSStnQyxFQUFFRSxFQUFFamhDLE9BQU8rZ0MsRUFBRXBoQyxFQUFFSyxPQUFPK2dDLElBQUl2WixFQUFFdVosSUFBRyxPQUFRLElBQUksSUFBSXZqQyxFQUFFbUMsRUFBRUssT0FBT3hDLEVBQUV5akMsRUFBRWpoQyxPQUFPeEMsSUFBSWdxQixFQUFFaHFCLElBQUcsRUFBRyxJQUFJLElBQUlnTSxFQUFFMlQsS0FBS0MsSUFBSTZqQixFQUFFamhDLE9BQU9MLEVBQUVLLFFBQVF1aEMsRUFBRSxFQUFFQSxFQUFFLzNCLEVBQUUrM0IsSUFBSU4sRUFBRXo1QixlQUFlKzVCLEtBQUsvWixFQUFFK1osSUFBRyxRQUFJLElBQVMvWixFQUFFK1osSUFBSXIyQixFQUFFKzFCLEVBQUVNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBeGUsQ0FBMGVyMkIsRUFBRTFCLEVBQUUsSUFBSW9oQixFQUFFMWYsRUFBRTFCLEdBQUcsRUFBRTY1QixFQUFFLFNBQVNuNEIsR0FBRyxPQUFPLElBQUlBLEVBQUU2ckIsRUFBRXAzQixFQUFFdUwsR0FBRzZ2QixFQUFFN3ZCLEVBQUUsR0FBRyxDQUFDLFNBQVMwM0IsSUFBSSxTQUFTM0IsRUFBRS8xQixHQUFHLElBQUkwZixFQUFFMWYsR0FBRyxPQUFPQSxFQUFFLEdBQUcrRixNQUFNdWlCLFFBQVF0b0IsR0FBRyxPQUFPQSxFQUFFNnFCLElBQUlrTCxHQUFHLEdBQUczSixFQUFFcHNCLEdBQUcsT0FBTyxJQUFJazJCLElBQUlud0IsTUFBTUMsS0FBS2hHLEVBQUVvNEIsV0FBV3ZOLEtBQUksU0FBVTdxQixHQUFHLE1BQU0sQ0FBQ0EsRUFBRSxHQUFHKzFCLEVBQUUvMUIsRUFBRSxJQUFLLEtBQUksR0FBRzYxQixFQUFFNzFCLEdBQUcsT0FBTyxJQUFJeWEsSUFBSTFVLE1BQU1DLEtBQUtoRyxHQUFHNnFCLElBQUlrTCxJQUFJLElBQUlsSyxFQUFFNTNCLE9BQU9tTyxPQUFPbk8sT0FBT3VoQyxlQUFleDFCLElBQUksSUFBSSxJQUFJb2UsS0FBS3BlLEVBQUU2ckIsRUFBRXpOLEdBQUcyWCxFQUFFLzFCLEVBQUVvZSxJQUFJLE9BQU8wWCxFQUFFOTFCLEVBQUU0MUIsS0FBSy9KLEVBQUUrSixHQUFHNTFCLEVBQUU0MUIsSUFBSS9KLENBQUMsQ0FBQyxTQUFTdlAsRUFBRXRjLEdBQUcsT0FBTzZyQixFQUFFN3JCLEdBQUcrMUIsRUFBRS8xQixHQUFHQSxDQUFDLENBQUMsSUFBSTFOLEVBQUUsTUFBTTZtQixFQUFFLFVBQVUsQ0FBQzhjLEVBQUUsU0FBU3BLLEVBQUVuTSxHQUFHLE9BQU9BLEVBQUUzSSxTQUFRLFNBQVUySSxHQUFHLElBQUksSUFBSXRCLEVBQUVzQixFQUFFN25CLEtBQUtpK0IsRUFBRXBXLEVBQUVsUyxHQUFHOE8sRUFBRXVQLEVBQUVPLEVBQUUsRUFBRUEsRUFBRWhPLEVBQUV0cEIsT0FBTyxFQUFFczNCLElBQUksQ0FBQyxJQUFJeUosRUFBRXBoQyxFQUFFNm5CLEdBQUdoZSxFQUFFLEdBQUc4ZixFQUFFZ08sR0FBRyxJQUFJeUosR0FBRyxJQUFJQSxHQUFHLGNBQWN2M0IsR0FBRyxnQkFBZ0JBLEdBQUcwQixFQUFFLElBQUksbUJBQW1Cc2MsR0FBRyxjQUFjaGUsR0FBRzBCLEVBQUUsSUFBSSxpQkFBaUJzYyxFQUFFdVQsRUFBRXZULEVBQUVoZSxLQUFLMEIsRUFBRSxHQUFHb2UsRUFBRXVFLEtBQUssS0FBSyxDQUFDLElBQUkwVCxFQUFFNWhDLEVBQUU2bkIsR0FBR2pjLEVBQUUwMUIsRUFBRXJXLEVBQUUxckIsT0FBT3NpQyxFQUFFbFksRUFBRUEsRUFBRXRwQixPQUFPLEdBQUcsT0FBT2doQyxHQUFHLElBQUksVUFBVSxPQUFPTyxHQUFHLEtBQUssRUFBRSxPQUFPL1osRUFBRWpmLElBQUlpNUIsRUFBRWoyQixHQUFHLEtBQUssRUFBRUwsRUFBRSxJQUFJLFFBQVEsT0FBT3NjLEVBQUVnYSxHQUFHajJCLEVBQUUsS0FBSy9OLEVBQUUsT0FBTytqQyxHQUFHLEtBQUssRUFBRSxNQUFNLE1BQU1DLEVBQUVoYSxFQUFFemUsS0FBS3dDLEdBQUdpYyxFQUFFYyxPQUFPa1osRUFBRSxFQUFFajJCLEdBQUcsS0FBSyxFQUFFLE9BQU9pYyxFQUFFamYsSUFBSWk1QixFQUFFajJCLEdBQUcsS0FBSyxFQUFFLE9BQU9pYyxFQUFFM0IsSUFBSXRhLEdBQUcsUUFBUSxPQUFPaWMsRUFBRWdhLEdBQUdqMkIsRUFBRSxJQUFJLFNBQVMsT0FBT2cyQixHQUFHLEtBQUssRUFBRSxPQUFPL1osRUFBRWMsT0FBT2taLEVBQUUsR0FBRyxLQUFLLEVBQUUsT0FBT2hhLEVBQUUwWixPQUFPTSxHQUFHLEtBQUssRUFBRSxPQUFPaGEsRUFBRTBaLE9BQU90VyxFQUFFMXJCLE9BQU8sUUFBUSxjQUFjc29CLEVBQUVnYSxHQUFHLFFBQVF0MkIsRUFBRSxHQUFHODFCLEdBQUksSUFBR2pLLENBQUMsRUFBRXVMLEVBQUUsU0FBU3AzQixFQUFFNnJCLEVBQUVuTSxFQUFFanJCLEdBQUcsT0FBT3VMLEVBQUU2ckIsR0FBRyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLFNBQVM3ckIsRUFBRTZyQixFQUFFbk0sRUFBRWpyQixHQUFHLElBQUlzaEMsRUFBRS8xQixFQUFFODFCLEVBQUUxSixFQUFFcHNCLEVBQUV2TCxFQUFFMnBCLEVBQUVwZSxFQUFFcTNCLEdBQUUsU0FBVXIzQixFQUFFb2UsR0FBRyxJQUFJeVgsRUFBRWhHLEVBQUVrRyxFQUFFLzFCLEdBQUcxQixFQUFFdXhCLEVBQUV6RCxFQUFFcHNCLEdBQUdxMkIsRUFBRWpZLEVBQUUwWCxFQUFFQyxFQUFFLzFCLEdBQUcsVUFBVTFOLEVBQUUsU0FBUyxHQUFHdWpDLElBQUl2M0IsR0FBRyxZQUFZKzNCLEVBQUUsQ0FBQyxJQUFJaDJCLEVBQUV3ckIsRUFBRTlyQixPQUFPQyxHQUFHMGYsRUFBRTdoQixLQUFLLFdBQVd3NEIsRUFBRSxDQUFDN29CLEdBQUc2b0IsRUFBRXgrQixLQUFLd0ksR0FBRyxDQUFDbU4sR0FBRzZvQixFQUFFeCtCLEtBQUt3SSxFQUFFck0sTUFBTXNLLElBQUk3SixFQUFFb0osS0FBS3c0QixJQUFJL2pDLEVBQUUsQ0FBQ2tiLEdBQUcsU0FBUzNWLEtBQUt3SSxHQUFHLFdBQVdnMkIsRUFBRSxDQUFDN29CLEdBQUdsYixFQUFFdUYsS0FBS3dJLEVBQUVyTSxNQUFNc29CLEVBQUV1WixJQUFJLENBQUNyb0IsR0FBRyxVQUFVM1YsS0FBS3dJLEVBQUVyTSxNQUFNc29CLEVBQUV1WixJQUFJLENBQUUsR0FBRSxDQUE5VCxDQUFnVTcxQixFQUFFNnJCLEVBQUVuTSxFQUFFanJCLEdBQUcsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLFNBQVN1TCxFQUFFNnJCLEVBQUVuTSxFQUFFdEIsR0FBRyxJQUFJM3BCLEVBQUV1TCxFQUFFODFCLEVBQUVBLEVBQUU5MUIsRUFBRXEzQixFQUFFeEgsRUFBRTd2QixFQUFFdkwsRUFBRSxHQUFHbzdCLEVBQUUvNkIsT0FBT0wsRUFBRUssT0FBTyxDQUFDLElBQUlpaEMsRUFBRSxDQUFDbEcsRUFBRXA3QixHQUFHQSxFQUFFc2hDLEVBQUUsR0FBR2xHLEVBQUVrRyxFQUFFLEdBQUcsSUFBSTNKLEVBQUUsQ0FBQ2hPLEVBQUVzQixHQUFHQSxFQUFFME0sRUFBRSxHQUFHaE8sRUFBRWdPLEVBQUUsRUFBRSxDQUFDLElBQUksSUFBSXlKLEVBQUUsRUFBRUEsRUFBRXBoQyxFQUFFSyxPQUFPK2dDLElBQUksR0FBR0MsRUFBRUQsSUFBSWhHLEVBQUVnRyxLQUFLcGhDLEVBQUVvaEMsR0FBRyxDQUFDLElBQUl2M0IsRUFBRXV0QixFQUFFOXJCLE9BQU8sQ0FBQzgxQixJQUFJblcsRUFBRTdoQixLQUFLLENBQUMyUCxHQUFHLFVBQVUzVixLQUFLeUcsRUFBRXRLLE1BQU1zb0IsRUFBRXVULEVBQUVnRyxNQUFNelgsRUFBRXZnQixLQUFLLENBQUMyUCxHQUFHLFVBQVUzVixLQUFLeUcsRUFBRXRLLE1BQU1zb0IsRUFBRTduQixFQUFFb2hDLEtBQUssQ0FBQyxJQUFJLElBQUlRLEVBQUU1aEMsRUFBRUssT0FBT3VoQyxFQUFFeEcsRUFBRS82QixPQUFPdWhDLElBQUksQ0FBQyxJQUFJaDJCLEVBQUV3ckIsRUFBRTlyQixPQUFPLENBQUNzMkIsSUFBSTNXLEVBQUU3aEIsS0FBSyxDQUFDMlAsR0FBR2xiLEVBQUV1RixLQUFLd0ksRUFBRXJNLE1BQU1zb0IsRUFBRXVULEVBQUV3RyxLQUFLLENBQUM1aEMsRUFBRUssT0FBTys2QixFQUFFLzZCLFFBQVFzcEIsRUFBRXZnQixLQUFLLENBQUMyUCxHQUFHLFVBQVUzVixLQUFLZzBCLEVBQUU5ckIsT0FBTyxDQUFDLFdBQVcvTCxNQUFNUyxFQUFFSyxRQUFRLENBQTViLENBQThia0wsRUFBRTZyQixFQUFFbk0sRUFBRWpyQixHQUFHLEtBQUssRUFBRSxPQUFPLFNBQVN1TCxFQUFFNnJCLEVBQUVuTSxFQUFFdEIsR0FBRyxJQUFJM3BCLEVBQUV1TCxFQUFFODFCLEVBQUVBLEVBQUU5MUIsRUFBRXZMLEVBQUVvN0IsRUFBRSxFQUFFcDdCLEVBQUVzaUIsU0FBUSxTQUFVL1csR0FBRyxJQUFJODFCLEVBQUVsVCxJQUFJNWlCLEdBQUcsQ0FBQyxJQUFJdkwsRUFBRW8zQixFQUFFOXJCLE9BQU8sQ0FBQzh2QixJQUFJblEsRUFBRTdoQixLQUFLLENBQUMyUCxHQUFHLFNBQVMzVixLQUFLcEQsRUFBRVQsTUFBTWdNLElBQUlvZSxFQUFFMUssUUFBUSxDQUFDbEcsR0FBR2xiLEVBQUV1RixLQUFLcEQsRUFBRVQsTUFBTWdNLEdBQUcsQ0FBQzZ2QixHQUFJLElBQUdBLEVBQUUsRUFBRWlHLEVBQUUvZSxTQUFRLFNBQVUvVyxHQUFHLElBQUl2TCxFQUFFbXVCLElBQUk1aUIsR0FBRyxDQUFDLElBQUk4MUIsRUFBRWpLLEVBQUU5ckIsT0FBTyxDQUFDOHZCLElBQUluUSxFQUFFN2hCLEtBQUssQ0FBQzJQLEdBQUdsYixFQUFFdUYsS0FBS2krQixFQUFFOWhDLE1BQU1nTSxJQUFJb2UsRUFBRTFLLFFBQVEsQ0FBQ2xHLEdBQUcsU0FBUzNWLEtBQUtpK0IsRUFBRTloQyxNQUFNZ00sR0FBRyxDQUFDNnZCLEdBQUksR0FBRSxDQUFyVCxDQUF1VDd2QixFQUFFNnJCLEVBQUVuTSxFQUFFanJCLEdBQUcsRUFBRXVpQyxFQUFFLFNBQVNoM0IsRUFBRTZyQixFQUFFbk0sRUFBRXRCLEdBQUdzQixFQUFFN2hCLEtBQUssQ0FBQzJQLEdBQUcsVUFBVTNWLEtBQUssR0FBRzdELE1BQU02M0IsSUFBSW9MLE9BQUUsRUFBT3BMLElBQUl6TixFQUFFdmdCLEtBQUssQ0FBQzJQLEdBQUcsVUFBVTNWLEtBQUssR0FBRzdELE1BQU1nTSxHQUFHLEdBQUcsQ0FBQyxTQUFTMjNCLElBQUksU0FBUzlMLEVBQUU3ckIsRUFBRTZyQixHQUFHLFNBQVNuTSxJQUFJbE0sS0FBS3BILFlBQVlwTSxDQUFDLENBQUMrMUIsRUFBRS8xQixFQUFFNnJCLEdBQUc3ckIsRUFBRTdLLFdBQVd1cUIsRUFBRXZxQixVQUFVMDJCLEVBQUUxMkIsVUFBVSxJQUFJdXFCLEVBQUUsQ0FBQyxTQUFTanJCLEVBQUV1TCxHQUFHQSxFQUFFdkwsSUFBSXVMLEVBQUVxM0IsRUFBRSxJQUFJbkIsSUFBSWwyQixFQUFFdkwsRUFBRSxJQUFJeWhDLElBQUlsMkIsRUFBRTgxQixHQUFHLENBQUMsU0FBU0EsRUFBRTkxQixHQUFHQSxFQUFFdkwsSUFBSXVMLEVBQUV2TCxFQUFFLElBQUlnbUIsSUFBSXphLEVBQUU4MUIsRUFBRS9lLFNBQVEsU0FBVThVLEdBQUcsR0FBR25NLEVBQUVtTSxHQUFHLENBQUMsSUFBSXpOLEVBQUVpVCxFQUFFcnhCLEVBQUVrM0IsRUFBRVosRUFBRXpLLEVBQUU3ckIsR0FBR0EsRUFBRTFCLEVBQUVqQixJQUFJd3VCLEVBQUV6TixHQUFHcGUsRUFBRXZMLEVBQUVrbUIsSUFBSXlELEVBQUUsTUFBTXBlLEVBQUV2TCxFQUFFa21CLElBQUlrUixFQUFHLElBQUcsQ0FBQyxTQUFTZ0UsRUFBRWhFLEdBQUdBLEVBQUU4SyxHQUFHMzJCLEVBQUUsRUFBRWtnQixLQUFLdE0sVUFBVXRoQixFQUFFdTVCLElBQUksQ0FBQyxJQUFJa0ssRUFBRSxTQUFTLzFCLEVBQUU2ckIsR0FBRyxPQUFPa0ssRUFBRTloQyxPQUFPb2tDLGdCQUFnQixDQUFDQyxVQUFVLGNBQWN2eUIsT0FBTyxTQUFTL0YsRUFBRTZyQixHQUFHN3JCLEVBQUVzNEIsVUFBVXpNLENBQUMsR0FBRyxTQUFTN3JCLEVBQUU2ckIsR0FBRyxJQUFJLElBQUluTSxLQUFLbU0sRUFBRUEsRUFBRXZ2QixlQUFlb2pCLEtBQUsxZixFQUFFMGYsR0FBR21NLEVBQUVuTSxHQUFHLEdBQUcxZixFQUFFNnJCLEVBQUUsRUFBRXZQLEVBQUUsV0FBVyxTQUFTdGMsRUFBRUEsRUFBRTZyQixHQUFHLE9BQU9yWSxLQUFLK2hCLEdBQUcsQ0FBQzFKLEVBQUUsRUFBRXdLLEVBQUV4SyxFQUFFcUwsRUFBRXJMLEVBQUVBLEVBQUVxTCxFQUFFM2EsSUFBSXdhLEdBQUUsRUFBR0ksR0FBRSxFQUFHMWlDLE9BQUUsRUFBTzRpQyxPQUFFLEVBQU92QixFQUFFOTFCLEVBQUVxeEIsRUFBRTdkLEtBQUtva0IsR0FBRSxFQUFHakIsR0FBRSxHQUFJbmpCLElBQUksQ0FBQ3FZLEVBQUU3ckIsRUFBRWsyQixLQUFLLElBQUlKLEVBQUU5MUIsRUFBRTdLLFVBQVUsT0FBT2xCLE9BQU9DLGVBQWU0aEMsRUFBRSxPQUFPLENBQUM5M0IsSUFBSSxXQUFXLE9BQU8xTCxFQUFFa2hCLEtBQUsraEIsSUFBSWdELElBQUksSUFBSXpDLEVBQUVsVCxJQUFJLFNBQVM1aUIsR0FBRyxPQUFPMU4sRUFBRWtoQixLQUFLK2hCLElBQUkzUyxJQUFJNWlCLEVBQUUsRUFBRTgxQixFQUFFejRCLElBQUksU0FBUzJDLEVBQUU2ckIsR0FBRyxJQUFJbk0sRUFBRWxNLEtBQUsraEIsR0FBRyxPQUFPMUYsRUFBRW5RLEdBQUdwdEIsRUFBRW90QixHQUFHa0QsSUFBSTVpQixJQUFJMU4sRUFBRW90QixHQUFHMWhCLElBQUlnQyxLQUFLNnJCLElBQUlwM0IsRUFBRWlyQixHQUFHK1gsRUFBRS9YLEdBQUdBLEVBQUUyWCxFQUFFaDZCLElBQUkyQyxHQUFFLEdBQUkwZixFQUFFanJCLEVBQUU0SSxJQUFJMkMsRUFBRTZyQixHQUFHbk0sRUFBRTJYLEVBQUVoNkIsSUFBSTJDLEdBQUUsSUFBS3dULElBQUksRUFBRXNpQixFQUFFRSxPQUFPLFNBQVNoMkIsR0FBRyxJQUFJd1QsS0FBS29QLElBQUk1aUIsR0FBRyxPQUFNLEVBQUcsSUFBSTZyQixFQUFFclksS0FBSytoQixHQUFHLE9BQU8xRixFQUFFaEUsR0FBR3AzQixFQUFFbzNCLEdBQUc0TCxFQUFFNUwsR0FBR0EsRUFBRWlLLEVBQUVsVCxJQUFJNWlCLEdBQUc2ckIsRUFBRXdMLEVBQUVoNkIsSUFBSTJDLEdBQUUsR0FBSTZyQixFQUFFd0wsRUFBRXJCLE9BQU9oMkIsR0FBRzZyQixFQUFFcDNCLEVBQUV1aEMsT0FBT2gyQixJQUFHLENBQUUsRUFBRTgxQixFQUFFbGIsTUFBTSxXQUFXLElBQUk1YSxFQUFFd1QsS0FBSytoQixHQUFHMUYsRUFBRTd2QixHQUFHMU4sRUFBRTBOLEdBQUd1NEIsT0FBTzlqQyxFQUFFdUwsR0FBR3kzQixFQUFFejNCLEdBQUdBLEVBQUVxM0IsRUFBRSxJQUFJbkIsSUFBSTlYLEVBQUVwZSxFQUFFODFCLEdBQUUsU0FBVWpLLEdBQUc3ckIsRUFBRXEzQixFQUFFaDZCLElBQUl3dUIsR0FBRSxFQUFJLElBQUc3ckIsRUFBRXZMLEVBQUVtbUIsUUFBUSxFQUFFa2IsRUFBRS9lLFFBQVEsU0FBUy9XLEVBQUU2ckIsR0FBRyxJQUFJbk0sRUFBRWxNLEtBQUtsaEIsRUFBRWtoQixLQUFLK2hCLElBQUl4ZSxTQUFRLFNBQVVxSCxFQUFFM3BCLEdBQUd1TCxFQUFFM0ssS0FBS3cyQixFQUFFbk0sRUFBRTFoQixJQUFJdkosR0FBR0EsRUFBRWlyQixFQUFHLEdBQUUsRUFBRW9XLEVBQUU5M0IsSUFBSSxTQUFTZ0MsR0FBRyxJQUFJNnJCLEVBQUVyWSxLQUFLK2hCLEdBQUcxRixFQUFFaEUsR0FBRyxJQUFJek4sRUFBRTlyQixFQUFFdTVCLEdBQUc3dEIsSUFBSWdDLEdBQUcsR0FBRzZyQixFQUFFc0wsSUFBSXpYLEVBQUV0QixHQUFHLE9BQU9BLEVBQUUsR0FBR0EsSUFBSXlOLEVBQUVpSyxFQUFFOTNCLElBQUlnQyxHQUFHLE9BQU9vZSxFQUFFLElBQUkwWCxFQUFFekUsRUFBRXhGLEVBQUVxTCxFQUFFWixFQUFFbFksRUFBRXlOLEdBQUcsT0FBT3AzQixFQUFFbzNCLEdBQUdBLEVBQUVwM0IsRUFBRTRJLElBQUkyQyxFQUFFODFCLEdBQUdBLENBQUMsRUFBRUEsRUFBRWpoQyxLQUFLLFdBQVcsT0FBT3ZDLEVBQUVraEIsS0FBSytoQixJQUFJMWdDLE1BQU0sRUFBRWloQyxFQUFFL2EsT0FBTyxXQUFXLElBQUkvYSxFQUFFNnJCLEVBQUVyWSxLQUFLa00sRUFBRWxNLEtBQUszZSxPQUFPLE9BQU9tTCxFQUFFLENBQUMsR0FBRzBuQixHQUFHLFdBQVcsT0FBT21FLEVBQUU5USxRQUFRLEVBQUUvYSxFQUFFakUsS0FBSyxXQUFXLElBQUlpRSxFQUFFMGYsRUFBRTNqQixPQUFPLE9BQU9pRSxFQUFFdzRCLEtBQUt4NEIsRUFBRSxDQUFDdzRCLE1BQUssRUFBR3hrQyxNQUFNNjNCLEVBQUU3dEIsSUFBSWdDLEVBQUVoTSxPQUFPLEVBQUVnTSxDQUFDLEVBQUU4MUIsRUFBRXNDLFFBQVEsV0FBVyxJQUFJcDRCLEVBQUU2ckIsRUFBRXJZLEtBQUtrTSxFQUFFbE0sS0FBSzNlLE9BQU8sT0FBT21MLEVBQUUsQ0FBQyxHQUFHMG5CLEdBQUcsV0FBVyxPQUFPbUUsRUFBRXVNLFNBQVMsRUFBRXA0QixFQUFFakUsS0FBSyxXQUFXLElBQUlpRSxFQUFFMGYsRUFBRTNqQixPQUFPLEdBQUdpRSxFQUFFdzRCLEtBQUssT0FBT3g0QixFQUFFLElBQUlvZSxFQUFFeU4sRUFBRTd0QixJQUFJZ0MsRUFBRWhNLE9BQU8sTUFBTSxDQUFDd2tDLE1BQUssRUFBR3hrQyxNQUFNLENBQUNnTSxFQUFFaE0sTUFBTW9xQixHQUFHLEVBQUVwZSxDQUFDLEVBQUU4MUIsRUFBRXBPLEdBQUcsV0FBVyxPQUFPbFUsS0FBSzRrQixTQUFTLEVBQUVwNEIsQ0FBQyxDQUFwMkMsR0FBdzJDb3NCLEVBQUUsV0FBVyxTQUFTcHNCLEVBQUVBLEVBQUU2ckIsR0FBRyxPQUFPclksS0FBSytoQixHQUFHLENBQUMxSixFQUFFLEVBQUV3SyxFQUFFeEssRUFBRXFMLEVBQUVyTCxFQUFFQSxFQUFFcUwsRUFBRTNhLElBQUl3YSxHQUFFLEVBQUdJLEdBQUUsRUFBRzFpQyxPQUFFLEVBQU9xaEMsRUFBRTkxQixFQUFFcXhCLEVBQUU3ZCxLQUFLbFYsRUFBRSxJQUFJNDNCLElBQUlTLEdBQUUsRUFBR2lCLEdBQUUsR0FBSXBrQixJQUFJLENBQUNxWSxFQUFFN3JCLEVBQUV5YSxLQUFLLElBQUlpRixFQUFFMWYsRUFBRTdLLFVBQVUsT0FBT2xCLE9BQU9DLGVBQWV3ckIsRUFBRSxPQUFPLENBQUMxaEIsSUFBSSxXQUFXLE9BQU8xTCxFQUFFa2hCLEtBQUsraEIsSUFBSWdELElBQUksSUFBSTdZLEVBQUVrRCxJQUFJLFNBQVM1aUIsR0FBRyxJQUFJNnJCLEVBQUVyWSxLQUFLK2hCLEdBQUcsT0FBTzFGLEVBQUVoRSxHQUFHQSxFQUFFcDNCLElBQUlvM0IsRUFBRXAzQixFQUFFbXVCLElBQUk1aUIsT0FBTzZyQixFQUFFdnRCLEVBQUVza0IsSUFBSTVpQixLQUFLNnJCLEVBQUVwM0IsRUFBRW11QixJQUFJaUosRUFBRXZ0QixFQUFFTixJQUFJZ0MsS0FBSzZyQixFQUFFaUssRUFBRWxULElBQUk1aUIsRUFBRSxFQUFFMGYsRUFBRS9FLElBQUksU0FBUzNhLEdBQUcsSUFBSTZyQixFQUFFclksS0FBSytoQixHQUFHLE9BQU8xRixFQUFFaEUsR0FBR3JZLEtBQUtvUCxJQUFJNWlCLEtBQUs4MUIsRUFBRWpLLEdBQUc0TCxFQUFFNUwsR0FBR0EsRUFBRXAzQixFQUFFa21CLElBQUkzYSxJQUFJd1QsSUFBSSxFQUFFa00sRUFBRXNXLE9BQU8sU0FBU2gyQixHQUFHLElBQUl3VCxLQUFLb1AsSUFBSTVpQixHQUFHLE9BQU0sRUFBRyxJQUFJNnJCLEVBQUVyWSxLQUFLK2hCLEdBQUcsT0FBTzFGLEVBQUVoRSxHQUFHaUssRUFBRWpLLEdBQUc0TCxFQUFFNUwsR0FBR0EsRUFBRXAzQixFQUFFdWhDLE9BQU9oMkIsTUFBTTZyQixFQUFFdnRCLEVBQUVza0IsSUFBSTVpQixJQUFJNnJCLEVBQUVwM0IsRUFBRXVoQyxPQUFPbkssRUFBRXZ0QixFQUFFTixJQUFJZ0MsR0FBRyxFQUFFMGYsRUFBRTlFLE1BQU0sV0FBVyxJQUFJNWEsRUFBRXdULEtBQUsraEIsR0FBRzFGLEVBQUU3dkIsR0FBRzFOLEVBQUUwTixHQUFHdTRCLE9BQU96QyxFQUFFOTFCLEdBQUd5M0IsRUFBRXozQixHQUFHQSxFQUFFdkwsRUFBRW1tQixRQUFRLEVBQUU4RSxFQUFFM0UsT0FBTyxXQUFXLElBQUkvYSxFQUFFd1QsS0FBSytoQixHQUFHLE9BQU8xRixFQUFFN3ZCLEdBQUc4MUIsRUFBRTkxQixHQUFHQSxFQUFFdkwsRUFBRXNtQixRQUFRLEVBQUUyRSxFQUFFMFksUUFBUSxXQUFXLElBQUlwNEIsRUFBRXdULEtBQUsraEIsR0FBRyxPQUFPMUYsRUFBRTd2QixHQUFHODFCLEVBQUU5MUIsR0FBR0EsRUFBRXZMLEVBQUUyakMsU0FBUyxFQUFFMVksRUFBRTdxQixLQUFLLFdBQVcsT0FBTzJlLEtBQUt1SCxRQUFRLEVBQUUyRSxFQUFFZ0ksR0FBRyxXQUFXLE9BQU9sVSxLQUFLdUgsUUFBUSxFQUFFMkUsRUFBRTNJLFFBQVEsU0FBUy9XLEVBQUU2ckIsR0FBRyxJQUFJLElBQUluTSxFQUFFbE0sS0FBS3VILFNBQVNxRCxFQUFFc0IsRUFBRTNqQixRQUFRcWlCLEVBQUVvYSxNQUFNeDRCLEVBQUUzSyxLQUFLdzJCLEVBQUV6TixFQUFFcHFCLE1BQU1vcUIsRUFBRXBxQixNQUFNd2YsTUFBTTRLLEVBQUVzQixFQUFFM2pCLE1BQU0sRUFBRWlFLENBQUMsQ0FBMTdCLEdBQTg3Qm1aLEVBQUUsU0FBUyxDQUFDdWUsRUFBRSxTQUFTMTNCLEVBQUU2ckIsR0FBRyxPQUFPLElBQUl2UCxFQUFFdGMsRUFBRTZyQixFQUFFLEVBQUU4TCxFQUFFLFNBQVMzM0IsRUFBRTZyQixHQUFHLE9BQU8sSUFBSU8sRUFBRXBzQixFQUFFNnJCLEVBQUUsR0FBRyxDQUFDLElBQUkrTCxFQUFFM2pDLE9BQU9DLGVBQWUrZ0MsUUFBdEIsY0FBNENqaEMsT0FBTSxJQUFLLElBQUl5aUMsRUFBRTBCLEVBQUUsb0JBQW9CaCtCLFFBQVEsaUJBQWlCQSxPQUFPLEtBQUs4N0IsRUFBRSxvQkFBb0JDLElBQUlDLEVBQUUsb0JBQW9CMWIsSUFBSWdlLEVBQUUsb0JBQW9CVixZQUFPLElBQVNBLE1BQU1DLFdBQVcsb0JBQW9CVSxRQUFRekIsRUFBRWtCLEVBQUVoK0IsT0FBT3crQixJQUFJLG1CQUFtQmYsRUFBRSxDQUFDLEdBQUcsa0JBQWlCLEVBQUdBLEdBQUdoQyxFQUFFdUMsRUFBRWgrQixPQUFPdytCLElBQUksbUJBQW1CLHFCQUFxQnBELEVBQUU0QyxFQUFFaCtCLE9BQU93K0IsSUFBSSxlQUFlLGlCQUFpQmpSLEVBQUUsb0JBQW9CdnRCLFFBQVFBLE9BQU95K0IsVUFBVSxhQUFhakQsRUFBRSxHQUFHMWhDLE9BQU9rQixVQUFVaVgsWUFBWXdiLEVBQUUsb0JBQW9COFEsU0FBU0EsUUFBUUcsUUFBUUgsUUFBUUcsYUFBUSxJQUFTNWtDLE9BQU9nQixzQkFBc0IsU0FBUytLLEdBQUcsT0FBTy9MLE9BQU82a0Msb0JBQW9COTRCLEdBQUdELE9BQU85TCxPQUFPZ0Isc0JBQXNCK0ssR0FBRyxFQUFFL0wsT0FBTzZrQyxvQkFBb0IxQyxFQUFFbmlDLE9BQU84a0MsMkJBQTJCLFNBQVMvNEIsR0FBRyxJQUFJNnJCLEVBQUUsQ0FBQyxFQUFFLE9BQU9qRSxFQUFFNW5CLEdBQUcrVyxTQUFRLFNBQVUySSxHQUFHbU0sRUFBRW5NLEdBQUd6ckIsT0FBT3VqQyx5QkFBeUJ4M0IsRUFBRTBmLEVBQUcsSUFBR21NLENBQUMsRUFBRWxFLEVBQUUsQ0FBQyxFQUFFa1EsRUFBRSxDQUFDNzVCLElBQUksU0FBU2dDLEVBQUU2ckIsR0FBRyxHQUFHQSxJQUFJMEosRUFBRSxPQUFPdjFCLEVBQUUsSUFBSW9lLEVBQUU5ckIsRUFBRTBOLEdBQUcsSUFBSTgxQixFQUFFMVgsRUFBRXlOLEdBQUcsT0FBTyxTQUFTN3JCLEVBQUU2ckIsRUFBRW5NLEdBQUcsSUFBSXRCLEVBQUUzcEIsRUFBRThpQyxFQUFFMUwsRUFBRW5NLEdBQUcsT0FBT2pyQixFQUFFLFVBQVVBLEVBQUVBLEVBQUVULE1BQU0sUUFBUW9xQixFQUFFM3BCLEVBQUV1SixXQUFNLElBQVNvZ0IsT0FBRSxFQUFPQSxFQUFFL29CLEtBQUsySyxFQUFFcXhCLFFBQUcsQ0FBTSxDQUFsSCxDQUFvSHJ4QixFQUFFb2UsRUFBRXlOLEdBQUcsSUFBSXAzQixFQUFFMnBCLEVBQUV5TixHQUFHLE9BQU83ckIsRUFBRW0zQixJQUFJelgsRUFBRWpyQixHQUFHQSxFQUFFQSxJQUFJeWlDLEVBQUVsM0IsRUFBRTgxQixFQUFFakssSUFBSXNMLEVBQUVuM0IsR0FBR0EsRUFBRXZMLEVBQUVvM0IsR0FBR3dGLEVBQUVyeEIsRUFBRWszQixFQUFFWixFQUFFN2hDLEVBQUV1TCxJQUFJdkwsQ0FBQyxFQUFFbXVCLElBQUksU0FBUzVpQixFQUFFNnJCLEdBQUcsT0FBT0EsS0FBS3Y1QixFQUFFME4sRUFBRSxFQUFFNjRCLFFBQVEsU0FBUzc0QixHQUFHLE9BQU8wNEIsUUFBUUcsUUFBUXZtQyxFQUFFME4sR0FBRyxFQUFFM0MsSUFBSSxTQUFTMkMsRUFBRTZyQixFQUFFbk0sR0FBRyxJQUFJdEIsRUFBRW1aLEVBQUVqbEMsRUFBRTBOLEdBQUc2ckIsR0FBRyxHQUFHLE1BQU16TixPQUFFLEVBQU9BLEVBQUUvZ0IsSUFBSSxPQUFPK2dCLEVBQUUvZ0IsSUFBSWhJLEtBQUsySyxFQUFFcXhCLEVBQUUzUixJQUFHLEVBQUcsSUFBSTFmLEVBQUUrMkIsRUFBRSxDQUFDLElBQUl0aUMsRUFBRXlpQyxFQUFFNWtDLEVBQUUwTixHQUFHNnJCLEdBQUdnRSxFQUFFLE1BQU1wN0IsT0FBRSxFQUFPQSxFQUFFOGdDLEdBQUcsR0FBRzFGLEdBQUdBLEVBQUVpRyxJQUFJcFcsRUFBRSxPQUFPMWYsRUFBRXZMLEVBQUVvM0IsR0FBR25NLEVBQUUxZixFQUFFcTNCLEVBQUV4TCxJQUFHLEdBQUcsRUFBRyxHQUFHdlAsRUFBRW9ELEVBQUVqckIsVUFBSyxJQUFTaXJCLEdBQUdvVyxFQUFFOTFCLEVBQUU4MUIsRUFBRWpLLElBQUksT0FBTSxFQUFHc0wsRUFBRW4zQixHQUFHeTNCLEVBQUV6M0IsRUFBRSxDQUFDLE9BQU9BLEVBQUV2TCxFQUFFbzNCLEtBQUtuTSxHQUFHLGlCQUFpQkEsU0FBSSxJQUFTQSxHQUFHbU0sS0FBSzdyQixFQUFFdkwsS0FBS3VMLEVBQUV2TCxFQUFFbzNCLEdBQUduTSxFQUFFMWYsRUFBRXEzQixFQUFFeEwsSUFBRyxHQUFHLEVBQUcsRUFBRW1OLGVBQWUsU0FBU2g1QixFQUFFNnJCLEdBQUcsWUFBTyxJQUFTcUwsRUFBRWwzQixFQUFFODFCLEVBQUVqSyxJQUFJQSxLQUFLN3JCLEVBQUU4MUIsR0FBRzkxQixFQUFFcTNCLEVBQUV4TCxJQUFHLEVBQUdzTCxFQUFFbjNCLEdBQUd5M0IsRUFBRXozQixXQUFXQSxFQUFFcTNCLEVBQUV4TCxHQUFHN3JCLEVBQUV2TCxVQUFVdUwsRUFBRXZMLEVBQUVvM0IsSUFBRyxDQUFFLEVBQUUyTCx5QkFBeUIsU0FBU3gzQixFQUFFNnJCLEdBQUcsSUFBSW5NLEVBQUVwdEIsRUFBRTBOLEdBQUdvZSxFQUFFc2EsUUFBUWxCLHlCQUF5QjlYLEVBQUVtTSxHQUFHLE9BQU96TixFQUFFLENBQUMvcEIsVUFBUyxFQUFHRCxhQUFhLElBQUk0TCxFQUFFNnJCLEdBQUcsV0FBV0EsRUFBRTEzQixXQUFXaXFCLEVBQUVqcUIsV0FBV0gsTUFBTTByQixFQUFFbU0sSUFBSXpOLENBQUMsRUFBRWxxQixlQUFlLFdBQVc4TCxFQUFFLEdBQUcsRUFBRXcxQixlQUFlLFNBQVN4MUIsR0FBRyxPQUFPL0wsT0FBT3VoQyxlQUFleDFCLEVBQUU4MUIsRUFBRSxFQUFFdUMsZUFBZSxXQUFXcjRCLEVBQUUsR0FBRyxHQUFHODNCLEVBQUUsQ0FBQyxFQUFFMVosRUFBRXlaLEdBQUUsU0FBVTczQixFQUFFNnJCLEdBQUdpTSxFQUFFOTNCLEdBQUcsV0FBVyxPQUFPczFCLFVBQVUsR0FBR0EsVUFBVSxHQUFHLEdBQUd6SixFQUFFeE4sTUFBTTdLLEtBQUs4aEIsVUFBVSxDQUFFLElBQUd3QyxFQUFFa0IsZUFBZSxTQUFTaDVCLEVBQUU2ckIsR0FBRyxPQUFPaU0sRUFBRXo2QixJQUFJaEksS0FBS21lLEtBQUt4VCxFQUFFNnJCLE9BQUUsRUFBTyxFQUFFaU0sRUFBRXo2QixJQUFJLFNBQVMyQyxFQUFFNnJCLEVBQUVuTSxHQUFHLE9BQU9tWSxFQUFFeDZCLElBQUloSSxLQUFLbWUsS0FBS3hULEVBQUUsR0FBRzZyQixFQUFFbk0sRUFBRTFmLEVBQUUsR0FBRyxFQUFFLElBQUlpNUIsR0FBRyxXQUFXLFNBQVM3YSxFQUFFeU4sR0FBRyxJQUFJek4sRUFBRTVLLEtBQUtBLEtBQUtxakIsRUFBRTRCLEVBQUVqbEIsS0FBSzhqQixHQUFFLEVBQUc5akIsS0FBS2laLFFBQVEsU0FBU1osRUFBRXAzQixFQUFFcWhDLEdBQUcsR0FBRyxtQkFBbUJqSyxHQUFHLG1CQUFtQnAzQixFQUFFLENBQUMsSUFBSW83QixFQUFFcDdCLEVBQUVBLEVBQUVvM0IsRUFBRSxJQUFJa0ssRUFBRTNYLEVBQUUsT0FBTyxTQUFTcGUsR0FBRyxJQUFJNnJCLEVBQUVyWSxVQUFLLElBQVN4VCxJQUFJQSxFQUFFNnZCLEdBQUcsSUFBSSxJQUFJblEsRUFBRTRWLFVBQVV4Z0MsT0FBT3NwQixFQUFFclksTUFBTTJaLEVBQUUsRUFBRUEsRUFBRSxFQUFFLEdBQUdvVyxFQUFFLEVBQUVBLEVBQUVwVyxFQUFFb1csSUFBSTFYLEVBQUUwWCxFQUFFLEdBQUdSLFVBQVVRLEdBQUcsT0FBT0MsRUFBRXRKLFFBQVF6c0IsR0FBRSxTQUFVQSxHQUFHLElBQUkwZixFQUFFLE9BQU9BLEVBQUVqckIsR0FBR1ksS0FBS2dwQixNQUFNcUIsRUFBRSxDQUFDbU0sRUFBRTdyQixHQUFHRCxPQUFPcWUsR0FBSSxHQUFFLENBQUMsQ0FBQyxJQUFJOUIsRUFBRSxHQUFHLG1CQUFtQjduQixHQUFHdUwsRUFBRSxRQUFHLElBQVM4MUIsR0FBRyxtQkFBbUJBLEdBQUc5MUIsRUFBRSxHQUFHMGYsRUFBRW1NLEdBQUcsQ0FBQyxJQUFJTyxFQUFFNVcsRUFBRTRJLEdBQUd5WCxFQUFFeEUsRUFBRWpULEVBQUV5TixPQUFFLEdBQVF2NUIsR0FBRSxFQUFHLElBQUlncUIsRUFBRTduQixFQUFFb2hDLEdBQUd2akMsR0FBRSxDQUFFLENBQUMsUUFBUUEsRUFBRW9rQyxFQUFFdEssR0FBR3VLLEVBQUV2SyxFQUFFLENBQUMsTUFBTSxvQkFBb0JwSixTQUFTMUcsYUFBYTBHLFFBQVExRyxFQUFFNEcsTUFBSyxTQUFVbGpCLEdBQUcsT0FBT2tiLEVBQUVrUixFQUFFMEosR0FBR2UsRUFBRTcyQixFQUFFb3NCLEVBQUcsSUFBRSxTQUFVcHNCLEdBQUcsTUFBTTAyQixFQUFFdEssR0FBR3BzQixDQUFFLEtBQUlrYixFQUFFa1IsRUFBRTBKLEdBQUdlLEVBQUV2YSxFQUFFOFAsR0FBRyxDQUFDLElBQUlQLEdBQUcsaUJBQWlCQSxFQUFFLENBQUMsUUFBRyxLQUFVdlAsRUFBRTduQixFQUFFbzNCLE1BQU12UCxFQUFFdVAsR0FBR3ZQLElBQUkyYSxJQUFJM2EsT0FBRSxHQUFROEIsRUFBRWtaLEdBQUdqQixFQUFFL1osR0FBRSxHQUFJd1osRUFBRSxDQUFDLElBQUl4M0IsRUFBRSxHQUFHK0IsRUFBRSxHQUFHcVYsRUFBRSxXQUFXc2hCLEVBQUVuTCxFQUFFdlAsRUFBRWhlLEVBQUUrQixHQUFHeTFCLEVBQUV4M0IsRUFBRStCLEVBQUUsQ0FBQyxPQUFPaWMsQ0FBQyxDQUFDdGMsRUFBRSxHQUFHNnJCLEVBQUUsRUFBRXJZLEtBQUswbEIsbUJBQW1CLFNBQVNsNUIsRUFBRTZyQixHQUFHLEdBQUcsbUJBQW1CN3JCLEVBQUUsT0FBTyxTQUFTNnJCLEdBQUcsSUFBSSxJQUFJbk0sRUFBRTRWLFVBQVV4Z0MsT0FBT0wsRUFBRXNSLE1BQU0yWixFQUFFLEVBQUVBLEVBQUUsRUFBRSxHQUFHb1csRUFBRSxFQUFFQSxFQUFFcFcsRUFBRW9XLElBQUlyaEMsRUFBRXFoQyxFQUFFLEdBQUdSLFVBQVVRLEdBQUcsT0FBTzFYLEVBQUU4YSxtQkFBbUJyTixHQUFFLFNBQVVBLEdBQUcsT0FBTzdyQixFQUFFcWUsV0FBTSxFQUFPLENBQUN3TixHQUFHOXJCLE9BQU90TCxHQUFJLEdBQUUsRUFBRSxJQUFJaXJCLEVBQUVqckIsRUFBRXFoQyxFQUFFMVgsRUFBRXFPLFFBQVF6c0IsRUFBRTZyQixHQUFFLFNBQVU3ckIsRUFBRTZyQixHQUFHbk0sRUFBRTFmLEVBQUV2TCxFQUFFbzNCLENBQUUsSUFBRyxNQUFNLG9CQUFvQjdJLFNBQVM4UyxhQUFhOVMsUUFBUThTLEVBQUU1UyxNQUFLLFNBQVVsakIsR0FBRyxNQUFNLENBQUNBLEVBQUUwZixFQUFFanJCLEVBQUcsSUFBRyxDQUFDcWhDLEVBQUVwVyxFQUFFanJCLEVBQUUsRUFBRSxrQkFBa0IsTUFBTW8zQixPQUFFLEVBQU9BLEVBQUVzTixhQUFhM2xCLEtBQUs0bEIsY0FBY3ZOLEVBQUVzTixZQUFZLGtCQUFrQixNQUFNdE4sT0FBRSxFQUFPQSxFQUFFd04sYUFBYTdsQixLQUFLOGxCLGNBQWN6TixFQUFFd04sV0FBVyxDQUFDLElBQUk1a0MsRUFBRTJwQixFQUFFanBCLFVBQVUsT0FBT1YsRUFBRWdnQyxZQUFZLFNBQVNyVyxHQUFHc0IsRUFBRXRCLElBQUlwZSxFQUFFLEdBQUc2ckIsRUFBRXpOLEtBQUtBLEVBQUVnWixFQUFFaFosSUFBSSxJQUFJM3BCLEVBQUUrZ0IsRUFBRWhDLE1BQU1zaUIsRUFBRXpFLEVBQUU3ZCxLQUFLNEssT0FBRSxHQUFRLE9BQU8wWCxFQUFFUCxHQUFHcUMsR0FBRSxFQUFHakIsRUFBRWxpQyxHQUFHcWhDLENBQUMsRUFBRXJoQyxFQUFFcWdDLFlBQVksU0FBUzkwQixFQUFFNnJCLEdBQUcsSUFBSW5NLEdBQUcxZixHQUFHQSxFQUFFdTFCLElBQUkyQixFQUFFLE9BQU9oYyxFQUFFd0UsRUFBRW1NLEdBQUdnTCxPQUFFLEVBQU9uWCxFQUFFLEVBQUVqckIsRUFBRTZrQyxjQUFjLFNBQVN0NUIsR0FBR3dULEtBQUs4akIsRUFBRXQzQixDQUFDLEVBQUV2TCxFQUFFMmtDLGNBQWMsU0FBU3ZOLEdBQUdBLElBQUk0TSxHQUFHejRCLEVBQUUsSUFBSXdULEtBQUtxakIsRUFBRWhMLENBQUMsRUFBRXAzQixFQUFFOGtDLGFBQWEsU0FBU3Y1QixFQUFFMGYsR0FBRyxJQUFJdEIsRUFBRSxJQUFJQSxFQUFFc0IsRUFBRTVxQixPQUFPLEVBQUVzcEIsR0FBRyxFQUFFQSxJQUFJLENBQUMsSUFBSTNwQixFQUFFaXJCLEVBQUV0QixHQUFHLEdBQUcsSUFBSTNwQixFQUFFb0QsS0FBSy9DLFFBQVEsWUFBWUwsRUFBRStZLEdBQUcsQ0FBQ3hOLEVBQUV2TCxFQUFFVCxNQUFNLEtBQUssQ0FBQyxDQUFDb3FCLEdBQUcsSUFBSXNCLEVBQUVBLEVBQUVqbkIsTUFBTTJsQixFQUFFLElBQUksSUFBSTBYLEVBQUVwZ0IsRUFBRSxXQUFXdWdCLEVBQUUsT0FBT3BLLEVBQUU3ckIsR0FBRzgxQixFQUFFOTFCLEVBQUUwZixHQUFHbE0sS0FBS2laLFFBQVF6c0IsR0FBRSxTQUFVQSxHQUFHLE9BQU84MUIsRUFBRTkxQixFQUFFMGYsRUFBRyxHQUFFLEVBQUV0QixDQUFDLENBQTUyRCxHQUFnM0RvYixHQUFHLElBQUlQLEdBQUdRLEdBQUdELEdBQUcvTSxRQUFRaU4sR0FBR0YsR0FBR04sbUJBQW1CN25CLEtBQUttb0IsSUFBSUcsR0FBR0gsR0FBR0YsY0FBY2pvQixLQUFLbW9CLElBQUlJLEdBQUdKLEdBQUdKLGNBQWMvbkIsS0FBS21vQixJQUFJaGMsR0FBR2djLEdBQUdELGFBQWFsb0IsS0FBS21vQixJQUFJSyxHQUFHTCxHQUFHL0UsWUFBWXBqQixLQUFLbW9CLElBQUlNLEdBQUdOLEdBQUcxRSxZQUFZempCLEtBQUttb0IsSUFBSXZFLFFBQVE4RSxNQUFNZCxHQUFHaEUsUUFBUXNFLGFBQWEvYixHQUFHeVgsUUFBUStFLFVBQVUsU0FBU2g2QixHQUFHLE9BQU9BLENBQUMsRUFBRWkxQixRQUFRZ0YsY0FBYyxTQUFTajZCLEdBQUcsT0FBT0EsQ0FBQyxFQUFFaTFCLFFBQVFSLFlBQVlvRixHQUFHNUUsUUFBUS9oQyxRQUFRa2tDLEVBQUVuQyxRQUFBLFFBQWdCd0UsR0FBR3hFLFFBQVFpRixpQkFBaUIsV0FBVzVDLElBQUlLLElBQUlELEdBQUcsRUFBRXpDLFFBQVFrRixVQUFVN0MsRUFBRXJDLFFBQVFtRixhQUFhekMsRUFBRTFDLFFBQVFvRixjQUFjM0MsRUFBRXpDLFFBQVFILFlBQVlnRixHQUFHN0UsUUFBUXNCLE9BQU9GLEVBQUVwQixRQUFRcUYsVUFBVTFFLEVBQUVYLFFBQVFGLFFBQVFsSixFQUFFb0osUUFBUXNGLFlBQVk3YSxFQUFFdVYsUUFBUXVGLFFBQVF2RCxFQUFFaEMsUUFBUXdGLFNBQVMsU0FBUy9hLEdBQUcsT0FBT21NLEVBQUVuTSxJQUFJMWYsRUFBRSxHQUFHMGYsR0FBR0EsRUFBRTZWLEdBQUdPLENBQUMsRUFBRWIsUUFBUXhJLFFBQVFnTixHQUFHeEUsUUFBUWlFLG1CQUFtQlEsR0FBR3pFLFFBQVFxRSxjQUFjSyxHQUFHMUUsUUFBUW1FLGNBQWNRLDhHQ0kxa2Y1RSxPQUFPQyxRQUFVLG9CQUFqQixtSkNGRmhoQyxPQUFPQyxlQUFlK2dDLFFBQVMsYUFBYyxDQUMzQ2poQyxPQUFPLElBNkVULElBdEVBLElBQUkwbUMsT0FBMEIsb0JBQVY3a0MsUUFBeUIsdUJBQXVCQyxLQUFLRCxPQUFPRCxVQUFVK2tDLFVBRXRGQyxVQUFZLENBQ2RDLElBQUssU0FDTEMsUUFBUyxVQUNUQyxLQUFNLFVBQ05DLE1BQU8sWUFHTEMsUUFBVSxDQUNadGdCLElBQUssSUFDTHVnQixNQUFPLFFBQ1BDLElBQUssT0FDTEMsUUFBUyxPQUNUQyxJQUFLLFVBQ0xDLEtBQU0sVUFDTkMsSUFBSyxTQUNMQyxLQUFNLFlBQ05DLElBQUssU0FDTEMsSUFBSyxTQUNMNWxCLEtBQU0sWUFDTjZsQixJQUFLakIsT0FBUyxPQUFTLFVBQ3ZCa0IsSUFBSyxNQUNMQyxPQUFRLE1BQ1JDLE9BQVEsUUFDUmhkLE1BQU8sYUFDUGlkLE1BQU8sSUFDUEMsU0FBVSxJQUNWQyxHQUFJLFVBQ0pDLElBQUssT0FDTDM1QixRQUFTLFFBR1A0NUIsTUFBUSxDQUNWQyxVQUFXLEVBQ1hDLElBQUssRUFDTEMsTUFBTyxHQUNQdEIsTUFBTyxHQUNQRixRQUFTLEdBQ1RELElBQUssR0FDTDBCLE1BQU8sR0FDUEMsU0FBVSxHQUNWQyxPQUFRLEdBQ1IsSUFBSyxHQUNMQyxPQUFRLEdBQ1JDLFNBQVUsR0FDVnJ1QixJQUFLLEdBQ0xzdUIsS0FBTSxHQUNOQyxVQUFXLEdBQ1hDLFFBQVMsR0FDVEMsV0FBWSxHQUNaQyxVQUFXLEdBQ1hDLE9BQVEsR0FDUmpILE9BQVEsR0FDUitFLEtBQU0sR0FDTm1DLFFBQVMsSUFDVEMsV0FBWSxJQUNaLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsSUFBSyxJQUNMLElBQUssSUFDTCxJQUFLLElBQ0wsS0FBTSxJQUNOLElBQUssSUFDTCxJQUFNLEtBR0NwSCxFQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFDdEJvRyxNQUFNLElBQU1wRyxHQUFLLElBQU1BLEVBT3pCLFNBQVNxSCxTQUFTQyxPQUFRaHBCLFFBQVN6UixPQUM3QnlSLFdBQWEsVUFBV0EsV0FDMUJ6UixNQUFReVIsUUFDUkEsUUFBVSxNQUdQdE8sTUFBTXVpQixRQUFRK1UsVUFDakJBLE9BQVMsQ0FBQ0EsU0FHWixJQUFJQyxNQUFRRCxPQUFPeFMsS0FBSSxTQUFVeHlCLFFBQy9CLE9BQU9rbEMsWUFBWWxsQyxPQUFRZ2MsUUFDN0IsSUFDSW1wQixNQUFRLFNBQVNBLE1BQU1wZixHQUN6QixPQUFPa2YsTUFBTTlrQixNQUFLLFNBQVVpbEIsUUFDMUIsT0FBT0MsY0FBY0QsT0FBUXJmLEVBQy9CLEdBQ0YsRUFFQSxPQURtQixNQUFUeGIsTUFBZ0I0NkIsTUFBUUEsTUFBTTU2QixNQUUxQyxDQWNBLFNBQVMyNkIsWUFBWUYsT0FBUWhwQixTQUMzQixJQUFJc3BCLE1BQVF0cEIsU0FBV0EsUUFBUXNwQixNQUMzQkMsSUFBTSxDQUFDLEVBSVA3aUIsUUFESnNpQixPQUFTQSxPQUFPeHVCLFFBQVEsS0FBTSxTQUNWblosTUFBTSxLQUN0QlosT0FBU2ltQixPQUFPam1CLE9BSXBCLElBQUssSUFBSXU4QixLQUFLdUosVUFDWmdELElBQUloRCxVQUFVdkosS0FBTSxFQUd0QixJQUFJd00sMkJBQTRCLEVBQzVCQyxtQkFBb0IsRUFDcEJDLG9CQUFpQnRxQyxFQUVyQixJQUNFLElBQUssSUFBMkN1cUMsTUFBdkNDLFVBQVlsakIsT0FBTzVnQixPQUFPeStCLGNBQXNCaUYsMkJBQTZCRyxNQUFRQyxVQUFVbGlDLFFBQVF5OEIsTUFBT3FGLDJCQUE0QixFQUFNLENBQ3ZKLElBQUk3cEMsTUFBUWdxQyxNQUFNaHFDLE1BRWRrcUMsU0FBV2xxQyxNQUFNZ1ksU0FBUyxNQUFRaFksTUFBTWMsT0FBUyxFQUVqRG9wQyxXQUNGbHFDLE1BQVFBLE1BQU15RSxNQUFNLEdBQUksSUFHMUIsSUFBSTRULEtBQU84eEIsVUFBVW5xQyxPQUNqQm9xQyxTQUFXeEQsVUFBVXZ1QixNQUVWLElBQVh2WCxRQUFpQnNwQyxXQUNmVCxNQUNGQyxJQUFJN3BDLElBQU1zWSxLQUVWdXhCLElBQUlTLE1BQVFDLFVBQVV0cUMsUUFJdEJvcUMsV0FDRlIsSUFBSVEsV0FBWUYsVUFBVyxLQUUvQixDQUNGLENBQUUsTUFBTy9xQyxLQUNQMnFDLG1CQUFvQixFQUNwQkMsZUFBaUI1cUMsR0FDbkIsQ0FBRSxRQUNBLEtBQ08wcUMsMkJBQTZCSSxVQUFVbkMsUUFDMUNtQyxVQUFVbkMsUUFFZCxDQUFFLFFBQ0EsR0FBSWdDLGtCQUNGLE1BQU1DLGNBRVYsQ0FDRixDQUVBLE9BQU9ILEdBQ1QsQ0FNQSxTQUFTRixjQUFjRCxPQUFRNzZCLE9BQzdCLElBQUssSUFBSTdPLE9BQU8wcEMsT0FBUSxDQUN0QixJQUFJYyxTQUFXZCxPQUFPMXBDLEtBQ2xCeXFDLFlBQVMsRUFFYixHQUFnQixNQUFaRCxZQVlVLE9BUFpDLE9BRFUsUUFBUnpxQyxLQUE4QixNQUFiNk8sTUFBTTdPLElBQ2hCNk8sTUFBTTdPLElBQUkwcUMsY0FDRixVQUFSMXFDLElBQ2EsS0FBYndxQyxVQUFtQyxLQUFoQjM3QixNQUFNeTdCLE1BQWUsR0FBS3o3QixNQUFNeTdCLE1BRW5EejdCLE1BQU03TyxRQUdrQixJQUFid3FDLFdBSWxCQyxTQUFXRCxVQUNiLE9BQU8sQ0FFWCxDQUVBLE9BQU8sQ0FDVCxDQU1BLFNBQVNELFVBQVVqeUIsTUFHakIsT0FGQUEsS0FBTzh4QixVQUFVOXhCLE1BQ044dkIsTUFBTTl2QixPQUFTQSxLQUFLcXlCLGNBQWNsWSxXQUFXLEVBRTFELENBRUEsU0FBUzJYLFVBQVU5eEIsTUFHakIsT0FGQUEsS0FBT0EsS0FBS295QixjQUNacHlCLEtBQU80dUIsUUFBUTV1QixPQUFTQSxJQUUxQixDQU1BNG9CLFFBQUEsUUFBa0JtSSxTQUNsQm5JLFFBQVFtSSxTQUFXQSxTQUNuQm5JLFFBQVEwSixhQWpJUixTQUFTQSxhQUFhdEIsT0FBUXo2QixPQUM1QixPQUFPdzZCLFNBQVNDLE9BQVF6NkIsTUFDMUIsRUFnSUFxeUIsUUFBUXh5QixZQTlIUixTQUFTQSxZQUFZNDZCLE9BQVF6NkIsT0FDM0IsT0FBT3c2QixTQUFTQyxPQUFRLENBQUVNLE9BQU8sR0FBUS82QixNQUMzQyxFQTZIQXF5QixRQUFRc0ksWUFBY0EsWUFDdEJ0SSxRQUFReUksY0FBZ0JBLGNBQ3hCekksUUFBUXFKLFVBQVlBLFVBQ3BCckosUUFBUWtKLFVBQVlBLHVHQ3BQcEIsSUFBSTl6QixTQUFXLG9CQUFRLHFDQUNuQnUwQixTQUFXLG9CQUFRLHFDQW1FdkI1SixPQUFPQyxRQWxCUCxTQUFTeHJCLFNBQVNvMUIsS0FBTUMsS0FBTXpxQixTQUM1QixJQUFJMHFCLFNBQVUsRUFDVkMsVUFBVyxFQUVmLEdBQW1CLG1CQUFSSCxLQUNULE1BQU0sSUFBSUksVUFuRFEsdUJBeURwQixPQUpJTCxTQUFTdnFCLFdBQ1gwcUIsUUFBVSxZQUFhMXFCLFVBQVlBLFFBQVEwcUIsUUFBVUEsUUFDckRDLFNBQVcsYUFBYzNxQixVQUFZQSxRQUFRMnFCLFNBQVdBLFVBRW5EMzBCLFNBQVN3MEIsS0FBTUMsS0FBTSxDQUMxQixRQUNBLFFBQVdBLEtBQ1gsVUFFSixpaEJDbEVXSSxZQUFpQyxvQkFBWHJwQyxTQUEwQkEsT0FBT2dCLFdBQVloQixPQUFPZ0IsU0FBU0MsZUNBMUZxb0MsYUFBZSxXQUFjLFNBQVNDLGlCQUFpQjFxQyxPQUFRNEMsT0FBUyxJQUFLLElBQUk3QyxFQUFJLEVBQUdBLEVBQUk2QyxNQUFNeEMsT0FBUUwsSUFBSyxDQUFFLElBQUk0cUMsV0FBYS9uQyxNQUFNN0MsR0FBSTRxQyxXQUFXbHJDLFdBQWFrckMsV0FBV2xyQyxhQUFjLEVBQU9rckMsV0FBV2pyQyxjQUFlLEVBQVUsVUFBV2lyQyxhQUFZQSxXQUFXaHJDLFVBQVcsR0FBTUosT0FBT0MsZUFBZVEsT0FBUTJxQyxXQUFXdHJDLElBQUtzckMsV0FBYSxDQUFFLENBQUUsT0FBTyxTQUFVQyxZQUFhQyxXQUFZQyxhQUFpSixPQUE5SEQsWUFBWUgsaUJBQWlCRSxZQUFZbnFDLFVBQVdvcUMsWUFBaUJDLGFBQWFKLGlCQUFpQkUsWUFBYUUsYUFBcUJGLFdBQWEsQ0FBRyxDQUE3aEIsR0FhbkIsSUFBSUcsT0FBUyxTQUFVQyxrQkFHckIsU0FBU0QsU0FHUCxPQWpCSixTQUFTRSxnQkFBZ0JDLFNBQVVOLGFBQWUsS0FBTU0sb0JBQW9CTixhQUFnQixNQUFNLElBQUlMLFVBQVUsb0NBQXdDLENBZXBKVSxDQUFnQm5zQixLQUFNaXNCLFFBYjFCLFNBQVNJLDJCQUEyQkMsS0FBTXpxQyxNQUFRLElBQUt5cUMsS0FBUSxNQUFNLElBQUlDLGVBQWUsNkRBQWdFLE9BQU8xcUMsTUFBeUIsaUJBQVRBLE1BQXFDLG1CQUFUQSxLQUE4QnlxQyxLQUFQenFDLElBQWEsQ0FlcE93cUMsQ0FBMkJyc0IsTUFBT2lzQixPQUFPbkgsV0FBYXJrQyxPQUFPdWhDLGVBQWVpSyxTQUFTcGhCLE1BQU03SyxLQUFNOGhCLFdBQzFHLENBd0JBLE9BdENGLFNBQVMwSyxVQUFVQyxTQUFVQyxZQUFjLEdBQTBCLG1CQUFmQSxZQUE0QyxPQUFmQSxXQUF1QixNQUFNLElBQUlqQixVQUFVLGtFQUFvRWlCLFlBQWVELFNBQVM5cUMsVUFBWWxCLE9BQU9tTyxPQUFPODlCLFlBQWNBLFdBQVcvcUMsVUFBVyxDQUFFaVgsWUFBYSxDQUFFcFksTUFBT2lzQyxTQUFVOXJDLFlBQVksRUFBT0UsVUFBVSxFQUFNRCxjQUFjLEtBQWU4ckMsYUFBWWpzQyxPQUFPb2tDLGVBQWlCcGtDLE9BQU9va0MsZUFBZTRILFNBQVVDLFlBQWNELFNBQVMzSCxVQUFZNEgsV0FBWSxDQVEzZUYsQ0FBVVAsT0FBUUMsa0JBUWxCUCxhQUFhTSxPQUFRLENBQUMsQ0FDcEIxckMsSUFBSyx1QkFDTEMsTUFBTyxTQUFTbXNDLHVCQUNWM3NCLEtBQUs0c0IsYUFDUHZwQyxTQUFTMnBCLEtBQUt4SixZQUFZeEQsS0FBSzRzQixhQUVqQzVzQixLQUFLNHNCLFlBQWMsSUFDckIsR0FDQyxDQUNEcnNDLElBQUssU0FDTEMsTUFBTyxTQUFTcXNDLFNBQ2QsT0FBS25CLFdBR0ExckIsS0FBS2xjLE1BQU0wRixNQUFTd1csS0FBSzRzQixjQUM1QjVzQixLQUFLNHNCLFlBQWN2cEMsU0FBU0MsY0FBYyxPQUMxQ0QsU0FBUzJwQixLQUFLUixZQUFZeE0sS0FBSzRzQixjQUUxQix1QkFBc0I1c0IsS0FBS2xjLE1BQU1nQixTQUFVa2IsS0FBS2xjLE1BQU0wRixNQUFRd1csS0FBSzRzQixjQU5qRSxJQU9YLEtBR0tYLE1BQ1QsQ0FoQ2EsQ0FnQ1gsaUJBRUZBLE9BQU9hLFVBQVksQ0FDakJob0MsU0FBVSwwQkFBZWlvQyxXQUN6QnZqQyxLQUFNLDBCQUdSLHVCQ3BEQSxJQUFJLHlCQUFlLFdBQWMsU0FBU29pQyxpQkFBaUIxcUMsT0FBUTRDLE9BQVMsSUFBSyxJQUFJN0MsRUFBSSxFQUFHQSxFQUFJNkMsTUFBTXhDLE9BQVFMLElBQUssQ0FBRSxJQUFJNHFDLFdBQWEvbkMsTUFBTTdDLEdBQUk0cUMsV0FBV2xyQyxXQUFha3JDLFdBQVdsckMsYUFBYyxFQUFPa3JDLFdBQVdqckMsY0FBZSxFQUFVLFVBQVdpckMsYUFBWUEsV0FBV2hyQyxVQUFXLEdBQU1KLE9BQU9DLGVBQWVRLE9BQVEycUMsV0FBV3RyQyxJQUFLc3JDLFdBQWEsQ0FBRSxDQUFFLE9BQU8sU0FBVUMsWUFBYUMsV0FBWUMsYUFBaUosT0FBOUhELFlBQVlILGlCQUFpQkUsWUFBWW5xQyxVQUFXb3FDLFlBQWlCQyxhQUFhSixpQkFBaUJFLFlBQWFFLGFBQXFCRixXQUFhLENBQUcsQ0FBN2hCLEdBZW5CLElBQUksb0JBQVMsU0FBVUksa0JBR3JCLFNBQVNELFNBR1AsT0FuQkosU0FBUyw0QkFBZ0JHLFNBQVVOLGFBQWUsS0FBTU0sb0JBQW9CTixhQUFnQixNQUFNLElBQUlMLFVBQVUsb0NBQXdDLENBaUJwSixDQUFnQnpyQixLQUFNaXNCLFFBZjFCLFNBQVMsdUNBQTJCSyxLQUFNenFDLE1BQVEsSUFBS3lxQyxLQUFRLE1BQU0sSUFBSUMsZUFBZSw2REFBZ0UsT0FBTzFxQyxNQUF5QixpQkFBVEEsTUFBcUMsbUJBQVRBLEtBQThCeXFDLEtBQVB6cUMsSUFBYSxDQWlCcE8sQ0FBMkJtZSxNQUFPaXNCLE9BQU9uSCxXQUFhcmtDLE9BQU91aEMsZUFBZWlLLFNBQVNwaEIsTUFBTTdLLEtBQU04aEIsV0FDMUcsQ0E2Q0EsT0E3REYsU0FBUyxzQkFBVTJLLFNBQVVDLFlBQWMsR0FBMEIsbUJBQWZBLFlBQTRDLE9BQWZBLFdBQXVCLE1BQU0sSUFBSWpCLFVBQVUsa0VBQW9FaUIsWUFBZUQsU0FBUzlxQyxVQUFZbEIsT0FBT21PLE9BQU84OUIsWUFBY0EsV0FBVy9xQyxVQUFXLENBQUVpWCxZQUFhLENBQUVwWSxNQUFPaXNDLFNBQVU5ckMsWUFBWSxFQUFPRSxVQUFVLEVBQU1ELGNBQWMsS0FBZThyQyxhQUFZanNDLE9BQU9va0MsZUFBaUJwa0MsT0FBT29rQyxlQUFlNEgsU0FBVUMsWUFBY0QsU0FBUzNILFVBQVk0SCxXQUFZLENBVTNlLENBQVVULE9BQVFDLGtCQVFsQix5QkFBYUQsT0FBUSxDQUFDLENBQ3BCMXJDLElBQUssb0JBQ0xDLE1BQU8sU0FBU3dzQyxvQkFDZGh0QixLQUFLaXRCLGNBQ1AsR0FDQyxDQUNEMXNDLElBQUsscUJBQ0xDLE1BQU8sU0FBUzBzQyxtQkFBbUJwcEMsT0FDakNrYyxLQUFLaXRCLGNBQ1AsR0FDQyxDQUNEMXNDLElBQUssdUJBQ0xDLE1BQU8sU0FBU21zQyx1QkFDZCxpQ0FBZ0Mzc0IsS0FBSzRzQixhQUFlNXNCLEtBQUtsYyxNQUFNMEYsTUFDM0R3VyxLQUFLNHNCLGFBQ1B2cEMsU0FBUzJwQixLQUFLeEosWUFBWXhELEtBQUs0c0IsYUFFakM1c0IsS0FBSzRzQixZQUFjLEtBQ25CNXNCLEtBQUttdEIsT0FBUyxJQUNoQixHQUNDLENBQ0Q1c0MsSUFBSyxlQUNMQyxNQUFPLFNBQVN5c0MsYUFBYW5wQyxPQUN0QmtjLEtBQUtsYyxNQUFNMEYsTUFBU3dXLEtBQUs0c0IsY0FDNUI1c0IsS0FBSzRzQixZQUFjdnBDLFNBQVNDLGNBQWMsT0FDMUNELFNBQVMycEIsS0FBS1IsWUFBWXhNLEtBQUs0c0IsY0FHakMsSUFBSTluQyxTQUFXa2IsS0FBS2xjLE1BQU1nQixTQUVjLG1CQUE3QmtiLEtBQUtsYyxNQUFNZ0IsU0FBUzJQLE9BQzdCM1AsU0FBVyxtQkFBbUJrYixLQUFLbGMsTUFBTWdCLFdBRzNDa2IsS0FBS210QixPQUFTLDhDQUE2Q250QixLQUFNbGIsU0FBVWtiLEtBQUtsYyxNQUFNMEYsTUFBUXdXLEtBQUs0c0IsWUFDckcsR0FDQyxDQUNEcnNDLElBQUssU0FDTEMsTUFBTyxTQUFTcXNDLFNBQ2QsT0FBTyxJQUNULEtBR0taLE1BQ1QsQ0FyRGEsQ0FxRFgsaUJBRUYsdUNBR0Esb0JBQU9hLFVBQVksQ0FDakJob0MsU0FBVSwwQkFBZWlvQyxXQUN6QnZqQyxLQUFNLDBCQzlEUixtQkFOSSx1QkFDTyxVQUVBNGpDLGFDVlgsSUFBSSw0QkFBZSxXQUFjLFNBQVN4QixpQkFBaUIxcUMsT0FBUTRDLE9BQVMsSUFBSyxJQUFJN0MsRUFBSSxFQUFHQSxFQUFJNkMsTUFBTXhDLE9BQVFMLElBQUssQ0FBRSxJQUFJNHFDLFdBQWEvbkMsTUFBTTdDLEdBQUk0cUMsV0FBV2xyQyxXQUFha3JDLFdBQVdsckMsYUFBYyxFQUFPa3JDLFdBQVdqckMsY0FBZSxFQUFVLFVBQVdpckMsYUFBWUEsV0FBV2hyQyxVQUFXLEdBQU1KLE9BQU9DLGVBQWVRLE9BQVEycUMsV0FBV3RyQyxJQUFLc3JDLFdBQWEsQ0FBRSxDQUFFLE9BQU8sU0FBVUMsWUFBYUMsV0FBWUMsYUFBaUosT0FBOUhELFlBQVlILGlCQUFpQkUsWUFBWW5xQyxVQUFXb3FDLFlBQWlCQyxhQUFhSixpQkFBaUJFLFlBQWFFLGFBQXFCRixXQUFhLENBQUcsQ0FBN2hCLEdBWW5CLElBQUl1QixnQkFDTSxHQUdOQyxnQkFBa0IsU0FBVXBCLGtCQUc5QixTQUFTb0IsZ0JBQWdCeHBDLFFBakIzQixTQUFTLCtCQUFnQnNvQyxTQUFVTixhQUFlLEtBQU1NLG9CQUFvQk4sYUFBZ0IsTUFBTSxJQUFJTCxVQUFVLG9DQUF3QyxDQWtCcEosQ0FBZ0J6ckIsS0FBTXN0QixpQkFFdEIsSUFBSUMsTUFsQlIsU0FBUywwQ0FBMkJqQixLQUFNenFDLE1BQVEsSUFBS3lxQyxLQUFRLE1BQU0sSUFBSUMsZUFBZSw2REFBZ0UsT0FBTzFxQyxNQUF5QixpQkFBVEEsTUFBcUMsbUJBQVRBLEtBQThCeXFDLEtBQVB6cUMsSUFBYSxDQWtCL04sQ0FBMkJtZSxNQUFPc3RCLGdCQUFnQnhJLFdBQWFya0MsT0FBT3VoQyxlQUFlc0wsa0JBQWtCenJDLEtBQUttZSxLQUFNbGMsUUFTOUgsT0FQQXlwQyxNQUFNQyxXQUFhLEtBQ25CRCxNQUFNeGpDLE1BQVEsQ0FBRTBqQyxTQUFVM3BDLE1BQU00cEMsYUFDaENILE1BQU1JLFdBQWFKLE1BQU1JLFdBQVc5dkIsS0FBSzB2QixPQUN6Q0EsTUFBTUssWUFBY0wsTUFBTUssWUFBWS92QixLQUFLMHZCLE9BQzNDQSxNQUFNTSxlQUFpQk4sTUFBTU0sZUFBZWh3QixLQUFLMHZCLE9BQ2pEQSxNQUFNTyx3QkFBMEJQLE1BQU1PLHdCQUF3Qmp3QixLQUFLMHZCLE9BQ25FQSxNQUFNUSxjQUFnQlIsTUFBTVEsY0FBY2x3QixLQUFLMHZCLE9BQ3hDQSxLQUNULENBNEZBLE9BdEhGLFNBQVMseUJBQVVkLFNBQVVDLFlBQWMsR0FBMEIsbUJBQWZBLFlBQTRDLE9BQWZBLFdBQXVCLE1BQU0sSUFBSWpCLFVBQVUsa0VBQW9FaUIsWUFBZUQsU0FBUzlxQyxVQUFZbEIsT0FBT21PLE9BQU84OUIsWUFBY0EsV0FBVy9xQyxVQUFXLENBQUVpWCxZQUFhLENBQUVwWSxNQUFPaXNDLFNBQVU5ckMsWUFBWSxFQUFPRSxVQUFVLEVBQU1ELGNBQWMsS0FBZThyQyxhQUFZanNDLE9BQU9va0MsZUFBaUJwa0MsT0FBT29rQyxlQUFlNEgsU0FBVUMsWUFBY0QsU0FBUzNILFVBQVk0SCxXQUFZLENBVzNlLENBQVVZLGdCQUFpQnBCLGtCQWlCM0IsNEJBQWFvQixnQkFBaUIsQ0FBQyxDQUM3Qi9zQyxJQUFLLG9CQUNMQyxNQUFPLFNBQVN3c0Msb0JBQ1ZodEIsS0FBS2xjLE1BQU1rcUMsWUFDYjNxQyxTQUFTaEUsaUJBQWlCLFVBQVcyZ0IsS0FBSyt0QixlQUV4Qy90QixLQUFLbGMsTUFBTW1xQyxxQkFDYjVxQyxTQUFTaEUsaUJBQWlCLFFBQVMyZ0IsS0FBSzh0Qix3QkFFNUMsR0FDQyxDQUNEdnRDLElBQUssdUJBQ0xDLE1BQU8sU0FBU21zQyx1QkFDVjNzQixLQUFLbGMsTUFBTWtxQyxZQUNiM3FDLFNBQVM4VixvQkFBb0IsVUFBVzZHLEtBQUsrdEIsZUFFM0MvdEIsS0FBS2xjLE1BQU1tcUMscUJBQ2I1cUMsU0FBUzhWLG9CQUFvQixRQUFTNkcsS0FBSzh0Qix3QkFFL0MsR0FDQyxDQUNEdnRDLElBQUssYUFDTEMsTUFBTyxTQUFTbXRDLFdBQVcvaUIsR0FDckI1SyxLQUFLalcsTUFBTTBqQyxTQUdYN2lCLEdBQUtBLEVBQUU3TixhQUNUNk4sRUFBRTdOLFlBQVlteEIsMkJBRWhCbHVCLEtBQUttdUIsU0FBUyxDQUFFVixRQUFRLEdBQVF6dEIsS0FBS2xjLE1BQU1zcUMsUUFDN0MsR0FDQyxDQUNEN3RDLElBQUssY0FDTEMsTUFBTyxTQUFTb3RDLGNBQ1Q1dEIsS0FBS2pXLE1BQU0wakMsUUFHaEJ6dEIsS0FBS211QixTQUFTLENBQUVWLFFBQVEsR0FBU3p0QixLQUFLbGMsTUFBTXVxQyxRQUM5QyxHQUNDLENBQ0Q5dEMsSUFBSyxpQkFDTEMsTUFBTyxTQUFTcXRDLGVBQWUvb0MsVUFDN0IsSUFBSXdwQyxPQUFTdHVCLEtBRWIsT0FBS0EsS0FBS2pXLE1BQU0wakMsT0FHVCxvQkFDTCxhQUNBLENBQ0Vqa0MsS0FBTXdXLEtBQUtsYyxNQUFNMEYsS0FDakJqSixJQUFLLGVBQ0w4RSxJQUFLLFNBQVNBLElBQUltb0MsWUFDaEIsT0FBT2MsT0FBT2QsV0FBYUEsVUFDN0IsR0FFRjFvQyxVQVhPLElBYVgsR0FDQyxDQUNEdkUsSUFBSywwQkFDTEMsTUFBTyxTQUFTc3RDLHdCQUF3QmxqQixHQUN0QyxHQUFLNUssS0FBS2pXLE1BQU0wakMsT0FBaEIsQ0FHQSxJQUFJdjNCLEtBQU84SixLQUFLd3RCLGFBQWV4dEIsS0FBS3d0QixXQUFXMXBDLE1BQU0wRixNQUFRd1csS0FBS3d0QixXQUFXWixjQUN4RTEyQixNQUFRQSxLQUFLdEIsU0FBU2dXLEVBQUUxcEIsU0FBVzBwQixFQUFFMmpCLFFBQXVCLElBQWIzakIsRUFBRTJqQixRQUd0RHZ1QixLQUFLNHRCLGFBTEwsQ0FNRixHQUNDLENBQ0RydEMsSUFBSyxnQkFDTEMsTUFBTyxTQUFTdXRDLGNBQWNuakIsR0FDeEJBLEVBQUU0akIsVUFBWW5CLGlCQUFtQnJ0QixLQUFLalcsTUFBTTBqQyxRQUM5Q3p0QixLQUFLNHRCLGFBRVQsR0FDQyxDQUNEcnRDLElBQUssU0FDTEMsTUFBTyxTQUFTcXNDLFNBQ2QsT0FBTzdzQixLQUFLbGMsTUFBTWdCLFNBQVMsQ0FDekI2b0MsV0FBWTN0QixLQUFLMnRCLFdBQ2pCQyxZQUFhNXRCLEtBQUs0dEIsWUFDbEJULE9BQVFudEIsS0FBSzZ0QixlQUNiWSxPQUFRenVCLEtBQUtqVyxNQUFNMGpDLFFBRXZCLEtBR0tILGVBQ1QsQ0E3R3NCLENBNkdwQixpQkFFRkEsZ0JBQWdCUixVQUFZLENBQzFCaG9DLFNBQVUsMEJBQWVpb0MsV0FDekJXLFlBQWEsMEJBQ2Jsa0MsS0FBTSx5QkFDTndrQyxXQUFZLDBCQUNaQyxvQkFBcUIsMEJBQ3JCRyxPQUFRLDBCQUNSQyxRQUFTLDJCQUdYZixnQkFBZ0JvQixhQUFlLENBQzdCTixPQUFRLFNBQVNBLFNBQVUsRUFDM0JDLFFBQVMsU0FBU0EsVUFBVyxHQUcvQixtTEM5SUEsU0FBU2hXLEVBQUVBLEdBQUcsTUFBTSxpQkFBaUJBLEdBQUcsTUFBTUEsR0FBRyxJQUFJQSxFQUFFaG5CLFFBQVEsQ0FBQyxTQUFTdVosRUFBRXlOLEVBQUV6TixHQUFHLFFBQVFBLEdBQUcsV0FBV3lOLElBQUksWUFBWUEsR0FBRyxTQUFTQSxDQUFDLENBQUMsU0FBUzdyQixFQUFFNnJCLEVBQUU3ckIsR0FBRyxHQUFHNnJCLEVBQUUvd0IsYUFBYSt3QixFQUFFc1csY0FBY3RXLEVBQUV1VyxZQUFZdlcsRUFBRXdXLFlBQVksQ0FBQyxJQUFJM2lCLEVBQUV6WixpQkFBaUI0bEIsRUFBRSxNQUFNLE9BQU96TixFQUFFc0IsRUFBRTRpQixVQUFVdGlDLElBQUlvZSxFQUFFc0IsRUFBRTZpQixVQUFVdmlDLElBQUksU0FBUzZyQixHQUFHLElBQUl6TixFQUFFLFNBQVN5TixHQUFHLElBQUlBLEVBQUVwbkIsZ0JBQWdCb25CLEVBQUVwbkIsY0FBY0MsWUFBWSxPQUFPLEtBQUssSUFBSSxPQUFPbW5CLEVBQUVwbkIsY0FBY0MsWUFBWTg5QixZQUFZLENBQUMsTUFBTTNXLEdBQUcsT0FBTyxJQUFJLENBQUMsQ0FBbkosQ0FBcUpBLEdBQUcsUUFBUXpOLElBQUlBLEVBQUV0akIsYUFBYSt3QixFQUFFc1csY0FBYy9qQixFQUFFZ2tCLFlBQVl2VyxFQUFFd1csWUFBWSxDQUFqUCxDQUFtUHhXLEVBQUUsQ0FBQyxPQUFNLENBQUUsQ0FBQyxTQUFTbk0sRUFBRW1NLEVBQUV6TixFQUFFcGUsRUFBRTBmLEVBQUVqckIsRUFBRW83QixFQUFFd0csRUFBRWgyQixHQUFHLE9BQU93dkIsRUFBRWhFLEdBQUd3SyxFQUFFalksR0FBR3lSLEVBQUVoRSxHQUFHd0ssRUFBRWpZLEVBQUUsRUFBRXlSLEdBQUdoRSxHQUFHeHJCLEdBQUdMLEdBQUdxMkIsR0FBR2pZLEdBQUcvZCxHQUFHTCxFQUFFNnZCLEVBQUVoRSxFQUFFbk0sRUFBRTJXLEVBQUVqWSxHQUFHL2QsRUFBRUwsR0FBRzZ2QixFQUFFaEUsR0FBR3hyQixFQUFFTCxFQUFFcTJCLEVBQUVqWSxFQUFFM3BCLEVBQUUsQ0FBQyxDQUFnQixzQkFBUzJwQixFQUFFM3BCLEdBQUcsSUFBSW83QixFQUFFaDZCLE9BQU93Z0MsRUFBRTVoQyxFQUFFOGMsV0FBV2xSLEVBQUU1TCxFQUFFMFosTUFBTTJuQixFQUFFcmhDLEVBQUV5YSxPQUFPb25CLEVBQUU3aEMsRUFBRXNuQixTQUFTTyxFQUFFN25CLEVBQUVndUMsMkJBQTJCclcsRUFBRSxtQkFBbUJrSyxFQUFFQSxFQUFFLFNBQVN6SyxHQUFHLE9BQU9BLElBQUl5SyxDQUFDLEVBQUUsSUFBSXpLLEVBQUV6TixHQUFHLE1BQU0sSUFBSTZnQixVQUFVLGtCQUFrQixJQUFJLElBQUlsSixFQUFFbC9CLFNBQVM2ckMsa0JBQWtCN3JDLFNBQVM4ckMsZ0JBQWdCcndDLEVBQUUsR0FBR2dNLEVBQUU4ZixFQUFFeU4sRUFBRXZ0QixJQUFJOHRCLEVBQUU5dEIsSUFBSSxDQUFDLElBQUlBLEVBQUVBLEVBQUUwTSxpQkFBaUIrcUIsRUFBRSxDQUFDempDLEVBQUV1TCxLQUFLUyxHQUFHLEtBQUssQ0FBQyxNQUFNQSxHQUFHQSxJQUFJekgsU0FBUzJwQixNQUFNeGdCLEVBQUUxQixLQUFLMEIsRUFBRW5KLFNBQVM4ckMsa0JBQWtCLE1BQU1ya0MsR0FBRzBCLEVBQUUxQixFQUFFZ2UsSUFBSWhxQixFQUFFdUwsS0FBS1MsRUFBRSxDQUFDLElBQUksSUFBSTRjLEVBQUUyVSxFQUFFK1MsZUFBZS9TLEVBQUUrUyxlQUFleG5DLE1BQU15bkMsV0FBVzdMLEVBQUVuSCxFQUFFK1MsZUFBZS9TLEVBQUUrUyxlQUFlM2pDLE9BQU82akMsWUFBWWxNLEVBQUUvZ0MsT0FBT2t0QyxTQUFTQyxZQUFZbk4sRUFBRWhnQyxPQUFPb3RDLFNBQVNDLFlBQVlqTixFQUFFN1gsRUFBRWhOLHdCQUF3Qm1MLEVBQUUwWixFQUFFaDNCLE9BQU9zMkIsRUFBRVUsRUFBRTc2QixNQUFNc2EsRUFBRXVnQixFQUFFbGdCLElBQUkwaEIsRUFBRXhCLEVBQUVuWCxNQUFNaVksRUFBRWQsRUFBRXBZLE9BQU84SixFQUFFc08sRUFBRW5nQixLQUFLTixFQUFFLFVBQVVuVixHQUFHLFlBQVlBLEVBQUVxVixFQUFFLFFBQVFyVixFQUFFMDJCLEVBQUVyaEIsRUFBRTZHLEVBQUUsRUFBRXFiLEVBQUUsV0FBVzlCLEVBQUVuTyxFQUFFNE4sRUFBRSxFQUFFLFFBQVFPLEVBQUUyQixFQUFFOVAsRUFBRWdRLEVBQUUsR0FBRy9QLEVBQUUsRUFBRUEsRUFBRXQxQixFQUFFd0MsT0FBTzh5QixJQUFJLENBQUMsSUFBSXlKLEVBQUUvK0IsRUFBRXMxQixHQUFHcVAsRUFBRTVGLEVBQUVqZ0Isd0JBQXdCaW1CLEVBQUVKLEVBQUVoNEIsT0FBTzAzQixFQUFFTSxFQUFFNzdCLE1BQU0rN0IsRUFBRUYsRUFBRWxoQixJQUFJb2dCLEVBQUVjLEVBQUVuWSxNQUFNK1ksRUFBRVosRUFBRXBaLE9BQU82SixFQUFFdVAsRUFBRW5oQixLQUFLLEdBQUcsY0FBY3VnQixHQUFHM2dCLEdBQUcsR0FBR2lTLEdBQUcsR0FBR29QLEdBQUdDLEdBQUdTLEdBQUd2YyxHQUFHeEYsR0FBR3loQixHQUFHSixHQUFHYyxHQUFHbFEsR0FBR0QsR0FBRytQLEdBQUd0QixFQUFFLE9BQU93QixFQUFFLElBQUlkLEVBQUU1d0IsaUJBQWlCb3JCLEdBQUdxRixFQUFFbmhDLFNBQVNzaEMsRUFBRXNNLGdCQUFnQixJQUFJMUssRUFBRWxqQyxTQUFTc2hDLEVBQUV1TSxlQUFlLElBQUk3TCxFQUFFaGlDLFNBQVNzaEMsRUFBRXdNLGlCQUFpQixJQUFJbk0sRUFBRTNoQyxTQUFTc2hDLEVBQUV5TSxrQkFBa0IsSUFBSWxNLEVBQUUsRUFBRXhCLEVBQUUsRUFBRWEsRUFBRSxnQkFBZ0JwRixFQUFFQSxFQUFFa1MsWUFBWWxTLEVBQUUrUSxZQUFZMUwsRUFBRWEsRUFBRSxFQUFFRCxFQUFFLGlCQUFpQmpHLEVBQUVBLEVBQUVtUyxhQUFhblMsRUFBRXYyQixhQUFhMjlCLEVBQUV2QixFQUFFLEVBQUUsR0FBR25CLElBQUkxRSxFQUFFK0YsRUFBRSxVQUFVLzJCLEVBQUVtVixFQUFFLFFBQVFuVixFQUFFbVYsRUFBRXdoQixFQUFFLFlBQVkzMkIsRUFBRXFmLEVBQUVtVyxFQUFFQSxFQUFFbUIsRUFBRUEsRUFBRXlCLEVBQUV2QixFQUFFckIsRUFBRXJnQixFQUFFcWdCLEVBQUVyZ0IsRUFBRStHLEVBQUVBLEdBQUcvRyxFQUFFd2hCLEVBQUUsRUFBRXBCLEVBQUUsVUFBVUUsRUFBRThCLEVBQUUsV0FBVzlCLEVBQUU4QixFQUFFMWMsRUFBRSxFQUFFLFFBQVE0YSxFQUFFOEIsRUFBRTFjLEVBQUV3RSxFQUFFa1gsRUFBRUEsRUFBRTFiLEVBQUVBLEVBQUV3YixFQUFFYSxFQUFFWCxFQUFFZ0IsRUFBRWhCLEVBQUVnQixFQUFFckMsRUFBRUEsR0FBRzZCLEVBQUVubEIsS0FBS0ksSUFBSSxFQUFFK2tCLEVBQUV2QixHQUFHRCxFQUFFM2pCLEtBQUtJLElBQUksRUFBRXVqQixFQUFFZ0IsT0FBTyxDQUFDUSxFQUFFLFVBQVUvMkIsRUFBRW1WLEVBQUUyaEIsRUFBRXNCLEVBQUUsUUFBUXA0QixFQUFFbVYsRUFBRXFpQixFQUFFWCxFQUFFSSxFQUFFLFlBQVlqM0IsRUFBRXFmLEVBQUV5WCxFQUFFVSxFQUFFUixFQUFFb0IsRUFBRXZCLEVBQUVJLEVBQUU5aEIsRUFBRUEsRUFBRStHLEVBQUVBLEdBQUcvRyxHQUFHMmhCLEVBQUVFLEVBQUUsR0FBR0MsRUFBRSxFQUFFMUIsRUFBRSxVQUFVRSxFQUFFOEIsRUFBRWxRLEVBQUVnUCxFQUFFLFdBQVdaLEVBQUU4QixHQUFHbFEsRUFBRWlQLEVBQUUsR0FBR0YsRUFBRSxFQUFFLFFBQVFYLEVBQUU4QixFQUFFekIsRUFBRW9CLEVBQUVkLEVBQUUvVyxFQUFFZ0ksRUFBRXlPLEVBQUVRLEVBQUVELEVBQUVhLEVBQUVkLEVBQUVtQixFQUFFQSxFQUFFckMsRUFBRUEsR0FBRyxJQUFJNEMsRUFBRTlHLEVBQUVvUyxXQUFXM00sRUFBRXpGLEVBQUVxUyxVQUFVbHVCLEdBQUdzaEIsR0FBR00sRUFBRW5sQixLQUFLSSxJQUFJLEVBQUVKLEtBQUtDLElBQUk0a0IsRUFBRU0sRUFBRS9GLEVBQUU4USxhQUFhOUssRUFBRUMsS0FBS00sR0FBR08sR0FBR3ZDLEVBQUUzakIsS0FBS0ksSUFBSSxFQUFFSixLQUFLQyxJQUFJaW1CLEVBQUV2QyxFQUFFdkUsRUFBRWdSLFlBQVkxTCxFQUFFRixJQUFJLENBQUNrQixFQUFFOTVCLEtBQUssQ0FBQytMLEdBQUd5bkIsRUFBRXRiLElBQUlxaEIsRUFBRXRoQixLQUFLOGYsR0FBRyxDQUFDLE9BQU8rQixDQUFDLENDRXg2RSxTQUFTZ00sZ0JBQWdCdHZCLFNBQ3ZCLE9BQU9BLFVBQVlwZ0IsT0FBT29nQixVQUE0QyxJQUFoQ3BnQixPQUFPWSxLQUFLd2YsU0FBU3ZmLE1BQzdELHdHQTJEQSxTQWZBLFNBQVN3YyxlQUFlNWMsT0FBUTJmLFNBQzlCLElBQUl1dkIsaUJBQW1CbHZDLE9BQU9tdkMsYUFBZW52QyxPQUFPK1AsY0FBY2srQixnQkFBZ0J2NkIsU0FBUzFULFFBRTNGLEdBQUlpdkMsZ0JBQWdCdHZCLFVBQXdDLG1CQUFyQkEsUUFBUXl2QixTQUM3QyxPQUFPenZCLFFBQVF5dkIsU0FBU0YsaUJBQW1CLGFBQVFsdkMsT0FBUTJmLFNBQVcsSUFHeEUsR0FBS3V2QixpQkFBTCxDQUlBLElBQUlHLGVBN0JOLFNBQVNDLFdBQVczdkIsU0FDbEIsT0FBZ0IsSUFBWkEsUUFDSyxDQUNMbEcsTUFBTyxNQUNQZSxPQUFRLFdBSVJ5MEIsZ0JBQWdCdHZCLFNBQ1hBLFFBR0YsQ0FDTGxHLE1BQU8sUUFDUGUsT0FBUSxVQUVaLENBYXVCODBCLENBQVczdkIsU0FDaEMsT0F0REYsU0FBUzR2QixnQkFBZ0JDLFFBQVNKLGVBQ2YsSUFBYkEsV0FDRkEsU0FBVyxRQUdiLElBQUlLLGdCQUFtQixtQkFBb0J0dEMsU0FBUzJwQixLQUFLNWxCLE1BQ3pEc3BDLFFBQVFudEIsU0FBUSxTQUFVMkQsTUFDeEIsSUFBSTlRLEdBQUs4USxLQUFLOVEsR0FDVm1NLElBQU0yRSxLQUFLM0UsSUFDWEQsS0FBTzRFLEtBQUs1RSxLQUVabE0sR0FBR3c2QixRQUFVRCxnQkFDZnY2QixHQUFHdzZCLE9BQU8sQ0FDUnJ1QixJQUNBRCxLQUNBZ3VCLFlBR0ZsNkIsR0FBRzg1QixVQUFZM3RCLElBQ2ZuTSxHQUFHNjVCLFdBQWEzdEIsS0FFcEIsR0FDRixDQWdDU211QixDQUFnQixhQUFRdnZDLE9BQVFxdkMsZ0JBQWlCQSxlQUFlRCxTQUh2RSxDQUlGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9ob29rcy91c2Utc2xhdGUtc2VsZWN0b3IudHN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi8uLi8uLi8ueWFybi9jYWNoZS9AYmFiZWwtcnVudGltZS1ucG0tNy4xNS4zLTYzMzNjNzEzNjItMmYwYjhkMmQ0ZS56aXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi8uLi8uLi8ueWFybi9jYWNoZS9AYmFiZWwtcnVudGltZS1ucG0tNy4xNS4zLTYzMzNjNzEzNjItMmYwYjhkMmQ0ZS56aXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi8uLi8uLi8ueWFybi9jYWNoZS9AYmFiZWwtcnVudGltZS1ucG0tNy4xNS4zLTYzMzNjNzEzNjItMmYwYjhkMmQ0ZS56aXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy91dGlscy9lbnZpcm9ubWVudC50cyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi4vc3JjL2hvb2tzL3VzZS1pc29tb3JwaGljLWxheW91dC1lZmZlY3QudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9jb21wb25lbnRzL3N0cmluZy50c3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy91dGlscy93ZWFrLW1hcHMudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9jb21wb25lbnRzL2xlYWYudHN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvdXRpbHMvcmFuZ2UtbGlzdC50cyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi4vc3JjL2hvb2tzL3VzZS1jb250ZW50LWtleS50cyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi4vc3JjL2NvbXBvbmVudHMvdGV4dC50c3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9jb21wb25lbnRzL2VsZW1lbnQudHN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvaG9va3MvdXNlLXNsYXRlLXN0YXRpYy50c3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9ob29rcy91c2UtZGVjb3JhdGUudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9ob29rcy91c2Utc2VsZWN0ZWQudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9ob29rcy91c2UtY2hpbGRyZW4udHN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvdXRpbHMvaG90a2V5cy50cyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi4vc3JjL2hvb2tzL3VzZS1yZWFkLW9ubHkudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9ob29rcy91c2Utc2xhdGUudHN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvdXRpbHMvZG9tLnRzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvY29tcG9uZW50cy9lZGl0YWJsZS50c3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy91dGlscy9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9jb21wb25lbnRzL2FuZHJvaWQvZGlmZi10ZXh0LnRzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvdXRpbHMva2V5LnRzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvcGx1Z2luL3JlYWN0LWVkaXRvci50cyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi4vc3JjL2NvbXBvbmVudHMvYW5kcm9pZC9tdXRhdGlvbi1kZXRlY3Rpb24udHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9jb21wb25lbnRzL2FuZHJvaWQvYW5kcm9pZC1pbnB1dC1tYW5hZ2VyLnRzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvY29tcG9uZW50cy9hbmRyb2lkL3VzZS1tdXRhdGlvbi1vYnNlcnZlci50cyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi4vc3JjL2NvbXBvbmVudHMvYW5kcm9pZC91c2UtcmVzdG9yZS1kb20udHN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvY29tcG9uZW50cy9hbmRyb2lkL3VzZS1hbmRyb2lkLWlucHV0LW1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9jb21wb25lbnRzL2FuZHJvaWQvdXNlLXRyYWNrLXVzZXItaW5wdXQudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9jb21wb25lbnRzL2FuZHJvaWQvYW5kcm9pZC1lZGl0YWJsZS50c3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9ob29rcy91c2UtZm9jdXNlZC50cyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi4vc3JjL2NvbXBvbmVudHMvc2xhdGUudHN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvaG9va3MvdXNlLWVkaXRvci50c3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy91dGlscy9saW5lcy50cyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi4vc3JjL3BsdWdpbi93aXRoLXJlYWN0LnRzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9jcmVhdGUtZWRpdG9yLnRzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvdXRpbHMvc3RyaW5nLnRzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvaW50ZXJmYWNlcy9lbGVtZW50LnRzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvaW50ZXJmYWNlcy9lZGl0b3IudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9pbnRlcmZhY2VzL2xvY2F0aW9uLnRzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvaW50ZXJmYWNlcy9ub2RlLnRzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvaW50ZXJmYWNlcy9vcGVyYXRpb24udHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9pbnRlcmZhY2VzL3BhdGgudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9pbnRlcmZhY2VzL3BhdGgtcmVmLnRzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvaW50ZXJmYWNlcy9wb2ludC50cyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi4vc3JjL2ludGVyZmFjZXMvcG9pbnQtcmVmLnRzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvaW50ZXJmYWNlcy9yYW5nZS50cyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi4vc3JjL2ludGVyZmFjZXMvcmFuZ2UtcmVmLnRzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uLi9zcmMvaW50ZXJmYWNlcy9zY3J1YmJlci50cyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi4vc3JjL3V0aWxzL2RlZXAtZXF1YWwudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy9pbnRlcmZhY2VzL3RleHQudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy90cmFuc2Zvcm1zL2dlbmVyYWwudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy90cmFuc2Zvcm1zL25vZGUudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4uL3NyYy90cmFuc2Zvcm1zL3NlbGVjdGlvbi50cyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi4vc3JjL3RyYW5zZm9ybXMvdGV4dC50cyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi4vc3JjL3RyYW5zZm9ybXMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL2RpcmVjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvaW1tZXIvZGlzdC9pbW1lci5janMucHJvZHVjdGlvbi5taW4uanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL2ltbWVyL2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL2lzLWhvdGtleS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90aHJvdHRsZS5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtcG9ydGFsL2VzL3V0aWxzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9yZWFjdC1wb3J0YWwvZXMvUG9ydGFsLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9yZWFjdC1wb3J0YWwvZXMvTGVnYWN5UG9ydGFsLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9yZWFjdC1wb3J0YWwvZXMvUG9ydGFsQ29tcGF0LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9yZWFjdC1wb3J0YWwvZXMvUG9ydGFsV2l0aFN0YXRlLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9jb21wdXRlLXNjcm9sbC1pbnRvLXZpZXcvZGlzdC9pbmRleC5tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3Njcm9sbC1pbnRvLXZpZXctaWYtbmVlZGVkL2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNyZWF0ZUNvbnRleHQsXG4gIHVzZUNhbGxiYWNrLFxuICB1c2VDb250ZXh0LFxuICB1c2VNZW1vLFxuICB1c2VSZWR1Y2VyLFxuICB1c2VSZWYsXG59IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgRWRpdG9yIH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi91c2UtaXNvbW9ycGhpYy1sYXlvdXQtZWZmZWN0J1xuXG5mdW5jdGlvbiBpc0Vycm9yKGVycm9yOiBhbnkpOiBlcnJvciBpcyBFcnJvciB7XG4gIHJldHVybiBlcnJvciBpbnN0YW5jZW9mIEVycm9yXG59XG5cbnR5cGUgRWRpdG9yQ2hhbmdlSGFuZGxlciA9IChlZGl0b3I6IEVkaXRvcikgPT4gdm9pZFxuLyoqXG4gKiBBIFJlYWN0IGNvbnRleHQgZm9yIHNoYXJpbmcgdGhlIGVkaXRvciBzZWxlY3RvciBjb250ZXh0IGluIGEgd2F5IHRvIGNvbnRyb2wgcmVyZW5kZXJzXG4gKi9cblxuZXhwb3J0IGNvbnN0IFNsYXRlU2VsZWN0b3JDb250ZXh0ID0gY3JlYXRlQ29udGV4dDx7XG4gIGdldFNsYXRlOiAoKSA9PiBFZGl0b3JcbiAgYWRkRXZlbnRMaXN0ZW5lcjogKGNhbGxiYWNrOiBFZGl0b3JDaGFuZ2VIYW5kbGVyKSA9PiAoKSA9PiB2b2lkXG59Pih7fSBhcyBhbnkpXG5cbmNvbnN0IHJlZkVxdWFsaXR5ID0gKGE6IGFueSwgYjogYW55KSA9PiBhID09PSBiXG5cbi8qKlxuICogdXNlIHJlZHV4IHN0eWxlIHNlbGVjdG9ycyB0byBwcmV2ZW50IHJlcmVuZGVyaW5nIG9uIGV2ZXJ5IGtleXN0cm9rZS5cbiAqIEJlYXIgaW4gbWluZCByZXJlbmRlcmluZyBjYW4gb25seSBwcmV2ZW50ZWQgaWYgdGhlIHJldHVybmVkIHZhbHVlIGlzIGEgdmFsdWUgdHlwZSBvciBmb3IgcmVmZXJlbmNlIHR5cGVzIChlLmcuIG9iamVjdHMgYW5kIGFycmF5cykgYWRkIGEgY3VzdG9tIGVxdWFsaXR5IGZ1bmN0aW9uLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGBcbiAqICBjb25zdCBpc1NlbGVjdGlvbkFjdGl2ZSA9IHVzZVNsYXRlU2VsZWN0b3IoZWRpdG9yID0+IEJvb2xlYW4oZWRpdG9yLnNlbGVjdGlvbikpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VTbGF0ZVNlbGVjdG9yPFQ+KFxuICBzZWxlY3RvcjogKGVkaXRvcjogRWRpdG9yKSA9PiBULFxuICBlcXVhbGl0eUZuOiAoYTogVCwgYjogVCkgPT4gYm9vbGVhbiA9IHJlZkVxdWFsaXR5XG4pIHtcbiAgY29uc3QgWywgZm9yY2VSZW5kZXJdID0gdXNlUmVkdWNlcihzID0+IHMgKyAxLCAwKVxuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChTbGF0ZVNlbGVjdG9yQ29udGV4dClcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFRoZSBcXGB1c2VTbGF0ZVNlbGVjdG9yXFxgIGhvb2sgbXVzdCBiZSB1c2VkIGluc2lkZSB0aGUgPFNsYXRlPiBjb21wb25lbnQncyBjb250ZXh0LmBcbiAgICApXG4gIH1cbiAgY29uc3QgeyBnZXRTbGF0ZSwgYWRkRXZlbnRMaXN0ZW5lciB9ID0gY29udGV4dFxuXG4gIGNvbnN0IGxhdGVzdFN1YnNjcmlwdGlvbkNhbGxiYWNrRXJyb3IgPSB1c2VSZWY8RXJyb3IgfCB1bmRlZmluZWQ+KClcbiAgY29uc3QgbGF0ZXN0U2VsZWN0b3IgPSB1c2VSZWY8KGVkaXRvcjogRWRpdG9yKSA9PiBUPigoKSA9PiBudWxsIGFzIGFueSlcbiAgY29uc3QgbGF0ZXN0U2VsZWN0ZWRTdGF0ZSA9IHVzZVJlZjxUPigobnVsbCBhcyBhbnkpIGFzIFQpXG4gIGxldCBzZWxlY3RlZFN0YXRlOiBUXG5cbiAgdHJ5IHtcbiAgICBpZiAoXG4gICAgICBzZWxlY3RvciAhPT0gbGF0ZXN0U2VsZWN0b3IuY3VycmVudCB8fFxuICAgICAgbGF0ZXN0U3Vic2NyaXB0aW9uQ2FsbGJhY2tFcnJvci5jdXJyZW50XG4gICAgKSB7XG4gICAgICBzZWxlY3RlZFN0YXRlID0gc2VsZWN0b3IoZ2V0U2xhdGUoKSlcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0ZWRTdGF0ZSA9IGxhdGVzdFNlbGVjdGVkU3RhdGUuY3VycmVudFxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKGxhdGVzdFN1YnNjcmlwdGlvbkNhbGxiYWNrRXJyb3IuY3VycmVudCAmJiBpc0Vycm9yKGVycikpIHtcbiAgICAgIGVyci5tZXNzYWdlICs9IGBcXG5UaGUgZXJyb3IgbWF5IGJlIGNvcnJlbGF0ZWQgd2l0aCB0aGlzIHByZXZpb3VzIGVycm9yOlxcbiR7bGF0ZXN0U3Vic2NyaXB0aW9uQ2FsbGJhY2tFcnJvci5jdXJyZW50LnN0YWNrfVxcblxcbmBcbiAgICB9XG5cbiAgICB0aHJvdyBlcnJcbiAgfVxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBsYXRlc3RTZWxlY3Rvci5jdXJyZW50ID0gc2VsZWN0b3JcbiAgICBsYXRlc3RTZWxlY3RlZFN0YXRlLmN1cnJlbnQgPSBzZWxlY3RlZFN0YXRlXG4gICAgbGF0ZXN0U3Vic2NyaXB0aW9uQ2FsbGJhY2tFcnJvci5jdXJyZW50ID0gdW5kZWZpbmVkXG4gIH0pXG5cbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChcbiAgICAoKSA9PiB7XG4gICAgICBmdW5jdGlvbiBjaGVja0ZvclVwZGF0ZXMoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbmV3U2VsZWN0ZWRTdGF0ZSA9IGxhdGVzdFNlbGVjdG9yLmN1cnJlbnQoZ2V0U2xhdGUoKSlcblxuICAgICAgICAgIGlmIChlcXVhbGl0eUZuKG5ld1NlbGVjdGVkU3RhdGUsIGxhdGVzdFNlbGVjdGVkU3RhdGUuY3VycmVudCkpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGxhdGVzdFNlbGVjdGVkU3RhdGUuY3VycmVudCA9IG5ld1NlbGVjdGVkU3RhdGVcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgLy8gd2UgaWdub3JlIGFsbCBlcnJvcnMgaGVyZSwgc2luY2Ugd2hlbiB0aGUgY29tcG9uZW50XG4gICAgICAgICAgLy8gaXMgcmUtcmVuZGVyZWQsIHRoZSBzZWxlY3RvcnMgYXJlIGNhbGxlZCBhZ2FpbiwgYW5kXG4gICAgICAgICAgLy8gd2lsbCB0aHJvdyBhZ2FpbiwgaWYgbmVpdGhlciBwcm9wcyBub3Igc3RvcmUgc3RhdGVcbiAgICAgICAgICAvLyBjaGFuZ2VkXG4gICAgICAgICAgbGF0ZXN0U3Vic2NyaXB0aW9uQ2FsbGJhY2tFcnJvci5jdXJyZW50ID0gZXJyXG4gICAgICAgIH1cblxuICAgICAgICBmb3JjZVJlbmRlcigpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gYWRkRXZlbnRMaXN0ZW5lcihjaGVja0ZvclVwZGF0ZXMpXG5cbiAgICAgIGNoZWNrRm9yVXBkYXRlcygpXG5cbiAgICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpXG4gICAgfSxcbiAgICAvLyBkb24ndCByZXJlbmRlciBvbiBlcXVhbGl0eUZuIGNoYW5nZSBzaW5jZSB3ZSB3YW50IHRvIGJlIGFibGUgdG8gZGVmaW5lIGl0IGlubGluZVxuICAgIFthZGRFdmVudExpc3RlbmVyLCBnZXRTbGF0ZV1cbiAgKVxuXG4gIHJldHVybiBzZWxlY3RlZFN0YXRlXG59XG5cbi8qKlxuICogQ3JlYXRlIHNlbGVjdG9yIGNvbnRleHQgd2l0aCBlZGl0b3IgdXBkYXRpbmcgb24gZXZlcnkgZWRpdG9yIGNoYW5nZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0b3JDb250ZXh0KGVkaXRvcjogRWRpdG9yKSB7XG4gIGNvbnN0IGV2ZW50TGlzdGVuZXJzID0gdXNlUmVmPEVkaXRvckNoYW5nZUhhbmRsZXJbXT4oW10pLmN1cnJlbnRcbiAgY29uc3Qgc2xhdGVSZWYgPSB1c2VSZWY8e1xuICAgIGVkaXRvcjogRWRpdG9yXG4gIH0+KHtcbiAgICBlZGl0b3IsXG4gIH0pLmN1cnJlbnRcbiAgY29uc3Qgb25DaGFuZ2UgPSB1c2VDYWxsYmFjaygoZWRpdG9yOiBFZGl0b3IpID0+IHtcbiAgICBzbGF0ZVJlZi5lZGl0b3IgPSBlZGl0b3JcbiAgICBldmVudExpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcjogRWRpdG9yQ2hhbmdlSGFuZGxlcikgPT4gbGlzdGVuZXIoZWRpdG9yKSlcbiAgfSwgW10pXG5cbiAgY29uc3Qgc2VsZWN0b3JDb250ZXh0ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldFNsYXRlOiAoKSA9PiBzbGF0ZVJlZi5lZGl0b3IsXG4gICAgICBhZGRFdmVudExpc3RlbmVyOiAoY2FsbGJhY2s6IEVkaXRvckNoYW5nZUhhbmRsZXIpID0+IHtcbiAgICAgICAgZXZlbnRMaXN0ZW5lcnMucHVzaChjYWxsYmFjaylcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICBldmVudExpc3RlbmVycy5zcGxpY2UoZXZlbnRMaXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayksIDEpXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfVxuICB9LCBbZXZlbnRMaXN0ZW5lcnMsIHNsYXRlUmVmXSlcbiAgcmV0dXJuIHsgc2VsZWN0b3JDb250ZXh0LCBvbkNoYW5nZSB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn0iLCJpbXBvcnQgb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiLi9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7XG4gIHZhciBrZXksIGk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldO1xuICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgY29uc3QgSVNfUkVBQ1RfVkVSU0lPTl8xN19PUl9BQk9WRSA9XG4gIHBhcnNlSW50KFJlYWN0LnZlcnNpb24uc3BsaXQoJy4nKVswXSwgMTApID49IDE3XG5cbmV4cG9ydCBjb25zdCBJU19JT1MgPVxuICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAhd2luZG93Lk1TU3RyZWFtXG5cbmV4cG9ydCBjb25zdCBJU19BUFBMRSA9XG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9NYWMgT1MgWC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuXG5leHBvcnQgY29uc3QgSVNfQU5EUk9JRCA9XG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9BbmRyb2lkLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG5cbmV4cG9ydCBjb25zdCBJU19GSVJFRk9YID1cbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgL14oPyEuKlNlYW1vbmtleSkoPz0uKkZpcmVmb3gpLiovaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG5cbmV4cG9ydCBjb25zdCBJU19TQUZBUkkgPVxuICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAvVmVyc2lvblxcL1tcXGRcXC5dKy4qU2FmYXJpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG5cbi8vIFwibW9kZXJuXCIgRWRnZSB3YXMgcmVsZWFzZWQgYXQgNzkueFxuZXhwb3J0IGNvbnN0IElTX0VER0VfTEVHQUNZID1cbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgL0VkZ2U/XFwvKD86WzAtNl1bMC05XXxbMC03XVswLThdKSg/OlxcLikvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG5cbmV4cG9ydCBjb25zdCBJU19DSFJPTUUgPVxuICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAvQ2hyb21lL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuXG4vLyBOYXRpdmUgYGJlZm9yZUlucHV0YCBldmVudHMgZG9uJ3Qgd29yayB3ZWxsIHdpdGggcmVhY3Qgb24gQ2hyb21lIDc1XG4vLyBhbmQgb2xkZXIsIENocm9tZSA3NisgY2FuIHVzZSBgYmVmb3JlSW5wdXRgIHRob3VnaC5cbmV4cG9ydCBjb25zdCBJU19DSFJPTUVfTEVHQUNZID1cbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgL0Nocm9tZT9cXC8oPzpbMC03XVswLTVdfFswLTZdWzAtOV0pKD86XFwuKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcblxuLy8gRmlyZWZveCBkaWQgbm90IHN1cHBvcnQgYGJlZm9yZUlucHV0YCB1bnRpbCBgdjg3YC5cbmV4cG9ydCBjb25zdCBJU19GSVJFRk9YX0xFR0FDWSA9XG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gIC9eKD8hLipTZWFtb25rZXkpKD89LipGaXJlZm94XFwvKD86WzAtN11bMC05XXxbMC04XVswLTZdKSg/OlxcLikpLiovaS50ZXN0KFxuICAgIG5hdmlnYXRvci51c2VyQWdlbnRcbiAgKVxuXG4vLyBxcSBicm93c2VyXG5leHBvcnQgY29uc3QgSVNfUVFCUk9XU0VSID1cbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgLy4qUVFCcm93c2VyLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG5cbi8vIFVDIG1vYmlsZSBicm93c2VyXG5leHBvcnQgY29uc3QgSVNfVUNfTU9CSUxFID1cbiAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgLy4qVUNCcm93c2VyLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpXG5cbi8vIFdlY2hhdCBicm93c2VyXG5leHBvcnQgY29uc3QgSVNfV0VDSEFUQlJPV1NFUiA9XG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC8uKldlY2hhdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuXG4vLyBDaGVjayBpZiBET00gaXMgYXZhaWxhYmxlIGFzIFJlYWN0IGRvZXMgaW50ZXJuYWxseS5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL21hc3Rlci9wYWNrYWdlcy9zaGFyZWQvRXhlY3V0aW9uRW52aXJvbm1lbnQuanNcbmV4cG9ydCBjb25zdCBDQU5fVVNFX0RPTSA9ICEhKFxuICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09ICd1bmRlZmluZWQnXG4pXG5cbi8vIENPTVBBVDogRmlyZWZveC9FZGdlIExlZ2FjeSBkb24ndCBzdXBwb3J0IHRoZSBgYmVmb3JlaW5wdXRgIGV2ZW50XG4vLyBDaHJvbWUgTGVnYWN5IGRvZXNuJ3Qgc3VwcG9ydCBgYmVmb3JlaW5wdXRgIGNvcnJlY3RseVxuZXhwb3J0IGNvbnN0IEhBU19CRUZPUkVfSU5QVVRfU1VQUE9SVCA9XG4gICFJU19DSFJPTUVfTEVHQUNZICYmXG4gICFJU19FREdFX0xFR0FDWSAmJlxuICAvLyBnbG9iYWxUaGlzIGlzIHVuZGVmaW5lZCBpbiBvbGRlciBicm93c2Vyc1xuICB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgZ2xvYmFsVGhpcy5JbnB1dEV2ZW50ICYmXG4gIC8vIEB0cy1pZ25vcmUgVGhlIGBnZXRUYXJnZXRSYW5nZXNgIHByb3BlcnR5IGlzbid0IHJlY29nbml6ZWQuXG4gIHR5cGVvZiBnbG9iYWxUaGlzLklucHV0RXZlbnQucHJvdG90eXBlLmdldFRhcmdldFJhbmdlcyA9PT0gJ2Z1bmN0aW9uJ1xuIiwiaW1wb3J0IHsgdXNlTGF5b3V0RWZmZWN0LCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IENBTl9VU0VfRE9NIH0gZnJvbSAnLi4vdXRpbHMvZW52aXJvbm1lbnQnXG5cbi8qKlxuICogUHJldmVudCB3YXJuaW5nIG9uIFNTUiBieSBmYWxsaW5nIGJhY2sgdG8gdXNlRWZmZWN0IHdoZW4gRE9NIGlzbid0IGF2YWlsYWJsZVxuICovXG5cbmV4cG9ydCBjb25zdCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0ID0gQ0FOX1VTRV9ET01cbiAgPyB1c2VMYXlvdXRFZmZlY3RcbiAgOiB1c2VFZmZlY3RcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEVkaXRvciwgVGV4dCwgUGF0aCwgRWxlbWVudCwgTm9kZSB9IGZyb20gJ3NsYXRlJ1xuXG5pbXBvcnQgeyBSZWFjdEVkaXRvciwgdXNlU2xhdGVTdGF0aWMgfSBmcm9tICcuLidcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLi9ob29rcy91c2UtaXNvbW9ycGhpYy1sYXlvdXQtZWZmZWN0J1xuXG4vKipcbiAqIExlYWYgY29udGVudCBzdHJpbmdzLlxuICovXG5cbmNvbnN0IFN0cmluZyA9IChwcm9wczoge1xuICBpc0xhc3Q6IGJvb2xlYW5cbiAgbGVhZjogVGV4dFxuICBwYXJlbnQ6IEVsZW1lbnRcbiAgdGV4dDogVGV4dFxufSkgPT4ge1xuICBjb25zdCB7IGlzTGFzdCwgbGVhZiwgcGFyZW50LCB0ZXh0IH0gPSBwcm9wc1xuICBjb25zdCBlZGl0b3IgPSB1c2VTbGF0ZVN0YXRpYygpXG4gIGNvbnN0IHBhdGggPSBSZWFjdEVkaXRvci5maW5kUGF0aChlZGl0b3IsIHRleHQpXG4gIGNvbnN0IHBhcmVudFBhdGggPSBQYXRoLnBhcmVudChwYXRoKVxuXG4gIC8vIENPTVBBVDogUmVuZGVyIHRleHQgaW5zaWRlIHZvaWQgbm9kZXMgd2l0aCBhIHplcm8td2lkdGggc3BhY2UuXG4gIC8vIFNvIHRoZSBub2RlIGNhbiBjb250YWluIHNlbGVjdGlvbiBidXQgdGhlIHRleHQgaXMgbm90IHZpc2libGUuXG4gIGlmIChlZGl0b3IuaXNWb2lkKHBhcmVudCkpIHtcbiAgICByZXR1cm4gPFplcm9XaWR0aFN0cmluZyBsZW5ndGg9e05vZGUuc3RyaW5nKHBhcmVudCkubGVuZ3RofSAvPlxuICB9XG5cbiAgLy8gQ09NUEFUOiBJZiB0aGlzIGlzIHRoZSBsYXN0IHRleHQgbm9kZSBpbiBhbiBlbXB0eSBibG9jaywgcmVuZGVyIGEgemVyby1cbiAgLy8gd2lkdGggc3BhY2UgdGhhdCB3aWxsIGNvbnZlcnQgaW50byBhIGxpbmUgYnJlYWsgd2hlbiBjb3B5aW5nIGFuZCBwYXN0aW5nXG4gIC8vIHRvIHN1cHBvcnQgZXhwZWN0ZWQgcGxhaW4gdGV4dC5cbiAgaWYgKFxuICAgIGxlYWYudGV4dCA9PT0gJycgJiZcbiAgICBwYXJlbnQuY2hpbGRyZW5bcGFyZW50LmNoaWxkcmVuLmxlbmd0aCAtIDFdID09PSB0ZXh0ICYmXG4gICAgIWVkaXRvci5pc0lubGluZShwYXJlbnQpICYmXG4gICAgRWRpdG9yLnN0cmluZyhlZGl0b3IsIHBhcmVudFBhdGgpID09PSAnJ1xuICApIHtcbiAgICByZXR1cm4gPFplcm9XaWR0aFN0cmluZyBpc0xpbmVCcmVhayAvPlxuICB9XG5cbiAgLy8gQ09NUEFUOiBJZiB0aGUgdGV4dCBpcyBlbXB0eSwgaXQncyBiZWNhdXNlIGl0J3Mgb24gdGhlIGVkZ2Ugb2YgYW4gaW5saW5lXG4gIC8vIG5vZGUsIHNvIHdlIHJlbmRlciBhIHplcm8td2lkdGggc3BhY2Ugc28gdGhhdCB0aGUgc2VsZWN0aW9uIGNhbiBiZVxuICAvLyBpbnNlcnRlZCBuZXh0IHRvIGl0IHN0aWxsLlxuICBpZiAobGVhZi50ZXh0ID09PSAnJykge1xuICAgIHJldHVybiA8WmVyb1dpZHRoU3RyaW5nIC8+XG4gIH1cblxuICAvLyBDT01QQVQ6IEJyb3dzZXJzIHdpbGwgY29sbGFwc2UgdHJhaWxpbmcgbmV3IGxpbmVzIGF0IHRoZSBlbmQgb2YgYmxvY2tzLFxuICAvLyBzbyB3ZSBuZWVkIHRvIGFkZCBhbiBleHRyYSB0cmFpbGluZyBuZXcgbGluZXMgdG8gcHJldmVudCB0aGF0LlxuICBpZiAoaXNMYXN0ICYmIGxlYWYudGV4dC5zbGljZSgtMSkgPT09ICdcXG4nKSB7XG4gICAgcmV0dXJuIDxUZXh0U3RyaW5nIGlzVHJhaWxpbmcgdGV4dD17bGVhZi50ZXh0fSAvPlxuICB9XG5cbiAgcmV0dXJuIDxUZXh0U3RyaW5nIHRleHQ9e2xlYWYudGV4dH0gLz5cbn1cblxuLyoqXG4gKiBMZWFmIHN0cmluZ3Mgd2l0aCB0ZXh0IGluIHRoZW0uXG4gKi9cbmNvbnN0IFRleHRTdHJpbmcgPSAocHJvcHM6IHsgdGV4dDogc3RyaW5nOyBpc1RyYWlsaW5nPzogYm9vbGVhbiB9KSA9PiB7XG4gIGNvbnN0IHsgdGV4dCwgaXNUcmFpbGluZyA9IGZhbHNlIH0gPSBwcm9wc1xuXG4gIGNvbnN0IHJlZiA9IHVzZVJlZjxIVE1MU3BhbkVsZW1lbnQ+KG51bGwpXG5cbiAgY29uc3QgZ2V0VGV4dENvbnRlbnQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGAke3RleHQgPz8gJyd9JHtpc1RyYWlsaW5nID8gJ1xcbicgOiAnJ31gXG4gIH1cblxuICAvLyBUaGlzIGlzIHRoZSBhY3R1YWwgdGV4dCByZW5kZXJpbmcgYm91bmRhcnkgd2hlcmUgd2UgaW50ZXJmYWNlIHdpdGggdGhlIERPTVxuICAvLyBUaGUgdGV4dCBpcyBub3QgcmVuZGVyZWQgYXMgcGFydCBvZiB0aGUgdmlydHVhbCBET00sIGFzIHNpbmNlIHdlIGhhbmRsZSBiYXNpYyBjaGFyYWN0ZXIgaW5zZXJ0aW9ucyBuYXRpdmVseSxcbiAgLy8gdXBkYXRpbmcgdGhlIERPTSBpcyBub3QgYSBvbmUgd2F5IGRhdGFmbG93IGFueW1vcmUuIFdoYXQgd2UgbmVlZCBoZXJlIGlzIG5vdCByZWNvbmNpbGlhdGlvbiBhbmQgZGlmZmluZ1xuICAvLyB3aXRoIHByZXZpb3VzIHZlcnNpb24gb2YgdGhlIHZpcnR1YWwgRE9NLCBidXQgcmF0aGVyIGRpZmZpbmcgd2l0aCB0aGUgYWN0dWFsIERPTSBlbGVtZW50LCBhbmQgcmVwbGFjZSB0aGUgRE9NIDxzcGFuPiBjb250ZW50XG4gIC8vIGV4YWN0bHkgaWYgYW5kIG9ubHkgaWYgaXRzIGN1cnJlbnQgY29udGVudCBkb2VzIG5vdCBtYXRjaCBvdXIgY3VycmVudCB2aXJ0dWFsIERPTS5cbiAgLy8gT3RoZXJ3aXNlIHRoZSBET00gVGV4dE5vZGUgd291bGQgYWx3YXlzIGJlIHJlcGxhY2VkIGJ5IFJlYWN0IGFzIHRoZSB1c2VyIHR5cGVzLCB3aGljaCBpbnRlcmZlcmVzIHdpdGggbmF0aXZlIHRleHQgZmVhdHVyZXMsXG4gIC8vIGVnIG1ha2VzIG5hdGl2ZSBzcGVsbGNoZWNrIG9wdCBvdXQgZnJvbSBjaGVja2luZyB0aGUgdGV4dCBub2RlLlxuXG4gIC8vIHVzZUxheW91dEVmZmVjdDogdXBkYXRpbmcgb3VyIHNwYW4gYmVmb3JlIGJyb3dzZXIgcGFpbnRcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgLy8gbnVsbCBjb2FsZXNjaW5nIHRleHQgdG8gbWFrZSBzdXJlIHdlJ3JlIG5vdCBvdXRwdXRpbmcgXCJudWxsXCIgYXMgYSBzdHJpbmcgaW4gdGhlIGV4dHJlbWUgY2FzZSBpdCBpcyBudWxsaXNoIGF0IHJ1bnRpbWVcbiAgICBjb25zdCB0ZXh0V2l0aFRyYWlsaW5nID0gZ2V0VGV4dENvbnRlbnQoKVxuXG4gICAgaWYgKHJlZi5jdXJyZW50ICYmIHJlZi5jdXJyZW50LnRleHRDb250ZW50ICE9PSB0ZXh0V2l0aFRyYWlsaW5nKSB7XG4gICAgICByZWYuY3VycmVudC50ZXh0Q29udGVudCA9IHRleHRXaXRoVHJhaWxpbmdcbiAgICB9XG5cbiAgICAvLyBpbnRlbnRpb25hbGx5IG5vdCBzcGVjaWZ5aW5nIGRlcGVuZGVuY2llcywgc28gdGhhdCB0aGlzIGVmZmVjdCBydW5zIG9uIGV2ZXJ5IHJlbmRlclxuICAgIC8vIGFzIHRoaXMgZWZmZWN0aXZlbHkgcmVwbGFjZXMgXCJzcGVjaWZ5aW5nIHRoZSB0ZXh0IGluIHRoZSB2aXJ0dWFsIERPTSB1bmRlciB0aGUgPHNwYW4+IGJlbG93XCIgb24gZWFjaCByZW5kZXJcbiAgfSlcblxuICAvLyBSZW5kZXIgdGV4dCBjb250ZW50IGltbWVkaWF0ZWx5IGlmIGl0J3MgdGhlIGZpcnN0LXRpbWUgcmVuZGVyXG4gIC8vIEVuc3VyZSB0aGF0IHRleHQgY29udGVudCBpcyByZW5kZXJlZCBvbiBzZXJ2ZXItc2lkZSByZW5kZXJpbmdcbiAgaWYgKCFyZWYuY3VycmVudCkge1xuICAgIHJldHVybiAoXG4gICAgICA8c3BhbiBkYXRhLXNsYXRlLXN0cmluZyByZWY9e3JlZn0+XG4gICAgICAgIHtnZXRUZXh0Q29udGVudCgpfVxuICAgICAgPC9zcGFuPlxuICAgIClcbiAgfVxuXG4gIC8vIHRoZSBzcGFuIGlzIGludGVudGlvbmFsbHkgc2FtZSBvbiBldmVyeSByZW5kZXIgaW4gdmlydHVhbCBET00sIGFjdHVhbCByZW5kZXJpbmcgaGFwcGVucyBpbiB0aGUgbGF5b3V0IGVmZmVjdCBhYm92ZVxuICByZXR1cm4gPHNwYW4gZGF0YS1zbGF0ZS1zdHJpbmcgcmVmPXtyZWZ9IC8+XG59XG5cbi8qKlxuICogTGVhZiBzdHJpbmdzIHdpdGhvdXQgdGV4dCwgcmVuZGVyIGFzIHplcm8td2lkdGggc3RyaW5ncy5cbiAqL1xuXG5jb25zdCBaZXJvV2lkdGhTdHJpbmcgPSAocHJvcHM6IHsgbGVuZ3RoPzogbnVtYmVyOyBpc0xpbmVCcmVhaz86IGJvb2xlYW4gfSkgPT4ge1xuICBjb25zdCB7IGxlbmd0aCA9IDAsIGlzTGluZUJyZWFrID0gZmFsc2UgfSA9IHByb3BzXG4gIHJldHVybiAoXG4gICAgPHNwYW5cbiAgICAgIGRhdGEtc2xhdGUtemVyby13aWR0aD17aXNMaW5lQnJlYWsgPyAnbicgOiAneid9XG4gICAgICBkYXRhLXNsYXRlLWxlbmd0aD17bGVuZ3RofVxuICAgID5cbiAgICAgIHsnXFx1RkVGRid9XG4gICAgICB7aXNMaW5lQnJlYWsgPyA8YnIgLz4gOiBudWxsfVxuICAgIDwvc3Bhbj5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdHJpbmdcbiIsImltcG9ydCB7IEFuY2VzdG9yLCBFZGl0b3IsIE5vZGUsIFJhbmdlUmVmIH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyBLZXkgfSBmcm9tICcuL2tleSdcbmltcG9ydCB7IFRleHRJbnNlcnRpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL2FuZHJvaWQvZGlmZi10ZXh0J1xuXG4vKipcbiAqIFR3byB3ZWFrIG1hcHMgdGhhdCBhbGxvdyB1cyByZWJ1aWxkIGEgcGF0aCBnaXZlbiBhIG5vZGUuIFRoZXkgYXJlIHBvcHVsYXRlZFxuICogYXQgcmVuZGVyIHRpbWUgc3VjaCB0aGF0IGFmdGVyIGEgcmVuZGVyIG9jY3VycyB3ZSBjYW4gYWx3YXlzIGJhY2t0cmFjay5cbiAqL1xuXG5leHBvcnQgY29uc3QgTk9ERV9UT19JTkRFWDogV2Vha01hcDxOb2RlLCBudW1iZXI+ID0gbmV3IFdlYWtNYXAoKVxuZXhwb3J0IGNvbnN0IE5PREVfVE9fUEFSRU5UOiBXZWFrTWFwPE5vZGUsIEFuY2VzdG9yPiA9IG5ldyBXZWFrTWFwKClcblxuLyoqXG4gKiBXZWFrIG1hcHMgdGhhdCBhbGxvdyB1cyB0byBnbyBiZXR3ZWVuIFNsYXRlIG5vZGVzIGFuZCBET00gbm9kZXMuIFRoZXNlXG4gKiBhcmUgdXNlZCB0byByZXNvbHZlIERPTSBldmVudC1yZWxhdGVkIGxvZ2ljIGludG8gU2xhdGUgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IEVESVRPUl9UT19XSU5ET1c6IFdlYWtNYXA8RWRpdG9yLCBXaW5kb3c+ID0gbmV3IFdlYWtNYXAoKVxuZXhwb3J0IGNvbnN0IEVESVRPUl9UT19FTEVNRU5UOiBXZWFrTWFwPEVkaXRvciwgSFRNTEVsZW1lbnQ+ID0gbmV3IFdlYWtNYXAoKVxuZXhwb3J0IGNvbnN0IEVESVRPUl9UT19QTEFDRUhPTERFUjogV2Vha01hcDxFZGl0b3IsIHN0cmluZz4gPSBuZXcgV2Vha01hcCgpXG5leHBvcnQgY29uc3QgRUxFTUVOVF9UT19OT0RFOiBXZWFrTWFwPEhUTUxFbGVtZW50LCBOb2RlPiA9IG5ldyBXZWFrTWFwKClcbmV4cG9ydCBjb25zdCBOT0RFX1RPX0VMRU1FTlQ6IFdlYWtNYXA8Tm9kZSwgSFRNTEVsZW1lbnQ+ID0gbmV3IFdlYWtNYXAoKVxuZXhwb3J0IGNvbnN0IE5PREVfVE9fS0VZOiBXZWFrTWFwPE5vZGUsIEtleT4gPSBuZXcgV2Vha01hcCgpXG5leHBvcnQgY29uc3QgRURJVE9SX1RPX0tFWV9UT19FTEVNRU5UOiBXZWFrTWFwPFxuICBFZGl0b3IsXG4gIFdlYWtNYXA8S2V5LCBIVE1MRWxlbWVudD5cbj4gPSBuZXcgV2Vha01hcCgpXG5cbi8qKlxuICogV2VhayBtYXBzIGZvciBzdG9yaW5nIGVkaXRvci1yZWxhdGVkIHN0YXRlLlxuICovXG5cbmV4cG9ydCBjb25zdCBJU19SRUFEX09OTFk6IFdlYWtNYXA8RWRpdG9yLCBib29sZWFuPiA9IG5ldyBXZWFrTWFwKClcbmV4cG9ydCBjb25zdCBJU19GT0NVU0VEOiBXZWFrTWFwPEVkaXRvciwgYm9vbGVhbj4gPSBuZXcgV2Vha01hcCgpXG5leHBvcnQgY29uc3QgSVNfRFJBR0dJTkc6IFdlYWtNYXA8RWRpdG9yLCBib29sZWFuPiA9IG5ldyBXZWFrTWFwKClcbmV4cG9ydCBjb25zdCBJU19DTElDS0lORzogV2Vha01hcDxFZGl0b3IsIGJvb2xlYW4+ID0gbmV3IFdlYWtNYXAoKVxuZXhwb3J0IGNvbnN0IElTX0NPTVBPU0lORzogV2Vha01hcDxFZGl0b3IsIGJvb2xlYW4+ID0gbmV3IFdlYWtNYXAoKVxuZXhwb3J0IGNvbnN0IElTX09OX0NPTVBPU0lUSU9OX0VORDogV2Vha01hcDxFZGl0b3IsIGJvb2xlYW4+ID0gbmV3IFdlYWtNYXAoKVxuXG5leHBvcnQgY29uc3QgRURJVE9SX1RPX1VTRVJfU0VMRUNUSU9OOiBXZWFrTWFwPEVkaXRvciwgUmFuZ2VSZWY+ID0gbmV3IFdlYWtNYXAoKVxuXG4vKipcbiAqIFdlYWsgbWFwcyBmb3Igc2F2aW5nIHRleHQgb24gY29tcG9zaXRpb24gc3RhZ2UuXG4gKi9cblxuZXhwb3J0IGNvbnN0IEVESVRPUl9PTl9DT01QT1NJVElPTl9URVhUOiBXZWFrTWFwPFxuICBFZGl0b3IsXG4gIFRleHRJbnNlcnRpb25bXVxuPiA9IG5ldyBXZWFrTWFwKClcblxuLyoqXG4gKiBXZWFrIG1hcCBmb3IgYXNzb2NpYXRpbmcgdGhlIGNvbnRleHQgYG9uQ2hhbmdlYCBjb250ZXh0IHdpdGggdGhlIHBsdWdpbi5cbiAqL1xuXG5leHBvcnQgY29uc3QgRURJVE9SX1RPX09OX0NIQU5HRSA9IG5ldyBXZWFrTWFwPEVkaXRvciwgKCkgPT4gdm9pZD4oKVxuXG5leHBvcnQgY29uc3QgTk9ERV9UT19SRVNUT1JFX0RPTSA9IG5ldyBXZWFrTWFwPE5vZGUsICgpID0+IHZvaWQ+KClcblxuLyoqXG4gKiBTeW1ib2xzLlxuICovXG5cbmV4cG9ydCBjb25zdCBQTEFDRUhPTERFUl9TWU1CT0wgPSAoU3ltYm9sKCdwbGFjZWhvbGRlcicpIGFzIHVua25vd24pIGFzIHN0cmluZ1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBFbGVtZW50LCBUZXh0IH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgU3RyaW5nIGZyb20gJy4vc3RyaW5nJ1xuaW1wb3J0IHsgUExBQ0VIT0xERVJfU1lNQk9MIH0gZnJvbSAnLi4vdXRpbHMvd2Vhay1tYXBzJ1xuaW1wb3J0IHsgUmVuZGVyTGVhZlByb3BzLCBSZW5kZXJQbGFjZWhvbGRlclByb3BzIH0gZnJvbSAnLi9lZGl0YWJsZSdcblxuLyoqXG4gKiBJbmRpdmlkdWFsIGxlYXZlcyBpbiBhIHRleHQgbm9kZSB3aXRoIHVuaXF1ZSBmb3JtYXR0aW5nLlxuICovXG5cbmNvbnN0IExlYWYgPSAocHJvcHM6IHtcbiAgaXNMYXN0OiBib29sZWFuXG4gIGxlYWY6IFRleHRcbiAgcGFyZW50OiBFbGVtZW50XG4gIHJlbmRlclBsYWNlaG9sZGVyOiAocHJvcHM6IFJlbmRlclBsYWNlaG9sZGVyUHJvcHMpID0+IEpTWC5FbGVtZW50XG4gIHJlbmRlckxlYWY/OiAocHJvcHM6IFJlbmRlckxlYWZQcm9wcykgPT4gSlNYLkVsZW1lbnRcbiAgdGV4dDogVGV4dFxufSkgPT4ge1xuICBjb25zdCB7XG4gICAgbGVhZixcbiAgICBpc0xhc3QsXG4gICAgdGV4dCxcbiAgICBwYXJlbnQsXG4gICAgcmVuZGVyUGxhY2Vob2xkZXIsXG4gICAgcmVuZGVyTGVhZiA9IChwcm9wczogUmVuZGVyTGVhZlByb3BzKSA9PiA8RGVmYXVsdExlYWYgey4uLnByb3BzfSAvPixcbiAgfSA9IHByb3BzXG5cbiAgY29uc3QgcGxhY2Vob2xkZXJSZWYgPSB1c2VSZWY8SFRNTFNwYW5FbGVtZW50IHwgbnVsbD4obnVsbClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHBsYWNlaG9sZGVyRWwgPSBwbGFjZWhvbGRlclJlZj8uY3VycmVudFxuICAgIGNvbnN0IGVkaXRvckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oXG4gICAgICAnW2RhdGEtc2xhdGUtZWRpdG9yPVwidHJ1ZVwiXSdcbiAgICApXG5cbiAgICBpZiAoIXBsYWNlaG9sZGVyRWwgfHwgIWVkaXRvckVsKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBlZGl0b3JFbC5zdHlsZS5taW5IZWlnaHQgPSBgJHtwbGFjZWhvbGRlckVsLmNsaWVudEhlaWdodH1weGBcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlZGl0b3JFbC5zdHlsZS5taW5IZWlnaHQgPSAnYXV0bydcbiAgICB9XG4gIH0sIFtwbGFjZWhvbGRlclJlZiwgbGVhZl0pXG5cbiAgbGV0IGNoaWxkcmVuID0gKFxuICAgIDxTdHJpbmcgaXNMYXN0PXtpc0xhc3R9IGxlYWY9e2xlYWZ9IHBhcmVudD17cGFyZW50fSB0ZXh0PXt0ZXh0fSAvPlxuICApXG5cbiAgaWYgKGxlYWZbUExBQ0VIT0xERVJfU1lNQk9MXSkge1xuICAgIGNvbnN0IHBsYWNlaG9sZGVyUHJvcHM6IFJlbmRlclBsYWNlaG9sZGVyUHJvcHMgPSB7XG4gICAgICBjaGlsZHJlbjogbGVhZi5wbGFjZWhvbGRlcixcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgJ2RhdGEtc2xhdGUtcGxhY2Vob2xkZXInOiB0cnVlLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICBvcGFjaXR5OiAnMC4zMzMnLFxuICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50RWRpdGFibGU6IGZhbHNlLFxuICAgICAgICByZWY6IHBsYWNlaG9sZGVyUmVmLFxuICAgICAgfSxcbiAgICB9XG5cbiAgICBjaGlsZHJlbiA9IChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAge3JlbmRlclBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyUHJvcHMpfVxuICAgICAgICB7Y2hpbGRyZW59XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgIClcbiAgfVxuXG4gIC8vIENPTVBBVDogSGF2aW5nIHRoZSBgZGF0YS1gIGF0dHJpYnV0ZXMgb24gdGhlc2UgbGVhZiBlbGVtZW50cyBlbnN1cmVzIHRoYXRcbiAgLy8gaW4gY2VydGFpbiBtaXNiZWhhdmluZyBicm93c2VycyB0aGV5IGFyZW4ndCB3ZWlyZGx5IGNsb25lZC9kZXN0cm95ZWQgYnlcbiAgLy8gY29udGVudGVkaXRhYmxlIGJlaGF2aW9ycy4gKDIwMTkvMDUvMDgpXG4gIGNvbnN0IGF0dHJpYnV0ZXM6IHtcbiAgICAnZGF0YS1zbGF0ZS1sZWFmJzogdHJ1ZVxuICB9ID0ge1xuICAgICdkYXRhLXNsYXRlLWxlYWYnOiB0cnVlLFxuICB9XG5cbiAgcmV0dXJuIHJlbmRlckxlYWYoeyBhdHRyaWJ1dGVzLCBjaGlsZHJlbiwgbGVhZiwgdGV4dCB9KVxufVxuXG5jb25zdCBNZW1vaXplZExlYWYgPSBSZWFjdC5tZW1vKExlYWYsIChwcmV2LCBuZXh0KSA9PiB7XG4gIHJldHVybiAoXG4gICAgbmV4dC5wYXJlbnQgPT09IHByZXYucGFyZW50ICYmXG4gICAgbmV4dC5pc0xhc3QgPT09IHByZXYuaXNMYXN0ICYmXG4gICAgbmV4dC5yZW5kZXJMZWFmID09PSBwcmV2LnJlbmRlckxlYWYgJiZcbiAgICBuZXh0LnJlbmRlclBsYWNlaG9sZGVyID09PSBwcmV2LnJlbmRlclBsYWNlaG9sZGVyICYmXG4gICAgbmV4dC50ZXh0ID09PSBwcmV2LnRleHQgJiZcbiAgICBUZXh0LmVxdWFscyhuZXh0LmxlYWYsIHByZXYubGVhZikgJiZcbiAgICBuZXh0LmxlYWZbUExBQ0VIT0xERVJfU1lNQk9MXSA9PT0gcHJldi5sZWFmW1BMQUNFSE9MREVSX1NZTUJPTF1cbiAgKVxufSlcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRMZWFmID0gKHByb3BzOiBSZW5kZXJMZWFmUHJvcHMpID0+IHtcbiAgY29uc3QgeyBhdHRyaWJ1dGVzLCBjaGlsZHJlbiB9ID0gcHJvcHNcbiAgcmV0dXJuIDxzcGFuIHsuLi5hdHRyaWJ1dGVzfT57Y2hpbGRyZW59PC9zcGFuPlxufVxuXG5leHBvcnQgZGVmYXVsdCBNZW1vaXplZExlYWZcbiIsImltcG9ydCB7IFJhbmdlIH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyBQTEFDRUhPTERFUl9TWU1CT0wgfSBmcm9tICcuL3dlYWstbWFwcydcblxuZXhwb3J0IGNvbnN0IHNoYWxsb3dDb21wYXJlID0gKG9iajE6IHt9LCBvYmoyOiB7fSkgPT5cbiAgT2JqZWN0LmtleXMob2JqMSkubGVuZ3RoID09PSBPYmplY3Qua2V5cyhvYmoyKS5sZW5ndGggJiZcbiAgT2JqZWN0LmtleXMob2JqMSkuZXZlcnkoXG4gICAga2V5ID0+IG9iajIuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBvYmoxW2tleV0gPT09IG9iajJba2V5XVxuICApXG5cbi8qKlxuICogQ2hlY2sgaWYgYSBsaXN0IG9mIGRlY29yYXRvciByYW5nZXMgYXJlIGVxdWFsIHRvIGFub3RoZXIuXG4gKlxuICogUEVSRjogdGhpcyByZXF1aXJlcyB0aGUgdHdvIGxpc3RzIHRvIGFsc28gaGF2ZSB0aGUgcmFuZ2VzIGluc2lkZSB0aGVtIGluIHRoZVxuICogc2FtZSBvcmRlciwgYnV0IHRoaXMgaXMgYW4gb2theSBjb25zdHJhaW50IGZvciB1cyBzaW5jZSBkZWNvcmF0aW9ucyBhcmVcbiAqIGtlcHQgaW4gb3JkZXIsIGFuZCB0aGUgb2RkIGNhc2Ugd2hlcmUgdGhleSBhcmVuJ3QgaXMgb2theSB0byByZS1yZW5kZXIgZm9yLlxuICovXG5cbmV4cG9ydCBjb25zdCBpc0RlY29yYXRvclJhbmdlTGlzdEVxdWFsID0gKFxuICBsaXN0OiBSYW5nZVtdLFxuICBhbm90aGVyOiBSYW5nZVtdXG4pOiBib29sZWFuID0+IHtcbiAgaWYgKGxpc3QubGVuZ3RoICE9PSBhbm90aGVyLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcmFuZ2UgPSBsaXN0W2ldXG4gICAgY29uc3Qgb3RoZXIgPSBhbm90aGVyW2ldXG5cbiAgICBjb25zdCB7IGFuY2hvcjogcmFuZ2VBbmNob3IsIGZvY3VzOiByYW5nZUZvY3VzLCAuLi5yYW5nZU93blByb3BzIH0gPSByYW5nZVxuICAgIGNvbnN0IHsgYW5jaG9yOiBvdGhlckFuY2hvciwgZm9jdXM6IG90aGVyRm9jdXMsIC4uLm90aGVyT3duUHJvcHMgfSA9IG90aGVyXG5cbiAgICBpZiAoXG4gICAgICAhUmFuZ2UuZXF1YWxzKHJhbmdlLCBvdGhlcikgfHxcbiAgICAgIHJhbmdlW1BMQUNFSE9MREVSX1NZTUJPTF0gIT09IG90aGVyW1BMQUNFSE9MREVSX1NZTUJPTF0gfHxcbiAgICAgICFzaGFsbG93Q29tcGFyZShyYW5nZU93blByb3BzLCBvdGhlck93blByb3BzKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWVcbn1cbiIsImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgTm9kZSBhcyBTbGF0ZU5vZGUgfSBmcm9tICdzbGF0ZSdcbmltcG9ydCB7IE5PREVfVE9fUkVTVE9SRV9ET00gfSBmcm9tICcuLi91dGlscy93ZWFrLW1hcHMnXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VDb250ZW50S2V5KG5vZGU6IFNsYXRlTm9kZSkge1xuICBjb25zdCBjb250ZW50S2V5UmVmID0gdXNlUmVmPG51bWJlcj4oMClcbiAgY29uc3QgdXBkYXRlQW5pbWF0aW9uRnJhbWVSZWYgPSB1c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbClcblxuICBjb25zdCBbLCBzZXRGb3JjZVJlcmVuZGVyQ291bnRlcl0gPSB1c2VTdGF0ZSgwKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgTk9ERV9UT19SRVNUT1JFX0RPTS5zZXQobm9kZSwgKCkgPT4ge1xuICAgICAgLy8gVXBkYXRlIGlzIGFscmVhZHkgcXVldWVkIGFuZCBub2RlIGhhc24ndCByZS1yZW5kZXIgeWV0XG4gICAgICBpZiAodXBkYXRlQW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgdXBkYXRlQW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHNldEZvcmNlUmVyZW5kZXJDb3VudGVyKHN0YXRlID0+IHN0YXRlICsgMSlcbiAgICAgICAgdXBkYXRlQW5pbWF0aW9uRnJhbWVSZWYuY3VycmVudCA9IG51bGxcbiAgICAgIH0pXG5cbiAgICAgIGNvbnRlbnRLZXlSZWYuY3VycmVudCsrXG4gICAgfSlcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBOT0RFX1RPX1JFU1RPUkVfRE9NLmRlbGV0ZShub2RlKVxuICAgIH1cbiAgfSwgW25vZGVdKVxuXG4gIC8vIE5vZGUgd2FzIHJlc3RvcmVkID0+IGNsZWFyIHNjaGVkdWxlZCB1cGRhdGVcbiAgaWYgKHVwZGF0ZUFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpIHtcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh1cGRhdGVBbmltYXRpb25GcmFtZVJlZi5jdXJyZW50KVxuICAgIHVwZGF0ZUFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQgPSBudWxsXG4gIH1cblxuICByZXR1cm4gY29udGVudEtleVJlZi5jdXJyZW50XG59XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBSYW5nZSwgRWxlbWVudCwgVGV4dCBhcyBTbGF0ZVRleHQgfSBmcm9tICdzbGF0ZSdcblxuaW1wb3J0IExlYWYgZnJvbSAnLi9sZWFmJ1xuaW1wb3J0IHsgUmVhY3RFZGl0b3IsIHVzZVNsYXRlU3RhdGljIH0gZnJvbSAnLi4nXG5pbXBvcnQgeyBSZW5kZXJMZWFmUHJvcHMsIFJlbmRlclBsYWNlaG9sZGVyUHJvcHMgfSBmcm9tICcuL2VkaXRhYmxlJ1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4uL2hvb2tzL3VzZS1pc29tb3JwaGljLWxheW91dC1lZmZlY3QnXG5pbXBvcnQge1xuICBOT0RFX1RPX0VMRU1FTlQsXG4gIEVMRU1FTlRfVE9fTk9ERSxcbiAgRURJVE9SX1RPX0tFWV9UT19FTEVNRU5ULFxufSBmcm9tICcuLi91dGlscy93ZWFrLW1hcHMnXG5pbXBvcnQgeyBpc0RlY29yYXRvclJhbmdlTGlzdEVxdWFsIH0gZnJvbSAnLi4vdXRpbHMvcmFuZ2UtbGlzdCdcbmltcG9ydCB7IHVzZUNvbnRlbnRLZXkgfSBmcm9tICcuLi9ob29rcy91c2UtY29udGVudC1rZXknXG5pbXBvcnQgeyBJU19BTkRST0lEIH0gZnJvbSAnLi4vdXRpbHMvZW52aXJvbm1lbnQnXG5cbi8qKlxuICogVGV4dC5cbiAqL1xuXG5jb25zdCBUZXh0ID0gKHByb3BzOiB7XG4gIGRlY29yYXRpb25zOiBSYW5nZVtdXG4gIGlzTGFzdDogYm9vbGVhblxuICBwYXJlbnQ6IEVsZW1lbnRcbiAgcmVuZGVyUGxhY2Vob2xkZXI6IChwcm9wczogUmVuZGVyUGxhY2Vob2xkZXJQcm9wcykgPT4gSlNYLkVsZW1lbnRcbiAgcmVuZGVyTGVhZj86IChwcm9wczogUmVuZGVyTGVhZlByb3BzKSA9PiBKU1guRWxlbWVudFxuICB0ZXh0OiBTbGF0ZVRleHRcbn0pID0+IHtcbiAgY29uc3Qge1xuICAgIGRlY29yYXRpb25zLFxuICAgIGlzTGFzdCxcbiAgICBwYXJlbnQsXG4gICAgcmVuZGVyUGxhY2Vob2xkZXIsXG4gICAgcmVuZGVyTGVhZixcbiAgICB0ZXh0LFxuICB9ID0gcHJvcHNcbiAgY29uc3QgZWRpdG9yID0gdXNlU2xhdGVTdGF0aWMoKVxuICBjb25zdCByZWYgPSB1c2VSZWY8SFRNTFNwYW5FbGVtZW50PihudWxsKVxuICBjb25zdCBsZWF2ZXMgPSBTbGF0ZVRleHQuZGVjb3JhdGlvbnModGV4dCwgZGVjb3JhdGlvbnMpXG4gIGNvbnN0IGtleSA9IFJlYWN0RWRpdG9yLmZpbmRLZXkoZWRpdG9yLCB0ZXh0KVxuICBjb25zdCBjaGlsZHJlbiA9IFtdXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZWF2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBsZWFmID0gbGVhdmVzW2ldXG5cbiAgICBjaGlsZHJlbi5wdXNoKFxuICAgICAgPExlYWZcbiAgICAgICAgaXNMYXN0PXtpc0xhc3QgJiYgaSA9PT0gbGVhdmVzLmxlbmd0aCAtIDF9XG4gICAgICAgIGtleT17YCR7a2V5LmlkfS0ke2l9YH1cbiAgICAgICAgcmVuZGVyUGxhY2Vob2xkZXI9e3JlbmRlclBsYWNlaG9sZGVyfVxuICAgICAgICBsZWFmPXtsZWFmfVxuICAgICAgICB0ZXh0PXt0ZXh0fVxuICAgICAgICBwYXJlbnQ9e3BhcmVudH1cbiAgICAgICAgcmVuZGVyTGVhZj17cmVuZGVyTGVhZn1cbiAgICAgIC8+XG4gICAgKVxuICB9XG5cbiAgLy8gVXBkYXRlIGVsZW1lbnQtcmVsYXRlZCB3ZWFrIG1hcHMgd2l0aCB0aGUgRE9NIGVsZW1lbnQgcmVmLlxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBLRVlfVE9fRUxFTUVOVCA9IEVESVRPUl9UT19LRVlfVE9fRUxFTUVOVC5nZXQoZWRpdG9yKVxuICAgIGlmIChyZWYuY3VycmVudCkge1xuICAgICAgS0VZX1RPX0VMRU1FTlQ/LnNldChrZXksIHJlZi5jdXJyZW50KVxuICAgICAgTk9ERV9UT19FTEVNRU5ULnNldCh0ZXh0LCByZWYuY3VycmVudClcbiAgICAgIEVMRU1FTlRfVE9fTk9ERS5zZXQocmVmLmN1cnJlbnQsIHRleHQpXG4gICAgfSBlbHNlIHtcbiAgICAgIEtFWV9UT19FTEVNRU5UPy5kZWxldGUoa2V5KVxuICAgICAgTk9ERV9UT19FTEVNRU5ULmRlbGV0ZSh0ZXh0KVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBjb250ZW50S2V5ID0gSVNfQU5EUk9JRCA/IHVzZUNvbnRlbnRLZXkodGV4dCkgOiB1bmRlZmluZWRcblxuICByZXR1cm4gKFxuICAgIDxzcGFuIGRhdGEtc2xhdGUtbm9kZT1cInRleHRcIiByZWY9e3JlZn0ga2V5PXtjb250ZW50S2V5fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L3NwYW4+XG4gIClcbn1cblxuY29uc3QgTWVtb2l6ZWRUZXh0ID0gUmVhY3QubWVtbyhUZXh0LCAocHJldiwgbmV4dCkgPT4ge1xuICByZXR1cm4gKFxuICAgIG5leHQucGFyZW50ID09PSBwcmV2LnBhcmVudCAmJlxuICAgIG5leHQuaXNMYXN0ID09PSBwcmV2LmlzTGFzdCAmJlxuICAgIG5leHQucmVuZGVyTGVhZiA9PT0gcHJldi5yZW5kZXJMZWFmICYmXG4gICAgbmV4dC50ZXh0ID09PSBwcmV2LnRleHQgJiZcbiAgICBpc0RlY29yYXRvclJhbmdlTGlzdEVxdWFsKG5leHQuZGVjb3JhdGlvbnMsIHByZXYuZGVjb3JhdGlvbnMpXG4gIClcbn0pXG5cbmV4cG9ydCBkZWZhdWx0IE1lbW9pemVkVGV4dFxuIiwiaW1wb3J0IFJlYWN0LCB7IEZyYWdtZW50LCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBnZXREaXJlY3Rpb24gZnJvbSAnZGlyZWN0aW9uJ1xuaW1wb3J0IHsgRWRpdG9yLCBOb2RlLCBSYW5nZSwgRWxlbWVudCBhcyBTbGF0ZUVsZW1lbnQgfSBmcm9tICdzbGF0ZSdcblxuaW1wb3J0IFRleHQgZnJvbSAnLi90ZXh0J1xuaW1wb3J0IHVzZUNoaWxkcmVuIGZyb20gJy4uL2hvb2tzL3VzZS1jaGlsZHJlbidcbmltcG9ydCB7IFJlYWN0RWRpdG9yLCB1c2VTbGF0ZVN0YXRpYywgdXNlUmVhZE9ubHkgfSBmcm9tICcuLidcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLi9ob29rcy91c2UtaXNvbW9ycGhpYy1sYXlvdXQtZWZmZWN0J1xuaW1wb3J0IHtcbiAgTk9ERV9UT19FTEVNRU5ULFxuICBFTEVNRU5UX1RPX05PREUsXG4gIE5PREVfVE9fUEFSRU5ULFxuICBOT0RFX1RPX0lOREVYLFxuICBFRElUT1JfVE9fS0VZX1RPX0VMRU1FTlQsXG59IGZyb20gJy4uL3V0aWxzL3dlYWstbWFwcydcbmltcG9ydCB7IGlzRGVjb3JhdG9yUmFuZ2VMaXN0RXF1YWwgfSBmcm9tICcuLi91dGlscy9yYW5nZS1saXN0J1xuaW1wb3J0IHtcbiAgUmVuZGVyRWxlbWVudFByb3BzLFxuICBSZW5kZXJMZWFmUHJvcHMsXG4gIFJlbmRlclBsYWNlaG9sZGVyUHJvcHMsXG59IGZyb20gJy4vZWRpdGFibGUnXG5pbXBvcnQgeyB1c2VDb250ZW50S2V5IH0gZnJvbSAnLi4vaG9va3MvdXNlLWNvbnRlbnQta2V5J1xuaW1wb3J0IHsgSVNfQU5EUk9JRCB9IGZyb20gJy4uL3V0aWxzL2Vudmlyb25tZW50J1xuXG4vKipcbiAqIEVsZW1lbnQuXG4gKi9cblxuY29uc3QgRWxlbWVudCA9IChwcm9wczoge1xuICBkZWNvcmF0aW9uczogUmFuZ2VbXVxuICBlbGVtZW50OiBTbGF0ZUVsZW1lbnRcbiAgcmVuZGVyRWxlbWVudD86IChwcm9wczogUmVuZGVyRWxlbWVudFByb3BzKSA9PiBKU1guRWxlbWVudFxuICByZW5kZXJQbGFjZWhvbGRlcjogKHByb3BzOiBSZW5kZXJQbGFjZWhvbGRlclByb3BzKSA9PiBKU1guRWxlbWVudFxuICByZW5kZXJMZWFmPzogKHByb3BzOiBSZW5kZXJMZWFmUHJvcHMpID0+IEpTWC5FbGVtZW50XG4gIHNlbGVjdGlvbjogUmFuZ2UgfCBudWxsXG59KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBkZWNvcmF0aW9ucyxcbiAgICBlbGVtZW50LFxuICAgIHJlbmRlckVsZW1lbnQgPSAocDogUmVuZGVyRWxlbWVudFByb3BzKSA9PiA8RGVmYXVsdEVsZW1lbnQgey4uLnB9IC8+LFxuICAgIHJlbmRlclBsYWNlaG9sZGVyLFxuICAgIHJlbmRlckxlYWYsXG4gICAgc2VsZWN0aW9uLFxuICB9ID0gcHJvcHNcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxFbGVtZW50PihudWxsKVxuICBjb25zdCBlZGl0b3IgPSB1c2VTbGF0ZVN0YXRpYygpXG4gIGNvbnN0IHJlYWRPbmx5ID0gdXNlUmVhZE9ubHkoKVxuICBjb25zdCBpc0lubGluZSA9IGVkaXRvci5pc0lubGluZShlbGVtZW50KVxuICBjb25zdCBrZXkgPSBSZWFjdEVkaXRvci5maW5kS2V5KGVkaXRvciwgZWxlbWVudClcbiAgbGV0IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgPSB1c2VDaGlsZHJlbih7XG4gICAgZGVjb3JhdGlvbnMsXG4gICAgbm9kZTogZWxlbWVudCxcbiAgICByZW5kZXJFbGVtZW50LFxuICAgIHJlbmRlclBsYWNlaG9sZGVyLFxuICAgIHJlbmRlckxlYWYsXG4gICAgc2VsZWN0aW9uLFxuICB9KVxuXG4gIC8vIEF0dHJpYnV0ZXMgdGhhdCB0aGUgZGV2ZWxvcGVyIG11c3QgbWl4IGludG8gdGhlIGVsZW1lbnQgaW4gdGhlaXJcbiAgLy8gY3VzdG9tIG5vZGUgcmVuZGVyZXIgY29tcG9uZW50LlxuICBjb25zdCBhdHRyaWJ1dGVzOiB7XG4gICAgJ2RhdGEtc2xhdGUtbm9kZSc6ICdlbGVtZW50J1xuICAgICdkYXRhLXNsYXRlLXZvaWQnPzogdHJ1ZVxuICAgICdkYXRhLXNsYXRlLWlubGluZSc/OiB0cnVlXG4gICAgY29udGVudEVkaXRhYmxlPzogZmFsc2VcbiAgICBkaXI/OiAncnRsJ1xuICAgIHJlZjogYW55XG4gIH0gPSB7XG4gICAgJ2RhdGEtc2xhdGUtbm9kZSc6ICdlbGVtZW50JyxcbiAgICByZWYsXG4gIH1cblxuICBpZiAoaXNJbmxpbmUpIHtcbiAgICBhdHRyaWJ1dGVzWydkYXRhLXNsYXRlLWlubGluZSddID0gdHJ1ZVxuICB9XG5cbiAgLy8gSWYgaXQncyBhIGJsb2NrIG5vZGUgd2l0aCBpbmxpbmUgY2hpbGRyZW4sIGFkZCB0aGUgcHJvcGVyIGBkaXJgIGF0dHJpYnV0ZVxuICAvLyBmb3IgdGV4dCBkaXJlY3Rpb24uXG4gIGlmICghaXNJbmxpbmUgJiYgRWRpdG9yLmhhc0lubGluZXMoZWRpdG9yLCBlbGVtZW50KSkge1xuICAgIGNvbnN0IHRleHQgPSBOb2RlLnN0cmluZyhlbGVtZW50KVxuICAgIGNvbnN0IGRpciA9IGdldERpcmVjdGlvbih0ZXh0KVxuXG4gICAgaWYgKGRpciA9PT0gJ3J0bCcpIHtcbiAgICAgIGF0dHJpYnV0ZXMuZGlyID0gZGlyXG4gICAgfVxuICB9XG5cbiAgLy8gSWYgaXQncyBhIHZvaWQgbm9kZSwgd3JhcCB0aGUgY2hpbGRyZW4gaW4gZXh0cmEgdm9pZC1zcGVjaWZpYyBlbGVtZW50cy5cbiAgaWYgKEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBlbGVtZW50KSkge1xuICAgIGF0dHJpYnV0ZXNbJ2RhdGEtc2xhdGUtdm9pZCddID0gdHJ1ZVxuXG4gICAgaWYgKCFyZWFkT25seSAmJiBpc0lubGluZSkge1xuICAgICAgYXR0cmlidXRlcy5jb250ZW50RWRpdGFibGUgPSBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IFRhZyA9IGlzSW5saW5lID8gJ3NwYW4nIDogJ2RpdidcbiAgICBjb25zdCBbW3RleHRdXSA9IE5vZGUudGV4dHMoZWxlbWVudClcblxuICAgIGNoaWxkcmVuID0gKFxuICAgICAgPFRhZ1xuICAgICAgICBkYXRhLXNsYXRlLXNwYWNlclxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGhlaWdodDogJzAnLFxuICAgICAgICAgIGNvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPFRleHRcbiAgICAgICAgICByZW5kZXJQbGFjZWhvbGRlcj17cmVuZGVyUGxhY2Vob2xkZXJ9XG4gICAgICAgICAgZGVjb3JhdGlvbnM9e1tdfVxuICAgICAgICAgIGlzTGFzdD17ZmFsc2V9XG4gICAgICAgICAgcGFyZW50PXtlbGVtZW50fVxuICAgICAgICAgIHRleHQ9e3RleHR9XG4gICAgICAgIC8+XG4gICAgICA8L1RhZz5cbiAgICApXG5cbiAgICBOT0RFX1RPX0lOREVYLnNldCh0ZXh0LCAwKVxuICAgIE5PREVfVE9fUEFSRU5ULnNldCh0ZXh0LCBlbGVtZW50KVxuICB9XG5cbiAgLy8gVXBkYXRlIGVsZW1lbnQtcmVsYXRlZCB3ZWFrIG1hcHMgd2l0aCB0aGUgRE9NIGVsZW1lbnQgcmVmLlxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBLRVlfVE9fRUxFTUVOVCA9IEVESVRPUl9UT19LRVlfVE9fRUxFTUVOVC5nZXQoZWRpdG9yKVxuICAgIGlmIChyZWYuY3VycmVudCkge1xuICAgICAgS0VZX1RPX0VMRU1FTlQ/LnNldChrZXksIHJlZi5jdXJyZW50KVxuICAgICAgTk9ERV9UT19FTEVNRU5ULnNldChlbGVtZW50LCByZWYuY3VycmVudClcbiAgICAgIEVMRU1FTlRfVE9fTk9ERS5zZXQocmVmLmN1cnJlbnQsIGVsZW1lbnQpXG4gICAgfSBlbHNlIHtcbiAgICAgIEtFWV9UT19FTEVNRU5UPy5kZWxldGUoa2V5KVxuICAgICAgTk9ERV9UT19FTEVNRU5ULmRlbGV0ZShlbGVtZW50KVxuICAgIH1cbiAgfSlcblxuICBjb25zdCBjb250ZW50ID0gcmVuZGVyRWxlbWVudCh7IGF0dHJpYnV0ZXMsIGNoaWxkcmVuLCBlbGVtZW50IH0pXG5cbiAgaWYgKElTX0FORFJPSUQpIHtcbiAgICBjb25zdCBjb250ZW50S2V5ID0gdXNlQ29udGVudEtleShlbGVtZW50KVxuICAgIHJldHVybiA8RnJhZ21lbnQga2V5PXtjb250ZW50S2V5fT57Y29udGVudH08L0ZyYWdtZW50PlxuICB9XG5cbiAgcmV0dXJuIGNvbnRlbnRcbn1cblxuY29uc3QgTWVtb2l6ZWRFbGVtZW50ID0gUmVhY3QubWVtbyhFbGVtZW50LCAocHJldiwgbmV4dCkgPT4ge1xuICByZXR1cm4gKFxuICAgIHByZXYuZWxlbWVudCA9PT0gbmV4dC5lbGVtZW50ICYmXG4gICAgcHJldi5yZW5kZXJFbGVtZW50ID09PSBuZXh0LnJlbmRlckVsZW1lbnQgJiZcbiAgICBwcmV2LnJlbmRlckxlYWYgPT09IG5leHQucmVuZGVyTGVhZiAmJlxuICAgIGlzRGVjb3JhdG9yUmFuZ2VMaXN0RXF1YWwocHJldi5kZWNvcmF0aW9ucywgbmV4dC5kZWNvcmF0aW9ucykgJiZcbiAgICAocHJldi5zZWxlY3Rpb24gPT09IG5leHQuc2VsZWN0aW9uIHx8XG4gICAgICAoISFwcmV2LnNlbGVjdGlvbiAmJlxuICAgICAgICAhIW5leHQuc2VsZWN0aW9uICYmXG4gICAgICAgIFJhbmdlLmVxdWFscyhwcmV2LnNlbGVjdGlvbiwgbmV4dC5zZWxlY3Rpb24pKSlcbiAgKVxufSlcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBlbGVtZW50IHJlbmRlcmVyLlxuICovXG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0RWxlbWVudCA9IChwcm9wczogUmVuZGVyRWxlbWVudFByb3BzKSA9PiB7XG4gIGNvbnN0IHsgYXR0cmlidXRlcywgY2hpbGRyZW4sIGVsZW1lbnQgfSA9IHByb3BzXG4gIGNvbnN0IGVkaXRvciA9IHVzZVNsYXRlU3RhdGljKClcbiAgY29uc3QgVGFnID0gZWRpdG9yLmlzSW5saW5lKGVsZW1lbnQpID8gJ3NwYW4nIDogJ2RpdidcbiAgcmV0dXJuIChcbiAgICA8VGFnIHsuLi5hdHRyaWJ1dGVzfSBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L1RhZz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBNZW1vaXplZEVsZW1lbnRcbiIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFJlYWN0RWRpdG9yIH0gZnJvbSAnLi4vcGx1Z2luL3JlYWN0LWVkaXRvcidcbmltcG9ydCB7IEVkaXRvciB9IGZyb20gJ3NsYXRlJ1xuXG4vKipcbiAqIEEgUmVhY3QgY29udGV4dCBmb3Igc2hhcmluZyB0aGUgZWRpdG9yIG9iamVjdC5cbiAqL1xuXG5leHBvcnQgY29uc3QgRWRpdG9yQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8UmVhY3RFZGl0b3IgfCBudWxsPihudWxsKVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCBlZGl0b3Igb2JqZWN0IGZyb20gdGhlIFJlYWN0IGNvbnRleHQuXG4gKi9cblxuZXhwb3J0IGNvbnN0IHVzZVNsYXRlU3RhdGljID0gKCk6IEVkaXRvciA9PiB7XG4gIGNvbnN0IGVkaXRvciA9IHVzZUNvbnRleHQoRWRpdG9yQ29udGV4dClcblxuICBpZiAoIWVkaXRvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBUaGUgXFxgdXNlU2xhdGVTdGF0aWNcXGAgaG9vayBtdXN0IGJlIHVzZWQgaW5zaWRlIHRoZSA8U2xhdGU+IGNvbXBvbmVudCdzIGNvbnRleHQuYFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBlZGl0b3Jcbn1cbiIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFJhbmdlLCBOb2RlRW50cnkgfSBmcm9tICdzbGF0ZSdcblxuLyoqXG4gKiBBIFJlYWN0IGNvbnRleHQgZm9yIHNoYXJpbmcgdGhlIGBkZWNvcmF0ZWAgcHJvcCBvZiB0aGUgZWRpdGFibGUuXG4gKi9cblxuZXhwb3J0IGNvbnN0IERlY29yYXRlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8KGVudHJ5OiBOb2RlRW50cnkpID0+IFJhbmdlW10+KFxuICAoKSA9PiBbXVxuKVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCBgZGVjb3JhdGVgIHByb3Agb2YgdGhlIGVkaXRhYmxlLlxuICovXG5cbmV4cG9ydCBjb25zdCB1c2VEZWNvcmF0ZSA9ICgpOiAoKGVudHJ5OiBOb2RlRW50cnkpID0+IFJhbmdlW10pID0+IHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoRGVjb3JhdGVDb250ZXh0KVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuXG4vKipcbiAqIEEgUmVhY3QgY29udGV4dCBmb3Igc2hhcmluZyB0aGUgYHNlbGVjdGVkYCBzdGF0ZSBvZiBhbiBlbGVtZW50LlxuICovXG5cbmV4cG9ydCBjb25zdCBTZWxlY3RlZENvbnRleHQgPSBjcmVhdGVDb250ZXh0KGZhbHNlKVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCBgc2VsZWN0ZWRgIHN0YXRlIG9mIGFuIGVsZW1lbnQuXG4gKi9cblxuZXhwb3J0IGNvbnN0IHVzZVNlbGVjdGVkID0gKCk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gdXNlQ29udGV4dChTZWxlY3RlZENvbnRleHQpXG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBFZGl0b3IsIFJhbmdlLCBFbGVtZW50LCBBbmNlc3RvciwgRGVzY2VuZGFudCB9IGZyb20gJ3NsYXRlJ1xuXG5pbXBvcnQgRWxlbWVudENvbXBvbmVudCBmcm9tICcuLi9jb21wb25lbnRzL2VsZW1lbnQnXG5pbXBvcnQgVGV4dENvbXBvbmVudCBmcm9tICcuLi9jb21wb25lbnRzL3RleHQnXG5pbXBvcnQgeyBSZWFjdEVkaXRvciB9IGZyb20gJy4uJ1xuaW1wb3J0IHsgdXNlU2xhdGVTdGF0aWMgfSBmcm9tICcuL3VzZS1zbGF0ZS1zdGF0aWMnXG5pbXBvcnQgeyB1c2VEZWNvcmF0ZSB9IGZyb20gJy4vdXNlLWRlY29yYXRlJ1xuaW1wb3J0IHsgTk9ERV9UT19JTkRFWCwgTk9ERV9UT19QQVJFTlQgfSBmcm9tICcuLi91dGlscy93ZWFrLW1hcHMnXG5pbXBvcnQge1xuICBSZW5kZXJFbGVtZW50UHJvcHMsXG4gIFJlbmRlckxlYWZQcm9wcyxcbiAgUmVuZGVyUGxhY2Vob2xkZXJQcm9wcyxcbn0gZnJvbSAnLi4vY29tcG9uZW50cy9lZGl0YWJsZSdcbmltcG9ydCB7IFNlbGVjdGVkQ29udGV4dCB9IGZyb20gJy4vdXNlLXNlbGVjdGVkJ1xuXG4vKipcbiAqIENoaWxkcmVuLlxuICovXG5cbmNvbnN0IHVzZUNoaWxkcmVuID0gKHByb3BzOiB7XG4gIGRlY29yYXRpb25zOiBSYW5nZVtdXG4gIG5vZGU6IEFuY2VzdG9yXG4gIHJlbmRlckVsZW1lbnQ/OiAocHJvcHM6IFJlbmRlckVsZW1lbnRQcm9wcykgPT4gSlNYLkVsZW1lbnRcbiAgcmVuZGVyUGxhY2Vob2xkZXI6IChwcm9wczogUmVuZGVyUGxhY2Vob2xkZXJQcm9wcykgPT4gSlNYLkVsZW1lbnRcbiAgcmVuZGVyTGVhZj86IChwcm9wczogUmVuZGVyTGVhZlByb3BzKSA9PiBKU1guRWxlbWVudFxuICBzZWxlY3Rpb246IFJhbmdlIHwgbnVsbFxufSkgPT4ge1xuICBjb25zdCB7XG4gICAgZGVjb3JhdGlvbnMsXG4gICAgbm9kZSxcbiAgICByZW5kZXJFbGVtZW50LFxuICAgIHJlbmRlclBsYWNlaG9sZGVyLFxuICAgIHJlbmRlckxlYWYsXG4gICAgc2VsZWN0aW9uLFxuICB9ID0gcHJvcHNcbiAgY29uc3QgZGVjb3JhdGUgPSB1c2VEZWNvcmF0ZSgpXG4gIGNvbnN0IGVkaXRvciA9IHVzZVNsYXRlU3RhdGljKClcbiAgY29uc3QgcGF0aCA9IFJlYWN0RWRpdG9yLmZpbmRQYXRoKGVkaXRvciwgbm9kZSlcbiAgY29uc3QgY2hpbGRyZW4gPSBbXVxuICBjb25zdCBpc0xlYWZCbG9jayA9XG4gICAgRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiZcbiAgICAhZWRpdG9yLmlzSW5saW5lKG5vZGUpICYmXG4gICAgRWRpdG9yLmhhc0lubGluZXMoZWRpdG9yLCBub2RlKVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHAgPSBwYXRoLmNvbmNhdChpKVxuICAgIGNvbnN0IG4gPSBub2RlLmNoaWxkcmVuW2ldIGFzIERlc2NlbmRhbnRcbiAgICBjb25zdCBrZXkgPSBSZWFjdEVkaXRvci5maW5kS2V5KGVkaXRvciwgbilcbiAgICBjb25zdCByYW5nZSA9IEVkaXRvci5yYW5nZShlZGl0b3IsIHApXG4gICAgY29uc3Qgc2VsID0gc2VsZWN0aW9uICYmIFJhbmdlLmludGVyc2VjdGlvbihyYW5nZSwgc2VsZWN0aW9uKVxuICAgIGNvbnN0IGRzID0gZGVjb3JhdGUoW24sIHBdKVxuXG4gICAgZm9yIChjb25zdCBkZWMgb2YgZGVjb3JhdGlvbnMpIHtcbiAgICAgIGNvbnN0IGQgPSBSYW5nZS5pbnRlcnNlY3Rpb24oZGVjLCByYW5nZSlcblxuICAgICAgaWYgKGQpIHtcbiAgICAgICAgZHMucHVzaChkKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChFbGVtZW50LmlzRWxlbWVudChuKSkge1xuICAgICAgY2hpbGRyZW4ucHVzaChcbiAgICAgICAgPFNlbGVjdGVkQ29udGV4dC5Qcm92aWRlciBrZXk9e2Bwcm92aWRlci0ke2tleS5pZH1gfSB2YWx1ZT17ISFzZWx9PlxuICAgICAgICAgIDxFbGVtZW50Q29tcG9uZW50XG4gICAgICAgICAgICBkZWNvcmF0aW9ucz17ZHN9XG4gICAgICAgICAgICBlbGVtZW50PXtufVxuICAgICAgICAgICAga2V5PXtrZXkuaWR9XG4gICAgICAgICAgICByZW5kZXJFbGVtZW50PXtyZW5kZXJFbGVtZW50fVxuICAgICAgICAgICAgcmVuZGVyUGxhY2Vob2xkZXI9e3JlbmRlclBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgcmVuZGVyTGVhZj17cmVuZGVyTGVhZn1cbiAgICAgICAgICAgIHNlbGVjdGlvbj17c2VsfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvU2VsZWN0ZWRDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZHJlbi5wdXNoKFxuICAgICAgICA8VGV4dENvbXBvbmVudFxuICAgICAgICAgIGRlY29yYXRpb25zPXtkc31cbiAgICAgICAgICBrZXk9e2tleS5pZH1cbiAgICAgICAgICBpc0xhc3Q9e2lzTGVhZkJsb2NrICYmIGkgPT09IG5vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMX1cbiAgICAgICAgICBwYXJlbnQ9e25vZGV9XG4gICAgICAgICAgcmVuZGVyUGxhY2Vob2xkZXI9e3JlbmRlclBsYWNlaG9sZGVyfVxuICAgICAgICAgIHJlbmRlckxlYWY9e3JlbmRlckxlYWZ9XG4gICAgICAgICAgdGV4dD17bn1cbiAgICAgICAgLz5cbiAgICAgIClcbiAgICB9XG5cbiAgICBOT0RFX1RPX0lOREVYLnNldChuLCBpKVxuICAgIE5PREVfVE9fUEFSRU5ULnNldChuLCBub2RlKVxuICB9XG5cbiAgcmV0dXJuIGNoaWxkcmVuXG59XG5cbmV4cG9ydCBkZWZhdWx0IHVzZUNoaWxkcmVuXG4iLCJpbXBvcnQgeyBpc0tleUhvdGtleSB9IGZyb20gJ2lzLWhvdGtleSdcbmltcG9ydCB7IElTX0FQUExFIH0gZnJvbSAnLi9lbnZpcm9ubWVudCdcblxuLyoqXG4gKiBIb3RrZXkgbWFwcGluZ3MgZm9yIGVhY2ggcGxhdGZvcm0uXG4gKi9cblxuY29uc3QgSE9US0VZUyA9IHtcbiAgYm9sZDogJ21vZCtiJyxcbiAgY29tcG9zZTogWydkb3duJywgJ2xlZnQnLCAncmlnaHQnLCAndXAnLCAnYmFja3NwYWNlJywgJ2VudGVyJ10sXG4gIG1vdmVCYWNrd2FyZDogJ2xlZnQnLFxuICBtb3ZlRm9yd2FyZDogJ3JpZ2h0JyxcbiAgbW92ZVdvcmRCYWNrd2FyZDogJ2N0cmwrbGVmdCcsXG4gIG1vdmVXb3JkRm9yd2FyZDogJ2N0cmwrcmlnaHQnLFxuICBkZWxldGVCYWNrd2FyZDogJ3NoaWZ0PytiYWNrc3BhY2UnLFxuICBkZWxldGVGb3J3YXJkOiAnc2hpZnQ/K2RlbGV0ZScsXG4gIGV4dGVuZEJhY2t3YXJkOiAnc2hpZnQrbGVmdCcsXG4gIGV4dGVuZEZvcndhcmQ6ICdzaGlmdCtyaWdodCcsXG4gIGl0YWxpYzogJ21vZCtpJyxcbiAgaW5zZXJ0U29mdEJyZWFrOiAnc2hpZnQrZW50ZXInLFxuICBzcGxpdEJsb2NrOiAnZW50ZXInLFxuICB1bmRvOiAnbW9kK3onLFxufVxuXG5jb25zdCBBUFBMRV9IT1RLRVlTID0ge1xuICBtb3ZlTGluZUJhY2t3YXJkOiAnb3B0K3VwJyxcbiAgbW92ZUxpbmVGb3J3YXJkOiAnb3B0K2Rvd24nLFxuICBtb3ZlV29yZEJhY2t3YXJkOiAnb3B0K2xlZnQnLFxuICBtb3ZlV29yZEZvcndhcmQ6ICdvcHQrcmlnaHQnLFxuICBkZWxldGVCYWNrd2FyZDogWydjdHJsK2JhY2tzcGFjZScsICdjdHJsK2gnXSxcbiAgZGVsZXRlRm9yd2FyZDogWydjdHJsK2RlbGV0ZScsICdjdHJsK2QnXSxcbiAgZGVsZXRlTGluZUJhY2t3YXJkOiAnY21kK3NoaWZ0PytiYWNrc3BhY2UnLFxuICBkZWxldGVMaW5lRm9yd2FyZDogWydjbWQrc2hpZnQ/K2RlbGV0ZScsICdjdHJsK2snXSxcbiAgZGVsZXRlV29yZEJhY2t3YXJkOiAnb3B0K3NoaWZ0PytiYWNrc3BhY2UnLFxuICBkZWxldGVXb3JkRm9yd2FyZDogJ29wdCtzaGlmdD8rZGVsZXRlJyxcbiAgZXh0ZW5kTGluZUJhY2t3YXJkOiAnb3B0K3NoaWZ0K3VwJyxcbiAgZXh0ZW5kTGluZUZvcndhcmQ6ICdvcHQrc2hpZnQrZG93bicsXG4gIHJlZG86ICdjbWQrc2hpZnQreicsXG4gIHRyYW5zcG9zZUNoYXJhY3RlcjogJ2N0cmwrdCcsXG59XG5cbmNvbnN0IFdJTkRPV1NfSE9US0VZUyA9IHtcbiAgZGVsZXRlV29yZEJhY2t3YXJkOiAnY3RybCtzaGlmdD8rYmFja3NwYWNlJyxcbiAgZGVsZXRlV29yZEZvcndhcmQ6ICdjdHJsK3NoaWZ0PytkZWxldGUnLFxuICByZWRvOiBbJ2N0cmwreScsICdjdHJsK3NoaWZ0K3onXSxcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBwbGF0Zm9ybS1hd2FyZSBob3RrZXkgY2hlY2tlci5cbiAqL1xuXG5jb25zdCBjcmVhdGUgPSAoa2V5OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgZ2VuZXJpYyA9IEhPVEtFWVNba2V5XVxuICBjb25zdCBhcHBsZSA9IEFQUExFX0hPVEtFWVNba2V5XVxuICBjb25zdCB3aW5kb3dzID0gV0lORE9XU19IT1RLRVlTW2tleV1cbiAgY29uc3QgaXNHZW5lcmljID0gZ2VuZXJpYyAmJiBpc0tleUhvdGtleShnZW5lcmljKVxuICBjb25zdCBpc0FwcGxlID0gYXBwbGUgJiYgaXNLZXlIb3RrZXkoYXBwbGUpXG4gIGNvbnN0IGlzV2luZG93cyA9IHdpbmRvd3MgJiYgaXNLZXlIb3RrZXkod2luZG93cylcblxuICByZXR1cm4gKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgaWYgKGlzR2VuZXJpYyAmJiBpc0dlbmVyaWMoZXZlbnQpKSByZXR1cm4gdHJ1ZVxuICAgIGlmIChJU19BUFBMRSAmJiBpc0FwcGxlICYmIGlzQXBwbGUoZXZlbnQpKSByZXR1cm4gdHJ1ZVxuICAgIGlmICghSVNfQVBQTEUgJiYgaXNXaW5kb3dzICYmIGlzV2luZG93cyhldmVudCkpIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuLyoqXG4gKiBIb3RrZXlzLlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNCb2xkOiBjcmVhdGUoJ2JvbGQnKSxcbiAgaXNDb21wb3NlOiBjcmVhdGUoJ2NvbXBvc2UnKSxcbiAgaXNNb3ZlQmFja3dhcmQ6IGNyZWF0ZSgnbW92ZUJhY2t3YXJkJyksXG4gIGlzTW92ZUZvcndhcmQ6IGNyZWF0ZSgnbW92ZUZvcndhcmQnKSxcbiAgaXNEZWxldGVCYWNrd2FyZDogY3JlYXRlKCdkZWxldGVCYWNrd2FyZCcpLFxuICBpc0RlbGV0ZUZvcndhcmQ6IGNyZWF0ZSgnZGVsZXRlRm9yd2FyZCcpLFxuICBpc0RlbGV0ZUxpbmVCYWNrd2FyZDogY3JlYXRlKCdkZWxldGVMaW5lQmFja3dhcmQnKSxcbiAgaXNEZWxldGVMaW5lRm9yd2FyZDogY3JlYXRlKCdkZWxldGVMaW5lRm9yd2FyZCcpLFxuICBpc0RlbGV0ZVdvcmRCYWNrd2FyZDogY3JlYXRlKCdkZWxldGVXb3JkQmFja3dhcmQnKSxcbiAgaXNEZWxldGVXb3JkRm9yd2FyZDogY3JlYXRlKCdkZWxldGVXb3JkRm9yd2FyZCcpLFxuICBpc0V4dGVuZEJhY2t3YXJkOiBjcmVhdGUoJ2V4dGVuZEJhY2t3YXJkJyksXG4gIGlzRXh0ZW5kRm9yd2FyZDogY3JlYXRlKCdleHRlbmRGb3J3YXJkJyksXG4gIGlzRXh0ZW5kTGluZUJhY2t3YXJkOiBjcmVhdGUoJ2V4dGVuZExpbmVCYWNrd2FyZCcpLFxuICBpc0V4dGVuZExpbmVGb3J3YXJkOiBjcmVhdGUoJ2V4dGVuZExpbmVGb3J3YXJkJyksXG4gIGlzSXRhbGljOiBjcmVhdGUoJ2l0YWxpYycpLFxuICBpc01vdmVMaW5lQmFja3dhcmQ6IGNyZWF0ZSgnbW92ZUxpbmVCYWNrd2FyZCcpLFxuICBpc01vdmVMaW5lRm9yd2FyZDogY3JlYXRlKCdtb3ZlTGluZUZvcndhcmQnKSxcbiAgaXNNb3ZlV29yZEJhY2t3YXJkOiBjcmVhdGUoJ21vdmVXb3JkQmFja3dhcmQnKSxcbiAgaXNNb3ZlV29yZEZvcndhcmQ6IGNyZWF0ZSgnbW92ZVdvcmRGb3J3YXJkJyksXG4gIGlzUmVkbzogY3JlYXRlKCdyZWRvJyksXG4gIGlzU29mdEJyZWFrOiBjcmVhdGUoJ2luc2VydFNvZnRCcmVhaycpLFxuICBpc1NwbGl0QmxvY2s6IGNyZWF0ZSgnc3BsaXRCbG9jaycpLFxuICBpc1RyYW5zcG9zZUNoYXJhY3RlcjogY3JlYXRlKCd0cmFuc3Bvc2VDaGFyYWN0ZXInKSxcbiAgaXNVbmRvOiBjcmVhdGUoJ3VuZG8nKSxcbn1cbiIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcblxuLyoqXG4gKiBBIFJlYWN0IGNvbnRleHQgZm9yIHNoYXJpbmcgdGhlIGByZWFkT25seWAgc3RhdGUgb2YgdGhlIGVkaXRvci5cbiAqL1xuXG5leHBvcnQgY29uc3QgUmVhZE9ubHlDb250ZXh0ID0gY3JlYXRlQ29udGV4dChmYWxzZSlcblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgYHJlYWRPbmx5YCBzdGF0ZSBvZiB0aGUgZWRpdG9yLlxuICovXG5cbmV4cG9ydCBjb25zdCB1c2VSZWFkT25seSA9ICgpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoUmVhZE9ubHlDb250ZXh0KVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgRWRpdG9yIH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyBSZWFjdEVkaXRvciB9IGZyb20gJy4uL3BsdWdpbi9yZWFjdC1lZGl0b3InXG5cbi8qKlxuICogQSBSZWFjdCBjb250ZXh0IGZvciBzaGFyaW5nIHRoZSBlZGl0b3Igb2JqZWN0LCBpbiBhIHdheSB0aGF0IHJlLXJlbmRlcnMgdGhlXG4gKiBjb250ZXh0IHdoZW5ldmVyIGNoYW5nZXMgb2NjdXIuXG4gKi9cblxuZXhwb3J0IGNvbnN0IFNsYXRlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8W1JlYWN0RWRpdG9yXSB8IG51bGw+KG51bGwpXG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IGVkaXRvciBvYmplY3QgZnJvbSB0aGUgUmVhY3QgY29udGV4dC5cbiAqL1xuXG5leHBvcnQgY29uc3QgdXNlU2xhdGUgPSAoKTogRWRpdG9yID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoU2xhdGVDb250ZXh0KVxuXG4gIGlmICghY29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBUaGUgXFxgdXNlU2xhdGVcXGAgaG9vayBtdXN0IGJlIHVzZWQgaW5zaWRlIHRoZSA8U2xhdGU+IGNvbXBvbmVudCdzIGNvbnRleHQuYFxuICAgIClcbiAgfVxuXG4gIGNvbnN0IFtlZGl0b3JdID0gY29udGV4dFxuICByZXR1cm4gZWRpdG9yXG59XG4iLCIvKipcbiAqIFR5cGVzLlxuICovXG5cbi8vIENPTVBBVDogVGhpcyBpcyByZXF1aXJlZCB0byBwcmV2ZW50IFR5cGVTY3JpcHQgYWxpYXNlcyBmcm9tIGRvaW5nIHNvbWUgdmVyeVxuLy8gd2VpcmQgdGhpbmdzIGZvciBTbGF0ZSdzIHR5cGVzIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBnbG9iYWxzLiAoMjAxOS8xMS8yNylcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzUwMDJcbmltcG9ydCBET01Ob2RlID0gZ2xvYmFsVGhpcy5Ob2RlXG5pbXBvcnQgRE9NQ29tbWVudCA9IGdsb2JhbFRoaXMuQ29tbWVudFxuaW1wb3J0IERPTUVsZW1lbnQgPSBnbG9iYWxUaGlzLkVsZW1lbnRcbmltcG9ydCBET01UZXh0ID0gZ2xvYmFsVGhpcy5UZXh0XG5pbXBvcnQgRE9NUmFuZ2UgPSBnbG9iYWxUaGlzLlJhbmdlXG5pbXBvcnQgRE9NU2VsZWN0aW9uID0gZ2xvYmFsVGhpcy5TZWxlY3Rpb25cbmltcG9ydCBET01TdGF0aWNSYW5nZSA9IGdsb2JhbFRoaXMuU3RhdGljUmFuZ2VcblxuZXhwb3J0IHtcbiAgRE9NTm9kZSxcbiAgRE9NQ29tbWVudCxcbiAgRE9NRWxlbWVudCxcbiAgRE9NVGV4dCxcbiAgRE9NUmFuZ2UsXG4gIERPTVNlbGVjdGlvbixcbiAgRE9NU3RhdGljUmFuZ2UsXG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgU2VsZWN0aW9uOiB0eXBlb2YgU2VsZWN0aW9uWydjb25zdHJ1Y3RvciddXG4gICAgRGF0YVRyYW5zZmVyOiB0eXBlb2YgRGF0YVRyYW5zZmVyWydjb25zdHJ1Y3RvciddXG4gICAgTm9kZTogdHlwZW9mIE5vZGVbJ2NvbnN0cnVjdG9yJ11cbiAgfVxufVxuXG5leHBvcnQgdHlwZSBET01Qb2ludCA9IFtOb2RlLCBudW1iZXJdXG5cbi8qKlxuICogUmV0dXJucyB0aGUgaG9zdCB3aW5kb3cgb2YgYSBET00gbm9kZVxuICovXG5cbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0VmlldyA9ICh2YWx1ZTogYW55KTogV2luZG93IHwgbnVsbCA9PiB7XG4gIHJldHVybiAoXG4gICAgKHZhbHVlICYmIHZhbHVlLm93bmVyRG9jdW1lbnQgJiYgdmFsdWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykgfHwgbnVsbFxuICApXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBET00gbm9kZSBpcyBhIGNvbW1lbnQgbm9kZS5cbiAqL1xuXG5leHBvcnQgY29uc3QgaXNET01Db21tZW50ID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBET01Db21tZW50ID0+IHtcbiAgcmV0dXJuIGlzRE9NTm9kZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDhcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIERPTSBub2RlIGlzIGFuIGVsZW1lbnQgbm9kZS5cbiAqL1xuXG5leHBvcnQgY29uc3QgaXNET01FbGVtZW50ID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBET01FbGVtZW50ID0+IHtcbiAgcmV0dXJuIGlzRE9NTm9kZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDFcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHZhbHVlIGlzIGEgRE9NIG5vZGUuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGlzRE9NTm9kZSA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgRE9NTm9kZSA9PiB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldERlZmF1bHRWaWV3KHZhbHVlKVxuICByZXR1cm4gISF3aW5kb3cgJiYgdmFsdWUgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZVxufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgdmFsdWUgaXMgYSBET00gc2VsZWN0aW9uLlxuICovXG5cbmV4cG9ydCBjb25zdCBpc0RPTVNlbGVjdGlvbiA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgRE9NU2VsZWN0aW9uID0+IHtcbiAgY29uc3Qgd2luZG93ID0gdmFsdWUgJiYgdmFsdWUuYW5jaG9yTm9kZSAmJiBnZXREZWZhdWx0Vmlldyh2YWx1ZS5hbmNob3JOb2RlKVxuICByZXR1cm4gISF3aW5kb3cgJiYgdmFsdWUgaW5zdGFuY2VvZiB3aW5kb3cuU2VsZWN0aW9uXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBET00gbm9kZSBpcyBhbiBlbGVtZW50IG5vZGUuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGlzRE9NVGV4dCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgRE9NVGV4dCA9PiB7XG4gIHJldHVybiBpc0RPTU5vZGUodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAzXG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBwYXN0ZSBldmVudCBpcyBhIHBsYWludGV4dC1vbmx5IGV2ZW50LlxuICovXG5cbmV4cG9ydCBjb25zdCBpc1BsYWluVGV4dE9ubHlQYXN0ZSA9IChldmVudDogQ2xpcGJvYXJkRXZlbnQpID0+IHtcbiAgcmV0dXJuIChcbiAgICBldmVudC5jbGlwYm9hcmREYXRhICYmXG4gICAgZXZlbnQuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJykgIT09ICcnICYmXG4gICAgZXZlbnQuY2xpcGJvYXJkRGF0YS50eXBlcy5sZW5ndGggPT09IDFcbiAgKVxufVxuXG4vKipcbiAqIE5vcm1hbGl6ZSBhIERPTSBwb2ludCBzbyB0aGF0IGl0IGFsd2F5cyByZWZlcnMgdG8gYSB0ZXh0IG5vZGUuXG4gKi9cblxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZURPTVBvaW50ID0gKGRvbVBvaW50OiBET01Qb2ludCk6IERPTVBvaW50ID0+IHtcbiAgbGV0IFtub2RlLCBvZmZzZXRdID0gZG9tUG9pbnRcblxuICAvLyBJZiBpdCdzIGFuIGVsZW1lbnQgbm9kZSwgaXRzIG9mZnNldCByZWZlcnMgdG8gdGhlIGluZGV4IG9mIGl0cyBjaGlsZHJlblxuICAvLyBpbmNsdWRpbmcgY29tbWVudCBub2Rlcywgc28gdHJ5IHRvIGZpbmQgdGhlIHJpZ2h0IHRleHQgY2hpbGQgbm9kZS5cbiAgaWYgKGlzRE9NRWxlbWVudChub2RlKSAmJiBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgbGV0IGlzTGFzdCA9IG9mZnNldCA9PT0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aFxuICAgIGxldCBpbmRleCA9IGlzTGFzdCA/IG9mZnNldCAtIDEgOiBvZmZzZXRcbiAgICA7W25vZGUsIGluZGV4XSA9IGdldEVkaXRhYmxlQ2hpbGRBbmRJbmRleChcbiAgICAgIG5vZGUsXG4gICAgICBpbmRleCxcbiAgICAgIGlzTGFzdCA/ICdiYWNrd2FyZCcgOiAnZm9yd2FyZCdcbiAgICApXG4gICAgLy8gSWYgdGhlIGVkaXRhYmxlIGNoaWxkIGZvdW5kIGlzIGluIGZyb250IG9mIGlucHV0IG9mZnNldCwgd2UgaW5zdGVhZCBzZWVrIHRvIGl0cyBlbmRcbiAgICBpc0xhc3QgPSBpbmRleCA8IG9mZnNldFxuXG4gICAgLy8gSWYgdGhlIG5vZGUgaGFzIGNoaWxkcmVuLCB0cmF2ZXJzZSB1bnRpbCB3ZSBoYXZlIGEgbGVhZiBub2RlLiBMZWFmIG5vZGVzXG4gICAgLy8gY2FuIGJlIGVpdGhlciB0ZXh0IG5vZGVzLCBvciBvdGhlciB2b2lkIERPTSBub2Rlcy5cbiAgICB3aGlsZSAoaXNET01FbGVtZW50KG5vZGUpICYmIG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGkgPSBpc0xhc3QgPyBub2RlLmNoaWxkTm9kZXMubGVuZ3RoIC0gMSA6IDBcbiAgICAgIG5vZGUgPSBnZXRFZGl0YWJsZUNoaWxkKG5vZGUsIGksIGlzTGFzdCA/ICdiYWNrd2FyZCcgOiAnZm9yd2FyZCcpXG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIHRoZSBuZXcgb2Zmc2V0IGluc2lkZSB0aGUgdGV4dCBub2RlLlxuICAgIG9mZnNldCA9IGlzTGFzdCAmJiBub2RlLnRleHRDb250ZW50ICE9IG51bGwgPyBub2RlLnRleHRDb250ZW50Lmxlbmd0aCA6IDBcbiAgfVxuXG4gIC8vIFJldHVybiB0aGUgbm9kZSBhbmQgb2Zmc2V0LlxuICByZXR1cm4gW25vZGUsIG9mZnNldF1cbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdldGhlciB0aGUgYWN0aXZlIGVsZW1lbnQgaXMgbmVzdGVkIHdpdGhpbiBhIHNoYWRvd1Jvb3RcbiAqL1xuXG5leHBvcnQgY29uc3QgaGFzU2hhZG93Um9vdCA9ICgpID0+IHtcbiAgcmV0dXJuICEhKFxuICAgIHdpbmRvdy5kb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5hY3RpdmVFbGVtZW50LnNoYWRvd1Jvb3RcbiAgKVxufVxuXG4vKipcbiAqIEdldCB0aGUgbmVhcmVzdCBlZGl0YWJsZSBjaGlsZCBhbmQgaW5kZXggYXQgYGluZGV4YCBpbiBhIGBwYXJlbnRgLCBwcmVmZXJyaW5nXG4gKiBgZGlyZWN0aW9uYC5cbiAqL1xuXG5leHBvcnQgY29uc3QgZ2V0RWRpdGFibGVDaGlsZEFuZEluZGV4ID0gKFxuICBwYXJlbnQ6IERPTUVsZW1lbnQsXG4gIGluZGV4OiBudW1iZXIsXG4gIGRpcmVjdGlvbjogJ2ZvcndhcmQnIHwgJ2JhY2t3YXJkJ1xuKTogW0RPTU5vZGUsIG51bWJlcl0gPT4ge1xuICBjb25zdCB7IGNoaWxkTm9kZXMgfSA9IHBhcmVudFxuICBsZXQgY2hpbGQgPSBjaGlsZE5vZGVzW2luZGV4XVxuICBsZXQgaSA9IGluZGV4XG4gIGxldCB0cmllZEZvcndhcmQgPSBmYWxzZVxuICBsZXQgdHJpZWRCYWNrd2FyZCA9IGZhbHNlXG5cbiAgLy8gV2hpbGUgdGhlIGNoaWxkIGlzIGEgY29tbWVudCBub2RlLCBvciBhbiBlbGVtZW50IG5vZGUgd2l0aCBubyBjaGlsZHJlbixcbiAgLy8ga2VlcCBpdGVyYXRpbmcgdG8gZmluZCBhIHNpYmxpbmcgbm9uLXZvaWQsIG5vbi1jb21tZW50IG5vZGUuXG4gIHdoaWxlIChcbiAgICBpc0RPTUNvbW1lbnQoY2hpbGQpIHx8XG4gICAgKGlzRE9NRWxlbWVudChjaGlsZCkgJiYgY2hpbGQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDApIHx8XG4gICAgKGlzRE9NRWxlbWVudChjaGlsZCkgJiYgY2hpbGQuZ2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSA9PT0gJ2ZhbHNlJylcbiAgKSB7XG4gICAgaWYgKHRyaWVkRm9yd2FyZCAmJiB0cmllZEJhY2t3YXJkKSB7XG4gICAgICBicmVha1xuICAgIH1cblxuICAgIGlmIChpID49IGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICB0cmllZEZvcndhcmQgPSB0cnVlXG4gICAgICBpID0gaW5kZXggLSAxXG4gICAgICBkaXJlY3Rpb24gPSAnYmFja3dhcmQnXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGlmIChpIDwgMCkge1xuICAgICAgdHJpZWRCYWNrd2FyZCA9IHRydWVcbiAgICAgIGkgPSBpbmRleCArIDFcbiAgICAgIGRpcmVjdGlvbiA9ICdmb3J3YXJkJ1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBjaGlsZCA9IGNoaWxkTm9kZXNbaV1cbiAgICBpbmRleCA9IGlcbiAgICBpICs9IGRpcmVjdGlvbiA9PT0gJ2ZvcndhcmQnID8gMSA6IC0xXG4gIH1cblxuICByZXR1cm4gW2NoaWxkLCBpbmRleF1cbn1cblxuLyoqXG4gKiBHZXQgdGhlIG5lYXJlc3QgZWRpdGFibGUgY2hpbGQgYXQgYGluZGV4YCBpbiBhIGBwYXJlbnRgLCBwcmVmZXJyaW5nXG4gKiBgZGlyZWN0aW9uYC5cbiAqL1xuXG5leHBvcnQgY29uc3QgZ2V0RWRpdGFibGVDaGlsZCA9IChcbiAgcGFyZW50OiBET01FbGVtZW50LFxuICBpbmRleDogbnVtYmVyLFxuICBkaXJlY3Rpb246ICdmb3J3YXJkJyB8ICdiYWNrd2FyZCdcbik6IERPTU5vZGUgPT4ge1xuICBjb25zdCBbY2hpbGRdID0gZ2V0RWRpdGFibGVDaGlsZEFuZEluZGV4KHBhcmVudCwgaW5kZXgsIGRpcmVjdGlvbilcbiAgcmV0dXJuIGNoaWxkXG59XG5cbi8qKlxuICogR2V0IGEgcGxhaW50ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb250ZW50IG9mIGEgbm9kZSwgYWNjb3VudGluZyBmb3IgYmxvY2tcbiAqIGVsZW1lbnRzIHdoaWNoIGdldCBhIG5ld2xpbmUgYXBwZW5kZWQuXG4gKlxuICogVGhlIGRvbU5vZGUgbXVzdCBiZSBhdHRhY2hlZCB0byB0aGUgRE9NLlxuICovXG5cbmV4cG9ydCBjb25zdCBnZXRQbGFpblRleHQgPSAoZG9tTm9kZTogRE9NTm9kZSkgPT4ge1xuICBsZXQgdGV4dCA9ICcnXG5cbiAgaWYgKGlzRE9NVGV4dChkb21Ob2RlKSAmJiBkb21Ob2RlLm5vZGVWYWx1ZSkge1xuICAgIHJldHVybiBkb21Ob2RlLm5vZGVWYWx1ZVxuICB9XG5cbiAgaWYgKGlzRE9NRWxlbWVudChkb21Ob2RlKSkge1xuICAgIGZvciAoY29uc3QgY2hpbGROb2RlIG9mIEFycmF5LmZyb20oZG9tTm9kZS5jaGlsZE5vZGVzKSkge1xuICAgICAgdGV4dCArPSBnZXRQbGFpblRleHQoY2hpbGROb2RlKVxuICAgIH1cblxuICAgIGNvbnN0IGRpc3BsYXkgPSBnZXRDb21wdXRlZFN0eWxlKGRvbU5vZGUpLmdldFByb3BlcnR5VmFsdWUoJ2Rpc3BsYXknKVxuXG4gICAgaWYgKGRpc3BsYXkgPT09ICdibG9jaycgfHwgZGlzcGxheSA9PT0gJ2xpc3QnIHx8IGRvbU5vZGUudGFnTmFtZSA9PT0gJ0JSJykge1xuICAgICAgdGV4dCArPSAnXFxuJ1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0ZXh0XG59XG5cbi8qKlxuICogR2V0IHgtc2xhdGUtZnJhZ21lbnQgYXR0cmlidXRlIGZyb20gZGF0YS1zbGF0ZS1mcmFnbWVudFxuICovXG5jb25zdCBjYXRjaFNsYXRlRnJhZ21lbnQgPSAvZGF0YS1zbGF0ZS1mcmFnbWVudD1cIiguKz8pXCIvbVxuZXhwb3J0IGNvbnN0IGdldFNsYXRlRnJhZ21lbnRBdHRyaWJ1dGUgPSAoXG4gIGRhdGFUcmFuc2ZlcjogRGF0YVRyYW5zZmVyXG4pOiBzdHJpbmcgfCB2b2lkID0+IHtcbiAgY29uc3QgaHRtbERhdGEgPSBkYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9odG1sJylcbiAgY29uc3QgWywgZnJhZ21lbnRdID0gaHRtbERhdGEubWF0Y2goY2F0Y2hTbGF0ZUZyYWdtZW50KSB8fCBbXVxuICByZXR1cm4gZnJhZ21lbnRcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHgtc2xhdGUtZnJhZ21lbnQgYXR0cmlidXRlIHRoYXQgZXhpc3QgaW4gdGV4dC9odG1sIGRhdGFcbiAqIGFuZCBhcHBlbmQgaXQgdG8gdGhlIERhdGFUcmFuc2ZlciBvYmplY3RcbiAqL1xuZXhwb3J0IGNvbnN0IGdldENsaXBib2FyZERhdGEgPSAoZGF0YVRyYW5zZmVyOiBEYXRhVHJhbnNmZXIpOiBEYXRhVHJhbnNmZXIgPT4ge1xuICBpZiAoIWRhdGFUcmFuc2Zlci5nZXREYXRhKCdhcHBsaWNhdGlvbi94LXNsYXRlLWZyYWdtZW50JykpIHtcbiAgICBjb25zdCBmcmFnbWVudCA9IGdldFNsYXRlRnJhZ21lbnRBdHRyaWJ1dGUoZGF0YVRyYW5zZmVyKVxuICAgIGlmIChmcmFnbWVudCkge1xuICAgICAgY29uc3QgY2xpcGJvYXJkRGF0YSA9IG5ldyBEYXRhVHJhbnNmZXIoKVxuICAgICAgZGF0YVRyYW5zZmVyLnR5cGVzLmZvckVhY2godHlwZSA9PiB7XG4gICAgICAgIGNsaXBib2FyZERhdGEuc2V0RGF0YSh0eXBlLCBkYXRhVHJhbnNmZXIuZ2V0RGF0YSh0eXBlKSlcbiAgICAgIH0pXG4gICAgICBjbGlwYm9hcmREYXRhLnNldERhdGEoJ2FwcGxpY2F0aW9uL3gtc2xhdGUtZnJhZ21lbnQnLCBmcmFnbWVudClcbiAgICAgIHJldHVybiBjbGlwYm9hcmREYXRhXG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhVHJhbnNmZXJcbn1cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlTWVtbywgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQge1xuICBFZGl0b3IsXG4gIEVsZW1lbnQsXG4gIE5vZGVFbnRyeSxcbiAgTm9kZSxcbiAgUmFuZ2UsXG4gIFRleHQsXG4gIFRyYW5zZm9ybXMsXG4gIFBhdGgsXG4gIFJhbmdlUmVmLFxufSBmcm9tICdzbGF0ZSdcbmltcG9ydCBnZXREaXJlY3Rpb24gZnJvbSAnZGlyZWN0aW9uJ1xuaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSdcbmltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gvdGhyb3R0bGUnXG5pbXBvcnQgc2Nyb2xsSW50b1ZpZXcgZnJvbSAnc2Nyb2xsLWludG8tdmlldy1pZi1uZWVkZWQnXG5cbmltcG9ydCB1c2VDaGlsZHJlbiBmcm9tICcuLi9ob29rcy91c2UtY2hpbGRyZW4nXG5pbXBvcnQgSG90a2V5cyBmcm9tICcuLi91dGlscy9ob3RrZXlzJ1xuaW1wb3J0IHtcbiAgSEFTX0JFRk9SRV9JTlBVVF9TVVBQT1JULFxuICBJU19JT1MsXG4gIElTX0NIUk9NRSxcbiAgSVNfRklSRUZPWCxcbiAgSVNfRklSRUZPWF9MRUdBQ1ksXG4gIElTX1FRQlJPV1NFUixcbiAgSVNfU0FGQVJJLFxuICBJU19VQ19NT0JJTEUsXG4gIElTX1dFQ0hBVEJST1dTRVIsXG4gIENBTl9VU0VfRE9NLFxufSBmcm9tICcuLi91dGlscy9lbnZpcm9ubWVudCdcbmltcG9ydCB7IFJlYWN0RWRpdG9yIH0gZnJvbSAnLi4nXG5pbXBvcnQgeyBSZWFkT25seUNvbnRleHQgfSBmcm9tICcuLi9ob29rcy91c2UtcmVhZC1vbmx5J1xuaW1wb3J0IHsgdXNlU2xhdGUgfSBmcm9tICcuLi9ob29rcy91c2Utc2xhdGUnXG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4vaG9va3MvdXNlLWlzb21vcnBoaWMtbGF5b3V0LWVmZmVjdCdcbmltcG9ydCB7IERlY29yYXRlQ29udGV4dCB9IGZyb20gJy4uL2hvb2tzL3VzZS1kZWNvcmF0ZSdcbmltcG9ydCB7XG4gIERPTUVsZW1lbnQsXG4gIERPTU5vZGUsXG4gIERPTVJhbmdlLFxuICBnZXREZWZhdWx0VmlldyxcbiAgaXNET01FbGVtZW50LFxuICBpc0RPTU5vZGUsXG4gIGlzUGxhaW5UZXh0T25seVBhc3RlLFxuICBET01UZXh0LFxufSBmcm9tICcuLi91dGlscy9kb20nXG5cbmltcG9ydCB7XG4gIEVESVRPUl9UT19FTEVNRU5ULFxuICBFTEVNRU5UX1RPX05PREUsXG4gIElTX1JFQURfT05MWSxcbiAgTk9ERV9UT19FTEVNRU5ULFxuICBJU19GT0NVU0VELFxuICBQTEFDRUhPTERFUl9TWU1CT0wsXG4gIEVESVRPUl9UT19XSU5ET1csXG4gIEVESVRPUl9UT19VU0VSX1NFTEVDVElPTixcbiAgSVNfQ09NUE9TSU5HLFxufSBmcm9tICcuLi91dGlscy93ZWFrLW1hcHMnXG5pbXBvcnQgeyBUUklQTEVfQ0xJQ0sgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnXG5cbnR5cGUgRGVmZXJyZWRPcGVyYXRpb24gPSAoKSA9PiB2b2lkXG5cbmNvbnN0IENoaWxkcmVuID0gKHByb3BzOiBQYXJhbWV0ZXJzPHR5cGVvZiB1c2VDaGlsZHJlbj5bMF0pID0+IChcbiAgPFJlYWN0LkZyYWdtZW50Pnt1c2VDaGlsZHJlbihwcm9wcyl9PC9SZWFjdC5GcmFnbWVudD5cbilcblxuLyoqXG4gKiBgUmVuZGVyRWxlbWVudFByb3BzYCBhcmUgcGFzc2VkIHRvIHRoZSBgcmVuZGVyRWxlbWVudGAgaGFuZGxlci5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlckVsZW1lbnRQcm9wcyB7XG4gIGNoaWxkcmVuOiBhbnlcbiAgZWxlbWVudDogRWxlbWVudFxuICBhdHRyaWJ1dGVzOiB7XG4gICAgJ2RhdGEtc2xhdGUtbm9kZSc6ICdlbGVtZW50J1xuICAgICdkYXRhLXNsYXRlLWlubGluZSc/OiB0cnVlXG4gICAgJ2RhdGEtc2xhdGUtdm9pZCc/OiB0cnVlXG4gICAgZGlyPzogJ3J0bCdcbiAgICByZWY6IGFueVxuICB9XG59XG5cbi8qKlxuICogYFJlbmRlckxlYWZQcm9wc2AgYXJlIHBhc3NlZCB0byB0aGUgYHJlbmRlckxlYWZgIGhhbmRsZXIuXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJMZWFmUHJvcHMge1xuICBjaGlsZHJlbjogYW55XG4gIGxlYWY6IFRleHRcbiAgdGV4dDogVGV4dFxuICBhdHRyaWJ1dGVzOiB7XG4gICAgJ2RhdGEtc2xhdGUtbGVhZic6IHRydWVcbiAgfVxufVxuXG4vKipcbiAqIGBFZGl0YWJsZVByb3BzYCBhcmUgcGFzc2VkIHRvIHRoZSBgPEVkaXRhYmxlPmAgY29tcG9uZW50LlxuICovXG5cbmV4cG9ydCB0eXBlIEVkaXRhYmxlUHJvcHMgPSB7XG4gIGRlY29yYXRlPzogKGVudHJ5OiBOb2RlRW50cnkpID0+IFJhbmdlW11cbiAgb25ET01CZWZvcmVJbnB1dD86IChldmVudDogSW5wdXRFdmVudCkgPT4gdm9pZFxuICBwbGFjZWhvbGRlcj86IHN0cmluZ1xuICByZWFkT25seT86IGJvb2xlYW5cbiAgcm9sZT86IHN0cmluZ1xuICBzdHlsZT86IFJlYWN0LkNTU1Byb3BlcnRpZXNcbiAgcmVuZGVyRWxlbWVudD86IChwcm9wczogUmVuZGVyRWxlbWVudFByb3BzKSA9PiBKU1guRWxlbWVudFxuICByZW5kZXJMZWFmPzogKHByb3BzOiBSZW5kZXJMZWFmUHJvcHMpID0+IEpTWC5FbGVtZW50XG4gIHJlbmRlclBsYWNlaG9sZGVyPzogKHByb3BzOiBSZW5kZXJQbGFjZWhvbGRlclByb3BzKSA9PiBKU1guRWxlbWVudFxuICBzY3JvbGxTZWxlY3Rpb25JbnRvVmlldz86IChlZGl0b3I6IFJlYWN0RWRpdG9yLCBkb21SYW5nZTogRE9NUmFuZ2UpID0+IHZvaWRcbiAgYXM/OiBSZWFjdC5FbGVtZW50VHlwZVxufSAmIFJlYWN0LlRleHRhcmVhSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+XG5cbi8qKlxuICogRWRpdGFibGUuXG4gKi9cblxuZXhwb3J0IGNvbnN0IEVkaXRhYmxlID0gKHByb3BzOiBFZGl0YWJsZVByb3BzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBhdXRvRm9jdXMsXG4gICAgZGVjb3JhdGUgPSBkZWZhdWx0RGVjb3JhdGUsXG4gICAgb25ET01CZWZvcmVJbnB1dDogcHJvcHNPbkRPTUJlZm9yZUlucHV0LFxuICAgIHBsYWNlaG9sZGVyLFxuICAgIHJlYWRPbmx5ID0gZmFsc2UsXG4gICAgcmVuZGVyRWxlbWVudCxcbiAgICByZW5kZXJMZWFmLFxuICAgIHJlbmRlclBsYWNlaG9sZGVyID0gcHJvcHMgPT4gPERlZmF1bHRQbGFjZWhvbGRlciB7Li4ucHJvcHN9IC8+LFxuICAgIHNjcm9sbFNlbGVjdGlvbkludG9WaWV3ID0gZGVmYXVsdFNjcm9sbFNlbGVjdGlvbkludG9WaWV3LFxuICAgIHN0eWxlID0ge30sXG4gICAgYXM6IENvbXBvbmVudCA9ICdkaXYnLFxuICAgIC4uLmF0dHJpYnV0ZXNcbiAgfSA9IHByb3BzXG4gIGNvbnN0IGVkaXRvciA9IHVzZVNsYXRlKClcbiAgLy8gUmVyZW5kZXIgZWRpdG9yIHdoZW4gY29tcG9zaXRpb24gc3RhdHVzIGNoYW5nZWRcbiAgY29uc3QgW2lzQ29tcG9zaW5nLCBzZXRJc0NvbXBvc2luZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxuICBjb25zdCBkZWZlcnJlZE9wZXJhdGlvbnMgPSB1c2VSZWY8RGVmZXJyZWRPcGVyYXRpb25bXT4oW10pXG5cbiAgLy8gVXBkYXRlIGludGVybmFsIHN0YXRlIG9uIGVhY2ggcmVuZGVyLlxuICBJU19SRUFEX09OTFkuc2V0KGVkaXRvciwgcmVhZE9ubHkpXG5cbiAgLy8gS2VlcCB0cmFjayBvZiBzb21lIHN0YXRlIGZvciB0aGUgZXZlbnQgaGFuZGxlciBsb2dpYy5cbiAgY29uc3Qgc3RhdGUgPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBoYXNJbnNlcnRQcmVmaXhJbkNvbXBvc2l0b246IGZhbHNlLFxuICAgICAgaXNEcmFnZ2luZ0ludGVybmFsbHk6IGZhbHNlLFxuICAgICAgaXNVcGRhdGluZ1NlbGVjdGlvbjogZmFsc2UsXG4gICAgICBsYXRlc3RFbGVtZW50OiBudWxsIGFzIERPTUVsZW1lbnQgfCBudWxsLFxuICAgIH0pLFxuICAgIFtdXG4gIClcblxuICAvLyBXaGVuZXZlciB0aGUgZWRpdG9yIHVwZGF0ZXMuLi5cbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgLy8gVXBkYXRlIGVsZW1lbnQtcmVsYXRlZCB3ZWFrIG1hcHMgd2l0aCB0aGUgRE9NIGVsZW1lbnQgcmVmLlxuICAgIGxldCB3aW5kb3dcbiAgICBpZiAocmVmLmN1cnJlbnQgJiYgKHdpbmRvdyA9IGdldERlZmF1bHRWaWV3KHJlZi5jdXJyZW50KSkpIHtcbiAgICAgIEVESVRPUl9UT19XSU5ET1cuc2V0KGVkaXRvciwgd2luZG93KVxuICAgICAgRURJVE9SX1RPX0VMRU1FTlQuc2V0KGVkaXRvciwgcmVmLmN1cnJlbnQpXG4gICAgICBOT0RFX1RPX0VMRU1FTlQuc2V0KGVkaXRvciwgcmVmLmN1cnJlbnQpXG4gICAgICBFTEVNRU5UX1RPX05PREUuc2V0KHJlZi5jdXJyZW50LCBlZGl0b3IpXG4gICAgfSBlbHNlIHtcbiAgICAgIE5PREVfVE9fRUxFTUVOVC5kZWxldGUoZWRpdG9yKVxuICAgIH1cblxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgRE9NIHNlbGVjdGlvbiBzdGF0ZSBpcyBpbiBzeW5jLlxuICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBlZGl0b3JcbiAgICBjb25zdCByb290ID0gUmVhY3RFZGl0b3IuZmluZERvY3VtZW50T3JTaGFkb3dSb290KGVkaXRvcilcbiAgICBjb25zdCBkb21TZWxlY3Rpb24gPSByb290LmdldFNlbGVjdGlvbigpXG5cbiAgICBpZiAoXG4gICAgICBSZWFjdEVkaXRvci5pc0NvbXBvc2luZyhlZGl0b3IpIHx8XG4gICAgICAhZG9tU2VsZWN0aW9uIHx8XG4gICAgICAhUmVhY3RFZGl0b3IuaXNGb2N1c2VkKGVkaXRvcilcbiAgICApIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IGhhc0RvbVNlbGVjdGlvbiA9IGRvbVNlbGVjdGlvbi50eXBlICE9PSAnTm9uZSdcblxuICAgIC8vIElmIHRoZSBET00gc2VsZWN0aW9uIGlzIHByb3Blcmx5IHVuc2V0LCB3ZSdyZSBkb25lLlxuICAgIGlmICghc2VsZWN0aW9uICYmICFoYXNEb21TZWxlY3Rpb24pIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIHZlcmlmeSB0aGF0IHRoZSBkb20gc2VsZWN0aW9uIGlzIGluIHRoZSBlZGl0b3JcbiAgICBjb25zdCBlZGl0b3JFbGVtZW50ID0gRURJVE9SX1RPX0VMRU1FTlQuZ2V0KGVkaXRvcikhXG4gICAgbGV0IGhhc0RvbVNlbGVjdGlvbkluRWRpdG9yID0gZmFsc2VcbiAgICBpZiAoXG4gICAgICBlZGl0b3JFbGVtZW50LmNvbnRhaW5zKGRvbVNlbGVjdGlvbi5hbmNob3JOb2RlKSAmJlxuICAgICAgZWRpdG9yRWxlbWVudC5jb250YWlucyhkb21TZWxlY3Rpb24uZm9jdXNOb2RlKVxuICAgICkge1xuICAgICAgaGFzRG9tU2VsZWN0aW9uSW5FZGl0b3IgPSB0cnVlXG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIERPTSBzZWxlY3Rpb24gaXMgaW4gdGhlIGVkaXRvciBhbmQgdGhlIGVkaXRvciBzZWxlY3Rpb24gaXMgYWxyZWFkeSBjb3JyZWN0LCB3ZSdyZSBkb25lLlxuICAgIGlmIChoYXNEb21TZWxlY3Rpb24gJiYgaGFzRG9tU2VsZWN0aW9uSW5FZGl0b3IgJiYgc2VsZWN0aW9uKSB7XG4gICAgICBjb25zdCBzbGF0ZVJhbmdlID0gUmVhY3RFZGl0b3IudG9TbGF0ZVJhbmdlKGVkaXRvciwgZG9tU2VsZWN0aW9uLCB7XG4gICAgICAgIGV4YWN0TWF0Y2g6IHRydWUsXG5cbiAgICAgICAgLy8gZG9tU2VsZWN0aW9uIGlzIG5vdCBuZWNlc3NhcmlseSBhIHZhbGlkIFNsYXRlIHJhbmdlXG4gICAgICAgIC8vIChlLmcuIHdoZW4gY2xpY2tpbmcgb24gY29udGVudEVkaXRhYmxlOmZhbHNlIGVsZW1lbnQpXG4gICAgICAgIHN1cHByZXNzVGhyb3c6IHRydWUsXG4gICAgICB9KVxuICAgICAgaWYgKHNsYXRlUmFuZ2UgJiYgUmFuZ2UuZXF1YWxzKHNsYXRlUmFuZ2UsIHNlbGVjdGlvbikpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gd2hlbiA8RWRpdGFibGUvPiBpcyBiZWluZyBjb250cm9sbGVkIHRocm91Z2ggZXh0ZXJuYWwgdmFsdWVcbiAgICAvLyB0aGVuIGl0cyBjaGlsZHJlbiBtaWdodCBqdXN0IGNoYW5nZSAtIERPTSByZXNwb25kcyB0byBpdCBvbiBpdHMgb3duXG4gICAgLy8gYnV0IFNsYXRlJ3MgdmFsdWUgaXMgbm90IGJlaW5nIHVwZGF0ZWQgdGhyb3VnaCBhbnkgb3BlcmF0aW9uXG4gICAgLy8gYW5kIHRodXMgaXQgZG9lc24ndCB0cmFuc2Zvcm0gc2VsZWN0aW9uIG9uIGl0cyBvd25cbiAgICBpZiAoc2VsZWN0aW9uICYmICFSZWFjdEVkaXRvci5oYXNSYW5nZShlZGl0b3IsIHNlbGVjdGlvbikpIHtcbiAgICAgIGVkaXRvci5zZWxlY3Rpb24gPSBSZWFjdEVkaXRvci50b1NsYXRlUmFuZ2UoZWRpdG9yLCBkb21TZWxlY3Rpb24sIHtcbiAgICAgICAgZXhhY3RNYXRjaDogZmFsc2UsXG4gICAgICAgIHN1cHByZXNzVGhyb3c6IGZhbHNlLFxuICAgICAgfSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIE90aGVyd2lzZSB0aGUgRE9NIHNlbGVjdGlvbiBpcyBvdXQgb2Ygc3luYywgc28gdXBkYXRlIGl0LlxuICAgIHN0YXRlLmlzVXBkYXRpbmdTZWxlY3Rpb24gPSB0cnVlXG5cbiAgICBjb25zdCBuZXdEb21SYW5nZSA9IHNlbGVjdGlvbiAmJiBSZWFjdEVkaXRvci50b0RPTVJhbmdlKGVkaXRvciwgc2VsZWN0aW9uKVxuICAgIGlmIChuZXdEb21SYW5nZSkge1xuICAgICAgaWYgKFJhbmdlLmlzQmFja3dhcmQoc2VsZWN0aW9uISkpIHtcbiAgICAgICAgZG9tU2VsZWN0aW9uLnNldEJhc2VBbmRFeHRlbnQoXG4gICAgICAgICAgbmV3RG9tUmFuZ2UuZW5kQ29udGFpbmVyLFxuICAgICAgICAgIG5ld0RvbVJhbmdlLmVuZE9mZnNldCxcbiAgICAgICAgICBuZXdEb21SYW5nZS5zdGFydENvbnRhaW5lcixcbiAgICAgICAgICBuZXdEb21SYW5nZS5zdGFydE9mZnNldFxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb21TZWxlY3Rpb24uc2V0QmFzZUFuZEV4dGVudChcbiAgICAgICAgICBuZXdEb21SYW5nZS5zdGFydENvbnRhaW5lcixcbiAgICAgICAgICBuZXdEb21SYW5nZS5zdGFydE9mZnNldCxcbiAgICAgICAgICBuZXdEb21SYW5nZS5lbmRDb250YWluZXIsXG4gICAgICAgICAgbmV3RG9tUmFuZ2UuZW5kT2Zmc2V0XG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHNjcm9sbFNlbGVjdGlvbkludG9WaWV3KGVkaXRvciwgbmV3RG9tUmFuZ2UpXG4gICAgfSBlbHNlIHtcbiAgICAgIGRvbVNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKVxuICAgIH1cblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gQ09NUEFUOiBJbiBGaXJlZm94LCBpdCdzIG5vdCBlbm91Z2ggdG8gY3JlYXRlIGEgcmFuZ2UsIHlvdSBhbHNvIG5lZWRcbiAgICAgIC8vIHRvIGZvY3VzIHRoZSBjb250ZW50ZWRpdGFibGUgZWxlbWVudCB0b28uICgyMDE2LzExLzE2KVxuICAgICAgaWYgKG5ld0RvbVJhbmdlICYmIElTX0ZJUkVGT1gpIHtcbiAgICAgICAgY29uc3QgZWwgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBlZGl0b3IpXG4gICAgICAgIGVsLmZvY3VzKClcbiAgICAgIH1cblxuICAgICAgc3RhdGUuaXNVcGRhdGluZ1NlbGVjdGlvbiA9IGZhbHNlXG4gICAgfSlcbiAgfSlcblxuICAvLyBUaGUgYXV0b0ZvY3VzIFRleHRhcmVhSFRNTEF0dHJpYnV0ZSBkb2Vzbid0IGRvIGFueXRoaW5nIG9uIGEgZGl2LCBzbyBpdFxuICAvLyBuZWVkcyB0byBiZSBtYW51YWxseSBmb2N1c2VkLlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyZWYuY3VycmVudCAmJiBhdXRvRm9jdXMpIHtcbiAgICAgIHJlZi5jdXJyZW50LmZvY3VzKClcbiAgICB9XG4gIH0sIFthdXRvRm9jdXNdKVxuXG4gIC8vIExpc3RlbiBvbiB0aGUgbmF0aXZlIGBzZWxlY3Rpb25jaGFuZ2VgIGV2ZW50IHRvIGJlIGFibGUgdG8gdXBkYXRlIGFueSB0aW1lXG4gIC8vIHRoZSBzZWxlY3Rpb24gY2hhbmdlcy4gVGhpcyBpcyByZXF1aXJlZCBiZWNhdXNlIFJlYWN0J3MgYG9uU2VsZWN0YCBpcyBsZWFreVxuICAvLyBhbmQgbm9uLXN0YW5kYXJkIHNvIGl0IGRvZXNuJ3QgZmlyZSB1bnRpbCBhZnRlciBhIHNlbGVjdGlvbiBoYXMgYmVlblxuICAvLyByZWxlYXNlZC4gVGhpcyBjYXVzZXMgaXNzdWVzIGluIHNpdHVhdGlvbnMgd2hlcmUgYW5vdGhlciBjaGFuZ2UgaGFwcGVuc1xuICAvLyB3aGlsZSBhIHNlbGVjdGlvbiBpcyBiZWluZyBkcmFnZ2VkLlxuICBjb25zdCBvbkRPTVNlbGVjdGlvbkNoYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgIHRocm90dGxlKCgpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgIVJlYWN0RWRpdG9yLmlzQ29tcG9zaW5nKGVkaXRvcikgJiZcbiAgICAgICAgIXN0YXRlLmlzVXBkYXRpbmdTZWxlY3Rpb24gJiZcbiAgICAgICAgIXN0YXRlLmlzRHJhZ2dpbmdJbnRlcm5hbGx5XG4gICAgICApIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IFJlYWN0RWRpdG9yLmZpbmREb2N1bWVudE9yU2hhZG93Um9vdChlZGl0b3IpXG4gICAgICAgIGNvbnN0IHsgYWN0aXZlRWxlbWVudCB9ID0gcm9vdFxuICAgICAgICBjb25zdCBlbCA9IFJlYWN0RWRpdG9yLnRvRE9NTm9kZShlZGl0b3IsIGVkaXRvcilcbiAgICAgICAgY29uc3QgZG9tU2VsZWN0aW9uID0gcm9vdC5nZXRTZWxlY3Rpb24oKVxuXG4gICAgICAgIGlmIChhY3RpdmVFbGVtZW50ID09PSBlbCkge1xuICAgICAgICAgIHN0YXRlLmxhdGVzdEVsZW1lbnQgPSBhY3RpdmVFbGVtZW50XG4gICAgICAgICAgSVNfRk9DVVNFRC5zZXQoZWRpdG9yLCB0cnVlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIElTX0ZPQ1VTRUQuZGVsZXRlKGVkaXRvcilcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZG9tU2VsZWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIFRyYW5zZm9ybXMuZGVzZWxlY3QoZWRpdG9yKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBhbmNob3JOb2RlLCBmb2N1c05vZGUgfSA9IGRvbVNlbGVjdGlvblxuXG4gICAgICAgIGNvbnN0IGFuY2hvck5vZGVTZWxlY3RhYmxlID1cbiAgICAgICAgICBoYXNFZGl0YWJsZVRhcmdldChlZGl0b3IsIGFuY2hvck5vZGUpIHx8XG4gICAgICAgICAgaXNUYXJnZXRJbnNpZGVOb25SZWFkb25seVZvaWQoZWRpdG9yLCBhbmNob3JOb2RlKVxuXG4gICAgICAgIGNvbnN0IGZvY3VzTm9kZVNlbGVjdGFibGUgPVxuICAgICAgICAgIGhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgZm9jdXNOb2RlKSB8fFxuICAgICAgICAgIGlzVGFyZ2V0SW5zaWRlTm9uUmVhZG9ubHlWb2lkKGVkaXRvciwgZm9jdXNOb2RlKVxuXG4gICAgICAgIGlmIChhbmNob3JOb2RlU2VsZWN0YWJsZSAmJiBmb2N1c05vZGVTZWxlY3RhYmxlKSB7XG4gICAgICAgICAgY29uc3QgcmFuZ2UgPSBSZWFjdEVkaXRvci50b1NsYXRlUmFuZ2UoZWRpdG9yLCBkb21TZWxlY3Rpb24sIHtcbiAgICAgICAgICAgIGV4YWN0TWF0Y2g6IGZhbHNlLFxuICAgICAgICAgICAgc3VwcHJlc3NUaHJvdzogZmFsc2UsXG4gICAgICAgICAgfSlcbiAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHJhbmdlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMTAwKSxcbiAgICBbcmVhZE9ubHldXG4gIClcblxuICBjb25zdCBzY2hlZHVsZU9uRE9NU2VsZWN0aW9uQ2hhbmdlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBkZWJvdW5jZShvbkRPTVNlbGVjdGlvbkNoYW5nZSwgMCksXG4gICAgW29uRE9NU2VsZWN0aW9uQ2hhbmdlXVxuICApXG5cbiAgLy8gTGlzdGVuIG9uIHRoZSBuYXRpdmUgYGJlZm9yZWlucHV0YCBldmVudCB0byBnZXQgcmVhbCBcIkxldmVsIDJcIiBldmVudHMuIFRoaXNcbiAgLy8gaXMgcmVxdWlyZWQgYmVjYXVzZSBSZWFjdCdzIGBiZWZvcmVpbnB1dGAgaXMgZmFrZSBhbmQgbmV2ZXIgcmVhbGx5IGF0dGFjaGVzXG4gIC8vIHRvIHRoZSByZWFsIGV2ZW50IHNhZGx5LiAoMjAxOS8xMS8wMSlcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMTIxMVxuICBjb25zdCBvbkRPTUJlZm9yZUlucHV0ID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50OiBJbnB1dEV2ZW50KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgICFyZWFkT25seSAmJlxuICAgICAgICBoYXNFZGl0YWJsZVRhcmdldChlZGl0b3IsIGV2ZW50LnRhcmdldCkgJiZcbiAgICAgICAgIWlzRE9NRXZlbnRIYW5kbGVkKGV2ZW50LCBwcm9wc09uRE9NQmVmb3JlSW5wdXQpXG4gICAgICApIHtcbiAgICAgICAgLy8gU29tZSBJTUVzL0Nocm9tZSBleHRlbnNpb25zIGxpa2UgZS5nLiBHcmFtbWFybHkgc2V0IHRoZSBzZWxlY3Rpb24gaW1tZWRpYXRlbHkgYmVmb3JlXG4gICAgICAgIC8vIHRyaWdnZXJpbmcgYSBgYmVmb3JlaW5wdXRgIGV4cGVjdGluZyB0aGUgY2hhbmdlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGltbWVkaWF0ZWx5IGJlZm9yZVxuICAgICAgICAvLyBzZXQgc2VsZWN0aW9uLlxuICAgICAgICBzY2hlZHVsZU9uRE9NU2VsZWN0aW9uQ2hhbmdlLmZsdXNoKClcbiAgICAgICAgb25ET01TZWxlY3Rpb25DaGFuZ2UuZmx1c2goKVxuXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBlZGl0b3JcbiAgICAgICAgY29uc3QgeyBpbnB1dFR5cGU6IHR5cGUgfSA9IGV2ZW50XG4gICAgICAgIGNvbnN0IGRhdGEgPSAoZXZlbnQgYXMgYW55KS5kYXRhVHJhbnNmZXIgfHwgZXZlbnQuZGF0YSB8fCB1bmRlZmluZWRcblxuICAgICAgICAvLyBUaGVzZSB0d28gdHlwZXMgb2NjdXIgd2hpbGUgYSB1c2VyIGlzIGNvbXBvc2luZyB0ZXh0IGFuZCBjYW4ndCBiZVxuICAgICAgICAvLyBjYW5jZWxsZWQuIExldCB0aGVtIHRocm91Z2ggYW5kIHdhaXQgZm9yIHRoZSBjb21wb3NpdGlvbiB0byBlbmQuXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlID09PSAnaW5zZXJ0Q29tcG9zaXRpb25UZXh0JyB8fFxuICAgICAgICAgIHR5cGUgPT09ICdkZWxldGVDb21wb3NpdGlvblRleHQnXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5hdGl2ZSA9IGZhbHNlXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlID09PSAnaW5zZXJ0VGV4dCcgJiZcbiAgICAgICAgICBzZWxlY3Rpb24gJiZcbiAgICAgICAgICBSYW5nZS5pc0NvbGxhcHNlZChzZWxlY3Rpb24pICYmXG4gICAgICAgICAgLy8gT25seSB1c2UgbmF0aXZlIGNoYXJhY3RlciBpbnNlcnRpb24gZm9yIHNpbmdsZSBjaGFyYWN0ZXJzIGEteiBvciBzcGFjZSBmb3Igbm93LlxuICAgICAgICAgIC8vIExvbmctcHJlc3MgZXZlbnRzIChob2xkIGEgKyBwcmVzcyA0ID0gw6QpIHRvIGNob29zZSBhIHNwZWNpYWwgY2hhcmFjdGVyIG90aGVyd2lzZVxuICAgICAgICAgIC8vIGNhdXNlcyBkdXBsaWNhdGUgaW5zZXJ0cy5cbiAgICAgICAgICBldmVudC5kYXRhICYmXG4gICAgICAgICAgZXZlbnQuZGF0YS5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICAvW2EteiBdL2kudGVzdChldmVudC5kYXRhKSAmJlxuICAgICAgICAgIC8vIENocm9tZSBoYXMgaXNzdWVzIGNvcnJlY3RseSBlZGl0aW5nIHRoZSBzdGFydCBvZiBub2RlczogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MTI0OTQwNVxuICAgICAgICAgIC8vIFdoZW4gdGhlcmUgaXMgYW4gaW5saW5lIGVsZW1lbnQsIGUuZy4gYSBsaW5rLCBhbmQgeW91IHNlbGVjdFxuICAgICAgICAgIC8vIHJpZ2h0IGFmdGVyIGl0ICh0aGUgc3RhcnQgb2YgdGhlIG5leHQgbm9kZSkuXG4gICAgICAgICAgc2VsZWN0aW9uLmFuY2hvci5vZmZzZXQgIT09IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgbmF0aXZlID0gdHJ1ZVxuXG4gICAgICAgICAgLy8gU2tpcCBuYXRpdmUgaWYgdGhlcmUgYXJlIG1hcmtzLCBhc1xuICAgICAgICAgIC8vIGBpbnNlcnRUZXh0YCB3aWxsIGluc2VydCBhIG5vZGUsIG5vdCBqdXN0IHRleHQuXG4gICAgICAgICAgaWYgKGVkaXRvci5tYXJrcykge1xuICAgICAgICAgICAgbmF0aXZlID0gZmFsc2VcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDaHJvbWUgYWxzbyBoYXMgaXNzdWVzIGNvcnJlY3RseSBlZGl0aW5nIHRoZSBlbmQgb2YgYW5jaG9yIGVsZW1lbnRzOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xMjU5MTAwXG4gICAgICAgICAgLy8gVGhlcmVmb3JlIHdlIGRvbid0IGFsbG93IG5hdGl2ZSBldmVudHMgdG8gaW5zZXJ0IHRleHQgYXQgdGhlIGVuZCBvZiBhbmNob3Igbm9kZXMuXG4gICAgICAgICAgY29uc3QgeyBhbmNob3IgfSA9IHNlbGVjdGlvblxuXG4gICAgICAgICAgY29uc3QgW25vZGUsIG9mZnNldF0gPSBSZWFjdEVkaXRvci50b0RPTVBvaW50KGVkaXRvciwgYW5jaG9yKVxuICAgICAgICAgIGNvbnN0IGFuY2hvck5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQ/LmNsb3Nlc3QoJ2EnKVxuXG4gICAgICAgICAgaWYgKGFuY2hvck5vZGUgJiYgUmVhY3RFZGl0b3IuaGFzRE9NTm9kZShlZGl0b3IsIGFuY2hvck5vZGUpKSB7XG4gICAgICAgICAgICBjb25zdCB7IGRvY3VtZW50IH0gPSBSZWFjdEVkaXRvci5nZXRXaW5kb3coZWRpdG9yKVxuXG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBsYXN0IHRleHQgbm9kZSBpbnNpZGUgdGhlIGFuY2hvci5cbiAgICAgICAgICAgIGNvbnN0IGxhc3RUZXh0ID0gZG9jdW1lbnRcbiAgICAgICAgICAgICAgLmNyZWF0ZVRyZWVXYWxrZXIoYW5jaG9yTm9kZSwgTm9kZUZpbHRlci5TSE9XX1RFWFQpXG4gICAgICAgICAgICAgIC5sYXN0Q2hpbGQoKSBhcyBET01UZXh0IHwgbnVsbFxuXG4gICAgICAgICAgICBpZiAobGFzdFRleHQgPT09IG5vZGUgJiYgbGFzdFRleHQudGV4dENvbnRlbnQ/Lmxlbmd0aCA9PT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgIG5hdGl2ZSA9IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ09NUEFUOiBGb3IgdGhlIGRlbGV0aW5nIGZvcndhcmQvYmFja3dhcmQgaW5wdXQgdHlwZXMgd2UgZG9uJ3Qgd2FudFxuICAgICAgICAvLyB0byBjaGFuZ2UgdGhlIHNlbGVjdGlvbiBiZWNhdXNlIGl0IGlzIHRoZSByYW5nZSB0aGF0IHdpbGwgYmUgZGVsZXRlZCxcbiAgICAgICAgLy8gYW5kIHRob3NlIGNvbW1hbmRzIGRldGVybWluZSB0aGF0IGZvciB0aGVtc2VsdmVzLlxuICAgICAgICBpZiAoIXR5cGUuc3RhcnRzV2l0aCgnZGVsZXRlJykgfHwgdHlwZS5zdGFydHNXaXRoKCdkZWxldGVCeScpKSB7XG4gICAgICAgICAgY29uc3QgW3RhcmdldFJhbmdlXSA9IChldmVudCBhcyBhbnkpLmdldFRhcmdldFJhbmdlcygpXG5cbiAgICAgICAgICBpZiAodGFyZ2V0UmFuZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gUmVhY3RFZGl0b3IudG9TbGF0ZVJhbmdlKGVkaXRvciwgdGFyZ2V0UmFuZ2UsIHtcbiAgICAgICAgICAgICAgZXhhY3RNYXRjaDogZmFsc2UsXG4gICAgICAgICAgICAgIHN1cHByZXNzVGhyb3c6IGZhbHNlLFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgaWYgKCFzZWxlY3Rpb24gfHwgIVJhbmdlLmVxdWFscyhzZWxlY3Rpb24sIHJhbmdlKSkge1xuICAgICAgICAgICAgICBuYXRpdmUgPSBmYWxzZVxuXG4gICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvblJlZiA9XG4gICAgICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbiAmJiBFZGl0b3IucmFuZ2VSZWYoZWRpdG9yLCBlZGl0b3Iuc2VsZWN0aW9uKVxuXG4gICAgICAgICAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgcmFuZ2UpXG5cbiAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvblJlZikge1xuICAgICAgICAgICAgICAgIEVESVRPUl9UT19VU0VSX1NFTEVDVElPTi5zZXQoZWRpdG9yLCBzZWxlY3Rpb25SZWYpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW5hdGl2ZSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENPTVBBVDogSWYgdGhlIHNlbGVjdGlvbiBpcyBleHBhbmRlZCwgZXZlbiBpZiB0aGUgY29tbWFuZCBzZWVtcyBsaWtlXG4gICAgICAgIC8vIGEgZGVsZXRlIGZvcndhcmQvYmFja3dhcmQgY29tbWFuZCBpdCBzaG91bGQgZGVsZXRlIHRoZSBzZWxlY3Rpb24uXG4gICAgICAgIGlmIChcbiAgICAgICAgICBzZWxlY3Rpb24gJiZcbiAgICAgICAgICBSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikgJiZcbiAgICAgICAgICB0eXBlLnN0YXJ0c1dpdGgoJ2RlbGV0ZScpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IHR5cGUuZW5kc1dpdGgoJ0JhY2t3YXJkJykgPyAnYmFja3dhcmQnIDogJ2ZvcndhcmQnXG4gICAgICAgICAgRWRpdG9yLmRlbGV0ZUZyYWdtZW50KGVkaXRvciwgeyBkaXJlY3Rpb24gfSlcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2RlbGV0ZUJ5Q29tcG9zaXRpb24nOlxuICAgICAgICAgIGNhc2UgJ2RlbGV0ZUJ5Q3V0JzpcbiAgICAgICAgICBjYXNlICdkZWxldGVCeURyYWcnOiB7XG4gICAgICAgICAgICBFZGl0b3IuZGVsZXRlRnJhZ21lbnQoZWRpdG9yKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdkZWxldGVDb250ZW50JzpcbiAgICAgICAgICBjYXNlICdkZWxldGVDb250ZW50Rm9yd2FyZCc6IHtcbiAgICAgICAgICAgIEVkaXRvci5kZWxldGVGb3J3YXJkKGVkaXRvcilcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnZGVsZXRlQ29udGVudEJhY2t3YXJkJzoge1xuICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUJhY2t3YXJkKGVkaXRvcilcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnZGVsZXRlRW50aXJlU29mdExpbmUnOiB7XG4gICAgICAgICAgICBFZGl0b3IuZGVsZXRlQmFja3dhcmQoZWRpdG9yLCB7IHVuaXQ6ICdsaW5lJyB9KVxuICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUZvcndhcmQoZWRpdG9yLCB7IHVuaXQ6ICdsaW5lJyB9KVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdkZWxldGVIYXJkTGluZUJhY2t3YXJkJzoge1xuICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUJhY2t3YXJkKGVkaXRvciwgeyB1bml0OiAnYmxvY2snIH0pXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2RlbGV0ZVNvZnRMaW5lQmFja3dhcmQnOiB7XG4gICAgICAgICAgICBFZGl0b3IuZGVsZXRlQmFja3dhcmQoZWRpdG9yLCB7IHVuaXQ6ICdsaW5lJyB9KVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdkZWxldGVIYXJkTGluZUZvcndhcmQnOiB7XG4gICAgICAgICAgICBFZGl0b3IuZGVsZXRlRm9yd2FyZChlZGl0b3IsIHsgdW5pdDogJ2Jsb2NrJyB9KVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdkZWxldGVTb2Z0TGluZUZvcndhcmQnOiB7XG4gICAgICAgICAgICBFZGl0b3IuZGVsZXRlRm9yd2FyZChlZGl0b3IsIHsgdW5pdDogJ2xpbmUnIH0pXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2RlbGV0ZVdvcmRCYWNrd2FyZCc6IHtcbiAgICAgICAgICAgIEVkaXRvci5kZWxldGVCYWNrd2FyZChlZGl0b3IsIHsgdW5pdDogJ3dvcmQnIH0pXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgJ2RlbGV0ZVdvcmRGb3J3YXJkJzoge1xuICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUZvcndhcmQoZWRpdG9yLCB7IHVuaXQ6ICd3b3JkJyB9KVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYXNlICdpbnNlcnRMaW5lQnJlYWsnOlxuICAgICAgICAgICAgRWRpdG9yLmluc2VydFNvZnRCcmVhayhlZGl0b3IpXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgY2FzZSAnaW5zZXJ0UGFyYWdyYXBoJzoge1xuICAgICAgICAgICAgRWRpdG9yLmluc2VydEJyZWFrKGVkaXRvcilcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY2FzZSAnaW5zZXJ0RnJvbUNvbXBvc2l0aW9uJzpcbiAgICAgICAgICBjYXNlICdpbnNlcnRGcm9tRHJvcCc6XG4gICAgICAgICAgY2FzZSAnaW5zZXJ0RnJvbVBhc3RlJzpcbiAgICAgICAgICBjYXNlICdpbnNlcnRGcm9tWWFuayc6XG4gICAgICAgICAgY2FzZSAnaW5zZXJ0UmVwbGFjZW1lbnRUZXh0JzpcbiAgICAgICAgICBjYXNlICdpbnNlcnRUZXh0Jzoge1xuICAgICAgICAgICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IGVkaXRvclxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgICBpZiAoUmFuZ2UuaXNFeHBhbmRlZChzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUZyYWdtZW50KGVkaXRvcilcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2luc2VydEZyb21Db21wb3NpdGlvbicpIHtcbiAgICAgICAgICAgICAgLy8gQ09NUEFUOiBpbiBTYWZhcmksIGBjb21wb3NpdGlvbmVuZGAgaXMgZGlzcGF0Y2hlZCBhZnRlciB0aGVcbiAgICAgICAgICAgICAgLy8gYGJlZm9yZWlucHV0YCBmb3IgXCJpbnNlcnRGcm9tQ29tcG9zaXRpb25cIi4gQnV0IGlmIHdlIHdhaXQgZm9yIGl0XG4gICAgICAgICAgICAgIC8vIHRoZW4gd2Ugd2lsbCBhYm9ydCBiZWNhdXNlIHdlJ3JlIHN0aWxsIGNvbXBvc2luZyBhbmQgdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAvLyB3b24ndCBiZSB1cGRhdGVkIHByb3Blcmx5LlxuICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvaW5wdXQtZXZlbnRzLTIvXG4gICAgICAgICAgICAgIGlmIChSZWFjdEVkaXRvci5pc0NvbXBvc2luZyhlZGl0b3IpKSB7XG4gICAgICAgICAgICAgICAgc2V0SXNDb21wb3NpbmcoZmFsc2UpXG4gICAgICAgICAgICAgICAgSVNfQ09NUE9TSU5HLnNldChlZGl0b3IsIGZhbHNlKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHVzZSBhIHdlYWsgY29tcGFyaXNvbiBpbnN0ZWFkIG9mICdpbnN0YW5jZW9mJyB0byBhbGxvd1xuICAgICAgICAgICAgLy8gcHJvZ3JhbW1hdGljIGFjY2VzcyBvZiBwYXN0ZSBldmVudHMgY29taW5nIGZyb20gZXh0ZXJuYWwgd2luZG93c1xuICAgICAgICAgICAgLy8gbGlrZSBjeXByZXNzIHdoZXJlIGN5LndpbmRvdyBkb2VzIG5vdCB3b3JrIHJlYWxpYmx5XG4gICAgICAgICAgICBpZiAoZGF0YT8uY29uc3RydWN0b3IubmFtZSA9PT0gJ0RhdGFUcmFuc2ZlcicpIHtcbiAgICAgICAgICAgICAgUmVhY3RFZGl0b3IuaW5zZXJ0RGF0YShlZGl0b3IsIGRhdGEpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAvLyBPbmx5IGluc2VydFRleHQgb3BlcmF0aW9ucyB1c2UgdGhlIG5hdGl2ZSBmdW5jdGlvbmFsaXR5LCBmb3Igbm93LlxuICAgICAgICAgICAgICAvLyBQb3RlbnRpYWxseSBleHBhbmQgdG8gc2luZ2xlIGNoYXJhY3RlciBkZWxldGVzLCBhcyB3ZWxsLlxuICAgICAgICAgICAgICBpZiAobmF0aXZlKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWRPcGVyYXRpb25zLmN1cnJlbnQucHVzaCgoKSA9PlxuICAgICAgICAgICAgICAgICAgRWRpdG9yLmluc2VydFRleHQoZWRpdG9yLCBkYXRhKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBFZGl0b3IuaW5zZXJ0VGV4dChlZGl0b3IsIGRhdGEpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXN0b3JlIHRoZSBhY3R1YWwgdXNlciBzZWN0aW9uIGlmIG5vdGhpbmcgbWFudWFsbHkgc2V0IGl0LlxuICAgICAgICBjb25zdCB0b1Jlc3RvcmUgPSBFRElUT1JfVE9fVVNFUl9TRUxFQ1RJT04uZ2V0KGVkaXRvcik/LnVucmVmKClcbiAgICAgICAgRURJVE9SX1RPX1VTRVJfU0VMRUNUSU9OLmRlbGV0ZShlZGl0b3IpXG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRvUmVzdG9yZSAmJlxuICAgICAgICAgICghZWRpdG9yLnNlbGVjdGlvbiB8fCAhUmFuZ2UuZXF1YWxzKGVkaXRvci5zZWxlY3Rpb24sIHRvUmVzdG9yZSkpXG4gICAgICAgICkge1xuICAgICAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgdG9SZXN0b3JlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBbcmVhZE9ubHksIHByb3BzT25ET01CZWZvcmVJbnB1dF1cbiAgKVxuXG4gIC8vIEF0dGFjaCBhIG5hdGl2ZSBET00gZXZlbnQgaGFuZGxlciBmb3IgYGJlZm9yZWlucHV0YCBldmVudHMsIGJlY2F1c2UgUmVhY3Qnc1xuICAvLyBidWlsdC1pbiBgb25CZWZvcmVJbnB1dGAgaXMgYWN0dWFsbHkgYSBsZWFreSBwb2x5ZmlsbCB0aGF0IGRvZXNuJ3QgZXhwb3NlXG4gIC8vIHJlYWwgYGJlZm9yZWlucHV0YCBldmVudHMgc2FkbHkuLi4gKDIwMTkvMTEvMDQpXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTEyMTFcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJlZi5jdXJyZW50ICYmIEhBU19CRUZPUkVfSU5QVVRfU1VQUE9SVCkge1xuICAgICAgLy8gQHRzLWlnbm9yZSBUaGUgYGJlZm9yZWlucHV0YCBldmVudCBpc24ndCByZWNvZ25pemVkLlxuICAgICAgcmVmLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JlaW5wdXQnLCBvbkRPTUJlZm9yZUlucHV0KVxuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAocmVmLmN1cnJlbnQgJiYgSEFTX0JFRk9SRV9JTlBVVF9TVVBQT1JUKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgVGhlIGBiZWZvcmVpbnB1dGAgZXZlbnQgaXNuJ3QgcmVjb2duaXplZC5cbiAgICAgICAgcmVmLmN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JlaW5wdXQnLCBvbkRPTUJlZm9yZUlucHV0KVxuICAgICAgfVxuICAgIH1cbiAgfSwgW29uRE9NQmVmb3JlSW5wdXRdKVxuXG4gIC8vIEF0dGFjaCBhIG5hdGl2ZSBET00gZXZlbnQgaGFuZGxlciBmb3IgYHNlbGVjdGlvbmNoYW5nZWAsIGJlY2F1c2UgUmVhY3Qnc1xuICAvLyBidWlsdC1pbiBgb25TZWxlY3RgIGhhbmRsZXIgZG9lc24ndCBmaXJlIGZvciBhbGwgc2VsZWN0aW9uIGNoYW5nZXMuIEl0J3MgYVxuICAvLyBsZWFreSBwb2x5ZmlsbCB0aGF0IG9ubHkgZmlyZXMgb24ga2V5cHJlc3NlcyBvciBjbGlja3MuIEluc3RlYWQsIHdlIHdhbnQgdG9cbiAgLy8gZmlyZSBmb3IgYW55IGNoYW5nZSB0byB0aGUgc2VsZWN0aW9uIGluc2lkZSB0aGUgZWRpdG9yLiAoMjAxOS8xMS8wNClcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy81Nzg1XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHdpbmRvdyA9IFJlYWN0RWRpdG9yLmdldFdpbmRvdyhlZGl0b3IpXG4gICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnc2VsZWN0aW9uY2hhbmdlJyxcbiAgICAgIHNjaGVkdWxlT25ET01TZWxlY3Rpb25DaGFuZ2VcbiAgICApXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdzZWxlY3Rpb25jaGFuZ2UnLFxuICAgICAgICBzY2hlZHVsZU9uRE9NU2VsZWN0aW9uQ2hhbmdlXG4gICAgICApXG4gICAgfVxuICB9LCBbc2NoZWR1bGVPbkRPTVNlbGVjdGlvbkNoYW5nZV0pXG5cbiAgY29uc3QgZGVjb3JhdGlvbnMgPSBkZWNvcmF0ZShbZWRpdG9yLCBbXV0pXG5cbiAgaWYgKFxuICAgIHBsYWNlaG9sZGVyICYmXG4gICAgZWRpdG9yLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJlxuICAgIEFycmF5LmZyb20oTm9kZS50ZXh0cyhlZGl0b3IpKS5sZW5ndGggPT09IDEgJiZcbiAgICBOb2RlLnN0cmluZyhlZGl0b3IpID09PSAnJyAmJlxuICAgICFpc0NvbXBvc2luZ1xuICApIHtcbiAgICBjb25zdCBzdGFydCA9IEVkaXRvci5zdGFydChlZGl0b3IsIFtdKVxuICAgIGRlY29yYXRpb25zLnB1c2goe1xuICAgICAgW1BMQUNFSE9MREVSX1NZTUJPTF06IHRydWUsXG4gICAgICBwbGFjZWhvbGRlcixcbiAgICAgIGFuY2hvcjogc3RhcnQsXG4gICAgICBmb2N1czogc3RhcnQsXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFJlYWRPbmx5Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17cmVhZE9ubHl9PlxuICAgICAgPERlY29yYXRlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17ZGVjb3JhdGV9PlxuICAgICAgICA8Q29tcG9uZW50XG4gICAgICAgICAgcm9sZT17cmVhZE9ubHkgPyB1bmRlZmluZWQgOiAndGV4dGJveCd9XG4gICAgICAgICAgey4uLmF0dHJpYnV0ZXN9XG4gICAgICAgICAgLy8gQ09NUEFUOiBDZXJ0YWluIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgdGhlIGBiZWZvcmVpbnB1dGAgZXZlbnQsIHNvIHdlJ2RcbiAgICAgICAgICAvLyBoYXZlIHRvIHVzZSBoYWNrcyB0byBtYWtlIHRoZXNlIHJlcGxhY2VtZW50LWJhc2VkIGZlYXR1cmVzIHdvcmsuXG4gICAgICAgICAgLy8gRm9yIFNTUiBzaXR1YXRpb25zIEhBU19CRUZPUkVfSU5QVVRfU1VQUE9SVCBpcyBmYWxzZSBhbmQgcmVzdWx0cyBpbiBwcm9wXG4gICAgICAgICAgLy8gbWlzbWF0Y2ggd2FybmluZyBhcHAgbW92ZXMgdG8gYnJvd3Nlci4gUGFzcy10aHJvdWdoIGNvbnN1bWVyIHByb3BzIHdoZW5cbiAgICAgICAgICAvLyBub3QgQ0FOX1VTRV9ET00gKFNTUikgYW5kIGRlZmF1bHQgdG8gZmFsc3kgdmFsdWVcbiAgICAgICAgICBzcGVsbENoZWNrPXtcbiAgICAgICAgICAgIEhBU19CRUZPUkVfSU5QVVRfU1VQUE9SVCB8fCAhQ0FOX1VTRV9ET01cbiAgICAgICAgICAgICAgPyBhdHRyaWJ1dGVzLnNwZWxsQ2hlY2tcbiAgICAgICAgICAgICAgOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgICBhdXRvQ29ycmVjdD17XG4gICAgICAgICAgICBIQVNfQkVGT1JFX0lOUFVUX1NVUFBPUlQgfHwgIUNBTl9VU0VfRE9NXG4gICAgICAgICAgICAgID8gYXR0cmlidXRlcy5hdXRvQ29ycmVjdFxuICAgICAgICAgICAgICA6ICdmYWxzZSdcbiAgICAgICAgICB9XG4gICAgICAgICAgYXV0b0NhcGl0YWxpemU9e1xuICAgICAgICAgICAgSEFTX0JFRk9SRV9JTlBVVF9TVVBQT1JUIHx8ICFDQU5fVVNFX0RPTVxuICAgICAgICAgICAgICA/IGF0dHJpYnV0ZXMuYXV0b0NhcGl0YWxpemVcbiAgICAgICAgICAgICAgOiAnZmFsc2UnXG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGEtc2xhdGUtZWRpdG9yXG4gICAgICAgICAgZGF0YS1zbGF0ZS1ub2RlPVwidmFsdWVcIlxuICAgICAgICAgIC8vIGV4cGxpY2l0bHkgc2V0IHRoaXNcbiAgICAgICAgICBjb250ZW50RWRpdGFibGU9eyFyZWFkT25seX1cbiAgICAgICAgICAvLyBpbiBzb21lIGNhc2VzLCBhIGRlY29yYXRpb24gbmVlZHMgYWNjZXNzIHRvIHRoZSByYW5nZSAvIHNlbGVjdGlvbiB0byBkZWNvcmF0ZSBhIHRleHQgbm9kZSxcbiAgICAgICAgICAvLyB0aGVuIHlvdSB3aWxsIHNlbGVjdCB0aGUgd2hvbGUgdGV4dCBub2RlIHdoZW4geW91IHNlbGVjdCBwYXJ0IHRoZSBvZiB0ZXh0XG4gICAgICAgICAgLy8gdGhpcyBtYWdpYyB6SW5kZXg9XCItMVwiIHdpbGwgZml4IGl0XG4gICAgICAgICAgemluZGV4PXstMX1cbiAgICAgICAgICBzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcbiAgICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgLy8gQWxsb3cgcG9zaXRpb25pbmcgcmVsYXRpdmUgdG8gdGhlIGVkaXRhYmxlIGVsZW1lbnQuXG4gICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgIC8vIFByZXZlbnQgdGhlIGRlZmF1bHQgb3V0bGluZSBzdHlsZXMuXG4gICAgICAgICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICAgICAgICAvLyBQcmVzZXJ2ZSBhZGphY2VudCB3aGl0ZXNwYWNlIGFuZCBuZXcgbGluZXMuXG4gICAgICAgICAgICB3aGl0ZVNwYWNlOiAncHJlLXdyYXAnLFxuICAgICAgICAgICAgLy8gQWxsb3cgd29yZHMgdG8gYnJlYWsgaWYgdGhleSBhcmUgdG9vIGxvbmcuXG4gICAgICAgICAgICB3b3JkV3JhcDogJ2JyZWFrLXdvcmQnLFxuICAgICAgICAgICAgLy8gQWxsb3cgZm9yIHBhc3NlZC1pbiBzdHlsZXMgdG8gb3ZlcnJpZGUgYW55dGhpbmcuXG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uQmVmb3JlSW5wdXQ9e3VzZUNhbGxiYWNrKFxuICAgICAgICAgICAgKGV2ZW50OiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgIC8vIENPTVBBVDogQ2VydGFpbiBicm93c2VycyBkb24ndCBzdXBwb3J0IHRoZSBgYmVmb3JlaW5wdXRgIGV2ZW50LCBzbyB3ZVxuICAgICAgICAgICAgICAvLyBmYWxsIGJhY2sgdG8gUmVhY3QncyBsZWFreSBwb2x5ZmlsbCBpbnN0ZWFkIGp1c3QgZm9yIGl0LiBJdFxuICAgICAgICAgICAgICAvLyBvbmx5IHdvcmtzIGZvciB0aGUgYGluc2VydFRleHRgIGlucHV0IHR5cGUuXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhSEFTX0JFRk9SRV9JTlBVVF9TVVBQT1JUICYmXG4gICAgICAgICAgICAgICAgIXJlYWRPbmx5ICYmXG4gICAgICAgICAgICAgICAgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uQmVmb3JlSW5wdXQpICYmXG4gICAgICAgICAgICAgICAgaGFzRWRpdGFibGVUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICBpZiAoIVJlYWN0RWRpdG9yLmlzQ29tcG9zaW5nKGVkaXRvcikpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSAoZXZlbnQgYXMgYW55KS5kYXRhIGFzIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgRWRpdG9yLmluc2VydFRleHQoZWRpdG9yLCB0ZXh0KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtyZWFkT25seV1cbiAgICAgICAgICApfVxuICAgICAgICAgIG9uSW5wdXQ9e3VzZUNhbGxiYWNrKChldmVudDogUmVhY3QuU3ludGhldGljRXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIEZsdXNoIG5hdGl2ZSBvcGVyYXRpb25zLCBhcyBuYXRpdmUgZXZlbnRzIHdpbGwgaGF2ZSBwcm9wb2dhdGVkXG4gICAgICAgICAgICAvLyBhbmQgd2UgY2FuIGNvcnJlY3RseSBjb21wYXJlIERPTSB0ZXh0IHZhbHVlcyBpbiBjb21wb25lbnRzXG4gICAgICAgICAgICAvLyB0byBzdG9wIHJlbmRlcmluZywgc28gdGhhdCBicm93c2VyIGZ1bmN0aW9ucyBsaWtlIGF1dG9jb3JyZWN0XG4gICAgICAgICAgICAvLyBhbmQgc3BlbGxjaGVjayB3b3JrIGFzIGV4cGVjdGVkLlxuICAgICAgICAgICAgZm9yIChjb25zdCBvcCBvZiBkZWZlcnJlZE9wZXJhdGlvbnMuY3VycmVudCkge1xuICAgICAgICAgICAgICBvcCgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZlcnJlZE9wZXJhdGlvbnMuY3VycmVudCA9IFtdXG4gICAgICAgICAgfSwgW10pfVxuICAgICAgICAgIG9uQmx1cj17dXNlQ2FsbGJhY2soXG4gICAgICAgICAgICAoZXZlbnQ6IFJlYWN0LkZvY3VzRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICByZWFkT25seSB8fFxuICAgICAgICAgICAgICAgIHN0YXRlLmlzVXBkYXRpbmdTZWxlY3Rpb24gfHxcbiAgICAgICAgICAgICAgICAhaGFzRWRpdGFibGVUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpIHx8XG4gICAgICAgICAgICAgICAgaXNFdmVudEhhbmRsZWQoZXZlbnQsIGF0dHJpYnV0ZXMub25CbHVyKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENPTVBBVDogSWYgdGhlIGN1cnJlbnQgYGFjdGl2ZUVsZW1lbnRgIGlzIHN0aWxsIHRoZSBwcmV2aW91c1xuICAgICAgICAgICAgICAvLyBvbmUsIHRoaXMgaXMgZHVlIHRvIHRoZSB3aW5kb3cgYmVpbmcgYmx1cnJlZCB3aGVuIHRoZSB0YWJcbiAgICAgICAgICAgICAgLy8gaXRzZWxmIGJlY29tZXMgdW5mb2N1c2VkLCBzbyB3ZSB3YW50IHRvIGFib3J0IGVhcmx5IHRvIGFsbG93IHRvXG4gICAgICAgICAgICAgIC8vIGVkaXRvciB0byBzdGF5IGZvY3VzZWQgd2hlbiB0aGUgdGFiIGJlY29tZXMgZm9jdXNlZCBhZ2Fpbi5cbiAgICAgICAgICAgICAgY29uc3Qgcm9vdCA9IFJlYWN0RWRpdG9yLmZpbmREb2N1bWVudE9yU2hhZG93Um9vdChlZGl0b3IpXG4gICAgICAgICAgICAgIGlmIChzdGF0ZS5sYXRlc3RFbGVtZW50ID09PSByb290LmFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnN0IHsgcmVsYXRlZFRhcmdldCB9ID0gZXZlbnRcbiAgICAgICAgICAgICAgY29uc3QgZWwgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBlZGl0b3IpXG5cbiAgICAgICAgICAgICAgLy8gQ09NUEFUOiBUaGUgZXZlbnQgc2hvdWxkIGJlIGlnbm9yZWQgaWYgdGhlIGZvY3VzIGlzIHJldHVybmluZ1xuICAgICAgICAgICAgICAvLyB0byB0aGUgZWRpdG9yIGZyb20gYW4gZW1iZWRkZWQgZWRpdGFibGUgZWxlbWVudCAoZWcuIGFuIDxpbnB1dD5cbiAgICAgICAgICAgICAgLy8gZWxlbWVudCBpbnNpZGUgYSB2b2lkIG5vZGUpLlxuICAgICAgICAgICAgICBpZiAocmVsYXRlZFRhcmdldCA9PT0gZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENPTVBBVDogVGhlIGV2ZW50IHNob3VsZCBiZSBpZ25vcmVkIGlmIHRoZSBmb2N1cyBpcyBtb3ZpbmcgZnJvbVxuICAgICAgICAgICAgICAvLyB0aGUgZWRpdG9yIHRvIGluc2lkZSBhIHZvaWQgbm9kZSdzIHNwYWNlciBlbGVtZW50LlxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaXNET01FbGVtZW50KHJlbGF0ZWRUYXJnZXQpICYmXG4gICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc2xhdGUtc3BhY2VyJylcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBDT01QQVQ6IFRoZSBldmVudCBzaG91bGQgYmUgaWdub3JlZCBpZiB0aGUgZm9jdXMgaXMgbW92aW5nIHRvIGFcbiAgICAgICAgICAgICAgLy8gbm9uLSBlZGl0YWJsZSBzZWN0aW9uIG9mIGFuIGVsZW1lbnQgdGhhdCBpc24ndCBhIHZvaWQgbm9kZSAoZWcuXG4gICAgICAgICAgICAgIC8vIGEgbGlzdCBpdGVtIG9mIHRoZSBjaGVjayBsaXN0IGV4YW1wbGUpLlxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgaXNET01Ob2RlKHJlbGF0ZWRUYXJnZXQpICYmXG4gICAgICAgICAgICAgICAgUmVhY3RFZGl0b3IuaGFzRE9NTm9kZShlZGl0b3IsIHJlbGF0ZWRUYXJnZXQpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBSZWFjdEVkaXRvci50b1NsYXRlTm9kZShlZGl0b3IsIHJlbGF0ZWRUYXJnZXQpXG5cbiAgICAgICAgICAgICAgICBpZiAoRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiYgIWVkaXRvci5pc1ZvaWQobm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENPTVBBVDogU2FmYXJpIGRvZXNuJ3QgYWx3YXlzIHJlbW92ZSB0aGUgc2VsZWN0aW9uIGV2ZW4gaWYgdGhlIGNvbnRlbnQtXG4gICAgICAgICAgICAgIC8vIGVkaXRhYmxlIGVsZW1lbnQgbm8gbG9uZ2VyIGhhcyBmb2N1cy4gUmVmZXIgdG86XG4gICAgICAgICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEyMzUzMjQ3L2ZvcmNlLWNvbnRlbnRlZGl0YWJsZS1kaXYtdG8tc3RvcC1hY2NlcHRpbmctaW5wdXQtYWZ0ZXItaXQtbG9zZXMtZm9jdXMtdW5kZXItd2ViXG4gICAgICAgICAgICAgIGlmIChJU19TQUZBUkkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkb21TZWxlY3Rpb24gPSByb290LmdldFNlbGVjdGlvbigpXG4gICAgICAgICAgICAgICAgZG9tU2VsZWN0aW9uPy5yZW1vdmVBbGxSYW5nZXMoKVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgSVNfRk9DVVNFRC5kZWxldGUoZWRpdG9yKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtyZWFkT25seSwgYXR0cmlidXRlcy5vbkJsdXJdXG4gICAgICAgICAgKX1cbiAgICAgICAgICBvbkNsaWNrPXt1c2VDYWxsYmFjayhcbiAgICAgICAgICAgIChldmVudDogUmVhY3QuTW91c2VFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGhhc1RhcmdldChlZGl0b3IsIGV2ZW50LnRhcmdldCkgJiZcbiAgICAgICAgICAgICAgICAhaXNFdmVudEhhbmRsZWQoZXZlbnQsIGF0dHJpYnV0ZXMub25DbGljaykgJiZcbiAgICAgICAgICAgICAgICBpc0RPTU5vZGUoZXZlbnQudGFyZ2V0KVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gUmVhY3RFZGl0b3IudG9TbGF0ZU5vZGUoZWRpdG9yLCBldmVudC50YXJnZXQpXG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IFJlYWN0RWRpdG9yLmZpbmRQYXRoKGVkaXRvciwgbm9kZSlcblxuICAgICAgICAgICAgICAgIC8vIEF0IHRoaXMgdGltZSwgdGhlIFNsYXRlIGRvY3VtZW50IG1heSBiZSBhcmJpdHJhcmlseSBkaWZmZXJlbnQsXG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBvbkNsaWNrIGhhbmRsZXJzIGNhbiBjaGFuZ2UgdGhlIGRvY3VtZW50IGJlZm9yZSB3ZSBnZXQgaGVyZS5cbiAgICAgICAgICAgICAgICAvLyBUaGVyZWZvcmUgd2UgbXVzdCBjaGVjayB0aGF0IHRoaXMgcGF0aCBhY3R1YWxseSBleGlzdHMsXG4gICAgICAgICAgICAgICAgLy8gYW5kIHRoYXQgaXQgc3RpbGwgcmVmZXJzIHRvIHRoZSBzYW1lIG5vZGUuXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgIUVkaXRvci5oYXNQYXRoKGVkaXRvciwgcGF0aCkgfHxcbiAgICAgICAgICAgICAgICAgIE5vZGUuZ2V0KGVkaXRvciwgcGF0aCkgIT09IG5vZGVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChldmVudC5kZXRhaWwgPT09IFRSSVBMRV9DTElDSyAmJiBwYXRoLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICBsZXQgYmxvY2tQYXRoID0gcGF0aFxuICAgICAgICAgICAgICAgICAgaWYgKCFFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgICAgICAgICAgICAgICAgIG1hdGNoOiBuID0+IEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbiksXG4gICAgICAgICAgICAgICAgICAgICAgYXQ6IHBhdGgsXG4gICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgYmxvY2tQYXRoID0gYmxvY2s/LlsxXSA/PyBwYXRoLnNsaWNlKDAsIDEpXG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgYmxvY2tQYXRoKVxuICAgICAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCByYW5nZSlcbiAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZWFkT25seSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBwYXRoKVxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZCA9IEVkaXRvci5lbmQoZWRpdG9yLCBwYXRoKVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0Vm9pZCA9IEVkaXRvci52b2lkKGVkaXRvciwgeyBhdDogc3RhcnQgfSlcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRWb2lkID0gRWRpdG9yLnZvaWQoZWRpdG9yLCB7IGF0OiBlbmQgfSlcblxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHN0YXJ0Vm9pZCAmJlxuICAgICAgICAgICAgICAgICAgZW5kVm9pZCAmJlxuICAgICAgICAgICAgICAgICAgUGF0aC5lcXVhbHMoc3RhcnRWb2lkWzFdLCBlbmRWb2lkWzFdKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZ2UgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCBzdGFydClcbiAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgcmFuZ2UpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW3JlYWRPbmx5LCBhdHRyaWJ1dGVzLm9uQ2xpY2tdXG4gICAgICAgICAgKX1cbiAgICAgICAgICBvbkNvbXBvc2l0aW9uRW5kPXt1c2VDYWxsYmFjayhcbiAgICAgICAgICAgIChldmVudDogUmVhY3QuQ29tcG9zaXRpb25FdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSAmJlxuICAgICAgICAgICAgICAgICFpc0V2ZW50SGFuZGxlZChldmVudCwgYXR0cmlidXRlcy5vbkNvbXBvc2l0aW9uRW5kKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpZiAoUmVhY3RFZGl0b3IuaXNDb21wb3NpbmcoZWRpdG9yKSkge1xuICAgICAgICAgICAgICAgICAgc2V0SXNDb21wb3NpbmcoZmFsc2UpXG4gICAgICAgICAgICAgICAgICBJU19DT01QT1NJTkcuc2V0KGVkaXRvciwgZmFsc2UpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ09NUEFUOiBJbiBDaHJvbWUsIGBiZWZvcmVpbnB1dGAgZXZlbnRzIGZvciBjb21wb3NpdGlvbnNcbiAgICAgICAgICAgICAgICAvLyBhcmVuJ3QgY29ycmVjdCBhbmQgbmV2ZXIgZmlyZSB0aGUgXCJpbnNlcnRGcm9tQ29tcG9zaXRpb25cIlxuICAgICAgICAgICAgICAgIC8vIHR5cGUgdGhhdCB3ZSBuZWVkLiBTbyBpbnN0ZWFkLCBpbnNlcnQgd2hlbmV2ZXIgYSBjb21wb3NpdGlvblxuICAgICAgICAgICAgICAgIC8vIGVuZHMgc2luY2UgaXQgd2lsbCBhbHJlYWR5IGhhdmUgYmVlbiBjb21taXR0ZWQgdG8gdGhlIERPTS5cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAhSVNfU0FGQVJJICYmXG4gICAgICAgICAgICAgICAgICAhSVNfRklSRUZPWF9MRUdBQ1kgJiZcbiAgICAgICAgICAgICAgICAgICFJU19JT1MgJiZcbiAgICAgICAgICAgICAgICAgICFJU19RUUJST1dTRVIgJiZcbiAgICAgICAgICAgICAgICAgICFJU19XRUNIQVRCUk9XU0VSICYmXG4gICAgICAgICAgICAgICAgICAhSVNfVUNfTU9CSUxFICYmXG4gICAgICAgICAgICAgICAgICBldmVudC5kYXRhXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBFZGl0b3IuaW5zZXJ0VGV4dChlZGl0b3IsIGV2ZW50LmRhdGEpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvci5zZWxlY3Rpb24gJiYgUmFuZ2UuaXNDb2xsYXBzZWQoZWRpdG9yLnNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGxlYWZQYXRoID0gZWRpdG9yLnNlbGVjdGlvbi5hbmNob3IucGF0aFxuICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRleHROb2RlID0gTm9kZS5sZWFmKGVkaXRvciwgbGVhZlBhdGgpXG4gICAgICAgICAgICAgICAgICBpZiAoc3RhdGUuaGFzSW5zZXJ0UHJlZml4SW5Db21wb3NpdG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmhhc0luc2VydFByZWZpeEluQ29tcG9zaXRvbiA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIFVuaWNvZGUgQk9NIHByZWZpeCBhZGRlZCBpbiBgb25Db21wb3NpdGlvblN0YXJ0YFxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBjdXJyZW50VGV4dE5vZGUudGV4dC5yZXBsYWNlKC9eXFx1RkVGRi8sICcnKVxuICAgICAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMuZGVsZXRlKGVkaXRvciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2U6IGN1cnJlbnRUZXh0Tm9kZS50ZXh0Lmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmVyc2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICBFZGl0b3IuaW5zZXJ0VGV4dChlZGl0b3IsIHRleHQpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW2F0dHJpYnV0ZXMub25Db21wb3NpdGlvbkVuZF1cbiAgICAgICAgICApfVxuICAgICAgICAgIG9uQ29tcG9zaXRpb25VcGRhdGU9e3VzZUNhbGxiYWNrKFxuICAgICAgICAgICAgKGV2ZW50OiBSZWFjdC5Db21wb3NpdGlvbkV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaGFzRWRpdGFibGVUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpICYmXG4gICAgICAgICAgICAgICAgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uQ29tcG9zaXRpb25VcGRhdGUpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGlmICghUmVhY3RFZGl0b3IuaXNDb21wb3NpbmcoZWRpdG9yKSkge1xuICAgICAgICAgICAgICAgICAgc2V0SXNDb21wb3NpbmcodHJ1ZSlcbiAgICAgICAgICAgICAgICAgIElTX0NPTVBPU0lORy5zZXQoZWRpdG9yLCB0cnVlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFthdHRyaWJ1dGVzLm9uQ29tcG9zaXRpb25VcGRhdGVdXG4gICAgICAgICAgKX1cbiAgICAgICAgICBvbkNvbXBvc2l0aW9uU3RhcnQ9e3VzZUNhbGxiYWNrKFxuICAgICAgICAgICAgKGV2ZW50OiBSZWFjdC5Db21wb3NpdGlvbkV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaGFzRWRpdGFibGVUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpICYmXG4gICAgICAgICAgICAgICAgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uQ29tcG9zaXRpb25TdGFydClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzZWxlY3Rpb24sIG1hcmtzIH0gPSBlZGl0b3JcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoUmFuZ2UuaXNFeHBhbmRlZChzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIEVkaXRvci5kZWxldGVGcmFnbWVudChlZGl0b3IpXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29uc3QgaW5saW5lID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaDogbiA9PiBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBuKSxcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogJ2hpZ2hlc3QnLFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIGlmIChpbmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgWywgaW5saW5lUGF0aF0gPSBpbmxpbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKEVkaXRvci5pc0VuZChlZGl0b3IsIHNlbGVjdGlvbi5hbmNob3IsIGlubGluZVBhdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBFZGl0b3IuYWZ0ZXIoZWRpdG9yLCBpbmxpbmVQYXRoKSFcbiAgICAgICAgICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnNldFNlbGVjdGlvbihlZGl0b3IsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvcjogcG9pbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1czogcG9pbnQsXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgLy8gaW5zZXJ0IG5ldyBub2RlIGluIGFkdmFuY2UgdG8gZW5zdXJlIGNvbXBvc2l0aW9uIHRleHQgd2lsbCBpbnNlcnRcbiAgICAgICAgICAgICAgICAgIC8vIGFsb25nIHdpdGggZmluYWwgaW5wdXQgdGV4dFxuICAgICAgICAgICAgICAgICAgLy8gYWRkIFVuaWNvZGUgQk9NIHByZWZpeCB0byBhdm9pZCBub3JtYWxpemUgcmVtb3ZpbmcgdGhpcyBub2RlXG4gICAgICAgICAgICAgICAgICBpZiAobWFya3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuaGFzSW5zZXJ0UHJlZml4SW5Db21wb3NpdG9uID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKFxuICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnXFx1RkVGRicsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5tYXJrcyxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbYXR0cmlidXRlcy5vbkNvbXBvc2l0aW9uU3RhcnRdXG4gICAgICAgICAgKX1cbiAgICAgICAgICBvbkNvcHk9e3VzZUNhbGxiYWNrKFxuICAgICAgICAgICAgKGV2ZW50OiBSZWFjdC5DbGlwYm9hcmRFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSAmJlxuICAgICAgICAgICAgICAgICFpc0V2ZW50SGFuZGxlZChldmVudCwgYXR0cmlidXRlcy5vbkNvcHkpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICBSZWFjdEVkaXRvci5zZXRGcmFnbWVudERhdGEoZWRpdG9yLCBldmVudC5jbGlwYm9hcmREYXRhLCAnY29weScpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbYXR0cmlidXRlcy5vbkNvcHldXG4gICAgICAgICAgKX1cbiAgICAgICAgICBvbkN1dD17dXNlQ2FsbGJhY2soXG4gICAgICAgICAgICAoZXZlbnQ6IFJlYWN0LkNsaXBib2FyZEV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIXJlYWRPbmx5ICYmXG4gICAgICAgICAgICAgICAgaGFzRWRpdGFibGVUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpICYmXG4gICAgICAgICAgICAgICAgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uQ3V0KVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgUmVhY3RFZGl0b3Iuc2V0RnJhZ21lbnREYXRhKGVkaXRvciwgZXZlbnQuY2xpcGJvYXJkRGF0YSwgJ2N1dCcpXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IGVkaXRvclxuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgaWYgKFJhbmdlLmlzRXhwYW5kZWQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBFZGl0b3IuZGVsZXRlRnJhZ21lbnQoZWRpdG9yKVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IE5vZGUucGFyZW50KGVkaXRvciwgc2VsZWN0aW9uLmFuY2hvci5wYXRoKVxuICAgICAgICAgICAgICAgICAgICBpZiAoRWRpdG9yLmlzVm9pZChlZGl0b3IsIG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5kZWxldGUoZWRpdG9yKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW3JlYWRPbmx5LCBhdHRyaWJ1dGVzLm9uQ3V0XVxuICAgICAgICAgICl9XG4gICAgICAgICAgb25EcmFnT3Zlcj17dXNlQ2FsbGJhY2soXG4gICAgICAgICAgICAoZXZlbnQ6IFJlYWN0LkRyYWdFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGhhc1RhcmdldChlZGl0b3IsIGV2ZW50LnRhcmdldCkgJiZcbiAgICAgICAgICAgICAgICAhaXNFdmVudEhhbmRsZWQoZXZlbnQsIGF0dHJpYnV0ZXMub25EcmFnT3ZlcilcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSB3aGVuIHRoZSB0YXJnZXQgaXMgdm9pZCwgY2FsbCBgcHJldmVudERlZmF1bHRgIHRvIHNpZ25hbFxuICAgICAgICAgICAgICAgIC8vIHRoYXQgZHJvcHMgYXJlIGFsbG93ZWQuIEVkaXRhYmxlIGNvbnRlbnQgaXMgZHJvcHBhYmxlIGJ5XG4gICAgICAgICAgICAgICAgLy8gZGVmYXVsdCwgYW5kIGNhbGxpbmcgYHByZXZlbnREZWZhdWx0YCBoaWRlcyB0aGUgY3Vyc29yLlxuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBSZWFjdEVkaXRvci50b1NsYXRlTm9kZShlZGl0b3IsIGV2ZW50LnRhcmdldClcblxuICAgICAgICAgICAgICAgIGlmIChFZGl0b3IuaXNWb2lkKGVkaXRvciwgbm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbYXR0cmlidXRlcy5vbkRyYWdPdmVyXVxuICAgICAgICAgICl9XG4gICAgICAgICAgb25EcmFnU3RhcnQ9e3VzZUNhbGxiYWNrKFxuICAgICAgICAgICAgKGV2ZW50OiBSZWFjdC5EcmFnRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhcmVhZE9ubHkgJiZcbiAgICAgICAgICAgICAgICBoYXNUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpICYmXG4gICAgICAgICAgICAgICAgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uRHJhZ1N0YXJ0KVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gUmVhY3RFZGl0b3IudG9TbGF0ZU5vZGUoZWRpdG9yLCBldmVudC50YXJnZXQpXG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IFJlYWN0RWRpdG9yLmZpbmRQYXRoKGVkaXRvciwgbm9kZSlcbiAgICAgICAgICAgICAgICBjb25zdCB2b2lkTWF0Y2ggPVxuICAgICAgICAgICAgICAgICAgRWRpdG9yLmlzVm9pZChlZGl0b3IsIG5vZGUpIHx8XG4gICAgICAgICAgICAgICAgICBFZGl0b3Iudm9pZChlZGl0b3IsIHsgYXQ6IHBhdGgsIHZvaWRzOiB0cnVlIH0pXG5cbiAgICAgICAgICAgICAgICAvLyBJZiBzdGFydGluZyBhIGRyYWcgb24gYSB2b2lkIG5vZGUsIG1ha2Ugc3VyZSBpdCBpcyBzZWxlY3RlZFxuICAgICAgICAgICAgICAgIC8vIHNvIHRoYXQgaXQgc2hvd3MgdXAgaW4gdGhlIHNlbGVjdGlvbidzIGZyYWdtZW50LlxuICAgICAgICAgICAgICAgIGlmICh2b2lkTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgcGF0aClcbiAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgcmFuZ2UpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3RhdGUuaXNEcmFnZ2luZ0ludGVybmFsbHkgPSB0cnVlXG5cbiAgICAgICAgICAgICAgICBSZWFjdEVkaXRvci5zZXRGcmFnbWVudERhdGEoZWRpdG9yLCBldmVudC5kYXRhVHJhbnNmZXIsICdkcmFnJylcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtyZWFkT25seSwgYXR0cmlidXRlcy5vbkRyYWdTdGFydF1cbiAgICAgICAgICApfVxuICAgICAgICAgIG9uRHJvcD17dXNlQ2FsbGJhY2soXG4gICAgICAgICAgICAoZXZlbnQ6IFJlYWN0LkRyYWdFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFyZWFkT25seSAmJlxuICAgICAgICAgICAgICAgIGhhc1RhcmdldChlZGl0b3IsIGV2ZW50LnRhcmdldCkgJiZcbiAgICAgICAgICAgICAgICAhaXNFdmVudEhhbmRsZWQoZXZlbnQsIGF0dHJpYnV0ZXMub25Ecm9wKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgICAgICAgICAvLyBLZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBkcmFnZ2VkIHJhbmdlIGJlZm9yZSB1cGRhdGluZyBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICBjb25zdCBkcmFnZ2VkUmFuZ2UgPSBlZGl0b3Iuc2VsZWN0aW9uXG5cbiAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSByYW5nZSB3aGVyZSB0aGUgZHJvcCBoYXBwZW5lZFxuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gUmVhY3RFZGl0b3IuZmluZEV2ZW50UmFuZ2UoZWRpdG9yLCBldmVudClcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZXZlbnQuZGF0YVRyYW5zZmVyXG5cbiAgICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHJhbmdlKVxuXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmlzRHJhZ2dpbmdJbnRlcm5hbGx5KSB7XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGRyYWdnZWRSYW5nZSAmJlxuICAgICAgICAgICAgICAgICAgICAhUmFuZ2UuZXF1YWxzKGRyYWdnZWRSYW5nZSwgcmFuZ2UpICYmXG4gICAgICAgICAgICAgICAgICAgICFFZGl0b3Iudm9pZChlZGl0b3IsIHsgYXQ6IHJhbmdlLCB2b2lkczogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMuZGVsZXRlKGVkaXRvciwge1xuICAgICAgICAgICAgICAgICAgICAgIGF0OiBkcmFnZ2VkUmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgUmVhY3RFZGl0b3IuaW5zZXJ0RGF0YShlZGl0b3IsIGRhdGEpXG5cbiAgICAgICAgICAgICAgICAvLyBXaGVuIGRyYWdnaW5nIGZyb20gYW5vdGhlciBzb3VyY2UgaW50byB0aGUgZWRpdG9yLCBpdCdzIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB0aGUgY3VycmVudCBlZGl0b3IgZG9lcyBub3QgaGF2ZSBmb2N1cy5cbiAgICAgICAgICAgICAgICBpZiAoIVJlYWN0RWRpdG9yLmlzRm9jdXNlZChlZGl0b3IpKSB7XG4gICAgICAgICAgICAgICAgICBSZWFjdEVkaXRvci5mb2N1cyhlZGl0b3IpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc3RhdGUuaXNEcmFnZ2luZ0ludGVybmFsbHkgPSBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtyZWFkT25seSwgYXR0cmlidXRlcy5vbkRyb3BdXG4gICAgICAgICAgKX1cbiAgICAgICAgICBvbkRyYWdFbmQ9e3VzZUNhbGxiYWNrKFxuICAgICAgICAgICAgKGV2ZW50OiBSZWFjdC5EcmFnRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhcmVhZE9ubHkgJiZcbiAgICAgICAgICAgICAgICBzdGF0ZS5pc0RyYWdnaW5nSW50ZXJuYWxseSAmJlxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMub25EcmFnRW5kICYmXG4gICAgICAgICAgICAgICAgaGFzVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLm9uRHJhZ0VuZChldmVudClcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIFdoZW4gZHJvcHBpbmcgb24gYSBkaWZmZXJlbnQgZHJvcHBhYmxlIGVsZW1lbnQgdGhhbiB0aGUgY3VycmVudCBlZGl0b3IsXG4gICAgICAgICAgICAgIC8vIGBvbkRyb3BgIGlzIG5vdCBjYWxsZWQuIFNvIHdlIG5lZWQgdG8gY2xlYW4gdXAgaW4gYG9uRHJhZ0VuZGAgaW5zdGVhZC5cbiAgICAgICAgICAgICAgLy8gTm90ZTogYG9uRHJhZ0VuZGAgaXMgb25seSBjYWxsZWQgd2hlbiBgb25Ecm9wYCBpcyBub3QgY2FsbGVkXG4gICAgICAgICAgICAgIHN0YXRlLmlzRHJhZ2dpbmdJbnRlcm5hbGx5ID0gZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbcmVhZE9ubHksIGF0dHJpYnV0ZXMub25EcmFnRW5kXVxuICAgICAgICAgICl9XG4gICAgICAgICAgb25Gb2N1cz17dXNlQ2FsbGJhY2soXG4gICAgICAgICAgICAoZXZlbnQ6IFJlYWN0LkZvY3VzRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhcmVhZE9ubHkgJiZcbiAgICAgICAgICAgICAgICAhc3RhdGUuaXNVcGRhdGluZ1NlbGVjdGlvbiAmJlxuICAgICAgICAgICAgICAgIGhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSAmJlxuICAgICAgICAgICAgICAgICFpc0V2ZW50SGFuZGxlZChldmVudCwgYXR0cmlidXRlcy5vbkZvY3VzKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbCA9IFJlYWN0RWRpdG9yLnRvRE9NTm9kZShlZGl0b3IsIGVkaXRvcilcbiAgICAgICAgICAgICAgICBjb25zdCByb290ID0gUmVhY3RFZGl0b3IuZmluZERvY3VtZW50T3JTaGFkb3dSb290KGVkaXRvcilcbiAgICAgICAgICAgICAgICBzdGF0ZS5sYXRlc3RFbGVtZW50ID0gcm9vdC5hY3RpdmVFbGVtZW50XG5cbiAgICAgICAgICAgICAgICAvLyBDT01QQVQ6IElmIHRoZSBlZGl0b3IgaGFzIG5lc3RlZCBlZGl0YWJsZSBlbGVtZW50cywgdGhlIGZvY3VzXG4gICAgICAgICAgICAgICAgLy8gY2FuIGdvIHRvIHRoZW0uIEluIEZpcmVmb3gsIHRoaXMgbXVzdCBiZSBwcmV2ZW50ZWQgYmVjYXVzZSBpdFxuICAgICAgICAgICAgICAgIC8vIHJlc3VsdHMgaW4gaXNzdWVzIHdpdGgga2V5Ym9hcmQgbmF2aWdhdGlvbi4gKDIwMTcvMDMvMzApXG4gICAgICAgICAgICAgICAgaWYgKElTX0ZJUkVGT1ggJiYgZXZlbnQudGFyZ2V0ICE9PSBlbCkge1xuICAgICAgICAgICAgICAgICAgZWwuZm9jdXMoKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgSVNfRk9DVVNFRC5zZXQoZWRpdG9yLCB0cnVlKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW3JlYWRPbmx5LCBhdHRyaWJ1dGVzLm9uRm9jdXNdXG4gICAgICAgICAgKX1cbiAgICAgICAgICBvbktleURvd249e3VzZUNhbGxiYWNrKFxuICAgICAgICAgICAgKGV2ZW50OiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICBpZiAoIXJlYWRPbmx5ICYmIGhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgbmF0aXZlRXZlbnQgfSA9IGV2ZW50XG5cbiAgICAgICAgICAgICAgICAvLyBDT01QQVQ6IFRoZSBjb21wb3NpdGlvbiBlbmQgZXZlbnQgaXNuJ3QgZmlyZWQgcmVsaWFibHkgaW4gYWxsIGJyb3dzZXJzLFxuICAgICAgICAgICAgICAgIC8vIHNvIHdlIHNvbWV0aW1lcyBtaWdodCBlbmQgdXAgc3R1Y2sgaW4gYSBjb21wb3NpdGlvbiBzdGF0ZSBldmVuIHRob3VnaCB3ZVxuICAgICAgICAgICAgICAgIC8vIGFyZW4ndCBjb21wb3NpbmcgYW55IG1vcmUuXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgUmVhY3RFZGl0b3IuaXNDb21wb3NpbmcoZWRpdG9yKSAmJlxuICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQuaXNDb21wb3NpbmcgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBJU19DT01QT1NJTkcuc2V0KGVkaXRvciwgZmFsc2UpXG4gICAgICAgICAgICAgICAgICBzZXRJc0NvbXBvc2luZyhmYWxzZSlcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBpc0V2ZW50SGFuZGxlZChldmVudCwgYXR0cmlidXRlcy5vbktleURvd24pIHx8XG4gICAgICAgICAgICAgICAgICBSZWFjdEVkaXRvci5pc0NvbXBvc2luZyhlZGl0b3IpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gZWRpdG9yXG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuY2hpbGRyZW5bXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbiAhPT0gbnVsbCA/IHNlbGVjdGlvbi5mb2N1cy5wYXRoWzBdIDogMFxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIGNvbnN0IGlzUlRMID0gZ2V0RGlyZWN0aW9uKE5vZGUuc3RyaW5nKGVsZW1lbnQpKSA9PT0gJ3J0bCdcblxuICAgICAgICAgICAgICAgIC8vIENPTVBBVDogU2luY2Ugd2UgcHJldmVudCB0aGUgZGVmYXVsdCBiZWhhdmlvciBvblxuICAgICAgICAgICAgICAgIC8vIGBiZWZvcmVpbnB1dGAgZXZlbnRzLCB0aGUgYnJvd3NlciBkb2Vzbid0IHRoaW5rIHRoZXJlJ3MgZXZlclxuICAgICAgICAgICAgICAgIC8vIGFueSBoaXN0b3J5IHN0YWNrIHRvIHVuZG8gb3IgcmVkbywgc28gd2UgaGF2ZSB0byBtYW5hZ2UgdGhlc2VcbiAgICAgICAgICAgICAgICAvLyBob3RrZXlzIG91cnNlbHZlcy4gKDIwMTkvMTEvMDYpXG4gICAgICAgICAgICAgICAgaWYgKEhvdGtleXMuaXNSZWRvKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgY29uc3QgbWF5YmVIaXN0b3J5RWRpdG9yOiBhbnkgPSBlZGl0b3JcblxuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtYXliZUhpc3RvcnlFZGl0b3IucmVkbyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBtYXliZUhpc3RvcnlFZGl0b3IucmVkbygpXG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChIb3RrZXlzLmlzVW5kbyhuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1heWJlSGlzdG9yeUVkaXRvcjogYW55ID0gZWRpdG9yXG5cbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWF5YmVIaXN0b3J5RWRpdG9yLnVuZG8gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF5YmVIaXN0b3J5RWRpdG9yLnVuZG8oKVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDT01QQVQ6IENlcnRhaW4gYnJvd3NlcnMgZG9uJ3QgaGFuZGxlIHRoZSBzZWxlY3Rpb24gdXBkYXRlc1xuICAgICAgICAgICAgICAgIC8vIHByb3Blcmx5LiBJbiBDaHJvbWUsIHRoZSBzZWxlY3Rpb24gaXNuJ3QgcHJvcGVybHkgZXh0ZW5kZWQuXG4gICAgICAgICAgICAgICAgLy8gQW5kIGluIEZpcmVmb3gsIHRoZSBzZWxlY3Rpb24gaXNuJ3QgcHJvcGVybHkgY29sbGFwc2VkLlxuICAgICAgICAgICAgICAgIC8vICgyMDE3LzEwLzE3KVxuICAgICAgICAgICAgICAgIGlmIChIb3RrZXlzLmlzTW92ZUxpbmVCYWNrd2FyZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMubW92ZShlZGl0b3IsIHsgdW5pdDogJ2xpbmUnLCByZXZlcnNlOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoSG90a2V5cy5pc01vdmVMaW5lRm9yd2FyZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMubW92ZShlZGl0b3IsIHsgdW5pdDogJ2xpbmUnIH0pXG4gICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoSG90a2V5cy5pc0V4dGVuZExpbmVCYWNrd2FyZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMubW92ZShlZGl0b3IsIHtcbiAgICAgICAgICAgICAgICAgICAgdW5pdDogJ2xpbmUnLFxuICAgICAgICAgICAgICAgICAgICBlZGdlOiAnZm9jdXMnLFxuICAgICAgICAgICAgICAgICAgICByZXZlcnNlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChIb3RrZXlzLmlzRXh0ZW5kTGluZUZvcndhcmQobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmUoZWRpdG9yLCB7IHVuaXQ6ICdsaW5lJywgZWRnZTogJ2ZvY3VzJyB9KVxuICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ09NUEFUOiBJZiBhIHZvaWQgbm9kZSBpcyBzZWxlY3RlZCwgb3IgYSB6ZXJvLXdpZHRoIHRleHQgbm9kZVxuICAgICAgICAgICAgICAgIC8vIGFkamFjZW50IHRvIGFuIGlubGluZSBpcyBzZWxlY3RlZCwgd2UgbmVlZCB0byBoYW5kbGUgdGhlc2VcbiAgICAgICAgICAgICAgICAvLyBob3RrZXlzIG1hbnVhbGx5IGJlY2F1c2UgYnJvd3NlcnMgd29uJ3QgYmUgYWJsZSB0byBza2lwIG92ZXJcbiAgICAgICAgICAgICAgICAvLyB0aGUgdm9pZCBub2RlIHdpdGggdGhlIHplcm8td2lkdGggc3BhY2Ugbm90IGJlaW5nIGFuIGVtcHR5XG4gICAgICAgICAgICAgICAgLy8gc3RyaW5nLlxuICAgICAgICAgICAgICAgIGlmIChIb3RrZXlzLmlzTW92ZUJhY2t3YXJkKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIFJhbmdlLmlzQ29sbGFwc2VkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5tb3ZlKGVkaXRvciwgeyByZXZlcnNlOiAhaXNSVEwgfSlcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMuY29sbGFwc2UoZWRpdG9yLCB7IGVkZ2U6ICdzdGFydCcgfSlcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKEhvdGtleXMuaXNNb3ZlRm9yd2FyZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0NvbGxhcHNlZChzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMubW92ZShlZGl0b3IsIHsgcmV2ZXJzZTogaXNSVEwgfSlcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMuY29sbGFwc2UoZWRpdG9yLCB7IGVkZ2U6ICdlbmQnIH0pXG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChIb3RrZXlzLmlzTW92ZVdvcmRCYWNrd2FyZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5jb2xsYXBzZShlZGl0b3IsIHsgZWRnZTogJ2ZvY3VzJyB9KVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmUoZWRpdG9yLCB7IHVuaXQ6ICd3b3JkJywgcmV2ZXJzZTogIWlzUlRMIH0pXG4gICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoSG90a2V5cy5pc01vdmVXb3JkRm9yd2FyZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5jb2xsYXBzZShlZGl0b3IsIHsgZWRnZTogJ2ZvY3VzJyB9KVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmUoZWRpdG9yLCB7IHVuaXQ6ICd3b3JkJywgcmV2ZXJzZTogaXNSVEwgfSlcbiAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENPTVBBVDogQ2VydGFpbiBicm93c2VycyBkb24ndCBzdXBwb3J0IHRoZSBgYmVmb3JlaW5wdXRgIGV2ZW50LCBzbyB3ZVxuICAgICAgICAgICAgICAgIC8vIGZhbGwgYmFjayB0byBndWVzc2luZyBhdCB0aGUgaW5wdXQgaW50ZW50aW9uIGZvciBob3RrZXlzLlxuICAgICAgICAgICAgICAgIC8vIENPTVBBVDogSW4gaU9TLCBzb21lIG9mIHRoZXNlIGhvdGtleXMgYXJlIGhhbmRsZWQgaW4gdGhlXG4gICAgICAgICAgICAgICAgaWYgKCFIQVNfQkVGT1JFX0lOUFVUX1NVUFBPUlQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGhhdmUgYSBjb3JlIGJlaGF2aW9yIGZvciB0aGVzZSwgYnV0IHRoZXkgY2hhbmdlIHRoZVxuICAgICAgICAgICAgICAgICAgLy8gRE9NIGlmIHdlIGRvbid0IHByZXZlbnQgdGhlbSwgc28gd2UgaGF2ZSB0by5cbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgSG90a2V5cy5pc0JvbGQobmF0aXZlRXZlbnQpIHx8XG4gICAgICAgICAgICAgICAgICAgIEhvdGtleXMuaXNJdGFsaWMobmF0aXZlRXZlbnQpIHx8XG4gICAgICAgICAgICAgICAgICAgIEhvdGtleXMuaXNUcmFuc3Bvc2VDaGFyYWN0ZXIobmF0aXZlRXZlbnQpXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKEhvdGtleXMuaXNTb2Z0QnJlYWsobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgICAgRWRpdG9yLmluc2VydFNvZnRCcmVhayhlZGl0b3IpXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBpZiAoSG90a2V5cy5pc1NwbGl0QmxvY2sobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgICAgRWRpdG9yLmluc2VydEJyZWFrKGVkaXRvcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmIChIb3RrZXlzLmlzRGVsZXRlQmFja3dhcmQobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIFJhbmdlLmlzRXhwYW5kZWQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgIEVkaXRvci5kZWxldGVGcmFnbWVudChlZGl0b3IsIHsgZGlyZWN0aW9uOiAnYmFja3dhcmQnIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUJhY2t3YXJkKGVkaXRvcilcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBpZiAoSG90a2V5cy5pc0RlbGV0ZUZvcndhcmQobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIFJhbmdlLmlzRXhwYW5kZWQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgIEVkaXRvci5kZWxldGVGcmFnbWVudChlZGl0b3IsIHsgZGlyZWN0aW9uOiAnZm9yd2FyZCcgfSlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBFZGl0b3IuZGVsZXRlRm9yd2FyZChlZGl0b3IpXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKEhvdGtleXMuaXNEZWxldGVMaW5lQmFja3dhcmQobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIFJhbmdlLmlzRXhwYW5kZWQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgIEVkaXRvci5kZWxldGVGcmFnbWVudChlZGl0b3IsIHsgZGlyZWN0aW9uOiAnYmFja3dhcmQnIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUJhY2t3YXJkKGVkaXRvciwgeyB1bml0OiAnbGluZScgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBpZiAoSG90a2V5cy5pc0RlbGV0ZUxpbmVGb3J3YXJkKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICBFZGl0b3IuZGVsZXRlRnJhZ21lbnQoZWRpdG9yLCB7IGRpcmVjdGlvbjogJ2ZvcndhcmQnIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUZvcndhcmQoZWRpdG9yLCB7IHVuaXQ6ICdsaW5lJyB9KVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGlmIChIb3RrZXlzLmlzRGVsZXRlV29yZEJhY2t3YXJkKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICBFZGl0b3IuZGVsZXRlRnJhZ21lbnQoZWRpdG9yLCB7IGRpcmVjdGlvbjogJ2JhY2t3YXJkJyB9KVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIEVkaXRvci5kZWxldGVCYWNrd2FyZChlZGl0b3IsIHsgdW5pdDogJ3dvcmQnIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgaWYgKEhvdGtleXMuaXNEZWxldGVXb3JkRm9yd2FyZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb24gJiYgUmFuZ2UuaXNFeHBhbmRlZChzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUZyYWdtZW50KGVkaXRvciwgeyBkaXJlY3Rpb246ICdmb3J3YXJkJyB9KVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIEVkaXRvci5kZWxldGVGb3J3YXJkKGVkaXRvciwgeyB1bml0OiAnd29yZCcgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBpZiAoSVNfQ0hST01FIHx8IElTX1NBRkFSSSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDT01QQVQ6IENocm9tZSBhbmQgU2FmYXJpIHN1cHBvcnQgYGJlZm9yZWlucHV0YCBldmVudCBidXQgZG8gbm90IGZpcmVcbiAgICAgICAgICAgICAgICAgICAgLy8gYW4gZXZlbnQgd2hlbiBkZWxldGluZyBiYWNrd2FyZHMgaW4gYSBzZWxlY3RlZCB2b2lkIGlubGluZSBub2RlXG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgICAoSG90a2V5cy5pc0RlbGV0ZUJhY2t3YXJkKG5hdGl2ZUV2ZW50KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgSG90a2V5cy5pc0RlbGV0ZUZvcndhcmQobmF0aXZlRXZlbnQpKSAmJlxuICAgICAgICAgICAgICAgICAgICAgIFJhbmdlLmlzQ29sbGFwc2VkKHNlbGVjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudE5vZGUgPSBOb2RlLnBhcmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5hbmNob3IucGF0aFxuICAgICAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIEVsZW1lbnQuaXNFbGVtZW50KGN1cnJlbnROb2RlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgRWRpdG9yLmlzVm9pZChlZGl0b3IsIGN1cnJlbnROb2RlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgRWRpdG9yLmlzSW5saW5lKGVkaXRvciwgY3VycmVudE5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICBFZGl0b3IuZGVsZXRlQmFja3dhcmQoZWRpdG9yLCB7IHVuaXQ6ICdibG9jaycgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW3JlYWRPbmx5LCBhdHRyaWJ1dGVzLm9uS2V5RG93bl1cbiAgICAgICAgICApfVxuICAgICAgICAgIG9uUGFzdGU9e3VzZUNhbGxiYWNrKFxuICAgICAgICAgICAgKGV2ZW50OiBSZWFjdC5DbGlwYm9hcmRFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFyZWFkT25seSAmJlxuICAgICAgICAgICAgICAgIGhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSAmJlxuICAgICAgICAgICAgICAgICFpc0V2ZW50SGFuZGxlZChldmVudCwgYXR0cmlidXRlcy5vblBhc3RlKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBDT01QQVQ6IENlcnRhaW4gYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCB0aGUgYGJlZm9yZWlucHV0YCBldmVudCwgc28gd2VcbiAgICAgICAgICAgICAgICAvLyBmYWxsIGJhY2sgdG8gUmVhY3QncyBgb25QYXN0ZWAgaGVyZSBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgIC8vIENPTVBBVDogRmlyZWZveCwgQ2hyb21lIGFuZCBTYWZhcmkgZG9uJ3QgZW1pdCBgYmVmb3JlaW5wdXRgIGV2ZW50c1xuICAgICAgICAgICAgICAgIC8vIHdoZW4gXCJwYXN0ZSB3aXRob3V0IGZvcm1hdHRpbmdcIiBpcyB1c2VkLCBzbyBmYWxsYmFjay4gKDIwMjAvMDIvMjApXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgIUhBU19CRUZPUkVfSU5QVVRfU1VQUE9SVCB8fFxuICAgICAgICAgICAgICAgICAgaXNQbGFpblRleHRPbmx5UGFzdGUoZXZlbnQubmF0aXZlRXZlbnQpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICBSZWFjdEVkaXRvci5pbnNlcnREYXRhKGVkaXRvciwgZXZlbnQuY2xpcGJvYXJkRGF0YSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbcmVhZE9ubHksIGF0dHJpYnV0ZXMub25QYXN0ZV1cbiAgICAgICAgICApfVxuICAgICAgICA+XG4gICAgICAgICAgPENoaWxkcmVuXG4gICAgICAgICAgICBkZWNvcmF0aW9ucz17ZGVjb3JhdGlvbnN9XG4gICAgICAgICAgICBub2RlPXtlZGl0b3J9XG4gICAgICAgICAgICByZW5kZXJFbGVtZW50PXtyZW5kZXJFbGVtZW50fVxuICAgICAgICAgICAgcmVuZGVyUGxhY2Vob2xkZXI9e3JlbmRlclBsYWNlaG9sZGVyfVxuICAgICAgICAgICAgcmVuZGVyTGVhZj17cmVuZGVyTGVhZn1cbiAgICAgICAgICAgIHNlbGVjdGlvbj17ZWRpdG9yLnNlbGVjdGlvbn1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0NvbXBvbmVudD5cbiAgICAgIDwvRGVjb3JhdGVDb250ZXh0LlByb3ZpZGVyPlxuICAgIDwvUmVhZE9ubHlDb250ZXh0LlByb3ZpZGVyPlxuICApXG59XG5cbi8qKlxuICogVGhlIHByb3BzIHRoYXQgZ2V0IHBhc3NlZCB0byByZW5kZXJQbGFjZWhvbGRlclxuICovXG5leHBvcnQgdHlwZSBSZW5kZXJQbGFjZWhvbGRlclByb3BzID0ge1xuICBjaGlsZHJlbjogYW55XG4gIGF0dHJpYnV0ZXM6IHtcbiAgICAnZGF0YS1zbGF0ZS1wbGFjZWhvbGRlcic6IGJvb2xlYW5cbiAgICBkaXI/OiAncnRsJ1xuICAgIGNvbnRlbnRFZGl0YWJsZTogYm9vbGVhblxuICAgIHJlZjogUmVhY3QuUmVmT2JqZWN0PGFueT5cbiAgICBzdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllc1xuICB9XG59XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgcGxhY2Vob2xkZXIgZWxlbWVudFxuICovXG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0UGxhY2Vob2xkZXIgPSAoe1xuICBhdHRyaWJ1dGVzLFxuICBjaGlsZHJlbixcbn06IFJlbmRlclBsYWNlaG9sZGVyUHJvcHMpID0+IDxzcGFuIHsuLi5hdHRyaWJ1dGVzfT57Y2hpbGRyZW59PC9zcGFuPlxuXG4vKipcbiAqIEEgZGVmYXVsdCBtZW1vaXplZCBkZWNvcmF0ZSBmdW5jdGlvbi5cbiAqL1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdERlY29yYXRlOiAoZW50cnk6IE5vZGVFbnRyeSkgPT4gUmFuZ2VbXSA9ICgpID0+IFtdXG5cbi8qKlxuICogQSBkZWZhdWx0IGltcGxlbWVudCB0byBzY3JvbGwgZG9tIHJhbmdlIGludG8gdmlldy5cbiAqL1xuXG5jb25zdCBkZWZhdWx0U2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcgPSAoXG4gIGVkaXRvcjogUmVhY3RFZGl0b3IsXG4gIGRvbVJhbmdlOiBET01SYW5nZVxuKSA9PiB7XG4gIC8vIFRoaXMgd2FzIGFmZmVjdGluZyB0aGUgc2VsZWN0aW9uIG9mIG11bHRpcGxlIGJsb2NrcyBhbmQgZHJhZ2dpbmcgYmVoYXZpb3IsXG4gIC8vIHNvIGVuYWJsZWQgb25seSBpZiB0aGUgc2VsZWN0aW9uIGhhcyBiZWVuIGNvbGxhcHNlZC5cbiAgaWYgKFxuICAgICFlZGl0b3Iuc2VsZWN0aW9uIHx8XG4gICAgKGVkaXRvci5zZWxlY3Rpb24gJiYgUmFuZ2UuaXNDb2xsYXBzZWQoZWRpdG9yLnNlbGVjdGlvbikpXG4gICkge1xuICAgIGNvbnN0IGxlYWZFbCA9IGRvbVJhbmdlLnN0YXJ0Q29udGFpbmVyLnBhcmVudEVsZW1lbnQhXG4gICAgbGVhZkVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9IGRvbVJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdC5iaW5kKGRvbVJhbmdlKVxuICAgIHNjcm9sbEludG9WaWV3KGxlYWZFbCwge1xuICAgICAgc2Nyb2xsTW9kZTogJ2lmLW5lZWRlZCcsXG4gICAgfSlcbiAgICBkZWxldGUgbGVhZkVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdFxuICB9XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHRhcmdldCBpcyBpbiB0aGUgZWRpdG9yLlxuICovXG5cbmV4cG9ydCBjb25zdCBoYXNUYXJnZXQgPSAoXG4gIGVkaXRvcjogUmVhY3RFZGl0b3IsXG4gIHRhcmdldDogRXZlbnRUYXJnZXQgfCBudWxsXG4pOiB0YXJnZXQgaXMgRE9NTm9kZSA9PiB7XG4gIHJldHVybiBpc0RPTU5vZGUodGFyZ2V0KSAmJiBSZWFjdEVkaXRvci5oYXNET01Ob2RlKGVkaXRvciwgdGFyZ2V0KVxufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSB0YXJnZXQgaXMgZWRpdGFibGUgYW5kIGluIHRoZSBlZGl0b3IuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGhhc0VkaXRhYmxlVGFyZ2V0ID0gKFxuICBlZGl0b3I6IFJlYWN0RWRpdG9yLFxuICB0YXJnZXQ6IEV2ZW50VGFyZ2V0IHwgbnVsbFxuKTogdGFyZ2V0IGlzIERPTU5vZGUgPT4ge1xuICByZXR1cm4gKFxuICAgIGlzRE9NTm9kZSh0YXJnZXQpICYmXG4gICAgUmVhY3RFZGl0b3IuaGFzRE9NTm9kZShlZGl0b3IsIHRhcmdldCwgeyBlZGl0YWJsZTogdHJ1ZSB9KVxuICApXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHRhcmdldCBpcyBpbnNpZGUgdm9pZCBhbmQgaW4gYW4gbm9uLXJlYWRvbmx5IGVkaXRvci5cbiAqL1xuXG5leHBvcnQgY29uc3QgaXNUYXJnZXRJbnNpZGVOb25SZWFkb25seVZvaWQgPSAoXG4gIGVkaXRvcjogUmVhY3RFZGl0b3IsXG4gIHRhcmdldDogRXZlbnRUYXJnZXQgfCBudWxsXG4pOiBib29sZWFuID0+IHtcbiAgaWYgKElTX1JFQURfT05MWS5nZXQoZWRpdG9yKSkgcmV0dXJuIGZhbHNlXG5cbiAgY29uc3Qgc2xhdGVOb2RlID1cbiAgICBoYXNUYXJnZXQoZWRpdG9yLCB0YXJnZXQpICYmIFJlYWN0RWRpdG9yLnRvU2xhdGVOb2RlKGVkaXRvciwgdGFyZ2V0KVxuICByZXR1cm4gRWRpdG9yLmlzVm9pZChlZGl0b3IsIHNsYXRlTm9kZSlcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhbiBldmVudCBpcyBvdmVycmlkZWQgYnkgYSBoYW5kbGVyLlxuICovXG5cbmV4cG9ydCBjb25zdCBpc0V2ZW50SGFuZGxlZCA9IDxcbiAgRXZlbnRUeXBlIGV4dGVuZHMgUmVhY3QuU3ludGhldGljRXZlbnQ8dW5rbm93biwgdW5rbm93bj5cbj4oXG4gIGV2ZW50OiBFdmVudFR5cGUsXG4gIGhhbmRsZXI/OiAoZXZlbnQ6IEV2ZW50VHlwZSkgPT4gdm9pZCB8IGJvb2xlYW5cbikgPT4ge1xuICBpZiAoIWhhbmRsZXIpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICAvLyBUaGUgY3VzdG9tIGV2ZW50IGhhbmRsZXIgbWF5IHJldHVybiBhIGJvb2xlYW4gdG8gc3BlY2lmeSB3aGV0aGVyIHRoZSBldmVudFxuICAvLyBzaGFsbCBiZSB0cmVhdGVkIGFzIGJlaW5nIGhhbmRsZWQgb3Igbm90LlxuICBjb25zdCBzaG91bGRUcmVhdEV2ZW50QXNIYW5kbGVkID0gaGFuZGxlcihldmVudClcblxuICBpZiAoc2hvdWxkVHJlYXRFdmVudEFzSGFuZGxlZCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHNob3VsZFRyZWF0RXZlbnRBc0hhbmRsZWRcbiAgfVxuXG4gIHJldHVybiBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBET00gZXZlbnQgaXMgb3ZlcnJpZGVkIGJ5IGEgaGFuZGxlci5cbiAqL1xuXG5leHBvcnQgY29uc3QgaXNET01FdmVudEhhbmRsZWQgPSA8RSBleHRlbmRzIEV2ZW50PihcbiAgZXZlbnQ6IEUsXG4gIGhhbmRsZXI/OiAoZXZlbnQ6IEUpID0+IHZvaWQgfCBib29sZWFuXG4pID0+IHtcbiAgaWYgKCFoYW5kbGVyKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvLyBUaGUgY3VzdG9tIGV2ZW50IGhhbmRsZXIgbWF5IHJldHVybiBhIGJvb2xlYW4gdG8gc3BlY2lmeSB3aGV0aGVyIHRoZSBldmVudFxuICAvLyBzaGFsbCBiZSB0cmVhdGVkIGFzIGJlaW5nIGhhbmRsZWQgb3Igbm90LlxuICBjb25zdCBzaG91bGRUcmVhdEV2ZW50QXNIYW5kbGVkID0gaGFuZGxlcihldmVudClcblxuICBpZiAoc2hvdWxkVHJlYXRFdmVudEFzSGFuZGxlZCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHNob3VsZFRyZWF0RXZlbnRBc0hhbmRsZWRcbiAgfVxuXG4gIHJldHVybiBldmVudC5kZWZhdWx0UHJldmVudGVkXG59XG4iLCJleHBvcnQgY29uc3QgVFJJUExFX0NMSUNLID0gM1xuIiwiaW1wb3J0IHsgRWRpdG9yLCBQYXRoLCBSYW5nZSwgVGV4dCB9IGZyb20gJ3NsYXRlJ1xuXG5pbXBvcnQgeyBSZWFjdEVkaXRvciB9IGZyb20gJy4uLy4uLydcbmltcG9ydCB7IERPTU5vZGUgfSBmcm9tICcuLi8uLi91dGlscy9kb20nXG5cbmV4cG9ydCB0eXBlIERpZmYgPSB7XG4gIHN0YXJ0OiBudW1iZXJcbiAgZW5kOiBudW1iZXJcbiAgaW5zZXJ0VGV4dDogc3RyaW5nXG4gIHJlbW92ZVRleHQ6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRleHRJbnNlcnRpb24ge1xuICB0ZXh0OiBEaWZmXG4gIHBhdGg6IFBhdGhcbn1cblxudHlwZSBUZXh0UmFuZ2UgPSB7XG4gIHN0YXJ0OiBudW1iZXJcbiAgZW5kOiBudW1iZXJcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyB0aGF0IGFyZSB0aGUgc2FtZSBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZVxuICogU3RyaW5nLlxuICpcbiAqIEBwYXJhbSBwcmV2ICB0aGUgcHJldmlvdXMgdGV4dFxuICogQHBhcmFtIG5leHQgIHRoZSBuZXh0IHRleHRcbiAqIEByZXR1cm5zIHRoZSBvZmZzZXQgb2YgdGhlIHN0YXJ0IG9mIHRoZSBkaWZmZXJlbmNlOyBudWxsIGlmIHRoZXJlIGlzIG5vIGRpZmZlcmVuY2VcbiAqL1xuZnVuY3Rpb24gZ2V0RGlmZlN0YXJ0KHByZXY6IHN0cmluZywgbmV4dDogc3RyaW5nKTogbnVtYmVyIHwgbnVsbCB7XG4gIGNvbnN0IGxlbmd0aCA9IE1hdGgubWluKHByZXYubGVuZ3RoLCBuZXh0Lmxlbmd0aClcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHByZXYuY2hhckF0KGkpICE9PSBuZXh0LmNoYXJBdChpKSkgcmV0dXJuIGlcbiAgfVxuXG4gIGlmIChwcmV2Lmxlbmd0aCAhPT0gbmV4dC5sZW5ndGgpIHJldHVybiBsZW5ndGhcbiAgcmV0dXJuIG51bGxcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyB0aGF0IGFyZSB0aGUgc2FtZSBhdCB0aGUgZW5kIG9mIHRoZSBTdHJpbmdcbiAqIHVwIHRvIGBtYXhgLiBNYXggcHJldmVudHMgZG91YmxlLWNvdW50aW5nIGNoYXJhY3RlcnMgd2hlbiB0aGVyZSBhcmVcbiAqIG11bHRpcGxlIGR1cGxpY2F0ZSBjaGFyYWN0ZXJzIGFyb3VuZCB0aGUgZGlmZiBhcmVhLlxuICpcbiAqIEBwYXJhbSBwcmV2ICB0aGUgcHJldmlvdXMgdGV4dFxuICogQHBhcmFtIG5leHQgIHRoZSBuZXh0IHRleHRcbiAqIEBwYXJhbSBtYXggIHRoZSBtYXggbGVuZ3RoIHRvIHRlc3QuXG4gKiBAcmV0dXJucyBudW1iZXIgb2YgY2hhcmFjdGVycyB0aGF0IGFyZSB0aGUgc2FtZSBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZ2V0RGlmZkVuZChwcmV2OiBzdHJpbmcsIG5leHQ6IHN0cmluZywgbWF4OiBudW1iZXIpOiBudW1iZXIgfCBudWxsIHtcbiAgY29uc3QgcHJldkxlbmd0aCA9IHByZXYubGVuZ3RoXG4gIGNvbnN0IG5leHRMZW5ndGggPSBuZXh0Lmxlbmd0aFxuICBjb25zdCBsZW5ndGggPSBNYXRoLm1pbihwcmV2TGVuZ3RoLCBuZXh0TGVuZ3RoLCBtYXgpXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByZXZDaGFyID0gcHJldi5jaGFyQXQocHJldkxlbmd0aCAtIGkgLSAxKVxuICAgIGNvbnN0IG5leHRDaGFyID0gbmV4dC5jaGFyQXQobmV4dExlbmd0aCAtIGkgLSAxKVxuICAgIGlmIChwcmV2Q2hhciAhPT0gbmV4dENoYXIpIHJldHVybiBpXG4gIH1cblxuICBpZiAocHJldi5sZW5ndGggIT09IG5leHQubGVuZ3RoKSByZXR1cm4gbGVuZ3RoXG4gIHJldHVybiBudWxsXG59XG5cbi8qKlxuICogVGFrZXMgdHdvIHN0cmluZ3MgYW5kIHJldHVybnMgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0d28gb2Zmc2V0cy4gVGhlXG4gKiBmaXJzdCwgYHN0YXJ0YCByZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyB0aGF0IGFyZSB0aGUgc2FtZSBhdFxuICogdGhlIGZyb250IG9mIHRoZSBTdHJpbmcuIFRoZSBgZW5kYCByZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVyc1xuICogdGhhdCBhcmUgdGhlIHNhbWUgYXQgdGhlIGVuZCBvZiB0aGUgU3RyaW5nLlxuICpcbiAqIFJldHVybnMgbnVsbCBpZiB0aGV5IGFyZSBpZGVudGljYWwuXG4gKlxuICogQHBhcmFtIHByZXYgIHRoZSBwcmV2aW91cyB0ZXh0XG4gKiBAcGFyYW0gbmV4dCAgdGhlIG5leHQgdGV4dFxuICogQHJldHVybnMgdGhlIGRpZmZlcmVuY2UgdGV4dCByYW5nZTsgbnVsbCBpZiB0aGVyZSBhcmUgbm8gZGlmZmVyZW5jZXMuXG4gKi9cbmZ1bmN0aW9uIGdldERpZmZPZmZzZXRzKHByZXY6IHN0cmluZywgbmV4dDogc3RyaW5nKTogVGV4dFJhbmdlIHwgbnVsbCB7XG4gIGlmIChwcmV2ID09PSBuZXh0KSByZXR1cm4gbnVsbFxuICBjb25zdCBzdGFydCA9IGdldERpZmZTdGFydChwcmV2LCBuZXh0KVxuICBpZiAoc3RhcnQgPT09IG51bGwpIHJldHVybiBudWxsXG4gIGNvbnN0IG1heEVuZCA9IE1hdGgubWluKHByZXYubGVuZ3RoIC0gc3RhcnQsIG5leHQubGVuZ3RoIC0gc3RhcnQpXG4gIGNvbnN0IGVuZCA9IGdldERpZmZFbmQocHJldiwgbmV4dCwgbWF4RW5kKSFcbiAgaWYgKGVuZCA9PT0gbnVsbCkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIHsgc3RhcnQsIGVuZCB9XG59XG5cbi8qKlxuICogVGFrZXMgYSB0ZXh0IHN0cmluZyBhbmQgcmV0dXJucyBhIHNsaWNlIGZyb20gdGhlIHN0cmluZyBhdCB0aGUgZ2l2ZW4gdGV4dCByYW5nZVxuICpcbiAqIEBwYXJhbSB0ZXh0ICB0aGUgdGV4dFxuICogQHBhcmFtIG9mZnNldHMgIHRoZSB0ZXh0IHJhbmdlXG4gKiBAcmV0dXJucyB0aGUgdGV4dCBzbGljZSBhdCB0ZXh0IHJhbmdlXG4gKi9cbmZ1bmN0aW9uIHNsaWNlVGV4dCh0ZXh0OiBzdHJpbmcsIG9mZnNldHM6IFRleHRSYW5nZSk6IHN0cmluZyB7XG4gIHJldHVybiB0ZXh0LnNsaWNlKG9mZnNldHMuc3RhcnQsIHRleHQubGVuZ3RoIC0gb2Zmc2V0cy5lbmQpXG59XG5cbi8qKlxuICogVGFrZXMgdHdvIHN0cmluZ3MgYW5kIHJldHVybnMgYSBzbWFydCBkaWZmIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGVzY3JpYmUgdGhlXG4gKiBjaGFuZ2UgaW4gYSB3YXkgdGhhdCBjYW4gYmUgdXNlZCBhcyBvcGVyYXRpb25zIGxpa2UgaW5zZXJ0aW5nLCByZW1vdmluZyBvclxuICogcmVwbGFjaW5nIHRleHQuXG4gKlxuICogQHBhcmFtIHByZXYgdGhlIHByZXZpb3VzIHRleHRcbiAqIEBwYXJhbSBuZXh0IHRoZSBuZXh0IHRleHRcbiAqIEByZXR1cm5zIHRoZSB0ZXh0IGRpZmZlcmVuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmZUZXh0KHByZXY/OiBzdHJpbmcsIG5leHQ/OiBzdHJpbmcpOiBEaWZmIHwgbnVsbCB7XG4gIGlmIChwcmV2ID09PSB1bmRlZmluZWQgfHwgbmV4dCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbnVsbFxuICBjb25zdCBvZmZzZXRzID0gZ2V0RGlmZk9mZnNldHMocHJldiwgbmV4dClcbiAgaWYgKG9mZnNldHMgPT0gbnVsbCkgcmV0dXJuIG51bGxcbiAgY29uc3QgaW5zZXJ0VGV4dCA9IHNsaWNlVGV4dChuZXh0LCBvZmZzZXRzKVxuICBjb25zdCByZW1vdmVUZXh0ID0gc2xpY2VUZXh0KHByZXYsIG9mZnNldHMpXG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IG9mZnNldHMuc3RhcnQsXG4gICAgZW5kOiBwcmV2Lmxlbmd0aCAtIG9mZnNldHMuZW5kLFxuICAgIGluc2VydFRleHQsXG4gICAgcmVtb3ZlVGV4dCxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tYmluZUluc2VydGVkVGV4dChpbnNlcnRlZFRleHQ6IFRleHRJbnNlcnRpb25bXSk6IHN0cmluZyB7XG4gIHJldHVybiBpbnNlcnRlZFRleHQucmVkdWNlKChhY2MsIHsgdGV4dCB9KSA9PiBgJHthY2N9JHt0ZXh0Lmluc2VydFRleHR9YCwgJycpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXh0SW5zZXJ0aW9uPFQgZXh0ZW5kcyBFZGl0b3I+KFxuICBlZGl0b3I6IFQsXG4gIGRvbU5vZGU6IERPTU5vZGVcbik6IFRleHRJbnNlcnRpb24gfCB1bmRlZmluZWQge1xuICBjb25zdCBub2RlID0gUmVhY3RFZGl0b3IudG9TbGF0ZU5vZGUoZWRpdG9yLCBkb21Ob2RlKVxuXG4gIGlmICghVGV4dC5pc1RleHQobm9kZSkpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICBjb25zdCBwcmV2VGV4dCA9IG5vZGUudGV4dFxuICBsZXQgbmV4dFRleHQgPSBkb21Ob2RlLnRleHRDb250ZW50IVxuXG4gIC8vIHRleHRDb250ZW50IHdpbGwgcGFkIGFuIGV4dHJhIFxcbiB3aGVuIHRoZSB0ZXh0Q29udGVudCBlbmRzIHdpdGggYW4gXFxuXG4gIGlmIChuZXh0VGV4dC5lbmRzV2l0aCgnXFxuJykpIHtcbiAgICBuZXh0VGV4dCA9IG5leHRUZXh0LnNsaWNlKDAsIG5leHRUZXh0Lmxlbmd0aCAtIDEpXG4gIH1cblxuICAvLyBJZiB0aGUgdGV4dCBpcyBubyBkaWZmZXJlbnQsIHRoZXJlIGlzIG5vIGRpZmYuXG4gIGlmIChuZXh0VGV4dCAhPT0gcHJldlRleHQpIHtcbiAgICBjb25zdCB0ZXh0RGlmZiA9IGRpZmZUZXh0KHByZXZUZXh0LCBuZXh0VGV4dClcbiAgICBpZiAodGV4dERpZmYgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHRleHRQYXRoID0gUmVhY3RFZGl0b3IuZmluZFBhdGgoZWRpdG9yLCBub2RlKVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0OiB0ZXh0RGlmZixcbiAgICAgICAgcGF0aDogdGV4dFBhdGgsXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplVGV4dEluc2VydGlvblJhbmdlKFxuICBlZGl0b3I6IEVkaXRvcixcbiAgcmFuZ2U6IFJhbmdlIHwgbnVsbCxcbiAgeyBwYXRoLCB0ZXh0IH06IFRleHRJbnNlcnRpb25cbikge1xuICBjb25zdCBpbnNlcnRpb25SYW5nZSA9IHtcbiAgICBhbmNob3I6IHsgcGF0aCwgb2Zmc2V0OiB0ZXh0LnN0YXJ0IH0sXG4gICAgZm9jdXM6IHsgcGF0aCwgb2Zmc2V0OiB0ZXh0LmVuZCB9LFxuICB9XG5cbiAgaWYgKCFyYW5nZSB8fCAhUmFuZ2UuaXNDb2xsYXBzZWQocmFuZ2UpKSB7XG4gICAgcmV0dXJuIGluc2VydGlvblJhbmdlXG4gIH1cblxuICBjb25zdCB7IGluc2VydFRleHQsIHJlbW92ZVRleHQgfSA9IHRleHRcbiAgY29uc3QgaXNTaW5nbGVDaGFyYWN0ZXJJbnNlcnRpb24gPVxuICAgIGluc2VydFRleHQubGVuZ3RoID09PSAxIHx8IHJlbW92ZVRleHQubGVuZ3RoID09PSAxXG5cbiAgLyoqXG4gICAqIFRoaXMgY29kZSBoYW5kbGVzIGVkZ2UgY2FzZXMgdGhhdCBhcmlzZSBmcm9tIHRleHQgZGlmZmluZyB3aGVuIHRoZVxuICAgKiBpbnNlcnRlZCBvciByZW1vdmVkIGNoYXJhY3RlciBpcyBhIHNpbmdsZSBjaGFyYWN0ZXIsIGFuZCB0aGUgY2hhcmFjdGVyXG4gICAqIHJpZ2h0IGJlZm9yZSBvciBhZnRlciB0aGUgYW5jaG9yIGlzIHRoZSBzYW1lIGFzIHRoZSBvbmUgYmVpbmcgaW5zZXJ0ZWQgb3JcbiAgICogcmVtb3ZlZC5cbiAgICpcbiAgICogVGFrZSB0aGlzIGV4YW1wbGU6IGhlbGxvfG9cbiAgICpcbiAgICogSWYgYW5vdGhlciBgb2AgaXMgaW5zZXJ0ZWQgYXQgdGhlIHNlbGVjdGlvbidzIGFuY2hvciBpbiB0aGUgZXhhbXBsZSBhYm92ZSxcbiAgICogaXQgc2hvdWxkIGJlIGluc2VydGVkIGF0IHRoZSBhbmNob3IsIGJ1dCB1c2luZyB0ZXh0IGRpZmZpbmcsIHdlIGFjdHVhbGx5XG4gICAqIGRldGVjdCB0aGF0IHRoZSBjaGFyYWN0ZXIgd2FzIGluc2VydGVkIGFmdGVyIHRoZSBzZWNvbmQgYG9gOlxuICAgKlxuICAgKiBoZWxsb29bb118XG4gICAqXG4gICAqIEluc3RlYWQsIGluIHRoZXNlIHZlcnkgc3BlY2lmaWMgZWRnZSBjYXNlcywgd2UgYXNzdW1lIHRoYXQgdGhlIGNoYXJhY3RlclxuICAgKiBuZWVkcyB0byBiZSBpbnNlcnRlZCBhZnRlciB0aGUgYW5jaG9yIHJhdGhlciB0aGFuIHdoZXJlIHRoZSBkaWZmIHdhcyBmb3VuZDpcbiAgICpcbiAgICogaGVsbG9bb118b1xuICAgKi9cbiAgaWYgKGlzU2luZ2xlQ2hhcmFjdGVySW5zZXJ0aW9uICYmIFBhdGguZXF1YWxzKHJhbmdlLmFuY2hvci5wYXRoLCBwYXRoKSkge1xuICAgIGNvbnN0IFt0ZXh0XSA9IEFycmF5LmZyb20oXG4gICAgICBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7IGF0OiByYW5nZSwgbWF0Y2g6IFRleHQuaXNUZXh0IH0pXG4gICAgKVxuXG4gICAgaWYgKHRleHQpIHtcbiAgICAgIGNvbnN0IFtub2RlXSA9IHRleHRcbiAgICAgIGNvbnN0IHsgYW5jaG9yIH0gPSByYW5nZVxuICAgICAgY29uc3QgY2hhcmFjdGVyQmVmb3JlQW5jaG9yID0gbm9kZS50ZXh0W2FuY2hvci5vZmZzZXQgLSAxXVxuICAgICAgY29uc3QgY2hhcmFjdGVyQWZ0ZXJBbmNob3IgPSBub2RlLnRleHRbYW5jaG9yLm9mZnNldF1cblxuICAgICAgaWYgKGluc2VydFRleHQubGVuZ3RoID09PSAxICYmIGluc2VydFRleHQgPT09IGNoYXJhY3RlckFmdGVyQW5jaG9yKSB7XG4gICAgICAgIC8vIEFzc3VtZSB0ZXh0IHNob3VsZCBiZSBpbnNlcnRlZCBhdCB0aGUgYW5jaG9yXG4gICAgICAgIHJldHVybiByYW5nZVxuICAgICAgfVxuXG4gICAgICBpZiAocmVtb3ZlVGV4dC5sZW5ndGggPT09IDEgJiYgcmVtb3ZlVGV4dCA9PT0gY2hhcmFjdGVyQmVmb3JlQW5jaG9yKSB7XG4gICAgICAgIC8vIEFzc3VtZSB0ZXh0IHNob3VsZCBiZSByZW1vdmVkIHJpZ2h0IGJlZm9yZSB0aGUgYW5jaG9yXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYW5jaG9yOiB7IHBhdGgsIG9mZnNldDogYW5jaG9yLm9mZnNldCAtIDEgfSxcbiAgICAgICAgICBmb2N1czogeyBwYXRoLCBvZmZzZXQ6IGFuY2hvci5vZmZzZXQgfSxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpbnNlcnRpb25SYW5nZVxufVxuIiwiLyoqXG4gKiBBbiBhdXRvLWluY3JlbWVudGluZyBpZGVudGlmaWVyIGZvciBrZXlzLlxuICovXG5cbmxldCBuID0gMFxuXG4vKipcbiAqIEEgY2xhc3MgdGhhdCBrZWVwcyB0cmFjayBvZiBhIGtleSBzdHJpbmcuIFdlIHVzZSBhIGZ1bGwgY2xhc3MgaGVyZSBiZWNhdXNlIHdlXG4gKiB3YW50IHRvIGJlIGFibGUgdG8gdXNlIHRoZW0gYXMga2V5cyBpbiBgV2Vha01hcGAgb2JqZWN0cy5cbiAqL1xuXG5leHBvcnQgY2xhc3MgS2V5IHtcbiAgaWQ6IHN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaWQgPSBgJHtuKyt9YFxuICB9XG59XG4iLCJpbXBvcnQge1xuICBCYXNlRWRpdG9yLFxuICBFZGl0b3IsXG4gIE5vZGUsXG4gIFBhdGgsXG4gIFBvaW50LFxuICBSYW5nZSxcbiAgU2NydWJiZXIsXG4gIFRyYW5zZm9ybXMsXG59IGZyb20gJ3NsYXRlJ1xuXG5pbXBvcnQgeyBLZXkgfSBmcm9tICcuLi91dGlscy9rZXknXG5pbXBvcnQge1xuICBFRElUT1JfVE9fRUxFTUVOVCxcbiAgRUxFTUVOVF9UT19OT0RFLFxuICBJU19GT0NVU0VELFxuICBJU19SRUFEX09OTFksXG4gIE5PREVfVE9fSU5ERVgsXG4gIE5PREVfVE9fS0VZLFxuICBOT0RFX1RPX1BBUkVOVCxcbiAgRURJVE9SX1RPX1dJTkRPVyxcbiAgRURJVE9SX1RPX0tFWV9UT19FTEVNRU5ULFxuICBJU19DT01QT1NJTkcsXG59IGZyb20gJy4uL3V0aWxzL3dlYWstbWFwcydcbmltcG9ydCB7XG4gIERPTUVsZW1lbnQsXG4gIERPTU5vZGUsXG4gIERPTVBvaW50LFxuICBET01SYW5nZSxcbiAgRE9NU2VsZWN0aW9uLFxuICBET01TdGF0aWNSYW5nZSxcbiAgaXNET01FbGVtZW50LFxuICBpc0RPTVNlbGVjdGlvbixcbiAgbm9ybWFsaXplRE9NUG9pbnQsXG4gIGhhc1NoYWRvd1Jvb3QsXG59IGZyb20gJy4uL3V0aWxzL2RvbSdcbmltcG9ydCB7IElTX0NIUk9NRSwgSVNfRklSRUZPWCB9IGZyb20gJy4uL3V0aWxzL2Vudmlyb25tZW50J1xuXG4vKipcbiAqIEEgUmVhY3QgYW5kIERPTS1zcGVjaWZpYyB2ZXJzaW9uIG9mIHRoZSBgRWRpdG9yYCBpbnRlcmZhY2UuXG4gKi9cblxuZXhwb3J0IGludGVyZmFjZSBSZWFjdEVkaXRvciBleHRlbmRzIEJhc2VFZGl0b3Ige1xuICBpbnNlcnREYXRhOiAoZGF0YTogRGF0YVRyYW5zZmVyKSA9PiB2b2lkXG4gIGluc2VydEZyYWdtZW50RGF0YTogKGRhdGE6IERhdGFUcmFuc2ZlcikgPT4gYm9vbGVhblxuICBpbnNlcnRUZXh0RGF0YTogKGRhdGE6IERhdGFUcmFuc2ZlcikgPT4gYm9vbGVhblxuICBzZXRGcmFnbWVudERhdGE6IChcbiAgICBkYXRhOiBEYXRhVHJhbnNmZXIsXG4gICAgb3JpZ2luRXZlbnQ/OiAnZHJhZycgfCAnY29weScgfCAnY3V0J1xuICApID0+IHZvaWRcbiAgaGFzUmFuZ2U6IChlZGl0b3I6IFJlYWN0RWRpdG9yLCByYW5nZTogUmFuZ2UpID0+IGJvb2xlYW5cbn1cblxuZXhwb3J0IGNvbnN0IFJlYWN0RWRpdG9yID0ge1xuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHVzZXIgaXMgY3VycmVudGx5IGNvbXBvc2luZyBpbnNpZGUgdGhlIGVkaXRvci5cbiAgICovXG5cbiAgaXNDb21wb3NpbmcoZWRpdG9yOiBSZWFjdEVkaXRvcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIUlTX0NPTVBPU0lORy5nZXQoZWRpdG9yKVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGhvc3Qgd2luZG93IG9mIHRoZSBjdXJyZW50IGVkaXRvci5cbiAgICovXG5cbiAgZ2V0V2luZG93KGVkaXRvcjogUmVhY3RFZGl0b3IpOiBXaW5kb3cge1xuICAgIGNvbnN0IHdpbmRvdyA9IEVESVRPUl9UT19XSU5ET1cuZ2V0KGVkaXRvcilcbiAgICBpZiAoIXdpbmRvdykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCBhIGhvc3Qgd2luZG93IGVsZW1lbnQgZm9yIHRoaXMgZWRpdG9yJylcbiAgICB9XG4gICAgcmV0dXJuIHdpbmRvd1xuICB9LFxuXG4gIC8qKlxuICAgKiBGaW5kIGEga2V5IGZvciBhIFNsYXRlIG5vZGUuXG4gICAqL1xuXG4gIGZpbmRLZXkoZWRpdG9yOiBSZWFjdEVkaXRvciwgbm9kZTogTm9kZSk6IEtleSB7XG4gICAgbGV0IGtleSA9IE5PREVfVE9fS0VZLmdldChub2RlKVxuXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIGtleSA9IG5ldyBLZXkoKVxuICAgICAgTk9ERV9UT19LRVkuc2V0KG5vZGUsIGtleSlcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbmQgdGhlIHBhdGggb2YgU2xhdGUgbm9kZS5cbiAgICovXG5cbiAgZmluZFBhdGgoZWRpdG9yOiBSZWFjdEVkaXRvciwgbm9kZTogTm9kZSk6IFBhdGgge1xuICAgIGNvbnN0IHBhdGg6IFBhdGggPSBbXVxuICAgIGxldCBjaGlsZCA9IG5vZGVcblxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSBOT0RFX1RPX1BBUkVOVC5nZXQoY2hpbGQpXG5cbiAgICAgIGlmIChwYXJlbnQgPT0gbnVsbCkge1xuICAgICAgICBpZiAoRWRpdG9yLmlzRWRpdG9yKGNoaWxkKSkge1xuICAgICAgICAgIHJldHVybiBwYXRoXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBpID0gTk9ERV9UT19JTkRFWC5nZXQoY2hpbGQpXG5cbiAgICAgIGlmIChpID09IG51bGwpIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgcGF0aC51bnNoaWZ0KGkpXG4gICAgICBjaGlsZCA9IHBhcmVudFxuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBVbmFibGUgdG8gZmluZCB0aGUgcGF0aCBmb3IgU2xhdGUgbm9kZTogJHtTY3J1YmJlci5zdHJpbmdpZnkobm9kZSl9YFxuICAgIClcbiAgfSxcblxuICAvKipcbiAgICogRmluZCB0aGUgRE9NIG5vZGUgdGhhdCBpbXBsZW1lbnRzIERvY3VtZW50T3JTaGFkb3dSb290IGZvciB0aGUgZWRpdG9yLlxuICAgKi9cblxuICBmaW5kRG9jdW1lbnRPclNoYWRvd1Jvb3QoZWRpdG9yOiBSZWFjdEVkaXRvcik6IERvY3VtZW50IHwgU2hhZG93Um9vdCB7XG4gICAgY29uc3QgZWwgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBlZGl0b3IpXG4gICAgY29uc3Qgcm9vdCA9IGVsLmdldFJvb3ROb2RlKClcblxuICAgIGlmIChcbiAgICAgIChyb290IGluc3RhbmNlb2YgRG9jdW1lbnQgfHwgcm9vdCBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QpICYmXG4gICAgICByb290LmdldFNlbGVjdGlvbiAhPSBudWxsXG4gICAgKSB7XG4gICAgICByZXR1cm4gcm9vdFxuICAgIH1cblxuICAgIHJldHVybiBlbC5vd25lckRvY3VtZW50XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBlZGl0b3IgaXMgZm9jdXNlZC5cbiAgICovXG5cbiAgaXNGb2N1c2VkKGVkaXRvcjogUmVhY3RFZGl0b3IpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISFJU19GT0NVU0VELmdldChlZGl0b3IpXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBlZGl0b3IgaXMgaW4gcmVhZC1vbmx5IG1vZGUuXG4gICAqL1xuXG4gIGlzUmVhZE9ubHkoZWRpdG9yOiBSZWFjdEVkaXRvcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIUlTX1JFQURfT05MWS5nZXQoZWRpdG9yKVxuICB9LFxuXG4gIC8qKlxuICAgKiBCbHVyIHRoZSBlZGl0b3IuXG4gICAqL1xuXG4gIGJsdXIoZWRpdG9yOiBSZWFjdEVkaXRvcik6IHZvaWQge1xuICAgIGNvbnN0IGVsID0gUmVhY3RFZGl0b3IudG9ET01Ob2RlKGVkaXRvciwgZWRpdG9yKVxuICAgIGNvbnN0IHJvb3QgPSBSZWFjdEVkaXRvci5maW5kRG9jdW1lbnRPclNoYWRvd1Jvb3QoZWRpdG9yKVxuICAgIElTX0ZPQ1VTRUQuc2V0KGVkaXRvciwgZmFsc2UpXG5cbiAgICBpZiAocm9vdC5hY3RpdmVFbGVtZW50ID09PSBlbCkge1xuICAgICAgZWwuYmx1cigpXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBGb2N1cyB0aGUgZWRpdG9yLlxuICAgKi9cblxuICBmb2N1cyhlZGl0b3I6IFJlYWN0RWRpdG9yKTogdm9pZCB7XG4gICAgY29uc3QgZWwgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBlZGl0b3IpXG4gICAgY29uc3Qgcm9vdCA9IFJlYWN0RWRpdG9yLmZpbmREb2N1bWVudE9yU2hhZG93Um9vdChlZGl0b3IpXG4gICAgSVNfRk9DVVNFRC5zZXQoZWRpdG9yLCB0cnVlKVxuXG4gICAgaWYgKHJvb3QuYWN0aXZlRWxlbWVudCAhPT0gZWwpIHtcbiAgICAgIGVsLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRGVzZWxlY3QgdGhlIGVkaXRvci5cbiAgICovXG5cbiAgZGVzZWxlY3QoZWRpdG9yOiBSZWFjdEVkaXRvcik6IHZvaWQge1xuICAgIGNvbnN0IGVsID0gUmVhY3RFZGl0b3IudG9ET01Ob2RlKGVkaXRvciwgZWRpdG9yKVxuICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBlZGl0b3JcbiAgICBjb25zdCByb290ID0gUmVhY3RFZGl0b3IuZmluZERvY3VtZW50T3JTaGFkb3dSb290KGVkaXRvcilcbiAgICBjb25zdCBkb21TZWxlY3Rpb24gPSByb290LmdldFNlbGVjdGlvbigpXG5cbiAgICBpZiAoZG9tU2VsZWN0aW9uICYmIGRvbVNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkge1xuICAgICAgZG9tU2VsZWN0aW9uLnJlbW92ZUFsbFJhbmdlcygpXG4gICAgfVxuXG4gICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgVHJhbnNmb3Jtcy5kZXNlbGVjdChlZGl0b3IpXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIERPTSBub2RlIGlzIHdpdGhpbiB0aGUgZWRpdG9yLlxuICAgKi9cblxuICBoYXNET01Ob2RlKFxuICAgIGVkaXRvcjogUmVhY3RFZGl0b3IsXG4gICAgdGFyZ2V0OiBET01Ob2RlLFxuICAgIG9wdGlvbnM6IHsgZWRpdGFibGU/OiBib29sZWFuIH0gPSB7fVxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCB7IGVkaXRhYmxlID0gZmFsc2UgfSA9IG9wdGlvbnNcbiAgICBjb25zdCBlZGl0b3JFbCA9IFJlYWN0RWRpdG9yLnRvRE9NTm9kZShlZGl0b3IsIGVkaXRvcilcbiAgICBsZXQgdGFyZ2V0RWxcblxuICAgIC8vIENPTVBBVDogSW4gRmlyZWZveCwgcmVhZGluZyBgdGFyZ2V0Lm5vZGVUeXBlYCB3aWxsIHRocm93IGFuIGVycm9yIGlmXG4gICAgLy8gdGFyZ2V0IGlzIG9yaWdpbmF0aW5nIGZyb20gYW4gaW50ZXJuYWwgXCJyZXN0cmljdGVkXCIgZWxlbWVudCAoZS5nLiBhXG4gICAgLy8gc3RlcHBlciBhcnJvdyBvbiBhIG51bWJlciBpbnB1dCkuICgyMDE4LzA1LzA0KVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9pYW5zdG9ybXRheWxvci9zbGF0ZS9pc3N1ZXMvMTgxOVxuICAgIHRyeSB7XG4gICAgICB0YXJnZXRFbCA9IChpc0RPTUVsZW1lbnQodGFyZ2V0KVxuICAgICAgICA/IHRhcmdldFxuICAgICAgICA6IHRhcmdldC5wYXJlbnRFbGVtZW50KSBhcyBIVE1MRWxlbWVudFxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKFxuICAgICAgICAhZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ1Blcm1pc3Npb24gZGVuaWVkIHRvIGFjY2VzcyBwcm9wZXJ0eSBcIm5vZGVUeXBlXCInKVxuICAgICAgKSB7XG4gICAgICAgIHRocm93IGVyclxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdGFyZ2V0RWwpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICB0YXJnZXRFbC5jbG9zZXN0KGBbZGF0YS1zbGF0ZS1lZGl0b3JdYCkgPT09IGVkaXRvckVsICYmXG4gICAgICAoIWVkaXRhYmxlIHx8IHRhcmdldEVsLmlzQ29udGVudEVkaXRhYmxlXG4gICAgICAgID8gdHJ1ZVxuICAgICAgICA6ICh0eXBlb2YgdGFyZ2V0RWwuaXNDb250ZW50RWRpdGFibGUgPT09ICdib29sZWFuJyAmJiAvLyBpc0NvbnRlbnRFZGl0YWJsZSBleGlzdHMgb25seSBvbiBIVE1MRWxlbWVudCwgYW5kIG9uIG90aGVyIG5vZGVzIGl0IHdpbGwgYmUgdW5kZWZpbmVkXG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBjb3JlIGxvZ2ljIHRoYXQgbGV0cyB5b3Uga25vdyB5b3UgZ290IHRoZSByaWdodCBlZGl0b3Iuc2VsZWN0aW9uIGluc3RlYWQgb2YgbnVsbCB3aGVuIGVkaXRvciBpcyBjb250ZW50ZWRpdGFibGU9XCJmYWxzZVwiKHJlYWRPbmx5KVxuICAgICAgICAgICAgdGFyZ2V0RWwuY2xvc2VzdCgnW2NvbnRlbnRlZGl0YWJsZT1cImZhbHNlXCJdJykgPT09IGVkaXRvckVsKSB8fFxuICAgICAgICAgICEhdGFyZ2V0RWwuZ2V0QXR0cmlidXRlKCdkYXRhLXNsYXRlLXplcm8td2lkdGgnKSlcbiAgICApXG4gIH0sXG5cbiAgLyoqXG4gICAqIEluc2VydCBkYXRhIGZyb20gYSBgRGF0YVRyYW5zZmVyYCBpbnRvIHRoZSBlZGl0b3IuXG4gICAqL1xuXG4gIGluc2VydERhdGEoZWRpdG9yOiBSZWFjdEVkaXRvciwgZGF0YTogRGF0YVRyYW5zZmVyKTogdm9pZCB7XG4gICAgZWRpdG9yLmluc2VydERhdGEoZGF0YSlcbiAgfSxcblxuICAvKipcbiAgICogSW5zZXJ0IGZyYWdtZW50IGRhdGEgZnJvbSBhIGBEYXRhVHJhbnNmZXJgIGludG8gdGhlIGVkaXRvci5cbiAgICovXG5cbiAgaW5zZXJ0RnJhZ21lbnREYXRhKGVkaXRvcjogUmVhY3RFZGl0b3IsIGRhdGE6IERhdGFUcmFuc2Zlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBlZGl0b3IuaW5zZXJ0RnJhZ21lbnREYXRhKGRhdGEpXG4gIH0sXG5cbiAgLyoqXG4gICAqIEluc2VydCB0ZXh0IGRhdGEgZnJvbSBhIGBEYXRhVHJhbnNmZXJgIGludG8gdGhlIGVkaXRvci5cbiAgICovXG5cbiAgaW5zZXJ0VGV4dERhdGEoZWRpdG9yOiBSZWFjdEVkaXRvciwgZGF0YTogRGF0YVRyYW5zZmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGVkaXRvci5pbnNlcnRUZXh0RGF0YShkYXRhKVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIGRhdGEgZnJvbSB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGZyYWdtZW50IG9uIGEgYERhdGFUcmFuc2ZlcmAuXG4gICAqL1xuXG4gIHNldEZyYWdtZW50RGF0YShcbiAgICBlZGl0b3I6IFJlYWN0RWRpdG9yLFxuICAgIGRhdGE6IERhdGFUcmFuc2ZlcixcbiAgICBvcmlnaW5FdmVudD86ICdkcmFnJyB8ICdjb3B5JyB8ICdjdXQnXG4gICk6IHZvaWQge1xuICAgIGVkaXRvci5zZXRGcmFnbWVudERhdGEoZGF0YSwgb3JpZ2luRXZlbnQpXG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbmQgdGhlIG5hdGl2ZSBET00gZWxlbWVudCBmcm9tIGEgU2xhdGUgbm9kZS5cbiAgICovXG5cbiAgdG9ET01Ob2RlKGVkaXRvcjogUmVhY3RFZGl0b3IsIG5vZGU6IE5vZGUpOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3QgS0VZX1RPX0VMRU1FTlQgPSBFRElUT1JfVE9fS0VZX1RPX0VMRU1FTlQuZ2V0KGVkaXRvcilcbiAgICBjb25zdCBkb21Ob2RlID0gRWRpdG9yLmlzRWRpdG9yKG5vZGUpXG4gICAgICA/IEVESVRPUl9UT19FTEVNRU5ULmdldChlZGl0b3IpXG4gICAgICA6IEtFWV9UT19FTEVNRU5UPy5nZXQoUmVhY3RFZGl0b3IuZmluZEtleShlZGl0b3IsIG5vZGUpKVxuXG4gICAgaWYgKCFkb21Ob2RlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBDYW5ub3QgcmVzb2x2ZSBhIERPTSBub2RlIGZyb20gU2xhdGUgbm9kZTogJHtTY3J1YmJlci5zdHJpbmdpZnkobm9kZSl9YFxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiBkb21Ob2RlXG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbmQgYSBuYXRpdmUgRE9NIHNlbGVjdGlvbiBwb2ludCBmcm9tIGEgU2xhdGUgcG9pbnQuXG4gICAqL1xuXG4gIHRvRE9NUG9pbnQoZWRpdG9yOiBSZWFjdEVkaXRvciwgcG9pbnQ6IFBvaW50KTogRE9NUG9pbnQge1xuICAgIGNvbnN0IFtub2RlXSA9IEVkaXRvci5ub2RlKGVkaXRvciwgcG9pbnQucGF0aClcbiAgICBjb25zdCBlbCA9IFJlYWN0RWRpdG9yLnRvRE9NTm9kZShlZGl0b3IsIG5vZGUpXG4gICAgbGV0IGRvbVBvaW50OiBET01Qb2ludCB8IHVuZGVmaW5lZFxuXG4gICAgLy8gSWYgd2UncmUgaW5zaWRlIGEgdm9pZCBub2RlLCBmb3JjZSB0aGUgb2Zmc2V0IHRvIDAsIG90aGVyd2lzZSB0aGUgemVyb1xuICAgIC8vIHdpZHRoIHNwYWNpbmcgY2hhcmFjdGVyIHdpbGwgcmVzdWx0IGluIGFuIGluY29ycmVjdCBvZmZzZXQgb2YgMVxuICAgIGlmIChFZGl0b3Iudm9pZChlZGl0b3IsIHsgYXQ6IHBvaW50IH0pKSB7XG4gICAgICBwb2ludCA9IHsgcGF0aDogcG9pbnQucGF0aCwgb2Zmc2V0OiAwIH1cbiAgICB9XG5cbiAgICAvLyBGb3IgZWFjaCBsZWFmLCB3ZSBuZWVkIHRvIGlzb2xhdGUgaXRzIGNvbnRlbnQsIHdoaWNoIG1lYW5zIGZpbHRlcmluZ1xuICAgIC8vIHRvIGl0cyBkaXJlY3QgdGV4dCBhbmQgemVyby13aWR0aCBzcGFucy4gKFdlIGhhdmUgdG8gZmlsdGVyIG91dCBhbnlcbiAgICAvLyBvdGhlciBzaWJsaW5ncyB0aGF0IG1heSBoYXZlIGJlZW4gcmVuZGVyZWQgYWxvbmdzaWRlIHRoZW0uKVxuICAgIGNvbnN0IHNlbGVjdG9yID0gYFtkYXRhLXNsYXRlLXN0cmluZ10sIFtkYXRhLXNsYXRlLXplcm8td2lkdGhdYFxuICAgIGNvbnN0IHRleHRzID0gQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSlcbiAgICBsZXQgc3RhcnQgPSAwXG5cbiAgICBmb3IgKGNvbnN0IHRleHQgb2YgdGV4dHMpIHtcbiAgICAgIGNvbnN0IGRvbU5vZGUgPSB0ZXh0LmNoaWxkTm9kZXNbMF0gYXMgSFRNTEVsZW1lbnRcblxuICAgICAgaWYgKGRvbU5vZGUgPT0gbnVsbCB8fCBkb21Ob2RlLnRleHRDb250ZW50ID09IG51bGwpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBsZW5ndGggfSA9IGRvbU5vZGUudGV4dENvbnRlbnRcbiAgICAgIGNvbnN0IGF0dHIgPSB0ZXh0LmdldEF0dHJpYnV0ZSgnZGF0YS1zbGF0ZS1sZW5ndGgnKVxuICAgICAgY29uc3QgdHJ1ZUxlbmd0aCA9IGF0dHIgPT0gbnVsbCA/IGxlbmd0aCA6IHBhcnNlSW50KGF0dHIsIDEwKVxuICAgICAgY29uc3QgZW5kID0gc3RhcnQgKyB0cnVlTGVuZ3RoXG5cbiAgICAgIGlmIChwb2ludC5vZmZzZXQgPD0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IE1hdGgubWluKGxlbmd0aCwgTWF0aC5tYXgoMCwgcG9pbnQub2Zmc2V0IC0gc3RhcnQpKVxuICAgICAgICBkb21Qb2ludCA9IFtkb21Ob2RlLCBvZmZzZXRdXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIHN0YXJ0ID0gZW5kXG4gICAgfVxuXG4gICAgaWYgKCFkb21Qb2ludCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ2Fubm90IHJlc29sdmUgYSBET00gcG9pbnQgZnJvbSBTbGF0ZSBwb2ludDogJHtTY3J1YmJlci5zdHJpbmdpZnkoXG4gICAgICAgICAgcG9pbnRcbiAgICAgICAgKX1gXG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIGRvbVBvaW50XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbmQgYSBuYXRpdmUgRE9NIHJhbmdlIGZyb20gYSBTbGF0ZSBgcmFuZ2VgLlxuICAgKlxuICAgKiBOb3RpY2U6IHRoZSByZXR1cm5lZCByYW5nZSB3aWxsIGFsd2F5cyBiZSBvcmRpbmFsIHJlZ2FyZGxlc3Mgb2YgdGhlIGRpcmVjdGlvbiBvZiBTbGF0ZSBgcmFuZ2VgIGR1ZSB0byBET00gQVBJIGxpbWl0LlxuICAgKlxuICAgKiB0aGVyZSBpcyBubyB3YXkgdG8gY3JlYXRlIGEgcmV2ZXJzZSBET00gUmFuZ2UgdXNpbmcgUmFuZ2Uuc2V0U3RhcnQvc2V0RW5kXG4gICAqIGFjY29yZGluZyB0byBodHRwczovL2RvbS5zcGVjLndoYXR3Zy5vcmcvI2NvbmNlcHQtcmFuZ2UtYnAtc2V0LlxuICAgKi9cblxuICB0b0RPTVJhbmdlKGVkaXRvcjogUmVhY3RFZGl0b3IsIHJhbmdlOiBSYW5nZSk6IERPTVJhbmdlIHtcbiAgICBjb25zdCB7IGFuY2hvciwgZm9jdXMgfSA9IHJhbmdlXG4gICAgY29uc3QgaXNCYWNrd2FyZCA9IFJhbmdlLmlzQmFja3dhcmQocmFuZ2UpXG4gICAgY29uc3QgZG9tQW5jaG9yID0gUmVhY3RFZGl0b3IudG9ET01Qb2ludChlZGl0b3IsIGFuY2hvcilcbiAgICBjb25zdCBkb21Gb2N1cyA9IFJhbmdlLmlzQ29sbGFwc2VkKHJhbmdlKVxuICAgICAgPyBkb21BbmNob3JcbiAgICAgIDogUmVhY3RFZGl0b3IudG9ET01Qb2ludChlZGl0b3IsIGZvY3VzKVxuXG4gICAgY29uc3Qgd2luZG93ID0gUmVhY3RFZGl0b3IuZ2V0V2luZG93KGVkaXRvcilcbiAgICBjb25zdCBkb21SYW5nZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVSYW5nZSgpXG4gICAgY29uc3QgW3N0YXJ0Tm9kZSwgc3RhcnRPZmZzZXRdID0gaXNCYWNrd2FyZCA/IGRvbUZvY3VzIDogZG9tQW5jaG9yXG4gICAgY29uc3QgW2VuZE5vZGUsIGVuZE9mZnNldF0gPSBpc0JhY2t3YXJkID8gZG9tQW5jaG9yIDogZG9tRm9jdXNcblxuICAgIC8vIEEgc2xhdGUgUG9pbnQgYXQgemVyby13aWR0aCBMZWFmIGFsd2F5cyBoYXMgYW4gb2Zmc2V0IG9mIDAgYnV0IGEgbmF0aXZlIERPTSBzZWxlY3Rpb24gYXRcbiAgICAvLyB6ZXJvLXdpZHRoIG5vZGUgaGFzIGFuIG9mZnNldCBvZiAxIHNvIHdlIGhhdmUgdG8gY2hlY2sgaWYgd2UgYXJlIGluIGEgemVyby13aWR0aCBub2RlIGFuZFxuICAgIC8vIGFkanVzdCB0aGUgb2Zmc2V0IGFjY29yZGluZ2x5LlxuICAgIGNvbnN0IHN0YXJ0RWwgPSAoaXNET01FbGVtZW50KHN0YXJ0Tm9kZSlcbiAgICAgID8gc3RhcnROb2RlXG4gICAgICA6IHN0YXJ0Tm9kZS5wYXJlbnRFbGVtZW50KSBhcyBIVE1MRWxlbWVudFxuICAgIGNvbnN0IGlzU3RhcnRBdFplcm9XaWR0aCA9ICEhc3RhcnRFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2xhdGUtemVyby13aWR0aCcpXG4gICAgY29uc3QgZW5kRWwgPSAoaXNET01FbGVtZW50KGVuZE5vZGUpXG4gICAgICA/IGVuZE5vZGVcbiAgICAgIDogZW5kTm9kZS5wYXJlbnRFbGVtZW50KSBhcyBIVE1MRWxlbWVudFxuICAgIGNvbnN0IGlzRW5kQXRaZXJvV2lkdGggPSAhIWVuZEVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zbGF0ZS16ZXJvLXdpZHRoJylcblxuICAgIGRvbVJhbmdlLnNldFN0YXJ0KHN0YXJ0Tm9kZSwgaXNTdGFydEF0WmVyb1dpZHRoID8gMSA6IHN0YXJ0T2Zmc2V0KVxuICAgIGRvbVJhbmdlLnNldEVuZChlbmROb2RlLCBpc0VuZEF0WmVyb1dpZHRoID8gMSA6IGVuZE9mZnNldClcbiAgICByZXR1cm4gZG9tUmFuZ2VcbiAgfSxcblxuICAvKipcbiAgICogRmluZCBhIFNsYXRlIG5vZGUgZnJvbSBhIG5hdGl2ZSBET00gYGVsZW1lbnRgLlxuICAgKi9cblxuICB0b1NsYXRlTm9kZShlZGl0b3I6IFJlYWN0RWRpdG9yLCBkb21Ob2RlOiBET01Ob2RlKTogTm9kZSB7XG4gICAgbGV0IGRvbUVsID0gaXNET01FbGVtZW50KGRvbU5vZGUpID8gZG9tTm9kZSA6IGRvbU5vZGUucGFyZW50RWxlbWVudFxuXG4gICAgaWYgKGRvbUVsICYmICFkb21FbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc2xhdGUtbm9kZScpKSB7XG4gICAgICBkb21FbCA9IGRvbUVsLmNsb3Nlc3QoYFtkYXRhLXNsYXRlLW5vZGVdYClcbiAgICB9XG5cbiAgICBjb25zdCBub2RlID0gZG9tRWwgPyBFTEVNRU5UX1RPX05PREUuZ2V0KGRvbUVsIGFzIEhUTUxFbGVtZW50KSA6IG51bGxcblxuICAgIGlmICghbm9kZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmVzb2x2ZSBhIFNsYXRlIG5vZGUgZnJvbSBET00gbm9kZTogJHtkb21FbH1gKVxuICAgIH1cblxuICAgIHJldHVybiBub2RlXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdGFyZ2V0IHJhbmdlIGZyb20gYSBET00gYGV2ZW50YC5cbiAgICovXG5cbiAgZmluZEV2ZW50UmFuZ2UoZWRpdG9yOiBSZWFjdEVkaXRvciwgZXZlbnQ6IGFueSk6IFJhbmdlIHtcbiAgICBpZiAoJ25hdGl2ZUV2ZW50JyBpbiBldmVudCkge1xuICAgICAgZXZlbnQgPSBldmVudC5uYXRpdmVFdmVudFxuICAgIH1cblxuICAgIGNvbnN0IHsgY2xpZW50WDogeCwgY2xpZW50WTogeSwgdGFyZ2V0IH0gPSBldmVudFxuXG4gICAgaWYgKHggPT0gbnVsbCB8fCB5ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHJlc29sdmUgYSBTbGF0ZSByYW5nZSBmcm9tIGEgRE9NIGV2ZW50OiAke2V2ZW50fWApXG4gICAgfVxuXG4gICAgY29uc3Qgbm9kZSA9IFJlYWN0RWRpdG9yLnRvU2xhdGVOb2RlKGVkaXRvciwgZXZlbnQudGFyZ2V0KVxuICAgIGNvbnN0IHBhdGggPSBSZWFjdEVkaXRvci5maW5kUGF0aChlZGl0b3IsIG5vZGUpXG5cbiAgICAvLyBJZiB0aGUgZHJvcCB0YXJnZXQgaXMgaW5zaWRlIGEgdm9pZCBub2RlLCBtb3ZlIGl0IGludG8gZWl0aGVyIHRoZVxuICAgIC8vIG5leHQgb3IgcHJldmlvdXMgbm9kZSwgZGVwZW5kaW5nIG9uIHdoaWNoIHNpZGUgdGhlIGB4YCBhbmQgYHlgXG4gICAgLy8gY29vcmRpbmF0ZXMgYXJlIGNsb3Nlc3QgdG8uXG4gICAgaWYgKEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBub2RlKSkge1xuICAgICAgY29uc3QgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgY29uc3QgaXNQcmV2ID0gZWRpdG9yLmlzSW5saW5lKG5vZGUpXG4gICAgICAgID8geCAtIHJlY3QubGVmdCA8IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLSB4XG4gICAgICAgIDogeSAtIHJlY3QudG9wIDwgcmVjdC50b3AgKyByZWN0LmhlaWdodCAtIHlcblxuICAgICAgY29uc3QgZWRnZSA9IEVkaXRvci5wb2ludChlZGl0b3IsIHBhdGgsIHtcbiAgICAgICAgZWRnZTogaXNQcmV2ID8gJ3N0YXJ0JyA6ICdlbmQnLFxuICAgICAgfSlcbiAgICAgIGNvbnN0IHBvaW50ID0gaXNQcmV2XG4gICAgICAgID8gRWRpdG9yLmJlZm9yZShlZGl0b3IsIGVkZ2UpXG4gICAgICAgIDogRWRpdG9yLmFmdGVyKGVkaXRvciwgZWRnZSlcblxuICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgcG9pbnQpXG4gICAgICAgIHJldHVybiByYW5nZVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVsc2UgcmVzb2x2ZSBhIHJhbmdlIGZyb20gdGhlIGNhcmV0IHBvc2l0aW9uIHdoZXJlIHRoZSBkcm9wIG9jY3VyZWQuXG4gICAgbGV0IGRvbVJhbmdlXG4gICAgY29uc3QgeyBkb2N1bWVudCB9ID0gUmVhY3RFZGl0b3IuZ2V0V2luZG93KGVkaXRvcilcblxuICAgIC8vIENPTVBBVDogSW4gRmlyZWZveCwgYGNhcmV0UmFuZ2VGcm9tUG9pbnRgIGRvZXNuJ3QgZXhpc3QuICgyMDE2LzA3LzI1KVxuICAgIGlmIChkb2N1bWVudC5jYXJldFJhbmdlRnJvbVBvaW50KSB7XG4gICAgICBkb21SYW5nZSA9IGRvY3VtZW50LmNhcmV0UmFuZ2VGcm9tUG9pbnQoeCwgeSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcG9zaXRpb24gPSBkb2N1bWVudC5jYXJldFBvc2l0aW9uRnJvbVBvaW50KHgsIHkpXG5cbiAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICBkb21SYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKClcbiAgICAgICAgZG9tUmFuZ2Uuc2V0U3RhcnQocG9zaXRpb24ub2Zmc2V0Tm9kZSwgcG9zaXRpb24ub2Zmc2V0KVxuICAgICAgICBkb21SYW5nZS5zZXRFbmQocG9zaXRpb24ub2Zmc2V0Tm9kZSwgcG9zaXRpb24ub2Zmc2V0KVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZG9tUmFuZ2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHJlc29sdmUgYSBTbGF0ZSByYW5nZSBmcm9tIGEgRE9NIGV2ZW50OiAke2V2ZW50fWApXG4gICAgfVxuXG4gICAgLy8gUmVzb2x2ZSBhIFNsYXRlIHJhbmdlIGZyb20gdGhlIERPTSByYW5nZS5cbiAgICBjb25zdCByYW5nZSA9IFJlYWN0RWRpdG9yLnRvU2xhdGVSYW5nZShlZGl0b3IsIGRvbVJhbmdlLCB7XG4gICAgICBleGFjdE1hdGNoOiBmYWxzZSxcbiAgICAgIHN1cHByZXNzVGhyb3c6IGZhbHNlLFxuICAgIH0pXG4gICAgcmV0dXJuIHJhbmdlXG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbmQgYSBTbGF0ZSBwb2ludCBmcm9tIGEgRE9NIHNlbGVjdGlvbidzIGBkb21Ob2RlYCBhbmQgYGRvbU9mZnNldGAuXG4gICAqL1xuXG4gIHRvU2xhdGVQb2ludDxUIGV4dGVuZHMgYm9vbGVhbj4oXG4gICAgZWRpdG9yOiBSZWFjdEVkaXRvcixcbiAgICBkb21Qb2ludDogRE9NUG9pbnQsXG4gICAgb3B0aW9uczoge1xuICAgICAgZXhhY3RNYXRjaDogVFxuICAgICAgc3VwcHJlc3NUaHJvdzogVFxuICAgIH1cbiAgKTogVCBleHRlbmRzIHRydWUgPyBQb2ludCB8IG51bGwgOiBQb2ludCB7XG4gICAgY29uc3QgeyBleGFjdE1hdGNoLCBzdXBwcmVzc1Rocm93IH0gPSBvcHRpb25zXG4gICAgY29uc3QgW25lYXJlc3ROb2RlLCBuZWFyZXN0T2Zmc2V0XSA9IGV4YWN0TWF0Y2hcbiAgICAgID8gZG9tUG9pbnRcbiAgICAgIDogbm9ybWFsaXplRE9NUG9pbnQoZG9tUG9pbnQpXG4gICAgY29uc3QgcGFyZW50Tm9kZSA9IG5lYXJlc3ROb2RlLnBhcmVudE5vZGUgYXMgRE9NRWxlbWVudFxuICAgIGxldCB0ZXh0Tm9kZTogRE9NRWxlbWVudCB8IG51bGwgPSBudWxsXG4gICAgbGV0IG9mZnNldCA9IDBcblxuICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICBjb25zdCBlZGl0b3JFbCA9IFJlYWN0RWRpdG9yLnRvRE9NTm9kZShlZGl0b3IsIGVkaXRvcilcbiAgICAgIGNvbnN0IHBvdGVudGlhbFZvaWROb2RlID0gcGFyZW50Tm9kZS5jbG9zZXN0KCdbZGF0YS1zbGF0ZS12b2lkPVwidHJ1ZVwiXScpXG4gICAgICAvLyBOZWVkIHRvIGVuc3VyZSB0aGF0IHRoZSBjbG9zZXN0IHZvaWQgbm9kZSBpcyBhY3R1YWxseSBhIHZvaWQgbm9kZVxuICAgICAgLy8gd2l0aGluIHRoaXMgZWRpdG9yLCBhbmQgbm90IGEgdm9pZCBub2RlIHdpdGhpbiBzb21lIHBhcmVudCBlZGl0b3IuIFRoaXMgY2FuIGhhcHBlblxuICAgICAgLy8gaWYgdGhpcyBlZGl0b3IgaXMgd2l0aGluIGEgdm9pZCBub2RlIG9mIGFub3RoZXIgZWRpdG9yIChcIm5lc3RlZCBlZGl0b3JzXCIsIGxpa2UgaW5cbiAgICAgIC8vIHRoZSBcIkVkaXRhYmxlIFZvaWRzXCIgZXhhbXBsZSBvbiB0aGUgZG9jcyBzaXRlKS5cbiAgICAgIGNvbnN0IHZvaWROb2RlID1cbiAgICAgICAgcG90ZW50aWFsVm9pZE5vZGUgJiYgZWRpdG9yRWwuY29udGFpbnMocG90ZW50aWFsVm9pZE5vZGUpXG4gICAgICAgICAgPyBwb3RlbnRpYWxWb2lkTm9kZVxuICAgICAgICAgIDogbnVsbFxuICAgICAgbGV0IGxlYWZOb2RlID0gcGFyZW50Tm9kZS5jbG9zZXN0KCdbZGF0YS1zbGF0ZS1sZWFmXScpXG4gICAgICBsZXQgZG9tTm9kZTogRE9NRWxlbWVudCB8IG51bGwgPSBudWxsXG5cbiAgICAgIC8vIENhbGN1bGF0ZSBob3cgZmFyIGludG8gdGhlIHRleHQgbm9kZSB0aGUgYG5lYXJlc3ROb2RlYCBpcywgc28gdGhhdCB3ZVxuICAgICAgLy8gY2FuIGRldGVybWluZSB3aGF0IHRoZSBvZmZzZXQgcmVsYXRpdmUgdG8gdGhlIHRleHQgbm9kZSBpcy5cbiAgICAgIGlmIChsZWFmTm9kZSkge1xuICAgICAgICB0ZXh0Tm9kZSA9IGxlYWZOb2RlLmNsb3Nlc3QoJ1tkYXRhLXNsYXRlLW5vZGU9XCJ0ZXh0XCJdJylcblxuICAgICAgICBpZiAodGV4dE5vZGUpIHtcbiAgICAgICAgICBjb25zdCB3aW5kb3cgPSBSZWFjdEVkaXRvci5nZXRXaW5kb3coZWRpdG9yKVxuICAgICAgICAgIGNvbnN0IHJhbmdlID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZVJhbmdlKClcbiAgICAgICAgICByYW5nZS5zZXRTdGFydCh0ZXh0Tm9kZSwgMClcbiAgICAgICAgICByYW5nZS5zZXRFbmQobmVhcmVzdE5vZGUsIG5lYXJlc3RPZmZzZXQpXG5cbiAgICAgICAgICBjb25zdCBjb250ZW50cyA9IHJhbmdlLmNsb25lQ29udGVudHMoKVxuICAgICAgICAgIGNvbnN0IHJlbW92YWxzID0gW1xuICAgICAgICAgICAgLi4uQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG4gICAgICAgICAgICAgIGNvbnRlbnRzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNsYXRlLXplcm8td2lkdGhdJylcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAuLi5BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgICAgICAgICAgY29udGVudHMucXVlcnlTZWxlY3RvckFsbCgnW2NvbnRlbnRlZGl0YWJsZT1mYWxzZV0nKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBdXG5cbiAgICAgICAgICByZW1vdmFscy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgIGVsIS5wYXJlbnROb2RlIS5yZW1vdmVDaGlsZChlbClcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgLy8gQ09NUEFUOiBFZGdlIGhhcyBhIGJ1ZyB3aGVyZSBSYW5nZS5wcm90b3R5cGUudG9TdHJpbmcoKSB3aWxsXG4gICAgICAgICAgLy8gY29udmVydCBcXG4gaW50byBcXHJcXG4uIFRoZSBidWcgY2F1c2VzIGEgbG9vcCB3aGVuIHNsYXRlLXJlYWN0XG4gICAgICAgICAgLy8gYXR0ZW1wdHMgdG8gcmVwb3NpdGlvbiBpdHMgY3Vyc29yIHRvIG1hdGNoIHRoZSBuYXRpdmUgcG9zaXRpb24uIFVzZVxuICAgICAgICAgIC8vIHRleHRDb250ZW50Lmxlbmd0aCBpbnN0ZWFkLlxuICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vaXNzdWVzLzEwMjkxMTE2L1xuICAgICAgICAgIG9mZnNldCA9IGNvbnRlbnRzLnRleHRDb250ZW50IS5sZW5ndGhcbiAgICAgICAgICBkb21Ob2RlID0gdGV4dE5vZGVcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2b2lkTm9kZSkge1xuICAgICAgICAvLyBGb3Igdm9pZCBub2RlcywgdGhlIGVsZW1lbnQgd2l0aCB0aGUgb2Zmc2V0IGtleSB3aWxsIGJlIGEgY291c2luLCBub3QgYW5cbiAgICAgICAgLy8gYW5jZXN0b3IsIHNvIGZpbmQgaXQgYnkgZ29pbmcgZG93biBmcm9tIHRoZSBuZWFyZXN0IHZvaWQgcGFyZW50LlxuICAgICAgICBsZWFmTm9kZSA9IHZvaWROb2RlLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXNsYXRlLWxlYWZdJykhXG5cbiAgICAgICAgLy8gQ09NUEFUOiBJbiByZWFkLW9ubHkgZWRpdG9ycyB0aGUgbGVhZiBpcyBub3QgcmVuZGVyZWQuXG4gICAgICAgIGlmICghbGVhZk5vZGUpIHtcbiAgICAgICAgICBvZmZzZXQgPSAxXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGV4dE5vZGUgPSBsZWFmTm9kZS5jbG9zZXN0KCdbZGF0YS1zbGF0ZS1ub2RlPVwidGV4dFwiXScpIVxuICAgICAgICAgIGRvbU5vZGUgPSBsZWFmTm9kZVxuICAgICAgICAgIG9mZnNldCA9IGRvbU5vZGUudGV4dENvbnRlbnQhLmxlbmd0aFxuICAgICAgICAgIGRvbU5vZGUucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2xhdGUtemVyby13aWR0aF0nKS5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgIG9mZnNldCAtPSBlbC50ZXh0Q29udGVudCEubGVuZ3RoXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIGRvbU5vZGUgJiZcbiAgICAgICAgb2Zmc2V0ID09PSBkb21Ob2RlLnRleHRDb250ZW50IS5sZW5ndGggJiZcbiAgICAgICAgLy8gQ09NUEFUOiBJZiB0aGUgcGFyZW50IG5vZGUgaXMgYSBTbGF0ZSB6ZXJvLXdpZHRoIHNwYWNlLCBlZGl0b3IgaXNcbiAgICAgICAgLy8gYmVjYXVzZSB0aGUgdGV4dCBub2RlIHNob3VsZCBoYXZlIG5vIGNoYXJhY3RlcnMuIEhvd2V2ZXIsIGR1cmluZyBJTUVcbiAgICAgICAgLy8gY29tcG9zaXRpb24gdGhlIEFTQ0lJIGNoYXJhY3RlcnMgd2lsbCBiZSBwcmVwZW5kZWQgdG8gdGhlIHplcm8td2lkdGhcbiAgICAgICAgLy8gc3BhY2UsIHNvIHN1YnRyYWN0IDEgZnJvbSB0aGUgb2Zmc2V0IHRvIGFjY291bnQgZm9yIHRoZSB6ZXJvLXdpZHRoXG4gICAgICAgIC8vIHNwYWNlIGNoYXJhY3Rlci5cbiAgICAgICAgKHBhcmVudE5vZGUuaGFzQXR0cmlidXRlKCdkYXRhLXNsYXRlLXplcm8td2lkdGgnKSB8fFxuICAgICAgICAgIC8vIENPTVBBVDogSW4gRmlyZWZveCwgYHJhbmdlLmNsb25lQ29udGVudHMoKWAgcmV0dXJucyBhbiBleHRyYSB0cmFpbGluZyAnXFxuJ1xuICAgICAgICAgIC8vIHdoZW4gdGhlIGRvY3VtZW50IGVuZHMgd2l0aCBhIG5ldy1saW5lIGNoYXJhY3Rlci4gVGhpcyByZXN1bHRzIGluIHRoZSBvZmZzZXRcbiAgICAgICAgICAvLyBsZW5ndGggYmVpbmcgb2ZmIGJ5IG9uZSwgc28gd2UgbmVlZCB0byBzdWJ0cmFjdCBvbmUgdG8gYWNjb3VudCBmb3IgdGhpcy5cbiAgICAgICAgICAoSVNfRklSRUZPWCAmJiBkb21Ob2RlLnRleHRDb250ZW50Py5lbmRzV2l0aCgnXFxuXFxuJykpKVxuICAgICAgKSB7XG4gICAgICAgIG9mZnNldC0tXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0ZXh0Tm9kZSkge1xuICAgICAgaWYgKHN1cHByZXNzVGhyb3cpIHtcbiAgICAgICAgcmV0dXJuIG51bGwgYXMgVCBleHRlbmRzIHRydWUgPyBQb2ludCB8IG51bGwgOiBQb2ludFxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ2Fubm90IHJlc29sdmUgYSBTbGF0ZSBwb2ludCBmcm9tIERPTSBwb2ludDogJHtkb21Qb2ludH1gXG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gQ09NUEFUOiBJZiBzb21lb25lIGlzIGNsaWNraW5nIGZyb20gb25lIFNsYXRlIGVkaXRvciBpbnRvIGFub3RoZXIsXG4gICAgLy8gdGhlIHNlbGVjdCBldmVudCBmaXJlcyB0d2ljZSwgb25jZSBmb3IgdGhlIG9sZCBlZGl0b3IncyBgZWxlbWVudGBcbiAgICAvLyBmaXJzdCwgYW5kIHRoZW4gYWZ0ZXJ3YXJkcyBmb3IgdGhlIGNvcnJlY3QgYGVsZW1lbnRgLiAoMjAxNy8wMy8wMylcbiAgICBjb25zdCBzbGF0ZU5vZGUgPSBSZWFjdEVkaXRvci50b1NsYXRlTm9kZShlZGl0b3IsIHRleHROb2RlISlcbiAgICBjb25zdCBwYXRoID0gUmVhY3RFZGl0b3IuZmluZFBhdGgoZWRpdG9yLCBzbGF0ZU5vZGUpXG4gICAgcmV0dXJuIHsgcGF0aCwgb2Zmc2V0IH0gYXMgVCBleHRlbmRzIHRydWUgPyBQb2ludCB8IG51bGwgOiBQb2ludFxuICB9LFxuXG4gIC8qKlxuICAgKiBGaW5kIGEgU2xhdGUgcmFuZ2UgZnJvbSBhIERPTSByYW5nZSBvciBzZWxlY3Rpb24uXG4gICAqL1xuXG4gIHRvU2xhdGVSYW5nZTxUIGV4dGVuZHMgYm9vbGVhbj4oXG4gICAgZWRpdG9yOiBSZWFjdEVkaXRvcixcbiAgICBkb21SYW5nZTogRE9NUmFuZ2UgfCBET01TdGF0aWNSYW5nZSB8IERPTVNlbGVjdGlvbixcbiAgICBvcHRpb25zOiB7XG4gICAgICBleGFjdE1hdGNoOiBUXG4gICAgICBzdXBwcmVzc1Rocm93OiBUXG4gICAgfVxuICApOiBUIGV4dGVuZHMgdHJ1ZSA/IFJhbmdlIHwgbnVsbCA6IFJhbmdlIHtcbiAgICBjb25zdCB7IGV4YWN0TWF0Y2gsIHN1cHByZXNzVGhyb3cgfSA9IG9wdGlvbnNcbiAgICBjb25zdCBlbCA9IGlzRE9NU2VsZWN0aW9uKGRvbVJhbmdlKVxuICAgICAgPyBkb21SYW5nZS5hbmNob3JOb2RlXG4gICAgICA6IGRvbVJhbmdlLnN0YXJ0Q29udGFpbmVyXG4gICAgbGV0IGFuY2hvck5vZGVcbiAgICBsZXQgYW5jaG9yT2Zmc2V0XG4gICAgbGV0IGZvY3VzTm9kZVxuICAgIGxldCBmb2N1c09mZnNldFxuICAgIGxldCBpc0NvbGxhcHNlZFxuXG4gICAgaWYgKGVsKSB7XG4gICAgICBpZiAoaXNET01TZWxlY3Rpb24oZG9tUmFuZ2UpKSB7XG4gICAgICAgIGFuY2hvck5vZGUgPSBkb21SYW5nZS5hbmNob3JOb2RlXG4gICAgICAgIGFuY2hvck9mZnNldCA9IGRvbVJhbmdlLmFuY2hvck9mZnNldFxuICAgICAgICBmb2N1c05vZGUgPSBkb21SYW5nZS5mb2N1c05vZGVcbiAgICAgICAgZm9jdXNPZmZzZXQgPSBkb21SYW5nZS5mb2N1c09mZnNldFxuICAgICAgICAvLyBDT01QQVQ6IFRoZXJlJ3MgYSBidWcgaW4gY2hyb21lIHRoYXQgYWx3YXlzIHJldHVybnMgYHRydWVgIGZvclxuICAgICAgICAvLyBgaXNDb2xsYXBzZWRgIGZvciBhIFNlbGVjdGlvbiB0aGF0IGNvbWVzIGZyb20gYSBTaGFkb3dSb290LlxuICAgICAgICAvLyAoMjAyMC8wOC8wOClcbiAgICAgICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3NTIzXG4gICAgICAgIGlmIChJU19DSFJPTUUgJiYgaGFzU2hhZG93Um9vdCgpKSB7XG4gICAgICAgICAgaXNDb2xsYXBzZWQgPVxuICAgICAgICAgICAgZG9tUmFuZ2UuYW5jaG9yTm9kZSA9PT0gZG9tUmFuZ2UuZm9jdXNOb2RlICYmXG4gICAgICAgICAgICBkb21SYW5nZS5hbmNob3JPZmZzZXQgPT09IGRvbVJhbmdlLmZvY3VzT2Zmc2V0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXNDb2xsYXBzZWQgPSBkb21SYW5nZS5pc0NvbGxhcHNlZFxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbmNob3JOb2RlID0gZG9tUmFuZ2Uuc3RhcnRDb250YWluZXJcbiAgICAgICAgYW5jaG9yT2Zmc2V0ID0gZG9tUmFuZ2Uuc3RhcnRPZmZzZXRcbiAgICAgICAgZm9jdXNOb2RlID0gZG9tUmFuZ2UuZW5kQ29udGFpbmVyXG4gICAgICAgIGZvY3VzT2Zmc2V0ID0gZG9tUmFuZ2UuZW5kT2Zmc2V0XG4gICAgICAgIGlzQ29sbGFwc2VkID0gZG9tUmFuZ2UuY29sbGFwc2VkXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgYW5jaG9yTm9kZSA9PSBudWxsIHx8XG4gICAgICBmb2N1c05vZGUgPT0gbnVsbCB8fFxuICAgICAgYW5jaG9yT2Zmc2V0ID09IG51bGwgfHxcbiAgICAgIGZvY3VzT2Zmc2V0ID09IG51bGxcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENhbm5vdCByZXNvbHZlIGEgU2xhdGUgcmFuZ2UgZnJvbSBET00gcmFuZ2U6ICR7ZG9tUmFuZ2V9YFxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IGFuY2hvciA9IFJlYWN0RWRpdG9yLnRvU2xhdGVQb2ludChcbiAgICAgIGVkaXRvcixcbiAgICAgIFthbmNob3JOb2RlLCBhbmNob3JPZmZzZXRdLFxuICAgICAgeyBleGFjdE1hdGNoLCBzdXBwcmVzc1Rocm93IH1cbiAgICApXG4gICAgaWYgKCFhbmNob3IpIHtcbiAgICAgIHJldHVybiBudWxsIGFzIFQgZXh0ZW5kcyB0cnVlID8gUmFuZ2UgfCBudWxsIDogUmFuZ2VcbiAgICB9XG5cbiAgICBjb25zdCBmb2N1cyA9IGlzQ29sbGFwc2VkXG4gICAgICA/IGFuY2hvclxuICAgICAgOiBSZWFjdEVkaXRvci50b1NsYXRlUG9pbnQoZWRpdG9yLCBbZm9jdXNOb2RlLCBmb2N1c09mZnNldF0sIHtcbiAgICAgICAgICBleGFjdE1hdGNoLFxuICAgICAgICAgIHN1cHByZXNzVGhyb3csXG4gICAgICAgIH0pXG4gICAgaWYgKCFmb2N1cykge1xuICAgICAgcmV0dXJuIG51bGwgYXMgVCBleHRlbmRzIHRydWUgPyBSYW5nZSB8IG51bGwgOiBSYW5nZVxuICAgIH1cblxuICAgIGxldCByYW5nZTogUmFuZ2UgPSB7IGFuY2hvcjogYW5jaG9yIGFzIFBvaW50LCBmb2N1czogZm9jdXMgYXMgUG9pbnQgfVxuICAgIC8vIGlmIHRoZSBzZWxlY3Rpb24gaXMgYSBoYW5naW5nIHJhbmdlIHRoYXQgZW5kcyBpbiBhIHZvaWRcbiAgICAvLyBhbmQgdGhlIERPTSBmb2N1cyBpcyBhbiBFbGVtZW50XG4gICAgLy8gKG1lYW5pbmcgdGhhdCB0aGUgc2VsZWN0aW9uIGVuZHMgYmVmb3JlIHRoZSBlbGVtZW50KVxuICAgIC8vIHVuaGFuZyB0aGUgcmFuZ2UgdG8gYXZvaWQgbWlzdGFrZW5seSBpbmNsdWRpbmcgdGhlIHZvaWRcbiAgICBpZiAoXG4gICAgICBSYW5nZS5pc0V4cGFuZGVkKHJhbmdlKSAmJlxuICAgICAgUmFuZ2UuaXNGb3J3YXJkKHJhbmdlKSAmJlxuICAgICAgaXNET01FbGVtZW50KGZvY3VzTm9kZSkgJiZcbiAgICAgIEVkaXRvci52b2lkKGVkaXRvciwgeyBhdDogcmFuZ2UuZm9jdXMsIG1vZGU6ICdoaWdoZXN0JyB9KVxuICAgICkge1xuICAgICAgcmFuZ2UgPSBFZGl0b3IudW5oYW5nUmFuZ2UoZWRpdG9yLCByYW5nZSwgeyB2b2lkczogdHJ1ZSB9KVxuICAgIH1cblxuICAgIHJldHVybiAocmFuZ2UgYXMgdW5rbm93bikgYXMgVCBleHRlbmRzIHRydWUgPyBSYW5nZSB8IG51bGwgOiBSYW5nZVxuICB9LFxuXG4gIGhhc1JhbmdlKGVkaXRvcjogUmVhY3RFZGl0b3IsIHJhbmdlOiBSYW5nZSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHsgYW5jaG9yLCBmb2N1cyB9ID0gcmFuZ2VcbiAgICByZXR1cm4gKFxuICAgICAgRWRpdG9yLmhhc1BhdGgoZWRpdG9yLCBhbmNob3IucGF0aCkgJiYgRWRpdG9yLmhhc1BhdGgoZWRpdG9yLCBmb2N1cy5wYXRoKVxuICAgIClcbiAgfSxcbn1cbiIsImltcG9ydCB7IEVkaXRvciwgTm9kZSwgUGF0aCwgUmFuZ2UgfSBmcm9tICdzbGF0ZSdcblxuaW1wb3J0IHsgRE9NTm9kZSB9IGZyb20gJy4uLy4uL3V0aWxzL2RvbSdcbmltcG9ydCB7IFJlYWN0RWRpdG9yIH0gZnJvbSAnLi4vLi4nXG5pbXBvcnQgeyBUZXh0SW5zZXJ0aW9uLCBnZXRUZXh0SW5zZXJ0aW9uIH0gZnJvbSAnLi9kaWZmLXRleHQnXG5cbmludGVyZmFjZSBNdXRhdGlvbkRhdGEge1xuICBhZGRlZE5vZGVzOiBET01Ob2RlW11cbiAgcmVtb3ZlZE5vZGVzOiBET01Ob2RlW11cbiAgaW5zZXJ0ZWRUZXh0OiBUZXh0SW5zZXJ0aW9uW11cbiAgY2hhcmFjdGVyRGF0YU11dGF0aW9uczogTXV0YXRpb25SZWNvcmRbXVxufVxuXG50eXBlIE11dGF0aW9uRGV0ZWN0aW9uID0gKGVkaXRvcjogRWRpdG9yLCBtdXRhdGlvbkRhdGE6IE11dGF0aW9uRGF0YSkgPT4gYm9vbGVhblxuXG5leHBvcnQgZnVuY3Rpb24gZ2F0aGVyTXV0YXRpb25EYXRhKFxuICBlZGl0b3I6IEVkaXRvcixcbiAgbXV0YXRpb25zOiBNdXRhdGlvblJlY29yZFtdXG4pOiBNdXRhdGlvbkRhdGEge1xuICBjb25zdCBhZGRlZE5vZGVzOiBET01Ob2RlW10gPSBbXVxuICBjb25zdCByZW1vdmVkTm9kZXM6IERPTU5vZGVbXSA9IFtdXG4gIGNvbnN0IGluc2VydGVkVGV4dDogVGV4dEluc2VydGlvbltdID0gW11cbiAgY29uc3QgY2hhcmFjdGVyRGF0YU11dGF0aW9uczogTXV0YXRpb25SZWNvcmRbXSA9IFtdXG5cbiAgbXV0YXRpb25zLmZvckVhY2gobXV0YXRpb24gPT4ge1xuICAgIHN3aXRjaCAobXV0YXRpb24udHlwZSkge1xuICAgICAgY2FzZSAnY2hpbGRMaXN0Jzoge1xuICAgICAgICBpZiAobXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICBtdXRhdGlvbi5hZGRlZE5vZGVzLmZvckVhY2goYWRkZWROb2RlID0+IHtcbiAgICAgICAgICAgIGFkZGVkTm9kZXMucHVzaChhZGRlZE5vZGUpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIG11dGF0aW9uLnJlbW92ZWROb2Rlcy5mb3JFYWNoKHJlbW92ZWROb2RlID0+IHtcbiAgICAgICAgICByZW1vdmVkTm9kZXMucHVzaChyZW1vdmVkTm9kZSlcbiAgICAgICAgfSlcblxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnY2hhcmFjdGVyRGF0YSc6IHtcbiAgICAgICAgY2hhcmFjdGVyRGF0YU11dGF0aW9ucy5wdXNoKG11dGF0aW9uKVxuXG4gICAgICAgIC8vIENoYW5nZXMgdG8gdGV4dCBub2RlcyBzaG91bGQgY29uc2lkZXIgdGhlIHBhcmVudCBlbGVtZW50XG4gICAgICAgIGNvbnN0IHsgcGFyZW50Tm9kZSB9ID0gbXV0YXRpb24udGFyZ2V0XG5cbiAgICAgICAgaWYgKCFwYXJlbnROb2RlKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0ZXh0SW5zZXJ0aW9uID0gZ2V0VGV4dEluc2VydGlvbihlZGl0b3IsIHBhcmVudE5vZGUpXG5cbiAgICAgICAgaWYgKCF0ZXh0SW5zZXJ0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGRldGVjdGVkIGEgZGlmZiBhdCB0aGF0IHBhdGgsIHdlIGNhbiByZXR1cm4gZWFybHlcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGluc2VydGVkVGV4dC5zb21lKCh7IHBhdGggfSkgPT4gUGF0aC5lcXVhbHMocGF0aCwgdGV4dEluc2VydGlvbi5wYXRoKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgdGhlIHRleHQgZGlmZiB0byB0aGUgYXJyYXkgb2YgZGV0ZWN0ZWQgdGV4dCBpbnNlcnRpb25zIHRoYXQgbmVlZCB0byBiZSByZWNvbmNpbGVkXG4gICAgICAgIGluc2VydGVkVGV4dC5wdXNoKHRleHRJbnNlcnRpb24pXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIHJldHVybiB7IGFkZGVkTm9kZXMsIHJlbW92ZWROb2RlcywgaW5zZXJ0ZWRUZXh0LCBjaGFyYWN0ZXJEYXRhTXV0YXRpb25zIH1cbn1cblxuLyoqXG4gKiBJbiBnZW5lcmFsLCB3aGVuIGEgbGluZSBicmVhayBvY2N1cnMsIHRoZXJlIHdpbGwgYmUgbW9yZSBgYWRkZWROb2Rlc2AgdGhhbiBgcmVtb3ZlZE5vZGVzYC5cbiAqXG4gKiBUaGlzIGlzbid0IGFsd2F5cyB0aGUgY2FzZSBob3dldmVyLiBJbiBzb21lIGNhc2VzLCB0aGVyZSB3aWxsIGJlIG1vcmUgYHJlbW92ZWROb2Rlc2AgdGhhblxuICogYGFkZGVkTm9kZXNgLlxuICpcbiAqIFRvIGFjY291bnQgZm9yIHRoZXNlIGVkZ2UgY2FzZXMsIHRoZSBtb3N0IHJlbGlhYmxlIHN0cmF0ZWd5IHRvIGRldGVjdCBsaW5lIGJyZWFrIG11dGF0aW9uc1xuICogaXMgdG8gY2hlY2sgd2hldGhlciBhIG5ldyBibG9jayB3YXMgaW5zZXJ0ZWQgb2YgdGhlIHNhbWUgdHlwZSBhcyB0aGUgY3VycmVudCBibG9jay5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzTGluZUJyZWFrOiBNdXRhdGlvbkRldGVjdGlvbiA9IChlZGl0b3IsIHsgYWRkZWROb2RlcyB9KSA9PiB7XG4gIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBlZGl0b3JcbiAgY29uc3QgcGFyZW50Tm9kZSA9IHNlbGVjdGlvblxuICAgID8gTm9kZS5wYXJlbnQoZWRpdG9yLCBzZWxlY3Rpb24uYW5jaG9yLnBhdGgpXG4gICAgOiBudWxsXG4gIGNvbnN0IHBhcmVudERPTU5vZGUgPSBwYXJlbnROb2RlXG4gICAgPyBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBwYXJlbnROb2RlKVxuICAgIDogbnVsbFxuXG4gIGlmICghcGFyZW50RE9NTm9kZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcmV0dXJuIGFkZGVkTm9kZXMuc29tZShcbiAgICBhZGRlZE5vZGUgPT5cbiAgICAgIGFkZGVkTm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXG4gICAgICBhZGRlZE5vZGUudGFnTmFtZSA9PT0gcGFyZW50RE9NTm9kZT8udGFnTmFtZVxuICApXG59XG5cbi8qKlxuICogU28gbG9uZyBhcyB3ZSBjaGVjayBmb3IgbGluZSBicmVhayBtdXRhdGlvbnMgYmVmb3JlIGRlbGV0aW9uIG11dGF0aW9ucyxcbiAqIHdlIGNhbiBzYWZlbHkgYXNzdW1lIHRoYXQgYSBzZXQgb2YgbXV0YXRpb25zIHdhcyBhIGRlbGV0aW9uIGlmIHRoZXJlIGFyZVxuICogcmVtb3ZlZCBub2Rlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzRGVsZXRpb246IE11dGF0aW9uRGV0ZWN0aW9uID0gKF8sIHsgcmVtb3ZlZE5vZGVzIH0pID0+IHtcbiAgcmV0dXJuIHJlbW92ZWROb2Rlcy5sZW5ndGggPiAwXG59XG5cbi8qKlxuICogSWYgdGhlIHNlbGVjdGlvbiB3YXMgZXhwYW5kZWQgYW5kIHRoZXJlIGFyZSByZW1vdmVkIG5vZGVzLFxuICogdGhlIGNvbnRlbnRzIG9mIHRoZSBzZWxlY3Rpb24gbmVlZCB0byBiZSByZXBsYWNlZCB3aXRoIHRoZSBkaWZmXG4gKi9cbmV4cG9ydCBjb25zdCBpc1JlcGxhY2VFeHBhbmRlZFNlbGVjdGlvbjogTXV0YXRpb25EZXRlY3Rpb24gPSAoXG4gIHsgc2VsZWN0aW9uIH0sXG4gIHsgcmVtb3ZlZE5vZGVzIH1cbikgPT4ge1xuICByZXR1cm4gc2VsZWN0aW9uXG4gICAgPyBSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikgJiYgcmVtb3ZlZE5vZGVzLmxlbmd0aCA+IDBcbiAgICA6IGZhbHNlXG59XG5cbi8qKlxuICogUGxhaW4gdGV4dCBpbnNlcnRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGlzVGV4dEluc2VydGlvbjogTXV0YXRpb25EZXRlY3Rpb24gPSAoXywgeyBpbnNlcnRlZFRleHQgfSkgPT4ge1xuICByZXR1cm4gaW5zZXJ0ZWRUZXh0Lmxlbmd0aCA+IDBcbn1cblxuLyoqXG4gKiBFZGdlIGNhc2UuIERldGVjdCBtdXRhdGlvbnMgdGhhdCByZW1vdmUgbGVhZiBub2RlcyBhbmQgYWxzbyB1cGRhdGUgY2hhcmFjdGVyIGRhdGFcbiAqL1xuZXhwb3J0IGNvbnN0IGlzUmVtb3ZlTGVhZk5vZGVzOiBNdXRhdGlvbkRldGVjdGlvbiA9IChcbiAgXyxcbiAgeyBhZGRlZE5vZGVzLCBjaGFyYWN0ZXJEYXRhTXV0YXRpb25zLCByZW1vdmVkTm9kZXMgfVxuKSA9PiB7XG4gIHJldHVybiAoXG4gICAgcmVtb3ZlZE5vZGVzLmxlbmd0aCA+IDAgJiZcbiAgICBhZGRlZE5vZGVzLmxlbmd0aCA9PT0gMCAmJlxuICAgIGNoYXJhY3RlckRhdGFNdXRhdGlvbnMubGVuZ3RoID4gMFxuICApXG59XG4iLCJpbXBvcnQgeyBSZWFjdEVkaXRvciB9IGZyb20gJy4uLy4uL3BsdWdpbi9yZWFjdC1lZGl0b3InXG5pbXBvcnQgeyBFZGl0b3IsIFJhbmdlLCBUcmFuc2Zvcm1zLCBUZXh0IH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQge1xuICBJU19PTl9DT01QT1NJVElPTl9FTkQsXG4gIEVESVRPUl9PTl9DT01QT1NJVElPTl9URVhULFxufSBmcm9tICcuLi8uLi91dGlscy93ZWFrLW1hcHMnXG5cbmltcG9ydCB7IERPTU5vZGUgfSBmcm9tICcuLi8uLi91dGlscy9kb20nXG5cbmltcG9ydCB7XG4gIG5vcm1hbGl6ZVRleHRJbnNlcnRpb25SYW5nZSxcbiAgY29tYmluZUluc2VydGVkVGV4dCxcbiAgVGV4dEluc2VydGlvbixcbn0gZnJvbSAnLi9kaWZmLXRleHQnXG5pbXBvcnQge1xuICBnYXRoZXJNdXRhdGlvbkRhdGEsXG4gIGlzRGVsZXRpb24sXG4gIGlzTGluZUJyZWFrLFxuICBpc1JlbW92ZUxlYWZOb2RlcyxcbiAgaXNSZXBsYWNlRXhwYW5kZWRTZWxlY3Rpb24sXG4gIGlzVGV4dEluc2VydGlvbixcbn0gZnJvbSAnLi9tdXRhdGlvbi1kZXRlY3Rpb24nXG5cbi8vIFJlcGxhY2Ugd2l0aCBgY29uc3QgZGVidWcgPSBjb25zb2xlLmxvZ2AgdG8gZGVidWdcbmNvbnN0IGRlYnVnID0gKC4uLm1lc3NhZ2U6IGFueVtdKSA9PiB7fVxuXG4vKipcbiAqIEJhc2VkIGxvb3NlbHkgb246XG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2RyYWZ0LWpzL2Jsb2IvbWFzdGVyL3NyYy9jb21wb25lbnQvaGFuZGxlcnMvY29tcG9zaXRpb24vRE9NT2JzZXJ2ZXIuanNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Qcm9zZU1pcnJvci9wcm9zZW1pcnJvci12aWV3L2Jsb2IvbWFzdGVyL3NyYy9kb21vYnNlcnZlci5qc1xuICpcbiAqIFRoZSBpbnB1dCBtYW5hZ2VyIGF0dGVtcHRzIHRvIG1hcCBvYnNlcnZlZCBtdXRhdGlvbnMgb24gdGhlIGRvY3VtZW50IHRvIGFcbiAqIHNldCBvZiBvcGVyYXRpb25zIGluIG9yZGVyIHRvIHJlY29uY2lsZSBTbGF0ZSdzIGludGVybmFsIHZhbHVlIHdpdGggdGhlIERPTS5cbiAqXG4gKiBNdXRhdGlvbnMgYXJlIHByb2Nlc3NlZCBzeW5jaHJvbm91c2x5IGFzIHRoZXkgY29tZSBpbi4gT25seSBtdXRhdGlvbnMgdGhhdCBvY2N1clxuICogZHVyaW5nIGEgdXNlciBpbnB1dCBsb29wIGFyZSBwcm9jZXNzZWQsIGFzIG90aGVyIG11dGF0aW9ucyBjYW4gb2NjdXIgd2l0aGluIHRoZVxuICogZG9jdW1lbnQgdGhhdCB3ZXJlIG5vdCBpbml0aWF0ZWQgYnkgdXNlciBpbnB1dC5cbiAqXG4gKiBUaGUgbXV0YXRpb24gcmVjb25jaWxpYXRpb24gcHJvY2VzcyBhdHRlbXB0cyB0byBtYXRjaCBtdXRhdGlvbnMgdG8gdGhlIGZvbGxvd2luZ1xuICogcGF0dGVybnM6XG4gKlxuICogLSBUZXh0IHVwZGF0ZXNcbiAqIC0gRGVsZXRpb25zXG4gKiAtIExpbmUgYnJlYWtzXG4gKlxuICogQHBhcmFtIGVkaXRvclxuICogQHBhcmFtIHJlc3RvcmVET01cbiAqL1xuXG5leHBvcnQgY2xhc3MgQW5kcm9pZElucHV0TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZWRpdG9yOiBSZWFjdEVkaXRvciwgcHJpdmF0ZSByZXN0b3JlRE9NOiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5lZGl0b3IgPSBlZGl0b3JcbiAgICB0aGlzLnJlc3RvcmVET00gPSByZXN0b3JlRE9NXG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIE11dGF0aW9uT2JzZXJ2ZXIgZmx1c2hcbiAgICpcbiAgICogQHBhcmFtIG11dGF0aW9uc1xuICAgKi9cblxuICBmbHVzaCA9IChtdXRhdGlvbnM6IE11dGF0aW9uUmVjb3JkW10pID0+IHtcbiAgICBkZWJ1ZygnZmx1c2gnKVxuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucmVjb25jaWxlTXV0YXRpb25zKG11dGF0aW9ucylcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLmVycm9yKGVycilcblxuICAgICAgLy8gRmFpbGVkIHRvIHJlY29uY2lsZSBtdXRhdGlvbnMsIHJlc3RvcmUgRE9NIHRvIGl0cyBwcmV2aW91cyBzdGF0ZVxuICAgICAgdGhpcy5yZXN0b3JlRE9NKClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVjb25jaWxlIGEgYmF0Y2ggb2YgbXV0YXRpb25zXG4gICAqXG4gICAqIEBwYXJhbSBtdXRhdGlvbnNcbiAgICovXG5cbiAgcHJpdmF0ZSByZWNvbmNpbGVNdXRhdGlvbnMgPSAobXV0YXRpb25zOiBNdXRhdGlvblJlY29yZFtdKSA9PiB7XG4gICAgY29uc3QgbXV0YXRpb25EYXRhID0gZ2F0aGVyTXV0YXRpb25EYXRhKHRoaXMuZWRpdG9yLCBtdXRhdGlvbnMpXG4gICAgY29uc3QgeyBpbnNlcnRlZFRleHQsIHJlbW92ZWROb2RlcyB9ID0gbXV0YXRpb25EYXRhXG5cbiAgICBkZWJ1ZygncHJvY2Vzc011dGF0aW9ucycsIG11dGF0aW9ucywgbXV0YXRpb25EYXRhKVxuXG4gICAgaWYgKGlzUmVwbGFjZUV4cGFuZGVkU2VsZWN0aW9uKHRoaXMuZWRpdG9yLCBtdXRhdGlvbkRhdGEpKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gY29tYmluZUluc2VydGVkVGV4dChpbnNlcnRlZFRleHQpXG4gICAgICB0aGlzLnJlcGxhY2VFeHBhbmRlZFNlbGVjdGlvbih0ZXh0KVxuICAgIH0gZWxzZSBpZiAoaXNMaW5lQnJlYWsodGhpcy5lZGl0b3IsIG11dGF0aW9uRGF0YSkpIHtcbiAgICAgIHRoaXMuaW5zZXJ0QnJlYWsoKVxuICAgIH0gZWxzZSBpZiAoaXNSZW1vdmVMZWFmTm9kZXModGhpcy5lZGl0b3IsIG11dGF0aW9uRGF0YSkpIHtcbiAgICAgIHRoaXMucmVtb3ZlTGVhZk5vZGVzKHJlbW92ZWROb2RlcylcbiAgICB9IGVsc2UgaWYgKGlzRGVsZXRpb24odGhpcy5lZGl0b3IsIG11dGF0aW9uRGF0YSkpIHtcbiAgICAgIHRoaXMuZGVsZXRlQmFja3dhcmQoKVxuICAgIH0gZWxzZSBpZiAoaXNUZXh0SW5zZXJ0aW9uKHRoaXMuZWRpdG9yLCBtdXRhdGlvbkRhdGEpKSB7XG4gICAgICB0aGlzLmluc2VydFRleHQoaW5zZXJ0ZWRUZXh0KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSB0ZXh0IGRpZmZcbiAgICovXG5cbiAgcHJpdmF0ZSBpbnNlcnRUZXh0ID0gKGluc2VydGVkVGV4dDogVGV4dEluc2VydGlvbltdKSA9PiB7XG4gICAgZGVidWcoJ2luc2VydFRleHQnKVxuXG4gICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IHRoaXMuZWRpdG9yXG5cbiAgICAvLyBJZiBpdCBpcyBpbiBjb21wb3Npbmcgb3IgYWZ0ZXIgYG9uQ29tcG9zaXRpb25lbmRgLCBzZXQgYEVESVRPUl9PTl9DT01QT1NJVElPTl9URVhUYCBhbmQgcmV0dXJuLlxuICAgIC8vIFRleHQgd2lsbCBiZSBpbnNlcnRlZCBvbiBjb21wb3NpdGlvbmVuZCBldmVudC5cbiAgICBpZiAoXG4gICAgICBSZWFjdEVkaXRvci5pc0NvbXBvc2luZyh0aGlzLmVkaXRvcikgfHxcbiAgICAgIElTX09OX0NPTVBPU0lUSU9OX0VORC5nZXQodGhpcy5lZGl0b3IpXG4gICAgKSB7XG4gICAgICBFRElUT1JfT05fQ09NUE9TSVRJT05fVEVYVC5zZXQodGhpcy5lZGl0b3IsIGluc2VydGVkVGV4dClcbiAgICAgIElTX09OX0NPTVBPU0lUSU9OX0VORC5zZXQodGhpcy5lZGl0b3IsIGZhbHNlKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gSW5zZXJ0IHRoZSBiYXRjaGVkIHRleHQgZGlmZnNcbiAgICBpbnNlcnRlZFRleHQuZm9yRWFjaChpbnNlcnRpb24gPT4ge1xuICAgICAgY29uc3QgdGV4dCA9IGluc2VydGlvbi50ZXh0Lmluc2VydFRleHRcbiAgICAgIGNvbnN0IGF0ID0gbm9ybWFsaXplVGV4dEluc2VydGlvblJhbmdlKHRoaXMuZWRpdG9yLCBzZWxlY3Rpb24sIGluc2VydGlvbilcbiAgICAgIFRyYW5zZm9ybXMuc2V0U2VsZWN0aW9uKHRoaXMuZWRpdG9yLCBhdClcbiAgICAgIEVkaXRvci5pbnNlcnRUZXh0KHRoaXMuZWRpdG9yLCB0ZXh0KVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGxpbmUgYnJlYWtzXG4gICAqL1xuXG4gIHByaXZhdGUgaW5zZXJ0QnJlYWsgPSAoKSA9PiB7XG4gICAgZGVidWcoJ2luc2VydEJyZWFrJylcblxuICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSB0aGlzLmVkaXRvclxuXG4gICAgRWRpdG9yLmluc2VydEJyZWFrKHRoaXMuZWRpdG9yKVxuXG4gICAgdGhpcy5yZXN0b3JlRE9NKClcblxuICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgIC8vIENvbXBhdDogTW92ZSBzZWxlY3Rpb24gdG8gdGhlIG5ld2x5IGluc2VydGVkIGJsb2NrIGlmIGl0IGhhcyBub3QgbW92ZWRcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5lZGl0b3Iuc2VsZWN0aW9uICYmXG4gICAgICAgICAgUmFuZ2UuZXF1YWxzKHNlbGVjdGlvbiwgdGhpcy5lZGl0b3Iuc2VsZWN0aW9uKVxuICAgICAgICApIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmUodGhpcy5lZGl0b3IpXG4gICAgICAgIH1cbiAgICAgIH0sIDEwMClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGV4cGFuZGVkIHNlbGVjdGlvbiBiZWluZyBkZWxldGVkIG9yIHJlcGxhY2VkIGJ5IHRleHRcbiAgICovXG5cbiAgcHJpdmF0ZSByZXBsYWNlRXhwYW5kZWRTZWxlY3Rpb24gPSAodGV4dDogc3RyaW5nKSA9PiB7XG4gICAgZGVidWcoJ3JlcGxhY2VFeHBhbmRlZFNlbGVjdGlvbicpXG5cbiAgICAvLyBEZWxldGUgZXhwYW5kZWQgc2VsZWN0aW9uXG4gICAgRWRpdG9yLmRlbGV0ZUZyYWdtZW50KHRoaXMuZWRpdG9yKVxuXG4gICAgaWYgKHRleHQubGVuZ3RoKSB7XG4gICAgICAvLyBTZWxlY3Rpb24gd2FzIHJlcGxhY2VkIGJ5IHRleHQsIGluc2VydCB0aGUgZW50aXJlIHRleHQgZGlmZlxuICAgICAgRWRpdG9yLmluc2VydFRleHQodGhpcy5lZGl0b3IsIHRleHQpXG4gICAgfVxuXG4gICAgdGhpcy5yZXN0b3JlRE9NKClcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYGJhY2tzcGFjZWAgdGhhdCBtZXJnZXMgYmxvY2tzXG4gICAqL1xuXG4gIHByaXZhdGUgZGVsZXRlQmFja3dhcmQgPSAoKSA9PiB7XG4gICAgZGVidWcoJ2RlbGV0ZUJhY2t3YXJkJylcblxuICAgIEVkaXRvci5kZWxldGVCYWNrd2FyZCh0aGlzLmVkaXRvcilcbiAgICBSZWFjdEVkaXRvci5mb2N1cyh0aGlzLmVkaXRvcilcblxuICAgIHRoaXMucmVzdG9yZURPTSgpXG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIG11dGF0aW9ucyB0aGF0IHJlbW92ZSBzcGVjaWZpYyBsZWF2ZXNcbiAgICovXG4gIHByaXZhdGUgcmVtb3ZlTGVhZk5vZGVzID0gKG5vZGVzOiBET01Ob2RlW10pID0+IHtcbiAgICBmb3IgKGNvbnN0IG5vZGUgb2Ygbm9kZXMpIHtcbiAgICAgIGNvbnN0IHNsYXRlTm9kZSA9IFJlYWN0RWRpdG9yLnRvU2xhdGVOb2RlKHRoaXMuZWRpdG9yLCBub2RlKVxuXG4gICAgICBpZiAoc2xhdGVOb2RlKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBSZWFjdEVkaXRvci5maW5kUGF0aCh0aGlzLmVkaXRvciwgc2xhdGVOb2RlKVxuXG4gICAgICAgIFRyYW5zZm9ybXMuZGVsZXRlKHRoaXMuZWRpdG9yLCB7IGF0OiBwYXRoIH0pXG4gICAgICAgIHRoaXMucmVzdG9yZURPTSgpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFuZHJvaWRJbnB1dE1hbmFnZXJcbiIsImltcG9ydCB7IFJlZk9iamVjdCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZS1pc29tb3JwaGljLWxheW91dC1lZmZlY3QnXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKFxuICBub2RlOiBSZWZPYmplY3Q8SFRNTEVsZW1lbnQ+LFxuICBjYWxsYmFjazogTXV0YXRpb25DYWxsYmFjayxcbiAgb3B0aW9uczogTXV0YXRpb25PYnNlcnZlckluaXRcbikge1xuICBjb25zdCBbbXV0YXRpb25PYnNlcnZlcl0gPSB1c2VTdGF0ZSgoKSA9PiBuZXcgTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjaykpXG5cbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgLy8gRGlzY29ubmVjdCBtdXRhdGlvbiBvYnNlcnZlciBkdXJpbmcgcmVuZGVyIHBoYXNlXG4gICAgbXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KClcbiAgfSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghbm9kZS5jdXJyZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBhdHRhY2ggTXV0YXRpb25PYnNlcnZlciwgYG5vZGVgIGlzIHVuZGVmaW5lZCcpXG4gICAgfVxuXG4gICAgLy8gQXR0YWNoIG11dGF0aW9uIG9ic2VydmVyIGFmdGVyIHJlbmRlciBwaGFzZSBoYXMgZmluaXNoZWRcbiAgICBtdXRhdGlvbk9ic2VydmVyLm9ic2VydmUobm9kZS5jdXJyZW50LCBvcHRpb25zKVxuXG4gICAgLy8gQ2xlYW4gdXAgYWZ0ZXIgZWZmZWN0XG4gICAgcmV0dXJuIG11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdC5iaW5kKG11dGF0aW9uT2JzZXJ2ZXIpXG4gIH0pXG59XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBOb2RlIGFzIFNsYXRlTm9kZSwgUGF0aCB9IGZyb20gJ3NsYXRlJ1xuaW1wb3J0IHsgUmVhY3RFZGl0b3IsIHVzZVNsYXRlU3RhdGljIH0gZnJvbSAnLi4vLi4nXG5pbXBvcnQgeyBET01Ob2RlLCBpc0RPTUVsZW1lbnQgfSBmcm9tICcuLi8uLi91dGlscy9kb20nXG5pbXBvcnQgeyBFTEVNRU5UX1RPX05PREUsIE5PREVfVE9fUkVTVE9SRV9ET00gfSBmcm9tICcuLi8uLi91dGlscy93ZWFrLW1hcHMnXG5pbXBvcnQgeyB1c2VNdXRhdGlvbk9ic2VydmVyIH0gZnJvbSAnLi91c2UtbXV0YXRpb24tb2JzZXJ2ZXInXG5cbmNvbnN0IE1VVEFUSU9OX09CU0VSVkVSX0NPTkZJRzogTXV0YXRpb25PYnNlcnZlckluaXQgPSB7XG4gIGNoaWxkTGlzdDogdHJ1ZSxcbiAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgc3VidHJlZTogdHJ1ZSxcbn1cblxuZnVuY3Rpb24gZmluZENsb3Nlc3RLbm93U2xhdGVOb2RlKGRvbU5vZGU6IERPTU5vZGUpOiBTbGF0ZU5vZGUgfCBudWxsIHtcbiAgbGV0IGRvbUVsID0gaXNET01FbGVtZW50KGRvbU5vZGUpID8gZG9tTm9kZSA6IGRvbU5vZGUucGFyZW50RWxlbWVudFxuXG4gIGlmIChkb21FbCAmJiAhZG9tRWwuaGFzQXR0cmlidXRlKCdkYXRhLXNsYXRlLW5vZGUnKSkge1xuICAgIGRvbUVsID0gZG9tRWwuY2xvc2VzdChgW2RhdGEtc2xhdGUtbm9kZV1gKVxuICB9XG5cbiAgY29uc3Qgc2xhdGVOb2RlID0gZG9tRWwgJiYgRUxFTUVOVF9UT19OT0RFLmdldChkb21FbCBhcyBIVE1MRWxlbWVudClcbiAgaWYgKHNsYXRlTm9kZSkge1xuICAgIHJldHVybiBzbGF0ZU5vZGVcbiAgfVxuXG4gIC8vIFVua25vd24gZG9tIGVsZW1lbnQgd2l0aCBhIHNsYXRlLXNsYXRlLW5vZGUgYXR0cmlidXRlID0+IHRoZSBJTUVcbiAgLy8gbW9zdCBsaWtlbHkgZHVwbGljYXRlZCB0aGUgbm9kZSBzbyB3ZSBoYXZlIHRvIHJlc3RvcmUgdGhlIHBhcmVudFxuICByZXR1cm4gZG9tRWw/LnBhcmVudEVsZW1lbnRcbiAgICA/IGZpbmRDbG9zZXN0S25vd1NsYXRlTm9kZShkb21FbC5wYXJlbnRFbGVtZW50KVxuICAgIDogbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVzdG9yZURvbShcbiAgbm9kZTogUmVhY3QuUmVmT2JqZWN0PEhUTUxFbGVtZW50PixcbiAgcmVjZWl2ZWRVc2VySW5wdXQ6IFJlYWN0LlJlZk9iamVjdDxib29sZWFuPlxuKSB7XG4gIGNvbnN0IGVkaXRvciA9IHVzZVNsYXRlU3RhdGljKClcbiAgY29uc3QgbXV0YXRlZE5vZGVzID0gdXNlUmVmPFNldDxTbGF0ZU5vZGU+PihuZXcgU2V0KCkpXG5cbiAgY29uc3QgaGFuZGxlRE9NTXV0YXRpb24gPSB1c2VDYWxsYmFjaygobXV0YXRpb25zOiBNdXRhdGlvblJlY29yZFtdKSA9PiB7XG4gICAgaWYgKCFyZWNlaXZlZFVzZXJJbnB1dC5jdXJyZW50KSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBtdXRhdGlvbnMuZm9yRWFjaCgoeyB0YXJnZXQgfSkgPT4ge1xuICAgICAgY29uc3Qgc2xhdGVOb2RlID0gZmluZENsb3Nlc3RLbm93U2xhdGVOb2RlKHRhcmdldClcbiAgICAgIGlmICghc2xhdGVOb2RlKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbXV0YXRlZE5vZGVzLmN1cnJlbnQuYWRkKHNsYXRlTm9kZSlcbiAgICB9KVxuICB9LCBbXSlcblxuICB1c2VNdXRhdGlvbk9ic2VydmVyKG5vZGUsIGhhbmRsZURPTU11dGF0aW9uLCBNVVRBVElPTl9PQlNFUlZFUl9DT05GSUcpXG5cbiAgLy8gQ2xlYXIgbXV0YXRlZCBub2RlcyBvbiBldmVyeSByZW5kZXJcbiAgbXV0YXRlZE5vZGVzLmN1cnJlbnQuY2xlYXIoKVxuICBjb25zdCByZXN0b3JlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IG11dGF0ZWQgPSBBcnJheS5mcm9tKG11dGF0ZWROb2Rlcy5jdXJyZW50LnZhbHVlcygpKVxuXG4gICAgLy8gRmlsdGVyIG91dCBjaGlsZCBub2RlcyBvZiBub2RlcyB0aGF0IHdpbGwgYmUgcmVzdG9yZWQgYW55d2F5XG4gICAgY29uc3Qgbm9kZXNUb1Jlc3RvcmUgPSBtdXRhdGVkLmZpbHRlcihcbiAgICAgIG4gPT5cbiAgICAgICAgIW11dGF0ZWQuc29tZShtID0+XG4gICAgICAgICAgUGF0aC5pc1BhcmVudChcbiAgICAgICAgICAgIFJlYWN0RWRpdG9yLmZpbmRQYXRoKGVkaXRvciwgbSksXG4gICAgICAgICAgICBSZWFjdEVkaXRvci5maW5kUGF0aChlZGl0b3IsIG4pXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgKVxuXG4gICAgbm9kZXNUb1Jlc3RvcmUuZm9yRWFjaChuID0+IHtcbiAgICAgIE5PREVfVE9fUkVTVE9SRV9ET00uZ2V0KG4pPy4oKVxuICAgIH0pXG5cbiAgICBtdXRhdGVkTm9kZXMuY3VycmVudC5jbGVhcigpXG4gIH0sIFtdKVxuXG4gIHJldHVybiByZXN0b3JlXG59XG4iLCJpbXBvcnQgeyBSZWZPYmplY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnXG5cbmltcG9ydCB7IHVzZVNsYXRlU3RhdGljIH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlLXNsYXRlLXN0YXRpYydcblxuaW1wb3J0IHsgQW5kcm9pZElucHV0TWFuYWdlciB9IGZyb20gJy4vYW5kcm9pZC1pbnB1dC1tYW5hZ2VyJ1xuaW1wb3J0IHsgdXNlUmVzdG9yZURvbSB9IGZyb20gJy4vdXNlLXJlc3RvcmUtZG9tJ1xuaW1wb3J0IHsgdXNlTXV0YXRpb25PYnNlcnZlciB9IGZyb20gJy4vdXNlLW11dGF0aW9uLW9ic2VydmVyJ1xuaW1wb3J0IHsgdXNlVHJhY2tVc2VySW5wdXQgfSBmcm9tICcuL3VzZS10cmFjay11c2VyLWlucHV0J1xuXG5jb25zdCBNVVRBVElPTl9PQlNFUlZFUl9DT05GSUc6IE11dGF0aW9uT2JzZXJ2ZXJJbml0ID0ge1xuICBjaGlsZExpc3Q6IHRydWUsXG4gIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gIGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogdHJ1ZSxcbiAgc3VidHJlZTogdHJ1ZSxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUFuZHJvaWRJbnB1dE1hbmFnZXIobm9kZTogUmVmT2JqZWN0PEhUTUxFbGVtZW50Pikge1xuICBjb25zdCBlZGl0b3IgPSB1c2VTbGF0ZVN0YXRpYygpXG5cbiAgY29uc3QgeyByZWNlaXZlZFVzZXJJbnB1dCwgb25Vc2VySW5wdXQgfSA9IHVzZVRyYWNrVXNlcklucHV0KClcbiAgY29uc3QgcmVzdG9yZURvbSA9IHVzZVJlc3RvcmVEb20obm9kZSwgcmVjZWl2ZWRVc2VySW5wdXQpXG5cbiAgY29uc3QgaW5wdXRNYW5hZ2VyID0gdXNlTWVtbyhcbiAgICAoKSA9PiBuZXcgQW5kcm9pZElucHV0TWFuYWdlcihlZGl0b3IsIHJlc3RvcmVEb20pLFxuICAgIFtyZXN0b3JlRG9tLCBlZGl0b3JdXG4gIClcblxuICBjb25zdCB0aW1lb3V0SWQgPSB1c2VSZWY8UmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCBudWxsPihudWxsKVxuICBjb25zdCBpc1JlY29uY2lsaW5nID0gdXNlUmVmKGZhbHNlKVxuICBjb25zdCBmbHVzaCA9IHVzZUNhbGxiYWNrKChtdXRhdGlvbnM6IE11dGF0aW9uUmVjb3JkW10pID0+IHtcbiAgICBpZiAoIXJlY2VpdmVkVXNlcklucHV0LmN1cnJlbnQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlzUmVjb25jaWxpbmcuY3VycmVudCA9IHRydWVcbiAgICBpbnB1dE1hbmFnZXIuZmx1c2gobXV0YXRpb25zKVxuXG4gICAgaWYgKHRpbWVvdXRJZC5jdXJyZW50KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkLmN1cnJlbnQpXG4gICAgfVxuXG4gICAgdGltZW91dElkLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlzUmVjb25jaWxpbmcuY3VycmVudCA9IGZhbHNlXG4gICAgICB0aW1lb3V0SWQuY3VycmVudCA9IG51bGxcbiAgICB9LCAyNTApXG4gIH0sIFtdKVxuXG4gIHVzZU11dGF0aW9uT2JzZXJ2ZXIobm9kZSwgZmx1c2gsIE1VVEFUSU9OX09CU0VSVkVSX0NPTkZJRylcblxuICByZXR1cm4ge1xuICAgIGlzUmVjb25jaWxpbmcsXG4gICAgb25Vc2VySW5wdXQsXG4gIH1cbn1cbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyBSZWFjdEVkaXRvciB9IGZyb20gJy4uLy4uJ1xuaW1wb3J0IHsgdXNlU2xhdGVTdGF0aWMgfSBmcm9tICcuLi8uLi9ob29rcy91c2Utc2xhdGUtc3RhdGljJ1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlVHJhY2tVc2VySW5wdXQoKSB7XG4gIGNvbnN0IGVkaXRvciA9IHVzZVNsYXRlU3RhdGljKClcbiAgY29uc3QgcmVjZWl2ZWRVc2VySW5wdXQgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpXG4gIGNvbnN0IGFuaW1hdGlvbkZyYW1lUmVmID0gdXNlUmVmPG51bWJlciB8IG51bGw+KG51bGwpXG4gIGNvbnN0IG9uVXNlcklucHV0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChyZWNlaXZlZFVzZXJJbnB1dC5jdXJyZW50ID09PSBmYWxzZSkge1xuICAgICAgY29uc3Qgd2luZG93ID0gUmVhY3RFZGl0b3IuZ2V0V2luZG93KGVkaXRvcilcblxuICAgICAgcmVjZWl2ZWRVc2VySW5wdXQuY3VycmVudCA9IHRydWVcblxuICAgICAgaWYgKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQpXG4gICAgICB9XG5cbiAgICAgIGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgcmVjZWl2ZWRVc2VySW5wdXQuY3VycmVudCA9IGZhbHNlXG4gICAgICAgIGFuaW1hdGlvbkZyYW1lUmVmLmN1cnJlbnQgPSBudWxsXG4gICAgICB9KVxuICAgIH1cbiAgfSwgW10pXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBSZXNldCB1c2VyIGlucHV0IHRyYWNraW5nIG9uIGV2ZXJ5IHJlbmRlclxuICAgIGlmIChyZWNlaXZlZFVzZXJJbnB1dC5jdXJyZW50KSB7XG4gICAgICByZWNlaXZlZFVzZXJJbnB1dC5jdXJyZW50ID0gZmFsc2VcbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIHtcbiAgICByZWNlaXZlZFVzZXJJbnB1dCxcbiAgICBvblVzZXJJbnB1dCxcbiAgfVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEVkaXRvciwgRWxlbWVudCwgTm9kZSwgUmFuZ2UsIFRyYW5zZm9ybXMsIFBhdGgsIFRleHQgfSBmcm9tICdzbGF0ZSdcbmltcG9ydCB0aHJvdHRsZSBmcm9tICdsb2Rhc2gvdGhyb3R0bGUnXG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoL2RlYm91bmNlJ1xuaW1wb3J0IHNjcm9sbEludG9WaWV3IGZyb20gJ3Njcm9sbC1pbnRvLXZpZXctaWYtbmVlZGVkJ1xuXG5pbXBvcnQgeyBEZWZhdWx0UGxhY2Vob2xkZXIsIFJlYWN0RWRpdG9yIH0gZnJvbSAnLi4vLi4nXG5pbXBvcnQgeyBSZWFkT25seUNvbnRleHQgfSBmcm9tICcuLi8uLi9ob29rcy91c2UtcmVhZC1vbmx5J1xuaW1wb3J0IHsgdXNlU2xhdGUgfSBmcm9tICcuLi8uLi9ob29rcy91c2Utc2xhdGUnXG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlLWlzb21vcnBoaWMtbGF5b3V0LWVmZmVjdCdcbmltcG9ydCB7IERlY29yYXRlQ29udGV4dCB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZS1kZWNvcmF0ZSdcbmltcG9ydCB7XG4gIERPTUVsZW1lbnQsXG4gIGlzRE9NRWxlbWVudCxcbiAgaXNET01Ob2RlLFxuICBnZXREZWZhdWx0VmlldyxcbiAgZ2V0Q2xpcGJvYXJkRGF0YSxcbn0gZnJvbSAnLi4vLi4vdXRpbHMvZG9tJ1xuaW1wb3J0IHtcbiAgRURJVE9SX1RPX0VMRU1FTlQsXG4gIEVESVRPUl9UT19XSU5ET1csXG4gIEVMRU1FTlRfVE9fTk9ERSxcbiAgSVNfRk9DVVNFRCxcbiAgSVNfUkVBRF9PTkxZLFxuICBOT0RFX1RPX0VMRU1FTlQsXG4gIFBMQUNFSE9MREVSX1NZTUJPTCxcbiAgSVNfQ09NUE9TSU5HLFxuICBJU19PTl9DT01QT1NJVElPTl9FTkQsXG4gIEVESVRPUl9PTl9DT01QT1NJVElPTl9URVhULFxufSBmcm9tICcuLi8uLi91dGlscy93ZWFrLW1hcHMnXG5pbXBvcnQgeyBub3JtYWxpemVUZXh0SW5zZXJ0aW9uUmFuZ2UgfSBmcm9tICcuL2RpZmYtdGV4dCdcblxuaW1wb3J0IHsgRWRpdGFibGVQcm9wcywgaGFzVGFyZ2V0IH0gZnJvbSAnLi4vZWRpdGFibGUnXG5pbXBvcnQgdXNlQ2hpbGRyZW4gZnJvbSAnLi4vLi4vaG9va3MvdXNlLWNoaWxkcmVuJ1xuaW1wb3J0IHtcbiAgZGVmYXVsdERlY29yYXRlLFxuICBoYXNFZGl0YWJsZVRhcmdldCxcbiAgaXNFdmVudEhhbmRsZWQsXG4gIGlzRE9NRXZlbnRIYW5kbGVkLFxuICBpc1RhcmdldEluc2lkZU5vblJlYWRvbmx5Vm9pZCxcbn0gZnJvbSAnLi4vZWRpdGFibGUnXG5cbmltcG9ydCB7IHVzZUFuZHJvaWRJbnB1dE1hbmFnZXIgfSBmcm9tICcuL3VzZS1hbmRyb2lkLWlucHV0LW1hbmFnZXInXG5pbXBvcnQgeyB1c2VDb250ZW50S2V5IH0gZnJvbSAnLi4vLi4vaG9va3MvdXNlLWNvbnRlbnQta2V5J1xuXG4vKipcbiAqIEVkaXRhYmxlLlxuICovXG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9kcmFmdC1qcy9ibG9iL21haW4vc3JjL2NvbXBvbmVudC9oYW5kbGVycy9jb21wb3NpdGlvbi9EcmFmdEVkaXRvckNvbXBvc2l0aW9uSGFuZGxlci5qcyNMNDFcbi8vIFdoZW4gdXNpbmcga2V5Ym9hcmQgRW5nbGlzaCBhc3NvY2lhdGlvbiBmdW5jdGlvbiwgY29ucG9zaXRpb25FbmQgdHJpZ2dlcmVkIHRvbyBmYXN0LCByZXN1bHRpbmcgaW4gYWZ0ZXIgYGluc2VydFRleHRgIHN0aWxsIG1haW50YWluIGFzc29jaWF0aW9uIHN0YXRlLlxuY29uc3QgUkVTT0xWRV9ERUxBWSA9IDIwXG5cbmV4cG9ydCBjb25zdCBBbmRyb2lkRWRpdGFibGUgPSAocHJvcHM6IEVkaXRhYmxlUHJvcHMpOiBKU1guRWxlbWVudCA9PiB7XG4gIGNvbnN0IHtcbiAgICBhdXRvRm9jdXMsXG4gICAgZGVjb3JhdGUgPSBkZWZhdWx0RGVjb3JhdGUsXG4gICAgb25ET01CZWZvcmVJbnB1dDogcHJvcHNPbkRPTUJlZm9yZUlucHV0LFxuICAgIHBsYWNlaG9sZGVyLFxuICAgIHJlYWRPbmx5ID0gZmFsc2UsXG4gICAgcmVuZGVyRWxlbWVudCxcbiAgICByZW5kZXJMZWFmLFxuICAgIHJlbmRlclBsYWNlaG9sZGVyID0gcHJvcHMgPT4gPERlZmF1bHRQbGFjZWhvbGRlciB7Li4ucHJvcHN9IC8+LFxuICAgIHN0eWxlID0ge30sXG4gICAgYXM6IENvbXBvbmVudCA9ICdkaXYnLFxuICAgIC4uLmF0dHJpYnV0ZXNcbiAgfSA9IHByb3BzXG4gIGNvbnN0IGVkaXRvciA9IHVzZVNsYXRlKClcbiAgLy8gUmVyZW5kZXIgZWRpdG9yIHdoZW4gY29tcG9zaXRpb24gc3RhdHVzIGNoYW5nZWRcbiAgY29uc3QgW2lzQ29tcG9zaW5nLCBzZXRJc0NvbXBvc2luZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxuICBjb25zdCBpbnB1dE1hbmFnZXIgPSB1c2VBbmRyb2lkSW5wdXRNYW5hZ2VyKHJlZilcblxuICAvLyBVcGRhdGUgaW50ZXJuYWwgc3RhdGUgb24gZWFjaCByZW5kZXIuXG4gIElTX1JFQURfT05MWS5zZXQoZWRpdG9yLCByZWFkT25seSlcblxuICAvLyBLZWVwIHRyYWNrIG9mIHNvbWUgc3RhdGUgZm9yIHRoZSBldmVudCBoYW5kbGVyIGxvZ2ljLlxuICBjb25zdCBzdGF0ZSA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIGlzQ29tcG9zaW5nOiBmYWxzZSxcbiAgICAgIGlzVXBkYXRpbmdTZWxlY3Rpb246IGZhbHNlLFxuICAgICAgbGF0ZXN0RWxlbWVudDogbnVsbCBhcyBET01FbGVtZW50IHwgbnVsbCxcbiAgICB9KSxcbiAgICBbXVxuICApXG5cbiAgY29uc3QgY29udGVudEtleSA9IHVzZUNvbnRlbnRLZXkoZWRpdG9yKVxuXG4gIC8vIFdoZW5ldmVyIHRoZSBlZGl0b3IgdXBkYXRlcy4uLlxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAvLyBVcGRhdGUgZWxlbWVudC1yZWxhdGVkIHdlYWsgbWFwcyB3aXRoIHRoZSBET00gZWxlbWVudCByZWYuXG4gICAgbGV0IHdpbmRvd1xuXG4gICAgaWYgKHJlZi5jdXJyZW50ICYmICh3aW5kb3cgPSBnZXREZWZhdWx0VmlldyhyZWYuY3VycmVudCkpKSB7XG4gICAgICBFRElUT1JfVE9fV0lORE9XLnNldChlZGl0b3IsIHdpbmRvdylcbiAgICAgIEVESVRPUl9UT19FTEVNRU5ULnNldChlZGl0b3IsIHJlZi5jdXJyZW50KVxuICAgICAgTk9ERV9UT19FTEVNRU5ULnNldChlZGl0b3IsIHJlZi5jdXJyZW50KVxuICAgICAgRUxFTUVOVF9UT19OT0RFLnNldChyZWYuY3VycmVudCwgZWRpdG9yKVxuICAgIH0gZWxzZSB7XG4gICAgICBOT0RFX1RPX0VMRU1FTlQuZGVsZXRlKGVkaXRvcilcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gTWFrZSBzdXJlIHRoZSBET00gc2VsZWN0aW9uIHN0YXRlIGlzIGluIHN5bmMuXG4gICAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gZWRpdG9yXG4gICAgICBjb25zdCByb290ID0gUmVhY3RFZGl0b3IuZmluZERvY3VtZW50T3JTaGFkb3dSb290KGVkaXRvcilcbiAgICAgIGNvbnN0IGRvbVNlbGVjdGlvbiA9IHJvb3QuZ2V0U2VsZWN0aW9uKClcblxuICAgICAgaWYgKFxuICAgICAgICBzdGF0ZS5pc0NvbXBvc2luZyB8fFxuICAgICAgICAhZG9tU2VsZWN0aW9uIHx8XG4gICAgICAgICFSZWFjdEVkaXRvci5pc0ZvY3VzZWQoZWRpdG9yKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBoYXNEb21TZWxlY3Rpb24gPSBkb21TZWxlY3Rpb24udHlwZSAhPT0gJ05vbmUnXG5cbiAgICAgIC8vIElmIHRoZSBET00gc2VsZWN0aW9uIGlzIHByb3Blcmx5IHVuc2V0LCB3ZSdyZSBkb25lLlxuICAgICAgaWYgKCFzZWxlY3Rpb24gJiYgIWhhc0RvbVNlbGVjdGlvbikge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gdmVyaWZ5IHRoYXQgdGhlIGRvbSBzZWxlY3Rpb24gaXMgaW4gdGhlIGVkaXRvclxuICAgICAgY29uc3QgZWRpdG9yRWxlbWVudCA9IEVESVRPUl9UT19FTEVNRU5ULmdldChlZGl0b3IpIVxuICAgICAgbGV0IGhhc0RvbVNlbGVjdGlvbkluRWRpdG9yID0gZmFsc2VcbiAgICAgIGlmIChcbiAgICAgICAgZWRpdG9yRWxlbWVudC5jb250YWlucyhkb21TZWxlY3Rpb24uYW5jaG9yTm9kZSkgJiZcbiAgICAgICAgZWRpdG9yRWxlbWVudC5jb250YWlucyhkb21TZWxlY3Rpb24uZm9jdXNOb2RlKVxuICAgICAgKSB7XG4gICAgICAgIGhhc0RvbVNlbGVjdGlvbkluRWRpdG9yID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgRE9NIHNlbGVjdGlvbiBpcyBpbiB0aGUgZWRpdG9yIGFuZCB0aGUgZWRpdG9yIHNlbGVjdGlvbiBpcyBhbHJlYWR5IGNvcnJlY3QsIHdlJ3JlIGRvbmUuXG4gICAgICBpZiAoaGFzRG9tU2VsZWN0aW9uICYmIGhhc0RvbVNlbGVjdGlvbkluRWRpdG9yICYmIHNlbGVjdGlvbikge1xuICAgICAgICBjb25zdCBzbGF0ZVJhbmdlID0gUmVhY3RFZGl0b3IudG9TbGF0ZVJhbmdlKGVkaXRvciwgZG9tU2VsZWN0aW9uLCB7XG4gICAgICAgICAgZXhhY3RNYXRjaDogdHJ1ZSxcbiAgICAgICAgICBzdXBwcmVzc1Rocm93OiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgICBpZiAoc2xhdGVSYW5nZSAmJiBSYW5nZS5lcXVhbHMoc2xhdGVSYW5nZSwgc2VsZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHdoZW4gPEVkaXRhYmxlLz4gaXMgYmVpbmcgY29udHJvbGxlZCB0aHJvdWdoIGV4dGVybmFsIHZhbHVlXG4gICAgICAvLyB0aGVuIGl0cyBjaGlsZHJlbiBtaWdodCBqdXN0IGNoYW5nZSAtIERPTSByZXNwb25kcyB0byBpdCBvbiBpdHMgb3duXG4gICAgICAvLyBidXQgU2xhdGUncyB2YWx1ZSBpcyBub3QgYmVpbmcgdXBkYXRlZCB0aHJvdWdoIGFueSBvcGVyYXRpb25cbiAgICAgIC8vIGFuZCB0aHVzIGl0IGRvZXNuJ3QgdHJhbnNmb3JtIHNlbGVjdGlvbiBvbiBpdHMgb3duXG4gICAgICBpZiAoc2VsZWN0aW9uICYmICFSZWFjdEVkaXRvci5oYXNSYW5nZShlZGl0b3IsIHNlbGVjdGlvbikpIHtcbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbiA9IFJlYWN0RWRpdG9yLnRvU2xhdGVSYW5nZShlZGl0b3IsIGRvbVNlbGVjdGlvbiwge1xuICAgICAgICAgIGV4YWN0TWF0Y2g6IGZhbHNlLFxuICAgICAgICAgIHN1cHByZXNzVGhyb3c6IGZhbHNlLFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gT3RoZXJ3aXNlIHRoZSBET00gc2VsZWN0aW9uIGlzIG91dCBvZiBzeW5jLCBzbyB1cGRhdGUgaXQuXG4gICAgICBjb25zdCBlbCA9IFJlYWN0RWRpdG9yLnRvRE9NTm9kZShlZGl0b3IsIGVkaXRvcilcbiAgICAgIHN0YXRlLmlzVXBkYXRpbmdTZWxlY3Rpb24gPSB0cnVlXG5cbiAgICAgIGNvbnN0IG5ld0RvbVJhbmdlID0gc2VsZWN0aW9uICYmIFJlYWN0RWRpdG9yLnRvRE9NUmFuZ2UoZWRpdG9yLCBzZWxlY3Rpb24pXG5cbiAgICAgIGlmIChuZXdEb21SYW5nZSkge1xuICAgICAgICBpZiAoUmFuZ2UuaXNCYWNrd2FyZChzZWxlY3Rpb24hKSkge1xuICAgICAgICAgIGRvbVNlbGVjdGlvbi5zZXRCYXNlQW5kRXh0ZW50KFxuICAgICAgICAgICAgbmV3RG9tUmFuZ2UuZW5kQ29udGFpbmVyLFxuICAgICAgICAgICAgbmV3RG9tUmFuZ2UuZW5kT2Zmc2V0LFxuICAgICAgICAgICAgbmV3RG9tUmFuZ2Uuc3RhcnRDb250YWluZXIsXG4gICAgICAgICAgICBuZXdEb21SYW5nZS5zdGFydE9mZnNldFxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb21TZWxlY3Rpb24uc2V0QmFzZUFuZEV4dGVudChcbiAgICAgICAgICAgIG5ld0RvbVJhbmdlLnN0YXJ0Q29udGFpbmVyLFxuICAgICAgICAgICAgbmV3RG9tUmFuZ2Uuc3RhcnRPZmZzZXQsXG4gICAgICAgICAgICBuZXdEb21SYW5nZS5lbmRDb250YWluZXIsXG4gICAgICAgICAgICBuZXdEb21SYW5nZS5lbmRPZmZzZXRcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGVhZkVsID0gbmV3RG9tUmFuZ2Uuc3RhcnRDb250YWluZXIucGFyZW50RWxlbWVudCFcbiAgICAgICAgbGVhZkVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9IG5ld0RvbVJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdC5iaW5kKFxuICAgICAgICAgIG5ld0RvbVJhbmdlXG4gICAgICAgIClcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXcobGVhZkVsLCB7XG4gICAgICAgICAgc2Nyb2xsTW9kZTogJ2lmLW5lZWRlZCcsXG4gICAgICAgICAgYm91bmRhcnk6IGVsLFxuICAgICAgICB9KVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGRlbGV0ZSBsZWFmRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb21TZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKClcbiAgICAgIH1cblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHN0YXRlLmlzVXBkYXRpbmdTZWxlY3Rpb24gPSBmYWxzZVxuICAgICAgfSlcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIEZhaWxlZCB0byB1cGRhdGUgc2VsZWN0aW9uLCBsaWtlbHkgZHVlIHRvIHJlY29uY2lsaWF0aW9uIGVycm9yXG4gICAgICBzdGF0ZS5pc1VwZGF0aW5nU2VsZWN0aW9uID0gZmFsc2VcbiAgICB9XG4gIH0pXG5cbiAgLy8gVGhlIGF1dG9Gb2N1cyBUZXh0YXJlYUhUTUxBdHRyaWJ1dGUgZG9lc24ndCBkbyBhbnl0aGluZyBvbiBhIGRpdiwgc28gaXRcbiAgLy8gbmVlZHMgdG8gYmUgbWFudWFsbHkgZm9jdXNlZC5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVmLmN1cnJlbnQgJiYgYXV0b0ZvY3VzKSB7XG4gICAgICByZWYuY3VycmVudC5mb2N1cygpXG4gICAgfVxuICB9LCBbYXV0b0ZvY3VzXSlcblxuICAvLyBMaXN0ZW4gb24gdGhlIG5hdGl2ZSBgc2VsZWN0aW9uY2hhbmdlYCBldmVudCB0byBiZSBhYmxlIHRvIHVwZGF0ZSBhbnkgdGltZVxuICAvLyB0aGUgc2VsZWN0aW9uIGNoYW5nZXMuIFRoaXMgaXMgcmVxdWlyZWQgYmVjYXVzZSBSZWFjdCdzIGBvblNlbGVjdGAgaXMgbGVha3lcbiAgLy8gYW5kIG5vbi1zdGFuZGFyZCBzbyBpdCBkb2Vzbid0IGZpcmUgdW50aWwgYWZ0ZXIgYSBzZWxlY3Rpb24gaGFzIGJlZW5cbiAgLy8gcmVsZWFzZWQuIFRoaXMgY2F1c2VzIGlzc3VlcyBpbiBzaXR1YXRpb25zIHdoZXJlIGFub3RoZXIgY2hhbmdlIGhhcHBlbnNcbiAgLy8gd2hpbGUgYSBzZWxlY3Rpb24gaXMgYmVpbmcgZHJhZ2dlZC5cbiAgY29uc3Qgb25ET01TZWxlY3Rpb25DaGFuZ2UgPSB1c2VDYWxsYmFjayhcbiAgICB0aHJvdHRsZSgoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXN0YXRlLmlzQ29tcG9zaW5nICYmXG4gICAgICAgICAgIXN0YXRlLmlzVXBkYXRpbmdTZWxlY3Rpb24gJiZcbiAgICAgICAgICAhaW5wdXRNYW5hZ2VyLmlzUmVjb25jaWxpbmcuY3VycmVudFxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCByb290ID0gUmVhY3RFZGl0b3IuZmluZERvY3VtZW50T3JTaGFkb3dSb290KGVkaXRvcilcbiAgICAgICAgICBjb25zdCB7IGFjdGl2ZUVsZW1lbnQgfSA9IHJvb3RcbiAgICAgICAgICBjb25zdCBlbCA9IFJlYWN0RWRpdG9yLnRvRE9NTm9kZShlZGl0b3IsIGVkaXRvcilcbiAgICAgICAgICBjb25zdCBkb21TZWxlY3Rpb24gPSByb290LmdldFNlbGVjdGlvbigpXG5cbiAgICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCA9PT0gZWwpIHtcbiAgICAgICAgICAgIHN0YXRlLmxhdGVzdEVsZW1lbnQgPSBhY3RpdmVFbGVtZW50XG4gICAgICAgICAgICBJU19GT0NVU0VELnNldChlZGl0b3IsIHRydWUpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIElTX0ZPQ1VTRUQuZGVsZXRlKGVkaXRvcilcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWRvbVNlbGVjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIFRyYW5zZm9ybXMuZGVzZWxlY3QoZWRpdG9yKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHsgYW5jaG9yTm9kZSwgZm9jdXNOb2RlIH0gPSBkb21TZWxlY3Rpb25cblxuICAgICAgICAgIGNvbnN0IGFuY2hvck5vZGVTZWxlY3RhYmxlID1cbiAgICAgICAgICAgIGhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgYW5jaG9yTm9kZSkgfHxcbiAgICAgICAgICAgIGlzVGFyZ2V0SW5zaWRlTm9uUmVhZG9ubHlWb2lkKGVkaXRvciwgYW5jaG9yTm9kZSlcblxuICAgICAgICAgIGNvbnN0IGZvY3VzTm9kZVNlbGVjdGFibGUgPVxuICAgICAgICAgICAgaGFzRWRpdGFibGVUYXJnZXQoZWRpdG9yLCBmb2N1c05vZGUpIHx8XG4gICAgICAgICAgICBpc1RhcmdldEluc2lkZU5vblJlYWRvbmx5Vm9pZChlZGl0b3IsIGZvY3VzTm9kZSlcblxuICAgICAgICAgIGlmIChhbmNob3JOb2RlU2VsZWN0YWJsZSAmJiBmb2N1c05vZGVTZWxlY3RhYmxlKSB7XG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IFJlYWN0RWRpdG9yLnRvU2xhdGVSYW5nZShlZGl0b3IsIGRvbVNlbGVjdGlvbiwge1xuICAgICAgICAgICAgICBleGFjdE1hdGNoOiBmYWxzZSxcbiAgICAgICAgICAgICAgc3VwcHJlc3NUaHJvdzogZmFsc2UsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCByYW5nZSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5kZXNlbGVjdChlZGl0b3IpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gRmFpbGVkIHRvIHVwZGF0ZSBzZWxlY3Rpb24sIGxpa2VseSBkdWUgdG8gcmVjb25jaWxpYXRpb24gZXJyb3JcbiAgICAgIH1cbiAgICB9LCAxMDApLFxuICAgIFtyZWFkT25seV1cbiAgKVxuXG4gIGNvbnN0IHNjaGVkdWxlT25ET01TZWxlY3Rpb25DaGFuZ2UgPSB1c2VNZW1vKFxuICAgICgpID0+IGRlYm91bmNlKG9uRE9NU2VsZWN0aW9uQ2hhbmdlLCAwKSxcbiAgICBbb25ET01TZWxlY3Rpb25DaGFuZ2VdXG4gIClcblxuICAvLyBMaXN0ZW4gb24gdGhlIG5hdGl2ZSBgYmVmb3JlaW5wdXRgIGV2ZW50IHRvIGdldCByZWFsIFwiTGV2ZWwgMlwiIGV2ZW50cy4gVGhpc1xuICAvLyBpcyByZXF1aXJlZCBiZWNhdXNlIFJlYWN0J3MgYGJlZm9yZWlucHV0YCBpcyBmYWtlIGFuZCBuZXZlciByZWFsbHkgYXR0YWNoZXNcbiAgLy8gdG8gdGhlIHJlYWwgZXZlbnQgc2FkbHkuICgyMDE5LzExLzAxKVxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzExMjExXG4gIGNvbnN0IG9uRE9NQmVmb3JlSW5wdXQgPSB1c2VDYWxsYmFjayhcbiAgICAoZXZlbnQ6IElucHV0RXZlbnQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgIXJlYWRPbmx5ICYmXG4gICAgICAgIGhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSAmJlxuICAgICAgICAhaXNET01FdmVudEhhbmRsZWQoZXZlbnQsIHByb3BzT25ET01CZWZvcmVJbnB1dClcbiAgICAgICkge1xuICAgICAgICAvLyBTb21lIElNRXMvQ2hyb21lIGV4dGVuc2lvbnMgbGlrZSBlLmcuIEdyYW1tYXJseSBzZXQgdGhlIHNlbGVjdGlvbiBpbW1lZGlhdGVseSBiZWZvcmVcbiAgICAgICAgLy8gdHJpZ2dlcmluZyBhIGBiZWZvcmVpbnB1dGAgZXhwZWN0aW5nIHRoZSBjaGFuZ2UgdG8gYmUgYXBwbGllZCB0byB0aGUgaW1tZWRpYXRlbHkgYmVmb3JlXG4gICAgICAgIC8vIHNldCBzZWxlY3Rpb24uXG4gICAgICAgIHNjaGVkdWxlT25ET01TZWxlY3Rpb25DaGFuZ2UuZmx1c2goKVxuXG4gICAgICAgIGlucHV0TWFuYWdlci5vblVzZXJJbnB1dCgpXG4gICAgICB9XG4gICAgfSxcbiAgICBbcmVhZE9ubHksIHByb3BzT25ET01CZWZvcmVJbnB1dF1cbiAgKVxuXG4gIC8vIEF0dGFjaCBhIG5hdGl2ZSBET00gZXZlbnQgaGFuZGxlciBmb3IgYGJlZm9yZWlucHV0YCBldmVudHMsIGJlY2F1c2UgUmVhY3Qnc1xuICAvLyBidWlsdC1pbiBgb25CZWZvcmVJbnB1dGAgaXMgYWN0dWFsbHkgYSBsZWFreSBwb2x5ZmlsbCB0aGF0IGRvZXNuJ3QgZXhwb3NlXG4gIC8vIHJlYWwgYGJlZm9yZWlucHV0YCBldmVudHMgc2FkbHkuLi4gKDIwMTkvMTEvMDQpXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG5vZGUgPSByZWYuY3VycmVudFxuXG4gICAgLy8gQHRzLWlnbm9yZSBUaGUgYGJlZm9yZWlucHV0YCBldmVudCBpc24ndCByZWNvZ25pemVkLlxuICAgIG5vZGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZWlucHV0Jywgb25ET01CZWZvcmVJbnB1dClcblxuICAgIC8vIEB0cy1pZ25vcmUgVGhlIGBiZWZvcmVpbnB1dGAgZXZlbnQgaXNuJ3QgcmVjb2duaXplZC5cbiAgICByZXR1cm4gKCkgPT4gbm9kZT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JlaW5wdXQnLCBvbkRPTUJlZm9yZUlucHV0KVxuICB9LCBbY29udGVudEtleSwgcHJvcHNPbkRPTUJlZm9yZUlucHV0XSlcblxuICAvLyBBdHRhY2ggYSBuYXRpdmUgRE9NIGV2ZW50IGhhbmRsZXIgZm9yIGBzZWxlY3Rpb25jaGFuZ2VgLCBiZWNhdXNlIFJlYWN0J3NcbiAgLy8gYnVpbHQtaW4gYG9uU2VsZWN0YCBoYW5kbGVyIGRvZXNuJ3QgZmlyZSBmb3IgYWxsIHNlbGVjdGlvbiBjaGFuZ2VzLiBJdCdzIGFcbiAgLy8gbGVha3kgcG9seWZpbGwgdGhhdCBvbmx5IGZpcmVzIG9uIGtleXByZXNzZXMgb3IgY2xpY2tzLiBJbnN0ZWFkLCB3ZSB3YW50IHRvXG4gIC8vIGZpcmUgZm9yIGFueSBjaGFuZ2UgdG8gdGhlIHNlbGVjdGlvbiBpbnNpZGUgdGhlIGVkaXRvci4gKDIwMTkvMTEvMDQpXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvNTc4NVxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB3aW5kb3cgPSBSZWFjdEVkaXRvci5nZXRXaW5kb3coZWRpdG9yKVxuICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ3NlbGVjdGlvbmNoYW5nZScsXG4gICAgICBzY2hlZHVsZU9uRE9NU2VsZWN0aW9uQ2hhbmdlXG4gICAgKVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICAnc2VsZWN0aW9uY2hhbmdlJyxcbiAgICAgICAgc2NoZWR1bGVPbkRPTVNlbGVjdGlvbkNoYW5nZVxuICAgICAgKVxuICAgIH1cbiAgfSwgW3NjaGVkdWxlT25ET01TZWxlY3Rpb25DaGFuZ2VdKVxuXG4gIGNvbnN0IGRlY29yYXRpb25zID0gZGVjb3JhdGUoW2VkaXRvciwgW11dKVxuXG4gIGlmIChcbiAgICBwbGFjZWhvbGRlciAmJlxuICAgIGVkaXRvci5jaGlsZHJlbi5sZW5ndGggPT09IDEgJiZcbiAgICBBcnJheS5mcm9tKE5vZGUudGV4dHMoZWRpdG9yKSkubGVuZ3RoID09PSAxICYmXG4gICAgTm9kZS5zdHJpbmcoZWRpdG9yKSA9PT0gJycgJiZcbiAgICAhaXNDb21wb3NpbmdcbiAgKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBbXSlcbiAgICBkZWNvcmF0aW9ucy5wdXNoKHtcbiAgICAgIFtQTEFDRUhPTERFUl9TWU1CT0xdOiB0cnVlLFxuICAgICAgcGxhY2Vob2xkZXIsXG4gICAgICBhbmNob3I6IHN0YXJ0LFxuICAgICAgZm9jdXM6IHN0YXJ0LFxuICAgIH0pXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxSZWFkT25seUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3JlYWRPbmx5fT5cbiAgICAgIDxEZWNvcmF0ZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2RlY29yYXRlfT5cbiAgICAgICAgPENvbXBvbmVudFxuICAgICAgICAgIGtleT17Y29udGVudEtleX1cbiAgICAgICAgICByb2xlPXtyZWFkT25seSA/IHVuZGVmaW5lZCA6ICd0ZXh0Ym94J31cbiAgICAgICAgICB7Li4uYXR0cmlidXRlc31cbiAgICAgICAgICBzcGVsbENoZWNrPXthdHRyaWJ1dGVzLnNwZWxsQ2hlY2t9XG4gICAgICAgICAgYXV0b0NvcnJlY3Q9e2F0dHJpYnV0ZXMuYXV0b0NvcnJlY3R9XG4gICAgICAgICAgYXV0b0NhcGl0YWxpemU9e2F0dHJpYnV0ZXMuYXV0b0NhcGl0YWxpemV9XG4gICAgICAgICAgZGF0YS1zbGF0ZS1lZGl0b3JcbiAgICAgICAgICBkYXRhLXNsYXRlLW5vZGU9XCJ2YWx1ZVwiXG4gICAgICAgICAgY29udGVudEVkaXRhYmxlPXtyZWFkT25seSA/IHVuZGVmaW5lZCA6IHRydWV9XG4gICAgICAgICAgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXG4gICAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIC8vIEFsbG93IHBvc2l0aW9uaW5nIHJlbGF0aXZlIHRvIHRoZSBlZGl0YWJsZSBlbGVtZW50LlxuICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICAvLyBQcmV2ZW50IHRoZSBkZWZhdWx0IG91dGxpbmUgc3R5bGVzLlxuICAgICAgICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgICAgICAgLy8gUHJlc2VydmUgYWRqYWNlbnQgd2hpdGVzcGFjZSBhbmQgbmV3IGxpbmVzLlxuICAgICAgICAgICAgd2hpdGVTcGFjZTogJ3ByZS13cmFwJyxcbiAgICAgICAgICAgIC8vIEFsbG93IHdvcmRzIHRvIGJyZWFrIGlmIHRoZXkgYXJlIHRvbyBsb25nLlxuICAgICAgICAgICAgd29yZFdyYXA6ICdicmVhay13b3JkJyxcbiAgICAgICAgICAgIC8vIEFsbG93IGZvciBwYXNzZWQtaW4gc3R5bGVzIHRvIG92ZXJyaWRlIGFueXRoaW5nLlxuICAgICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgfX1cbiAgICAgICAgICBvbkNvcHk9e3VzZUNhbGxiYWNrKFxuICAgICAgICAgICAgKGV2ZW50OiBSZWFjdC5DbGlwYm9hcmRFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSAmJlxuICAgICAgICAgICAgICAgICFpc0V2ZW50SGFuZGxlZChldmVudCwgYXR0cmlidXRlcy5vbkNvcHkpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICBSZWFjdEVkaXRvci5zZXRGcmFnbWVudERhdGEoZWRpdG9yLCBldmVudC5jbGlwYm9hcmREYXRhLCAnY29weScpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbYXR0cmlidXRlcy5vbkNvcHldXG4gICAgICAgICAgKX1cbiAgICAgICAgICBvbkN1dD17dXNlQ2FsbGJhY2soXG4gICAgICAgICAgICAoZXZlbnQ6IFJlYWN0LkNsaXBib2FyZEV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIXJlYWRPbmx5ICYmXG4gICAgICAgICAgICAgICAgaGFzRWRpdGFibGVUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpICYmXG4gICAgICAgICAgICAgICAgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uQ3V0KVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgUmVhY3RFZGl0b3Iuc2V0RnJhZ21lbnREYXRhKGVkaXRvciwgZXZlbnQuY2xpcGJvYXJkRGF0YSwgJ2N1dCcpXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IGVkaXRvclxuXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgaWYgKFJhbmdlLmlzRXhwYW5kZWQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBFZGl0b3IuZGVsZXRlRnJhZ21lbnQoZWRpdG9yKVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IE5vZGUucGFyZW50KGVkaXRvciwgc2VsZWN0aW9uLmFuY2hvci5wYXRoKVxuICAgICAgICAgICAgICAgICAgICBpZiAoRWRpdG9yLmlzVm9pZChlZGl0b3IsIG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5kZWxldGUoZWRpdG9yKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW3JlYWRPbmx5LCBhdHRyaWJ1dGVzLm9uQ3V0XVxuICAgICAgICAgICl9XG4gICAgICAgICAgb25Gb2N1cz17dXNlQ2FsbGJhY2soXG4gICAgICAgICAgICAoZXZlbnQ6IFJlYWN0LkZvY3VzRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhcmVhZE9ubHkgJiZcbiAgICAgICAgICAgICAgICAhc3RhdGUuaXNVcGRhdGluZ1NlbGVjdGlvbiAmJlxuICAgICAgICAgICAgICAgIGhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSAmJlxuICAgICAgICAgICAgICAgICFpc0V2ZW50SGFuZGxlZChldmVudCwgYXR0cmlidXRlcy5vbkZvY3VzKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb290ID0gUmVhY3RFZGl0b3IuZmluZERvY3VtZW50T3JTaGFkb3dSb290KGVkaXRvcilcbiAgICAgICAgICAgICAgICBzdGF0ZS5sYXRlc3RFbGVtZW50ID0gcm9vdC5hY3RpdmVFbGVtZW50XG5cbiAgICAgICAgICAgICAgICBJU19GT0NVU0VELnNldChlZGl0b3IsIHRydWUpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbcmVhZE9ubHksIGF0dHJpYnV0ZXMub25Gb2N1c11cbiAgICAgICAgICApfVxuICAgICAgICAgIG9uQmx1cj17dXNlQ2FsbGJhY2soXG4gICAgICAgICAgICAoZXZlbnQ6IFJlYWN0LkZvY3VzRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICByZWFkT25seSB8fFxuICAgICAgICAgICAgICAgIHN0YXRlLmlzVXBkYXRpbmdTZWxlY3Rpb24gfHxcbiAgICAgICAgICAgICAgICAhaGFzRWRpdGFibGVUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpIHx8XG4gICAgICAgICAgICAgICAgaXNFdmVudEhhbmRsZWQoZXZlbnQsIGF0dHJpYnV0ZXMub25CbHVyKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENPTVBBVDogSWYgdGhlIGN1cnJlbnQgYGFjdGl2ZUVsZW1lbnRgIGlzIHN0aWxsIHRoZSBwcmV2aW91c1xuICAgICAgICAgICAgICAvLyBvbmUsIHRoaXMgaXMgZHVlIHRvIHRoZSB3aW5kb3cgYmVpbmcgYmx1cnJlZCB3aGVuIHRoZSB0YWJcbiAgICAgICAgICAgICAgLy8gaXRzZWxmIGJlY29tZXMgdW5mb2N1c2VkLCBzbyB3ZSB3YW50IHRvIGFib3J0IGVhcmx5IHRvIGFsbG93IHRvXG4gICAgICAgICAgICAgIC8vIGVkaXRvciB0byBzdGF5IGZvY3VzZWQgd2hlbiB0aGUgdGFiIGJlY29tZXMgZm9jdXNlZCBhZ2Fpbi5cbiAgICAgICAgICAgICAgY29uc3Qgcm9vdCA9IFJlYWN0RWRpdG9yLmZpbmREb2N1bWVudE9yU2hhZG93Um9vdChlZGl0b3IpXG4gICAgICAgICAgICAgIGlmIChzdGF0ZS5sYXRlc3RFbGVtZW50ID09PSByb290LmFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnN0IHsgcmVsYXRlZFRhcmdldCB9ID0gZXZlbnRcbiAgICAgICAgICAgICAgY29uc3QgZWwgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBlZGl0b3IpXG5cbiAgICAgICAgICAgICAgLy8gQ09NUEFUOiBUaGUgZXZlbnQgc2hvdWxkIGJlIGlnbm9yZWQgaWYgdGhlIGZvY3VzIGlzIHJldHVybmluZ1xuICAgICAgICAgICAgICAvLyB0byB0aGUgZWRpdG9yIGZyb20gYW4gZW1iZWRkZWQgZWRpdGFibGUgZWxlbWVudCAoZWcuIGFuIDxpbnB1dD5cbiAgICAgICAgICAgICAgLy8gZWxlbWVudCBpbnNpZGUgYSB2b2lkIG5vZGUpLlxuICAgICAgICAgICAgICBpZiAocmVsYXRlZFRhcmdldCA9PT0gZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIENPTVBBVDogVGhlIGV2ZW50IHNob3VsZCBiZSBpZ25vcmVkIGlmIHRoZSBmb2N1cyBpcyBtb3ZpbmcgZnJvbVxuICAgICAgICAgICAgICAvLyB0aGUgZWRpdG9yIHRvIGluc2lkZSBhIHZvaWQgbm9kZSdzIHNwYWNlciBlbGVtZW50LlxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaXNET01FbGVtZW50KHJlbGF0ZWRUYXJnZXQpICYmXG4gICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEtc2xhdGUtc3BhY2VyJylcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBDT01QQVQ6IFRoZSBldmVudCBzaG91bGQgYmUgaWdub3JlZCBpZiB0aGUgZm9jdXMgaXMgbW92aW5nIHRvIGFcbiAgICAgICAgICAgICAgLy8gbm9uLSBlZGl0YWJsZSBzZWN0aW9uIG9mIGFuIGVsZW1lbnQgdGhhdCBpc24ndCBhIHZvaWQgbm9kZSAoZWcuXG4gICAgICAgICAgICAgIC8vIGEgbGlzdCBpdGVtIG9mIHRoZSBjaGVjayBsaXN0IGV4YW1wbGUpLlxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgaXNET01Ob2RlKHJlbGF0ZWRUYXJnZXQpICYmXG4gICAgICAgICAgICAgICAgUmVhY3RFZGl0b3IuaGFzRE9NTm9kZShlZGl0b3IsIHJlbGF0ZWRUYXJnZXQpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBSZWFjdEVkaXRvci50b1NsYXRlTm9kZShlZGl0b3IsIHJlbGF0ZWRUYXJnZXQpXG5cbiAgICAgICAgICAgICAgICBpZiAoRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiYgIWVkaXRvci5pc1ZvaWQobm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIElTX0ZPQ1VTRUQuZGVsZXRlKGVkaXRvcilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbcmVhZE9ubHksIGF0dHJpYnV0ZXMub25CbHVyXVxuICAgICAgICAgICl9XG4gICAgICAgICAgb25DbGljaz17dXNlQ2FsbGJhY2soXG4gICAgICAgICAgICAoZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhcmVhZE9ubHkgJiZcbiAgICAgICAgICAgICAgICBoYXNUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpICYmXG4gICAgICAgICAgICAgICAgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uQ2xpY2spICYmXG4gICAgICAgICAgICAgICAgaXNET01Ob2RlKGV2ZW50LnRhcmdldClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IFJlYWN0RWRpdG9yLnRvU2xhdGVOb2RlKGVkaXRvciwgZXZlbnQudGFyZ2V0KVxuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBSZWFjdEVkaXRvci5maW5kUGF0aChlZGl0b3IsIG5vZGUpXG5cbiAgICAgICAgICAgICAgICAvLyBBdCB0aGlzIHRpbWUsIHRoZSBTbGF0ZSBkb2N1bWVudCBtYXkgYmUgYXJiaXRyYXJpbHkgZGlmZmVyZW50LFxuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugb25DbGljayBoYW5kbGVycyBjYW4gY2hhbmdlIHRoZSBkb2N1bWVudCBiZWZvcmUgd2UgZ2V0IGhlcmUuXG4gICAgICAgICAgICAgICAgLy8gVGhlcmVmb3JlIHdlIG11c3QgY2hlY2sgdGhhdCB0aGlzIHBhdGggYWN0dWFsbHkgZXhpc3RzLFxuICAgICAgICAgICAgICAgIC8vIGFuZCB0aGF0IGl0IHN0aWxsIHJlZmVycyB0byB0aGUgc2FtZSBub2RlLlxuICAgICAgICAgICAgICAgIGlmIChFZGl0b3IuaGFzUGF0aChlZGl0b3IsIHBhdGgpKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBsb29rdXBOb2RlID0gTm9kZS5nZXQoZWRpdG9yLCBwYXRoKVxuICAgICAgICAgICAgICAgICAgaWYgKGxvb2t1cE5vZGUgPT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBwYXRoKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBFZGl0b3IuZW5kKGVkaXRvciwgcGF0aClcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGFydFZvaWQgPSBFZGl0b3Iudm9pZChlZGl0b3IsIHsgYXQ6IHN0YXJ0IH0pXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZFZvaWQgPSBFZGl0b3Iudm9pZChlZGl0b3IsIHsgYXQ6IGVuZCB9KVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICBzdGFydFZvaWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICBlbmRWb2lkICYmXG4gICAgICAgICAgICAgICAgICAgICAgUGF0aC5lcXVhbHMoc3RhcnRWb2lkWzFdLCBlbmRWb2lkWzFdKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IEVkaXRvci5yYW5nZShlZGl0b3IsIHN0YXJ0KVxuICAgICAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgcmFuZ2UpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbcmVhZE9ubHksIGF0dHJpYnV0ZXMub25DbGlja11cbiAgICAgICAgICApfVxuICAgICAgICAgIG9uQ29tcG9zaXRpb25FbmQ9e3VzZUNhbGxiYWNrKFxuICAgICAgICAgICAgKGV2ZW50OiBSZWFjdC5Db21wb3NpdGlvbkV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaGFzRWRpdGFibGVUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpICYmXG4gICAgICAgICAgICAgICAgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uQ29tcG9zaXRpb25FbmQpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlT25ET01TZWxlY3Rpb25DaGFuZ2UuZmx1c2goKVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc3RhdGUuaXNDb21wb3NpbmcgJiYgc2V0SXNDb21wb3NpbmcoZmFsc2UpXG4gICAgICAgICAgICAgICAgICBzdGF0ZS5pc0NvbXBvc2luZyA9IGZhbHNlXG5cbiAgICAgICAgICAgICAgICAgIElTX0NPTVBPU0lORy5zZXQoZWRpdG9yLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgIElTX09OX0NPTVBPU0lUSU9OX0VORC5zZXQoZWRpdG9yLCB0cnVlKVxuXG4gICAgICAgICAgICAgICAgICBjb25zdCBpbnNlcnRlZFRleHQgPVxuICAgICAgICAgICAgICAgICAgICBFRElUT1JfT05fQ09NUE9TSVRJT05fVEVYVC5nZXQoZWRpdG9yKSB8fCBbXVxuXG4gICAgICAgICAgICAgICAgICAvLyBgaW5zZXJ0ZWRUZXh0YCBpcyBzZXQgaW4gYE11dGF0aW9uT2JzZXJ2ZXJgIGNvbnN0cnVjdG9yLlxuICAgICAgICAgICAgICAgICAgLy8gSWYgb3BlbiBwaG9uZSBrZXlib2FyZCBhc3NvY2lhdGlvbiBmdW5jdGlvbiwgYENvbXBvc2l0aW9uRXZlbnRgIHdpbGwgYmUgdHJpZ2dlcmVkLlxuICAgICAgICAgICAgICAgICAgaWYgKCFpbnNlcnRlZFRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICBFRElUT1JfT05fQ09NUE9TSVRJT05fVEVYVC5zZXQoZWRpdG9yLCBbXSlcblxuICAgICAgICAgICAgICAgICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IGVkaXRvclxuXG4gICAgICAgICAgICAgICAgICBpbnNlcnRlZFRleHQuZm9yRWFjaChpbnNlcnRpb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gaW5zZXJ0aW9uLnRleHQuaW5zZXJ0VGV4dFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdCA9IG5vcm1hbGl6ZVRleHRJbnNlcnRpb25SYW5nZShcbiAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGluc2VydGlvblxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybXMuc2V0U2VsZWN0aW9uKGVkaXRvciwgYXQpXG4gICAgICAgICAgICAgICAgICAgIEVkaXRvci5pbnNlcnRUZXh0KGVkaXRvciwgdGV4dClcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSwgUkVTT0xWRV9ERUxBWSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFthdHRyaWJ1dGVzLm9uQ29tcG9zaXRpb25FbmRdXG4gICAgICAgICAgKX1cbiAgICAgICAgICBvbkNvbXBvc2l0aW9uVXBkYXRlPXt1c2VDYWxsYmFjayhcbiAgICAgICAgICAgIChldmVudDogUmVhY3QuQ29tcG9zaXRpb25FdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSAmJlxuICAgICAgICAgICAgICAgICFpc0V2ZW50SGFuZGxlZChldmVudCwgYXR0cmlidXRlcy5vbkNvbXBvc2l0aW9uVXBkYXRlKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAhc3RhdGUuaXNDb21wb3NpbmcgJiYgc2V0SXNDb21wb3NpbmcodHJ1ZSlcbiAgICAgICAgICAgICAgICBzdGF0ZS5pc0NvbXBvc2luZyA9IHRydWVcbiAgICAgICAgICAgICAgICBJU19DT01QT1NJTkcuc2V0KGVkaXRvciwgdHJ1ZSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFthdHRyaWJ1dGVzLm9uQ29tcG9zaXRpb25VcGRhdGVdXG4gICAgICAgICAgKX1cbiAgICAgICAgICBvbkNvbXBvc2l0aW9uU3RhcnQ9e3VzZUNhbGxiYWNrKFxuICAgICAgICAgICAgKGV2ZW50OiBSZWFjdC5Db21wb3NpdGlvbkV2ZW50PEhUTUxEaXZFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaGFzRWRpdGFibGVUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpICYmXG4gICAgICAgICAgICAgICAgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uQ29tcG9zaXRpb25TdGFydClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgIXN0YXRlLmlzQ29tcG9zaW5nICYmIHNldElzQ29tcG9zaW5nKHRydWUpXG4gICAgICAgICAgICAgICAgc3RhdGUuaXNDb21wb3NpbmcgPSB0cnVlXG4gICAgICAgICAgICAgICAgSVNfQ09NUE9TSU5HLnNldChlZGl0b3IsIHRydWUpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbYXR0cmlidXRlcy5vbkNvbXBvc2l0aW9uU3RhcnRdXG4gICAgICAgICAgKX1cbiAgICAgICAgICBvblBhc3RlPXt1c2VDYWxsYmFjayhcbiAgICAgICAgICAgIChldmVudDogUmVhY3QuQ2xpcGJvYXJkRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBtYWtlIGFwcGxpY2F0aW9uL3gtc2xhdGUtZnJhZ21lbnQgZXhpc3Qgd2hlbiBvblBhc3RlIGF0dHJpYnV0ZXMgaXMgcGFzc2VkXG4gICAgICAgICAgICAgIGV2ZW50LmNsaXBib2FyZERhdGEgPSBnZXRDbGlwYm9hcmREYXRhKGV2ZW50LmNsaXBib2FyZERhdGEpXG4gICAgICAgICAgICAgIC8vIFRoaXMgdW5mb3J0dW5hdGVseSBuZWVkcyB0byBiZSBoYW5kbGVkIHdpdGggcGFzdGUgZXZlbnRzIGluc3RlYWQuXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBoYXNFZGl0YWJsZVRhcmdldChlZGl0b3IsIGV2ZW50LnRhcmdldCkgJiZcbiAgICAgICAgICAgICAgICAhaXNFdmVudEhhbmRsZWQoZXZlbnQsIGF0dHJpYnV0ZXMub25QYXN0ZSkgJiZcbiAgICAgICAgICAgICAgICAhcmVhZE9ubHlcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgIFJlYWN0RWRpdG9yLmluc2VydERhdGEoZWRpdG9yLCBldmVudC5jbGlwYm9hcmREYXRhKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW3JlYWRPbmx5LCBhdHRyaWJ1dGVzLm9uUGFzdGVdXG4gICAgICAgICAgKX1cbiAgICAgICAgPlxuICAgICAgICAgIHt1c2VDaGlsZHJlbih7XG4gICAgICAgICAgICBkZWNvcmF0aW9ucyxcbiAgICAgICAgICAgIG5vZGU6IGVkaXRvcixcbiAgICAgICAgICAgIHJlbmRlckVsZW1lbnQsXG4gICAgICAgICAgICByZW5kZXJQbGFjZWhvbGRlcixcbiAgICAgICAgICAgIHJlbmRlckxlYWYsXG4gICAgICAgICAgICBzZWxlY3Rpb246IGVkaXRvci5zZWxlY3Rpb24sXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvQ29tcG9uZW50PlxuICAgICAgPC9EZWNvcmF0ZUNvbnRleHQuUHJvdmlkZXI+XG4gICAgPC9SZWFkT25seUNvbnRleHQuUHJvdmlkZXI+XG4gIClcbn1cbiIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcblxuLyoqXG4gKiBBIFJlYWN0IGNvbnRleHQgZm9yIHNoYXJpbmcgdGhlIGBmb2N1c2VkYCBzdGF0ZSBvZiB0aGUgZWRpdG9yLlxuICovXG5cbmV4cG9ydCBjb25zdCBGb2N1c2VkQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoZmFsc2UpXG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50IGBmb2N1c2VkYCBzdGF0ZSBvZiB0aGUgZWRpdG9yLlxuICovXG5cbmV4cG9ydCBjb25zdCB1c2VGb2N1c2VkID0gKCk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gdXNlQ29udGV4dChGb2N1c2VkQ29udGV4dClcbn1cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBFZGl0b3IsIE5vZGUsIERlc2NlbmRhbnQsIFNjcnViYmVyIH0gZnJvbSAnc2xhdGUnXG5pbXBvcnQgeyBSZWFjdEVkaXRvciB9IGZyb20gJy4uL3BsdWdpbi9yZWFjdC1lZGl0b3InXG5pbXBvcnQgeyBGb2N1c2VkQ29udGV4dCB9IGZyb20gJy4uL2hvb2tzL3VzZS1mb2N1c2VkJ1xuaW1wb3J0IHsgRWRpdG9yQ29udGV4dCB9IGZyb20gJy4uL2hvb2tzL3VzZS1zbGF0ZS1zdGF0aWMnXG5pbXBvcnQgeyBTbGF0ZUNvbnRleHQgfSBmcm9tICcuLi9ob29rcy91c2Utc2xhdGUnXG5pbXBvcnQge1xuICBnZXRTZWxlY3RvckNvbnRleHQsXG4gIFNsYXRlU2VsZWN0b3JDb250ZXh0LFxufSBmcm9tICcuLi9ob29rcy91c2Utc2xhdGUtc2VsZWN0b3InXG5pbXBvcnQgeyBFRElUT1JfVE9fT05fQ0hBTkdFIH0gZnJvbSAnLi4vdXRpbHMvd2Vhay1tYXBzJ1xuaW1wb3J0IHsgSVNfUkVBQ1RfVkVSU0lPTl8xN19PUl9BQk9WRSB9IGZyb20gJy4uL3V0aWxzL2Vudmlyb25tZW50J1xuaW1wb3J0IHsgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gJy4uL2hvb2tzL3VzZS1pc29tb3JwaGljLWxheW91dC1lZmZlY3QnXG5cbi8qKlxuICogQSB3cmFwcGVyIGFyb3VuZCB0aGUgcHJvdmlkZXIgdG8gaGFuZGxlIGBvbkNoYW5nZWAgZXZlbnRzLCBiZWNhdXNlIHRoZSBlZGl0b3JcbiAqIGlzIGEgbXV0YWJsZSBzaW5nbGV0b24gc28gaXQgd29uJ3QgZXZlciByZWdpc3RlciBhcyBcImNoYW5nZWRcIiBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGNvbnN0IFNsYXRlID0gKHByb3BzOiB7XG4gIGVkaXRvcjogUmVhY3RFZGl0b3JcbiAgdmFsdWU6IERlc2NlbmRhbnRbXVxuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlXG4gIG9uQ2hhbmdlPzogKHZhbHVlOiBEZXNjZW5kYW50W10pID0+IHZvaWRcbn0pID0+IHtcbiAgY29uc3QgeyBlZGl0b3IsIGNoaWxkcmVuLCBvbkNoYW5nZSwgdmFsdWUsIC4uLnJlc3QgfSA9IHByb3BzXG4gIGNvbnN0IHVubW91bnRSZWYgPSB1c2VSZWYoZmFsc2UpXG5cbiAgY29uc3QgW2NvbnRleHQsIHNldENvbnRleHRdID0gUmVhY3QudXNlU3RhdGU8W1JlYWN0RWRpdG9yXT4oKCkgPT4ge1xuICAgIGlmICghTm9kZS5pc05vZGVMaXN0KHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgW1NsYXRlXSB2YWx1ZSBpcyBpbnZhbGlkISBFeHBlY3RlZCBhIGxpc3Qgb2YgZWxlbWVudHNgICtcbiAgICAgICAgICBgYnV0IGdvdDogJHtTY3J1YmJlci5zdHJpbmdpZnkodmFsdWUpfWBcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKCFFZGl0b3IuaXNFZGl0b3IoZWRpdG9yKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgW1NsYXRlXSBlZGl0b3IgaXMgaW52YWxpZCEgeW91IHBhc3NlZDpgICtcbiAgICAgICAgICBgJHtTY3J1YmJlci5zdHJpbmdpZnkoZWRpdG9yKX1gXG4gICAgICApXG4gICAgfVxuICAgIGVkaXRvci5jaGlsZHJlbiA9IHZhbHVlXG4gICAgT2JqZWN0LmFzc2lnbihlZGl0b3IsIHJlc3QpXG4gICAgcmV0dXJuIFtlZGl0b3JdXG4gIH0pXG5cbiAgY29uc3Qge1xuICAgIHNlbGVjdG9yQ29udGV4dCxcbiAgICBvbkNoYW5nZTogaGFuZGxlU2VsZWN0b3JDaGFuZ2UsXG4gIH0gPSBnZXRTZWxlY3RvckNvbnRleHQoZWRpdG9yKVxuXG4gIGNvbnN0IG9uQ29udGV4dENoYW5nZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgIG9uQ2hhbmdlKGVkaXRvci5jaGlsZHJlbilcbiAgICB9XG5cbiAgICBzZXRDb250ZXh0KFtlZGl0b3JdKVxuICAgIGhhbmRsZVNlbGVjdG9yQ2hhbmdlKGVkaXRvcilcbiAgfSwgW29uQ2hhbmdlXSlcblxuICBFRElUT1JfVE9fT05fQ0hBTkdFLnNldChlZGl0b3IsIG9uQ29udGV4dENoYW5nZSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBFRElUT1JfVE9fT05fQ0hBTkdFLnNldChlZGl0b3IsICgpID0+IHt9KVxuICAgICAgdW5tb3VudFJlZi5jdXJyZW50ID0gdHJ1ZVxuICAgIH1cbiAgfSwgW10pXG5cbiAgY29uc3QgW2lzRm9jdXNlZCwgc2V0SXNGb2N1c2VkXSA9IHVzZVN0YXRlKFJlYWN0RWRpdG9yLmlzRm9jdXNlZChlZGl0b3IpKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNGb2N1c2VkKFJlYWN0RWRpdG9yLmlzRm9jdXNlZChlZGl0b3IpKVxuICB9KVxuXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZuID0gKCkgPT4gc2V0SXNGb2N1c2VkKFJlYWN0RWRpdG9yLmlzRm9jdXNlZChlZGl0b3IpKVxuICAgIGlmIChJU19SRUFDVF9WRVJTSU9OXzE3X09SX0FCT1ZFKSB7XG4gICAgICAvLyBJbiBSZWFjdCA+PSAxNyBvbkZvY3VzIGFuZCBvbkJsdXIgbGlzdGVuIHRvIHRoZSBmb2N1c2luIGFuZCBmb2N1c291dCBldmVudHMgZHVyaW5nIHRoZSBidWJibGluZyBwaGFzZS5cbiAgICAgIC8vIFRoZXJlZm9yZSBpbiBvcmRlciBmb3IgPEVkaXRhYmxlIC8+J3MgaGFuZGxlcnMgdG8gcnVuIGZpcnN0LCB3aGljaCBpcyBuZWNlc3NhcnkgZm9yIFJlYWN0RWRpdG9yLmlzRm9jdXNlZChlZGl0b3IpXG4gICAgICAvLyB0byByZXR1cm4gdGhlIGNvcnJlY3QgdmFsdWUsIHdlIGhhdmUgdG8gbGlzdGVuIHRvIHRoZSBmb2N1c2luIGFuZCBmb2N1c291dCBldmVudHMgd2l0aG91dCB1c2VDYXB0dXJlIGhlcmUuXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgZm4pXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIGZuKVxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIGZuKVxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIGZuKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZuLCB0cnVlKVxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZuLCB0cnVlKVxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmbiwgdHJ1ZSlcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIGZuLCB0cnVlKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW10pXG5cbiAgcmV0dXJuIChcbiAgICA8U2xhdGVTZWxlY3RvckNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3NlbGVjdG9yQ29udGV4dH0+XG4gICAgICA8U2xhdGVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0fT5cbiAgICAgICAgPEVkaXRvckNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2VkaXRvcn0+XG4gICAgICAgICAgPEZvY3VzZWRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtpc0ZvY3VzZWR9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgIDwvRm9jdXNlZENvbnRleHQuUHJvdmlkZXI+XG4gICAgICAgIDwvRWRpdG9yQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgIDwvU2xhdGVDb250ZXh0LlByb3ZpZGVyPlxuICAgIDwvU2xhdGVTZWxlY3RvckNvbnRleHQuUHJvdmlkZXI+XG4gIClcbn1cbiIsImltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgRWRpdG9yQ29udGV4dCB9IGZyb20gJy4vdXNlLXNsYXRlLXN0YXRpYydcblxuLyoqXG4gKiBHZXQgdGhlIGN1cnJlbnQgZWRpdG9yIG9iamVjdCBmcm9tIHRoZSBSZWFjdCBjb250ZXh0LlxuICogQGRlcHJlY2F0ZWQgVXNlIHVzZVNsYXRlU3RhdGljIGluc3RlYWQuXG4gKi9cblxuZXhwb3J0IGNvbnN0IHVzZUVkaXRvciA9ICgpID0+IHtcbiAgY29uc3QgZWRpdG9yID0gdXNlQ29udGV4dChFZGl0b3JDb250ZXh0KVxuXG4gIGlmICghZWRpdG9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFRoZSBcXGB1c2VFZGl0b3JcXGAgaG9vayBtdXN0IGJlIHVzZWQgaW5zaWRlIHRoZSA8U2xhdGU+IGNvbXBvbmVudCdzIGNvbnRleHQuYFxuICAgIClcbiAgfVxuXG4gIHJldHVybiBlZGl0b3Jcbn1cbiIsIi8qKlxuICogVXRpbGl0aWVzIGZvciBzaW5nbGUtbGluZSBkZWxldGlvblxuICovXG5cbmltcG9ydCB7IFJhbmdlLCBFZGl0b3IgfSBmcm9tICdzbGF0ZSdcbmltcG9ydCB7IFJlYWN0RWRpdG9yIH0gZnJvbSAnLi4nXG5cbmNvbnN0IGRvUmVjdHNJbnRlcnNlY3QgPSAocmVjdDogRE9NUmVjdCwgY29tcGFyZVJlY3Q6IERPTVJlY3QpID0+IHtcbiAgY29uc3QgbWlkZGxlID0gKGNvbXBhcmVSZWN0LnRvcCArIGNvbXBhcmVSZWN0LmJvdHRvbSkgLyAyXG5cbiAgcmV0dXJuIHJlY3QudG9wIDw9IG1pZGRsZSAmJiByZWN0LmJvdHRvbSA+PSBtaWRkbGVcbn1cblxuY29uc3QgYXJlUmFuZ2VzU2FtZUxpbmUgPSAoXG4gIGVkaXRvcjogUmVhY3RFZGl0b3IsXG4gIHJhbmdlMTogUmFuZ2UsXG4gIHJhbmdlMjogUmFuZ2VcbikgPT4ge1xuICBjb25zdCByZWN0MSA9IFJlYWN0RWRpdG9yLnRvRE9NUmFuZ2UoZWRpdG9yLCByYW5nZTEpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gIGNvbnN0IHJlY3QyID0gUmVhY3RFZGl0b3IudG9ET01SYW5nZShlZGl0b3IsIHJhbmdlMikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICByZXR1cm4gZG9SZWN0c0ludGVyc2VjdChyZWN0MSwgcmVjdDIpICYmIGRvUmVjdHNJbnRlcnNlY3QocmVjdDIsIHJlY3QxKVxufVxuXG4vKipcbiAqIEEgaGVscGVyIHV0aWxpdHkgdGhhdCByZXR1cm5zIHRoZSBlbmQgcG9ydGlvbiBvZiBhIGBSYW5nZWBcbiAqIHdoaWNoIGlzIGxvY2F0ZWQgb24gYSBzaW5nbGUgbGluZS5cbiAqXG4gKiBAcGFyYW0ge0VkaXRvcn0gZWRpdG9yIFRoZSBlZGl0b3Igb2JqZWN0IHRvIGNvbXBhcmUgYWdhaW5zdFxuICogQHBhcmFtIHtSYW5nZX0gcGFyZW50UmFuZ2UgVGhlIHBhcmVudCByYW5nZSB0byBjb21wYXJlIGFnYWluc3RcbiAqIEByZXR1cm5zIHtSYW5nZX0gQSB2YWxpZCBwb3J0aW9uIG9mIHRoZSBwYXJlbnRSYW5nZSB3aGljaCBpcyBvbmUgYSBzaW5nbGUgbGluZVxuICovXG5leHBvcnQgY29uc3QgZmluZEN1cnJlbnRMaW5lUmFuZ2UgPSAoXG4gIGVkaXRvcjogUmVhY3RFZGl0b3IsXG4gIHBhcmVudFJhbmdlOiBSYW5nZVxuKTogUmFuZ2UgPT4ge1xuICBjb25zdCBwYXJlbnRSYW5nZUJvdW5kYXJ5ID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgUmFuZ2UuZW5kKHBhcmVudFJhbmdlKSlcbiAgY29uc3QgcG9zaXRpb25zID0gQXJyYXkuZnJvbShFZGl0b3IucG9zaXRpb25zKGVkaXRvciwgeyBhdDogcGFyZW50UmFuZ2UgfSkpXG5cbiAgbGV0IGxlZnQgPSAwXG4gIGxldCByaWdodCA9IHBvc2l0aW9ucy5sZW5ndGhcbiAgbGV0IG1pZGRsZSA9IE1hdGguZmxvb3IocmlnaHQgLyAyKVxuXG4gIGlmIChcbiAgICBhcmVSYW5nZXNTYW1lTGluZShcbiAgICAgIGVkaXRvcixcbiAgICAgIEVkaXRvci5yYW5nZShlZGl0b3IsIHBvc2l0aW9uc1tsZWZ0XSksXG4gICAgICBwYXJlbnRSYW5nZUJvdW5kYXJ5XG4gICAgKVxuICApIHtcbiAgICByZXR1cm4gRWRpdG9yLnJhbmdlKGVkaXRvciwgcG9zaXRpb25zW2xlZnRdLCBwYXJlbnRSYW5nZUJvdW5kYXJ5KVxuICB9XG5cbiAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPCAyKSB7XG4gICAgcmV0dXJuIEVkaXRvci5yYW5nZShcbiAgICAgIGVkaXRvcixcbiAgICAgIHBvc2l0aW9uc1twb3NpdGlvbnMubGVuZ3RoIC0gMV0sXG4gICAgICBwYXJlbnRSYW5nZUJvdW5kYXJ5XG4gICAgKVxuICB9XG5cbiAgd2hpbGUgKG1pZGRsZSAhPT0gcG9zaXRpb25zLmxlbmd0aCAmJiBtaWRkbGUgIT09IGxlZnQpIHtcbiAgICBpZiAoXG4gICAgICBhcmVSYW5nZXNTYW1lTGluZShcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICBFZGl0b3IucmFuZ2UoZWRpdG9yLCBwb3NpdGlvbnNbbWlkZGxlXSksXG4gICAgICAgIHBhcmVudFJhbmdlQm91bmRhcnlcbiAgICAgIClcbiAgICApIHtcbiAgICAgIHJpZ2h0ID0gbWlkZGxlXG4gICAgfSBlbHNlIHtcbiAgICAgIGxlZnQgPSBtaWRkbGVcbiAgICB9XG5cbiAgICBtaWRkbGUgPSBNYXRoLmZsb29yKChsZWZ0ICsgcmlnaHQpIC8gMilcbiAgfVxuXG4gIHJldHVybiBFZGl0b3IucmFuZ2UoZWRpdG9yLCBwb3NpdGlvbnNbcmlnaHRdLCBwYXJlbnRSYW5nZUJvdW5kYXJ5KVxufVxuIiwiaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSdcbmltcG9ydCB7IEVkaXRvciwgTm9kZSwgUGF0aCwgT3BlcmF0aW9uLCBUcmFuc2Zvcm1zLCBSYW5nZSB9IGZyb20gJ3NsYXRlJ1xuXG5pbXBvcnQgeyBSZWFjdEVkaXRvciB9IGZyb20gJy4vcmVhY3QtZWRpdG9yJ1xuaW1wb3J0IHsgS2V5IH0gZnJvbSAnLi4vdXRpbHMva2V5J1xuaW1wb3J0IHtcbiAgRURJVE9SX1RPX0tFWV9UT19FTEVNRU5ULFxuICBFRElUT1JfVE9fT05fQ0hBTkdFLFxuICBOT0RFX1RPX0tFWSxcbiAgRURJVE9SX1RPX1VTRVJfU0VMRUNUSU9OLFxufSBmcm9tICcuLi91dGlscy93ZWFrLW1hcHMnXG5pbXBvcnQge1xuICBpc0RPTVRleHQsXG4gIGdldFBsYWluVGV4dCxcbiAgZ2V0U2xhdGVGcmFnbWVudEF0dHJpYnV0ZSxcbn0gZnJvbSAnLi4vdXRpbHMvZG9tJ1xuaW1wb3J0IHsgZmluZEN1cnJlbnRMaW5lUmFuZ2UgfSBmcm9tICcuLi91dGlscy9saW5lcydcblxuLyoqXG4gKiBgd2l0aFJlYWN0YCBhZGRzIFJlYWN0IGFuZCBET00gc3BlY2lmaWMgYmVoYXZpb3JzIHRvIHRoZSBlZGl0b3IuXG4gKlxuICogSWYgeW91IGFyZSB1c2luZyBUeXBlU2NyaXB0LCB5b3UgbXVzdCBleHRlbmQgU2xhdGUncyBDdXN0b21UeXBlcyB0byB1c2VcbiAqIHRoaXMgcGx1Z2luLlxuICpcbiAqIFNlZSBodHRwczovL2RvY3Muc2xhdGVqcy5vcmcvY29uY2VwdHMvMTEtdHlwZXNjcmlwdCB0byBsZWFybiBob3cuXG4gKi9cblxuZXhwb3J0IGNvbnN0IHdpdGhSZWFjdCA9IDxUIGV4dGVuZHMgRWRpdG9yPihlZGl0b3I6IFQpID0+IHtcbiAgY29uc3QgZSA9IGVkaXRvciBhcyBUICYgUmVhY3RFZGl0b3JcbiAgY29uc3QgeyBhcHBseSwgb25DaGFuZ2UsIGRlbGV0ZUJhY2t3YXJkIH0gPSBlXG5cbiAgLy8gVGhlIFdlYWtNYXAgd2hpY2ggbWFwcyBhIGtleSB0byBhIHNwZWNpZmljIEhUTUxFbGVtZW50IG11c3QgYmUgc2NvcGVkIHRvIHRoZSBlZGl0b3IgaW5zdGFuY2UgdG9cbiAgLy8gYXZvaWQgY29sbGlzaW9ucyBiZXR3ZWVuIGVkaXRvcnMgaW4gdGhlIERPTSB0aGF0IHNoYXJlIHRoZSBzYW1lIHZhbHVlLlxuICBFRElUT1JfVE9fS0VZX1RPX0VMRU1FTlQuc2V0KGUsIG5ldyBXZWFrTWFwKCkpXG5cbiAgZS5kZWxldGVCYWNrd2FyZCA9IHVuaXQgPT4ge1xuICAgIGlmICh1bml0ICE9PSAnbGluZScpIHtcbiAgICAgIHJldHVybiBkZWxldGVCYWNrd2FyZCh1bml0KVxuICAgIH1cblxuICAgIGlmIChlZGl0b3Iuc2VsZWN0aW9uICYmIFJhbmdlLmlzQ29sbGFwc2VkKGVkaXRvci5zZWxlY3Rpb24pKSB7XG4gICAgICBjb25zdCBwYXJlbnRCbG9ja0VudHJ5ID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgICBtYXRjaDogbiA9PiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pLFxuICAgICAgICBhdDogZWRpdG9yLnNlbGVjdGlvbixcbiAgICAgIH0pXG5cbiAgICAgIGlmIChwYXJlbnRCbG9ja0VudHJ5KSB7XG4gICAgICAgIGNvbnN0IFssIHBhcmVudEJsb2NrUGF0aF0gPSBwYXJlbnRCbG9ja0VudHJ5XG4gICAgICAgIGNvbnN0IHBhcmVudEVsZW1lbnRSYW5nZSA9IEVkaXRvci5yYW5nZShcbiAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgcGFyZW50QmxvY2tQYXRoLFxuICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24uYW5jaG9yXG4gICAgICAgIClcblxuICAgICAgICBjb25zdCBjdXJyZW50TGluZVJhbmdlID0gZmluZEN1cnJlbnRMaW5lUmFuZ2UoZSwgcGFyZW50RWxlbWVudFJhbmdlKVxuXG4gICAgICAgIGlmICghUmFuZ2UuaXNDb2xsYXBzZWQoY3VycmVudExpbmVSYW5nZSkpIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHsgYXQ6IGN1cnJlbnRMaW5lUmFuZ2UgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFRoaXMgYXR0ZW1wdHMgdG8gcmVzZXQgdGhlIE5PREVfVE9fS0VZIGVudHJ5IHRvIHRoZSBjb3JyZWN0IHZhbHVlXG4gIC8vIGFzIGFwcGx5KCkgY2hhbmdlcyB0aGUgb2JqZWN0IHJlZmVyZW5jZSBhbmQgaGVuY2UgaW52YWxpZGF0ZXMgdGhlIE5PREVfVE9fS0VZIGVudHJ5XG4gIGUuYXBwbHkgPSAob3A6IE9wZXJhdGlvbikgPT4ge1xuICAgIGNvbnN0IG1hdGNoZXM6IFtQYXRoLCBLZXldW10gPSBbXVxuXG4gICAgc3dpdGNoIChvcC50eXBlKSB7XG4gICAgICBjYXNlICdpbnNlcnRfdGV4dCc6XG4gICAgICBjYXNlICdyZW1vdmVfdGV4dCc6XG4gICAgICBjYXNlICdzZXRfbm9kZSc6XG4gICAgICBjYXNlICdzcGxpdF9ub2RlJzoge1xuICAgICAgICBtYXRjaGVzLnB1c2goLi4uZ2V0TWF0Y2hlcyhlLCBvcC5wYXRoKSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnc2V0X3NlbGVjdGlvbic6IHtcbiAgICAgICAgLy8gU2VsZWN0aW9uIHdhcyBtYW51YWxseSBzZXQsIGRvbid0IHJlc3RvcmUgdGhlIHVzZXIgc2VsZWN0aW9uIGFmdGVyIHRoZSBjaGFuZ2UuXG4gICAgICAgIEVESVRPUl9UT19VU0VSX1NFTEVDVElPTi5nZXQoZWRpdG9yKT8udW5yZWYoKVxuICAgICAgICBFRElUT1JfVE9fVVNFUl9TRUxFQ1RJT04uZGVsZXRlKGVkaXRvcilcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnaW5zZXJ0X25vZGUnOlxuICAgICAgY2FzZSAncmVtb3ZlX25vZGUnOiB7XG4gICAgICAgIG1hdGNoZXMucHVzaCguLi5nZXRNYXRjaGVzKGUsIFBhdGgucGFyZW50KG9wLnBhdGgpKSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnbWVyZ2Vfbm9kZSc6IHtcbiAgICAgICAgY29uc3QgcHJldlBhdGggPSBQYXRoLnByZXZpb3VzKG9wLnBhdGgpXG4gICAgICAgIG1hdGNoZXMucHVzaCguLi5nZXRNYXRjaGVzKGUsIHByZXZQYXRoKSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY2FzZSAnbW92ZV9ub2RlJzoge1xuICAgICAgICBjb25zdCBjb21tb25QYXRoID0gUGF0aC5jb21tb24oXG4gICAgICAgICAgUGF0aC5wYXJlbnQob3AucGF0aCksXG4gICAgICAgICAgUGF0aC5wYXJlbnQob3AubmV3UGF0aClcbiAgICAgICAgKVxuICAgICAgICBtYXRjaGVzLnB1c2goLi4uZ2V0TWF0Y2hlcyhlLCBjb21tb25QYXRoKSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBseShvcClcblxuICAgIGZvciAoY29uc3QgW3BhdGgsIGtleV0gb2YgbWF0Y2hlcykge1xuICAgICAgY29uc3QgW25vZGVdID0gRWRpdG9yLm5vZGUoZSwgcGF0aClcbiAgICAgIE5PREVfVE9fS0VZLnNldChub2RlLCBrZXkpXG4gICAgfVxuICB9XG5cbiAgZS5zZXRGcmFnbWVudERhdGEgPSAoZGF0YTogUGljazxEYXRhVHJhbnNmZXIsICdnZXREYXRhJyB8ICdzZXREYXRhJz4pID0+IHtcbiAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gZVxuXG4gICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IFtzdGFydCwgZW5kXSA9IFJhbmdlLmVkZ2VzKHNlbGVjdGlvbilcbiAgICBjb25zdCBzdGFydFZvaWQgPSBFZGl0b3Iudm9pZChlLCB7IGF0OiBzdGFydC5wYXRoIH0pXG4gICAgY29uc3QgZW5kVm9pZCA9IEVkaXRvci52b2lkKGUsIHsgYXQ6IGVuZC5wYXRoIH0pXG5cbiAgICBpZiAoUmFuZ2UuaXNDb2xsYXBzZWQoc2VsZWN0aW9uKSAmJiAhc3RhcnRWb2lkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYSBmYWtlIHNlbGVjdGlvbiBzbyB0aGF0IHdlIGNhbiBhZGQgYSBCYXNlNjQtZW5jb2RlZCBjb3B5IG9mIHRoZVxuICAgIC8vIGZyYWdtZW50IHRvIHRoZSBIVE1MLCB0byBkZWNvZGUgb24gZnV0dXJlIHBhc3Rlcy5cbiAgICBjb25zdCBkb21SYW5nZSA9IFJlYWN0RWRpdG9yLnRvRE9NUmFuZ2UoZSwgc2VsZWN0aW9uKVxuICAgIGxldCBjb250ZW50cyA9IGRvbVJhbmdlLmNsb25lQ29udGVudHMoKVxuICAgIGxldCBhdHRhY2ggPSBjb250ZW50cy5jaGlsZE5vZGVzWzBdIGFzIEhUTUxFbGVtZW50XG5cbiAgICAvLyBNYWtlIHN1cmUgYXR0YWNoIGlzIG5vbi1lbXB0eSwgc2luY2UgZW1wdHkgbm9kZXMgd2lsbCBub3QgZ2V0IGNvcGllZC5cbiAgICBjb250ZW50cy5jaGlsZE5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICBpZiAobm9kZS50ZXh0Q29udGVudCAmJiBub2RlLnRleHRDb250ZW50LnRyaW0oKSAhPT0gJycpIHtcbiAgICAgICAgYXR0YWNoID0gbm9kZSBhcyBIVE1MRWxlbWVudFxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBDT01QQVQ6IElmIHRoZSBlbmQgbm9kZSBpcyBhIHZvaWQgbm9kZSwgd2UgbmVlZCB0byBtb3ZlIHRoZSBlbmQgb2YgdGhlXG4gICAgLy8gcmFuZ2UgZnJvbSB0aGUgdm9pZCBub2RlJ3Mgc3BhY2VyIHNwYW4sIHRvIHRoZSBlbmQgb2YgdGhlIHZvaWQgbm9kZSdzXG4gICAgLy8gY29udGVudCwgc2luY2UgdGhlIHNwYWNlciBpcyBiZWZvcmUgdm9pZCdzIGNvbnRlbnQgaW4gdGhlIERPTS5cbiAgICBpZiAoZW5kVm9pZCkge1xuICAgICAgY29uc3QgW3ZvaWROb2RlXSA9IGVuZFZvaWRcbiAgICAgIGNvbnN0IHIgPSBkb21SYW5nZS5jbG9uZVJhbmdlKClcbiAgICAgIGNvbnN0IGRvbU5vZGUgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoZSwgdm9pZE5vZGUpXG4gICAgICByLnNldEVuZEFmdGVyKGRvbU5vZGUpXG4gICAgICBjb250ZW50cyA9IHIuY2xvbmVDb250ZW50cygpXG4gICAgfVxuXG4gICAgLy8gQ09NUEFUOiBJZiB0aGUgc3RhcnQgbm9kZSBpcyBhIHZvaWQgbm9kZSwgd2UgbmVlZCB0byBhdHRhY2ggdGhlIGVuY29kZWRcbiAgICAvLyBmcmFnbWVudCB0byB0aGUgdm9pZCBub2RlJ3MgY29udGVudCBub2RlIGluc3RlYWQgb2YgdGhlIHNwYWNlciwgYmVjYXVzZVxuICAgIC8vIGF0dGFjaGluZyBpdCB0byBlbXB0eSBgPGRpdj4vPHNwYW4+YCBub2RlcyB3aWxsIGVuZCB1cCBoYXZpbmcgaXQgZXJhc2VkIGJ5XG4gICAgLy8gbW9zdCBicm93c2Vycy4gKDIwMTgvMDQvMjcpXG4gICAgaWYgKHN0YXJ0Vm9pZCkge1xuICAgICAgYXR0YWNoID0gY29udGVudHMucXVlcnlTZWxlY3RvcignW2RhdGEtc2xhdGUtc3BhY2VyXScpISBhcyBIVE1MRWxlbWVudFxuICAgIH1cblxuICAgIC8vIFJlbW92ZSBhbnkgemVyby13aWR0aCBzcGFjZSBzcGFucyBmcm9tIHRoZSBjbG9uZWQgRE9NIHNvIHRoYXQgdGhleSBkb24ndFxuICAgIC8vIHNob3cgdXAgZWxzZXdoZXJlIHdoZW4gcGFzdGVkLlxuICAgIEFycmF5LmZyb20oY29udGVudHMucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2xhdGUtemVyby13aWR0aF0nKSkuZm9yRWFjaChcbiAgICAgIHp3ID0+IHtcbiAgICAgICAgY29uc3QgaXNOZXdsaW5lID0gencuZ2V0QXR0cmlidXRlKCdkYXRhLXNsYXRlLXplcm8td2lkdGgnKSA9PT0gJ24nXG4gICAgICAgIHp3LnRleHRDb250ZW50ID0gaXNOZXdsaW5lID8gJ1xcbicgOiAnJ1xuICAgICAgfVxuICAgIClcblxuICAgIC8vIFNldCBhIGBkYXRhLXNsYXRlLWZyYWdtZW50YCBhdHRyaWJ1dGUgb24gYSBub24tZW1wdHkgbm9kZSwgc28gaXQgc2hvd3MgdXBcbiAgICAvLyBpbiB0aGUgSFRNTCwgYW5kIGNhbiBiZSB1c2VkIGZvciBpbnRyYS1TbGF0ZSBwYXN0aW5nLiBJZiBpdCdzIGEgdGV4dFxuICAgIC8vIG5vZGUsIHdyYXAgaXQgaW4gYSBgPHNwYW4+YCBzbyB3ZSBoYXZlIHNvbWV0aGluZyB0byBzZXQgYW4gYXR0cmlidXRlIG9uLlxuICAgIGlmIChpc0RPTVRleHQoYXR0YWNoKSkge1xuICAgICAgY29uc3Qgc3BhbiA9IGF0dGFjaC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICAgICAgLy8gQ09NUEFUOiBJbiBDaHJvbWUgYW5kIFNhZmFyaSwgaWYgd2UgZG9uJ3QgYWRkIHRoZSBgd2hpdGUtc3BhY2VgIHN0eWxlXG4gICAgICAvLyB0aGVuIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNwYWNlcyB3aWxsIGJlIGlnbm9yZWQuICgyMDE3LzA5LzIxKVxuICAgICAgc3Bhbi5zdHlsZS53aGl0ZVNwYWNlID0gJ3ByZSdcbiAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoYXR0YWNoKVxuICAgICAgY29udGVudHMuYXBwZW5kQ2hpbGQoc3BhbilcbiAgICAgIGF0dGFjaCA9IHNwYW5cbiAgICB9XG5cbiAgICBjb25zdCBmcmFnbWVudCA9IGUuZ2V0RnJhZ21lbnQoKVxuICAgIGNvbnN0IHN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGZyYWdtZW50KVxuICAgIGNvbnN0IGVuY29kZWQgPSB3aW5kb3cuYnRvYShlbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKSlcbiAgICBhdHRhY2guc2V0QXR0cmlidXRlKCdkYXRhLXNsYXRlLWZyYWdtZW50JywgZW5jb2RlZClcbiAgICBkYXRhLnNldERhdGEoJ2FwcGxpY2F0aW9uL3gtc2xhdGUtZnJhZ21lbnQnLCBlbmNvZGVkKVxuXG4gICAgLy8gQWRkIHRoZSBjb250ZW50IHRvIGEgPGRpdj4gc28gdGhhdCB3ZSBjYW4gZ2V0IGl0cyBpbm5lciBIVE1MLlxuICAgIGNvbnN0IGRpdiA9IGNvbnRlbnRzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBkaXYuYXBwZW5kQ2hpbGQoY29udGVudHMpXG4gICAgZGl2LnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ3RydWUnKVxuICAgIGNvbnRlbnRzLm93bmVyRG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpXG4gICAgZGF0YS5zZXREYXRhKCd0ZXh0L2h0bWwnLCBkaXYuaW5uZXJIVE1MKVxuICAgIGRhdGEuc2V0RGF0YSgndGV4dC9wbGFpbicsIGdldFBsYWluVGV4dChkaXYpKVxuICAgIGNvbnRlbnRzLm93bmVyRG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXYpXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIGUuaW5zZXJ0RGF0YSA9IChkYXRhOiBEYXRhVHJhbnNmZXIpID0+IHtcbiAgICBpZiAoIWUuaW5zZXJ0RnJhZ21lbnREYXRhKGRhdGEpKSB7XG4gICAgICBlLmluc2VydFRleHREYXRhKGRhdGEpXG4gICAgfVxuICB9XG5cbiAgZS5pbnNlcnRGcmFnbWVudERhdGEgPSAoZGF0YTogRGF0YVRyYW5zZmVyKTogYm9vbGVhbiA9PiB7XG4gICAgLyoqXG4gICAgICogQ2hlY2tpbmcgY29waWVkIGZyYWdtZW50IGZyb20gYXBwbGljYXRpb24veC1zbGF0ZS1mcmFnbWVudCBvciBkYXRhLXNsYXRlLWZyYWdtZW50XG4gICAgICovXG4gICAgY29uc3QgZnJhZ21lbnQgPVxuICAgICAgZGF0YS5nZXREYXRhKCdhcHBsaWNhdGlvbi94LXNsYXRlLWZyYWdtZW50JykgfHxcbiAgICAgIGdldFNsYXRlRnJhZ21lbnRBdHRyaWJ1dGUoZGF0YSlcblxuICAgIGlmIChmcmFnbWVudCkge1xuICAgICAgY29uc3QgZGVjb2RlZCA9IGRlY29kZVVSSUNvbXBvbmVudCh3aW5kb3cuYXRvYihmcmFnbWVudCkpXG4gICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGRlY29kZWQpIGFzIE5vZGVbXVxuICAgICAgZS5pbnNlcnRGcmFnbWVudChwYXJzZWQpXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGUuaW5zZXJ0VGV4dERhdGEgPSAoZGF0YTogRGF0YVRyYW5zZmVyKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgdGV4dCA9IGRhdGEuZ2V0RGF0YSgndGV4dC9wbGFpbicpXG5cbiAgICBpZiAodGV4dCkge1xuICAgICAgY29uc3QgbGluZXMgPSB0ZXh0LnNwbGl0KC9cXHJcXG58XFxyfFxcbi8pXG4gICAgICBsZXQgc3BsaXQgPSBmYWxzZVxuXG4gICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICAgICAgaWYgKHNwbGl0KSB7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5zcGxpdE5vZGVzKGUsIHsgYWx3YXlzOiB0cnVlIH0pXG4gICAgICAgIH1cblxuICAgICAgICBlLmluc2VydFRleHQobGluZSlcbiAgICAgICAgc3BsaXQgPSB0cnVlXG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIGUub25DaGFuZ2UgPSAoKSA9PiB7XG4gICAgLy8gQ09NUEFUOiBSZWFjdCBkb2Vzbid0IGJhdGNoIGBzZXRTdGF0ZWAgaG9vayBjYWxscywgd2hpY2ggbWVhbnMgdGhhdCB0aGVcbiAgICAvLyBjaGlsZHJlbiBhbmQgc2VsZWN0aW9uIGNhbiBnZXQgb3V0IG9mIHN5bmMgZm9yIG9uZSByZW5kZXIgcGFzcy4gU28gd2VcbiAgICAvLyBoYXZlIHRvIHVzZSB0aGlzIHVuc3RhYmxlIEFQSSB0byBlbnN1cmUgaXQgYmF0Y2hlcyB0aGVtLiAoMjAxOS8xMi8wMylcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE0MjU5I2lzc3VlY29tbWVudC00Mzk3MDIzNjdcbiAgICBSZWFjdERPTS51bnN0YWJsZV9iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICBjb25zdCBvbkNvbnRleHRDaGFuZ2UgPSBFRElUT1JfVE9fT05fQ0hBTkdFLmdldChlKVxuXG4gICAgICBpZiAob25Db250ZXh0Q2hhbmdlKSB7XG4gICAgICAgIG9uQ29udGV4dENoYW5nZSgpXG4gICAgICB9XG5cbiAgICAgIG9uQ2hhbmdlKClcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIGVcbn1cblxuY29uc3QgZ2V0TWF0Y2hlcyA9IChlOiBFZGl0b3IsIHBhdGg6IFBhdGgpID0+IHtcbiAgY29uc3QgbWF0Y2hlczogW1BhdGgsIEtleV1bXSA9IFtdXG4gIGZvciAoY29uc3QgW24sIHBdIG9mIEVkaXRvci5sZXZlbHMoZSwgeyBhdDogcGF0aCB9KSkge1xuICAgIGNvbnN0IGtleSA9IFJlYWN0RWRpdG9yLmZpbmRLZXkoZSwgbilcbiAgICBtYXRjaGVzLnB1c2goW3AsIGtleV0pXG4gIH1cbiAgcmV0dXJuIG1hdGNoZXNcbn1cbiIsIi8vIENvbXBvbmVudHNcbi8vIEVudmlyb25tZW50LWRlcGVuZGVudCBFZGl0YWJsZVxuaW1wb3J0IHsgRWRpdGFibGUgYXMgRGVmYXVsdEVkaXRhYmxlIH0gZnJvbSAnLi9jb21wb25lbnRzL2VkaXRhYmxlJ1xuaW1wb3J0IHsgQW5kcm9pZEVkaXRhYmxlIH0gZnJvbSAnLi9jb21wb25lbnRzL2FuZHJvaWQvYW5kcm9pZC1lZGl0YWJsZSdcbmltcG9ydCB7IElTX0FORFJPSUQgfSBmcm9tICcuL3V0aWxzL2Vudmlyb25tZW50J1xuXG5leHBvcnQgY29uc3QgRWRpdGFibGUgPSBJU19BTkRST0lEID8gQW5kcm9pZEVkaXRhYmxlIDogRGVmYXVsdEVkaXRhYmxlXG5leHBvcnQge1xuICBFZGl0YWJsZSBhcyBEZWZhdWx0RWRpdGFibGUsXG4gIFJlbmRlckVsZW1lbnRQcm9wcyxcbiAgUmVuZGVyTGVhZlByb3BzLFxuICBSZW5kZXJQbGFjZWhvbGRlclByb3BzLFxuICBEZWZhdWx0UGxhY2Vob2xkZXIsXG59IGZyb20gJy4vY29tcG9uZW50cy9lZGl0YWJsZSdcbmV4cG9ydCB7IEFuZHJvaWRFZGl0YWJsZSB9IGZyb20gJy4vY29tcG9uZW50cy9hbmRyb2lkL2FuZHJvaWQtZWRpdGFibGUnXG5leHBvcnQgeyBEZWZhdWx0RWxlbWVudCB9IGZyb20gJy4vY29tcG9uZW50cy9lbGVtZW50J1xuZXhwb3J0IHsgRGVmYXVsdExlYWYgfSBmcm9tICcuL2NvbXBvbmVudHMvbGVhZidcbmV4cG9ydCB7IFNsYXRlIH0gZnJvbSAnLi9jb21wb25lbnRzL3NsYXRlJ1xuXG4vLyBIb29rc1xuZXhwb3J0IHsgdXNlRWRpdG9yIH0gZnJvbSAnLi9ob29rcy91c2UtZWRpdG9yJ1xuZXhwb3J0IHsgdXNlU2xhdGVTdGF0aWMgfSBmcm9tICcuL2hvb2tzL3VzZS1zbGF0ZS1zdGF0aWMnXG5leHBvcnQgeyB1c2VGb2N1c2VkIH0gZnJvbSAnLi9ob29rcy91c2UtZm9jdXNlZCdcbmV4cG9ydCB7IHVzZVJlYWRPbmx5IH0gZnJvbSAnLi9ob29rcy91c2UtcmVhZC1vbmx5J1xuZXhwb3J0IHsgdXNlU2VsZWN0ZWQgfSBmcm9tICcuL2hvb2tzL3VzZS1zZWxlY3RlZCdcbmV4cG9ydCB7IHVzZVNsYXRlIH0gZnJvbSAnLi9ob29rcy91c2Utc2xhdGUnXG5leHBvcnQgeyB1c2VTbGF0ZVNlbGVjdG9yIH0gZnJvbSAnLi9ob29rcy91c2Utc2xhdGUtc2VsZWN0b3InXG5cbi8vIFBsdWdpblxuZXhwb3J0IHsgUmVhY3RFZGl0b3IgfSBmcm9tICcuL3BsdWdpbi9yZWFjdC1lZGl0b3InXG5leHBvcnQgeyB3aXRoUmVhY3QgfSBmcm9tICcuL3BsdWdpbi93aXRoLXJlYWN0J1xuIiwiaW1wb3J0IHtcbiAgRGVzY2VuZGFudCxcbiAgRWRpdG9yLFxuICBFbGVtZW50LFxuICBOb2RlLFxuICBOb2RlRW50cnksXG4gIE9wZXJhdGlvbixcbiAgUGF0aCxcbiAgUGF0aFJlZixcbiAgUG9pbnRSZWYsXG4gIFJhbmdlLFxuICBSYW5nZVJlZixcbiAgVGV4dCxcbiAgVHJhbnNmb3Jtcyxcbn0gZnJvbSAnLi8nXG5pbXBvcnQgeyBESVJUWV9QQVRIUywgRElSVFlfUEFUSF9LRVlTLCBGTFVTSElORyB9IGZyb20gJy4vdXRpbHMvd2Vhay1tYXBzJ1xuaW1wb3J0IHsgVGV4dFVuaXQgfSBmcm9tICcuL2ludGVyZmFjZXMvdHlwZXMnXG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IFNsYXRlIGBFZGl0b3JgIG9iamVjdC5cbiAqL1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRWRpdG9yID0gKCk6IEVkaXRvciA9PiB7XG4gIGNvbnN0IGVkaXRvcjogRWRpdG9yID0ge1xuICAgIGNoaWxkcmVuOiBbXSxcbiAgICBvcGVyYXRpb25zOiBbXSxcbiAgICBzZWxlY3Rpb246IG51bGwsXG4gICAgbWFya3M6IG51bGwsXG4gICAgaXNJbmxpbmU6ICgpID0+IGZhbHNlLFxuICAgIGlzVm9pZDogKCkgPT4gZmFsc2UsXG4gICAgb25DaGFuZ2U6ICgpID0+IHt9LFxuXG4gICAgYXBwbHk6IChvcDogT3BlcmF0aW9uKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHJlZiBvZiBFZGl0b3IucGF0aFJlZnMoZWRpdG9yKSkge1xuICAgICAgICBQYXRoUmVmLnRyYW5zZm9ybShyZWYsIG9wKVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IHJlZiBvZiBFZGl0b3IucG9pbnRSZWZzKGVkaXRvcikpIHtcbiAgICAgICAgUG9pbnRSZWYudHJhbnNmb3JtKHJlZiwgb3ApXG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgcmVmIG9mIEVkaXRvci5yYW5nZVJlZnMoZWRpdG9yKSkge1xuICAgICAgICBSYW5nZVJlZi50cmFuc2Zvcm0ocmVmLCBvcClcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2xkRGlydHlQYXRocyA9IERJUlRZX1BBVEhTLmdldChlZGl0b3IpIHx8IFtdXG4gICAgICBjb25zdCBvbGREaXJ0eVBhdGhLZXlzID0gRElSVFlfUEFUSF9LRVlTLmdldChlZGl0b3IpIHx8IG5ldyBTZXQoKVxuICAgICAgbGV0IGRpcnR5UGF0aHM6IFBhdGhbXVxuICAgICAgbGV0IGRpcnR5UGF0aEtleXM6IFNldDxzdHJpbmc+XG5cbiAgICAgIGNvbnN0IGFkZCA9IChwYXRoOiBQYXRoIHwgbnVsbCkgPT4ge1xuICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgIGNvbnN0IGtleSA9IHBhdGguam9pbignLCcpXG5cbiAgICAgICAgICBpZiAoIWRpcnR5UGF0aEtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIGRpcnR5UGF0aEtleXMuYWRkKGtleSlcbiAgICAgICAgICAgIGRpcnR5UGF0aHMucHVzaChwYXRoKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoUGF0aC5vcGVyYXRpb25DYW5UcmFuc2Zvcm1QYXRoKG9wKSkge1xuICAgICAgICBkaXJ0eVBhdGhzID0gW11cbiAgICAgICAgZGlydHlQYXRoS2V5cyA9IG5ldyBTZXQoKVxuICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2Ygb2xkRGlydHlQYXRocykge1xuICAgICAgICAgIGNvbnN0IG5ld1BhdGggPSBQYXRoLnRyYW5zZm9ybShwYXRoLCBvcClcbiAgICAgICAgICBhZGQobmV3UGF0aClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlydHlQYXRocyA9IG9sZERpcnR5UGF0aHNcbiAgICAgICAgZGlydHlQYXRoS2V5cyA9IG9sZERpcnR5UGF0aEtleXNcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3RGlydHlQYXRocyA9IGdldERpcnR5UGF0aHMob3ApXG4gICAgICBmb3IgKGNvbnN0IHBhdGggb2YgbmV3RGlydHlQYXRocykge1xuICAgICAgICBhZGQocGF0aClcbiAgICAgIH1cblxuICAgICAgRElSVFlfUEFUSFMuc2V0KGVkaXRvciwgZGlydHlQYXRocylcbiAgICAgIERJUlRZX1BBVEhfS0VZUy5zZXQoZWRpdG9yLCBkaXJ0eVBhdGhLZXlzKVxuICAgICAgVHJhbnNmb3Jtcy50cmFuc2Zvcm0oZWRpdG9yLCBvcClcbiAgICAgIGVkaXRvci5vcGVyYXRpb25zLnB1c2gob3ApXG4gICAgICBFZGl0b3Iubm9ybWFsaXplKGVkaXRvcilcblxuICAgICAgLy8gQ2xlYXIgYW55IGZvcm1hdHMgYXBwbGllZCB0byB0aGUgY3Vyc29yIGlmIHRoZSBzZWxlY3Rpb24gY2hhbmdlcy5cbiAgICAgIGlmIChvcC50eXBlID09PSAnc2V0X3NlbGVjdGlvbicpIHtcbiAgICAgICAgZWRpdG9yLm1hcmtzID0gbnVsbFxuICAgICAgfVxuXG4gICAgICBpZiAoIUZMVVNISU5HLmdldChlZGl0b3IpKSB7XG4gICAgICAgIEZMVVNISU5HLnNldChlZGl0b3IsIHRydWUpXG5cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgRkxVU0hJTkcuc2V0KGVkaXRvciwgZmFsc2UpXG4gICAgICAgICAgZWRpdG9yLm9uQ2hhbmdlKClcbiAgICAgICAgICBlZGl0b3Iub3BlcmF0aW9ucyA9IFtdXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIGFkZE1hcms6IChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICAgICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IGVkaXRvclxuXG4gICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgIGlmIChSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zLnNldE5vZGVzKFxuICAgICAgICAgICAgZWRpdG9yLFxuICAgICAgICAgICAgeyBba2V5XTogdmFsdWUgfSxcbiAgICAgICAgICAgIHsgbWF0Y2g6IFRleHQuaXNUZXh0LCBzcGxpdDogdHJ1ZSB9XG4gICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IG1hcmtzID0ge1xuICAgICAgICAgICAgLi4uKEVkaXRvci5tYXJrcyhlZGl0b3IpIHx8IHt9KSxcbiAgICAgICAgICAgIFtrZXldOiB2YWx1ZSxcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlZGl0b3IubWFya3MgPSBtYXJrc1xuICAgICAgICAgIGlmICghRkxVU0hJTkcuZ2V0KGVkaXRvcikpIHtcbiAgICAgICAgICAgIGVkaXRvci5vbkNoYW5nZSgpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGRlbGV0ZUJhY2t3YXJkOiAodW5pdDogVGV4dFVuaXQpID0+IHtcbiAgICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBlZGl0b3JcblxuICAgICAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0NvbGxhcHNlZChzZWxlY3Rpb24pKSB7XG4gICAgICAgIFRyYW5zZm9ybXMuZGVsZXRlKGVkaXRvciwgeyB1bml0LCByZXZlcnNlOiB0cnVlIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIGRlbGV0ZUZvcndhcmQ6ICh1bml0OiBUZXh0VW5pdCkgPT4ge1xuICAgICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IGVkaXRvclxuXG4gICAgICBpZiAoc2VsZWN0aW9uICYmIFJhbmdlLmlzQ29sbGFwc2VkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5kZWxldGUoZWRpdG9yLCB7IHVuaXQgfSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZGVsZXRlRnJhZ21lbnQ6IChkaXJlY3Rpb24/OiAnZm9yd2FyZCcgfCAnYmFja3dhcmQnKSA9PiB7XG4gICAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gZWRpdG9yXG5cbiAgICAgIGlmIChzZWxlY3Rpb24gJiYgUmFuZ2UuaXNFeHBhbmRlZChzZWxlY3Rpb24pKSB7XG4gICAgICAgIFRyYW5zZm9ybXMuZGVsZXRlKGVkaXRvciwgeyByZXZlcnNlOiBkaXJlY3Rpb24gPT09ICdiYWNrd2FyZCcgfSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0RnJhZ21lbnQ6ICgpID0+IHtcbiAgICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBlZGl0b3JcblxuICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gTm9kZS5mcmFnbWVudChlZGl0b3IsIHNlbGVjdGlvbilcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXVxuICAgIH0sXG5cbiAgICBpbnNlcnRCcmVhazogKCkgPT4ge1xuICAgICAgVHJhbnNmb3Jtcy5zcGxpdE5vZGVzKGVkaXRvciwgeyBhbHdheXM6IHRydWUgfSlcbiAgICB9LFxuXG4gICAgaW5zZXJ0U29mdEJyZWFrOiAoKSA9PiB7XG4gICAgICBUcmFuc2Zvcm1zLnNwbGl0Tm9kZXMoZWRpdG9yLCB7IGFsd2F5czogdHJ1ZSB9KVxuICAgIH0sXG5cbiAgICBpbnNlcnRGcmFnbWVudDogKGZyYWdtZW50OiBOb2RlW10pID0+IHtcbiAgICAgIFRyYW5zZm9ybXMuaW5zZXJ0RnJhZ21lbnQoZWRpdG9yLCBmcmFnbWVudClcbiAgICB9LFxuXG4gICAgaW5zZXJ0Tm9kZTogKG5vZGU6IE5vZGUpID0+IHtcbiAgICAgIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoZWRpdG9yLCBub2RlKVxuICAgIH0sXG5cbiAgICBpbnNlcnRUZXh0OiAodGV4dDogc3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCB7IHNlbGVjdGlvbiwgbWFya3MgfSA9IGVkaXRvclxuXG4gICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgIGlmIChtYXJrcykge1xuICAgICAgICAgIGNvbnN0IG5vZGUgPSB7IHRleHQsIC4uLm1hcmtzIH1cbiAgICAgICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKGVkaXRvciwgbm9kZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zLmluc2VydFRleHQoZWRpdG9yLCB0ZXh0KVxuICAgICAgICB9XG5cbiAgICAgICAgZWRpdG9yLm1hcmtzID0gbnVsbFxuICAgICAgfVxuICAgIH0sXG5cbiAgICBub3JtYWxpemVOb2RlOiAoZW50cnk6IE5vZGVFbnRyeSkgPT4ge1xuICAgICAgY29uc3QgW25vZGUsIHBhdGhdID0gZW50cnlcblxuICAgICAgLy8gVGhlcmUgYXJlIG5vIGNvcmUgbm9ybWFsaXphdGlvbnMgZm9yIHRleHQgbm9kZXMuXG4gICAgICBpZiAoVGV4dC5pc1RleHQobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIEVuc3VyZSB0aGF0IGJsb2NrIGFuZCBpbmxpbmUgbm9kZXMgaGF2ZSBhdCBsZWFzdCBvbmUgdGV4dCBjaGlsZC5cbiAgICAgIGlmIChFbGVtZW50LmlzRWxlbWVudChub2RlKSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHsgdGV4dDogJycgfVxuICAgICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKGVkaXRvciwgY2hpbGQsIHtcbiAgICAgICAgICBhdDogcGF0aC5jb25jYXQoMCksXG4gICAgICAgICAgdm9pZHM6IHRydWUsXG4gICAgICAgIH0pXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBEZXRlcm1pbmUgd2hldGhlciB0aGUgbm9kZSBzaG91bGQgaGF2ZSBibG9jayBvciBpbmxpbmUgY2hpbGRyZW4uXG4gICAgICBjb25zdCBzaG91bGRIYXZlSW5saW5lcyA9IEVkaXRvci5pc0VkaXRvcihub2RlKVxuICAgICAgICA/IGZhbHNlXG4gICAgICAgIDogRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiZcbiAgICAgICAgICAoZWRpdG9yLmlzSW5saW5lKG5vZGUpIHx8XG4gICAgICAgICAgICBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICAgICAgVGV4dC5pc1RleHQobm9kZS5jaGlsZHJlblswXSkgfHxcbiAgICAgICAgICAgIGVkaXRvci5pc0lubGluZShub2RlLmNoaWxkcmVuWzBdKSlcblxuICAgICAgLy8gU2luY2Ugd2UnbGwgYmUgYXBwbHlpbmcgb3BlcmF0aW9ucyB3aGlsZSBpdGVyYXRpbmcsIGtlZXAgdHJhY2sgb2YgYW5cbiAgICAgIC8vIGluZGV4IHRoYXQgYWNjb3VudHMgZm9yIGFueSBhZGRlZC9yZW1vdmVkIG5vZGVzLlxuICAgICAgbGV0IG4gPSAwXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKywgbisrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnROb2RlID0gTm9kZS5nZXQoZWRpdG9yLCBwYXRoKVxuICAgICAgICBpZiAoVGV4dC5pc1RleHQoY3VycmVudE5vZGUpKSBjb250aW51ZVxuICAgICAgICBjb25zdCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV0gYXMgRGVzY2VuZGFudFxuICAgICAgICBjb25zdCBwcmV2ID0gY3VycmVudE5vZGUuY2hpbGRyZW5bbiAtIDFdIGFzIERlc2NlbmRhbnRcbiAgICAgICAgY29uc3QgaXNMYXN0ID0gaSA9PT0gbm9kZS5jaGlsZHJlbi5sZW5ndGggLSAxXG4gICAgICAgIGNvbnN0IGlzSW5saW5lT3JUZXh0ID1cbiAgICAgICAgICBUZXh0LmlzVGV4dChjaGlsZCkgfHxcbiAgICAgICAgICAoRWxlbWVudC5pc0VsZW1lbnQoY2hpbGQpICYmIGVkaXRvci5pc0lubGluZShjaGlsZCkpXG5cbiAgICAgICAgLy8gT25seSBhbGxvdyBibG9jayBub2RlcyBpbiB0aGUgdG9wLWxldmVsIGNoaWxkcmVuIGFuZCBwYXJlbnQgYmxvY2tzXG4gICAgICAgIC8vIHRoYXQgb25seSBjb250YWluIGJsb2NrIG5vZGVzLiBTaW1pbGFybHksIG9ubHkgYWxsb3cgaW5saW5lIG5vZGVzIGluXG4gICAgICAgIC8vIG90aGVyIGlubGluZSBub2Rlcywgb3IgcGFyZW50IGJsb2NrcyB0aGF0IG9ubHkgY29udGFpbiBpbmxpbmVzIGFuZFxuICAgICAgICAvLyB0ZXh0LlxuICAgICAgICBpZiAoaXNJbmxpbmVPclRleHQgIT09IHNob3VsZEhhdmVJbmxpbmVzKSB7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHsgYXQ6IHBhdGguY29uY2F0KG4pLCB2b2lkczogdHJ1ZSB9KVxuICAgICAgICAgIG4tLVxuICAgICAgICB9IGVsc2UgaWYgKEVsZW1lbnQuaXNFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIC8vIEVuc3VyZSB0aGF0IGlubGluZSBub2RlcyBhcmUgc3Vycm91bmRlZCBieSB0ZXh0IG5vZGVzLlxuICAgICAgICAgIGlmIChlZGl0b3IuaXNJbmxpbmUoY2hpbGQpKSB7XG4gICAgICAgICAgICBpZiAocHJldiA9PSBudWxsIHx8ICFUZXh0LmlzVGV4dChwcmV2KSkge1xuICAgICAgICAgICAgICBjb25zdCBuZXdDaGlsZCA9IHsgdGV4dDogJycgfVxuICAgICAgICAgICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKGVkaXRvciwgbmV3Q2hpbGQsIHtcbiAgICAgICAgICAgICAgICBhdDogcGF0aC5jb25jYXQobiksXG4gICAgICAgICAgICAgICAgdm9pZHM6IHRydWUsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIG4rK1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0xhc3QpIHtcbiAgICAgICAgICAgICAgY29uc3QgbmV3Q2hpbGQgPSB7IHRleHQ6ICcnIH1cbiAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIG5ld0NoaWxkLCB7XG4gICAgICAgICAgICAgICAgYXQ6IHBhdGguY29uY2F0KG4gKyAxKSxcbiAgICAgICAgICAgICAgICB2b2lkczogdHJ1ZSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgbisrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE1lcmdlIGFkamFjZW50IHRleHQgbm9kZXMgdGhhdCBhcmUgZW1wdHkgb3IgbWF0Y2guXG4gICAgICAgICAgaWYgKHByZXYgIT0gbnVsbCAmJiBUZXh0LmlzVGV4dChwcmV2KSkge1xuICAgICAgICAgICAgaWYgKFRleHQuZXF1YWxzKGNoaWxkLCBwcmV2LCB7IGxvb3NlOiB0cnVlIH0pKSB7XG4gICAgICAgICAgICAgIFRyYW5zZm9ybXMubWVyZ2VOb2RlcyhlZGl0b3IsIHsgYXQ6IHBhdGguY29uY2F0KG4pLCB2b2lkczogdHJ1ZSB9KVxuICAgICAgICAgICAgICBuLS1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldi50ZXh0ID09PSAnJykge1xuICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgICAgIGF0OiBwYXRoLmNvbmNhdChuIC0gMSksXG4gICAgICAgICAgICAgICAgdm9pZHM6IHRydWUsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIG4tLVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZC50ZXh0ID09PSAnJykge1xuICAgICAgICAgICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgICAgIGF0OiBwYXRoLmNvbmNhdChuKSxcbiAgICAgICAgICAgICAgICB2b2lkczogdHJ1ZSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgbi0tXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbW92ZU1hcms6IChrZXk6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IGVkaXRvclxuXG4gICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgIGlmIChSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zLnVuc2V0Tm9kZXMoZWRpdG9yLCBrZXksIHtcbiAgICAgICAgICAgIG1hdGNoOiBUZXh0LmlzVGV4dCxcbiAgICAgICAgICAgIHNwbGl0OiB0cnVlLFxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbWFya3MgPSB7IC4uLihFZGl0b3IubWFya3MoZWRpdG9yKSB8fCB7fSkgfVxuICAgICAgICAgIGRlbGV0ZSBtYXJrc1trZXldXG4gICAgICAgICAgZWRpdG9yLm1hcmtzID0gbWFya3NcbiAgICAgICAgICBpZiAoIUZMVVNISU5HLmdldChlZGl0b3IpKSB7XG4gICAgICAgICAgICBlZGl0b3Iub25DaGFuZ2UoKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gIH1cblxuICByZXR1cm4gZWRpdG9yXG59XG5cbi8qKlxuICogR2V0IHRoZSBcImRpcnR5XCIgcGF0aHMgZ2VuZXJhdGVkIGZyb20gYW4gb3BlcmF0aW9uLlxuICovXG5cbmNvbnN0IGdldERpcnR5UGF0aHMgPSAob3A6IE9wZXJhdGlvbik6IFBhdGhbXSA9PiB7XG4gIHN3aXRjaCAob3AudHlwZSkge1xuICAgIGNhc2UgJ2luc2VydF90ZXh0JzpcbiAgICBjYXNlICdyZW1vdmVfdGV4dCc6XG4gICAgY2FzZSAnc2V0X25vZGUnOiB7XG4gICAgICBjb25zdCB7IHBhdGggfSA9IG9wXG4gICAgICByZXR1cm4gUGF0aC5sZXZlbHMocGF0aClcbiAgICB9XG5cbiAgICBjYXNlICdpbnNlcnRfbm9kZSc6IHtcbiAgICAgIGNvbnN0IHsgbm9kZSwgcGF0aCB9ID0gb3BcbiAgICAgIGNvbnN0IGxldmVscyA9IFBhdGgubGV2ZWxzKHBhdGgpXG4gICAgICBjb25zdCBkZXNjZW5kYW50cyA9IFRleHQuaXNUZXh0KG5vZGUpXG4gICAgICAgID8gW11cbiAgICAgICAgOiBBcnJheS5mcm9tKE5vZGUubm9kZXMobm9kZSksIChbLCBwXSkgPT4gcGF0aC5jb25jYXQocCkpXG5cbiAgICAgIHJldHVybiBbLi4ubGV2ZWxzLCAuLi5kZXNjZW5kYW50c11cbiAgICB9XG5cbiAgICBjYXNlICdtZXJnZV9ub2RlJzoge1xuICAgICAgY29uc3QgeyBwYXRoIH0gPSBvcFxuICAgICAgY29uc3QgYW5jZXN0b3JzID0gUGF0aC5hbmNlc3RvcnMocGF0aClcbiAgICAgIGNvbnN0IHByZXZpb3VzUGF0aCA9IFBhdGgucHJldmlvdXMocGF0aClcbiAgICAgIHJldHVybiBbLi4uYW5jZXN0b3JzLCBwcmV2aW91c1BhdGhdXG4gICAgfVxuXG4gICAgY2FzZSAnbW92ZV9ub2RlJzoge1xuICAgICAgY29uc3QgeyBwYXRoLCBuZXdQYXRoIH0gPSBvcFxuXG4gICAgICBpZiAoUGF0aC5lcXVhbHMocGF0aCwgbmV3UGF0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG9sZEFuY2VzdG9yczogUGF0aFtdID0gW11cbiAgICAgIGNvbnN0IG5ld0FuY2VzdG9yczogUGF0aFtdID0gW11cblxuICAgICAgZm9yIChjb25zdCBhbmNlc3RvciBvZiBQYXRoLmFuY2VzdG9ycyhwYXRoKSkge1xuICAgICAgICBjb25zdCBwID0gUGF0aC50cmFuc2Zvcm0oYW5jZXN0b3IsIG9wKVxuICAgICAgICBvbGRBbmNlc3RvcnMucHVzaChwISlcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBhbmNlc3RvciBvZiBQYXRoLmFuY2VzdG9ycyhuZXdQYXRoKSkge1xuICAgICAgICBjb25zdCBwID0gUGF0aC50cmFuc2Zvcm0oYW5jZXN0b3IsIG9wKVxuICAgICAgICBuZXdBbmNlc3RvcnMucHVzaChwISlcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3UGFyZW50ID0gbmV3QW5jZXN0b3JzW25ld0FuY2VzdG9ycy5sZW5ndGggLSAxXVxuICAgICAgY29uc3QgbmV3SW5kZXggPSBuZXdQYXRoW25ld1BhdGgubGVuZ3RoIC0gMV1cbiAgICAgIGNvbnN0IHJlc3VsdFBhdGggPSBuZXdQYXJlbnQuY29uY2F0KG5ld0luZGV4KVxuXG4gICAgICByZXR1cm4gWy4uLm9sZEFuY2VzdG9ycywgLi4ubmV3QW5jZXN0b3JzLCByZXN1bHRQYXRoXVxuICAgIH1cblxuICAgIGNhc2UgJ3JlbW92ZV9ub2RlJzoge1xuICAgICAgY29uc3QgeyBwYXRoIH0gPSBvcFxuICAgICAgY29uc3QgYW5jZXN0b3JzID0gUGF0aC5hbmNlc3RvcnMocGF0aClcbiAgICAgIHJldHVybiBbLi4uYW5jZXN0b3JzXVxuICAgIH1cblxuICAgIGNhc2UgJ3NwbGl0X25vZGUnOiB7XG4gICAgICBjb25zdCB7IHBhdGggfSA9IG9wXG4gICAgICBjb25zdCBsZXZlbHMgPSBQYXRoLmxldmVscyhwYXRoKVxuICAgICAgY29uc3QgbmV4dFBhdGggPSBQYXRoLm5leHQocGF0aClcbiAgICAgIHJldHVybiBbLi4ubGV2ZWxzLCBuZXh0UGF0aF1cbiAgICB9XG5cbiAgICBkZWZhdWx0OiB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gIH1cbn1cbiIsIi8vIENoYXJhY3RlciAoZ3JhcGhlbWUgY2x1c3RlcikgYm91bmRhcmllcyBhcmUgZGV0ZXJtaW5lZCBhY2NvcmRpbmcgdG9cbi8vIHRoZSBkZWZhdWx0IGdyYXBoZW1lIGNsdXN0ZXIgYm91bmRhcnkgc3BlY2lmaWNhdGlvbiwgZXh0ZW5kZWQgZ3JhcGhlbWUgY2x1c3RlcnMgdmFyaWFudFsxXS5cbi8vXG4vLyBSZWZlcmVuY2VzOlxuLy9cbi8vIFsxXSBodHRwczovL3d3dy51bmljb2RlLm9yZy9yZXBvcnRzL3RyMjkvI0RlZmF1bHRfR3JhcGhlbWVfQ2x1c3Rlcl9UYWJsZVxuLy8gWzJdIGh0dHBzOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy9VQ0QvbGF0ZXN0L3VjZC9hdXhpbGlhcnkvR3JhcGhlbWVCcmVha1Byb3BlcnR5LnR4dFxuLy8gWzNdIGh0dHBzOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy9VQ0QvbGF0ZXN0L3VjZC9hdXhpbGlhcnkvR3JhcGhlbWVCcmVha1Rlc3QuaHRtbFxuLy8gWzRdIGh0dHBzOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy9VQ0QvbGF0ZXN0L3VjZC9hdXhpbGlhcnkvR3JhcGhlbWVCcmVha1Rlc3QudHh0XG5cbi8qKlxuICogR2V0IHRoZSBkaXN0YW5jZSB0byB0aGUgZW5kIG9mIHRoZSBmaXJzdCBjaGFyYWN0ZXIgaW4gYSBzdHJpbmcgb2YgdGV4dC5cbiAqL1xuXG5leHBvcnQgY29uc3QgZ2V0Q2hhcmFjdGVyRGlzdGFuY2UgPSAoc3RyOiBzdHJpbmcsIGlzUlRMID0gZmFsc2UpOiBudW1iZXIgPT4ge1xuICBjb25zdCBpc0xUUiA9ICFpc1JUTFxuICBjb25zdCBjb2RlcG9pbnRzID0gaXNSVEwgPyBjb2RlcG9pbnRzSXRlcmF0b3JSVEwoc3RyKSA6IHN0clxuXG4gIGxldCBsZWZ0OiBDb2RlcG9pbnRUeXBlID0gQ29kZXBvaW50VHlwZS5Ob25lXG4gIGxldCByaWdodDogQ29kZXBvaW50VHlwZSA9IENvZGVwb2ludFR5cGUuTm9uZVxuICBsZXQgZGlzdGFuY2UgPSAwXG4gIC8vIEV2YWx1YXRpb24gb2YgdGhlc2UgY29uZGl0aW9ucyBhcmUgZGVmZXJyZWQuXG4gIGxldCBnYjExOiBib29sZWFuIHwgbnVsbCA9IG51bGwgLy8gSXMgR0IxMSBhcHBsaWNhYmxlP1xuICBsZXQgZ2IxMk9yMTM6IGJvb2xlYW4gfCBudWxsID0gbnVsbCAvLyBJcyBHQjEyIG9yIEdCMTMgYXBwbGljYWJsZT9cblxuICBmb3IgKGNvbnN0IGNoYXIgb2YgY29kZXBvaW50cykge1xuICAgIGNvbnN0IGNvZGUgPSBjaGFyLmNvZGVQb2ludEF0KDApXG4gICAgaWYgKCFjb2RlKSBicmVha1xuXG4gICAgY29uc3QgdHlwZSA9IGdldENvZGVwb2ludFR5cGUoY2hhciwgY29kZSlcbiAgICA7W2xlZnQsIHJpZ2h0XSA9IGlzTFRSID8gW3JpZ2h0LCB0eXBlXSA6IFt0eXBlLCBsZWZ0XVxuXG4gICAgaWYgKFxuICAgICAgaW50ZXJzZWN0cyhsZWZ0LCBDb2RlcG9pbnRUeXBlLlpXSikgJiZcbiAgICAgIGludGVyc2VjdHMocmlnaHQsIENvZGVwb2ludFR5cGUuRXh0UGljdClcbiAgICApIHtcbiAgICAgIGlmIChpc0xUUikge1xuICAgICAgICBnYjExID0gZW5kc1dpdGhFbW9qaVpXSihzdHIuc3Vic3RyaW5nKDAsIGRpc3RhbmNlKSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdiMTEgPSBlbmRzV2l0aEVtb2ppWldKKHN0ci5zdWJzdHJpbmcoMCwgc3RyLmxlbmd0aCAtIGRpc3RhbmNlKSlcbiAgICAgIH1cbiAgICAgIGlmICghZ2IxMSkgYnJlYWtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBpbnRlcnNlY3RzKGxlZnQsIENvZGVwb2ludFR5cGUuUkkpICYmXG4gICAgICBpbnRlcnNlY3RzKHJpZ2h0LCBDb2RlcG9pbnRUeXBlLlJJKVxuICAgICkge1xuICAgICAgaWYgKGdiMTJPcjEzICE9PSBudWxsKSB7XG4gICAgICAgIGdiMTJPcjEzID0gIWdiMTJPcjEzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNMVFIpIHtcbiAgICAgICAgICBnYjEyT3IxMyA9IHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnYjEyT3IxMyA9IGVuZHNXaXRoT2RkTnVtYmVyT2ZSSXMoXG4gICAgICAgICAgICBzdHIuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSBkaXN0YW5jZSlcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghZ2IxMk9yMTMpIGJyZWFrXG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgbGVmdCAhPT0gQ29kZXBvaW50VHlwZS5Ob25lICYmXG4gICAgICByaWdodCAhPT0gQ29kZXBvaW50VHlwZS5Ob25lICYmXG4gICAgICBpc0JvdW5kYXJ5UGFpcihsZWZ0LCByaWdodClcbiAgICApIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgZGlzdGFuY2UgKz0gY2hhci5sZW5ndGhcbiAgfVxuXG4gIHJldHVybiBkaXN0YW5jZSB8fCAxXG59XG5cbmNvbnN0IFNQQUNFID0gL1xccy9cbmNvbnN0IFBVTkNUVUFUSU9OID0gL1tcXHUwMDIxLVxcdTAwMjNcXHUwMDI1LVxcdTAwMkFcXHUwMDJDLVxcdTAwMkZcXHUwMDNBXFx1MDAzQlxcdTAwM0ZcXHUwMDQwXFx1MDA1Qi1cXHUwMDVEXFx1MDA1RlxcdTAwN0JcXHUwMDdEXFx1MDBBMVxcdTAwQTdcXHUwMEFCXFx1MDBCNlxcdTAwQjdcXHUwMEJCXFx1MDBCRlxcdTAzN0VcXHUwMzg3XFx1MDU1QS1cXHUwNTVGXFx1MDU4OVxcdTA1OEFcXHUwNUJFXFx1MDVDMFxcdTA1QzNcXHUwNUM2XFx1MDVGM1xcdTA1RjRcXHUwNjA5XFx1MDYwQVxcdTA2MENcXHUwNjBEXFx1MDYxQlxcdTA2MUVcXHUwNjFGXFx1MDY2QS1cXHUwNjZEXFx1MDZENFxcdTA3MDAtXFx1MDcwRFxcdTA3RjctXFx1MDdGOVxcdTA4MzAtXFx1MDgzRVxcdTA4NUVcXHUwOTY0XFx1MDk2NVxcdTA5NzBcXHUwQUYwXFx1MERGNFxcdTBFNEZcXHUwRTVBXFx1MEU1QlxcdTBGMDQtXFx1MEYxMlxcdTBGMTRcXHUwRjNBLVxcdTBGM0RcXHUwRjg1XFx1MEZEMC1cXHUwRkQ0XFx1MEZEOVxcdTBGREFcXHUxMDRBLVxcdTEwNEZcXHUxMEZCXFx1MTM2MC1cXHUxMzY4XFx1MTQwMFxcdTE2NkRcXHUxNjZFXFx1MTY5QlxcdTE2OUNcXHUxNkVCLVxcdTE2RURcXHUxNzM1XFx1MTczNlxcdTE3RDQtXFx1MTdENlxcdTE3RDgtXFx1MTdEQVxcdTE4MDAtXFx1MTgwQVxcdTE5NDRcXHUxOTQ1XFx1MUExRVxcdTFBMUZcXHUxQUEwLVxcdTFBQTZcXHUxQUE4LVxcdTFBQURcXHUxQjVBLVxcdTFCNjBcXHUxQkZDLVxcdTFCRkZcXHUxQzNCLVxcdTFDM0ZcXHUxQzdFXFx1MUM3RlxcdTFDQzAtXFx1MUNDN1xcdTFDRDNcXHUyMDEwLVxcdTIwMjdcXHUyMDMwLVxcdTIwNDNcXHUyMDQ1LVxcdTIwNTFcXHUyMDUzLVxcdTIwNUVcXHUyMDdEXFx1MjA3RVxcdTIwOERcXHUyMDhFXFx1MjMyOVxcdTIzMkFcXHUyNzY4LVxcdTI3NzVcXHUyN0M1XFx1MjdDNlxcdTI3RTYtXFx1MjdFRlxcdTI5ODMtXFx1Mjk5OFxcdTI5RDgtXFx1MjlEQlxcdTI5RkNcXHUyOUZEXFx1MkNGOS1cXHUyQ0ZDXFx1MkNGRVxcdTJDRkZcXHUyRDcwXFx1MkUwMC1cXHUyRTJFXFx1MkUzMC1cXHUyRTNCXFx1MzAwMS1cXHUzMDAzXFx1MzAwOC1cXHUzMDExXFx1MzAxNC1cXHUzMDFGXFx1MzAzMFxcdTMwM0RcXHUzMEEwXFx1MzBGQlxcdUE0RkVcXHVBNEZGXFx1QTYwRC1cXHVBNjBGXFx1QTY3M1xcdUE2N0VcXHVBNkYyLVxcdUE2RjdcXHVBODc0LVxcdUE4NzdcXHVBOENFXFx1QThDRlxcdUE4RjgtXFx1QThGQVxcdUE5MkVcXHVBOTJGXFx1QTk1RlxcdUE5QzEtXFx1QTlDRFxcdUE5REVcXHVBOURGXFx1QUE1Qy1cXHVBQTVGXFx1QUFERVxcdUFBREZcXHVBQUYwXFx1QUFGMVxcdUFCRUJcXHVGRDNFXFx1RkQzRlxcdUZFMTAtXFx1RkUxOVxcdUZFMzAtXFx1RkU1MlxcdUZFNTQtXFx1RkU2MVxcdUZFNjNcXHVGRTY4XFx1RkU2QVxcdUZFNkJcXHVGRjAxLVxcdUZGMDNcXHVGRjA1LVxcdUZGMEFcXHVGRjBDLVxcdUZGMEZcXHVGRjFBXFx1RkYxQlxcdUZGMUZcXHVGRjIwXFx1RkYzQi1cXHVGRjNEXFx1RkYzRlxcdUZGNUJcXHVGRjVEXFx1RkY1Ri1cXHVGRjY1XS9cbmNvbnN0IENIQU1FTEVPTiA9IC9bJ1xcdTIwMThcXHUyMDE5XS9cblxuLyoqXG4gKiBHZXQgdGhlIGRpc3RhbmNlIHRvIHRoZSBlbmQgb2YgdGhlIGZpcnN0IHdvcmQgaW4gYSBzdHJpbmcgb2YgdGV4dC5cbiAqL1xuXG5leHBvcnQgY29uc3QgZ2V0V29yZERpc3RhbmNlID0gKHRleHQ6IHN0cmluZywgaXNSVEwgPSBmYWxzZSk6IG51bWJlciA9PiB7XG4gIGxldCBkaXN0ID0gMFxuICBsZXQgc3RhcnRlZCA9IGZhbHNlXG5cbiAgd2hpbGUgKHRleHQubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IGNoYXJEaXN0ID0gZ2V0Q2hhcmFjdGVyRGlzdGFuY2UodGV4dCwgaXNSVEwpXG4gICAgY29uc3QgW2NoYXIsIHJlbWFpbmluZ10gPSBzcGxpdEJ5Q2hhcmFjdGVyRGlzdGFuY2UodGV4dCwgY2hhckRpc3QsIGlzUlRMKVxuXG4gICAgaWYgKGlzV29yZENoYXJhY3RlcihjaGFyLCByZW1haW5pbmcsIGlzUlRMKSkge1xuICAgICAgc3RhcnRlZCA9IHRydWVcbiAgICAgIGRpc3QgKz0gY2hhckRpc3RcbiAgICB9IGVsc2UgaWYgKCFzdGFydGVkKSB7XG4gICAgICBkaXN0ICs9IGNoYXJEaXN0XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgdGV4dCA9IHJlbWFpbmluZ1xuICB9XG5cbiAgcmV0dXJuIGRpc3Rcbn1cblxuLyoqXG4gKiBTcGxpdCBhIHN0cmluZyBpbiB0d28gcGFydHMgYXQgYSBnaXZlbiBkaXN0YW5jZSBzdGFydGluZyBmcm9tIHRoZSBlbmQgd2hlblxuICogYGlzUlRMYCBpcyBzZXQgdG8gYHRydWVgLlxuICovXG5cbmV4cG9ydCBjb25zdCBzcGxpdEJ5Q2hhcmFjdGVyRGlzdGFuY2UgPSAoXG4gIHN0cjogc3RyaW5nLFxuICBkaXN0OiBudW1iZXIsXG4gIGlzUlRMPzogYm9vbGVhblxuKTogW3N0cmluZywgc3RyaW5nXSA9PiB7XG4gIGlmIChpc1JUTCkge1xuICAgIGNvbnN0IGF0ID0gc3RyLmxlbmd0aCAtIGRpc3RcbiAgICByZXR1cm4gW3N0ci5zbGljZShhdCwgc3RyLmxlbmd0aCksIHN0ci5zbGljZSgwLCBhdCldXG4gIH1cblxuICByZXR1cm4gW3N0ci5zbGljZSgwLCBkaXN0KSwgc3RyLnNsaWNlKGRpc3QpXVxufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgY2hhcmFjdGVyIGlzIGEgd29yZCBjaGFyYWN0ZXIuIFRoZSBgcmVtYWluaW5nYCBhcmd1bWVudCBpcyB1c2VkXG4gKiBiZWNhdXNlIHNvbWV0aW1lcyB5b3UgbXVzdCByZWFkIHN1YnNlcXVlbnQgY2hhcmFjdGVycyB0byB0cnVseSBkZXRlcm1pbmUgaXQuXG4gKi9cblxuY29uc3QgaXNXb3JkQ2hhcmFjdGVyID0gKFxuICBjaGFyOiBzdHJpbmcsXG4gIHJlbWFpbmluZzogc3RyaW5nLFxuICBpc1JUTCA9IGZhbHNlXG4pOiBib29sZWFuID0+IHtcbiAgaWYgKFNQQUNFLnRlc3QoY2hhcikpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIENoYW1lbGVvbnMgY291bnQgYXMgd29yZCBjaGFyYWN0ZXJzIGFzIGxvbmcgYXMgdGhleSdyZSBpbiBhIHdvcmQsIHNvXG4gIC8vIHJlY3Vyc2UgdG8gc2VlIGlmIHRoZSBuZXh0IG9uZSBpcyBhIHdvcmQgY2hhcmFjdGVyIG9yIG5vdC5cbiAgaWYgKENIQU1FTEVPTi50ZXN0KGNoYXIpKSB7XG4gICAgY29uc3QgY2hhckRpc3QgPSBnZXRDaGFyYWN0ZXJEaXN0YW5jZShyZW1haW5pbmcsIGlzUlRMKVxuICAgIGNvbnN0IFtuZXh0Q2hhciwgbmV4dFJlbWFpbmluZ10gPSBzcGxpdEJ5Q2hhcmFjdGVyRGlzdGFuY2UoXG4gICAgICByZW1haW5pbmcsXG4gICAgICBjaGFyRGlzdCxcbiAgICAgIGlzUlRMXG4gICAgKVxuXG4gICAgaWYgKGlzV29yZENoYXJhY3RlcihuZXh0Q2hhciwgbmV4dFJlbWFpbmluZywgaXNSVEwpKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGlmIChQVU5DVFVBVElPTi50ZXN0KGNoYXIpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuXG4vKipcbiAqIEl0ZXJhdGUgb24gY29kZXBvaW50cyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGNvZGVwb2ludHNJdGVyYXRvclJUTCA9IGZ1bmN0aW9uKihzdHI6IHN0cmluZykge1xuICBjb25zdCBlbmQgPSBzdHIubGVuZ3RoIC0gMVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hhcjEgPSBzdHIuY2hhckF0KGVuZCAtIGkpXG5cbiAgICBpZiAoaXNMb3dTdXJyb2dhdGUoY2hhcjEuY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgIGNvbnN0IGNoYXIyID0gc3RyLmNoYXJBdChlbmQgLSBpIC0gMSlcbiAgICAgIGlmIChpc0hpZ2hTdXJyb2dhdGUoY2hhcjIuY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgICAgeWllbGQgY2hhcjIgKyBjaGFyMVxuXG4gICAgICAgIGkrK1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuICAgIH1cblxuICAgIHlpZWxkIGNoYXIxXG4gIH1cbn1cblxuLyoqXG4gKiBJcyBgY2hhckNvZGVgIGEgaGlnaCBzdXJyb2dhdGUuXG4gKlxuICogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVW5pdmVyc2FsX0NoYXJhY3Rlcl9TZXRfY2hhcmFjdGVycyNTdXJyb2dhdGVzXG4gKi9cblxuY29uc3QgaXNIaWdoU3Vycm9nYXRlID0gKGNoYXJDb2RlOiBudW1iZXIpID0+IHtcbiAgcmV0dXJuIGNoYXJDb2RlID49IDB4ZDgwMCAmJiBjaGFyQ29kZSA8PSAweGRiZmZcbn1cblxuLyoqXG4gKiBJcyBgY2hhckNvZGVgIGEgbG93IHN1cnJvZ2F0ZS5cbiAqXG4gKiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Vbml2ZXJzYWxfQ2hhcmFjdGVyX1NldF9jaGFyYWN0ZXJzI1N1cnJvZ2F0ZXNcbiAqL1xuXG5jb25zdCBpc0xvd1N1cnJvZ2F0ZSA9IChjaGFyQ29kZTogbnVtYmVyKSA9PiB7XG4gIHJldHVybiBjaGFyQ29kZSA+PSAweGRjMDAgJiYgY2hhckNvZGUgPD0gMHhkZmZmXG59XG5cbmVudW0gQ29kZXBvaW50VHlwZSB7XG4gIE5vbmUgPSAwLFxuICBFeHRlbmQgPSAxIDw8IDAsXG4gIFpXSiA9IDEgPDwgMSxcbiAgUkkgPSAxIDw8IDIsXG4gIFByZXBlbmQgPSAxIDw8IDMsXG4gIFNwYWNpbmdNYXJrID0gMSA8PCA0LFxuICBMID0gMSA8PCA1LFxuICBWID0gMSA8PCA2LFxuICBUID0gMSA8PCA3LFxuICBMViA9IDEgPDwgOCxcbiAgTFZUID0gMSA8PCA5LFxuICBFeHRQaWN0ID0gMSA8PCAxMCxcbiAgQW55ID0gMSA8PCAxMSxcbn1cblxuY29uc3QgcmVFeHRlbmQgPSAvXltcXHB7R3JfRXh0fVxccHtFTW9kfV0kL3VcbmNvbnN0IHJlUHJlcGVuZCA9IC9eW1xcdTA2MDAtXFx1MDYwNVxcdTA2RERcXHUwNzBGXFx1MDg5MC1cXHUwODkxXFx1MDhFMlxcdTBENEVcXHV7MTEwQkR9XFx1ezExMENEfVxcdXsxMTFDMn0tXFx1ezExMUMzfVxcdXsxMTkzRn1cXHV7MTE5NDF9XFx1ezExQTNBfVxcdXsxMUE4NH0tXFx1ezExQTg5fVxcdXsxMUQ0Nn1dJC91XG5jb25zdCByZVNwYWNpbmdNYXJrID0gL15bXFx1MDkwM1xcdTA5M0JcXHUwOTNFLVxcdTA5NDBcXHUwOTQ5LVxcdTA5NENcXHUwOTRFLVxcdTA5NEZcXHUwOTgyLVxcdTA5ODNcXHUwOUJGLVxcdTA5QzBcXHUwOUM3LVxcdTA5QzhcXHUwOUNCLVxcdTA5Q0NcXHUwQTAzXFx1MEEzRS1cXHUwQTQwXFx1MEE4M1xcdTBBQkUtXFx1MEFDMFxcdTBBQzlcXHUwQUNCLVxcdTBBQ0NcXHUwQjAyLVxcdTBCMDNcXHUwQjQwXFx1MEI0Ny1cXHUwQjQ4XFx1MEI0Qi1cXHUwQjRDXFx1MEJCRlxcdTBCQzEtXFx1MEJDMlxcdTBCQzYtXFx1MEJDOFxcdTBCQ0EtXFx1MEJDQ1xcdTBDMDEtXFx1MEMwM1xcdTBDNDEtXFx1MEM0NFxcdTBDODItXFx1MEM4M1xcdTBDQkVcXHUwQ0MwLVxcdTBDQzFcXHUwQ0MzLVxcdTBDQzRcXHUwQ0M3LVxcdTBDQzhcXHUwQ0NBLVxcdTBDQ0JcXHUwRDAyLVxcdTBEMDNcXHUwRDNGLVxcdTBENDBcXHUwRDQ2LVxcdTBENDhcXHUwRDRBLVxcdTBENENcXHUwRDgyLVxcdTBEODNcXHUwREQwLVxcdTBERDFcXHUwREQ4LVxcdTBEREVcXHUwREYyLVxcdTBERjNcXHUwRTMzXFx1MEVCM1xcdTBGM0UtXFx1MEYzRlxcdTBGN0ZcXHUxMDMxXFx1MTAzQi1cXHUxMDNDXFx1MTA1Ni1cXHUxMDU3XFx1MTA4NFxcdTE3MTVcXHUxNzM0XFx1MTdCNlxcdTE3QkUtXFx1MTdDNVxcdTE3QzctXFx1MTdDOFxcdTE5MjMtXFx1MTkyNlxcdTE5MjktXFx1MTkyQlxcdTE5MzAtXFx1MTkzMVxcdTE5MzMtXFx1MTkzOFxcdTFBMTktXFx1MUExQVxcdTFBNTVcXHUxQTU3XFx1MUE2RC1cXHUxQTcyXFx1MUIwNFxcdTFCM0JcXHUxQjNELVxcdTFCNDFcXHUxQjQzLVxcdTFCNDRcXHUxQjgyXFx1MUJBMVxcdTFCQTYtXFx1MUJBN1xcdTFCQUFcXHUxQkU3XFx1MUJFQS1cXHUxQkVDXFx1MUJFRVxcdTFCRjItXFx1MUJGM1xcdTFDMjQtXFx1MUMyQlxcdTFDMzQtXFx1MUMzNVxcdTFDRTFcXHUxQ0Y3XFx1QTgyMy1cXHVBODI0XFx1QTgyN1xcdUE4ODAtXFx1QTg4MVxcdUE4QjQtXFx1QThDM1xcdUE5NTItXFx1QTk1M1xcdUE5ODNcXHVBOUI0LVxcdUE5QjVcXHVBOUJBLVxcdUE5QkJcXHVBOUJFLVxcdUE5QzBcXHVBQTJGLVxcdUFBMzBcXHVBQTMzLVxcdUFBMzRcXHVBQTREXFx1QUFFQlxcdUFBRUUtXFx1QUFFRlxcdUFBRjVcXHVBQkUzLVxcdUFCRTRcXHVBQkU2LVxcdUFCRTdcXHVBQkU5LVxcdUFCRUFcXHVBQkVDXFx1ezExMDAwfVxcdXsxMTAwMn1cXHV7MTEwODJ9XFx1ezExMEIwfS1cXHV7MTEwQjJ9XFx1ezExMEI3fS1cXHV7MTEwQjh9XFx1ezExMTJDfVxcdXsxMTE0NX0tXFx1ezExMTQ2fVxcdXsxMTE4Mn1cXHV7MTExQjN9LVxcdXsxMTFCNX1cXHV7MTExQkZ9LVxcdXsxMTFDMH1cXHV7MTExQ0V9XFx1ezExMjJDfS1cXHV7MTEyMkV9XFx1ezExMjMyfS1cXHV7MTEyMzN9XFx1ezExMjM1fVxcdXsxMTJFMH0tXFx1ezExMkUyfVxcdXsxMTMwMn0tXFx1ezExMzAzfVxcdXsxMTMzRn1cXHV7MTEzNDF9LVxcdXsxMTM0NH1cXHV7MTEzNDd9LVxcdXsxMTM0OH1cXHV7MTEzNEJ9LVxcdXsxMTM0RH1cXHV7MTEzNjJ9LVxcdXsxMTM2M31cXHV7MTE0MzV9LVxcdXsxMTQzN31cXHV7MTE0NDB9LVxcdXsxMTQ0MX1cXHV7MTE0NDV9XFx1ezExNEIxfS1cXHV7MTE0QjJ9XFx1ezExNEI5fVxcdXsxMTRCQn0tXFx1ezExNEJDfVxcdXsxMTRCRX1cXHV7MTE0QzF9XFx1ezExNUIwfS1cXHV7MTE1QjF9XFx1ezExNUI4fS1cXHV7MTE1QkJ9XFx1ezExNUJFfVxcdXsxMTYzMH0tXFx1ezExNjMyfVxcdXsxMTYzQn0tXFx1ezExNjNDfVxcdXsxMTYzRX1cXHV7MTE2QUN9XFx1ezExNkFFfS1cXHV7MTE2QUZ9XFx1ezExNkI2fVxcdXsxMTcyNn1cXHV7MTE4MkN9LVxcdXsxMTgyRX1cXHV7MTE4Mzh9XFx1ezExOTMxfS1cXHV7MTE5MzV9XFx1ezExOTM3fS1cXHV7MTE5Mzh9XFx1ezExOTNEfVxcdXsxMTk0MH1cXHV7MTE5NDJ9XFx1ezExOUQxfS1cXHV7MTE5RDN9XFx1ezExOURDfS1cXHV7MTE5REZ9XFx1ezExOUU0fVxcdXsxMUEzOX1cXHV7MTFBNTd9LVxcdXsxMUE1OH1cXHV7MTFBOTd9XFx1ezExQzJGfVxcdXsxMUMzRX1cXHV7MTFDQTl9XFx1ezExQ0IxfVxcdXsxMUNCNH1cXHV7MTFEOEF9LVxcdXsxMUQ4RX1cXHV7MTFEOTN9LVxcdXsxMUQ5NH1cXHV7MTFEOTZ9XFx1ezExRUY1fS1cXHV7MTFFRjZ9XFx1ezE2RjUxfS1cXHV7MTZGODd9XFx1ezE2RkYwfS1cXHV7MTZGRjF9XFx1ezFEMTY2fVxcdXsxRDE2RH1dJC91XG5jb25zdCByZUwgPSAvXltcXHUxMTAwLVxcdTExNUZcXHVBOTYwLVxcdUE5N0NdJC91XG5jb25zdCByZVYgPSAvXltcXHUxMTYwLVxcdTExQTdcXHVEN0IwLVxcdUQ3QzZdJC91XG5jb25zdCByZVQgPSAvXltcXHUxMUE4LVxcdTExRkZcXHVEN0NCLVxcdUQ3RkJdJC91XG5jb25zdCByZUxWID0gL15bXFx1QUMwMFxcdUFDMUNcXHVBQzM4XFx1QUM1NFxcdUFDNzBcXHVBQzhDXFx1QUNBOFxcdUFDQzRcXHVBQ0UwXFx1QUNGQ1xcdUFEMThcXHVBRDM0XFx1QUQ1MFxcdUFENkNcXHVBRDg4XFx1QURBNFxcdUFEQzBcXHVBRERDXFx1QURGOFxcdUFFMTRcXHVBRTMwXFx1QUU0Q1xcdUFFNjhcXHVBRTg0XFx1QUVBMFxcdUFFQkNcXHVBRUQ4XFx1QUVGNFxcdUFGMTBcXHVBRjJDXFx1QUY0OFxcdUFGNjRcXHVBRjgwXFx1QUY5Q1xcdUFGQjhcXHVBRkQ0XFx1QUZGMFxcdUIwMENcXHVCMDI4XFx1QjA0NFxcdUIwNjBcXHVCMDdDXFx1QjA5OFxcdUIwQjRcXHVCMEQwXFx1QjBFQ1xcdUIxMDhcXHVCMTI0XFx1QjE0MFxcdUIxNUNcXHVCMTc4XFx1QjE5NFxcdUIxQjBcXHVCMUNDXFx1QjFFOFxcdUIyMDRcXHVCMjIwXFx1QjIzQ1xcdUIyNThcXHVCMjc0XFx1QjI5MFxcdUIyQUNcXHVCMkM4XFx1QjJFNFxcdUIzMDBcXHVCMzFDXFx1QjMzOFxcdUIzNTRcXHVCMzcwXFx1QjM4Q1xcdUIzQThcXHVCM0M0XFx1QjNFMFxcdUIzRkNcXHVCNDE4XFx1QjQzNFxcdUI0NTBcXHVCNDZDXFx1QjQ4OFxcdUI0QTRcXHVCNEMwXFx1QjREQ1xcdUI0RjhcXHVCNTE0XFx1QjUzMFxcdUI1NENcXHVCNTY4XFx1QjU4NFxcdUI1QTBcXHVCNUJDXFx1QjVEOFxcdUI1RjRcXHVCNjEwXFx1QjYyQ1xcdUI2NDhcXHVCNjY0XFx1QjY4MFxcdUI2OUNcXHVCNkI4XFx1QjZENFxcdUI2RjBcXHVCNzBDXFx1QjcyOFxcdUI3NDRcXHVCNzYwXFx1Qjc3Q1xcdUI3OThcXHVCN0I0XFx1QjdEMFxcdUI3RUNcXHVCODA4XFx1QjgyNFxcdUI4NDBcXHVCODVDXFx1Qjg3OFxcdUI4OTRcXHVCOEIwXFx1QjhDQ1xcdUI4RThcXHVCOTA0XFx1QjkyMFxcdUI5M0NcXHVCOTU4XFx1Qjk3NFxcdUI5OTBcXHVCOUFDXFx1QjlDOFxcdUI5RTRcXHVCQTAwXFx1QkExQ1xcdUJBMzhcXHVCQTU0XFx1QkE3MFxcdUJBOENcXHVCQUE4XFx1QkFDNFxcdUJBRTBcXHVCQUZDXFx1QkIxOFxcdUJCMzRcXHVCQjUwXFx1QkI2Q1xcdUJCODhcXHVCQkE0XFx1QkJDMFxcdUJCRENcXHVCQkY4XFx1QkMxNFxcdUJDMzBcXHVCQzRDXFx1QkM2OFxcdUJDODRcXHVCQ0EwXFx1QkNCQ1xcdUJDRDhcXHVCQ0Y0XFx1QkQxMFxcdUJEMkNcXHVCRDQ4XFx1QkQ2NFxcdUJEODBcXHVCRDlDXFx1QkRCOFxcdUJERDRcXHVCREYwXFx1QkUwQ1xcdUJFMjhcXHVCRTQ0XFx1QkU2MFxcdUJFN0NcXHVCRTk4XFx1QkVCNFxcdUJFRDBcXHVCRUVDXFx1QkYwOFxcdUJGMjRcXHVCRjQwXFx1QkY1Q1xcdUJGNzhcXHVCRjk0XFx1QkZCMFxcdUJGQ0NcXHVCRkU4XFx1QzAwNFxcdUMwMjBcXHVDMDNDXFx1QzA1OFxcdUMwNzRcXHVDMDkwXFx1QzBBQ1xcdUMwQzhcXHVDMEU0XFx1QzEwMFxcdUMxMUNcXHVDMTM4XFx1QzE1NFxcdUMxNzBcXHVDMThDXFx1QzFBOFxcdUMxQzRcXHVDMUUwXFx1QzFGQ1xcdUMyMThcXHVDMjM0XFx1QzI1MFxcdUMyNkNcXHVDMjg4XFx1QzJBNFxcdUMyQzBcXHVDMkRDXFx1QzJGOFxcdUMzMTRcXHVDMzMwXFx1QzM0Q1xcdUMzNjhcXHVDMzg0XFx1QzNBMFxcdUMzQkNcXHVDM0Q4XFx1QzNGNFxcdUM0MTBcXHVDNDJDXFx1QzQ0OFxcdUM0NjRcXHVDNDgwXFx1QzQ5Q1xcdUM0QjhcXHVDNEQ0XFx1QzRGMFxcdUM1MENcXHVDNTI4XFx1QzU0NFxcdUM1NjBcXHVDNTdDXFx1QzU5OFxcdUM1QjRcXHVDNUQwXFx1QzVFQ1xcdUM2MDhcXHVDNjI0XFx1QzY0MFxcdUM2NUNcXHVDNjc4XFx1QzY5NFxcdUM2QjBcXHVDNkNDXFx1QzZFOFxcdUM3MDRcXHVDNzIwXFx1QzczQ1xcdUM3NThcXHVDNzc0XFx1Qzc5MFxcdUM3QUNcXHVDN0M4XFx1QzdFNFxcdUM4MDBcXHVDODFDXFx1QzgzOFxcdUM4NTRcXHVDODcwXFx1Qzg4Q1xcdUM4QThcXHVDOEM0XFx1QzhFMFxcdUM4RkNcXHVDOTE4XFx1QzkzNFxcdUM5NTBcXHVDOTZDXFx1Qzk4OFxcdUM5QTRcXHVDOUMwXFx1QzlEQ1xcdUM5RjhcXHVDQTE0XFx1Q0EzMFxcdUNBNENcXHVDQTY4XFx1Q0E4NFxcdUNBQTBcXHVDQUJDXFx1Q0FEOFxcdUNBRjRcXHVDQjEwXFx1Q0IyQ1xcdUNCNDhcXHVDQjY0XFx1Q0I4MFxcdUNCOUNcXHVDQkI4XFx1Q0JENFxcdUNCRjBcXHVDQzBDXFx1Q0MyOFxcdUNDNDRcXHVDQzYwXFx1Q0M3Q1xcdUNDOThcXHVDQ0I0XFx1Q0NEMFxcdUNDRUNcXHVDRDA4XFx1Q0QyNFxcdUNENDBcXHVDRDVDXFx1Q0Q3OFxcdUNEOTRcXHVDREIwXFx1Q0RDQ1xcdUNERThcXHVDRTA0XFx1Q0UyMFxcdUNFM0NcXHVDRTU4XFx1Q0U3NFxcdUNFOTBcXHVDRUFDXFx1Q0VDOFxcdUNFRTRcXHVDRjAwXFx1Q0YxQ1xcdUNGMzhcXHVDRjU0XFx1Q0Y3MFxcdUNGOENcXHVDRkE4XFx1Q0ZDNFxcdUNGRTBcXHVDRkZDXFx1RDAxOFxcdUQwMzRcXHVEMDUwXFx1RDA2Q1xcdUQwODhcXHVEMEE0XFx1RDBDMFxcdUQwRENcXHVEMEY4XFx1RDExNFxcdUQxMzBcXHVEMTRDXFx1RDE2OFxcdUQxODRcXHVEMUEwXFx1RDFCQ1xcdUQxRDhcXHVEMUY0XFx1RDIxMFxcdUQyMkNcXHVEMjQ4XFx1RDI2NFxcdUQyODBcXHVEMjlDXFx1RDJCOFxcdUQyRDRcXHVEMkYwXFx1RDMwQ1xcdUQzMjhcXHVEMzQ0XFx1RDM2MFxcdUQzN0NcXHVEMzk4XFx1RDNCNFxcdUQzRDBcXHVEM0VDXFx1RDQwOFxcdUQ0MjRcXHVENDQwXFx1RDQ1Q1xcdUQ0NzhcXHVENDk0XFx1RDRCMFxcdUQ0Q0NcXHVENEU4XFx1RDUwNFxcdUQ1MjBcXHVENTNDXFx1RDU1OFxcdUQ1NzRcXHVENTkwXFx1RDVBQ1xcdUQ1QzhcXHVENUU0XFx1RDYwMFxcdUQ2MUNcXHVENjM4XFx1RDY1NFxcdUQ2NzBcXHVENjhDXFx1RDZBOFxcdUQ2QzRcXHVENkUwXFx1RDZGQ1xcdUQ3MThcXHVENzM0XFx1RDc1MFxcdUQ3NkNcXHVENzg4XSQvdVxuY29uc3QgcmVMVlQgPSAvXltcXHVBQzAxLVxcdUFDMUJcXHVBQzFELVxcdUFDMzdcXHVBQzM5LVxcdUFDNTNcXHVBQzU1LVxcdUFDNkZcXHVBQzcxLVxcdUFDOEJcXHVBQzhELVxcdUFDQTdcXHVBQ0E5LVxcdUFDQzNcXHVBQ0M1LVxcdUFDREZcXHVBQ0UxLVxcdUFDRkJcXHVBQ0ZELVxcdUFEMTdcXHVBRDE5LVxcdUFEMzNcXHVBRDM1LVxcdUFENEZcXHVBRDUxLVxcdUFENkJcXHVBRDZELVxcdUFEODdcXHVBRDg5LVxcdUFEQTNcXHVBREE1LVxcdUFEQkZcXHVBREMxLVxcdUFEREJcXHVBRERELVxcdUFERjdcXHVBREY5LVxcdUFFMTNcXHVBRTE1LVxcdUFFMkZcXHVBRTMxLVxcdUFFNEJcXHVBRTRELVxcdUFFNjdcXHVBRTY5LVxcdUFFODNcXHVBRTg1LVxcdUFFOUZcXHVBRUExLVxcdUFFQkJcXHVBRUJELVxcdUFFRDdcXHVBRUQ5LVxcdUFFRjNcXHVBRUY1LVxcdUFGMEZcXHVBRjExLVxcdUFGMkJcXHVBRjJELVxcdUFGNDdcXHVBRjQ5LVxcdUFGNjNcXHVBRjY1LVxcdUFGN0ZcXHVBRjgxLVxcdUFGOUJcXHVBRjlELVxcdUFGQjdcXHVBRkI5LVxcdUFGRDNcXHVBRkQ1LVxcdUFGRUZcXHVBRkYxLVxcdUIwMEJcXHVCMDBELVxcdUIwMjdcXHVCMDI5LVxcdUIwNDNcXHVCMDQ1LVxcdUIwNUZcXHVCMDYxLVxcdUIwN0JcXHVCMDdELVxcdUIwOTdcXHVCMDk5LVxcdUIwQjNcXHVCMEI1LVxcdUIwQ0ZcXHVCMEQxLVxcdUIwRUJcXHVCMEVELVxcdUIxMDdcXHVCMTA5LVxcdUIxMjNcXHVCMTI1LVxcdUIxM0ZcXHVCMTQxLVxcdUIxNUJcXHVCMTVELVxcdUIxNzdcXHVCMTc5LVxcdUIxOTNcXHVCMTk1LVxcdUIxQUZcXHVCMUIxLVxcdUIxQ0JcXHVCMUNELVxcdUIxRTdcXHVCMUU5LVxcdUIyMDNcXHVCMjA1LVxcdUIyMUZcXHVCMjIxLVxcdUIyM0JcXHVCMjNELVxcdUIyNTdcXHVCMjU5LVxcdUIyNzNcXHVCMjc1LVxcdUIyOEZcXHVCMjkxLVxcdUIyQUJcXHVCMkFELVxcdUIyQzdcXHVCMkM5LVxcdUIyRTNcXHVCMkU1LVxcdUIyRkZcXHVCMzAxLVxcdUIzMUJcXHVCMzFELVxcdUIzMzdcXHVCMzM5LVxcdUIzNTNcXHVCMzU1LVxcdUIzNkZcXHVCMzcxLVxcdUIzOEJcXHVCMzhELVxcdUIzQTdcXHVCM0E5LVxcdUIzQzNcXHVCM0M1LVxcdUIzREZcXHVCM0UxLVxcdUIzRkJcXHVCM0ZELVxcdUI0MTdcXHVCNDE5LVxcdUI0MzNcXHVCNDM1LVxcdUI0NEZcXHVCNDUxLVxcdUI0NkJcXHVCNDZELVxcdUI0ODdcXHVCNDg5LVxcdUI0QTNcXHVCNEE1LVxcdUI0QkZcXHVCNEMxLVxcdUI0REJcXHVCNERELVxcdUI0RjdcXHVCNEY5LVxcdUI1MTNcXHVCNTE1LVxcdUI1MkZcXHVCNTMxLVxcdUI1NEJcXHVCNTRELVxcdUI1NjdcXHVCNTY5LVxcdUI1ODNcXHVCNTg1LVxcdUI1OUZcXHVCNUExLVxcdUI1QkJcXHVCNUJELVxcdUI1RDdcXHVCNUQ5LVxcdUI1RjNcXHVCNUY1LVxcdUI2MEZcXHVCNjExLVxcdUI2MkJcXHVCNjJELVxcdUI2NDdcXHVCNjQ5LVxcdUI2NjNcXHVCNjY1LVxcdUI2N0ZcXHVCNjgxLVxcdUI2OUJcXHVCNjlELVxcdUI2QjdcXHVCNkI5LVxcdUI2RDNcXHVCNkQ1LVxcdUI2RUZcXHVCNkYxLVxcdUI3MEJcXHVCNzBELVxcdUI3MjdcXHVCNzI5LVxcdUI3NDNcXHVCNzQ1LVxcdUI3NUZcXHVCNzYxLVxcdUI3N0JcXHVCNzdELVxcdUI3OTdcXHVCNzk5LVxcdUI3QjNcXHVCN0I1LVxcdUI3Q0ZcXHVCN0QxLVxcdUI3RUJcXHVCN0VELVxcdUI4MDdcXHVCODA5LVxcdUI4MjNcXHVCODI1LVxcdUI4M0ZcXHVCODQxLVxcdUI4NUJcXHVCODVELVxcdUI4NzdcXHVCODc5LVxcdUI4OTNcXHVCODk1LVxcdUI4QUZcXHVCOEIxLVxcdUI4Q0JcXHVCOENELVxcdUI4RTdcXHVCOEU5LVxcdUI5MDNcXHVCOTA1LVxcdUI5MUZcXHVCOTIxLVxcdUI5M0JcXHVCOTNELVxcdUI5NTdcXHVCOTU5LVxcdUI5NzNcXHVCOTc1LVxcdUI5OEZcXHVCOTkxLVxcdUI5QUJcXHVCOUFELVxcdUI5QzdcXHVCOUM5LVxcdUI5RTNcXHVCOUU1LVxcdUI5RkZcXHVCQTAxLVxcdUJBMUJcXHVCQTFELVxcdUJBMzdcXHVCQTM5LVxcdUJBNTNcXHVCQTU1LVxcdUJBNkZcXHVCQTcxLVxcdUJBOEJcXHVCQThELVxcdUJBQTdcXHVCQUE5LVxcdUJBQzNcXHVCQUM1LVxcdUJBREZcXHVCQUUxLVxcdUJBRkJcXHVCQUZELVxcdUJCMTdcXHVCQjE5LVxcdUJCMzNcXHVCQjM1LVxcdUJCNEZcXHVCQjUxLVxcdUJCNkJcXHVCQjZELVxcdUJCODdcXHVCQjg5LVxcdUJCQTNcXHVCQkE1LVxcdUJCQkZcXHVCQkMxLVxcdUJCREJcXHVCQkRELVxcdUJCRjdcXHVCQkY5LVxcdUJDMTNcXHVCQzE1LVxcdUJDMkZcXHVCQzMxLVxcdUJDNEJcXHVCQzRELVxcdUJDNjdcXHVCQzY5LVxcdUJDODNcXHVCQzg1LVxcdUJDOUZcXHVCQ0ExLVxcdUJDQkJcXHVCQ0JELVxcdUJDRDdcXHVCQ0Q5LVxcdUJDRjNcXHVCQ0Y1LVxcdUJEMEZcXHVCRDExLVxcdUJEMkJcXHVCRDJELVxcdUJENDdcXHVCRDQ5LVxcdUJENjNcXHVCRDY1LVxcdUJEN0ZcXHVCRDgxLVxcdUJEOUJcXHVCRDlELVxcdUJEQjdcXHVCREI5LVxcdUJERDNcXHVCREQ1LVxcdUJERUZcXHVCREYxLVxcdUJFMEJcXHVCRTBELVxcdUJFMjdcXHVCRTI5LVxcdUJFNDNcXHVCRTQ1LVxcdUJFNUZcXHVCRTYxLVxcdUJFN0JcXHVCRTdELVxcdUJFOTdcXHVCRTk5LVxcdUJFQjNcXHVCRUI1LVxcdUJFQ0ZcXHVCRUQxLVxcdUJFRUJcXHVCRUVELVxcdUJGMDdcXHVCRjA5LVxcdUJGMjNcXHVCRjI1LVxcdUJGM0ZcXHVCRjQxLVxcdUJGNUJcXHVCRjVELVxcdUJGNzdcXHVCRjc5LVxcdUJGOTNcXHVCRjk1LVxcdUJGQUZcXHVCRkIxLVxcdUJGQ0JcXHVCRkNELVxcdUJGRTdcXHVCRkU5LVxcdUMwMDNcXHVDMDA1LVxcdUMwMUZcXHVDMDIxLVxcdUMwM0JcXHVDMDNELVxcdUMwNTdcXHVDMDU5LVxcdUMwNzNcXHVDMDc1LVxcdUMwOEZcXHVDMDkxLVxcdUMwQUJcXHVDMEFELVxcdUMwQzdcXHVDMEM5LVxcdUMwRTNcXHVDMEU1LVxcdUMwRkZcXHVDMTAxLVxcdUMxMUJcXHVDMTFELVxcdUMxMzdcXHVDMTM5LVxcdUMxNTNcXHVDMTU1LVxcdUMxNkZcXHVDMTcxLVxcdUMxOEJcXHVDMThELVxcdUMxQTdcXHVDMUE5LVxcdUMxQzNcXHVDMUM1LVxcdUMxREZcXHVDMUUxLVxcdUMxRkJcXHVDMUZELVxcdUMyMTdcXHVDMjE5LVxcdUMyMzNcXHVDMjM1LVxcdUMyNEZcXHVDMjUxLVxcdUMyNkJcXHVDMjZELVxcdUMyODdcXHVDMjg5LVxcdUMyQTNcXHVDMkE1LVxcdUMyQkZcXHVDMkMxLVxcdUMyREJcXHVDMkRELVxcdUMyRjdcXHVDMkY5LVxcdUMzMTNcXHVDMzE1LVxcdUMzMkZcXHVDMzMxLVxcdUMzNEJcXHVDMzRELVxcdUMzNjdcXHVDMzY5LVxcdUMzODNcXHVDMzg1LVxcdUMzOUZcXHVDM0ExLVxcdUMzQkJcXHVDM0JELVxcdUMzRDdcXHVDM0Q5LVxcdUMzRjNcXHVDM0Y1LVxcdUM0MEZcXHVDNDExLVxcdUM0MkJcXHVDNDJELVxcdUM0NDdcXHVDNDQ5LVxcdUM0NjNcXHVDNDY1LVxcdUM0N0ZcXHVDNDgxLVxcdUM0OUJcXHVDNDlELVxcdUM0QjdcXHVDNEI5LVxcdUM0RDNcXHVDNEQ1LVxcdUM0RUZcXHVDNEYxLVxcdUM1MEJcXHVDNTBELVxcdUM1MjdcXHVDNTI5LVxcdUM1NDNcXHVDNTQ1LVxcdUM1NUZcXHVDNTYxLVxcdUM1N0JcXHVDNTdELVxcdUM1OTdcXHVDNTk5LVxcdUM1QjNcXHVDNUI1LVxcdUM1Q0ZcXHVDNUQxLVxcdUM1RUJcXHVDNUVELVxcdUM2MDdcXHVDNjA5LVxcdUM2MjNcXHVDNjI1LVxcdUM2M0ZcXHVDNjQxLVxcdUM2NUJcXHVDNjVELVxcdUM2NzdcXHVDNjc5LVxcdUM2OTNcXHVDNjk1LVxcdUM2QUZcXHVDNkIxLVxcdUM2Q0JcXHVDNkNELVxcdUM2RTdcXHVDNkU5LVxcdUM3MDNcXHVDNzA1LVxcdUM3MUZcXHVDNzIxLVxcdUM3M0JcXHVDNzNELVxcdUM3NTdcXHVDNzU5LVxcdUM3NzNcXHVDNzc1LVxcdUM3OEZcXHVDNzkxLVxcdUM3QUJcXHVDN0FELVxcdUM3QzdcXHVDN0M5LVxcdUM3RTNcXHVDN0U1LVxcdUM3RkZcXHVDODAxLVxcdUM4MUJcXHVDODFELVxcdUM4MzdcXHVDODM5LVxcdUM4NTNcXHVDODU1LVxcdUM4NkZcXHVDODcxLVxcdUM4OEJcXHVDODhELVxcdUM4QTdcXHVDOEE5LVxcdUM4QzNcXHVDOEM1LVxcdUM4REZcXHVDOEUxLVxcdUM4RkJcXHVDOEZELVxcdUM5MTdcXHVDOTE5LVxcdUM5MzNcXHVDOTM1LVxcdUM5NEZcXHVDOTUxLVxcdUM5NkJcXHVDOTZELVxcdUM5ODdcXHVDOTg5LVxcdUM5QTNcXHVDOUE1LVxcdUM5QkZcXHVDOUMxLVxcdUM5REJcXHVDOURELVxcdUM5RjdcXHVDOUY5LVxcdUNBMTNcXHVDQTE1LVxcdUNBMkZcXHVDQTMxLVxcdUNBNEJcXHVDQTRELVxcdUNBNjdcXHVDQTY5LVxcdUNBODNcXHVDQTg1LVxcdUNBOUZcXHVDQUExLVxcdUNBQkJcXHVDQUJELVxcdUNBRDdcXHVDQUQ5LVxcdUNBRjNcXHVDQUY1LVxcdUNCMEZcXHVDQjExLVxcdUNCMkJcXHVDQjJELVxcdUNCNDdcXHVDQjQ5LVxcdUNCNjNcXHVDQjY1LVxcdUNCN0ZcXHVDQjgxLVxcdUNCOUJcXHVDQjlELVxcdUNCQjdcXHVDQkI5LVxcdUNCRDNcXHVDQkQ1LVxcdUNCRUZcXHVDQkYxLVxcdUNDMEJcXHVDQzBELVxcdUNDMjdcXHVDQzI5LVxcdUNDNDNcXHVDQzQ1LVxcdUNDNUZcXHVDQzYxLVxcdUNDN0JcXHVDQzdELVxcdUNDOTdcXHVDQzk5LVxcdUNDQjNcXHVDQ0I1LVxcdUNDQ0ZcXHVDQ0QxLVxcdUNDRUJcXHVDQ0VELVxcdUNEMDdcXHVDRDA5LVxcdUNEMjNcXHVDRDI1LVxcdUNEM0ZcXHVDRDQxLVxcdUNENUJcXHVDRDVELVxcdUNENzdcXHVDRDc5LVxcdUNEOTNcXHVDRDk1LVxcdUNEQUZcXHVDREIxLVxcdUNEQ0JcXHVDRENELVxcdUNERTdcXHVDREU5LVxcdUNFMDNcXHVDRTA1LVxcdUNFMUZcXHVDRTIxLVxcdUNFM0JcXHVDRTNELVxcdUNFNTdcXHVDRTU5LVxcdUNFNzNcXHVDRTc1LVxcdUNFOEZcXHVDRTkxLVxcdUNFQUJcXHVDRUFELVxcdUNFQzdcXHVDRUM5LVxcdUNFRTNcXHVDRUU1LVxcdUNFRkZcXHVDRjAxLVxcdUNGMUJcXHVDRjFELVxcdUNGMzdcXHVDRjM5LVxcdUNGNTNcXHVDRjU1LVxcdUNGNkZcXHVDRjcxLVxcdUNGOEJcXHVDRjhELVxcdUNGQTdcXHVDRkE5LVxcdUNGQzNcXHVDRkM1LVxcdUNGREZcXHVDRkUxLVxcdUNGRkJcXHVDRkZELVxcdUQwMTdcXHVEMDE5LVxcdUQwMzNcXHVEMDM1LVxcdUQwNEZcXHVEMDUxLVxcdUQwNkJcXHVEMDZELVxcdUQwODdcXHVEMDg5LVxcdUQwQTNcXHVEMEE1LVxcdUQwQkZcXHVEMEMxLVxcdUQwREJcXHVEMERELVxcdUQwRjdcXHVEMEY5LVxcdUQxMTNcXHVEMTE1LVxcdUQxMkZcXHVEMTMxLVxcdUQxNEJcXHVEMTRELVxcdUQxNjdcXHVEMTY5LVxcdUQxODNcXHVEMTg1LVxcdUQxOUZcXHVEMUExLVxcdUQxQkJcXHVEMUJELVxcdUQxRDdcXHVEMUQ5LVxcdUQxRjNcXHVEMUY1LVxcdUQyMEZcXHVEMjExLVxcdUQyMkJcXHVEMjJELVxcdUQyNDdcXHVEMjQ5LVxcdUQyNjNcXHVEMjY1LVxcdUQyN0ZcXHVEMjgxLVxcdUQyOUJcXHVEMjlELVxcdUQyQjdcXHVEMkI5LVxcdUQyRDNcXHVEMkQ1LVxcdUQyRUZcXHVEMkYxLVxcdUQzMEJcXHVEMzBELVxcdUQzMjdcXHVEMzI5LVxcdUQzNDNcXHVEMzQ1LVxcdUQzNUZcXHVEMzYxLVxcdUQzN0JcXHVEMzdELVxcdUQzOTdcXHVEMzk5LVxcdUQzQjNcXHVEM0I1LVxcdUQzQ0ZcXHVEM0QxLVxcdUQzRUJcXHVEM0VELVxcdUQ0MDdcXHVENDA5LVxcdUQ0MjNcXHVENDI1LVxcdUQ0M0ZcXHVENDQxLVxcdUQ0NUJcXHVENDVELVxcdUQ0NzdcXHVENDc5LVxcdUQ0OTNcXHVENDk1LVxcdUQ0QUZcXHVENEIxLVxcdUQ0Q0JcXHVENENELVxcdUQ0RTdcXHVENEU5LVxcdUQ1MDNcXHVENTA1LVxcdUQ1MUZcXHVENTIxLVxcdUQ1M0JcXHVENTNELVxcdUQ1NTdcXHVENTU5LVxcdUQ1NzNcXHVENTc1LVxcdUQ1OEZcXHVENTkxLVxcdUQ1QUJcXHVENUFELVxcdUQ1QzdcXHVENUM5LVxcdUQ1RTNcXHVENUU1LVxcdUQ1RkZcXHVENjAxLVxcdUQ2MUJcXHVENjFELVxcdUQ2MzdcXHVENjM5LVxcdUQ2NTNcXHVENjU1LVxcdUQ2NkZcXHVENjcxLVxcdUQ2OEJcXHVENjhELVxcdUQ2QTdcXHVENkE5LVxcdUQ2QzNcXHVENkM1LVxcdUQ2REZcXHVENkUxLVxcdUQ2RkJcXHVENkZELVxcdUQ3MTdcXHVENzE5LVxcdUQ3MzNcXHVENzM1LVxcdUQ3NEZcXHVENzUxLVxcdUQ3NkJcXHVENzZELVxcdUQ3ODdcXHVENzg5LVxcdUQ3QTNdJC91XG5jb25zdCByZUV4dFBpY3QgPSAvXlxccHtFeHRQaWN0fSQvdVxuXG5jb25zdCBnZXRDb2RlcG9pbnRUeXBlID0gKGNoYXI6IHN0cmluZywgY29kZTogbnVtYmVyKTogQ29kZXBvaW50VHlwZSA9PiB7XG4gIGxldCB0eXBlID0gQ29kZXBvaW50VHlwZS5BbnlcbiAgaWYgKGNoYXIuc2VhcmNoKHJlRXh0ZW5kKSAhPT0gLTEpIHtcbiAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuRXh0ZW5kXG4gIH1cbiAgaWYgKGNvZGUgPT09IDB4MjAwZCkge1xuICAgIHR5cGUgfD0gQ29kZXBvaW50VHlwZS5aV0pcbiAgfVxuICBpZiAoY29kZSA+PSAweDFmMWU2ICYmIGNvZGUgPD0gMHgxZjFmZikge1xuICAgIHR5cGUgfD0gQ29kZXBvaW50VHlwZS5SSVxuICB9XG4gIGlmIChjaGFyLnNlYXJjaChyZVByZXBlbmQpICE9PSAtMSkge1xuICAgIHR5cGUgfD0gQ29kZXBvaW50VHlwZS5QcmVwZW5kXG4gIH1cbiAgaWYgKGNoYXIuc2VhcmNoKHJlU3BhY2luZ01hcmspICE9PSAtMSkge1xuICAgIHR5cGUgfD0gQ29kZXBvaW50VHlwZS5TcGFjaW5nTWFya1xuICB9XG4gIGlmIChjaGFyLnNlYXJjaChyZUwpICE9PSAtMSkge1xuICAgIHR5cGUgfD0gQ29kZXBvaW50VHlwZS5MXG4gIH1cbiAgaWYgKGNoYXIuc2VhcmNoKHJlVikgIT09IC0xKSB7XG4gICAgdHlwZSB8PSBDb2RlcG9pbnRUeXBlLlZcbiAgfVxuICBpZiAoY2hhci5zZWFyY2gocmVUKSAhPT0gLTEpIHtcbiAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuVFxuICB9XG4gIGlmIChjaGFyLnNlYXJjaChyZUxWKSAhPT0gLTEpIHtcbiAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuTFZcbiAgfVxuICBpZiAoY2hhci5zZWFyY2gocmVMVlQpICE9PSAtMSkge1xuICAgIHR5cGUgfD0gQ29kZXBvaW50VHlwZS5MVlRcbiAgfVxuICBpZiAoY2hhci5zZWFyY2gocmVFeHRQaWN0KSAhPT0gLTEpIHtcbiAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuRXh0UGljdFxuICB9XG5cbiAgcmV0dXJuIHR5cGVcbn1cblxuZnVuY3Rpb24gaW50ZXJzZWN0cyh4OiBDb2RlcG9pbnRUeXBlLCB5OiBDb2RlcG9pbnRUeXBlKSB7XG4gIHJldHVybiAoeCAmIHkpICE9PSAwXG59XG5cbmNvbnN0IE5vbkJvdW5kYXJ5UGFpcnM6IFtDb2RlcG9pbnRUeXBlLCBDb2RlcG9pbnRUeXBlXVtdID0gW1xuICAvLyBHQjZcbiAgW1xuICAgIENvZGVwb2ludFR5cGUuTCxcbiAgICBDb2RlcG9pbnRUeXBlLkwgfCBDb2RlcG9pbnRUeXBlLlYgfCBDb2RlcG9pbnRUeXBlLkxWIHwgQ29kZXBvaW50VHlwZS5MVlQsXG4gIF0sXG4gIC8vIEdCN1xuICBbQ29kZXBvaW50VHlwZS5MViB8IENvZGVwb2ludFR5cGUuViwgQ29kZXBvaW50VHlwZS5WIHwgQ29kZXBvaW50VHlwZS5UXSxcbiAgLy8gR0I4XG4gIFtDb2RlcG9pbnRUeXBlLkxWVCB8IENvZGVwb2ludFR5cGUuVCwgQ29kZXBvaW50VHlwZS5UXSxcbiAgLy8gR0I5XG4gIFtDb2RlcG9pbnRUeXBlLkFueSwgQ29kZXBvaW50VHlwZS5FeHRlbmQgfCBDb2RlcG9pbnRUeXBlLlpXSl0sXG4gIC8vIEdCOWFcbiAgW0NvZGVwb2ludFR5cGUuQW55LCBDb2RlcG9pbnRUeXBlLlNwYWNpbmdNYXJrXSxcbiAgLy8gR0I5YlxuICBbQ29kZXBvaW50VHlwZS5QcmVwZW5kLCBDb2RlcG9pbnRUeXBlLkFueV0sXG4gIC8vIEdCMTFcbiAgW0NvZGVwb2ludFR5cGUuWldKLCBDb2RlcG9pbnRUeXBlLkV4dFBpY3RdLFxuICAvLyBHQjEyIGFuZCBHQjEzXG4gIFtDb2RlcG9pbnRUeXBlLlJJLCBDb2RlcG9pbnRUeXBlLlJJXSxcbl1cblxuZnVuY3Rpb24gaXNCb3VuZGFyeVBhaXIobGVmdDogQ29kZXBvaW50VHlwZSwgcmlnaHQ6IENvZGVwb2ludFR5cGUpIHtcbiAgcmV0dXJuIChcbiAgICBOb25Cb3VuZGFyeVBhaXJzLmZpbmRJbmRleChcbiAgICAgIHIgPT4gaW50ZXJzZWN0cyhsZWZ0LCByWzBdKSAmJiBpbnRlcnNlY3RzKHJpZ2h0LCByWzFdKVxuICAgICkgPT09IC0xXG4gIClcbn1cblxuY29uc3QgZW5kaW5nRW1vamlaV0ogPSAvXFxwe0V4dFBpY3R9W1xccHtHcl9FeHR9XFxwe0VNb2R9XSpcXHUyMDBEJC91XG5jb25zdCBlbmRzV2l0aEVtb2ppWldKID0gKHN0cjogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBzdHIuc2VhcmNoKGVuZGluZ0Vtb2ppWldKKSAhPT0gLTFcbn1cblxuY29uc3QgZW5kaW5nUklzID0gL1xccHtSSX0rJC9ndVxuY29uc3QgZW5kc1dpdGhPZGROdW1iZXJPZlJJcyA9IChzdHI6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBtYXRjaCA9IHN0ci5tYXRjaChlbmRpbmdSSXMpXG4gIGlmIChtYXRjaCA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2Uge1xuICAgIC8vIEEgUkkgaXMgcmVwcmVzZW50ZWQgYnkgYSBzdXJyb2dhdGUgcGFpci5cbiAgICBjb25zdCBudW1SSXMgPSBtYXRjaFswXS5sZW5ndGggLyAyXG4gICAgcmV0dXJuIG51bVJJcyAlIDIgPT09IDFcbiAgfVxufVxuIiwiaW1wb3J0IHsgaXNQbGFpbk9iamVjdCB9IGZyb20gJ2lzLXBsYWluLW9iamVjdCdcbmltcG9ydCB7IEVkaXRvciwgTm9kZSwgUGF0aCwgRGVzY2VuZGFudCwgRXh0ZW5kZWRUeXBlLCBBbmNlc3RvciB9IGZyb20gJy4uJ1xuXG4vKipcbiAqIGBFbGVtZW50YCBvYmplY3RzIGFyZSBhIHR5cGUgb2Ygbm9kZSBpbiBhIFNsYXRlIGRvY3VtZW50IHRoYXQgY29udGFpbiBvdGhlclxuICogZWxlbWVudCBub2RlcyBvciB0ZXh0IG5vZGVzLiBUaGV5IGNhbiBiZSBlaXRoZXIgXCJibG9ja3NcIiBvciBcImlubGluZXNcIlxuICogZGVwZW5kaW5nIG9uIHRoZSBTbGF0ZSBlZGl0b3IncyBjb25maWd1cmF0aW9uLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZUVsZW1lbnQge1xuICBjaGlsZHJlbjogRGVzY2VuZGFudFtdXG59XG5cbmV4cG9ydCB0eXBlIEVsZW1lbnQgPSBFeHRlbmRlZFR5cGU8J0VsZW1lbnQnLCBCYXNlRWxlbWVudD5cblxuZXhwb3J0IGludGVyZmFjZSBFbGVtZW50SW50ZXJmYWNlIHtcbiAgaXNBbmNlc3RvcjogKHZhbHVlOiBhbnkpID0+IHZhbHVlIGlzIEFuY2VzdG9yXG4gIGlzRWxlbWVudDogKHZhbHVlOiBhbnkpID0+IHZhbHVlIGlzIEVsZW1lbnRcbiAgaXNFbGVtZW50TGlzdDogKHZhbHVlOiBhbnkpID0+IHZhbHVlIGlzIEVsZW1lbnRbXVxuICBpc0VsZW1lbnRQcm9wczogKHByb3BzOiBhbnkpID0+IHByb3BzIGlzIFBhcnRpYWw8RWxlbWVudD5cbiAgaXNFbGVtZW50VHlwZTogPFQgZXh0ZW5kcyBFbGVtZW50PihcbiAgICB2YWx1ZTogYW55LFxuICAgIGVsZW1lbnRWYWw6IHN0cmluZyxcbiAgICBlbGVtZW50S2V5Pzogc3RyaW5nXG4gICkgPT4gdmFsdWUgaXMgVFxuICBtYXRjaGVzOiAoZWxlbWVudDogRWxlbWVudCwgcHJvcHM6IFBhcnRpYWw8RWxlbWVudD4pID0+IGJvb2xlYW5cbn1cblxuLyoqXG4gKiBTaGFyZWQgdGhlIGZ1bmN0aW9uIHdpdGggaXNFbGVtZW50VHlwZSB1dGlsaXR5XG4gKi9cbmNvbnN0IGlzRWxlbWVudCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgRWxlbWVudCA9PiB7XG4gIHJldHVybiAoXG4gICAgaXNQbGFpbk9iamVjdCh2YWx1ZSkgJiZcbiAgICBOb2RlLmlzTm9kZUxpc3QodmFsdWUuY2hpbGRyZW4pICYmXG4gICAgIUVkaXRvci5pc0VkaXRvcih2YWx1ZSlcbiAgKVxufVxuXG5leHBvcnQgY29uc3QgRWxlbWVudDogRWxlbWVudEludGVyZmFjZSA9IHtcbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdmFsdWUgaW1wbGVtZW50cyB0aGUgJ0FuY2VzdG9yJyBpbnRlcmZhY2UuXG4gICAqL1xuXG4gIGlzQW5jZXN0b3IodmFsdWU6IGFueSk6IHZhbHVlIGlzIEFuY2VzdG9yIHtcbiAgICByZXR1cm4gaXNQbGFpbk9iamVjdCh2YWx1ZSkgJiYgTm9kZS5pc05vZGVMaXN0KHZhbHVlLmNoaWxkcmVuKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHZhbHVlIGltcGxlbWVudHMgdGhlIGBFbGVtZW50YCBpbnRlcmZhY2UuXG4gICAqL1xuXG4gIGlzRWxlbWVudCxcbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdmFsdWUgaXMgYW4gYXJyYXkgb2YgYEVsZW1lbnRgIG9iamVjdHMuXG4gICAqL1xuXG4gIGlzRWxlbWVudExpc3QodmFsdWU6IGFueSk6IHZhbHVlIGlzIEVsZW1lbnRbXSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KHZhbCA9PiBFbGVtZW50LmlzRWxlbWVudCh2YWwpKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHNldCBvZiBwcm9wcyBpcyBhIHBhcnRpYWwgb2YgRWxlbWVudC5cbiAgICovXG5cbiAgaXNFbGVtZW50UHJvcHMocHJvcHM6IGFueSk6IHByb3BzIGlzIFBhcnRpYWw8RWxlbWVudD4ge1xuICAgIHJldHVybiAocHJvcHMgYXMgUGFydGlhbDxFbGVtZW50PikuY2hpbGRyZW4gIT09IHVuZGVmaW5lZFxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHZhbHVlIGltcGxlbWVudHMgdGhlIGBFbGVtZW50YCBpbnRlcmZhY2UgYW5kIGhhcyBlbGVtZW50S2V5IHdpdGggc2VsZWN0ZWQgdmFsdWUuXG4gICAqIERlZmF1bHQgaXQgY2hlY2sgdG8gYHR5cGVgIGtleSB2YWx1ZVxuICAgKi9cblxuICBpc0VsZW1lbnRUeXBlOiA8VCBleHRlbmRzIEVsZW1lbnQ+KFxuICAgIHZhbHVlOiBhbnksXG4gICAgZWxlbWVudFZhbDogc3RyaW5nLFxuICAgIGVsZW1lbnRLZXk6IHN0cmluZyA9ICd0eXBlJ1xuICApOiB2YWx1ZSBpcyBUID0+IHtcbiAgICByZXR1cm4gaXNFbGVtZW50KHZhbHVlKSAmJiB2YWx1ZVtlbGVtZW50S2V5XSA9PT0gZWxlbWVudFZhbFxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBlbGVtZW50IG1hdGNoZXMgc2V0IG9mIHByb3BlcnRpZXMuXG4gICAqXG4gICAqIE5vdGU6IHRoaXMgY2hlY2tzIGN1c3RvbSBwcm9wZXJ0aWVzLCBhbmQgaXQgZG9lcyBub3QgZW5zdXJlIHRoYXQgYW55XG4gICAqIGNoaWxkcmVuIGFyZSBlcXVpdmFsZW50LlxuICAgKi9cblxuICBtYXRjaGVzKGVsZW1lbnQ6IEVsZW1lbnQsIHByb3BzOiBQYXJ0aWFsPEVsZW1lbnQ+KTogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgIGlmIChrZXkgPT09ICdjaGlsZHJlbicpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnRba2V5XSAhPT0gcHJvcHNba2V5XSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9LFxufVxuXG4vKipcbiAqIGBFbGVtZW50RW50cnlgIG9iamVjdHMgcmVmZXIgdG8gYW4gYEVsZW1lbnRgIGFuZCB0aGUgYFBhdGhgIHdoZXJlIGl0IGNhbiBiZVxuICogZm91bmQgaW5zaWRlIGEgcm9vdCBub2RlLlxuICovXG5cbmV4cG9ydCB0eXBlIEVsZW1lbnRFbnRyeSA9IFtFbGVtZW50LCBQYXRoXVxuIiwiaW1wb3J0IHsgaXNQbGFpbk9iamVjdCB9IGZyb20gJ2lzLXBsYWluLW9iamVjdCdcblxuaW1wb3J0IHtcbiAgQW5jZXN0b3IsXG4gIEV4dGVuZGVkVHlwZSxcbiAgTG9jYXRpb24sXG4gIE5vZGUsXG4gIE5vZGVFbnRyeSxcbiAgT3BlcmF0aW9uLFxuICBQYXRoLFxuICBQYXRoUmVmLFxuICBQb2ludCxcbiAgUG9pbnRSZWYsXG4gIFJhbmdlLFxuICBSYW5nZVJlZixcbiAgU3BhbixcbiAgVGV4dCxcbn0gZnJvbSAnLi4nXG5pbXBvcnQge1xuICBESVJUWV9QQVRIUyxcbiAgRElSVFlfUEFUSF9LRVlTLFxuICBOT1JNQUxJWklORyxcbiAgUEFUSF9SRUZTLFxuICBQT0lOVF9SRUZTLFxuICBSQU5HRV9SRUZTLFxufSBmcm9tICcuLi91dGlscy93ZWFrLW1hcHMnXG5pbXBvcnQge1xuICBnZXRXb3JkRGlzdGFuY2UsXG4gIGdldENoYXJhY3RlckRpc3RhbmNlLFxuICBzcGxpdEJ5Q2hhcmFjdGVyRGlzdGFuY2UsXG59IGZyb20gJy4uL3V0aWxzL3N0cmluZydcbmltcG9ydCB7IERlc2NlbmRhbnQgfSBmcm9tICcuL25vZGUnXG5pbXBvcnQgeyBFbGVtZW50IH0gZnJvbSAnLi9lbGVtZW50J1xuaW1wb3J0IHtcbiAgTGVhZkVkZ2UsXG4gIFNlbGVjdGlvbk1vZGUsXG4gIFRleHREaXJlY3Rpb24sXG4gIFRleHRVbml0LFxuICBUZXh0VW5pdEFkanVzdG1lbnQsXG4gIFJhbmdlRGlyZWN0aW9uLFxuICBNYXhpbWl6ZU1vZGUsXG59IGZyb20gJy4vdHlwZXMnXG5cbmV4cG9ydCB0eXBlIEJhc2VTZWxlY3Rpb24gPSBSYW5nZSB8IG51bGxcblxuZXhwb3J0IHR5cGUgU2VsZWN0aW9uID0gRXh0ZW5kZWRUeXBlPCdTZWxlY3Rpb24nLCBCYXNlU2VsZWN0aW9uPlxuXG5leHBvcnQgdHlwZSBFZGl0b3JNYXJrcyA9IE9taXQ8VGV4dCwgJ3RleHQnPlxuXG4vKipcbiAqIFRoZSBgRWRpdG9yYCBpbnRlcmZhY2Ugc3RvcmVzIGFsbCB0aGUgc3RhdGUgb2YgYSBTbGF0ZSBlZGl0b3IuIEl0IGlzIGV4dGVuZGVkXG4gKiBieSBwbHVnaW5zIHRoYXQgd2lzaCB0byBhZGQgdGhlaXIgb3duIGhlbHBlcnMgYW5kIGltcGxlbWVudCBuZXcgYmVoYXZpb3JzLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZUVkaXRvciB7XG4gIGNoaWxkcmVuOiBEZXNjZW5kYW50W11cbiAgc2VsZWN0aW9uOiBTZWxlY3Rpb25cbiAgb3BlcmF0aW9uczogT3BlcmF0aW9uW11cbiAgbWFya3M6IEVkaXRvck1hcmtzIHwgbnVsbFxuXG4gIC8vIFNjaGVtYS1zcGVjaWZpYyBub2RlIGJlaGF2aW9ycy5cbiAgaXNJbmxpbmU6IChlbGVtZW50OiBFbGVtZW50KSA9PiBib29sZWFuXG4gIGlzVm9pZDogKGVsZW1lbnQ6IEVsZW1lbnQpID0+IGJvb2xlYW5cbiAgbm9ybWFsaXplTm9kZTogKGVudHJ5OiBOb2RlRW50cnkpID0+IHZvaWRcbiAgb25DaGFuZ2U6ICgpID0+IHZvaWRcblxuICAvLyBPdmVycmlkZWFibGUgY29yZSBhY3Rpb25zLlxuICBhZGRNYXJrOiAoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpID0+IHZvaWRcbiAgYXBwbHk6IChvcGVyYXRpb246IE9wZXJhdGlvbikgPT4gdm9pZFxuICBkZWxldGVCYWNrd2FyZDogKHVuaXQ6IFRleHRVbml0KSA9PiB2b2lkXG4gIGRlbGV0ZUZvcndhcmQ6ICh1bml0OiBUZXh0VW5pdCkgPT4gdm9pZFxuICBkZWxldGVGcmFnbWVudDogKGRpcmVjdGlvbj86IFRleHREaXJlY3Rpb24pID0+IHZvaWRcbiAgZ2V0RnJhZ21lbnQ6ICgpID0+IERlc2NlbmRhbnRbXVxuICBpbnNlcnRCcmVhazogKCkgPT4gdm9pZFxuICBpbnNlcnRTb2Z0QnJlYWs6ICgpID0+IHZvaWRcbiAgaW5zZXJ0RnJhZ21lbnQ6IChmcmFnbWVudDogTm9kZVtdKSA9PiB2b2lkXG4gIGluc2VydE5vZGU6IChub2RlOiBOb2RlKSA9PiB2b2lkXG4gIGluc2VydFRleHQ6ICh0ZXh0OiBzdHJpbmcpID0+IHZvaWRcbiAgcmVtb3ZlTWFyazogKGtleTogc3RyaW5nKSA9PiB2b2lkXG59XG5cbmV4cG9ydCB0eXBlIEVkaXRvciA9IEV4dGVuZGVkVHlwZTwnRWRpdG9yJywgQmFzZUVkaXRvcj5cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0b3JBYm92ZU9wdGlvbnM8VCBleHRlbmRzIEFuY2VzdG9yPiB7XG4gIGF0PzogTG9jYXRpb25cbiAgbWF0Y2g/OiBOb2RlTWF0Y2g8VD5cbiAgbW9kZT86IE1heGltaXplTW9kZVxuICB2b2lkcz86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0b3JBZnRlck9wdGlvbnMge1xuICBkaXN0YW5jZT86IG51bWJlclxuICB1bml0PzogVGV4dFVuaXRBZGp1c3RtZW50XG4gIHZvaWRzPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVkaXRvckJlZm9yZU9wdGlvbnMge1xuICBkaXN0YW5jZT86IG51bWJlclxuICB1bml0PzogVGV4dFVuaXRBZGp1c3RtZW50XG4gIHZvaWRzPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVkaXRvckRpcmVjdGVkRGVsZXRpb25PcHRpb25zIHtcbiAgdW5pdD86IFRleHRVbml0XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWRpdG9yRnJhZ21lbnREZWxldGlvbk9wdGlvbnMge1xuICBkaXJlY3Rpb24/OiBUZXh0RGlyZWN0aW9uXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWRpdG9yTGVhZk9wdGlvbnMge1xuICBkZXB0aD86IG51bWJlclxuICBlZGdlPzogTGVhZkVkZ2Vcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0b3JMZXZlbHNPcHRpb25zPFQgZXh0ZW5kcyBOb2RlPiB7XG4gIGF0PzogTG9jYXRpb25cbiAgbWF0Y2g/OiBOb2RlTWF0Y2g8VD5cbiAgcmV2ZXJzZT86IGJvb2xlYW5cbiAgdm9pZHM/OiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWRpdG9yTmV4dE9wdGlvbnM8VCBleHRlbmRzIERlc2NlbmRhbnQ+IHtcbiAgYXQ/OiBMb2NhdGlvblxuICBtYXRjaD86IE5vZGVNYXRjaDxUPlxuICBtb2RlPzogU2VsZWN0aW9uTW9kZVxuICB2b2lkcz86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0b3JOb2RlT3B0aW9ucyB7XG4gIGRlcHRoPzogbnVtYmVyXG4gIGVkZ2U/OiBMZWFmRWRnZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVkaXRvck5vZGVzT3B0aW9uczxUIGV4dGVuZHMgTm9kZT4ge1xuICBhdD86IExvY2F0aW9uIHwgU3BhblxuICBtYXRjaD86IE5vZGVNYXRjaDxUPlxuICBtb2RlPzogU2VsZWN0aW9uTW9kZVxuICB1bml2ZXJzYWw/OiBib29sZWFuXG4gIHJldmVyc2U/OiBib29sZWFuXG4gIHZvaWRzPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVkaXRvck5vcm1hbGl6ZU9wdGlvbnMge1xuICBmb3JjZT86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0b3JQYXJlbnRPcHRpb25zIHtcbiAgZGVwdGg/OiBudW1iZXJcbiAgZWRnZT86IExlYWZFZGdlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWRpdG9yUGF0aE9wdGlvbnMge1xuICBkZXB0aD86IG51bWJlclxuICBlZGdlPzogTGVhZkVkZ2Vcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0b3JQYXRoUmVmT3B0aW9ucyB7XG4gIGFmZmluaXR5PzogVGV4dERpcmVjdGlvbiB8IG51bGxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0b3JQb2ludE9wdGlvbnMge1xuICBlZGdlPzogTGVhZkVkZ2Vcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0b3JQb2ludFJlZk9wdGlvbnMge1xuICBhZmZpbml0eT86IFRleHREaXJlY3Rpb24gfCBudWxsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRWRpdG9yUG9zaXRpb25zT3B0aW9ucyB7XG4gIGF0PzogTG9jYXRpb25cbiAgdW5pdD86IFRleHRVbml0QWRqdXN0bWVudFxuICByZXZlcnNlPzogYm9vbGVhblxuICB2b2lkcz86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0b3JQcmV2aW91c09wdGlvbnM8VCBleHRlbmRzIE5vZGU+IHtcbiAgYXQ/OiBMb2NhdGlvblxuICBtYXRjaD86IE5vZGVNYXRjaDxUPlxuICBtb2RlPzogU2VsZWN0aW9uTW9kZVxuICB2b2lkcz86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0b3JSYW5nZVJlZk9wdGlvbnMge1xuICBhZmZpbml0eT86IFJhbmdlRGlyZWN0aW9uIHwgbnVsbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVkaXRvclN0cmluZ09wdGlvbnMge1xuICB2b2lkcz86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0b3JVbmhhbmdSYW5nZU9wdGlvbnMge1xuICB2b2lkcz86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0b3JWb2lkT3B0aW9ucyB7XG4gIGF0PzogTG9jYXRpb25cbiAgbW9kZT86IE1heGltaXplTW9kZVxuICB2b2lkcz86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBFZGl0b3JJbnRlcmZhY2Uge1xuICBhYm92ZTogPFQgZXh0ZW5kcyBBbmNlc3Rvcj4oXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgb3B0aW9ucz86IEVkaXRvckFib3ZlT3B0aW9uczxUPlxuICApID0+IE5vZGVFbnRyeTxUPiB8IHVuZGVmaW5lZFxuICBhZGRNYXJrOiAoZWRpdG9yOiBFZGl0b3IsIGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB2b2lkXG4gIGFmdGVyOiAoXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgYXQ6IExvY2F0aW9uLFxuICAgIG9wdGlvbnM/OiBFZGl0b3JBZnRlck9wdGlvbnNcbiAgKSA9PiBQb2ludCB8IHVuZGVmaW5lZFxuICBiZWZvcmU6IChcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBhdDogTG9jYXRpb24sXG4gICAgb3B0aW9ucz86IEVkaXRvckJlZm9yZU9wdGlvbnNcbiAgKSA9PiBQb2ludCB8IHVuZGVmaW5lZFxuICBkZWxldGVCYWNrd2FyZDogKFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIG9wdGlvbnM/OiBFZGl0b3JEaXJlY3RlZERlbGV0aW9uT3B0aW9uc1xuICApID0+IHZvaWRcbiAgZGVsZXRlRm9yd2FyZDogKFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIG9wdGlvbnM/OiBFZGl0b3JEaXJlY3RlZERlbGV0aW9uT3B0aW9uc1xuICApID0+IHZvaWRcbiAgZGVsZXRlRnJhZ21lbnQ6IChcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBvcHRpb25zPzogRWRpdG9yRnJhZ21lbnREZWxldGlvbk9wdGlvbnNcbiAgKSA9PiB2b2lkXG4gIGVkZ2VzOiAoZWRpdG9yOiBFZGl0b3IsIGF0OiBMb2NhdGlvbikgPT4gW1BvaW50LCBQb2ludF1cbiAgZW5kOiAoZWRpdG9yOiBFZGl0b3IsIGF0OiBMb2NhdGlvbikgPT4gUG9pbnRcbiAgZmlyc3Q6IChlZGl0b3I6IEVkaXRvciwgYXQ6IExvY2F0aW9uKSA9PiBOb2RlRW50cnlcbiAgZnJhZ21lbnQ6IChlZGl0b3I6IEVkaXRvciwgYXQ6IExvY2F0aW9uKSA9PiBEZXNjZW5kYW50W11cbiAgaGFzQmxvY2tzOiAoZWRpdG9yOiBFZGl0b3IsIGVsZW1lbnQ6IEVsZW1lbnQpID0+IGJvb2xlYW5cbiAgaGFzSW5saW5lczogKGVkaXRvcjogRWRpdG9yLCBlbGVtZW50OiBFbGVtZW50KSA9PiBib29sZWFuXG4gIGhhc1BhdGg6IChlZGl0b3I6IEVkaXRvciwgcGF0aDogUGF0aCkgPT4gYm9vbGVhblxuICBoYXNUZXh0czogKGVkaXRvcjogRWRpdG9yLCBlbGVtZW50OiBFbGVtZW50KSA9PiBib29sZWFuXG4gIGluc2VydEJyZWFrOiAoZWRpdG9yOiBFZGl0b3IpID0+IHZvaWRcbiAgaW5zZXJ0U29mdEJyZWFrOiAoZWRpdG9yOiBFZGl0b3IpID0+IHZvaWRcbiAgaW5zZXJ0RnJhZ21lbnQ6IChlZGl0b3I6IEVkaXRvciwgZnJhZ21lbnQ6IE5vZGVbXSkgPT4gdm9pZFxuICBpbnNlcnROb2RlOiAoZWRpdG9yOiBFZGl0b3IsIG5vZGU6IE5vZGUpID0+IHZvaWRcbiAgaW5zZXJ0VGV4dDogKGVkaXRvcjogRWRpdG9yLCB0ZXh0OiBzdHJpbmcpID0+IHZvaWRcbiAgaXNCbG9jazogKGVkaXRvcjogRWRpdG9yLCB2YWx1ZTogYW55KSA9PiB2YWx1ZSBpcyBFbGVtZW50XG4gIGlzRWRpdG9yOiAodmFsdWU6IGFueSkgPT4gdmFsdWUgaXMgRWRpdG9yXG4gIGlzRW5kOiAoZWRpdG9yOiBFZGl0b3IsIHBvaW50OiBQb2ludCwgYXQ6IExvY2F0aW9uKSA9PiBib29sZWFuXG4gIGlzRWRnZTogKGVkaXRvcjogRWRpdG9yLCBwb2ludDogUG9pbnQsIGF0OiBMb2NhdGlvbikgPT4gYm9vbGVhblxuICBpc0VtcHR5OiAoZWRpdG9yOiBFZGl0b3IsIGVsZW1lbnQ6IEVsZW1lbnQpID0+IGJvb2xlYW5cbiAgaXNJbmxpbmU6IChlZGl0b3I6IEVkaXRvciwgdmFsdWU6IGFueSkgPT4gdmFsdWUgaXMgRWxlbWVudFxuICBpc05vcm1hbGl6aW5nOiAoZWRpdG9yOiBFZGl0b3IpID0+IGJvb2xlYW5cbiAgaXNTdGFydDogKGVkaXRvcjogRWRpdG9yLCBwb2ludDogUG9pbnQsIGF0OiBMb2NhdGlvbikgPT4gYm9vbGVhblxuICBpc1ZvaWQ6IChlZGl0b3I6IEVkaXRvciwgdmFsdWU6IGFueSkgPT4gdmFsdWUgaXMgRWxlbWVudFxuICBsYXN0OiAoZWRpdG9yOiBFZGl0b3IsIGF0OiBMb2NhdGlvbikgPT4gTm9kZUVudHJ5XG4gIGxlYWY6IChcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBhdDogTG9jYXRpb24sXG4gICAgb3B0aW9ucz86IEVkaXRvckxlYWZPcHRpb25zXG4gICkgPT4gTm9kZUVudHJ5PFRleHQ+XG4gIGxldmVsczogPFQgZXh0ZW5kcyBOb2RlPihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBvcHRpb25zPzogRWRpdG9yTGV2ZWxzT3B0aW9uczxUPlxuICApID0+IEdlbmVyYXRvcjxOb2RlRW50cnk8VD4sIHZvaWQsIHVuZGVmaW5lZD5cbiAgbWFya3M6IChlZGl0b3I6IEVkaXRvcikgPT4gT21pdDxUZXh0LCAndGV4dCc+IHwgbnVsbFxuICBuZXh0OiA8VCBleHRlbmRzIERlc2NlbmRhbnQ+KFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIG9wdGlvbnM/OiBFZGl0b3JOZXh0T3B0aW9uczxUPlxuICApID0+IE5vZGVFbnRyeTxUPiB8IHVuZGVmaW5lZFxuICBub2RlOiAoZWRpdG9yOiBFZGl0b3IsIGF0OiBMb2NhdGlvbiwgb3B0aW9ucz86IEVkaXRvck5vZGVPcHRpb25zKSA9PiBOb2RlRW50cnlcbiAgbm9kZXM6IDxUIGV4dGVuZHMgTm9kZT4oXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgb3B0aW9ucz86IEVkaXRvck5vZGVzT3B0aW9uczxUPlxuICApID0+IEdlbmVyYXRvcjxOb2RlRW50cnk8VD4sIHZvaWQsIHVuZGVmaW5lZD5cbiAgbm9ybWFsaXplOiAoZWRpdG9yOiBFZGl0b3IsIG9wdGlvbnM/OiBFZGl0b3JOb3JtYWxpemVPcHRpb25zKSA9PiB2b2lkXG4gIHBhcmVudDogKFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIGF0OiBMb2NhdGlvbixcbiAgICBvcHRpb25zPzogRWRpdG9yUGFyZW50T3B0aW9uc1xuICApID0+IE5vZGVFbnRyeTxBbmNlc3Rvcj5cbiAgcGF0aDogKGVkaXRvcjogRWRpdG9yLCBhdDogTG9jYXRpb24sIG9wdGlvbnM/OiBFZGl0b3JQYXRoT3B0aW9ucykgPT4gUGF0aFxuICBwYXRoUmVmOiAoXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgcGF0aDogUGF0aCxcbiAgICBvcHRpb25zPzogRWRpdG9yUGF0aFJlZk9wdGlvbnNcbiAgKSA9PiBQYXRoUmVmXG4gIHBhdGhSZWZzOiAoZWRpdG9yOiBFZGl0b3IpID0+IFNldDxQYXRoUmVmPlxuICBwb2ludDogKGVkaXRvcjogRWRpdG9yLCBhdDogTG9jYXRpb24sIG9wdGlvbnM/OiBFZGl0b3JQb2ludE9wdGlvbnMpID0+IFBvaW50XG4gIHBvaW50UmVmOiAoXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgcG9pbnQ6IFBvaW50LFxuICAgIG9wdGlvbnM/OiBFZGl0b3JQb2ludFJlZk9wdGlvbnNcbiAgKSA9PiBQb2ludFJlZlxuICBwb2ludFJlZnM6IChlZGl0b3I6IEVkaXRvcikgPT4gU2V0PFBvaW50UmVmPlxuICBwb3NpdGlvbnM6IChcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBvcHRpb25zPzogRWRpdG9yUG9zaXRpb25zT3B0aW9uc1xuICApID0+IEdlbmVyYXRvcjxQb2ludCwgdm9pZCwgdW5kZWZpbmVkPlxuICBwcmV2aW91czogPFQgZXh0ZW5kcyBOb2RlPihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBvcHRpb25zPzogRWRpdG9yUHJldmlvdXNPcHRpb25zPFQ+XG4gICkgPT4gTm9kZUVudHJ5PFQ+IHwgdW5kZWZpbmVkXG4gIHJhbmdlOiAoZWRpdG9yOiBFZGl0b3IsIGF0OiBMb2NhdGlvbiwgdG8/OiBMb2NhdGlvbikgPT4gUmFuZ2VcbiAgcmFuZ2VSZWY6IChcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICByYW5nZTogUmFuZ2UsXG4gICAgb3B0aW9ucz86IEVkaXRvclJhbmdlUmVmT3B0aW9uc1xuICApID0+IFJhbmdlUmVmXG4gIHJhbmdlUmVmczogKGVkaXRvcjogRWRpdG9yKSA9PiBTZXQ8UmFuZ2VSZWY+XG4gIHJlbW92ZU1hcms6IChlZGl0b3I6IEVkaXRvciwga2V5OiBzdHJpbmcpID0+IHZvaWRcbiAgc2V0Tm9ybWFsaXppbmc6IChlZGl0b3I6IEVkaXRvciwgaXNOb3JtYWxpemluZzogYm9vbGVhbikgPT4gdm9pZFxuICBzdGFydDogKGVkaXRvcjogRWRpdG9yLCBhdDogTG9jYXRpb24pID0+IFBvaW50XG4gIHN0cmluZzogKFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIGF0OiBMb2NhdGlvbixcbiAgICBvcHRpb25zPzogRWRpdG9yU3RyaW5nT3B0aW9uc1xuICApID0+IHN0cmluZ1xuICB1bmhhbmdSYW5nZTogKFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIHJhbmdlOiBSYW5nZSxcbiAgICBvcHRpb25zPzogRWRpdG9yVW5oYW5nUmFuZ2VPcHRpb25zXG4gICkgPT4gUmFuZ2VcbiAgdm9pZDogKFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIG9wdGlvbnM/OiBFZGl0b3JWb2lkT3B0aW9uc1xuICApID0+IE5vZGVFbnRyeTxFbGVtZW50PiB8IHVuZGVmaW5lZFxuICB3aXRob3V0Tm9ybWFsaXppbmc6IChlZGl0b3I6IEVkaXRvciwgZm46ICgpID0+IHZvaWQpID0+IHZvaWRcbn1cblxuY29uc3QgSVNfRURJVE9SX0NBQ0hFID0gbmV3IFdlYWtNYXA8b2JqZWN0LCBib29sZWFuPigpXG5cbmV4cG9ydCBjb25zdCBFZGl0b3I6IEVkaXRvckludGVyZmFjZSA9IHtcbiAgLyoqXG4gICAqIEdldCB0aGUgYW5jZXN0b3IgYWJvdmUgYSBsb2NhdGlvbiBpbiB0aGUgZG9jdW1lbnQuXG4gICAqL1xuXG4gIGFib3ZlPFQgZXh0ZW5kcyBBbmNlc3Rvcj4oXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgb3B0aW9uczogRWRpdG9yQWJvdmVPcHRpb25zPFQ+ID0ge31cbiAgKTogTm9kZUVudHJ5PFQ+IHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCB7XG4gICAgICB2b2lkcyA9IGZhbHNlLFxuICAgICAgbW9kZSA9ICdsb3dlc3QnLFxuICAgICAgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uLFxuICAgICAgbWF0Y2gsXG4gICAgfSA9IG9wdGlvbnNcblxuICAgIGlmICghYXQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHBhdGggPSBFZGl0b3IucGF0aChlZGl0b3IsIGF0KVxuICAgIGNvbnN0IHJldmVyc2UgPSBtb2RlID09PSAnbG93ZXN0J1xuXG4gICAgZm9yIChjb25zdCBbbiwgcF0gb2YgRWRpdG9yLmxldmVscyhlZGl0b3IsIHtcbiAgICAgIGF0OiBwYXRoLFxuICAgICAgdm9pZHMsXG4gICAgICBtYXRjaCxcbiAgICAgIHJldmVyc2UsXG4gICAgfSkpIHtcbiAgICAgIGlmICghVGV4dC5pc1RleHQobikgJiYgIVBhdGguZXF1YWxzKHBhdGgsIHApKSB7XG4gICAgICAgIHJldHVybiBbbiwgcF1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFkZCBhIGN1c3RvbSBwcm9wZXJ0eSB0byB0aGUgbGVhZiB0ZXh0IG5vZGVzIGluIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICpcbiAgICogSWYgdGhlIHNlbGVjdGlvbiBpcyBjdXJyZW50bHkgY29sbGFwc2VkLCB0aGUgbWFya3Mgd2lsbCBiZSBhZGRlZCB0byB0aGVcbiAgICogYGVkaXRvci5tYXJrc2AgcHJvcGVydHkgaW5zdGVhZCwgYW5kIGFwcGxpZWQgd2hlbiB0ZXh0IGlzIGluc2VydGVkIG5leHQuXG4gICAqL1xuXG4gIGFkZE1hcmsoZWRpdG9yOiBFZGl0b3IsIGtleTogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZCB7XG4gICAgZWRpdG9yLmFkZE1hcmsoa2V5LCB2YWx1ZSlcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBwb2ludCBhZnRlciBhIGxvY2F0aW9uLlxuICAgKi9cblxuICBhZnRlcihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBhdDogTG9jYXRpb24sXG4gICAgb3B0aW9uczogRWRpdG9yQWZ0ZXJPcHRpb25zID0ge31cbiAgKTogUG9pbnQgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IGFuY2hvciA9IEVkaXRvci5wb2ludChlZGl0b3IsIGF0LCB7IGVkZ2U6ICdlbmQnIH0pXG4gICAgY29uc3QgZm9jdXMgPSBFZGl0b3IuZW5kKGVkaXRvciwgW10pXG4gICAgY29uc3QgcmFuZ2UgPSB7IGFuY2hvciwgZm9jdXMgfVxuICAgIGNvbnN0IHsgZGlzdGFuY2UgPSAxIH0gPSBvcHRpb25zXG4gICAgbGV0IGQgPSAwXG4gICAgbGV0IHRhcmdldFxuXG4gICAgZm9yIChjb25zdCBwIG9mIEVkaXRvci5wb3NpdGlvbnMoZWRpdG9yLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgYXQ6IHJhbmdlLFxuICAgIH0pKSB7XG4gICAgICBpZiAoZCA+IGRpc3RhbmNlKSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGlmIChkICE9PSAwKSB7XG4gICAgICAgIHRhcmdldCA9IHBcbiAgICAgIH1cblxuICAgICAgZCsrXG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldFxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHBvaW50IGJlZm9yZSBhIGxvY2F0aW9uLlxuICAgKi9cblxuICBiZWZvcmUoXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgYXQ6IExvY2F0aW9uLFxuICAgIG9wdGlvbnM6IEVkaXRvckJlZm9yZU9wdGlvbnMgPSB7fVxuICApOiBQb2ludCB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgYW5jaG9yID0gRWRpdG9yLnN0YXJ0KGVkaXRvciwgW10pXG4gICAgY29uc3QgZm9jdXMgPSBFZGl0b3IucG9pbnQoZWRpdG9yLCBhdCwgeyBlZGdlOiAnc3RhcnQnIH0pXG4gICAgY29uc3QgcmFuZ2UgPSB7IGFuY2hvciwgZm9jdXMgfVxuICAgIGNvbnN0IHsgZGlzdGFuY2UgPSAxIH0gPSBvcHRpb25zXG4gICAgbGV0IGQgPSAwXG4gICAgbGV0IHRhcmdldFxuXG4gICAgZm9yIChjb25zdCBwIG9mIEVkaXRvci5wb3NpdGlvbnMoZWRpdG9yLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgYXQ6IHJhbmdlLFxuICAgICAgcmV2ZXJzZTogdHJ1ZSxcbiAgICB9KSkge1xuICAgICAgaWYgKGQgPiBkaXN0YW5jZSkge1xuICAgICAgICBicmVha1xuICAgICAgfVxuXG4gICAgICBpZiAoZCAhPT0gMCkge1xuICAgICAgICB0YXJnZXQgPSBwXG4gICAgICB9XG5cbiAgICAgIGQrK1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXRcbiAgfSxcblxuICAvKipcbiAgICogRGVsZXRlIGNvbnRlbnQgaW4gdGhlIGVkaXRvciBiYWNrd2FyZCBmcm9tIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICovXG5cbiAgZGVsZXRlQmFja3dhcmQoXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgb3B0aW9uczogRWRpdG9yRGlyZWN0ZWREZWxldGlvbk9wdGlvbnMgPSB7fVxuICApOiB2b2lkIHtcbiAgICBjb25zdCB7IHVuaXQgPSAnY2hhcmFjdGVyJyB9ID0gb3B0aW9uc1xuICAgIGVkaXRvci5kZWxldGVCYWNrd2FyZCh1bml0KVxuICB9LFxuXG4gIC8qKlxuICAgKiBEZWxldGUgY29udGVudCBpbiB0aGUgZWRpdG9yIGZvcndhcmQgZnJvbSB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAqL1xuXG4gIGRlbGV0ZUZvcndhcmQoXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgb3B0aW9uczogRWRpdG9yRGlyZWN0ZWREZWxldGlvbk9wdGlvbnMgPSB7fVxuICApOiB2b2lkIHtcbiAgICBjb25zdCB7IHVuaXQgPSAnY2hhcmFjdGVyJyB9ID0gb3B0aW9uc1xuICAgIGVkaXRvci5kZWxldGVGb3J3YXJkKHVuaXQpXG4gIH0sXG5cbiAgLyoqXG4gICAqIERlbGV0ZSB0aGUgY29udGVudCBpbiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAqL1xuXG4gIGRlbGV0ZUZyYWdtZW50KFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIG9wdGlvbnM6IEVkaXRvckZyYWdtZW50RGVsZXRpb25PcHRpb25zID0ge31cbiAgKTogdm9pZCB7XG4gICAgY29uc3QgeyBkaXJlY3Rpb24gPSAnZm9yd2FyZCcgfSA9IG9wdGlvbnNcbiAgICBlZGl0b3IuZGVsZXRlRnJhZ21lbnQoZGlyZWN0aW9uKVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0YXJ0IGFuZCBlbmQgcG9pbnRzIG9mIGEgbG9jYXRpb24uXG4gICAqL1xuXG4gIGVkZ2VzKGVkaXRvcjogRWRpdG9yLCBhdDogTG9jYXRpb24pOiBbUG9pbnQsIFBvaW50XSB7XG4gICAgcmV0dXJuIFtFZGl0b3Iuc3RhcnQoZWRpdG9yLCBhdCksIEVkaXRvci5lbmQoZWRpdG9yLCBhdCldXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZW5kIHBvaW50IG9mIGEgbG9jYXRpb24uXG4gICAqL1xuXG4gIGVuZChlZGl0b3I6IEVkaXRvciwgYXQ6IExvY2F0aW9uKTogUG9pbnQge1xuICAgIHJldHVybiBFZGl0b3IucG9pbnQoZWRpdG9yLCBhdCwgeyBlZGdlOiAnZW5kJyB9KVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZpcnN0IG5vZGUgYXQgYSBsb2NhdGlvbi5cbiAgICovXG5cbiAgZmlyc3QoZWRpdG9yOiBFZGl0b3IsIGF0OiBMb2NhdGlvbik6IE5vZGVFbnRyeSB7XG4gICAgY29uc3QgcGF0aCA9IEVkaXRvci5wYXRoKGVkaXRvciwgYXQsIHsgZWRnZTogJ3N0YXJ0JyB9KVxuICAgIHJldHVybiBFZGl0b3Iubm9kZShlZGl0b3IsIHBhdGgpXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZnJhZ21lbnQgYXQgYSBsb2NhdGlvbi5cbiAgICovXG5cbiAgZnJhZ21lbnQoZWRpdG9yOiBFZGl0b3IsIGF0OiBMb2NhdGlvbik6IERlc2NlbmRhbnRbXSB7XG4gICAgY29uc3QgcmFuZ2UgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCBhdClcbiAgICBjb25zdCBmcmFnbWVudCA9IE5vZGUuZnJhZ21lbnQoZWRpdG9yLCByYW5nZSlcbiAgICByZXR1cm4gZnJhZ21lbnRcbiAgfSxcbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgbm9kZSBoYXMgYmxvY2sgY2hpbGRyZW4uXG4gICAqL1xuXG4gIGhhc0Jsb2NrcyhlZGl0b3I6IEVkaXRvciwgZWxlbWVudDogRWxlbWVudCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBlbGVtZW50LmNoaWxkcmVuLnNvbWUobiA9PiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIG5vZGUgaGFzIGlubGluZSBhbmQgdGV4dCBjaGlsZHJlbi5cbiAgICovXG5cbiAgaGFzSW5saW5lcyhlZGl0b3I6IEVkaXRvciwgZWxlbWVudDogRWxlbWVudCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBlbGVtZW50LmNoaWxkcmVuLnNvbWUoXG4gICAgICBuID0+IFRleHQuaXNUZXh0KG4pIHx8IEVkaXRvci5pc0lubGluZShlZGl0b3IsIG4pXG4gICAgKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIG5vZGUgaGFzIHRleHQgY2hpbGRyZW4uXG4gICAqL1xuXG4gIGhhc1RleHRzKGVkaXRvcjogRWRpdG9yLCBlbGVtZW50OiBFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGVsZW1lbnQuY2hpbGRyZW4uZXZlcnkobiA9PiBUZXh0LmlzVGV4dChuKSlcbiAgfSxcblxuICAvKipcbiAgICogSW5zZXJ0IGEgYmxvY2sgYnJlYWsgYXQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgKlxuICAgKiBJZiB0aGUgc2VsZWN0aW9uIGlzIGN1cnJlbnRseSBleHBhbmRlZCwgaXQgd2lsbCBiZSBkZWxldGVkIGZpcnN0LlxuICAgKi9cblxuICBpbnNlcnRCcmVhayhlZGl0b3I6IEVkaXRvcik6IHZvaWQge1xuICAgIGVkaXRvci5pbnNlcnRCcmVhaygpXG4gIH0sXG5cbiAgLyoqXG4gICAqIEluc2VydCBhIHNvZnQgYnJlYWsgYXQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgKlxuICAgKiBJZiB0aGUgc2VsZWN0aW9uIGlzIGN1cnJlbnRseSBleHBhbmRlZCwgaXQgd2lsbCBiZSBkZWxldGVkIGZpcnN0LlxuICAgKi9cblxuICBpbnNlcnRTb2Z0QnJlYWsoZWRpdG9yOiBFZGl0b3IpOiB2b2lkIHtcbiAgICBlZGl0b3IuaW5zZXJ0U29mdEJyZWFrKClcbiAgfSxcblxuICAvKipcbiAgICogSW5zZXJ0IGEgZnJhZ21lbnQgYXQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgKlxuICAgKiBJZiB0aGUgc2VsZWN0aW9uIGlzIGN1cnJlbnRseSBleHBhbmRlZCwgaXQgd2lsbCBiZSBkZWxldGVkIGZpcnN0LlxuICAgKi9cblxuICBpbnNlcnRGcmFnbWVudChlZGl0b3I6IEVkaXRvciwgZnJhZ21lbnQ6IE5vZGVbXSk6IHZvaWQge1xuICAgIGVkaXRvci5pbnNlcnRGcmFnbWVudChmcmFnbWVudClcbiAgfSxcblxuICAvKipcbiAgICogSW5zZXJ0IGEgbm9kZSBhdCB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAqXG4gICAqIElmIHRoZSBzZWxlY3Rpb24gaXMgY3VycmVudGx5IGV4cGFuZGVkLCBpdCB3aWxsIGJlIGRlbGV0ZWQgZmlyc3QuXG4gICAqL1xuXG4gIGluc2VydE5vZGUoZWRpdG9yOiBFZGl0b3IsIG5vZGU6IE5vZGUpOiB2b2lkIHtcbiAgICBlZGl0b3IuaW5zZXJ0Tm9kZShub2RlKVxuICB9LFxuXG4gIC8qKlxuICAgKiBJbnNlcnQgdGV4dCBhdCB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAqXG4gICAqIElmIHRoZSBzZWxlY3Rpb24gaXMgY3VycmVudGx5IGV4cGFuZGVkLCBpdCB3aWxsIGJlIGRlbGV0ZWQgZmlyc3QuXG4gICAqL1xuXG4gIGluc2VydFRleHQoZWRpdG9yOiBFZGl0b3IsIHRleHQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGVkaXRvci5pbnNlcnRUZXh0KHRleHQpXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdmFsdWUgaXMgYSBibG9jayBgRWxlbWVudGAgb2JqZWN0LlxuICAgKi9cblxuICBpc0Jsb2NrKGVkaXRvcjogRWRpdG9yLCB2YWx1ZTogYW55KTogdmFsdWUgaXMgRWxlbWVudCB7XG4gICAgcmV0dXJuIEVsZW1lbnQuaXNFbGVtZW50KHZhbHVlKSAmJiAhZWRpdG9yLmlzSW5saW5lKHZhbHVlKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHZhbHVlIGlzIGFuIGBFZGl0b3JgIG9iamVjdC5cbiAgICovXG5cbiAgaXNFZGl0b3IodmFsdWU6IGFueSk6IHZhbHVlIGlzIEVkaXRvciB7XG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KHZhbHVlKSkgcmV0dXJuIGZhbHNlXG4gICAgY29uc3QgY2FjaGVkSXNFZGl0b3IgPSBJU19FRElUT1JfQ0FDSEUuZ2V0KHZhbHVlKVxuICAgIGlmIChjYWNoZWRJc0VkaXRvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gY2FjaGVkSXNFZGl0b3JcbiAgICB9XG4gICAgY29uc3QgaXNFZGl0b3IgPVxuICAgICAgdHlwZW9mIHZhbHVlLmFkZE1hcmsgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZS5hcHBseSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdHlwZW9mIHZhbHVlLmRlbGV0ZUJhY2t3YXJkID09PSAnZnVuY3Rpb24nICYmXG4gICAgICB0eXBlb2YgdmFsdWUuZGVsZXRlRm9yd2FyZCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdHlwZW9mIHZhbHVlLmRlbGV0ZUZyYWdtZW50ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICB0eXBlb2YgdmFsdWUuaW5zZXJ0QnJlYWsgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZS5pbnNlcnRTb2Z0QnJlYWsgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZS5pbnNlcnRGcmFnbWVudCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdHlwZW9mIHZhbHVlLmluc2VydE5vZGUgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZS5pbnNlcnRUZXh0ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICB0eXBlb2YgdmFsdWUuaXNJbmxpbmUgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZS5pc1ZvaWQgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZS5ub3JtYWxpemVOb2RlID09PSAnZnVuY3Rpb24nICYmXG4gICAgICB0eXBlb2YgdmFsdWUub25DaGFuZ2UgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZS5yZW1vdmVNYXJrID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAodmFsdWUubWFya3MgPT09IG51bGwgfHwgaXNQbGFpbk9iamVjdCh2YWx1ZS5tYXJrcykpICYmXG4gICAgICAodmFsdWUuc2VsZWN0aW9uID09PSBudWxsIHx8IFJhbmdlLmlzUmFuZ2UodmFsdWUuc2VsZWN0aW9uKSkgJiZcbiAgICAgIE5vZGUuaXNOb2RlTGlzdCh2YWx1ZS5jaGlsZHJlbikgJiZcbiAgICAgIE9wZXJhdGlvbi5pc09wZXJhdGlvbkxpc3QodmFsdWUub3BlcmF0aW9ucylcbiAgICBJU19FRElUT1JfQ0FDSEUuc2V0KHZhbHVlLCBpc0VkaXRvcilcbiAgICByZXR1cm4gaXNFZGl0b3JcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBwb2ludCBpcyB0aGUgZW5kIHBvaW50IG9mIGEgbG9jYXRpb24uXG4gICAqL1xuXG4gIGlzRW5kKGVkaXRvcjogRWRpdG9yLCBwb2ludDogUG9pbnQsIGF0OiBMb2NhdGlvbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVuZCA9IEVkaXRvci5lbmQoZWRpdG9yLCBhdClcbiAgICByZXR1cm4gUG9pbnQuZXF1YWxzKHBvaW50LCBlbmQpXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcG9pbnQgaXMgYW4gZWRnZSBvZiBhIGxvY2F0aW9uLlxuICAgKi9cblxuICBpc0VkZ2UoZWRpdG9yOiBFZGl0b3IsIHBvaW50OiBQb2ludCwgYXQ6IExvY2F0aW9uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIEVkaXRvci5pc1N0YXJ0KGVkaXRvciwgcG9pbnQsIGF0KSB8fCBFZGl0b3IuaXNFbmQoZWRpdG9yLCBwb2ludCwgYXQpXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIGVsZW1lbnQgaXMgZW1wdHksIGFjY291bnRpbmcgZm9yIHZvaWQgbm9kZXMuXG4gICAqL1xuXG4gIGlzRW1wdHkoZWRpdG9yOiBFZGl0b3IsIGVsZW1lbnQ6IEVsZW1lbnQpOiBib29sZWFuIHtcbiAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSBlbGVtZW50XG4gICAgY29uc3QgW2ZpcnN0XSA9IGNoaWxkcmVuXG4gICAgcmV0dXJuIChcbiAgICAgIGNoaWxkcmVuLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICBUZXh0LmlzVGV4dChmaXJzdCkgJiZcbiAgICAgICAgZmlyc3QudGV4dCA9PT0gJycgJiZcbiAgICAgICAgIWVkaXRvci5pc1ZvaWQoZWxlbWVudCkpXG4gICAgKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHZhbHVlIGlzIGFuIGlubGluZSBgRWxlbWVudGAgb2JqZWN0LlxuICAgKi9cblxuICBpc0lubGluZShlZGl0b3I6IEVkaXRvciwgdmFsdWU6IGFueSk6IHZhbHVlIGlzIEVsZW1lbnQge1xuICAgIHJldHVybiBFbGVtZW50LmlzRWxlbWVudCh2YWx1ZSkgJiYgZWRpdG9yLmlzSW5saW5lKHZhbHVlKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZWRpdG9yIGlzIGN1cnJlbnRseSBub3JtYWxpemluZyBhZnRlciBlYWNoIG9wZXJhdGlvbi5cbiAgICovXG5cbiAgaXNOb3JtYWxpemluZyhlZGl0b3I6IEVkaXRvcik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGlzTm9ybWFsaXppbmcgPSBOT1JNQUxJWklORy5nZXQoZWRpdG9yKVxuICAgIHJldHVybiBpc05vcm1hbGl6aW5nID09PSB1bmRlZmluZWQgPyB0cnVlIDogaXNOb3JtYWxpemluZ1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHBvaW50IGlzIHRoZSBzdGFydCBwb2ludCBvZiBhIGxvY2F0aW9uLlxuICAgKi9cblxuICBpc1N0YXJ0KGVkaXRvcjogRWRpdG9yLCBwb2ludDogUG9pbnQsIGF0OiBMb2NhdGlvbik6IGJvb2xlYW4ge1xuICAgIC8vIFBFUkY6IElmIHRoZSBvZmZzZXQgaXNuJ3QgYDBgIHdlIGtub3cgaXQncyBub3QgdGhlIHN0YXJ0LlxuICAgIGlmIChwb2ludC5vZmZzZXQgIT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IHN0YXJ0ID0gRWRpdG9yLnN0YXJ0KGVkaXRvciwgYXQpXG4gICAgcmV0dXJuIFBvaW50LmVxdWFscyhwb2ludCwgc3RhcnQpXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdmFsdWUgaXMgYSB2b2lkIGBFbGVtZW50YCBvYmplY3QuXG4gICAqL1xuXG4gIGlzVm9pZChlZGl0b3I6IEVkaXRvciwgdmFsdWU6IGFueSk6IHZhbHVlIGlzIEVsZW1lbnQge1xuICAgIHJldHVybiBFbGVtZW50LmlzRWxlbWVudCh2YWx1ZSkgJiYgZWRpdG9yLmlzVm9pZCh2YWx1ZSlcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBsYXN0IG5vZGUgYXQgYSBsb2NhdGlvbi5cbiAgICovXG5cbiAgbGFzdChlZGl0b3I6IEVkaXRvciwgYXQ6IExvY2F0aW9uKTogTm9kZUVudHJ5IHtcbiAgICBjb25zdCBwYXRoID0gRWRpdG9yLnBhdGgoZWRpdG9yLCBhdCwgeyBlZGdlOiAnZW5kJyB9KVxuICAgIHJldHVybiBFZGl0b3Iubm9kZShlZGl0b3IsIHBhdGgpXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbGVhZiB0ZXh0IG5vZGUgYXQgYSBsb2NhdGlvbi5cbiAgICovXG5cbiAgbGVhZihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBhdDogTG9jYXRpb24sXG4gICAgb3B0aW9uczogRWRpdG9yTGVhZk9wdGlvbnMgPSB7fVxuICApOiBOb2RlRW50cnk8VGV4dD4ge1xuICAgIGNvbnN0IHBhdGggPSBFZGl0b3IucGF0aChlZGl0b3IsIGF0LCBvcHRpb25zKVxuICAgIGNvbnN0IG5vZGUgPSBOb2RlLmxlYWYoZWRpdG9yLCBwYXRoKVxuICAgIHJldHVybiBbbm9kZSwgcGF0aF1cbiAgfSxcblxuICAvKipcbiAgICogSXRlcmF0ZSB0aHJvdWdoIGFsbCBvZiB0aGUgbGV2ZWxzIGF0IGEgbG9jYXRpb24uXG4gICAqL1xuXG4gICpsZXZlbHM8VCBleHRlbmRzIE5vZGU+KFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIG9wdGlvbnM6IEVkaXRvckxldmVsc09wdGlvbnM8VD4gPSB7fVxuICApOiBHZW5lcmF0b3I8Tm9kZUVudHJ5PFQ+LCB2b2lkLCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCB7IGF0ID0gZWRpdG9yLnNlbGVjdGlvbiwgcmV2ZXJzZSA9IGZhbHNlLCB2b2lkcyA9IGZhbHNlIH0gPSBvcHRpb25zXG4gICAgbGV0IHsgbWF0Y2ggfSA9IG9wdGlvbnNcblxuICAgIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgICBtYXRjaCA9ICgpID0+IHRydWVcbiAgICB9XG5cbiAgICBpZiAoIWF0KSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBsZXZlbHM6IE5vZGVFbnRyeTxUPltdID0gW11cbiAgICBjb25zdCBwYXRoID0gRWRpdG9yLnBhdGgoZWRpdG9yLCBhdClcblxuICAgIGZvciAoY29uc3QgW24sIHBdIG9mIE5vZGUubGV2ZWxzKGVkaXRvciwgcGF0aCkpIHtcbiAgICAgIGlmICghbWF0Y2gobiwgcCkpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgbGV2ZWxzLnB1c2goW24sIHBdKVxuXG4gICAgICBpZiAoIXZvaWRzICYmIEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBuKSkge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICBsZXZlbHMucmV2ZXJzZSgpXG4gICAgfVxuXG4gICAgeWllbGQqIGxldmVsc1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1hcmtzIHRoYXQgd291bGQgYmUgYWRkZWQgdG8gdGV4dCBhdCB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAqL1xuXG4gIG1hcmtzKGVkaXRvcjogRWRpdG9yKTogT21pdDxUZXh0LCAndGV4dCc+IHwgbnVsbCB7XG4gICAgY29uc3QgeyBtYXJrcywgc2VsZWN0aW9uIH0gPSBlZGl0b3JcblxuICAgIGlmICghc2VsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGlmIChtYXJrcykge1xuICAgICAgcmV0dXJuIG1hcmtzXG4gICAgfVxuXG4gICAgaWYgKFJhbmdlLmlzRXhwYW5kZWQoc2VsZWN0aW9uKSkge1xuICAgICAgY29uc3QgW21hdGNoXSA9IEVkaXRvci5ub2RlcyhlZGl0b3IsIHsgbWF0Y2g6IFRleHQuaXNUZXh0IH0pXG5cbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICBjb25zdCBbbm9kZV0gPSBtYXRjaCBhcyBOb2RlRW50cnk8VGV4dD5cbiAgICAgICAgY29uc3QgeyB0ZXh0LCAuLi5yZXN0IH0gPSBub2RlXG4gICAgICAgIHJldHVybiByZXN0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge31cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB7IGFuY2hvciB9ID0gc2VsZWN0aW9uXG4gICAgY29uc3QgeyBwYXRoIH0gPSBhbmNob3JcbiAgICBsZXQgW25vZGVdID0gRWRpdG9yLmxlYWYoZWRpdG9yLCBwYXRoKVxuXG4gICAgaWYgKGFuY2hvci5vZmZzZXQgPT09IDApIHtcbiAgICAgIGNvbnN0IHByZXYgPSBFZGl0b3IucHJldmlvdXMoZWRpdG9yLCB7IGF0OiBwYXRoLCBtYXRjaDogVGV4dC5pc1RleHQgfSlcbiAgICAgIGNvbnN0IGJsb2NrID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgICBtYXRjaDogbiA9PiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pLFxuICAgICAgfSlcblxuICAgICAgaWYgKHByZXYgJiYgYmxvY2spIHtcbiAgICAgICAgY29uc3QgW3ByZXZOb2RlLCBwcmV2UGF0aF0gPSBwcmV2XG4gICAgICAgIGNvbnN0IFssIGJsb2NrUGF0aF0gPSBibG9ja1xuXG4gICAgICAgIGlmIChQYXRoLmlzQW5jZXN0b3IoYmxvY2tQYXRoLCBwcmV2UGF0aCkpIHtcbiAgICAgICAgICBub2RlID0gcHJldk5vZGUgYXMgVGV4dFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyB0ZXh0LCAuLi5yZXN0IH0gPSBub2RlXG4gICAgcmV0dXJuIHJlc3RcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBtYXRjaGluZyBub2RlIGluIHRoZSBicmFuY2ggb2YgdGhlIGRvY3VtZW50IGFmdGVyIGEgbG9jYXRpb24uXG4gICAqL1xuXG4gIG5leHQ8VCBleHRlbmRzIERlc2NlbmRhbnQ+KFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIG9wdGlvbnM6IEVkaXRvck5leHRPcHRpb25zPFQ+ID0ge31cbiAgKTogTm9kZUVudHJ5PFQ+IHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCB7IG1vZGUgPSAnbG93ZXN0Jywgdm9pZHMgPSBmYWxzZSB9ID0gb3B0aW9uc1xuICAgIGxldCB7IG1hdGNoLCBhdCA9IGVkaXRvci5zZWxlY3Rpb24gfSA9IG9wdGlvbnNcblxuICAgIGlmICghYXQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHBvaW50QWZ0ZXJMb2NhdGlvbiA9IEVkaXRvci5hZnRlcihlZGl0b3IsIGF0LCB7IHZvaWRzIH0pXG5cbiAgICBpZiAoIXBvaW50QWZ0ZXJMb2NhdGlvbikgcmV0dXJuXG5cbiAgICBjb25zdCBbLCB0b10gPSBFZGl0b3IubGFzdChlZGl0b3IsIFtdKVxuXG4gICAgY29uc3Qgc3BhbjogU3BhbiA9IFtwb2ludEFmdGVyTG9jYXRpb24ucGF0aCwgdG9dXG5cbiAgICBpZiAoUGF0aC5pc1BhdGgoYXQpICYmIGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZ2V0IHRoZSBuZXh0IG5vZGUgZnJvbSB0aGUgcm9vdCBub2RlIWApXG4gICAgfVxuXG4gICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICAgICAgY29uc3QgW3BhcmVudF0gPSBFZGl0b3IucGFyZW50KGVkaXRvciwgYXQpXG4gICAgICAgIG1hdGNoID0gbiA9PiBwYXJlbnQuY2hpbGRyZW4uaW5jbHVkZXMobilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoID0gKCkgPT4gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IFtuZXh0XSA9IEVkaXRvci5ub2RlcyhlZGl0b3IsIHsgYXQ6IHNwYW4sIG1hdGNoLCBtb2RlLCB2b2lkcyB9KVxuICAgIHJldHVybiBuZXh0XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbm9kZSBhdCBhIGxvY2F0aW9uLlxuICAgKi9cblxuICBub2RlKFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIGF0OiBMb2NhdGlvbixcbiAgICBvcHRpb25zOiBFZGl0b3JOb2RlT3B0aW9ucyA9IHt9XG4gICk6IE5vZGVFbnRyeSB7XG4gICAgY29uc3QgcGF0aCA9IEVkaXRvci5wYXRoKGVkaXRvciwgYXQsIG9wdGlvbnMpXG4gICAgY29uc3Qgbm9kZSA9IE5vZGUuZ2V0KGVkaXRvciwgcGF0aClcbiAgICByZXR1cm4gW25vZGUsIHBhdGhdXG4gIH0sXG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgdGhyb3VnaCBhbGwgb2YgdGhlIG5vZGVzIGluIHRoZSBFZGl0b3IuXG4gICAqL1xuXG4gICpub2RlczxUIGV4dGVuZHMgTm9kZT4oXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgb3B0aW9uczogRWRpdG9yTm9kZXNPcHRpb25zPFQ+ID0ge31cbiAgKTogR2VuZXJhdG9yPE5vZGVFbnRyeTxUPiwgdm9pZCwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3Qge1xuICAgICAgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uLFxuICAgICAgbW9kZSA9ICdhbGwnLFxuICAgICAgdW5pdmVyc2FsID0gZmFsc2UsXG4gICAgICByZXZlcnNlID0gZmFsc2UsXG4gICAgICB2b2lkcyA9IGZhbHNlLFxuICAgIH0gPSBvcHRpb25zXG4gICAgbGV0IHsgbWF0Y2ggfSA9IG9wdGlvbnNcblxuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIG1hdGNoID0gKCkgPT4gdHJ1ZVxuICAgIH1cblxuICAgIGlmICghYXQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGxldCBmcm9tXG4gICAgbGV0IHRvXG5cbiAgICBpZiAoU3Bhbi5pc1NwYW4oYXQpKSB7XG4gICAgICBmcm9tID0gYXRbMF1cbiAgICAgIHRvID0gYXRbMV1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZmlyc3QgPSBFZGl0b3IucGF0aChlZGl0b3IsIGF0LCB7IGVkZ2U6ICdzdGFydCcgfSlcbiAgICAgIGNvbnN0IGxhc3QgPSBFZGl0b3IucGF0aChlZGl0b3IsIGF0LCB7IGVkZ2U6ICdlbmQnIH0pXG4gICAgICBmcm9tID0gcmV2ZXJzZSA/IGxhc3QgOiBmaXJzdFxuICAgICAgdG8gPSByZXZlcnNlID8gZmlyc3QgOiBsYXN0XG4gICAgfVxuXG4gICAgY29uc3Qgbm9kZUVudHJpZXMgPSBOb2RlLm5vZGVzKGVkaXRvciwge1xuICAgICAgcmV2ZXJzZSxcbiAgICAgIGZyb20sXG4gICAgICB0byxcbiAgICAgIHBhc3M6IChbbl0pID0+ICh2b2lkcyA/IGZhbHNlIDogRWRpdG9yLmlzVm9pZChlZGl0b3IsIG4pKSxcbiAgICB9KVxuXG4gICAgY29uc3QgbWF0Y2hlczogTm9kZUVudHJ5PFQ+W10gPSBbXVxuICAgIGxldCBoaXQ6IE5vZGVFbnRyeTxUPiB8IHVuZGVmaW5lZFxuXG4gICAgZm9yIChjb25zdCBbbm9kZSwgcGF0aF0gb2Ygbm9kZUVudHJpZXMpIHtcbiAgICAgIGNvbnN0IGlzTG93ZXIgPSBoaXQgJiYgUGF0aC5jb21wYXJlKHBhdGgsIGhpdFsxXSkgPT09IDBcblxuICAgICAgLy8gSW4gaGlnaGVzdCBtb2RlIGFueSBub2RlIGxvd2VyIHRoYW4gdGhlIGxhc3QgaGl0IGlzIG5vdCBhIG1hdGNoLlxuICAgICAgaWYgKG1vZGUgPT09ICdoaWdoZXN0JyAmJiBpc0xvd2VyKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmICghbWF0Y2gobm9kZSwgcGF0aCkpIHtcbiAgICAgICAgLy8gSWYgd2UndmUgYXJyaXZlZCBhdCBhIGxlYWYgdGV4dCBub2RlIHRoYXQgaXMgbm90IGxvd2VyIHRoYW4gdGhlIGxhc3RcbiAgICAgICAgLy8gaGl0LCB0aGVuIHdlJ3ZlIGZvdW5kIGEgYnJhbmNoIHRoYXQgZG9lc24ndCBpbmNsdWRlIGEgbWF0Y2gsIHdoaWNoXG4gICAgICAgIC8vIG1lYW5zIHRoZSBtYXRjaCBpcyBub3QgdW5pdmVyc2FsLlxuICAgICAgICBpZiAodW5pdmVyc2FsICYmICFpc0xvd2VyICYmIFRleHQuaXNUZXh0KG5vZGUpKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGVyZSdzIGEgbWF0Y2ggYW5kIGl0J3MgbG93ZXIgdGhhbiB0aGUgbGFzdCwgdXBkYXRlIHRoZSBoaXQuXG4gICAgICBpZiAobW9kZSA9PT0gJ2xvd2VzdCcgJiYgaXNMb3dlcikge1xuICAgICAgICBoaXQgPSBbbm9kZSwgcGF0aF1cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gSW4gbG93ZXN0IG1vZGUgd2UgZW1pdCB0aGUgbGFzdCBoaXQsIG9uY2UgaXQncyBndWFyYW50ZWVkIGxvd2VzdC5cbiAgICAgIGNvbnN0IGVtaXQ6IE5vZGVFbnRyeTxUPiB8IHVuZGVmaW5lZCA9XG4gICAgICAgIG1vZGUgPT09ICdsb3dlc3QnID8gaGl0IDogW25vZGUsIHBhdGhdXG5cbiAgICAgIGlmIChlbWl0KSB7XG4gICAgICAgIGlmICh1bml2ZXJzYWwpIHtcbiAgICAgICAgICBtYXRjaGVzLnB1c2goZW1pdClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB5aWVsZCBlbWl0XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaGl0ID0gW25vZGUsIHBhdGhdXG4gICAgfVxuXG4gICAgLy8gU2luY2UgbG93ZXN0IGlzIGFsd2F5cyBlbWl0dGluZyBvbmUgYmVoaW5kLCBjYXRjaCB1cCBhdCB0aGUgZW5kLlxuICAgIGlmIChtb2RlID09PSAnbG93ZXN0JyAmJiBoaXQpIHtcbiAgICAgIGlmICh1bml2ZXJzYWwpIHtcbiAgICAgICAgbWF0Y2hlcy5wdXNoKGhpdClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHlpZWxkIGhpdFxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVuaXZlcnNhbCBkZWZlcnMgdG8gZW5zdXJlIHRoYXQgdGhlIG1hdGNoIG9jY3VycyBpbiBldmVyeSBicmFuY2gsIHNvIHdlXG4gICAgLy8geWllbGQgYWxsIG9mIHRoZSBtYXRjaGVzIGFmdGVyIGl0ZXJhdGluZy5cbiAgICBpZiAodW5pdmVyc2FsKSB7XG4gICAgICB5aWVsZCogbWF0Y2hlc1xuICAgIH1cbiAgfSxcbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSBhbnkgZGlydHkgb2JqZWN0cyBpbiB0aGUgZWRpdG9yLlxuICAgKi9cblxuICBub3JtYWxpemUoZWRpdG9yOiBFZGl0b3IsIG9wdGlvbnM6IEVkaXRvck5vcm1hbGl6ZU9wdGlvbnMgPSB7fSk6IHZvaWQge1xuICAgIGNvbnN0IHsgZm9yY2UgPSBmYWxzZSB9ID0gb3B0aW9uc1xuICAgIGNvbnN0IGdldERpcnR5UGF0aHMgPSAoZWRpdG9yOiBFZGl0b3IpID0+IHtcbiAgICAgIHJldHVybiBESVJUWV9QQVRIUy5nZXQoZWRpdG9yKSB8fCBbXVxuICAgIH1cblxuICAgIGNvbnN0IGdldERpcnR5UGF0aEtleXMgPSAoZWRpdG9yOiBFZGl0b3IpID0+IHtcbiAgICAgIHJldHVybiBESVJUWV9QQVRIX0tFWVMuZ2V0KGVkaXRvcikgfHwgbmV3IFNldCgpXG4gICAgfVxuXG4gICAgY29uc3QgcG9wRGlydHlQYXRoID0gKGVkaXRvcjogRWRpdG9yKTogUGF0aCA9PiB7XG4gICAgICBjb25zdCBwYXRoID0gZ2V0RGlydHlQYXRocyhlZGl0b3IpLnBvcCgpIVxuICAgICAgY29uc3Qga2V5ID0gcGF0aC5qb2luKCcsJylcbiAgICAgIGdldERpcnR5UGF0aEtleXMoZWRpdG9yKS5kZWxldGUoa2V5KVxuICAgICAgcmV0dXJuIHBhdGhcbiAgICB9XG5cbiAgICBpZiAoIUVkaXRvci5pc05vcm1hbGl6aW5nKGVkaXRvcikpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChmb3JjZSkge1xuICAgICAgY29uc3QgYWxsUGF0aHMgPSBBcnJheS5mcm9tKE5vZGUubm9kZXMoZWRpdG9yKSwgKFssIHBdKSA9PiBwKVxuICAgICAgY29uc3QgYWxsUGF0aEtleXMgPSBuZXcgU2V0KGFsbFBhdGhzLm1hcChwID0+IHAuam9pbignLCcpKSlcbiAgICAgIERJUlRZX1BBVEhTLnNldChlZGl0b3IsIGFsbFBhdGhzKVxuICAgICAgRElSVFlfUEFUSF9LRVlTLnNldChlZGl0b3IsIGFsbFBhdGhLZXlzKVxuICAgIH1cblxuICAgIGlmIChnZXREaXJ0eVBhdGhzKGVkaXRvcikubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgICAgLypcbiAgICAgICAgRml4IGRpcnR5IGVsZW1lbnRzIHdpdGggbm8gY2hpbGRyZW4uXG4gICAgICAgIGVkaXRvci5ub3JtYWxpemVOb2RlKCkgZG9lcyBmaXggdGhpcywgYnV0IHNvbWUgbm9ybWFsaXphdGlvbiBmaXhlcyBhbHNvIHJlcXVpcmUgaXQgdG8gd29yay5cbiAgICAgICAgUnVubmluZyBhbiBpbml0aWFsIHBhc3MgYXZvaWRzIHRoZSBjYXRjaC0yMiByYWNlIGNvbmRpdGlvbi5cbiAgICAgICovXG4gICAgICBmb3IgKGNvbnN0IGRpcnR5UGF0aCBvZiBnZXREaXJ0eVBhdGhzKGVkaXRvcikpIHtcbiAgICAgICAgaWYgKE5vZGUuaGFzKGVkaXRvciwgZGlydHlQYXRoKSkge1xuICAgICAgICAgIGNvbnN0IGVudHJ5ID0gRWRpdG9yLm5vZGUoZWRpdG9yLCBkaXJ0eVBhdGgpXG4gICAgICAgICAgY29uc3QgW25vZGUsIF9dID0gZW50cnlcblxuICAgICAgICAgIC8qXG4gICAgICAgICAgICBUaGUgZGVmYXVsdCBub3JtYWxpemVyIGluc2VydHMgYW4gZW1wdHkgdGV4dCBub2RlIGluIHRoaXMgc2NlbmFyaW8sIGJ1dCBpdCBjYW4gYmUgY3VzdG9taXNlZC5cbiAgICAgICAgICAgIFNvIHRoZXJlIGlzIHNvbWUgcmlzayBoZXJlLlxuXG4gICAgICAgICAgICBBcyBsb25nIGFzIHRoZSBub3JtYWxpemVyIG9ubHkgaW5zZXJ0cyBjaGlsZCBub2RlcyBmb3IgdGhpcyBjYXNlIGl0IGlzIHNhZmUgdG8gZG8gaW4gYW55IG9yZGVyO1xuICAgICAgICAgICAgYnkgZGVmaW5pdGlvbiBhZGRpbmcgY2hpbGRyZW4gdG8gYW4gZW1wdHkgbm9kZSBjYW4ndCBjYXVzZSBvdGhlciBwYXRocyB0byBjaGFuZ2UuXG4gICAgICAgICAgKi9cbiAgICAgICAgICBpZiAoRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGVkaXRvci5ub3JtYWxpemVOb2RlKGVudHJ5KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBtYXggPSBnZXREaXJ0eVBhdGhzKGVkaXRvcikubGVuZ3RoICogNDIgLy8gSEFDSzogYmV0dGVyIHdheT9cbiAgICAgIGxldCBtID0gMFxuXG4gICAgICB3aGlsZSAoZ2V0RGlydHlQYXRocyhlZGl0b3IpLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICBpZiAobSA+IG1heCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXG4gICAgICAgICAgICBDb3VsZCBub3QgY29tcGxldGVseSBub3JtYWxpemUgdGhlIGVkaXRvciBhZnRlciAke21heH0gaXRlcmF0aW9ucyEgVGhpcyBpcyB1c3VhbGx5IGR1ZSB0byBpbmNvcnJlY3Qgbm9ybWFsaXphdGlvbiBsb2dpYyB0aGF0IGxlYXZlcyBhIG5vZGUgaW4gYW4gaW52YWxpZCBzdGF0ZS5cbiAgICAgICAgICBgKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGlydHlQYXRoID0gcG9wRGlydHlQYXRoKGVkaXRvcilcblxuICAgICAgICAvLyBJZiB0aGUgbm9kZSBkb2Vzbid0IGV4aXN0IGluIHRoZSB0cmVlLCBpdCBkb2VzIG5vdCBuZWVkIHRvIGJlIG5vcm1hbGl6ZWQuXG4gICAgICAgIGlmIChOb2RlLmhhcyhlZGl0b3IsIGRpcnR5UGF0aCkpIHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IEVkaXRvci5ub2RlKGVkaXRvciwgZGlydHlQYXRoKVxuICAgICAgICAgIGVkaXRvci5ub3JtYWxpemVOb2RlKGVudHJ5KVxuICAgICAgICB9XG4gICAgICAgIG0rK1xuICAgICAgfVxuICAgIH0pXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGFyZW50IG5vZGUgb2YgYSBsb2NhdGlvbi5cbiAgICovXG5cbiAgcGFyZW50KFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIGF0OiBMb2NhdGlvbixcbiAgICBvcHRpb25zOiBFZGl0b3JQYXJlbnRPcHRpb25zID0ge31cbiAgKTogTm9kZUVudHJ5PEFuY2VzdG9yPiB7XG4gICAgY29uc3QgcGF0aCA9IEVkaXRvci5wYXRoKGVkaXRvciwgYXQsIG9wdGlvbnMpXG4gICAgY29uc3QgcGFyZW50UGF0aCA9IFBhdGgucGFyZW50KHBhdGgpXG4gICAgY29uc3QgZW50cnkgPSBFZGl0b3Iubm9kZShlZGl0b3IsIHBhcmVudFBhdGgpXG4gICAgcmV0dXJuIGVudHJ5IGFzIE5vZGVFbnRyeTxBbmNlc3Rvcj5cbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBwYXRoIG9mIGEgbG9jYXRpb24uXG4gICAqL1xuXG4gIHBhdGgoZWRpdG9yOiBFZGl0b3IsIGF0OiBMb2NhdGlvbiwgb3B0aW9uczogRWRpdG9yUGF0aE9wdGlvbnMgPSB7fSk6IFBhdGgge1xuICAgIGNvbnN0IHsgZGVwdGgsIGVkZ2UgfSA9IG9wdGlvbnNcblxuICAgIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICAgIGlmIChlZGdlID09PSAnc3RhcnQnKSB7XG4gICAgICAgIGNvbnN0IFssIGZpcnN0UGF0aF0gPSBOb2RlLmZpcnN0KGVkaXRvciwgYXQpXG4gICAgICAgIGF0ID0gZmlyc3RQYXRoXG4gICAgICB9IGVsc2UgaWYgKGVkZ2UgPT09ICdlbmQnKSB7XG4gICAgICAgIGNvbnN0IFssIGxhc3RQYXRoXSA9IE5vZGUubGFzdChlZGl0b3IsIGF0KVxuICAgICAgICBhdCA9IGxhc3RQYXRoXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKFJhbmdlLmlzUmFuZ2UoYXQpKSB7XG4gICAgICBpZiAoZWRnZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICBhdCA9IFJhbmdlLnN0YXJ0KGF0KVxuICAgICAgfSBlbHNlIGlmIChlZGdlID09PSAnZW5kJykge1xuICAgICAgICBhdCA9IFJhbmdlLmVuZChhdClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF0ID0gUGF0aC5jb21tb24oYXQuYW5jaG9yLnBhdGgsIGF0LmZvY3VzLnBhdGgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKFBvaW50LmlzUG9pbnQoYXQpKSB7XG4gICAgICBhdCA9IGF0LnBhdGhcbiAgICB9XG5cbiAgICBpZiAoZGVwdGggIT0gbnVsbCkge1xuICAgICAgYXQgPSBhdC5zbGljZSgwLCBkZXB0aClcbiAgICB9XG5cbiAgICByZXR1cm4gYXRcbiAgfSxcblxuICBoYXNQYXRoKGVkaXRvcjogRWRpdG9yLCBwYXRoOiBQYXRoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIE5vZGUuaGFzKGVkaXRvciwgcGF0aClcbiAgfSxcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbXV0YWJsZSByZWYgZm9yIGEgYFBhdGhgIG9iamVjdCwgd2hpY2ggd2lsbCBzdGF5IGluIHN5bmMgYXMgbmV3XG4gICAqIG9wZXJhdGlvbnMgYXJlIGFwcGxpZWQgdG8gdGhlIGVkaXRvci5cbiAgICovXG5cbiAgcGF0aFJlZihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBwYXRoOiBQYXRoLFxuICAgIG9wdGlvbnM6IEVkaXRvclBhdGhSZWZPcHRpb25zID0ge31cbiAgKTogUGF0aFJlZiB7XG4gICAgY29uc3QgeyBhZmZpbml0eSA9ICdmb3J3YXJkJyB9ID0gb3B0aW9uc1xuICAgIGNvbnN0IHJlZjogUGF0aFJlZiA9IHtcbiAgICAgIGN1cnJlbnQ6IHBhdGgsXG4gICAgICBhZmZpbml0eSxcbiAgICAgIHVucmVmKCkge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnQgfSA9IHJlZlxuICAgICAgICBjb25zdCBwYXRoUmVmcyA9IEVkaXRvci5wYXRoUmVmcyhlZGl0b3IpXG4gICAgICAgIHBhdGhSZWZzLmRlbGV0ZShyZWYpXG4gICAgICAgIHJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICByZXR1cm4gY3VycmVudFxuICAgICAgfSxcbiAgICB9XG5cbiAgICBjb25zdCByZWZzID0gRWRpdG9yLnBhdGhSZWZzKGVkaXRvcilcbiAgICByZWZzLmFkZChyZWYpXG4gICAgcmV0dXJuIHJlZlxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNldCBvZiBjdXJyZW50bHkgdHJhY2tlZCBwYXRoIHJlZnMgb2YgdGhlIGVkaXRvci5cbiAgICovXG5cbiAgcGF0aFJlZnMoZWRpdG9yOiBFZGl0b3IpOiBTZXQ8UGF0aFJlZj4ge1xuICAgIGxldCByZWZzID0gUEFUSF9SRUZTLmdldChlZGl0b3IpXG5cbiAgICBpZiAoIXJlZnMpIHtcbiAgICAgIHJlZnMgPSBuZXcgU2V0KClcbiAgICAgIFBBVEhfUkVGUy5zZXQoZWRpdG9yLCByZWZzKVxuICAgIH1cblxuICAgIHJldHVybiByZWZzXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3RhcnQgb3IgZW5kIHBvaW50IG9mIGEgbG9jYXRpb24uXG4gICAqL1xuXG4gIHBvaW50KGVkaXRvcjogRWRpdG9yLCBhdDogTG9jYXRpb24sIG9wdGlvbnM6IEVkaXRvclBvaW50T3B0aW9ucyA9IHt9KTogUG9pbnQge1xuICAgIGNvbnN0IHsgZWRnZSA9ICdzdGFydCcgfSA9IG9wdGlvbnNcblxuICAgIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICAgIGxldCBwYXRoXG5cbiAgICAgIGlmIChlZGdlID09PSAnZW5kJykge1xuICAgICAgICBjb25zdCBbLCBsYXN0UGF0aF0gPSBOb2RlLmxhc3QoZWRpdG9yLCBhdClcbiAgICAgICAgcGF0aCA9IGxhc3RQYXRoXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBbLCBmaXJzdFBhdGhdID0gTm9kZS5maXJzdChlZGl0b3IsIGF0KVxuICAgICAgICBwYXRoID0gZmlyc3RQYXRoXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5vZGUgPSBOb2RlLmdldChlZGl0b3IsIHBhdGgpXG5cbiAgICAgIGlmICghVGV4dC5pc1RleHQobm9kZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDYW5ub3QgZ2V0IHRoZSAke2VkZ2V9IHBvaW50IGluIHRoZSBub2RlIGF0IHBhdGggWyR7YXR9XSBiZWNhdXNlIGl0IGhhcyBubyAke2VkZ2V9IHRleHQgbm9kZS5gXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgcGF0aCwgb2Zmc2V0OiBlZGdlID09PSAnZW5kJyA/IG5vZGUudGV4dC5sZW5ndGggOiAwIH1cbiAgICB9XG5cbiAgICBpZiAoUmFuZ2UuaXNSYW5nZShhdCkpIHtcbiAgICAgIGNvbnN0IFtzdGFydCwgZW5kXSA9IFJhbmdlLmVkZ2VzKGF0KVxuICAgICAgcmV0dXJuIGVkZ2UgPT09ICdzdGFydCcgPyBzdGFydCA6IGVuZFxuICAgIH1cblxuICAgIHJldHVybiBhdFxuICB9LFxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBtdXRhYmxlIHJlZiBmb3IgYSBgUG9pbnRgIG9iamVjdCwgd2hpY2ggd2lsbCBzdGF5IGluIHN5bmMgYXMgbmV3XG4gICAqIG9wZXJhdGlvbnMgYXJlIGFwcGxpZWQgdG8gdGhlIGVkaXRvci5cbiAgICovXG5cbiAgcG9pbnRSZWYoXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgcG9pbnQ6IFBvaW50LFxuICAgIG9wdGlvbnM6IEVkaXRvclBvaW50UmVmT3B0aW9ucyA9IHt9XG4gICk6IFBvaW50UmVmIHtcbiAgICBjb25zdCB7IGFmZmluaXR5ID0gJ2ZvcndhcmQnIH0gPSBvcHRpb25zXG4gICAgY29uc3QgcmVmOiBQb2ludFJlZiA9IHtcbiAgICAgIGN1cnJlbnQ6IHBvaW50LFxuICAgICAgYWZmaW5pdHksXG4gICAgICB1bnJlZigpIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW50IH0gPSByZWZcbiAgICAgICAgY29uc3QgcG9pbnRSZWZzID0gRWRpdG9yLnBvaW50UmVmcyhlZGl0b3IpXG4gICAgICAgIHBvaW50UmVmcy5kZWxldGUocmVmKVxuICAgICAgICByZWYuY3VycmVudCA9IG51bGxcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRcbiAgICAgIH0sXG4gICAgfVxuXG4gICAgY29uc3QgcmVmcyA9IEVkaXRvci5wb2ludFJlZnMoZWRpdG9yKVxuICAgIHJlZnMuYWRkKHJlZilcbiAgICByZXR1cm4gcmVmXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc2V0IG9mIGN1cnJlbnRseSB0cmFja2VkIHBvaW50IHJlZnMgb2YgdGhlIGVkaXRvci5cbiAgICovXG5cbiAgcG9pbnRSZWZzKGVkaXRvcjogRWRpdG9yKTogU2V0PFBvaW50UmVmPiB7XG4gICAgbGV0IHJlZnMgPSBQT0lOVF9SRUZTLmdldChlZGl0b3IpXG5cbiAgICBpZiAoIXJlZnMpIHtcbiAgICAgIHJlZnMgPSBuZXcgU2V0KClcbiAgICAgIFBPSU5UX1JFRlMuc2V0KGVkaXRvciwgcmVmcylcbiAgICB9XG5cbiAgICByZXR1cm4gcmVmc1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYWxsIHRoZSBwb3NpdGlvbnMgaW4gYGF0YCByYW5nZSB3aGVyZSBhIGBQb2ludGAgY2FuIGJlIHBsYWNlZC5cbiAgICpcbiAgICogQnkgZGVmYXVsdCwgbW92ZXMgZm9yd2FyZCBieSBpbmRpdmlkdWFsIG9mZnNldHMgYXQgYSB0aW1lLCBidXRcbiAgICogdGhlIGB1bml0YCBvcHRpb24gY2FuIGJlIHVzZWQgdG8gdG8gbW92ZSBieSBjaGFyYWN0ZXIsIHdvcmQsIGxpbmUsIG9yIGJsb2NrLlxuICAgKlxuICAgKiBUaGUgYHJldmVyc2VgIG9wdGlvbiBjYW4gYmUgdXNlZCB0byBjaGFuZ2UgaXRlcmF0aW9uIGRpcmVjdGlvbi5cbiAgICpcbiAgICogTm90ZTogQnkgZGVmYXVsdCB2b2lkIG5vZGVzIGFyZSB0cmVhdGVkIGFzIGEgc2luZ2xlIHBvaW50IGFuZCBpdGVyYXRpb25cbiAgICogd2lsbCBub3QgaGFwcGVuIGluc2lkZSB0aGVpciBjb250ZW50IHVubGVzcyB5b3UgcGFzcyBpbiB0cnVlIGZvciB0aGVcbiAgICogYHZvaWRzYCBvcHRpb24sIHRoZW4gaXRlcmF0aW9uIHdpbGwgb2NjdXIuXG4gICAqL1xuXG4gICpwb3NpdGlvbnMoXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgb3B0aW9uczogRWRpdG9yUG9zaXRpb25zT3B0aW9ucyA9IHt9XG4gICk6IEdlbmVyYXRvcjxQb2ludCwgdm9pZCwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3Qge1xuICAgICAgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uLFxuICAgICAgdW5pdCA9ICdvZmZzZXQnLFxuICAgICAgcmV2ZXJzZSA9IGZhbHNlLFxuICAgICAgdm9pZHMgPSBmYWxzZSxcbiAgICB9ID0gb3B0aW9uc1xuXG4gICAgaWYgKCFhdCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxnb3JpdGhtIG5vdGVzOlxuICAgICAqXG4gICAgICogRWFjaCBzdGVwIGBkaXN0YW5jZWAgaXMgZHluYW1pYyBkZXBlbmRpbmcgb24gdGhlIHVuZGVybHlpbmcgdGV4dFxuICAgICAqIGFuZCB0aGUgYHVuaXRgIHNwZWNpZmllZC4gIEVhY2ggc3RlcCwgZS5nLiwgYSBsaW5lIG9yIHdvcmQsIG1heVxuICAgICAqIHNwYW4gbXVsdGlwbGUgdGV4dCBub2Rlcywgc28gd2UgaXRlcmF0ZSB0aHJvdWdoIHRoZSB0ZXh0IGJvdGggb25cbiAgICAgKiB0d28gbGV2ZWxzIGluIHN0ZXAtc3luYzpcbiAgICAgKlxuICAgICAqIGBsZWFmVGV4dGAgc3RvcmVzIHRoZSB0ZXh0IG9uIGEgdGV4dCBsZWFmIGxldmVsLCBhbmQgaXMgYWR2YW5jZWRcbiAgICAgKiB0aHJvdWdoIHVzaW5nIHRoZSBjb3VudGVycyBgbGVhZlRleHRPZmZzZXRgIGFuZCBgbGVhZlRleHRSZW1haW5pbmdgLlxuICAgICAqXG4gICAgICogYGJsb2NrVGV4dGAgc3RvcmVzIHRoZSB0ZXh0IG9uIGEgYmxvY2sgbGV2ZWwsIGFuZCBpcyBzaG9ydGVuZWRcbiAgICAgKiBieSBgZGlzdGFuY2VgIGV2ZXJ5IHRpbWUgaXQgaXMgYWR2YW5jZWQuXG4gICAgICpcbiAgICAgKiBXZSBvbmx5IG1haW50YWluIGEgd2luZG93IG9mIG9uZSBibG9ja1RleHQgYW5kIG9uZSBsZWFmVGV4dCBiZWNhdXNlXG4gICAgICogYSBibG9jayBub2RlIGFsd2F5cyBhcHBlYXJzIGJlZm9yZSBhbGwgb2YgaXRzIGxlYWYgbm9kZXMuXG4gICAgICovXG5cbiAgICBjb25zdCByYW5nZSA9IEVkaXRvci5yYW5nZShlZGl0b3IsIGF0KVxuICAgIGNvbnN0IFtzdGFydCwgZW5kXSA9IFJhbmdlLmVkZ2VzKHJhbmdlKVxuICAgIGNvbnN0IGZpcnN0ID0gcmV2ZXJzZSA/IGVuZCA6IHN0YXJ0XG4gICAgbGV0IGlzTmV3QmxvY2sgPSBmYWxzZVxuICAgIGxldCBibG9ja1RleHQgPSAnJ1xuICAgIGxldCBkaXN0YW5jZSA9IDAgLy8gRGlzdGFuY2UgZm9yIGxlYWZUZXh0IHRvIGNhdGNoIHVwIHRvIGJsb2NrVGV4dC5cbiAgICBsZXQgbGVhZlRleHRSZW1haW5pbmcgPSAwXG4gICAgbGV0IGxlYWZUZXh0T2Zmc2V0ID0gMFxuXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFsbCBub2RlcyBpbiByYW5nZSwgZ3JhYmJpbmcgZW50aXJlIHRleHR1YWwgY29udGVudFxuICAgIC8vIG9mIGJsb2NrIG5vZGVzIGluIGJsb2NrVGV4dCwgYW5kIHRleHQgbm9kZXMgaW4gbGVhZlRleHQuXG4gICAgLy8gRXhwbG9pdHMgdGhlIGZhY3QgdGhhdCBub2RlcyBhcmUgc2VxdWVuY2VkIGluIHN1Y2ggYSB3YXkgdGhhdCB3ZSBmaXJzdFxuICAgIC8vIGVuY291bnRlciB0aGUgYmxvY2sgbm9kZSwgdGhlbiBhbGwgb2YgaXRzIHRleHQgbm9kZXMsIHNvIHdoZW4gaXRlcmF0aW5nXG4gICAgLy8gdGhyb3VnaCB0aGUgYmxvY2tUZXh0IGFuZCBsZWFmVGV4dCB3ZSBqdXN0IG5lZWQgdG8gcmVtZW1iZXIgYSB3aW5kb3cgb2ZcbiAgICAvLyBvbmUgYmxvY2sgbm9kZSBhbmQgbGVhZiBub2RlLCByZXNwZWN0aXZlbHkuXG4gICAgZm9yIChjb25zdCBbbm9kZSwgcGF0aF0gb2YgRWRpdG9yLm5vZGVzKGVkaXRvciwgeyBhdCwgcmV2ZXJzZSwgdm9pZHMgfSkpIHtcbiAgICAgIC8qXG4gICAgICAgKiBFTEVNRU5UIE5PREUgLSBZaWVsZCBwb3NpdGlvbihzKSBmb3Igdm9pZHMsIGNvbGxlY3QgYmxvY2tUZXh0IGZvciBibG9ja3NcbiAgICAgICAqL1xuICAgICAgaWYgKEVsZW1lbnQuaXNFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgIC8vIFZvaWQgbm9kZXMgYXJlIGEgc3BlY2lhbCBjYXNlLCBzbyBieSBkZWZhdWx0IHdlIHdpbGwgYWx3YXlzXG4gICAgICAgIC8vIHlpZWxkIHRoZWlyIGZpcnN0IHBvaW50LiBJZiB0aGUgYHZvaWRzYCBvcHRpb24gaXMgc2V0IHRvIHRydWUsXG4gICAgICAgIC8vIHRoZW4gd2Ugd2lsbCBpdGVyYXRlIG92ZXIgdGhlaXIgY29udGVudC5cbiAgICAgICAgaWYgKCF2b2lkcyAmJiBlZGl0b3IuaXNWb2lkKG5vZGUpKSB7XG4gICAgICAgICAgeWllbGQgRWRpdG9yLnN0YXJ0KGVkaXRvciwgcGF0aClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5saW5lIGVsZW1lbnQgbm9kZXMgYXJlIGlnbm9yZWQgYXMgdGhleSBkb24ndCB0aGVtc2VsdmVzXG4gICAgICAgIC8vIGNvbnRyaWJ1dGUgdG8gYGJsb2NrVGV4dGAgb3IgYGxlYWZUZXh0YCAtIHRoZWlyIHBhcmVudCBhbmRcbiAgICAgICAgLy8gY2hpbGRyZW4gZG8uXG4gICAgICAgIGlmIChlZGl0b3IuaXNJbmxpbmUobm9kZSkpIGNvbnRpbnVlXG5cbiAgICAgICAgLy8gQmxvY2sgZWxlbWVudCBub2RlIC0gc2V0IGBibG9ja1RleHRgIHRvIGl0cyB0ZXh0IGNvbnRlbnQuXG4gICAgICAgIGlmIChFZGl0b3IuaGFzSW5saW5lcyhlZGl0b3IsIG5vZGUpKSB7XG4gICAgICAgICAgLy8gV2UgYWx3YXlzIGV4aGF1c3QgYmxvY2sgbm9kZXMgYmVmb3JlIGVuY291bnRlcmluZyBhIG5ldyBvbmU6XG4gICAgICAgICAgLy8gICBjb25zb2xlLmFzc2VydChibG9ja1RleHQgPT09ICcnLFxuICAgICAgICAgIC8vICAgICBgYmxvY2tUZXh0PScke2Jsb2NrVGV4dH0nIC0gYCtcbiAgICAgICAgICAvLyAgICAgYG5vdCBleGhhdXN0ZWQgYmVmb3JlIG5ldyBibG9jayBub2RlYCwgcGF0aClcblxuICAgICAgICAgIC8vIEVuc3VyZSByYW5nZSBjb25zaWRlcmVkIGlzIGNhcHBlZCB0byBgcmFuZ2VgLCBpbiB0aGVcbiAgICAgICAgICAvLyBzdGFydC9lbmQgZWRnZSBjYXNlcyB3aGVyZSBibG9jayBleHRlbmRzIGJleW9uZCByYW5nZS5cbiAgICAgICAgICAvLyBFcXVpdmFsZW50IHRvIHRoaXMsIGJ1dCBwcmVzdW1hYmx5IG1vcmUgcGVyZm9ybWFudDpcbiAgICAgICAgICAvLyAgIGJsb2NrUmFuZ2UgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCAuLi5FZGl0b3IuZWRnZXMoZWRpdG9yLCBwYXRoKSlcbiAgICAgICAgICAvLyAgIGJsb2NrUmFuZ2UgPSBSYW5nZS5pbnRlcnNlY3Rpb24ocmFuZ2UsIGJsb2NrUmFuZ2UpIC8vIGludGVyc2VjdFxuICAgICAgICAgIC8vICAgYmxvY2tUZXh0ID0gRWRpdG9yLnN0cmluZyhlZGl0b3IsIGJsb2NrUmFuZ2UsIHsgdm9pZHMgfSlcbiAgICAgICAgICBjb25zdCBlID0gUGF0aC5pc0FuY2VzdG9yKHBhdGgsIGVuZC5wYXRoKVxuICAgICAgICAgICAgPyBlbmRcbiAgICAgICAgICAgIDogRWRpdG9yLmVuZChlZGl0b3IsIHBhdGgpXG4gICAgICAgICAgY29uc3QgcyA9IFBhdGguaXNBbmNlc3RvcihwYXRoLCBzdGFydC5wYXRoKVxuICAgICAgICAgICAgPyBzdGFydFxuICAgICAgICAgICAgOiBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBwYXRoKVxuXG4gICAgICAgICAgYmxvY2tUZXh0ID0gRWRpdG9yLnN0cmluZyhlZGl0b3IsIHsgYW5jaG9yOiBzLCBmb2N1czogZSB9LCB7IHZvaWRzIH0pXG4gICAgICAgICAgaXNOZXdCbG9jayA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKlxuICAgICAgICogVEVYVCBMRUFGIE5PREUgLSBJdGVyYXRlIHRocm91Z2ggdGV4dCBjb250ZW50LCB5aWVsZGluZ1xuICAgICAgICogcG9zaXRpb25zIGV2ZXJ5IGBkaXN0YW5jZWAgb2Zmc2V0IGFjY29yZGluZyB0byBgdW5pdGAuXG4gICAgICAgKi9cbiAgICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgICBjb25zdCBpc0ZpcnN0ID0gUGF0aC5lcXVhbHMocGF0aCwgZmlyc3QucGF0aClcblxuICAgICAgICAvLyBQcm9vZiB0aGF0IHdlIGFsd2F5cyBleGhhdXN0IHRleHQgbm9kZXMgYmVmb3JlIGVuY291bnRlcmluZyBhIG5ldyBvbmU6XG4gICAgICAgIC8vICAgY29uc29sZS5hc3NlcnQobGVhZlRleHRSZW1haW5pbmcgPD0gMCxcbiAgICAgICAgLy8gICAgIGBsZWFmVGV4dFJlbWFpbmluZz0ke2xlYWZUZXh0UmVtYWluaW5nfSAtIGArXG4gICAgICAgIC8vICAgICBgbm90IGV4aGF1c3RlZCBiZWZvcmUgbmV3IGxlYWYgdGV4dCBub2RlYCwgcGF0aClcblxuICAgICAgICAvLyBSZXNldCBgbGVhZlRleHRgIGNvdW50ZXJzIGZvciBuZXcgdGV4dCBub2RlLlxuICAgICAgICBpZiAoaXNGaXJzdCkge1xuICAgICAgICAgIGxlYWZUZXh0UmVtYWluaW5nID0gcmV2ZXJzZVxuICAgICAgICAgICAgPyBmaXJzdC5vZmZzZXRcbiAgICAgICAgICAgIDogbm9kZS50ZXh0Lmxlbmd0aCAtIGZpcnN0Lm9mZnNldFxuICAgICAgICAgIGxlYWZUZXh0T2Zmc2V0ID0gZmlyc3Qub2Zmc2V0IC8vIFdvcmtzIGZvciByZXZlcnNlIHRvby5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZWFmVGV4dFJlbWFpbmluZyA9IG5vZGUudGV4dC5sZW5ndGhcbiAgICAgICAgICBsZWFmVGV4dE9mZnNldCA9IHJldmVyc2UgPyBsZWFmVGV4dFJlbWFpbmluZyA6IDBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFlpZWxkIHBvc2l0aW9uIGF0IHRoZSBzdGFydCBvZiBub2RlIChwb3RlbnRpYWxseSkuXG4gICAgICAgIGlmIChpc0ZpcnN0IHx8IGlzTmV3QmxvY2sgfHwgdW5pdCA9PT0gJ29mZnNldCcpIHtcbiAgICAgICAgICB5aWVsZCB7IHBhdGgsIG9mZnNldDogbGVhZlRleHRPZmZzZXQgfVxuICAgICAgICAgIGlzTmV3QmxvY2sgPSBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gWWllbGQgcG9zaXRpb25zIGV2ZXJ5IChkeW5hbWljYWxseSBjYWxjdWxhdGVkKSBgZGlzdGFuY2VgIG9mZnNldC5cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAvLyBJZiBgbGVhZlRleHRgIGhhcyBjYXVnaHQgdXAgd2l0aCBgYmxvY2tUZXh0YCAoZGlzdGFuY2U9MCksXG4gICAgICAgICAgLy8gYW5kIGlmIGJsb2NrVGV4dCBpcyBleGhhdXN0ZWQsIGJyZWFrIHRvIGdldCBhbm90aGVyIGJsb2NrIG5vZGUsXG4gICAgICAgICAgLy8gb3RoZXJ3aXNlIGFkdmFuY2UgYmxvY2tUZXh0IGZvcndhcmQgYnkgdGhlIG5ldyBgZGlzdGFuY2VgLlxuICAgICAgICAgIGlmIChkaXN0YW5jZSA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGJsb2NrVGV4dCA9PT0gJycpIGJyZWFrXG4gICAgICAgICAgICBkaXN0YW5jZSA9IGNhbGNEaXN0YW5jZShibG9ja1RleHQsIHVuaXQsIHJldmVyc2UpXG4gICAgICAgICAgICAvLyBTcGxpdCB0aGUgc3RyaW5nIGF0IHRoZSBwcmV2aW91c2x5IGZvdW5kIGRpc3RhbmNlIGFuZCB1c2UgdGhlXG4gICAgICAgICAgICAvLyByZW1haW5pbmcgc3RyaW5nIGZvciB0aGUgbmV4dCBpdGVyYXRpb24uXG4gICAgICAgICAgICBibG9ja1RleHQgPSBzcGxpdEJ5Q2hhcmFjdGVyRGlzdGFuY2UoXG4gICAgICAgICAgICAgIGJsb2NrVGV4dCxcbiAgICAgICAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgICAgICAgIHJldmVyc2VcbiAgICAgICAgICAgIClbMV1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBBZHZhbmNlIGBsZWFmVGV4dGAgYnkgdGhlIGN1cnJlbnQgYGRpc3RhbmNlYC5cbiAgICAgICAgICBsZWFmVGV4dE9mZnNldCA9IHJldmVyc2VcbiAgICAgICAgICAgID8gbGVhZlRleHRPZmZzZXQgLSBkaXN0YW5jZVxuICAgICAgICAgICAgOiBsZWFmVGV4dE9mZnNldCArIGRpc3RhbmNlXG4gICAgICAgICAgbGVhZlRleHRSZW1haW5pbmcgPSBsZWFmVGV4dFJlbWFpbmluZyAtIGRpc3RhbmNlXG5cbiAgICAgICAgICAvLyBJZiBgbGVhZlRleHRgIGlzIGV4aGF1c3RlZCwgYnJlYWsgdG8gZ2V0IGEgbmV3IGxlYWYgbm9kZVxuICAgICAgICAgIC8vIGFuZCBzZXQgZGlzdGFuY2UgdG8gdGhlIG92ZXJmbG93IGFtb3VudCwgc28gd2UnbGwgKG1heWJlKVxuICAgICAgICAgIC8vIGNhdGNoIHVwIHRvIGJsb2NrVGV4dCBpbiB0aGUgbmV4dCBsZWFmIHRleHQgbm9kZS5cbiAgICAgICAgICBpZiAobGVhZlRleHRSZW1haW5pbmcgPCAwKSB7XG4gICAgICAgICAgICBkaXN0YW5jZSA9IC1sZWFmVGV4dFJlbWFpbmluZ1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTdWNjZXNzZnVsbHkgd2Fsa2VkIGBkaXN0YW5jZWAgb2Zmc2V0cyB0aHJvdWdoIGBsZWFmVGV4dGBcbiAgICAgICAgICAvLyB0byBjYXRjaCB1cCB3aXRoIGBibG9ja1RleHRgLCBzbyB3ZSBjYW4gcmVzZXQgYGRpc3RhbmNlYFxuICAgICAgICAgIC8vIGFuZCB5aWVsZCB0aGlzIHBvc2l0aW9uIGluIHRoaXMgbm9kZS5cbiAgICAgICAgICBkaXN0YW5jZSA9IDBcbiAgICAgICAgICB5aWVsZCB7IHBhdGgsIG9mZnNldDogbGVhZlRleHRPZmZzZXQgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFByb29mIHRoYXQgdXBvbiBjb21wbGV0aW9uLCB3ZSd2ZSBleGFodXN0ZWQgYm90aCBsZWFmIGFuZCBibG9jayB0ZXh0OlxuICAgIC8vICAgY29uc29sZS5hc3NlcnQobGVhZlRleHRSZW1haW5pbmcgPD0gMCwgXCJsZWFmVGV4dCB3YXNuJ3QgZXhoYXVzdGVkXCIpXG4gICAgLy8gICBjb25zb2xlLmFzc2VydChibG9ja1RleHQgPT09ICcnLCBcImJsb2NrVGV4dCB3YXNuJ3QgZXhoYXVzdGVkXCIpXG5cbiAgICAvLyBIZWxwZXI6XG4gICAgLy8gUmV0dXJuIHRoZSBkaXN0YW5jZSBpbiBvZmZzZXRzIGZvciBhIHN0ZXAgb2Ygc2l6ZSBgdW5pdGAgb24gZ2l2ZW4gc3RyaW5nLlxuICAgIGZ1bmN0aW9uIGNhbGNEaXN0YW5jZSh0ZXh0OiBzdHJpbmcsIHVuaXQ6IHN0cmluZywgcmV2ZXJzZT86IGJvb2xlYW4pIHtcbiAgICAgIGlmICh1bml0ID09PSAnY2hhcmFjdGVyJykge1xuICAgICAgICByZXR1cm4gZ2V0Q2hhcmFjdGVyRGlzdGFuY2UodGV4dCwgcmV2ZXJzZSlcbiAgICAgIH0gZWxzZSBpZiAodW5pdCA9PT0gJ3dvcmQnKSB7XG4gICAgICAgIHJldHVybiBnZXRXb3JkRGlzdGFuY2UodGV4dCwgcmV2ZXJzZSlcbiAgICAgIH0gZWxzZSBpZiAodW5pdCA9PT0gJ2xpbmUnIHx8IHVuaXQgPT09ICdibG9jaycpIHtcbiAgICAgICAgcmV0dXJuIHRleHQubGVuZ3RoXG4gICAgICB9XG4gICAgICByZXR1cm4gMVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBtYXRjaGluZyBub2RlIGluIHRoZSBicmFuY2ggb2YgdGhlIGRvY3VtZW50IGJlZm9yZSBhIGxvY2F0aW9uLlxuICAgKi9cblxuICBwcmV2aW91czxUIGV4dGVuZHMgTm9kZT4oXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgb3B0aW9uczogRWRpdG9yUHJldmlvdXNPcHRpb25zPFQ+ID0ge31cbiAgKTogTm9kZUVudHJ5PFQ+IHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCB7IG1vZGUgPSAnbG93ZXN0Jywgdm9pZHMgPSBmYWxzZSB9ID0gb3B0aW9uc1xuICAgIGxldCB7IG1hdGNoLCBhdCA9IGVkaXRvci5zZWxlY3Rpb24gfSA9IG9wdGlvbnNcblxuICAgIGlmICghYXQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHBvaW50QmVmb3JlTG9jYXRpb24gPSBFZGl0b3IuYmVmb3JlKGVkaXRvciwgYXQsIHsgdm9pZHMgfSlcblxuICAgIGlmICghcG9pbnRCZWZvcmVMb2NhdGlvbikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgWywgdG9dID0gRWRpdG9yLmZpcnN0KGVkaXRvciwgW10pXG5cbiAgICAvLyBUaGUgc2VhcmNoIGxvY2F0aW9uIGlzIGZyb20gdGhlIHN0YXJ0IG9mIHRoZSBkb2N1bWVudCB0byB0aGUgcGF0aCBvZlxuICAgIC8vIHRoZSBwb2ludCBiZWZvcmUgdGhlIGxvY2F0aW9uIHBhc3NlZCBpblxuICAgIGNvbnN0IHNwYW46IFNwYW4gPSBbcG9pbnRCZWZvcmVMb2NhdGlvbi5wYXRoLCB0b11cblxuICAgIGlmIChQYXRoLmlzUGF0aChhdCkgJiYgYXQubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBnZXQgdGhlIHByZXZpb3VzIG5vZGUgZnJvbSB0aGUgcm9vdCBub2RlIWApXG4gICAgfVxuXG4gICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICAgICAgY29uc3QgW3BhcmVudF0gPSBFZGl0b3IucGFyZW50KGVkaXRvciwgYXQpXG4gICAgICAgIG1hdGNoID0gbiA9PiBwYXJlbnQuY2hpbGRyZW4uaW5jbHVkZXMobilcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoID0gKCkgPT4gdHJ1ZVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IFtwcmV2aW91c10gPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICByZXZlcnNlOiB0cnVlLFxuICAgICAgYXQ6IHNwYW4sXG4gICAgICBtYXRjaCxcbiAgICAgIG1vZGUsXG4gICAgICB2b2lkcyxcbiAgICB9KVxuXG4gICAgcmV0dXJuIHByZXZpb3VzXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBhIHJhbmdlIG9mIGEgbG9jYXRpb24uXG4gICAqL1xuXG4gIHJhbmdlKGVkaXRvcjogRWRpdG9yLCBhdDogTG9jYXRpb24sIHRvPzogTG9jYXRpb24pOiBSYW5nZSB7XG4gICAgaWYgKFJhbmdlLmlzUmFuZ2UoYXQpICYmICF0bykge1xuICAgICAgcmV0dXJuIGF0XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhcnQgPSBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBhdClcbiAgICBjb25zdCBlbmQgPSBFZGl0b3IuZW5kKGVkaXRvciwgdG8gfHwgYXQpXG4gICAgcmV0dXJuIHsgYW5jaG9yOiBzdGFydCwgZm9jdXM6IGVuZCB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG11dGFibGUgcmVmIGZvciBhIGBSYW5nZWAgb2JqZWN0LCB3aGljaCB3aWxsIHN0YXkgaW4gc3luYyBhcyBuZXdcbiAgICogb3BlcmF0aW9ucyBhcmUgYXBwbGllZCB0byB0aGUgZWRpdG9yLlxuICAgKi9cblxuICByYW5nZVJlZihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICByYW5nZTogUmFuZ2UsXG4gICAgb3B0aW9uczogRWRpdG9yUmFuZ2VSZWZPcHRpb25zID0ge31cbiAgKTogUmFuZ2VSZWYge1xuICAgIGNvbnN0IHsgYWZmaW5pdHkgPSAnZm9yd2FyZCcgfSA9IG9wdGlvbnNcbiAgICBjb25zdCByZWY6IFJhbmdlUmVmID0ge1xuICAgICAgY3VycmVudDogcmFuZ2UsXG4gICAgICBhZmZpbml0eSxcbiAgICAgIHVucmVmKCkge1xuICAgICAgICBjb25zdCB7IGN1cnJlbnQgfSA9IHJlZlxuICAgICAgICBjb25zdCByYW5nZVJlZnMgPSBFZGl0b3IucmFuZ2VSZWZzKGVkaXRvcilcbiAgICAgICAgcmFuZ2VSZWZzLmRlbGV0ZShyZWYpXG4gICAgICAgIHJlZi5jdXJyZW50ID0gbnVsbFxuICAgICAgICByZXR1cm4gY3VycmVudFxuICAgICAgfSxcbiAgICB9XG5cbiAgICBjb25zdCByZWZzID0gRWRpdG9yLnJhbmdlUmVmcyhlZGl0b3IpXG4gICAgcmVmcy5hZGQocmVmKVxuICAgIHJldHVybiByZWZcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBzZXQgb2YgY3VycmVudGx5IHRyYWNrZWQgcmFuZ2UgcmVmcyBvZiB0aGUgZWRpdG9yLlxuICAgKi9cblxuICByYW5nZVJlZnMoZWRpdG9yOiBFZGl0b3IpOiBTZXQ8UmFuZ2VSZWY+IHtcbiAgICBsZXQgcmVmcyA9IFJBTkdFX1JFRlMuZ2V0KGVkaXRvcilcblxuICAgIGlmICghcmVmcykge1xuICAgICAgcmVmcyA9IG5ldyBTZXQoKVxuICAgICAgUkFOR0VfUkVGUy5zZXQoZWRpdG9yLCByZWZzKVxuICAgIH1cblxuICAgIHJldHVybiByZWZzXG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGN1c3RvbSBwcm9wZXJ0eSBmcm9tIGFsbCBvZiB0aGUgbGVhZiB0ZXh0IG5vZGVzIGluIHRoZSBjdXJyZW50XG4gICAqIHNlbGVjdGlvbi5cbiAgICpcbiAgICogSWYgdGhlIHNlbGVjdGlvbiBpcyBjdXJyZW50bHkgY29sbGFwc2VkLCB0aGUgcmVtb3ZhbCB3aWxsIGJlIHN0b3JlZCBvblxuICAgKiBgZWRpdG9yLm1hcmtzYCBhbmQgYXBwbGllZCB0byB0aGUgdGV4dCBpbnNlcnRlZCBuZXh0LlxuICAgKi9cblxuICByZW1vdmVNYXJrKGVkaXRvcjogRWRpdG9yLCBrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIGVkaXRvci5yZW1vdmVNYXJrKGtleSlcbiAgfSxcblxuICAvKipcbiAgICogTWFudWFsbHkgc2V0IGlmIHRoZSBlZGl0b3Igc2hvdWxkIGN1cnJlbnRseSBiZSBub3JtYWxpemluZy5cbiAgICpcbiAgICogTm90ZTogVXNpbmcgdGhpcyBpbmNvcnJlY3RseSBjYW4gbGVhdmUgdGhlIGVkaXRvciBpbiBhbiBpbnZhbGlkIHN0YXRlLlxuICAgKlxuICAgKi9cbiAgc2V0Tm9ybWFsaXppbmcoZWRpdG9yOiBFZGl0b3IsIGlzTm9ybWFsaXppbmc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBOT1JNQUxJWklORy5zZXQoZWRpdG9yLCBpc05vcm1hbGl6aW5nKVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0YXJ0IHBvaW50IG9mIGEgbG9jYXRpb24uXG4gICAqL1xuXG4gIHN0YXJ0KGVkaXRvcjogRWRpdG9yLCBhdDogTG9jYXRpb24pOiBQb2ludCB7XG4gICAgcmV0dXJuIEVkaXRvci5wb2ludChlZGl0b3IsIGF0LCB7IGVkZ2U6ICdzdGFydCcgfSlcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSB0ZXh0IHN0cmluZyBjb250ZW50IG9mIGEgbG9jYXRpb24uXG4gICAqXG4gICAqIE5vdGU6IGJ5IGRlZmF1bHQgdGhlIHRleHQgb2Ygdm9pZCBub2RlcyBpcyBjb25zaWRlcmVkIHRvIGJlIGFuIGVtcHR5XG4gICAqIHN0cmluZywgcmVnYXJkbGVzcyBvZiBjb250ZW50LCB1bmxlc3MgeW91IHBhc3MgaW4gdHJ1ZSBmb3IgdGhlIHZvaWRzIG9wdGlvblxuICAgKi9cblxuICBzdHJpbmcoXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgYXQ6IExvY2F0aW9uLFxuICAgIG9wdGlvbnM6IEVkaXRvclN0cmluZ09wdGlvbnMgPSB7fVxuICApOiBzdHJpbmcge1xuICAgIGNvbnN0IHsgdm9pZHMgPSBmYWxzZSB9ID0gb3B0aW9uc1xuICAgIGNvbnN0IHJhbmdlID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgYXQpXG4gICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gUmFuZ2UuZWRnZXMocmFuZ2UpXG4gICAgbGV0IHRleHQgPSAnJ1xuXG4gICAgZm9yIChjb25zdCBbbm9kZSwgcGF0aF0gb2YgRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgYXQ6IHJhbmdlLFxuICAgICAgbWF0Y2g6IFRleHQuaXNUZXh0LFxuICAgICAgdm9pZHMsXG4gICAgfSkpIHtcbiAgICAgIGxldCB0ID0gbm9kZS50ZXh0XG5cbiAgICAgIGlmIChQYXRoLmVxdWFscyhwYXRoLCBlbmQucGF0aCkpIHtcbiAgICAgICAgdCA9IHQuc2xpY2UoMCwgZW5kLm9mZnNldClcbiAgICAgIH1cblxuICAgICAgaWYgKFBhdGguZXF1YWxzKHBhdGgsIHN0YXJ0LnBhdGgpKSB7XG4gICAgICAgIHQgPSB0LnNsaWNlKHN0YXJ0Lm9mZnNldClcbiAgICAgIH1cblxuICAgICAgdGV4dCArPSB0XG4gICAgfVxuXG4gICAgcmV0dXJuIHRleHRcbiAgfSxcblxuICAvKipcbiAgICogQ29udmVydCBhIHJhbmdlIGludG8gYSBub24taGFuZ2luZyBvbmUuXG4gICAqL1xuXG4gIHVuaGFuZ1JhbmdlKFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIHJhbmdlOiBSYW5nZSxcbiAgICBvcHRpb25zOiBFZGl0b3JVbmhhbmdSYW5nZU9wdGlvbnMgPSB7fVxuICApOiBSYW5nZSB7XG4gICAgY29uc3QgeyB2b2lkcyA9IGZhbHNlIH0gPSBvcHRpb25zXG4gICAgbGV0IFtzdGFydCwgZW5kXSA9IFJhbmdlLmVkZ2VzKHJhbmdlKVxuXG4gICAgLy8gUEVSRjogZXhpdCBlYXJseSBpZiB3ZSBjYW4gZ3VhcmFudGVlIHRoYXQgdGhlIHJhbmdlIGlzbid0IGhhbmdpbmcuXG4gICAgaWYgKHN0YXJ0Lm9mZnNldCAhPT0gMCB8fCBlbmQub2Zmc2V0ICE9PSAwIHx8IFJhbmdlLmlzQ29sbGFwc2VkKHJhbmdlKSkge1xuICAgICAgcmV0dXJuIHJhbmdlXG4gICAgfVxuXG4gICAgY29uc3QgZW5kQmxvY2sgPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICBhdDogZW5kLFxuICAgICAgbWF0Y2g6IG4gPT4gRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKSxcbiAgICB9KVxuICAgIGNvbnN0IGJsb2NrUGF0aCA9IGVuZEJsb2NrID8gZW5kQmxvY2tbMV0gOiBbXVxuICAgIGNvbnN0IGZpcnN0ID0gRWRpdG9yLnN0YXJ0KGVkaXRvciwgc3RhcnQpXG4gICAgY29uc3QgYmVmb3JlID0geyBhbmNob3I6IGZpcnN0LCBmb2N1czogZW5kIH1cbiAgICBsZXQgc2tpcCA9IHRydWVcblxuICAgIGZvciAoY29uc3QgW25vZGUsIHBhdGhdIG9mIEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgIGF0OiBiZWZvcmUsXG4gICAgICBtYXRjaDogVGV4dC5pc1RleHQsXG4gICAgICByZXZlcnNlOiB0cnVlLFxuICAgICAgdm9pZHMsXG4gICAgfSkpIHtcbiAgICAgIGlmIChza2lwKSB7XG4gICAgICAgIHNraXAgPSBmYWxzZVxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAobm9kZS50ZXh0ICE9PSAnJyB8fCBQYXRoLmlzQmVmb3JlKHBhdGgsIGJsb2NrUGF0aCkpIHtcbiAgICAgICAgZW5kID0geyBwYXRoLCBvZmZzZXQ6IG5vZGUudGV4dC5sZW5ndGggfVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IGFuY2hvcjogc3RhcnQsIGZvY3VzOiBlbmQgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBNYXRjaCBhIHZvaWQgbm9kZSBpbiB0aGUgY3VycmVudCBicmFuY2ggb2YgdGhlIGVkaXRvci5cbiAgICovXG5cbiAgdm9pZChcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBvcHRpb25zOiBFZGl0b3JWb2lkT3B0aW9ucyA9IHt9XG4gICk6IE5vZGVFbnRyeTxFbGVtZW50PiB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBtYXRjaDogbiA9PiBFZGl0b3IuaXNWb2lkKGVkaXRvciwgbiksXG4gICAgfSlcbiAgfSxcblxuICAvKipcbiAgICogQ2FsbCBhIGZ1bmN0aW9uLCBkZWZlcnJpbmcgbm9ybWFsaXphdGlvbiB1bnRpbCBhZnRlciBpdCBjb21wbGV0ZXMuXG4gICAqL1xuXG4gIHdpdGhvdXROb3JtYWxpemluZyhlZGl0b3I6IEVkaXRvciwgZm46ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBjb25zdCB2YWx1ZSA9IEVkaXRvci5pc05vcm1hbGl6aW5nKGVkaXRvcilcbiAgICBFZGl0b3Iuc2V0Tm9ybWFsaXppbmcoZWRpdG9yLCBmYWxzZSlcbiAgICB0cnkge1xuICAgICAgZm4oKVxuICAgIH0gZmluYWxseSB7XG4gICAgICBFZGl0b3Iuc2V0Tm9ybWFsaXppbmcoZWRpdG9yLCB2YWx1ZSlcbiAgICB9XG4gICAgRWRpdG9yLm5vcm1hbGl6ZShlZGl0b3IpXG4gIH0sXG59XG5cbi8qKlxuICogQSBoZWxwZXIgdHlwZSBmb3IgbmFycm93aW5nIG1hdGNoZWQgbm9kZXMgd2l0aCBhIHByZWRpY2F0ZS5cbiAqL1xuXG5leHBvcnQgdHlwZSBOb2RlTWF0Y2g8VCBleHRlbmRzIE5vZGU+ID1cbiAgfCAoKG5vZGU6IE5vZGUsIHBhdGg6IFBhdGgpID0+IG5vZGUgaXMgVClcbiAgfCAoKG5vZGU6IE5vZGUsIHBhdGg6IFBhdGgpID0+IGJvb2xlYW4pXG5cbmV4cG9ydCB0eXBlIFByb3BzQ29tcGFyZSA9IChwcm9wOiBQYXJ0aWFsPE5vZGU+LCBub2RlOiBQYXJ0aWFsPE5vZGU+KSA9PiBib29sZWFuXG5leHBvcnQgdHlwZSBQcm9wc01lcmdlID0gKHByb3A6IFBhcnRpYWw8Tm9kZT4sIG5vZGU6IFBhcnRpYWw8Tm9kZT4pID0+IG9iamVjdFxuIiwiaW1wb3J0IHsgUGF0aCwgUG9pbnQsIFJhbmdlIH0gZnJvbSAnLi4nXG5cbi8qKlxuICogVGhlIGBMb2NhdGlvbmAgaW50ZXJmYWNlIGlzIGEgdW5pb24gb2YgdGhlIHdheXMgdG8gcmVmZXIgdG8gYSBzcGVjaWZpY1xuICogbG9jYXRpb24gaW4gYSBTbGF0ZSBkb2N1bWVudDogcGF0aHMsIHBvaW50cyBvciByYW5nZXMuXG4gKlxuICogTWV0aG9kcyB3aWxsIG9mdGVuIGFjY2VwdCBhIGBMb2NhdGlvbmAgaW5zdGVhZCBvZiByZXF1aXJpbmcgb25seSBhIGBQYXRoYCxcbiAqIGBQb2ludGAgb3IgYFJhbmdlYC4gVGhpcyBlbGltaW5hdGVzIHRoZSBuZWVkIGZvciBkZXZlbG9wZXJzIHRvIG1hbmFnZVxuICogY29udmVydGluZyBiZXR3ZWVuIHRoZSBkaWZmZXJlbnQgaW50ZXJmYWNlcyBpbiB0aGVpciBvd24gY29kZSBiYXNlLlxuICovXG5cbmV4cG9ydCB0eXBlIExvY2F0aW9uID0gUGF0aCB8IFBvaW50IHwgUmFuZ2VcblxuZXhwb3J0IGludGVyZmFjZSBMb2NhdGlvbkludGVyZmFjZSB7XG4gIGlzTG9jYXRpb246ICh2YWx1ZTogYW55KSA9PiB2YWx1ZSBpcyBMb2NhdGlvblxufVxuXG5leHBvcnQgY29uc3QgTG9jYXRpb246IExvY2F0aW9uSW50ZXJmYWNlID0ge1xuICAvKipcbiAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpbXBsZW1lbnRzIHRoZSBgTG9jYXRpb25gIGludGVyZmFjZS5cbiAgICovXG5cbiAgaXNMb2NhdGlvbih2YWx1ZTogYW55KTogdmFsdWUgaXMgTG9jYXRpb24ge1xuICAgIHJldHVybiBQYXRoLmlzUGF0aCh2YWx1ZSkgfHwgUG9pbnQuaXNQb2ludCh2YWx1ZSkgfHwgUmFuZ2UuaXNSYW5nZSh2YWx1ZSlcbiAgfSxcbn1cblxuLyoqXG4gKiBUaGUgYFNwYW5gIGludGVyZmFjZSBpcyBhIGxvdy1sZXZlbCB3YXkgdG8gcmVmZXIgdG8gbG9jYXRpb25zIGluIG5vZGVzXG4gKiB3aXRob3V0IHVzaW5nIGBQb2ludGAgd2hpY2ggcmVxdWlyZXMgbGVhZiB0ZXh0IG5vZGVzIHRvIGJlIHByZXNlbnQuXG4gKi9cblxuZXhwb3J0IHR5cGUgU3BhbiA9IFtQYXRoLCBQYXRoXVxuXG5leHBvcnQgaW50ZXJmYWNlIFNwYW5JbnRlcmZhY2Uge1xuICBpc1NwYW46ICh2YWx1ZTogYW55KSA9PiB2YWx1ZSBpcyBTcGFuXG59XG5cbmV4cG9ydCBjb25zdCBTcGFuOiBTcGFuSW50ZXJmYWNlID0ge1xuICAvKipcbiAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpbXBsZW1lbnRzIHRoZSBgU3BhbmAgaW50ZXJmYWNlLlxuICAgKi9cblxuICBpc1NwYW4odmFsdWU6IGFueSk6IHZhbHVlIGlzIFNwYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDIgJiYgdmFsdWUuZXZlcnkoUGF0aC5pc1BhdGgpXG4gICAgKVxuICB9LFxufVxuIiwiaW1wb3J0IHsgcHJvZHVjZSB9IGZyb20gJ2ltbWVyJ1xuaW1wb3J0IHsgRWRpdG9yLCBQYXRoLCBSYW5nZSwgVGV4dCwgU2NydWJiZXIgfSBmcm9tICcuLidcbmltcG9ydCB7IEVsZW1lbnQsIEVsZW1lbnRFbnRyeSB9IGZyb20gJy4vZWxlbWVudCdcblxuLyoqXG4gKiBUaGUgYE5vZGVgIHVuaW9uIHR5cGUgcmVwcmVzZW50cyBhbGwgb2YgdGhlIGRpZmZlcmVudCB0eXBlcyBvZiBub2RlcyB0aGF0XG4gKiBvY2N1ciBpbiBhIFNsYXRlIGRvY3VtZW50IHRyZWUuXG4gKi9cblxuZXhwb3J0IHR5cGUgQmFzZU5vZGUgPSBFZGl0b3IgfCBFbGVtZW50IHwgVGV4dFxuZXhwb3J0IHR5cGUgTm9kZSA9IEVkaXRvciB8IEVsZW1lbnQgfCBUZXh0XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9kZUFuY2VzdG9yc09wdGlvbnMge1xuICByZXZlcnNlPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVDaGlsZHJlbk9wdGlvbnMge1xuICByZXZlcnNlPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVEZXNjZW5kYW50c09wdGlvbnMge1xuICBmcm9tPzogUGF0aFxuICB0bz86IFBhdGhcbiAgcmV2ZXJzZT86IGJvb2xlYW5cbiAgcGFzcz86IChub2RlOiBOb2RlRW50cnkpID0+IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb2RlRWxlbWVudHNPcHRpb25zIHtcbiAgZnJvbT86IFBhdGhcbiAgdG8/OiBQYXRoXG4gIHJldmVyc2U/OiBib29sZWFuXG4gIHBhc3M/OiAobm9kZTogTm9kZUVudHJ5KSA9PiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9kZUxldmVsc09wdGlvbnMge1xuICByZXZlcnNlPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVOb2Rlc09wdGlvbnMge1xuICBmcm9tPzogUGF0aFxuICB0bz86IFBhdGhcbiAgcmV2ZXJzZT86IGJvb2xlYW5cbiAgcGFzcz86IChlbnRyeTogTm9kZUVudHJ5KSA9PiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9kZVRleHRzT3B0aW9ucyB7XG4gIGZyb20/OiBQYXRoXG4gIHRvPzogUGF0aFxuICByZXZlcnNlPzogYm9vbGVhblxuICBwYXNzPzogKG5vZGU6IE5vZGVFbnRyeSkgPT4gYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVJbnRlcmZhY2Uge1xuICBhbmNlc3RvcjogKHJvb3Q6IE5vZGUsIHBhdGg6IFBhdGgpID0+IEFuY2VzdG9yXG4gIGFuY2VzdG9yczogKFxuICAgIHJvb3Q6IE5vZGUsXG4gICAgcGF0aDogUGF0aCxcbiAgICBvcHRpb25zPzogTm9kZUFuY2VzdG9yc09wdGlvbnNcbiAgKSA9PiBHZW5lcmF0b3I8Tm9kZUVudHJ5PEFuY2VzdG9yPiwgdm9pZCwgdW5kZWZpbmVkPlxuICBjaGlsZDogKHJvb3Q6IE5vZGUsIGluZGV4OiBudW1iZXIpID0+IERlc2NlbmRhbnRcbiAgY2hpbGRyZW46IChcbiAgICByb290OiBOb2RlLFxuICAgIHBhdGg6IFBhdGgsXG4gICAgb3B0aW9ucz86IE5vZGVDaGlsZHJlbk9wdGlvbnNcbiAgKSA9PiBHZW5lcmF0b3I8Tm9kZUVudHJ5PERlc2NlbmRhbnQ+LCB2b2lkLCB1bmRlZmluZWQ+XG4gIGNvbW1vbjogKHJvb3Q6IE5vZGUsIHBhdGg6IFBhdGgsIGFub3RoZXI6IFBhdGgpID0+IE5vZGVFbnRyeVxuICBkZXNjZW5kYW50OiAocm9vdDogTm9kZSwgcGF0aDogUGF0aCkgPT4gRGVzY2VuZGFudFxuICBkZXNjZW5kYW50czogKFxuICAgIHJvb3Q6IE5vZGUsXG4gICAgb3B0aW9ucz86IE5vZGVEZXNjZW5kYW50c09wdGlvbnNcbiAgKSA9PiBHZW5lcmF0b3I8Tm9kZUVudHJ5PERlc2NlbmRhbnQ+LCB2b2lkLCB1bmRlZmluZWQ+XG4gIGVsZW1lbnRzOiAoXG4gICAgcm9vdDogTm9kZSxcbiAgICBvcHRpb25zPzogTm9kZUVsZW1lbnRzT3B0aW9uc1xuICApID0+IEdlbmVyYXRvcjxFbGVtZW50RW50cnksIHZvaWQsIHVuZGVmaW5lZD5cbiAgZXh0cmFjdFByb3BzOiAobm9kZTogTm9kZSkgPT4gTm9kZVByb3BzXG4gIGZpcnN0OiAocm9vdDogTm9kZSwgcGF0aDogUGF0aCkgPT4gTm9kZUVudHJ5XG4gIGZyYWdtZW50OiAocm9vdDogTm9kZSwgcmFuZ2U6IFJhbmdlKSA9PiBEZXNjZW5kYW50W11cbiAgZ2V0OiAocm9vdDogTm9kZSwgcGF0aDogUGF0aCkgPT4gTm9kZVxuICBoYXM6IChyb290OiBOb2RlLCBwYXRoOiBQYXRoKSA9PiBib29sZWFuXG4gIGlzTm9kZTogKHZhbHVlOiBhbnkpID0+IHZhbHVlIGlzIE5vZGVcbiAgaXNOb2RlTGlzdDogKHZhbHVlOiBhbnkpID0+IHZhbHVlIGlzIE5vZGVbXVxuICBsYXN0OiAocm9vdDogTm9kZSwgcGF0aDogUGF0aCkgPT4gTm9kZUVudHJ5XG4gIGxlYWY6IChyb290OiBOb2RlLCBwYXRoOiBQYXRoKSA9PiBUZXh0XG4gIGxldmVsczogKFxuICAgIHJvb3Q6IE5vZGUsXG4gICAgcGF0aDogUGF0aCxcbiAgICBvcHRpb25zPzogTm9kZUxldmVsc09wdGlvbnNcbiAgKSA9PiBHZW5lcmF0b3I8Tm9kZUVudHJ5LCB2b2lkLCB1bmRlZmluZWQ+XG4gIG1hdGNoZXM6IChub2RlOiBOb2RlLCBwcm9wczogUGFydGlhbDxOb2RlPikgPT4gYm9vbGVhblxuICBub2RlczogKFxuICAgIHJvb3Q6IE5vZGUsXG4gICAgb3B0aW9ucz86IE5vZGVOb2Rlc09wdGlvbnNcbiAgKSA9PiBHZW5lcmF0b3I8Tm9kZUVudHJ5LCB2b2lkLCB1bmRlZmluZWQ+XG4gIHBhcmVudDogKHJvb3Q6IE5vZGUsIHBhdGg6IFBhdGgpID0+IEFuY2VzdG9yXG4gIHN0cmluZzogKG5vZGU6IE5vZGUpID0+IHN0cmluZ1xuICB0ZXh0czogKFxuICAgIHJvb3Q6IE5vZGUsXG4gICAgb3B0aW9ucz86IE5vZGVUZXh0c09wdGlvbnNcbiAgKSA9PiBHZW5lcmF0b3I8Tm9kZUVudHJ5PFRleHQ+LCB2b2lkLCB1bmRlZmluZWQ+XG59XG5cbmNvbnN0IElTX05PREVfTElTVF9DQUNIRSA9IG5ldyBXZWFrTWFwPGFueVtdLCBib29sZWFuPigpXG5cbmV4cG9ydCBjb25zdCBOb2RlOiBOb2RlSW50ZXJmYWNlID0ge1xuICAvKipcbiAgICogR2V0IHRoZSBub2RlIGF0IGEgc3BlY2lmaWMgcGF0aCwgYXNzZXJ0aW5nIHRoYXQgaXQncyBhbiBhbmNlc3RvciBub2RlLlxuICAgKi9cblxuICBhbmNlc3Rvcihyb290OiBOb2RlLCBwYXRoOiBQYXRoKTogQW5jZXN0b3Ige1xuICAgIGNvbnN0IG5vZGUgPSBOb2RlLmdldChyb290LCBwYXRoKVxuXG4gICAgaWYgKFRleHQuaXNUZXh0KG5vZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBDYW5ub3QgZ2V0IHRoZSBhbmNlc3RvciBub2RlIGF0IHBhdGggWyR7cGF0aH1dIGJlY2F1c2UgaXQgcmVmZXJzIHRvIGEgdGV4dCBub2RlIGluc3RlYWQ6ICR7U2NydWJiZXIuc3RyaW5naWZ5KFxuICAgICAgICAgIG5vZGVcbiAgICAgICAgKX1gXG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGVcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJuIGEgZ2VuZXJhdG9yIG9mIGFsbCB0aGUgYW5jZXN0b3Igbm9kZXMgYWJvdmUgYSBzcGVjaWZpYyBwYXRoLlxuICAgKlxuICAgKiBCeSBkZWZhdWx0IHRoZSBvcmRlciBpcyB0b3AtZG93biwgZnJvbSBoaWdoZXN0IHRvIGxvd2VzdCBhbmNlc3RvciBpblxuICAgKiB0aGUgdHJlZSwgYnV0IHlvdSBjYW4gcGFzcyB0aGUgYHJldmVyc2U6IHRydWVgIG9wdGlvbiB0byBnbyBib3R0b20tdXAuXG4gICAqL1xuXG4gICphbmNlc3RvcnMoXG4gICAgcm9vdDogTm9kZSxcbiAgICBwYXRoOiBQYXRoLFxuICAgIG9wdGlvbnM6IE5vZGVBbmNlc3RvcnNPcHRpb25zID0ge31cbiAgKTogR2VuZXJhdG9yPE5vZGVFbnRyeTxBbmNlc3Rvcj4sIHZvaWQsIHVuZGVmaW5lZD4ge1xuICAgIGZvciAoY29uc3QgcCBvZiBQYXRoLmFuY2VzdG9ycyhwYXRoLCBvcHRpb25zKSkge1xuICAgICAgY29uc3QgbiA9IE5vZGUuYW5jZXN0b3Iocm9vdCwgcClcbiAgICAgIGNvbnN0IGVudHJ5OiBOb2RlRW50cnk8QW5jZXN0b3I+ID0gW24sIHBdXG4gICAgICB5aWVsZCBlbnRyeVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBjaGlsZCBvZiBhIG5vZGUgYXQgYSBzcGVjaWZpYyBpbmRleC5cbiAgICovXG5cbiAgY2hpbGQocm9vdDogTm9kZSwgaW5kZXg6IG51bWJlcik6IERlc2NlbmRhbnQge1xuICAgIGlmIChUZXh0LmlzVGV4dChyb290KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ2Fubm90IGdldCB0aGUgY2hpbGQgb2YgYSB0ZXh0IG5vZGU6ICR7U2NydWJiZXIuc3RyaW5naWZ5KHJvb3QpfWBcbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBjID0gcm9vdC5jaGlsZHJlbltpbmRleF0gYXMgRGVzY2VuZGFudFxuXG4gICAgaWYgKGMgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ2Fubm90IGdldCBjaGlsZCBhdCBpbmRleCBcXGAke2luZGV4fVxcYCBpbiBub2RlOiAke1NjcnViYmVyLnN0cmluZ2lmeShcbiAgICAgICAgICByb290XG4gICAgICAgICl9YFxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiBjXG4gIH0sXG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgb3ZlciB0aGUgY2hpbGRyZW4gb2YgYSBub2RlIGF0IGEgc3BlY2lmaWMgcGF0aC5cbiAgICovXG5cbiAgKmNoaWxkcmVuKFxuICAgIHJvb3Q6IE5vZGUsXG4gICAgcGF0aDogUGF0aCxcbiAgICBvcHRpb25zOiBOb2RlQ2hpbGRyZW5PcHRpb25zID0ge31cbiAgKTogR2VuZXJhdG9yPE5vZGVFbnRyeTxEZXNjZW5kYW50Piwgdm9pZCwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3QgeyByZXZlcnNlID0gZmFsc2UgfSA9IG9wdGlvbnNcbiAgICBjb25zdCBhbmNlc3RvciA9IE5vZGUuYW5jZXN0b3Iocm9vdCwgcGF0aClcbiAgICBjb25zdCB7IGNoaWxkcmVuIH0gPSBhbmNlc3RvclxuICAgIGxldCBpbmRleCA9IHJldmVyc2UgPyBjaGlsZHJlbi5sZW5ndGggLSAxIDogMFxuXG4gICAgd2hpbGUgKHJldmVyc2UgPyBpbmRleCA+PSAwIDogaW5kZXggPCBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gTm9kZS5jaGlsZChhbmNlc3RvciwgaW5kZXgpXG4gICAgICBjb25zdCBjaGlsZFBhdGggPSBwYXRoLmNvbmNhdChpbmRleClcbiAgICAgIHlpZWxkIFtjaGlsZCwgY2hpbGRQYXRoXVxuICAgICAgaW5kZXggPSByZXZlcnNlID8gaW5kZXggLSAxIDogaW5kZXggKyAxXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgYW4gZW50cnkgZm9yIHRoZSBjb21tb24gYW5jZXNldG9yIG5vZGUgb2YgdHdvIHBhdGhzLlxuICAgKi9cblxuICBjb21tb24ocm9vdDogTm9kZSwgcGF0aDogUGF0aCwgYW5vdGhlcjogUGF0aCk6IE5vZGVFbnRyeSB7XG4gICAgY29uc3QgcCA9IFBhdGguY29tbW9uKHBhdGgsIGFub3RoZXIpXG4gICAgY29uc3QgbiA9IE5vZGUuZ2V0KHJvb3QsIHApXG4gICAgcmV0dXJuIFtuLCBwXVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG5vZGUgYXQgYSBzcGVjaWZpYyBwYXRoLCBhc3NlcnRpbmcgdGhhdCBpdCdzIGEgZGVzY2VuZGFudCBub2RlLlxuICAgKi9cblxuICBkZXNjZW5kYW50KHJvb3Q6IE5vZGUsIHBhdGg6IFBhdGgpOiBEZXNjZW5kYW50IHtcbiAgICBjb25zdCBub2RlID0gTm9kZS5nZXQocm9vdCwgcGF0aClcblxuICAgIGlmIChFZGl0b3IuaXNFZGl0b3Iobm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENhbm5vdCBnZXQgdGhlIGRlc2NlbmRhbnQgbm9kZSBhdCBwYXRoIFske3BhdGh9XSBiZWNhdXNlIGl0IHJlZmVycyB0byB0aGUgcm9vdCBlZGl0b3Igbm9kZSBpbnN0ZWFkOiAke1NjcnViYmVyLnN0cmluZ2lmeShcbiAgICAgICAgICBub2RlXG4gICAgICAgICl9YFxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiBub2RlXG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGdlbmVyYXRvciBvZiBhbGwgdGhlIGRlc2NlbmRhbnQgbm9kZSBlbnRyaWVzIGluc2lkZSBhIHJvb3Qgbm9kZS5cbiAgICovXG5cbiAgKmRlc2NlbmRhbnRzKFxuICAgIHJvb3Q6IE5vZGUsXG4gICAgb3B0aW9uczogTm9kZURlc2NlbmRhbnRzT3B0aW9ucyA9IHt9XG4gICk6IEdlbmVyYXRvcjxOb2RlRW50cnk8RGVzY2VuZGFudD4sIHZvaWQsIHVuZGVmaW5lZD4ge1xuICAgIGZvciAoY29uc3QgW25vZGUsIHBhdGhdIG9mIE5vZGUubm9kZXMocm9vdCwgb3B0aW9ucykpIHtcbiAgICAgIGlmIChwYXRoLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAvLyBOT1RFOiB3ZSBoYXZlIHRvIGNvZXJjZSBoZXJlIGJlY2F1c2UgY2hlY2tpbmcgdGhlIHBhdGgncyBsZW5ndGggZG9lc1xuICAgICAgICAvLyBndWFyYW50ZWUgdGhhdCBgbm9kZWAgaXMgbm90IGEgYEVkaXRvcmAsIGJ1dCBUeXBlU2NyaXB0IGRvZXNuJ3Qga25vdy5cbiAgICAgICAgeWllbGQgW25vZGUsIHBhdGhdIGFzIE5vZGVFbnRyeTxEZXNjZW5kYW50PlxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJuIGEgZ2VuZXJhdG9yIG9mIGFsbCB0aGUgZWxlbWVudCBub2RlcyBpbnNpZGUgYSByb290IG5vZGUuIEVhY2ggaXRlcmF0aW9uXG4gICAqIHdpbGwgcmV0dXJuIGFuIGBFbGVtZW50RW50cnlgIHR1cGxlIGNvbnNpc3Rpbmcgb2YgYFtFbGVtZW50LCBQYXRoXWAuIElmIHRoZVxuICAgKiByb290IG5vZGUgaXMgYW4gZWxlbWVudCBpdCB3aWxsIGJlIGluY2x1ZGVkIGluIHRoZSBpdGVyYXRpb24gYXMgd2VsbC5cbiAgICovXG5cbiAgKmVsZW1lbnRzKFxuICAgIHJvb3Q6IE5vZGUsXG4gICAgb3B0aW9uczogTm9kZUVsZW1lbnRzT3B0aW9ucyA9IHt9XG4gICk6IEdlbmVyYXRvcjxFbGVtZW50RW50cnksIHZvaWQsIHVuZGVmaW5lZD4ge1xuICAgIGZvciAoY29uc3QgW25vZGUsIHBhdGhdIG9mIE5vZGUubm9kZXMocm9vdCwgb3B0aW9ucykpIHtcbiAgICAgIGlmIChFbGVtZW50LmlzRWxlbWVudChub2RlKSkge1xuICAgICAgICB5aWVsZCBbbm9kZSwgcGF0aF1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgcHJvcHMgZnJvbSBhIE5vZGUuXG4gICAqL1xuXG4gIGV4dHJhY3RQcm9wcyhub2RlOiBOb2RlKTogTm9kZVByb3BzIHtcbiAgICBpZiAoRWxlbWVudC5pc0FuY2VzdG9yKG5vZGUpKSB7XG4gICAgICBjb25zdCB7IGNoaWxkcmVuLCAuLi5wcm9wZXJ0aWVzIH0gPSBub2RlXG5cbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHsgdGV4dCwgLi4ucHJvcGVydGllcyB9ID0gbm9kZVxuXG4gICAgICByZXR1cm4gcHJvcGVydGllc1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBmaXJzdCBub2RlIGVudHJ5IGluIGEgcm9vdCBub2RlIGZyb20gYSBwYXRoLlxuICAgKi9cblxuICBmaXJzdChyb290OiBOb2RlLCBwYXRoOiBQYXRoKTogTm9kZUVudHJ5IHtcbiAgICBjb25zdCBwID0gcGF0aC5zbGljZSgpXG4gICAgbGV0IG4gPSBOb2RlLmdldChyb290LCBwKVxuXG4gICAgd2hpbGUgKG4pIHtcbiAgICAgIGlmIChUZXh0LmlzVGV4dChuKSB8fCBuLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBicmVha1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IG4uY2hpbGRyZW5bMF1cbiAgICAgICAgcC5wdXNoKDApXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFtuLCBwXVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNsaWNlZCBmcmFnbWVudCByZXByZXNlbnRlZCBieSBhIHJhbmdlIGluc2lkZSBhIHJvb3Qgbm9kZS5cbiAgICovXG5cbiAgZnJhZ21lbnQocm9vdDogTm9kZSwgcmFuZ2U6IFJhbmdlKTogRGVzY2VuZGFudFtdIHtcbiAgICBpZiAoVGV4dC5pc1RleHQocm9vdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENhbm5vdCBnZXQgYSBmcmFnbWVudCBzdGFydGluZyBmcm9tIGEgcm9vdCB0ZXh0IG5vZGU6ICR7U2NydWJiZXIuc3RyaW5naWZ5KFxuICAgICAgICAgIHJvb3RcbiAgICAgICAgKX1gXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgbmV3Um9vdCA9IHByb2R1Y2UoeyBjaGlsZHJlbjogcm9vdC5jaGlsZHJlbiB9LCByID0+IHtcbiAgICAgIGNvbnN0IFtzdGFydCwgZW5kXSA9IFJhbmdlLmVkZ2VzKHJhbmdlKVxuICAgICAgY29uc3Qgbm9kZUVudHJpZXMgPSBOb2RlLm5vZGVzKHIsIHtcbiAgICAgICAgcmV2ZXJzZTogdHJ1ZSxcbiAgICAgICAgcGFzczogKFssIHBhdGhdKSA9PiAhUmFuZ2UuaW5jbHVkZXMocmFuZ2UsIHBhdGgpLFxuICAgICAgfSlcblxuICAgICAgZm9yIChjb25zdCBbLCBwYXRoXSBvZiBub2RlRW50cmllcykge1xuICAgICAgICBpZiAoIVJhbmdlLmluY2x1ZGVzKHJhbmdlLCBwYXRoKSkge1xuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IE5vZGUucGFyZW50KHIsIHBhdGgpXG4gICAgICAgICAgY29uc3QgaW5kZXggPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV1cbiAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFBhdGguZXF1YWxzKHBhdGgsIGVuZC5wYXRoKSkge1xuICAgICAgICAgIGNvbnN0IGxlYWYgPSBOb2RlLmxlYWYociwgcGF0aClcbiAgICAgICAgICBsZWFmLnRleHQgPSBsZWFmLnRleHQuc2xpY2UoMCwgZW5kLm9mZnNldClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChQYXRoLmVxdWFscyhwYXRoLCBzdGFydC5wYXRoKSkge1xuICAgICAgICAgIGNvbnN0IGxlYWYgPSBOb2RlLmxlYWYociwgcGF0aClcbiAgICAgICAgICBsZWFmLnRleHQgPSBsZWFmLnRleHQuc2xpY2Uoc3RhcnQub2Zmc2V0KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChFZGl0b3IuaXNFZGl0b3IocikpIHtcbiAgICAgICAgci5zZWxlY3Rpb24gPSBudWxsXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiBuZXdSb290LmNoaWxkcmVuXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZGVzY2VuZGFudCBub2RlIHJlZmVycmVkIHRvIGJ5IGEgc3BlY2lmaWMgcGF0aC4gSWYgdGhlIHBhdGggaXMgYW5cbiAgICogZW1wdHkgYXJyYXksIGl0IHJlZmVycyB0byB0aGUgcm9vdCBub2RlIGl0c2VsZi5cbiAgICovXG5cbiAgZ2V0KHJvb3Q6IE5vZGUsIHBhdGg6IFBhdGgpOiBOb2RlIHtcbiAgICBsZXQgbm9kZSA9IHJvb3RcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcCA9IHBhdGhbaV1cblxuICAgICAgaWYgKFRleHQuaXNUZXh0KG5vZGUpIHx8ICFub2RlLmNoaWxkcmVuW3BdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgQ2Fubm90IGZpbmQgYSBkZXNjZW5kYW50IGF0IHBhdGggWyR7cGF0aH1dIGluIG5vZGU6ICR7U2NydWJiZXIuc3RyaW5naWZ5KFxuICAgICAgICAgICAgcm9vdFxuICAgICAgICAgICl9YFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIG5vZGUgPSBub2RlLmNoaWxkcmVuW3BdXG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGVcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBkZXNjZW5kYW50IG5vZGUgZXhpc3RzIGF0IGEgc3BlY2lmaWMgcGF0aC5cbiAgICovXG5cbiAgaGFzKHJvb3Q6IE5vZGUsIHBhdGg6IFBhdGgpOiBib29sZWFuIHtcbiAgICBsZXQgbm9kZSA9IHJvb3RcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcCA9IHBhdGhbaV1cblxuICAgICAgaWYgKFRleHQuaXNUZXh0KG5vZGUpIHx8ICFub2RlLmNoaWxkcmVuW3BdKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICBub2RlID0gbm9kZS5jaGlsZHJlbltwXVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdmFsdWUgaW1wbGVtZW50cyB0aGUgYE5vZGVgIGludGVyZmFjZS5cbiAgICovXG5cbiAgaXNOb2RlKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBOb2RlIHtcbiAgICByZXR1cm4gKFxuICAgICAgVGV4dC5pc1RleHQodmFsdWUpIHx8IEVsZW1lbnQuaXNFbGVtZW50KHZhbHVlKSB8fCBFZGl0b3IuaXNFZGl0b3IodmFsdWUpXG4gICAgKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHZhbHVlIGlzIGEgbGlzdCBvZiBgTm9kZWAgb2JqZWN0cy5cbiAgICovXG5cbiAgaXNOb2RlTGlzdCh2YWx1ZTogYW55KTogdmFsdWUgaXMgTm9kZVtdIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgY29uc3QgY2FjaGVkUmVzdWx0ID0gSVNfTk9ERV9MSVNUX0NBQ0hFLmdldCh2YWx1ZSlcbiAgICBpZiAoY2FjaGVkUmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBjYWNoZWRSZXN1bHRcbiAgICB9XG4gICAgY29uc3QgaXNOb2RlTGlzdCA9IHZhbHVlLmV2ZXJ5KHZhbCA9PiBOb2RlLmlzTm9kZSh2YWwpKVxuICAgIElTX05PREVfTElTVF9DQUNIRS5zZXQodmFsdWUsIGlzTm9kZUxpc3QpXG4gICAgcmV0dXJuIGlzTm9kZUxpc3RcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBsYXN0IG5vZGUgZW50cnkgaW4gYSByb290IG5vZGUgZnJvbSBhIHBhdGguXG4gICAqL1xuXG4gIGxhc3Qocm9vdDogTm9kZSwgcGF0aDogUGF0aCk6IE5vZGVFbnRyeSB7XG4gICAgY29uc3QgcCA9IHBhdGguc2xpY2UoKVxuICAgIGxldCBuID0gTm9kZS5nZXQocm9vdCwgcClcblxuICAgIHdoaWxlIChuKSB7XG4gICAgICBpZiAoVGV4dC5pc1RleHQobikgfHwgbi5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGkgPSBuLmNoaWxkcmVuLmxlbmd0aCAtIDFcbiAgICAgICAgbiA9IG4uY2hpbGRyZW5baV1cbiAgICAgICAgcC5wdXNoKGkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFtuLCBwXVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG5vZGUgYXQgYSBzcGVjaWZpYyBwYXRoLCBlbnN1cmluZyBpdCdzIGEgbGVhZiB0ZXh0IG5vZGUuXG4gICAqL1xuXG4gIGxlYWYocm9vdDogTm9kZSwgcGF0aDogUGF0aCk6IFRleHQge1xuICAgIGNvbnN0IG5vZGUgPSBOb2RlLmdldChyb290LCBwYXRoKVxuXG4gICAgaWYgKCFUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ2Fubm90IGdldCB0aGUgbGVhZiBub2RlIGF0IHBhdGggWyR7cGF0aH1dIGJlY2F1c2UgaXQgcmVmZXJzIHRvIGEgbm9uLWxlYWYgbm9kZTogJHtTY3J1YmJlci5zdHJpbmdpZnkoXG4gICAgICAgICAgbm9kZVxuICAgICAgICApfWBcbiAgICAgIClcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBnZW5lcmF0b3Igb2YgdGhlIGluIGEgYnJhbmNoIG9mIHRoZSB0cmVlLCBmcm9tIGEgc3BlY2lmaWMgcGF0aC5cbiAgICpcbiAgICogQnkgZGVmYXVsdCB0aGUgb3JkZXIgaXMgdG9wLWRvd24sIGZyb20gaGlnaGVzdCB0byBsb3dlc3Qgbm9kZSBpbiB0aGUgdHJlZSxcbiAgICogYnV0IHlvdSBjYW4gcGFzcyB0aGUgYHJldmVyc2U6IHRydWVgIG9wdGlvbiB0byBnbyBib3R0b20tdXAuXG4gICAqL1xuXG4gICpsZXZlbHMoXG4gICAgcm9vdDogTm9kZSxcbiAgICBwYXRoOiBQYXRoLFxuICAgIG9wdGlvbnM6IE5vZGVMZXZlbHNPcHRpb25zID0ge31cbiAgKTogR2VuZXJhdG9yPE5vZGVFbnRyeSwgdm9pZCwgdW5kZWZpbmVkPiB7XG4gICAgZm9yIChjb25zdCBwIG9mIFBhdGgubGV2ZWxzKHBhdGgsIG9wdGlvbnMpKSB7XG4gICAgICBjb25zdCBuID0gTm9kZS5nZXQocm9vdCwgcClcbiAgICAgIHlpZWxkIFtuLCBwXVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBub2RlIG1hdGNoZXMgYSBzZXQgb2YgcHJvcHMuXG4gICAqL1xuXG4gIG1hdGNoZXMobm9kZTogTm9kZSwgcHJvcHM6IFBhcnRpYWw8Tm9kZT4pOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgKEVsZW1lbnQuaXNFbGVtZW50KG5vZGUpICYmXG4gICAgICAgIEVsZW1lbnQuaXNFbGVtZW50UHJvcHMocHJvcHMpICYmXG4gICAgICAgIEVsZW1lbnQubWF0Y2hlcyhub2RlLCBwcm9wcykpIHx8XG4gICAgICAoVGV4dC5pc1RleHQobm9kZSkgJiZcbiAgICAgICAgVGV4dC5pc1RleHRQcm9wcyhwcm9wcykgJiZcbiAgICAgICAgVGV4dC5tYXRjaGVzKG5vZGUsIHByb3BzKSlcbiAgICApXG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGdlbmVyYXRvciBvZiBhbGwgdGhlIG5vZGUgZW50cmllcyBvZiBhIHJvb3Qgbm9kZS4gRWFjaCBlbnRyeSBpc1xuICAgKiByZXR1cm5lZCBhcyBhIGBbTm9kZSwgUGF0aF1gIHR1cGxlLCB3aXRoIHRoZSBwYXRoIHJlZmVycmluZyB0byB0aGUgbm9kZSdzXG4gICAqIHBvc2l0aW9uIGluc2lkZSB0aGUgcm9vdCBub2RlLlxuICAgKi9cblxuICAqbm9kZXMoXG4gICAgcm9vdDogTm9kZSxcbiAgICBvcHRpb25zOiBOb2RlTm9kZXNPcHRpb25zID0ge31cbiAgKTogR2VuZXJhdG9yPE5vZGVFbnRyeSwgdm9pZCwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3QgeyBwYXNzLCByZXZlcnNlID0gZmFsc2UgfSA9IG9wdGlvbnNcbiAgICBjb25zdCB7IGZyb20gPSBbXSwgdG8gfSA9IG9wdGlvbnNcbiAgICBjb25zdCB2aXNpdGVkID0gbmV3IFNldCgpXG4gICAgbGV0IHA6IFBhdGggPSBbXVxuICAgIGxldCBuID0gcm9vdFxuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmICh0byAmJiAocmV2ZXJzZSA/IFBhdGguaXNCZWZvcmUocCwgdG8pIDogUGF0aC5pc0FmdGVyKHAsIHRvKSkpIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgaWYgKCF2aXNpdGVkLmhhcyhuKSkge1xuICAgICAgICB5aWVsZCBbbiwgcF1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UncmUgYWxsb3dlZCB0byBnbyBkb3dud2FyZCBhbmQgd2UgaGF2ZW4ndCBkZXNjZW5kZWQgeWV0LCBkby5cbiAgICAgIGlmIChcbiAgICAgICAgIXZpc2l0ZWQuaGFzKG4pICYmXG4gICAgICAgICFUZXh0LmlzVGV4dChuKSAmJlxuICAgICAgICBuLmNoaWxkcmVuLmxlbmd0aCAhPT0gMCAmJlxuICAgICAgICAocGFzcyA9PSBudWxsIHx8IHBhc3MoW24sIHBdKSA9PT0gZmFsc2UpXG4gICAgICApIHtcbiAgICAgICAgdmlzaXRlZC5hZGQobilcbiAgICAgICAgbGV0IG5leHRJbmRleCA9IHJldmVyc2UgPyBuLmNoaWxkcmVuLmxlbmd0aCAtIDEgOiAwXG5cbiAgICAgICAgaWYgKFBhdGguaXNBbmNlc3RvcihwLCBmcm9tKSkge1xuICAgICAgICAgIG5leHRJbmRleCA9IGZyb21bcC5sZW5ndGhdXG4gICAgICAgIH1cblxuICAgICAgICBwID0gcC5jb25jYXQobmV4dEluZGV4KVxuICAgICAgICBuID0gTm9kZS5nZXQocm9vdCwgcClcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UncmUgYXQgdGhlIHJvb3QgYW5kIHdlIGNhbid0IGdvIGRvd24sIHdlJ3JlIGRvbmUuXG4gICAgICBpZiAocC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UncmUgZ29pbmcgZm9yd2FyZC4uLlxuICAgICAgaWYgKCFyZXZlcnNlKSB7XG4gICAgICAgIGNvbnN0IG5ld1BhdGggPSBQYXRoLm5leHQocClcblxuICAgICAgICBpZiAoTm9kZS5oYXMocm9vdCwgbmV3UGF0aCkpIHtcbiAgICAgICAgICBwID0gbmV3UGF0aFxuICAgICAgICAgIG4gPSBOb2RlLmdldChyb290LCBwKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UncmUgZ29pbmcgYmFja3dhcmQuLi5cbiAgICAgIGlmIChyZXZlcnNlICYmIHBbcC5sZW5ndGggLSAxXSAhPT0gMCkge1xuICAgICAgICBjb25zdCBuZXdQYXRoID0gUGF0aC5wcmV2aW91cyhwKVxuICAgICAgICBwID0gbmV3UGF0aFxuICAgICAgICBuID0gTm9kZS5nZXQocm9vdCwgcClcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gT3RoZXJ3aXNlIHdlJ3JlIGdvaW5nIHVwd2FyZC4uLlxuICAgICAgcCA9IFBhdGgucGFyZW50KHApXG4gICAgICBuID0gTm9kZS5nZXQocm9vdCwgcClcbiAgICAgIHZpc2l0ZWQuYWRkKG4pXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHBhcmVudCBvZiBhIG5vZGUgYXQgYSBzcGVjaWZpYyBwYXRoLlxuICAgKi9cblxuICBwYXJlbnQocm9vdDogTm9kZSwgcGF0aDogUGF0aCk6IEFuY2VzdG9yIHtcbiAgICBjb25zdCBwYXJlbnRQYXRoID0gUGF0aC5wYXJlbnQocGF0aClcbiAgICBjb25zdCBwID0gTm9kZS5nZXQocm9vdCwgcGFyZW50UGF0aClcblxuICAgIGlmIChUZXh0LmlzVGV4dChwKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ2Fubm90IGdldCB0aGUgcGFyZW50IG9mIHBhdGggWyR7cGF0aH1dIGJlY2F1c2UgaXQgZG9lcyBub3QgZXhpc3QgaW4gdGhlIHJvb3QuYFxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiBwXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29uY2F0ZW5hdGVkIHRleHQgc3RyaW5nIG9mIGEgbm9kZSdzIGNvbnRlbnQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCB0aGlzIHdpbGwgbm90IGluY2x1ZGUgc3BhY2VzIG9yIGxpbmUgYnJlYWtzIGJldHdlZW4gYmxvY2sgbm9kZXMuXG4gICAqIEl0IGlzIG5vdCBhIHVzZXItZmFjaW5nIHN0cmluZywgYnV0IGEgc3RyaW5nIGZvciBwZXJmb3JtaW5nIG9mZnNldC1yZWxhdGVkXG4gICAqIGNvbXB1dGF0aW9ucyBmb3IgYSBub2RlLlxuICAgKi9cblxuICBzdHJpbmcobm9kZTogTm9kZSk6IHN0cmluZyB7XG4gICAgaWYgKFRleHQuaXNUZXh0KG5vZGUpKSB7XG4gICAgICByZXR1cm4gbm9kZS50ZXh0XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBub2RlLmNoaWxkcmVuLm1hcChOb2RlLnN0cmluZykuam9pbignJylcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGdlbmVyYXRvciBvZiBhbGwgbGVhZiB0ZXh0IG5vZGVzIGluIGEgcm9vdCBub2RlLlxuICAgKi9cblxuICAqdGV4dHMoXG4gICAgcm9vdDogTm9kZSxcbiAgICBvcHRpb25zOiBOb2RlVGV4dHNPcHRpb25zID0ge31cbiAgKTogR2VuZXJhdG9yPE5vZGVFbnRyeTxUZXh0Piwgdm9pZCwgdW5kZWZpbmVkPiB7XG4gICAgZm9yIChjb25zdCBbbm9kZSwgcGF0aF0gb2YgTm9kZS5ub2Rlcyhyb290LCBvcHRpb25zKSkge1xuICAgICAgaWYgKFRleHQuaXNUZXh0KG5vZGUpKSB7XG4gICAgICAgIHlpZWxkIFtub2RlLCBwYXRoXVxuICAgICAgfVxuICAgIH1cbiAgfSxcbn1cblxuLyoqXG4gKiBUaGUgYERlc2NlbmRhbnRgIHVuaW9uIHR5cGUgcmVwcmVzZW50cyBub2RlcyB0aGF0IGFyZSBkZXNjZW5kYW50cyBpbiB0aGVcbiAqIHRyZWUuIEl0IGlzIHJldHVybmVkIGFzIGEgY29udmVuaWVuY2UgaW4gY2VydGFpbiBjYXNlcyB0byBuYXJyb3cgYSB2YWx1ZVxuICogZnVydGhlciB0aGFuIHRoZSBtb3JlIGdlbmVyaWMgYE5vZGVgIHVuaW9uLlxuICovXG5cbmV4cG9ydCB0eXBlIERlc2NlbmRhbnQgPSBFbGVtZW50IHwgVGV4dFxuXG4vKipcbiAqIFRoZSBgQW5jZXN0b3JgIHVuaW9uIHR5cGUgcmVwcmVzZW50cyBub2RlcyB0aGF0IGFyZSBhbmNlc3RvcnMgaW4gdGhlIHRyZWUuXG4gKiBJdCBpcyByZXR1cm5lZCBhcyBhIGNvbnZlbmllbmNlIGluIGNlcnRhaW4gY2FzZXMgdG8gbmFycm93IGEgdmFsdWUgZnVydGhlclxuICogdGhhbiB0aGUgbW9yZSBnZW5lcmljIGBOb2RlYCB1bmlvbi5cbiAqL1xuXG5leHBvcnQgdHlwZSBBbmNlc3RvciA9IEVkaXRvciB8IEVsZW1lbnRcblxuLyoqXG4gKiBgTm9kZUVudHJ5YCBvYmplY3RzIGFyZSByZXR1cm5lZCB3aGVuIGl0ZXJhdGluZyBvdmVyIHRoZSBub2RlcyBpbiBhIFNsYXRlXG4gKiBkb2N1bWVudCB0cmVlLiBUaGV5IGNvbnNpc3Qgb2YgdGhlIG5vZGUgYW5kIGl0cyBgUGF0aGAgcmVsYXRpdmUgdG8gdGhlIHJvb3RcbiAqIG5vZGUgaW4gdGhlIGRvY3VtZW50LlxuICovXG5cbmV4cG9ydCB0eXBlIE5vZGVFbnRyeTxUIGV4dGVuZHMgTm9kZSA9IE5vZGU+ID0gW1QsIFBhdGhdXG5cbi8qKlxuICogQ29udmVuaWVuY2UgdHlwZSBmb3IgcmV0dXJuaW5nIHRoZSBwcm9wcyBvZiBhIG5vZGUuXG4gKi9cbmV4cG9ydCB0eXBlIE5vZGVQcm9wcyA9XG4gIHwgT21pdDxFZGl0b3IsICdjaGlsZHJlbic+XG4gIHwgT21pdDxFbGVtZW50LCAnY2hpbGRyZW4nPlxuICB8IE9taXQ8VGV4dCwgJ3RleHQnPlxuIiwiaW1wb3J0IHsgRXh0ZW5kZWRUeXBlLCBOb2RlLCBQYXRoLCBSYW5nZSB9IGZyb20gJy4uJ1xuaW1wb3J0IHsgaXNQbGFpbk9iamVjdCB9IGZyb20gJ2lzLXBsYWluLW9iamVjdCdcblxuZXhwb3J0IHR5cGUgQmFzZUluc2VydE5vZGVPcGVyYXRpb24gPSB7XG4gIHR5cGU6ICdpbnNlcnRfbm9kZSdcbiAgcGF0aDogUGF0aFxuICBub2RlOiBOb2RlXG59XG5cbmV4cG9ydCB0eXBlIEluc2VydE5vZGVPcGVyYXRpb24gPSBFeHRlbmRlZFR5cGU8XG4gICdJbnNlcnROb2RlT3BlcmF0aW9uJyxcbiAgQmFzZUluc2VydE5vZGVPcGVyYXRpb25cbj5cblxuZXhwb3J0IHR5cGUgQmFzZUluc2VydFRleHRPcGVyYXRpb24gPSB7XG4gIHR5cGU6ICdpbnNlcnRfdGV4dCdcbiAgcGF0aDogUGF0aFxuICBvZmZzZXQ6IG51bWJlclxuICB0ZXh0OiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgSW5zZXJ0VGV4dE9wZXJhdGlvbiA9IEV4dGVuZGVkVHlwZTxcbiAgJ0luc2VydFRleHRPcGVyYXRpb24nLFxuICBCYXNlSW5zZXJ0VGV4dE9wZXJhdGlvblxuPlxuXG5leHBvcnQgdHlwZSBCYXNlTWVyZ2VOb2RlT3BlcmF0aW9uID0ge1xuICB0eXBlOiAnbWVyZ2Vfbm9kZSdcbiAgcGF0aDogUGF0aFxuICBwb3NpdGlvbjogbnVtYmVyXG4gIHByb3BlcnRpZXM6IFBhcnRpYWw8Tm9kZT5cbn1cblxuZXhwb3J0IHR5cGUgTWVyZ2VOb2RlT3BlcmF0aW9uID0gRXh0ZW5kZWRUeXBlPFxuICAnTWVyZ2VOb2RlT3BlcmF0aW9uJyxcbiAgQmFzZU1lcmdlTm9kZU9wZXJhdGlvblxuPlxuXG5leHBvcnQgdHlwZSBCYXNlTW92ZU5vZGVPcGVyYXRpb24gPSB7XG4gIHR5cGU6ICdtb3ZlX25vZGUnXG4gIHBhdGg6IFBhdGhcbiAgbmV3UGF0aDogUGF0aFxufVxuXG5leHBvcnQgdHlwZSBNb3ZlTm9kZU9wZXJhdGlvbiA9IEV4dGVuZGVkVHlwZTxcbiAgJ01vdmVOb2RlT3BlcmF0aW9uJyxcbiAgQmFzZU1vdmVOb2RlT3BlcmF0aW9uXG4+XG5cbmV4cG9ydCB0eXBlIEJhc2VSZW1vdmVOb2RlT3BlcmF0aW9uID0ge1xuICB0eXBlOiAncmVtb3ZlX25vZGUnXG4gIHBhdGg6IFBhdGhcbiAgbm9kZTogTm9kZVxufVxuXG5leHBvcnQgdHlwZSBSZW1vdmVOb2RlT3BlcmF0aW9uID0gRXh0ZW5kZWRUeXBlPFxuICAnUmVtb3ZlTm9kZU9wZXJhdGlvbicsXG4gIEJhc2VSZW1vdmVOb2RlT3BlcmF0aW9uXG4+XG5cbmV4cG9ydCB0eXBlIEJhc2VSZW1vdmVUZXh0T3BlcmF0aW9uID0ge1xuICB0eXBlOiAncmVtb3ZlX3RleHQnXG4gIHBhdGg6IFBhdGhcbiAgb2Zmc2V0OiBudW1iZXJcbiAgdGV4dDogc3RyaW5nXG59XG5cbmV4cG9ydCB0eXBlIFJlbW92ZVRleHRPcGVyYXRpb24gPSBFeHRlbmRlZFR5cGU8XG4gICdSZW1vdmVUZXh0T3BlcmF0aW9uJyxcbiAgQmFzZVJlbW92ZVRleHRPcGVyYXRpb25cbj5cblxuZXhwb3J0IHR5cGUgQmFzZVNldE5vZGVPcGVyYXRpb24gPSB7XG4gIHR5cGU6ICdzZXRfbm9kZSdcbiAgcGF0aDogUGF0aFxuICBwcm9wZXJ0aWVzOiBQYXJ0aWFsPE5vZGU+XG4gIG5ld1Byb3BlcnRpZXM6IFBhcnRpYWw8Tm9kZT5cbn1cblxuZXhwb3J0IHR5cGUgU2V0Tm9kZU9wZXJhdGlvbiA9IEV4dGVuZGVkVHlwZTxcbiAgJ1NldE5vZGVPcGVyYXRpb24nLFxuICBCYXNlU2V0Tm9kZU9wZXJhdGlvblxuPlxuXG5leHBvcnQgdHlwZSBCYXNlU2V0U2VsZWN0aW9uT3BlcmF0aW9uID1cbiAgfCB7XG4gICAgICB0eXBlOiAnc2V0X3NlbGVjdGlvbidcbiAgICAgIHByb3BlcnRpZXM6IG51bGxcbiAgICAgIG5ld1Byb3BlcnRpZXM6IFJhbmdlXG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdzZXRfc2VsZWN0aW9uJ1xuICAgICAgcHJvcGVydGllczogUGFydGlhbDxSYW5nZT5cbiAgICAgIG5ld1Byb3BlcnRpZXM6IFBhcnRpYWw8UmFuZ2U+XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6ICdzZXRfc2VsZWN0aW9uJ1xuICAgICAgcHJvcGVydGllczogUmFuZ2VcbiAgICAgIG5ld1Byb3BlcnRpZXM6IG51bGxcbiAgICB9XG5cbmV4cG9ydCB0eXBlIFNldFNlbGVjdGlvbk9wZXJhdGlvbiA9IEV4dGVuZGVkVHlwZTxcbiAgJ1NldFNlbGVjdGlvbk9wZXJhdGlvbicsXG4gIEJhc2VTZXRTZWxlY3Rpb25PcGVyYXRpb25cbj5cblxuZXhwb3J0IHR5cGUgQmFzZVNwbGl0Tm9kZU9wZXJhdGlvbiA9IHtcbiAgdHlwZTogJ3NwbGl0X25vZGUnXG4gIHBhdGg6IFBhdGhcbiAgcG9zaXRpb246IG51bWJlclxuICBwcm9wZXJ0aWVzOiBQYXJ0aWFsPE5vZGU+XG59XG5cbmV4cG9ydCB0eXBlIFNwbGl0Tm9kZU9wZXJhdGlvbiA9IEV4dGVuZGVkVHlwZTxcbiAgJ1NwbGl0Tm9kZU9wZXJhdGlvbicsXG4gIEJhc2VTcGxpdE5vZGVPcGVyYXRpb25cbj5cblxuZXhwb3J0IHR5cGUgTm9kZU9wZXJhdGlvbiA9XG4gIHwgSW5zZXJ0Tm9kZU9wZXJhdGlvblxuICB8IE1lcmdlTm9kZU9wZXJhdGlvblxuICB8IE1vdmVOb2RlT3BlcmF0aW9uXG4gIHwgUmVtb3ZlTm9kZU9wZXJhdGlvblxuICB8IFNldE5vZGVPcGVyYXRpb25cbiAgfCBTcGxpdE5vZGVPcGVyYXRpb25cblxuZXhwb3J0IHR5cGUgU2VsZWN0aW9uT3BlcmF0aW9uID0gU2V0U2VsZWN0aW9uT3BlcmF0aW9uXG5cbmV4cG9ydCB0eXBlIFRleHRPcGVyYXRpb24gPSBJbnNlcnRUZXh0T3BlcmF0aW9uIHwgUmVtb3ZlVGV4dE9wZXJhdGlvblxuXG4vKipcbiAqIGBPcGVyYXRpb25gIG9iamVjdHMgZGVmaW5lIHRoZSBsb3ctbGV2ZWwgaW5zdHJ1Y3Rpb25zIHRoYXQgU2xhdGUgZWRpdG9ycyB1c2VcbiAqIHRvIGFwcGx5IGNoYW5nZXMgdG8gdGhlaXIgaW50ZXJuYWwgc3RhdGUuIFJlcHJlc2VudGluZyBhbGwgY2hhbmdlcyBhc1xuICogb3BlcmF0aW9ucyBpcyB3aGF0IGFsbG93cyBTbGF0ZSBlZGl0b3JzIHRvIGVhc2lseSBpbXBsZW1lbnQgaGlzdG9yeSxcbiAqIGNvbGxhYm9yYXRpb24sIGFuZCBvdGhlciBmZWF0dXJlcy5cbiAqL1xuXG5leHBvcnQgdHlwZSBCYXNlT3BlcmF0aW9uID0gTm9kZU9wZXJhdGlvbiB8IFNlbGVjdGlvbk9wZXJhdGlvbiB8IFRleHRPcGVyYXRpb25cbmV4cG9ydCB0eXBlIE9wZXJhdGlvbiA9IEV4dGVuZGVkVHlwZTwnT3BlcmF0aW9uJywgQmFzZU9wZXJhdGlvbj5cblxuZXhwb3J0IGludGVyZmFjZSBPcGVyYXRpb25JbnRlcmZhY2Uge1xuICBpc05vZGVPcGVyYXRpb246ICh2YWx1ZTogYW55KSA9PiB2YWx1ZSBpcyBOb2RlT3BlcmF0aW9uXG4gIGlzT3BlcmF0aW9uOiAodmFsdWU6IGFueSkgPT4gdmFsdWUgaXMgT3BlcmF0aW9uXG4gIGlzT3BlcmF0aW9uTGlzdDogKHZhbHVlOiBhbnkpID0+IHZhbHVlIGlzIE9wZXJhdGlvbltdXG4gIGlzU2VsZWN0aW9uT3BlcmF0aW9uOiAodmFsdWU6IGFueSkgPT4gdmFsdWUgaXMgU2VsZWN0aW9uT3BlcmF0aW9uXG4gIGlzVGV4dE9wZXJhdGlvbjogKHZhbHVlOiBhbnkpID0+IHZhbHVlIGlzIFRleHRPcGVyYXRpb25cbiAgaW52ZXJzZTogKG9wOiBPcGVyYXRpb24pID0+IE9wZXJhdGlvblxufVxuXG5leHBvcnQgY29uc3QgT3BlcmF0aW9uOiBPcGVyYXRpb25JbnRlcmZhY2UgPSB7XG4gIC8qKlxuICAgKiBDaGVjayBvZiBhIHZhbHVlIGlzIGEgYE5vZGVPcGVyYXRpb25gIG9iamVjdC5cbiAgICovXG5cbiAgaXNOb2RlT3BlcmF0aW9uKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBOb2RlT3BlcmF0aW9uIHtcbiAgICByZXR1cm4gT3BlcmF0aW9uLmlzT3BlcmF0aW9uKHZhbHVlKSAmJiB2YWx1ZS50eXBlLmVuZHNXaXRoKCdfbm9kZScpXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIG9mIGEgdmFsdWUgaXMgYW4gYE9wZXJhdGlvbmAgb2JqZWN0LlxuICAgKi9cblxuICBpc09wZXJhdGlvbih2YWx1ZTogYW55KTogdmFsdWUgaXMgT3BlcmF0aW9uIHtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHZhbHVlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2luc2VydF9ub2RlJzpcbiAgICAgICAgcmV0dXJuIFBhdGguaXNQYXRoKHZhbHVlLnBhdGgpICYmIE5vZGUuaXNOb2RlKHZhbHVlLm5vZGUpXG4gICAgICBjYXNlICdpbnNlcnRfdGV4dCc6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLm9mZnNldCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudGV4dCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICBQYXRoLmlzUGF0aCh2YWx1ZS5wYXRoKVxuICAgICAgICApXG4gICAgICBjYXNlICdtZXJnZV9ub2RlJzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICB0eXBlb2YgdmFsdWUucG9zaXRpb24gPT09ICdudW1iZXInICYmXG4gICAgICAgICAgUGF0aC5pc1BhdGgodmFsdWUucGF0aCkgJiZcbiAgICAgICAgICBpc1BsYWluT2JqZWN0KHZhbHVlLnByb3BlcnRpZXMpXG4gICAgICAgIClcbiAgICAgIGNhc2UgJ21vdmVfbm9kZSc6XG4gICAgICAgIHJldHVybiBQYXRoLmlzUGF0aCh2YWx1ZS5wYXRoKSAmJiBQYXRoLmlzUGF0aCh2YWx1ZS5uZXdQYXRoKVxuICAgICAgY2FzZSAncmVtb3ZlX25vZGUnOlxuICAgICAgICByZXR1cm4gUGF0aC5pc1BhdGgodmFsdWUucGF0aCkgJiYgTm9kZS5pc05vZGUodmFsdWUubm9kZSlcbiAgICAgIGNhc2UgJ3JlbW92ZV90ZXh0JzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICB0eXBlb2YgdmFsdWUub2Zmc2V0ID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50ZXh0ID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgIFBhdGguaXNQYXRoKHZhbHVlLnBhdGgpXG4gICAgICAgIClcbiAgICAgIGNhc2UgJ3NldF9ub2RlJzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBQYXRoLmlzUGF0aCh2YWx1ZS5wYXRoKSAmJlxuICAgICAgICAgIGlzUGxhaW5PYmplY3QodmFsdWUucHJvcGVydGllcykgJiZcbiAgICAgICAgICBpc1BsYWluT2JqZWN0KHZhbHVlLm5ld1Byb3BlcnRpZXMpXG4gICAgICAgIClcbiAgICAgIGNhc2UgJ3NldF9zZWxlY3Rpb24nOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICh2YWx1ZS5wcm9wZXJ0aWVzID09PSBudWxsICYmIFJhbmdlLmlzUmFuZ2UodmFsdWUubmV3UHJvcGVydGllcykpIHx8XG4gICAgICAgICAgKHZhbHVlLm5ld1Byb3BlcnRpZXMgPT09IG51bGwgJiYgUmFuZ2UuaXNSYW5nZSh2YWx1ZS5wcm9wZXJ0aWVzKSkgfHxcbiAgICAgICAgICAoaXNQbGFpbk9iamVjdCh2YWx1ZS5wcm9wZXJ0aWVzKSAmJlxuICAgICAgICAgICAgaXNQbGFpbk9iamVjdCh2YWx1ZS5uZXdQcm9wZXJ0aWVzKSlcbiAgICAgICAgKVxuICAgICAgY2FzZSAnc3BsaXRfbm9kZSc6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgUGF0aC5pc1BhdGgodmFsdWUucGF0aCkgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUucG9zaXRpb24gPT09ICdudW1iZXInICYmXG4gICAgICAgICAgaXNQbGFpbk9iamVjdCh2YWx1ZS5wcm9wZXJ0aWVzKVxuICAgICAgICApXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdmFsdWUgaXMgYSBsaXN0IG9mIGBPcGVyYXRpb25gIG9iamVjdHMuXG4gICAqL1xuXG4gIGlzT3BlcmF0aW9uTGlzdCh2YWx1ZTogYW55KTogdmFsdWUgaXMgT3BlcmF0aW9uW10ge1xuICAgIHJldHVybiAoXG4gICAgICBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5ldmVyeSh2YWwgPT4gT3BlcmF0aW9uLmlzT3BlcmF0aW9uKHZhbCkpXG4gICAgKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBvZiBhIHZhbHVlIGlzIGEgYFNlbGVjdGlvbk9wZXJhdGlvbmAgb2JqZWN0LlxuICAgKi9cblxuICBpc1NlbGVjdGlvbk9wZXJhdGlvbih2YWx1ZTogYW55KTogdmFsdWUgaXMgU2VsZWN0aW9uT3BlcmF0aW9uIHtcbiAgICByZXR1cm4gT3BlcmF0aW9uLmlzT3BlcmF0aW9uKHZhbHVlKSAmJiB2YWx1ZS50eXBlLmVuZHNXaXRoKCdfc2VsZWN0aW9uJylcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgb2YgYSB2YWx1ZSBpcyBhIGBUZXh0T3BlcmF0aW9uYCBvYmplY3QuXG4gICAqL1xuXG4gIGlzVGV4dE9wZXJhdGlvbih2YWx1ZTogYW55KTogdmFsdWUgaXMgVGV4dE9wZXJhdGlvbiB7XG4gICAgcmV0dXJuIE9wZXJhdGlvbi5pc09wZXJhdGlvbih2YWx1ZSkgJiYgdmFsdWUudHlwZS5lbmRzV2l0aCgnX3RleHQnKVxuICB9LFxuXG4gIC8qKlxuICAgKiBJbnZlcnQgYW4gb3BlcmF0aW9uLCByZXR1cm5pbmcgYSBuZXcgb3BlcmF0aW9uIHRoYXQgd2lsbCBleGFjdGx5IHVuZG8gdGhlXG4gICAqIG9yaWdpbmFsIHdoZW4gYXBwbGllZC5cbiAgICovXG5cbiAgaW52ZXJzZShvcDogT3BlcmF0aW9uKTogT3BlcmF0aW9uIHtcbiAgICBzd2l0Y2ggKG9wLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2luc2VydF9ub2RlJzoge1xuICAgICAgICByZXR1cm4geyAuLi5vcCwgdHlwZTogJ3JlbW92ZV9ub2RlJyB9XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ2luc2VydF90ZXh0Jzoge1xuICAgICAgICByZXR1cm4geyAuLi5vcCwgdHlwZTogJ3JlbW92ZV90ZXh0JyB9XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ21lcmdlX25vZGUnOiB7XG4gICAgICAgIHJldHVybiB7IC4uLm9wLCB0eXBlOiAnc3BsaXRfbm9kZScsIHBhdGg6IFBhdGgucHJldmlvdXMob3AucGF0aCkgfVxuICAgICAgfVxuXG4gICAgICBjYXNlICdtb3ZlX25vZGUnOiB7XG4gICAgICAgIGNvbnN0IHsgbmV3UGF0aCwgcGF0aCB9ID0gb3BcblxuICAgICAgICAvLyBQRVJGOiBpbiB0aGlzIGNhc2UgdGhlIG1vdmUgb3BlcmF0aW9uIGlzIGEgbm8tb3AgYW55d2F5cy5cbiAgICAgICAgaWYgKFBhdGguZXF1YWxzKG5ld1BhdGgsIHBhdGgpKSB7XG4gICAgICAgICAgcmV0dXJuIG9wXG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgbW92ZSBoYXBwZW5zIGNvbXBsZXRlbHkgd2l0aGluIGEgc2luZ2xlIHBhcmVudCB0aGUgcGF0aCBhbmRcbiAgICAgICAgLy8gbmV3UGF0aCBhcmUgc3RhYmxlIHdpdGggcmVzcGVjdCB0byBlYWNoIG90aGVyLlxuICAgICAgICBpZiAoUGF0aC5pc1NpYmxpbmcocGF0aCwgbmV3UGF0aCkpIHtcbiAgICAgICAgICByZXR1cm4geyAuLi5vcCwgcGF0aDogbmV3UGF0aCwgbmV3UGF0aDogcGF0aCB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGUgbW92ZSBkb2VzIG5vdCBoYXBwZW4gd2l0aGluIGEgc2luZ2xlIHBhcmVudCBpdCBpcyBwb3NzaWJsZVxuICAgICAgICAvLyBmb3IgdGhlIG1vdmUgdG8gaW1wYWN0IHRoZSB0cnVlIHBhdGggdG8gdGhlIGxvY2F0aW9uIHdoZXJlIHRoZSBub2RlXG4gICAgICAgIC8vIHdhcyByZW1vdmVkIGZyb20gYW5kIHdoZXJlIGl0IHdhcyBpbnNlcnRlZC4gV2UgaGF2ZSB0byBhZGp1c3QgZm9yIHRoaXNcbiAgICAgICAgLy8gYW5kIGZpbmQgdGhlIG9yaWdpbmFsIHBhdGguIFdlIGNhbiBhY2NvbXBsaXNoIHRoaXMgKG9ubHkgaW4gbm9uLXNpYmxpbmcpXG4gICAgICAgIC8vIG1vdmVzIGJ5IGxvb2tpbmcgYXQgdGhlIGltcGFjdCBvZiB0aGUgbW92ZSBvcGVyYXRpb24gb24gdGhlIG5vZGVcbiAgICAgICAgLy8gYWZ0ZXIgdGhlIG9yaWdpbmFsIG1vdmUgcGF0aC5cbiAgICAgICAgY29uc3QgaW52ZXJzZVBhdGggPSBQYXRoLnRyYW5zZm9ybShwYXRoLCBvcCkhXG4gICAgICAgIGNvbnN0IGludmVyc2VOZXdQYXRoID0gUGF0aC50cmFuc2Zvcm0oUGF0aC5uZXh0KHBhdGgpLCBvcCkhXG4gICAgICAgIHJldHVybiB7IC4uLm9wLCBwYXRoOiBpbnZlcnNlUGF0aCwgbmV3UGF0aDogaW52ZXJzZU5ld1BhdGggfVxuICAgICAgfVxuXG4gICAgICBjYXNlICdyZW1vdmVfbm9kZSc6IHtcbiAgICAgICAgcmV0dXJuIHsgLi4ub3AsIHR5cGU6ICdpbnNlcnRfbm9kZScgfVxuICAgICAgfVxuXG4gICAgICBjYXNlICdyZW1vdmVfdGV4dCc6IHtcbiAgICAgICAgcmV0dXJuIHsgLi4ub3AsIHR5cGU6ICdpbnNlcnRfdGV4dCcgfVxuICAgICAgfVxuXG4gICAgICBjYXNlICdzZXRfbm9kZSc6IHtcbiAgICAgICAgY29uc3QgeyBwcm9wZXJ0aWVzLCBuZXdQcm9wZXJ0aWVzIH0gPSBvcFxuICAgICAgICByZXR1cm4geyAuLi5vcCwgcHJvcGVydGllczogbmV3UHJvcGVydGllcywgbmV3UHJvcGVydGllczogcHJvcGVydGllcyB9XG4gICAgICB9XG5cbiAgICAgIGNhc2UgJ3NldF9zZWxlY3Rpb24nOiB7XG4gICAgICAgIGNvbnN0IHsgcHJvcGVydGllcywgbmV3UHJvcGVydGllcyB9ID0gb3BcblxuICAgICAgICBpZiAocHJvcGVydGllcyA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLm9wLFxuICAgICAgICAgICAgcHJvcGVydGllczogbmV3UHJvcGVydGllcyBhcyBSYW5nZSxcbiAgICAgICAgICAgIG5ld1Byb3BlcnRpZXM6IG51bGwsXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5ld1Byb3BlcnRpZXMgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5vcCxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IG51bGwsXG4gICAgICAgICAgICBuZXdQcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzIGFzIFJhbmdlLFxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyAuLi5vcCwgcHJvcGVydGllczogbmV3UHJvcGVydGllcywgbmV3UHJvcGVydGllczogcHJvcGVydGllcyB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2FzZSAnc3BsaXRfbm9kZSc6IHtcbiAgICAgICAgcmV0dXJuIHsgLi4ub3AsIHR5cGU6ICdtZXJnZV9ub2RlJywgcGF0aDogUGF0aC5uZXh0KG9wLnBhdGgpIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG59XG4iLCJpbXBvcnQgeyBwcm9kdWNlIH0gZnJvbSAnaW1tZXInXG5pbXBvcnQgeyBPcGVyYXRpb24gfSBmcm9tICcuLidcbmltcG9ydCB7IFRleHREaXJlY3Rpb24gfSBmcm9tICcuL3R5cGVzJ1xuXG4vKipcbiAqIGBQYXRoYCBhcnJheXMgYXJlIGEgbGlzdCBvZiBpbmRleGVzIHRoYXQgZGVzY3JpYmUgYSBub2RlJ3MgZXhhY3QgcG9zaXRpb24gaW5cbiAqIGEgU2xhdGUgbm9kZSB0cmVlLiBBbHRob3VnaCB0aGV5IGFyZSB1c3VhbGx5IHJlbGF0aXZlIHRvIHRoZSByb290IGBFZGl0b3JgXG4gKiBvYmplY3QsIHRoZXkgY2FuIGJlIHJlbGF0aXZlIHRvIGFueSBgTm9kZWAgb2JqZWN0LlxuICovXG5cbmV4cG9ydCB0eXBlIFBhdGggPSBudW1iZXJbXVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhdGhBbmNlc3RvcnNPcHRpb25zIHtcbiAgcmV2ZXJzZT86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYXRoTGV2ZWxzT3B0aW9ucyB7XG4gIHJldmVyc2U/OiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF0aFRyYW5zZm9ybU9wdGlvbnMge1xuICBhZmZpbml0eT86IFRleHREaXJlY3Rpb24gfCBudWxsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF0aEludGVyZmFjZSB7XG4gIGFuY2VzdG9yczogKHBhdGg6IFBhdGgsIG9wdGlvbnM/OiBQYXRoQW5jZXN0b3JzT3B0aW9ucykgPT4gUGF0aFtdXG4gIGNvbW1vbjogKHBhdGg6IFBhdGgsIGFub3RoZXI6IFBhdGgpID0+IFBhdGhcbiAgY29tcGFyZTogKHBhdGg6IFBhdGgsIGFub3RoZXI6IFBhdGgpID0+IC0xIHwgMCB8IDFcbiAgZW5kc0FmdGVyOiAocGF0aDogUGF0aCwgYW5vdGhlcjogUGF0aCkgPT4gYm9vbGVhblxuICBlbmRzQXQ6IChwYXRoOiBQYXRoLCBhbm90aGVyOiBQYXRoKSA9PiBib29sZWFuXG4gIGVuZHNCZWZvcmU6IChwYXRoOiBQYXRoLCBhbm90aGVyOiBQYXRoKSA9PiBib29sZWFuXG4gIGVxdWFsczogKHBhdGg6IFBhdGgsIGFub3RoZXI6IFBhdGgpID0+IGJvb2xlYW5cbiAgaGFzUHJldmlvdXM6IChwYXRoOiBQYXRoKSA9PiBib29sZWFuXG4gIGlzQWZ0ZXI6IChwYXRoOiBQYXRoLCBhbm90aGVyOiBQYXRoKSA9PiBib29sZWFuXG4gIGlzQW5jZXN0b3I6IChwYXRoOiBQYXRoLCBhbm90aGVyOiBQYXRoKSA9PiBib29sZWFuXG4gIGlzQmVmb3JlOiAocGF0aDogUGF0aCwgYW5vdGhlcjogUGF0aCkgPT4gYm9vbGVhblxuICBpc0NoaWxkOiAocGF0aDogUGF0aCwgYW5vdGhlcjogUGF0aCkgPT4gYm9vbGVhblxuICBpc0NvbW1vbjogKHBhdGg6IFBhdGgsIGFub3RoZXI6IFBhdGgpID0+IGJvb2xlYW5cbiAgaXNEZXNjZW5kYW50OiAocGF0aDogUGF0aCwgYW5vdGhlcjogUGF0aCkgPT4gYm9vbGVhblxuICBpc1BhcmVudDogKHBhdGg6IFBhdGgsIGFub3RoZXI6IFBhdGgpID0+IGJvb2xlYW5cbiAgaXNQYXRoOiAodmFsdWU6IGFueSkgPT4gdmFsdWUgaXMgUGF0aFxuICBpc1NpYmxpbmc6IChwYXRoOiBQYXRoLCBhbm90aGVyOiBQYXRoKSA9PiBib29sZWFuXG4gIGxldmVsczogKHBhdGg6IFBhdGgsIG9wdGlvbnM/OiBQYXRoTGV2ZWxzT3B0aW9ucykgPT4gUGF0aFtdXG4gIG5leHQ6IChwYXRoOiBQYXRoKSA9PiBQYXRoXG4gIG9wZXJhdGlvbkNhblRyYW5zZm9ybVBhdGg6IChvcGVyYXRpb246IE9wZXJhdGlvbikgPT4gYm9vbGVhblxuICBwYXJlbnQ6IChwYXRoOiBQYXRoKSA9PiBQYXRoXG4gIHByZXZpb3VzOiAocGF0aDogUGF0aCkgPT4gUGF0aFxuICByZWxhdGl2ZTogKHBhdGg6IFBhdGgsIGFuY2VzdG9yOiBQYXRoKSA9PiBQYXRoXG4gIHRyYW5zZm9ybTogKFxuICAgIHBhdGg6IFBhdGgsXG4gICAgb3BlcmF0aW9uOiBPcGVyYXRpb24sXG4gICAgb3B0aW9ucz86IFBhdGhUcmFuc2Zvcm1PcHRpb25zXG4gICkgPT4gUGF0aCB8IG51bGxcbn1cblxuZXhwb3J0IGNvbnN0IFBhdGg6IFBhdGhJbnRlcmZhY2UgPSB7XG4gIC8qKlxuICAgKiBHZXQgYSBsaXN0IG9mIGFuY2VzdG9yIHBhdGhzIGZvciBhIGdpdmVuIHBhdGguXG4gICAqXG4gICAqIFRoZSBwYXRocyBhcmUgc29ydGVkIGZyb20gc2hhbGxvd2VzdCB0byBkZWVwZXN0IGFuY2VzdG9yLiBIb3dldmVyLCBpZiB0aGVcbiAgICogYHJldmVyc2U6IHRydWVgIG9wdGlvbiBpcyBwYXNzZWQsIHRoZXkgYXJlIHJldmVyc2VkLlxuICAgKi9cblxuICBhbmNlc3RvcnMocGF0aDogUGF0aCwgb3B0aW9uczogUGF0aEFuY2VzdG9yc09wdGlvbnMgPSB7fSk6IFBhdGhbXSB7XG4gICAgY29uc3QgeyByZXZlcnNlID0gZmFsc2UgfSA9IG9wdGlvbnNcbiAgICBsZXQgcGF0aHMgPSBQYXRoLmxldmVscyhwYXRoLCBvcHRpb25zKVxuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHBhdGhzID0gcGF0aHMuc2xpY2UoMSlcbiAgICB9IGVsc2Uge1xuICAgICAgcGF0aHMgPSBwYXRocy5zbGljZSgwLCAtMSlcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aHNcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBjb21tb24gYW5jZXN0b3IgcGF0aCBvZiB0d28gcGF0aHMuXG4gICAqL1xuXG4gIGNvbW1vbihwYXRoOiBQYXRoLCBhbm90aGVyOiBQYXRoKTogUGF0aCB7XG4gICAgY29uc3QgY29tbW9uOiBQYXRoID0gW11cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aC5sZW5ndGggJiYgaSA8IGFub3RoZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGF2ID0gcGF0aFtpXVxuICAgICAgY29uc3QgYnYgPSBhbm90aGVyW2ldXG5cbiAgICAgIGlmIChhdiAhPT0gYnYpIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgY29tbW9uLnB1c2goYXYpXG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbW1vblxuICB9LFxuXG4gIC8qKlxuICAgKiBDb21wYXJlIGEgcGF0aCB0byBhbm90aGVyLCByZXR1cm5pbmcgYW4gaW50ZWdlciBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHBhdGhcbiAgICogd2FzIGJlZm9yZSwgYXQsIG9yIGFmdGVyIHRoZSBvdGhlci5cbiAgICpcbiAgICogTm90ZTogVHdvIHBhdGhzIG9mIHVuZXF1YWwgbGVuZ3RoIGNhbiBzdGlsbCByZWNlaXZlIGEgYDBgIHJlc3VsdCBpZiBvbmUgaXNcbiAgICogZGlyZWN0bHkgYWJvdmUgb3IgYmVsb3cgdGhlIG90aGVyLiBJZiB5b3Ugd2FudCBleGFjdCBtYXRjaGluZywgdXNlXG4gICAqIFtbUGF0aC5lcXVhbHNdXSBpbnN0ZWFkLlxuICAgKi9cblxuICBjb21wYXJlKHBhdGg6IFBhdGgsIGFub3RoZXI6IFBhdGgpOiAtMSB8IDAgfCAxIHtcbiAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihwYXRoLmxlbmd0aCwgYW5vdGhlci5sZW5ndGgpXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1pbjsgaSsrKSB7XG4gICAgICBpZiAocGF0aFtpXSA8IGFub3RoZXJbaV0pIHJldHVybiAtMVxuICAgICAgaWYgKHBhdGhbaV0gPiBhbm90aGVyW2ldKSByZXR1cm4gMVxuICAgIH1cblxuICAgIHJldHVybiAwXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcGF0aCBlbmRzIGFmdGVyIG9uZSBvZiB0aGUgaW5kZXhlcyBpbiBhbm90aGVyLlxuICAgKi9cblxuICBlbmRzQWZ0ZXIocGF0aDogUGF0aCwgYW5vdGhlcjogUGF0aCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGkgPSBwYXRoLmxlbmd0aCAtIDFcbiAgICBjb25zdCBhcyA9IHBhdGguc2xpY2UoMCwgaSlcbiAgICBjb25zdCBicyA9IGFub3RoZXIuc2xpY2UoMCwgaSlcbiAgICBjb25zdCBhdiA9IHBhdGhbaV1cbiAgICBjb25zdCBidiA9IGFub3RoZXJbaV1cbiAgICByZXR1cm4gUGF0aC5lcXVhbHMoYXMsIGJzKSAmJiBhdiA+IGJ2XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcGF0aCBlbmRzIGF0IG9uZSBvZiB0aGUgaW5kZXhlcyBpbiBhbm90aGVyLlxuICAgKi9cblxuICBlbmRzQXQocGF0aDogUGF0aCwgYW5vdGhlcjogUGF0aCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGkgPSBwYXRoLmxlbmd0aFxuICAgIGNvbnN0IGFzID0gcGF0aC5zbGljZSgwLCBpKVxuICAgIGNvbnN0IGJzID0gYW5vdGhlci5zbGljZSgwLCBpKVxuICAgIHJldHVybiBQYXRoLmVxdWFscyhhcywgYnMpXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcGF0aCBlbmRzIGJlZm9yZSBvbmUgb2YgdGhlIGluZGV4ZXMgaW4gYW5vdGhlci5cbiAgICovXG5cbiAgZW5kc0JlZm9yZShwYXRoOiBQYXRoLCBhbm90aGVyOiBQYXRoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaSA9IHBhdGgubGVuZ3RoIC0gMVxuICAgIGNvbnN0IGFzID0gcGF0aC5zbGljZSgwLCBpKVxuICAgIGNvbnN0IGJzID0gYW5vdGhlci5zbGljZSgwLCBpKVxuICAgIGNvbnN0IGF2ID0gcGF0aFtpXVxuICAgIGNvbnN0IGJ2ID0gYW5vdGhlcltpXVxuICAgIHJldHVybiBQYXRoLmVxdWFscyhhcywgYnMpICYmIGF2IDwgYnZcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBwYXRoIGlzIGV4YWN0bHkgZXF1YWwgdG8gYW5vdGhlci5cbiAgICovXG5cbiAgZXF1YWxzKHBhdGg6IFBhdGgsIGFub3RoZXI6IFBhdGgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgcGF0aC5sZW5ndGggPT09IGFub3RoZXIubGVuZ3RoICYmIHBhdGguZXZlcnkoKG4sIGkpID0+IG4gPT09IGFub3RoZXJbaV0pXG4gICAgKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgcGF0aCBvZiBwcmV2aW91cyBzaWJsaW5nIG5vZGUgZXhpc3RzXG4gICAqL1xuXG4gIGhhc1ByZXZpb3VzKHBhdGg6IFBhdGgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcGF0aFtwYXRoLmxlbmd0aCAtIDFdID4gMFxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHBhdGggaXMgYWZ0ZXIgYW5vdGhlci5cbiAgICovXG5cbiAgaXNBZnRlcihwYXRoOiBQYXRoLCBhbm90aGVyOiBQYXRoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIFBhdGguY29tcGFyZShwYXRoLCBhbm90aGVyKSA9PT0gMVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHBhdGggaXMgYW4gYW5jZXN0b3Igb2YgYW5vdGhlci5cbiAgICovXG5cbiAgaXNBbmNlc3RvcihwYXRoOiBQYXRoLCBhbm90aGVyOiBQYXRoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHBhdGgubGVuZ3RoIDwgYW5vdGhlci5sZW5ndGggJiYgUGF0aC5jb21wYXJlKHBhdGgsIGFub3RoZXIpID09PSAwXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcGF0aCBpcyBiZWZvcmUgYW5vdGhlci5cbiAgICovXG5cbiAgaXNCZWZvcmUocGF0aDogUGF0aCwgYW5vdGhlcjogUGF0aCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBQYXRoLmNvbXBhcmUocGF0aCwgYW5vdGhlcikgPT09IC0xXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcGF0aCBpcyBhIGNoaWxkIG9mIGFub3RoZXIuXG4gICAqL1xuXG4gIGlzQ2hpbGQocGF0aDogUGF0aCwgYW5vdGhlcjogUGF0aCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBwYXRoLmxlbmd0aCA9PT0gYW5vdGhlci5sZW5ndGggKyAxICYmIFBhdGguY29tcGFyZShwYXRoLCBhbm90aGVyKSA9PT0gMFxuICAgIClcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBwYXRoIGlzIGVxdWFsIHRvIG9yIGFuIGFuY2VzdG9yIG9mIGFub3RoZXIuXG4gICAqL1xuXG4gIGlzQ29tbW9uKHBhdGg6IFBhdGgsIGFub3RoZXI6IFBhdGgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcGF0aC5sZW5ndGggPD0gYW5vdGhlci5sZW5ndGggJiYgUGF0aC5jb21wYXJlKHBhdGgsIGFub3RoZXIpID09PSAwXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcGF0aCBpcyBhIGRlc2NlbmRhbnQgb2YgYW5vdGhlci5cbiAgICovXG5cbiAgaXNEZXNjZW5kYW50KHBhdGg6IFBhdGgsIGFub3RoZXI6IFBhdGgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gcGF0aC5sZW5ndGggPiBhbm90aGVyLmxlbmd0aCAmJiBQYXRoLmNvbXBhcmUocGF0aCwgYW5vdGhlcikgPT09IDBcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBwYXRoIGlzIHRoZSBwYXJlbnQgb2YgYW5vdGhlci5cbiAgICovXG5cbiAgaXNQYXJlbnQocGF0aDogUGF0aCwgYW5vdGhlcjogUGF0aCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBwYXRoLmxlbmd0aCArIDEgPT09IGFub3RoZXIubGVuZ3RoICYmIFBhdGguY29tcGFyZShwYXRoLCBhbm90aGVyKSA9PT0gMFxuICAgIClcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaXMgYSB2YWx1ZSBpbXBsZW1lbnRzIHRoZSBgUGF0aGAgaW50ZXJmYWNlLlxuICAgKi9cblxuICBpc1BhdGgodmFsdWU6IGFueSk6IHZhbHVlIGlzIFBhdGgge1xuICAgIHJldHVybiAoXG4gICAgICBBcnJheS5pc0FycmF5KHZhbHVlKSAmJlxuICAgICAgKHZhbHVlLmxlbmd0aCA9PT0gMCB8fCB0eXBlb2YgdmFsdWVbMF0gPT09ICdudW1iZXInKVxuICAgIClcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBwYXRoIGlzIGEgc2libGluZyBvZiBhbm90aGVyLlxuICAgKi9cblxuICBpc1NpYmxpbmcocGF0aDogUGF0aCwgYW5vdGhlcjogUGF0aCk6IGJvb2xlYW4ge1xuICAgIGlmIChwYXRoLmxlbmd0aCAhPT0gYW5vdGhlci5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IGFzID0gcGF0aC5zbGljZSgwLCAtMSlcbiAgICBjb25zdCBicyA9IGFub3RoZXIuc2xpY2UoMCwgLTEpXG4gICAgY29uc3QgYWwgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV1cbiAgICBjb25zdCBibCA9IGFub3RoZXJbYW5vdGhlci5sZW5ndGggLSAxXVxuICAgIHJldHVybiBhbCAhPT0gYmwgJiYgUGF0aC5lcXVhbHMoYXMsIGJzKVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgYSBsaXN0IG9mIHBhdGhzIGF0IGV2ZXJ5IGxldmVsIGRvd24gdG8gYSBwYXRoLiBOb3RlOiB0aGlzIGlzIHRoZSBzYW1lXG4gICAqIGFzIGBQYXRoLmFuY2VzdG9yc2AsIGJ1dCBpbmNsdWRpbmcgdGhlIHBhdGggaXRzZWxmLlxuICAgKlxuICAgKiBUaGUgcGF0aHMgYXJlIHNvcnRlZCBmcm9tIHNoYWxsb3dlc3QgdG8gZGVlcGVzdC4gSG93ZXZlciwgaWYgdGhlIGByZXZlcnNlOlxuICAgKiB0cnVlYCBvcHRpb24gaXMgcGFzc2VkLCB0aGV5IGFyZSByZXZlcnNlZC5cbiAgICovXG5cbiAgbGV2ZWxzKHBhdGg6IFBhdGgsIG9wdGlvbnM6IFBhdGhMZXZlbHNPcHRpb25zID0ge30pOiBQYXRoW10ge1xuICAgIGNvbnN0IHsgcmV2ZXJzZSA9IGZhbHNlIH0gPSBvcHRpb25zXG4gICAgY29uc3QgbGlzdDogUGF0aFtdID0gW11cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxpc3QucHVzaChwYXRoLnNsaWNlKDAsIGkpKVxuICAgIH1cblxuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICBsaXN0LnJldmVyc2UoKVxuICAgIH1cblxuICAgIHJldHVybiBsaXN0XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdpdmVuIGEgcGF0aCwgZ2V0IHRoZSBwYXRoIHRvIHRoZSBuZXh0IHNpYmxpbmcgbm9kZS5cbiAgICovXG5cbiAgbmV4dChwYXRoOiBQYXRoKTogUGF0aCB7XG4gICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBDYW5ub3QgZ2V0IHRoZSBuZXh0IHBhdGggb2YgYSByb290IHBhdGggWyR7cGF0aH1dLCBiZWNhdXNlIGl0IGhhcyBubyBuZXh0IGluZGV4LmBcbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBsYXN0ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdXG4gICAgcmV0dXJuIHBhdGguc2xpY2UoMCwgLTEpLmNvbmNhdChsYXN0ICsgMSlcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoaXMgb3BlcmF0aW9uIGNhbiBhZmZlY3QgcGF0aHMgb3Igbm90LiBVc2VkIGFzIGFuXG4gICAqIG9wdGltaXphdGlvbiB3aGVuIHVwZGF0aW5nIGRpcnR5IHBhdGhzIGR1cmluZyBub3JtYWxpemF0aW9uXG4gICAqXG4gICAqIE5PVEU6IFRoaXMgKm11c3QqIGJlIGtlcHQgaW4gc3luYyB3aXRoIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiAndHJhbnNmb3JtJ1xuICAgKiBiZWxvd1xuICAgKi9cbiAgb3BlcmF0aW9uQ2FuVHJhbnNmb3JtUGF0aChvcGVyYXRpb246IE9wZXJhdGlvbik6IGJvb2xlYW4ge1xuICAgIHN3aXRjaCAob3BlcmF0aW9uLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2luc2VydF9ub2RlJzpcbiAgICAgIGNhc2UgJ3JlbW92ZV9ub2RlJzpcbiAgICAgIGNhc2UgJ21lcmdlX25vZGUnOlxuICAgICAgY2FzZSAnc3BsaXRfbm9kZSc6XG4gICAgICBjYXNlICdtb3ZlX25vZGUnOlxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHaXZlbiBhIHBhdGgsIHJldHVybiBhIG5ldyBwYXRoIHJlZmVycmluZyB0byB0aGUgcGFyZW50IG5vZGUgYWJvdmUgaXQuXG4gICAqL1xuXG4gIHBhcmVudChwYXRoOiBQYXRoKTogUGF0aCB7XG4gICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBnZXQgdGhlIHBhcmVudCBwYXRoIG9mIHRoZSByb290IHBhdGggWyR7cGF0aH1dLmApXG4gICAgfVxuXG4gICAgcmV0dXJuIHBhdGguc2xpY2UoMCwgLTEpXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdpdmVuIGEgcGF0aCwgZ2V0IHRoZSBwYXRoIHRvIHRoZSBwcmV2aW91cyBzaWJsaW5nIG5vZGUuXG4gICAqL1xuXG4gIHByZXZpb3VzKHBhdGg6IFBhdGgpOiBQYXRoIHtcbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENhbm5vdCBnZXQgdGhlIHByZXZpb3VzIHBhdGggb2YgYSByb290IHBhdGggWyR7cGF0aH1dLCBiZWNhdXNlIGl0IGhhcyBubyBwcmV2aW91cyBpbmRleC5gXG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgbGFzdCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXVxuXG4gICAgaWYgKGxhc3QgPD0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ2Fubm90IGdldCB0aGUgcHJldmlvdXMgcGF0aCBvZiBhIGZpcnN0IGNoaWxkIHBhdGggWyR7cGF0aH1dIGJlY2F1c2UgaXQgd291bGQgcmVzdWx0IGluIGEgbmVnYXRpdmUgaW5kZXguYFxuICAgICAgKVxuICAgIH1cblxuICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIC0xKS5jb25jYXQobGFzdCAtIDEpXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBhIHBhdGggcmVsYXRpdmUgdG8gYW4gYW5jZXN0b3IuXG4gICAqL1xuXG4gIHJlbGF0aXZlKHBhdGg6IFBhdGgsIGFuY2VzdG9yOiBQYXRoKTogUGF0aCB7XG4gICAgaWYgKCFQYXRoLmlzQW5jZXN0b3IoYW5jZXN0b3IsIHBhdGgpICYmICFQYXRoLmVxdWFscyhwYXRoLCBhbmNlc3RvcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENhbm5vdCBnZXQgdGhlIHJlbGF0aXZlIHBhdGggb2YgWyR7cGF0aH1dIGluc2lkZSBhbmNlc3RvciBbJHthbmNlc3Rvcn1dLCBiZWNhdXNlIGl0IGlzIG5vdCBhYm92ZSBvciBlcXVhbCB0byB0aGUgcGF0aC5gXG4gICAgICApXG4gICAgfVxuXG4gICAgcmV0dXJuIHBhdGguc2xpY2UoYW5jZXN0b3IubGVuZ3RoKVxuICB9LFxuXG4gIC8qKlxuICAgKiBUcmFuc2Zvcm0gYSBwYXRoIGJ5IGFuIG9wZXJhdGlvbi5cbiAgICovXG5cbiAgdHJhbnNmb3JtKFxuICAgIHBhdGg6IFBhdGggfCBudWxsLFxuICAgIG9wZXJhdGlvbjogT3BlcmF0aW9uLFxuICAgIG9wdGlvbnM6IFBhdGhUcmFuc2Zvcm1PcHRpb25zID0ge31cbiAgKTogUGF0aCB8IG51bGwge1xuICAgIHJldHVybiBwcm9kdWNlKHBhdGgsIHAgPT4ge1xuICAgICAgY29uc3QgeyBhZmZpbml0eSA9ICdmb3J3YXJkJyB9ID0gb3B0aW9uc1xuXG4gICAgICAvLyBQRVJGOiBFeGl0IGVhcmx5IGlmIHRoZSBvcGVyYXRpb24gaXMgZ3VhcmFudGVlZCBub3QgdG8gaGF2ZSBhbiBlZmZlY3QuXG4gICAgICBpZiAoIXBhdGggfHwgcGF0aD8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAocCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKG9wZXJhdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2luc2VydF9ub2RlJzoge1xuICAgICAgICAgIGNvbnN0IHsgcGF0aDogb3AgfSA9IG9wZXJhdGlvblxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgUGF0aC5lcXVhbHMob3AsIHApIHx8XG4gICAgICAgICAgICBQYXRoLmVuZHNCZWZvcmUob3AsIHApIHx8XG4gICAgICAgICAgICBQYXRoLmlzQW5jZXN0b3Iob3AsIHApXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwW29wLmxlbmd0aCAtIDFdICs9IDFcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAncmVtb3ZlX25vZGUnOiB7XG4gICAgICAgICAgY29uc3QgeyBwYXRoOiBvcCB9ID0gb3BlcmF0aW9uXG5cbiAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMob3AsIHApIHx8IFBhdGguaXNBbmNlc3RvcihvcCwgcCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgfSBlbHNlIGlmIChQYXRoLmVuZHNCZWZvcmUob3AsIHApKSB7XG4gICAgICAgICAgICBwW29wLmxlbmd0aCAtIDFdIC09IDFcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnbWVyZ2Vfbm9kZSc6IHtcbiAgICAgICAgICBjb25zdCB7IHBhdGg6IG9wLCBwb3NpdGlvbiB9ID0gb3BlcmF0aW9uXG5cbiAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMob3AsIHApIHx8IFBhdGguZW5kc0JlZm9yZShvcCwgcCkpIHtcbiAgICAgICAgICAgIHBbb3AubGVuZ3RoIC0gMV0gLT0gMVxuICAgICAgICAgIH0gZWxzZSBpZiAoUGF0aC5pc0FuY2VzdG9yKG9wLCBwKSkge1xuICAgICAgICAgICAgcFtvcC5sZW5ndGggLSAxXSAtPSAxXG4gICAgICAgICAgICBwW29wLmxlbmd0aF0gKz0gcG9zaXRpb25cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnc3BsaXRfbm9kZSc6IHtcbiAgICAgICAgICBjb25zdCB7IHBhdGg6IG9wLCBwb3NpdGlvbiB9ID0gb3BlcmF0aW9uXG5cbiAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMob3AsIHApKSB7XG4gICAgICAgICAgICBpZiAoYWZmaW5pdHkgPT09ICdmb3J3YXJkJykge1xuICAgICAgICAgICAgICBwW3AubGVuZ3RoIC0gMV0gKz0gMVxuICAgICAgICAgICAgfSBlbHNlIGlmIChhZmZpbml0eSA9PT0gJ2JhY2t3YXJkJykge1xuICAgICAgICAgICAgICAvLyBOb3RoaW5nLCBiZWNhdXNlIGl0IHN0aWxsIHJlZmVycyB0byB0aGUgcmlnaHQgcGF0aC5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChQYXRoLmVuZHNCZWZvcmUob3AsIHApKSB7XG4gICAgICAgICAgICBwW29wLmxlbmd0aCAtIDFdICs9IDFcbiAgICAgICAgICB9IGVsc2UgaWYgKFBhdGguaXNBbmNlc3RvcihvcCwgcCkgJiYgcGF0aFtvcC5sZW5ndGhdID49IHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBwW29wLmxlbmd0aCAtIDFdICs9IDFcbiAgICAgICAgICAgIHBbb3AubGVuZ3RoXSAtPSBwb3NpdGlvblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdtb3ZlX25vZGUnOiB7XG4gICAgICAgICAgY29uc3QgeyBwYXRoOiBvcCwgbmV3UGF0aDogb25wIH0gPSBvcGVyYXRpb25cblxuICAgICAgICAgIC8vIElmIHRoZSBvbGQgYW5kIG5ldyBwYXRoIGFyZSB0aGUgc2FtZSwgaXQncyBhIG5vLW9wLlxuICAgICAgICAgIGlmIChQYXRoLmVxdWFscyhvcCwgb25wKSkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFBhdGguaXNBbmNlc3RvcihvcCwgcCkgfHwgUGF0aC5lcXVhbHMob3AsIHApKSB7XG4gICAgICAgICAgICBjb25zdCBjb3B5ID0gb25wLnNsaWNlKClcblxuICAgICAgICAgICAgaWYgKFBhdGguZW5kc0JlZm9yZShvcCwgb25wKSAmJiBvcC5sZW5ndGggPCBvbnAubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGNvcHlbb3AubGVuZ3RoIC0gMV0gLT0gMVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29weS5jb25jYXQocC5zbGljZShvcC5sZW5ndGgpKVxuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBQYXRoLmlzU2libGluZyhvcCwgb25wKSAmJlxuICAgICAgICAgICAgKFBhdGguaXNBbmNlc3RvcihvbnAsIHApIHx8IFBhdGguZXF1YWxzKG9ucCwgcCkpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoUGF0aC5lbmRzQmVmb3JlKG9wLCBwKSkge1xuICAgICAgICAgICAgICBwW29wLmxlbmd0aCAtIDFdIC09IDFcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBbb3AubGVuZ3RoIC0gMV0gKz0gMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBQYXRoLmVuZHNCZWZvcmUob25wLCBwKSB8fFxuICAgICAgICAgICAgUGF0aC5lcXVhbHMob25wLCBwKSB8fFxuICAgICAgICAgICAgUGF0aC5pc0FuY2VzdG9yKG9ucCwgcClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChQYXRoLmVuZHNCZWZvcmUob3AsIHApKSB7XG4gICAgICAgICAgICAgIHBbb3AubGVuZ3RoIC0gMV0gLT0gMVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwW29ucC5sZW5ndGggLSAxXSArPSAxXG4gICAgICAgICAgfSBlbHNlIGlmIChQYXRoLmVuZHNCZWZvcmUob3AsIHApKSB7XG4gICAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMob25wLCBwKSkge1xuICAgICAgICAgICAgICBwW29ucC5sZW5ndGggLSAxXSArPSAxXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBbb3AubGVuZ3RoIC0gMV0gLT0gMVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9LFxufVxuIiwiaW1wb3J0IHsgT3BlcmF0aW9uLCBQYXRoIH0gZnJvbSAnLi4nXG5cbi8qKlxuICogYFBhdGhSZWZgIG9iamVjdHMga2VlcCBhIHNwZWNpZmljIHBhdGggaW4gYSBkb2N1bWVudCBzeW5jZWQgb3ZlciB0aW1lIGFzIG5ld1xuICogb3BlcmF0aW9ucyBhcmUgYXBwbGllZCB0byB0aGUgZWRpdG9yLiBZb3UgY2FuIGFjY2VzcyB0aGVpciBgY3VycmVudGAgcHJvcGVydHlcbiAqIGF0IGFueSB0aW1lIGZvciB0aGUgdXAtdG8tZGF0ZSBwYXRoIHZhbHVlLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgUGF0aFJlZiB7XG4gIGN1cnJlbnQ6IFBhdGggfCBudWxsXG4gIGFmZmluaXR5OiAnZm9yd2FyZCcgfCAnYmFja3dhcmQnIHwgbnVsbFxuICB1bnJlZigpOiBQYXRoIHwgbnVsbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhdGhSZWZJbnRlcmZhY2Uge1xuICB0cmFuc2Zvcm06IChyZWY6IFBhdGhSZWYsIG9wOiBPcGVyYXRpb24pID0+IHZvaWRcbn1cblxuZXhwb3J0IGNvbnN0IFBhdGhSZWY6IFBhdGhSZWZJbnRlcmZhY2UgPSB7XG4gIC8qKlxuICAgKiBUcmFuc2Zvcm0gdGhlIHBhdGggcmVmJ3MgY3VycmVudCB2YWx1ZSBieSBhbiBvcGVyYXRpb24uXG4gICAqL1xuXG4gIHRyYW5zZm9ybShyZWY6IFBhdGhSZWYsIG9wOiBPcGVyYXRpb24pOiB2b2lkIHtcbiAgICBjb25zdCB7IGN1cnJlbnQsIGFmZmluaXR5IH0gPSByZWZcblxuICAgIGlmIChjdXJyZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHBhdGggPSBQYXRoLnRyYW5zZm9ybShjdXJyZW50LCBvcCwgeyBhZmZpbml0eSB9KVxuICAgIHJlZi5jdXJyZW50ID0gcGF0aFxuXG4gICAgaWYgKHBhdGggPT0gbnVsbCkge1xuICAgICAgcmVmLnVucmVmKClcbiAgICB9XG4gIH0sXG59XG4iLCJpbXBvcnQgeyBpc1BsYWluT2JqZWN0IH0gZnJvbSAnaXMtcGxhaW4tb2JqZWN0J1xuaW1wb3J0IHsgcHJvZHVjZSB9IGZyb20gJ2ltbWVyJ1xuaW1wb3J0IHsgRXh0ZW5kZWRUeXBlLCBPcGVyYXRpb24sIFBhdGggfSBmcm9tICcuLidcbmltcG9ydCB7IFRleHREaXJlY3Rpb24gfSBmcm9tICcuL3R5cGVzJ1xuXG4vKipcbiAqIGBQb2ludGAgb2JqZWN0cyByZWZlciB0byBhIHNwZWNpZmljIGxvY2F0aW9uIGluIGEgdGV4dCBub2RlIGluIGEgU2xhdGVcbiAqIGRvY3VtZW50LiBJdHMgcGF0aCByZWZlcnMgdG8gdGhlIGxvY2F0aW9uIG9mIHRoZSBub2RlIGluIHRoZSB0cmVlLCBhbmQgaXRzXG4gKiBvZmZzZXQgcmVmZXJzIHRvIHRoZSBkaXN0YW5jZSBpbnRvIHRoZSBub2RlJ3Mgc3RyaW5nIG9mIHRleHQuIFBvaW50cyBjYW5cbiAqIG9ubHkgcmVmZXIgdG8gYFRleHRgIG5vZGVzLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZVBvaW50IHtcbiAgcGF0aDogUGF0aFxuICBvZmZzZXQ6IG51bWJlclxufVxuXG5leHBvcnQgdHlwZSBQb2ludCA9IEV4dGVuZGVkVHlwZTwnUG9pbnQnLCBCYXNlUG9pbnQ+XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnRUcmFuc2Zvcm1PcHRpb25zIHtcbiAgYWZmaW5pdHk/OiBUZXh0RGlyZWN0aW9uIHwgbnVsbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50SW50ZXJmYWNlIHtcbiAgY29tcGFyZTogKHBvaW50OiBQb2ludCwgYW5vdGhlcjogUG9pbnQpID0+IC0xIHwgMCB8IDFcbiAgaXNBZnRlcjogKHBvaW50OiBQb2ludCwgYW5vdGhlcjogUG9pbnQpID0+IGJvb2xlYW5cbiAgaXNCZWZvcmU6IChwb2ludDogUG9pbnQsIGFub3RoZXI6IFBvaW50KSA9PiBib29sZWFuXG4gIGVxdWFsczogKHBvaW50OiBQb2ludCwgYW5vdGhlcjogUG9pbnQpID0+IGJvb2xlYW5cbiAgaXNQb2ludDogKHZhbHVlOiBhbnkpID0+IHZhbHVlIGlzIFBvaW50XG4gIHRyYW5zZm9ybTogKFxuICAgIHBvaW50OiBQb2ludCxcbiAgICBvcDogT3BlcmF0aW9uLFxuICAgIG9wdGlvbnM/OiBQb2ludFRyYW5zZm9ybU9wdGlvbnNcbiAgKSA9PiBQb2ludCB8IG51bGxcbn1cblxuZXhwb3J0IGNvbnN0IFBvaW50OiBQb2ludEludGVyZmFjZSA9IHtcbiAgLyoqXG4gICAqIENvbXBhcmUgYSBwb2ludCB0byBhbm90aGVyLCByZXR1cm5pbmcgYW4gaW50ZWdlciBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlXG4gICAqIHBvaW50IHdhcyBiZWZvcmUsIGF0LCBvciBhZnRlciB0aGUgb3RoZXIuXG4gICAqL1xuXG4gIGNvbXBhcmUocG9pbnQ6IFBvaW50LCBhbm90aGVyOiBQb2ludCk6IC0xIHwgMCB8IDEge1xuICAgIGNvbnN0IHJlc3VsdCA9IFBhdGguY29tcGFyZShwb2ludC5wYXRoLCBhbm90aGVyLnBhdGgpXG5cbiAgICBpZiAocmVzdWx0ID09PSAwKSB7XG4gICAgICBpZiAocG9pbnQub2Zmc2V0IDwgYW5vdGhlci5vZmZzZXQpIHJldHVybiAtMVxuICAgICAgaWYgKHBvaW50Lm9mZnNldCA+IGFub3RoZXIub2Zmc2V0KSByZXR1cm4gMVxuICAgICAgcmV0dXJuIDBcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcG9pbnQgaXMgYWZ0ZXIgYW5vdGhlci5cbiAgICovXG5cbiAgaXNBZnRlcihwb2ludDogUG9pbnQsIGFub3RoZXI6IFBvaW50KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIFBvaW50LmNvbXBhcmUocG9pbnQsIGFub3RoZXIpID09PSAxXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcG9pbnQgaXMgYmVmb3JlIGFub3RoZXIuXG4gICAqL1xuXG4gIGlzQmVmb3JlKHBvaW50OiBQb2ludCwgYW5vdGhlcjogUG9pbnQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gUG9pbnQuY29tcGFyZShwb2ludCwgYW5vdGhlcikgPT09IC0xXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcG9pbnQgaXMgZXhhY3RseSBlcXVhbCB0byBhbm90aGVyLlxuICAgKi9cblxuICBlcXVhbHMocG9pbnQ6IFBvaW50LCBhbm90aGVyOiBQb2ludCk6IGJvb2xlYW4ge1xuICAgIC8vIFBFUkY6IGVuc3VyZSB0aGUgb2Zmc2V0cyBhcmUgZXF1YWwgZmlyc3Qgc2luY2UgdGhleSBhcmUgY2hlYXBlciB0byBjaGVjay5cbiAgICByZXR1cm4gKFxuICAgICAgcG9pbnQub2Zmc2V0ID09PSBhbm90aGVyLm9mZnNldCAmJiBQYXRoLmVxdWFscyhwb2ludC5wYXRoLCBhbm90aGVyLnBhdGgpXG4gICAgKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHZhbHVlIGltcGxlbWVudHMgdGhlIGBQb2ludGAgaW50ZXJmYWNlLlxuICAgKi9cblxuICBpc1BvaW50KHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBQb2ludCB7XG4gICAgcmV0dXJuIChcbiAgICAgIGlzUGxhaW5PYmplY3QodmFsdWUpICYmXG4gICAgICB0eXBlb2YgdmFsdWUub2Zmc2V0ID09PSAnbnVtYmVyJyAmJlxuICAgICAgUGF0aC5pc1BhdGgodmFsdWUucGF0aClcbiAgICApXG4gIH0sXG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybSBhIHBvaW50IGJ5IGFuIG9wZXJhdGlvbi5cbiAgICovXG5cbiAgdHJhbnNmb3JtKFxuICAgIHBvaW50OiBQb2ludCB8IG51bGwsXG4gICAgb3A6IE9wZXJhdGlvbixcbiAgICBvcHRpb25zOiBQb2ludFRyYW5zZm9ybU9wdGlvbnMgPSB7fVxuICApOiBQb2ludCB8IG51bGwge1xuICAgIHJldHVybiBwcm9kdWNlKHBvaW50LCBwID0+IHtcbiAgICAgIGlmIChwID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgICBjb25zdCB7IGFmZmluaXR5ID0gJ2ZvcndhcmQnIH0gPSBvcHRpb25zXG4gICAgICBjb25zdCB7IHBhdGgsIG9mZnNldCB9ID0gcFxuXG4gICAgICBzd2l0Y2ggKG9wLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnaW5zZXJ0X25vZGUnOlxuICAgICAgICBjYXNlICdtb3ZlX25vZGUnOiB7XG4gICAgICAgICAgcC5wYXRoID0gUGF0aC50cmFuc2Zvcm0ocGF0aCwgb3AsIG9wdGlvbnMpIVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdpbnNlcnRfdGV4dCc6IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBQYXRoLmVxdWFscyhvcC5wYXRoLCBwYXRoKSAmJlxuICAgICAgICAgICAgKG9wLm9mZnNldCA8IG9mZnNldCB8fFxuICAgICAgICAgICAgICAob3Aub2Zmc2V0ID09PSBvZmZzZXQgJiYgYWZmaW5pdHkgPT09ICdmb3J3YXJkJykpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwLm9mZnNldCArPSBvcC50ZXh0Lmxlbmd0aFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdtZXJnZV9ub2RlJzoge1xuICAgICAgICAgIGlmIChQYXRoLmVxdWFscyhvcC5wYXRoLCBwYXRoKSkge1xuICAgICAgICAgICAgcC5vZmZzZXQgKz0gb3AucG9zaXRpb25cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwLnBhdGggPSBQYXRoLnRyYW5zZm9ybShwYXRoLCBvcCwgb3B0aW9ucykhXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ3JlbW92ZV90ZXh0Jzoge1xuICAgICAgICAgIGlmIChQYXRoLmVxdWFscyhvcC5wYXRoLCBwYXRoKSAmJiBvcC5vZmZzZXQgPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBwLm9mZnNldCAtPSBNYXRoLm1pbihvZmZzZXQgLSBvcC5vZmZzZXQsIG9wLnRleHQubGVuZ3RoKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBjYXNlICdyZW1vdmVfbm9kZSc6IHtcbiAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMob3AucGF0aCwgcGF0aCkgfHwgUGF0aC5pc0FuY2VzdG9yKG9wLnBhdGgsIHBhdGgpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIHAucGF0aCA9IFBhdGgudHJhbnNmb3JtKHBhdGgsIG9wLCBvcHRpb25zKSFcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnc3BsaXRfbm9kZSc6IHtcbiAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMob3AucGF0aCwgcGF0aCkpIHtcbiAgICAgICAgICAgIGlmIChvcC5wb3NpdGlvbiA9PT0gb2Zmc2V0ICYmIGFmZmluaXR5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgIG9wLnBvc2l0aW9uIDwgb2Zmc2V0IHx8XG4gICAgICAgICAgICAgIChvcC5wb3NpdGlvbiA9PT0gb2Zmc2V0ICYmIGFmZmluaXR5ID09PSAnZm9yd2FyZCcpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgcC5vZmZzZXQgLT0gb3AucG9zaXRpb25cblxuICAgICAgICAgICAgICBwLnBhdGggPSBQYXRoLnRyYW5zZm9ybShwYXRoLCBvcCwge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgYWZmaW5pdHk6ICdmb3J3YXJkJyxcbiAgICAgICAgICAgICAgfSkhXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAucGF0aCA9IFBhdGgudHJhbnNmb3JtKHBhdGgsIG9wLCBvcHRpb25zKSFcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfSxcbn1cblxuLyoqXG4gKiBgUG9pbnRFbnRyeWAgb2JqZWN0cyBhcmUgcmV0dXJuZWQgd2hlbiBpdGVyYXRpbmcgb3ZlciBgUG9pbnRgIG9iamVjdHMgdGhhdFxuICogYmVsb25nIHRvIGEgcmFuZ2UuXG4gKi9cblxuZXhwb3J0IHR5cGUgUG9pbnRFbnRyeSA9IFtQb2ludCwgJ2FuY2hvcicgfCAnZm9jdXMnXVxuIiwiaW1wb3J0IHsgT3BlcmF0aW9uLCBQb2ludCB9IGZyb20gJy4uJ1xuaW1wb3J0IHsgVGV4dERpcmVjdGlvbiB9IGZyb20gJy4vdHlwZXMnXG5cbi8qKlxuICogYFBvaW50UmVmYCBvYmplY3RzIGtlZXAgYSBzcGVjaWZpYyBwb2ludCBpbiBhIGRvY3VtZW50IHN5bmNlZCBvdmVyIHRpbWUgYXMgbmV3XG4gKiBvcGVyYXRpb25zIGFyZSBhcHBsaWVkIHRvIHRoZSBlZGl0b3IuIFlvdSBjYW4gYWNjZXNzIHRoZWlyIGBjdXJyZW50YCBwcm9wZXJ0eVxuICogYXQgYW55IHRpbWUgZm9yIHRoZSB1cC10by1kYXRlIHBvaW50IHZhbHVlLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnRSZWYge1xuICBjdXJyZW50OiBQb2ludCB8IG51bGxcbiAgYWZmaW5pdHk6IFRleHREaXJlY3Rpb24gfCBudWxsXG4gIHVucmVmKCk6IFBvaW50IHwgbnVsbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50UmVmSW50ZXJmYWNlIHtcbiAgdHJhbnNmb3JtOiAocmVmOiBQb2ludFJlZiwgb3A6IE9wZXJhdGlvbikgPT4gdm9pZFxufVxuXG5leHBvcnQgY29uc3QgUG9pbnRSZWY6IFBvaW50UmVmSW50ZXJmYWNlID0ge1xuICAvKipcbiAgICogVHJhbnNmb3JtIHRoZSBwb2ludCByZWYncyBjdXJyZW50IHZhbHVlIGJ5IGFuIG9wZXJhdGlvbi5cbiAgICovXG5cbiAgdHJhbnNmb3JtKHJlZjogUG9pbnRSZWYsIG9wOiBPcGVyYXRpb24pOiB2b2lkIHtcbiAgICBjb25zdCB7IGN1cnJlbnQsIGFmZmluaXR5IH0gPSByZWZcblxuICAgIGlmIChjdXJyZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHBvaW50ID0gUG9pbnQudHJhbnNmb3JtKGN1cnJlbnQsIG9wLCB7IGFmZmluaXR5IH0pXG4gICAgcmVmLmN1cnJlbnQgPSBwb2ludFxuXG4gICAgaWYgKHBvaW50ID09IG51bGwpIHtcbiAgICAgIHJlZi51bnJlZigpXG4gICAgfVxuICB9LFxufVxuIiwiaW1wb3J0IHsgcHJvZHVjZSB9IGZyb20gJ2ltbWVyJ1xuaW1wb3J0IHsgaXNQbGFpbk9iamVjdCB9IGZyb20gJ2lzLXBsYWluLW9iamVjdCdcbmltcG9ydCB7IEV4dGVuZGVkVHlwZSwgT3BlcmF0aW9uLCBQYXRoLCBQb2ludCwgUG9pbnRFbnRyeSB9IGZyb20gJy4uJ1xuaW1wb3J0IHsgUmFuZ2VEaXJlY3Rpb24gfSBmcm9tICcuL3R5cGVzJ1xuXG4vKipcbiAqIGBSYW5nZWAgb2JqZWN0cyBhcmUgYSBzZXQgb2YgcG9pbnRzIHRoYXQgcmVmZXIgdG8gYSBzcGVjaWZpYyBzcGFuIG9mIGEgU2xhdGVcbiAqIGRvY3VtZW50LiBUaGV5IGNhbiBkZWZpbmUgYSBzcGFuIGluc2lkZSBhIHNpbmdsZSBub2RlIG9yIGEgY2FuIHNwYW4gYWNyb3NzXG4gKiBtdWx0aXBsZSBub2Rlcy5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VSYW5nZSB7XG4gIGFuY2hvcjogUG9pbnRcbiAgZm9jdXM6IFBvaW50XG59XG5cbmV4cG9ydCB0eXBlIFJhbmdlID0gRXh0ZW5kZWRUeXBlPCdSYW5nZScsIEJhc2VSYW5nZT5cblxuZXhwb3J0IGludGVyZmFjZSBSYW5nZUVkZ2VzT3B0aW9ucyB7XG4gIHJldmVyc2U/OiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmFuZ2VUcmFuc2Zvcm1PcHRpb25zIHtcbiAgYWZmaW5pdHk/OiBSYW5nZURpcmVjdGlvbiB8IG51bGxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSYW5nZUludGVyZmFjZSB7XG4gIGVkZ2VzOiAocmFuZ2U6IFJhbmdlLCBvcHRpb25zPzogUmFuZ2VFZGdlc09wdGlvbnMpID0+IFtQb2ludCwgUG9pbnRdXG4gIGVuZDogKHJhbmdlOiBSYW5nZSkgPT4gUG9pbnRcbiAgZXF1YWxzOiAocmFuZ2U6IFJhbmdlLCBhbm90aGVyOiBSYW5nZSkgPT4gYm9vbGVhblxuICBpbmNsdWRlczogKHJhbmdlOiBSYW5nZSwgdGFyZ2V0OiBQYXRoIHwgUG9pbnQgfCBSYW5nZSkgPT4gYm9vbGVhblxuICBpbnRlcnNlY3Rpb246IChyYW5nZTogUmFuZ2UsIGFub3RoZXI6IFJhbmdlKSA9PiBSYW5nZSB8IG51bGxcbiAgaXNCYWNrd2FyZDogKHJhbmdlOiBSYW5nZSkgPT4gYm9vbGVhblxuICBpc0NvbGxhcHNlZDogKHJhbmdlOiBSYW5nZSkgPT4gYm9vbGVhblxuICBpc0V4cGFuZGVkOiAocmFuZ2U6IFJhbmdlKSA9PiBib29sZWFuXG4gIGlzRm9yd2FyZDogKHJhbmdlOiBSYW5nZSkgPT4gYm9vbGVhblxuICBpc1JhbmdlOiAodmFsdWU6IGFueSkgPT4gdmFsdWUgaXMgUmFuZ2VcbiAgcG9pbnRzOiAocmFuZ2U6IFJhbmdlKSA9PiBHZW5lcmF0b3I8UG9pbnRFbnRyeSwgdm9pZCwgdW5kZWZpbmVkPlxuICBzdGFydDogKHJhbmdlOiBSYW5nZSkgPT4gUG9pbnRcbiAgdHJhbnNmb3JtOiAoXG4gICAgcmFuZ2U6IFJhbmdlLFxuICAgIG9wOiBPcGVyYXRpb24sXG4gICAgb3B0aW9ucz86IFJhbmdlVHJhbnNmb3JtT3B0aW9uc1xuICApID0+IFJhbmdlIHwgbnVsbFxufVxuXG5leHBvcnQgY29uc3QgUmFuZ2U6IFJhbmdlSW50ZXJmYWNlID0ge1xuICAvKipcbiAgICogR2V0IHRoZSBzdGFydCBhbmQgZW5kIHBvaW50cyBvZiBhIHJhbmdlLCBpbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBhcHBlYXJcbiAgICogaW4gdGhlIGRvY3VtZW50LlxuICAgKi9cblxuICBlZGdlcyhyYW5nZTogUmFuZ2UsIG9wdGlvbnM6IFJhbmdlRWRnZXNPcHRpb25zID0ge30pOiBbUG9pbnQsIFBvaW50XSB7XG4gICAgY29uc3QgeyByZXZlcnNlID0gZmFsc2UgfSA9IG9wdGlvbnNcbiAgICBjb25zdCB7IGFuY2hvciwgZm9jdXMgfSA9IHJhbmdlXG4gICAgcmV0dXJuIFJhbmdlLmlzQmFja3dhcmQocmFuZ2UpID09PSByZXZlcnNlXG4gICAgICA/IFthbmNob3IsIGZvY3VzXVxuICAgICAgOiBbZm9jdXMsIGFuY2hvcl1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBlbmQgcG9pbnQgb2YgYSByYW5nZS5cbiAgICovXG5cbiAgZW5kKHJhbmdlOiBSYW5nZSk6IFBvaW50IHtcbiAgICBjb25zdCBbLCBlbmRdID0gUmFuZ2UuZWRnZXMocmFuZ2UpXG4gICAgcmV0dXJuIGVuZFxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHJhbmdlIGlzIGV4YWN0bHkgZXF1YWwgdG8gYW5vdGhlci5cbiAgICovXG5cbiAgZXF1YWxzKHJhbmdlOiBSYW5nZSwgYW5vdGhlcjogUmFuZ2UpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgUG9pbnQuZXF1YWxzKHJhbmdlLmFuY2hvciwgYW5vdGhlci5hbmNob3IpICYmXG4gICAgICBQb2ludC5lcXVhbHMocmFuZ2UuZm9jdXMsIGFub3RoZXIuZm9jdXMpXG4gICAgKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHJhbmdlIGluY2x1ZGVzIGEgcGF0aCwgYSBwb2ludCBvciBwYXJ0IG9mIGFub3RoZXIgcmFuZ2UuXG4gICAqL1xuXG4gIGluY2x1ZGVzKHJhbmdlOiBSYW5nZSwgdGFyZ2V0OiBQYXRoIHwgUG9pbnQgfCBSYW5nZSk6IGJvb2xlYW4ge1xuICAgIGlmIChSYW5nZS5pc1JhbmdlKHRhcmdldCkpIHtcbiAgICAgIGlmIChcbiAgICAgICAgUmFuZ2UuaW5jbHVkZXMocmFuZ2UsIHRhcmdldC5hbmNob3IpIHx8XG4gICAgICAgIFJhbmdlLmluY2x1ZGVzKHJhbmdlLCB0YXJnZXQuZm9jdXMpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cblxuICAgICAgY29uc3QgW3JzLCByZV0gPSBSYW5nZS5lZGdlcyhyYW5nZSlcbiAgICAgIGNvbnN0IFt0cywgdGVdID0gUmFuZ2UuZWRnZXModGFyZ2V0KVxuICAgICAgcmV0dXJuIFBvaW50LmlzQmVmb3JlKHJzLCB0cykgJiYgUG9pbnQuaXNBZnRlcihyZSwgdGUpXG4gICAgfVxuXG4gICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gUmFuZ2UuZWRnZXMocmFuZ2UpXG4gICAgbGV0IGlzQWZ0ZXJTdGFydCA9IGZhbHNlXG4gICAgbGV0IGlzQmVmb3JlRW5kID0gZmFsc2VcblxuICAgIGlmIChQb2ludC5pc1BvaW50KHRhcmdldCkpIHtcbiAgICAgIGlzQWZ0ZXJTdGFydCA9IFBvaW50LmNvbXBhcmUodGFyZ2V0LCBzdGFydCkgPj0gMFxuICAgICAgaXNCZWZvcmVFbmQgPSBQb2ludC5jb21wYXJlKHRhcmdldCwgZW5kKSA8PSAwXG4gICAgfSBlbHNlIHtcbiAgICAgIGlzQWZ0ZXJTdGFydCA9IFBhdGguY29tcGFyZSh0YXJnZXQsIHN0YXJ0LnBhdGgpID49IDBcbiAgICAgIGlzQmVmb3JlRW5kID0gUGF0aC5jb21wYXJlKHRhcmdldCwgZW5kLnBhdGgpIDw9IDBcbiAgICB9XG5cbiAgICByZXR1cm4gaXNBZnRlclN0YXJ0ICYmIGlzQmVmb3JlRW5kXG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgaW50ZXJzZWN0aW9uIG9mIGEgcmFuZ2Ugd2l0aCBhbm90aGVyLlxuICAgKi9cblxuICBpbnRlcnNlY3Rpb24ocmFuZ2U6IFJhbmdlLCBhbm90aGVyOiBSYW5nZSk6IFJhbmdlIHwgbnVsbCB7XG4gICAgY29uc3QgeyBhbmNob3IsIGZvY3VzLCAuLi5yZXN0IH0gPSByYW5nZVxuICAgIGNvbnN0IFtzMSwgZTFdID0gUmFuZ2UuZWRnZXMocmFuZ2UpXG4gICAgY29uc3QgW3MyLCBlMl0gPSBSYW5nZS5lZGdlcyhhbm90aGVyKVxuICAgIGNvbnN0IHN0YXJ0ID0gUG9pbnQuaXNCZWZvcmUoczEsIHMyKSA/IHMyIDogczFcbiAgICBjb25zdCBlbmQgPSBQb2ludC5pc0JlZm9yZShlMSwgZTIpID8gZTEgOiBlMlxuXG4gICAgaWYgKFBvaW50LmlzQmVmb3JlKGVuZCwgc3RhcnQpKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geyBhbmNob3I6IHN0YXJ0LCBmb2N1czogZW5kLCAuLi5yZXN0IH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcmFuZ2UgaXMgYmFja3dhcmQsIG1lYW5pbmcgdGhhdCBpdHMgYW5jaG9yIHBvaW50IGFwcGVhcnMgaW4gdGhlXG4gICAqIGRvY3VtZW50IF9hZnRlcl8gaXRzIGZvY3VzIHBvaW50LlxuICAgKi9cblxuICBpc0JhY2t3YXJkKHJhbmdlOiBSYW5nZSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHsgYW5jaG9yLCBmb2N1cyB9ID0gcmFuZ2VcbiAgICByZXR1cm4gUG9pbnQuaXNBZnRlcihhbmNob3IsIGZvY3VzKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHJhbmdlIGlzIGNvbGxhcHNlZCwgbWVhbmluZyB0aGF0IGJvdGggaXRzIGFuY2hvciBhbmQgZm9jdXNcbiAgICogcG9pbnRzIHJlZmVyIHRvIHRoZSBleGFjdCBzYW1lIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudC5cbiAgICovXG5cbiAgaXNDb2xsYXBzZWQocmFuZ2U6IFJhbmdlKTogYm9vbGVhbiB7XG4gICAgY29uc3QgeyBhbmNob3IsIGZvY3VzIH0gPSByYW5nZVxuICAgIHJldHVybiBQb2ludC5lcXVhbHMoYW5jaG9yLCBmb2N1cylcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSByYW5nZSBpcyBleHBhbmRlZC5cbiAgICpcbiAgICogVGhpcyBpcyB0aGUgb3Bwb3NpdGUgb2YgW1tSYW5nZS5pc0NvbGxhcHNlZF1dIGFuZCBpcyBwcm92aWRlZCBmb3IgbGVnaWJpbGl0eS5cbiAgICovXG5cbiAgaXNFeHBhbmRlZChyYW5nZTogUmFuZ2UpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIVJhbmdlLmlzQ29sbGFwc2VkKHJhbmdlKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHJhbmdlIGlzIGZvcndhcmQuXG4gICAqXG4gICAqIFRoaXMgaXMgdGhlIG9wcG9zaXRlIG9mIFtbUmFuZ2UuaXNCYWNrd2FyZF1dIGFuZCBpcyBwcm92aWRlZCBmb3IgbGVnaWJpbGl0eS5cbiAgICovXG5cbiAgaXNGb3J3YXJkKHJhbmdlOiBSYW5nZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhUmFuZ2UuaXNCYWNrd2FyZChyYW5nZSlcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpbXBsZW1lbnRzIHRoZSBbW1JhbmdlXV0gaW50ZXJmYWNlLlxuICAgKi9cblxuICBpc1JhbmdlKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBSYW5nZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIGlzUGxhaW5PYmplY3QodmFsdWUpICYmXG4gICAgICBQb2ludC5pc1BvaW50KHZhbHVlLmFuY2hvcikgJiZcbiAgICAgIFBvaW50LmlzUG9pbnQodmFsdWUuZm9jdXMpXG4gICAgKVxuICB9LFxuXG4gIC8qKlxuICAgKiBJdGVyYXRlIHRocm91Z2ggYWxsIG9mIHRoZSBwb2ludCBlbnRyaWVzIGluIGEgcmFuZ2UuXG4gICAqL1xuXG4gICpwb2ludHMocmFuZ2U6IFJhbmdlKTogR2VuZXJhdG9yPFBvaW50RW50cnksIHZvaWQsIHVuZGVmaW5lZD4ge1xuICAgIHlpZWxkIFtyYW5nZS5hbmNob3IsICdhbmNob3InXVxuICAgIHlpZWxkIFtyYW5nZS5mb2N1cywgJ2ZvY3VzJ11cbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBzdGFydCBwb2ludCBvZiBhIHJhbmdlLlxuICAgKi9cblxuICBzdGFydChyYW5nZTogUmFuZ2UpOiBQb2ludCB7XG4gICAgY29uc3QgW3N0YXJ0XSA9IFJhbmdlLmVkZ2VzKHJhbmdlKVxuICAgIHJldHVybiBzdGFydFxuICB9LFxuXG4gIC8qKlxuICAgKiBUcmFuc2Zvcm0gYSByYW5nZSBieSBhbiBvcGVyYXRpb24uXG4gICAqL1xuXG4gIHRyYW5zZm9ybShcbiAgICByYW5nZTogUmFuZ2UgfCBudWxsLFxuICAgIG9wOiBPcGVyYXRpb24sXG4gICAgb3B0aW9uczogUmFuZ2VUcmFuc2Zvcm1PcHRpb25zID0ge31cbiAgKTogUmFuZ2UgfCBudWxsIHtcbiAgICByZXR1cm4gcHJvZHVjZShyYW5nZSwgciA9PiB7XG4gICAgICBpZiAociA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgfVxuICAgICAgY29uc3QgeyBhZmZpbml0eSA9ICdpbndhcmQnIH0gPSBvcHRpb25zXG4gICAgICBsZXQgYWZmaW5pdHlBbmNob3I6ICdmb3J3YXJkJyB8ICdiYWNrd2FyZCcgfCBudWxsXG4gICAgICBsZXQgYWZmaW5pdHlGb2N1czogJ2ZvcndhcmQnIHwgJ2JhY2t3YXJkJyB8IG51bGxcblxuICAgICAgaWYgKGFmZmluaXR5ID09PSAnaW53YXJkJykge1xuICAgICAgICAvLyBJZiB0aGUgcmFuZ2UgaXMgY29sbGFwc2VkLCBtYWtlIHN1cmUgdG8gdXNlIHRoZSBzYW1lIGFmZmluaXR5IHRvXG4gICAgICAgIC8vIGF2b2lkIHRoZSB0d28gcG9pbnRzIHBhc3NpbmcgZWFjaCBvdGhlciBhbmQgZXhwYW5kaW5nIGluIHRoZSBvcHBvc2l0ZVxuICAgICAgICAvLyBkaXJlY3Rpb25cbiAgICAgICAgY29uc3QgaXNDb2xsYXBzZWQgPSBSYW5nZS5pc0NvbGxhcHNlZChyKVxuICAgICAgICBpZiAoUmFuZ2UuaXNGb3J3YXJkKHIpKSB7XG4gICAgICAgICAgYWZmaW5pdHlBbmNob3IgPSAnZm9yd2FyZCdcbiAgICAgICAgICBhZmZpbml0eUZvY3VzID0gaXNDb2xsYXBzZWQgPyBhZmZpbml0eUFuY2hvciA6ICdiYWNrd2FyZCdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZmZpbml0eUFuY2hvciA9ICdiYWNrd2FyZCdcbiAgICAgICAgICBhZmZpbml0eUZvY3VzID0gaXNDb2xsYXBzZWQgPyBhZmZpbml0eUFuY2hvciA6ICdmb3J3YXJkJ1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFmZmluaXR5ID09PSAnb3V0d2FyZCcpIHtcbiAgICAgICAgaWYgKFJhbmdlLmlzRm9yd2FyZChyKSkge1xuICAgICAgICAgIGFmZmluaXR5QW5jaG9yID0gJ2JhY2t3YXJkJ1xuICAgICAgICAgIGFmZmluaXR5Rm9jdXMgPSAnZm9yd2FyZCdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZmZpbml0eUFuY2hvciA9ICdmb3J3YXJkJ1xuICAgICAgICAgIGFmZmluaXR5Rm9jdXMgPSAnYmFja3dhcmQnXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFmZmluaXR5QW5jaG9yID0gYWZmaW5pdHlcbiAgICAgICAgYWZmaW5pdHlGb2N1cyA9IGFmZmluaXR5XG4gICAgICB9XG4gICAgICBjb25zdCBhbmNob3IgPSBQb2ludC50cmFuc2Zvcm0oci5hbmNob3IsIG9wLCB7IGFmZmluaXR5OiBhZmZpbml0eUFuY2hvciB9KVxuICAgICAgY29uc3QgZm9jdXMgPSBQb2ludC50cmFuc2Zvcm0oci5mb2N1cywgb3AsIHsgYWZmaW5pdHk6IGFmZmluaXR5Rm9jdXMgfSlcblxuICAgICAgaWYgKCFhbmNob3IgfHwgIWZvY3VzKSB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG5cbiAgICAgIHIuYW5jaG9yID0gYW5jaG9yXG4gICAgICByLmZvY3VzID0gZm9jdXNcbiAgICB9KVxuICB9LFxufVxuIiwiaW1wb3J0IHsgT3BlcmF0aW9uLCBSYW5nZSB9IGZyb20gJy4uJ1xuXG4vKipcbiAqIGBSYW5nZVJlZmAgb2JqZWN0cyBrZWVwIGEgc3BlY2lmaWMgcmFuZ2UgaW4gYSBkb2N1bWVudCBzeW5jZWQgb3ZlciB0aW1lIGFzIG5ld1xuICogb3BlcmF0aW9ucyBhcmUgYXBwbGllZCB0byB0aGUgZWRpdG9yLiBZb3UgY2FuIGFjY2VzcyB0aGVpciBgY3VycmVudGAgcHJvcGVydHlcbiAqIGF0IGFueSB0aW1lIGZvciB0aGUgdXAtdG8tZGF0ZSByYW5nZSB2YWx1ZS5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIFJhbmdlUmVmIHtcbiAgY3VycmVudDogUmFuZ2UgfCBudWxsXG4gIGFmZmluaXR5OiAnZm9yd2FyZCcgfCAnYmFja3dhcmQnIHwgJ291dHdhcmQnIHwgJ2lud2FyZCcgfCBudWxsXG4gIHVucmVmKCk6IFJhbmdlIHwgbnVsbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJhbmdlUmVmSW50ZXJmYWNlIHtcbiAgdHJhbnNmb3JtOiAocmVmOiBSYW5nZVJlZiwgb3A6IE9wZXJhdGlvbikgPT4gdm9pZFxufVxuXG5leHBvcnQgY29uc3QgUmFuZ2VSZWY6IFJhbmdlUmVmSW50ZXJmYWNlID0ge1xuICAvKipcbiAgICogVHJhbnNmb3JtIHRoZSByYW5nZSByZWYncyBjdXJyZW50IHZhbHVlIGJ5IGFuIG9wZXJhdGlvbi5cbiAgICovXG5cbiAgdHJhbnNmb3JtKHJlZjogUmFuZ2VSZWYsIG9wOiBPcGVyYXRpb24pOiB2b2lkIHtcbiAgICBjb25zdCB7IGN1cnJlbnQsIGFmZmluaXR5IH0gPSByZWZcblxuICAgIGlmIChjdXJyZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHBhdGggPSBSYW5nZS50cmFuc2Zvcm0oY3VycmVudCwgb3AsIHsgYWZmaW5pdHkgfSlcbiAgICByZWYuY3VycmVudCA9IHBhdGhcblxuICAgIGlmIChwYXRoID09IG51bGwpIHtcbiAgICAgIHJlZi51bnJlZigpXG4gICAgfVxuICB9LFxufVxuIiwiZXhwb3J0IHR5cGUgU2NydWJiZXIgPSAoa2V5OiBzdHJpbmcsIHZhbHVlOiB1bmtub3duKSA9PiB1bmtub3duXG5cbmV4cG9ydCBpbnRlcmZhY2UgU2NydWJiZXJJbnRlcmZhY2Uge1xuICBzZXRTY3J1YmJlcihzY3J1YmJlcjogU2NydWJiZXIgfCB1bmRlZmluZWQpOiB2b2lkXG4gIHN0cmluZ2lmeSh2YWx1ZTogYW55KTogc3RyaW5nXG59XG5cbmxldCBfc2NydWJiZXI6IFNjcnViYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkXG5cbi8qKlxuICogVGhpcyBpbnRlcmZhY2UgaW1wbGVtZW50cyBhIHN0cmluZ2lmeSgpIGZ1bmN0aW9uLCB3aGljaCBpcyB1c2VkIGJ5IFNsYXRlXG4gKiBpbnRlcm5hbGx5IHdoZW4gZ2VuZXJhdGluZyBleGNlcHRpb25zIGNvbnRhaW5pbmcgZW5kIHVzZXIgZGF0YS4gRGV2ZWxvcGVyc1xuICogdXNpbmcgU2xhdGUgbWF5IGNhbGwgU2NydWJiZXIuc2V0U2NydWJiZXIoKSB0byBhbHRlciB0aGUgYmVoYXZpb3Igb2YgdGhpc1xuICogc3RyaW5naWZ5KCkgZnVuY3Rpb24uXG4gKlxuICogRm9yIGV4YW1wbGUsIHRvIHByZXZlbnQgdGhlIGNsZWFydGV4dCBsb2dnaW5nIG9mICd0ZXh0JyBmaWVsZHMgd2l0aGluIE5vZGVzOlxuICpcbiAqICAgIGltcG9ydCB7IFNjcnViYmVyIH0gZnJvbSAnc2xhdGUnO1xuICogICAgU2NydWJiZXIuc2V0U2NydWJiZXIoKGtleSwgdmFsKSA9PiB7XG4gKiAgICAgIGlmIChrZXkgPT09ICd0ZXh0JykgcmV0dXJuICcuLi5zY3J1YmJlZC4uLidcbiAqICAgICAgcmV0dXJuIHZhbFxuICogICAgfSk7XG4gKlxuICovXG5leHBvcnQgY29uc3QgU2NydWJiZXI6IFNjcnViYmVySW50ZXJmYWNlID0ge1xuICBzZXRTY3J1YmJlcihzY3J1YmJlcjogU2NydWJiZXIgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBfc2NydWJiZXIgPSBzY3J1YmJlclxuICB9LFxuXG4gIHN0cmluZ2lmeSh2YWx1ZTogYW55KTogc3RyaW5nIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUsIF9zY3J1YmJlcilcbiAgfSxcbn1cbiIsImltcG9ydCB7IGlzUGxhaW5PYmplY3QgfSBmcm9tICdpcy1wbGFpbi1vYmplY3QnXG5cbi8qXG4gIEN1c3RvbSBkZWVwIGVxdWFsIGNvbXBhcmlzb24gZm9yIFNsYXRlIG5vZGVzLlxuXG4gIFdlIGRvbid0IG5lZWQgZ2VuZXJhbCBwdXJwb3NlIGRlZXAgZXF1YWxpdHk7XG4gIFNsYXRlIG9ubHkgc3VwcG9ydHMgcGxhaW4gdmFsdWVzLCBBcnJheXMsIGFuZCBuZXN0ZWQgb2JqZWN0cy5cbiAgQ29tcGxleCB2YWx1ZXMgbmVzdGVkIGluc2lkZSBBcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQuXG5cbiAgU2xhdGUgb2JqZWN0cyBhcmUgZGVzaWduZWQgdG8gYmUgc2VyaWFsaXNlZCwgc29cbiAgbWlzc2luZyBrZXlzIGFyZSBkZWxpYmVyYXRlbHkgbm9ybWFsaXNlZCB0byB1bmRlZmluZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBpc0RlZXBFcXVhbCA9IChcbiAgbm9kZTogUmVjb3JkPHN0cmluZywgYW55PixcbiAgYW5vdGhlcjogUmVjb3JkPHN0cmluZywgYW55PlxuKTogYm9vbGVhbiA9PiB7XG4gIGZvciAoY29uc3Qga2V5IGluIG5vZGUpIHtcbiAgICBjb25zdCBhID0gbm9kZVtrZXldXG4gICAgY29uc3QgYiA9IGFub3RoZXJba2V5XVxuICAgIGlmIChpc1BsYWluT2JqZWN0KGEpICYmIGlzUGxhaW5PYmplY3QoYikpIHtcbiAgICAgIGlmICghaXNEZWVwRXF1YWwoYSwgYikpIHJldHVybiBmYWxzZVxuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhKSAmJiBBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2VcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSkgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhICE9PSBiKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICAvKlxuICAgIERlZXAgb2JqZWN0IGVxdWFsaXR5IGlzIG9ubHkgbmVjZXNzYXJ5IGluIG9uZSBkaXJlY3Rpb247IGluIHRoZSByZXZlcnNlIGRpcmVjdGlvblxuICAgIHdlIGFyZSBvbmx5IGxvb2tpbmcgZm9yIGtleXMgdGhhdCBhcmUgbWlzc2luZy5cbiAgICBBcyBhYm92ZSwgdW5kZWZpbmVkIGtleXMgYXJlIG5vcm1hbGlzZWQgdG8gbWlzc2luZy5cbiAgKi9cblxuICBmb3IgKGNvbnN0IGtleSBpbiBhbm90aGVyKSB7XG4gICAgaWYgKG5vZGVba2V5XSA9PT0gdW5kZWZpbmVkICYmIGFub3RoZXJba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuIiwiaW1wb3J0IHsgaXNQbGFpbk9iamVjdCB9IGZyb20gJ2lzLXBsYWluLW9iamVjdCdcbmltcG9ydCB7IFJhbmdlIH0gZnJvbSAnLi4nXG5pbXBvcnQgeyBFeHRlbmRlZFR5cGUgfSBmcm9tICcuL2N1c3RvbS10eXBlcydcbmltcG9ydCB7IGlzRGVlcEVxdWFsIH0gZnJvbSAnLi4vdXRpbHMvZGVlcC1lcXVhbCdcblxuLyoqXG4gKiBgVGV4dGAgb2JqZWN0cyByZXByZXNlbnQgdGhlIG5vZGVzIHRoYXQgY29udGFpbiB0aGUgYWN0dWFsIHRleHQgY29udGVudCBvZiBhXG4gKiBTbGF0ZSBkb2N1bWVudCBhbG9uZyB3aXRoIGFueSBmb3JtYXR0aW5nIHByb3BlcnRpZXMuIFRoZXkgYXJlIGFsd2F5cyBsZWFmXG4gKiBub2RlcyBpbiB0aGUgZG9jdW1lbnQgdHJlZSBhcyB0aGV5IGNhbm5vdCBjb250YWluIGFueSBjaGlsZHJlbi5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VUZXh0IHtcbiAgdGV4dDogc3RyaW5nXG59XG5cbmV4cG9ydCB0eXBlIFRleHQgPSBFeHRlbmRlZFR5cGU8J1RleHQnLCBCYXNlVGV4dD5cblxuZXhwb3J0IGludGVyZmFjZSBUZXh0RXF1YWxzT3B0aW9ucyB7XG4gIGxvb3NlPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRleHRJbnRlcmZhY2Uge1xuICBlcXVhbHM6ICh0ZXh0OiBUZXh0LCBhbm90aGVyOiBUZXh0LCBvcHRpb25zPzogVGV4dEVxdWFsc09wdGlvbnMpID0+IGJvb2xlYW5cbiAgaXNUZXh0OiAodmFsdWU6IGFueSkgPT4gdmFsdWUgaXMgVGV4dFxuICBpc1RleHRMaXN0OiAodmFsdWU6IGFueSkgPT4gdmFsdWUgaXMgVGV4dFtdXG4gIGlzVGV4dFByb3BzOiAocHJvcHM6IGFueSkgPT4gcHJvcHMgaXMgUGFydGlhbDxUZXh0PlxuICBtYXRjaGVzOiAodGV4dDogVGV4dCwgcHJvcHM6IFBhcnRpYWw8VGV4dD4pID0+IGJvb2xlYW5cbiAgZGVjb3JhdGlvbnM6IChub2RlOiBUZXh0LCBkZWNvcmF0aW9uczogUmFuZ2VbXSkgPT4gVGV4dFtdXG59XG5cbmV4cG9ydCBjb25zdCBUZXh0OiBUZXh0SW50ZXJmYWNlID0ge1xuICAvKipcbiAgICogQ2hlY2sgaWYgdHdvIHRleHQgbm9kZXMgYXJlIGVxdWFsLlxuICAgKlxuICAgKiBXaGVuIGxvb3NlIGlzIHNldCwgdGhlIHRleHQgaXMgbm90IGNvbXBhcmVkLiBUaGlzIGlzXG4gICAqIHVzZWQgdG8gY2hlY2sgd2hldGhlciBzaWJsaW5nIHRleHQgbm9kZXMgY2FuIGJlIG1lcmdlZC5cbiAgICovXG4gIGVxdWFscyh0ZXh0OiBUZXh0LCBhbm90aGVyOiBUZXh0LCBvcHRpb25zOiBUZXh0RXF1YWxzT3B0aW9ucyA9IHt9KTogYm9vbGVhbiB7XG4gICAgY29uc3QgeyBsb29zZSA9IGZhbHNlIH0gPSBvcHRpb25zXG5cbiAgICBmdW5jdGlvbiBvbWl0VGV4dChvYmo6IFJlY29yZDxhbnksIGFueT4pIHtcbiAgICAgIGNvbnN0IHsgdGV4dCwgLi4ucmVzdCB9ID0gb2JqXG5cbiAgICAgIHJldHVybiByZXN0XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzRGVlcEVxdWFsKFxuICAgICAgbG9vc2UgPyBvbWl0VGV4dCh0ZXh0KSA6IHRleHQsXG4gICAgICBsb29zZSA/IG9taXRUZXh0KGFub3RoZXIpIDogYW5vdGhlclxuICAgIClcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpbXBsZW1lbnRzIHRoZSBgVGV4dGAgaW50ZXJmYWNlLlxuICAgKi9cblxuICBpc1RleHQodmFsdWU6IGFueSk6IHZhbHVlIGlzIFRleHQge1xuICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUudGV4dCA9PT0gJ3N0cmluZydcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhIGxpc3Qgb2YgYFRleHRgIG9iamVjdHMuXG4gICAqL1xuXG4gIGlzVGV4dExpc3QodmFsdWU6IGFueSk6IHZhbHVlIGlzIFRleHRbXSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KHZhbCA9PiBUZXh0LmlzVGV4dCh2YWwpKVxuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBzb21lIHByb3BzIGFyZSBhIHBhcnRpYWwgb2YgVGV4dC5cbiAgICovXG5cbiAgaXNUZXh0UHJvcHMocHJvcHM6IGFueSk6IHByb3BzIGlzIFBhcnRpYWw8VGV4dD4ge1xuICAgIHJldHVybiAocHJvcHMgYXMgUGFydGlhbDxUZXh0PikudGV4dCAhPT0gdW5kZWZpbmVkXG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIHRleHQgbWF0Y2hlcyBzZXQgb2YgcHJvcGVydGllcy5cbiAgICpcbiAgICogTm90ZTogdGhpcyBpcyBmb3IgbWF0Y2hpbmcgY3VzdG9tIHByb3BlcnRpZXMsIGFuZCBpdCBkb2VzIG5vdCBlbnN1cmUgdGhhdFxuICAgKiB0aGUgYHRleHRgIHByb3BlcnR5IGFyZSB0d28gbm9kZXMgZXF1YWwuXG4gICAqL1xuXG4gIG1hdGNoZXModGV4dDogVGV4dCwgcHJvcHM6IFBhcnRpYWw8VGV4dD4pOiBib29sZWFuIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgaWYgKGtleSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGlmICghdGV4dC5oYXNPd25Qcm9wZXJ0eShrZXkpIHx8IHRleHRba2V5XSAhPT0gcHJvcHNba2V5XSkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxlYXZlcyBmb3IgYSB0ZXh0IG5vZGUgZ2l2ZW4gZGVjb3JhdGlvbnMuXG4gICAqL1xuXG4gIGRlY29yYXRpb25zKG5vZGU6IFRleHQsIGRlY29yYXRpb25zOiBSYW5nZVtdKTogVGV4dFtdIHtcbiAgICBsZXQgbGVhdmVzOiBUZXh0W10gPSBbeyAuLi5ub2RlIH1dXG5cbiAgICBmb3IgKGNvbnN0IGRlYyBvZiBkZWNvcmF0aW9ucykge1xuICAgICAgY29uc3QgeyBhbmNob3IsIGZvY3VzLCAuLi5yZXN0IH0gPSBkZWNcbiAgICAgIGNvbnN0IFtzdGFydCwgZW5kXSA9IFJhbmdlLmVkZ2VzKGRlYylcbiAgICAgIGNvbnN0IG5leHQgPSBbXVxuICAgICAgbGV0IG8gPSAwXG5cbiAgICAgIGZvciAoY29uc3QgbGVhZiBvZiBsZWF2ZXMpIHtcbiAgICAgICAgY29uc3QgeyBsZW5ndGggfSA9IGxlYWYudGV4dFxuICAgICAgICBjb25zdCBvZmZzZXQgPSBvXG4gICAgICAgIG8gKz0gbGVuZ3RoXG5cbiAgICAgICAgLy8gSWYgdGhlIHJhbmdlIGVuY29tcGFzZXMgdGhlIGVudGlyZSBsZWFmLCBhZGQgdGhlIHJhbmdlLlxuICAgICAgICBpZiAoc3RhcnQub2Zmc2V0IDw9IG9mZnNldCAmJiBlbmQub2Zmc2V0ID49IG8pIHtcbiAgICAgICAgICBPYmplY3QuYXNzaWduKGxlYWYsIHJlc3QpXG4gICAgICAgICAgbmV4dC5wdXNoKGxlYWYpXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZSByYW5nZSBleHBhbmRlZCBhbmQgbWF0Y2ggdGhlIGxlYWYsIG9yIHN0YXJ0cyBhZnRlciwgb3IgZW5kcyBiZWZvcmUgaXQsIGNvbnRpbnVlLlxuICAgICAgICBpZiAoXG4gICAgICAgICAgKHN0YXJ0Lm9mZnNldCAhPT0gZW5kLm9mZnNldCAmJlxuICAgICAgICAgICAgKHN0YXJ0Lm9mZnNldCA9PT0gbyB8fCBlbmQub2Zmc2V0ID09PSBvZmZzZXQpKSB8fFxuICAgICAgICAgIHN0YXJ0Lm9mZnNldCA+IG8gfHxcbiAgICAgICAgICBlbmQub2Zmc2V0IDwgb2Zmc2V0IHx8XG4gICAgICAgICAgKGVuZC5vZmZzZXQgPT09IG9mZnNldCAmJiBvZmZzZXQgIT09IDApXG4gICAgICAgICkge1xuICAgICAgICAgIG5leHQucHVzaChsZWFmKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyBPdGhlcndpc2Ugd2UgbmVlZCB0byBzcGxpdCB0aGUgbGVhZiwgYXQgdGhlIHN0YXJ0LCBlbmQsIG9yIGJvdGgsXG4gICAgICAgIC8vIGFuZCBhZGQgdGhlIHJhbmdlIHRvIHRoZSBtaWRkbGUgaW50ZXJzZWN0aW5nIHNlY3Rpb24uIERvIHRoZSBlbmRcbiAgICAgICAgLy8gc3BsaXQgZmlyc3Qgc2luY2Ugd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIG9mZnNldCB0aGF0IHdheS5cbiAgICAgICAgbGV0IG1pZGRsZSA9IGxlYWZcbiAgICAgICAgbGV0IGJlZm9yZVxuICAgICAgICBsZXQgYWZ0ZXJcblxuICAgICAgICBpZiAoZW5kLm9mZnNldCA8IG8pIHtcbiAgICAgICAgICBjb25zdCBvZmYgPSBlbmQub2Zmc2V0IC0gb2Zmc2V0XG4gICAgICAgICAgYWZ0ZXIgPSB7IC4uLm1pZGRsZSwgdGV4dDogbWlkZGxlLnRleHQuc2xpY2Uob2ZmKSB9XG4gICAgICAgICAgbWlkZGxlID0geyAuLi5taWRkbGUsIHRleHQ6IG1pZGRsZS50ZXh0LnNsaWNlKDAsIG9mZikgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXJ0Lm9mZnNldCA+IG9mZnNldCkge1xuICAgICAgICAgIGNvbnN0IG9mZiA9IHN0YXJ0Lm9mZnNldCAtIG9mZnNldFxuICAgICAgICAgIGJlZm9yZSA9IHsgLi4ubWlkZGxlLCB0ZXh0OiBtaWRkbGUudGV4dC5zbGljZSgwLCBvZmYpIH1cbiAgICAgICAgICBtaWRkbGUgPSB7IC4uLm1pZGRsZSwgdGV4dDogbWlkZGxlLnRleHQuc2xpY2Uob2ZmKSB9XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuYXNzaWduKG1pZGRsZSwgcmVzdClcblxuICAgICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgICAgbmV4dC5wdXNoKGJlZm9yZSlcbiAgICAgICAgfVxuXG4gICAgICAgIG5leHQucHVzaChtaWRkbGUpXG5cbiAgICAgICAgaWYgKGFmdGVyKSB7XG4gICAgICAgICAgbmV4dC5wdXNoKGFmdGVyKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxlYXZlcyA9IG5leHRcbiAgICB9XG5cbiAgICByZXR1cm4gbGVhdmVzXG4gIH0sXG59XG4iLCJpbXBvcnQgeyBjcmVhdGVEcmFmdCwgZmluaXNoRHJhZnQsIGlzRHJhZnQgfSBmcm9tICdpbW1lcidcbmltcG9ydCB7XG4gIEFuY2VzdG9yLFxuICBEZXNjZW5kYW50LFxuICBFZGl0b3IsXG4gIEVsZW1lbnQsXG4gIE5vZGUsXG4gIE5vZGVFbnRyeSxcbiAgT3BlcmF0aW9uLFxuICBQYXRoLFxuICBQb2ludCxcbiAgUmFuZ2UsXG4gIFNjcnViYmVyLFxuICBTZWxlY3Rpb24sXG4gIFRleHQsXG59IGZyb20gJy4uJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEdlbmVyYWxUcmFuc2Zvcm1zIHtcbiAgdHJhbnNmb3JtOiAoZWRpdG9yOiBFZGl0b3IsIG9wOiBPcGVyYXRpb24pID0+IHZvaWRcbn1cblxuY29uc3QgYXBwbHlUb0RyYWZ0ID0gKGVkaXRvcjogRWRpdG9yLCBzZWxlY3Rpb246IFNlbGVjdGlvbiwgb3A6IE9wZXJhdGlvbikgPT4ge1xuICBzd2l0Y2ggKG9wLnR5cGUpIHtcbiAgICBjYXNlICdpbnNlcnRfbm9kZSc6IHtcbiAgICAgIGNvbnN0IHsgcGF0aCwgbm9kZSB9ID0gb3BcbiAgICAgIGNvbnN0IHBhcmVudCA9IE5vZGUucGFyZW50KGVkaXRvciwgcGF0aClcbiAgICAgIGNvbnN0IGluZGV4ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdXG5cbiAgICAgIGlmIChpbmRleCA+IHBhcmVudC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDYW5ub3QgYXBwbHkgYW4gXCJpbnNlcnRfbm9kZVwiIG9wZXJhdGlvbiBhdCBwYXRoIFske3BhdGh9XSBiZWNhdXNlIHRoZSBkZXN0aW5hdGlvbiBpcyBwYXN0IHRoZSBlbmQgb2YgdGhlIG5vZGUuYFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIG5vZGUpXG5cbiAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgZm9yIChjb25zdCBbcG9pbnQsIGtleV0gb2YgUmFuZ2UucG9pbnRzKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICBzZWxlY3Rpb25ba2V5XSA9IFBvaW50LnRyYW5zZm9ybShwb2ludCwgb3ApIVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgY2FzZSAnaW5zZXJ0X3RleHQnOiB7XG4gICAgICBjb25zdCB7IHBhdGgsIG9mZnNldCwgdGV4dCB9ID0gb3BcbiAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCkgYnJlYWtcbiAgICAgIGNvbnN0IG5vZGUgPSBOb2RlLmxlYWYoZWRpdG9yLCBwYXRoKVxuICAgICAgY29uc3QgYmVmb3JlID0gbm9kZS50ZXh0LnNsaWNlKDAsIG9mZnNldClcbiAgICAgIGNvbnN0IGFmdGVyID0gbm9kZS50ZXh0LnNsaWNlKG9mZnNldClcbiAgICAgIG5vZGUudGV4dCA9IGJlZm9yZSArIHRleHQgKyBhZnRlclxuXG4gICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgIGZvciAoY29uc3QgW3BvaW50LCBrZXldIG9mIFJhbmdlLnBvaW50cyhzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgc2VsZWN0aW9uW2tleV0gPSBQb2ludC50cmFuc2Zvcm0ocG9pbnQsIG9wKSFcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBicmVha1xuICAgIH1cblxuICAgIGNhc2UgJ21lcmdlX25vZGUnOiB7XG4gICAgICBjb25zdCB7IHBhdGggfSA9IG9wXG4gICAgICBjb25zdCBub2RlID0gTm9kZS5nZXQoZWRpdG9yLCBwYXRoKVxuICAgICAgY29uc3QgcHJldlBhdGggPSBQYXRoLnByZXZpb3VzKHBhdGgpXG4gICAgICBjb25zdCBwcmV2ID0gTm9kZS5nZXQoZWRpdG9yLCBwcmV2UGF0aClcbiAgICAgIGNvbnN0IHBhcmVudCA9IE5vZGUucGFyZW50KGVkaXRvciwgcGF0aClcbiAgICAgIGNvbnN0IGluZGV4ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdXG5cbiAgICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSAmJiBUZXh0LmlzVGV4dChwcmV2KSkge1xuICAgICAgICBwcmV2LnRleHQgKz0gbm9kZS50ZXh0XG4gICAgICB9IGVsc2UgaWYgKCFUZXh0LmlzVGV4dChub2RlKSAmJiAhVGV4dC5pc1RleHQocHJldikpIHtcbiAgICAgICAgcHJldi5jaGlsZHJlbi5wdXNoKC4uLm5vZGUuY2hpbGRyZW4pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYENhbm5vdCBhcHBseSBhIFwibWVyZ2Vfbm9kZVwiIG9wZXJhdGlvbiBhdCBwYXRoIFske3BhdGh9XSB0byBub2RlcyBvZiBkaWZmZXJlbnQgaW50ZXJmYWNlczogJHtTY3J1YmJlci5zdHJpbmdpZnkoXG4gICAgICAgICAgICBub2RlXG4gICAgICAgICAgKX0gJHtTY3J1YmJlci5zdHJpbmdpZnkocHJldil9YFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpXG5cbiAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgZm9yIChjb25zdCBbcG9pbnQsIGtleV0gb2YgUmFuZ2UucG9pbnRzKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICBzZWxlY3Rpb25ba2V5XSA9IFBvaW50LnRyYW5zZm9ybShwb2ludCwgb3ApIVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgY2FzZSAnbW92ZV9ub2RlJzoge1xuICAgICAgY29uc3QgeyBwYXRoLCBuZXdQYXRoIH0gPSBvcFxuXG4gICAgICBpZiAoUGF0aC5pc0FuY2VzdG9yKHBhdGgsIG5ld1BhdGgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgQ2Fubm90IG1vdmUgYSBwYXRoIFske3BhdGh9XSB0byBuZXcgcGF0aCBbJHtuZXdQYXRofV0gYmVjYXVzZSB0aGUgZGVzdGluYXRpb24gaXMgaW5zaWRlIGl0c2VsZi5gXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9kZSA9IE5vZGUuZ2V0KGVkaXRvciwgcGF0aClcbiAgICAgIGNvbnN0IHBhcmVudCA9IE5vZGUucGFyZW50KGVkaXRvciwgcGF0aClcbiAgICAgIGNvbnN0IGluZGV4ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdXG5cbiAgICAgIC8vIFRoaXMgaXMgdHJpY2t5LCBidXQgc2luY2UgdGhlIGBwYXRoYCBhbmQgYG5ld1BhdGhgIGJvdGggcmVmZXIgdG9cbiAgICAgIC8vIHRoZSBzYW1lIHNuYXBzaG90IGluIHRpbWUsIHRoZXJlJ3MgYSBtaXNtYXRjaC4gQWZ0ZXIgZWl0aGVyXG4gICAgICAvLyByZW1vdmluZyB0aGUgb3JpZ2luYWwgcG9zaXRpb24sIHRoZSBzZWNvbmQgc3RlcCdzIHBhdGggY2FuIGJlIG91dFxuICAgICAgLy8gb2YgZGF0ZS4gU28gaW5zdGVhZCBvZiB1c2luZyB0aGUgYG9wLm5ld1BhdGhgIGRpcmVjdGx5LCB3ZVxuICAgICAgLy8gdHJhbnNmb3JtIGBvcC5wYXRoYCB0byBhc2NlcnRhaW4gd2hhdCB0aGUgYG5ld1BhdGhgIHdvdWxkIGJlIGFmdGVyXG4gICAgICAvLyB0aGUgb3BlcmF0aW9uIHdhcyBhcHBsaWVkLlxuICAgICAgcGFyZW50LmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSlcbiAgICAgIGNvbnN0IHRydWVQYXRoID0gUGF0aC50cmFuc2Zvcm0ocGF0aCwgb3ApIVxuICAgICAgY29uc3QgbmV3UGFyZW50ID0gTm9kZS5nZXQoZWRpdG9yLCBQYXRoLnBhcmVudCh0cnVlUGF0aCkpIGFzIEFuY2VzdG9yXG4gICAgICBjb25zdCBuZXdJbmRleCA9IHRydWVQYXRoW3RydWVQYXRoLmxlbmd0aCAtIDFdXG5cbiAgICAgIG5ld1BhcmVudC5jaGlsZHJlbi5zcGxpY2UobmV3SW5kZXgsIDAsIG5vZGUpXG5cbiAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgZm9yIChjb25zdCBbcG9pbnQsIGtleV0gb2YgUmFuZ2UucG9pbnRzKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICBzZWxlY3Rpb25ba2V5XSA9IFBvaW50LnRyYW5zZm9ybShwb2ludCwgb3ApIVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgY2FzZSAncmVtb3ZlX25vZGUnOiB7XG4gICAgICBjb25zdCB7IHBhdGggfSA9IG9wXG4gICAgICBjb25zdCBpbmRleCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXVxuICAgICAgY29uc3QgcGFyZW50ID0gTm9kZS5wYXJlbnQoZWRpdG9yLCBwYXRoKVxuICAgICAgcGFyZW50LmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSlcblxuICAgICAgLy8gVHJhbnNmb3JtIGFsbCBvZiB0aGUgcG9pbnRzIGluIHRoZSB2YWx1ZSwgYnV0IGlmIHRoZSBwb2ludCB3YXMgaW4gdGhlXG4gICAgICAvLyBub2RlIHRoYXQgd2FzIHJlbW92ZWQgd2UgbmVlZCB0byB1cGRhdGUgdGhlIHJhbmdlIG9yIHJlbW92ZSBpdC5cbiAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgZm9yIChjb25zdCBbcG9pbnQsIGtleV0gb2YgUmFuZ2UucG9pbnRzKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBQb2ludC50cmFuc2Zvcm0ocG9pbnQsIG9wKVxuXG4gICAgICAgICAgaWYgKHNlbGVjdGlvbiAhPSBudWxsICYmIHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZWxlY3Rpb25ba2V5XSA9IHJlc3VsdFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcHJldjogTm9kZUVudHJ5PFRleHQ+IHwgdW5kZWZpbmVkXG4gICAgICAgICAgICBsZXQgbmV4dDogTm9kZUVudHJ5PFRleHQ+IHwgdW5kZWZpbmVkXG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgW24sIHBdIG9mIE5vZGUudGV4dHMoZWRpdG9yKSkge1xuICAgICAgICAgICAgICBpZiAoUGF0aC5jb21wYXJlKHAsIHBhdGgpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHByZXYgPSBbbiwgcF1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXh0ID0gW24sIHBdXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcHJlZmVyTmV4dCA9IGZhbHNlXG4gICAgICAgICAgICBpZiAocHJldiAmJiBuZXh0KSB7XG4gICAgICAgICAgICAgIGlmIChQYXRoLmVxdWFscyhuZXh0WzFdLCBwYXRoKSkge1xuICAgICAgICAgICAgICAgIHByZWZlck5leHQgPSAhUGF0aC5oYXNQcmV2aW91cyhuZXh0WzFdKVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHByZWZlck5leHQgPVxuICAgICAgICAgICAgICAgICAgUGF0aC5jb21tb24ocHJldlsxXSwgcGF0aCkubGVuZ3RoIDxcbiAgICAgICAgICAgICAgICAgIFBhdGguY29tbW9uKG5leHRbMV0sIHBhdGgpLmxlbmd0aFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwcmV2ICYmICFwcmVmZXJOZXh0KSB7XG4gICAgICAgICAgICAgIHBvaW50LnBhdGggPSBwcmV2WzFdXG4gICAgICAgICAgICAgIHBvaW50Lm9mZnNldCA9IHByZXZbMF0udGV4dC5sZW5ndGhcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dCkge1xuICAgICAgICAgICAgICBwb2ludC5wYXRoID0gbmV4dFsxXVxuICAgICAgICAgICAgICBwb2ludC5vZmZzZXQgPSAwXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gICAgY2FzZSAncmVtb3ZlX3RleHQnOiB7XG4gICAgICBjb25zdCB7IHBhdGgsIG9mZnNldCwgdGV4dCB9ID0gb3BcbiAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCkgYnJlYWtcbiAgICAgIGNvbnN0IG5vZGUgPSBOb2RlLmxlYWYoZWRpdG9yLCBwYXRoKVxuICAgICAgY29uc3QgYmVmb3JlID0gbm9kZS50ZXh0LnNsaWNlKDAsIG9mZnNldClcbiAgICAgIGNvbnN0IGFmdGVyID0gbm9kZS50ZXh0LnNsaWNlKG9mZnNldCArIHRleHQubGVuZ3RoKVxuICAgICAgbm9kZS50ZXh0ID0gYmVmb3JlICsgYWZ0ZXJcblxuICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICBmb3IgKGNvbnN0IFtwb2ludCwga2V5XSBvZiBSYW5nZS5wb2ludHMoc2VsZWN0aW9uKSkge1xuICAgICAgICAgIHNlbGVjdGlvbltrZXldID0gUG9pbnQudHJhbnNmb3JtKHBvaW50LCBvcCkhXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBjYXNlICdzZXRfbm9kZSc6IHtcbiAgICAgIGNvbnN0IHsgcGF0aCwgcHJvcGVydGllcywgbmV3UHJvcGVydGllcyB9ID0gb3BcblxuICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHNldCBwcm9wZXJ0aWVzIG9uIHRoZSByb290IG5vZGUhYClcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9kZSA9IE5vZGUuZ2V0KGVkaXRvciwgcGF0aClcblxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3UHJvcGVydGllcykge1xuICAgICAgICBpZiAoa2V5ID09PSAnY2hpbGRyZW4nIHx8IGtleSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3Qgc2V0IHRoZSBcIiR7a2V5fVwiIHByb3BlcnR5IG9mIG5vZGVzIWApXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWx1ZSA9IG5ld1Byb3BlcnRpZXNba2V5XVxuXG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgZGVsZXRlIG5vZGVba2V5XVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGVba2V5XSA9IHZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gcHJvcGVydGllcyB0aGF0IHdlcmUgcHJldmlvdXNseSBkZWZpbmVkLCBidXQgYXJlIG5vdyBtaXNzaW5nLCBtdXN0IGJlIGRlbGV0ZWRcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKCFuZXdQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBkZWxldGUgbm9kZVtrZXldXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBjYXNlICdzZXRfc2VsZWN0aW9uJzoge1xuICAgICAgY29uc3QgeyBuZXdQcm9wZXJ0aWVzIH0gPSBvcFxuXG4gICAgICBpZiAobmV3UHJvcGVydGllcyA9PSBudWxsKSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IG5ld1Byb3BlcnRpZXNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzZWxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICAgIGlmICghUmFuZ2UuaXNSYW5nZShuZXdQcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgQ2Fubm90IGFwcGx5IGFuIGluY29tcGxldGUgXCJzZXRfc2VsZWN0aW9uXCIgb3BlcmF0aW9uIHByb3BlcnRpZXMgJHtTY3J1YmJlci5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgbmV3UHJvcGVydGllc1xuICAgICAgICAgICAgICApfSB3aGVuIHRoZXJlIGlzIG5vIGN1cnJlbnQgc2VsZWN0aW9uLmBcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxlY3Rpb24gPSB7IC4uLm5ld1Byb3BlcnRpZXMgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3UHJvcGVydGllcykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gbmV3UHJvcGVydGllc1trZXldXG5cbiAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2FuY2hvcicgfHwga2V5ID09PSAnZm9jdXMnKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHJlbW92ZSB0aGUgXCIke2tleX1cIiBzZWxlY3Rpb24gcHJvcGVydHlgKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWxldGUgc2VsZWN0aW9uW2tleV1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZWN0aW9uW2tleV0gPSB2YWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBicmVha1xuICAgIH1cblxuICAgIGNhc2UgJ3NwbGl0X25vZGUnOiB7XG4gICAgICBjb25zdCB7IHBhdGgsIHBvc2l0aW9uLCBwcm9wZXJ0aWVzIH0gPSBvcFxuXG4gICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDYW5ub3QgYXBwbHkgYSBcInNwbGl0X25vZGVcIiBvcGVyYXRpb24gYXQgcGF0aCBbJHtwYXRofV0gYmVjYXVzZSB0aGUgcm9vdCBub2RlIGNhbm5vdCBiZSBzcGxpdC5gXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9kZSA9IE5vZGUuZ2V0KGVkaXRvciwgcGF0aClcbiAgICAgIGNvbnN0IHBhcmVudCA9IE5vZGUucGFyZW50KGVkaXRvciwgcGF0aClcbiAgICAgIGNvbnN0IGluZGV4ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdXG4gICAgICBsZXQgbmV3Tm9kZTogRGVzY2VuZGFudFxuXG4gICAgICBpZiAoVGV4dC5pc1RleHQobm9kZSkpIHtcbiAgICAgICAgY29uc3QgYmVmb3JlID0gbm9kZS50ZXh0LnNsaWNlKDAsIHBvc2l0aW9uKVxuICAgICAgICBjb25zdCBhZnRlciA9IG5vZGUudGV4dC5zbGljZShwb3NpdGlvbilcbiAgICAgICAgbm9kZS50ZXh0ID0gYmVmb3JlXG4gICAgICAgIG5ld05vZGUgPSB7XG4gICAgICAgICAgLi4uKHByb3BlcnRpZXMgYXMgUGFydGlhbDxUZXh0PiksXG4gICAgICAgICAgdGV4dDogYWZ0ZXIsXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGJlZm9yZSA9IG5vZGUuY2hpbGRyZW4uc2xpY2UoMCwgcG9zaXRpb24pXG4gICAgICAgIGNvbnN0IGFmdGVyID0gbm9kZS5jaGlsZHJlbi5zbGljZShwb3NpdGlvbilcbiAgICAgICAgbm9kZS5jaGlsZHJlbiA9IGJlZm9yZVxuXG4gICAgICAgIG5ld05vZGUgPSB7XG4gICAgICAgICAgLi4uKHByb3BlcnRpZXMgYXMgUGFydGlhbDxFbGVtZW50PiksXG4gICAgICAgICAgY2hpbGRyZW46IGFmdGVyLFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaW5kZXggKyAxLCAwLCBuZXdOb2RlKVxuXG4gICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgIGZvciAoY29uc3QgW3BvaW50LCBrZXldIG9mIFJhbmdlLnBvaW50cyhzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgc2VsZWN0aW9uW2tleV0gPSBQb2ludC50cmFuc2Zvcm0ocG9pbnQsIG9wKSFcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2VsZWN0aW9uXG59XG5cbmV4cG9ydCBjb25zdCBHZW5lcmFsVHJhbnNmb3JtczogR2VuZXJhbFRyYW5zZm9ybXMgPSB7XG4gIC8qKlxuICAgKiBUcmFuc2Zvcm0gdGhlIGVkaXRvciBieSBhbiBvcGVyYXRpb24uXG4gICAqL1xuXG4gIHRyYW5zZm9ybShlZGl0b3I6IEVkaXRvciwgb3A6IE9wZXJhdGlvbik6IHZvaWQge1xuICAgIGVkaXRvci5jaGlsZHJlbiA9IGNyZWF0ZURyYWZ0KGVkaXRvci5jaGlsZHJlbilcbiAgICBsZXQgc2VsZWN0aW9uID0gZWRpdG9yLnNlbGVjdGlvbiAmJiBjcmVhdGVEcmFmdChlZGl0b3Iuc2VsZWN0aW9uKVxuXG4gICAgdHJ5IHtcbiAgICAgIHNlbGVjdGlvbiA9IGFwcGx5VG9EcmFmdChlZGl0b3IsIHNlbGVjdGlvbiwgb3ApXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGVkaXRvci5jaGlsZHJlbiA9IGZpbmlzaERyYWZ0KGVkaXRvci5jaGlsZHJlbilcblxuICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uID0gaXNEcmFmdChzZWxlY3Rpb24pXG4gICAgICAgICAgPyAoZmluaXNoRHJhZnQoc2VsZWN0aW9uKSBhcyBSYW5nZSlcbiAgICAgICAgICA6IHNlbGVjdGlvblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbiA9IG51bGxcbiAgICAgIH1cbiAgICB9XG4gIH0sXG59XG4iLCJpbXBvcnQge1xuICBBbmNlc3RvcixcbiAgRWRpdG9yLFxuICBFbGVtZW50LFxuICBMb2NhdGlvbixcbiAgTm9kZSxcbiAgTm9kZUVudHJ5LFxuICBQYXRoLFxuICBQb2ludCxcbiAgUmFuZ2UsXG4gIFNjcnViYmVyLFxuICBUZXh0LFxuICBUcmFuc2Zvcm1zLFxufSBmcm9tICcuLidcbmltcG9ydCB7IE5vZGVNYXRjaCwgUHJvcHNDb21wYXJlLCBQcm9wc01lcmdlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9lZGl0b3InXG5pbXBvcnQgeyBQb2ludFJlZiB9IGZyb20gJy4uL2ludGVyZmFjZXMvcG9pbnQtcmVmJ1xuaW1wb3J0IHsgUmFuZ2VNb2RlLCBNYXhpbWl6ZU1vZGUgfSBmcm9tICcuLi9pbnRlcmZhY2VzL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vZGVUcmFuc2Zvcm1zIHtcbiAgaW5zZXJ0Tm9kZXM6IDxUIGV4dGVuZHMgTm9kZT4oXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgbm9kZXM6IE5vZGUgfCBOb2RlW10sXG4gICAgb3B0aW9ucz86IHtcbiAgICAgIGF0PzogTG9jYXRpb25cbiAgICAgIG1hdGNoPzogTm9kZU1hdGNoPFQ+XG4gICAgICBtb2RlPzogUmFuZ2VNb2RlXG4gICAgICBoYW5naW5nPzogYm9vbGVhblxuICAgICAgc2VsZWN0PzogYm9vbGVhblxuICAgICAgdm9pZHM/OiBib29sZWFuXG4gICAgfVxuICApID0+IHZvaWRcbiAgbGlmdE5vZGVzOiA8VCBleHRlbmRzIE5vZGU+KFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIG9wdGlvbnM/OiB7XG4gICAgICBhdD86IExvY2F0aW9uXG4gICAgICBtYXRjaD86IE5vZGVNYXRjaDxUPlxuICAgICAgbW9kZT86IE1heGltaXplTW9kZVxuICAgICAgdm9pZHM/OiBib29sZWFuXG4gICAgfVxuICApID0+IHZvaWRcbiAgbWVyZ2VOb2RlczogPFQgZXh0ZW5kcyBOb2RlPihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBvcHRpb25zPzoge1xuICAgICAgYXQ/OiBMb2NhdGlvblxuICAgICAgbWF0Y2g/OiBOb2RlTWF0Y2g8VD5cbiAgICAgIG1vZGU/OiBSYW5nZU1vZGVcbiAgICAgIGhhbmdpbmc/OiBib29sZWFuXG4gICAgICB2b2lkcz86IGJvb2xlYW5cbiAgICB9XG4gICkgPT4gdm9pZFxuICBtb3ZlTm9kZXM6IDxUIGV4dGVuZHMgTm9kZT4oXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgb3B0aW9uczoge1xuICAgICAgYXQ/OiBMb2NhdGlvblxuICAgICAgbWF0Y2g/OiBOb2RlTWF0Y2g8VD5cbiAgICAgIG1vZGU/OiBNYXhpbWl6ZU1vZGVcbiAgICAgIHRvOiBQYXRoXG4gICAgICB2b2lkcz86IGJvb2xlYW5cbiAgICB9XG4gICkgPT4gdm9pZFxuICByZW1vdmVOb2RlczogPFQgZXh0ZW5kcyBOb2RlPihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBvcHRpb25zPzoge1xuICAgICAgYXQ/OiBMb2NhdGlvblxuICAgICAgbWF0Y2g/OiBOb2RlTWF0Y2g8VD5cbiAgICAgIG1vZGU/OiBSYW5nZU1vZGVcbiAgICAgIGhhbmdpbmc/OiBib29sZWFuXG4gICAgICB2b2lkcz86IGJvb2xlYW5cbiAgICB9XG4gICkgPT4gdm9pZFxuICBzZXROb2RlczogPFQgZXh0ZW5kcyBOb2RlPihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBwcm9wczogUGFydGlhbDxUPixcbiAgICBvcHRpb25zPzoge1xuICAgICAgYXQ/OiBMb2NhdGlvblxuICAgICAgbWF0Y2g/OiBOb2RlTWF0Y2g8VD5cbiAgICAgIG1vZGU/OiBNYXhpbWl6ZU1vZGVcbiAgICAgIGhhbmdpbmc/OiBib29sZWFuXG4gICAgICBzcGxpdD86IGJvb2xlYW5cbiAgICAgIHZvaWRzPzogYm9vbGVhblxuICAgICAgY29tcGFyZT86IFByb3BzQ29tcGFyZVxuICAgICAgbWVyZ2U/OiBQcm9wc01lcmdlXG4gICAgfVxuICApID0+IHZvaWRcbiAgc3BsaXROb2RlczogPFQgZXh0ZW5kcyBOb2RlPihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBvcHRpb25zPzoge1xuICAgICAgYXQ/OiBMb2NhdGlvblxuICAgICAgbWF0Y2g/OiBOb2RlTWF0Y2g8VD5cbiAgICAgIG1vZGU/OiBSYW5nZU1vZGVcbiAgICAgIGFsd2F5cz86IGJvb2xlYW5cbiAgICAgIGhlaWdodD86IG51bWJlclxuICAgICAgdm9pZHM/OiBib29sZWFuXG4gICAgfVxuICApID0+IHZvaWRcbiAgdW5zZXROb2RlczogPFQgZXh0ZW5kcyBOb2RlPihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBwcm9wczogc3RyaW5nIHwgc3RyaW5nW10sXG4gICAgb3B0aW9ucz86IHtcbiAgICAgIGF0PzogTG9jYXRpb25cbiAgICAgIG1hdGNoPzogTm9kZU1hdGNoPFQ+XG4gICAgICBtb2RlPzogTWF4aW1pemVNb2RlXG4gICAgICBzcGxpdD86IGJvb2xlYW5cbiAgICAgIHZvaWRzPzogYm9vbGVhblxuICAgIH1cbiAgKSA9PiB2b2lkXG4gIHVud3JhcE5vZGVzOiA8VCBleHRlbmRzIE5vZGU+KFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIG9wdGlvbnM/OiB7XG4gICAgICBhdD86IExvY2F0aW9uXG4gICAgICBtYXRjaD86IE5vZGVNYXRjaDxUPlxuICAgICAgbW9kZT86IE1heGltaXplTW9kZVxuICAgICAgc3BsaXQ/OiBib29sZWFuXG4gICAgICB2b2lkcz86IGJvb2xlYW5cbiAgICB9XG4gICkgPT4gdm9pZFxuICB3cmFwTm9kZXM6IDxUIGV4dGVuZHMgTm9kZT4oXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBvcHRpb25zPzoge1xuICAgICAgYXQ/OiBMb2NhdGlvblxuICAgICAgbWF0Y2g/OiBOb2RlTWF0Y2g8VD5cbiAgICAgIG1vZGU/OiBNYXhpbWl6ZU1vZGVcbiAgICAgIHNwbGl0PzogYm9vbGVhblxuICAgICAgdm9pZHM/OiBib29sZWFuXG4gICAgfVxuICApID0+IHZvaWRcbn1cblxuZXhwb3J0IGNvbnN0IE5vZGVUcmFuc2Zvcm1zOiBOb2RlVHJhbnNmb3JtcyA9IHtcbiAgLyoqXG4gICAqIEluc2VydCBub2RlcyBhdCBhIHNwZWNpZmljIGxvY2F0aW9uIGluIHRoZSBFZGl0b3IuXG4gICAqL1xuXG4gIGluc2VydE5vZGVzPFQgZXh0ZW5kcyBOb2RlPihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBub2RlczogTm9kZSB8IE5vZGVbXSxcbiAgICBvcHRpb25zOiB7XG4gICAgICBhdD86IExvY2F0aW9uXG4gICAgICBtYXRjaD86IE5vZGVNYXRjaDxUPlxuICAgICAgbW9kZT86IFJhbmdlTW9kZVxuICAgICAgaGFuZ2luZz86IGJvb2xlYW5cbiAgICAgIHNlbGVjdD86IGJvb2xlYW5cbiAgICAgIHZvaWRzPzogYm9vbGVhblxuICAgIH0gPSB7fVxuICApOiB2b2lkIHtcbiAgICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgICAgY29uc3QgeyBoYW5naW5nID0gZmFsc2UsIHZvaWRzID0gZmFsc2UsIG1vZGUgPSAnbG93ZXN0JyB9ID0gb3B0aW9uc1xuICAgICAgbGV0IHsgYXQsIG1hdGNoLCBzZWxlY3QgfSA9IG9wdGlvbnNcblxuICAgICAgaWYgKE5vZGUuaXNOb2RlKG5vZGVzKSkge1xuICAgICAgICBub2RlcyA9IFtub2Rlc11cbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgW25vZGVdID0gbm9kZXNcblxuICAgICAgLy8gQnkgZGVmYXVsdCwgdXNlIHRoZSBzZWxlY3Rpb24gYXMgdGhlIHRhcmdldCBsb2NhdGlvbi4gQnV0IGlmIHRoZXJlIGlzXG4gICAgICAvLyBubyBzZWxlY3Rpb24sIGluc2VydCBhdCB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudCBzaW5jZSB0aGF0IGlzIHN1Y2ggYVxuICAgICAgLy8gY29tbW9uIHVzZSBjYXNlIHdoZW4gaW5zZXJ0aW5nIGZyb20gYSBub24tc2VsZWN0ZWQgc3RhdGUuXG4gICAgICBpZiAoIWF0KSB7XG4gICAgICAgIGlmIChlZGl0b3Iuc2VsZWN0aW9uKSB7XG4gICAgICAgICAgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uXG4gICAgICAgIH0gZWxzZSBpZiAoZWRpdG9yLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBhdCA9IEVkaXRvci5lbmQoZWRpdG9yLCBbXSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdCA9IFswXVxuICAgICAgICB9XG5cbiAgICAgICAgc2VsZWN0ID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZWN0ID09IG51bGwpIHtcbiAgICAgICAgc2VsZWN0ID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgaWYgKFJhbmdlLmlzUmFuZ2UoYXQpKSB7XG4gICAgICAgIGlmICghaGFuZ2luZykge1xuICAgICAgICAgIGF0ID0gRWRpdG9yLnVuaGFuZ1JhbmdlKGVkaXRvciwgYXQpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoUmFuZ2UuaXNDb2xsYXBzZWQoYXQpKSB7XG4gICAgICAgICAgYXQgPSBhdC5hbmNob3JcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBbLCBlbmRdID0gUmFuZ2UuZWRnZXMoYXQpXG4gICAgICAgICAgY29uc3QgcG9pbnRSZWYgPSBFZGl0b3IucG9pbnRSZWYoZWRpdG9yLCBlbmQpXG4gICAgICAgICAgVHJhbnNmb3Jtcy5kZWxldGUoZWRpdG9yLCB7IGF0IH0pXG4gICAgICAgICAgYXQgPSBwb2ludFJlZi51bnJlZigpIVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChQb2ludC5pc1BvaW50KGF0KSkge1xuICAgICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgICAgICAgbWF0Y2ggPSBuID0+IFRleHQuaXNUZXh0KG4pXG4gICAgICAgICAgfSBlbHNlIGlmIChlZGl0b3IuaXNJbmxpbmUobm9kZSkpIHtcbiAgICAgICAgICAgIG1hdGNoID0gbiA9PiBUZXh0LmlzVGV4dChuKSB8fCBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBuKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXRjaCA9IG4gPT4gRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IFtlbnRyeV0gPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IGF0LnBhdGgsXG4gICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgbW9kZSxcbiAgICAgICAgICB2b2lkcyxcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICBjb25zdCBbLCBtYXRjaFBhdGhdID0gZW50cnlcbiAgICAgICAgICBjb25zdCBwYXRoUmVmID0gRWRpdG9yLnBhdGhSZWYoZWRpdG9yLCBtYXRjaFBhdGgpXG4gICAgICAgICAgY29uc3QgaXNBdEVuZCA9IEVkaXRvci5pc0VuZChlZGl0b3IsIGF0LCBtYXRjaFBhdGgpXG4gICAgICAgICAgVHJhbnNmb3Jtcy5zcGxpdE5vZGVzKGVkaXRvciwgeyBhdCwgbWF0Y2gsIG1vZGUsIHZvaWRzIH0pXG4gICAgICAgICAgY29uc3QgcGF0aCA9IHBhdGhSZWYudW5yZWYoKSFcbiAgICAgICAgICBhdCA9IGlzQXRFbmQgPyBQYXRoLm5leHQocGF0aCkgOiBwYXRoXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgcGFyZW50UGF0aCA9IFBhdGgucGFyZW50KGF0KVxuICAgICAgbGV0IGluZGV4ID0gYXRbYXQubGVuZ3RoIC0gMV1cblxuICAgICAgaWYgKCF2b2lkcyAmJiBFZGl0b3Iudm9pZChlZGl0b3IsIHsgYXQ6IHBhcmVudFBhdGggfSkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2Rlcykge1xuICAgICAgICBjb25zdCBwYXRoID0gcGFyZW50UGF0aC5jb25jYXQoaW5kZXgpXG4gICAgICAgIGluZGV4KytcbiAgICAgICAgZWRpdG9yLmFwcGx5KHsgdHlwZTogJ2luc2VydF9ub2RlJywgcGF0aCwgbm9kZSB9KVxuICAgICAgICBhdCA9IFBhdGgubmV4dChhdClcbiAgICAgIH1cbiAgICAgIGF0ID0gUGF0aC5wcmV2aW91cyhhdClcblxuICAgICAgaWYgKHNlbGVjdCkge1xuICAgICAgICBjb25zdCBwb2ludCA9IEVkaXRvci5lbmQoZWRpdG9yLCBhdClcblxuICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHBvaW50KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfSxcblxuICAvKipcbiAgICogTGlmdCBub2RlcyBhdCBhIHNwZWNpZmljIGxvY2F0aW9uIHVwd2FyZHMgaW4gdGhlIGRvY3VtZW50IHRyZWUsIHNwbGl0dGluZ1xuICAgKiB0aGVpciBwYXJlbnQgaW4gdHdvIGlmIG5lY2Vzc2FyeS5cbiAgICovXG5cbiAgbGlmdE5vZGVzPFQgZXh0ZW5kcyBOb2RlPihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBvcHRpb25zOiB7XG4gICAgICBhdD86IExvY2F0aW9uXG4gICAgICBtYXRjaD86IE5vZGVNYXRjaDxUPlxuICAgICAgbW9kZT86IE1heGltaXplTW9kZVxuICAgICAgdm9pZHM/OiBib29sZWFuXG4gICAgfSA9IHt9XG4gICk6IHZvaWQge1xuICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGF0ID0gZWRpdG9yLnNlbGVjdGlvbiwgbW9kZSA9ICdsb3dlc3QnLCB2b2lkcyA9IGZhbHNlIH0gPSBvcHRpb25zXG4gICAgICBsZXQgeyBtYXRjaCB9ID0gb3B0aW9uc1xuXG4gICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICBtYXRjaCA9IFBhdGguaXNQYXRoKGF0KVxuICAgICAgICAgID8gbWF0Y2hQYXRoKGVkaXRvciwgYXQpXG4gICAgICAgICAgOiBuID0+IEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbilcbiAgICAgIH1cblxuICAgICAgaWYgKCFhdCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgbWF0Y2hlcyA9IEVkaXRvci5ub2RlcyhlZGl0b3IsIHsgYXQsIG1hdGNoLCBtb2RlLCB2b2lkcyB9KVxuICAgICAgY29uc3QgcGF0aFJlZnMgPSBBcnJheS5mcm9tKG1hdGNoZXMsIChbLCBwXSkgPT4gRWRpdG9yLnBhdGhSZWYoZWRpdG9yLCBwKSlcblxuICAgICAgZm9yIChjb25zdCBwYXRoUmVmIG9mIHBhdGhSZWZzKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBwYXRoUmVmLnVucmVmKCkhXG5cbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoIDwgMikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBDYW5ub3QgbGlmdCBub2RlIGF0IGEgcGF0aCBbJHtwYXRofV0gYmVjYXVzZSBpdCBoYXMgYSBkZXB0aCBvZiBsZXNzIHRoYW4gXFxgMlxcYC5gXG4gICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFyZW50Tm9kZUVudHJ5ID0gRWRpdG9yLm5vZGUoZWRpdG9yLCBQYXRoLnBhcmVudChwYXRoKSlcbiAgICAgICAgY29uc3QgW3BhcmVudCwgcGFyZW50UGF0aF0gPSBwYXJlbnROb2RlRW50cnkgYXMgTm9kZUVudHJ5PEFuY2VzdG9yPlxuICAgICAgICBjb25zdCBpbmRleCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXVxuICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gcGFyZW50LmNoaWxkcmVuXG5cbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGNvbnN0IHRvUGF0aCA9IFBhdGgubmV4dChwYXJlbnRQYXRoKVxuICAgICAgICAgIFRyYW5zZm9ybXMubW92ZU5vZGVzKGVkaXRvciwgeyBhdDogcGF0aCwgdG86IHRvUGF0aCwgdm9pZHMgfSlcbiAgICAgICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwgeyBhdDogcGFyZW50UGF0aCwgdm9pZHMgfSlcbiAgICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgIFRyYW5zZm9ybXMubW92ZU5vZGVzKGVkaXRvciwgeyBhdDogcGF0aCwgdG86IHBhcmVudFBhdGgsIHZvaWRzIH0pXG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IGxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBjb25zdCB0b1BhdGggPSBQYXRoLm5leHQocGFyZW50UGF0aClcbiAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHsgYXQ6IHBhdGgsIHRvOiB0b1BhdGgsIHZvaWRzIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3Qgc3BsaXRQYXRoID0gUGF0aC5uZXh0KHBhdGgpXG4gICAgICAgICAgY29uc3QgdG9QYXRoID0gUGF0aC5uZXh0KHBhcmVudFBhdGgpXG4gICAgICAgICAgVHJhbnNmb3Jtcy5zcGxpdE5vZGVzKGVkaXRvciwgeyBhdDogc3BsaXRQYXRoLCB2b2lkcyB9KVxuICAgICAgICAgIFRyYW5zZm9ybXMubW92ZU5vZGVzKGVkaXRvciwgeyBhdDogcGF0aCwgdG86IHRvUGF0aCwgdm9pZHMgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1lcmdlIGEgbm9kZSBhdCBhIGxvY2F0aW9uIHdpdGggdGhlIHByZXZpb3VzIG5vZGUgb2YgdGhlIHNhbWUgZGVwdGgsXG4gICAqIHJlbW92aW5nIGFueSBlbXB0eSBjb250YWluaW5nIG5vZGVzIGFmdGVyIHRoZSBtZXJnZSBpZiBuZWNlc3NhcnkuXG4gICAqL1xuXG4gIG1lcmdlTm9kZXM8VCBleHRlbmRzIE5vZGU+KFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGF0PzogTG9jYXRpb25cbiAgICAgIG1hdGNoPzogTm9kZU1hdGNoPFQ+XG4gICAgICBtb2RlPzogUmFuZ2VNb2RlXG4gICAgICBoYW5naW5nPzogYm9vbGVhblxuICAgICAgdm9pZHM/OiBib29sZWFuXG4gICAgfSA9IHt9XG4gICk6IHZvaWQge1xuICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCAoKSA9PiB7XG4gICAgICBsZXQgeyBtYXRjaCwgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uIH0gPSBvcHRpb25zXG4gICAgICBjb25zdCB7IGhhbmdpbmcgPSBmYWxzZSwgdm9pZHMgPSBmYWxzZSwgbW9kZSA9ICdsb3dlc3QnIH0gPSBvcHRpb25zXG5cbiAgICAgIGlmICghYXQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgICAgIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICAgICAgICBjb25zdCBbcGFyZW50XSA9IEVkaXRvci5wYXJlbnQoZWRpdG9yLCBhdClcbiAgICAgICAgICBtYXRjaCA9IG4gPT4gcGFyZW50LmNoaWxkcmVuLmluY2x1ZGVzKG4pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF0Y2ggPSBuID0+IEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbilcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWhhbmdpbmcgJiYgUmFuZ2UuaXNSYW5nZShhdCkpIHtcbiAgICAgICAgYXQgPSBFZGl0b3IudW5oYW5nUmFuZ2UoZWRpdG9yLCBhdClcbiAgICAgIH1cblxuICAgICAgaWYgKFJhbmdlLmlzUmFuZ2UoYXQpKSB7XG4gICAgICAgIGlmIChSYW5nZS5pc0NvbGxhcHNlZChhdCkpIHtcbiAgICAgICAgICBhdCA9IGF0LmFuY2hvclxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IFssIGVuZF0gPSBSYW5nZS5lZGdlcyhhdClcbiAgICAgICAgICBjb25zdCBwb2ludFJlZiA9IEVkaXRvci5wb2ludFJlZihlZGl0b3IsIGVuZClcbiAgICAgICAgICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHsgYXQgfSlcbiAgICAgICAgICBhdCA9IHBvaW50UmVmLnVucmVmKCkhXG5cbiAgICAgICAgICBpZiAob3B0aW9ucy5hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIGF0KVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBbY3VycmVudF0gPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7IGF0LCBtYXRjaCwgdm9pZHMsIG1vZGUgfSlcbiAgICAgIGNvbnN0IHByZXYgPSBFZGl0b3IucHJldmlvdXMoZWRpdG9yLCB7IGF0LCBtYXRjaCwgdm9pZHMsIG1vZGUgfSlcblxuICAgICAgaWYgKCFjdXJyZW50IHx8ICFwcmV2KSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCBbbm9kZSwgcGF0aF0gPSBjdXJyZW50XG4gICAgICBjb25zdCBbcHJldk5vZGUsIHByZXZQYXRoXSA9IHByZXZcblxuICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwIHx8IHByZXZQYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3UGF0aCA9IFBhdGgubmV4dChwcmV2UGF0aClcbiAgICAgIGNvbnN0IGNvbW1vblBhdGggPSBQYXRoLmNvbW1vbihwYXRoLCBwcmV2UGF0aClcbiAgICAgIGNvbnN0IGlzUHJldmlvdXNTaWJsaW5nID0gUGF0aC5pc1NpYmxpbmcocGF0aCwgcHJldlBhdGgpXG4gICAgICBjb25zdCBsZXZlbHMgPSBBcnJheS5mcm9tKEVkaXRvci5sZXZlbHMoZWRpdG9yLCB7IGF0OiBwYXRoIH0pLCAoW25dKSA9PiBuKVxuICAgICAgICAuc2xpY2UoY29tbW9uUGF0aC5sZW5ndGgpXG4gICAgICAgIC5zbGljZSgwLCAtMSlcblxuICAgICAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBtZXJnZSB3aWxsIGxlYXZlIGFuIGFuY2VzdG9yIG9mIHRoZSBwYXRoIGVtcHR5IGFzIGFcbiAgICAgIC8vIHJlc3VsdCwgaW4gd2hpY2ggY2FzZSB3ZSdsbCB3YW50IHRvIHJlbW92ZSBpdCBhZnRlciBtZXJnaW5nLlxuICAgICAgY29uc3QgZW1wdHlBbmNlc3RvciA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgICAgYXQ6IHBhdGgsXG4gICAgICAgIG1vZGU6ICdoaWdoZXN0JyxcbiAgICAgICAgbWF0Y2g6IG4gPT4gbGV2ZWxzLmluY2x1ZGVzKG4pICYmIGhhc1NpbmdsZUNoaWxkTmVzdChlZGl0b3IsIG4pLFxuICAgICAgfSlcblxuICAgICAgY29uc3QgZW1wdHlSZWYgPSBlbXB0eUFuY2VzdG9yICYmIEVkaXRvci5wYXRoUmVmKGVkaXRvciwgZW1wdHlBbmNlc3RvclsxXSlcbiAgICAgIGxldCBwcm9wZXJ0aWVzXG4gICAgICBsZXQgcG9zaXRpb25cblxuICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIG5vZGVzIGFyZSBlcXVpdmFsZW50LCBhbmQgZmlndXJlIG91dCB3aGF0IHRoZSBwb3NpdGlvblxuICAgICAgLy8gYW5kIGV4dHJhIHByb3BlcnRpZXMgb2YgdGhlIG1lcmdlIHdpbGwgYmUuXG4gICAgICBpZiAoVGV4dC5pc1RleHQobm9kZSkgJiYgVGV4dC5pc1RleHQocHJldk5vZGUpKSB7XG4gICAgICAgIGNvbnN0IHsgdGV4dCwgLi4ucmVzdCB9ID0gbm9kZVxuICAgICAgICBwb3NpdGlvbiA9IHByZXZOb2RlLnRleHQubGVuZ3RoXG4gICAgICAgIHByb3BlcnRpZXMgPSByZXN0IGFzIFBhcnRpYWw8VGV4dD5cbiAgICAgIH0gZWxzZSBpZiAoRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiYgRWxlbWVudC5pc0VsZW1lbnQocHJldk5vZGUpKSB7XG4gICAgICAgIGNvbnN0IHsgY2hpbGRyZW4sIC4uLnJlc3QgfSA9IG5vZGVcbiAgICAgICAgcG9zaXRpb24gPSBwcmV2Tm9kZS5jaGlsZHJlbi5sZW5ndGhcbiAgICAgICAgcHJvcGVydGllcyA9IHJlc3QgYXMgUGFydGlhbDxFbGVtZW50PlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDYW5ub3QgbWVyZ2UgdGhlIG5vZGUgYXQgcGF0aCBbJHtwYXRofV0gd2l0aCB0aGUgcHJldmlvdXMgc2libGluZyBiZWNhdXNlIGl0IGlzIG5vdCB0aGUgc2FtZSBraW5kOiAke1NjcnViYmVyLnN0cmluZ2lmeShcbiAgICAgICAgICAgIG5vZGVcbiAgICAgICAgICApfSAke1NjcnViYmVyLnN0cmluZ2lmeShwcmV2Tm9kZSl9YFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBub2RlIGlzbid0IGFscmVhZHkgdGhlIG5leHQgc2libGluZyBvZiB0aGUgcHJldmlvdXMgbm9kZSwgbW92ZVxuICAgICAgLy8gaXQgc28gdGhhdCBpdCBpcyBiZWZvcmUgbWVyZ2luZy5cbiAgICAgIGlmICghaXNQcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5tb3ZlTm9kZXMoZWRpdG9yLCB7IGF0OiBwYXRoLCB0bzogbmV3UGF0aCwgdm9pZHMgfSlcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlcmUgd2FzIGdvaW5nIHRvIGJlIGFuIGVtcHR5IGFuY2VzdG9yIG9mIHRoZSBub2RlIHRoYXQgd2FzIG1lcmdlZCxcbiAgICAgIC8vIHdlIHJlbW92ZSBpdCBmcm9tIHRoZSB0cmVlLlxuICAgICAgaWYgKGVtcHR5UmVmKSB7XG4gICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7IGF0OiBlbXB0eVJlZi5jdXJyZW50ISwgdm9pZHMgfSlcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlIHRhcmdldCBub2RlIHRoYXQgd2UncmUgbWVyZ2luZyB3aXRoIGlzIGVtcHR5LCByZW1vdmUgaXQgaW5zdGVhZFxuICAgICAgLy8gb2YgbWVyZ2luZyB0aGUgdHdvLiBUaGlzIGlzIGEgY29tbW9uIHJpY2ggdGV4dCBlZGl0b3IgYmVoYXZpb3IgdG9cbiAgICAgIC8vIHByZXZlbnQgbG9zaW5nIGZvcm1hdHRpbmcgd2hlbiBkZWxldGluZyBlbnRpcmUgbm9kZXMgd2hlbiB5b3UgaGF2ZSBhXG4gICAgICAvLyBoYW5naW5nIHNlbGVjdGlvbi5cbiAgICAgIC8vIGlmIHByZXZOb2RlIGlzIGZpcnN0IGNoaWxkIGluIHBhcmVudCxkb24ndCByZW1vdmUgaXQuXG4gICAgICBpZiAoXG4gICAgICAgIChFbGVtZW50LmlzRWxlbWVudChwcmV2Tm9kZSkgJiYgRWRpdG9yLmlzRW1wdHkoZWRpdG9yLCBwcmV2Tm9kZSkpIHx8XG4gICAgICAgIChUZXh0LmlzVGV4dChwcmV2Tm9kZSkgJiZcbiAgICAgICAgICBwcmV2Tm9kZS50ZXh0ID09PSAnJyAmJlxuICAgICAgICAgIHByZXZQYXRoW3ByZXZQYXRoLmxlbmd0aCAtIDFdICE9PSAwKVxuICAgICAgKSB7XG4gICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7IGF0OiBwcmV2UGF0aCwgdm9pZHMgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVkaXRvci5hcHBseSh7XG4gICAgICAgICAgdHlwZTogJ21lcmdlX25vZGUnLFxuICAgICAgICAgIHBhdGg6IG5ld1BhdGgsXG4gICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgcHJvcGVydGllcyxcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKGVtcHR5UmVmKSB7XG4gICAgICAgIGVtcHR5UmVmLnVucmVmKClcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlIHRoZSBub2RlcyBhdCBhIGxvY2F0aW9uIHRvIGEgbmV3IGxvY2F0aW9uLlxuICAgKi9cblxuICBtb3ZlTm9kZXM8VCBleHRlbmRzIE5vZGU+KFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGF0PzogTG9jYXRpb25cbiAgICAgIG1hdGNoPzogTm9kZU1hdGNoPFQ+XG4gICAgICBtb2RlPzogTWF4aW1pemVNb2RlXG4gICAgICB0bzogUGF0aFxuICAgICAgdm9pZHM/OiBib29sZWFuXG4gICAgfVxuICApOiB2b2lkIHtcbiAgICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICB0byxcbiAgICAgICAgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uLFxuICAgICAgICBtb2RlID0gJ2xvd2VzdCcsXG4gICAgICAgIHZvaWRzID0gZmFsc2UsXG4gICAgICB9ID0gb3B0aW9uc1xuICAgICAgbGV0IHsgbWF0Y2ggfSA9IG9wdGlvbnNcblxuICAgICAgaWYgKCFhdCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgICAgbWF0Y2ggPSBQYXRoLmlzUGF0aChhdClcbiAgICAgICAgICA/IG1hdGNoUGF0aChlZGl0b3IsIGF0KVxuICAgICAgICAgIDogbiA9PiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRvUmVmID0gRWRpdG9yLnBhdGhSZWYoZWRpdG9yLCB0bylcbiAgICAgIGNvbnN0IHRhcmdldHMgPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7IGF0LCBtYXRjaCwgbW9kZSwgdm9pZHMgfSlcbiAgICAgIGNvbnN0IHBhdGhSZWZzID0gQXJyYXkuZnJvbSh0YXJnZXRzLCAoWywgcF0pID0+IEVkaXRvci5wYXRoUmVmKGVkaXRvciwgcCkpXG5cbiAgICAgIGZvciAoY29uc3QgcGF0aFJlZiBvZiBwYXRoUmVmcykge1xuICAgICAgICBjb25zdCBwYXRoID0gcGF0aFJlZi51bnJlZigpIVxuICAgICAgICBjb25zdCBuZXdQYXRoID0gdG9SZWYuY3VycmVudCFcblxuICAgICAgICBpZiAocGF0aC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICBlZGl0b3IuYXBwbHkoeyB0eXBlOiAnbW92ZV9ub2RlJywgcGF0aCwgbmV3UGF0aCB9KVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRvUmVmLmN1cnJlbnQgJiZcbiAgICAgICAgICBQYXRoLmlzU2libGluZyhuZXdQYXRoLCBwYXRoKSAmJlxuICAgICAgICAgIFBhdGguaXNBZnRlcihuZXdQYXRoLCBwYXRoKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBXaGVuIHBlcmZvcm1pbmcgYSBzaWJsaW5nIG1vdmUgdG8gYSBsYXRlciBpbmRleCwgdGhlIHBhdGggYXQgdGhlIGRlc3RpbmF0aW9uIGlzIHNoaWZ0ZWRcbiAgICAgICAgICAvLyB0byBiZWZvcmUgdGhlIGluc2VydGlvbiBwb2ludCBpbnN0ZWFkIG9mIGFmdGVyLiBUbyBlbnN1cmUgb3VyIGdyb3VwIG9mIG5vZGVzIGFyZSBpbnNlcnRlZFxuICAgICAgICAgIC8vIGluIHRoZSBjb3JyZWN0IG9yZGVyIHdlIGluY3JlbWVudCB0b1JlZiB0byBhY2NvdW50IGZvciB0aGF0XG4gICAgICAgICAgdG9SZWYuY3VycmVudCA9IFBhdGgubmV4dCh0b1JlZi5jdXJyZW50KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRvUmVmLnVucmVmKClcbiAgICB9KVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIG5vZGVzIGF0IGEgc3BlY2lmaWMgbG9jYXRpb24gaW4gdGhlIGRvY3VtZW50LlxuICAgKi9cblxuICByZW1vdmVOb2RlczxUIGV4dGVuZHMgTm9kZT4oXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgb3B0aW9uczoge1xuICAgICAgYXQ/OiBMb2NhdGlvblxuICAgICAgbWF0Y2g/OiBOb2RlTWF0Y2g8VD5cbiAgICAgIG1vZGU/OiBSYW5nZU1vZGVcbiAgICAgIGhhbmdpbmc/OiBib29sZWFuXG4gICAgICB2b2lkcz86IGJvb2xlYW5cbiAgICB9ID0ge31cbiAgKTogdm9pZCB7XG4gICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgaGFuZ2luZyA9IGZhbHNlLCB2b2lkcyA9IGZhbHNlLCBtb2RlID0gJ2xvd2VzdCcgfSA9IG9wdGlvbnNcbiAgICAgIGxldCB7IGF0ID0gZWRpdG9yLnNlbGVjdGlvbiwgbWF0Y2ggfSA9IG9wdGlvbnNcblxuICAgICAgaWYgKCFhdCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgICAgbWF0Y2ggPSBQYXRoLmlzUGF0aChhdClcbiAgICAgICAgICA/IG1hdGNoUGF0aChlZGl0b3IsIGF0KVxuICAgICAgICAgIDogbiA9PiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pXG4gICAgICB9XG5cbiAgICAgIGlmICghaGFuZ2luZyAmJiBSYW5nZS5pc1JhbmdlKGF0KSkge1xuICAgICAgICBhdCA9IEVkaXRvci51bmhhbmdSYW5nZShlZGl0b3IsIGF0KVxuICAgICAgfVxuXG4gICAgICBjb25zdCBkZXB0aHMgPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7IGF0LCBtYXRjaCwgbW9kZSwgdm9pZHMgfSlcbiAgICAgIGNvbnN0IHBhdGhSZWZzID0gQXJyYXkuZnJvbShkZXB0aHMsIChbLCBwXSkgPT4gRWRpdG9yLnBhdGhSZWYoZWRpdG9yLCBwKSlcblxuICAgICAgZm9yIChjb25zdCBwYXRoUmVmIG9mIHBhdGhSZWZzKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBwYXRoUmVmLnVucmVmKCkhXG5cbiAgICAgICAgaWYgKHBhdGgpIHtcbiAgICAgICAgICBjb25zdCBbbm9kZV0gPSBFZGl0b3Iubm9kZShlZGl0b3IsIHBhdGgpXG4gICAgICAgICAgZWRpdG9yLmFwcGx5KHsgdHlwZTogJ3JlbW92ZV9ub2RlJywgcGF0aCwgbm9kZSB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfSxcblxuICAvKipcbiAgICogU2V0IG5ldyBwcm9wZXJ0aWVzIG9uIHRoZSBub2RlcyBhdCBhIGxvY2F0aW9uLlxuICAgKi9cblxuICBzZXROb2RlczxUIGV4dGVuZHMgTm9kZT4oXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgcHJvcHM6IFBhcnRpYWw8Tm9kZT4sXG4gICAgb3B0aW9uczoge1xuICAgICAgYXQ/OiBMb2NhdGlvblxuICAgICAgbWF0Y2g/OiBOb2RlTWF0Y2g8VD5cbiAgICAgIG1vZGU/OiBNYXhpbWl6ZU1vZGVcbiAgICAgIGhhbmdpbmc/OiBib29sZWFuXG4gICAgICBzcGxpdD86IGJvb2xlYW5cbiAgICAgIHZvaWRzPzogYm9vbGVhblxuICAgICAgY29tcGFyZT86IFByb3BzQ29tcGFyZVxuICAgICAgbWVyZ2U/OiBQcm9wc01lcmdlXG4gICAgfSA9IHt9XG4gICk6IHZvaWQge1xuICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCAoKSA9PiB7XG4gICAgICBsZXQgeyBtYXRjaCwgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uLCBjb21wYXJlLCBtZXJnZSB9ID0gb3B0aW9uc1xuICAgICAgY29uc3Qge1xuICAgICAgICBoYW5naW5nID0gZmFsc2UsXG4gICAgICAgIG1vZGUgPSAnbG93ZXN0JyxcbiAgICAgICAgc3BsaXQgPSBmYWxzZSxcbiAgICAgICAgdm9pZHMgPSBmYWxzZSxcbiAgICAgIH0gPSBvcHRpb25zXG5cbiAgICAgIGlmICghYXQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgICAgIG1hdGNoID0gUGF0aC5pc1BhdGgoYXQpXG4gICAgICAgICAgPyBtYXRjaFBhdGgoZWRpdG9yLCBhdClcbiAgICAgICAgICA6IG4gPT4gRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKVxuICAgICAgfVxuXG4gICAgICBpZiAoIWhhbmdpbmcgJiYgUmFuZ2UuaXNSYW5nZShhdCkpIHtcbiAgICAgICAgYXQgPSBFZGl0b3IudW5oYW5nUmFuZ2UoZWRpdG9yLCBhdClcbiAgICAgIH1cblxuICAgICAgaWYgKHNwbGl0ICYmIFJhbmdlLmlzUmFuZ2UoYXQpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBSYW5nZS5pc0NvbGxhcHNlZChhdCkgJiZcbiAgICAgICAgICBFZGl0b3IubGVhZihlZGl0b3IsIGF0LmFuY2hvcilbMF0udGV4dC5sZW5ndGggPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIElmIHRoZSByYW5nZSBpcyBjb2xsYXBzZWQgaW4gYSBub24tZW1wdHkgbm9kZSBhbmQgJ3NwbGl0JyBpcyB0cnVlLCB0aGVyZSdzIG5vdGhpbmcgdG9cbiAgICAgICAgICAvLyBzZXQgdGhhdCB3b24ndCBnZXQgbm9ybWFsaXplZCBhd2F5XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmFuZ2VSZWYgPSBFZGl0b3IucmFuZ2VSZWYoZWRpdG9yLCBhdCwgeyBhZmZpbml0eTogJ2lud2FyZCcgfSlcbiAgICAgICAgY29uc3QgW3N0YXJ0LCBlbmRdID0gUmFuZ2UuZWRnZXMoYXQpXG4gICAgICAgIGNvbnN0IHNwbGl0TW9kZSA9IG1vZGUgPT09ICdsb3dlc3QnID8gJ2xvd2VzdCcgOiAnaGlnaGVzdCdcbiAgICAgICAgY29uc3QgZW5kQXRFbmRPZk5vZGUgPSBFZGl0b3IuaXNFbmQoZWRpdG9yLCBlbmQsIGVuZC5wYXRoKVxuICAgICAgICBUcmFuc2Zvcm1zLnNwbGl0Tm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IGVuZCxcbiAgICAgICAgICBtYXRjaCxcbiAgICAgICAgICBtb2RlOiBzcGxpdE1vZGUsXG4gICAgICAgICAgdm9pZHMsXG4gICAgICAgICAgYWx3YXlzOiAhZW5kQXRFbmRPZk5vZGUsXG4gICAgICAgIH0pXG4gICAgICAgIGNvbnN0IHN0YXJ0QXRTdGFydE9mTm9kZSA9IEVkaXRvci5pc1N0YXJ0KGVkaXRvciwgc3RhcnQsIHN0YXJ0LnBhdGgpXG4gICAgICAgIFRyYW5zZm9ybXMuc3BsaXROb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogc3RhcnQsXG4gICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgbW9kZTogc3BsaXRNb2RlLFxuICAgICAgICAgIHZvaWRzLFxuICAgICAgICAgIGFsd2F5czogIXN0YXJ0QXRTdGFydE9mTm9kZSxcbiAgICAgICAgfSlcbiAgICAgICAgYXQgPSByYW5nZVJlZi51bnJlZigpIVxuXG4gICAgICAgIGlmIChvcHRpb25zLmF0ID09IG51bGwpIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIGF0KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghY29tcGFyZSkge1xuICAgICAgICBjb21wYXJlID0gKHByb3AsIG5vZGVQcm9wKSA9PiBwcm9wICE9PSBub2RlUHJvcFxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IFtub2RlLCBwYXRoXSBvZiBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgIGF0LFxuICAgICAgICBtYXRjaCxcbiAgICAgICAgbW9kZSxcbiAgICAgICAgdm9pZHMsXG4gICAgICB9KSkge1xuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzOiBQYXJ0aWFsPE5vZGU+ID0ge31cbiAgICAgICAgY29uc3QgbmV3UHJvcGVydGllczogUGFydGlhbDxOb2RlPiA9IHt9XG5cbiAgICAgICAgLy8gWW91IGNhbid0IHNldCBwcm9wZXJ0aWVzIG9uIHRoZSBlZGl0b3Igbm9kZS5cbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoYXNDaGFuZ2VzID0gZmFsc2VcblxuICAgICAgICBmb3IgKGNvbnN0IGsgaW4gcHJvcHMpIHtcbiAgICAgICAgICBpZiAoayA9PT0gJ2NoaWxkcmVuJyB8fCBrID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNvbXBhcmUocHJvcHNba10sIG5vZGVba10pKSB7XG4gICAgICAgICAgICBoYXNDaGFuZ2VzID0gdHJ1ZVxuICAgICAgICAgICAgLy8gT21pdCBuZXcgcHJvcGVydGllcyBmcm9tIHRoZSBvbGQgcHJvcGVydGllcyBsaXN0XG4gICAgICAgICAgICBpZiAobm9kZS5oYXNPd25Qcm9wZXJ0eShrKSkgcHJvcGVydGllc1trXSA9IG5vZGVba11cbiAgICAgICAgICAgIC8vIE9taXQgcHJvcGVydGllcyB0aGF0IGhhdmUgYmVlbiByZW1vdmVkIGZyb20gdGhlIG5ldyBwcm9wZXJ0aWVzIGxpc3RcbiAgICAgICAgICAgIGlmIChtZXJnZSkge1xuICAgICAgICAgICAgICBpZiAocHJvcHNba10gIT0gbnVsbCkgbmV3UHJvcGVydGllc1trXSA9IG1lcmdlKG5vZGVba10sIHByb3BzW2tdKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKHByb3BzW2tdICE9IG51bGwpIG5ld1Byb3BlcnRpZXNba10gPSBwcm9wc1trXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNDaGFuZ2VzKSB7XG4gICAgICAgICAgZWRpdG9yLmFwcGx5KHtcbiAgICAgICAgICAgIHR5cGU6ICdzZXRfbm9kZScsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgcHJvcGVydGllcyxcbiAgICAgICAgICAgIG5ld1Byb3BlcnRpZXMsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG5cbiAgLyoqXG4gICAqIFNwbGl0IHRoZSBub2RlcyBhdCBhIHNwZWNpZmljIGxvY2F0aW9uLlxuICAgKi9cblxuICBzcGxpdE5vZGVzPFQgZXh0ZW5kcyBOb2RlPihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBvcHRpb25zOiB7XG4gICAgICBhdD86IExvY2F0aW9uXG4gICAgICBtYXRjaD86IE5vZGVNYXRjaDxUPlxuICAgICAgbW9kZT86IFJhbmdlTW9kZVxuICAgICAgYWx3YXlzPzogYm9vbGVhblxuICAgICAgaGVpZ2h0PzogbnVtYmVyXG4gICAgICB2b2lkcz86IGJvb2xlYW5cbiAgICB9ID0ge31cbiAgKTogdm9pZCB7XG4gICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgbW9kZSA9ICdsb3dlc3QnLCB2b2lkcyA9IGZhbHNlIH0gPSBvcHRpb25zXG4gICAgICBsZXQgeyBtYXRjaCwgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uLCBoZWlnaHQgPSAwLCBhbHdheXMgPSBmYWxzZSB9ID0gb3B0aW9uc1xuXG4gICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICBtYXRjaCA9IG4gPT4gRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKVxuICAgICAgfVxuXG4gICAgICBpZiAoUmFuZ2UuaXNSYW5nZShhdCkpIHtcbiAgICAgICAgYXQgPSBkZWxldGVSYW5nZShlZGl0b3IsIGF0KVxuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgdGFyZ2V0IGlzIGEgcGF0aCwgdGhlIGRlZmF1bHQgaGVpZ2h0LXNraXBwaW5nIGFuZCBwb3NpdGlvblxuICAgICAgLy8gY291bnRlcnMgbmVlZCB0byBhY2NvdW50IGZvciB1cyBwb3RlbnRpYWxseSBzcGxpdHRpbmcgYXQgYSBub24tbGVhZi5cbiAgICAgIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGF0XG4gICAgICAgIGNvbnN0IHBvaW50ID0gRWRpdG9yLnBvaW50KGVkaXRvciwgcGF0aClcbiAgICAgICAgY29uc3QgW3BhcmVudF0gPSBFZGl0b3IucGFyZW50KGVkaXRvciwgcGF0aClcbiAgICAgICAgbWF0Y2ggPSBuID0+IG4gPT09IHBhcmVudFxuICAgICAgICBoZWlnaHQgPSBwb2ludC5wYXRoLmxlbmd0aCAtIHBhdGgubGVuZ3RoICsgMVxuICAgICAgICBhdCA9IHBvaW50XG4gICAgICAgIGFsd2F5cyA9IHRydWVcbiAgICAgIH1cblxuICAgICAgaWYgKCFhdCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3QgYmVmb3JlUmVmID0gRWRpdG9yLnBvaW50UmVmKGVkaXRvciwgYXQsIHtcbiAgICAgICAgYWZmaW5pdHk6ICdiYWNrd2FyZCcsXG4gICAgICB9KVxuICAgICAgbGV0IGFmdGVyUmVmOiBQb2ludFJlZiB8IHVuZGVmaW5lZFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW2hpZ2hlc3RdID0gRWRpdG9yLm5vZGVzKGVkaXRvciwgeyBhdCwgbWF0Y2gsIG1vZGUsIHZvaWRzIH0pXG5cbiAgICAgICAgaWYgKCFoaWdoZXN0KSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2b2lkTWF0Y2ggPSBFZGl0b3Iudm9pZChlZGl0b3IsIHsgYXQsIG1vZGU6ICdoaWdoZXN0JyB9KVxuICAgICAgICBjb25zdCBudWRnZSA9IDBcblxuICAgICAgICBpZiAoIXZvaWRzICYmIHZvaWRNYXRjaCkge1xuICAgICAgICAgIGNvbnN0IFt2b2lkTm9kZSwgdm9pZFBhdGhdID0gdm9pZE1hdGNoXG5cbiAgICAgICAgICBpZiAoRWxlbWVudC5pc0VsZW1lbnQodm9pZE5vZGUpICYmIGVkaXRvci5pc0lubGluZSh2b2lkTm9kZSkpIHtcbiAgICAgICAgICAgIGxldCBhZnRlciA9IEVkaXRvci5hZnRlcihlZGl0b3IsIHZvaWRQYXRoKVxuXG4gICAgICAgICAgICBpZiAoIWFmdGVyKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRleHQgPSB7IHRleHQ6ICcnIH1cbiAgICAgICAgICAgICAgY29uc3QgYWZ0ZXJQYXRoID0gUGF0aC5uZXh0KHZvaWRQYXRoKVxuICAgICAgICAgICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKGVkaXRvciwgdGV4dCwgeyBhdDogYWZ0ZXJQYXRoLCB2b2lkcyB9KVxuICAgICAgICAgICAgICBhZnRlciA9IEVkaXRvci5wb2ludChlZGl0b3IsIGFmdGVyUGF0aCkhXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGF0ID0gYWZ0ZXJcbiAgICAgICAgICAgIGFsd2F5cyA9IHRydWVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBzaWJsaW5nSGVpZ2h0ID0gYXQucGF0aC5sZW5ndGggLSB2b2lkUGF0aC5sZW5ndGhcbiAgICAgICAgICBoZWlnaHQgPSBzaWJsaW5nSGVpZ2h0ICsgMVxuICAgICAgICAgIGFsd2F5cyA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIGFmdGVyUmVmID0gRWRpdG9yLnBvaW50UmVmKGVkaXRvciwgYXQpXG4gICAgICAgIGNvbnN0IGRlcHRoID0gYXQucGF0aC5sZW5ndGggLSBoZWlnaHRcbiAgICAgICAgY29uc3QgWywgaGlnaGVzdFBhdGhdID0gaGlnaGVzdFxuICAgICAgICBjb25zdCBsb3dlc3RQYXRoID0gYXQucGF0aC5zbGljZSgwLCBkZXB0aClcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gaGVpZ2h0ID09PSAwID8gYXQub2Zmc2V0IDogYXQucGF0aFtkZXB0aF0gKyBudWRnZVxuXG4gICAgICAgIGZvciAoY29uc3QgW25vZGUsIHBhdGhdIG9mIEVkaXRvci5sZXZlbHMoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IGxvd2VzdFBhdGgsXG4gICAgICAgICAgcmV2ZXJzZTogdHJ1ZSxcbiAgICAgICAgICB2b2lkcyxcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBsZXQgc3BsaXQgPSBmYWxzZVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcGF0aC5sZW5ndGggPCBoaWdoZXN0UGF0aC5sZW5ndGggfHxcbiAgICAgICAgICAgIHBhdGgubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAoIXZvaWRzICYmIEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBub2RlKSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcG9pbnQgPSBiZWZvcmVSZWYuY3VycmVudCFcbiAgICAgICAgICBjb25zdCBpc0VuZCA9IEVkaXRvci5pc0VuZChlZGl0b3IsIHBvaW50LCBwYXRoKVxuXG4gICAgICAgICAgaWYgKGFsd2F5cyB8fCAhYmVmb3JlUmVmIHx8ICFFZGl0b3IuaXNFZGdlKGVkaXRvciwgcG9pbnQsIHBhdGgpKSB7XG4gICAgICAgICAgICBzcGxpdCA9IHRydWVcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSBOb2RlLmV4dHJhY3RQcm9wcyhub2RlKVxuICAgICAgICAgICAgZWRpdG9yLmFwcGx5KHtcbiAgICAgICAgICAgICAgdHlwZTogJ3NwbGl0X25vZGUnLFxuICAgICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgICAgcHJvcGVydGllcyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcG9zaXRpb24gPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV0gKyAoc3BsaXQgfHwgaXNFbmQgPyAxIDogMClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmF0ID09IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBwb2ludCA9IGFmdGVyUmVmLmN1cnJlbnQgfHwgRWRpdG9yLmVuZChlZGl0b3IsIFtdKVxuICAgICAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgcG9pbnQpXG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGJlZm9yZVJlZi51bnJlZigpXG4gICAgICAgIGFmdGVyUmVmPy51bnJlZigpXG4gICAgICB9XG4gICAgfSlcbiAgfSxcblxuICAvKipcbiAgICogVW5zZXQgcHJvcGVydGllcyBvbiB0aGUgbm9kZXMgYXQgYSBsb2NhdGlvbi5cbiAgICovXG5cbiAgdW5zZXROb2RlczxUIGV4dGVuZHMgTm9kZT4oXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgcHJvcHM6IHN0cmluZyB8IHN0cmluZ1tdLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGF0PzogTG9jYXRpb25cbiAgICAgIG1hdGNoPzogTm9kZU1hdGNoPFQ+XG4gICAgICBtb2RlPzogTWF4aW1pemVNb2RlXG4gICAgICBzcGxpdD86IGJvb2xlYW5cbiAgICAgIHZvaWRzPzogYm9vbGVhblxuICAgIH0gPSB7fVxuICApOiB2b2lkIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcHMpKSB7XG4gICAgICBwcm9wcyA9IFtwcm9wc11cbiAgICB9XG5cbiAgICBjb25zdCBvYmogPSB7fVxuXG4gICAgZm9yIChjb25zdCBrZXkgb2YgcHJvcHMpIHtcbiAgICAgIG9ialtrZXldID0gbnVsbFxuICAgIH1cblxuICAgIFRyYW5zZm9ybXMuc2V0Tm9kZXMoZWRpdG9yLCBvYmosIG9wdGlvbnMpXG4gIH0sXG5cbiAgLyoqXG4gICAqIFVud3JhcCB0aGUgbm9kZXMgYXQgYSBsb2NhdGlvbiBmcm9tIGEgcGFyZW50IG5vZGUsIHNwbGl0dGluZyB0aGUgcGFyZW50IGlmXG4gICAqIG5lY2Vzc2FyeSB0byBlbnN1cmUgdGhhdCBvbmx5IHRoZSBjb250ZW50IGluIHRoZSByYW5nZSBpcyB1bndyYXBwZWQuXG4gICAqL1xuXG4gIHVud3JhcE5vZGVzPFQgZXh0ZW5kcyBOb2RlPihcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBvcHRpb25zOiB7XG4gICAgICBhdD86IExvY2F0aW9uXG4gICAgICBtYXRjaD86IE5vZGVNYXRjaDxUPlxuICAgICAgbW9kZT86IE1heGltaXplTW9kZVxuICAgICAgc3BsaXQ/OiBib29sZWFuXG4gICAgICB2b2lkcz86IGJvb2xlYW5cbiAgICB9ID0ge31cbiAgKTogdm9pZCB7XG4gICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgbW9kZSA9ICdsb3dlc3QnLCBzcGxpdCA9IGZhbHNlLCB2b2lkcyA9IGZhbHNlIH0gPSBvcHRpb25zXG4gICAgICBsZXQgeyBhdCA9IGVkaXRvci5zZWxlY3Rpb24sIG1hdGNoIH0gPSBvcHRpb25zXG5cbiAgICAgIGlmICghYXQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgICAgIG1hdGNoID0gUGF0aC5pc1BhdGgoYXQpXG4gICAgICAgICAgPyBtYXRjaFBhdGgoZWRpdG9yLCBhdClcbiAgICAgICAgICA6IG4gPT4gRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKVxuICAgICAgfVxuXG4gICAgICBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgICAgIGF0ID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgYXQpXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJhbmdlUmVmID0gUmFuZ2UuaXNSYW5nZShhdCkgPyBFZGl0b3IucmFuZ2VSZWYoZWRpdG9yLCBhdCkgOiBudWxsXG4gICAgICBjb25zdCBtYXRjaGVzID0gRWRpdG9yLm5vZGVzKGVkaXRvciwgeyBhdCwgbWF0Y2gsIG1vZGUsIHZvaWRzIH0pXG4gICAgICBjb25zdCBwYXRoUmVmcyA9IEFycmF5LmZyb20oXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIChbLCBwXSkgPT4gRWRpdG9yLnBhdGhSZWYoZWRpdG9yLCBwKVxuICAgICAgICAvLyB1bndyYXBOb2RlIHdpbGwgY2FsbCBsaWZ0Tm9kZSB3aGljaCBkb2VzIG5vdCBzdXBwb3J0IHNwbGl0dGluZyB0aGUgbm9kZSB3aGVuIG5lc3RlZC5cbiAgICAgICAgLy8gSWYgd2UgZG8gbm90IHJldmVyc2UgdGhlIG9yZGVyIGFuZCBjYWxsIGl0IGZyb20gdG9wIHRvIHRoZSBib3R0b20sIGl0IHdpbGwgcmVtb3ZlIGFsbCBibG9ja3NcbiAgICAgICAgLy8gdGhhdCB3cmFwIHRhcmdldCBub2RlLiBTbyB3ZSByZXZlcnNlIHRoZSBvcmRlci5cbiAgICAgICkucmV2ZXJzZSgpXG5cbiAgICAgIGZvciAoY29uc3QgcGF0aFJlZiBvZiBwYXRoUmVmcykge1xuICAgICAgICBjb25zdCBwYXRoID0gcGF0aFJlZi51bnJlZigpIVxuICAgICAgICBjb25zdCBbbm9kZV0gPSBFZGl0b3Iubm9kZShlZGl0b3IsIHBhdGgpXG4gICAgICAgIGxldCByYW5nZSA9IEVkaXRvci5yYW5nZShlZGl0b3IsIHBhdGgpXG5cbiAgICAgICAgaWYgKHNwbGl0ICYmIHJhbmdlUmVmKSB7XG4gICAgICAgICAgcmFuZ2UgPSBSYW5nZS5pbnRlcnNlY3Rpb24ocmFuZ2VSZWYuY3VycmVudCEsIHJhbmdlKSFcbiAgICAgICAgfVxuXG4gICAgICAgIFRyYW5zZm9ybXMubGlmdE5vZGVzKGVkaXRvciwge1xuICAgICAgICAgIGF0OiByYW5nZSxcbiAgICAgICAgICBtYXRjaDogbiA9PiBFbGVtZW50LmlzQW5jZXN0b3Iobm9kZSkgJiYgbm9kZS5jaGlsZHJlbi5pbmNsdWRlcyhuKSxcbiAgICAgICAgICB2b2lkcyxcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKHJhbmdlUmVmKSB7XG4gICAgICAgIHJhbmdlUmVmLnVucmVmKClcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuXG4gIC8qKlxuICAgKiBXcmFwIHRoZSBub2RlcyBhdCBhIGxvY2F0aW9uIGluIGEgbmV3IGNvbnRhaW5lciBub2RlLCBzcGxpdHRpbmcgdGhlIGVkZ2VzXG4gICAqIG9mIHRoZSByYW5nZSBmaXJzdCB0byBlbnN1cmUgdGhhdCBvbmx5IHRoZSBjb250ZW50IGluIHRoZSByYW5nZSBpcyB3cmFwcGVkLlxuICAgKi9cblxuICB3cmFwTm9kZXM8VCBleHRlbmRzIE5vZGU+KFxuICAgIGVkaXRvcjogRWRpdG9yLFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgb3B0aW9uczoge1xuICAgICAgYXQ/OiBMb2NhdGlvblxuICAgICAgbWF0Y2g/OiBOb2RlTWF0Y2g8VD5cbiAgICAgIG1vZGU/OiBNYXhpbWl6ZU1vZGVcbiAgICAgIHNwbGl0PzogYm9vbGVhblxuICAgICAgdm9pZHM/OiBib29sZWFuXG4gICAgfSA9IHt9XG4gICk6IHZvaWQge1xuICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IG1vZGUgPSAnbG93ZXN0Jywgc3BsaXQgPSBmYWxzZSwgdm9pZHMgPSBmYWxzZSB9ID0gb3B0aW9uc1xuICAgICAgbGV0IHsgbWF0Y2gsIGF0ID0gZWRpdG9yLnNlbGVjdGlvbiB9ID0gb3B0aW9uc1xuXG4gICAgICBpZiAoIWF0KSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgICAgICAgbWF0Y2ggPSBtYXRjaFBhdGgoZWRpdG9yLCBhdClcbiAgICAgICAgfSBlbHNlIGlmIChlZGl0b3IuaXNJbmxpbmUoZWxlbWVudCkpIHtcbiAgICAgICAgICBtYXRjaCA9IG4gPT4gRWRpdG9yLmlzSW5saW5lKGVkaXRvciwgbikgfHwgVGV4dC5pc1RleHQobilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXRjaCA9IG4gPT4gRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChzcGxpdCAmJiBSYW5nZS5pc1JhbmdlKGF0KSkge1xuICAgICAgICBjb25zdCBbc3RhcnQsIGVuZF0gPSBSYW5nZS5lZGdlcyhhdClcbiAgICAgICAgY29uc3QgcmFuZ2VSZWYgPSBFZGl0b3IucmFuZ2VSZWYoZWRpdG9yLCBhdCwge1xuICAgICAgICAgIGFmZmluaXR5OiAnaW53YXJkJyxcbiAgICAgICAgfSlcbiAgICAgICAgVHJhbnNmb3Jtcy5zcGxpdE5vZGVzKGVkaXRvciwgeyBhdDogZW5kLCBtYXRjaCwgdm9pZHMgfSlcbiAgICAgICAgVHJhbnNmb3Jtcy5zcGxpdE5vZGVzKGVkaXRvciwgeyBhdDogc3RhcnQsIG1hdGNoLCB2b2lkcyB9KVxuICAgICAgICBhdCA9IHJhbmdlUmVmLnVucmVmKCkhXG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXQgPT0gbnVsbCkge1xuICAgICAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgYXQpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgcm9vdHMgPSBBcnJheS5mcm9tKFxuICAgICAgICBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgYXQsXG4gICAgICAgICAgbWF0Y2g6IGVkaXRvci5pc0lubGluZShlbGVtZW50KVxuICAgICAgICAgICAgPyBuID0+IEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbilcbiAgICAgICAgICAgIDogbiA9PiBFZGl0b3IuaXNFZGl0b3IobiksXG4gICAgICAgICAgbW9kZTogJ2xvd2VzdCcsXG4gICAgICAgICAgdm9pZHMsXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIGZvciAoY29uc3QgWywgcm9vdFBhdGhdIG9mIHJvb3RzKSB7XG4gICAgICAgIGNvbnN0IGEgPSBSYW5nZS5pc1JhbmdlKGF0KVxuICAgICAgICAgID8gUmFuZ2UuaW50ZXJzZWN0aW9uKGF0LCBFZGl0b3IucmFuZ2UoZWRpdG9yLCByb290UGF0aCkpXG4gICAgICAgICAgOiBhdFxuXG4gICAgICAgIGlmICghYSkge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXRjaGVzID0gQXJyYXkuZnJvbShcbiAgICAgICAgICBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7IGF0OiBhLCBtYXRjaCwgbW9kZSwgdm9pZHMgfSlcbiAgICAgICAgKVxuXG4gICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBbZmlyc3RdID0gbWF0Y2hlc1xuICAgICAgICAgIGNvbnN0IGxhc3QgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV1cbiAgICAgICAgICBjb25zdCBbLCBmaXJzdFBhdGhdID0gZmlyc3RcbiAgICAgICAgICBjb25zdCBbLCBsYXN0UGF0aF0gPSBsYXN0XG5cbiAgICAgICAgICBpZiAoZmlyc3RQYXRoLmxlbmd0aCA9PT0gMCAmJiBsYXN0UGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gbWF0Y2hpbmcgcGFyZW50IC0gdXN1YWxseSBtZWFucyB0aGUgbm9kZSBpcyBhbiBlZGl0b3IgLSBkb24ndCBkbyBhbnl0aGluZ1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBjb21tb25QYXRoID0gUGF0aC5lcXVhbHMoZmlyc3RQYXRoLCBsYXN0UGF0aClcbiAgICAgICAgICAgID8gUGF0aC5wYXJlbnQoZmlyc3RQYXRoKVxuICAgICAgICAgICAgOiBQYXRoLmNvbW1vbihmaXJzdFBhdGgsIGxhc3RQYXRoKVxuXG4gICAgICAgICAgY29uc3QgcmFuZ2UgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCBmaXJzdFBhdGgsIGxhc3RQYXRoKVxuICAgICAgICAgIGNvbnN0IGNvbW1vbk5vZGVFbnRyeSA9IEVkaXRvci5ub2RlKGVkaXRvciwgY29tbW9uUGF0aClcbiAgICAgICAgICBjb25zdCBbY29tbW9uTm9kZV0gPSBjb21tb25Ob2RlRW50cnlcbiAgICAgICAgICBjb25zdCBkZXB0aCA9IGNvbW1vblBhdGgubGVuZ3RoICsgMVxuICAgICAgICAgIGNvbnN0IHdyYXBwZXJQYXRoID0gUGF0aC5uZXh0KGxhc3RQYXRoLnNsaWNlKDAsIGRlcHRoKSlcbiAgICAgICAgICBjb25zdCB3cmFwcGVyID0geyAuLi5lbGVtZW50LCBjaGlsZHJlbjogW10gfVxuICAgICAgICAgIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoZWRpdG9yLCB3cmFwcGVyLCB7IGF0OiB3cmFwcGVyUGF0aCwgdm9pZHMgfSlcblxuICAgICAgICAgIFRyYW5zZm9ybXMubW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgYXQ6IHJhbmdlLFxuICAgICAgICAgICAgbWF0Y2g6IG4gPT5cbiAgICAgICAgICAgICAgRWxlbWVudC5pc0FuY2VzdG9yKGNvbW1vbk5vZGUpICYmIGNvbW1vbk5vZGUuY2hpbGRyZW4uaW5jbHVkZXMobiksXG4gICAgICAgICAgICB0bzogd3JhcHBlclBhdGguY29uY2F0KDApLFxuICAgICAgICAgICAgdm9pZHMsXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG59XG5cbmNvbnN0IGhhc1NpbmdsZUNoaWxkTmVzdCA9IChlZGl0b3I6IEVkaXRvciwgbm9kZTogTm9kZSk6IGJvb2xlYW4gPT4ge1xuICBpZiAoRWxlbWVudC5pc0VsZW1lbnQobm9kZSkpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gbm9kZSBhcyBFbGVtZW50XG4gICAgaWYgKEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBub2RlKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XG4gICAgICByZXR1cm4gaGFzU2luZ2xlQ2hpbGROZXN0KGVkaXRvciwgZWxlbWVudC5jaGlsZHJlblswXSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9IGVsc2UgaWYgKEVkaXRvci5pc0VkaXRvcihub2RlKSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgcmFuZ2UgaW50byBhIHBvaW50IGJ5IGRlbGV0aW5nIGl0J3MgY29udGVudC5cbiAqL1xuXG5jb25zdCBkZWxldGVSYW5nZSA9IChlZGl0b3I6IEVkaXRvciwgcmFuZ2U6IFJhbmdlKTogUG9pbnQgfCBudWxsID0+IHtcbiAgaWYgKFJhbmdlLmlzQ29sbGFwc2VkKHJhbmdlKSkge1xuICAgIHJldHVybiByYW5nZS5hbmNob3JcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBbLCBlbmRdID0gUmFuZ2UuZWRnZXMocmFuZ2UpXG4gICAgY29uc3QgcG9pbnRSZWYgPSBFZGl0b3IucG9pbnRSZWYoZWRpdG9yLCBlbmQpXG4gICAgVHJhbnNmb3Jtcy5kZWxldGUoZWRpdG9yLCB7IGF0OiByYW5nZSB9KVxuICAgIHJldHVybiBwb2ludFJlZi51bnJlZigpXG4gIH1cbn1cblxuY29uc3QgbWF0Y2hQYXRoID0gKGVkaXRvcjogRWRpdG9yLCBwYXRoOiBQYXRoKTogKChub2RlOiBOb2RlKSA9PiBib29sZWFuKSA9PiB7XG4gIGNvbnN0IFtub2RlXSA9IEVkaXRvci5ub2RlKGVkaXRvciwgcGF0aClcbiAgcmV0dXJuIG4gPT4gbiA9PT0gbm9kZVxufVxuIiwiaW1wb3J0IHsgRWRpdG9yLCBMb2NhdGlvbiwgUG9pbnQsIFJhbmdlLCBTY3J1YmJlciwgVHJhbnNmb3JtcyB9IGZyb20gJy4uJ1xuaW1wb3J0IHsgU2VsZWN0aW9uRWRnZSwgTW92ZVVuaXQgfSBmcm9tICcuLi9pbnRlcmZhY2VzL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlbGVjdGlvbkNvbGxhcHNlT3B0aW9ucyB7XG4gIGVkZ2U/OiBTZWxlY3Rpb25FZGdlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VsZWN0aW9uTW92ZU9wdGlvbnMge1xuICBkaXN0YW5jZT86IG51bWJlclxuICB1bml0PzogTW92ZVVuaXRcbiAgcmV2ZXJzZT86IGJvb2xlYW5cbiAgZWRnZT86IFNlbGVjdGlvbkVkZ2Vcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZWxlY3Rpb25TZXRQb2ludE9wdGlvbnMge1xuICBlZGdlPzogU2VsZWN0aW9uRWRnZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlbGVjdGlvblRyYW5zZm9ybXMge1xuICBjb2xsYXBzZTogKGVkaXRvcjogRWRpdG9yLCBvcHRpb25zPzogU2VsZWN0aW9uQ29sbGFwc2VPcHRpb25zKSA9PiB2b2lkXG4gIGRlc2VsZWN0OiAoZWRpdG9yOiBFZGl0b3IpID0+IHZvaWRcbiAgbW92ZTogKGVkaXRvcjogRWRpdG9yLCBvcHRpb25zPzogU2VsZWN0aW9uTW92ZU9wdGlvbnMpID0+IHZvaWRcbiAgc2VsZWN0OiAoZWRpdG9yOiBFZGl0b3IsIHRhcmdldDogTG9jYXRpb24pID0+IHZvaWRcbiAgc2V0UG9pbnQ6IChcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBwcm9wczogUGFydGlhbDxQb2ludD4sXG4gICAgb3B0aW9ucz86IFNlbGVjdGlvblNldFBvaW50T3B0aW9uc1xuICApID0+IHZvaWRcbiAgc2V0U2VsZWN0aW9uOiAoZWRpdG9yOiBFZGl0b3IsIHByb3BzOiBQYXJ0aWFsPFJhbmdlPikgPT4gdm9pZFxufVxuXG5leHBvcnQgY29uc3QgU2VsZWN0aW9uVHJhbnNmb3JtczogU2VsZWN0aW9uVHJhbnNmb3JtcyA9IHtcbiAgLyoqXG4gICAqIENvbGxhcHNlIHRoZSBzZWxlY3Rpb24uXG4gICAqL1xuXG4gIGNvbGxhcHNlKGVkaXRvcjogRWRpdG9yLCBvcHRpb25zOiBTZWxlY3Rpb25Db2xsYXBzZU9wdGlvbnMgPSB7fSk6IHZvaWQge1xuICAgIGNvbnN0IHsgZWRnZSA9ICdhbmNob3InIH0gPSBvcHRpb25zXG4gICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IGVkaXRvclxuXG4gICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgIHJldHVyblxuICAgIH0gZWxzZSBpZiAoZWRnZSA9PT0gJ2FuY2hvcicpIHtcbiAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgc2VsZWN0aW9uLmFuY2hvcilcbiAgICB9IGVsc2UgaWYgKGVkZ2UgPT09ICdmb2N1cycpIHtcbiAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgc2VsZWN0aW9uLmZvY3VzKVxuICAgIH0gZWxzZSBpZiAoZWRnZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgY29uc3QgW3N0YXJ0XSA9IFJhbmdlLmVkZ2VzKHNlbGVjdGlvbilcbiAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgc3RhcnQpXG4gICAgfSBlbHNlIGlmIChlZGdlID09PSAnZW5kJykge1xuICAgICAgY29uc3QgWywgZW5kXSA9IFJhbmdlLmVkZ2VzKHNlbGVjdGlvbilcbiAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgZW5kKVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVW5zZXQgdGhlIHNlbGVjdGlvbi5cbiAgICovXG5cbiAgZGVzZWxlY3QoZWRpdG9yOiBFZGl0b3IpOiB2b2lkIHtcbiAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gZWRpdG9yXG5cbiAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICBlZGl0b3IuYXBwbHkoe1xuICAgICAgICB0eXBlOiAnc2V0X3NlbGVjdGlvbicsXG4gICAgICAgIHByb3BlcnRpZXM6IHNlbGVjdGlvbixcbiAgICAgICAgbmV3UHJvcGVydGllczogbnVsbCxcbiAgICAgIH0pXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlIHRoZSBzZWxlY3Rpb24ncyBwb2ludCBmb3J3YXJkIG9yIGJhY2t3YXJkLlxuICAgKi9cblxuICBtb3ZlKGVkaXRvcjogRWRpdG9yLCBvcHRpb25zOiBTZWxlY3Rpb25Nb3ZlT3B0aW9ucyA9IHt9KTogdm9pZCB7XG4gICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IGVkaXRvclxuICAgIGNvbnN0IHsgZGlzdGFuY2UgPSAxLCB1bml0ID0gJ2NoYXJhY3RlcicsIHJldmVyc2UgPSBmYWxzZSB9ID0gb3B0aW9uc1xuICAgIGxldCB7IGVkZ2UgPSBudWxsIH0gPSBvcHRpb25zXG5cbiAgICBpZiAoIXNlbGVjdGlvbikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGVkZ2UgPT09ICdzdGFydCcpIHtcbiAgICAgIGVkZ2UgPSBSYW5nZS5pc0JhY2t3YXJkKHNlbGVjdGlvbikgPyAnZm9jdXMnIDogJ2FuY2hvcidcbiAgICB9XG5cbiAgICBpZiAoZWRnZSA9PT0gJ2VuZCcpIHtcbiAgICAgIGVkZ2UgPSBSYW5nZS5pc0JhY2t3YXJkKHNlbGVjdGlvbikgPyAnYW5jaG9yJyA6ICdmb2N1cydcbiAgICB9XG5cbiAgICBjb25zdCB7IGFuY2hvciwgZm9jdXMgfSA9IHNlbGVjdGlvblxuICAgIGNvbnN0IG9wdHMgPSB7IGRpc3RhbmNlLCB1bml0IH1cbiAgICBjb25zdCBwcm9wczogUGFydGlhbDxSYW5nZT4gPSB7fVxuXG4gICAgaWYgKGVkZ2UgPT0gbnVsbCB8fCBlZGdlID09PSAnYW5jaG9yJykge1xuICAgICAgY29uc3QgcG9pbnQgPSByZXZlcnNlXG4gICAgICAgID8gRWRpdG9yLmJlZm9yZShlZGl0b3IsIGFuY2hvciwgb3B0cylcbiAgICAgICAgOiBFZGl0b3IuYWZ0ZXIoZWRpdG9yLCBhbmNob3IsIG9wdHMpXG5cbiAgICAgIGlmIChwb2ludCkge1xuICAgICAgICBwcm9wcy5hbmNob3IgPSBwb2ludFxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlZGdlID09IG51bGwgfHwgZWRnZSA9PT0gJ2ZvY3VzJykge1xuICAgICAgY29uc3QgcG9pbnQgPSByZXZlcnNlXG4gICAgICAgID8gRWRpdG9yLmJlZm9yZShlZGl0b3IsIGZvY3VzLCBvcHRzKVxuICAgICAgICA6IEVkaXRvci5hZnRlcihlZGl0b3IsIGZvY3VzLCBvcHRzKVxuXG4gICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgcHJvcHMuZm9jdXMgPSBwb2ludFxuICAgICAgfVxuICAgIH1cblxuICAgIFRyYW5zZm9ybXMuc2V0U2VsZWN0aW9uKGVkaXRvciwgcHJvcHMpXG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc2VsZWN0aW9uIHRvIGEgbmV3IHZhbHVlLlxuICAgKi9cblxuICBzZWxlY3QoZWRpdG9yOiBFZGl0b3IsIHRhcmdldDogTG9jYXRpb24pOiB2b2lkIHtcbiAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gZWRpdG9yXG4gICAgdGFyZ2V0ID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgdGFyZ2V0KVxuXG4gICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgVHJhbnNmb3Jtcy5zZXRTZWxlY3Rpb24oZWRpdG9yLCB0YXJnZXQpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoIVJhbmdlLmlzUmFuZ2UodGFyZ2V0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgV2hlbiBzZXR0aW5nIHRoZSBzZWxlY3Rpb24gYW5kIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpcyBcXGBudWxsXFxgIHlvdSBtdXN0IHByb3ZpZGUgYXQgbGVhc3QgYW4gXFxgYW5jaG9yXFxgIGFuZCBcXGBmb2N1c1xcYCwgYnV0IHlvdSBwYXNzZWQ6ICR7U2NydWJiZXIuc3RyaW5naWZ5KFxuICAgICAgICAgIHRhcmdldFxuICAgICAgICApfWBcbiAgICAgIClcbiAgICB9XG5cbiAgICBlZGl0b3IuYXBwbHkoe1xuICAgICAgdHlwZTogJ3NldF9zZWxlY3Rpb24nLFxuICAgICAgcHJvcGVydGllczogc2VsZWN0aW9uLFxuICAgICAgbmV3UHJvcGVydGllczogdGFyZ2V0LFxuICAgIH0pXG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldCBuZXcgcHJvcGVydGllcyBvbiBvbmUgb2YgdGhlIHNlbGVjdGlvbidzIHBvaW50cy5cbiAgICovXG5cbiAgc2V0UG9pbnQoXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgcHJvcHM6IFBhcnRpYWw8UG9pbnQ+LFxuICAgIG9wdGlvbnM6IFNlbGVjdGlvblNldFBvaW50T3B0aW9ucyA9IHt9XG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBlZGl0b3JcbiAgICBsZXQgeyBlZGdlID0gJ2JvdGgnIH0gPSBvcHRpb25zXG5cbiAgICBpZiAoIXNlbGVjdGlvbikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGVkZ2UgPT09ICdzdGFydCcpIHtcbiAgICAgIGVkZ2UgPSBSYW5nZS5pc0JhY2t3YXJkKHNlbGVjdGlvbikgPyAnZm9jdXMnIDogJ2FuY2hvcidcbiAgICB9XG5cbiAgICBpZiAoZWRnZSA9PT0gJ2VuZCcpIHtcbiAgICAgIGVkZ2UgPSBSYW5nZS5pc0JhY2t3YXJkKHNlbGVjdGlvbikgPyAnYW5jaG9yJyA6ICdmb2N1cydcbiAgICB9XG5cbiAgICBjb25zdCB7IGFuY2hvciwgZm9jdXMgfSA9IHNlbGVjdGlvblxuICAgIGNvbnN0IHBvaW50ID0gZWRnZSA9PT0gJ2FuY2hvcicgPyBhbmNob3IgOiBmb2N1c1xuXG4gICAgVHJhbnNmb3Jtcy5zZXRTZWxlY3Rpb24oZWRpdG9yLCB7XG4gICAgICBbZWRnZSA9PT0gJ2FuY2hvcicgPyAnYW5jaG9yJyA6ICdmb2N1cyddOiB7IC4uLnBvaW50LCAuLi5wcm9wcyB9LFxuICAgIH0pXG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldCBuZXcgcHJvcGVydGllcyBvbiB0aGUgc2VsZWN0aW9uLlxuICAgKi9cblxuICBzZXRTZWxlY3Rpb24oZWRpdG9yOiBFZGl0b3IsIHByb3BzOiBQYXJ0aWFsPFJhbmdlPik6IHZvaWQge1xuICAgIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBlZGl0b3JcbiAgICBjb25zdCBvbGRQcm9wczogUGFydGlhbDxSYW5nZT4gfCBudWxsID0ge31cbiAgICBjb25zdCBuZXdQcm9wczogUGFydGlhbDxSYW5nZT4gPSB7fVxuXG4gICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcykge1xuICAgICAgaWYgKFxuICAgICAgICAoayA9PT0gJ2FuY2hvcicgJiZcbiAgICAgICAgICBwcm9wcy5hbmNob3IgIT0gbnVsbCAmJlxuICAgICAgICAgICFQb2ludC5lcXVhbHMocHJvcHMuYW5jaG9yLCBzZWxlY3Rpb24uYW5jaG9yKSkgfHxcbiAgICAgICAgKGsgPT09ICdmb2N1cycgJiZcbiAgICAgICAgICBwcm9wcy5mb2N1cyAhPSBudWxsICYmXG4gICAgICAgICAgIVBvaW50LmVxdWFscyhwcm9wcy5mb2N1cywgc2VsZWN0aW9uLmZvY3VzKSkgfHxcbiAgICAgICAgKGsgIT09ICdhbmNob3InICYmIGsgIT09ICdmb2N1cycgJiYgcHJvcHNba10gIT09IHNlbGVjdGlvbltrXSlcbiAgICAgICkge1xuICAgICAgICBvbGRQcm9wc1trXSA9IHNlbGVjdGlvbltrXVxuICAgICAgICBuZXdQcm9wc1trXSA9IHByb3BzW2tdXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5rZXlzKG9sZFByb3BzKS5sZW5ndGggPiAwKSB7XG4gICAgICBlZGl0b3IuYXBwbHkoe1xuICAgICAgICB0eXBlOiAnc2V0X3NlbGVjdGlvbicsXG4gICAgICAgIHByb3BlcnRpZXM6IG9sZFByb3BzLFxuICAgICAgICBuZXdQcm9wZXJ0aWVzOiBuZXdQcm9wcyxcbiAgICAgIH0pXG4gICAgfVxuICB9LFxufVxuIiwiaW1wb3J0IHtcbiAgRWRpdG9yLFxuICBFbGVtZW50LFxuICBMb2NhdGlvbixcbiAgTm9kZSxcbiAgTm9kZUVudHJ5LFxuICBQYXRoLFxuICBUZXh0LFxuICBQb2ludCxcbiAgUmFuZ2UsXG4gIFRyYW5zZm9ybXMsXG59IGZyb20gJy4uJ1xuaW1wb3J0IHsgVGV4dFVuaXQgfSBmcm9tICcuLi9pbnRlcmZhY2VzL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFRleHREZWxldGVPcHRpb25zIHtcbiAgYXQ/OiBMb2NhdGlvblxuICBkaXN0YW5jZT86IG51bWJlclxuICB1bml0PzogVGV4dFVuaXRcbiAgcmV2ZXJzZT86IGJvb2xlYW5cbiAgaGFuZ2luZz86IGJvb2xlYW5cbiAgdm9pZHM/OiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dEluc2VydEZyYWdtZW50T3B0aW9ucyB7XG4gIGF0PzogTG9jYXRpb25cbiAgaGFuZ2luZz86IGJvb2xlYW5cbiAgdm9pZHM/OiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dEluc2VydFRleHRPcHRpb25zIHtcbiAgYXQ/OiBMb2NhdGlvblxuICB2b2lkcz86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBUZXh0VHJhbnNmb3JtcyB7XG4gIGRlbGV0ZTogKGVkaXRvcjogRWRpdG9yLCBvcHRpb25zPzogVGV4dERlbGV0ZU9wdGlvbnMpID0+IHZvaWRcbiAgaW5zZXJ0RnJhZ21lbnQ6IChcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICBmcmFnbWVudDogTm9kZVtdLFxuICAgIG9wdGlvbnM/OiBUZXh0SW5zZXJ0RnJhZ21lbnRPcHRpb25zXG4gICkgPT4gdm9pZFxuICBpbnNlcnRUZXh0OiAoXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgdGV4dDogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBUZXh0SW5zZXJ0VGV4dE9wdGlvbnNcbiAgKSA9PiB2b2lkXG59XG5cbmV4cG9ydCBjb25zdCBUZXh0VHJhbnNmb3JtczogVGV4dFRyYW5zZm9ybXMgPSB7XG4gIC8qKlxuICAgKiBEZWxldGUgY29udGVudCBpbiB0aGUgZWRpdG9yLlxuICAgKi9cblxuICBkZWxldGUoZWRpdG9yOiBFZGl0b3IsIG9wdGlvbnM6IFRleHREZWxldGVPcHRpb25zID0ge30pOiB2b2lkIHtcbiAgICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICByZXZlcnNlID0gZmFsc2UsXG4gICAgICAgIHVuaXQgPSAnY2hhcmFjdGVyJyxcbiAgICAgICAgZGlzdGFuY2UgPSAxLFxuICAgICAgICB2b2lkcyA9IGZhbHNlLFxuICAgICAgfSA9IG9wdGlvbnNcbiAgICAgIGxldCB7IGF0ID0gZWRpdG9yLnNlbGVjdGlvbiwgaGFuZ2luZyA9IGZhbHNlIH0gPSBvcHRpb25zXG5cbiAgICAgIGlmICghYXQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChSYW5nZS5pc1JhbmdlKGF0KSAmJiBSYW5nZS5pc0NvbGxhcHNlZChhdCkpIHtcbiAgICAgICAgYXQgPSBhdC5hbmNob3JcbiAgICAgIH1cblxuICAgICAgaWYgKFBvaW50LmlzUG9pbnQoYXQpKSB7XG4gICAgICAgIGNvbnN0IGZ1cnRoZXN0Vm9pZCA9IEVkaXRvci52b2lkKGVkaXRvciwgeyBhdCwgbW9kZTogJ2hpZ2hlc3QnIH0pXG5cbiAgICAgICAgaWYgKCF2b2lkcyAmJiBmdXJ0aGVzdFZvaWQpIHtcbiAgICAgICAgICBjb25zdCBbLCB2b2lkUGF0aF0gPSBmdXJ0aGVzdFZvaWRcbiAgICAgICAgICBhdCA9IHZvaWRQYXRoXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3Qgb3B0cyA9IHsgdW5pdCwgZGlzdGFuY2UgfVxuICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHJldmVyc2VcbiAgICAgICAgICAgID8gRWRpdG9yLmJlZm9yZShlZGl0b3IsIGF0LCBvcHRzKSB8fCBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBbXSlcbiAgICAgICAgICAgIDogRWRpdG9yLmFmdGVyKGVkaXRvciwgYXQsIG9wdHMpIHx8IEVkaXRvci5lbmQoZWRpdG9yLCBbXSlcbiAgICAgICAgICBhdCA9IHsgYW5jaG9yOiBhdCwgZm9jdXM6IHRhcmdldCB9XG4gICAgICAgICAgaGFuZ2luZyA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7IGF0LCB2b2lkcyB9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKFJhbmdlLmlzQ29sbGFwc2VkKGF0KSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaWYgKCFoYW5naW5nKSB7XG4gICAgICAgIGNvbnN0IFssIGVuZF0gPSBSYW5nZS5lZGdlcyhhdClcbiAgICAgICAgY29uc3QgZW5kT2ZEb2MgPSBFZGl0b3IuZW5kKGVkaXRvciwgW10pXG5cbiAgICAgICAgaWYgKCFQb2ludC5lcXVhbHMoZW5kLCBlbmRPZkRvYykpIHtcbiAgICAgICAgICBhdCA9IEVkaXRvci51bmhhbmdSYW5nZShlZGl0b3IsIGF0LCB7IHZvaWRzIH0pXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGV0IFtzdGFydCwgZW5kXSA9IFJhbmdlLmVkZ2VzKGF0KVxuICAgICAgY29uc3Qgc3RhcnRCbG9jayA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgICAgbWF0Y2g6IG4gPT4gRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKSxcbiAgICAgICAgYXQ6IHN0YXJ0LFxuICAgICAgICB2b2lkcyxcbiAgICAgIH0pXG4gICAgICBjb25zdCBlbmRCbG9jayA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgICAgbWF0Y2g6IG4gPT4gRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKSxcbiAgICAgICAgYXQ6IGVuZCxcbiAgICAgICAgdm9pZHMsXG4gICAgICB9KVxuICAgICAgY29uc3QgaXNBY3Jvc3NCbG9ja3MgPVxuICAgICAgICBzdGFydEJsb2NrICYmIGVuZEJsb2NrICYmICFQYXRoLmVxdWFscyhzdGFydEJsb2NrWzFdLCBlbmRCbG9ja1sxXSlcbiAgICAgIGNvbnN0IGlzU2luZ2xlVGV4dCA9IFBhdGguZXF1YWxzKHN0YXJ0LnBhdGgsIGVuZC5wYXRoKVxuICAgICAgY29uc3Qgc3RhcnRWb2lkID0gdm9pZHNcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogRWRpdG9yLnZvaWQoZWRpdG9yLCB7IGF0OiBzdGFydCwgbW9kZTogJ2hpZ2hlc3QnIH0pXG4gICAgICBjb25zdCBlbmRWb2lkID0gdm9pZHNcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogRWRpdG9yLnZvaWQoZWRpdG9yLCB7IGF0OiBlbmQsIG1vZGU6ICdoaWdoZXN0JyB9KVxuXG4gICAgICAvLyBJZiB0aGUgc3RhcnQgb3IgZW5kIHBvaW50cyBhcmUgaW5zaWRlIGFuIGlubGluZSB2b2lkLCBudWRnZSB0aGVtIG91dC5cbiAgICAgIGlmIChzdGFydFZvaWQpIHtcbiAgICAgICAgY29uc3QgYmVmb3JlID0gRWRpdG9yLmJlZm9yZShlZGl0b3IsIHN0YXJ0KVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBiZWZvcmUgJiZcbiAgICAgICAgICBzdGFydEJsb2NrICYmXG4gICAgICAgICAgUGF0aC5pc0FuY2VzdG9yKHN0YXJ0QmxvY2tbMV0sIGJlZm9yZS5wYXRoKVxuICAgICAgICApIHtcbiAgICAgICAgICBzdGFydCA9IGJlZm9yZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlbmRWb2lkKSB7XG4gICAgICAgIGNvbnN0IGFmdGVyID0gRWRpdG9yLmFmdGVyKGVkaXRvciwgZW5kKVxuXG4gICAgICAgIGlmIChhZnRlciAmJiBlbmRCbG9jayAmJiBQYXRoLmlzQW5jZXN0b3IoZW5kQmxvY2tbMV0sIGFmdGVyLnBhdGgpKSB7XG4gICAgICAgICAgZW5kID0gYWZ0ZXJcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIGhpZ2hlc3Qgbm9kZXMgdGhhdCBhcmUgY29tcGxldGVseSBpbnNpZGUgdGhlIHJhbmdlLCBhcyB3ZWxsIGFzXG4gICAgICAvLyB0aGUgc3RhcnQgYW5kIGVuZCBub2Rlcy5cbiAgICAgIGNvbnN0IG1hdGNoZXM6IE5vZGVFbnRyeVtdID0gW11cbiAgICAgIGxldCBsYXN0UGF0aDogUGF0aCB8IHVuZGVmaW5lZFxuXG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIEVkaXRvci5ub2RlcyhlZGl0b3IsIHsgYXQsIHZvaWRzIH0pKSB7XG4gICAgICAgIGNvbnN0IFtub2RlLCBwYXRoXSA9IGVudHJ5XG5cbiAgICAgICAgaWYgKGxhc3RQYXRoICYmIFBhdGguY29tcGFyZShwYXRoLCBsYXN0UGF0aCkgPT09IDApIHtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICghdm9pZHMgJiYgRWRpdG9yLmlzVm9pZChlZGl0b3IsIG5vZGUpKSB8fFxuICAgICAgICAgICghUGF0aC5pc0NvbW1vbihwYXRoLCBzdGFydC5wYXRoKSAmJiAhUGF0aC5pc0NvbW1vbihwYXRoLCBlbmQucGF0aCkpXG4gICAgICAgICkge1xuICAgICAgICAgIG1hdGNoZXMucHVzaChlbnRyeSlcbiAgICAgICAgICBsYXN0UGF0aCA9IHBhdGhcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBwYXRoUmVmcyA9IEFycmF5LmZyb20obWF0Y2hlcywgKFssIHBdKSA9PiBFZGl0b3IucGF0aFJlZihlZGl0b3IsIHApKVxuICAgICAgY29uc3Qgc3RhcnRSZWYgPSBFZGl0b3IucG9pbnRSZWYoZWRpdG9yLCBzdGFydClcbiAgICAgIGNvbnN0IGVuZFJlZiA9IEVkaXRvci5wb2ludFJlZihlZGl0b3IsIGVuZClcblxuICAgICAgaWYgKCFpc1NpbmdsZVRleHQgJiYgIXN0YXJ0Vm9pZCkge1xuICAgICAgICBjb25zdCBwb2ludCA9IHN0YXJ0UmVmLmN1cnJlbnQhXG4gICAgICAgIGNvbnN0IFtub2RlXSA9IEVkaXRvci5sZWFmKGVkaXRvciwgcG9pbnQpXG4gICAgICAgIGNvbnN0IHsgcGF0aCB9ID0gcG9pbnRcbiAgICAgICAgY29uc3QgeyBvZmZzZXQgfSA9IHN0YXJ0XG4gICAgICAgIGNvbnN0IHRleHQgPSBub2RlLnRleHQuc2xpY2Uob2Zmc2V0KVxuICAgICAgICBpZiAodGV4dC5sZW5ndGggPiAwKVxuICAgICAgICAgIGVkaXRvci5hcHBseSh7IHR5cGU6ICdyZW1vdmVfdGV4dCcsIHBhdGgsIG9mZnNldCwgdGV4dCB9KVxuICAgICAgfVxuXG4gICAgICBmb3IgKGNvbnN0IHBhdGhSZWYgb2YgcGF0aFJlZnMpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHBhdGhSZWYudW5yZWYoKSFcbiAgICAgICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHsgYXQ6IHBhdGgsIHZvaWRzIH0pXG4gICAgICB9XG5cbiAgICAgIGlmICghZW5kVm9pZCkge1xuICAgICAgICBjb25zdCBwb2ludCA9IGVuZFJlZi5jdXJyZW50IVxuICAgICAgICBjb25zdCBbbm9kZV0gPSBFZGl0b3IubGVhZihlZGl0b3IsIHBvaW50KVxuICAgICAgICBjb25zdCB7IHBhdGggfSA9IHBvaW50XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IGlzU2luZ2xlVGV4dCA/IHN0YXJ0Lm9mZnNldCA6IDBcbiAgICAgICAgY29uc3QgdGV4dCA9IG5vZGUudGV4dC5zbGljZShvZmZzZXQsIGVuZC5vZmZzZXQpXG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDApXG4gICAgICAgICAgZWRpdG9yLmFwcGx5KHsgdHlwZTogJ3JlbW92ZV90ZXh0JywgcGF0aCwgb2Zmc2V0LCB0ZXh0IH0pXG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgIWlzU2luZ2xlVGV4dCAmJlxuICAgICAgICBpc0Fjcm9zc0Jsb2NrcyAmJlxuICAgICAgICBlbmRSZWYuY3VycmVudCAmJlxuICAgICAgICBzdGFydFJlZi5jdXJyZW50XG4gICAgICApIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5tZXJnZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgIGF0OiBlbmRSZWYuY3VycmVudCxcbiAgICAgICAgICBoYW5naW5nOiB0cnVlLFxuICAgICAgICAgIHZvaWRzLFxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzdGFydFVucmVmID0gc3RhcnRSZWYudW5yZWYoKVxuICAgICAgY29uc3QgZW5kVW5yZWYgPSBlbmRSZWYudW5yZWYoKVxuICAgICAgY29uc3QgcG9pbnQgPSByZXZlcnNlID8gc3RhcnRVbnJlZiB8fCBlbmRVbnJlZiA6IGVuZFVucmVmIHx8IHN0YXJ0VW5yZWZcblxuICAgICAgaWYgKG9wdGlvbnMuYXQgPT0gbnVsbCAmJiBwb2ludCkge1xuICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHBvaW50KVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG5cbiAgLyoqXG4gICAqIEluc2VydCBhIGZyYWdtZW50IGF0IGEgc3BlY2lmaWMgbG9jYXRpb24gaW4gdGhlIGVkaXRvci5cbiAgICovXG5cbiAgaW5zZXJ0RnJhZ21lbnQoXG4gICAgZWRpdG9yOiBFZGl0b3IsXG4gICAgZnJhZ21lbnQ6IE5vZGVbXSxcbiAgICBvcHRpb25zOiBUZXh0SW5zZXJ0RnJhZ21lbnRPcHRpb25zID0ge31cbiAgKTogdm9pZCB7XG4gICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgaGFuZ2luZyA9IGZhbHNlLCB2b2lkcyA9IGZhbHNlIH0gPSBvcHRpb25zXG4gICAgICBsZXQgeyBhdCA9IGVkaXRvci5zZWxlY3Rpb24gfSA9IG9wdGlvbnNcblxuICAgICAgaWYgKCFmcmFnbWVudC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmICghYXQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9IGVsc2UgaWYgKFJhbmdlLmlzUmFuZ2UoYXQpKSB7XG4gICAgICAgIGlmICghaGFuZ2luZykge1xuICAgICAgICAgIGF0ID0gRWRpdG9yLnVuaGFuZ1JhbmdlKGVkaXRvciwgYXQpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoUmFuZ2UuaXNDb2xsYXBzZWQoYXQpKSB7XG4gICAgICAgICAgYXQgPSBhdC5hbmNob3JcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBbLCBlbmRdID0gUmFuZ2UuZWRnZXMoYXQpXG5cbiAgICAgICAgICBpZiAoIXZvaWRzICYmIEVkaXRvci52b2lkKGVkaXRvciwgeyBhdDogZW5kIH0pKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBwb2ludFJlZiA9IEVkaXRvci5wb2ludFJlZihlZGl0b3IsIGVuZClcbiAgICAgICAgICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHsgYXQgfSlcbiAgICAgICAgICBhdCA9IHBvaW50UmVmLnVucmVmKCkhXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgICAgIGF0ID0gRWRpdG9yLnN0YXJ0KGVkaXRvciwgYXQpXG4gICAgICB9XG5cbiAgICAgIGlmICghdm9pZHMgJiYgRWRpdG9yLnZvaWQoZWRpdG9yLCB7IGF0IH0pKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgaW5zZXJ0IHBvaW50IGlzIGF0IHRoZSBlZGdlIG9mIGFuIGlubGluZSBub2RlLCBtb3ZlIGl0IG91dHNpZGVcbiAgICAgIC8vIGluc3RlYWQgc2luY2UgaXQgd2lsbCBuZWVkIHRvIGJlIHNwbGl0IG90aGVyd2lzZS5cbiAgICAgIGNvbnN0IGlubGluZUVsZW1lbnRNYXRjaCA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgICAgYXQsXG4gICAgICAgIG1hdGNoOiBuID0+IEVkaXRvci5pc0lubGluZShlZGl0b3IsIG4pLFxuICAgICAgICBtb2RlOiAnaGlnaGVzdCcsXG4gICAgICAgIHZvaWRzLFxuICAgICAgfSlcblxuICAgICAgaWYgKGlubGluZUVsZW1lbnRNYXRjaCkge1xuICAgICAgICBjb25zdCBbLCBpbmxpbmVQYXRoXSA9IGlubGluZUVsZW1lbnRNYXRjaFxuXG4gICAgICAgIGlmIChFZGl0b3IuaXNFbmQoZWRpdG9yLCBhdCwgaW5saW5lUGF0aCkpIHtcbiAgICAgICAgICBjb25zdCBhZnRlciA9IEVkaXRvci5hZnRlcihlZGl0b3IsIGlubGluZVBhdGgpIVxuICAgICAgICAgIGF0ID0gYWZ0ZXJcbiAgICAgICAgfSBlbHNlIGlmIChFZGl0b3IuaXNTdGFydChlZGl0b3IsIGF0LCBpbmxpbmVQYXRoKSkge1xuICAgICAgICAgIGNvbnN0IGJlZm9yZSA9IEVkaXRvci5iZWZvcmUoZWRpdG9yLCBpbmxpbmVQYXRoKSFcbiAgICAgICAgICBhdCA9IGJlZm9yZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGJsb2NrTWF0Y2ggPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICAgIG1hdGNoOiBuID0+IEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbiksXG4gICAgICAgIGF0LFxuICAgICAgICB2b2lkcyxcbiAgICAgIH0pIVxuICAgICAgY29uc3QgWywgYmxvY2tQYXRoXSA9IGJsb2NrTWF0Y2hcbiAgICAgIGNvbnN0IGlzQmxvY2tTdGFydCA9IEVkaXRvci5pc1N0YXJ0KGVkaXRvciwgYXQsIGJsb2NrUGF0aClcbiAgICAgIGNvbnN0IGlzQmxvY2tFbmQgPSBFZGl0b3IuaXNFbmQoZWRpdG9yLCBhdCwgYmxvY2tQYXRoKVxuICAgICAgY29uc3QgaXNCbG9ja0VtcHR5ID0gaXNCbG9ja1N0YXJ0ICYmIGlzQmxvY2tFbmRcbiAgICAgIGNvbnN0IG1lcmdlU3RhcnQgPSAhaXNCbG9ja1N0YXJ0IHx8IChpc0Jsb2NrU3RhcnQgJiYgaXNCbG9ja0VuZClcbiAgICAgIGNvbnN0IG1lcmdlRW5kID0gIWlzQmxvY2tFbmRcbiAgICAgIGNvbnN0IFssIGZpcnN0UGF0aF0gPSBOb2RlLmZpcnN0KHsgY2hpbGRyZW46IGZyYWdtZW50IH0sIFtdKVxuICAgICAgY29uc3QgWywgbGFzdFBhdGhdID0gTm9kZS5sYXN0KHsgY2hpbGRyZW46IGZyYWdtZW50IH0sIFtdKVxuXG4gICAgICBjb25zdCBtYXRjaGVzOiBOb2RlRW50cnlbXSA9IFtdXG4gICAgICBjb25zdCBtYXRjaGVyID0gKFtuLCBwXTogTm9kZUVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IGlzUm9vdCA9IHAubGVuZ3RoID09PSAwXG4gICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0Jsb2NrRW1wdHkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIG1lcmdlU3RhcnQgJiZcbiAgICAgICAgICBQYXRoLmlzQW5jZXN0b3IocCwgZmlyc3RQYXRoKSAmJlxuICAgICAgICAgIEVsZW1lbnQuaXNFbGVtZW50KG4pICYmXG4gICAgICAgICAgIWVkaXRvci5pc1ZvaWQobikgJiZcbiAgICAgICAgICAhZWRpdG9yLmlzSW5saW5lKG4pXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIG1lcmdlRW5kICYmXG4gICAgICAgICAgUGF0aC5pc0FuY2VzdG9yKHAsIGxhc3RQYXRoKSAmJlxuICAgICAgICAgIEVsZW1lbnQuaXNFbGVtZW50KG4pICYmXG4gICAgICAgICAgIWVkaXRvci5pc1ZvaWQobikgJiZcbiAgICAgICAgICAhZWRpdG9yLmlzSW5saW5lKG4pXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBOb2RlLm5vZGVzKFxuICAgICAgICB7IGNoaWxkcmVuOiBmcmFnbWVudCB9LFxuICAgICAgICB7IHBhc3M6IG1hdGNoZXIgfVxuICAgICAgKSkge1xuICAgICAgICBpZiAobWF0Y2hlcihlbnRyeSkpIHtcbiAgICAgICAgICBtYXRjaGVzLnB1c2goZW50cnkpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3RhcnRzID0gW11cbiAgICAgIGNvbnN0IG1pZGRsZXMgPSBbXVxuICAgICAgY29uc3QgZW5kcyA9IFtdXG4gICAgICBsZXQgc3RhcnRpbmcgPSB0cnVlXG4gICAgICBsZXQgaGFzQmxvY2tzID0gZmFsc2VcblxuICAgICAgZm9yIChjb25zdCBbbm9kZV0gb2YgbWF0Y2hlcykge1xuICAgICAgICBpZiAoRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiYgIWVkaXRvci5pc0lubGluZShub2RlKSkge1xuICAgICAgICAgIHN0YXJ0aW5nID0gZmFsc2VcbiAgICAgICAgICBoYXNCbG9ja3MgPSB0cnVlXG4gICAgICAgICAgbWlkZGxlcy5wdXNoKG5vZGUpXG4gICAgICAgIH0gZWxzZSBpZiAoc3RhcnRpbmcpIHtcbiAgICAgICAgICBzdGFydHMucHVzaChub2RlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVuZHMucHVzaChub2RlKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IFtpbmxpbmVNYXRjaF0gPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgIGF0LFxuICAgICAgICBtYXRjaDogbiA9PiBUZXh0LmlzVGV4dChuKSB8fCBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBuKSxcbiAgICAgICAgbW9kZTogJ2hpZ2hlc3QnLFxuICAgICAgICB2b2lkcyxcbiAgICAgIH0pIVxuXG4gICAgICBjb25zdCBbLCBpbmxpbmVQYXRoXSA9IGlubGluZU1hdGNoXG4gICAgICBjb25zdCBpc0lubGluZVN0YXJ0ID0gRWRpdG9yLmlzU3RhcnQoZWRpdG9yLCBhdCwgaW5saW5lUGF0aClcbiAgICAgIGNvbnN0IGlzSW5saW5lRW5kID0gRWRpdG9yLmlzRW5kKGVkaXRvciwgYXQsIGlubGluZVBhdGgpXG5cbiAgICAgIGNvbnN0IG1pZGRsZVJlZiA9IEVkaXRvci5wYXRoUmVmKFxuICAgICAgICBlZGl0b3IsXG4gICAgICAgIGlzQmxvY2tFbmQgPyBQYXRoLm5leHQoYmxvY2tQYXRoKSA6IGJsb2NrUGF0aFxuICAgICAgKVxuXG4gICAgICBjb25zdCBlbmRSZWYgPSBFZGl0b3IucGF0aFJlZihcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICBpc0lubGluZUVuZCA/IFBhdGgubmV4dChpbmxpbmVQYXRoKSA6IGlubGluZVBhdGhcbiAgICAgIClcblxuICAgICAgY29uc3QgYmxvY2tQYXRoUmVmID0gRWRpdG9yLnBhdGhSZWYoZWRpdG9yLCBibG9ja1BhdGgpXG5cbiAgICAgIFRyYW5zZm9ybXMuc3BsaXROb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgYXQsXG4gICAgICAgIG1hdGNoOiBuID0+XG4gICAgICAgICAgaGFzQmxvY2tzXG4gICAgICAgICAgICA/IEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbilcbiAgICAgICAgICAgIDogVGV4dC5pc1RleHQobikgfHwgRWRpdG9yLmlzSW5saW5lKGVkaXRvciwgbiksXG4gICAgICAgIG1vZGU6IGhhc0Jsb2NrcyA/ICdsb3dlc3QnIDogJ2hpZ2hlc3QnLFxuICAgICAgICB2b2lkcyxcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHN0YXJ0UmVmID0gRWRpdG9yLnBhdGhSZWYoXG4gICAgICAgIGVkaXRvcixcbiAgICAgICAgIWlzSW5saW5lU3RhcnQgfHwgKGlzSW5saW5lU3RhcnQgJiYgaXNJbmxpbmVFbmQpXG4gICAgICAgICAgPyBQYXRoLm5leHQoaW5saW5lUGF0aClcbiAgICAgICAgICA6IGlubGluZVBhdGhcbiAgICAgIClcblxuICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIHN0YXJ0cywge1xuICAgICAgICBhdDogc3RhcnRSZWYuY3VycmVudCEsXG4gICAgICAgIG1hdGNoOiBuID0+IFRleHQuaXNUZXh0KG4pIHx8IEVkaXRvci5pc0lubGluZShlZGl0b3IsIG4pLFxuICAgICAgICBtb2RlOiAnaGlnaGVzdCcsXG4gICAgICAgIHZvaWRzLFxuICAgICAgfSlcblxuICAgICAgaWYgKGlzQmxvY2tFbXB0eSAmJiBtaWRkbGVzLmxlbmd0aCkge1xuICAgICAgICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHsgYXQ6IGJsb2NrUGF0aFJlZi51bnJlZigpISwgdm9pZHMgfSlcbiAgICAgIH1cblxuICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIG1pZGRsZXMsIHtcbiAgICAgICAgYXQ6IG1pZGRsZVJlZi5jdXJyZW50ISxcbiAgICAgICAgbWF0Y2g6IG4gPT4gRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKSxcbiAgICAgICAgbW9kZTogJ2xvd2VzdCcsXG4gICAgICAgIHZvaWRzLFxuICAgICAgfSlcblxuICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIGVuZHMsIHtcbiAgICAgICAgYXQ6IGVuZFJlZi5jdXJyZW50ISxcbiAgICAgICAgbWF0Y2g6IG4gPT4gVGV4dC5pc1RleHQobikgfHwgRWRpdG9yLmlzSW5saW5lKGVkaXRvciwgbiksXG4gICAgICAgIG1vZGU6ICdoaWdoZXN0JyxcbiAgICAgICAgdm9pZHMsXG4gICAgICB9KVxuXG4gICAgICBpZiAoIW9wdGlvbnMuYXQpIHtcbiAgICAgICAgbGV0IHBhdGhcblxuICAgICAgICBpZiAoZW5kcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcGF0aCA9IFBhdGgucHJldmlvdXMoZW5kUmVmLmN1cnJlbnQhKVxuICAgICAgICB9IGVsc2UgaWYgKG1pZGRsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHBhdGggPSBQYXRoLnByZXZpb3VzKG1pZGRsZVJlZi5jdXJyZW50ISlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXRoID0gUGF0aC5wcmV2aW91cyhzdGFydFJlZi5jdXJyZW50ISlcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVuZCA9IEVkaXRvci5lbmQoZWRpdG9yLCBwYXRoKVxuICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIGVuZClcbiAgICAgIH1cblxuICAgICAgc3RhcnRSZWYudW5yZWYoKVxuICAgICAgbWlkZGxlUmVmLnVucmVmKClcbiAgICAgIGVuZFJlZi51bnJlZigpXG4gICAgfSlcbiAgfSxcblxuICAvKipcbiAgICogSW5zZXJ0IGEgc3RyaW5nIG9mIHRleHQgaW4gdGhlIEVkaXRvci5cbiAgICovXG5cbiAgaW5zZXJ0VGV4dChcbiAgICBlZGl0b3I6IEVkaXRvcixcbiAgICB0ZXh0OiBzdHJpbmcsXG4gICAgb3B0aW9uczogVGV4dEluc2VydFRleHRPcHRpb25zID0ge31cbiAgKTogdm9pZCB7XG4gICAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgdm9pZHMgPSBmYWxzZSB9ID0gb3B0aW9uc1xuICAgICAgbGV0IHsgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uIH0gPSBvcHRpb25zXG5cbiAgICAgIGlmICghYXQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICAgICAgYXQgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCBhdClcbiAgICAgIH1cblxuICAgICAgaWYgKFJhbmdlLmlzUmFuZ2UoYXQpKSB7XG4gICAgICAgIGlmIChSYW5nZS5pc0NvbGxhcHNlZChhdCkpIHtcbiAgICAgICAgICBhdCA9IGF0LmFuY2hvclxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVuZCA9IFJhbmdlLmVuZChhdClcbiAgICAgICAgICBpZiAoIXZvaWRzICYmIEVkaXRvci52b2lkKGVkaXRvciwgeyBhdDogZW5kIH0pKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgc3RhcnQgPSBSYW5nZS5zdGFydChhdClcbiAgICAgICAgICBjb25zdCBzdGFydFJlZiA9IEVkaXRvci5wb2ludFJlZihlZGl0b3IsIHN0YXJ0KVxuICAgICAgICAgIGNvbnN0IGVuZFJlZiA9IEVkaXRvci5wb2ludFJlZihlZGl0b3IsIGVuZClcbiAgICAgICAgICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHsgYXQsIHZvaWRzIH0pXG4gICAgICAgICAgY29uc3Qgc3RhcnRQb2ludCA9IHN0YXJ0UmVmLnVucmVmKClcbiAgICAgICAgICBjb25zdCBlbmRQb2ludCA9IGVuZFJlZi51bnJlZigpXG5cbiAgICAgICAgICBhdCA9IHN0YXJ0UG9pbnQgfHwgZW5kUG9pbnQhXG4gICAgICAgICAgVHJhbnNmb3Jtcy5zZXRTZWxlY3Rpb24oZWRpdG9yLCB7IGFuY2hvcjogYXQsIGZvY3VzOiBhdCB9KVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghdm9pZHMgJiYgRWRpdG9yLnZvaWQoZWRpdG9yLCB7IGF0IH0pKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IHBhdGgsIG9mZnNldCB9ID0gYXRcbiAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDApXG4gICAgICAgIGVkaXRvci5hcHBseSh7IHR5cGU6ICdpbnNlcnRfdGV4dCcsIHBhdGgsIG9mZnNldCwgdGV4dCB9KVxuICAgIH0pXG4gIH0sXG59XG4iLCJpbXBvcnQgeyBHZW5lcmFsVHJhbnNmb3JtcyB9IGZyb20gJy4vZ2VuZXJhbCdcbmltcG9ydCB7IE5vZGVUcmFuc2Zvcm1zIH0gZnJvbSAnLi9ub2RlJ1xuaW1wb3J0IHsgU2VsZWN0aW9uVHJhbnNmb3JtcyB9IGZyb20gJy4vc2VsZWN0aW9uJ1xuaW1wb3J0IHsgVGV4dFRyYW5zZm9ybXMgfSBmcm9tICcuL3RleHQnXG5cbmV4cG9ydCBjb25zdCBUcmFuc2Zvcm1zOiBHZW5lcmFsVHJhbnNmb3JtcyAmXG4gIE5vZGVUcmFuc2Zvcm1zICZcbiAgU2VsZWN0aW9uVHJhbnNmb3JtcyAmXG4gIFRleHRUcmFuc2Zvcm1zID0ge1xuICAuLi5HZW5lcmFsVHJhbnNmb3JtcyxcbiAgLi4uTm9kZVRyYW5zZm9ybXMsXG4gIC4uLlNlbGVjdGlvblRyYW5zZm9ybXMsXG4gIC4uLlRleHRUcmFuc2Zvcm1zLFxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZGlyZWN0aW9uXG5cbnZhciBSVEwgPSAnXFx1MDU5MS1cXHUwN0ZGXFx1RkIxRC1cXHVGREZEXFx1RkU3MC1cXHVGRUZDJ1xudmFyIExUUiA9XG4gICdBLVphLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjYnICtcbiAgJ1xcdTAwRjgtXFx1MDJCOFxcdTAzMDAtXFx1MDU5MFxcdTA4MDAtXFx1MUZGRlxcdTIwMEVcXHUyQzAwLVxcdUZCMUMnICtcbiAgJ1xcdUZFMDAtXFx1RkU2RlxcdUZFRkQtXFx1RkZGRidcblxudmFyIHJ0bCA9IG5ldyBSZWdFeHAoJ15bXicgKyBMVFIgKyAnXSpbJyArIFJUTCArICddJylcbnZhciBsdHIgPSBuZXcgUmVnRXhwKCdeW14nICsgUlRMICsgJ10qWycgKyBMVFIgKyAnXScpXG5cbmZ1bmN0aW9uIGRpcmVjdGlvbih2YWx1ZSkge1xuICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSB8fCAnJylcblxuICBpZiAocnRsLnRlc3QodmFsdWUpKSB7XG4gICAgcmV0dXJuICdydGwnXG4gIH1cblxuICBpZiAobHRyLnRlc3QodmFsdWUpKSB7XG4gICAgcmV0dXJuICdsdHInXG4gIH1cblxuICByZXR1cm4gJ25ldXRyYWwnXG59XG4iLCJmdW5jdGlvbiBuKG4pe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkodD4xP3QtMTowKSxlPTE7ZTx0O2UrKylyW2UtMV09YXJndW1lbnRzW2VdO3Rocm93IEVycm9yKFwiW0ltbWVyXSBtaW5pZmllZCBlcnJvciBucjogXCIrbisoci5sZW5ndGg/XCIgXCIrci5tYXAoKGZ1bmN0aW9uKG4pe3JldHVyblwiJ1wiK24rXCInXCJ9KSkuam9pbihcIixcIik6XCJcIikrXCIuIEZpbmQgdGhlIGZ1bGwgZXJyb3IgYXQ6IGh0dHBzOi8vYml0Lmx5LzNjWEVLV2ZcIil9ZnVuY3Rpb24gdChuKXtyZXR1cm4hIW4mJiEhbltIXX1mdW5jdGlvbiByKG4pe3JldHVybiEhbiYmKGZ1bmN0aW9uKG4pe2lmKCFufHxcIm9iamVjdFwiIT10eXBlb2YgbilyZXR1cm4hMTt2YXIgdD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PXQpcmV0dXJuITA7dmFyIHI9T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodCxcImNvbnN0cnVjdG9yXCIpJiZ0LmNvbnN0cnVjdG9yO3JldHVybiByPT09T2JqZWN0fHxcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZGdW5jdGlvbi50b1N0cmluZy5jYWxsKHIpPT09UX0obil8fEFycmF5LmlzQXJyYXkobil8fCEhbltHXXx8ISFuLmNvbnN0cnVjdG9yW0ddfHxjKG4pfHx2KG4pKX1mdW5jdGlvbiBlKG4sdCxyKXt2b2lkIDA9PT1yJiYocj0hMSksMD09PWkobik/KHI/T2JqZWN0LmtleXM6VCkobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ciYmXCJzeW1ib2xcIj09dHlwZW9mIGV8fHQoZSxuW2VdLG4pfSkpOm4uZm9yRWFjaCgoZnVuY3Rpb24ocixlKXtyZXR1cm4gdChlLHIsbil9KSl9ZnVuY3Rpb24gaShuKXt2YXIgdD1uW0hdO3JldHVybiB0P3QudD4zP3QudC00OnQudDpBcnJheS5pc0FycmF5KG4pPzE6YyhuKT8yOnYobik/MzowfWZ1bmN0aW9uIHUobix0KXtyZXR1cm4gMj09PWkobik/bi5oYXModCk6T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sdCl9ZnVuY3Rpb24gbyhuLHQpe3JldHVybiAyPT09aShuKT9uLmdldCh0KTpuW3RdfWZ1bmN0aW9uIGYobix0LHIpe3ZhciBlPWkobik7Mj09PWU/bi5zZXQodCxyKTozPT09ZT8obi5kZWxldGUodCksbi5hZGQocikpOm5bdF09cn1mdW5jdGlvbiBhKG4sdCl7cmV0dXJuIG49PT10PzAhPT1ufHwxL249PTEvdDpuIT1uJiZ0IT10fWZ1bmN0aW9uIGMobil7cmV0dXJuIFcmJm4gaW5zdGFuY2VvZiBNYXB9ZnVuY3Rpb24gdihuKXtyZXR1cm4gWCYmbiBpbnN0YW5jZW9mIFNldH1mdW5jdGlvbiBzKG4pe3JldHVybiBuLml8fG4udX1mdW5jdGlvbiBwKG4pe2lmKEFycmF5LmlzQXJyYXkobikpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pO3ZhciB0PVUobik7ZGVsZXRlIHRbSF07Zm9yKHZhciByPVQodCksZT0wO2U8ci5sZW5ndGg7ZSsrKXt2YXIgaT1yW2VdLHU9dFtpXTshMT09PXUud3JpdGFibGUmJih1LndyaXRhYmxlPSEwLHUuY29uZmlndXJhYmxlPSEwKSwodS5nZXR8fHUuc2V0KSYmKHRbaV09e2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCxlbnVtZXJhYmxlOnUuZW51bWVyYWJsZSx2YWx1ZTpuW2ldfSl9cmV0dXJuIE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKG4pLHQpfWZ1bmN0aW9uIGwobix1KXtyZXR1cm4gdm9pZCAwPT09dSYmKHU9ITEpLGgobil8fHQobil8fCFyKG4pP246KGkobik+MSYmKG4uc2V0PW4uYWRkPW4uY2xlYXI9bi5kZWxldGU9ZCksT2JqZWN0LmZyZWV6ZShuKSx1JiZlKG4sKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIGwodCwhMCl9KSwhMCksbil9ZnVuY3Rpb24gZCgpe24oMil9ZnVuY3Rpb24gaChuKXtyZXR1cm4gbnVsbD09bnx8XCJvYmplY3RcIiE9dHlwZW9mIG58fE9iamVjdC5pc0Zyb3plbihuKX1mdW5jdGlvbiB5KHQpe3ZhciByPVZbdF07cmV0dXJuIHJ8fG4oMTgsdCkscn1mdW5jdGlvbiBfKG4sdCl7VltuXXx8KFZbbl09dCl9ZnVuY3Rpb24gYigpe3JldHVybiBKfWZ1bmN0aW9uIG0obix0KXt0JiYoeShcIlBhdGNoZXNcIiksbi5vPVtdLG4udj1bXSxuLnM9dCl9ZnVuY3Rpb24gaihuKXtPKG4pLG4ucC5mb3JFYWNoKHcpLG4ucD1udWxsfWZ1bmN0aW9uIE8obil7bj09PUomJihKPW4ubCl9ZnVuY3Rpb24geChuKXtyZXR1cm4gSj17cDpbXSxsOkosaDpuLF86ITAsbTowfX1mdW5jdGlvbiB3KG4pe3ZhciB0PW5bSF07MD09PXQudHx8MT09PXQudD90LmooKTp0Lk89ITB9ZnVuY3Rpb24gUyh0LGUpe2UubT1lLnAubGVuZ3RoO3ZhciBpPWUucFswXSx1PXZvaWQgMCE9PXQmJnQhPT1pO3JldHVybiBlLmguU3x8eShcIkVTNVwiKS5QKGUsdCx1KSx1PyhpW0hdLk0mJihqKGUpLG4oNCkpLHIodCkmJih0PVAoZSx0KSxlLmx8fGcoZSx0KSksZS5vJiZ5KFwiUGF0Y2hlc1wiKS5nKGlbSF0udSx0LGUubyxlLnYpKTp0PVAoZSxpLFtdKSxqKGUpLGUubyYmZS5zKGUubyxlLnYpLHQhPT1CP3Q6dm9pZCAwfWZ1bmN0aW9uIFAobix0LHIpe2lmKGgodCkpcmV0dXJuIHQ7dmFyIGk9dFtIXTtpZighaSlyZXR1cm4gZSh0LChmdW5jdGlvbihlLHUpe3JldHVybiBNKG4saSx0LGUsdSxyKX0pLCEwKSx0O2lmKGkuQSE9PW4pcmV0dXJuIHQ7aWYoIWkuTSlyZXR1cm4gZyhuLGkudSwhMCksaS51O2lmKCFpLlIpe2kuUj0hMCxpLkEubS0tO3ZhciB1PTQ9PT1pLnR8fDU9PT1pLnQ/aS5pPXAoaS5rKTppLmk7ZSgzPT09aS50P25ldyBTZXQodSk6dSwoZnVuY3Rpb24odCxlKXtyZXR1cm4gTShuLGksdSx0LGUscil9KSksZyhuLHUsITEpLHImJm4ubyYmeShcIlBhdGNoZXNcIikuRihpLHIsbi5vLG4udil9cmV0dXJuIGkuaX1mdW5jdGlvbiBNKG4sZSxpLG8sYSxjKXtpZih0KGEpKXt2YXIgdj1QKG4sYSxjJiZlJiYzIT09ZS50JiYhdShlLkQsbyk/Yy5jb25jYXQobyk6dm9pZCAwKTtpZihmKGksbyx2KSwhdCh2KSlyZXR1cm47bi5fPSExfWlmKHIoYSkmJiFoKGEpKXtpZighbi5oLksmJm4ubTwxKXJldHVybjtQKG4sYSksZSYmZS5BLmx8fGcobixhKX19ZnVuY3Rpb24gZyhuLHQscil7dm9pZCAwPT09ciYmKHI9ITEpLG4uaC5LJiZuLl8mJmwodCxyKX1mdW5jdGlvbiBBKG4sdCl7dmFyIHI9bltIXTtyZXR1cm4ocj9zKHIpOm4pW3RdfWZ1bmN0aW9uIHoobix0KXtpZih0IGluIG4pZm9yKHZhciByPU9iamVjdC5nZXRQcm90b3R5cGVPZihuKTtyOyl7dmFyIGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpO2lmKGUpcmV0dXJuIGU7cj1PYmplY3QuZ2V0UHJvdG90eXBlT2Yocil9fWZ1bmN0aW9uIEUobil7bi5NfHwobi5NPSEwLG4ubCYmRShuLmwpKX1mdW5jdGlvbiBSKG4pe24uaXx8KG4uaT1wKG4udSkpfWZ1bmN0aW9uIGsobix0LHIpe3ZhciBlPWModCk/eShcIk1hcFNldFwiKS4kKHQscik6dih0KT95KFwiTWFwU2V0XCIpLkModCxyKTpuLlM/ZnVuY3Rpb24obix0KXt2YXIgcj1BcnJheS5pc0FycmF5KG4pLGU9e3Q6cj8xOjAsQTp0P3QuQTpiKCksTTohMSxSOiExLEQ6e30sbDp0LHU6bixrOm51bGwsaTpudWxsLGo6bnVsbCxJOiExfSxpPWUsdT1ZO3ImJihpPVtlXSx1PVopO3ZhciBvPVByb3h5LnJldm9jYWJsZShpLHUpLGY9by5yZXZva2UsYT1vLnByb3h5O3JldHVybiBlLms9YSxlLmo9ZixhfSh0LHIpOnkoXCJFUzVcIikuSih0LHIpO3JldHVybihyP3IuQTpiKCkpLnAucHVzaChlKSxlfWZ1bmN0aW9uIEYodSl7cmV0dXJuIHQodSl8fG4oMjIsdSksZnVuY3Rpb24gbih0KXtpZighcih0KSlyZXR1cm4gdDt2YXIgdSxhPXRbSF0sYz1pKHQpO2lmKGEpe2lmKCFhLk0mJihhLnQ8NHx8IXkoXCJFUzVcIikuTihhKSkpcmV0dXJuIGEudTthLlI9ITAsdT1EKHQsYyksYS5SPSExfWVsc2UgdT1EKHQsYyk7cmV0dXJuIGUodSwoZnVuY3Rpb24odCxyKXthJiZvKGEudSx0KT09PXJ8fGYodSx0LG4ocikpfSkpLDM9PT1jP25ldyBTZXQodSk6dX0odSl9ZnVuY3Rpb24gRChuLHQpe3N3aXRjaCh0KXtjYXNlIDI6cmV0dXJuIG5ldyBNYXAobik7Y2FzZSAzOnJldHVybiBBcnJheS5mcm9tKG4pfXJldHVybiBwKG4pfWZ1bmN0aW9uIEsoKXtmdW5jdGlvbiBuKG4sdCl7dmFyIHI9ZltuXTtyZXR1cm4gcj9yLmVudW1lcmFibGU9dDpmW25dPXI9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOnQsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFkuZ2V0KHRoaXNbSF0sbil9LHNldDpmdW5jdGlvbih0KXtZLnNldCh0aGlzW0hdLG4sdCl9fSxyfWZ1bmN0aW9uIHIobil7Zm9yKHZhciB0PW4ubGVuZ3RoLTE7dD49MDt0LS0pe3ZhciByPW5bdF1bSF07aWYoIXIuTSlzd2l0Y2goci50KXtjYXNlIDU6byhyKSYmRShyKTticmVhaztjYXNlIDQ6aShyKSYmRShyKX19fWZ1bmN0aW9uIGkobil7Zm9yKHZhciB0PW4udSxyPW4uayxlPVQociksaT1lLmxlbmd0aC0xO2k+PTA7aS0tKXt2YXIgbz1lW2ldO2lmKG8hPT1IKXt2YXIgZj10W29dO2lmKHZvaWQgMD09PWYmJiF1KHQsbykpcmV0dXJuITA7dmFyIGM9cltvXSx2PWMmJmNbSF07aWYodj92LnUhPT1mOiFhKGMsZikpcmV0dXJuITB9fXZhciBzPSEhdFtIXTtyZXR1cm4gZS5sZW5ndGghPT1UKHQpLmxlbmd0aCsocz8wOjEpfWZ1bmN0aW9uIG8obil7dmFyIHQ9bi5rO2lmKHQubGVuZ3RoIT09bi51Lmxlbmd0aClyZXR1cm4hMDt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsdC5sZW5ndGgtMSk7aWYociYmIXIuZ2V0KXJldHVybiEwO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKCF0Lmhhc093blByb3BlcnR5KGUpKXJldHVybiEwO3JldHVybiExfXZhciBmPXt9O18oXCJFUzVcIix7SjpmdW5jdGlvbih0LHIpe3ZhciBlPUFycmF5LmlzQXJyYXkodCksaT1mdW5jdGlvbih0LHIpe2lmKHQpe2Zvcih2YXIgZT1BcnJheShyLmxlbmd0aCksaT0wO2k8ci5sZW5ndGg7aSsrKU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiXCIraSxuKGksITApKTtyZXR1cm4gZX12YXIgdT1VKHIpO2RlbGV0ZSB1W0hdO2Zvcih2YXIgbz1UKHUpLGY9MDtmPG8ubGVuZ3RoO2YrKyl7dmFyIGE9b1tmXTt1W2FdPW4oYSx0fHwhIXVbYV0uZW51bWVyYWJsZSl9cmV0dXJuIE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHIpLHUpfShlLHQpLHU9e3Q6ZT81OjQsQTpyP3IuQTpiKCksTTohMSxSOiExLEQ6e30sbDpyLHU6dCxrOmksaTpudWxsLE86ITEsSTohMX07cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLEgse3ZhbHVlOnUsd3JpdGFibGU6ITB9KSxpfSxQOmZ1bmN0aW9uKG4saSxmKXtmP3QoaSkmJmlbSF0uQT09PW4mJnIobi5wKToobi5vJiZmdW5jdGlvbiBuKHQpe2lmKHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0KXt2YXIgcj10W0hdO2lmKHIpe3ZhciBpPXIudSxmPXIuayxhPXIuRCxjPXIudDtpZig0PT09YyllKGYsKGZ1bmN0aW9uKHQpe3QhPT1IJiYodm9pZCAwIT09aVt0XXx8dShpLHQpP2FbdF18fG4oZlt0XSk6KGFbdF09ITAsRShyKSkpfSkpLGUoaSwoZnVuY3Rpb24obil7dm9pZCAwIT09ZltuXXx8dShmLG4pfHwoYVtuXT0hMSxFKHIpKX0pKTtlbHNlIGlmKDU9PT1jKXtpZihvKHIpJiYoRShyKSxhLmxlbmd0aD0hMCksZi5sZW5ndGg8aS5sZW5ndGgpZm9yKHZhciB2PWYubGVuZ3RoO3Y8aS5sZW5ndGg7disrKWFbdl09ITE7ZWxzZSBmb3IodmFyIHM9aS5sZW5ndGg7czxmLmxlbmd0aDtzKyspYVtzXT0hMDtmb3IodmFyIHA9TWF0aC5taW4oZi5sZW5ndGgsaS5sZW5ndGgpLGw9MDtsPHA7bCsrKWYuaGFzT3duUHJvcGVydHkobCl8fChhW2xdPSEwKSx2b2lkIDA9PT1hW2xdJiZuKGZbbF0pfX19fShuLnBbMF0pLHIobi5wKSl9LE46ZnVuY3Rpb24obil7cmV0dXJuIDQ9PT1uLnQ/aShuKTpvKG4pfX0pfWZ1bmN0aW9uICQoKXtmdW5jdGlvbiBmKG4pe2lmKCFyKG4pKXJldHVybiBuO2lmKEFycmF5LmlzQXJyYXkobikpcmV0dXJuIG4ubWFwKGYpO2lmKGMobikpcmV0dXJuIG5ldyBNYXAoQXJyYXkuZnJvbShuLmVudHJpZXMoKSkubWFwKChmdW5jdGlvbihuKXtyZXR1cm5bblswXSxmKG5bMV0pXX0pKSk7aWYodihuKSlyZXR1cm4gbmV3IFNldChBcnJheS5mcm9tKG4pLm1hcChmKSk7dmFyIHQ9T2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YobikpO2Zvcih2YXIgZSBpbiBuKXRbZV09ZihuW2VdKTtyZXR1cm4gdShuLEcpJiYodFtHXT1uW0ddKSx0fWZ1bmN0aW9uIGEobil7cmV0dXJuIHQobik/ZihuKTpufXZhciBzPVwiYWRkXCI7XyhcIlBhdGNoZXNcIix7VzpmdW5jdGlvbih0LHIpe3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKHIpe2Zvcih2YXIgZT1yLnBhdGgsdT1yLm9wLGE9dCxjPTA7YzxlLmxlbmd0aC0xO2MrKyl7dmFyIHY9aShhKSxwPVwiXCIrZVtjXTswIT09diYmMSE9PXZ8fFwiX19wcm90b19fXCIhPT1wJiZcImNvbnN0cnVjdG9yXCIhPT1wfHxuKDI0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiZcInByb3RvdHlwZVwiPT09cCYmbigyNCksXCJvYmplY3RcIiE9dHlwZW9mKGE9byhhLHApKSYmbigxNSxlLmpvaW4oXCIvXCIpKX12YXIgbD1pKGEpLGQ9ZihyLnZhbHVlKSxoPWVbZS5sZW5ndGgtMV07c3dpdGNoKHUpe2Nhc2VcInJlcGxhY2VcIjpzd2l0Y2gobCl7Y2FzZSAyOnJldHVybiBhLnNldChoLGQpO2Nhc2UgMzpuKDE2KTtkZWZhdWx0OnJldHVybiBhW2hdPWR9Y2FzZSBzOnN3aXRjaChsKXtjYXNlIDE6cmV0dXJuXCItXCI9PT1oP2EucHVzaChkKTphLnNwbGljZShoLDAsZCk7Y2FzZSAyOnJldHVybiBhLnNldChoLGQpO2Nhc2UgMzpyZXR1cm4gYS5hZGQoZCk7ZGVmYXVsdDpyZXR1cm4gYVtoXT1kfWNhc2VcInJlbW92ZVwiOnN3aXRjaChsKXtjYXNlIDE6cmV0dXJuIGEuc3BsaWNlKGgsMSk7Y2FzZSAyOnJldHVybiBhLmRlbGV0ZShoKTtjYXNlIDM6cmV0dXJuIGEuZGVsZXRlKHIudmFsdWUpO2RlZmF1bHQ6cmV0dXJuIGRlbGV0ZSBhW2hdfWRlZmF1bHQ6bigxNyx1KX19KSksdH0sRjpmdW5jdGlvbihuLHQscixpKXtzd2l0Y2gobi50KXtjYXNlIDA6Y2FzZSA0OmNhc2UgMjpyZXR1cm4gZnVuY3Rpb24obix0LHIsaSl7dmFyIGY9bi51LGM9bi5pO2Uobi5ELChmdW5jdGlvbihuLGUpe3ZhciB2PW8oZixuKSxwPW8oYyxuKSxsPWU/dShmLG4pP1wicmVwbGFjZVwiOnM6XCJyZW1vdmVcIjtpZih2IT09cHx8XCJyZXBsYWNlXCIhPT1sKXt2YXIgZD10LmNvbmNhdChuKTtyLnB1c2goXCJyZW1vdmVcIj09PWw/e29wOmwscGF0aDpkfTp7b3A6bCxwYXRoOmQsdmFsdWU6cH0pLGkucHVzaChsPT09cz97b3A6XCJyZW1vdmVcIixwYXRoOmR9OlwicmVtb3ZlXCI9PT1sP3tvcDpzLHBhdGg6ZCx2YWx1ZTphKHYpfTp7b3A6XCJyZXBsYWNlXCIscGF0aDpkLHZhbHVlOmEodil9KX19KSl9KG4sdCxyLGkpO2Nhc2UgNTpjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKG4sdCxyLGUpe3ZhciBpPW4udSx1PW4uRCxvPW4uaTtpZihvLmxlbmd0aDxpLmxlbmd0aCl7dmFyIGY9W28saV07aT1mWzBdLG89ZlsxXTt2YXIgYz1bZSxyXTtyPWNbMF0sZT1jWzFdfWZvcih2YXIgdj0wO3Y8aS5sZW5ndGg7disrKWlmKHVbdl0mJm9bdl0hPT1pW3ZdKXt2YXIgcD10LmNvbmNhdChbdl0pO3IucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpwLHZhbHVlOmEob1t2XSl9KSxlLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6cCx2YWx1ZTphKGlbdl0pfSl9Zm9yKHZhciBsPWkubGVuZ3RoO2w8by5sZW5ndGg7bCsrKXt2YXIgZD10LmNvbmNhdChbbF0pO3IucHVzaCh7b3A6cyxwYXRoOmQsdmFsdWU6YShvW2xdKX0pfWkubGVuZ3RoPG8ubGVuZ3RoJiZlLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6dC5jb25jYXQoW1wibGVuZ3RoXCJdKSx2YWx1ZTppLmxlbmd0aH0pfShuLHQscixpKTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKG4sdCxyLGUpe3ZhciBpPW4udSx1PW4uaSxvPTA7aS5mb3JFYWNoKChmdW5jdGlvbihuKXtpZighdS5oYXMobikpe3ZhciBpPXQuY29uY2F0KFtvXSk7ci5wdXNoKHtvcDpcInJlbW92ZVwiLHBhdGg6aSx2YWx1ZTpufSksZS51bnNoaWZ0KHtvcDpzLHBhdGg6aSx2YWx1ZTpufSl9bysrfSkpLG89MCx1LmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKCFpLmhhcyhuKSl7dmFyIHU9dC5jb25jYXQoW29dKTtyLnB1c2goe29wOnMscGF0aDp1LHZhbHVlOm59KSxlLnVuc2hpZnQoe29wOlwicmVtb3ZlXCIscGF0aDp1LHZhbHVlOm59KX1vKyt9KSl9KG4sdCxyLGkpfX0sZzpmdW5jdGlvbihuLHQscixlKXtyLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6W10sdmFsdWU6dD09PUI/dm9pZCAwOnR9KSxlLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6W10sdmFsdWU6bn0pfX0pfWZ1bmN0aW9uIEMoKXtmdW5jdGlvbiB0KG4sdCl7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9bn1mKG4sdCksbi5wcm90b3R5cGU9KHIucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyByKX1mdW5jdGlvbiBpKG4pe24uaXx8KG4uRD1uZXcgTWFwLG4uaT1uZXcgTWFwKG4udSkpfWZ1bmN0aW9uIHUobil7bi5pfHwobi5pPW5ldyBTZXQsbi51LmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKHIodCkpe3ZhciBlPWsobi5BLmgsdCxuKTtuLnAuc2V0KHQsZSksbi5pLmFkZChlKX1lbHNlIG4uaS5hZGQodCl9KSkpfWZ1bmN0aW9uIG8odCl7dC5PJiZuKDMsSlNPTi5zdHJpbmdpZnkocyh0KSkpfXZhciBmPWZ1bmN0aW9uKG4sdCl7cmV0dXJuKGY9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKG4sdCl7bi5fX3Byb3RvX189dH18fGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciByIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShyKSYmKG5bcl09dFtyXSl9KShuLHQpfSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHQpe3JldHVybiB0aGlzW0hdPXt0OjIsbDp0LEE6dD90LkE6YigpLE06ITEsUjohMSxpOnZvaWQgMCxEOnZvaWQgMCx1Om4sazp0aGlzLEk6ITEsTzohMX0sdGhpc310KG4sTWFwKTt2YXIgdT1uLnByb3RvdHlwZTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHUsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBzKHRoaXNbSF0pLnNpemV9fSksdS5oYXM9ZnVuY3Rpb24obil7cmV0dXJuIHModGhpc1tIXSkuaGFzKG4pfSx1LnNldD1mdW5jdGlvbihuLHQpe3ZhciByPXRoaXNbSF07cmV0dXJuIG8ocikscyhyKS5oYXMobikmJnMocikuZ2V0KG4pPT09dHx8KGkociksRShyKSxyLkQuc2V0KG4sITApLHIuaS5zZXQobix0KSxyLkQuc2V0KG4sITApKSx0aGlzfSx1LmRlbGV0ZT1mdW5jdGlvbihuKXtpZighdGhpcy5oYXMobikpcmV0dXJuITE7dmFyIHQ9dGhpc1tIXTtyZXR1cm4gbyh0KSxpKHQpLEUodCksdC51LmhhcyhuKT90LkQuc2V0KG4sITEpOnQuRC5kZWxldGUobiksdC5pLmRlbGV0ZShuKSwhMH0sdS5jbGVhcj1mdW5jdGlvbigpe3ZhciBuPXRoaXNbSF07byhuKSxzKG4pLnNpemUmJihpKG4pLEUobiksbi5EPW5ldyBNYXAsZShuLnUsKGZ1bmN0aW9uKHQpe24uRC5zZXQodCwhMSl9KSksbi5pLmNsZWFyKCkpfSx1LmZvckVhY2g9ZnVuY3Rpb24obix0KXt2YXIgcj10aGlzO3ModGhpc1tIXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSxpKXtuLmNhbGwodCxyLmdldChpKSxpLHIpfSkpfSx1LmdldD1mdW5jdGlvbihuKXt2YXIgdD10aGlzW0hdO28odCk7dmFyIGU9cyh0KS5nZXQobik7aWYodC5SfHwhcihlKSlyZXR1cm4gZTtpZihlIT09dC51LmdldChuKSlyZXR1cm4gZTt2YXIgdT1rKHQuQS5oLGUsdCk7cmV0dXJuIGkodCksdC5pLnNldChuLHUpLHV9LHUua2V5cz1mdW5jdGlvbigpe3JldHVybiBzKHRoaXNbSF0pLmtleXMoKX0sdS52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgbix0PXRoaXMscj10aGlzLmtleXMoKTtyZXR1cm4obj17fSlbTF09ZnVuY3Rpb24oKXtyZXR1cm4gdC52YWx1ZXMoKX0sbi5uZXh0PWZ1bmN0aW9uKCl7dmFyIG49ci5uZXh0KCk7cmV0dXJuIG4uZG9uZT9uOntkb25lOiExLHZhbHVlOnQuZ2V0KG4udmFsdWUpfX0sbn0sdS5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIG4sdD10aGlzLHI9dGhpcy5rZXlzKCk7cmV0dXJuKG49e30pW0xdPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZW50cmllcygpfSxuLm5leHQ9ZnVuY3Rpb24oKXt2YXIgbj1yLm5leHQoKTtpZihuLmRvbmUpcmV0dXJuIG47dmFyIGU9dC5nZXQobi52YWx1ZSk7cmV0dXJue2RvbmU6ITEsdmFsdWU6W24udmFsdWUsZV19fSxufSx1W0xdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfSxufSgpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sdCl7cmV0dXJuIHRoaXNbSF09e3Q6MyxsOnQsQTp0P3QuQTpiKCksTTohMSxSOiExLGk6dm9pZCAwLHU6bixrOnRoaXMscDpuZXcgTWFwLE86ITEsSTohMX0sdGhpc310KG4sU2V0KTt2YXIgcj1uLnByb3RvdHlwZTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBzKHRoaXNbSF0pLnNpemV9fSksci5oYXM9ZnVuY3Rpb24obil7dmFyIHQ9dGhpc1tIXTtyZXR1cm4gbyh0KSx0Lmk/ISF0LmkuaGFzKG4pfHwhKCF0LnAuaGFzKG4pfHwhdC5pLmhhcyh0LnAuZ2V0KG4pKSk6dC51LmhhcyhuKX0sci5hZGQ9ZnVuY3Rpb24obil7dmFyIHQ9dGhpc1tIXTtyZXR1cm4gbyh0KSx0aGlzLmhhcyhuKXx8KHUodCksRSh0KSx0LmkuYWRkKG4pKSx0aGlzfSxyLmRlbGV0ZT1mdW5jdGlvbihuKXtpZighdGhpcy5oYXMobikpcmV0dXJuITE7dmFyIHQ9dGhpc1tIXTtyZXR1cm4gbyh0KSx1KHQpLEUodCksdC5pLmRlbGV0ZShuKXx8ISF0LnAuaGFzKG4pJiZ0LmkuZGVsZXRlKHQucC5nZXQobikpfSxyLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIG49dGhpc1tIXTtvKG4pLHMobikuc2l6ZSYmKHUobiksRShuKSxuLmkuY2xlYXIoKSl9LHIudmFsdWVzPWZ1bmN0aW9uKCl7dmFyIG49dGhpc1tIXTtyZXR1cm4gbyhuKSx1KG4pLG4uaS52YWx1ZXMoKX0sci5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIG49dGhpc1tIXTtyZXR1cm4gbyhuKSx1KG4pLG4uaS5lbnRyaWVzKCl9LHIua2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcygpfSxyW0xdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzKCl9LHIuZm9yRWFjaD1mdW5jdGlvbihuLHQpe2Zvcih2YXIgcj10aGlzLnZhbHVlcygpLGU9ci5uZXh0KCk7IWUuZG9uZTspbi5jYWxsKHQsZS52YWx1ZSxlLnZhbHVlLHRoaXMpLGU9ci5uZXh0KCl9LG59KCk7XyhcIk1hcFNldFwiLHskOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG5ldyBhKG4sdCl9LEM6ZnVuY3Rpb24obix0KXtyZXR1cm4gbmV3IGMobix0KX19KX12YXIgSTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgSixOPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2woXCJ4XCIpLFc9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1hcCxYPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTZXQscT1cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJveHkmJnZvaWQgMCE9PVByb3h5LnJldm9jYWJsZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QsQj1OP1N5bWJvbC5mb3IoXCJpbW1lci1ub3RoaW5nXCIpOigoST17fSlbXCJpbW1lci1ub3RoaW5nXCJdPSEwLEkpLEc9Tj9TeW1ib2wuZm9yKFwiaW1tZXItZHJhZnRhYmxlXCIpOlwiX18kaW1tZXJfZHJhZnRhYmxlXCIsSD1OP1N5bWJvbC5mb3IoXCJpbW1lci1zdGF0ZVwiKTpcIl9fJGltbWVyX3N0YXRlXCIsTD1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLFE9XCJcIitPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLFQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3Qub3duS2V5cz9SZWZsZWN0Lm93bktleXM6dm9pZCAwIT09T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbihuKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobikuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobikpfTpPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxVPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzfHxmdW5jdGlvbihuKXt2YXIgdD17fTtyZXR1cm4gVChuKS5mb3JFYWNoKChmdW5jdGlvbihyKXt0W3JdPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixyKX0pKSx0fSxWPXt9LFk9e2dldDpmdW5jdGlvbihuLHQpe2lmKHQ9PT1IKXJldHVybiBuO3ZhciBlPXMobik7aWYoIXUoZSx0KSlyZXR1cm4gZnVuY3Rpb24obix0LHIpe3ZhciBlLGk9eih0LHIpO3JldHVybiBpP1widmFsdWVcImluIGk/aS52YWx1ZTpudWxsPT09KGU9aS5nZXQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNhbGwobi5rKTp2b2lkIDB9KG4sZSx0KTt2YXIgaT1lW3RdO3JldHVybiBuLlJ8fCFyKGkpP2k6aT09PUEobi51LHQpPyhSKG4pLG4uaVt0XT1rKG4uQS5oLGksbikpOml9LGhhczpmdW5jdGlvbihuLHQpe3JldHVybiB0IGluIHMobil9LG93bktleXM6ZnVuY3Rpb24obil7cmV0dXJuIFJlZmxlY3Qub3duS2V5cyhzKG4pKX0sc2V0OmZ1bmN0aW9uKG4sdCxyKXt2YXIgZT16KHMobiksdCk7aWYobnVsbD09ZT92b2lkIDA6ZS5zZXQpcmV0dXJuIGUuc2V0LmNhbGwobi5rLHIpLCEwO2lmKCFuLk0pe3ZhciBpPUEocyhuKSx0KSxvPW51bGw9PWk/dm9pZCAwOmlbSF07aWYobyYmby51PT09cilyZXR1cm4gbi5pW3RdPXIsbi5EW3RdPSExLCEwO2lmKGEocixpKSYmKHZvaWQgMCE9PXJ8fHUobi51LHQpKSlyZXR1cm4hMDtSKG4pLEUobil9cmV0dXJuIG4uaVt0XT09PXImJlwibnVtYmVyXCIhPXR5cGVvZiByJiYodm9pZCAwIT09cnx8dCBpbiBuLmkpfHwobi5pW3RdPXIsbi5EW3RdPSEwLCEwKX0sZGVsZXRlUHJvcGVydHk6ZnVuY3Rpb24obix0KXtyZXR1cm4gdm9pZCAwIT09QShuLnUsdCl8fHQgaW4gbi51PyhuLkRbdF09ITEsUihuKSxFKG4pKTpkZWxldGUgbi5EW3RdLG4uaSYmZGVsZXRlIG4uaVt0XSwhMH0sZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOmZ1bmN0aW9uKG4sdCl7dmFyIHI9cyhuKSxlPVJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCk7cmV0dXJuIGU/e3dyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZToxIT09bi50fHxcImxlbmd0aFwiIT09dCxlbnVtZXJhYmxlOmUuZW51bWVyYWJsZSx2YWx1ZTpyW3RdfTplfSxkZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbigpe24oMTEpfSxnZXRQcm90b3R5cGVPZjpmdW5jdGlvbihuKXtyZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG4udSl9LHNldFByb3RvdHlwZU9mOmZ1bmN0aW9uKCl7bigxMil9fSxaPXt9O2UoWSwoZnVuY3Rpb24obix0KXtaW25dPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1hcmd1bWVudHNbMF1bMF0sdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSkpLFouZGVsZXRlUHJvcGVydHk9ZnVuY3Rpb24obix0KXtyZXR1cm4gWi5zZXQuY2FsbCh0aGlzLG4sdCx2b2lkIDApfSxaLnNldD1mdW5jdGlvbihuLHQscil7cmV0dXJuIFkuc2V0LmNhbGwodGhpcyxuWzBdLHQscixuWzBdKX07dmFyIG5uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXt2YXIgZT10aGlzO3RoaXMuUz1xLHRoaXMuSz0hMCx0aGlzLnByb2R1Y2U9ZnVuY3Rpb24odCxpLHUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGkpe3ZhciBvPWk7aT10O3ZhciBmPWU7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7dm9pZCAwPT09biYmKG49byk7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheShyPjE/ci0xOjApLHU9MTt1PHI7dSsrKWVbdS0xXT1hcmd1bWVudHNbdV07cmV0dXJuIGYucHJvZHVjZShuLChmdW5jdGlvbihuKXt2YXIgcjtyZXR1cm4ocj1pKS5jYWxsLmFwcGx5KHIsW3Qsbl0uY29uY2F0KGUpKX0pKX19dmFyIGE7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgaSYmbig2KSx2b2lkIDAhPT11JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB1JiZuKDcpLHIodCkpe3ZhciBjPXgoZSksdj1rKGUsdCx2b2lkIDApLHM9ITA7dHJ5e2E9aSh2KSxzPSExfWZpbmFsbHl7cz9qKGMpOk8oYyl9cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFByb21pc2UmJmEgaW5zdGFuY2VvZiBQcm9taXNlP2EudGhlbigoZnVuY3Rpb24obil7cmV0dXJuIG0oYyx1KSxTKG4sYyl9KSwoZnVuY3Rpb24obil7dGhyb3cgaihjKSxufSkpOihtKGMsdSksUyhhLGMpKX1pZighdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQpe2lmKHZvaWQgMD09PShhPWkodCkpJiYoYT10KSxhPT09QiYmKGE9dm9pZCAwKSxlLksmJmwoYSwhMCksdSl7dmFyIHA9W10sZD1bXTt5KFwiUGF0Y2hlc1wiKS5nKHQsYSxwLGQpLHUocCxkKX1yZXR1cm4gYX1uKDIxLHQpfSx0aGlzLnByb2R1Y2VXaXRoUGF0Y2hlcz1mdW5jdGlvbihuLHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pcmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLGk9QXJyYXkocj4xP3ItMTowKSx1PTE7dTxyO3UrKylpW3UtMV09YXJndW1lbnRzW3VdO3JldHVybiBlLnByb2R1Y2VXaXRoUGF0Y2hlcyh0LChmdW5jdGlvbih0KXtyZXR1cm4gbi5hcHBseSh2b2lkIDAsW3RdLmNvbmNhdChpKSl9KSl9O3ZhciByLGksdT1lLnByb2R1Y2Uobix0LChmdW5jdGlvbihuLHQpe3I9bixpPXR9KSk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFByb21pc2UmJnUgaW5zdGFuY2VvZiBQcm9taXNlP3UudGhlbigoZnVuY3Rpb24obil7cmV0dXJuW24scixpXX0pKTpbdSxyLGldfSxcImJvb2xlYW5cIj09dHlwZW9mKG51bGw9PXQ/dm9pZCAwOnQudXNlUHJveGllcykmJnRoaXMuc2V0VXNlUHJveGllcyh0LnVzZVByb3hpZXMpLFwiYm9vbGVhblwiPT10eXBlb2YobnVsbD09dD92b2lkIDA6dC5hdXRvRnJlZXplKSYmdGhpcy5zZXRBdXRvRnJlZXplKHQuYXV0b0ZyZWV6ZSl9dmFyIGk9ZS5wcm90b3R5cGU7cmV0dXJuIGkuY3JlYXRlRHJhZnQ9ZnVuY3Rpb24oZSl7cihlKXx8big4KSx0KGUpJiYoZT1GKGUpKTt2YXIgaT14KHRoaXMpLHU9ayh0aGlzLGUsdm9pZCAwKTtyZXR1cm4gdVtIXS5JPSEwLE8oaSksdX0saS5maW5pc2hEcmFmdD1mdW5jdGlvbihuLHQpe3ZhciByPShuJiZuW0hdKS5BO3JldHVybiBtKHIsdCksUyh2b2lkIDAscil9LGkuc2V0QXV0b0ZyZWV6ZT1mdW5jdGlvbihuKXt0aGlzLks9bn0saS5zZXRVc2VQcm94aWVzPWZ1bmN0aW9uKHQpe3QmJiFxJiZuKDIwKSx0aGlzLlM9dH0saS5hcHBseVBhdGNoZXM9ZnVuY3Rpb24obixyKXt2YXIgZTtmb3IoZT1yLmxlbmd0aC0xO2U+PTA7ZS0tKXt2YXIgaT1yW2VdO2lmKDA9PT1pLnBhdGgubGVuZ3RoJiZcInJlcGxhY2VcIj09PWkub3Ape249aS52YWx1ZTticmVha319ZT4tMSYmKHI9ci5zbGljZShlKzEpKTt2YXIgdT15KFwiUGF0Y2hlc1wiKS5XO3JldHVybiB0KG4pP3UobixyKTp0aGlzLnByb2R1Y2UobiwoZnVuY3Rpb24obil7cmV0dXJuIHUobixyKX0pKX0sZX0oKSx0bj1uZXcgbm4scm49dG4ucHJvZHVjZSxlbj10bi5wcm9kdWNlV2l0aFBhdGNoZXMuYmluZCh0biksdW49dG4uc2V0QXV0b0ZyZWV6ZS5iaW5kKHRuKSxvbj10bi5zZXRVc2VQcm94aWVzLmJpbmQodG4pLGZuPXRuLmFwcGx5UGF0Y2hlcy5iaW5kKHRuKSxhbj10bi5jcmVhdGVEcmFmdC5iaW5kKHRuKSxjbj10bi5maW5pc2hEcmFmdC5iaW5kKHRuKTtleHBvcnRzLkltbWVyPW5uLGV4cG9ydHMuYXBwbHlQYXRjaGVzPWZuLGV4cG9ydHMuY2FzdERyYWZ0PWZ1bmN0aW9uKG4pe3JldHVybiBufSxleHBvcnRzLmNhc3RJbW11dGFibGU9ZnVuY3Rpb24obil7cmV0dXJuIG59LGV4cG9ydHMuY3JlYXRlRHJhZnQ9YW4sZXhwb3J0cy5jdXJyZW50PUYsZXhwb3J0cy5kZWZhdWx0PXJuLGV4cG9ydHMuZW5hYmxlQWxsUGx1Z2lucz1mdW5jdGlvbigpe0soKSxDKCksJCgpfSxleHBvcnRzLmVuYWJsZUVTNT1LLGV4cG9ydHMuZW5hYmxlTWFwU2V0PUMsZXhwb3J0cy5lbmFibGVQYXRjaGVzPSQsZXhwb3J0cy5maW5pc2hEcmFmdD1jbixleHBvcnRzLmZyZWV6ZT1sLGV4cG9ydHMuaW1tZXJhYmxlPUcsZXhwb3J0cy5pc0RyYWZ0PXQsZXhwb3J0cy5pc0RyYWZ0YWJsZT1yLGV4cG9ydHMubm90aGluZz1CLGV4cG9ydHMub3JpZ2luYWw9ZnVuY3Rpb24ocil7cmV0dXJuIHQocil8fG4oMjMscikscltIXS51fSxleHBvcnRzLnByb2R1Y2U9cm4sZXhwb3J0cy5wcm9kdWNlV2l0aFBhdGNoZXM9ZW4sZXhwb3J0cy5zZXRBdXRvRnJlZXplPXVuLGV4cG9ydHMuc2V0VXNlUHJveGllcz1vbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltbWVyLmNqcy5wcm9kdWN0aW9uLm1pbi5qcy5tYXBcbiIsIlxuJ3VzZSBzdHJpY3QnXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9pbW1lci5janMucHJvZHVjdGlvbi5taW4uanMnKVxufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ltbWVyLmNqcy5kZXZlbG9wbWVudC5qcycpXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbi8qKlxuICogQ29uc3RhbnRzLlxuICovXG5cbnZhciBJU19NQUMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIC9NYWN8aVBvZHxpUGhvbmV8aVBhZC8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtKTtcblxudmFyIE1PRElGSUVSUyA9IHtcbiAgYWx0OiAnYWx0S2V5JyxcbiAgY29udHJvbDogJ2N0cmxLZXknLFxuICBtZXRhOiAnbWV0YUtleScsXG4gIHNoaWZ0OiAnc2hpZnRLZXknXG59O1xuXG52YXIgQUxJQVNFUyA9IHtcbiAgYWRkOiAnKycsXG4gIGJyZWFrOiAncGF1c2UnLFxuICBjbWQ6ICdtZXRhJyxcbiAgY29tbWFuZDogJ21ldGEnLFxuICBjdGw6ICdjb250cm9sJyxcbiAgY3RybDogJ2NvbnRyb2wnLFxuICBkZWw6ICdkZWxldGUnLFxuICBkb3duOiAnYXJyb3dkb3duJyxcbiAgZXNjOiAnZXNjYXBlJyxcbiAgaW5zOiAnaW5zZXJ0JyxcbiAgbGVmdDogJ2Fycm93bGVmdCcsXG4gIG1vZDogSVNfTUFDID8gJ21ldGEnIDogJ2NvbnRyb2wnLFxuICBvcHQ6ICdhbHQnLFxuICBvcHRpb246ICdhbHQnLFxuICByZXR1cm46ICdlbnRlcicsXG4gIHJpZ2h0OiAnYXJyb3dyaWdodCcsXG4gIHNwYWNlOiAnICcsXG4gIHNwYWNlYmFyOiAnICcsXG4gIHVwOiAnYXJyb3d1cCcsXG4gIHdpbjogJ21ldGEnLFxuICB3aW5kb3dzOiAnbWV0YSdcbn07XG5cbnZhciBDT0RFUyA9IHtcbiAgYmFja3NwYWNlOiA4LFxuICB0YWI6IDksXG4gIGVudGVyOiAxMyxcbiAgc2hpZnQ6IDE2LFxuICBjb250cm9sOiAxNyxcbiAgYWx0OiAxOCxcbiAgcGF1c2U6IDE5LFxuICBjYXBzbG9jazogMjAsXG4gIGVzY2FwZTogMjcsXG4gICcgJzogMzIsXG4gIHBhZ2V1cDogMzMsXG4gIHBhZ2Vkb3duOiAzNCxcbiAgZW5kOiAzNSxcbiAgaG9tZTogMzYsXG4gIGFycm93bGVmdDogMzcsXG4gIGFycm93dXA6IDM4LFxuICBhcnJvd3JpZ2h0OiAzOSxcbiAgYXJyb3dkb3duOiA0MCxcbiAgaW5zZXJ0OiA0NSxcbiAgZGVsZXRlOiA0NixcbiAgbWV0YTogOTEsXG4gIG51bWxvY2s6IDE0NCxcbiAgc2Nyb2xsbG9jazogMTQ1LFxuICAnOyc6IDE4NixcbiAgJz0nOiAxODcsXG4gICcsJzogMTg4LFxuICAnLSc6IDE4OSxcbiAgJy4nOiAxOTAsXG4gICcvJzogMTkxLFxuICAnYCc6IDE5MixcbiAgJ1snOiAyMTksXG4gICdcXFxcJzogMjIwLFxuICAnXSc6IDIyMSxcbiAgJ1xcJyc6IDIyMlxufTtcblxuZm9yICh2YXIgZiA9IDE7IGYgPCAyMDsgZisrKSB7XG4gIENPREVTWydmJyArIGZdID0gMTExICsgZjtcbn1cblxuLyoqXG4gKiBJcyBob3RrZXk/XG4gKi9cblxuZnVuY3Rpb24gaXNIb3RrZXkoaG90a2V5LCBvcHRpb25zLCBldmVudCkge1xuICBpZiAob3B0aW9ucyAmJiAhKCdieUtleScgaW4gb3B0aW9ucykpIHtcbiAgICBldmVudCA9IG9wdGlvbnM7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cblxuICBpZiAoIUFycmF5LmlzQXJyYXkoaG90a2V5KSkge1xuICAgIGhvdGtleSA9IFtob3RrZXldO1xuICB9XG5cbiAgdmFyIGFycmF5ID0gaG90a2V5Lm1hcChmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHBhcnNlSG90a2V5KHN0cmluZywgb3B0aW9ucyk7XG4gIH0pO1xuICB2YXIgY2hlY2sgPSBmdW5jdGlvbiBjaGVjayhlKSB7XG4gICAgcmV0dXJuIGFycmF5LnNvbWUoZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvbXBhcmVIb3RrZXkob2JqZWN0LCBlKTtcbiAgICB9KTtcbiAgfTtcbiAgdmFyIHJldCA9IGV2ZW50ID09IG51bGwgPyBjaGVjayA6IGNoZWNrKGV2ZW50KTtcbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gaXNDb2RlSG90a2V5KGhvdGtleSwgZXZlbnQpIHtcbiAgcmV0dXJuIGlzSG90a2V5KGhvdGtleSwgZXZlbnQpO1xufVxuXG5mdW5jdGlvbiBpc0tleUhvdGtleShob3RrZXksIGV2ZW50KSB7XG4gIHJldHVybiBpc0hvdGtleShob3RrZXksIHsgYnlLZXk6IHRydWUgfSwgZXZlbnQpO1xufVxuXG4vKipcbiAqIFBhcnNlLlxuICovXG5cbmZ1bmN0aW9uIHBhcnNlSG90a2V5KGhvdGtleSwgb3B0aW9ucykge1xuICB2YXIgYnlLZXkgPSBvcHRpb25zICYmIG9wdGlvbnMuYnlLZXk7XG4gIHZhciByZXQgPSB7fTtcblxuICAvLyBTcGVjaWFsIGNhc2UgdG8gaGFuZGxlIHRoZSBgK2Aga2V5IHNpbmNlIHdlIHVzZSBpdCBhcyBhIHNlcGFyYXRvci5cbiAgaG90a2V5ID0gaG90a2V5LnJlcGxhY2UoJysrJywgJythZGQnKTtcbiAgdmFyIHZhbHVlcyA9IGhvdGtleS5zcGxpdCgnKycpO1xuICB2YXIgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAvLyBFbnN1cmUgdGhhdCBhbGwgdGhlIG1vZGlmaWVycyBhcmUgc2V0IHRvIGZhbHNlIHVubGVzcyB0aGUgaG90a2V5IGhhcyB0aGVtLlxuXG4gIGZvciAodmFyIGsgaW4gTU9ESUZJRVJTKSB7XG4gICAgcmV0W01PRElGSUVSU1trXV0gPSBmYWxzZTtcbiAgfVxuXG4gIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICB0cnkge1xuICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHZhbHVlc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgIHZhciB2YWx1ZSA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICB2YXIgb3B0aW9uYWwgPSB2YWx1ZS5lbmRzV2l0aCgnPycpICYmIHZhbHVlLmxlbmd0aCA+IDE7XG5cbiAgICAgIGlmIChvcHRpb25hbCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDAsIC0xKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG5hbWUgPSB0b0tleU5hbWUodmFsdWUpO1xuICAgICAgdmFyIG1vZGlmaWVyID0gTU9ESUZJRVJTW25hbWVdO1xuXG4gICAgICBpZiAobGVuZ3RoID09PSAxIHx8ICFtb2RpZmllcikge1xuICAgICAgICBpZiAoYnlLZXkpIHtcbiAgICAgICAgICByZXQua2V5ID0gbmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXQud2hpY2ggPSB0b0tleUNvZGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChtb2RpZmllcikge1xuICAgICAgICByZXRbbW9kaWZpZXJdID0gb3B0aW9uYWwgPyBudWxsIDogdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuLyoqXG4gKiBDb21wYXJlLlxuICovXG5cbmZ1bmN0aW9uIGNvbXBhcmVIb3RrZXkob2JqZWN0LCBldmVudCkge1xuICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgdmFyIGV4cGVjdGVkID0gb2JqZWN0W2tleV07XG4gICAgdmFyIGFjdHVhbCA9IHZvaWQgMDtcblxuICAgIGlmIChleHBlY3RlZCA9PSBudWxsKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAna2V5JyAmJiBldmVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgYWN0dWFsID0gZXZlbnQua2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09ICd3aGljaCcpIHtcbiAgICAgIGFjdHVhbCA9IGV4cGVjdGVkID09PSA5MSAmJiBldmVudC53aGljaCA9PT0gOTMgPyA5MSA6IGV2ZW50LndoaWNoO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3R1YWwgPSBldmVudFtrZXldO1xuICAgIH1cblxuICAgIGlmIChhY3R1YWwgPT0gbnVsbCAmJiBleHBlY3RlZCA9PT0gZmFsc2UpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChhY3R1YWwgIT09IGV4cGVjdGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVXRpbHMuXG4gKi9cblxuZnVuY3Rpb24gdG9LZXlDb2RlKG5hbWUpIHtcbiAgbmFtZSA9IHRvS2V5TmFtZShuYW1lKTtcbiAgdmFyIGNvZGUgPSBDT0RFU1tuYW1lXSB8fCBuYW1lLnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKTtcbiAgcmV0dXJuIGNvZGU7XG59XG5cbmZ1bmN0aW9uIHRvS2V5TmFtZShuYW1lKSB7XG4gIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gIG5hbWUgPSBBTElBU0VTW25hbWVdIHx8IG5hbWU7XG4gIHJldHVybiBuYW1lO1xufVxuXG4vKipcbiAqIEV4cG9ydC5cbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSBpc0hvdGtleTtcbmV4cG9ydHMuaXNIb3RrZXkgPSBpc0hvdGtleTtcbmV4cG9ydHMuaXNDb2RlSG90a2V5ID0gaXNDb2RlSG90a2V5O1xuZXhwb3J0cy5pc0tleUhvdGtleSA9IGlzS2V5SG90a2V5O1xuZXhwb3J0cy5wYXJzZUhvdGtleSA9IHBhcnNlSG90a2V5O1xuZXhwb3J0cy5jb21wYXJlSG90a2V5ID0gY29tcGFyZUhvdGtleTtcbmV4cG9ydHMudG9LZXlDb2RlID0gdG9LZXlDb2RlO1xuZXhwb3J0cy50b0tleU5hbWUgPSB0b0tleU5hbWU7IiwidmFyIGRlYm91bmNlID0gcmVxdWlyZSgnLi9kZWJvdW5jZScpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cbiAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRocm90dGxlO1xuIiwiZXhwb3J0IHZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IGNhblVzZURPTSB9IGZyb20gJy4vdXRpbHMnO1xuXG52YXIgUG9ydGFsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFBvcnRhbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUG9ydGFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb3J0YWwpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQb3J0YWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQb3J0YWwpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQb3J0YWwsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLmRlZmF1bHROb2RlKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5kZWZhdWx0Tm9kZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmRlZmF1bHROb2RlID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICBpZiAoIWNhblVzZURPTSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5wcm9wcy5ub2RlICYmICF0aGlzLmRlZmF1bHROb2RlKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRlZmF1bHROb2RlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdERPTS5jcmVhdGVQb3J0YWwodGhpcy5wcm9wcy5jaGlsZHJlbiwgdGhpcy5wcm9wcy5ub2RlIHx8IHRoaXMuZGVmYXVsdE5vZGUpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQb3J0YWw7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cblBvcnRhbC5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuICBub2RlOiBQcm9wVHlwZXMuYW55XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQb3J0YWw7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vLyBUaGlzIGZpbGUgaXMgYSBmYWxsYmFjayBmb3IgYSBjb25zdW1lciB3aG8gaXMgbm90IHlldCBvbiBSZWFjdCAxNlxuLy8gYXMgY3JlYXRlUG9ydGFsIHdhcyBpbnRyb2R1Y2VkIGluIFJlYWN0IDE2XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbnZhciBQb3J0YWwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUG9ydGFsLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQb3J0YWwoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvcnRhbCk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBvcnRhbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBvcnRhbCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFBvcnRhbCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5yZW5kZXJQb3J0YWwoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJvcHMpIHtcbiAgICAgIHRoaXMucmVuZGVyUG9ydGFsKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIFJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUodGhpcy5kZWZhdWx0Tm9kZSB8fCB0aGlzLnByb3BzLm5vZGUpO1xuICAgICAgaWYgKHRoaXMuZGVmYXVsdE5vZGUpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmRlZmF1bHROb2RlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGVmYXVsdE5vZGUgPSBudWxsO1xuICAgICAgdGhpcy5wb3J0YWwgPSBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlclBvcnRhbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclBvcnRhbChwcm9wcykge1xuICAgICAgaWYgKCF0aGlzLnByb3BzLm5vZGUgJiYgIXRoaXMuZGVmYXVsdE5vZGUpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZGVmYXVsdE5vZGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgICAgLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vamltZmIvZDk5ZTA2NzhlOWRhNzE1Y2NmNjQ1NDk2MWVmMDRkMWJcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5jaGlsZHJlbi50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNoaWxkcmVuID0gUmVhY3QuY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBvcnRhbCA9IFJlYWN0RE9NLnVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHRoaXMsIGNoaWxkcmVuLCB0aGlzLnByb3BzLm5vZGUgfHwgdGhpcy5kZWZhdWx0Tm9kZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBvcnRhbDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgUG9ydGFsO1xuXG5cblBvcnRhbC5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuICBub2RlOiBQcm9wVHlwZXMuYW55XG59OyIsImltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG5pbXBvcnQgUG9ydGFsdjQgZnJvbSAnLi9Qb3J0YWwnO1xuaW1wb3J0IExlZ2FjeVBvcnRhbCBmcm9tICcuL0xlZ2FjeVBvcnRhbCc7XG5cbnZhciBQb3J0YWwgPSB2b2lkIDA7XG5cbmlmIChSZWFjdERPTS5jcmVhdGVQb3J0YWwpIHtcbiAgUG9ydGFsID0gUG9ydGFsdjQ7XG59IGVsc2Uge1xuICBQb3J0YWwgPSBMZWdhY3lQb3J0YWw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcnRhbDsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFBvcnRhbCBmcm9tICcuL1BvcnRhbENvbXBhdCc7XG5cbnZhciBLRVlDT0RFUyA9IHtcbiAgRVNDQVBFOiAyN1xufTtcblxudmFyIFBvcnRhbFdpdGhTdGF0ZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQb3J0YWxXaXRoU3RhdGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFBvcnRhbFdpdGhTdGF0ZShwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb3J0YWxXaXRoU3RhdGUpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBvcnRhbFdpdGhTdGF0ZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBvcnRhbFdpdGhTdGF0ZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnBvcnRhbE5vZGUgPSBudWxsO1xuICAgIF90aGlzLnN0YXRlID0geyBhY3RpdmU6ICEhcHJvcHMuZGVmYXVsdE9wZW4gfTtcbiAgICBfdGhpcy5vcGVuUG9ydGFsID0gX3RoaXMub3BlblBvcnRhbC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5jbG9zZVBvcnRhbCA9IF90aGlzLmNsb3NlUG9ydGFsLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLndyYXBXaXRoUG9ydGFsID0gX3RoaXMud3JhcFdpdGhQb3J0YWwuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuaGFuZGxlT3V0c2lkZU1vdXNlQ2xpY2sgPSBfdGhpcy5oYW5kbGVPdXRzaWRlTW91c2VDbGljay5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5oYW5kbGVLZXlkb3duID0gX3RoaXMuaGFuZGxlS2V5ZG93bi5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUG9ydGFsV2l0aFN0YXRlLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jbG9zZU9uRXNjKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleWRvd24pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucHJvcHMuY2xvc2VPbk91dHNpZGVDbGljaykge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlT3V0c2lkZU1vdXNlQ2xpY2spO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jbG9zZU9uRXNjKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleWRvd24pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucHJvcHMuY2xvc2VPbk91dHNpZGVDbGljaykge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlT3V0c2lkZU1vdXNlQ2xpY2spO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29wZW5Qb3J0YWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuUG9ydGFsKGUpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZSAmJiBlLm5hdGl2ZUV2ZW50KSB7XG4gICAgICAgIGUubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlOiB0cnVlIH0sIHRoaXMucHJvcHMub25PcGVuKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjbG9zZVBvcnRhbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlUG9ydGFsKCkge1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLmFjdGl2ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlOiBmYWxzZSB9LCB0aGlzLnByb3BzLm9uQ2xvc2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3dyYXBXaXRoUG9ydGFsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gd3JhcFdpdGhQb3J0YWwoY2hpbGRyZW4pIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuc3RhdGUuYWN0aXZlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFBvcnRhbCxcbiAgICAgICAge1xuICAgICAgICAgIG5vZGU6IHRoaXMucHJvcHMubm9kZSxcbiAgICAgICAgICBrZXk6ICdyZWFjdC1wb3J0YWwnLFxuICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKHBvcnRhbE5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIucG9ydGFsTm9kZSA9IHBvcnRhbE5vZGU7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlblxuICAgICAgKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVPdXRzaWRlTW91c2VDbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZU91dHNpZGVNb3VzZUNsaWNrKGUpIHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5hY3RpdmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHJvb3QgPSB0aGlzLnBvcnRhbE5vZGUgJiYgKHRoaXMucG9ydGFsTm9kZS5wcm9wcy5ub2RlIHx8IHRoaXMucG9ydGFsTm9kZS5kZWZhdWx0Tm9kZSk7XG4gICAgICBpZiAoIXJvb3QgfHwgcm9vdC5jb250YWlucyhlLnRhcmdldCkgfHwgZS5idXR0b24gJiYgZS5idXR0b24gIT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5jbG9zZVBvcnRhbCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZUtleWRvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVLZXlkb3duKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IEtFWUNPREVTLkVTQ0FQRSAmJiB0aGlzLnN0YXRlLmFjdGl2ZSkge1xuICAgICAgICB0aGlzLmNsb3NlUG9ydGFsKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW4oe1xuICAgICAgICBvcGVuUG9ydGFsOiB0aGlzLm9wZW5Qb3J0YWwsXG4gICAgICAgIGNsb3NlUG9ydGFsOiB0aGlzLmNsb3NlUG9ydGFsLFxuICAgICAgICBwb3J0YWw6IHRoaXMud3JhcFdpdGhQb3J0YWwsXG4gICAgICAgIGlzT3BlbjogdGhpcy5zdGF0ZS5hY3RpdmVcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQb3J0YWxXaXRoU3RhdGU7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cblBvcnRhbFdpdGhTdGF0ZS5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBkZWZhdWx0T3BlbjogUHJvcFR5cGVzLmJvb2wsXG4gIG5vZGU6IFByb3BUeXBlcy5hbnksXG4gIGNsb3NlT25Fc2M6IFByb3BUeXBlcy5ib29sLFxuICBjbG9zZU9uT3V0c2lkZUNsaWNrOiBQcm9wVHlwZXMuYm9vbCxcbiAgb25PcGVuOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25DbG9zZTogUHJvcFR5cGVzLmZ1bmNcbn07XG5cblBvcnRhbFdpdGhTdGF0ZS5kZWZhdWx0UHJvcHMgPSB7XG4gIG9uT3BlbjogZnVuY3Rpb24gb25PcGVuKCkge30sXG4gIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7fVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUG9ydGFsV2l0aFN0YXRlOyIsImZ1bmN0aW9uIHQodCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPXQmJjE9PT10Lm5vZGVUeXBlfWZ1bmN0aW9uIGUodCxlKXtyZXR1cm4oIWV8fFwiaGlkZGVuXCIhPT10KSYmXCJ2aXNpYmxlXCIhPT10JiZcImNsaXBcIiE9PXR9ZnVuY3Rpb24gbih0LG4pe2lmKHQuY2xpZW50SGVpZ2h0PHQuc2Nyb2xsSGVpZ2h0fHx0LmNsaWVudFdpZHRoPHQuc2Nyb2xsV2lkdGgpe3ZhciByPWdldENvbXB1dGVkU3R5bGUodCxudWxsKTtyZXR1cm4gZShyLm92ZXJmbG93WSxuKXx8ZShyLm92ZXJmbG93WCxuKXx8ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCl7aWYoIXQub3duZXJEb2N1bWVudHx8IXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldylyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIHQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnR9Y2F0Y2godCl7cmV0dXJuIG51bGx9fSh0KTtyZXR1cm4hIWUmJihlLmNsaWVudEhlaWdodDx0LnNjcm9sbEhlaWdodHx8ZS5jbGllbnRXaWR0aDx0LnNjcm9sbFdpZHRoKX0odCl9cmV0dXJuITF9ZnVuY3Rpb24gcih0LGUsbixyLGksbyxsLGQpe3JldHVybiBvPHQmJmw+ZXx8bz50JiZsPGU/MDpvPD10JiZkPD1ufHxsPj1lJiZkPj1uP28tdC1yOmw+ZSYmZDxufHxvPHQmJmQ+bj9sLWUraTowfWV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGUsaSl7dmFyIG89d2luZG93LGw9aS5zY3JvbGxNb2RlLGQ9aS5ibG9jayx1PWkuaW5saW5lLGg9aS5ib3VuZGFyeSxhPWkuc2tpcE92ZXJmbG93SGlkZGVuRWxlbWVudHMsYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBoP2g6ZnVuY3Rpb24odCl7cmV0dXJuIHQhPT1ofTtpZighdChlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCB0YXJnZXRcIik7Zm9yKHZhciBmPWRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxzPVtdLHA9ZTt0KHApJiZjKHApOyl7aWYoKHA9cC5wYXJlbnRFbGVtZW50KT09PWYpe3MucHVzaChwKTticmVha31udWxsIT1wJiZwPT09ZG9jdW1lbnQuYm9keSYmbihwKSYmIW4oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXx8bnVsbCE9cCYmbihwLGEpJiZzLnB1c2gocCl9Zm9yKHZhciBtPW8udmlzdWFsVmlld3BvcnQ/by52aXN1YWxWaWV3cG9ydC53aWR0aDppbm5lcldpZHRoLGc9by52aXN1YWxWaWV3cG9ydD9vLnZpc3VhbFZpZXdwb3J0LmhlaWdodDppbm5lckhlaWdodCx3PXdpbmRvdy5zY3JvbGxYfHxwYWdlWE9mZnNldCx2PXdpbmRvdy5zY3JvbGxZfHxwYWdlWU9mZnNldCxXPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYj1XLmhlaWdodCxIPVcud2lkdGgseT1XLnRvcCxFPVcucmlnaHQsTT1XLmJvdHRvbSxWPVcubGVmdCx4PVwic3RhcnRcIj09PWR8fFwibmVhcmVzdFwiPT09ZD95OlwiZW5kXCI9PT1kP006eStiLzIsST1cImNlbnRlclwiPT09dT9WK0gvMjpcImVuZFwiPT09dT9FOlYsQz1bXSxUPTA7VDxzLmxlbmd0aDtUKyspe3ZhciBrPXNbVF0sQj1rLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLEQ9Qi5oZWlnaHQsTz1CLndpZHRoLFI9Qi50b3AsWD1CLnJpZ2h0LFk9Qi5ib3R0b20sTD1CLmxlZnQ7aWYoXCJpZi1uZWVkZWRcIj09PWwmJnk+PTAmJlY+PTAmJk08PWcmJkU8PW0mJnk+PVImJk08PVkmJlY+PUwmJkU8PVgpcmV0dXJuIEM7dmFyIFM9Z2V0Q29tcHV0ZWRTdHlsZShrKSxqPXBhcnNlSW50KFMuYm9yZGVyTGVmdFdpZHRoLDEwKSxxPXBhcnNlSW50KFMuYm9yZGVyVG9wV2lkdGgsMTApLHo9cGFyc2VJbnQoUy5ib3JkZXJSaWdodFdpZHRoLDEwKSxBPXBhcnNlSW50KFMuYm9yZGVyQm90dG9tV2lkdGgsMTApLEY9MCxHPTAsSj1cIm9mZnNldFdpZHRoXCJpbiBrP2sub2Zmc2V0V2lkdGgtay5jbGllbnRXaWR0aC1qLXo6MCxLPVwib2Zmc2V0SGVpZ2h0XCJpbiBrP2sub2Zmc2V0SGVpZ2h0LWsuY2xpZW50SGVpZ2h0LXEtQTowO2lmKGY9PT1rKUY9XCJzdGFydFwiPT09ZD94OlwiZW5kXCI9PT1kP3gtZzpcIm5lYXJlc3RcIj09PWQ/cih2LHYrZyxnLHEsQSx2K3gsdit4K2IsYik6eC1nLzIsRz1cInN0YXJ0XCI9PT11P0k6XCJjZW50ZXJcIj09PXU/SS1tLzI6XCJlbmRcIj09PXU/SS1tOnIodyx3K20sbSxqLHosdytJLHcrSStILEgpLEY9TWF0aC5tYXgoMCxGK3YpLEc9TWF0aC5tYXgoMCxHK3cpO2Vsc2V7Rj1cInN0YXJ0XCI9PT1kP3gtUi1xOlwiZW5kXCI9PT1kP3gtWStBK0s6XCJuZWFyZXN0XCI9PT1kP3IoUixZLEQscSxBK0sseCx4K2IsYik6eC0oUitELzIpK0svMixHPVwic3RhcnRcIj09PXU/SS1MLWo6XCJjZW50ZXJcIj09PXU/SS0oTCtPLzIpK0ovMjpcImVuZFwiPT09dT9JLVgreitKOnIoTCxYLE8saix6K0osSSxJK0gsSCk7dmFyIE49ay5zY3JvbGxMZWZ0LFA9ay5zY3JvbGxUb3A7eCs9UC0oRj1NYXRoLm1heCgwLE1hdGgubWluKFArRixrLnNjcm9sbEhlaWdodC1EK0spKSksSSs9Ti0oRz1NYXRoLm1heCgwLE1hdGgubWluKE4rRyxrLnNjcm9sbFdpZHRoLU8rSikpKX1DLnB1c2goe2VsOmssdG9wOkYsbGVmdDpHfSl9cmV0dXJuIEN9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tb2R1bGUuanMubWFwXG4iLCJpbXBvcnQgY29tcHV0ZSBmcm9tICdjb21wdXRlLXNjcm9sbC1pbnRvLXZpZXcnO1xuXG5mdW5jdGlvbiBpc09wdGlvbnNPYmplY3Qob3B0aW9ucykge1xuICByZXR1cm4gb3B0aW9ucyA9PT0gT2JqZWN0KG9wdGlvbnMpICYmIE9iamVjdC5rZXlzKG9wdGlvbnMpLmxlbmd0aCAhPT0gMDtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEJlaGF2aW9yKGFjdGlvbnMsIGJlaGF2aW9yKSB7XG4gIGlmIChiZWhhdmlvciA9PT0gdm9pZCAwKSB7XG4gICAgYmVoYXZpb3IgPSAnYXV0byc7XG4gIH1cblxuICB2YXIgY2FuU21vb3RoU2Nyb2xsID0gKCdzY3JvbGxCZWhhdmlvcicgaW4gZG9jdW1lbnQuYm9keS5zdHlsZSk7XG4gIGFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBlbCA9IF9yZWYuZWwsXG4gICAgICAgIHRvcCA9IF9yZWYudG9wLFxuICAgICAgICBsZWZ0ID0gX3JlZi5sZWZ0O1xuXG4gICAgaWYgKGVsLnNjcm9sbCAmJiBjYW5TbW9vdGhTY3JvbGwpIHtcbiAgICAgIGVsLnNjcm9sbCh7XG4gICAgICAgIHRvcDogdG9wLFxuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICBiZWhhdmlvcjogYmVoYXZpb3JcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zY3JvbGxUb3AgPSB0b3A7XG4gICAgICBlbC5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJsb2NrOiAnZW5kJyxcbiAgICAgIGlubGluZTogJ25lYXJlc3QnXG4gICAgfTtcbiAgfVxuXG4gIGlmIChpc09wdGlvbnNPYmplY3Qob3B0aW9ucykpIHtcbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmxvY2s6ICdzdGFydCcsXG4gICAgaW5saW5lOiAnbmVhcmVzdCdcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcodGFyZ2V0LCBvcHRpb25zKSB7XG4gIHZhciBpc1RhcmdldEF0dGFjaGVkID0gdGFyZ2V0LmlzQ29ubmVjdGVkIHx8IHRhcmdldC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyh0YXJnZXQpO1xuXG4gIGlmIChpc09wdGlvbnNPYmplY3Qob3B0aW9ucykgJiYgdHlwZW9mIG9wdGlvbnMuYmVoYXZpb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5iZWhhdmlvcihpc1RhcmdldEF0dGFjaGVkID8gY29tcHV0ZSh0YXJnZXQsIG9wdGlvbnMpIDogW10pO1xuICB9XG5cbiAgaWYgKCFpc1RhcmdldEF0dGFjaGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNvbXB1dGVPcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgcmV0dXJuIGRlZmF1bHRCZWhhdmlvcihjb21wdXRlKHRhcmdldCwgY29tcHV0ZU9wdGlvbnMpLCBjb21wdXRlT3B0aW9ucy5iZWhhdmlvcik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNjcm9sbEludG9WaWV3OyJdLCJuYW1lcyI6WyJ1c2VTbGF0ZVNlbGVjdG9yIiwic2VsZWN0b3IiLCJlcXVhbGl0eUZuIiwicmVmRXF1YWxpdHkiLCJmb3JjZVJlbmRlciIsInVzZVJlZHVjZXIiLCJzIiwiY29udGV4dCIsInVzZUNvbnRleHQiLCJTbGF0ZVNlbGVjdG9yQ29udGV4dCIsIkVycm9yIiwic2VsZWN0ZWRTdGF0ZSIsImdldFNsYXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImxhdGVzdFN1YnNjcmlwdGlvbkNhbGxiYWNrRXJyb3IiLCJ1c2VSZWYiLCJsYXRlc3RTZWxlY3RvciIsImxhdGVzdFNlbGVjdGVkU3RhdGUiLCJjdXJyZW50IiwiZXJyIiwiaXNFcnJvciIsImVycm9yIiwibWVzc2FnZSIsInN0YWNrIiwidXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCIsInVuZGVmaW5lZCIsImNoZWNrRm9yVXBkYXRlcyIsIm5ld1NlbGVjdGVkU3RhdGUiLCJ1bnN1YnNjcmliZSIsIl9kZWZpbmVQcm9wZXJ0eSIsIm9iaiIsImtleSIsInZhbHVlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJzb3VyY2UiLCJleGNsdWRlZCIsImkiLCJ0YXJnZXQiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsInNvdXJjZUtleXMiLCJrZXlzIiwibGVuZ3RoIiwiaW5kZXhPZiIsIm9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzb3VyY2VTeW1ib2xLZXlzIiwicHJvdG90eXBlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJjYWxsIiwiSVNfUkVBQ1RfVkVSU0lPTl8xN19PUl9BQk9WRSIsInBhcnNlSW50IiwiUmVhY3QiLCJ2ZXJzaW9uIiwic3BsaXQiLCJJU19JT1MiLCJuYXZpZ2F0b3IiLCJ3aW5kb3ciLCJ0ZXN0IiwidXNlckFnZW50IiwiTVNTdHJlYW0iLCJJU19BUFBMRSIsIklTX0FORFJPSUQiLCJJU19GSVJFRk9YIiwiSVNfU0FGQVJJIiwiSVNfRURHRV9MRUdBQ1kiLCJJU19DSFJPTUUiLCJJU19DSFJPTUVfTEVHQUNZIiwiSVNfRklSRUZPWF9MRUdBQ1kiLCJJU19RUUJST1dTRVIiLCJJU19VQ19NT0JJTEUiLCJJU19XRUNIQVRCUk9XU0VSIiwiQ0FOX1VTRV9ET00iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJIQVNfQkVGT1JFX0lOUFVUX1NVUFBPUlQiLCJnbG9iYWxUaGlzIiwiSW5wdXRFdmVudCIsImdldFRhcmdldFJhbmdlcyIsInVzZUxheW91dEVmZmVjdCIsInVzZUVmZmVjdCIsIlN0cmluZyIsInByb3BzIiwiaXNMYXN0IiwibGVhZiIsInBhcmVudCIsInRleHQiLCJlZGl0b3IiLCJ1c2VTbGF0ZVN0YXRpYyIsInBhdGgiLCJSZWFjdEVkaXRvciIsImZpbmRQYXRoIiwicGFyZW50UGF0aCIsIlBhdGgiLCJpc1ZvaWQiLCJaZXJvV2lkdGhTdHJpbmciLCJOb2RlIiwic3RyaW5nIiwiY2hpbGRyZW4iLCJpc0lubGluZSIsIkVkaXRvciIsInNsaWNlIiwiVGV4dFN0cmluZyIsImlzVHJhaWxpbmciLCJpc0xpbmVCcmVhayIsInJlZiIsImdldFRleHRDb250ZW50IiwidGV4dFdpdGhUcmFpbGluZyIsInRleHRDb250ZW50IiwiTk9ERV9UT19JTkRFWCIsIldlYWtNYXAiLCJOT0RFX1RPX1BBUkVOVCIsIkVESVRPUl9UT19XSU5ET1ciLCJFRElUT1JfVE9fRUxFTUVOVCIsIkVMRU1FTlRfVE9fTk9ERSIsIk5PREVfVE9fRUxFTUVOVCIsIk5PREVfVE9fS0VZIiwiRURJVE9SX1RPX0tFWV9UT19FTEVNRU5UIiwiSVNfUkVBRF9PTkxZIiwiSVNfRk9DVVNFRCIsIklTX0NPTVBPU0lORyIsIklTX09OX0NPTVBPU0lUSU9OX0VORCIsIkVESVRPUl9UT19VU0VSX1NFTEVDVElPTiIsIkVESVRPUl9PTl9DT01QT1NJVElPTl9URVhUIiwiRURJVE9SX1RPX09OX0NIQU5HRSIsIk5PREVfVE9fUkVTVE9SRV9ET00iLCJQTEFDRUhPTERFUl9TWU1CT0wiLCJTeW1ib2wiLCJMZWFmIiwicmVuZGVyUGxhY2Vob2xkZXIiLCJyZW5kZXJMZWFmIiwiRGVmYXVsdExlYWYiLCJwbGFjZWhvbGRlclJlZiIsInBsYWNlaG9sZGVyRWwiLCJlZGl0b3JFbCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsIm1pbkhlaWdodCIsImNsaWVudEhlaWdodCIsInBsYWNlaG9sZGVyUHJvcHMiLCJwbGFjZWhvbGRlciIsImF0dHJpYnV0ZXMiLCJwb3NpdGlvbiIsInBvaW50ZXJFdmVudHMiLCJ3aWR0aCIsIm1heFdpZHRoIiwiZGlzcGxheSIsIm9wYWNpdHkiLCJ1c2VyU2VsZWN0IiwidGV4dERlY29yYXRpb24iLCJjb250ZW50RWRpdGFibGUiLCJGcmFnbWVudCIsIk1lbW9pemVkTGVhZiIsIm1lbW8iLCJwcmV2IiwibmV4dCIsIlRleHQiLCJlcXVhbHMiLCJzaGFsbG93Q29tcGFyZSIsIm9iajEiLCJvYmoyIiwiZXZlcnkiLCJoYXNPd25Qcm9wZXJ0eSIsImlzRGVjb3JhdG9yUmFuZ2VMaXN0RXF1YWwiLCJsaXN0IiwiYW5vdGhlciIsInJhbmdlIiwib3RoZXIiLCJyYW5nZU93blByb3BzIiwib3RoZXJPd25Qcm9wcyIsIlJhbmdlIiwidXNlQ29udGVudEtleSIsIm5vZGUiLCJjb250ZW50S2V5UmVmIiwidXBkYXRlQW5pbWF0aW9uRnJhbWVSZWYiLCJzZXRGb3JjZVJlcmVuZGVyQ291bnRlciIsInVzZVN0YXRlIiwic2V0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic3RhdGUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImRlY29yYXRpb25zIiwibGVhdmVzIiwiU2xhdGVUZXh0IiwiZmluZEtleSIsInB1c2giLCJpZCIsIktFWV9UT19FTEVNRU5UIiwiZ2V0IiwiY29udGVudEtleSIsIk1lbW9pemVkVGV4dCIsIkVsZW1lbnQiLCJlbGVtZW50IiwicmVuZGVyRWxlbWVudCIsInAiLCJEZWZhdWx0RWxlbWVudCIsInNlbGVjdGlvbiIsInJlYWRPbmx5IiwidXNlUmVhZE9ubHkiLCJ1c2VDaGlsZHJlbiIsImhhc0lubGluZXMiLCJkaXIiLCJnZXREaXJlY3Rpb24iLCJUYWciLCJ0ZXh0cyIsImhlaWdodCIsImNvbG9yIiwib3V0bGluZSIsImNvbnRlbnQiLCJNZW1vaXplZEVsZW1lbnQiLCJFZGl0b3JDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsIkRlY29yYXRlQ29udGV4dCIsIlNlbGVjdGVkQ29udGV4dCIsInVzZVNlbGVjdGVkIiwiZGVjb3JhdGUiLCJ1c2VEZWNvcmF0ZSIsImlzTGVhZkJsb2NrIiwiaXNFbGVtZW50IiwiY29uY2F0IiwibiIsInNlbCIsImludGVyc2VjdGlvbiIsImRzIiwiZGVjIiwiZCIsIlByb3ZpZGVyIiwiRWxlbWVudENvbXBvbmVudCIsIlRleHRDb21wb25lbnQiLCJIT1RLRVlTIiwiYm9sZCIsImNvbXBvc2UiLCJtb3ZlQmFja3dhcmQiLCJtb3ZlRm9yd2FyZCIsIm1vdmVXb3JkQmFja3dhcmQiLCJtb3ZlV29yZEZvcndhcmQiLCJkZWxldGVCYWNrd2FyZCIsImRlbGV0ZUZvcndhcmQiLCJleHRlbmRCYWNrd2FyZCIsImV4dGVuZEZvcndhcmQiLCJpdGFsaWMiLCJpbnNlcnRTb2Z0QnJlYWsiLCJzcGxpdEJsb2NrIiwidW5kbyIsIkFQUExFX0hPVEtFWVMiLCJtb3ZlTGluZUJhY2t3YXJkIiwibW92ZUxpbmVGb3J3YXJkIiwiZGVsZXRlTGluZUJhY2t3YXJkIiwiZGVsZXRlTGluZUZvcndhcmQiLCJkZWxldGVXb3JkQmFja3dhcmQiLCJkZWxldGVXb3JkRm9yd2FyZCIsImV4dGVuZExpbmVCYWNrd2FyZCIsImV4dGVuZExpbmVGb3J3YXJkIiwicmVkbyIsInRyYW5zcG9zZUNoYXJhY3RlciIsIldJTkRPV1NfSE9US0VZUyIsImNyZWF0ZSIsImdlbmVyaWMiLCJhcHBsZSIsIndpbmRvd3MiLCJpc0dlbmVyaWMiLCJpc0tleUhvdGtleSIsImlzQXBwbGUiLCJpc1dpbmRvd3MiLCJldmVudCIsImlzQm9sZCIsImlzQ29tcG9zZSIsImlzTW92ZUJhY2t3YXJkIiwiaXNNb3ZlRm9yd2FyZCIsImlzRGVsZXRlQmFja3dhcmQiLCJpc0RlbGV0ZUZvcndhcmQiLCJpc0RlbGV0ZUxpbmVCYWNrd2FyZCIsImlzRGVsZXRlTGluZUZvcndhcmQiLCJpc0RlbGV0ZVdvcmRCYWNrd2FyZCIsImlzRGVsZXRlV29yZEZvcndhcmQiLCJpc0V4dGVuZEJhY2t3YXJkIiwiaXNFeHRlbmRGb3J3YXJkIiwiaXNFeHRlbmRMaW5lQmFja3dhcmQiLCJpc0V4dGVuZExpbmVGb3J3YXJkIiwiaXNJdGFsaWMiLCJpc01vdmVMaW5lQmFja3dhcmQiLCJpc01vdmVMaW5lRm9yd2FyZCIsImlzTW92ZVdvcmRCYWNrd2FyZCIsImlzTW92ZVdvcmRGb3J3YXJkIiwiaXNSZWRvIiwiaXNTb2Z0QnJlYWsiLCJpc1NwbGl0QmxvY2siLCJpc1RyYW5zcG9zZUNoYXJhY3RlciIsImlzVW5kbyIsIlJlYWRPbmx5Q29udGV4dCIsIlNsYXRlQ29udGV4dCIsInVzZVNsYXRlIiwiZ2V0RGVmYXVsdFZpZXciLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJpc0RPTUNvbW1lbnQiLCJpc0RPTU5vZGUiLCJub2RlVHlwZSIsImlzRE9NRWxlbWVudCIsImlzRE9NU2VsZWN0aW9uIiwiYW5jaG9yTm9kZSIsIlNlbGVjdGlvbiIsImlzRE9NVGV4dCIsImdldEVkaXRhYmxlQ2hpbGRBbmRJbmRleCIsImluZGV4IiwiZGlyZWN0aW9uIiwiY2hpbGROb2RlcyIsImNoaWxkIiwidHJpZWRGb3J3YXJkIiwidHJpZWRCYWNrd2FyZCIsImdldEF0dHJpYnV0ZSIsImdldEVkaXRhYmxlQ2hpbGQiLCJnZXRQbGFpblRleHQiLCJkb21Ob2RlIiwibm9kZVZhbHVlIiwiQXJyYXkiLCJmcm9tIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJ0YWdOYW1lIiwiY2F0Y2hTbGF0ZUZyYWdtZW50IiwiZ2V0U2xhdGVGcmFnbWVudEF0dHJpYnV0ZSIsImRhdGFUcmFuc2ZlciIsImdldERhdGEiLCJtYXRjaCIsIkNoaWxkcmVuIiwiRWRpdGFibGUiLCJhdXRvRm9jdXMiLCJkZWZhdWx0RGVjb3JhdGUiLCJwcm9wc09uRE9NQmVmb3JlSW5wdXQiLCJvbkRPTUJlZm9yZUlucHV0IiwiRGVmYXVsdFBsYWNlaG9sZGVyIiwic2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXciLCJkZWZhdWx0U2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXciLCJhcyIsIkNvbXBvbmVudCIsImlzQ29tcG9zaW5nIiwic2V0SXNDb21wb3NpbmciLCJkZWZlcnJlZE9wZXJhdGlvbnMiLCJ1c2VNZW1vIiwiaGFzSW5zZXJ0UHJlZml4SW5Db21wb3NpdG9uIiwiaXNEcmFnZ2luZ0ludGVybmFsbHkiLCJpc1VwZGF0aW5nU2VsZWN0aW9uIiwibGF0ZXN0RWxlbWVudCIsImRvbVNlbGVjdGlvbiIsImZpbmREb2N1bWVudE9yU2hhZG93Um9vdCIsImdldFNlbGVjdGlvbiIsImlzRm9jdXNlZCIsImhhc0RvbVNlbGVjdGlvbiIsInR5cGUiLCJlZGl0b3JFbGVtZW50IiwiaGFzRG9tU2VsZWN0aW9uSW5FZGl0b3IiLCJjb250YWlucyIsImZvY3VzTm9kZSIsInNsYXRlUmFuZ2UiLCJ0b1NsYXRlUmFuZ2UiLCJleGFjdE1hdGNoIiwic3VwcHJlc3NUaHJvdyIsImhhc1JhbmdlIiwibmV3RG9tUmFuZ2UiLCJ0b0RPTVJhbmdlIiwiaXNCYWNrd2FyZCIsInNldEJhc2VBbmRFeHRlbnQiLCJlbmRDb250YWluZXIiLCJlbmRPZmZzZXQiLCJzdGFydENvbnRhaW5lciIsInN0YXJ0T2Zmc2V0IiwicmVtb3ZlQWxsUmFuZ2VzIiwic2V0VGltZW91dCIsInRvRE9NTm9kZSIsImZvY3VzIiwib25ET01TZWxlY3Rpb25DaGFuZ2UiLCJ1c2VDYWxsYmFjayIsInRocm90dGxlIiwicm9vdCIsImFjdGl2ZUVsZW1lbnQiLCJlbCIsIlRyYW5zZm9ybXMiLCJkZXNlbGVjdCIsImFuY2hvck5vZGVTZWxlY3RhYmxlIiwiaGFzRWRpdGFibGVUYXJnZXQiLCJpc1RhcmdldEluc2lkZU5vblJlYWRvbmx5Vm9pZCIsImZvY3VzTm9kZVNlbGVjdGFibGUiLCJzZWxlY3QiLCJzY2hlZHVsZU9uRE9NU2VsZWN0aW9uQ2hhbmdlIiwiZGVib3VuY2UiLCJpc0RPTUV2ZW50SGFuZGxlZCIsImZsdXNoIiwiaW5wdXRUeXBlIiwiZGF0YSIsIm5hdGl2ZSIsImlzQ29sbGFwc2VkIiwiYW5jaG9yIiwib2Zmc2V0IiwibWFya3MiLCJ0b0RPTVBvaW50IiwicGFyZW50RWxlbWVudCIsIl9ub2RlJHBhcmVudEVsZW1lbnQiLCJjbG9zZXN0IiwiaGFzRE9NTm9kZSIsImxhc3RUZXh0IiwiZ2V0V2luZG93IiwiY3JlYXRlVHJlZVdhbGtlciIsIk5vZGVGaWx0ZXIiLCJTSE9XX1RFWFQiLCJsYXN0Q2hpbGQiLCJzdGFydHNXaXRoIiwidGFyZ2V0UmFuZ2UiLCJzZWxlY3Rpb25SZWYiLCJyYW5nZVJlZiIsInByZXZlbnREZWZhdWx0IiwiaXNFeHBhbmRlZCIsImVuZHNXaXRoIiwiZGVsZXRlRnJhZ21lbnQiLCJ1bml0IiwiaW5zZXJ0QnJlYWsiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJpbnNlcnREYXRhIiwiaW5zZXJ0VGV4dCIsInRvUmVzdG9yZSIsIl9FRElUT1JfVE9fVVNFUl9TRUxFQyIsInVucmVmIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInN0YXJ0Iiwicm9sZSIsInNwZWxsQ2hlY2siLCJhdXRvQ29ycmVjdCIsImF1dG9DYXBpdGFsaXplIiwiemluZGV4Iiwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIiwid2hpdGVTcGFjZSIsIndvcmRXcmFwIiwib25CZWZvcmVJbnB1dCIsImlzRXZlbnRIYW5kbGVkIiwib25JbnB1dCIsIm9wIiwib25CbHVyIiwicmVsYXRlZFRhcmdldCIsImhhc0F0dHJpYnV0ZSIsInRvU2xhdGVOb2RlIiwib25DbGljayIsImhhc1RhcmdldCIsImhhc1BhdGgiLCJkZXRhaWwiLCJibG9ja1BhdGgiLCJpc0Jsb2NrIiwiYmxvY2siLCJhYm92ZSIsImF0IiwiZW5kIiwic3RhcnRWb2lkIiwiZW5kVm9pZCIsIm9uQ29tcG9zaXRpb25FbmQiLCJsZWFmUGF0aCIsImN1cnJlbnRUZXh0Tm9kZSIsIndpdGhvdXROb3JtYWxpemluZyIsInJlcGxhY2UiLCJkaXN0YW5jZSIsInJldmVyc2UiLCJvbkNvbXBvc2l0aW9uVXBkYXRlIiwib25Db21wb3NpdGlvblN0YXJ0IiwiaW5saW5lIiwibW9kZSIsImlubGluZVBhdGgiLCJpc0VuZCIsInBvaW50IiwiYWZ0ZXIiLCJzZXRTZWxlY3Rpb24iLCJpbnNlcnROb2RlcyIsIm9uQ29weSIsInNldEZyYWdtZW50RGF0YSIsImNsaXBib2FyZERhdGEiLCJvbkN1dCIsIm9uRHJhZ092ZXIiLCJvbkRyYWdTdGFydCIsInZvaWRzIiwib25Ecm9wIiwiZHJhZ2dlZFJhbmdlIiwiZmluZEV2ZW50UmFuZ2UiLCJvbkRyYWdFbmQiLCJvbkZvY3VzIiwib25LZXlEb3duIiwibmF0aXZlRXZlbnQiLCJpc1JUTCIsIkhvdGtleXMiLCJtYXliZUhpc3RvcnlFZGl0b3IiLCJtb3ZlIiwiZWRnZSIsImNvbGxhcHNlIiwiY3VycmVudE5vZGUiLCJvblBhc3RlIiwiaXNQbGFpblRleHRPbmx5UGFzdGUiLCJ0eXBlcyIsImRvbVJhbmdlIiwibGVhZkVsIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYmluZCIsInNjcm9sbEludG9WaWV3Iiwic2Nyb2xsTW9kZSIsImVkaXRhYmxlIiwic2xhdGVOb2RlIiwiaGFuZGxlciIsInNob3VsZFRyZWF0RXZlbnRBc0hhbmRsZWQiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJpc1Byb3BhZ2F0aW9uU3RvcHBlZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJnZXREaWZmT2Zmc2V0cyIsImdldERpZmZTdGFydCIsIk1hdGgiLCJtaW4iLCJjaGFyQXQiLCJnZXREaWZmRW5kIiwibWF4IiwicHJldkxlbmd0aCIsIm5leHRMZW5ndGgiLCJzbGljZVRleHQiLCJvZmZzZXRzIiwiZ2V0VGV4dEluc2VydGlvbiIsImlzVGV4dCIsInByZXZUZXh0IiwibmV4dFRleHQiLCJ0ZXh0RGlmZiIsImRpZmZUZXh0IiwicmVtb3ZlVGV4dCIsIm5vcm1hbGl6ZVRleHRJbnNlcnRpb25SYW5nZSIsIl9yZWYyIiwiaW5zZXJ0aW9uUmFuZ2UiLCJub2RlcyIsImNoYXJhY3RlckJlZm9yZUFuY2hvciIsImNoYXJhY3RlckFmdGVyQW5jaG9yIiwiS2V5IiwidGhpcyIsImlzRWRpdG9yIiwidW5zaGlmdCIsIlNjcnViYmVyIiwic3RyaW5naWZ5IiwiZ2V0Um9vdE5vZGUiLCJEb2N1bWVudCIsIlNoYWRvd1Jvb3QiLCJpc1JlYWRPbmx5IiwiYmx1ciIsInByZXZlbnRTY3JvbGwiLCJyYW5nZUNvdW50IiwidGFyZ2V0RWwiLCJvcHRpb25zIiwiaW5jbHVkZXMiLCJpc0NvbnRlbnRFZGl0YWJsZSIsImluc2VydEZyYWdtZW50RGF0YSIsImluc2VydFRleHREYXRhIiwib3JpZ2luRXZlbnQiLCJkb21Qb2ludCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhdHRyIiwiZG9tQW5jaG9yIiwiZG9tRm9jdXMiLCJjcmVhdGVSYW5nZSIsInN0YXJ0Tm9kZSIsImVuZE5vZGUiLCJpc1N0YXJ0QXRaZXJvV2lkdGgiLCJpc0VuZEF0WmVyb1dpZHRoIiwic2V0U3RhcnQiLCJzZXRFbmQiLCJkb21FbCIsIngiLCJjbGllbnRYIiwieSIsImNsaWVudFkiLCJyZWN0IiwiaXNQcmV2IiwibGVmdCIsInRvcCIsImJlZm9yZSIsImNhcmV0UmFuZ2VGcm9tUG9pbnQiLCJjYXJldFBvc2l0aW9uRnJvbVBvaW50Iiwib2Zmc2V0Tm9kZSIsInRvU2xhdGVQb2ludCIsIm5vcm1hbGl6ZURPTVBvaW50IiwibmVhcmVzdE5vZGUiLCJuZWFyZXN0T2Zmc2V0IiwicGFyZW50Tm9kZSIsInRleHROb2RlIiwicG90ZW50aWFsVm9pZE5vZGUiLCJ2b2lkTm9kZSIsImxlYWZOb2RlIiwiY29udGVudHMiLCJjbG9uZUNvbnRlbnRzIiwiZm9yRWFjaCIsInJlbW92ZUNoaWxkIiwiX2RvbU5vZGUkdGV4dENvbnRlbnQiLCJhbmNob3JPZmZzZXQiLCJmb2N1c09mZnNldCIsImhhc1NoYWRvd1Jvb3QiLCJzaGFkb3dSb290IiwiY29sbGFwc2VkIiwiaXNGb3J3YXJkIiwidW5oYW5nUmFuZ2UiLCJBbmRyb2lkSW5wdXRNYW5hZ2VyIiwicmVzdG9yZURPTSIsIm11dGF0aW9ucyIsInJlY29uY2lsZU11dGF0aW9ucyIsImNvbnNvbGUiLCJtdXRhdGlvbkRhdGEiLCJnYXRoZXJNdXRhdGlvbkRhdGEiLCJhZGRlZE5vZGVzIiwicmVtb3ZlZE5vZGVzIiwiaW5zZXJ0ZWRUZXh0IiwiY2hhcmFjdGVyRGF0YU11dGF0aW9ucyIsIm11dGF0aW9uIiwiYWRkZWROb2RlIiwicmVtb3ZlZE5vZGUiLCJ0ZXh0SW5zZXJ0aW9uIiwic29tZSIsImlzUmVwbGFjZUV4cGFuZGVkU2VsZWN0aW9uIiwiX3JlZjQiLCJfcmVmNSIsImNvbWJpbmVJbnNlcnRlZFRleHQiLCJyZWR1Y2UiLCJhY2MiLCJyZXBsYWNlRXhwYW5kZWRTZWxlY3Rpb24iLCJwYXJlbnRET01Ob2RlIiwiSFRNTEVsZW1lbnQiLCJpc1JlbW92ZUxlYWZOb2RlcyIsIl8iLCJfcmVmNyIsImlzRGVsZXRpb24iLCJfcmVmMyIsImlzVGV4dEluc2VydGlvbiIsIl9yZWY2IiwicmVtb3ZlTGVhZk5vZGVzIiwiaW5zZXJ0aW9uIiwidXNlTXV0YXRpb25PYnNlcnZlciIsImNhbGxiYWNrIiwibXV0YXRpb25PYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJkaXNjb25uZWN0Iiwib2JzZXJ2ZSIsIk1VVEFUSU9OX09CU0VSVkVSX0NPTkZJRyIsImNoaWxkTGlzdCIsImNoYXJhY3RlckRhdGEiLCJzdWJ0cmVlIiwiZmluZENsb3Nlc3RLbm93U2xhdGVOb2RlIiwidXNlUmVzdG9yZURvbSIsInJlY2VpdmVkVXNlcklucHV0IiwibXV0YXRlZE5vZGVzIiwiU2V0IiwiX3JlZiIsImFkZCIsImNsZWFyIiwicmVzdG9yZSIsIm11dGF0ZWQiLCJ2YWx1ZXMiLCJub2Rlc1RvUmVzdG9yZSIsImZpbHRlciIsIm0iLCJpc1BhcmVudCIsImNoYXJhY3RlckRhdGFPbGRWYWx1ZSIsInVzZUFuZHJvaWRJbnB1dE1hbmFnZXIiLCJ1c2VUcmFja1VzZXJJbnB1dCIsImFuaW1hdGlvbkZyYW1lUmVmIiwib25Vc2VySW5wdXQiLCJyZXN0b3JlRG9tIiwiaW5wdXRNYW5hZ2VyIiwidGltZW91dElkIiwiaXNSZWNvbmNpbGluZyIsImNsZWFyVGltZW91dCIsIkFuZHJvaWRFZGl0YWJsZSIsImJvdW5kYXJ5IiwiZ2V0Q2xpcGJvYXJkRGF0YSIsImZyYWdtZW50IiwiRGF0YVRyYW5zZmVyIiwic2V0RGF0YSIsIkZvY3VzZWRDb250ZXh0IiwidXNlRm9jdXNlZCIsImEiLCJiIiwiU2xhdGUiLCJvbkNoYW5nZSIsInJlc3QiLCJ1bm1vdW50UmVmIiwiaXNOb2RlTGlzdCIsImFzc2lnbiIsInNldENvbnRleHQiLCJnZXRTZWxlY3RvckNvbnRleHQiLCJldmVudExpc3RlbmVycyIsInNsYXRlUmVmIiwibGlzdGVuZXIiLCJzZWxlY3RvckNvbnRleHQiLCJzcGxpY2UiLCJoYW5kbGVTZWxlY3RvckNoYW5nZSIsIm9uQ29udGV4dENoYW5nZSIsInNldElzRm9jdXNlZCIsImZuIiwidXNlRWRpdG9yIiwiZG9SZWN0c0ludGVyc2VjdCIsImNvbXBhcmVSZWN0IiwibWlkZGxlIiwiYm90dG9tIiwiYXJlUmFuZ2VzU2FtZUxpbmUiLCJyYW5nZTEiLCJyYW5nZTIiLCJyZWN0MSIsInJlY3QyIiwid2l0aFJlYWN0IiwiZSIsImFwcGx5IiwicGFyZW50QmxvY2tFbnRyeSIsInBhcmVudEJsb2NrUGF0aCIsInBhcmVudEVsZW1lbnRSYW5nZSIsImN1cnJlbnRMaW5lUmFuZ2UiLCJmaW5kQ3VycmVudExpbmVSYW5nZSIsInBhcmVudFJhbmdlIiwicGFyZW50UmFuZ2VCb3VuZGFyeSIsInBvc2l0aW9ucyIsInJpZ2h0IiwiZmxvb3IiLCJtYXRjaGVzIiwiZ2V0TWF0Y2hlcyIsInByZXZQYXRoIiwicHJldmlvdXMiLCJjb21tb25QYXRoIiwiY29tbW9uIiwibmV3UGF0aCIsImVkZ2VzIiwiYXR0YWNoIiwidHJpbSIsInIiLCJjbG9uZVJhbmdlIiwic2V0RW5kQWZ0ZXIiLCJ6dyIsImlzTmV3bGluZSIsInNwYW4iLCJhcHBlbmRDaGlsZCIsImdldEZyYWdtZW50IiwiSlNPTiIsImVuY29kZWQiLCJidG9hIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwic2V0QXR0cmlidXRlIiwiZGl2IiwiYm9keSIsImlubmVySFRNTCIsImRlY29kZWQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJhdG9iIiwicGFyc2VkIiwicGFyc2UiLCJpbnNlcnRGcmFnbWVudCIsImxpbmUiLCJzcGxpdE5vZGVzIiwiYWx3YXlzIiwiUmVhY3RET00iLCJ1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyIsImxldmVscyIsIkRlZmF1bHRFZGl0YWJsZSIsIkRJUlRZX1BBVEhTIiwiRElSVFlfUEFUSF9LRVlTIiwiRkxVU0hJTkciLCJOT1JNQUxJWklORyIsIlBBVEhfUkVGUyIsIlBPSU5UX1JFRlMiLCJSQU5HRV9SRUZTIiwiY3JlYXRlRWRpdG9yIiwib3BlcmF0aW9ucyIsInBhdGhSZWZzIiwiUGF0aFJlZiIsInRyYW5zZm9ybSIsInBvaW50UmVmcyIsIlBvaW50UmVmIiwicmFuZ2VSZWZzIiwiUmFuZ2VSZWYiLCJkaXJ0eVBhdGhzIiwiZGlydHlQYXRoS2V5cyIsIm9sZERpcnR5UGF0aHMiLCJvbGREaXJ0eVBhdGhLZXlzIiwiam9pbiIsImhhcyIsIm9wZXJhdGlvbkNhblRyYW5zZm9ybVBhdGgiLCJnZXREaXJ0eVBhdGhzIiwibm9ybWFsaXplIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiYWRkTWFyayIsInNldE5vZGVzIiwiaW5zZXJ0Tm9kZSIsIm5vcm1hbGl6ZU5vZGUiLCJlbnRyeSIsInNob3VsZEhhdmVJbmxpbmVzIiwicmVtb3ZlTm9kZXMiLCJsb29zZSIsIm1lcmdlTm9kZXMiLCJyZW1vdmVNYXJrIiwidW5zZXROb2RlcyIsImRlc2NlbmRhbnRzIiwiYW5jZXN0b3JzIiwicHJldmlvdXNQYXRoIiwib2xkQW5jZXN0b3JzIiwibmV3QW5jZXN0b3JzIiwiYW5jZXN0b3IiLCJuZXdQYXJlbnQiLCJuZXdJbmRleCIsInJlc3VsdFBhdGgiLCJuZXh0UGF0aCIsIkNvZGVwb2ludFR5cGUiLCJnZXRDaGFyYWN0ZXJEaXN0YW5jZSIsInN0ciIsImlzTFRSIiwiY29kZXBvaW50cyIsImNvZGVwb2ludHNJdGVyYXRvclJUTCIsIk5vbmUiLCJnYjEyT3IxMyIsImNoYXIiLCJjb2RlIiwiY29kZVBvaW50QXQiLCJnZXRDb2RlcG9pbnRUeXBlIiwiaW50ZXJzZWN0cyIsIlpXSiIsIkV4dFBpY3QiLCJlbmRzV2l0aEVtb2ppWldKIiwic3Vic3RyaW5nIiwiUkkiLCJlbmRzV2l0aE9kZE51bWJlck9mUklzIiwiaXNCb3VuZGFyeVBhaXIiLCJTUEFDRSIsIlBVTkNUVUFUSU9OIiwiQ0hBTUVMRU9OIiwiZ2V0V29yZERpc3RhbmNlIiwiZGlzdCIsInN0YXJ0ZWQiLCJjaGFyRGlzdCIsInNwbGl0QnlDaGFyYWN0ZXJEaXN0YW5jZSIsInJlbWFpbmluZyIsImlzV29yZENoYXJhY3RlciIsImNoYXIxIiwiaXNMb3dTdXJyb2dhdGUiLCJjaGFyQ29kZUF0IiwiY2hhcjIiLCJpc0hpZ2hTdXJyb2dhdGUiLCJjaGFyQ29kZSIsInJlRXh0ZW5kIiwicmVQcmVwZW5kIiwicmVTcGFjaW5nTWFyayIsInJlTCIsInJlViIsInJlVCIsInJlTFYiLCJyZUxWVCIsInJlRXh0UGljdCIsIkFueSIsInNlYXJjaCIsIkV4dGVuZCIsIlByZXBlbmQiLCJTcGFjaW5nTWFyayIsIkwiLCJWIiwiVCIsIkxWIiwiTFZUIiwiTm9uQm91bmRhcnlQYWlycyIsImZpbmRJbmRleCIsImVuZGluZ0Vtb2ppWldKIiwiZW5kaW5nUklzIiwiaXNQbGFpbk9iamVjdCIsImlzQW5jZXN0b3IiLCJpc0VsZW1lbnRMaXN0IiwiaXNBcnJheSIsInZhbCIsImlzRWxlbWVudFByb3BzIiwiaXNFbGVtZW50VHlwZSIsImVsZW1lbnRWYWwiLCJlbGVtZW50S2V5IiwiSVNfRURJVE9SX0NBQ0hFIiwiZmlyc3QiLCJoYXNCbG9ja3MiLCJoYXNUZXh0cyIsImNhY2hlZElzRWRpdG9yIiwiaXNSYW5nZSIsIk9wZXJhdGlvbiIsImlzT3BlcmF0aW9uTGlzdCIsIlBvaW50IiwiaXNFZGdlIiwiaXNTdGFydCIsImlzRW1wdHkiLCJpc05vcm1hbGl6aW5nIiwibGFzdCIsInByZXZOb2RlIiwicG9pbnRBZnRlckxvY2F0aW9uIiwidG8iLCJpc1BhdGgiLCJ1bml2ZXJzYWwiLCJTcGFuIiwiaXNTcGFuIiwibm9kZUVudHJpZXMiLCJwYXNzIiwiaXNMb3dlciIsImhpdCIsImNvbXBhcmUiLCJlbWl0IiwiZm9yY2UiLCJwb3BEaXJ0eVBhdGgiLCJwb3AiLCJnZXREaXJ0eVBhdGhLZXlzIiwiYWxsUGF0aHMiLCJhbGxQYXRoS2V5cyIsIm1hcCIsImRpcnR5UGF0aCIsImRlcHRoIiwiaXNQb2ludCIsInBhdGhSZWYiLCJhZmZpbml0eSIsInJlZnMiLCJwb2ludFJlZiIsImNhbGNEaXN0YW5jZSIsImlzTmV3QmxvY2siLCJibG9ja1RleHQiLCJsZWFmVGV4dFJlbWFpbmluZyIsImxlYWZUZXh0T2Zmc2V0IiwiaXNGaXJzdCIsInBvaW50QmVmb3JlTG9jYXRpb24iLCJzZXROb3JtYWxpemluZyIsInQiLCJlbmRCbG9jayIsInNraXAiLCJpc0JlZm9yZSIsIkxvY2F0aW9uIiwiaXNMb2NhdGlvbiIsIklTX05PREVfTElTVF9DQUNIRSIsImMiLCJjaGlsZFBhdGgiLCJkZXNjZW5kYW50IiwiZWxlbWVudHMiLCJleHRyYWN0UHJvcHMiLCJwcm9kdWNlIiwiaXNOb2RlIiwiY2FjaGVkUmVzdWx0IiwiaXNUZXh0UHJvcHMiLCJ2aXNpdGVkIiwiaXNBZnRlciIsIm5leHRJbmRleCIsImlzTm9kZU9wZXJhdGlvbiIsImlzT3BlcmF0aW9uIiwicHJvcGVydGllcyIsIm5ld1Byb3BlcnRpZXMiLCJpc1NlbGVjdGlvbk9wZXJhdGlvbiIsImlzVGV4dE9wZXJhdGlvbiIsImludmVyc2UiLCJpc1NpYmxpbmciLCJpbnZlcnNlUGF0aCIsImludmVyc2VOZXdQYXRoIiwicGF0aHMiLCJhdiIsImVuZHNBZnRlciIsImJzIiwiYnYiLCJlbmRzQXQiLCJlbmRzQmVmb3JlIiwiaGFzUHJldmlvdXMiLCJpc0NoaWxkIiwiaXNDb21tb24iLCJpc0Rlc2NlbmRhbnQiLCJvcGVyYXRpb24iLCJyZWxhdGl2ZSIsIm9ucCIsImNvcHkiLCJyZXN1bHQiLCJycyIsInJlIiwidHMiLCJ0ZSIsImlzQWZ0ZXJTdGFydCIsImlzQmVmb3JlRW5kIiwiczEiLCJlMSIsInMyIiwiZTIiLCJwb2ludHMiLCJhZmZpbml0eUFuY2hvciIsImFmZmluaXR5Rm9jdXMiLCJfc2NydWJiZXIiLCJzZXRTY3J1YmJlciIsInNjcnViYmVyIiwiaXNEZWVwRXF1YWwiLCJvbWl0VGV4dCIsImlzVGV4dExpc3QiLCJvIiwib2ZmIiwiTm9kZVRyYW5zZm9ybXMiLCJoYW5naW5nIiwibWF0Y2hQYXRoIiwiaXNBdEVuZCIsImxpZnROb2RlcyIsInRvUGF0aCIsIm1vdmVOb2RlcyIsInNwbGl0UGF0aCIsImlzUHJldmlvdXNTaWJsaW5nIiwiZW1wdHlBbmNlc3RvciIsImhhc1NpbmdsZUNoaWxkTmVzdCIsImVtcHR5UmVmIiwidG9SZWYiLCJ0YXJnZXRzIiwiZGVwdGhzIiwibWVyZ2UiLCJzcGxpdE1vZGUiLCJlbmRBdEVuZE9mTm9kZSIsInN0YXJ0QXRTdGFydE9mTm9kZSIsInByb3AiLCJub2RlUHJvcCIsImhhc0NoYW5nZXMiLCJrIiwiZGVsZXRlUmFuZ2UiLCJhZnRlclJlZiIsImJlZm9yZVJlZiIsImhpZ2hlc3QiLCJ2b2lkTWF0Y2giLCJ2b2lkUGF0aCIsImFmdGVyUGF0aCIsImhpZ2hlc3RQYXRoIiwibG93ZXN0UGF0aCIsInVud3JhcE5vZGVzIiwiX2xvb3AiLCJ3cmFwTm9kZXMiLCJyb290UGF0aCIsImZpcnN0UGF0aCIsImxhc3RQYXRoIiwiY29tbW9uTm9kZSIsIndyYXBwZXJQYXRoIiwid3JhcHBlciIsIlNlbGVjdGlvblRyYW5zZm9ybXMiLCJvcHRzIiwic2V0UG9pbnQiLCJfb2JqZWN0U3ByZWFkJDEiLCJvbGRQcm9wcyIsIm5ld1Byb3BzIiwiVGV4dFRyYW5zZm9ybXMiLCJmdXJ0aGVzdFZvaWQiLCJlbmRPZkRvYyIsInN0YXJ0QmxvY2siLCJpc0Fjcm9zc0Jsb2NrcyIsImlzU2luZ2xlVGV4dCIsInN0YXJ0UmVmIiwiZW5kUmVmIiwic3RhcnRVbnJlZiIsImVuZFVucmVmIiwiaW5saW5lRWxlbWVudE1hdGNoIiwiaXNCbG9ja1N0YXJ0IiwiaXNCbG9ja0VuZCIsImlzQmxvY2tFbXB0eSIsIm1lcmdlU3RhcnQiLCJtZXJnZUVuZCIsIm1hdGNoZXIiLCJzdGFydHMiLCJtaWRkbGVzIiwiZW5kcyIsInN0YXJ0aW5nIiwiaXNJbmxpbmVTdGFydCIsImlzSW5saW5lRW5kIiwibWlkZGxlUmVmIiwiYmxvY2tQYXRoUmVmIiwic3RhcnRQb2ludCIsImVuZFBvaW50IiwiY3JlYXRlRHJhZnQiLCJhcHBseVRvRHJhZnQiLCJ0cnVlUGF0aCIsInByZWZlck5leHQiLCJuZXdOb2RlIiwiZmluaXNoRHJhZnQiLCJpc0RyYWZ0IiwibW9kdWxlIiwiZXhwb3J0cyIsInJ0bCIsImx0ciIsIkxUUiIsIlJlZ0V4cCIsImFyZ3VtZW50cyIsIkgiLCJnZXRQcm90b3R5cGVPZiIsIkZ1bmN0aW9uIiwidG9TdHJpbmciLCJRIiwiRyIsInYiLCJ1IiwiZiIsImRlbGV0ZSIsIlciLCJNYXAiLCJYIiwiVSIsImwiLCJoIiwiZnJlZXplIiwiaXNGcm96ZW4iLCJKIiwiaiIsIk8iLCJ3IiwiUyIsIlAiLCJNIiwiZyIsIkIiLCJBIiwiUiIsIkYiLCJEIiwiSyIsInoiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJFIiwiJCIsIkMiLCJJIiwiWSIsIloiLCJQcm94eSIsInJldm9jYWJsZSIsInJldm9rZSIsInByb3h5IiwiTiIsImVudHJpZXMiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInNpemUiLCJkb25lIiwicSIsIlJlZmxlY3QiLCJmb3IiLCJpdGVyYXRvciIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlbGV0ZVByb3BlcnR5Iiwibm4iLCJwcm9kdWNlV2l0aFBhdGNoZXMiLCJ1c2VQcm94aWVzIiwic2V0VXNlUHJveGllcyIsImF1dG9GcmVlemUiLCJzZXRBdXRvRnJlZXplIiwiYXBwbHlQYXRjaGVzIiwidG4iLCJybiIsImVuIiwidW4iLCJvbiIsImFuIiwiY24iLCJJbW1lciIsImNhc3REcmFmdCIsImNhc3RJbW11dGFibGUiLCJlbmFibGVBbGxQbHVnaW5zIiwiZW5hYmxlRVM1IiwiZW5hYmxlTWFwU2V0IiwiZW5hYmxlUGF0Y2hlcyIsImltbWVyYWJsZSIsImlzRHJhZnRhYmxlIiwibm90aGluZyIsIm9yaWdpbmFsIiwiSVNfTUFDIiwicGxhdGZvcm0iLCJNT0RJRklFUlMiLCJhbHQiLCJjb250cm9sIiwibWV0YSIsInNoaWZ0IiwiQUxJQVNFUyIsImJyZWFrIiwiY21kIiwiY29tbWFuZCIsImN0bCIsImN0cmwiLCJkZWwiLCJkb3duIiwiZXNjIiwiaW5zIiwibW9kIiwib3B0Iiwib3B0aW9uIiwicmV0dXJuIiwic3BhY2UiLCJzcGFjZWJhciIsInVwIiwid2luIiwiQ09ERVMiLCJiYWNrc3BhY2UiLCJ0YWIiLCJlbnRlciIsInBhdXNlIiwiY2Fwc2xvY2siLCJlc2NhcGUiLCJwYWdldXAiLCJwYWdlZG93biIsImhvbWUiLCJhcnJvd2xlZnQiLCJhcnJvd3VwIiwiYXJyb3dyaWdodCIsImFycm93ZG93biIsImluc2VydCIsIm51bWxvY2siLCJzY3JvbGxsb2NrIiwiaXNIb3RrZXkiLCJob3RrZXkiLCJhcnJheSIsInBhcnNlSG90a2V5IiwiY2hlY2siLCJvYmplY3QiLCJjb21wYXJlSG90a2V5IiwiYnlLZXkiLCJyZXQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwib3B0aW9uYWwiLCJ0b0tleU5hbWUiLCJtb2RpZmllciIsIndoaWNoIiwidG9LZXlDb2RlIiwiZXhwZWN0ZWQiLCJhY3R1YWwiLCJ0b0xvd2VyQ2FzZSIsInRvVXBwZXJDYXNlIiwiaXNDb2RlSG90a2V5IiwiaXNPYmplY3QiLCJmdW5jIiwid2FpdCIsImxlYWRpbmciLCJ0cmFpbGluZyIsIlR5cGVFcnJvciIsImNhblVzZURPTSIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9yIiwiQ29uc3RydWN0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJQb3J0YWwiLCJfUmVhY3QkQ29tcG9uZW50IiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiZGVmYXVsdE5vZGUiLCJyZW5kZXIiLCJwcm9wVHlwZXMiLCJpc1JlcXVpcmVkIiwiY29tcG9uZW50RGlkTW91bnQiLCJyZW5kZXJQb3J0YWwiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwb3J0YWwiLCJMZWdhY3lQb3J0YWwiLCJLRVlDT0RFUyIsIlBvcnRhbFdpdGhTdGF0ZSIsIl90aGlzIiwicG9ydGFsTm9kZSIsImFjdGl2ZSIsImRlZmF1bHRPcGVuIiwib3BlblBvcnRhbCIsImNsb3NlUG9ydGFsIiwid3JhcFdpdGhQb3J0YWwiLCJoYW5kbGVPdXRzaWRlTW91c2VDbGljayIsImhhbmRsZUtleWRvd24iLCJjbG9zZU9uRXNjIiwiY2xvc2VPbk91dHNpZGVDbGljayIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInNldFN0YXRlIiwib25PcGVuIiwib25DbG9zZSIsIl90aGlzMiIsImJ1dHRvbiIsImtleUNvZGUiLCJpc09wZW4iLCJkZWZhdWx0UHJvcHMiLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRXaWR0aCIsInNjcm9sbFdpZHRoIiwib3ZlcmZsb3dZIiwib3ZlcmZsb3dYIiwiZnJhbWVFbGVtZW50Iiwic2tpcE92ZXJmbG93SGlkZGVuRWxlbWVudHMiLCJzY3JvbGxpbmdFbGVtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwidmlzdWFsVmlld3BvcnQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJzY3JvbGxYIiwicGFnZVhPZmZzZXQiLCJzY3JvbGxZIiwicGFnZVlPZmZzZXQiLCJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJUb3BXaWR0aCIsImJvcmRlclJpZ2h0V2lkdGgiLCJib3JkZXJCb3R0b21XaWR0aCIsIm9mZnNldFdpZHRoIiwib2Zmc2V0SGVpZ2h0Iiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsImlzT3B0aW9uc09iamVjdCIsImlzVGFyZ2V0QXR0YWNoZWQiLCJpc0Nvbm5lY3RlZCIsImJlaGF2aW9yIiwiY29tcHV0ZU9wdGlvbnMiLCJnZXRPcHRpb25zIiwiZGVmYXVsdEJlaGF2aW9yIiwiYWN0aW9ucyIsImNhblNtb290aFNjcm9sbCIsInNjcm9sbCJdLCJzb3VyY2VSb290IjoiIn0=