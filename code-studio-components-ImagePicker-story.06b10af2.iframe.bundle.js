"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[4354,3163],{"./src/code-studio/components/Icon.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var Icon=function(_React$Component){function Icon(){return _React$Component.apply(this,arguments)||this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(Icon,_React$Component),Icon.prototype.render=function render(){return _react.default.createElement("i",{className:"fa fa-"+this.props.iconId,style:{float:"left",fontSize:"24px",width:"32px",textAlign:"center"}})},Icon}(_react.default.Component);exports.default=Icon,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(Icon,"propTypes",{iconId:_propTypes.default.string.isRequired}),window.dashboard=window.dashboard||{},window.dashboard.Icon=Icon,module.exports=exports.default},"./src/code-studio/components/IconLibrary.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_IconList=_interopRequireDefault(__webpack_require__("./src/code-studio/components/IconList.jsx")),_SearchBar=_interopRequireDefault(__webpack_require__("./src/templates/SearchBar.jsx")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var IconLibrary=function(_React$Component){function IconLibrary(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this),"state",{search:""}),_defineProperty(_assertThisInitialized(_this),"search",(function(e){_this.setState({search:e.target.value.toLowerCase().replace(/[^-a-z0-9]/g,"")})})),_this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(IconLibrary,_React$Component),IconLibrary.prototype.render=function render(){return _react.default.createElement("div",null,_react.default.createElement("div",{style:{width:"300px",float:"right",marginBottom:10}},_react.default.createElement(_SearchBar.default,{onChange:this.search,placeholderText:_locale.default.iconSearchPlaceholder()})),_react.default.createElement(_IconList.default,{assetChosen:this.props.assetChosen,search:this.state.search}))},IconLibrary}(_react.default.Component);exports.default=IconLibrary,_defineProperty(IconLibrary,"propTypes",{assetChosen:_propTypes.default.func.isRequired}),module.exports=exports.default},"./src/code-studio/components/IconList.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_IconListEntry=_interopRequireDefault(__webpack_require__("./src/code-studio/components/IconListEntry.jsx")),_icons=__webpack_require__("./src/code-studio/components/icons.js"),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var IconList=function(_React$Component){function IconList(){return _React$Component.apply(this,arguments)||this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(IconList,_React$Component);var _proto=IconList.prototype;return _proto.getMatches=function getMatches(query){var results={};return Object.keys(_icons.aliases).forEach((function(alias){query.test(alias)&&_icons.aliases[alias].forEach((function(match){results[match]=alias}))})),results},_proto.render=function render(){var _this=this,search=this.props.search;"-"!==search[0]&&(search="(^|-)"+search);var query=new RegExp(search),results=this.getMatches(query),iconEntries=Object.keys(results).map((function(iconId){return _react.default.createElement(_IconListEntry.default,{key:iconId,assetChosen:_this.props.assetChosen,iconId,altMatch:results[iconId],query,search:_this.props.search})}));return _react.default.createElement("div",{style:{height:"330px",overflowY:"scroll",clear:"both"}},iconEntries.length>0?iconEntries:_locale.default.noIconsFound())},IconList}(_react.default.Component);exports.default=IconList,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(IconList,"propTypes",{assetChosen:_propTypes.default.func.isRequired,search:_propTypes.default.string.isRequired}),module.exports=exports.default},"./src/code-studio/components/IconListEntry.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_Icon=_interopRequireDefault(__webpack_require__("./src/code-studio/components/Icon.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var IconListEntry=function(_React$Component){function IconListEntry(){return _React$Component.apply(this,arguments)||this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(IconListEntry,_React$Component);var _proto=IconListEntry.prototype;return _proto.highlightSearch=function highlightSearch(str){var offset=str.indexOf(this.props.search);if(-1===offset)return str;var left=str.substr(0,offset),right=str.substr(offset+this.props.search.length);return _react.default.createElement("span",null,left,_react.default.createElement("span",{style:{backgroundColor:"#ffc"}},this.props.search),right)},_proto.render=function render(){var iconLabel,columnWidth,altMatchText,styles={altMatchText:{float:"left",fontSize:"13px",color:"#999"},iconLabel:{float:"left",margin:"0 5px",fontSize:"13px",color:"#000"}};if(this.props.search){columnWidth="33%";var highlightedName=this.props.iconId;this.props.query.test(this.props.iconId)?highlightedName=this.highlightSearch(this.props.iconId):altMatchText=_react.default.createElement("p",{style:styles.altMatchText},"(",this.highlightSearch(this.props.altMatch),")"),iconLabel=_react.default.createElement("div",null,_react.default.createElement("p",{style:styles.iconLabel},highlightedName),altMatchText)}var rootStyles={float:"left",width:columnWidth,height:"35px",cursor:"pointer"},asset="fa-"+this.props.iconId;return _react.default.createElement("div",{style:rootStyles,title:this.props.iconId,onClick:this.props.assetChosen.bind(null,asset)},_react.default.createElement(_Icon.default,{iconId:this.props.iconId}),iconLabel)},IconListEntry}(_react.default.Component);exports.default=IconListEntry,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(IconListEntry,"propTypes",{assetChosen:_propTypes.default.func.isRequired,iconId:_propTypes.default.string.isRequired,altMatch:_propTypes.default.string.isRequired,query:_propTypes.default.instanceOf(RegExp).isRequired,search:_propTypes.default.string.isRequired}),window.dashboard=window.dashboard||{},window.dashboard.IconListEntry=IconListEntry,module.exports=exports.default},"./src/code-studio/components/ImagePicker.jsx":(module,exports,__webpack_require__)=>{function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_redux=__webpack_require__("./src/redux.js"),_AssetManager=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./src/code-studio/components/AssetManager.jsx")),_color=_interopRequireDefault(__webpack_require__("./src/util/color.js")),_IconLibrary=_interopRequireDefault(__webpack_require__("./src/code-studio/components/IconLibrary.jsx")),_ImageURLInput=_interopRequireDefault(__webpack_require__("./src/code-studio/components/ImageURLInput.jsx")),_constants=__webpack_require__("./src/applab/constants.js"),_recorders=__webpack_require__("./src/code-studio/components/recorders.js"),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_fontConstants=_interopRequireDefault(__webpack_require__("./src/fontConstants.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var extensionFilter={image:".jpg, .jpeg, .jfif, .gif, .png",audio:".mp3, .wav",document:".jpg, .jpeg, .gif, .png, .pdf, .doc, .docx",default:".jpg, .jpeg, .jfif, .gif, .png, .mp3, .wav, .pdf, .doc, .docx"},ImagePicker=function(_React$Component){function ImagePicker(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this),"state",{mode:_AssetManager.ImageMode.FILE}),_defineProperty(_assertThisInitialized(_this),"getAssetNameWithPrefix",(function(icon){_this.props.assetChosen(_constants.ICON_PREFIX+icon)})),_defineProperty(_assertThisInitialized(_this),"setMode",(function(mode){_this.setState({mode})})),_defineProperty(_assertThisInitialized(_this),"getBody",(function(disableAudio,levelName,isStartMode){if(_this.props.assetChosen&&_this.state.mode!==_AssetManager.ImageMode.FILE)return _this.state.mode===_AssetManager.ImageMode.ICON?_react.default.createElement(_IconLibrary.default,{assetChosen:_this.getAssetNameWithPrefix}):_react.default.createElement(_ImageURLInput.default,{assetChosen:_this.props.assetChosen,allowedExtensions:extensionFilter[_this.props.typeFilter],currentValue:_this.props.currentImageType===_AssetManager.ImageMode.URL?_this.props.currentValue:""});var allowedExtensions=_this.props.customAllowedExtensions||extensionFilter[_this.props.typeFilter]||extensionFilter.default;return _react.default.createElement(_AssetManager.default,{assetChosen:_this.props.assetChosen,assetsChanged:_this.props.assetsChanged,allowedExtensions,uploadsEnabled:_this.props.uploadsEnabled,useFilesApi:_this.props.useFilesApi,projectId:_this.props.projectId,soundPlayer:_this.props.soundPlayer,disableAudioRecording:disableAudio,recordingFileType:_this.props.recordingFileType,imagePicker:!0,elementId:_this.props.elementId,levelName,isStartMode})})),_this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(ImagePicker,_React$Component),ImagePicker.prototype.render=function render(){var _this2=this,styles={root:{margin:"0 0 0 5px"},fileModeToggle:{float:"left",margin:"0 20px 0 0",color:this.state.mode===_AssetManager.ImageMode.FILE?null:"#999",fontSize:"16px",cursor:"pointer"},iconModeToggle:{margin:0,fontSize:"16px",color:this.state.mode===_AssetManager.ImageMode.ICON?null:"#999",cursor:"pointer"},urlModeToggle:{margin:"0 20px 0 0",fontSize:"16px",color:this.state.mode===_AssetManager.ImageMode.URL?null:"#999",cursor:"pointer"},divider:{borderColor:_color.default.purple,margin:"5px 0"},warning:{color:_color.default.red,fontSize:13,fontWeight:"bold"}};this.state.mode===_AssetManager.ImageMode.FILE&&(styles.fileModeToggle=_objectSpread(_objectSpread({},styles.fileModeToggle),_fontConstants.default["main-font-semi-bold"])),this.state.mode===_AssetManager.ImageMode.ICON&&(styles.iconModeToggle=_objectSpread(_objectSpread({},styles.iconModeToggle),_fontConstants.default["main-font-semi-bold"])),this.state.mode===_AssetManager.ImageMode.URL&&(styles.urlModeToggle=_objectSpread(_objectSpread({},styles.urlModeToggle),_fontConstants.default["main-font-semi-bold"]));var modeSwitch,title=this.props.assetChosen?_react.default.createElement("p",{className:"dialog-title"},_locale.default.chooseAssets()):_react.default.createElement("p",{className:"dialog-title"},_locale.default.manageAssets()),imageTypeFilter=!this.props.typeFilter||"image"===this.props.typeFilter;this.props.assetChosen&&imageTypeFilter&&(modeSwitch=_react.default.createElement("div",{id:"modeSwitch"},_react.default.createElement("span",{onClick:function onClick(){return _this2.setMode(_AssetManager.ImageMode.FILE)},style:styles.fileModeToggle},_locale.default.myFiles()),_react.default.createElement("span",{onClick:function onClick(){return _this2.setMode(_AssetManager.ImageMode.URL)},style:styles.urlModeToggle},_locale.default.linkToImage()),_react.default.createElement("span",{onClick:function onClick(){return _this2.setMode(_AssetManager.ImageMode.ICON)},style:styles.iconModeToggle},_locale.default.icons()),_react.default.createElement("hr",{style:styles.divider})));var levelName,isStartMode,disableAudio=this.props.disableAudioRecording||!!this.props.assetChosen,reduxState=(0,_redux.getStore)().getState();return reduxState&&reduxState.level&&(levelName=reduxState.level.name,isStartMode=reduxState.level.isStartMode),reduxState.javalab&&reduxState.javalab.levelName&&(levelName=reduxState.javalab.levelName,isStartMode=reduxState.javalab.isStartMode),_react.default.createElement("div",{className:"modal-content",style:styles.root},title,this.props.showUnderageWarning&&_react.default.createElement("p",{style:styles.warning},_locale.default.warningUploadingPersonalInformation()),modeSwitch,this.getBody(disableAudio,levelName,isStartMode))},ImagePicker}(_react.default.Component);exports.default=ImagePicker,_defineProperty(ImagePicker,"propTypes",{assetChosen:_propTypes.default.func,assetsChanged:_propTypes.default.func,typeFilter:_propTypes.default.string,customAllowedExtensions:_propTypes.default.string,uploadsEnabled:_propTypes.default.bool.isRequired,showUnderageWarning:_propTypes.default.bool.isRequired,useFilesApi:_propTypes.default.bool,soundPlayer:_propTypes.default.object,disableAudioRecording:_propTypes.default.bool,recordingFileType:_propTypes.default.oneOf(Object.values(_recorders.RecordingFileType)),currentValue:_propTypes.default.string,currentImageType:_propTypes.default.string,projectId:_propTypes.default.string,elementId:_propTypes.default.string}),module.exports=exports.default},"./src/code-studio/components/ImageURLInput.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_moment=_interopRequireDefault(__webpack_require__("./node_modules/moment/moment.js")),_InputPrompt=_interopRequireDefault(__webpack_require__("./src/templates/InputPrompt.jsx")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_assetPrefix=__webpack_require__("./src/assetManagement/assetPrefix.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ImageURLInput=function(_React$Component){function ImageURLInput(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this),"state",{showError:!1}),_defineProperty(_assertThisInitialized(_this),"handleSubmitWrapper",(function(url){_assetPrefix.ABSOLUTE_REGEXP.test(url)?_this.props.assetChosen(url,(0,_moment.default)()):_this.setState({showError:!0})})),_this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(ImageURLInput,_React$Component),ImageURLInput.prototype.render=function render(){return _react.default.createElement("div",null,_react.default.createElement("div",{style:styles.supportingText},_locale.default.imageURLInputDescription()),_react.default.createElement(_InputPrompt.default,{question:_locale.default.imageURLInputPrompt(),onInputReceived:this.handleSubmitWrapper,currentValue:this.props.currentValue}),this.state.showError&&_react.default.createElement("div",{style:styles.error},_locale.default.imageURLInputInvalid()),_react.default.createElement("div",{style:styles.example},_locale.default.imageURLInputExample()))},ImageURLInput}(_react.default.Component);exports.default=ImageURLInput,_defineProperty(ImageURLInput,"propTypes",{assetChosen:_propTypes.default.func,allowedExtensions:_propTypes.default.string,currentValue:_propTypes.default.string});var styles={supportingText:{margin:"1em 0",fontSize:"16px",lineHeight:"20px"},example:{margin:"1em 0",fontSize:"16px",lineHeight:"20px"},error:{color:"red"}};module.exports=exports.default},"./src/templates/InputPrompt.jsx":(module,exports,__webpack_require__)=>{function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/prop-types/index.js")),_react=function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./node_modules/react/index.js"));function _getRequireWildcardCache(nodeInterop){if("function"!=typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var InputPrompt=function(_Component){function InputPrompt(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_this=_Component.call.apply(_Component,[this].concat(args))||this),"state",{value:_this.props.currentValue}),_defineProperty(_assertThisInitialized(_this),"handleSubmit",(function(e){e.preventDefault(),_this.props.onInputReceived(_this.refs.answer.value)})),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(InputPrompt,_Component);var _proto=InputPrompt.prototype;return _proto.componentDidMount=function componentDidMount(){this.refs.answer.focus()},_proto.render=function render(){var _this2=this;return _react.default.createElement("form",{style:styles.form,onSubmit:this.handleSubmit},_react.default.createElement("div",{style:styles.wrapper},_react.default.createElement("label",{style:styles.question},this.props.question),_react.default.createElement("input",{ref:"answer",value:this.state.value,onChange:function onChange(e){return _this2.setState({value:e.target.value})},type:"text",style:styles.input}),_react.default.createElement("input",{type:"submit",className:"btn",style:styles.submit})))},InputPrompt}(_react.Component);exports.default=InputPrompt,_defineProperty(InputPrompt,"propTypes",{question:_propTypes.default.string.isRequired,onInputReceived:_propTypes.default.func.isRequired,currentValue:_propTypes.default.string});var styles={form:{background:"#fff"},wrapper:{margin:20},question:{fontSize:18},input:{fontSize:18,width:"100%",height:"2em",boxSizing:"border-box"},submit:{fontSize:18}};module.exports=exports.default},"./src/templates/SearchBar.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_color=_interopRequireDefault(__webpack_require__("./src/util/color.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var SearchBar=function(_React$Component){function SearchBar(){return _React$Component.apply(this,arguments)||this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(SearchBar,_React$Component);var _proto=SearchBar.prototype;return _proto.componentDidMount=function componentDidMount(){this.searchBox.focus()},_proto.render=function render(){var _this=this;return _react.default.createElement("div",{style:styles.searchArea},_react.default.createElement("span",{className:"fa fa-search",style:styles.icon}),_react.default.createElement("input",{style:styles.input,placeholder:this.props.placeholderText,onChange:this.props.onChange,ref:function ref(input){_this.searchBox=input}}),this.props.clearButton&&_react.default.createElement("span",{className:"fa fa-close",style:styles.clearIcon,onClick:function onClick(){_this.searchBox.value="",_this.props.onChange()}}))},SearchBar}(_react.default.Component);exports.default=SearchBar,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(SearchBar,"propTypes",{placeholderText:_propTypes.default.string.isRequired,onChange:_propTypes.default.func.isRequired,clearButton:_propTypes.default.bool});var styles={input:{width:"100%",boxSizing:"border-box",padding:"3px 7px",margin:0,borderStyle:"solid",borderWidth:1,borderColor:_color.default.light_gray,borderRadius:4,textIndent:22},icon:{position:"absolute",top:6,left:5,fontSize:16,color:_color.default.light_gray},clearIcon:{position:"absolute",top:6,right:5,fontSize:16,color:_color.default.light_gray,cursor:"pointer"},searchArea:{position:"relative",margin:"10px 0"}};module.exports=exports.default},"./src/code-studio/components/ImagePicker.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.WithWarning=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_ImagePicker=_interopRequireDefault(__webpack_require__("./src/code-studio/components/ImagePicker.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={component:_ImagePicker.default};exports.default=_default;var WithWarning=function Template(args){return _react.default.createElement(_ImagePicker.default,args)}.bind({});exports.WithWarning=WithWarning,WithWarning.args={showUnderageWarning:!0,uploadsEnabled:!0}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZS1zdHVkaW8tY29tcG9uZW50cy1JbWFnZVBpY2tlci1zdG9yeS5jNmZlNmI1Ni5pZnJhbWUuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiIrUEFBQSxpR0FDQSxvRix5UUFLcUJBLEtBQUFBLFNBQUFBLGtCLG1TQUtuQkMsT0FBQSxTQUFBQSxTQVVFLE9BQU8sa0NBQUdDLFVBQVcsU0FBV0MsS0FBS0MsTUFBTUMsT0FBUUMsTUFSM0MsQ0FDSkMsTUFBTyxPQUNQQyxTQUFVLE9BQ1ZDLE1BQU8sT0FDUEMsVUFBVyxXQUtoQixFLEtBaEJrQlYsQ0FBYVcsT0FBQUEsUUFBTUMsVyxvTEFBbkJaLEtBQUFBLFlBQ0EsQ0FDakJLLE9BQVFRLFdBQUFBLFFBQVVDLE9BQU9DLGFBaUI3QkMsT0FBT0MsVUFBWUQsT0FBT0MsV0FBYSxDQUFDLEVBQ3hDRCxPQUFPQyxVQUFVakIsS0FBT0EsSyxvTUMxQnhCLGlHQUNBLG9GQUNBLG1HQUNBLHdGQUNBLDBGLGdrQkFLcUJrQixZQUFBQSxTQUFBQSxrQix3UUFLWCxDQUFDQyxPQUFRLEssd0RBRVIsU0FBQUMsR0FDUCxNQUFLQyxTQUFTLENBQ1pGLE9BQVFDLEVBQUVFLE9BQU9DLE1BQU1DLGNBQWNDLFFBQVEsY0FBZSxLQUUvRCxJLG1QQUVEeEIsT0FBQSxTQUFBQSxTQUNFLE9BQ0Usd0NBQ0Usb0NBQUtLLE1BQU8sQ0FBQ0csTUFBTyxRQUFTRixNQUFPLFFBQVNtQixhQUFjLEtBQ3pELDZCQUFDLG1CQUFELENBQ0VDLFNBQVV4QixLQUFLZ0IsT0FDZlMsZ0JBQWlCQyxRQUFBQSxRQUFLQywyQkFHMUIsNkJBQUMsa0JBQUQsQ0FDRUMsWUFBYTVCLEtBQUtDLE1BQU0yQixZQUN4QlosT0FBUWhCLEtBQUs2QixNQUFNYixTQUkxQixFLFlBNUJrQkQsQ0FBb0JQLE9BQUFBLFFBQU1DLFcsNENBQTFCTSxZQUFBQSxZQUNBLENBQ2pCYSxZQUFhbEIsV0FBQUEsUUFBVW9CLEtBQUtsQixhLGlNQ1hoQyxpR0FDQSxvRkFDQSw2R0FDQSxv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SCxZQUFZRSxLQUFPLENBQ2pCekQscUJBQXFCLEVBQ3JCbEMsZ0JBQWdCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvY29kZS1zdHVkaW8vY29tcG9uZW50cy9JY29uLmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvY29kZS1zdHVkaW8vY29tcG9uZW50cy9JY29uTGlicmFyeS5qc3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL2NvZGUtc3R1ZGlvL2NvbXBvbmVudHMvSWNvbkxpc3QuanN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9jb2RlLXN0dWRpby9jb21wb25lbnRzL0ljb25MaXN0RW50cnkuanN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9jb2RlLXN0dWRpby9jb21wb25lbnRzL0ltYWdlUGlja2VyLmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvY29kZS1zdHVkaW8vY29tcG9uZW50cy9JbWFnZVVSTElucHV0LmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvdGVtcGxhdGVzL0lucHV0UHJvbXB0LmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvdGVtcGxhdGVzL1NlYXJjaEJhci5qc3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL2NvZGUtc3R1ZGlvL2NvbXBvbmVudHMvSW1hZ2VQaWNrZXIuc3RvcnkuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIEEgc2luZ2xlIGljb24uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEljb24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIGljb25JZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzdHlsZXMgPSB7XG4gICAgICByb290OiB7XG4gICAgICAgIGZsb2F0OiAnbGVmdCcsXG4gICAgICAgIGZvbnRTaXplOiAnMjRweCcsXG4gICAgICAgIHdpZHRoOiAnMzJweCcsXG4gICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICByZXR1cm4gPGkgY2xhc3NOYW1lPXsnZmEgZmEtJyArIHRoaXMucHJvcHMuaWNvbklkfSBzdHlsZT17c3R5bGVzLnJvb3R9IC8+O1xuICB9XG59XG5cbndpbmRvdy5kYXNoYm9hcmQgPSB3aW5kb3cuZGFzaGJvYXJkIHx8IHt9O1xud2luZG93LmRhc2hib2FyZC5JY29uID0gSWNvbjtcbiIsImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEljb25MaXN0IGZyb20gJy4vSWNvbkxpc3QnO1xuaW1wb3J0IFNlYXJjaEJhciBmcm9tICdAY2RvL2FwcHMvdGVtcGxhdGVzL1NlYXJjaEJhcic7XG5pbXBvcnQgaTE4biBmcm9tICdAY2RvL2xvY2FsZSc7XG5cbi8qKlxuICogQSBjb21wb25lbnQgZm9yIG1hbmFnaW5nIGljb25zLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJY29uTGlicmFyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgYXNzZXRDaG9zZW46IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIH07XG5cbiAgc3RhdGUgPSB7c2VhcmNoOiAnJ307XG5cbiAgc2VhcmNoID0gZSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzZWFyY2g6IGUudGFyZ2V0LnZhbHVlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvW14tYS16MC05XS9nLCAnJyksXG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6ICczMDBweCcsIGZsb2F0OiAncmlnaHQnLCBtYXJnaW5Cb3R0b206IDEwfX0+XG4gICAgICAgICAgPFNlYXJjaEJhclxuICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuc2VhcmNofVxuICAgICAgICAgICAgcGxhY2Vob2xkZXJUZXh0PXtpMThuLmljb25TZWFyY2hQbGFjZWhvbGRlcigpfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8SWNvbkxpc3RcbiAgICAgICAgICBhc3NldENob3Nlbj17dGhpcy5wcm9wcy5hc3NldENob3Nlbn1cbiAgICAgICAgICBzZWFyY2g9e3RoaXMuc3RhdGUuc2VhcmNofVxuICAgICAgICAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSWNvbkxpc3RFbnRyeSBmcm9tICcuL0ljb25MaXN0RW50cnknO1xuaW1wb3J0IHthbGlhc2VzfSBmcm9tICcuL2ljb25zJztcbmltcG9ydCBpMThuIGZyb20gJ0BjZG8vbG9jYWxlJztcblxuLyoqXG4gKiBBIGNvbXBvbmVudCBmb3IgbWFuYWdpbmcgaWNvbnMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEljb25MaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBhc3NldENob3NlbjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBzZWFyY2g6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgfTtcblxuICBnZXRNYXRjaGVzKHF1ZXJ5KSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IHt9O1xuXG4gICAgT2JqZWN0LmtleXMoYWxpYXNlcykuZm9yRWFjaChmdW5jdGlvbiAoYWxpYXMpIHtcbiAgICAgIGlmIChxdWVyeS50ZXN0KGFsaWFzKSkge1xuICAgICAgICBhbGlhc2VzW2FsaWFzXS5mb3JFYWNoKGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgIHJlc3VsdHNbbWF0Y2hdID0gYWxpYXM7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qgc3R5bGVzID0ge1xuICAgICAgcm9vdDoge1xuICAgICAgICBoZWlnaHQ6ICczMzBweCcsXG4gICAgICAgIG92ZXJmbG93WTogJ3Njcm9sbCcsXG4gICAgICAgIGNsZWFyOiAnYm90aCcsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBsZXQgc2VhcmNoID0gdGhpcy5wcm9wcy5zZWFyY2g7XG4gICAgaWYgKHNlYXJjaFswXSAhPT0gJy0nKSB7XG4gICAgICBzZWFyY2ggPSAnKF58LSknICsgc2VhcmNoO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeSA9IG5ldyBSZWdFeHAoc2VhcmNoKTtcbiAgICBjb25zdCByZXN1bHRzID0gdGhpcy5nZXRNYXRjaGVzKHF1ZXJ5KTtcblxuICAgIGNvbnN0IGljb25FbnRyaWVzID0gT2JqZWN0LmtleXMocmVzdWx0cykubWFwKGljb25JZCA9PiAoXG4gICAgICA8SWNvbkxpc3RFbnRyeVxuICAgICAgICBrZXk9e2ljb25JZH1cbiAgICAgICAgYXNzZXRDaG9zZW49e3RoaXMucHJvcHMuYXNzZXRDaG9zZW59XG4gICAgICAgIGljb25JZD17aWNvbklkfVxuICAgICAgICBhbHRNYXRjaD17cmVzdWx0c1tpY29uSWRdfVxuICAgICAgICBxdWVyeT17cXVlcnl9XG4gICAgICAgIHNlYXJjaD17dGhpcy5wcm9wcy5zZWFyY2h9XG4gICAgICAvPlxuICAgICkpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGU9e3N0eWxlcy5yb290fT5cbiAgICAgICAge2ljb25FbnRyaWVzLmxlbmd0aCA+IDAgPyBpY29uRW50cmllcyA6IGkxOG4ubm9JY29uc0ZvdW5kKCl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJY29uIGZyb20gJy4vSWNvbic7XG5cbi8qKlxuICogQSBsaXN0IG9mIGljb25zLCBtYXliZSBmaWx0ZXJlZCBieSBhIHNlYXJjaCBxdWVyeS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSWNvbkxpc3RFbnRyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgYXNzZXRDaG9zZW46IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgaWNvbklkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgYWx0TWF0Y2g6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBxdWVyeTogUHJvcFR5cGVzLmluc3RhbmNlT2YoUmVnRXhwKS5pc1JlcXVpcmVkLFxuICAgIHNlYXJjaDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICB9O1xuXG4gIGhpZ2hsaWdodFNlYXJjaChzdHIpIHtcbiAgICBjb25zdCBvZmZzZXQgPSBzdHIuaW5kZXhPZih0aGlzLnByb3BzLnNlYXJjaCk7XG4gICAgaWYgKG9mZnNldCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIGNvbnN0IGxlZnQgPSBzdHIuc3Vic3RyKDAsIG9mZnNldCk7XG4gICAgY29uc3QgcmlnaHQgPSBzdHIuc3Vic3RyKG9mZnNldCArIHRoaXMucHJvcHMuc2VhcmNoLmxlbmd0aCk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuPlxuICAgICAgICB7bGVmdH1cbiAgICAgICAgPHNwYW4gc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6ICcjZmZjJ319Pnt0aGlzLnByb3BzLnNlYXJjaH08L3NwYW4+XG4gICAgICAgIHtyaWdodH1cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHN0eWxlcyA9IHtcbiAgICAgIGFsdE1hdGNoVGV4dDoge1xuICAgICAgICBmbG9hdDogJ2xlZnQnLFxuICAgICAgICBmb250U2l6ZTogJzEzcHgnLFxuICAgICAgICBjb2xvcjogJyM5OTknLFxuICAgICAgfSxcbiAgICAgIGljb25MYWJlbDoge1xuICAgICAgICBmbG9hdDogJ2xlZnQnLFxuICAgICAgICBtYXJnaW46ICcwIDVweCcsXG4gICAgICAgIGZvbnRTaXplOiAnMTNweCcsXG4gICAgICAgIGNvbG9yOiAnIzAwMCcsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBsZXQgaWNvbkxhYmVsLCBjb2x1bW5XaWR0aCwgYWx0TWF0Y2hUZXh0O1xuXG4gICAgaWYgKHRoaXMucHJvcHMuc2VhcmNoKSB7XG4gICAgICBjb2x1bW5XaWR0aCA9ICczMyUnO1xuXG4gICAgICBsZXQgaGlnaGxpZ2h0ZWROYW1lID0gdGhpcy5wcm9wcy5pY29uSWQ7XG4gICAgICBpZiAoIXRoaXMucHJvcHMucXVlcnkudGVzdCh0aGlzLnByb3BzLmljb25JZCkpIHtcbiAgICAgICAgLy8gV2UgbWF0Y2hlZCBiYXNlZCBvbiBhbiBhbHRlcm5hdGUga2V5d29yZCwgc2hvdyB0aGF0IGtleXdvcmQgaW4gcGFyZW5zXG4gICAgICAgIC8vIG5leHQgdG8gdGhlIGljb24gSUQuXG4gICAgICAgIGFsdE1hdGNoVGV4dCA9IChcbiAgICAgICAgICA8cCBzdHlsZT17c3R5bGVzLmFsdE1hdGNoVGV4dH0+XG4gICAgICAgICAgICAoe3RoaXMuaGlnaGxpZ2h0U2VhcmNoKHRoaXMucHJvcHMuYWx0TWF0Y2gpfSlcbiAgICAgICAgICA8L3A+XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaWdobGlnaHRlZE5hbWUgPSB0aGlzLmhpZ2hsaWdodFNlYXJjaCh0aGlzLnByb3BzLmljb25JZCk7XG4gICAgICB9XG5cbiAgICAgIGljb25MYWJlbCA9IChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8cCBzdHlsZT17c3R5bGVzLmljb25MYWJlbH0+e2hpZ2hsaWdodGVkTmFtZX08L3A+XG4gICAgICAgICAge2FsdE1hdGNoVGV4dH1cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHJvb3RTdHlsZXMgPSB7XG4gICAgICBmbG9hdDogJ2xlZnQnLFxuICAgICAgd2lkdGg6IGNvbHVtbldpZHRoLFxuICAgICAgaGVpZ2h0OiAnMzVweCcsXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICB9O1xuXG4gICAgY29uc3QgYXNzZXQgPSAnZmEtJyArIHRoaXMucHJvcHMuaWNvbklkO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgc3R5bGU9e3Jvb3RTdHlsZXN9XG4gICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmljb25JZH1cbiAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5hc3NldENob3Nlbi5iaW5kKG51bGwsIGFzc2V0KX1cbiAgICAgID5cbiAgICAgICAgPEljb24gaWNvbklkPXt0aGlzLnByb3BzLmljb25JZH0gLz5cbiAgICAgICAge2ljb25MYWJlbH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxud2luZG93LmRhc2hib2FyZCA9IHdpbmRvdy5kYXNoYm9hcmQgfHwge307XG53aW5kb3cuZGFzaGJvYXJkLkljb25MaXN0RW50cnkgPSBJY29uTGlzdEVudHJ5O1xuIiwiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge2dldFN0b3JlfSBmcm9tICdAY2RvL2FwcHMvcmVkdXgnO1xuaW1wb3J0IEFzc2V0TWFuYWdlciwge0ltYWdlTW9kZX0gZnJvbSAnLi9Bc3NldE1hbmFnZXInO1xuaW1wb3J0IGNvbG9yIGZyb20gJy4uLy4uL3V0aWwvY29sb3InO1xuaW1wb3J0IEljb25MaWJyYXJ5IGZyb20gJy4vSWNvbkxpYnJhcnknO1xuaW1wb3J0IEltYWdlVVJMSW5wdXQgZnJvbSAnLi9JbWFnZVVSTElucHV0JztcbmltcG9ydCB7SUNPTl9QUkVGSVh9IGZyb20gJ0BjZG8vYXBwcy9hcHBsYWIvY29uc3RhbnRzJztcbmltcG9ydCB7UmVjb3JkaW5nRmlsZVR5cGV9IGZyb20gJy4vcmVjb3JkZXJzJztcbmltcG9ydCBpMThuIGZyb20gJ0BjZG8vbG9jYWxlJztcbmltcG9ydCBmb250Q29uc3RhbnRzIGZyb20gJ0BjZG8vYXBwcy9mb250Q29uc3RhbnRzJztcblxuY29uc3QgZXh0ZW5zaW9uRmlsdGVyID0ge1xuICAvLyBOb3RlOiAuamZpZiBmaWxlcyB3aWxsIGJlIGNvbnZlcnRlZCB0byAuanBnIGJ5IHRoZSBzZXJ2ZXIuXG4gIGltYWdlOiAnLmpwZywgLmpwZWcsIC5qZmlmLCAuZ2lmLCAucG5nJyxcbiAgYXVkaW86ICcubXAzLCAud2F2JyxcbiAgZG9jdW1lbnQ6ICcuanBnLCAuanBlZywgLmdpZiwgLnBuZywgLnBkZiwgLmRvYywgLmRvY3gnLFxuICAvLyBEZWZhdWx0IHNldCBvZiB2YWxpZCBleHRlbnNpb25zICh1c2VkIGlmIHR5cGUgZmlsdGVyIGlzIG5vdCBzcGVjaWZpZWQpXG4gIGRlZmF1bHQ6ICcuanBnLCAuanBlZywgLmpmaWYsIC5naWYsIC5wbmcsIC5tcDMsIC53YXYsIC5wZGYsIC5kb2MsIC5kb2N4Jyxcbn07XG5cbi8qKlxuICogQSBjb21wb25lbnQgZm9yIG1hbmFnaW5nIGhvc3RlZCBhc3NldHMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlUGlja2VyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBhc3NldENob3NlbjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgYXNzZXRzQ2hhbmdlZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgdHlwZUZpbHRlcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjdXN0b21BbGxvd2VkRXh0ZW5zaW9uczogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB1cGxvYWRzRW5hYmxlZDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICBzaG93VW5kZXJhZ2VXYXJuaW5nOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgIHVzZUZpbGVzQXBpOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBzb3VuZFBsYXllcjogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBkaXNhYmxlQXVkaW9SZWNvcmRpbmc6IFByb3BUeXBlcy5ib29sLFxuICAgIHJlY29yZGluZ0ZpbGVUeXBlOiBQcm9wVHlwZXMub25lT2YoT2JqZWN0LnZhbHVlcyhSZWNvcmRpbmdGaWxlVHlwZSkpLFxuICAgIGN1cnJlbnRWYWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjdXJyZW50SW1hZ2VUeXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIC8vRm9yIGxvZ2dpbmcgcHVycG9zZXNcbiAgICBwcm9qZWN0SWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZWxlbWVudElkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB9O1xuXG4gIHN0YXRlID0ge21vZGU6IEltYWdlTW9kZS5GSUxFfTtcblxuICBnZXRBc3NldE5hbWVXaXRoUHJlZml4ID0gaWNvbiA9PiB7XG4gICAgdGhpcy5wcm9wcy5hc3NldENob3NlbihJQ09OX1BSRUZJWCArIGljb24pO1xuICB9O1xuXG4gIHNldE1vZGUgPSBtb2RlID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHttb2RlfSk7XG4gIH07XG5cbiAgZ2V0Qm9keSA9IChkaXNhYmxlQXVkaW8sIGxldmVsTmFtZSwgaXNTdGFydE1vZGUpID0+IHtcbiAgICBpZiAoIXRoaXMucHJvcHMuYXNzZXRDaG9zZW4gfHwgdGhpcy5zdGF0ZS5tb2RlID09PSBJbWFnZU1vZGUuRklMRSkge1xuICAgICAgY29uc3QgYWxsb3dlZEV4dGVuc2lvbnMgPVxuICAgICAgICB0aGlzLnByb3BzLmN1c3RvbUFsbG93ZWRFeHRlbnNpb25zIHx8XG4gICAgICAgIGV4dGVuc2lvbkZpbHRlclt0aGlzLnByb3BzLnR5cGVGaWx0ZXJdIHx8XG4gICAgICAgIGV4dGVuc2lvbkZpbHRlci5kZWZhdWx0O1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEFzc2V0TWFuYWdlclxuICAgICAgICAgIGFzc2V0Q2hvc2VuPXt0aGlzLnByb3BzLmFzc2V0Q2hvc2VufVxuICAgICAgICAgIGFzc2V0c0NoYW5nZWQ9e3RoaXMucHJvcHMuYXNzZXRzQ2hhbmdlZH1cbiAgICAgICAgICBhbGxvd2VkRXh0ZW5zaW9ucz17YWxsb3dlZEV4dGVuc2lvbnN9XG4gICAgICAgICAgdXBsb2Fkc0VuYWJsZWQ9e3RoaXMucHJvcHMudXBsb2Fkc0VuYWJsZWR9XG4gICAgICAgICAgdXNlRmlsZXNBcGk9e3RoaXMucHJvcHMudXNlRmlsZXNBcGl9XG4gICAgICAgICAgcHJvamVjdElkPXt0aGlzLnByb3BzLnByb2plY3RJZH1cbiAgICAgICAgICBzb3VuZFBsYXllcj17dGhpcy5wcm9wcy5zb3VuZFBsYXllcn1cbiAgICAgICAgICBkaXNhYmxlQXVkaW9SZWNvcmRpbmc9e2Rpc2FibGVBdWRpb31cbiAgICAgICAgICByZWNvcmRpbmdGaWxlVHlwZT17dGhpcy5wcm9wcy5yZWNvcmRpbmdGaWxlVHlwZX1cbiAgICAgICAgICBpbWFnZVBpY2tlcj17dHJ1ZX1cbiAgICAgICAgICBlbGVtZW50SWQ9e3RoaXMucHJvcHMuZWxlbWVudElkfVxuICAgICAgICAgIGxldmVsTmFtZT17bGV2ZWxOYW1lfVxuICAgICAgICAgIGlzU3RhcnRNb2RlPXtpc1N0YXJ0TW9kZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLm1vZGUgPT09IEltYWdlTW9kZS5JQ09OKSB7XG4gICAgICByZXR1cm4gPEljb25MaWJyYXJ5IGFzc2V0Q2hvc2VuPXt0aGlzLmdldEFzc2V0TmFtZVdpdGhQcmVmaXh9IC8+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8SW1hZ2VVUkxJbnB1dFxuICAgICAgICAgIGFzc2V0Q2hvc2VuPXt0aGlzLnByb3BzLmFzc2V0Q2hvc2VufVxuICAgICAgICAgIGFsbG93ZWRFeHRlbnNpb25zPXtleHRlbnNpb25GaWx0ZXJbdGhpcy5wcm9wcy50eXBlRmlsdGVyXX1cbiAgICAgICAgICBjdXJyZW50VmFsdWU9e1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5jdXJyZW50SW1hZ2VUeXBlID09PSBJbWFnZU1vZGUuVVJMXG4gICAgICAgICAgICAgID8gdGhpcy5wcm9wcy5jdXJyZW50VmFsdWVcbiAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgIH1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzdHlsZXMgPSB7XG4gICAgICByb290OiB7XG4gICAgICAgIG1hcmdpbjogJzAgMCAwIDVweCcsXG4gICAgICB9LFxuICAgICAgZmlsZU1vZGVUb2dnbGU6IHtcbiAgICAgICAgZmxvYXQ6ICdsZWZ0JyxcbiAgICAgICAgbWFyZ2luOiAnMCAyMHB4IDAgMCcsXG4gICAgICAgIGNvbG9yOiB0aGlzLnN0YXRlLm1vZGUgPT09IEltYWdlTW9kZS5GSUxFID8gbnVsbCA6ICcjOTk5JyxcbiAgICAgICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICB9LFxuICAgICAgaWNvbk1vZGVUb2dnbGU6IHtcbiAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICBmb250U2l6ZTogJzE2cHgnLFxuICAgICAgICBjb2xvcjogdGhpcy5zdGF0ZS5tb2RlID09PSBJbWFnZU1vZGUuSUNPTiA/IG51bGwgOiAnIzk5OScsXG4gICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgfSxcbiAgICAgIHVybE1vZGVUb2dnbGU6IHtcbiAgICAgICAgbWFyZ2luOiAnMCAyMHB4IDAgMCcsXG4gICAgICAgIGZvbnRTaXplOiAnMTZweCcsXG4gICAgICAgIGNvbG9yOiB0aGlzLnN0YXRlLm1vZGUgPT09IEltYWdlTW9kZS5VUkwgPyBudWxsIDogJyM5OTknLFxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIH0sXG4gICAgICBkaXZpZGVyOiB7XG4gICAgICAgIGJvcmRlckNvbG9yOiBjb2xvci5wdXJwbGUsXG4gICAgICAgIG1hcmdpbjogJzVweCAwJyxcbiAgICAgIH0sXG4gICAgICB3YXJuaW5nOiB7XG4gICAgICAgIGNvbG9yOiBjb2xvci5yZWQsXG4gICAgICAgIGZvbnRTaXplOiAxMyxcbiAgICAgICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuc3RhdGUubW9kZSA9PT0gSW1hZ2VNb2RlLkZJTEUpIHtcbiAgICAgIHN0eWxlcy5maWxlTW9kZVRvZ2dsZSA9IHtcbiAgICAgICAgLi4uc3R5bGVzLmZpbGVNb2RlVG9nZ2xlLFxuICAgICAgICAuLi5mb250Q29uc3RhbnRzWydtYWluLWZvbnQtc2VtaS1ib2xkJ10sXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YXRlLm1vZGUgPT09IEltYWdlTW9kZS5JQ09OKSB7XG4gICAgICBzdHlsZXMuaWNvbk1vZGVUb2dnbGUgPSB7XG4gICAgICAgIC4uLnN0eWxlcy5pY29uTW9kZVRvZ2dsZSxcbiAgICAgICAgLi4uZm9udENvbnN0YW50c1snbWFpbi1mb250LXNlbWktYm9sZCddLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5tb2RlID09PSBJbWFnZU1vZGUuVVJMKSB7XG4gICAgICBzdHlsZXMudXJsTW9kZVRvZ2dsZSA9IHtcbiAgICAgICAgLi4uc3R5bGVzLnVybE1vZGVUb2dnbGUsXG4gICAgICAgIC4uLmZvbnRDb25zdGFudHNbJ21haW4tZm9udC1zZW1pLWJvbGQnXSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbGV0IG1vZGVTd2l0Y2gsXG4gICAgICB0aXRsZSA9IHRoaXMucHJvcHMuYXNzZXRDaG9zZW4gPyAoXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImRpYWxvZy10aXRsZVwiPntpMThuLmNob29zZUFzc2V0cygpfTwvcD5cbiAgICAgICkgOiAoXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cImRpYWxvZy10aXRsZVwiPntpMThuLm1hbmFnZUFzc2V0cygpfTwvcD5cbiAgICAgICk7XG5cbiAgICBjb25zdCBpbWFnZVR5cGVGaWx0ZXIgPVxuICAgICAgIXRoaXMucHJvcHMudHlwZUZpbHRlciB8fCB0aGlzLnByb3BzLnR5cGVGaWx0ZXIgPT09ICdpbWFnZSc7XG4gICAgaWYgKHRoaXMucHJvcHMuYXNzZXRDaG9zZW4gJiYgaW1hZ2VUeXBlRmlsdGVyKSB7XG4gICAgICBtb2RlU3dpdGNoID0gKFxuICAgICAgICA8ZGl2IGlkPVwibW9kZVN3aXRjaFwiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldE1vZGUoSW1hZ2VNb2RlLkZJTEUpfVxuICAgICAgICAgICAgc3R5bGU9e3N0eWxlcy5maWxlTW9kZVRvZ2dsZX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aTE4bi5teUZpbGVzKCl9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldE1vZGUoSW1hZ2VNb2RlLlVSTCl9XG4gICAgICAgICAgICBzdHlsZT17c3R5bGVzLnVybE1vZGVUb2dnbGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2kxOG4ubGlua1RvSW1hZ2UoKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0TW9kZShJbWFnZU1vZGUuSUNPTil9XG4gICAgICAgICAgICBzdHlsZT17c3R5bGVzLmljb25Nb2RlVG9nZ2xlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtpMThuLmljb25zKCl9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDxociBzdHlsZT17c3R5bGVzLmRpdmlkZXJ9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBkaXNhYmxlQXVkaW8gPVxuICAgICAgdGhpcy5wcm9wcy5kaXNhYmxlQXVkaW9SZWNvcmRpbmcgfHwgISF0aGlzLnByb3BzLmFzc2V0Q2hvc2VuO1xuXG4gICAgY29uc3QgcmVkdXhTdGF0ZSA9IGdldFN0b3JlKCkuZ2V0U3RhdGUoKTtcbiAgICBsZXQgbGV2ZWxOYW1lLCBpc1N0YXJ0TW9kZTtcbiAgICBpZiAocmVkdXhTdGF0ZSAmJiByZWR1eFN0YXRlLmxldmVsKSB7XG4gICAgICBsZXZlbE5hbWUgPSByZWR1eFN0YXRlLmxldmVsLm5hbWU7XG4gICAgICBpc1N0YXJ0TW9kZSA9IHJlZHV4U3RhdGUubGV2ZWwuaXNTdGFydE1vZGU7XG4gICAgfVxuICAgIGlmIChyZWR1eFN0YXRlLmphdmFsYWIgJiYgcmVkdXhTdGF0ZS5qYXZhbGFiLmxldmVsTmFtZSkge1xuICAgICAgbGV2ZWxOYW1lID0gcmVkdXhTdGF0ZS5qYXZhbGFiLmxldmVsTmFtZTtcbiAgICAgIGlzU3RhcnRNb2RlID0gcmVkdXhTdGF0ZS5qYXZhbGFiLmlzU3RhcnRNb2RlO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWNvbnRlbnRcIiBzdHlsZT17c3R5bGVzLnJvb3R9PlxuICAgICAgICB7dGl0bGV9XG4gICAgICAgIHt0aGlzLnByb3BzLnNob3dVbmRlcmFnZVdhcm5pbmcgJiYgKFxuICAgICAgICAgIDxwIHN0eWxlPXtzdHlsZXMud2FybmluZ30+XG4gICAgICAgICAgICB7aTE4bi53YXJuaW5nVXBsb2FkaW5nUGVyc29uYWxJbmZvcm1hdGlvbigpfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgKX1cbiAgICAgICAge21vZGVTd2l0Y2h9XG4gICAgICAgIHt0aGlzLmdldEJvZHkoZGlzYWJsZUF1ZGlvLCBsZXZlbE5hbWUsIGlzU3RhcnRNb2RlKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IElucHV0UHJvbXB0IGZyb20gJ0BjZG8vYXBwcy90ZW1wbGF0ZXMvSW5wdXRQcm9tcHQnO1xuaW1wb3J0IGkxOG4gZnJvbSAnQGNkby9sb2NhbGUnO1xuaW1wb3J0IHtBQlNPTFVURV9SRUdFWFB9IGZyb20gJ0BjZG8vYXBwcy9hc3NldE1hbmFnZW1lbnQvYXNzZXRQcmVmaXgnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZVVSTElucHV0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBhc3NldENob3NlbjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgYWxsb3dlZEV4dGVuc2lvbnM6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY3VycmVudFZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB9O1xuICBzdGF0ZSA9IHtzaG93RXJyb3I6IGZhbHNlfTtcblxuICBoYW5kbGVTdWJtaXRXcmFwcGVyID0gdXJsID0+IHtcbiAgICBpZiAoQUJTT0xVVEVfUkVHRVhQLnRlc3QodXJsKSkge1xuICAgICAgdGhpcy5wcm9wcy5hc3NldENob3Nlbih1cmwsIG1vbWVudCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7c2hvd0Vycm9yOiB0cnVlfSk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLnN1cHBvcnRpbmdUZXh0fT5cbiAgICAgICAgICB7aTE4bi5pbWFnZVVSTElucHV0RGVzY3JpcHRpb24oKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxJbnB1dFByb21wdFxuICAgICAgICAgIHF1ZXN0aW9uPXtpMThuLmltYWdlVVJMSW5wdXRQcm9tcHQoKX1cbiAgICAgICAgICBvbklucHV0UmVjZWl2ZWQ9e3RoaXMuaGFuZGxlU3VibWl0V3JhcHBlcn1cbiAgICAgICAgICBjdXJyZW50VmFsdWU9e3RoaXMucHJvcHMuY3VycmVudFZhbHVlfVxuICAgICAgICAvPlxuICAgICAgICB7dGhpcy5zdGF0ZS5zaG93RXJyb3IgJiYgKFxuICAgICAgICAgIDxkaXYgc3R5bGU9e3N0eWxlcy5lcnJvcn0+e2kxOG4uaW1hZ2VVUkxJbnB1dEludmFsaWQoKX08L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLmV4YW1wbGV9PntpMThuLmltYWdlVVJMSW5wdXRFeGFtcGxlKCl9PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgc3VwcG9ydGluZ1RleHQ6IHtcbiAgICBtYXJnaW46ICcxZW0gMCcsXG4gICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICBsaW5lSGVpZ2h0OiAnMjBweCcsXG4gIH0sXG4gIGV4YW1wbGU6IHtcbiAgICBtYXJnaW46ICcxZW0gMCcsXG4gICAgZm9udFNpemU6ICcxNnB4JyxcbiAgICBsaW5lSGVpZ2h0OiAnMjBweCcsXG4gIH0sXG4gIGVycm9yOiB7XG4gICAgY29sb3I6ICdyZWQnLFxuICB9LFxufTtcbiIsImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgZm9udFNpemUgPSAxODtcblxuLyoqXG4gKiBTaW1wbGUgaW5wdXQgZGlhbG9nIHRvIHByb21wdCBmb3IgdXNlciBpbnB1dC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5wdXRQcm9tcHQgZXh0ZW5kcyBDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHF1ZXN0aW9uOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgb25JbnB1dFJlY2VpdmVkOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIGN1cnJlbnRWYWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgfTtcbiAgc3RhdGUgPSB7dmFsdWU6IHRoaXMucHJvcHMuY3VycmVudFZhbHVlfTtcblxuICBoYW5kbGVTdWJtaXQgPSBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5wcm9wcy5vbklucHV0UmVjZWl2ZWQodGhpcy5yZWZzLmFuc3dlci52YWx1ZSk7XG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5yZWZzLmFuc3dlci5mb2N1cygpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Zm9ybSBzdHlsZT17c3R5bGVzLmZvcm19IG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxkaXYgc3R5bGU9e3N0eWxlcy53cmFwcGVyfT5cbiAgICAgICAgICA8bGFiZWwgc3R5bGU9e3N0eWxlcy5xdWVzdGlvbn0+e3RoaXMucHJvcHMucXVlc3Rpb259PC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHJlZj1cImFuc3dlclwiXG4gICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS52YWx1ZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHRoaXMuc2V0U3RhdGUoe3ZhbHVlOiBlLnRhcmdldC52YWx1ZX0pfVxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgc3R5bGU9e3N0eWxlcy5pbnB1dH1cbiAgICAgICAgICAvPlxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgY2xhc3NOYW1lPVwiYnRuXCIgc3R5bGU9e3N0eWxlcy5zdWJtaXR9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0ge1xuICBmb3JtOiB7XG4gICAgYmFja2dyb3VuZDogJyNmZmYnLFxuICB9LFxuICB3cmFwcGVyOiB7XG4gICAgbWFyZ2luOiAyMCxcbiAgfSxcbiAgcXVlc3Rpb246IHtcbiAgICBmb250U2l6ZTogZm9udFNpemUsXG4gIH0sXG4gIGlucHV0OiB7XG4gICAgZm9udFNpemU6IGZvbnRTaXplLFxuICAgIHdpZHRoOiAnMTAwJScsXG4gICAgaGVpZ2h0OiAnMmVtJyxcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgfSxcbiAgc3VibWl0OiB7XG4gICAgZm9udFNpemU6IGZvbnRTaXplLFxuICB9LFxufTtcbiIsIi8qKiBHZW5lcmljIHNlYXJjaCBiYXIgKi9cbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNvbG9yIGZyb20gJ0BjZG8vYXBwcy91dGlsL2NvbG9yJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VhcmNoQmFyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBwbGFjZWhvbGRlclRleHQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjbGVhckJ1dHRvbjogUHJvcFR5cGVzLmJvb2wsXG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5zZWFyY2hCb3guZm9jdXMoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLnNlYXJjaEFyZWF9PlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmYSBmYS1zZWFyY2hcIiBzdHlsZT17c3R5bGVzLmljb259IC8+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHN0eWxlPXtzdHlsZXMuaW5wdXR9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMucGxhY2Vob2xkZXJUZXh0fVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uQ2hhbmdlfVxuICAgICAgICAgIHJlZj17aW5wdXQgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZWFyY2hCb3ggPSBpbnB1dDtcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgICB7dGhpcy5wcm9wcy5jbGVhckJ1dHRvbiAmJiAoXG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZhIGZhLWNsb3NlXCJcbiAgICAgICAgICAgIHN0eWxlPXtzdHlsZXMuY2xlYXJJY29ufVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnNlYXJjaEJveC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKCk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IEJPUkRFUl9XSURUSCA9IDE7XG5jb25zdCBCT1JERVJfQ09MT1IgPSBjb2xvci5saWdodF9ncmF5O1xuY29uc3QgQk9SREVSX1JBRElVUyA9IDQ7XG5cbi8vIFdlIGhhdmUgc2lkZS1ieS1zaWRlIGVsZW1lbnRzIHRoYXQgc2hvdWxkIGZvcm1hdCBzb3J0IG9mIGxpa2Ugb25lIGVsZW1lbnRcbmNvbnN0IHN0eWxlcyA9IHtcbiAgaW5wdXQ6IHtcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgIHBhZGRpbmc6ICczcHggN3B4JyxcbiAgICBtYXJnaW46IDAsXG4gICAgYm9yZGVyU3R5bGU6ICdzb2xpZCcsXG4gICAgYm9yZGVyV2lkdGg6IEJPUkRFUl9XSURUSCxcbiAgICBib3JkZXJDb2xvcjogQk9SREVSX0NPTE9SLFxuICAgIGJvcmRlclJhZGl1czogQk9SREVSX1JBRElVUyxcbiAgICB0ZXh0SW5kZW50OiAyMixcbiAgfSxcbiAgaWNvbjoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogNixcbiAgICBsZWZ0OiA1LFxuICAgIGZvbnRTaXplOiAxNixcbiAgICBjb2xvcjogY29sb3IubGlnaHRfZ3JheSxcbiAgfSxcbiAgY2xlYXJJY29uOiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdG9wOiA2LFxuICAgIHJpZ2h0OiA1LFxuICAgIGZvbnRTaXplOiAxNixcbiAgICBjb2xvcjogY29sb3IubGlnaHRfZ3JheSxcbiAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgfSxcbiAgc2VhcmNoQXJlYToge1xuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIG1hcmdpbjogJzEwcHggMCcsXG4gIH0sXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJbWFnZVBpY2tlciBmcm9tICcuL0ltYWdlUGlja2VyJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjb21wb25lbnQ6IEltYWdlUGlja2VyLFxufTtcblxuLy8gVGVtcGxhdGVcbmNvbnN0IFRlbXBsYXRlID0gYXJncyA9PiA8SW1hZ2VQaWNrZXIgey4uLmFyZ3N9IC8+O1xuXG4vLyBTdG9yaWVzXG5leHBvcnQgY29uc3QgV2l0aFdhcm5pbmcgPSBUZW1wbGF0ZS5iaW5kKHt9KTtcbldpdGhXYXJuaW5nLmFyZ3MgPSB7XG4gIHNob3dVbmRlcmFnZVdhcm5pbmc6IHRydWUsXG4gIHVwbG9hZHNFbmFibGVkOiB0cnVlLFxufTtcbiJdLCJuYW1lcyI6WyJJY29uIiwicmVuZGVyIiwiY2xhc3NOYW1lIiwidGhpcyIsInByb3BzIiwiaWNvbklkIiwic3R5bGUiLCJmbG9hdCIsImZvbnRTaXplIiwid2lkdGgiLCJ0ZXh0QWxpZ24iLCJSZWFjdCIsIkNvbXBvbmVudCIsIlByb3BUeXBlcyIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJ3aW5kb3ciLCJkYXNoYm9hcmQiLCJJY29uTGlicmFyeSIsInNlYXJjaCIsImUiLCJzZXRTdGF0ZSIsInRhcmdldCIsInZhbHVlIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwibWFyZ2luQm90dG9tIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlclRleHQiLCJpMThuIiwiaWNvblNlYXJjaFBsYWNlaG9sZGVyIiwiYXNzZXRDaG9zZW4iLCJzdGF0ZSIsImZ1bmMiLCJJY29uTGlzdCIsImdldE1hdGNoZXMiLCJxdWVyeSIsInJlc3VsdHMiLCJPYmplY3QiLCJrZXlzIiwiYWxpYXNlcyIsImZvckVhY2giLCJhbGlhcyIsInRlc3QiLCJtYXRjaCIsIlJlZ0V4cCIsImljb25FbnRyaWVzIiwibWFwIiwia2V5IiwiYWx0TWF0Y2giLCJoZWlnaHQiLCJvdmVyZmxvd1kiLCJjbGVhciIsImxlbmd0aCIsIm5vSWNvbnNGb3VuZCIsIkljb25MaXN0RW50cnkiLCJoaWdobGlnaHRTZWFyY2giLCJzdHIiLCJvZmZzZXQiLCJpbmRleE9mIiwibGVmdCIsInN1YnN0ciIsInJpZ2h0IiwiYmFja2dyb3VuZENvbG9yIiwiaWNvbkxhYmVsIiwiY29sdW1uV2lkdGgiLCJhbHRNYXRjaFRleHQiLCJzdHlsZXMiLCJjb2xvciIsIm1hcmdpbiIsImhpZ2hsaWdodGVkTmFtZSIsInJvb3RTdHlsZXMiLCJjdXJzb3IiLCJhc3NldCIsInRpdGxlIiwib25DbGljayIsImJpbmQiLCJpbnN0YW5jZU9mIiwiZXh0ZW5zaW9uRmlsdGVyIiwiaW1hZ2UiLCJhdWRpbyIsImRvY3VtZW50IiwiZGVmYXVsdCIsIkltYWdlUGlja2VyIiwibW9kZSIsIkltYWdlTW9kZSIsIkZJTEUiLCJpY29uIiwiSUNPTl9QUkVGSVgiLCJkaXNhYmxlQXVkaW8iLCJsZXZlbE5hbWUiLCJpc1N0YXJ0TW9kZSIsIklDT04iLCJnZXRBc3NldE5hbWVXaXRoUHJlZml4IiwiYWxsb3dlZEV4dGVuc2lvbnMiLCJ0eXBlRmlsdGVyIiwiY3VycmVudFZhbHVlIiwiY3VycmVudEltYWdlVHlwZSIsIlVSTCIsImN1c3RvbUFsbG93ZWRFeHRlbnNpb25zIiwiYXNzZXRzQ2hhbmdlZCIsInVwbG9hZHNFbmFibGVkIiwidXNlRmlsZXNBcGkiLCJwcm9qZWN0SWQiLCJzb3VuZFBsYXllciIsImRpc2FibGVBdWRpb1JlY29yZGluZyIsInJlY29yZGluZ0ZpbGVUeXBlIiwiaW1hZ2VQaWNrZXIiLCJlbGVtZW50SWQiLCJyb290IiwiZmlsZU1vZGVUb2dnbGUiLCJpY29uTW9kZVRvZ2dsZSIsInVybE1vZGVUb2dnbGUiLCJkaXZpZGVyIiwiYm9yZGVyQ29sb3IiLCJwdXJwbGUiLCJ3YXJuaW5nIiwicmVkIiwiZm9udFdlaWdodCIsImZvbnRDb25zdGFudHMiLCJtb2RlU3dpdGNoIiwiY2hvb3NlQXNzZXRzIiwibWFuYWdlQXNzZXRzIiwiaW1hZ2VUeXBlRmlsdGVyIiwiaWQiLCJzZXRNb2RlIiwibXlGaWxlcyIsImxpbmtUb0ltYWdlIiwiaWNvbnMiLCJyZWR1eFN0YXRlIiwiZ2V0U3RvcmUiLCJnZXRTdGF0ZSIsImxldmVsIiwibmFtZSIsImphdmFsYWIiLCJzaG93VW5kZXJhZ2VXYXJuaW5nIiwid2FybmluZ1VwbG9hZGluZ1BlcnNvbmFsSW5mb3JtYXRpb24iLCJnZXRCb2R5IiwiYm9vbCIsIm9iamVjdCIsIm9uZU9mIiwidmFsdWVzIiwiUmVjb3JkaW5nRmlsZVR5cGUiLCJJbWFnZVVSTElucHV0Iiwic2hvd0Vycm9yIiwidXJsIiwiQUJTT0xVVEVfUkVHRVhQIiwibW9tZW50Iiwic3VwcG9ydGluZ1RleHQiLCJpbWFnZVVSTElucHV0RGVzY3JpcHRpb24iLCJxdWVzdGlvbiIsImltYWdlVVJMSW5wdXRQcm9tcHQiLCJvbklucHV0UmVjZWl2ZWQiLCJoYW5kbGVTdWJtaXRXcmFwcGVyIiwiZXJyb3IiLCJpbWFnZVVSTElucHV0SW52YWxpZCIsImV4YW1wbGUiLCJpbWFnZVVSTElucHV0RXhhbXBsZSIsImxpbmVIZWlnaHQiLCJJbnB1dFByb21wdCIsInByZXZlbnREZWZhdWx0IiwicmVmcyIsImFuc3dlciIsImNvbXBvbmVudERpZE1vdW50IiwiZm9jdXMiLCJmb3JtIiwib25TdWJtaXQiLCJoYW5kbGVTdWJtaXQiLCJ3cmFwcGVyIiwicmVmIiwidHlwZSIsImlucHV0Iiwic3VibWl0IiwiYmFja2dyb3VuZCIsImJveFNpemluZyIsIlNlYXJjaEJhciIsInNlYXJjaEJveCIsInNlYXJjaEFyZWEiLCJwbGFjZWhvbGRlciIsImNsZWFyQnV0dG9uIiwiY2xlYXJJY29uIiwicGFkZGluZyIsImJvcmRlclN0eWxlIiwiYm9yZGVyV2lkdGgiLCJsaWdodF9ncmF5IiwiYm9yZGVyUmFkaXVzIiwidGV4dEluZGVudCIsInBvc2l0aW9uIiwidG9wIiwiY29tcG9uZW50IiwiV2l0aFdhcm5pbmciLCJUZW1wbGF0ZSIsImFyZ3MiXSwic291cmNlUm9vdCI6IiJ9