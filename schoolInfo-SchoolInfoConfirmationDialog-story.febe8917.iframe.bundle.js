"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[6447],{"./src/redux.js":(module,exports,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStore=function getStore(){reduxStore||(reduxStore=createStoreWithReducers(),_experiments.default.isEnabled("reduxGlobalStore")&&(window.reduxStore=reduxStore));return reduxStore},exports.hasReducer=function hasReducer(key){return!!globalReducers[key]},exports.registerReducers=function registerReducers(reducers){for(var key in reducers){var existingReducer=globalReducers[key];if(existingReducer&&existingReducer!==reducers[key])throw new Error('reducer with key "'.concat(key,'" already registered!'))}Object.assign(globalReducers,reducers),reduxStore&&reduxStore.replaceReducer(redux.combineReducers(globalReducers))};var reduxStore,_toolkit=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),redux=(_interopRequireDefault(__webpack_require__("./node_modules/immutable/dist/immutable.js")),function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./node_modules/redux/es/redux.js"))),_reduxThunk=_interopRequireDefault(__webpack_require__("./node_modules/redux-thunk/lib/index.js")),_experiments=_interopRequireDefault(__webpack_require__("./src/util/experiments.js"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var globalReducers={};function createStoreWithReducers(){return function createStore(reducer,initialState){_experiments.default.isEnabled(_experiments.default.REDUX_LOGGING);0;return(0,_toolkit.configureStore)({reducer,preloadedState:initialState,middleware:[_reduxThunk.default],devTools:!1})}(Object.keys(globalReducers).length>0?globalReducers:function(s){return s})}module.exports.createStoreWithReducers=createStoreWithReducers},"./src/schoolInfo/SchoolInfoConfirmationDialog.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.styles=exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireWildcard(__webpack_require__("./node_modules/react/index.js")),_fontConstants=_interopRequireDefault(__webpack_require__("./src/fontConstants.js")),_Button=_interopRequireDefault(__webpack_require__("./src/legacySharedComponents/Button.jsx")),_Dialog=_interopRequireWildcard(__webpack_require__("./src/legacySharedComponents/Dialog.jsx")),_AnalyticsConstants=__webpack_require__("./src/metrics/AnalyticsConstants.js"),_AnalyticsReporter=_interopRequireDefault(__webpack_require__("./src/metrics/AnalyticsReporter.js")),_color=_interopRequireDefault(__webpack_require__("./src/util/color.js")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_redux=__webpack_require__("./src/redux.js"),_SchoolInfoInterstitial=_interopRequireDefault(__webpack_require__("./src/schoolInfo/SchoolInfoInterstitial.jsx"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var styles=exports.styles={button:{marginTop:20,marginLeft:"50%"},buttonRTL:{marginTop:20,marginRight:"50%"},updateButton:{marginTop:20,marginLeft:5},updateButtonRTL:{marginTop:20,marginRight:5},intro:_objectSpread(_objectSpread({fontSize:18},_fontConstants.default["main-font-semi-bold"]),{},{color:_color.default.charcoal,paddingRight:20}),schoolName:{color:_color.default.purple,fontStyle:"italic"},body:{margin:10}},SchoolInfoConfirmationDialog=function(_Component){function SchoolInfoConfirmationDialog(props){var _this;return _defineProperty(_this=_Component.call(this,props)||this,"closeModal",(function(){_AnalyticsReporter.default.sendEvent(_AnalyticsConstants.EVENTS.UPDATE_SCHOOL_INFO_DIALOG_CLOSED,{},_AnalyticsConstants.PLATFORMS.BOTH),_this.setState({isOpen:!1}),_this.props.onClose()})),_defineProperty(_this,"handleClickYes",(function(){_AnalyticsReporter.default.sendEvent(_AnalyticsConstants.EVENTS.CONFIRM_SCHOOL_CLICKED,{},_AnalyticsConstants.PLATFORMS.BOTH);var _this$props$scriptDat=_this.props.scriptData,authTokenName=_this$props$scriptDat.authTokenName,authTokenValue=_this$props$scriptDat.authTokenValue,formData=new FormData;formData.append(authTokenName,authTokenValue),fetch("/api/v1/user_school_infos/".concat(_this.props.scriptData.existingSchoolInfo.user_school_info_id,"/update_last_confirmation_date"),{method:"PATCH",body:formData}).then(_this.closeModal).catch((function(error){_this.setState({error})}))})),_defineProperty(_this,"handleClickUpdate",(function(){_AnalyticsReporter.default.sendEvent(_AnalyticsConstants.EVENTS.UPDATE_SCHOOL_CLICKED,{},_AnalyticsConstants.PLATFORMS.BOTH),_this.setState({showSchoolInterstitial:!0})})),_defineProperty(_this,"renderInitialContent",(function(){var _getStore$getState;_AnalyticsReporter.default.sendEvent(_AnalyticsConstants.EVENTS.UPDATE_SCHOOL_INFO_DIALOG_SHOWN,{},_AnalyticsConstants.PLATFORMS.BOTH);var schoolName=_this.state.schoolName,isRTL=null===(_getStore$getState=(0,_redux.getStore)().getState())||void 0===_getStore$getState?void 0:_getStore$getState.isRtl;return _react.default.createElement(_Dialog.Body,null,_react.default.createElement("div",{style:styles.body},_react.default.createElement("p",{style:styles.intro},_locale.default.schoolInfoDialogDescription(),_react.default.createElement("span",{style:styles.schoolName},_locale.default.schoolInfoDialogDescriptionSchoolName({schoolName})))),_react.default.createElement(_Button.default,{style:isRTL?styles.updateButtonRTL:styles.updateButton,text:_locale.default.schoolInfoDialogUpdate(),color:_Button.default.ButtonColor.blue,onClick:_this.handleClickUpdate,id:"update-button"}),_react.default.createElement(_Button.default,{style:isRTL?styles.buttonRTL:styles.button,text:_locale.default.yes(),color:_Button.default.ButtonColor.brandSecondaryDefault,onClick:_this.handleClickYes,id:"yes-button"}))})),_this.state={showSchoolInterstitial:!1,schoolName:props.scriptData.existingSchoolInfo.school_name,isOpen:props.isOpen||!0},_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(SchoolInfoConfirmationDialog,_Component);var _proto=SchoolInfoConfirmationDialog.prototype;return _proto.renderSchoolInformationForm=function renderSchoolInformationForm(){return _react.default.createElement(_Dialog.Body,null,_react.default.createElement(_SchoolInfoInterstitial.default,{scriptData:this.props.scriptData,onClose:this.closeModal}))},_proto.render=function render(){var _this$state=this.state,showSchoolInterstitial=_this$state.showSchoolInterstitial,isOpen=_this$state.isOpen;return _react.default.createElement(_Dialog.default,{isOpen,handleClose:this.closeModal},showSchoolInterstitial?this.renderSchoolInformationForm():this.renderInitialContent())},SchoolInfoConfirmationDialog}(_react.Component);_defineProperty(SchoolInfoConfirmationDialog,"propTypes",{schoolName:_propTypes.default.string,scriptData:_propTypes.default.shape({formUrl:_propTypes.default.string.isRequired,authTokenName:_propTypes.default.string.isRequired,authTokenValue:_propTypes.default.string.isRequired,existingSchoolInfo:_propTypes.default.shape({id:_propTypes.default.number,user_school_info_id:_propTypes.default.number,school_id:_propTypes.default.string,country:_propTypes.default.string,school_type:_propTypes.default.string,school_name:_propTypes.default.string,full_address:_propTypes.default.string}).isRequired}).isRequired,onClose:_propTypes.default.func,isOpen:_propTypes.default.bool});exports.default=SchoolInfoConfirmationDialog},"./node_modules/redux-thunk/lib/index.js":(__unused_webpack_module,exports)=>{function createThunkMiddleware(extraArgument){return function(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(action){return"function"==typeof action?action(dispatch,getState,extraArgument):next(action)}}}}exports.__esModule=!0;var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware,exports.default=thunk},"./src/schoolInfo/SchoolInfoConfirmationDialog.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.DisplaySchoolInfoConfirmationDialog=void 0;var _addonActions=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js"),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_SchoolInfoConfirmationDialog=_interopRequireDefault(__webpack_require__("./src/schoolInfo/SchoolInfoConfirmationDialog.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={component:_SchoolInfoConfirmationDialog.default};(exports.DisplaySchoolInfoConfirmationDialog=function Template(args){return _react.default.createElement(_SchoolInfoConfirmationDialog.default,args)}.bind({})).args={scriptData:{formUrl:"",authTokenName:"auth_token",authTokenValue:"fake_auth_token",existingSchoolInfo:{}},onClose:(0,_addonActions.action)("onClose callback"),isOpen:!0}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Nob29sSW5mby1TY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nLXN0b3J5LjE5MGNkODllLmlmcmFtZS5idW5kbGUuanMiLCJtYXBwaW5ncyI6InFkQTBFTyxTQUFTQSxXQUNUQyxhQUNIQSxXQUFhQywwQkFDVEMsYUFBQUEsUUFBWUMsVUFBVSxzQkFFeEJDLE9BQU9KLFdBQWFBLGFBSXhCLE9BQU9BLFVBQ1QsRSxtQkFtQ08sU0FBU0ssV0FBV0MsS0FDekIsUUFBU0MsZUFBZUQsSUFDMUIsRSx5QkFsQk8sU0FBU0UsaUJBQWlCQyxVQUMvQixJQUFLLElBQUlILE9BQU9HLFNBQVUsQ0FDeEIsSUFBTUMsZ0JBQWtCSCxlQUFlRCxLQUN2QyxHQUFJSSxpQkFBbUJBLGtCQUFvQkQsU0FBU0gsS0FDbEQsTUFBTSxJQUFJSyxNQUFNLHFCQUFEQyxPQUFzQk4sSUFBRyx5QkFFNUMsQ0FDQU8sT0FBT0MsT0FBT1AsZUFBZ0JFLFVBQzFCVCxZQUNGQSxXQUFXZSxlQUFlQyxNQUFNQyxnQkFBZ0JWLGdCQUVwRCxFQXZGQSxJQVdJUCxXQVhKa0IsU0FBQUMsb0JBQUEsNkRBRUFILE9BREFJLHVCQUFBRCxvQkFBQSwrQ0FJNkMsU0FBQUUsd0JBQUFDLEVBQUFDLEdBQUEsSUFBQUEsR0FBQUQsR0FBQUEsRUFBQUUsV0FBQSxPQUFBRixFQUFBLFVBQUFBLEdBQUEsVUFBQUcsUUFBQUgsSUFBQSxtQkFBQUEsRUFBQSxlQUFBQSxHQUFBLElBQUFJLEVBQUFDLHlCQUFBSixHQUFBLEdBQUFHLEdBQUFBLEVBQUFFLElBQUFOLEdBQUEsT0FBQUksRUFBQUcsSUFBQVAsR0FBQSxJQUFBUSxFQUFBLENBQUFDLFVBQUEsTUFBQUMsRUFBQW5CLE9BQUFvQixnQkFBQXBCLE9BQUFxQix5QkFBQSxRQUFBQyxLQUFBYixFQUFBLGVBQUFhLEdBQUEsR0FBQUMsZUFBQUMsS0FBQWYsRUFBQWEsR0FBQSxLQUFBRyxFQUFBTixFQUFBbkIsT0FBQXFCLHlCQUFBWixFQUFBYSxHQUFBLEtBQUFHLElB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ZixPQUFPLFNBQVVDLFFBQ2YsTUFBc0IsbUJBQVhBLE9BQ0ZBLE9BQU9GLFNBQVUvQyxTQUFVNkMsZUFHN0JHLEtBQUtDLE9BQ2QsQ0FDRixDQUNGLENBQ0YsQ0FmQWhKLFFBQVFsQyxZQUFhLEVBaUJyQixJQUFJbUwsTUFBUU4sd0JBQ1pNLE1BQU1DLGtCQUFvQlAsc0JBRTFCM0ksUUFBQSxRQUFxQmlKLEssOE9DdEJyQixJQUFBRSxjQUFBMUwsb0JBQUEseURBQ0F5QyxPQUFBeEMsdUJBQUFELG9CQUFBLGtDQUVBMkwsOEJBQUExTCx1QkFBQUQsb0JBQUEsc0RBQTBFLFNBQUFDLHVCQUFBdUIsS0FBQSxPQUFBQSxLQUFBQSxJQUFBbkIsV0FBQW1CLElBQUEsU0FBQUEsSUFBQSxDQUFBZSxRQUFBQSxRQUUzRCxDQUNicUosVUFBV3hGLDhCQUFBQSxVQWFtQzdELFFBQUFBLG9DQU4vQixTQUFYc0osU0FBV0MsTUFBSSxPQUFJckosT0FBQSxRQUFBK0YsY0FBQ21ELDhCQUFBLFFBQWlDRyxLQUFRLEVBTVBuSSxLQUFLLENBQUMsSUFDOUJtSSxLQUFPLENBQ3pDM0UsV0FBWSxDQUNWc0QsUUFBUyxHQUNUckQsY0FBZSxhQUNmQyxlQUFnQixrQkFDaEJLLG1CQUFvQixDQUFDLEdBRXZCVixTQUFTLEVBQUF1RSxjQUFBQSxRQUFPLG9CQUNoQnhFLFFBQVEsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9yZWR1eC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvc2Nob29sSW5mby9TY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nLmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVkdXgtdGh1bmsvbGliL2luZGV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9zY2hvb2xJbmZvL1NjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2cuc3RvcnkuanN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fX19fX19fX19fX19fX19fX19fX1xuICogICAgICBfX19fX19fX19fX19fX19fX19fX19fXy0tLS0tLS0tLS0tLS0tLS0tLS0gICAgICAgICAgICAgICAgICAgICAgIGBcXFxuICogICAgLzotLV9fICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgIHx8PCA+IHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fX19fX19fX19fX19fX19fX19fX19fX19fXy9cbiAqICAgfCBcXF9fL19fX19fX19fX19fX19fX19fLS0tLS0tLS0tLS0tLS0tLS0tLSAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICB8ICAgICAgICAgICAgICAgICAgIFRIRSBMT1JEIE9GIFRIRSBSRURVWCBTVE9SRVMgICAgICAgICAgICAgICAgICAgfFxuICogICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgIHwgICAgIFwiVGhyZWUgU3RvcmVzIGZvciB0aGUgRWx2ZW4ta2luZ3MgdW5kZXIgdGhlIHNreSwgICAgICAgICAgICAgfFxuICogICAgIHwgICAgICAgU2V2ZW4gZm9yIHRoZSBEd2FyZi1sb3JkcyBpbiB0aGVpciBoYWxscyBvZiBzdG9uZSwgICAgICAgICB8XG4gKiAgICAgfCAgICAgTmluZSBmb3IgTW9ydGFsIE1lbiBkb29tZWQgdG8gZGllLCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICB8ICAgICAgIE9uZSBmb3IgdGhlIERhcmsgTG9yZCBvbiBoaXMgZGFyayB0aHJvbmUgICAgICAgICAgICAgICAgICAgfFxuICogICAgIHwgICAgIEluIHRoZSBMYW5kIG9mIE1vcmRvciB3aGVyZSB0aGUgU2hhZG93cyBsaWUuICAgICAgICAgICAgICAgICAgfFxuICogICAgICB8ICAgICAgT25lIFN0b3JlIHRvIHJ1bGUgdGhlbSBhbGwsIE9uZSBTdG9yZSB0byBmaW5kIHRoZW0sICAgICAgICAgfFxuICogICAgICB8ICAgICAgT25lIFN0b3JlIHRvIGJyaW5nIHRoZW0gYWxsIGFuZCBpbiB0aGUgZGFya25lc3MgYmluZCB0aGVtICAgfFxuICogICAgICB8ICAgIEluIHRoZSBMYW5kIG9mIE1vcmRvciB3aGVyZSB0aGUgU2hhZG93cyBsaWUuICAgICAgICAgICAgICAgICB8XG4gKiAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fX19fX19fX19fX19fX19fX3xfXG4gKiAgICAgfCAgX19fX19fX19fX19fX19fX19fXy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gICAgICAgICAgICAgICAgICAgICAgYFxcXG4gKiAgICAgfC9gLS1fICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgfHxbIF18fCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19fX19fX19fX19fX19fX19fXy9cbiAqICAgICAgXFw9PT0vX19fX19fX19fX19fX19fX19fXy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKlxuICpcbiAqIEBmaWxlIFRoZSBnbG9iYWwgcmVkdXggc3RvcmUgLSBcIlRoZXJlIGNhbiBiZSBvbmx5IG9uZVwiXG4gKi9cblxuaW1wb3J0IHtjb25maWd1cmVTdG9yZX0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5pbXBvcnQgSW1tdXRhYmxlIGZyb20gJ2ltbXV0YWJsZSc7XG5pbXBvcnQgKiBhcyByZWR1eCBmcm9tICdyZWR1eCc7XG5pbXBvcnQgcmVkdXhUaHVuayBmcm9tICdyZWR1eC10aHVuayc7XG5cbmltcG9ydCBleHBlcmltZW50cyBmcm9tICcuL3V0aWwvZXhwZXJpbWVudHMnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgY3JlYXRlTG9nZ2VyID0gcmVxdWlyZSgncmVkdXgtbG9nZ2VyJyk7XG59XG5cbmxldCByZWR1eFN0b3JlO1xubGV0IGdsb2JhbFJlZHVjZXJzID0ge307XG5cbmlmIChJTl9VTklUX1RFU1QpIHtcbiAgbGV0IF9fb2xkUmVkdXhTdG9yZTtcbiAgbGV0IF9fb2xkR2xvYmFsUmVkdWNlcnM7XG5cbiAgbW9kdWxlLmV4cG9ydHMuc3R1YlJlZHV4ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChfX29sZFJlZHV4U3RvcmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1JlZHV4IHN0b3JlIGhhcyBhbHJlYWR5IGJlZW4gc3R1YmJlZC4gRGlkIHlvdSBmb3JnZXQgdG8gY2FsbCByZXN0b3JlPydcbiAgICAgICk7XG4gICAgfVxuICAgIF9fb2xkUmVkdXhTdG9yZSA9IHJlZHV4U3RvcmU7XG4gICAgX19vbGRHbG9iYWxSZWR1Y2VycyA9IGdsb2JhbFJlZHVjZXJzO1xuICAgIHJlZHV4U3RvcmUgPSBudWxsO1xuICAgIGdsb2JhbFJlZHVjZXJzID0ge307XG4gIH07XG5cbiAgbW9kdWxlLmV4cG9ydHMucmVzdG9yZVJlZHV4ID0gZnVuY3Rpb24gKCkge1xuICAgIHJlZHV4U3RvcmUgPSBfX29sZFJlZHV4U3RvcmU7XG4gICAgZ2xvYmFsUmVkdWNlcnMgPSBfX29sZEdsb2JhbFJlZHVjZXJzO1xuICAgIF9fb2xkUmVkdXhTdG9yZSA9IG51bGw7XG4gICAgX19vbGRHbG9iYWxSZWR1Y2VycyA9IG51bGw7XG4gIH07XG59XG5cbmlmIChJTl9TVE9SWUJPT0sgfHwgSU5fVU5JVF9URVNUKSB7XG4gIC8vIFN0b3J5Ym9va3MgbmVlZCB0aGUgYWJpbGl0eSB0byBjcmVhdGUgbXVsdGlwbGUgZGlzdGluY3Qgc3RvcmVzIGluc3RlYWQgb2ZcbiAgLy8gdXNpbmcgYSBzaW5nbGV0b25cbiAgbW9kdWxlLmV4cG9ydHMuY3JlYXRlU3RvcmVXaXRoUmVkdWNlcnMgPSBjcmVhdGVTdG9yZVdpdGhSZWR1Y2Vycztcbn1cblxuLyoqXG4gKiBHZXQgYSByZWZlcmVuY2UgdG8gb3VyIHJlZHV4IHN0b3JlLiBJZiBpdCBkb2Vzbid0IGV4aXN0IHlldCwgY3JlYXRlIGl0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RvcmUoKSB7XG4gIGlmICghcmVkdXhTdG9yZSkge1xuICAgIHJlZHV4U3RvcmUgPSBjcmVhdGVTdG9yZVdpdGhSZWR1Y2VycygpO1xuICAgIGlmIChleHBlcmltZW50cy5pc0VuYWJsZWQoJ3JlZHV4R2xvYmFsU3RvcmUnKSkge1xuICAgICAgLy8gRXhwb3NlIG91ciBzdG9yZSBnbG9iYWxseSwgdG8gbWFrZSBkZWJ1Z2dpbmcgZWFzaWVyXG4gICAgICB3aW5kb3cucmVkdXhTdG9yZSA9IHJlZHV4U3RvcmU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlZHV4U3RvcmU7XG59XG5cbi8qKlxuICogQ3JlYXRlIG91ciBzdG9yZVxuICovXG5mdW5jdGlvbiBjcmVhdGVTdG9yZVdpdGhSZWR1Y2VycygpIHtcbiAgcmV0dXJuIGNyZWF0ZVN0b3JlKFxuICAgIE9iamVjdC5rZXlzKGdsb2JhbFJlZHVjZXJzKS5sZW5ndGggPiAwID8gZ2xvYmFsUmVkdWNlcnMgOiBzID0+IHNcbiAgKTtcbn1cblxuLyoqXG4gKiBSZWdpc3RlciBtdWx0aXBsZSB0b3AtbGV2ZWwgcmVkdWNlcnMgd2l0aCB0aGUgZ2xvYmFsIHN0b3JlLiBUaGlzIGRvZXMgbm90IHJlbW92ZVxuICogYW55IHJlZHVjZXJzIHRoYXQgaGF2ZSBiZWVuIHByZXZpb3VzbHkgcmVnaXN0ZXJlZC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gcmVkdWNlcnMgLSBhbiBvYmplY3QgbWFwcGluZyB1bmlxdWUga2V5cyB0byByZWR1Y2VyIGZ1bmN0aW9uc1xuICogICAgIFRoZSBrZXlzIHdpbGwgYmUgdXNlZCBpbiB0aGUgc3RhdGUgb2JqZWN0LlxuICogQHJldHVybnMgdm9pZFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJSZWR1Y2VycyhyZWR1Y2Vycykge1xuICBmb3IgKGxldCBrZXkgaW4gcmVkdWNlcnMpIHtcbiAgICBjb25zdCBleGlzdGluZ1JlZHVjZXIgPSBnbG9iYWxSZWR1Y2Vyc1trZXldO1xuICAgIGlmIChleGlzdGluZ1JlZHVjZXIgJiYgZXhpc3RpbmdSZWR1Y2VyICE9PSByZWR1Y2Vyc1trZXldKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlZHVjZXIgd2l0aCBrZXkgXCIke2tleX1cIiBhbHJlYWR5IHJlZ2lzdGVyZWQhYCk7XG4gICAgfVxuICB9XG4gIE9iamVjdC5hc3NpZ24oZ2xvYmFsUmVkdWNlcnMsIHJlZHVjZXJzKTtcbiAgaWYgKHJlZHV4U3RvcmUpIHtcbiAgICByZWR1eFN0b3JlLnJlcGxhY2VSZWR1Y2VyKHJlZHV4LmNvbWJpbmVSZWR1Y2VycyhnbG9iYWxSZWR1Y2VycykpO1xuICB9XG59XG5cbi8qKlxuICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGEgcmVkdWNlciB3aXRoIHRoZSBnaXZlbiBrZXkgaGFzIGJlZW4gcmVnaXN0ZXJlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzUmVkdWNlcihrZXkpIHtcbiAgcmV0dXJuICEhZ2xvYmFsUmVkdWNlcnNba2V5XTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RvcmUgY29uZmlndXJlZCBmb3IgdXNlIHRoZSB3YXkgd2Ugd2FudCBmb3IgQ29kZS5vcmcuXG4gKiBAc2VlIGh0dHA6Ly9yZWR1eC5qcy5vcmcvZG9jcy9hcGkvY3JlYXRlU3RvcmUuaHRtbFxuICogQHBhcmFtIHshZnVuY3Rpb259IHJlZHVjZXJcbiAqIEByZXR1cm4ge1N0b3JlfSBDb25maWd1cmVkIFJlZHV4IHN0b3JlLCByZWFkeSBmb3IgdXNlLlxuICovXG5mdW5jdGlvbiBjcmVhdGVTdG9yZShyZWR1Y2VyLCBpbml0aWFsU3RhdGUpIHtcbiAgLy8gWW91IGhhdmUgdG8gbWFudWFsbHkgZW5hYmxlIGRlYnVnZ2luZywgYm90aCB0byBrZWVwIHRoZSBsb2dnZXIgb3V0XG4gIC8vIG9mIHByb2R1Y3Rpb24gYnVuZGxlcywgYW5kIGJlY2F1c2UgaXQgY2F1c2VzIGEgbG90IG9mIGNvbnNvbGUgbm9pc2UgYW5kXG4gIC8vIG1ha2VzIG91ciB1bml0IHRlc3RzIGZhaWwuIFRvIGVuYWJsZSwgYXBwZW5kID9lbmFibGVFeHBlcmltZW50cz1yZWR1eExvZ2dpbmdcbiAgLy8gdG8geW91ciB1cmwuIFRoaXMgd2lsbCBhbHNvIGVuYWJsZSBsb2dnaW5nIGlmIHRoZXJlIGlzIGEgbm9uLWltbXV0YWJsZSBvciBub24tc2VyaWFsaXphYmxlXG4gIC8vIHZhbHVlIGluIHRoZSByZWR1eCBzdG9yZSwgd2l0aCBzb21lIGlnbm9yZXMgYWxyZWFkeSBzZXQgdXAgKHNlZSBiZWxvdykuXG4gIHZhciBlbmFibGVSZWR1eERlYnVnZ2luZyA9IGV4cGVyaW1lbnRzLmlzRW5hYmxlZChleHBlcmltZW50cy5SRURVWF9MT0dHSU5HKTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZW5hYmxlUmVkdXhEZWJ1Z2dpbmcpIHtcbiAgICB2YXIgcmVkdXhMb2dnZXIgPSBjcmVhdGVMb2dnZXIoe1xuICAgICAgY29sbGFwc2VkOiB0cnVlLFxuICAgICAgLy8gY29udmVydCBpbW11dGFibGUuanMgb2JqZWN0cyB0byBKUyBmb3IgbG9nZ2luZyAoY29kZSBjb3BpZWQgZnJvbVxuICAgICAgLy8gcmVkdXgtbG9nZ2VyIHJlYWRtZSlcbiAgICAgIHN0YXRlVHJhbnNmb3JtZXI6IHN0YXRlID0+IHtcbiAgICAgICAgbGV0IG5ld1N0YXRlID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgaSBvZiBPYmplY3Qua2V5cyhzdGF0ZSkpIHtcbiAgICAgICAgICBpZiAoSW1tdXRhYmxlLkl0ZXJhYmxlLmlzSXRlcmFibGUoc3RhdGVbaV0pKSB7XG4gICAgICAgICAgICBuZXdTdGF0ZVtpXSA9IHN0YXRlW2ldLnRvSlMoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3U3RhdGVbaV0gPSBzdGF0ZVtpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNvbmZpZ3VyZVN0b3JlKHtcbiAgICAgIHJlZHVjZXI6IHJlZHVjZXIsXG4gICAgICBwcmVsb2FkZWRTdGF0ZTogaW5pdGlhbFN0YXRlLFxuICAgICAgbWlkZGxld2FyZTogZ2V0RGVmYXVsdE1pZGRsZXdhcmUgPT5cbiAgICAgICAgLy8gdGhlIGRlZmF1bHQgbWlkZGxld2FyZSBpbmNsdWRlcyByZWR1eCB0aHVuaywgaW1tdXRhYmlsaXR5IGNoZWNrLFxuICAgICAgICAvLyBhbmQgc2VyaWFsaXphYmlsaXR5IGNoZWNrLiBTb21lIG9mIG91ciBzdG9yZSBkb2VzIG5vdCBwYXNzIHRoZXNlIGNoZWNrcyxcbiAgICAgICAgLy8gc28gd2UgYXJlIGlnbm9yaW5nIHRoZW0gZm9yIG5vdy4gV2Ugb25seSBlbmFibGUgdGhpcyBpbiBkZXYgbW9kZVxuICAgICAgICAvLyBiZWNhdXNlIGl0IGNhdXNlcyBjb25zb2xlIGVycm9ycyBpZiBzb21ldGhpbmcgZmFpbHMgdGhlIGNoZWNrLCBhbmRcbiAgICAgICAgLy8gY2FuIHBvdGVudGlhbGx5IGNhdXNlIGEgcGFnZSBjcmFzaCAoaW4gdGhlIGNhc2Ugb2YgdGhlIEpTIEludGVycHJldGVyIGFuZCB0aGVcbiAgICAgICAgLy8gaW1tdXRhYmlsaXR5IGNoZWNrKS5cbiAgICAgICAgZ2V0RGVmYXVsdE1pZGRsZXdhcmUoe1xuICAgICAgICAgIGltbXV0YWJsZUNoZWNrOiB7XG4gICAgICAgICAgICBpZ25vcmVkUGF0aHM6IFsnanNJbnRlcnByZXRlcicsICdqc2RlYnVnZ2VyJ10sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXJpYWxpemFibGVDaGVjazoge1xuICAgICAgICAgICAgaWdub3JlZEFjdGlvblBhdGhzOiBbXG4gICAgICAgICAgICAgICdibG9iJyxcbiAgICAgICAgICAgICAgJ2pzZGVidWdnZXInLFxuICAgICAgICAgICAgICAnb2JzZXJ2ZXInLFxuICAgICAgICAgICAgICAnanNJbnRlcnByZXRlcicsXG4gICAgICAgICAgICAgICdydW5BcHAnLFxuICAgICAgICAgICAgICAncHJvcHMuc2hvd05leHRIaW50JyxcbiAgICAgICAgICAgICAgJ3Byb3BzLmFzc2V0VXJsJyxcbiAgICAgICAgICAgICAgJ3Byb3BzLmV4cG9ydEFwcCcsXG4gICAgICAgICAgICAgICdwYXlsb2FkLmdldENoYW5nZXMnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGlnbm9yZWRQYXRoczogW1xuICAgICAgICAgICAgICAnaGlkZGVuTGVzc29uJyxcbiAgICAgICAgICAgICAgJ2Jsb2InLFxuICAgICAgICAgICAgICAncGFnZUNvbnN0YW50cycsXG4gICAgICAgICAgICAgICdvYnNlcnZlcicsXG4gICAgICAgICAgICAgICd3YXRjaGVkRXhwcmVzc2lvbnMnLFxuICAgICAgICAgICAgICAnaW5zdHJ1Y3Rpb25zJyxcbiAgICAgICAgICAgICAgJ3J1bkFwcCcsXG4gICAgICAgICAgICAgICdqc2RlYnVnZ2VyJyxcbiAgICAgICAgICAgICAgL2FuaW1hdGlvbkxpc3RcXC5wcm9wc0J5S2V5LipcXC5ibG9iLyxcbiAgICAgICAgICAgICAgJ21ha2VyJyxcbiAgICAgICAgICAgICAgJ2RhdGEnLFxuICAgICAgICAgICAgICAnc2NyZWVucycsXG4gICAgICAgICAgICAgICdoZWFkZXIuZ2V0TGV2ZWxCdWlsZGVyQ2hhbmdlcycsXG4gICAgICAgICAgICAgICdnZXRDaGFuZ2VzJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSkuY29uY2F0KHJlZHV4TG9nZ2VyKSxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBjb25maWd1cmVTdG9yZSh7XG4gICAgcmVkdWNlcjogcmVkdWNlcixcbiAgICBwcmVsb2FkZWRTdGF0ZTogaW5pdGlhbFN0YXRlLFxuICAgIG1pZGRsZXdhcmU6IFtyZWR1eFRodW5rXSxcbiAgICBkZXZUb29sczogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcsIC8vIG9ubHkgZW5hYmxlIGRldlRvb2xzIGluIGRldmVsb3BtZW50XG4gIH0pO1xufVxuIiwiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCwge0NvbXBvbmVudH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgZm9udENvbnN0YW50cyBmcm9tICdAY2RvL2FwcHMvZm9udENvbnN0YW50cyc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BjZG8vYXBwcy9sZWdhY3lTaGFyZWRDb21wb25lbnRzL0J1dHRvbic7XG5pbXBvcnQgRGlhbG9nLCB7Qm9keX0gZnJvbSAnQGNkby9hcHBzL2xlZ2FjeVNoYXJlZENvbXBvbmVudHMvRGlhbG9nJztcbmltcG9ydCB7RVZFTlRTLCBQTEFURk9STVN9IGZyb20gJ0BjZG8vYXBwcy9tZXRyaWNzL0FuYWx5dGljc0NvbnN0YW50cyc7XG5pbXBvcnQgYW5hbHl0aWNzUmVwb3J0ZXIgZnJvbSAnQGNkby9hcHBzL21ldHJpY3MvQW5hbHl0aWNzUmVwb3J0ZXInO1xuaW1wb3J0IGNvbG9yIGZyb20gJ0BjZG8vYXBwcy91dGlsL2NvbG9yJztcbmltcG9ydCBpMThuIGZyb20gJ0BjZG8vbG9jYWxlJztcblxuaW1wb3J0IHtnZXRTdG9yZX0gZnJvbSAnLi4vcmVkdXgnO1xuXG5pbXBvcnQgU2Nob29sSW5mb0ludGVyc3RpdGlhbCBmcm9tICcuL1NjaG9vbEluZm9JbnRlcnN0aXRpYWwnO1xuXG5leHBvcnQgY29uc3Qgc3R5bGVzID0ge1xuICBidXR0b246IHtcbiAgICBtYXJnaW5Ub3A6IDIwLFxuICAgIG1hcmdpbkxlZnQ6ICc1MCUnLFxuICB9LFxuICBidXR0b25SVEw6IHtcbiAgICBtYXJnaW5Ub3A6IDIwLFxuICAgIG1hcmdpblJpZ2h0OiAnNTAlJyxcbiAgfSxcbiAgdXBkYXRlQnV0dG9uOiB7XG4gICAgbWFyZ2luVG9wOiAyMCxcbiAgICBtYXJnaW5MZWZ0OiA1LFxuICB9LFxuICB1cGRhdGVCdXR0b25SVEw6IHtcbiAgICBtYXJnaW5Ub3A6IDIwLFxuICAgIG1hcmdpblJpZ2h0OiA1LFxuICB9LFxuICBpbnRybzoge1xuICAgIGZvbnRTaXplOiAxOCxcbiAgICAuLi5mb250Q29uc3RhbnRzWydtYWluLWZvbnQtc2VtaS1ib2xkJ10sXG4gICAgY29sb3I6IGNvbG9yLmNoYXJjb2FsLFxuICAgIHBhZGRpbmdSaWdodDogMjAsXG4gIH0sXG4gIHNjaG9vbE5hbWU6IHtcbiAgICBjb2xvcjogY29sb3IucHVycGxlLFxuICAgIGZvbnRTdHlsZTogJ2l0YWxpYycsXG4gIH0sXG4gIGJvZHk6IHtcbiAgICBtYXJnaW46IDEwLFxuICB9LFxufTtcblxuY2xhc3MgU2Nob29sSW5mb0NvbmZpcm1hdGlvbkRpYWxvZyBleHRlbmRzIENvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgc2Nob29sTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBzY3JpcHREYXRhOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgZm9ybVVybDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgYXV0aFRva2VuTmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgYXV0aFRva2VuVmFsdWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgIGV4aXN0aW5nU2Nob29sSW5mbzogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgaWQ6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgIHVzZXJfc2Nob29sX2luZm9faWQ6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgIHNjaG9vbF9pZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgY291bnRyeTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgc2Nob29sX3R5cGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIHNjaG9vbF9uYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBmdWxsX2FkZHJlc3M6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICB9KS5pc1JlcXVpcmVkLFxuICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgb25DbG9zZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgaXNPcGVuOiBQcm9wVHlwZXMuYm9vbCxcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc2hvd1NjaG9vbEludGVyc3RpdGlhbDogZmFsc2UsXG4gICAgICBzY2hvb2xOYW1lOiBwcm9wcy5zY3JpcHREYXRhLmV4aXN0aW5nU2Nob29sSW5mby5zY2hvb2xfbmFtZSxcbiAgICAgIGlzT3BlbjogcHJvcHMuaXNPcGVuIHx8IHRydWUsXG4gICAgfTtcbiAgfVxuXG4gIGNsb3NlTW9kYWwgPSAoKSA9PiB7XG4gICAgYW5hbHl0aWNzUmVwb3J0ZXIuc2VuZEV2ZW50KFxuICAgICAgRVZFTlRTLlVQREFURV9TQ0hPT0xfSU5GT19ESUFMT0dfQ0xPU0VELFxuICAgICAge30sXG4gICAgICBQTEFURk9STVMuQk9USFxuICAgICk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7aXNPcGVuOiBmYWxzZX0pO1xuICAgIHRoaXMucHJvcHMub25DbG9zZSgpO1xuICB9O1xuXG4gIGhhbmRsZUNsaWNrWWVzID0gKCkgPT4ge1xuICAgIGFuYWx5dGljc1JlcG9ydGVyLnNlbmRFdmVudChcbiAgICAgIEVWRU5UUy5DT05GSVJNX1NDSE9PTF9DTElDS0VELFxuICAgICAge30sXG4gICAgICBQTEFURk9STVMuQk9USFxuICAgICk7XG4gICAgY29uc3Qge2F1dGhUb2tlbk5hbWUsIGF1dGhUb2tlblZhbHVlfSA9IHRoaXMucHJvcHMuc2NyaXB0RGF0YTtcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGZvcm1EYXRhLmFwcGVuZChhdXRoVG9rZW5OYW1lLCBhdXRoVG9rZW5WYWx1ZSk7XG4gICAgZmV0Y2goXG4gICAgICBgL2FwaS92MS91c2VyX3NjaG9vbF9pbmZvcy8ke3RoaXMucHJvcHMuc2NyaXB0RGF0YS5leGlzdGluZ1NjaG9vbEluZm8udXNlcl9zY2hvb2xfaW5mb19pZH0vdXBkYXRlX2xhc3RfY29uZmlybWF0aW9uX2RhdGVgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgfVxuICAgIClcbiAgICAgIC50aGVuKHRoaXMuY2xvc2VNb2RhbClcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2Vycm9yfSk7XG4gICAgICB9KTtcbiAgfTtcblxuICBoYW5kbGVDbGlja1VwZGF0ZSA9ICgpID0+IHtcbiAgICBhbmFseXRpY3NSZXBvcnRlci5zZW5kRXZlbnQoXG4gICAgICBFVkVOVFMuVVBEQVRFX1NDSE9PTF9DTElDS0VELFxuICAgICAge30sXG4gICAgICBQTEFURk9STVMuQk9USFxuICAgICk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7c2hvd1NjaG9vbEludGVyc3RpdGlhbDogdHJ1ZX0pO1xuICB9O1xuXG4gIHJlbmRlckluaXRpYWxDb250ZW50ID0gKCkgPT4ge1xuICAgIGFuYWx5dGljc1JlcG9ydGVyLnNlbmRFdmVudChcbiAgICAgIEVWRU5UUy5VUERBVEVfU0NIT09MX0lORk9fRElBTE9HX1NIT1dOLFxuICAgICAge30sXG4gICAgICBQTEFURk9STVMuQk9USFxuICAgICk7XG4gICAgY29uc3Qge3NjaG9vbE5hbWV9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBpc1JUTCA9IGdldFN0b3JlKCkuZ2V0U3RhdGUoKT8uaXNSdGw7XG4gICAgcmV0dXJuIChcbiAgICAgIDxCb2R5PlxuICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMuYm9keX0+XG4gICAgICAgICAgPHAgc3R5bGU9e3N0eWxlcy5pbnRyb30+XG4gICAgICAgICAgICB7aTE4bi5zY2hvb2xJbmZvRGlhbG9nRGVzY3JpcHRpb24oKX1cbiAgICAgICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMuc2Nob29sTmFtZX0+XG4gICAgICAgICAgICAgIHtpMThuLnNjaG9vbEluZm9EaWFsb2dEZXNjcmlwdGlvblNjaG9vbE5hbWUoe3NjaG9vbE5hbWV9KX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgc3R5bGU9e2lzUlRMID8gc3R5bGVzLnVwZGF0ZUJ1dHRvblJUTCA6IHN0eWxlcy51cGRhdGVCdXR0b259XG4gICAgICAgICAgdGV4dD17aTE4bi5zY2hvb2xJbmZvRGlhbG9nVXBkYXRlKCl9XG4gICAgICAgICAgY29sb3I9e0J1dHRvbi5CdXR0b25Db2xvci5ibHVlfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2tVcGRhdGV9XG4gICAgICAgICAgaWQ9XCJ1cGRhdGUtYnV0dG9uXCJcbiAgICAgICAgLz5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHN0eWxlPXtpc1JUTCA/IHN0eWxlcy5idXR0b25SVEwgOiBzdHlsZXMuYnV0dG9ufVxuICAgICAgICAgIHRleHQ9e2kxOG4ueWVzKCl9XG4gICAgICAgICAgY29sb3I9e0J1dHRvbi5CdXR0b25Db2xvci5icmFuZFNlY29uZGFyeURlZmF1bHR9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja1llc31cbiAgICAgICAgICBpZD1cInllcy1idXR0b25cIlxuICAgICAgICAvPlxuICAgICAgPC9Cb2R5PlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyU2Nob29sSW5mb3JtYXRpb25Gb3JtKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8Qm9keT5cbiAgICAgICAgPFNjaG9vbEluZm9JbnRlcnN0aXRpYWxcbiAgICAgICAgICBzY3JpcHREYXRhPXt0aGlzLnByb3BzLnNjcmlwdERhdGF9XG4gICAgICAgICAgb25DbG9zZT17dGhpcy5jbG9zZU1vZGFsfVxuICAgICAgICAvPlxuICAgICAgPC9Cb2R5PlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge3Nob3dTY2hvb2xJbnRlcnN0aXRpYWwsIGlzT3Blbn0gPSB0aGlzLnN0YXRlO1xuICAgIHJldHVybiAoXG4gICAgICA8RGlhbG9nIGlzT3Blbj17aXNPcGVufSBoYW5kbGVDbG9zZT17dGhpcy5jbG9zZU1vZGFsfT5cbiAgICAgICAgeyFzaG93U2Nob29sSW50ZXJzdGl0aWFsXG4gICAgICAgICAgPyB0aGlzLnJlbmRlckluaXRpYWxDb250ZW50KClcbiAgICAgICAgICA6IHRoaXMucmVuZGVyU2Nob29sSW5mb3JtYXRpb25Gb3JtKCl9XG4gICAgICA8L0RpYWxvZz5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2c7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5mdW5jdGlvbiBjcmVhdGVUaHVua01pZGRsZXdhcmUoZXh0cmFBcmd1bWVudCkge1xuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoO1xuICAgIHZhciBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBhY3Rpb24oZGlzcGF0Y2gsIGdldFN0YXRlLCBleHRyYUFyZ3VtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59XG5cbnZhciB0aHVuayA9IGNyZWF0ZVRodW5rTWlkZGxld2FyZSgpO1xudGh1bmsud2l0aEV4dHJhQXJndW1lbnQgPSBjcmVhdGVUaHVua01pZGRsZXdhcmU7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHRodW5rOyIsImltcG9ydCB7YWN0aW9ufSBmcm9tICdAc3Rvcnlib29rL2FkZG9uLWFjdGlvbnMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IFNjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2cgZnJvbSAnLi9TY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjb21wb25lbnQ6IFNjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2csXG59O1xuXG4vL1xuLy8gVEVNUExBVEVcbi8vXG5cbmNvbnN0IFRlbXBsYXRlID0gYXJncyA9PiA8U2Nob29sSW5mb0NvbmZpcm1hdGlvbkRpYWxvZyB7Li4uYXJnc30gLz47XG5cbi8vXG4vLyBTVE9SSUVTXG4vL1xuXG5leHBvcnQgY29uc3QgRGlzcGxheVNjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2cgPSBUZW1wbGF0ZS5iaW5kKHt9KTtcbkRpc3BsYXlTY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nLmFyZ3MgPSB7XG4gIHNjcmlwdERhdGE6IHtcbiAgICBmb3JtVXJsOiAnJyxcbiAgICBhdXRoVG9rZW5OYW1lOiAnYXV0aF90b2tlbicsXG4gICAgYXV0aFRva2VuVmFsdWU6ICdmYWtlX2F1dGhfdG9rZW4nLFxuICAgIGV4aXN0aW5nU2Nob29sSW5mbzoge30sXG4gIH0sXG4gIG9uQ2xvc2U6IGFjdGlvbignb25DbG9zZSBjYWxsYmFjaycpLFxuICBpc09wZW46IHRydWUsXG59O1xuIl0sIm5hbWVzIjpbImdldFN0b3JlIiwicmVkdXhTdG9yZSIsImNyZWF0ZVN0b3JlV2l0aFJlZHVjZXJzIiwiZXhwZXJpbWVudHMiLCJpc0VuYWJsZWQiLCJ3aW5kb3ciLCJoYXNSZWR1Y2VyIiwia2V5IiwiZ2xvYmFsUmVkdWNlcnMiLCJyZWdpc3RlclJlZHVjZXJzIiwicmVkdWNlcnMiLCJleGlzdGluZ1JlZHVjZXIiLCJFcnJvciIsImNvbmNhdCIsIk9iamVjdCIsImFzc2lnbiIsInJlcGxhY2VSZWR1Y2VyIiwicmVkdXgiLCJjb21iaW5lUmVkdWNlcnMiLCJfdG9vbGtpdCIsInJlcXVpcmUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJlIiwiciIsIl9fZXNNb2R1bGUiLCJfdHlwZW9mIiwidCIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ1IiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaSIsInNldCIsIl9yZWR1eFRodW5rIiwiX2V4cGVyaW1lbnRzIiwiV2Vha01hcCIsIm9iaiIsImNyZWF0ZVN0b3JlIiwicmVkdWNlciIsImluaXRpYWxTdGF0ZSIsIlJFRFVYX0xPR0dJTkciLCJwcm9jZXNzIiwiY29uZmlndXJlU3RvcmUiLCJwcmVsb2FkZWRTdGF0ZSIsIm1pZGRsZXdhcmUiLCJyZWR1eFRodW5rIiwiZGV2VG9vbHMiLCJrZXlzIiwibGVuZ3RoIiwicyIsIm1vZHVsZSIsImV4cG9ydHMiLCJfcHJvcFR5cGVzIiwiX3JlYWN0IiwiX2ZvbnRDb25zdGFudHMiLCJfQnV0dG9uIiwiX0RpYWxvZyIsIl9BbmFseXRpY3NDb25zdGFudHMiLCJfQW5hbHl0aWNzUmVwb3J0ZXIiLCJfY29sb3IiLCJfbG9jYWxlIiwiX3JlZHV4IiwiX1NjaG9vbEluZm9JbnRlcnN0aXRpYWwiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIl9zZXRQcm90b3R5cGVPZiIsInAiLCJzZXRQcm90b3R5cGVPZiIsImJpbmQiLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZmlsdGVyIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiX3RvUHJpbWl0aXZlIiwidG9QcmltaXRpdmUiLCJUeXBlRXJyb3IiLCJTdHJpbmciLCJOdW1iZXIiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInN0eWxlcyIsImJ1dHRvbiIsIm1hcmdpblRvcCIsIm1hcmdpbkxlZnQiLCJidXR0b25SVEwiLCJtYXJnaW5SaWdodCIsInVwZGF0ZUJ1dHRvbiIsInVwZGF0ZUJ1dHRvblJUTCIsImludHJvIiwiZm9udFNpemUiLCJmb250Q29uc3RhbnRzIiwiY29sb3IiLCJjaGFyY29hbCIsInBhZGRpbmdSaWdodCIsInNjaG9vbE5hbWUiLCJwdXJwbGUiLCJmb250U3R5bGUiLCJib2R5IiwibWFyZ2luIiwiU2Nob29sSW5mb0NvbmZpcm1hdGlvbkRpYWxvZyIsIl9Db21wb25lbnQiLCJwcm9wcyIsIl90aGlzIiwiYW5hbHl0aWNzUmVwb3J0ZXIiLCJzZW5kRXZlbnQiLCJFVkVOVFMiLCJVUERBVEVfU0NIT09MX0lORk9fRElBTE9HX0NMT1NFRCIsIlBMQVRGT1JNUyIsIkJPVEgiLCJzZXRTdGF0ZSIsImlzT3BlbiIsIm9uQ2xvc2UiLCJDT05GSVJNX1NDSE9PTF9DTElDS0VEIiwiX3RoaXMkcHJvcHMkc2NyaXB0RGF0Iiwic2NyaXB0RGF0YSIsImF1dGhUb2tlbk5hbWUiLCJhdXRoVG9rZW5WYWx1ZSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJmZXRjaCIsImV4aXN0aW5nU2Nob29sSW5mbyIsInVzZXJfc2Nob29sX2luZm9faWQiLCJtZXRob2QiLCJ0aGVuIiwiY2xvc2VNb2RhbCIsImVycm9yIiwiVVBEQVRFX1NDSE9PTF9DTElDS0VEIiwic2hvd1NjaG9vbEludGVyc3RpdGlhbCIsIl9nZXRTdG9yZSRnZXRTdGF0ZSIsIlVQREFURV9TQ0hPT0xfSU5GT19ESUFMT0dfU0hPV04iLCJzdGF0ZSIsImlzUlRMIiwiZ2V0U3RhdGUiLCJpc1J0bCIsImNyZWF0ZUVsZW1lbnQiLCJCb2R5Iiwic3R5bGUiLCJpMThuIiwic2Nob29sSW5mb0RpYWxvZ0Rlc2NyaXB0aW9uIiwic2Nob29sSW5mb0RpYWxvZ0Rlc2NyaXB0aW9uU2Nob29sTmFtZSIsInRleHQiLCJzY2hvb2xJbmZvRGlhbG9nVXBkYXRlIiwiQnV0dG9uIiwiQnV0dG9uQ29sb3IiLCJibHVlIiwib25DbGljayIsImhhbmRsZUNsaWNrVXBkYXRlIiwiaWQiLCJ5ZXMiLCJicmFuZFNlY29uZGFyeURlZmF1bHQiLCJoYW5kbGVDbGlja1llcyIsInNjaG9vbF9uYW1lIiwiX2luaGVyaXRzTG9vc2UiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJfcHJvdG8iLCJyZW5kZXJTY2hvb2xJbmZvcm1hdGlvbkZvcm0iLCJ0aGlzIiwicmVuZGVyIiwiX3RoaXMkc3RhdGUiLCJoYW5kbGVDbG9zZSIsInJlbmRlckluaXRpYWxDb250ZW50IiwiQ29tcG9uZW50IiwiUHJvcFR5cGVzIiwic3RyaW5nIiwic2hhcGUiLCJmb3JtVXJsIiwiaXNSZXF1aXJlZCIsIm51bWJlciIsInNjaG9vbF9pZCIsImNvdW50cnkiLCJzY2hvb2xfdHlwZSIsImZ1bGxfYWRkcmVzcyIsImZ1bmMiLCJib29sIiwiY3JlYXRlVGh1bmtNaWRkbGV3YXJlIiwiZXh0cmFBcmd1bWVudCIsIl9yZWYiLCJkaXNwYXRjaCIsIm5leHQiLCJhY3Rpb24iLCJ0aHVuayIsIndpdGhFeHRyYUFyZ3VtZW50IiwiX2FkZG9uQWN0aW9ucyIsIl9TY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nIiwiY29tcG9uZW50IiwiVGVtcGxhdGUiLCJhcmdzIl0sInNvdXJjZVJvb3QiOiIifQ==