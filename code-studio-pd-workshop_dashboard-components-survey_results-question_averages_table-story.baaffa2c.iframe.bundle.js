(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[273],{"./src/code-studio/pd/workshop_dashboard/components/survey_results/question_averages_table.jsx":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_lodash=_interopRequireDefault(__webpack_require__("./node_modules/lodash/lodash.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var QuestionAveragesTable=function(_React$Component){function QuestionAveragesTable(){return _React$Component.apply(this,arguments)||this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(QuestionAveragesTable,_React$Component);var _proto=QuestionAveragesTable.prototype;return _proto.renderHeaderRow=function renderHeaderRow(){var facilitatorColumnHeaders;return this.props.facilitatorBreakdown&&(facilitatorColumnHeaders=this.props.facilitatorNames.map((function(facilitator,i){return _react.default.createElement("th",{key:i},facilitator)}))),_react.default.createElement("thead",null,_react.default.createElement("tr",null,_react.default.createElement("th",null),_react.default.createElement("th",null,"This workshop"),facilitatorColumnHeaders,_react.default.createElement("th",null,"All my ",this.props.workshopType),_react.default.createElement("th",null,"All workshops")))},_proto.renderRow=function renderRow(row,i){var scoreCells,_this=this,thisWorkshopData=this.props.thisWorkshopData[row.key];return this.props.facilitatorBreakdown&&"object"===_typeof(thisWorkshopData)?(scoreCells=this.props.facilitatorNames.map((function(facilitator_name){return _react.default.createElement("td",{key:facilitator_name},_this.renderScore(row,thisWorkshopData[facilitator_name]))}))).unshift(_react.default.createElement("td",{key:"this workshop"})):(scoreCells=[_react.default.createElement("td",{key:0},this.renderScore(row,thisWorkshopData))],this.props.facilitatorBreakdown&&_lodash.default.times(this.props.facilitatorNames.length,(function(i){scoreCells.push(_react.default.createElement("td",{key:i+1}))}))),_react.default.createElement("tr",{key:i},_react.default.createElement("td",null,row.text),scoreCells,_react.default.createElement("td",null,this.renderScore(row,this.props.allMyWorkshopsData[row.key])),_react.default.createElement("td",null,this.renderScore(row,this.props.allWorkshopsData[row.key])))},_proto.renderScore=function renderScore(row,score){return score&&row.score_base?"".concat(score," / ").concat(row.score_base):score||""},_proto.render=function render(){var _this2=this;return _react.default.createElement("table",{className:"table table-bordered",style:{width:"auto"}},this.renderHeaderRow(),_react.default.createElement("tbody",null,this.props.questions.map((function(row,i){return _this2.renderRow(row,i)}))))},QuestionAveragesTable}(_react.default.Component);exports.default=QuestionAveragesTable,function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(QuestionAveragesTable,"propTypes",{questions:_propTypes.default.arrayOf(_propTypes.default.object).isRequired,thisWorkshopData:_propTypes.default.object.isRequired,allMyWorkshopsData:_propTypes.default.object.isRequired,allWorkshopsData:_propTypes.default.object.isRequired,facilitatorNames:_propTypes.default.arrayOf(_propTypes.default.string).isRequired,facilitatorBreakdown:_propTypes.default.bool.isRequired,workshopType:_propTypes.default.string.isRequired}),module.exports=exports.default},"./node_modules/prop-types/factoryWithThrowingShims.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ReactPropTypesSecret=__webpack_require__("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function emptyFunction(){}module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return ReactPropTypes.checkPropTypes=emptyFunction,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},"./node_modules/prop-types/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":module=>{"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./src/code-studio/pd/workshop_dashboard/components/survey_results/question_averages_table.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TableForMultipleFacilitators=exports.TableForASingleFacilitator=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_question_averages_table=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/workshop_dashboard/components/survey_results/question_averages_table.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var questions=[{text:"Was the facilitator good at brooding?",key:"question_1",score_base:5},{text:"How was the session?",key:"question_2",score_base:5}],_default={component:_question_averages_table.default};exports.default=_default;var Template=function Template(args){return _react.default.createElement("div",{id:"application-container"},_react.default.createElement(_question_averages_table.default,_extends({className:"table table-bordered",style:{width:"auto"}},args)))},TableForASingleFacilitator=Template.bind({});exports.TableForASingleFacilitator=TableForASingleFacilitator,TableForASingleFacilitator.args={name:"Table for a single facilitator",questions,thisWorkshopData:{question_1:5,question_2:5},allMyWorkshopsData:{question_1:4,question_2:4.1},allWorkshopsData:{question_1:3.5,question_2:3.6},allWorkshops:!0,facilitatorNames:["Jon Snow","Tyrion Lannister"],facilitatorBreakdown:!1,workshopType:"TeacherCons"};var TableForMultipleFacilitators=Template.bind({});exports.TableForMultipleFacilitators=TableForMultipleFacilitators,TableForMultipleFacilitators.args={name:"Table for multiple facilitators",questions,facilitatorNames:["Jon Snow","Tyrion Lannister"],facilitatorBreakdown:!0,thisWorkshopData:{question_1:{"Jon Snow":5,"Tyrion Lannister":3},question_2:5},allMyWorkshopsData:{question_1:4,question_2:4.1},allWorkshopsData:{question_1:3.5,question_2:3.6},workshopType:"TeacherCons"}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZS1zdHVkaW8tcGQtd29ya3Nob3BfZGFzaGJvYXJkLWNvbXBvbmVudHMtc3VydmV5X3Jlc3VsdHMtcXVlc3Rpb25fYXZlcmFnZXNfdGFibGUtc3RvcnkuMTFiZGMwYzEuaWZyYW1lLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiaVRBQUEsaUdBQ0Esb0ZBQ0EsdUYsbWhCQUVxQkEsc0JBQUFBLFNBQUFBLGtCLHlXQVduQkMsZ0JBQUEsU0FBQUEsa0JBQ0UsSUFBSUMseUJBVUosT0FSSUMsS0FBS0MsTUFBTUMsdUJBQ2JILHlCQUEyQkMsS0FBS0MsTUFBTUUsaUJBQWlCQyxLQUNyRCxTQUFDQyxZQUFhQyxHQUNaLE9BQU8sbUNBQUlDLElBQUtELEdBQUlELFlBQ3JCLEtBS0gsMENBQ0UsdUNBQ0Usd0NBQ0Esd0RBQ0NOLHlCQUNELGlEQUFZQyxLQUFLQyxNQUFNTyxjQUN2Qix5REFJUCxFLE9BRURDLFVBQUEsU0FBQUEsVUFBVUMsSUFBS0osR0FBRyxJQUNaSyxXQURZLFdBRVpDLGlCQUFtQlosS0FBS0MsTUFBTVcsaUJBQWlCRixJQUFHLEtBNEJ0RCxPQXpCRVYsS0FBS0MsTUFBTUMsc0JBQ2lCLFdBQTVCLFFBQU9VLG1CQUtQRCxXQUFhWCxLQUFLQyxNQUFNRSxpQkFBaUJDLEtBQUksU0FBQVMsa0JBQzNDLE9BQ0UsbUNBQUlOLElBQUtNLGtCQUNOLE1BQUtDLFlBQVlKLElBQUtFLGlCQUFpQkMsbUJBRzdDLEtBRVVFLFFBQVEsbUNBQUlSLElBQUksb0JBRTNCSSxXQUFhLENBQUMsbUNBQUlKLElBQUssR0FBSVAsS0FBS2MsWUFBWUosSUFBS0Usb0JBRTdDWixLQUFLQyxNQUFNQyxzQkFDYmMsUUFBQUEsUUFBRUMsTUFBTWpCLEtBQUtDLE1BQU1FLGlCQUFpQmUsUUFBUSxTQUFBWixHQUMxQ0ssV0FBV1EsS0FBSyxtQ0FBSVosSUFBS0QsRUFBSSxJQUM5QixLQUtILG1DQUFJQyxJQUFLRCxHQUNQLHVDQUFLSSxJQUFHLE1BQ1BDLFdBQ0QsdUNBQ0dYLEtBQUtjLFlBQVlKLElBQUtWLEtBQUtDLE1BQU1tQixtQkFBbUJWLElBQUcsT0FFMUQsdUNBQ0dWLEtBQUtjLFlBQVlKLElBQUtWLEtBQUtDLE1BQU1vQixpQkFBaUJYLElBQUcsT0FJN0QsRSxPQUVESSxZQUFBLFNBQUFBLFlBQVlKLElBQUtZLE9BQ2YsT0FBSUEsT0FBU1osSUFBRyxXQUNQLEdBQVAsT0FBVVksTUFBVixjQUFxQlosSUFBRyxZQUVqQlksT0FBUyxFQUVuQixFLE9BRURDLE9BQUEsU0FBQUEsU0FBUyxnQkFDUCxPQUNFLHNDQUFPQyxVQUFVLHVCQUF1QkMsTUFBTyxDQUFDQyxNQUFPLFNBQ3BEMUIsS0FBS0Ysa0JBQ04sMENBQ0dFLEtBQUtDLE1BQU0wQixVQUFVdkIsS0FBSSxTQUFDTSxJQUFLSixHQUM5QixPQUFPLE9BQUtHLFVBQVVDLElBQUtKLEVBQzVCLEtBSVIsRSxzQkFsR2tCVCxDQUE4QitCLE9BQUFBLFFBQU1DLFcscU1BQXBDaEMsc0JBQUFBLFlBQ0EsQ0FDakI4QixVQUFXRyxXQUFBQSxRQUFVQyxRQUFRRCxXQUFBQSxRQUFVRSxRQUFRQyxXQUMvQ3JCLGlCQUFrQmtCLFdBQUFBLFFBQVVFLE9BQU9DLFdBQ25DYixtQkFBb0JVLFdBQUFBLFFBQVVFLE9BQU9DLFdBQ3JDWixpQkFBa0JTLFdBQUFBLFFBQVVFLE9BQU9DLFdBQ25DOUIsaUJBQWtCMkIsV0FBQUEsUUFBVUMsUUFBUUQsV0FBQUEsUUFBVUksUUFBUUQsV0FDdEQvQixxQkFBc0I0QixXQUFBQSxRQUFVSyxLQUFLRixXQUNyQ3pCLGFBQWNzQixXQUFBQSxRQUFVSSxPQUFPRCxhLDZKQ0huQyxJQUFJRyxxQkFBdUIsb0JBQVEseURBRW5DLFNBQVNDLGdCQUFpQixDQUUxQkMsT0FBT0MsUUFBVSxXQUNmLFNBQVNDLEtBQUt2QyxNQUFPd0MsU0FBVUMsY0FBZUMsU0FBVUMsYUFBY0MsUUFDcEUsR0FBSUEsU0FBV1QscUJBQWYsQ0FJQSxJQUFJVSxJQUFNLElBQUlDLE1BQ1osbUxBS0YsTUFEQUQsSUFBSUUsS0FBTyxzQkFDTEYsR0FQTixDQVFGLENBRUEsU0FBU0csVUFDUCxPQUFPVCxJQUNULENBSEFBLEtBQUtQLFdBQWFPLEtBTWxCLElBQUlVLGVBQWlCLENBQ25CQyxNQUFPWCxLQUNQTCxLQUFNSyxLQUNOWSxLQUFNWixLQUNOYSxPQUFRYixLQUNSUixPQUFRUSxLQUNSTixPQUFRTSxLQUNSYyxPQUFRZCxLQUVSZSxJQUFLZixLQUNMVCxRQUFTa0IsUUFDVE8sUUFBU2hCLEtBQ1RpQixXQUFZUixRQUNaUyxLQUFNbEIsS0FDTm1CLFNBQVVWLFFBQ1ZXLE1BQU9YLFFBQ1BZLFVBQVdaLFFBQ1hhLE1BQU9iLFFBQ1BjLE1BQU9kLFNBTVQsT0FIQUMsZUFBZWMsZUFBaUIzQixjQUNoQ2EsZUFBZXBCLFVBQVlvQixlQUVwQkEsY0FDVCxDLCtGQ2hDRVosT0FBT0MsUUFBVSxvQkFBUSx3REFBUixFLGdGQ2ZuQkQsT0FBT0MsUUFGb0IsOEMsbVVDVDNCLHdGQUNBLHNLLHNYQUVBLElBQU1aLFVBQVksQ0FDaEIsQ0FDRXNDLEtBQU0sd0NBQ04xRCxJQUFLLGFBQ0wyRCxXQUFZLEdBRWQsQ0FDRUQsS0FBTSx1QkFDTjFELElBQUssYUFDTDJELFdBQVksSSxTQUlELENBQ2JDLFVBQVd0RSx5QkFBQUEsUyx5QkFHYixJQUFNdUUsU0FBVyxTQUFYQSxTQUFXQyxNQUFJLE9BQ25CLG9DQUFLQyxHQUFHLHlCQUNOLDZCQUFDLGlDQUFELFVBQ0U5QyxVQUFVLHVCQUNWQyxNQUFPLENBQUNDLE1BQU8sU0FDWDJDLE9BTFcsRUFVUkUsMkJBQTZCSCxTQUFTSSxLQUFLLENBQUMsRyw4REFDekRELDJCQUEyQkYsS0FBTyxDQUNoQ3JCLEtBQU0saUNBQ05yQixVQUNBZixpQkFBa0IsQ0FDaEI2RCxXQUFZLEVBQ1pDLFdBQVksR0FFZHRELG1CQUFvQixDQUNsQnFELFdBQVksRUFDWkMsV0FBWSxLQUVkckQsaUJBQWtCLENBQ2hCb0QsV0FBWSxJQUNaQyxXQUFZLEtBRWRDLGNBQWMsRUFDZHhFLGlCQUFrQixDQUFDLFdBQVksb0JBQy9CRCxzQkFBc0IsRUFDdEJNLGFBQWMsZUFHVCxJQUFNb0UsNkJBQStCUixTQUFTSSxLQUFLLENBQUMsRyxrRUFDM0RJLDZCQUE2QlAsS0FBTyxDQUNsQ3JCLEtBQU0sa0NBQ05yQixVQUNBeEIsaUJBQWtCLENBQUMsV0FBWSxvQkFDL0JELHNCQUFzQixFQUN0QlUsaUJBQWtCLENBQ2hCNkQsV0FBWSxDQUNWLFdBQVksRUFDWixtQkFBb0IsR0FFdEJDLFdBQVksR0FFZHRELG1CQUFvQixDQUNsQnFELFdBQVksRUFDWkMsV0FBWSxLQUVkckQsaUJBQWtCLENBQ2hCb0QsV0FBWSxJQUNaQyxXQUFZLEtBRWRsRSxhQUFjLGMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvY29kZS1zdHVkaW8vcGQvd29ya3Nob3BfZGFzaGJvYXJkL2NvbXBvbmVudHMvc3VydmV5X3Jlc3VsdHMvcXVlc3Rpb25fYXZlcmFnZXNfdGFibGUuanN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL2NvZGUtc3R1ZGlvL3BkL3dvcmtzaG9wX2Rhc2hib2FyZC9jb21wb25lbnRzL3N1cnZleV9yZXN1bHRzL3F1ZXN0aW9uX2F2ZXJhZ2VzX3RhYmxlLnN0b3J5LmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1ZXN0aW9uQXZlcmFnZXNUYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgcXVlc3Rpb25zOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMub2JqZWN0KS5pc1JlcXVpcmVkLFxuICAgIHRoaXNXb3Jrc2hvcERhdGE6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhbGxNeVdvcmtzaG9wc0RhdGE6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBhbGxXb3Jrc2hvcHNEYXRhOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgZmFjaWxpdGF0b3JOYW1lczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZykuaXNSZXF1aXJlZCxcbiAgICBmYWNpbGl0YXRvckJyZWFrZG93bjogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICB3b3Jrc2hvcFR5cGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgfTtcblxuICByZW5kZXJIZWFkZXJSb3coKSB7XG4gICAgbGV0IGZhY2lsaXRhdG9yQ29sdW1uSGVhZGVycztcblxuICAgIGlmICh0aGlzLnByb3BzLmZhY2lsaXRhdG9yQnJlYWtkb3duKSB7XG4gICAgICBmYWNpbGl0YXRvckNvbHVtbkhlYWRlcnMgPSB0aGlzLnByb3BzLmZhY2lsaXRhdG9yTmFtZXMubWFwKFxuICAgICAgICAoZmFjaWxpdGF0b3IsIGkpID0+IHtcbiAgICAgICAgICByZXR1cm4gPHRoIGtleT17aX0+e2ZhY2lsaXRhdG9yfTwvdGg+O1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8dGhlYWQ+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGggLz5cbiAgICAgICAgICA8dGg+VGhpcyB3b3Jrc2hvcDwvdGg+XG4gICAgICAgICAge2ZhY2lsaXRhdG9yQ29sdW1uSGVhZGVyc31cbiAgICAgICAgICA8dGg+QWxsIG15IHt0aGlzLnByb3BzLndvcmtzaG9wVHlwZX08L3RoPlxuICAgICAgICAgIDx0aD5BbGwgd29ya3Nob3BzPC90aD5cbiAgICAgICAgPC90cj5cbiAgICAgIDwvdGhlYWQ+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclJvdyhyb3csIGkpIHtcbiAgICBsZXQgc2NvcmVDZWxscztcbiAgICBsZXQgdGhpc1dvcmtzaG9wRGF0YSA9IHRoaXMucHJvcHMudGhpc1dvcmtzaG9wRGF0YVtyb3dbJ2tleSddXTtcblxuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMuZmFjaWxpdGF0b3JCcmVha2Rvd24gJiZcbiAgICAgIHR5cGVvZiB0aGlzV29ya3Nob3BEYXRhID09PSAnb2JqZWN0J1xuICAgICkge1xuICAgICAgLy8gSWYgdGhpc1dvcmtzaG9wRGF0YSBpcyBhbiBvYmplY3QsIHRoYXQgbWVhbnMgaXQncyB0aGUgZmFjaWxpdGF0b3IgYnJlYWtkb3duIGZvclxuICAgICAgLy8gZmFjaWxpdGF0b3Igc3BlY2lmaWMgcXVlc3Rpb25zLiBTbyB0aGUgbnVtYmVycyBiZWxvbmcgdW5kZXIgZmFjaWxpdGF0b3IgbmFtZXNcbiAgICAgIC8vIGFuZCB0aGUgXCJ0aGlzIHdvcmtzaG9wIGNvbHVtblwiIGlzIGludGVudGlvbmFsbHkgbGVmdCBibGFua1xuICAgICAgc2NvcmVDZWxscyA9IHRoaXMucHJvcHMuZmFjaWxpdGF0b3JOYW1lcy5tYXAoZmFjaWxpdGF0b3JfbmFtZSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPHRkIGtleT17ZmFjaWxpdGF0b3JfbmFtZX0+XG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJTY29yZShyb3csIHRoaXNXb3Jrc2hvcERhdGFbZmFjaWxpdGF0b3JfbmFtZV0pfVxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgc2NvcmVDZWxscy51bnNoaWZ0KDx0ZCBrZXk9XCJ0aGlzIHdvcmtzaG9wXCIgLz4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY29yZUNlbGxzID0gWzx0ZCBrZXk9ezB9Pnt0aGlzLnJlbmRlclNjb3JlKHJvdywgdGhpc1dvcmtzaG9wRGF0YSl9PC90ZD5dO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5mYWNpbGl0YXRvckJyZWFrZG93bikge1xuICAgICAgICBfLnRpbWVzKHRoaXMucHJvcHMuZmFjaWxpdGF0b3JOYW1lcy5sZW5ndGgsIGkgPT4ge1xuICAgICAgICAgIHNjb3JlQ2VsbHMucHVzaCg8dGQga2V5PXtpICsgMX0gLz4pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPHRyIGtleT17aX0+XG4gICAgICAgIDx0ZD57cm93Wyd0ZXh0J119PC90ZD5cbiAgICAgICAge3Njb3JlQ2VsbHN9XG4gICAgICAgIDx0ZD5cbiAgICAgICAgICB7dGhpcy5yZW5kZXJTY29yZShyb3csIHRoaXMucHJvcHMuYWxsTXlXb3Jrc2hvcHNEYXRhW3Jvd1sna2V5J11dKX1cbiAgICAgICAgPC90ZD5cbiAgICAgICAgPHRkPlxuICAgICAgICAgIHt0aGlzLnJlbmRlclNjb3JlKHJvdywgdGhpcy5wcm9wcy5hbGxXb3Jrc2hvcHNEYXRhW3Jvd1sna2V5J11dKX1cbiAgICAgICAgPC90ZD5cbiAgICAgIDwvdHI+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclNjb3JlKHJvdywgc2NvcmUpIHtcbiAgICBpZiAoc2NvcmUgJiYgcm93WydzY29yZV9iYXNlJ10pIHtcbiAgICAgIHJldHVybiBgJHtzY29yZX0gLyAke3Jvd1snc2NvcmVfYmFzZSddfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzY29yZSB8fCAnJztcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZFwiIHN0eWxlPXt7d2lkdGg6ICdhdXRvJ319PlxuICAgICAgICB7dGhpcy5yZW5kZXJIZWFkZXJSb3coKX1cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIHt0aGlzLnByb3BzLnF1ZXN0aW9ucy5tYXAoKHJvdywgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyUm93KHJvdywgaSk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgICk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuXG5mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge31cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgIGlmIChzZWNyZXQgPT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICApO1xuICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIHRocm93IGVycjtcbiAgfTtcbiAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcbiAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcbiAgICByZXR1cm4gc2hpbTtcbiAgfTtcbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBzaGltLFxuICAgIGJvb2w6IHNoaW0sXG4gICAgZnVuYzogc2hpbSxcbiAgICBudW1iZXI6IHNoaW0sXG4gICAgb2JqZWN0OiBzaGltLFxuICAgIHN0cmluZzogc2hpbSxcbiAgICBzeW1ib2w6IHNoaW0sXG5cbiAgICBhbnk6IHNoaW0sXG4gICAgYXJyYXlPZjogZ2V0U2hpbSxcbiAgICBlbGVtZW50OiBzaGltLFxuICAgIGluc3RhbmNlT2Y6IGdldFNoaW0sXG4gICAgbm9kZTogc2hpbSxcbiAgICBvYmplY3RPZjogZ2V0U2hpbSxcbiAgICBvbmVPZjogZ2V0U2hpbSxcbiAgICBvbmVPZlR5cGU6IGdldFNoaW0sXG4gICAgc2hhcGU6IGdldFNoaW0sXG4gICAgZXhhY3Q6IGdldFNoaW1cbiAgfTtcblxuICBSZWFjdFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcyA9IGVtcHR5RnVuY3Rpb247XG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIFN5bWJvbC5mb3IgJiZcbiAgICBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG4gICAgMHhlYWM3O1xuXG4gIHZhciBpc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgb2JqZWN0ICE9PSBudWxsICYmXG4gICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgfTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUXVlc3Rpb25BdmVyYWdlc1RhYmxlIGZyb20gJy4vcXVlc3Rpb25fYXZlcmFnZXNfdGFibGUnO1xuXG5jb25zdCBxdWVzdGlvbnMgPSBbXG4gIHtcbiAgICB0ZXh0OiAnV2FzIHRoZSBmYWNpbGl0YXRvciBnb29kIGF0IGJyb29kaW5nPycsXG4gICAga2V5OiAncXVlc3Rpb25fMScsXG4gICAgc2NvcmVfYmFzZTogNSxcbiAgfSxcbiAge1xuICAgIHRleHQ6ICdIb3cgd2FzIHRoZSBzZXNzaW9uPycsXG4gICAga2V5OiAncXVlc3Rpb25fMicsXG4gICAgc2NvcmVfYmFzZTogNSxcbiAgfSxcbl07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29tcG9uZW50OiBRdWVzdGlvbkF2ZXJhZ2VzVGFibGUsXG59O1xuXG5jb25zdCBUZW1wbGF0ZSA9IGFyZ3MgPT4gKFxuICA8ZGl2IGlkPVwiYXBwbGljYXRpb24tY29udGFpbmVyXCI+XG4gICAgPFF1ZXN0aW9uQXZlcmFnZXNUYWJsZVxuICAgICAgY2xhc3NOYW1lPVwidGFibGUgdGFibGUtYm9yZGVyZWRcIlxuICAgICAgc3R5bGU9e3t3aWR0aDogJ2F1dG8nfX1cbiAgICAgIHsuLi5hcmdzfVxuICAgIC8+XG4gIDwvZGl2PlxuKTtcblxuZXhwb3J0IGNvbnN0IFRhYmxlRm9yQVNpbmdsZUZhY2lsaXRhdG9yID0gVGVtcGxhdGUuYmluZCh7fSk7XG5UYWJsZUZvckFTaW5nbGVGYWNpbGl0YXRvci5hcmdzID0ge1xuICBuYW1lOiAnVGFibGUgZm9yIGEgc2luZ2xlIGZhY2lsaXRhdG9yJyxcbiAgcXVlc3Rpb25zOiBxdWVzdGlvbnMsXG4gIHRoaXNXb3Jrc2hvcERhdGE6IHtcbiAgICBxdWVzdGlvbl8xOiA1LFxuICAgIHF1ZXN0aW9uXzI6IDUsXG4gIH0sXG4gIGFsbE15V29ya3Nob3BzRGF0YToge1xuICAgIHF1ZXN0aW9uXzE6IDQsXG4gICAgcXVlc3Rpb25fMjogNC4xLFxuICB9LFxuICBhbGxXb3Jrc2hvcHNEYXRhOiB7XG4gICAgcXVlc3Rpb25fMTogMy41LFxuICAgIHF1ZXN0aW9uXzI6IDMuNixcbiAgfSxcbiAgYWxsV29ya3Nob3BzOiB0cnVlLFxuICBmYWNpbGl0YXRvck5hbWVzOiBbJ0pvbiBTbm93JywgJ1R5cmlvbiBMYW5uaXN0ZXInXSxcbiAgZmFjaWxpdGF0b3JCcmVha2Rvd246IGZhbHNlLFxuICB3b3Jrc2hvcFR5cGU6ICdUZWFjaGVyQ29ucycsXG59O1xuXG5leHBvcnQgY29uc3QgVGFibGVGb3JNdWx0aXBsZUZhY2lsaXRhdG9ycyA9IFRlbXBsYXRlLmJpbmQoe30pO1xuVGFibGVGb3JNdWx0aXBsZUZhY2lsaXRhdG9ycy5hcmdzID0ge1xuICBuYW1lOiAnVGFibGUgZm9yIG11bHRpcGxlIGZhY2lsaXRhdG9ycycsXG4gIHF1ZXN0aW9uczogcXVlc3Rpb25zLFxuICBmYWNpbGl0YXRvck5hbWVzOiBbJ0pvbiBTbm93JywgJ1R5cmlvbiBMYW5uaXN0ZXInXSxcbiAgZmFjaWxpdGF0b3JCcmVha2Rvd246IHRydWUsXG4gIHRoaXNXb3Jrc2hvcERhdGE6IHtcbiAgICBxdWVzdGlvbl8xOiB7XG4gICAgICAnSm9uIFNub3cnOiA1LFxuICAgICAgJ1R5cmlvbiBMYW5uaXN0ZXInOiAzLFxuICAgIH0sXG4gICAgcXVlc3Rpb25fMjogNSxcbiAgfSxcbiAgYWxsTXlXb3Jrc2hvcHNEYXRhOiB7XG4gICAgcXVlc3Rpb25fMTogNCxcbiAgICBxdWVzdGlvbl8yOiA0LjEsXG4gIH0sXG4gIGFsbFdvcmtzaG9wc0RhdGE6IHtcbiAgICBxdWVzdGlvbl8xOiAzLjUsXG4gICAgcXVlc3Rpb25fMjogMy42LFxuICB9LFxuICB3b3Jrc2hvcFR5cGU6ICdUZWFjaGVyQ29ucycsXG59O1xuIl0sIm5hbWVzIjpbIlF1ZXN0aW9uQXZlcmFnZXNUYWJsZSIsInJlbmRlckhlYWRlclJvdyIsImZhY2lsaXRhdG9yQ29sdW1uSGVhZGVycyIsInRoaXMiLCJwcm9wcyIsImZhY2lsaXRhdG9yQnJlYWtkb3duIiwiZmFjaWxpdGF0b3JOYW1lcyIsIm1hcCIsImZhY2lsaXRhdG9yIiwiaSIsImtleSIsIndvcmtzaG9wVHlwZSIsInJlbmRlclJvdyIsInJvdyIsInNjb3JlQ2VsbHMiLCJ0aGlzV29ya3Nob3BEYXRhIiwiZmFjaWxpdGF0b3JfbmFtZSIsInJlbmRlclNjb3JlIiwidW5zaGlmdCIsIl8iLCJ0aW1lcyIsImxlbmd0aCIsInB1c2giLCJhbGxNeVdvcmtzaG9wc0RhdGEiLCJhbGxXb3Jrc2hvcHNEYXRhIiwic2NvcmUiLCJyZW5kZXIiLCJjbGFzc05hbWUiLCJzdHlsZSIsIndpZHRoIiwicXVlc3Rpb25zIiwiUmVhY3QiLCJDb21wb25lbnQiLCJQcm9wVHlwZXMiLCJhcnJheU9mIiwib2JqZWN0IiwiaXNSZXF1aXJlZCIsInN0cmluZyIsImJvb2wiLCJSZWFjdFByb3BUeXBlc1NlY3JldCIsImVtcHR5RnVuY3Rpb24iLCJtb2R1bGUiLCJleHBvcnRzIiwic2hpbSIsInByb3BOYW1lIiwiY29tcG9uZW50TmFtZSIsImxvY2F0aW9uIiwicHJvcEZ1bGxOYW1lIiwic2VjcmV0IiwiZXJyIiwiRXJyb3IiLCJuYW1lIiwiZ2V0U2hpbSIsIlJlYWN0UHJvcFR5cGVzIiwiYXJyYXkiLCJmdW5jIiwibnVtYmVyIiwic3ltYm9sIiwiYW55IiwiZWxlbWVudCIsImluc3RhbmNlT2YiLCJub2RlIiwib2JqZWN0T2YiLCJvbmVPZiIsIm9uZU9mVHlwZSIsInNoYXBlIiwiZXhhY3QiLCJjaGVja1Byb3BUeXBlcyIsInRleHQiLCJzY29yZV9iYXNlIiwiY29tcG9uZW50IiwiVGVtcGxhdGUiLCJhcmdzIiwiaWQiLCJUYWJsZUZvckFTaW5nbGVGYWNpbGl0YXRvciIsImJpbmQiLCJxdWVzdGlvbl8xIiwicXVlc3Rpb25fMiIsImFsbFdvcmtzaG9wcyIsIlRhYmxlRm9yTXVsdGlwbGVGYWNpbGl0YXRvcnMiXSwic291cmNlUm9vdCI6IiJ9