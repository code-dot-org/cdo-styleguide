(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[3202],{"./src/code-studio/pd/form_components/QuestionsTable.jsx":(module,exports,__webpack_require__)=>{"use strict";function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_reactBootstrap=__webpack_require__("./node_modules/react-bootstrap/es/index.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var questionPropType=_propTypes.default.shape({label:_propTypes.default.string.isRequired,name:_propTypes.default.string.isRequired,required:_propTypes.default.bool}),QuestionRow=function(_React$Component){function QuestionRow(props){var _this;return(_this=_React$Component.call(this,props)||this).buildColumn=_this.buildColumn.bind(_this),_this.getValidationState=_this.getValidationState.bind(_this),_this.handleChange=_this.handleChange.bind(_this),_this}_inheritsLoose(QuestionRow,_React$Component);var _proto=QuestionRow.prototype;return _proto.getValidationState=function getValidationState(){if(this.props.errors&&this.props.errors.includes(this.props.question.name))return"error"},_proto.handleChange=function handleChange(event){var value=event.target.value;this.props.onChange&&this.props.onChange(_defineProperty({},this.props.question.name,value))},_proto.buildColumn=function buildColumn(option,i){var key=this.props.question.name,checked=this.props.data&&this.props.data[key]===option;return _react.default.createElement("td",{key:key+i},_react.default.createElement(_reactBootstrap.FormGroup,{controlId:key,validationState:this.getValidationState()},_react.default.createElement(_reactBootstrap.Radio,{name:key,value:option,checked,onChange:this.handleChange})))},_proto.render=function render(){return _react.default.createElement("tr",null,_react.default.createElement("td",null,_react.default.createElement(_reactBootstrap.FormGroup,{controlId:this.props.question.name,validationState:this.getValidationState()},_react.default.createElement(_reactBootstrap.ControlLabel,null,this.props.question.label,this.props.question.required&&_react.default.createElement("span",{className:"form-required-field"}," *")))),this.props.options.map(this.buildColumn))},QuestionRow}(_react.default.Component);QuestionRow.propTypes={data:_propTypes.default.object,errors:_propTypes.default.arrayOf(_propTypes.default.string),onChange:_propTypes.default.func,options:_propTypes.default.arrayOf(_propTypes.default.string).isRequired,question:questionPropType};var QuestionsTable=exports.default=function(_React$Component2){function QuestionsTable(){return _React$Component2.apply(this,arguments)||this}return _inheritsLoose(QuestionsTable,_React$Component2),QuestionsTable.prototype.render=function render(){var _this2=this,columns=this.props.options.length+this.props.labelSpan,thStyle={width:"".concat(100/columns,"%"),backgroundColor:"#00b2c0",color:"white"},labelThStyle=_objectSpread(_objectSpread({},thStyle),{},{width:"".concat(100*this.props.labelSpan/columns,"%")});return _react.default.createElement(_reactBootstrap.FormGroup,null,_react.default.createElement(_reactBootstrap.ControlLabel,null,this.props.label),_react.default.createElement(_reactBootstrap.Table,{striped:!0,bordered:!0},_react.default.createElement("thead",null,_react.default.createElement("tr",null,_react.default.createElement("th",{style:labelThStyle}),this.props.options.map((function(option){return _react.default.createElement("th",{key:option,style:thStyle},_react.default.createElement(_reactBootstrap.ControlLabel,null,option))})))),_react.default.createElement("tbody",null,this.props.questions.map((function(question){return _react.default.createElement(QuestionRow,{key:question.name,question,data:_this2.props.data,errors:_this2.props.errors,onChange:_this2.props.onChange,options:_this2.props.options})})))))},QuestionsTable}(_react.default.Component);QuestionsTable.propTypes={data:_propTypes.default.object,errors:_propTypes.default.arrayOf(_propTypes.default.string),labelSpan:_propTypes.default.number,onChange:_propTypes.default.func,options:_propTypes.default.arrayOf(_propTypes.default.string).isRequired,questions:_propTypes.default.arrayOf(questionPropType).isRequired,label:_propTypes.default.string},QuestionsTable.defaultProps={labelSpan:1},module.exports=exports.default},"./node_modules/prop-types/factoryWithThrowingShims.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ReactPropTypesSecret=__webpack_require__("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function emptyFunction(){}module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return ReactPropTypes.checkPropTypes=emptyFunction,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},"./node_modules/prop-types/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":module=>{"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./src/code-studio/pd/form_components/QuestionsTable.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.SimpleQuestionsTable=exports.ControlledQuestionsTable=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_QuestionsTable=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/form_components/QuestionsTable.jsx")),_addonActions=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var TestWrapper=function(_React$Component){function TestWrapper(props){var _this;return(_this=_React$Component.call(this,props)||this).state={data:_this.props.data||{}},_this.handleChange=_this.handleChange.bind(_this),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(TestWrapper,_React$Component);var _proto=TestWrapper.prototype;return _proto.handleChange=function handleChange(newState){this.props.onChange(newState),this.setState({data:newState.full})},_proto.render=function render(){return _react.default.createElement("div",{id:"application-container"},_react.default.createElement(_QuestionsTable.default,{data:this.state.data,questions:this.props.questions,options:this.props.options,errors:this.props.errors,onChange:this.handleChange}))},TestWrapper}(_react.default.Component);TestWrapper.propTypes={data:_propTypes.default.object,questions:_propTypes.default.arrayOf(_propTypes.default.object).isRequired,options:_propTypes.default.arrayOf(_propTypes.default.string).isRequired,errors:_propTypes.default.arrayOf(_propTypes.default.string),onChange:_propTypes.default.func.isRequired};exports.default={title:"FormComponents/QuestionsTable",component:_QuestionsTable.default};var Template=function Template(args){return _react.default.createElement(TestWrapper,args)};(exports.SimpleQuestionsTable=Template.bind({})).args={onChange:(0,_addonActions.action)("onChange"),options:["this is cool","this is okay","this is useless"],questions:[{label:"what do you think of this component?",name:"thinkOfComponent",required:!0},{label:"what do you think of this story?",name:"thinkOfStory"},{label:"what do you think of this question?",name:"thinkOfQuestion"}]},(exports.ControlledQuestionsTable=Template.bind({})).args={data:{theOneThatIsSelected:"first"},errors:["theOneWithTheError"],onChange:(0,_addonActions.action)("onChange"),options:["first","second","third"],questions:[{label:"this one should have something selected",name:"theOneThatIsSelected"},{label:"this one should have an error",name:"theOneWithTheError"},{label:"this one should be plain",name:"theOtherOne"}]}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZS1zdHVkaW8tcGQtZm9ybV9jb21wb25lbnRzLVF1ZXN0aW9uc1RhYmxlLXN0b3J5LmE0MmMyMjMwLmlmcmFtZS5idW5kbGUuanMiLCJtYXBwaW5ncyI6Im9nQkFBQSxJQUFBQSxXQUFBQyx1QkFBQUMsb0JBQUEsdUNBQ0FDLE9BQUFGLHVCQUFBQyxvQkFBQSxrQ0FDQUUsZ0JBQUFGLG9CQUFBLDhDQUFzRSxTQUFBRCx1QkFBQUksS0FBQSxPQUFBQSxLQUFBQSxJQUFBQyxXQUFBRCxJQUFBLFNBQUFBLElBQUEsVUFBQUUsUUFBQUMsRUFBQUMsR0FBQSxJQUFBQyxFQUFBQyxPQUFBQyxLQUFBSixHQUFBLEdBQUFHLE9BQUFFLHNCQUFBLEtBQUFDLEVBQUFILE9BQUFFLHNCQUFBTCxHQUFBQyxJQUFBSyxFQUFBQSxFQUFBQyxRQUFBLFNBQUFOLEdBQUEsT0FBQUUsT0FBQUsseUJBQUFSLEVBQUFDLEdBQUFRLFVBQUEsS0FBQVAsRUFBQVEsS0FBQUMsTUFBQVQsRUFBQUksRUFBQSxRQUFBSixDQUFBLFVBQUFVLGNBQUFaLEdBQUEsUUFBQUMsRUFBQSxFQUFBQSxFQUFBWSxVQUFBQyxPQUFBYixJQUFBLEtBQUFDLEVBQUEsTUFBQVcsVUFBQVosR0FBQVksVUFBQVosR0FBQSxHQUFBQSxFQUFBLEVBQUFGLFFBQUFJLE9BQUFELElBQUEsR0FBQWEsU0FBQSxTQUFBZCxHQUFBZSxnQkFBQWhCLEVBQUFDLEVBQUFDLEVBQUFELEdBQUEsSUFBQUUsT0FBQWMsMEJBQUFkLE9BQUFlLGlCQUFBbEIsRUFBQUcsT0FBQWMsMEJBQUFmLElBQUFILFFBQUFJLE9BQUFELElBQUFhLFNBQUEsU0FBQWQsR0FBQUUsT0FBQWdCLGVBQUFuQixFQUFBQyxFQUFBRSxPQUFBSyx5QkFBQU4sRUFBQUQsR0FBQSxXQUFBRCxDQUFBLFVBQUFnQixnQkFBQW5CLElBQUF1QixJQUFBQyxPQUFBLE9BQUFELElBQUEsU0FBQUUsZUFBQXBCLEdBQUEsSUFBQXFCLEVBQUEsU0FBQUMsYUFBQXRCLEVB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QUEsUUFBVXdDLFFBQVF4QyxXQUFBQSxRQUFVRyxRQUFRQyxXQUM3Q2EsT0FBUWpCLFdBQUFBLFFBQVV3QyxRQUFReEMsV0FBQUEsUUFBVUcsUUFDcENtQixTQUFVdEIsV0FBQUEsUUFBVXlDLEtBQUtyQyxZQUN6QnVDLFFBQUFBLFFBRWEsQ0FDYmtELE1BQU8sZ0NBQ1BDLFVBQVdwRCxnQkFBQUEsU0FKWCxJQU9JcUQsU0FBVyxTQUFYQSxTQUFXQyxNQUFJLE9BQUluSixPQUFBLFFBQUE2RSxjQUFDNkQsWUFBZ0JTLEtBQVEsR0FFakJyRCxRQUFBQSxxQkFBR29ELFNBQVNsRyxLQUFLLENBQUMsSUFDOUJtRyxLQUFPLENBQzFCMUUsVUFBVSxFQUFBMkUsY0FBQUEsUUFBTyxZQUNqQi9ELFFBQVMsQ0FBQyxlQUFnQixlQUFnQixtQkFDMUN3QixVQUFXLENBQ1QsQ0FDRXhELE1BQU8sdUNBQ1BHLEtBQU0sbUJBQ05DLFVBQVUsR0FFWixDQUNFSixNQUFPLG1DQUNQRyxLQUFNLGdCQUVSLENBQ0VILE1BQU8sc0NBQ1BHLEtBQU0sc0JBS3lCc0MsUUFBQUEseUJBQUdvRCxTQUFTbEcsS0FBSyxDQUFDLElBQzlCbUcsS0FBTyxDQUM5QnZFLEtBQU0sQ0FDSnlFLHFCQUFzQixTQUV4QmpGLE9BQVEsQ0FBQyxzQkFDVEssVUFBVSxFQUFBMkUsY0FBQUEsUUFBTyxZQUNqQi9ELFFBQVMsQ0FBQyxRQUFTLFNBQVUsU0FDN0J3QixVQUFXLENBQ1QsQ0FDRXhELE1BQU8sMENBQ1BHLEtBQU0sd0JBRVIsQ0FDRUgsTUFBTyxnQ0FDUEcsS0FBTSxzQkFFUixDQUNFSCxNQUFPLDJCQUNQRyxLQUFNLGdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL2NvZGUtc3R1ZGlvL3BkL2Zvcm1fY29tcG9uZW50cy9RdWVzdGlvbnNUYWJsZS5qc3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvY29kZS1zdHVkaW8vcGQvZm9ybV9jb21wb25lbnRzL1F1ZXN0aW9uc1RhYmxlLnN0b3J5LmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7UmFkaW8sIENvbnRyb2xMYWJlbCwgRm9ybUdyb3VwLCBUYWJsZX0gZnJvbSAncmVhY3QtYm9vdHN0cmFwJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLWltcG9ydHNcblxuY29uc3QgcXVlc3Rpb25Qcm9wVHlwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgcmVxdWlyZWQ6IFByb3BUeXBlcy5ib29sLFxufSk7XG5cbmNsYXNzIFF1ZXN0aW9uUm93IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5idWlsZENvbHVtbiA9IHRoaXMuYnVpbGRDb2x1bW4uYmluZCh0aGlzKTtcbiAgICB0aGlzLmdldFZhbGlkYXRpb25TdGF0ZSA9IHRoaXMuZ2V0VmFsaWRhdGlvblN0YXRlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgZ2V0VmFsaWRhdGlvblN0YXRlKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMuZXJyb3JzICYmXG4gICAgICB0aGlzLnByb3BzLmVycm9ycy5pbmNsdWRlcyh0aGlzLnByb3BzLnF1ZXN0aW9uLm5hbWUpXG4gICAgKSB7XG4gICAgICByZXR1cm4gJ2Vycm9yJztcbiAgICB9XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlICYmXG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgICAgW3RoaXMucHJvcHMucXVlc3Rpb24ubmFtZV06IHZhbHVlLFxuICAgICAgfSk7XG4gIH1cblxuICBidWlsZENvbHVtbihvcHRpb24sIGkpIHtcbiAgICBjb25zdCBrZXkgPSB0aGlzLnByb3BzLnF1ZXN0aW9uLm5hbWU7XG4gICAgY29uc3QgY2hlY2tlZCA9IHRoaXMucHJvcHMuZGF0YSAmJiB0aGlzLnByb3BzLmRhdGFba2V5XSA9PT0gb3B0aW9uO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDx0ZCBrZXk9e2tleSArIGl9PlxuICAgICAgICA8Rm9ybUdyb3VwIGNvbnRyb2xJZD17a2V5fSB2YWxpZGF0aW9uU3RhdGU9e3RoaXMuZ2V0VmFsaWRhdGlvblN0YXRlKCl9PlxuICAgICAgICAgIDxSYWRpb1xuICAgICAgICAgICAgbmFtZT17a2V5fVxuICAgICAgICAgICAgdmFsdWU9e29wdGlvbn1cbiAgICAgICAgICAgIGNoZWNrZWQ9e2NoZWNrZWR9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICA8L3RkPlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDx0cj5cbiAgICAgICAgPHRkPlxuICAgICAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgICAgIGNvbnRyb2xJZD17dGhpcy5wcm9wcy5xdWVzdGlvbi5uYW1lfVxuICAgICAgICAgICAgdmFsaWRhdGlvblN0YXRlPXt0aGlzLmdldFZhbGlkYXRpb25TdGF0ZSgpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxDb250cm9sTGFiZWw+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLnF1ZXN0aW9uLmxhYmVsfVxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5xdWVzdGlvbi5yZXF1aXJlZCAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9ybS1yZXF1aXJlZC1maWVsZFwiPiAqPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9Db250cm9sTGFiZWw+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgIDwvdGQ+XG4gICAgICAgIHt0aGlzLnByb3BzLm9wdGlvbnMubWFwKHRoaXMuYnVpbGRDb2x1bW4pfVxuICAgICAgPC90cj5cbiAgICApO1xuICB9XG59XG5cblF1ZXN0aW9uUm93LnByb3BUeXBlcyA9IHtcbiAgZGF0YTogUHJvcFR5cGVzLm9iamVjdCxcbiAgZXJyb3JzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKSxcbiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBvcHRpb25zOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKS5pc1JlcXVpcmVkLFxuICBxdWVzdGlvbjogcXVlc3Rpb25Qcm9wVHlwZSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1ZXN0aW9uc1RhYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNvbHVtbnMgPSB0aGlzLnByb3BzLm9wdGlvbnMubGVuZ3RoICsgdGhpcy5wcm9wcy5sYWJlbFNwYW47XG5cbiAgICBjb25zdCB0aFN0eWxlID0ge1xuICAgICAgd2lkdGg6IGAkezEwMCAvIGNvbHVtbnN9JWAsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDBiMmMwJyxcbiAgICAgIGNvbG9yOiAnd2hpdGUnLFxuICAgIH07XG5cbiAgICBjb25zdCBsYWJlbFRoU3R5bGUgPSB7XG4gICAgICAuLi50aFN0eWxlLFxuICAgICAgd2lkdGg6IGAkeyh0aGlzLnByb3BzLmxhYmVsU3BhbiAqIDEwMCkgLyBjb2x1bW5zfSVgLFxuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm1Hcm91cD5cbiAgICAgICAgPENvbnRyb2xMYWJlbD57dGhpcy5wcm9wcy5sYWJlbH08L0NvbnRyb2xMYWJlbD5cbiAgICAgICAgPFRhYmxlIHN0cmlwZWQgYm9yZGVyZWQ+XG4gICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICA8dGggc3R5bGU9e2xhYmVsVGhTdHlsZX0gLz5cbiAgICAgICAgICAgICAge3RoaXMucHJvcHMub3B0aW9ucy5tYXAob3B0aW9uID0+IChcbiAgICAgICAgICAgICAgICA8dGgga2V5PXtvcHRpb259IHN0eWxlPXt0aFN0eWxlfT5cbiAgICAgICAgICAgICAgICAgIDxDb250cm9sTGFiZWw+e29wdGlvbn08L0NvbnRyb2xMYWJlbD5cbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5xdWVzdGlvbnMubWFwKHF1ZXN0aW9uID0+IChcbiAgICAgICAgICAgICAgPFF1ZXN0aW9uUm93XG4gICAgICAgICAgICAgICAga2V5PXtxdWVzdGlvbi5uYW1lfVxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uPXtxdWVzdGlvbn1cbiAgICAgICAgICAgICAgICBkYXRhPXt0aGlzLnByb3BzLmRhdGF9XG4gICAgICAgICAgICAgICAgZXJyb3JzPXt0aGlzLnByb3BzLmVycm9yc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5wcm9wcy5vbkNoYW5nZX1cbiAgICAgICAgICAgICAgICBvcHRpb25zPXt0aGlzLnByb3BzLm9wdGlvbnN9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICA8L1RhYmxlPlxuICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgKTtcbiAgfVxufVxuXG5RdWVzdGlvbnNUYWJsZS5wcm9wVHlwZXMgPSB7XG4gIGRhdGE6IFByb3BUeXBlcy5vYmplY3QsXG4gIGVycm9yczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyksXG4gIGxhYmVsU3BhbjogUHJvcFR5cGVzLm51bWJlcixcbiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBvcHRpb25zOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKS5pc1JlcXVpcmVkLFxuICBxdWVzdGlvbnM6IFByb3BUeXBlcy5hcnJheU9mKHF1ZXN0aW9uUHJvcFR5cGUpLmlzUmVxdWlyZWQsXG4gIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxufTtcblxuUXVlc3Rpb25zVGFibGUuZGVmYXVsdFByb3BzID0ge1xuICBsYWJlbFNwYW46IDEsXG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG5cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcbiAgICAgIC8vIEl0IGlzIHN0aWxsIHNhZmUgd2hlbiBjYWxsZWQgZnJvbSBSZWFjdC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcihcbiAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICk7XG4gICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgdGhyb3cgZXJyO1xuICB9O1xuICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuICBmdW5jdGlvbiBnZXRTaGltKCkge1xuICAgIHJldHVybiBzaGltO1xuICB9O1xuICAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNgLlxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IHNoaW0sXG4gICAgYm9vbDogc2hpbSxcbiAgICBmdW5jOiBzaGltLFxuICAgIG51bWJlcjogc2hpbSxcbiAgICBvYmplY3Q6IHNoaW0sXG4gICAgc3RyaW5nOiBzaGltLFxuICAgIHN5bWJvbDogc2hpbSxcblxuICAgIGFueTogc2hpbSxcbiAgICBhcnJheU9mOiBnZXRTaGltLFxuICAgIGVsZW1lbnQ6IHNoaW0sXG4gICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcbiAgICBub2RlOiBzaGltLFxuICAgIG9iamVjdE9mOiBnZXRTaGltLFxuICAgIG9uZU9mOiBnZXRTaGltLFxuICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcbiAgICBzaGFwZTogZ2V0U2hpbSxcbiAgICBleGFjdDogZ2V0U2hpbVxuICB9O1xuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZW1wdHlGdW5jdGlvbjtcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgU3ltYm9sLmZvciAmJlxuICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcbiAgICAweGVhYzc7XG5cbiAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICBvYmplY3QgIT09IG51bGwgJiZcbiAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9O1xuXG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzJykoaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHtcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zJykoKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUXVlc3Rpb25zVGFibGUgZnJvbSAnLi9RdWVzdGlvbnNUYWJsZSc7XG5pbXBvcnQge2FjdGlvbn0gZnJvbSAnQHN0b3J5Ym9vay9hZGRvbi1hY3Rpb25zJztcblxuY2xhc3MgVGVzdFdyYXBwZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZGF0YTogdGhpcy5wcm9wcy5kYXRhIHx8IHt9LFxuICAgIH07XG4gICAgdGhpcy5oYW5kbGVDaGFuZ2UgPSB0aGlzLmhhbmRsZUNoYW5nZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaGFuZGxlQ2hhbmdlKG5ld1N0YXRlKSB7XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZShuZXdTdGF0ZSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkYXRhOiBuZXdTdGF0ZS5mdWxsLFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGlkPVwiYXBwbGljYXRpb24tY29udGFpbmVyXCI+XG4gICAgICAgIDxRdWVzdGlvbnNUYWJsZVxuICAgICAgICAgIGRhdGE9e3RoaXMuc3RhdGUuZGF0YX1cbiAgICAgICAgICBxdWVzdGlvbnM9e3RoaXMucHJvcHMucXVlc3Rpb25zfVxuICAgICAgICAgIG9wdGlvbnM9e3RoaXMucHJvcHMub3B0aW9uc31cbiAgICAgICAgICBlcnJvcnM9e3RoaXMucHJvcHMuZXJyb3JzfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuVGVzdFdyYXBwZXIucHJvcFR5cGVzID0ge1xuICBkYXRhOiBQcm9wVHlwZXMub2JqZWN0LFxuICBxdWVzdGlvbnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5vYmplY3QpLmlzUmVxdWlyZWQsXG4gIG9wdGlvbnM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5zdHJpbmcpLmlzUmVxdWlyZWQsXG4gIGVycm9yczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyksXG4gIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICB0aXRsZTogJ0Zvcm1Db21wb25lbnRzL1F1ZXN0aW9uc1RhYmxlJywgLy8gZXNsaW50LWRpc2FibGUtbGluZSBzdG9yeWJvb2svbm8tdGl0bGUtcHJvcGVydHktaW4tbWV0YVxuICBjb21wb25lbnQ6IFF1ZXN0aW9uc1RhYmxlLFxufTtcblxuY29uc3QgVGVtcGxhdGUgPSBhcmdzID0+IDxUZXN0V3JhcHBlciB7Li4uYXJnc30gLz47XG5cbmV4cG9ydCBjb25zdCBTaW1wbGVRdWVzdGlvbnNUYWJsZSA9IFRlbXBsYXRlLmJpbmQoe30pO1xuU2ltcGxlUXVlc3Rpb25zVGFibGUuYXJncyA9IHtcbiAgb25DaGFuZ2U6IGFjdGlvbignb25DaGFuZ2UnKSxcbiAgb3B0aW9uczogWyd0aGlzIGlzIGNvb2wnLCAndGhpcyBpcyBva2F5JywgJ3RoaXMgaXMgdXNlbGVzcyddLFxuICBxdWVzdGlvbnM6IFtcbiAgICB7XG4gICAgICBsYWJlbDogJ3doYXQgZG8geW91IHRoaW5rIG9mIHRoaXMgY29tcG9uZW50PycsXG4gICAgICBuYW1lOiAndGhpbmtPZkNvbXBvbmVudCcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGxhYmVsOiAnd2hhdCBkbyB5b3UgdGhpbmsgb2YgdGhpcyBzdG9yeT8nLFxuICAgICAgbmFtZTogJ3RoaW5rT2ZTdG9yeScsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ3doYXQgZG8geW91IHRoaW5rIG9mIHRoaXMgcXVlc3Rpb24/JyxcbiAgICAgIG5hbWU6ICd0aGlua09mUXVlc3Rpb24nLFxuICAgIH0sXG4gIF0sXG59O1xuXG5leHBvcnQgY29uc3QgQ29udHJvbGxlZFF1ZXN0aW9uc1RhYmxlID0gVGVtcGxhdGUuYmluZCh7fSk7XG5Db250cm9sbGVkUXVlc3Rpb25zVGFibGUuYXJncyA9IHtcbiAgZGF0YToge1xuICAgIHRoZU9uZVRoYXRJc1NlbGVjdGVkOiAnZmlyc3QnLFxuICB9LFxuICBlcnJvcnM6IFsndGhlT25lV2l0aFRoZUVycm9yJ10sXG4gIG9uQ2hhbmdlOiBhY3Rpb24oJ29uQ2hhbmdlJyksXG4gIG9wdGlvbnM6IFsnZmlyc3QnLCAnc2Vjb25kJywgJ3RoaXJkJ10sXG4gIHF1ZXN0aW9uczogW1xuICAgIHtcbiAgICAgIGxhYmVsOiAndGhpcyBvbmUgc2hvdWxkIGhhdmUgc29tZXRoaW5nIHNlbGVjdGVkJyxcbiAgICAgIG5hbWU6ICd0aGVPbmVUaGF0SXNTZWxlY3RlZCcsXG4gICAgfSxcbiAgICB7XG4gICAgICBsYWJlbDogJ3RoaXMgb25lIHNob3VsZCBoYXZlIGFuIGVycm9yJyxcbiAgICAgIG5hbWU6ICd0aGVPbmVXaXRoVGhlRXJyb3InLFxuICAgIH0sXG4gICAge1xuICAgICAgbGFiZWw6ICd0aGlzIG9uZSBzaG91bGQgYmUgcGxhaW4nLFxuICAgICAgbmFtZTogJ3RoZU90aGVyT25lJyxcbiAgICB9LFxuICBdLFxufTtcbiJdLCJuYW1lcyI6WyJfcHJvcFR5cGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVhY3QiLCJfcmVhY3RCb290c3RyYXAiLCJvYmoiLCJfX2VzTW9kdWxlIiwib3duS2V5cyIsImUiLCJyIiwidCIsIk9iamVjdCIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJvIiwiZmlsdGVyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJpIiwiX3RvUHJpbWl0aXZlIiwiX3R5cGVvZiIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsIk51bWJlciIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX2luaGVyaXRzTG9vc2UiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJwcm90b3R5cGUiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsIl9zZXRQcm90b3R5cGVPZiIsInAiLCJzZXRQcm90b3R5cGVPZiIsImJpbmQiLCJfX3Byb3RvX18iLCJxdWVzdGlvblByb3BUeXBlIiwiUHJvcFR5cGVzIiwic2hhcGUiLCJsYWJlbCIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJuYW1lIiwicmVxdWlyZWQiLCJib29sIiwiUXVlc3Rpb25Sb3ciLCJfUmVhY3QkQ29tcG9uZW50IiwicHJvcHMiLCJfdGhpcyIsImJ1aWxkQ29sdW1uIiwiZ2V0VmFsaWRhdGlvblN0YXRlIiwiaGFuZGxlQ2hhbmdlIiwiX3Byb3RvIiwidGhpcyIsImVycm9ycyIsImluY2x1ZGVzIiwicXVlc3Rpb24iLCJldmVudCIsInRhcmdldCIsIm9uQ2hhbmdlIiwib3B0aW9uIiwiY2hlY2tlZCIsImRhdGEiLCJjcmVhdGVFbGVtZW50IiwiRm9ybUdyb3VwIiwiY29udHJvbElkIiwidmFsaWRhdGlvblN0YXRlIiwiUmFkaW8iLCJyZW5kZXIiLCJDb250cm9sTGFiZWwiLCJjbGFzc05hbWUiLCJvcHRpb25zIiwibWFwIiwiUmVhY3QiLCJDb21wb25lbnQiLCJwcm9wVHlwZXMiLCJvYmplY3QiLCJhcnJheU9mIiwiZnVuYyIsIlF1ZXN0aW9uc1RhYmxlIiwiZXhwb3J0cyIsIl9SZWFjdCRDb21wb25lbnQyIiwiX3RoaXMyIiwiY29sdW1ucyIsImxhYmVsU3BhbiIsInRoU3R5bGUiLCJ3aWR0aCIsImNvbmNhdCIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwibGFiZWxUaFN0eWxlIiwiVGFibGUiLCJzdHJpcGVkIiwiYm9yZGVyZWQiLCJzdHlsZSIsInF1ZXN0aW9ucyIsIm51bWJlciIsImRlZmF1bHRQcm9wcyIsIm1vZHVsZSIsIlJlYWN0UHJvcFR5cGVzU2VjcmV0IiwiZW1wdHlGdW5jdGlvbiIsInNoaW0iLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJsb2NhdGlvbiIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImVyciIsIkVycm9yIiwiZ2V0U2hpbSIsIlJlYWN0UHJvcFR5cGVzIiwiYXJyYXkiLCJzeW1ib2wiLCJhbnkiLCJlbGVtZW50IiwiaW5zdGFuY2VPZiIsIm5vZGUiLCJvYmplY3RPZiIsIm9uZU9mIiwib25lT2ZUeXBlIiwiZXhhY3QiLCJjaGVja1Byb3BUeXBlcyIsIl9RdWVzdGlvbnNUYWJsZSIsIl9hZGRvbkFjdGlvbnMiLCJUZXN0V3JhcHBlciIsInN0YXRlIiwibmV3U3RhdGUiLCJzZXRTdGF0ZSIsImZ1bGwiLCJpZCIsInRpdGxlIiwiY29tcG9uZW50IiwiVGVtcGxhdGUiLCJhcmdzIiwiYWN0aW9uIiwidGhlT25lVGhhdElzU2VsZWN0ZWQiXSwic291cmNlUm9vdCI6IiJ9