(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[1196],{"./src/redux/unitSelectionRedux.js":(__unused_webpack_module,exports)=>{"use strict";function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SET_SCRIPT=exports.SET_COURSES=void 0,exports.default=function unitSelection(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;if(action.type===SET_COURSES){var firstCourse=action.coursesWithProgress[0],firstUnit=firstCourse?firstCourse.units[0]:null;return _objectSpread(_objectSpread({},state),{},{coursesWithProgress:action.coursesWithProgress,scriptId:null===state.scriptId?null==firstUnit?void 0:firstUnit.id:state.scriptId})}if(action.type===SET_SCRIPT)return _objectSpread(_objectSpread({},state),{},{scriptId:action.scriptId});return state},exports.setScriptId=exports.setCoursesWithProgress=exports.getSelectedScriptName=exports.getSelectedScriptFriendlyName=exports.getSelectedScriptDescription=exports.doesCurrentCourseUseFeedback=void 0;var SET_SCRIPT=exports.SET_SCRIPT="unitSelection/SET_SCRIPT",SET_COURSES=exports.SET_COURSES="unitSelection/SET_COURSES",getSelectedUnit=(exports.setScriptId=function setScriptId(scriptId){return{type:SET_SCRIPT,scriptId}},exports.setCoursesWithProgress=function setCoursesWithProgress(coursesWithProgress){return{type:SET_COURSES,coursesWithProgress}},function getSelectedUnit(state){var unit,scriptId=state.unitSelection.scriptId;return scriptId?(state.unitSelection.coursesWithProgress.forEach((function(course){var tempUnit=course.units.find((function(unit){return scriptId===unit.id}));tempUnit&&(unit=tempUnit)})),unit):null}),initialState=(exports.getSelectedScriptName=function getSelectedScriptName(state){return getSelectedUnit(state)?getSelectedUnit(state).key:null},exports.getSelectedScriptFriendlyName=function getSelectedScriptFriendlyName(state){return getSelectedUnit(state)?getSelectedUnit(state).name:null},exports.getSelectedScriptDescription=function getSelectedScriptDescription(state){return getSelectedUnit(state)?getSelectedUnit(state).description:null},exports.doesCurrentCourseUseFeedback=function doesCurrentCourseUseFeedback(state){var _getSelectedUnit;return!(null===(_getSelectedUnit=getSelectedUnit(state))||void 0===_getSelectedUnit||!_getSelectedUnit.is_feedback_enabled)},{scriptId:null,coursesWithProgress:[]})},"./src/templates/sectionAssessments/sectionAssessmentsRedux.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.currentStudentHasResponses=exports.countSubmissionsForCurrentAssessment=exports.asyncLoadAssessments=exports.QuestionType=exports.ASSESSMENT_FEEDBACK_OPTION_ID=exports.ALL_STUDENT_FILTER=void 0,exports.default=function sectionAssessments(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;if(action.type===_unitSelectionRedux.SET_SCRIPT)return _objectSpread(_objectSpread({},state),{},{studentId:ALL_STUDENT_FILTER,questionIndex:0});if(action.type===SET_ASSESSMENT_ID)return _objectSpread(_objectSpread({},state),{},{assessmentId:action.assessmentId,questionIndex:0,studentId:ALL_STUDENT_FILTER});if(action.type===SET_INITIAL_ASSESSMENT_ID){var assessmentId=getFirstAssessmentId(state,action.scriptId);return _objectSpread(_objectSpread({},state),{},{assessmentId})}if(action.type===SET_STUDENT_ID)return _objectSpread(_objectSpread({},state),{},{studentId:action.studentId});if(action.type===SET_QUESTION_INDEX)return _objectSpread(_objectSpread({},state),{},{questionIndex:action.questionIndex});if(action.type===SET_ASSESSMENT_RESPONSES)return _objectSpread(_objectSpread({},state),{},{assessmentResponsesByScript:_objectSpread(_objectSpread({},state.assessmentResponsesByScript),{},_defineProperty({},action.scriptId,action.assessments))});if(action.type===SET_FEEDBACK)return _objectSpread(_objectSpread({},state),{},{feedbackByScript:_objectSpread(_objectSpread({},state.feedbackByScript),{},_defineProperty({},action.scriptId,action.feedback))});if(action.type===SET_SURVEYS)return _objectSpread(_objectSpread({},state),{},{surveysByScript:_objectSpread(_objectSpread({},state.surveysByScript),{},_defineProperty({},action.scriptId,action.surveys))});if(action.type===SET_ASSESSMENTS_QUESTIONS)return _objectSpread(_objectSpread({},state),{},{assessmentQuestionsByScript:_objectSpread(_objectSpread({},state.assessmentQuestionsByScript),{},_defineProperty({},action.scriptId,action.assessments)),assessmentId:parseInt(Object.keys(action.assessments)[0])});if(action.type===START_LOADING_ASSESSMENTS)return _objectSpread(_objectSpread({},state),{},{isLoading:!0});if(action.type===FINISH_LOADING_ASSESSMENTS)return _objectSpread(_objectSpread({},state),{},{isLoading:!1});return state},exports.getAssessmentsFreeResponseResults=exports.getAssessmentResponsesForCurrentScript=exports.finishLoadingAssessments=void 0,exports.getCorrectAnswer=getCorrectAnswer,exports.inProgressFakeTimestamp=exports.getSurveyFreeResponseQuestions=exports.getStudentsMCandMatchSummaryForCurrentAssessment=exports.getStudentMatchResponsesForCurrentAssessment=exports.getStudentMCResponsesForCurrentAssessment=exports.getStudentAnswersForCurrentQuestion=exports.getMultipleChoiceSurveyResults=exports.getMultipleChoiceStructureForCurrentAssessment=exports.getMultipleChoiceSectionSummary=exports.getMatchStructureForCurrentAssessment=exports.getMatchSectionSummary=exports.getExportableSurveyData=exports.getExportableSubmissionStatusData=exports.getExportableFeedbackData=exports.getExportableData=exports.getExportableAssessmentData=exports.getCurrentScriptAssessmentList=exports.getCurrentQuestion=exports.getCurrentAssessmentQuestions=void 0,exports.indexesToAnswerString=indexesToAnswerString,exports.startLoadingAssessments=exports.setSurveys=exports.setStudentId=exports.setQuestionIndex=exports.setInitialAssessmentId=exports.setFeedback=exports.setAssessmentResponses=exports.setAssessmentQuestions=exports.setAssessmentId=exports.notStartedFakeTimestamp=exports.isCurrentScriptCSD=exports.isCurrentAssessmentSurvey=void 0;var _unitSelectionRedux=__webpack_require__("./src/redux/unitSelectionRedux.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ALL_STUDENT_FILTER=exports.ALL_STUDENT_FILTER=0,initialState={assessmentResponsesByScript:{},assessmentQuestionsByScript:{},feedbackByScript:{},surveysByScript:{},isLoading:!1,assessmentId:0,questionIndex:0,studentId:ALL_STUDENT_FILTER},QuestionType=exports.QuestionType={MULTI:"Multi",MATCH:"Match",FREE_RESPONSE:"FreeResponse"},SurveyQuestionType_MULTI="multi",SurveyQuestionType_FREE_RESPONSE="free_response",MultiAnswerStatus_CORRECT="correct",ANSWER_LETTERS=["A","B","C","D","E","F","G","H","I","J","K"],ASSESSMENT_FEEDBACK_OPTION_ID=exports.ASSESSMENT_FEEDBACK_OPTION_ID=0,inProgressFakeTimestamp=exports.inProgressFakeTimestamp=new Date("1990-01-01T20:52:05.000+00:00"),notStartedFakeTimestamp=exports.notStartedFakeTimestamp=new Date("1980-01-01T20:52:05.000+00:00"),SET_ASSESSMENT_RESPONSES="sectionAssessments/SET_ASSESSMENT_RESPONSES",SET_ASSESSMENTS_QUESTIONS="sectionAssessments/SET_ASSESSMENTS_QUESTIONS",SET_FEEDBACK="sectionAssessments/SET_FEEDBACK",SET_SURVEYS="sectionAssessments/SET_SURVEYS",START_LOADING_ASSESSMENTS="sectionAssessments/START_LOADING_ASSESSMENTS",FINISH_LOADING_ASSESSMENTS="sectionAssessments/FINISH_LOADING_ASSESSMENTS",SET_ASSESSMENT_ID="sectionAssessments/SET_ASSESSMENT_ID",SET_INITIAL_ASSESSMENT_ID="sectionAssessments/SET_INITIAL_ASSESSMENT_ID",SET_STUDENT_ID="sectionAssessments/SET_STUDENT_ID",SET_QUESTION_INDEX="sectionAssessments/SET_QUESTION_INDEX",setAssessmentResponses=exports.setAssessmentResponses=function setAssessmentResponses(scriptId,assessments){return{type:SET_ASSESSMENT_RESPONSES,scriptId,assessments}},setAssessmentQuestions=exports.setAssessmentQuestions=function setAssessmentQuestions(scriptId,assessments){return{type:SET_ASSESSMENTS_QUESTIONS,scriptId,assessments}},setFeedback=exports.setFeedback=function setFeedback(scriptId,feedback){return{type:SET_FEEDBACK,scriptId,feedback}},startLoadingAssessments=exports.startLoadingAssessments=function startLoadingAssessments(){return{type:START_LOADING_ASSESSMENTS}},finishLoadingAssessments=exports.finishLoadingAssessments=function finishLoadingAssessments(){return{type:FINISH_LOADING_ASSESSMENTS}},setInitialAssessmentId=(exports.setAssessmentId=function setAssessmentId(assessmentId){return{type:SET_ASSESSMENT_ID,assessmentId}},exports.setInitialAssessmentId=function setInitialAssessmentId(scriptId){return{type:SET_INITIAL_ASSESSMENT_ID,scriptId}}),setSurveys=(exports.setQuestionIndex=function setQuestionIndex(questionIndex){return{type:SET_QUESTION_INDEX,questionIndex}},exports.setStudentId=function setStudentId(studentId){return{type:SET_STUDENT_ID,studentId}},exports.setSurveys=function setSurveys(scriptId,surveys){return{type:SET_SURVEYS,scriptId,surveys}});exports.asyncLoadAssessments=function asyncLoadAssessments(sectionId,scriptId){return function(dispatch,getState){if(!getState().sectionAssessments.assessmentResponsesByScript[scriptId]&&scriptId&&sectionId){dispatch(startLoadingAssessments());var loadResponses=loadAssessmentResponsesFromServer(sectionId,scriptId),loadQuestions=loadAssessmentQuestionsFromServer(scriptId),loadSurveys=loadSurveysFromServer(sectionId,scriptId),loadFeedback=loadFeedbackFromServer(sectionId,scriptId);Promise.all([loadResponses,loadQuestions,loadSurveys,loadFeedback]).then((function(arrayOfValues){dispatch(setAssessmentResponses(scriptId,arrayOfValues[0])),dispatch(setAssessmentQuestions(scriptId,arrayOfValues[1])),dispatch(setFeedback(scriptId,arrayOfValues[3])),dispatch(setSurveys(scriptId,arrayOfValues[2])),dispatch(setInitialAssessmentId(scriptId)),dispatch(finishLoadingAssessments())})).catch((function(error){dispatch(finishLoadingAssessments())}))}}};exports.getCurrentScriptAssessmentList=function getCurrentScriptAssessmentList(state){var tempAssessmentList=computeScriptAssessmentList(state.sectionAssessments,state.unitSelection.scriptId);return(0,_unitSelectionRedux.doesCurrentCourseUseFeedback)(state)&&(tempAssessmentList=tempAssessmentList.concat({id:ASSESSMENT_FEEDBACK_OPTION_ID,name:"All teacher feedback in this unit"})),tempAssessmentList};var getAssessmentResponsesForCurrentScript=exports.getAssessmentResponsesForCurrentScript=function getAssessmentResponsesForCurrentScript(state){return state.sectionAssessments.assessmentResponsesByScript[state.unitSelection.scriptId]||{}},getCurrentAssessmentQuestions=exports.getCurrentAssessmentQuestions=function getCurrentAssessmentQuestions(state){return(state.sectionAssessments.assessmentQuestionsByScript[state.unitSelection.scriptId]||{})[state.sectionAssessments.assessmentId]},isCurrentAssessmentSurvey=(exports.getCurrentQuestion=function getCurrentQuestion(state){var emptyQuestion={question:"",answers:[]};if(isCurrentAssessmentSurvey(state)){var question=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[state.sectionAssessments.assessmentId].levelgroup_results[state.sectionAssessments.questionIndex];return question?{question:question.question,answers:question.type===SurveyQuestionType_MULTI&&question.answer_texts.map((function(answer,index){return{text:answer,correct:!1,letter:ANSWER_LETTERS[index]}}))}:emptyQuestion}var assessmentQuestions=(getCurrentAssessmentQuestions(state)||{}).questions,_question=assessmentQuestions?assessmentQuestions[state.sectionAssessments.questionIndex]:null;if(!_question)return emptyQuestion;if(_question.type===QuestionType.MULTI){var answers=_question.type===QuestionType.MULTI&&(_question.answers||[]).map((function(answer,index){return _objectSpread(_objectSpread({},answer),{},{letter:ANSWER_LETTERS[index]})}));return{question:_question.question_text,answers,questionType:QuestionType.MULTI}}if(_question.type===QuestionType.FREE_RESPONSE)return{question:_question.question_text,answers:null,questionType:QuestionType.FREE_RESPONSE};if(_question.type===QuestionType.MATCH){var _answers=_question.answers.map((function(answer){return answer.text})),options=_question.options.map((function(option){return option.text}));return{question:_question.question,answers:_answers,options,questionType:QuestionType.MATCH}}},exports.getMultipleChoiceStructureForCurrentAssessment=function getMultipleChoiceStructureForCurrentAssessment(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);return assessmentsStructure?assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.MULTI})).map((function(question){return{id:question.level_id,question:question.question_text,questionNumber:question.question_index+1,correctAnswer:getCorrectAnswer(question.answers)}})):[]},exports.getStudentMCResponsesForCurrentAssessment=function getStudentMCResponsesForCurrentAssessment(state){var studentResponses=getAssessmentResponsesForCurrentScript(state);if(!studentResponses)return{};var studentId=state.sectionAssessments.studentId,studentObject=studentResponses[studentId];if(!studentObject)return{};var currentAssessmentId=state.sectionAssessments.assessmentId,studentAssessment=studentObject.responses_by_assessment[currentAssessmentId];return studentAssessment?{id:studentId,name:studentObject.student_name,studentResponses:studentAssessment.level_results.filter((function(answer){return answer.type===QuestionType.MULTI})).map((function(answer){return{responses:indexesToAnswerString(answer.student_result),isCorrect:answer.status===MultiAnswerStatus_CORRECT}}))}:{}},exports.getMatchStructureForCurrentAssessment=function getMatchStructureForCurrentAssessment(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);return assessmentsStructure?assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.MATCH})).map((function(question){return{id:question.level_id,question:question.question,questionNumber:question.question_index+1,answers:question.answers,options:question.options}})):[]},exports.getStudentMatchResponsesForCurrentAssessment=function getStudentMatchResponsesForCurrentAssessment(state){var studentResponses=getAssessmentResponsesForCurrentScript(state);if(!studentResponses)return{};var studentId=state.sectionAssessments.studentId,studentObject=studentResponses[studentId];if(!studentObject)return{};var currentAssessmentId=state.sectionAssessments.assessmentId,studentAssessment=studentObject.responses_by_assessment[currentAssessmentId];return studentAssessment?{id:studentId,name:studentObject.student_name,studentResponses:studentAssessment.level_results.filter((function(answer){return answer.type===QuestionType.MATCH})).map((function(answer){return{responses:answer.student_result}}))}:{}},exports.getStudentAnswersForCurrentQuestion=function getStudentAnswersForCurrentQuestion(state){var studentResponses=getAssessmentResponsesForCurrentScript(state);if(!studentResponses||isCurrentAssessmentSurvey(state))return[];var questionIndex=state.sectionAssessments.questionIndex,studentAnswers=[];return Object.keys(studentResponses).forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],currentAssessmentId=state.sectionAssessments.assessmentId,question=((studentObject.responses_by_assessment[currentAssessmentId]||{}).level_results||[])[questionIndex];question&&question.type===QuestionType.MULTI&&studentAnswers.push({id:studentId,name:studentObject.student_name,answer:question.student_result?indexesToAnswerString(question.student_result):"-",correct:"correct"===question.status})})),studentAnswers},exports.getAssessmentsFreeResponseResults=function getAssessmentsFreeResponseResults(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);if(!assessmentsStructure)return[];var questionsAndResults=assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.FREE_RESPONSE})).map((function(question){return{questionText:question.question_text,questionNumber:question.question_index+1,responses:[]}})),studentResponses=getAssessmentResponsesForCurrentScript(state),currentStudentsIds=Object.keys(studentResponses);if(state.sectionAssessments.studentId!==ALL_STUDENT_FILTER){if(!currentStudentHasResponses(state))return[];currentStudentsIds=[state.sectionAssessments.studentId]}return currentStudentsIds.forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],currentAssessmentId=state.sectionAssessments.assessmentId;((studentObject.responses_by_assessment[currentAssessmentId]||{}).level_results||[]).filter((function(result){return result.type===QuestionType.FREE_RESPONSE})).forEach((function(response,index){questionsAndResults[index]&&questionsAndResults[index].responses.push({id:studentId,name:studentObject.student_name,response:response.student_result})}))})),questionsAndResults},exports.getSurveyFreeResponseQuestions=function getSurveyFreeResponseQuestions(state){var currentSurvey=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[state.sectionAssessments.assessmentId];return currentSurvey?currentSurvey.levelgroup_results.filter((function(question){return question.type===SurveyQuestionType_FREE_RESPONSE})).map((function(question){return{questionText:question.question,questionNumber:question.question_index+1,answers:question.results.map((function(response,index){return{index,response:response.result}}))}})):[]},exports.getMultipleChoiceSurveyResults=function getMultipleChoiceSurveyResults(state){var currentSurvey=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[state.sectionAssessments.assessmentId];return currentSurvey?currentSurvey.levelgroup_results.filter((function(question){return question.type===SurveyQuestionType_MULTI})).map((function(question,index){for(var totalAnswered=question.results.length,answerTotals=[],i=0;i<question.answer_texts.length;i++)answerTotals[i]=0;for(var notAnswered=0,_i=0;_i<totalAnswered;_i++){var answerIndex=question.results[_i].answer_index;answerIndex>=0?answerTotals[answerIndex]++:notAnswered++}return{id:index,question:question.question,questionNumber:question.question_index+1,answers:question.answer_texts.map((function(answer,index){return{multipleChoiceOption:ANSWER_LETTERS[index],percentAnswered:Math.floor(answerTotals[index]/totalAnswered*100),text:answer}})),notAnswered:Math.floor(notAnswered/totalAnswered*100),totalAnswered}})):[]},exports.isCurrentAssessmentSurvey=function isCurrentAssessmentSurvey(state){var scriptId=state.unitSelection.scriptId,surveysStructure=state.sectionAssessments.surveysByScript[scriptId]||{},currentAssessmentId=state.sectionAssessments.assessmentId;return Object.keys(surveysStructure).includes(currentAssessmentId+"")}),getStudentsMCandMatchSummaryForCurrentAssessment=exports.getStudentsMCandMatchSummaryForCurrentAssessment=function getStudentsMCandMatchSummaryForCurrentAssessment(state){var studentResponses=getAssessmentResponsesForCurrentScript(state);if(!studentResponses)return[];var allStudentsByIds={};state.teacherSections.selectedStudents.forEach((function(student){allStudentsByIds[student.id]={student_name:student.name,responses_by_assessment:{}}})),allStudentsByIds=_objectSpread(_objectSpread({},allStudentsByIds),studentResponses);var currentStudentsIds=Object.keys(allStudentsByIds);return state.sectionAssessments.studentId!==ALL_STUDENT_FILTER&&(currentStudentsIds=[state.sectionAssessments.studentId]),currentStudentsIds.map((function(studentId){studentId=parseInt(studentId,10);var studentsObject=allStudentsByIds[studentId],currentAssessmentId=state.sectionAssessments.assessmentId,studentsAssessment=studentsObject.responses_by_assessment[currentAssessmentId];if(!studentsAssessment)return{id:studentId,name:studentsObject.student_name,isSubmitted:!1,inProgress:!1,submissionTimeStamp:notStartedFakeTimestamp};var inProgress=studentsAssessment.timestamp&&!studentsAssessment.submitted,submissionTimeStamp=inProgress?inProgressFakeTimestamp:new Date(studentsAssessment.timestamp);return{id:studentId,name:studentsObject.student_name,numMultipleChoiceCorrect:studentsAssessment.multi_correct,numMultipleChoice:studentsAssessment.multi_count,numMatchCorrect:studentsAssessment.match_correct,numMatch:studentsAssessment.match_count,inProgress,isSubmitted:studentsAssessment.submitted,submissionTimeStamp,url:studentsAssessment.url}}))},getExportableSurveyData=(exports.getExportableSubmissionStatusData=function getExportableSubmissionStatusData(state){var summaryStudentStatus=[];return getStudentsMCandMatchSummaryForCurrentAssessment(state).forEach((function(student){summaryStudentStatus.push({studentName:student.name,numMultipleChoiceCorrect:student.numMultipleChoiceCorrect,numMultipleChoice:student.numMultipleChoice,numMatchCorrect:student.numMatchCorrect,numMatch:student.numMatch,submissionTimestamp:student.submissionTimeStamp})})),summaryStudentStatus},exports.getMultipleChoiceSectionSummary=function getMultipleChoiceSectionSummary(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);if(!assessmentsStructure)return[];var results=assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.MULTI})).map((function(question){return{id:question.level_id,question:question.question_text,questionNumber:question.question_index+1,answers:question.answers.map((function(answer,index){return{multipleChoiceOption:ANSWER_LETTERS[index],isCorrect:answer.correct,numAnswered:0}})),totalAnswered:0,notAnswered:0}})),studentResponses=getAssessmentResponsesForCurrentScript(state);return studentResponses?(Object.keys(studentResponses).forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],currentAssessmentId=state.sectionAssessments.assessmentId;((studentObject.responses_by_assessment[currentAssessmentId]||{}).level_results||[]).filter((function(result){return result.type===QuestionType.MULTI})).forEach((function(response,questionIndex){results[questionIndex].totalAnswered++,"unsubmitted"===response.status?results[questionIndex].notAnswered++:(response.student_result||[]).forEach((function(answer){results[questionIndex].answers[answer].numAnswered++}))}))})),results):[]},exports.getMatchSectionSummary=function getMatchSectionSummary(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);if(!assessmentsStructure)return[];var results=assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.MATCH})).map((function(question){return{id:question.level_id,question:question.question,questionNumber:question.question_index+1,options:question.options.map((function(option,indexO){return{option:question.options[indexO].text,id:indexO,totalAnswered:0,notAnswered:0,answers:question.answers.map((function(answer,indexA){return{answer:question.answers[indexA].text,isCorrect:indexA===indexO,numAnswered:0}}))}}))}})),studentResponses=getAssessmentResponsesForCurrentScript(state);return studentResponses?(Object.keys(studentResponses).forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],currentAssessmentId=state.sectionAssessments.assessmentId;((studentObject.responses_by_assessment[currentAssessmentId]||{}).level_results||[]).filter((function(result){return result.type===QuestionType.MATCH})).forEach((function(response,questionIndex){(response.student_result||[]).forEach((function(answer,index){results[questionIndex].options[index].totalAnswered++,"unsubmitted"===response.status[index]?results[questionIndex].options[index].notAnswered++:results[questionIndex].options[index].answers[answer].numAnswered++}))}))})),results):[]},exports.countSubmissionsForCurrentAssessment=function countSubmissionsForCurrentAssessment(state){var currentAssessmentId=state.sectionAssessments.assessmentId;if(!currentAssessmentId)return 0;if(isCurrentAssessmentSurvey(state)){var currentSurvey=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[currentAssessmentId];return currentSurvey&&0!==currentSurvey.levelgroup_results.length?currentSurvey.levelgroup_results[0].results.length:0}var studentResponses=getAssessmentResponsesForCurrentScript(state),totalSubmissions=0;return Object.values(studentResponses).forEach((function(student){Object.keys(student.responses_by_assessment).includes(currentAssessmentId+"")&&totalSubmissions++})),totalSubmissions},exports.getExportableData=function getExportableData(state){return isCurrentAssessmentSurvey(state)?getExportableSurveyData(state):getExportableAssessmentData(state)},exports.getExportableSurveyData=function getExportableSurveyData(state){for(var currentAssessmentId=state.sectionAssessments.assessmentId,currentSurvey=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[currentAssessmentId],responses=[],i=0;i<currentSurvey.levelgroup_results.length;i++){var questionResults=currentSurvey.levelgroup_results[i],rowBase={lesson:currentSurvey.lesson_name,questionNumber:questionResults.question_index+1,questionText:questionResults.question};if(questionResults.type===SurveyQuestionType_MULTI)for(var _loop=function _loop(answerIndex){responses.push(_objectSpread(_objectSpread({},rowBase),{},{answer:questionResults.answer_texts[answerIndex],numberAnswered:questionResults.results.filter((function(result){return result.answer_index===answerIndex})).length}))},answerIndex=0;answerIndex<questionResults.answer_texts.length;answerIndex++)_loop(answerIndex);else if(questionResults.type===SurveyQuestionType_FREE_RESPONSE)for(var j=0;j<questionResults.results.length;j++)responses.push(_objectSpread(_objectSpread({},rowBase),{},{answer:questionResults.results[j].result,numberAnswered:1}))}return responses}),getExportableAssessmentData=exports.getExportableAssessmentData=function getExportableAssessmentData(state){var responses=[],currentAssessmentId=state.sectionAssessments.assessmentId,studentResponses=getAssessmentResponsesForCurrentScript(state);return Object.keys(studentResponses).forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],studentAssessment=studentObject.responses_by_assessment[currentAssessmentId];if(studentAssessment&&studentAssessment.level_results)for(var questionIndex=0;questionIndex<studentAssessment.level_results.length;questionIndex++){var response=studentAssessment.level_results[questionIndex];responses.push({studentName:studentObject.student_name,lesson:studentAssessment.lesson,timestamp:studentAssessment.timestamp,question:questionIndex+1,response:response.type===QuestionType.MULTI?indexesToAnswerString(response.student_result):response.student_result,correct:response.status})}})),responses},currentStudentHasResponses=(exports.getExportableFeedbackData=function getExportableFeedbackData(state){var feedback=[],feedbackForCurrentScript=state.sectionAssessments.feedbackByScript[state.unitSelection.scriptId]||{};return Object.keys(feedbackForCurrentScript).forEach((function(feedbackId){feedbackId=parseInt(feedbackId,10),feedback.push(feedbackForCurrentScript[feedbackId])})),feedback},exports.isCurrentScriptCSD=function isCurrentScriptCSD(state){return((0,_unitSelectionRedux.getSelectedScriptName)(state)||"").includes("csd")},exports.currentStudentHasResponses=function currentStudentHasResponses(state){return!!Object.prototype.hasOwnProperty.call(getAssessmentResponsesForCurrentScript(state),state.sectionAssessments.studentId)});function getCorrectAnswer(answerArr){return indexesToAnswerString(answerArr.map((function(_ref,i){return _ref.correct?i:null})).filter((function(i){return null!==i})))}function indexesToAnswerString(answerArr){return answerArr?answerArr.map((function(index){return ANSWER_LETTERS[index]})).join(", "):""}var getFirstAssessmentId=function getFirstAssessmentId(state,scriptId){return computeScriptAssessmentList(state,scriptId).map((function(a){return parseInt(a.id)}))[0]},computeScriptAssessmentList=function computeScriptAssessmentList(state,scriptId){var assessmentStructure=state.assessmentQuestionsByScript[scriptId]||{},assessments=Object.values(assessmentStructure).map((function(assessment){return{id:assessment.id,name:assessment.name}})),surveysStructure=state.surveysByScript[scriptId]||{},surveys=Object.keys(surveysStructure).map((function(surveyId){return{id:parseInt(surveyId),name:surveysStructure[surveyId].lesson_name}}));return assessments.concat(surveys)},loadAssessmentResponsesFromServer=function loadAssessmentResponsesFromServer(sectionId,scriptId){var payload={section_id:sectionId};return scriptId&&(payload.script_id=scriptId),$.ajax({url:"/dashboardapi/assessments/section_responses",method:"GET",contentType:"application/json;charset=UTF-8",data:payload})},loadAssessmentQuestionsFromServer=function loadAssessmentQuestionsFromServer(scriptId){var payload={script_id:scriptId};return $.ajax({url:"/dashboardapi/assessments",method:"GET",contentType:"application/json;charset=UTF-8",data:payload})},loadSurveysFromServer=function loadSurveysFromServer(sectionId,scriptId){var payload={script_id:scriptId,section_id:sectionId};return $.ajax({url:"/dashboardapi/assessments/section_surveys",method:"GET",contentType:"application/json;charset=UTF-8",data:payload})},loadFeedbackFromServer=function loadFeedbackFromServer(sectionId,scriptId){var payload={script_id:scriptId,section_id:sectionId};return $.ajax({url:"/dashboardapi/assessments/section_feedback",method:"GET",contentType:"application/json;charset=UTF-8",data:payload})}},"./src/util/color.js":module=>{module.exports={black:"#000",background_black:"#121416",dark_gray:"#2D3139",darkest_gray:"#292F36",dark_slate_gray:"#282c34",darkest_slate_gray:"#25292d",dark_charcoal:"#4d575f",charcoal:"#5b6770",light_gray:"#949ca2",lighter_gray:"#c6cacd",lightest_gray:"#e7e8ea",background_gray:"#f2f2f2",dimgray:"#696969",white:"#fff",default_blue:"#3670b3",dark_teal:"#0094a3",teal:"#0093a4",applab_button_teal:"#1abc9c",light_teal:"#59cad3",lightish_teal:"#80d6de",lighter_teal:"#a6e3e8",lightest_teal:"#d9f3f5",ai_rubric_cyan:"#3cfff8",purple:"#8c52ba",light_purple:"#a69bc1",lighter_purple:"#cfc9de",lightest_purple:"#ebe8f1",cyan:"#0094ca",light_cyan:"#59b9dc",lighter_cyan:"#a6daed",lightest_cyan:"#d9eff7",almost_white_cyan:"#f5fcff",orange:"#ffa400",light_orange:"#ffc459",lighter_orange:"#ffe0a6",lightest_orange:"#fff2d9",dark_orange:"#ff8600",green:"#b9bf15",light_green:"#d1d567",lighter_green:"#e7e9ad",lightest_green:"#f5f5dc",highlight_green:"#8afc9b",yellow:"#ffb81d",light_yellow:"#ffdb74",lighter_yellow:"#ffebb5",lightest_yellow:"#fff7df",goldenrod:"#daa520",header_text:"#fff",bkgnd_color:"#0093a4",inset_color:"#c6cacd",dark_color:"#8c52ba",hdr_color:"#8c52ba",red:"#c00",lightest_red:"#fcc",dark_red:"#d62911",realgreen:"#008000",realyellow:"#ff0",mustardyellow:"#efcd1c",twitter_blue:"#00aced",facebook_blue:"#3b5998",linkedin_blue:"#0077B5",dark_blue:"#00647f",blockly_flyout_gray:"#ddd",default_text:"#333",border_gray:"#bbb",border_light_gray:"#d8d8d8",table_header:"#ececec",table_light_row:"#fcfcfc",table_dark_row:"#f4f4f4",level_submitted:"#8c52ba",level_perfect:"rgb(14, 190, 14)",level_passed:"rgb(159, 212, 159)",level_attempted:"#ff0",level_not_tried:"#fefefe",level_current:"#ffa400",level_review_rejected:"#c00",level_review_accepted:"rgb(11, 142, 11)",assessment:"#0094ca",workspace_running_background:"#e5e5e5",dark_purple:"#682A77",bright_green:"#0ebe0e",neon_pink:"#e9118f",link_color:"#0596ce",shadow:"rgba(0, 0, 0, 0.3)",bootstrap_button_blue:"#337ab7",bootstrap_button_red:"#d9534f",bootstrap_error_background:"#f2dede",bootstrap_error_text:"#b94a48",bootstrap_v3_error_text:"#a94442",bootstrap_error_border:"#ebccd1",bootstrap_warning_background:"#fcf8e3",bootstrap_warning_text:"#c09853",bootstrap_warning_border:"#faebcc",bootstrap_border_color:"#cccccc",bootstrap_success_background:"#dff0d8",bootstrap_success_text:"#468847",bootstrap_success_border:"#d6e9c6",droplet_light_green:"#d3e965",droplet_blue:"#64b5f6",droplet_bright_blue:"#19c3e1",droplet_yellow:"#fff176",droplet_orange:"#ffb74d",droplet_red:"#f78183",droplet_cyan:"#4dd0e1",droplet_pink:"#f57ac6",droplet_purple:"#bb77c7",droplet_green:"#68d995",droplet_white:"#fff",oceans_deep_blue:"rgb(2, 0, 28)",dark_black:"#121212",brand_primary_light:"#ABDFE5",brand_primary_default:"#009EB0",brand_primary_dark:"#008291",brand_secondary_light:"#E0D1EC",brand_secondary_default:"#8C52BA",brand_secondary_dark:"#6F488E",brand_accent_default:"#ED6060",brand_teal_5:"#DFF2F4",product_affirmative_default:"#3EA33E",product_negative_light:"#FDEBE9",product_negative_default:"#E5311A",product_negative_dark:"#AA2513",product_caution_default:"#F9CB28",product_information_default:"#007ACC",neutral_white:"#FFFFFF",neutral_light:"#F7F8FA",neutral_dark10:"#EAEBEB",neutral_dark20:"#D4D5D7",neutral_dark30:"#BFC1C3",neutral_dark40:"#A9ACAF",neutral_dark50:"#94979B",neutral_dark60:"#7F8286",neutral_dark70:"#6A6E73",neutral_dark80:"#54595E",neutral_dark90:"#3F444B",neutral_dark:"#292F36",google_brand_color:"#0F9D58",microsoft_brand_color:"#FFB900",facebook_brand_color:"#3B5998",clever_brand_color:"#1464FF",light_primary_100:"#ABDFE5",light_primary_500:"#0093A4",light_primary_700:"#008291",light_secondary_100:"#E2D4EE",light_secondary_500:"#8C52BA",light_secondary_700:"#6F488E",light_gray_50:"#F7F8FA",light_gray_100:"#EAEBEB",light_gray_200:"#D4D5D7",light_gray_300:"#BFC1C3",light_gray_400:"#A9ACAF",light_gray_500:"#94979B",light_gray_600:"#7F8286",light_gray_700:"#6A6E73",light_gray_800:"#54595E",light_gray_900:"#3F444B",light_affirmative_100:"#E2F1E2",light_affirmative_500:"#3EA33E",light_negative_500:"#E5311A",light_caution_500:"#F9CB28",light_info_100:"#DCEFFB",light_info_500:"#1892E3",light_white:"#FFFFFF",light_black:"#292F36"}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixlQUFrQixVQUNsQixlQUFrQixVQUNsQixZQUFlLFVBQ2YsWUFBZSxVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3JlZHV4L3VuaXRTZWxlY3Rpb25SZWR1eC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvdGVtcGxhdGVzL3NlY3Rpb25Bc3Nlc3NtZW50cy9zZWN0aW9uQXNzZXNzbWVudHNSZWR1eC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvdXRpbC9jb2xvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBSZWR1Y2VyIGZvciBzY3JpcHQgc2VsZWN0aW9uIGluIHRlYWNoZXIgZGFzaGJvYXJkLlxuLy8gVGFiIHNwZWNpZmljIHJlZHVjZXJzIGNhbiBpbXBvcnQgYWN0aW9ucyBmcm9tIHRoaXMgZmlsZVxuLy8gaWYgdGhleSBuZWVkIHRvIHJlc3BvbmQgdG8gYSBzY3JpcHQgY2hhbmdpbmcuXG5cbi8vIEFjdGlvbiB0eXBlIGNvbnN0YW50c1xuZXhwb3J0IGNvbnN0IFNFVF9TQ1JJUFQgPSAndW5pdFNlbGVjdGlvbi9TRVRfU0NSSVBUJztcbmV4cG9ydCBjb25zdCBTRVRfQ09VUlNFUyA9ICd1bml0U2VsZWN0aW9uL1NFVF9DT1VSU0VTJztcblxuLy8gQWN0aW9uIGNyZWF0b3JzXG5leHBvcnQgY29uc3Qgc2V0U2NyaXB0SWQgPSBzY3JpcHRJZCA9PiAoe3R5cGU6IFNFVF9TQ1JJUFQsIHNjcmlwdElkfSk7XG5leHBvcnQgY29uc3Qgc2V0Q291cnNlc1dpdGhQcm9ncmVzcyA9IGNvdXJzZXNXaXRoUHJvZ3Jlc3MgPT4gKHtcbiAgdHlwZTogU0VUX0NPVVJTRVMsXG4gIGNvdXJzZXNXaXRoUHJvZ3Jlc3MsXG59KTtcblxuLy8gU2VsZWN0b3JzXG5jb25zdCBnZXRTZWxlY3RlZFVuaXQgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IHNjcmlwdElkID0gc3RhdGUudW5pdFNlbGVjdGlvbi5zY3JpcHRJZDtcbiAgaWYgKCFzY3JpcHRJZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGV0IHVuaXQ7XG4gIHN0YXRlLnVuaXRTZWxlY3Rpb24uY291cnNlc1dpdGhQcm9ncmVzcy5mb3JFYWNoKGNvdXJzZSA9PiB7XG4gICAgY29uc3QgdGVtcFVuaXQgPSBjb3Vyc2UudW5pdHMuZmluZCh1bml0ID0+IHNjcmlwdElkID09PSB1bml0LmlkKTtcbiAgICBpZiAodGVtcFVuaXQpIHtcbiAgICAgIHVuaXQgPSB0ZW1wVW5pdDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdW5pdDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZWxlY3RlZFNjcmlwdE5hbWUgPSBzdGF0ZSA9PiB7XG4gIHJldHVybiBnZXRTZWxlY3RlZFVuaXQoc3RhdGUpID8gZ2V0U2VsZWN0ZWRVbml0KHN0YXRlKS5rZXkgOiBudWxsO1xufTtcblxuLyogR2V0IHRoZSB1c2VyIGZyaWVuZGx5IG5hbWUgb2YgYSBzY3JpcHQodGhlIHVuaXQgb3IgY291cnNlIG5hbWUpICovXG5leHBvcnQgY29uc3QgZ2V0U2VsZWN0ZWRTY3JpcHRGcmllbmRseU5hbWUgPSBzdGF0ZSA9PiB7XG4gIHJldHVybiBnZXRTZWxlY3RlZFVuaXQoc3RhdGUpID8gZ2V0U2VsZWN0ZWRVbml0KHN0YXRlKS5uYW1lIDogbnVsbDtcbn07XG5cbi8qIEdldCB0aGUgZGVzY3JpcHRpb24gb2YgYSBzY3JpcHQodGhlIHVuaXQgb3IgY291cnNlIG5hbWUpICovXG5leHBvcnQgY29uc3QgZ2V0U2VsZWN0ZWRTY3JpcHREZXNjcmlwdGlvbiA9IHN0YXRlID0+IHtcbiAgcmV0dXJuIGdldFNlbGVjdGVkVW5pdChzdGF0ZSkgPyBnZXRTZWxlY3RlZFVuaXQoc3RhdGUpLmRlc2NyaXB0aW9uIDogbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBkb2VzQ3VycmVudENvdXJzZVVzZUZlZWRiYWNrID0gc3RhdGUgPT4ge1xuICByZXR1cm4gISFnZXRTZWxlY3RlZFVuaXQoc3RhdGUpPy5pc19mZWVkYmFja19lbmFibGVkO1xufTtcblxuLy8gSW5pdGlhbCBzdGF0ZSBvZiB1bml0U2VsZWN0aW9uUmVkdXhcbmNvbnN0IGluaXRpYWxTdGF0ZSA9IHtcbiAgc2NyaXB0SWQ6IG51bGwsXG4gIGNvdXJzZXNXaXRoUHJvZ3Jlc3M6IFtdLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdW5pdFNlbGVjdGlvbihzdGF0ZSA9IGluaXRpYWxTdGF0ZSwgYWN0aW9uKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX0NPVVJTRVMpIHtcbiAgICBsZXQgZmlyc3RDb3Vyc2UgPSBhY3Rpb24uY291cnNlc1dpdGhQcm9ncmVzc1swXTtcblxuICAgIGNvbnN0IGZpcnN0VW5pdCA9IGZpcnN0Q291cnNlID8gZmlyc3RDb3Vyc2UudW5pdHNbMF0gOiBudWxsO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgY291cnNlc1dpdGhQcm9ncmVzczogYWN0aW9uLmNvdXJzZXNXaXRoUHJvZ3Jlc3MsXG4gICAgICBzY3JpcHRJZDogc3RhdGUuc2NyaXB0SWQgPT09IG51bGwgPyBmaXJzdFVuaXQ/LmlkIDogc3RhdGUuc2NyaXB0SWQsXG4gICAgfTtcbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX1NDUklQVCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHNjcmlwdElkOiBhY3Rpb24uc2NyaXB0SWQsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZTtcbn1cbiIsImltcG9ydCB7XG4gIFNFVF9TQ1JJUFQsXG4gIGdldFNlbGVjdGVkU2NyaXB0TmFtZSxcbiAgZG9lc0N1cnJlbnRDb3Vyc2VVc2VGZWVkYmFjayxcbn0gZnJvbSAnQGNkby9hcHBzL3JlZHV4L3VuaXRTZWxlY3Rpb25SZWR1eCc7XG5cbmV4cG9ydCBjb25zdCBBTExfU1RVREVOVF9GSUxURVIgPSAwO1xuXG4vKipcbiAqIEluaXRpYWwgc3RhdGUgb2Ygc2VjdGlvbkFzc2Vzc21lbnRzUmVkdXhcbiAqIFRoZSByZWR1eCBzdGF0ZSBtYXRjaGVzIHRoZSBzdHJ1Y3R1cmUgb2Ygb3VyIEFQSSBjYWxscyBhbmQgb3VyIHZpZXdzIGRvbid0XG4gKiB1c2UgdGhpcyBzdHJ1Y3R1cmUgZGlyZWN0bHkuIFNlbGVjdG9ycyBmaWx0ZXIgYW5kIHRyYW5zZm9ybSBkYXRhIHRvIHdoYXQgdGhleSBuZWVkLlxuICpcbiAqIGFzc2Vzc21lbnRSZXNwb25zZXNCeVNjcmlwdCAtIG9iamVjdCAtIGtleXMgYXJlIHNjcmlwdElkcywgdmFsdWVzIGFyZSBvYmplY3RzIG9mXG4gKiAgc3R1ZGVudCBpZHMgdG8gc3R1ZGVudCByZXNwb25zZSBkYXRhIGZvciBlYWNoIGFzc2Vzc21lbnRcbiAqIGFzc2Vzc21lbnRRdWVzdGlvbnNCeVNjcmlwdCAtIG9iamVjdCAtIGtleXMgYXJlIHNjcmlwdElkcywgdmFsdWVzIGFyZSBvYmplY3RzIG9mXG4gKiAgIGFzc2Vzc21lbnRJZHMgdG8gcXVlc3Rpb24gYW5kIGFuc3dlciBpbmZvcm1hdGlvbiBmb3IgZWFjaCBhc3Nlc3NtZW50XG4gKiBzdXJ2ZXlzQnlTY3JpcHQgLSBvYmplY3QgLSBrZXlzIGFyZSBzY3JpcHRJZHMsIHZhbHVlcyBhcmUgb2JqZWN0cyBvZlxuICogICBhc3Nlc3NtZW50SWRzIHRvIHN1cnZleSBxdWVzdGlvbnMgYW5kIGFub255bW91cyByZXNwb25zZXNcbiAqIGlzTG9hZGluZyAtIGJvb2xlYW4gLSBpbmRpY2F0ZXMgdGhhdCByZXF1ZXN0cyBmb3IgYXNzZXNzbWVudHMgYW5kIHN1cnZleXMgaGF2ZSBiZWVuXG4gKiBzZW50IHRvIHRoZSBzZXJ2ZXIgYnV0IHRoZSBjbGllbnQgaGFzIG5vdCB5ZXQgcmVjZWl2ZWQgYSByZXNwb25zZVxuICogYXNzZXNzbWVudElkIC0gaW50IC0gdGhlIGxldmVsX2dyb3VwIGlkIG9mIHRoZSBhc3Nlc3NtZW50IGN1cnJlbnRseSBpbiB2aWV3XG4gKiBxdWVzdGlvbkluZGV4IC0gaW50IC0gdGhlIHF1ZXN0aW9uIGluZGV4IG9mIHRoZSBxdWVzdGlvbiBjdXJyZW50bHkgaW4gdmlldyBpbiBkZXRhaWwgdmlld1xuICogc3R1ZGVudElkIC0gaW50IC0gdGhlIHN0dWRlbnRJZCBvZiB0aGUgY3VycmVudCBzdHVkZW50IGJlaW5nIGZpbHRlcmVkIGZvci5cbiAqL1xuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBhc3Nlc3NtZW50UmVzcG9uc2VzQnlTY3JpcHQ6IHt9LFxuICBhc3Nlc3NtZW50UXVlc3Rpb25zQnlTY3JpcHQ6IHt9LFxuICBmZWVkYmFja0J5U2NyaXB0OiB7fSxcbiAgc3VydmV5c0J5U2NyaXB0OiB7fSxcbiAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgYXNzZXNzbWVudElkOiAwLFxuICBxdWVzdGlvbkluZGV4OiAwLFxuICBzdHVkZW50SWQ6IEFMTF9TVFVERU5UX0ZJTFRFUixcbn07XG5cbi8vIFF1ZXN0aW9uIHR5cGVzIGZvciBhc3Nlc3NtZW50cy5cbmV4cG9ydCBjb25zdCBRdWVzdGlvblR5cGUgPSB7XG4gIE1VTFRJOiAnTXVsdGknLFxuICBNQVRDSDogJ01hdGNoJyxcbiAgRlJFRV9SRVNQT05TRTogJ0ZyZWVSZXNwb25zZScsXG59O1xuXG4vLyBRdWVzdGlvbiB0eXBlcyBmb3Igc3VydmV5cy5cbmNvbnN0IFN1cnZleVF1ZXN0aW9uVHlwZSA9IHtcbiAgTVVMVEk6ICdtdWx0aScsXG4gIEZSRUVfUkVTUE9OU0U6ICdmcmVlX3Jlc3BvbnNlJyxcbn07XG5cbmNvbnN0IE11bHRpQW5zd2VyU3RhdHVzID0ge1xuICBDT1JSRUNUOiAnY29ycmVjdCcsXG4gIElOQ09SUkVDVDogJ2luY29ycmVjdCcsXG59O1xuXG5jb25zdCBBTlNXRVJfTEVUVEVSUyA9IFsnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJ107XG5cbmV4cG9ydCBjb25zdCBBU1NFU1NNRU5UX0ZFRURCQUNLX09QVElPTl9JRCA9IDA7XG5cbi8qIEluIG9yZGVyIGZvciB0aGUgc29ydGluZyBvZiB0aGUgc3VibWlzc2lvbiB0aW1lc3RhbXAgY29sdW1uIHRvIHdvcmsgY29ycmVjdGx5IGluIHRoZSBTdWJtaXNzaW9uU3RhdHVzQXNzZXNzbWVudHNUYWJsZSwgdGhlIHN1Ym1pc3Npb25UaW1lU3RhbXAgZmllbGQgbXVzdCBiZSBhIERhdGUuIFNvLCB3ZSBwYXNzIGluIGFyYml0cmFyeSBEYXRlcyBpbiB0aGUgcGFzdCB0byBoYW5kbGUgd2hlbiB0aGUgYXNzZXNzbWVudCBpcyBpbiBwcm9ncmVzcyBvciBub3QgeWV0IHN0YXJ0ZWQuICovXG5leHBvcnQgY29uc3QgaW5Qcm9ncmVzc0Zha2VUaW1lc3RhbXAgPSBuZXcgRGF0ZShcbiAgJzE5OTAtMDEtMDFUMjA6NTI6MDUuMDAwKzAwOjAwJ1xuKTtcbmV4cG9ydCBjb25zdCBub3RTdGFydGVkRmFrZVRpbWVzdGFtcCA9IG5ldyBEYXRlKFxuICAnMTk4MC0wMS0wMVQyMDo1MjowNS4wMDArMDA6MDAnXG4pO1xuXG4vLyBBY3Rpb24gdHlwZSBjb25zdGFudHNcbmNvbnN0IFNFVF9BU1NFU1NNRU5UX1JFU1BPTlNFUyA9ICdzZWN0aW9uQXNzZXNzbWVudHMvU0VUX0FTU0VTU01FTlRfUkVTUE9OU0VTJztcbmNvbnN0IFNFVF9BU1NFU1NNRU5UU19RVUVTVElPTlMgPVxuICAnc2VjdGlvbkFzc2Vzc21lbnRzL1NFVF9BU1NFU1NNRU5UU19RVUVTVElPTlMnO1xuY29uc3QgU0VUX0ZFRURCQUNLID0gJ3NlY3Rpb25Bc3Nlc3NtZW50cy9TRVRfRkVFREJBQ0snO1xuY29uc3QgU0VUX1NVUlZFWVMgPSAnc2VjdGlvbkFzc2Vzc21lbnRzL1NFVF9TVVJWRVlTJztcbmNvbnN0IFNUQVJUX0xPQURJTkdfQVNTRVNTTUVOVFMgPVxuICAnc2VjdGlvbkFzc2Vzc21lbnRzL1NUQVJUX0xPQURJTkdfQVNTRVNTTUVOVFMnO1xuY29uc3QgRklOSVNIX0xPQURJTkdfQVNTRVNTTUVOVFMgPVxuICAnc2VjdGlvbkFzc2Vzc21lbnRzL0ZJTklTSF9MT0FESU5HX0FTU0VTU01FTlRTJztcbmNvbnN0IFNFVF9BU1NFU1NNRU5UX0lEID0gJ3NlY3Rpb25Bc3Nlc3NtZW50cy9TRVRfQVNTRVNTTUVOVF9JRCc7XG5jb25zdCBTRVRfSU5JVElBTF9BU1NFU1NNRU5UX0lEID1cbiAgJ3NlY3Rpb25Bc3Nlc3NtZW50cy9TRVRfSU5JVElBTF9BU1NFU1NNRU5UX0lEJztcbmNvbnN0IFNFVF9TVFVERU5UX0lEID0gJ3NlY3Rpb25Bc3Nlc3NtZW50cy9TRVRfU1RVREVOVF9JRCc7XG5jb25zdCBTRVRfUVVFU1RJT05fSU5ERVggPSAnc2VjdGlvbkFzc2Vzc21lbnRzL1NFVF9RVUVTVElPTl9JTkRFWCc7XG5cbi8vIEFjdGlvbiBjcmVhdG9yc1xuZXhwb3J0IGNvbnN0IHNldEFzc2Vzc21lbnRSZXNwb25zZXMgPSAoc2NyaXB0SWQsIGFzc2Vzc21lbnRzKSA9PiAoe1xuICB0eXBlOiBTRVRfQVNTRVNTTUVOVF9SRVNQT05TRVMsXG4gIHNjcmlwdElkLFxuICBhc3Nlc3NtZW50cyxcbn0pO1xuZXhwb3J0IGNvbnN0IHNldEFzc2Vzc21lbnRRdWVzdGlvbnMgPSAoc2NyaXB0SWQsIGFzc2Vzc21lbnRzKSA9PiAoe1xuICB0eXBlOiBTRVRfQVNTRVNTTUVOVFNfUVVFU1RJT05TLFxuICBzY3JpcHRJZCxcbiAgYXNzZXNzbWVudHMsXG59KTtcbmV4cG9ydCBjb25zdCBzZXRGZWVkYmFjayA9IChzY3JpcHRJZCwgZmVlZGJhY2spID0+ICh7XG4gIHR5cGU6IFNFVF9GRUVEQkFDSyxcbiAgc2NyaXB0SWQsXG4gIGZlZWRiYWNrLFxufSk7XG5leHBvcnQgY29uc3Qgc3RhcnRMb2FkaW5nQXNzZXNzbWVudHMgPSAoKSA9PiAoe1xuICB0eXBlOiBTVEFSVF9MT0FESU5HX0FTU0VTU01FTlRTLFxufSk7XG5leHBvcnQgY29uc3QgZmluaXNoTG9hZGluZ0Fzc2Vzc21lbnRzID0gKCkgPT4gKHtcbiAgdHlwZTogRklOSVNIX0xPQURJTkdfQVNTRVNTTUVOVFMsXG59KTtcbmV4cG9ydCBjb25zdCBzZXRBc3Nlc3NtZW50SWQgPSBhc3Nlc3NtZW50SWQgPT4gKHtcbiAgdHlwZTogU0VUX0FTU0VTU01FTlRfSUQsXG4gIGFzc2Vzc21lbnRJZDogYXNzZXNzbWVudElkLFxufSk7XG5leHBvcnQgY29uc3Qgc2V0SW5pdGlhbEFzc2Vzc21lbnRJZCA9IHNjcmlwdElkID0+ICh7XG4gIHR5cGU6IFNFVF9JTklUSUFMX0FTU0VTU01FTlRfSUQsXG4gIHNjcmlwdElkOiBzY3JpcHRJZCxcbn0pO1xuZXhwb3J0IGNvbnN0IHNldFF1ZXN0aW9uSW5kZXggPSBxdWVzdGlvbkluZGV4ID0+ICh7XG4gIHR5cGU6IFNFVF9RVUVTVElPTl9JTkRFWCxcbiAgcXVlc3Rpb25JbmRleDogcXVlc3Rpb25JbmRleCxcbn0pO1xuZXhwb3J0IGNvbnN0IHNldFN0dWRlbnRJZCA9IHN0dWRlbnRJZCA9PiAoe1xuICB0eXBlOiBTRVRfU1RVREVOVF9JRCxcbiAgc3R1ZGVudElkOiBzdHVkZW50SWQsXG59KTtcbmV4cG9ydCBjb25zdCBzZXRTdXJ2ZXlzID0gKHNjcmlwdElkLCBzdXJ2ZXlzKSA9PiAoe1xuICB0eXBlOiBTRVRfU1VSVkVZUyxcbiAgc2NyaXB0SWQsXG4gIHN1cnZleXMsXG59KTtcblxuZXhwb3J0IGNvbnN0IGFzeW5jTG9hZEFzc2Vzc21lbnRzID0gKHNlY3Rpb25JZCwgc2NyaXB0SWQpID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCkuc2VjdGlvbkFzc2Vzc21lbnRzO1xuXG4gICAgLy8gRG9uJ3QgbG9hZCBkYXRhIGlmIGl0J3MgYWxyZWFkeSBzdG9yZWQgb3IgaWYgdGhlcmUgaXMgbm8gc2NyaXB0IG9yIG5vIHNlY3Rpb24gc2VsZWN0ZWQuXG4gICAgaWYgKFxuICAgICAgc3RhdGUuYXNzZXNzbWVudFJlc3BvbnNlc0J5U2NyaXB0W3NjcmlwdElkXSB8fFxuICAgICAgIXNjcmlwdElkIHx8XG4gICAgICAhc2VjdGlvbklkXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goc3RhcnRMb2FkaW5nQXNzZXNzbWVudHMoKSk7XG5cbiAgICBjb25zdCBsb2FkUmVzcG9uc2VzID0gbG9hZEFzc2Vzc21lbnRSZXNwb25zZXNGcm9tU2VydmVyKFxuICAgICAgc2VjdGlvbklkLFxuICAgICAgc2NyaXB0SWRcbiAgICApO1xuICAgIGNvbnN0IGxvYWRRdWVzdGlvbnMgPSBsb2FkQXNzZXNzbWVudFF1ZXN0aW9uc0Zyb21TZXJ2ZXIoc2NyaXB0SWQpO1xuICAgIGNvbnN0IGxvYWRTdXJ2ZXlzID0gbG9hZFN1cnZleXNGcm9tU2VydmVyKHNlY3Rpb25JZCwgc2NyaXB0SWQpO1xuICAgIGNvbnN0IGxvYWRGZWVkYmFjayA9IGxvYWRGZWVkYmFja0Zyb21TZXJ2ZXIoc2VjdGlvbklkLCBzY3JpcHRJZCk7XG5cbiAgICBQcm9taXNlLmFsbChbbG9hZFJlc3BvbnNlcywgbG9hZFF1ZXN0aW9ucywgbG9hZFN1cnZleXMsIGxvYWRGZWVkYmFja10pXG4gICAgICAudGhlbihhcnJheU9mVmFsdWVzID0+IHtcbiAgICAgICAgZGlzcGF0Y2goc2V0QXNzZXNzbWVudFJlc3BvbnNlcyhzY3JpcHRJZCwgYXJyYXlPZlZhbHVlc1swXSkpO1xuICAgICAgICBkaXNwYXRjaChzZXRBc3Nlc3NtZW50UXVlc3Rpb25zKHNjcmlwdElkLCBhcnJheU9mVmFsdWVzWzFdKSk7XG4gICAgICAgIGRpc3BhdGNoKHNldEZlZWRiYWNrKHNjcmlwdElkLCBhcnJheU9mVmFsdWVzWzNdKSk7XG4gICAgICAgIGRpc3BhdGNoKHNldFN1cnZleXMoc2NyaXB0SWQsIGFycmF5T2ZWYWx1ZXNbMl0pKTtcbiAgICAgICAgZGlzcGF0Y2goc2V0SW5pdGlhbEFzc2Vzc21lbnRJZChzY3JpcHRJZCkpO1xuICAgICAgICBkaXNwYXRjaChmaW5pc2hMb2FkaW5nQXNzZXNzbWVudHMoKSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgLy8gSWYgYW55IHJldHVybiBhbiBlcnJvciwgdGhlIFVJIHdpbGwgc2hvdyB0aGF0IHRoZXJlIGFyZSBubyBhc3Nlc3NtZW50cy5cbiAgICAgICAgZGlzcGF0Y2goZmluaXNoTG9hZGluZ0Fzc2Vzc21lbnRzKCkpO1xuICAgICAgfSk7XG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZWN0aW9uQXNzZXNzbWVudHMoc3RhdGUgPSBpbml0aWFsU3RhdGUsIGFjdGlvbikge1xuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNFVF9TQ1JJUFQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBzdHVkZW50SWQ6IEFMTF9TVFVERU5UX0ZJTFRFUixcbiAgICAgIHF1ZXN0aW9uSW5kZXg6IDAsXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNFVF9BU1NFU1NNRU5UX0lEKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgYXNzZXNzbWVudElkOiBhY3Rpb24uYXNzZXNzbWVudElkLFxuICAgICAgcXVlc3Rpb25JbmRleDogMCxcbiAgICAgIHN0dWRlbnRJZDogQUxMX1NUVURFTlRfRklMVEVSLFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBTRVRfSU5JVElBTF9BU1NFU1NNRU5UX0lEKSB7XG4gICAgY29uc3QgYXNzZXNzbWVudElkID0gZ2V0Rmlyc3RBc3Nlc3NtZW50SWQoc3RhdGUsIGFjdGlvbi5zY3JpcHRJZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgYXNzZXNzbWVudElkLFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBTRVRfU1RVREVOVF9JRCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHN0dWRlbnRJZDogYWN0aW9uLnN0dWRlbnRJZCxcbiAgICB9O1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX1FVRVNUSU9OX0lOREVYKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgcXVlc3Rpb25JbmRleDogYWN0aW9uLnF1ZXN0aW9uSW5kZXgsXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNFVF9BU1NFU1NNRU5UX1JFU1BPTlNFUykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGFzc2Vzc21lbnRSZXNwb25zZXNCeVNjcmlwdDoge1xuICAgICAgICAuLi5zdGF0ZS5hc3Nlc3NtZW50UmVzcG9uc2VzQnlTY3JpcHQsXG4gICAgICAgIFthY3Rpb24uc2NyaXB0SWRdOiBhY3Rpb24uYXNzZXNzbWVudHMsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBTRVRfRkVFREJBQ0spIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBmZWVkYmFja0J5U2NyaXB0OiB7XG4gICAgICAgIC4uLnN0YXRlLmZlZWRiYWNrQnlTY3JpcHQsXG4gICAgICAgIFthY3Rpb24uc2NyaXB0SWRdOiBhY3Rpb24uZmVlZGJhY2ssXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBTRVRfU1VSVkVZUykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHN1cnZleXNCeVNjcmlwdDoge1xuICAgICAgICAuLi5zdGF0ZS5zdXJ2ZXlzQnlTY3JpcHQsXG4gICAgICAgIFthY3Rpb24uc2NyaXB0SWRdOiBhY3Rpb24uc3VydmV5cyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNFVF9BU1NFU1NNRU5UU19RVUVTVElPTlMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBhc3Nlc3NtZW50UXVlc3Rpb25zQnlTY3JpcHQ6IHtcbiAgICAgICAgLi4uc3RhdGUuYXNzZXNzbWVudFF1ZXN0aW9uc0J5U2NyaXB0LFxuICAgICAgICBbYWN0aW9uLnNjcmlwdElkXTogYWN0aW9uLmFzc2Vzc21lbnRzLFxuICAgICAgfSxcbiAgICAgIC8vIERlZmF1bHQgdGhlIGFzc2Vzc21lbnRJZCB0byB0aGUgZmlyc3QgYXNzZXNzbWVudCBpbiB0aGUgc3RydWN0dXJlXG4gICAgICBhc3Nlc3NtZW50SWQ6IHBhcnNlSW50KE9iamVjdC5rZXlzKGFjdGlvbi5hc3Nlc3NtZW50cylbMF0pLFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBTVEFSVF9MT0FESU5HX0FTU0VTU01FTlRTKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgaXNMb2FkaW5nOiB0cnVlLFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBGSU5JU0hfTE9BRElOR19BU1NFU1NNRU5UUykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZTtcbn1cblxuLy8gU2VsZWN0b3IgZnVuY3Rpb25zXG5cbi8vIFJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cywgZWFjaCBpbmRpY2F0aW5nIGFuIGFzc2Vzc21lbnQgbmFtZSBhbmQgaXQncyBpZFxuLy8gZm9yIHRoZSBhc3Nlc3NtZW50cyBhbmQgc3VydmV5cyBpbiB0aGUgY3VycmVudCBzY3JpcHQuXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFNjcmlwdEFzc2Vzc21lbnRMaXN0ID0gc3RhdGUgPT4ge1xuICBsZXQgdGVtcEFzc2Vzc21lbnRMaXN0ID0gY29tcHV0ZVNjcmlwdEFzc2Vzc21lbnRMaXN0KFxuICAgIHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cyxcbiAgICBzdGF0ZS51bml0U2VsZWN0aW9uLnNjcmlwdElkXG4gICk7XG4gIC8qIE9ubHkgYWRkIHRoZSBmZWVkYmFjayBvcHRpb24gdG8gdGhlIGRyb3Bkb3duIGZvciBDU0QgYW5kIENTUCAqL1xuICBpZiAoZG9lc0N1cnJlbnRDb3Vyc2VVc2VGZWVkYmFjayhzdGF0ZSkpIHtcbiAgICB0ZW1wQXNzZXNzbWVudExpc3QgPSB0ZW1wQXNzZXNzbWVudExpc3QuY29uY2F0KHtcbiAgICAgIGlkOiBBU1NFU1NNRU5UX0ZFRURCQUNLX09QVElPTl9JRCxcbiAgICAgIG5hbWU6ICdBbGwgdGVhY2hlciBmZWVkYmFjayBpbiB0aGlzIHVuaXQnLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiB0ZW1wQXNzZXNzbWVudExpc3Q7XG59O1xuXG4vLyBHZXQgdGhlIHN0dWRlbnQgcmVzcG9uc2VzIGZvciBhc3Nlc3NtZW50cyBpbiB0aGUgY3VycmVudCBzY3JpcHQgYW5kIGN1cnJlbnQgYXNzZXNzbWVudFxuZXhwb3J0IGNvbnN0IGdldEFzc2Vzc21lbnRSZXNwb25zZXNGb3JDdXJyZW50U2NyaXB0ID0gc3RhdGUgPT4ge1xuICByZXR1cm4gKFxuICAgIHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50UmVzcG9uc2VzQnlTY3JpcHRbXG4gICAgICBzdGF0ZS51bml0U2VsZWN0aW9uLnNjcmlwdElkXG4gICAgXSB8fCB7fVxuICApO1xufTtcblxuLy8gR2V0IHRoZSBxdWVzdGlvbiBzdHJ1Y3R1cmUgZm9yIGFzc2Vzc21lbnRzIGluIHRoZSBjdXJyZW50IHNjcmlwdCBhbmQgY3VycmVudCBhc3Nlc3NtZW50XG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudEFzc2Vzc21lbnRRdWVzdGlvbnMgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRTY3JpcHREYXRhID1cbiAgICBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudFF1ZXN0aW9uc0J5U2NyaXB0W1xuICAgICAgc3RhdGUudW5pdFNlbGVjdGlvbi5zY3JpcHRJZFxuICAgIF0gfHwge307XG4gIHJldHVybiBjdXJyZW50U2NyaXB0RGF0YVtzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkXTtcbn07XG5cbi8vIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIHF1ZXN0aW9uIHRleHQgYW5kIGFuc3dlcnMgb2YgdGhlIGN1cnJlbnRseSBzZWxlY3RlZFxuLy8gcXVlc3Rpb24gaW4gdGhlIGN1cnJlbnQgYXNzZXNzbWVudC5cbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50UXVlc3Rpb24gPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IGVtcHR5UXVlc3Rpb24gPSB7cXVlc3Rpb246ICcnLCBhbnN3ZXJzOiBbXX07XG4gIGNvbnN0IGlzU3VydmV5ID0gaXNDdXJyZW50QXNzZXNzbWVudFN1cnZleShzdGF0ZSk7XG4gIGlmIChpc1N1cnZleSkge1xuICAgIGNvbnN0IHN1cnZleXMgPVxuICAgICAgc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN1cnZleXNCeVNjcmlwdFtzdGF0ZS51bml0U2VsZWN0aW9uLnNjcmlwdElkXSB8fFxuICAgICAge307XG4gICAgY29uc3QgY3VycmVudFN1cnZleSA9IHN1cnZleXNbc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLmFzc2Vzc21lbnRJZF07XG4gICAgY29uc3QgcXVlc3Rpb25zRGF0YSA9IGN1cnJlbnRTdXJ2ZXkubGV2ZWxncm91cF9yZXN1bHRzO1xuICAgIGNvbnN0IHF1ZXN0aW9uID0gcXVlc3Rpb25zRGF0YVtzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMucXVlc3Rpb25JbmRleF07XG4gICAgaWYgKHF1ZXN0aW9uKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb24sXG4gICAgICAgIGFuc3dlcnM6XG4gICAgICAgICAgcXVlc3Rpb24udHlwZSA9PT0gU3VydmV5UXVlc3Rpb25UeXBlLk1VTFRJICYmXG4gICAgICAgICAgcXVlc3Rpb24uYW5zd2VyX3RleHRzLm1hcCgoYW5zd2VyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdGV4dDogYW5zd2VyLFxuICAgICAgICAgICAgICBjb3JyZWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgbGV0dGVyOiBBTlNXRVJfTEVUVEVSU1tpbmRleF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVtcHR5UXVlc3Rpb247XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEdldCBxdWVzdGlvbiB0ZXh0IGZvciBhc3Nlc3NtZW50LlxuICAgIGNvbnN0IGFzc2Vzc21lbnQgPSBnZXRDdXJyZW50QXNzZXNzbWVudFF1ZXN0aW9ucyhzdGF0ZSkgfHwge307XG4gICAgY29uc3QgYXNzZXNzbWVudFF1ZXN0aW9ucyA9IGFzc2Vzc21lbnQucXVlc3Rpb25zO1xuICAgIGNvbnN0IHF1ZXN0aW9uID0gYXNzZXNzbWVudFF1ZXN0aW9uc1xuICAgICAgPyBhc3Nlc3NtZW50UXVlc3Rpb25zW3N0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5xdWVzdGlvbkluZGV4XVxuICAgICAgOiBudWxsO1xuICAgIGlmIChxdWVzdGlvbikge1xuICAgICAgaWYgKHF1ZXN0aW9uLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NVUxUSSkge1xuICAgICAgICBjb25zdCBhbnN3ZXJzID1cbiAgICAgICAgICBxdWVzdGlvbi50eXBlID09PSBRdWVzdGlvblR5cGUuTVVMVEkgJiZcbiAgICAgICAgICAocXVlc3Rpb24uYW5zd2VycyB8fCBbXSkubWFwKChhbnN3ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gey4uLmFuc3dlciwgbGV0dGVyOiBBTlNXRVJfTEVUVEVSU1tpbmRleF19O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uLnF1ZXN0aW9uX3RleHQsXG4gICAgICAgICAgYW5zd2VyczogYW5zd2VycyxcbiAgICAgICAgICBxdWVzdGlvblR5cGU6IFF1ZXN0aW9uVHlwZS5NVUxUSSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAocXVlc3Rpb24udHlwZSA9PT0gUXVlc3Rpb25UeXBlLkZSRUVfUkVTUE9OU0UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb25fdGV4dCxcbiAgICAgICAgICBhbnN3ZXJzOiBudWxsLFxuICAgICAgICAgIHF1ZXN0aW9uVHlwZTogUXVlc3Rpb25UeXBlLkZSRUVfUkVTUE9OU0UsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHF1ZXN0aW9uLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NQVRDSCkge1xuICAgICAgICBjb25zdCBhbnN3ZXJzID0gcXVlc3Rpb24uYW5zd2Vycy5tYXAoYW5zd2VyID0+IHtcbiAgICAgICAgICByZXR1cm4gYW5zd2VyLnRleHQ7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gcXVlc3Rpb24ub3B0aW9ucy5tYXAob3B0aW9uID0+IHtcbiAgICAgICAgICByZXR1cm4gb3B0aW9uLnRleHQ7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvbi5xdWVzdGlvbixcbiAgICAgICAgICBhbnN3ZXJzOiBhbnN3ZXJzLFxuICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgcXVlc3Rpb25UeXBlOiBRdWVzdGlvblR5cGUuTUFUQ0gsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlbXB0eVF1ZXN0aW9uO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIG9iamVjdHMsIGVhY2ggb2YgdHlwZSBxdWVzdGlvblN0cnVjdHVyZVByb3BUeXBlXG4gKiBpbmRpY2F0aW5nIHRoZSBxdWVzdGlvbiBhbmQgY29ycmVjdCBhbnN3ZXJzIGZvciBlYWNoIG11bHRpcGxlIGNob2ljZVxuICogcXVlc3Rpb24gaW4gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBhc3Nlc3NtZW50LlxuICovXG5leHBvcnQgY29uc3QgZ2V0TXVsdGlwbGVDaG9pY2VTdHJ1Y3R1cmVGb3JDdXJyZW50QXNzZXNzbWVudCA9IHN0YXRlID0+IHtcbiAgY29uc3QgYXNzZXNzbWVudHNTdHJ1Y3R1cmUgPSBnZXRDdXJyZW50QXNzZXNzbWVudFF1ZXN0aW9ucyhzdGF0ZSk7XG4gIGlmICghYXNzZXNzbWVudHNTdHJ1Y3R1cmUpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25zdCBxdWVzdGlvbkRhdGEgPSBhc3Nlc3NtZW50c1N0cnVjdHVyZS5xdWVzdGlvbnM7XG5cbiAgLy8gVHJhbnNmb3JtIHRoYXQgZGF0YSBpbnRvIHdoYXQgd2UgbmVlZCBmb3IgdGhpcyBwYXJ0aWN1bGFyIHRhYmxlLCBpbiB0aGlzIGNhc2VcbiAgLy8gcXVlc3Rpb25TdHJ1Y3R1cmVQcm9wVHlwZSBzdHJ1Y3R1cmUuXG4gIHJldHVybiBxdWVzdGlvbkRhdGFcbiAgICAuZmlsdGVyKHF1ZXN0aW9uID0+IHF1ZXN0aW9uLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NVUxUSSlcbiAgICAubWFwKHF1ZXN0aW9uID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBxdWVzdGlvbi5sZXZlbF9pZCxcbiAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uLnF1ZXN0aW9uX3RleHQsXG4gICAgICAgIHF1ZXN0aW9uTnVtYmVyOiBxdWVzdGlvbi5xdWVzdGlvbl9pbmRleCArIDEsXG4gICAgICAgIGNvcnJlY3RBbnN3ZXI6IGdldENvcnJlY3RBbnN3ZXIocXVlc3Rpb24uYW5zd2VycyksXG4gICAgICB9O1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIG9iamVjdHMsIGVhY2ggb2YgdHlwZSBzdHVkZW50QW5zd2VyRGF0YVByb3BUeXBlXG4gKiBpbmRpY2F0aW5nIHRoZSBzdHVkZW50IHJlc3BvbnNlcyB0byBtdWx0aXBsZSBjaG9pY2UgcXVlc3Rpb25zIGZvciB0aGVcbiAqIGN1cnJlbnRseSBzZWxlY3RlZCBhc3Nlc3NtZW50LlxuICovXG5leHBvcnQgY29uc3QgZ2V0U3R1ZGVudE1DUmVzcG9uc2VzRm9yQ3VycmVudEFzc2Vzc21lbnQgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IHN0dWRlbnRSZXNwb25zZXMgPSBnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdChzdGF0ZSk7XG4gIGlmICghc3R1ZGVudFJlc3BvbnNlcykge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBjb25zdCBzdHVkZW50SWQgPSBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3R1ZGVudElkO1xuICBjb25zdCBzdHVkZW50T2JqZWN0ID0gc3R1ZGVudFJlc3BvbnNlc1tzdHVkZW50SWRdO1xuICBpZiAoIXN0dWRlbnRPYmplY3QpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBjb25zdCBjdXJyZW50QXNzZXNzbWVudElkID0gc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLmFzc2Vzc21lbnRJZDtcbiAgY29uc3Qgc3R1ZGVudEFzc2Vzc21lbnQgPVxuICAgIHN0dWRlbnRPYmplY3QucmVzcG9uc2VzX2J5X2Fzc2Vzc21lbnRbY3VycmVudEFzc2Vzc21lbnRJZF07XG5cbiAgLy8gSWYgdGhlIHN0dWRlbnQgaGFzIG5vdCBzdWJtaXR0ZWQgdGhpcyBhc3Nlc3NtZW50LCBkb24ndCBkaXNwbGF5IHJlc3VsdHMuXG4gIGlmICghc3R1ZGVudEFzc2Vzc21lbnQpIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICAvLyBUcmFuc2Zvcm0gdGhhdCBkYXRhIGludG8gd2hhdCB3ZSBuZWVkIGZvciB0aGlzIHBhcnRpY3VsYXIgdGFibGUsIGluIHRoaXMgY2FzZVxuICAvLyBpcyB0aGUgc3RydWN0dXJlIHN0dWRlbnRBbnN3ZXJEYXRhUHJvcFR5cGVcbiAgcmV0dXJuIHtcbiAgICBpZDogc3R1ZGVudElkLFxuICAgIG5hbWU6IHN0dWRlbnRPYmplY3Quc3R1ZGVudF9uYW1lLFxuICAgIHN0dWRlbnRSZXNwb25zZXM6IHN0dWRlbnRBc3Nlc3NtZW50LmxldmVsX3Jlc3VsdHNcbiAgICAgIC5maWx0ZXIoYW5zd2VyID0+IGFuc3dlci50eXBlID09PSBRdWVzdGlvblR5cGUuTVVMVEkpXG4gICAgICAubWFwKGFuc3dlciA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcmVzcG9uc2VzOiBpbmRleGVzVG9BbnN3ZXJTdHJpbmcoYW5zd2VyLnN0dWRlbnRfcmVzdWx0KSxcbiAgICAgICAgICBpc0NvcnJlY3Q6IGFuc3dlci5zdGF0dXMgPT09IE11bHRpQW5zd2VyU3RhdHVzLkNPUlJFQ1QsXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgfTtcbn07XG5cbi8qXG4gKiBHZXQgdGhlIG1hdGNoIHF1ZXN0aW9ucyBpbiB0aGUgY3VycmVudCBhc3Nlc3NtZW50XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRNYXRjaFN0cnVjdHVyZUZvckN1cnJlbnRBc3Nlc3NtZW50ID0gc3RhdGUgPT4ge1xuICBjb25zdCBhc3Nlc3NtZW50c1N0cnVjdHVyZSA9IGdldEN1cnJlbnRBc3Nlc3NtZW50UXVlc3Rpb25zKHN0YXRlKTtcbiAgaWYgKCFhc3Nlc3NtZW50c1N0cnVjdHVyZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IHF1ZXN0aW9uRGF0YSA9IGFzc2Vzc21lbnRzU3RydWN0dXJlLnF1ZXN0aW9ucztcblxuICAvLyBUcmFuc2Zvcm0gdGhhdCBkYXRhIGludG8gd2hhdCB3ZSBuZWVkIGZvciB0aGlzIHBhcnRpY3VsYXIgdGFibGUsIGluIHRoaXMgY2FzZVxuICAvLyBxdWVzdGlvblN0cnVjdHVyZVByb3BUeXBlIHN0cnVjdHVyZS5cbiAgcmV0dXJuIHF1ZXN0aW9uRGF0YVxuICAgIC5maWx0ZXIocXVlc3Rpb24gPT4gcXVlc3Rpb24udHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1BVENIKVxuICAgIC5tYXAocXVlc3Rpb24gPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHF1ZXN0aW9uLmxldmVsX2lkLFxuICAgICAgICBxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb24sXG4gICAgICAgIHF1ZXN0aW9uTnVtYmVyOiBxdWVzdGlvbi5xdWVzdGlvbl9pbmRleCArIDEsXG4gICAgICAgIGFuc3dlcnM6IHF1ZXN0aW9uLmFuc3dlcnMsXG4gICAgICAgIG9wdGlvbnM6IHF1ZXN0aW9uLm9wdGlvbnMsXG4gICAgICB9O1xuICAgIH0pO1xufTtcblxuLypcbiAqIEdldCB0aGUgbWF0Y2ggcXVlc3Rpb25zIHJlc3BvbnNlcyBpbiB0aGUgY3VycmVudCBhc3Nlc3NtZW50XG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTdHVkZW50TWF0Y2hSZXNwb25zZXNGb3JDdXJyZW50QXNzZXNzbWVudCA9IHN0YXRlID0+IHtcbiAgY29uc3Qgc3R1ZGVudFJlc3BvbnNlcyA9IGdldEFzc2Vzc21lbnRSZXNwb25zZXNGb3JDdXJyZW50U2NyaXB0KHN0YXRlKTtcbiAgaWYgKCFzdHVkZW50UmVzcG9uc2VzKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIGNvbnN0IHN0dWRlbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5zdHVkZW50SWQ7XG4gIGNvbnN0IHN0dWRlbnRPYmplY3QgPSBzdHVkZW50UmVzcG9uc2VzW3N0dWRlbnRJZF07XG4gIGlmICghc3R1ZGVudE9iamVjdCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIGNvbnN0IGN1cnJlbnRBc3Nlc3NtZW50SWQgPSBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkO1xuICBjb25zdCBzdHVkZW50QXNzZXNzbWVudCA9XG4gICAgc3R1ZGVudE9iamVjdC5yZXNwb25zZXNfYnlfYXNzZXNzbWVudFtjdXJyZW50QXNzZXNzbWVudElkXTtcblxuICAvLyBJZiB0aGUgc3R1ZGVudCBoYXMgbm90IHN1Ym1pdHRlZCB0aGlzIGFzc2Vzc21lbnQsIGRvbid0IGRpc3BsYXkgcmVzdWx0cy5cbiAgaWYgKCFzdHVkZW50QXNzZXNzbWVudCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIC8vIFRyYW5zZm9ybSB0aGF0IGRhdGEgaW50byB3aGF0IHdlIG5lZWQgZm9yIHRoaXMgcGFydGljdWxhciB0YWJsZSwgaW4gdGhpcyBjYXNlXG4gIC8vIGlzIHRoZSBzdHJ1Y3R1cmUgc3R1ZGVudEFuc3dlckRhdGFQcm9wVHlwZVxuICByZXR1cm4ge1xuICAgIGlkOiBzdHVkZW50SWQsXG4gICAgbmFtZTogc3R1ZGVudE9iamVjdC5zdHVkZW50X25hbWUsXG4gICAgc3R1ZGVudFJlc3BvbnNlczogc3R1ZGVudEFzc2Vzc21lbnQubGV2ZWxfcmVzdWx0c1xuICAgICAgLmZpbHRlcihhbnN3ZXIgPT4gYW5zd2VyLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NQVRDSClcbiAgICAgIC5tYXAoYW5zd2VyID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNwb25zZXM6IGFuc3dlci5zdHVkZW50X3Jlc3VsdCxcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICB9O1xufTtcblxuLy8gR2V0IGFuIGFycmF5IG9mIG9iamVjdHMgaW5kaWNhdGluZyB3aGF0IGVhY2ggc3R1ZGVudCBhbnN3ZXJlZCBmb3IgdGhlIGN1cnJlbnRcbi8vIHF1ZXN0aW9uIGluIHZpZXcuXG5leHBvcnQgY29uc3QgZ2V0U3R1ZGVudEFuc3dlcnNGb3JDdXJyZW50UXVlc3Rpb24gPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IHN0dWRlbnRSZXNwb25zZXMgPSBnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdChzdGF0ZSk7XG4gIGlmICghc3R1ZGVudFJlc3BvbnNlcyB8fCBpc0N1cnJlbnRBc3Nlc3NtZW50U3VydmV5KHN0YXRlKSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IHF1ZXN0aW9uSW5kZXggPSBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMucXVlc3Rpb25JbmRleDtcbiAgbGV0IHN0dWRlbnRBbnN3ZXJzID0gW107XG5cbiAgLy8gRm9yIGVhY2ggc3R1ZGVudCwgbG9vayB1cCB0aGVpciByZXNwb25zZXMgdG8gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBhc3Nlc3NtZW50LlxuICBPYmplY3Qua2V5cyhzdHVkZW50UmVzcG9uc2VzKS5mb3JFYWNoKHN0dWRlbnRJZCA9PiB7XG4gICAgc3R1ZGVudElkID0gcGFyc2VJbnQoc3R1ZGVudElkLCAxMCk7XG4gICAgY29uc3Qgc3R1ZGVudE9iamVjdCA9IHN0dWRlbnRSZXNwb25zZXNbc3R1ZGVudElkXTtcbiAgICBjb25zdCBjdXJyZW50QXNzZXNzbWVudElkID0gc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLmFzc2Vzc21lbnRJZDtcbiAgICBsZXQgc3R1ZGVudEFzc2Vzc21lbnQgPVxuICAgICAgc3R1ZGVudE9iamVjdC5yZXNwb25zZXNfYnlfYXNzZXNzbWVudFtjdXJyZW50QXNzZXNzbWVudElkXSB8fCB7fTtcblxuICAgIGNvbnN0IHJlc3BvbnNlc0FycmF5ID0gc3R1ZGVudEFzc2Vzc21lbnQubGV2ZWxfcmVzdWx0cyB8fCBbXTtcbiAgICBjb25zdCBxdWVzdGlvbiA9IHJlc3BvbnNlc0FycmF5W3F1ZXN0aW9uSW5kZXhdO1xuICAgIGlmIChxdWVzdGlvbikge1xuICAgICAgaWYgKHF1ZXN0aW9uLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NVUxUSSkge1xuICAgICAgICBzdHVkZW50QW5zd2Vycy5wdXNoKHtcbiAgICAgICAgICBpZDogc3R1ZGVudElkLFxuICAgICAgICAgIG5hbWU6IHN0dWRlbnRPYmplY3Quc3R1ZGVudF9uYW1lLFxuICAgICAgICAgIGFuc3dlcjogcXVlc3Rpb24uc3R1ZGVudF9yZXN1bHRcbiAgICAgICAgICAgID8gaW5kZXhlc1RvQW5zd2VyU3RyaW5nKHF1ZXN0aW9uLnN0dWRlbnRfcmVzdWx0KVxuICAgICAgICAgICAgOiAnLScsXG4gICAgICAgICAgY29ycmVjdDogcXVlc3Rpb24uc3RhdHVzID09PSAnY29ycmVjdCcsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzdHVkZW50QW5zd2Vycztcbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3RzLCBlYWNoIHJlcHJlc2VudGluZyBhIGZyZWUgcmVzcG9uc2UgcXVlc3Rpb25cbiAqIGFuZCBhbGwgdGhlIHN0dWRlbnRzJyByZXNwb25zZXMgdG8gdGhhdCBxdWVzdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEFzc2Vzc21lbnRzRnJlZVJlc3BvbnNlUmVzdWx0cyA9IHN0YXRlID0+IHtcbiAgY29uc3QgYXNzZXNzbWVudHNTdHJ1Y3R1cmUgPSBnZXRDdXJyZW50QXNzZXNzbWVudFF1ZXN0aW9ucyhzdGF0ZSk7XG4gIGlmICghYXNzZXNzbWVudHNTdHJ1Y3R1cmUpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvLyBJbml0aWFsaXplIGFuIG9iamVjdCBmb3IgZWFjaCBxdWVzdGlvbiwgd2l0aCB0aGUgcXVlc3Rpb25UZXh0IGFuZFxuICAvLyBhbiBlbXB0eSBhcnJheSBvZiByZXNwb25zZXMuXG4gIGNvbnN0IHF1ZXN0aW9uRGF0YSA9IGFzc2Vzc21lbnRzU3RydWN0dXJlLnF1ZXN0aW9ucztcbiAgY29uc3QgcXVlc3Rpb25zQW5kUmVzdWx0cyA9IHF1ZXN0aW9uRGF0YVxuICAgIC5maWx0ZXIocXVlc3Rpb24gPT4gcXVlc3Rpb24udHlwZSA9PT0gUXVlc3Rpb25UeXBlLkZSRUVfUkVTUE9OU0UpXG4gICAgLm1hcChxdWVzdGlvbiA9PiAoe1xuICAgICAgcXVlc3Rpb25UZXh0OiBxdWVzdGlvbi5xdWVzdGlvbl90ZXh0LFxuICAgICAgcXVlc3Rpb25OdW1iZXI6IHF1ZXN0aW9uLnF1ZXN0aW9uX2luZGV4ICsgMSxcbiAgICAgIHJlc3BvbnNlczogW10sXG4gICAgfSkpO1xuXG4gIGNvbnN0IHN0dWRlbnRSZXNwb25zZXMgPSBnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdChzdGF0ZSk7XG5cbiAgbGV0IGN1cnJlbnRTdHVkZW50c0lkcyA9IE9iamVjdC5rZXlzKHN0dWRlbnRSZXNwb25zZXMpO1xuICAvLyBGaWx0ZXIgYnkgY3VycmVudCBzZWxlY3RlZCBzdHVkZW50LlxuICBpZiAoc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN0dWRlbnRJZCAhPT0gQUxMX1NUVURFTlRfRklMVEVSKSB7XG4gICAgaWYgKCFjdXJyZW50U3R1ZGVudEhhc1Jlc3BvbnNlcyhzdGF0ZSkpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudFN0dWRlbnRzSWRzID0gW3N0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5zdHVkZW50SWRdO1xuICAgIH1cbiAgfVxuXG4gIC8vIEZvciBlYWNoIHN0dWRlbnQsIGxvb2sgdXAgdGhlaXIgcmVzcG9uc2VzIHRvIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgYXNzZXNzbWVudC5cbiAgY3VycmVudFN0dWRlbnRzSWRzLmZvckVhY2goc3R1ZGVudElkID0+IHtcbiAgICBzdHVkZW50SWQgPSBwYXJzZUludChzdHVkZW50SWQsIDEwKTtcbiAgICBjb25zdCBzdHVkZW50T2JqZWN0ID0gc3R1ZGVudFJlc3BvbnNlc1tzdHVkZW50SWRdO1xuICAgIGNvbnN0IGN1cnJlbnRBc3Nlc3NtZW50SWQgPSBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkO1xuICAgIGxldCBzdHVkZW50QXNzZXNzbWVudCA9XG4gICAgICBzdHVkZW50T2JqZWN0LnJlc3BvbnNlc19ieV9hc3Nlc3NtZW50W2N1cnJlbnRBc3Nlc3NtZW50SWRdIHx8IHt9O1xuXG4gICAgY29uc3QgcmVzcG9uc2VzQXJyYXkgPSBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzIHx8IFtdO1xuICAgIHJlc3BvbnNlc0FycmF5XG4gICAgICAuZmlsdGVyKHJlc3VsdCA9PiByZXN1bHQudHlwZSA9PT0gUXVlc3Rpb25UeXBlLkZSRUVfUkVTUE9OU0UpXG4gICAgICAuZm9yRWFjaCgocmVzcG9uc2UsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmIChxdWVzdGlvbnNBbmRSZXN1bHRzW2luZGV4XSkge1xuICAgICAgICAgIHF1ZXN0aW9uc0FuZFJlc3VsdHNbaW5kZXhdLnJlc3BvbnNlcy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBzdHVkZW50SWQsXG4gICAgICAgICAgICBuYW1lOiBzdHVkZW50T2JqZWN0LnN0dWRlbnRfbmFtZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZS5zdHVkZW50X3Jlc3VsdCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0pO1xuICByZXR1cm4gcXVlc3Rpb25zQW5kUmVzdWx0cztcbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3RzLCBlYWNoIG9mIHR5cGUgZnJlZVJlc3BvbnNlUXVlc3Rpb25zUHJvcFR5cGVcbiAqIGluZGljYXRpbmcgdGhlIHF1ZXN0aW9uIGFuZCByZXNwb25zZXMgdG8gZnJlZSByZXNwb25zZSBxdWVzdGlvbnMgZm9yIHRoZVxuICogY3VycmVudGx5IHNlbGVjdGVkIHN1cnZleS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFN1cnZleUZyZWVSZXNwb25zZVF1ZXN0aW9ucyA9IHN0YXRlID0+IHtcbiAgY29uc3Qgc3VydmV5c1N0cnVjdHVyZSA9XG4gICAgc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN1cnZleXNCeVNjcmlwdFtzdGF0ZS51bml0U2VsZWN0aW9uLnNjcmlwdElkXSB8fFxuICAgIHt9O1xuICBjb25zdCBjdXJyZW50U3VydmV5ID0gc3VydmV5c1N0cnVjdHVyZVtzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkXTtcbiAgaWYgKCFjdXJyZW50U3VydmV5KSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgcXVlc3Rpb25EYXRhID0gY3VycmVudFN1cnZleS5sZXZlbGdyb3VwX3Jlc3VsdHM7XG5cbiAgcmV0dXJuIHF1ZXN0aW9uRGF0YVxuICAgIC5maWx0ZXIocXVlc3Rpb24gPT4gcXVlc3Rpb24udHlwZSA9PT0gU3VydmV5UXVlc3Rpb25UeXBlLkZSRUVfUkVTUE9OU0UpXG4gICAgLm1hcChxdWVzdGlvbiA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBxdWVzdGlvblRleHQ6IHF1ZXN0aW9uLnF1ZXN0aW9uLFxuICAgICAgICBxdWVzdGlvbk51bWJlcjogcXVlc3Rpb24ucXVlc3Rpb25faW5kZXggKyAxLFxuICAgICAgICBhbnN3ZXJzOiBxdWVzdGlvbi5yZXN1bHRzLm1hcCgocmVzcG9uc2UsIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtpbmRleDogaW5kZXgsIHJlc3BvbnNlOiByZXNwb25zZS5yZXN1bHR9O1xuICAgICAgICB9KSxcbiAgICAgIH07XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cywgZWFjaCBvZiB0eXBlIG11bHRpcGxlQ2hvaWNlRGF0YVByb3BUeXBlXG4gKiBpbmRpY2F0aW5nIGEgbXVsdGlwbGUgY2hvaWNlIHF1ZXN0aW9uIGFuZCB0aGUgcGVyY2VudCBvZiByZXNwb25zZXMgcmVjZWl2ZWRcbiAqIGZvciBlYWNoIGFuc3dlci5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldE11bHRpcGxlQ2hvaWNlU3VydmV5UmVzdWx0cyA9IHN0YXRlID0+IHtcbiAgY29uc3Qgc3VydmV5c1N0cnVjdHVyZSA9XG4gICAgc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN1cnZleXNCeVNjcmlwdFtzdGF0ZS51bml0U2VsZWN0aW9uLnNjcmlwdElkXSB8fFxuICAgIHt9O1xuICBjb25zdCBjdXJyZW50U3VydmV5ID0gc3VydmV5c1N0cnVjdHVyZVtzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkXTtcbiAgaWYgKCFjdXJyZW50U3VydmV5KSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgcXVlc3Rpb25EYXRhID0gY3VycmVudFN1cnZleS5sZXZlbGdyb3VwX3Jlc3VsdHM7XG5cbiAgLy8gRmlsdGVyIHRvIG11bHRpcGxlIGNob2ljZSBxdWVzdGlvbnMuXG4gIHJldHVybiBxdWVzdGlvbkRhdGFcbiAgICAuZmlsdGVyKHF1ZXN0aW9uID0+IHF1ZXN0aW9uLnR5cGUgPT09IFN1cnZleVF1ZXN0aW9uVHlwZS5NVUxUSSlcbiAgICAubWFwKChxdWVzdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgdG90YWwgcmVzcG9uc2VzIGZvciBlYWNoIGFuc3dlci5cblxuICAgICAgY29uc3QgdG90YWxBbnN3ZXJlZCA9IHF1ZXN0aW9uLnJlc3VsdHMubGVuZ3RoO1xuICAgICAgLy8gRWFjaCB2YWx1ZSBvZiBhbnN3ZXJUb3RhbHMgcmVwcmVzZW50cyB0aGUgbnVtYmVyIG9mIHJlc3BvbnNlcyByZWNlaXZlZCBmb3JcbiAgICAgIC8vIHRoZSBhbnN3ZXIgaW4gdGhhdCBpbmRleC5cbiAgICAgIGNvbnN0IGFuc3dlclRvdGFscyA9IFtdO1xuICAgICAgLy8gSW5pdGlhbGl6ZSBlYWNoIGFuc3dlciB0byAwIHJlc3BvbnNlcy5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVlc3Rpb24uYW5zd2VyX3RleHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFuc3dlclRvdGFsc1tpXSA9IDA7XG4gICAgICB9XG4gICAgICBsZXQgbm90QW5zd2VyZWQgPSAwO1xuXG4gICAgICAvLyBGb3IgZWFjaCByZXNwb25zZSwgYWRkIDEgdG8gdGhlIGNvcnJlY3QgdmFsdWUgaW4gYW5zd2VyVG90YWxzLlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbEFuc3dlcmVkOyBpKyspIHtcbiAgICAgICAgY29uc3QgYW5zd2VySW5kZXggPSBxdWVzdGlvbi5yZXN1bHRzW2ldLmFuc3dlcl9pbmRleDtcbiAgICAgICAgaWYgKGFuc3dlckluZGV4ID49IDApIHtcbiAgICAgICAgICBhbnN3ZXJUb3RhbHNbYW5zd2VySW5kZXhdKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbm90QW5zd2VyZWQrKztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogaW5kZXgsXG4gICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvbi5xdWVzdGlvbixcbiAgICAgICAgcXVlc3Rpb25OdW1iZXI6IHF1ZXN0aW9uLnF1ZXN0aW9uX2luZGV4ICsgMSxcbiAgICAgICAgYW5zd2VyczogcXVlc3Rpb24uYW5zd2VyX3RleHRzLm1hcCgoYW5zd2VyLCBpbmRleCkgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtdWx0aXBsZUNob2ljZU9wdGlvbjogQU5TV0VSX0xFVFRFUlNbaW5kZXhdLFxuICAgICAgICAgICAgcGVyY2VudEFuc3dlcmVkOiBNYXRoLmZsb29yKFxuICAgICAgICAgICAgICAoYW5zd2VyVG90YWxzW2luZGV4XSAvIHRvdGFsQW5zd2VyZWQpICogMTAwXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdGV4dDogYW5zd2VyLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBub3RBbnN3ZXJlZDogTWF0aC5mbG9vcigobm90QW5zd2VyZWQgLyB0b3RhbEFuc3dlcmVkKSAqIDEwMCksXG4gICAgICAgIHRvdGFsQW5zd2VyZWQ6IHRvdGFsQW5zd2VyZWQsXG4gICAgICB9O1xuICAgIH0pO1xufTtcblxuLy8gUmV0dXJucyBhIGJvb2xlYW4uICBUaGUgc2VsZWN0b3IgZnVuY3Rpb24gY2hlY2tzIGlmIHRoZSBjdXJyZW50IGFzc2Vzc21lbnQgSWRcbi8vIGlzIGluIHRoZSBzdXJ2ZXlzIHN0cnVjdHVyZS5cbmV4cG9ydCBjb25zdCBpc0N1cnJlbnRBc3Nlc3NtZW50U3VydmV5ID0gc3RhdGUgPT4ge1xuICBjb25zdCBzY3JpcHRJZCA9IHN0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWQ7XG4gIGNvbnN0IHN1cnZleXNTdHJ1Y3R1cmUgPVxuICAgIHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5zdXJ2ZXlzQnlTY3JpcHRbc2NyaXB0SWRdIHx8IHt9O1xuXG4gIGNvbnN0IGN1cnJlbnRBc3Nlc3NtZW50SWQgPSBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkO1xuICByZXR1cm4gT2JqZWN0LmtleXMoc3VydmV5c1N0cnVjdHVyZSkuaW5jbHVkZXMoY3VycmVudEFzc2Vzc21lbnRJZCArICcnKTtcbn07XG5cbi8qKiBHZXQgZGF0YSBmb3Igc3R1ZGVudHMgYXNzZXNzbWVudHMgbXVsdGlwbGUgY2hvaWNlIHRhYmxlXG4gKiBSZXR1cm5zIGFuIG9iamVjdCwgZWFjaCBvZiB0eXBlIHN0dWRlbnRPdmVydmlld0RhdGFQcm9wVHlwZSB3aXRoXG4gKiB0aGUgdmFsdWUgb2YgdGhlIGtleSBiZWluZyBhbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgbnVtYmVyXG4gKiBvZiBtdWx0aXBsZSBjaG9pY2UgYW5zd2VyZWQgY29ycmVjdGx5IGJ5IGEgc3R1ZGVudCwgdG90YWwgbnVtYmVyXG4gKiBvZiBtdWx0aXBsZSBjaG9pY2Ugb3B0aW9ucywgY2hlY2sgZm9yIGlmIHRoZSBzdHVkZW50IHN1Ym1pdHRlZCB0aGVcbiAqIGFzc2Vzc21lbnQgYW5kIGEgdGltZXN0YW1wIHRoYXQgaW5kaWNhdGVzIHdoZW4gYSBzdHVkZW50IHN1Ym1pdHRlZFxuICogdGhlIGFzc2Vzc21lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTdHVkZW50c01DYW5kTWF0Y2hTdW1tYXJ5Rm9yQ3VycmVudEFzc2Vzc21lbnQgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IHN0dWRlbnRSZXNwb25zZXMgPSBnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdChzdGF0ZSk7XG4gIGlmICghc3R1ZGVudFJlc3BvbnNlcykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8vIEdldCBhIHNldCBvZiBhbGwgc3R1ZGVudHMgZnJvbSB0ZWFjaGVyU2VjdGlvbnNSZWR1eC5cbiAgbGV0IGFsbFN0dWRlbnRzQnlJZHMgPSB7fTtcbiAgc3RhdGUudGVhY2hlclNlY3Rpb25zLnNlbGVjdGVkU3R1ZGVudHMuZm9yRWFjaChzdHVkZW50ID0+IHtcbiAgICBhbGxTdHVkZW50c0J5SWRzW3N0dWRlbnQuaWRdID0ge1xuICAgICAgc3R1ZGVudF9uYW1lOiBzdHVkZW50Lm5hbWUsXG4gICAgICByZXNwb25zZXNfYnlfYXNzZXNzbWVudDoge30sXG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gQ29tYmluZSB0aGUgbGlzdCBvZiBhbGwgc3R1ZGVudHMgd2l0aCB0aGUgbGlzdCBvZiBzdHVkZW50IHJlc3BvbnNlcy5cbiAgYWxsU3R1ZGVudHNCeUlkcyA9IHtcbiAgICAuLi5hbGxTdHVkZW50c0J5SWRzLFxuICAgIC4uLnN0dWRlbnRSZXNwb25zZXMsXG4gIH07XG5cbiAgbGV0IGN1cnJlbnRTdHVkZW50c0lkcyA9IE9iamVjdC5rZXlzKGFsbFN0dWRlbnRzQnlJZHMpO1xuICAvLyBGaWx0ZXIgYnkgY3VycmVudCBzZWxlY3RlZCBzdHVkZW50LlxuICBpZiAoc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN0dWRlbnRJZCAhPT0gQUxMX1NUVURFTlRfRklMVEVSKSB7XG4gICAgY3VycmVudFN0dWRlbnRzSWRzID0gW3N0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5zdHVkZW50SWRdO1xuICB9XG5cbiAgY29uc3Qgc3R1ZGVudHNTdW1tYXJ5QXJyYXkgPSBjdXJyZW50U3R1ZGVudHNJZHMubWFwKHN0dWRlbnRJZCA9PiB7XG4gICAgc3R1ZGVudElkID0gcGFyc2VJbnQoc3R1ZGVudElkLCAxMCk7XG4gICAgY29uc3Qgc3R1ZGVudHNPYmplY3QgPSBhbGxTdHVkZW50c0J5SWRzW3N0dWRlbnRJZF07XG4gICAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gICAgY29uc3Qgc3R1ZGVudHNBc3Nlc3NtZW50ID1cbiAgICAgIHN0dWRlbnRzT2JqZWN0LnJlc3BvbnNlc19ieV9hc3Nlc3NtZW50W2N1cnJlbnRBc3Nlc3NtZW50SWRdO1xuXG4gICAgLy8gSWYgdGhlIHN0dWRlbnQgaGFzIG5vdCBzdWJtaXR0ZWQgdGhpcyBhc3Nlc3NtZW50XG4gICAgaWYgKCFzdHVkZW50c0Fzc2Vzc21lbnQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBzdHVkZW50SWQsXG4gICAgICAgIG5hbWU6IHN0dWRlbnRzT2JqZWN0LnN0dWRlbnRfbmFtZSxcbiAgICAgICAgaXNTdWJtaXR0ZWQ6IGZhbHNlLFxuICAgICAgICBpblByb2dyZXNzOiBmYWxzZSxcbiAgICAgICAgc3VibWlzc2lvblRpbWVTdGFtcDogbm90U3RhcnRlZEZha2VUaW1lc3RhbXAsXG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBUcmFuc2Zvcm0gdGhhdCBkYXRhIGludG8gd2hhdCB3ZSBuZWVkIGZvciB0aGlzIHBhcnRpY3VsYXIgdGFibGUsIGluIHRoaXMgY2FzZVxuICAgIC8vIGl0IGlzIHRoZSBzdHJ1Y3R1cmUgc3R1ZGVudE92ZXJ2aWV3RGF0YVByb3BUeXBlXG5cbiAgICAvKiBJbiBwcm9ncmVzcyBhc3Nlc3NtZW50cyBoYXZlIGEgdGltZXN0YW1wIGZyb20gdGhlIHNlcnZlciBpbmRpY2F0aW5nIHdoZW4gdGhlIHN0dWRlbnQgbGFzdCB3b3JrZWQgb24gdGhlIGFzc2Vzc21lbnQuIFdlIGRvbid0IGRpc3BsYXkgdGhhdCB0aW1lc3RhbXAgaW4gdGhlIFN1Ym1pc3Npb25TdGF0dXNBc3Nlc3NtZW50c1RhYmxlLCBidXQgd2UgdXNlIGl0IGhlcmUgdG8gY2hlY2sgaWYgdGhlIGFzc2Vzc21lbnQgaGFzIGJlZW4gc3RhcnRlZC4gKi9cbiAgICBjb25zdCBpblByb2dyZXNzID1cbiAgICAgIHN0dWRlbnRzQXNzZXNzbWVudC50aW1lc3RhbXAgJiYgIXN0dWRlbnRzQXNzZXNzbWVudC5zdWJtaXR0ZWQ7XG4gICAgY29uc3Qgc3VibWlzc2lvblRpbWVTdGFtcCA9IGluUHJvZ3Jlc3NcbiAgICAgID8gaW5Qcm9ncmVzc0Zha2VUaW1lc3RhbXBcbiAgICAgIDogbmV3IERhdGUoc3R1ZGVudHNBc3Nlc3NtZW50LnRpbWVzdGFtcCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHN0dWRlbnRJZCxcbiAgICAgIG5hbWU6IHN0dWRlbnRzT2JqZWN0LnN0dWRlbnRfbmFtZSxcbiAgICAgIG51bU11bHRpcGxlQ2hvaWNlQ29ycmVjdDogc3R1ZGVudHNBc3Nlc3NtZW50Lm11bHRpX2NvcnJlY3QsXG4gICAgICBudW1NdWx0aXBsZUNob2ljZTogc3R1ZGVudHNBc3Nlc3NtZW50Lm11bHRpX2NvdW50LFxuICAgICAgbnVtTWF0Y2hDb3JyZWN0OiBzdHVkZW50c0Fzc2Vzc21lbnQubWF0Y2hfY29ycmVjdCxcbiAgICAgIG51bU1hdGNoOiBzdHVkZW50c0Fzc2Vzc21lbnQubWF0Y2hfY291bnQsXG4gICAgICBpblByb2dyZXNzOiBpblByb2dyZXNzLFxuICAgICAgaXNTdWJtaXR0ZWQ6IHN0dWRlbnRzQXNzZXNzbWVudC5zdWJtaXR0ZWQsXG4gICAgICBzdWJtaXNzaW9uVGltZVN0YW1wOiBzdWJtaXNzaW9uVGltZVN0YW1wLFxuICAgICAgdXJsOiBzdHVkZW50c0Fzc2Vzc21lbnQudXJsLFxuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiBzdHVkZW50c1N1bW1hcnlBcnJheTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge2FycmF5fSBvZiBvYmplY3RzIHdpdGgga2V5cyBjb3JyZXNwb25kaW5nIHRvIGNvbHVtbnNcbiAqIG9mIENTViB0byBkb3dubG9hZC4gQ29sdW1ucyBhcmUgZGVmaW5lZCBhcyBDU1ZfU1VCTUlTU0lPTl9TVEFUVVNfSEVBREVSUyBpbiBTdWJtaXNzaW9uU3RhdHVzQXNzZXNzbWVudHNDb250YWluZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEV4cG9ydGFibGVTdWJtaXNzaW9uU3RhdHVzRGF0YSA9IHN0YXRlID0+IHtcbiAgbGV0IHN1bW1hcnlTdHVkZW50U3RhdHVzID0gW107XG4gIGNvbnN0IHN0dWRlbnRTdGF0dXMgPSBnZXRTdHVkZW50c01DYW5kTWF0Y2hTdW1tYXJ5Rm9yQ3VycmVudEFzc2Vzc21lbnQoc3RhdGUpO1xuXG4gIHN0dWRlbnRTdGF0dXMuZm9yRWFjaChzdHVkZW50ID0+IHtcbiAgICBzdW1tYXJ5U3R1ZGVudFN0YXR1cy5wdXNoKHtcbiAgICAgIHN0dWRlbnROYW1lOiBzdHVkZW50Lm5hbWUsXG4gICAgICBudW1NdWx0aXBsZUNob2ljZUNvcnJlY3Q6IHN0dWRlbnQubnVtTXVsdGlwbGVDaG9pY2VDb3JyZWN0LFxuICAgICAgbnVtTXVsdGlwbGVDaG9pY2U6IHN0dWRlbnQubnVtTXVsdGlwbGVDaG9pY2UsXG4gICAgICBudW1NYXRjaENvcnJlY3Q6IHN0dWRlbnQubnVtTWF0Y2hDb3JyZWN0LFxuICAgICAgbnVtTWF0Y2g6IHN0dWRlbnQubnVtTWF0Y2gsXG4gICAgICBzdWJtaXNzaW9uVGltZXN0YW1wOiBzdHVkZW50LnN1Ym1pc3Npb25UaW1lU3RhbXAsXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gc3VtbWFyeVN0dWRlbnRTdGF0dXM7XG59O1xuXG4vLyBSZXR1cm5zIGFuIGFycmF5IG9mIG9iamVjdHMgY29ycmVzcG9uZGluZyB0byBlYWNoIHF1ZXN0aW9uIGFuZCB0aGVcbi8vIG51bWJlciBvZiBzdHVkZW50cyB3aG8gYW5zd2VyZWQgZWFjaCBhbnN3ZXIuXG5leHBvcnQgY29uc3QgZ2V0TXVsdGlwbGVDaG9pY2VTZWN0aW9uU3VtbWFyeSA9IHN0YXRlID0+IHtcbiAgLy8gU2V0IHVwIGFuIGluaXRpYWwgc3RydWN0dXJlIGJhc2VkIG9uIHRoZSBtdWx0aXBsZSBjaG9pY2UgYXNzZXNzbWVudCBxdWVzdGlvbnMuXG4gIC8vIEluaXRpYWxpemUgbnVtQW5zd2VyZWQgZm9yIGVhY2ggYW5zd2VyIHRvIDAsIGFuZCB0b3RhbEFuc3dlcmVkIGZvciBlYWNoXG4gIC8vIHF1ZXN0aW9uIHRvIDAuXG4gIGNvbnN0IGFzc2Vzc21lbnRzU3RydWN0dXJlID0gZ2V0Q3VycmVudEFzc2Vzc21lbnRRdWVzdGlvbnMoc3RhdGUpO1xuICBpZiAoIWFzc2Vzc21lbnRzU3RydWN0dXJlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IHF1ZXN0aW9uRGF0YSA9IGFzc2Vzc21lbnRzU3RydWN0dXJlLnF1ZXN0aW9ucztcbiAgY29uc3QgbXVsdGlRdWVzdGlvbnMgPSBxdWVzdGlvbkRhdGEuZmlsdGVyKFxuICAgIHF1ZXN0aW9uID0+IHF1ZXN0aW9uLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NVUxUSVxuICApO1xuICBjb25zdCByZXN1bHRzID0gbXVsdGlRdWVzdGlvbnMubWFwKHF1ZXN0aW9uID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHF1ZXN0aW9uLmxldmVsX2lkLFxuICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uLnF1ZXN0aW9uX3RleHQsXG4gICAgICBxdWVzdGlvbk51bWJlcjogcXVlc3Rpb24ucXVlc3Rpb25faW5kZXggKyAxLFxuICAgICAgYW5zd2VyczogcXVlc3Rpb24uYW5zd2Vycy5tYXAoKGFuc3dlciwgaW5kZXgpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtdWx0aXBsZUNob2ljZU9wdGlvbjogQU5TV0VSX0xFVFRFUlNbaW5kZXhdLFxuICAgICAgICAgIGlzQ29ycmVjdDogYW5zd2VyLmNvcnJlY3QsXG4gICAgICAgICAgbnVtQW5zd2VyZWQ6IDAsXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHRvdGFsQW5zd2VyZWQ6IDAsXG4gICAgICBub3RBbnN3ZXJlZDogMCxcbiAgICB9O1xuICB9KTtcblxuICAvLyBDYWxjdWxhdGUgdGhlIG51bWJlciBvZiBzdHVkZW50cyB3aG8gYW5zd2VyZWQgZWFjaCBvcHRpb24gYW5kIGZpbGxcbiAgLy8gaW4gdGhlIGluaXRpYWxpemVkIHJlc3VsdHMgc3RydWN0dXJlIGFib3ZlLlxuICBjb25zdCBzdHVkZW50UmVzcG9uc2VzID0gZ2V0QXNzZXNzbWVudFJlc3BvbnNlc0ZvckN1cnJlbnRTY3JpcHQoc3RhdGUpO1xuICBpZiAoIXN0dWRlbnRSZXNwb25zZXMpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgT2JqZWN0LmtleXMoc3R1ZGVudFJlc3BvbnNlcykuZm9yRWFjaChzdHVkZW50SWQgPT4ge1xuICAgIHN0dWRlbnRJZCA9IHBhcnNlSW50KHN0dWRlbnRJZCwgMTApO1xuICAgIGNvbnN0IHN0dWRlbnRPYmplY3QgPSBzdHVkZW50UmVzcG9uc2VzW3N0dWRlbnRJZF07XG4gICAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gICAgY29uc3Qgc3R1ZGVudEFzc2Vzc21lbnQgPVxuICAgICAgc3R1ZGVudE9iamVjdC5yZXNwb25zZXNfYnlfYXNzZXNzbWVudFtjdXJyZW50QXNzZXNzbWVudElkXSB8fCB7fTtcblxuICAgIGNvbnN0IHN0dWRlbnRSZXN1bHRzID0gc3R1ZGVudEFzc2Vzc21lbnQubGV2ZWxfcmVzdWx0cyB8fCBbXTtcbiAgICBjb25zdCBtdWx0aVJlc3VsdHMgPSBzdHVkZW50UmVzdWx0cy5maWx0ZXIoXG4gICAgICByZXN1bHQgPT4gcmVzdWx0LnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NVUxUSVxuICAgICk7XG4gICAgbXVsdGlSZXN1bHRzLmZvckVhY2goKHJlc3BvbnNlLCBxdWVzdGlvbkluZGV4KSA9PiB7XG4gICAgICAvLyBzdHVkZW50X3Jlc3VsdCBpcyBlaXRoZXIgW10gYW5kIG5vdCBhbnN3ZXJlZCBvciBhIHNlcmllcyBvZiBsZXR0ZXJzXG4gICAgICAvLyB0aGF0IHRoZSBzdHVkZW50IHNlbGVjdGVkLlxuICAgICAgcmVzdWx0c1txdWVzdGlvbkluZGV4XS50b3RhbEFuc3dlcmVkKys7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAndW5zdWJtaXR0ZWQnKSB7XG4gICAgICAgIHJlc3VsdHNbcXVlc3Rpb25JbmRleF0ubm90QW5zd2VyZWQrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIChyZXNwb25zZS5zdHVkZW50X3Jlc3VsdCB8fCBbXSkuZm9yRWFjaChhbnN3ZXIgPT4ge1xuICAgICAgICAgIHJlc3VsdHNbcXVlc3Rpb25JbmRleF0uYW5zd2Vyc1thbnN3ZXJdLm51bUFuc3dlcmVkKys7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gcmVzdWx0cztcbn07XG5cbi8vIFJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cyBjb3JyZXNwb25kaW5nIHRvIGVhY2ggbWF0Y2ggcXVlc3Rpb24gYW5kIHRoZVxuLy8gbnVtYmVyIG9mIHN0dWRlbnRzIHdobyBhbnN3ZXJlZCBlYWNoIGFuc3dlci5cbmV4cG9ydCBjb25zdCBnZXRNYXRjaFNlY3Rpb25TdW1tYXJ5ID0gc3RhdGUgPT4ge1xuICBjb25zdCBhc3Nlc3NtZW50c1N0cnVjdHVyZSA9IGdldEN1cnJlbnRBc3Nlc3NtZW50UXVlc3Rpb25zKHN0YXRlKTtcbiAgaWYgKCFhc3Nlc3NtZW50c1N0cnVjdHVyZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBxdWVzdGlvbkRhdGEgPSBhc3Nlc3NtZW50c1N0cnVjdHVyZS5xdWVzdGlvbnM7XG4gIGNvbnN0IG1hdGNoUXVlc3Rpb25zID0gcXVlc3Rpb25EYXRhLmZpbHRlcihcbiAgICBxdWVzdGlvbiA9PiBxdWVzdGlvbi50eXBlID09PSBRdWVzdGlvblR5cGUuTUFUQ0hcbiAgKTtcblxuICBjb25zdCByZXN1bHRzID0gbWF0Y2hRdWVzdGlvbnMubWFwKHF1ZXN0aW9uID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHF1ZXN0aW9uLmxldmVsX2lkLFxuICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uLnF1ZXN0aW9uLFxuICAgICAgcXVlc3Rpb25OdW1iZXI6IHF1ZXN0aW9uLnF1ZXN0aW9uX2luZGV4ICsgMSxcbiAgICAgIG9wdGlvbnM6IHF1ZXN0aW9uLm9wdGlvbnMubWFwKChvcHRpb24sIGluZGV4TykgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG9wdGlvbjogcXVlc3Rpb24ub3B0aW9uc1tpbmRleE9dLnRleHQsXG4gICAgICAgICAgaWQ6IGluZGV4TyxcbiAgICAgICAgICB0b3RhbEFuc3dlcmVkOiAwLFxuICAgICAgICAgIG5vdEFuc3dlcmVkOiAwLFxuICAgICAgICAgIGFuc3dlcnM6IHF1ZXN0aW9uLmFuc3dlcnMubWFwKChhbnN3ZXIsIGluZGV4QSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgYW5zd2VyOiBxdWVzdGlvbi5hbnN3ZXJzW2luZGV4QV0udGV4dCxcbiAgICAgICAgICAgICAgaXNDb3JyZWN0OiBpbmRleEEgPT09IGluZGV4TyxcbiAgICAgICAgICAgICAgbnVtQW5zd2VyZWQ6IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSBudW1iZXIgb2Ygc3R1ZGVudHMgd2hvIGFuc3dlcmVkIGVhY2ggb3B0aW9uIGFuZCBmaWxsXG4gIC8vIGluIHRoZSBpbml0aWFsaXplZCByZXN1bHRzIHN0cnVjdHVyZSBhYm92ZS5cbiAgY29uc3Qgc3R1ZGVudFJlc3BvbnNlcyA9IGdldEFzc2Vzc21lbnRSZXNwb25zZXNGb3JDdXJyZW50U2NyaXB0KHN0YXRlKTtcbiAgaWYgKCFzdHVkZW50UmVzcG9uc2VzKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgT2JqZWN0LmtleXMoc3R1ZGVudFJlc3BvbnNlcykuZm9yRWFjaChzdHVkZW50SWQgPT4ge1xuICAgIHN0dWRlbnRJZCA9IHBhcnNlSW50KHN0dWRlbnRJZCwgMTApO1xuICAgIGNvbnN0IHN0dWRlbnRPYmplY3QgPSBzdHVkZW50UmVzcG9uc2VzW3N0dWRlbnRJZF07XG4gICAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gICAgY29uc3Qgc3R1ZGVudEFzc2Vzc21lbnQgPVxuICAgICAgc3R1ZGVudE9iamVjdC5yZXNwb25zZXNfYnlfYXNzZXNzbWVudFtjdXJyZW50QXNzZXNzbWVudElkXSB8fCB7fTtcblxuICAgIGNvbnN0IHN0dWRlbnRSZXN1bHRzID0gc3R1ZGVudEFzc2Vzc21lbnQubGV2ZWxfcmVzdWx0cyB8fCBbXTtcbiAgICBjb25zdCBtYXRjaFJlc3VsdHMgPSBzdHVkZW50UmVzdWx0cy5maWx0ZXIoXG4gICAgICByZXN1bHQgPT4gcmVzdWx0LnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NQVRDSFxuICAgICk7XG5cbiAgICBtYXRjaFJlc3VsdHMuZm9yRWFjaCgocmVzcG9uc2UsIHF1ZXN0aW9uSW5kZXgpID0+IHtcbiAgICAgIChyZXNwb25zZS5zdHVkZW50X3Jlc3VsdCB8fCBbXSkuZm9yRWFjaCgoYW5zd2VyLCBpbmRleCkgPT4ge1xuICAgICAgICByZXN1bHRzW3F1ZXN0aW9uSW5kZXhdLm9wdGlvbnNbaW5kZXhdLnRvdGFsQW5zd2VyZWQrKztcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c1tpbmRleF0gPT09ICd1bnN1Ym1pdHRlZCcpIHtcbiAgICAgICAgICByZXN1bHRzW3F1ZXN0aW9uSW5kZXhdLm9wdGlvbnNbaW5kZXhdLm5vdEFuc3dlcmVkKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0c1txdWVzdGlvbkluZGV4XS5vcHRpb25zW2luZGV4XS5hbnN3ZXJzW2Fuc3dlcl0ubnVtQW5zd2VyZWQrKztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHRzO1xufTtcblxuLyoqXG4gKiBTZWxlY3RvciBmdW5jdGlvbiB0aGF0IHRha2VzIGluIHRoZSBzdGF0ZS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRvdGFsIGNvdW50IG9mIHN0dWRlbnRzIHdobyBoYXZlIHN1Ym1pdHRlZFxuICogdGhlIGN1cnJlbnQgYXNzZXNzbWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvdW50U3VibWlzc2lvbnNGb3JDdXJyZW50QXNzZXNzbWVudCA9IHN0YXRlID0+IHtcbiAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gIGlmICghY3VycmVudEFzc2Vzc21lbnRJZCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGNvbnN0IGlzU3VydmV5ID0gaXNDdXJyZW50QXNzZXNzbWVudFN1cnZleShzdGF0ZSk7XG4gIGlmIChpc1N1cnZleSkge1xuICAgIGNvbnN0IHN1cnZleXNTdHJ1Y3R1cmUgPVxuICAgICAgc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN1cnZleXNCeVNjcmlwdFtzdGF0ZS51bml0U2VsZWN0aW9uLnNjcmlwdElkXSB8fFxuICAgICAge307XG4gICAgY29uc3QgY3VycmVudFN1cnZleSA9IHN1cnZleXNTdHJ1Y3R1cmVbY3VycmVudEFzc2Vzc21lbnRJZF07XG4gICAgaWYgKCFjdXJyZW50U3VydmV5IHx8IGN1cnJlbnRTdXJ2ZXkubGV2ZWxncm91cF9yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50U3VydmV5LmxldmVsZ3JvdXBfcmVzdWx0c1swXS5yZXN1bHRzLmxlbmd0aDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBzdHVkZW50UmVzcG9uc2VzID0gZ2V0QXNzZXNzbWVudFJlc3BvbnNlc0ZvckN1cnJlbnRTY3JpcHQoc3RhdGUpO1xuICAgIGxldCB0b3RhbFN1Ym1pc3Npb25zID0gMDtcbiAgICBPYmplY3QudmFsdWVzKHN0dWRlbnRSZXNwb25zZXMpLmZvckVhY2goc3R1ZGVudCA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIE9iamVjdC5rZXlzKHN0dWRlbnQucmVzcG9uc2VzX2J5X2Fzc2Vzc21lbnQpLmluY2x1ZGVzKFxuICAgICAgICAgIGN1cnJlbnRBc3Nlc3NtZW50SWQgKyAnJ1xuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgdG90YWxTdWJtaXNzaW9ucysrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0b3RhbFN1Ym1pc3Npb25zO1xuICB9XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHthcnJheX0gb2Ygb2JqZWN0cyB3aXRoIGtleXMgY29ycmVzcG9uZGluZyB0byBjb2x1bW5zXG4gKiBvZiBDU1YgdG8gZG93bmxvYWQuIENvbHVtbnMgYXJlIGRlZmluZWQgYXMgQ1NWX1NVUlZFWV9IRUFERVJTIGFuZCBDU1ZfQVNTRVNTTUVOVF9IRUFERVJTLlxuICovXG5leHBvcnQgY29uc3QgZ2V0RXhwb3J0YWJsZURhdGEgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IGlzU3VydmV5ID0gaXNDdXJyZW50QXNzZXNzbWVudFN1cnZleShzdGF0ZSk7XG4gIGlmIChpc1N1cnZleSkge1xuICAgIHJldHVybiBnZXRFeHBvcnRhYmxlU3VydmV5RGF0YShzdGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldEV4cG9ydGFibGVBc3Nlc3NtZW50RGF0YShzdGF0ZSk7XG4gIH1cbn07XG5cbi8qKlxuICogQHJldHVybnMge2FycmF5fSBvZiBvYmplY3RzIHdpdGgga2V5cyBjb3JyZXNwb25kaW5nIHRvIGNvbHVtbnNcbiAqIG9mIENTViB0byBkb3dubG9hZC4gQ29sdW1ucyBhcmUgbGVzc29uLCBxdWVzdGlvbk51bWJlciwgcXVlc3Rpb25UZXh0LCBhbnN3ZXIsIG51bWJlckFuc3dlcmVkLlxuICovXG5leHBvcnQgY29uc3QgZ2V0RXhwb3J0YWJsZVN1cnZleURhdGEgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRBc3Nlc3NtZW50SWQgPSBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkO1xuICBjb25zdCBzdXJ2ZXlzID1cbiAgICBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3VydmV5c0J5U2NyaXB0W3N0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRdIHx8XG4gICAge307XG4gIGNvbnN0IGN1cnJlbnRTdXJ2ZXkgPSBzdXJ2ZXlzW2N1cnJlbnRBc3Nlc3NtZW50SWRdO1xuICBsZXQgcmVzcG9uc2VzID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50U3VydmV5LmxldmVsZ3JvdXBfcmVzdWx0cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHF1ZXN0aW9uUmVzdWx0cyA9IGN1cnJlbnRTdXJ2ZXkubGV2ZWxncm91cF9yZXN1bHRzW2ldO1xuICAgIGNvbnN0IHJvd0Jhc2UgPSB7XG4gICAgICBsZXNzb246IGN1cnJlbnRTdXJ2ZXkubGVzc29uX25hbWUsXG4gICAgICBxdWVzdGlvbk51bWJlcjogcXVlc3Rpb25SZXN1bHRzLnF1ZXN0aW9uX2luZGV4ICsgMSxcbiAgICAgIHF1ZXN0aW9uVGV4dDogcXVlc3Rpb25SZXN1bHRzLnF1ZXN0aW9uLFxuICAgIH07XG5cbiAgICBpZiAocXVlc3Rpb25SZXN1bHRzLnR5cGUgPT09IFN1cnZleVF1ZXN0aW9uVHlwZS5NVUxUSSkge1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGFuc3dlckluZGV4ID0gMDtcbiAgICAgICAgYW5zd2VySW5kZXggPCBxdWVzdGlvblJlc3VsdHMuYW5zd2VyX3RleHRzLmxlbmd0aDtcbiAgICAgICAgYW5zd2VySW5kZXgrK1xuICAgICAgKSB7XG4gICAgICAgIHJlc3BvbnNlcy5wdXNoKHtcbiAgICAgICAgICAuLi5yb3dCYXNlLFxuICAgICAgICAgIGFuc3dlcjogcXVlc3Rpb25SZXN1bHRzLmFuc3dlcl90ZXh0c1thbnN3ZXJJbmRleF0sXG4gICAgICAgICAgbnVtYmVyQW5zd2VyZWQ6IHF1ZXN0aW9uUmVzdWx0cy5yZXN1bHRzLmZpbHRlcihcbiAgICAgICAgICAgIHJlc3VsdCA9PiByZXN1bHQuYW5zd2VyX2luZGV4ID09PSBhbnN3ZXJJbmRleFxuICAgICAgICAgICkubGVuZ3RoLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHF1ZXN0aW9uUmVzdWx0cy50eXBlID09PSBTdXJ2ZXlRdWVzdGlvblR5cGUuRlJFRV9SRVNQT05TRSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBxdWVzdGlvblJlc3VsdHMucmVzdWx0cy5sZW5ndGg7IGorKykge1xuICAgICAgICByZXNwb25zZXMucHVzaCh7XG4gICAgICAgICAgLi4ucm93QmFzZSxcbiAgICAgICAgICBhbnN3ZXI6IHF1ZXN0aW9uUmVzdWx0cy5yZXN1bHRzW2pdLnJlc3VsdCxcbiAgICAgICAgICBudW1iZXJBbnN3ZXJlZDogMSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3BvbnNlcztcbn07XG5cbi8qKlxuICogQHJldHVybnMge2FycmF5fSBvZiBvYmplY3RzIHdpdGgga2V5cyBjb3JyZXNwb25kaW5nIHRvIGNvbHVtbnNcbiAqIG9mIENTViB0byBkb3dubG9hZC4gQ29sdW1ucyBhcmUgc3R1ZGVudE5hbWUsIGxlc3NvbiwgdGltZXN0YW1wLCBxdWVzdGlvbiwgcmVzcG9uc2UsIGFuZCBjb3JyZWN0LlxuICovXG5leHBvcnQgY29uc3QgZ2V0RXhwb3J0YWJsZUFzc2Vzc21lbnREYXRhID0gc3RhdGUgPT4ge1xuICBsZXQgcmVzcG9uc2VzID0gW107XG4gIGNvbnN0IGN1cnJlbnRBc3Nlc3NtZW50SWQgPSBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkO1xuICBjb25zdCBzdHVkZW50UmVzcG9uc2VzID0gZ2V0QXNzZXNzbWVudFJlc3BvbnNlc0ZvckN1cnJlbnRTY3JpcHQoc3RhdGUpO1xuXG4gIE9iamVjdC5rZXlzKHN0dWRlbnRSZXNwb25zZXMpLmZvckVhY2goc3R1ZGVudElkID0+IHtcbiAgICBzdHVkZW50SWQgPSBwYXJzZUludChzdHVkZW50SWQsIDEwKTtcbiAgICBjb25zdCBzdHVkZW50T2JqZWN0ID0gc3R1ZGVudFJlc3BvbnNlc1tzdHVkZW50SWRdO1xuICAgIGNvbnN0IHN0dWRlbnRBc3Nlc3NtZW50ID1cbiAgICAgIHN0dWRlbnRPYmplY3QucmVzcG9uc2VzX2J5X2Fzc2Vzc21lbnRbY3VycmVudEFzc2Vzc21lbnRJZF07XG5cbiAgICBpZiAoc3R1ZGVudEFzc2Vzc21lbnQgJiYgc3R1ZGVudEFzc2Vzc21lbnQubGV2ZWxfcmVzdWx0cykge1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IHF1ZXN0aW9uSW5kZXggPSAwO1xuICAgICAgICBxdWVzdGlvbkluZGV4IDwgc3R1ZGVudEFzc2Vzc21lbnQubGV2ZWxfcmVzdWx0cy5sZW5ndGg7XG4gICAgICAgIHF1ZXN0aW9uSW5kZXgrK1xuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gc3R1ZGVudEFzc2Vzc21lbnQubGV2ZWxfcmVzdWx0c1txdWVzdGlvbkluZGV4XTtcbiAgICAgICAgcmVzcG9uc2VzLnB1c2goe1xuICAgICAgICAgIHN0dWRlbnROYW1lOiBzdHVkZW50T2JqZWN0LnN0dWRlbnRfbmFtZSxcbiAgICAgICAgICBsZXNzb246IHN0dWRlbnRBc3Nlc3NtZW50Lmxlc3NvbixcbiAgICAgICAgICB0aW1lc3RhbXA6IHN0dWRlbnRBc3Nlc3NtZW50LnRpbWVzdGFtcCxcbiAgICAgICAgICBxdWVzdGlvbjogcXVlc3Rpb25JbmRleCArIDEsXG4gICAgICAgICAgcmVzcG9uc2U6XG4gICAgICAgICAgICByZXNwb25zZS50eXBlID09PSBRdWVzdGlvblR5cGUuTVVMVElcbiAgICAgICAgICAgICAgPyBpbmRleGVzVG9BbnN3ZXJTdHJpbmcocmVzcG9uc2Uuc3R1ZGVudF9yZXN1bHQpXG4gICAgICAgICAgICAgIDogcmVzcG9uc2Uuc3R1ZGVudF9yZXN1bHQsXG4gICAgICAgICAgY29ycmVjdDogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiByZXNwb25zZXM7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHthcnJheX0gb2Ygb2JqZWN0cyB3aXRoIGtleXMgY29ycmVzcG9uZGluZyB0byBjb2x1bW5zXG4gKiBvZiBDU1YgdG8gZG93bmxvYWQuIENvbHVtbnMgYXJlIHN0dWRlbnROYW1lLCBsZXNzb24sIGxldmVsLCBrZXkgY29uY2VwdCwgcnVicmljLCBjb21tZW50LCB0aW1lc3RhbXAsIC5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEV4cG9ydGFibGVGZWVkYmFja0RhdGEgPSBzdGF0ZSA9PiB7XG4gIGxldCBmZWVkYmFjayA9IFtdO1xuICBsZXQgZmVlZGJhY2tGb3JDdXJyZW50U2NyaXB0ID1cbiAgICBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuZmVlZGJhY2tCeVNjcmlwdFtzdGF0ZS51bml0U2VsZWN0aW9uLnNjcmlwdElkXSB8fFxuICAgIHt9O1xuXG4gIE9iamVjdC5rZXlzKGZlZWRiYWNrRm9yQ3VycmVudFNjcmlwdCkuZm9yRWFjaChmZWVkYmFja0lkID0+IHtcbiAgICBmZWVkYmFja0lkID0gcGFyc2VJbnQoZmVlZGJhY2tJZCwgMTApO1xuICAgIGZlZWRiYWNrLnB1c2goZmVlZGJhY2tGb3JDdXJyZW50U2NyaXB0W2ZlZWRiYWNrSWRdKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGZlZWRiYWNrO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQ3VycmVudFNjcmlwdENTRCA9IHN0YXRlID0+IHtcbiAgY29uc3Qgc2NyaXB0TmFtZSA9IGdldFNlbGVjdGVkU2NyaXB0TmFtZShzdGF0ZSkgfHwgJyc7XG4gIHJldHVybiBzY3JpcHROYW1lLmluY2x1ZGVzKCdjc2QnKTtcbn07XG5cbi8qKlxuICogIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGN1cnJlbnQgc3R1ZGVudElkIGhhcyBzdWJtaXR0ZWQgcmVzcG9uc2VzIGZvciBjdXJyZW50IHNjcmlwdC5cbiAqL1xuZXhwb3J0IGNvbnN0IGN1cnJlbnRTdHVkZW50SGFzUmVzcG9uc2VzID0gc3RhdGUgPT4ge1xuICByZXR1cm4gISFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gICAgZ2V0QXNzZXNzbWVudFJlc3BvbnNlc0ZvckN1cnJlbnRTY3JpcHQoc3RhdGUpLFxuICAgIHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5zdHVkZW50SWRcbiAgKTtcbn07XG5cbi8vIEhlbHBlcnNcblxuLyoqXG4gKiBUYWtlcyBpbiBhbiBhcnJheSBvZiBvYmplY3RzIHthbnN3ZXJUZXh0OiAnJywgY29ycmVjdDogdHJ1ZS9mYWxzZX0gYW5kXG4gKiByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIGxldHRlcnMgdG8gdGhlIG9wdGlvbnMgd2l0aCB0aGUgY29ycmVjdCBhbnN3ZXJzLlxuICogRXggLSBbe2NvcnJlY3Q6IGZhbHNlfSwge2NvcnJlY3Q6IHRydWV9XSAtLT4gcmV0dXJucyAnQidcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvcnJlY3RBbnN3ZXIoYW5zd2VyQXJyKSB7XG4gIGNvbnN0IGNvcnJlY3RJbmRleGVzID0gYW5zd2VyQXJyXG4gICAgLm1hcCgoe2NvcnJlY3R9LCBpKSA9PiAoY29ycmVjdCA/IGkgOiBudWxsKSlcbiAgICAuZmlsdGVyKGkgPT4gaSAhPT0gbnVsbCk7XG4gIHJldHVybiBpbmRleGVzVG9BbnN3ZXJTdHJpbmcoY29ycmVjdEluZGV4ZXMpO1xufVxuXG4vKipcbiAqIFRha2VzIGluIGFuIGFycmF5IG9mIGludGVnZXJzIGFuZCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIGxldHRlcnNcbiAqIHJlcHJlc2VudGluZyBjb3JyZWN0IGFuc3dlcnMuXG4gKiBFeCAtIFsxXSAtLT4gcmV0dXJucyAnQicsIFswLCAyXSAtLT4gcmV0dXJucyAnQSwgQydcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4ZXNUb0Fuc3dlclN0cmluZyhhbnN3ZXJBcnIpIHtcbiAgaWYgKCFhbnN3ZXJBcnIpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgcmV0dXJuIGFuc3dlckFyci5tYXAoaW5kZXggPT4gQU5TV0VSX0xFVFRFUlNbaW5kZXhdKS5qb2luKCcsICcpO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgaWQgb2YgdGhlIGZpcnN0IGFzc2Vzc21lbnQgb3Igc3VydmV5IGluIHRoZSBsaXN0LlxuICpcbiAqIEBwYXJhbSBzdGF0ZSB7T2JqZWN0fSB0aGUgc2VjdGlvbkFzc2Vzc21lbnRzIGJyYW5jaCBvZiB0aGUgcmVkdXggc3RhdGUgdHJlZS5cbiAqIEBwYXJhbSBzY3JpcHRJZFxuICogQHJldHVybnMge251bWJlcnx1bmRlZmluZWR9IFRoZSBpZCBvZiB0aGUgZmlyc3QgYXNzZXNzbWVudCBvciBzdXJ2ZXkuXG4gKi9cbmNvbnN0IGdldEZpcnN0QXNzZXNzbWVudElkID0gKHN0YXRlLCBzY3JpcHRJZCkgPT5cbiAgY29tcHV0ZVNjcmlwdEFzc2Vzc21lbnRMaXN0KHN0YXRlLCBzY3JpcHRJZCkubWFwKGEgPT4gcGFyc2VJbnQoYS5pZCkpWzBdO1xuXG4vKipcbiAqIFJldHVybnMgYSBsaXN0IG9mIGlkcyBhbmQgbmFtZXMgb2YgYXNzZXNzbWVudHMgYW5kIHN1cnZleXMuXG4gKlxuICogQHBhcmFtIHN0YXRlIHtPYmplY3R9IHRoZSBzZWN0aW9uQXNzZXNzbWVudHMgYnJhbmNoIG9mIHRoZSByZWR1eCBzdGF0ZSB0cmVlLlxuICogQHBhcmFtIHNjcmlwdElkIHtudW1iZXJ8c3RyaW5nfVxuICogQHJldHVybnMge0FycmF5fVxuICovXG5jb25zdCBjb21wdXRlU2NyaXB0QXNzZXNzbWVudExpc3QgPSAoc3RhdGUsIHNjcmlwdElkKSA9PiB7XG4gIGNvbnN0IGFzc2Vzc21lbnRTdHJ1Y3R1cmUgPSBzdGF0ZS5hc3Nlc3NtZW50UXVlc3Rpb25zQnlTY3JpcHRbc2NyaXB0SWRdIHx8IHt9O1xuICBjb25zdCBhc3Nlc3NtZW50cyA9IE9iamVjdC52YWx1ZXMoYXNzZXNzbWVudFN0cnVjdHVyZSkubWFwKGFzc2Vzc21lbnQgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogYXNzZXNzbWVudC5pZCxcbiAgICAgIG5hbWU6IGFzc2Vzc21lbnQubmFtZSxcbiAgICB9O1xuICB9KTtcblxuICBjb25zdCBzdXJ2ZXlzU3RydWN0dXJlID0gc3RhdGUuc3VydmV5c0J5U2NyaXB0W3NjcmlwdElkXSB8fCB7fTtcbiAgY29uc3Qgc3VydmV5cyA9IE9iamVjdC5rZXlzKHN1cnZleXNTdHJ1Y3R1cmUpLm1hcChzdXJ2ZXlJZCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBwYXJzZUludChzdXJ2ZXlJZCksXG4gICAgICBuYW1lOiBzdXJ2ZXlzU3RydWN0dXJlW3N1cnZleUlkXS5sZXNzb25fbmFtZSxcbiAgICB9O1xuICB9KTtcblxuICByZXR1cm4gYXNzZXNzbWVudHMuY29uY2F0KHN1cnZleXMpO1xufTtcblxuLy8gUmVxdWVzdHMgdG8gdGhlIHNlcnZlciBmb3IgYXNzZXNzbWVudCBkYXRhXG5cbi8vIExvYWRzIHRoZSBhc3Nlc3NtZW50IHJlc3BvbnNlcy5cbmNvbnN0IGxvYWRBc3Nlc3NtZW50UmVzcG9uc2VzRnJvbVNlcnZlciA9IChzZWN0aW9uSWQsIHNjcmlwdElkKSA9PiB7XG4gIGxldCBwYXlsb2FkID0ge3NlY3Rpb25faWQ6IHNlY3Rpb25JZH07XG4gIGlmIChzY3JpcHRJZCkge1xuICAgIHBheWxvYWQuc2NyaXB0X2lkID0gc2NyaXB0SWQ7XG4gIH1cbiAgcmV0dXJuICQuYWpheCh7XG4gICAgdXJsOiBgL2Rhc2hib2FyZGFwaS9hc3Nlc3NtZW50cy9zZWN0aW9uX3Jlc3BvbnNlc2AsXG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gICAgZGF0YTogcGF5bG9hZCxcbiAgfSk7XG59O1xuXG4vLyBMb2FkcyB0aGUgYXNzZXNzbWVudCBxdWVzdGlvbiBzdHJ1Y3R1cmUuXG5jb25zdCBsb2FkQXNzZXNzbWVudFF1ZXN0aW9uc0Zyb21TZXJ2ZXIgPSBzY3JpcHRJZCA9PiB7XG4gIGNvbnN0IHBheWxvYWQgPSB7c2NyaXB0X2lkOiBzY3JpcHRJZH07XG4gIHJldHVybiAkLmFqYXgoe1xuICAgIHVybDogYC9kYXNoYm9hcmRhcGkvYXNzZXNzbWVudHNgLFxuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnLFxuICAgIGRhdGE6IHBheWxvYWQsXG4gIH0pO1xufTtcblxuLy8gTG9hZHMgc3VydmV5IHF1ZXN0aW9ucyBhbmQgYW5vbnltb3VzIHJlc3BvbnNlcy5cbmNvbnN0IGxvYWRTdXJ2ZXlzRnJvbVNlcnZlciA9IChzZWN0aW9uSWQsIHNjcmlwdElkKSA9PiB7XG4gIGNvbnN0IHBheWxvYWQgPSB7c2NyaXB0X2lkOiBzY3JpcHRJZCwgc2VjdGlvbl9pZDogc2VjdGlvbklkfTtcbiAgcmV0dXJuICQuYWpheCh7XG4gICAgdXJsOiBgL2Rhc2hib2FyZGFwaS9hc3Nlc3NtZW50cy9zZWN0aW9uX3N1cnZleXNgLFxuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnLFxuICAgIGRhdGE6IHBheWxvYWQsXG4gIH0pO1xufTtcblxuLy8gTG9hZHMgY29tbWVudCBhbmQgcnVicmljIGZlZWRiYWNrLlxuY29uc3QgbG9hZEZlZWRiYWNrRnJvbVNlcnZlciA9IChzZWN0aW9uSWQsIHNjcmlwdElkKSA9PiB7XG4gIGNvbnN0IHBheWxvYWQgPSB7c2NyaXB0X2lkOiBzY3JpcHRJZCwgc2VjdGlvbl9pZDogc2VjdGlvbklkfTtcbiAgcmV0dXJuICQuYWpheCh7XG4gICAgdXJsOiBgL2Rhc2hib2FyZGFwaS9hc3Nlc3NtZW50cy9zZWN0aW9uX2ZlZWRiYWNrYCxcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JyxcbiAgICBkYXRhOiBwYXlsb2FkLFxuICB9KTtcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4vLyBhcHBzL3NyYy91dGlsL2NvbG9yLmpzXG4vLyBHRU5FUkFURUQgRklMRTogRE8gTk9UIE1PRElGWSBESVJFQ1RMWVxuLy8gVGhpcyBnZW5lcmF0ZWQgZmlsZSBleHBvcnRzIGFsbCB2YXJpYWJsZXMgZGVmaW5lZCBpbiBzaGFyZWQvY3NzL2NvbG9yLnNjc3Ncbi8vIGZvciB1c2UgaW4gSmF2YVNjcmlwdC4gVGhlIGdlbmVyYXRvciBzY3JpcHQgaXMgY29udmVydC1zY3NzLXZhcmlhYmxlcy5qc1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIFwiYmxhY2tcIjogXCIjMDAwXCIsXG4gIFwiYmFja2dyb3VuZF9ibGFja1wiOiBcIiMxMjE0MTZcIixcbiAgXCJkYXJrX2dyYXlcIjogXCIjMkQzMTM5XCIsXG4gIFwiZGFya2VzdF9ncmF5XCI6IFwiIzI5MkYzNlwiLFxuICBcImRhcmtfc2xhdGVfZ3JheVwiOiBcIiMyODJjMzRcIixcbiAgXCJkYXJrZXN0X3NsYXRlX2dyYXlcIjogXCIjMjUyOTJkXCIsXG4gIFwiZGFya19jaGFyY29hbFwiOiBcIiM0ZDU3NWZcIixcbiAgXCJjaGFyY29hbFwiOiBcIiM1YjY3NzBcIixcbiAgXCJsaWdodF9ncmF5XCI6IFwiIzk0OWNhMlwiLFxuICBcImxpZ2h0ZXJfZ3JheVwiOiBcIiNjNmNhY2RcIixcbiAgXCJsaWdodGVzdF9ncmF5XCI6IFwiI2U3ZThlYVwiLFxuICBcImJhY2tncm91bmRfZ3JheVwiOiBcIiNmMmYyZjJcIixcbiAgXCJkaW1ncmF5XCI6IFwiIzY5Njk2OVwiLFxuICBcIndoaXRlXCI6IFwiI2ZmZlwiLFxuICBcImRlZmF1bHRfYmx1ZVwiOiBcIiMzNjcwYjNcIixcbiAgXCJkYXJrX3RlYWxcIjogXCIjMDA5NGEzXCIsXG4gIFwidGVhbFwiOiBcIiMwMDkzYTRcIixcbiAgXCJhcHBsYWJfYnV0dG9uX3RlYWxcIjogXCIjMWFiYzljXCIsXG4gIFwibGlnaHRfdGVhbFwiOiBcIiM1OWNhZDNcIixcbiAgXCJsaWdodGlzaF90ZWFsXCI6IFwiIzgwZDZkZVwiLFxuICBcImxpZ2h0ZXJfdGVhbFwiOiBcIiNhNmUzZThcIixcbiAgXCJsaWdodGVzdF90ZWFsXCI6IFwiI2Q5ZjNmNVwiLFxuICBcImFpX3J1YnJpY19jeWFuXCI6IFwiIzNjZmZmOFwiLFxuICBcInB1cnBsZVwiOiBcIiM4YzUyYmFcIixcbiAgXCJsaWdodF9wdXJwbGVcIjogXCIjYTY5YmMxXCIsXG4gIFwibGlnaHRlcl9wdXJwbGVcIjogXCIjY2ZjOWRlXCIsXG4gIFwibGlnaHRlc3RfcHVycGxlXCI6IFwiI2ViZThmMVwiLFxuICBcImN5YW5cIjogXCIjMDA5NGNhXCIsXG4gIFwibGlnaHRfY3lhblwiOiBcIiM1OWI5ZGNcIixcbiAgXCJsaWdodGVyX2N5YW5cIjogXCIjYTZkYWVkXCIsXG4gIFwibGlnaHRlc3RfY3lhblwiOiBcIiNkOWVmZjdcIixcbiAgXCJhbG1vc3Rfd2hpdGVfY3lhblwiOiBcIiNmNWZjZmZcIixcbiAgXCJvcmFuZ2VcIjogXCIjZmZhNDAwXCIsXG4gIFwibGlnaHRfb3JhbmdlXCI6IFwiI2ZmYzQ1OVwiLFxuICBcImxpZ2h0ZXJfb3JhbmdlXCI6IFwiI2ZmZTBhNlwiLFxuICBcImxpZ2h0ZXN0X29yYW5nZVwiOiBcIiNmZmYyZDlcIixcbiAgXCJkYXJrX29yYW5nZVwiOiBcIiNmZjg2MDBcIixcbiAgXCJncmVlblwiOiBcIiNiOWJmMTVcIixcbiAgXCJsaWdodF9ncmVlblwiOiBcIiNkMWQ1NjdcIixcbiAgXCJsaWdodGVyX2dyZWVuXCI6IFwiI2U3ZTlhZFwiLFxuICBcImxpZ2h0ZXN0X2dyZWVuXCI6IFwiI2Y1ZjVkY1wiLFxuICBcImhpZ2hsaWdodF9ncmVlblwiOiBcIiM4YWZjOWJcIixcbiAgXCJ5ZWxsb3dcIjogXCIjZmZiODFkXCIsXG4gIFwibGlnaHRfeWVsbG93XCI6IFwiI2ZmZGI3NFwiLFxuICBcImxpZ2h0ZXJfeWVsbG93XCI6IFwiI2ZmZWJiNVwiLFxuICBcImxpZ2h0ZXN0X3llbGxvd1wiOiBcIiNmZmY3ZGZcIixcbiAgXCJnb2xkZW5yb2RcIjogXCIjZGFhNTIwXCIsXG4gIFwiaGVhZGVyX3RleHRcIjogXCIjZmZmXCIsXG4gIFwiYmtnbmRfY29sb3JcIjogXCIjMDA5M2E0XCIsXG4gIFwiaW5zZXRfY29sb3JcIjogXCIjYzZjYWNkXCIsXG4gIFwiZGFya19jb2xvclwiOiBcIiM4YzUyYmFcIixcbiAgXCJoZHJfY29sb3JcIjogXCIjOGM1MmJhXCIsXG4gIFwicmVkXCI6IFwiI2MwMFwiLFxuICBcImxpZ2h0ZXN0X3JlZFwiOiBcIiNmY2NcIixcbiAgXCJkYXJrX3JlZFwiOiBcIiNkNjI5MTFcIixcbiAgXCJyZWFsZ3JlZW5cIjogXCIjMDA4MDAwXCIsXG4gIFwicmVhbHllbGxvd1wiOiBcIiNmZjBcIixcbiAgXCJtdXN0YXJkeWVsbG93XCI6IFwiI2VmY2QxY1wiLFxuICBcInR3aXR0ZXJfYmx1ZVwiOiBcIiMwMGFjZWRcIixcbiAgXCJmYWNlYm9va19ibHVlXCI6IFwiIzNiNTk5OFwiLFxuICBcImxpbmtlZGluX2JsdWVcIjogXCIjMDA3N0I1XCIsXG4gIFwiZGFya19ibHVlXCI6IFwiIzAwNjQ3ZlwiLFxuICBcImJsb2NrbHlfZmx5b3V0X2dyYXlcIjogXCIjZGRkXCIsXG4gIFwiZGVmYXVsdF90ZXh0XCI6IFwiIzMzM1wiLFxuICBcImJvcmRlcl9ncmF5XCI6IFwiI2JiYlwiLFxuICBcImJvcmRlcl9saWdodF9ncmF5XCI6IFwiI2Q4ZDhkOFwiLFxuICBcInRhYmxlX2hlYWRlclwiOiBcIiNlY2VjZWNcIixcbiAgXCJ0YWJsZV9saWdodF9yb3dcIjogXCIjZmNmY2ZjXCIsXG4gIFwidGFibGVfZGFya19yb3dcIjogXCIjZjRmNGY0XCIsXG4gIFwibGV2ZWxfc3VibWl0dGVkXCI6IFwiIzhjNTJiYVwiLFxuICBcImxldmVsX3BlcmZlY3RcIjogXCJyZ2IoMTQsIDE5MCwgMTQpXCIsXG4gIFwibGV2ZWxfcGFzc2VkXCI6IFwicmdiKDE1OSwgMjEyLCAxNTkpXCIsXG4gIFwibGV2ZWxfYXR0ZW1wdGVkXCI6IFwiI2ZmMFwiLFxuICBcImxldmVsX25vdF90cmllZFwiOiBcIiNmZWZlZmVcIixcbiAgXCJsZXZlbF9jdXJyZW50XCI6IFwiI2ZmYTQwMFwiLFxuICBcImxldmVsX3Jldmlld19yZWplY3RlZFwiOiBcIiNjMDBcIixcbiAgXCJsZXZlbF9yZXZpZXdfYWNjZXB0ZWRcIjogXCJyZ2IoMTEsIDE0MiwgMTEpXCIsXG4gIFwiYXNzZXNzbWVudFwiOiBcIiMwMDk0Y2FcIixcbiAgXCJ3b3Jrc3BhY2VfcnVubmluZ19iYWNrZ3JvdW5kXCI6IFwiI2U1ZTVlNVwiLFxuICBcImRhcmtfcHVycGxlXCI6IFwiIzY4MkE3N1wiLFxuICBcImJyaWdodF9ncmVlblwiOiBcIiMwZWJlMGVcIixcbiAgXCJuZW9uX3BpbmtcIjogXCIjZTkxMThmXCIsXG4gIFwibGlua19jb2xvclwiOiBcIiMwNTk2Y2VcIixcbiAgXCJzaGFkb3dcIjogXCJyZ2JhKDAsIDAsIDAsIDAuMylcIixcbiAgXCJib290c3RyYXBfYnV0dG9uX2JsdWVcIjogXCIjMzM3YWI3XCIsXG4gIFwiYm9vdHN0cmFwX2J1dHRvbl9yZWRcIjogXCIjZDk1MzRmXCIsXG4gIFwiYm9vdHN0cmFwX2Vycm9yX2JhY2tncm91bmRcIjogXCIjZjJkZWRlXCIsXG4gIFwiYm9vdHN0cmFwX2Vycm9yX3RleHRcIjogXCIjYjk0YTQ4XCIsXG4gIFwiYm9vdHN0cmFwX3YzX2Vycm9yX3RleHRcIjogXCIjYTk0NDQyXCIsXG4gIFwiYm9vdHN0cmFwX2Vycm9yX2JvcmRlclwiOiBcIiNlYmNjZDFcIixcbiAgXCJib290c3RyYXBfd2FybmluZ19iYWNrZ3JvdW5kXCI6IFwiI2ZjZjhlM1wiLFxuICBcImJvb3RzdHJhcF93YXJuaW5nX3RleHRcIjogXCIjYzA5ODUzXCIsXG4gIFwiYm9vdHN0cmFwX3dhcm5pbmdfYm9yZGVyXCI6IFwiI2ZhZWJjY1wiLFxuICBcImJvb3RzdHJhcF9ib3JkZXJfY29sb3JcIjogXCIjY2NjY2NjXCIsXG4gIFwiYm9vdHN0cmFwX3N1Y2Nlc3NfYmFja2dyb3VuZFwiOiBcIiNkZmYwZDhcIixcbiAgXCJib290c3RyYXBfc3VjY2Vzc190ZXh0XCI6IFwiIzQ2ODg0N1wiLFxuICBcImJvb3RzdHJhcF9zdWNjZXNzX2JvcmRlclwiOiBcIiNkNmU5YzZcIixcbiAgXCJkcm9wbGV0X2xpZ2h0X2dyZWVuXCI6IFwiI2QzZTk2NVwiLFxuICBcImRyb3BsZXRfYmx1ZVwiOiBcIiM2NGI1ZjZcIixcbiAgXCJkcm9wbGV0X2JyaWdodF9ibHVlXCI6IFwiIzE5YzNlMVwiLFxuICBcImRyb3BsZXRfeWVsbG93XCI6IFwiI2ZmZjE3NlwiLFxuICBcImRyb3BsZXRfb3JhbmdlXCI6IFwiI2ZmYjc0ZFwiLFxuICBcImRyb3BsZXRfcmVkXCI6IFwiI2Y3ODE4M1wiLFxuICBcImRyb3BsZXRfY3lhblwiOiBcIiM0ZGQwZTFcIixcbiAgXCJkcm9wbGV0X3BpbmtcIjogXCIjZjU3YWM2XCIsXG4gIFwiZHJvcGxldF9wdXJwbGVcIjogXCIjYmI3N2M3XCIsXG4gIFwiZHJvcGxldF9ncmVlblwiOiBcIiM2OGQ5OTVcIixcbiAgXCJkcm9wbGV0X3doaXRlXCI6IFwiI2ZmZlwiLFxuICBcIm9jZWFuc19kZWVwX2JsdWVcIjogXCJyZ2IoMiwgMCwgMjgpXCIsXG4gIFwiZGFya19ibGFja1wiOiBcIiMxMjEyMTJcIixcbiAgXCJicmFuZF9wcmltYXJ5X2xpZ2h0XCI6IFwiI0FCREZFNVwiLFxuICBcImJyYW5kX3ByaW1hcnlfZGVmYXVsdFwiOiBcIiMwMDlFQjBcIixcbiAgXCJicmFuZF9wcmltYXJ5X2RhcmtcIjogXCIjMDA4MjkxXCIsXG4gIFwiYnJhbmRfc2Vjb25kYXJ5X2xpZ2h0XCI6IFwiI0UwRDFFQ1wiLFxuICBcImJyYW5kX3NlY29uZGFyeV9kZWZhdWx0XCI6IFwiIzhDNTJCQVwiLFxuICBcImJyYW5kX3NlY29uZGFyeV9kYXJrXCI6IFwiIzZGNDg4RVwiLFxuICBcImJyYW5kX2FjY2VudF9kZWZhdWx0XCI6IFwiI0VENjA2MFwiLFxuICBcImJyYW5kX3RlYWxfNVwiOiBcIiNERkYyRjRcIixcbiAgXCJwcm9kdWN0X2FmZmlybWF0aXZlX2RlZmF1bHRcIjogXCIjM0VBMzNFXCIsXG4gIFwicHJvZHVjdF9uZWdhdGl2ZV9saWdodFwiOiBcIiNGREVCRTlcIixcbiAgXCJwcm9kdWN0X25lZ2F0aXZlX2RlZmF1bHRcIjogXCIjRTUzMTFBXCIsXG4gIFwicHJvZHVjdF9uZWdhdGl2ZV9kYXJrXCI6IFwiI0FBMjUxM1wiLFxuICBcInByb2R1Y3RfY2F1dGlvbl9kZWZhdWx0XCI6IFwiI0Y5Q0IyOFwiLFxuICBcInByb2R1Y3RfaW5mb3JtYXRpb25fZGVmYXVsdFwiOiBcIiMwMDdBQ0NcIixcbiAgXCJuZXV0cmFsX3doaXRlXCI6IFwiI0ZGRkZGRlwiLFxuICBcIm5ldXRyYWxfbGlnaHRcIjogXCIjRjdGOEZBXCIsXG4gIFwibmV1dHJhbF9kYXJrMTBcIjogXCIjRUFFQkVCXCIsXG4gIFwibmV1dHJhbF9kYXJrMjBcIjogXCIjRDRENUQ3XCIsXG4gIFwibmV1dHJhbF9kYXJrMzBcIjogXCIjQkZDMUMzXCIsXG4gIFwibmV1dHJhbF9kYXJrNDBcIjogXCIjQTlBQ0FGXCIsXG4gIFwibmV1dHJhbF9kYXJrNTBcIjogXCIjOTQ5NzlCXCIsXG4gIFwibmV1dHJhbF9kYXJrNjBcIjogXCIjN0Y4Mjg2XCIsXG4gIFwibmV1dHJhbF9kYXJrNzBcIjogXCIjNkE2RTczXCIsXG4gIFwibmV1dHJhbF9kYXJrODBcIjogXCIjNTQ1OTVFXCIsXG4gIFwibmV1dHJhbF9kYXJrOTBcIjogXCIjM0Y0NDRCXCIsXG4gIFwibmV1dHJhbF9kYXJrXCI6IFwiIzI5MkYzNlwiLFxuICBcImdvb2dsZV9icmFuZF9jb2xvclwiOiBcIiMwRjlENThcIixcbiAgXCJtaWNyb3NvZnRfYnJhbmRfY29sb3JcIjogXCIjRkZCOTAwXCIsXG4gIFwiZmFjZWJvb2tfYnJhbmRfY29sb3JcIjogXCIjM0I1OTk4XCIsXG4gIFwiY2xldmVyX2JyYW5kX2NvbG9yXCI6IFwiIzE0NjRGRlwiLFxuICBcImxpZ2h0X3ByaW1hcnlfMTAwXCI6IFwiI0FCREZFNVwiLFxuICBcImxpZ2h0X3ByaW1hcnlfNTAwXCI6IFwiIzAwOTNBNFwiLFxuICBcImxpZ2h0X3ByaW1hcnlfNzAwXCI6IFwiIzAwODI5MVwiLFxuICBcImxpZ2h0X3NlY29uZGFyeV8xMDBcIjogXCIjRTJENEVFXCIsXG4gIFwibGlnaHRfc2Vjb25kYXJ5XzUwMFwiOiBcIiM4QzUyQkFcIixcbiAgXCJsaWdodF9zZWNvbmRhcnlfNzAwXCI6IFwiIzZGNDg4RVwiLFxuICBcImxpZ2h0X2dyYXlfNTBcIjogXCIjRjdGOEZBXCIsXG4gIFwibGlnaHRfZ3JheV8xMDBcIjogXCIjRUFFQkVCXCIsXG4gIFwibGlnaHRfZ3JheV8yMDBcIjogXCIjRDRENUQ3XCIsXG4gIFwibGlnaHRfZ3JheV8zMDBcIjogXCIjQkZDMUMzXCIsXG4gIFwibGlnaHRfZ3JheV80MDBcIjogXCIjQTlBQ0FGXCIsXG4gIFwibGlnaHRfZ3JheV81MDBcIjogXCIjOTQ5NzlCXCIsXG4gIFwibGlnaHRfZ3JheV82MDBcIjogXCIjN0Y4Mjg2XCIsXG4gIFwibGlnaHRfZ3JheV83MDBcIjogXCIjNkE2RTczXCIsXG4gIFwibGlnaHRfZ3JheV84MDBcIjogXCIjNTQ1OTVFXCIsXG4gIFwibGlnaHRfZ3JheV85MDBcIjogXCIjM0Y0NDRCXCIsXG4gIFwibGlnaHRfYWZmaXJtYXRpdmVfMTAwXCI6IFwiI0UyRjFFMlwiLFxuICBcImxpZ2h0X2FmZmlybWF0aXZlXzUwMFwiOiBcIiMzRUEzM0VcIixcbiAgXCJsaWdodF9uZWdhdGl2ZV81MDBcIjogXCIjRTUzMTFBXCIsXG4gIFwibGlnaHRfY2F1dGlvbl81MDBcIjogXCIjRjlDQjI4XCIsXG4gIFwibGlnaHRfaW5mb18xMDBcIjogXCIjRENFRkZCXCIsXG4gIFwibGlnaHRfaW5mb181MDBcIjogXCIjMTg5MkUzXCIsXG4gIFwibGlnaHRfd2hpdGVcIjogXCIjRkZGRkZGXCIsXG4gIFwibGlnaHRfYmxhY2tcIjogXCIjMjkyRjM2XCIsXG59O1xuIl0sIm5hbWVzIjpbInVuaXRTZWxlY3Rpb24iLCJzdGF0ZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImluaXRpYWxTdGF0ZSIsImFjdGlvbiIsInR5cGUiLCJTRVRfQ09VUlNFUyIsImZpcnN0Q291cnNlIiwiY291cnNlc1dpdGhQcm9ncmVzcyIsImZpcnN0VW5pdCIsInVuaXRzIiwiX29iamVjdFNwcmVhZCIsInNjcmlwdElkIiwiaWQiLCJTRVRfU0NSSVBUIiwiZXhwb3J0cyIsImdldFNlbGVjdGVkVW5pdCIsInNldFNjcmlwdElkIiwic2V0Q291cnNlc1dpdGhQcm9ncmVzcyIsInVuaXQiLCJmb3JFYWNoIiwiY291cnNlIiwidGVtcFVuaXQiLCJmaW5kIiwiZ2V0U2VsZWN0ZWRTY3JpcHROYW1lIiwia2V5IiwiZ2V0U2VsZWN0ZWRTY3JpcHRGcmllbmRseU5hbWUiLCJuYW1lIiwiZ2V0U2VsZWN0ZWRTY3JpcHREZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiZG9lc0N1cnJlbnRDb3Vyc2VVc2VGZWVkYmFjayIsIl9nZXRTZWxlY3RlZFVuaXQiLCJpc19mZWVkYmFja19lbmFibGVkIiwic2VjdGlvbkFzc2Vzc21lbnRzIiwic3R1ZGVudElkIiwiQUxMX1NUVURFTlRfRklMVEVSIiwicXVlc3Rpb25JbmRleCIsIlNFVF9BU1NFU1NNRU5UX0lEIiwiYXNzZXNzbWVudElkIiwiU0VUX0lOSVRJQUxfQVNTRVNTTUVOVF9JRCIsImdldEZpcnN0QXNzZXNzbWVudElkIiwiU0VUX1NUVURFTlRfSUQiLCJTRVRfUVVFU1RJT05fSU5ERVgiLCJTRVRfQVNTRVNTTUVOVF9SRVNQT05TRVMiLCJhc3Nlc3NtZW50UmVzcG9uc2VzQnlTY3JpcHQiLCJfZGVmaW5lUHJvcGVydHkiLCJhc3Nlc3NtZW50cyIsIlNFVF9GRUVEQkFDSyIsImZlZWRiYWNrQnlTY3JpcHQiLCJmZWVkYmFjayIsIlNFVF9TVVJWRVlTIiwic3VydmV5c0J5U2NyaXB0Iiwic3VydmV5cyIsIlNFVF9BU1NFU1NNRU5UU19RVUVTVElPTlMiLCJhc3Nlc3NtZW50UXVlc3Rpb25zQnlTY3JpcHQiLCJwYXJzZUludCIsIk9iamVjdCIsImtleXMiLCJTVEFSVF9MT0FESU5HX0FTU0VTU01FTlRTIiwiaXNMb2FkaW5nIiwiRklOSVNIX0xPQURJTkdfQVNTRVNTTUVOVFMiLCJfdW5pdFNlbGVjdGlvblJlZHV4IiwicmVxdWlyZSIsIl90eXBlb2YiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIm93bktleXMiLCJlIiwiciIsInQiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsIm9iaiIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJpIiwiX3RvUHJpbWl0aXZlIiwidG9QcmltaXRpdmUiLCJjYWxsIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiTnVtYmVyIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJRdWVzdGlvblR5cGUiLCJNVUxUSSIsIk1BVENIIiwiRlJFRV9SRVNQT05TRSIsIlN1cnZleVF1ZXN0aW9uVHlwZSIsIk11bHRpQW5zd2VyU3RhdHVzIiwiQU5TV0VSX0xFVFRFUlMiLCJBU1NFU1NNRU5UX0ZFRURCQUNLX09QVElPTl9JRCIsImluUHJvZ3Jlc3NGYWtlVGltZXN0YW1wIiwiRGF0ZSIsIm5vdFN0YXJ0ZWRGYWtlVGltZXN0YW1wIiwic2V0QXNzZXNzbWVudFJlc3BvbnNlcyIsInNldEFzc2Vzc21lbnRRdWVzdGlvbnMiLCJzZXRGZWVkYmFjayIsInN0YXJ0TG9hZGluZ0Fzc2Vzc21lbnRzIiwiZmluaXNoTG9hZGluZ0Fzc2Vzc21lbnRzIiwic2V0SW5pdGlhbEFzc2Vzc21lbnRJZCIsInNldEFzc2Vzc21lbnRJZCIsInNldFN1cnZleXMiLCJzZXRRdWVzdGlvbkluZGV4Iiwic2V0U3R1ZGVudElkIiwiYXN5bmNMb2FkQXNzZXNzbWVudHMiLCJzZWN0aW9uSWQiLCJkaXNwYXRjaCIsImdldFN0YXRlIiwibG9hZFJlc3BvbnNlcyIsImxvYWRBc3Nlc3NtZW50UmVzcG9uc2VzRnJvbVNlcnZlciIsImxvYWRRdWVzdGlvbnMiLCJsb2FkQXNzZXNzbWVudFF1ZXN0aW9uc0Zyb21TZXJ2ZXIiLCJsb2FkU3VydmV5cyIsImxvYWRTdXJ2ZXlzRnJvbVNlcnZlciIsImxvYWRGZWVkYmFjayIsImxvYWRGZWVkYmFja0Zyb21TZXJ2ZXIiLCJQcm9taXNlIiwiYWxsIiwidGhlbiIsImFycmF5T2ZWYWx1ZXMiLCJlcnJvciIsImdldEN1cnJlbnRTY3JpcHRBc3Nlc3NtZW50TGlzdCIsInRlbXBBc3Nlc3NtZW50TGlzdCIsImNvbXB1dGVTY3JpcHRBc3Nlc3NtZW50TGlzdCIsImNvbmNhdCIsImdldEFzc2Vzc21lbnRSZXNwb25zZXNGb3JDdXJyZW50U2NyaXB0IiwiZ2V0Q3VycmVudEFzc2Vzc21lbnRRdWVzdGlvbnMiLCJpc0N1cnJlbnRBc3Nlc3NtZW50U3VydmV5IiwiZ2V0Q3VycmVudFF1ZXN0aW9uIiwiZW1wdHlRdWVzdGlvbiIsInF1ZXN0aW9uIiwiYW5zd2VycyIsImxldmVsZ3JvdXBfcmVzdWx0cyIsImFuc3dlcl90ZXh0cyIsIm1hcCIsImFuc3dlciIsImluZGV4IiwidGV4dCIsImNvcnJlY3QiLCJsZXR0ZXIiLCJhc3Nlc3NtZW50UXVlc3Rpb25zIiwicXVlc3Rpb25zIiwicXVlc3Rpb25fdGV4dCIsInF1ZXN0aW9uVHlwZSIsIm9wdGlvbnMiLCJvcHRpb24iLCJnZXRNdWx0aXBsZUNob2ljZVN0cnVjdHVyZUZvckN1cnJlbnRBc3Nlc3NtZW50IiwiYXNzZXNzbWVudHNTdHJ1Y3R1cmUiLCJsZXZlbF9pZCIsInF1ZXN0aW9uTnVtYmVyIiwicXVlc3Rpb25faW5kZXgiLCJjb3JyZWN0QW5zd2VyIiwiZ2V0Q29ycmVjdEFuc3dlciIsImdldFN0dWRlbnRNQ1Jlc3BvbnNlc0ZvckN1cnJlbnRBc3Nlc3NtZW50Iiwic3R1ZGVudFJlc3BvbnNlcyIsInN0dWRlbnRPYmplY3QiLCJjdXJyZW50QXNzZXNzbWVudElkIiwic3R1ZGVudEFzc2Vzc21lbnQiLCJyZXNwb25zZXNfYnlfYXNzZXNzbWVudCIsInN0dWRlbnRfbmFtZSIsImxldmVsX3Jlc3VsdHMiLCJyZXNwb25zZXMiLCJpbmRleGVzVG9BbnN3ZXJTdHJpbmciLCJzdHVkZW50X3Jlc3VsdCIsImlzQ29ycmVjdCIsInN0YXR1cyIsImdldE1hdGNoU3RydWN0dXJlRm9yQ3VycmVudEFzc2Vzc21lbnQiLCJnZXRTdHVkZW50TWF0Y2hSZXNwb25zZXNGb3JDdXJyZW50QXNzZXNzbWVudCIsImdldFN0dWRlbnRBbnN3ZXJzRm9yQ3VycmVudFF1ZXN0aW9uIiwic3R1ZGVudEFuc3dlcnMiLCJnZXRBc3Nlc3NtZW50c0ZyZWVSZXNwb25zZVJlc3VsdHMiLCJxdWVzdGlvbnNBbmRSZXN1bHRzIiwicXVlc3Rpb25UZXh0IiwiY3VycmVudFN0dWRlbnRzSWRzIiwiY3VycmVudFN0dWRlbnRIYXNSZXNwb25zZXMiLCJyZXN1bHQiLCJyZXNwb25zZSIsImdldFN1cnZleUZyZWVSZXNwb25zZVF1ZXN0aW9ucyIsImN1cnJlbnRTdXJ2ZXkiLCJyZXN1bHRzIiwiZ2V0TXVsdGlwbGVDaG9pY2VTdXJ2ZXlSZXN1bHRzIiwidG90YWxBbnN3ZXJlZCIsImFuc3dlclRvdGFscyIsIm5vdEFuc3dlcmVkIiwiYW5zd2VySW5kZXgiLCJhbnN3ZXJfaW5kZXgiLCJtdWx0aXBsZUNob2ljZU9wdGlvbiIsInBlcmNlbnRBbnN3ZXJlZCIsIk1hdGgiLCJmbG9vciIsInN1cnZleXNTdHJ1Y3R1cmUiLCJpbmNsdWRlcyIsImdldFN0dWRlbnRzTUNhbmRNYXRjaFN1bW1hcnlGb3JDdXJyZW50QXNzZXNzbWVudCIsImFsbFN0dWRlbnRzQnlJZHMiLCJ0ZWFjaGVyU2VjdGlvbnMiLCJzZWxlY3RlZFN0dWRlbnRzIiwic3R1ZGVudCIsInN0dWRlbnRzT2JqZWN0Iiwic3R1ZGVudHNBc3Nlc3NtZW50IiwiaXNTdWJtaXR0ZWQiLCJpblByb2dyZXNzIiwic3VibWlzc2lvblRpbWVTdGFtcCIsInRpbWVzdGFtcCIsInN1Ym1pdHRlZCIsIm51bU11bHRpcGxlQ2hvaWNlQ29ycmVjdCIsIm11bHRpX2NvcnJlY3QiLCJudW1NdWx0aXBsZUNob2ljZSIsIm11bHRpX2NvdW50IiwibnVtTWF0Y2hDb3JyZWN0IiwibWF0Y2hfY29ycmVjdCIsIm51bU1hdGNoIiwibWF0Y2hfY291bnQiLCJ1cmwiLCJnZXRFeHBvcnRhYmxlU3VydmV5RGF0YSIsImdldEV4cG9ydGFibGVTdWJtaXNzaW9uU3RhdHVzRGF0YSIsInN1bW1hcnlTdHVkZW50U3RhdHVzIiwic3R1ZGVudE5hbWUiLCJzdWJtaXNzaW9uVGltZXN0YW1wIiwiZ2V0TXVsdGlwbGVDaG9pY2VTZWN0aW9uU3VtbWFyeSIsIm51bUFuc3dlcmVkIiwiZ2V0TWF0Y2hTZWN0aW9uU3VtbWFyeSIsImluZGV4TyIsImluZGV4QSIsImNvdW50U3VibWlzc2lvbnNGb3JDdXJyZW50QXNzZXNzbWVudCIsInRvdGFsU3VibWlzc2lvbnMiLCJ2YWx1ZXMiLCJnZXRFeHBvcnRhYmxlRGF0YSIsImdldEV4cG9ydGFibGVBc3Nlc3NtZW50RGF0YSIsInF1ZXN0aW9uUmVzdWx0cyIsInJvd0Jhc2UiLCJsZXNzb24iLCJsZXNzb25fbmFtZSIsIl9sb29wIiwibnVtYmVyQW5zd2VyZWQiLCJqIiwiZ2V0RXhwb3J0YWJsZUZlZWRiYWNrRGF0YSIsImZlZWRiYWNrRm9yQ3VycmVudFNjcmlwdCIsImZlZWRiYWNrSWQiLCJpc0N1cnJlbnRTY3JpcHRDU0QiLCJoYXNPd25Qcm9wZXJ0eSIsImFuc3dlckFyciIsIl9yZWYiLCJqb2luIiwiYSIsImFzc2Vzc21lbnRTdHJ1Y3R1cmUiLCJhc3Nlc3NtZW50Iiwic3VydmV5SWQiLCJwYXlsb2FkIiwic2VjdGlvbl9pZCIsInNjcmlwdF9pZCIsIiQiLCJhamF4IiwibWV0aG9kIiwiY29udGVudFR5cGUiLCJkYXRhIiwibW9kdWxlIl0sInNvdXJjZVJvb3QiOiIifQ==