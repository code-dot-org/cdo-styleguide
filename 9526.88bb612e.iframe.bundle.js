"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[9526],{"./src/accounts/constants.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.SingleSignOnProviders=exports.OAuthSectionTypes=exports.LmsLoginTypeNames=exports.LmsLoginInstructionUrls=void 0;var _utils=__webpack_require__("./src/utils.js"),_sharedConstants=__webpack_require__("./generated-scripts/sharedConstants.ts");exports.OAuthSectionTypes=(0,_utils.makeEnum)(_sharedConstants.SectionLoginType.google_classroom,_sharedConstants.SectionLoginType.clever,"microsoft_classroom"),exports.SingleSignOnProviders={google:"google_oauth2",microsoft:"microsoft_v2_auth",clever:"clever",facebook:"facebook",lti_v1:_sharedConstants.SectionLoginType.lti_v1},exports.LmsLoginTypeNames={clever:"Clever",google_classroom:"Google Classroom",canvas:"Canvas",canvas_cloud:"Canvas",canvas_beta_cloud:"Canvas Beta",canvas_test_cloud:"Canvas Test",schoology:"Schoology"},exports.LmsLoginInstructionUrls={clever:"https://support.code.org/hc/en-us/articles/115002716111-Setting-Up-Sections-with-Clever-Sync",google_classroom:"https://support.code.org/hc/en-us/articles/115001319312-Setting-Up-Sections-with-Google-Classroom-Sync",canvas:"https://support.code.org/hc/en-us/articles/23621973451405-Create-and-sync-rosters-with-Canvas",schoology:"https://support.code.org/hc/en-us/articles/23622036958093-Create-and-sync-rosters-with-Schoology"}},"./src/generated/curriculum/sharedCourseConstants.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.PublishedState=exports.ParticipantAudiencesByType=exports.ParticipantAudience=exports.InstructorAudience=exports.InstructionType=exports.DeviceTypes=exports.DeviceCompatibilityLevels=exports.CurriculumUmbrella=exports.CurriculumTopicTags=exports.CurriculumContentArea=exports.CourseOfferingSchoolSubjects=exports.CourseOfferingMarketingInitiatives=exports.CourseOfferingHeaders=exports.CourseOfferingCurriculumTypes=exports.CourseOfferingCsTopics=void 0;exports.PublishedState={in_development:"in_development",pilot:"pilot",beta:"beta",preview:"preview",stable:"stable",sunsetting:"sunsetting",deprecated:"deprecated"},exports.InstructionType={teacher_led:"teacher_led",self_paced:"self_paced"},exports.ParticipantAudience={facilitator:"facilitator",teacher:"teacher",student:"student"},exports.InstructorAudience={universal_instructor:"universal_instructor",plc_reviewer:"plc_reviewer",facilitator:"facilitator",teacher:"teacher"},exports.CurriculumUmbrella={CSF:"CSF",CSD:"CSD",CSP:"CSP",CSA:"CSA",CSC:"CSC",HOC:"HOC",AI:"AI",CSA_self_paced_pl:"CSA Self Paced PL",CSP_self_paced_pl:"CSP Self Paced PL",CSD_self_paced_pl:"CSD Self Paced PL",CSF_self_paced_pl:"CSF Self Paced PL",CSC_self_paced_pl:"CSC Self Paced PL",CSC_k_5_self_paced_pl:"CSC K-5 self-paced PL",student_self_paced:"Student Self Paced Courses",pd_workshop_activity_csf:"PD Workshop Activity CSF",pd_workshop_activity_csd:"PD Workshop Activity CSD",pd_workshop_activity_csp:"PD Workshop Activity CSP",pd_workshop_activity_csa:"PD Workshop Activity CSA",foundations_of_cs:"Foundations of CS",foundations_of_programming:"Foundations of Programming",CSC_K_5:"CSC K-5",CSC_6_8:"CSC 6-8",CSC_9_12:"CSC 9-12",special_topics_k_5:"K-5 Special topics",special_topics_6_8:"6-8 Special topics",special_topics_9_12:"9-12 Special topics",foundations_of_cs_selfpaced_pl:"Foundations of CS selfpaced pl",ai_for_teachers_selfpaced_pl:"AI for teachers selfpaced pl",special_topics_curriculum_selfpaced_pl_k_5:"K-5 Special topics curriculum selfpaced pl",special_topics_curriculum_selfpaced_pl_6_8:"6-8 Special topics curriculum selfpaced pl",special_topics_curriculum_selfpaced_pl_9_12:"9-12 Special topics curriculum selfpaced pl",pedagogy_special_topics_selfpaced_pl:"Pedagogy special topics selfpaced pl",cs_basics_selfpaced_pl:"CS Basics selfpaced pl"},exports.CurriculumTopicTags={ai:"AI",maker:"Maker",music_lab:"Music lab"},exports.CurriculumContentArea={curriculum_k_5:"K-5 Curriculum",curriculum_6_8:"6-8 Curriculum",curriculum_9_12:"9-12 Curriculum",hoc:"HOC",pl_workshop_activities:"PL Workshop activities",self_paced_pl_k_5:"K-5 self-paced PL",self_paced_pl_6_8:"6-8 self-paced PL",self_paced_pl_9_12:"9-12 self-paced PL",skills_focused_self_paced_pl:"Skills-focused self-paced PL",other:"Other"},exports.CourseOfferingCurriculumTypes={module:"Module",course:"Course",standalone_unit:"Standalone Unit",hoc:"Hour of Code",pl:"Professional Learning"},exports.CourseOfferingHeaders={favorites:"Favorites",labs_and_skills:"Labs and Skills",minecraft:"Minecraft",hello_world:"Hello World",popular_media:"Popular Media",sports:"Sports",express:"Express",csf:"CS Fundamentals",csc:"CS Connections",year_long:"Year Long",csa_labs:"CSA Labs",self_paced:"Self-Paced",teacher_led:"Teacher-Led",collections:"Collections",workshops_k5:"K-5 Workshops",summer_workshops_612:"6-12 Summer Workshops",virtual_academic_year_workshops_612:"6â€“12 Virtual Academic Year Workshops",unsupported:"Unsupported"},exports.CourseOfferingMarketingInitiatives={hoc:"HOC",csc:"CSC",csf:"CSF",csa:"CSA",csp:"CSP",csd:"CSD"},exports.CourseOfferingCsTopics=["art_and_design","app_design","artificial_intelligence","cybersecurity","data","digital_literacy","games_and_animations","internet","physical_computing","web_design","programming"],exports.CourseOfferingSchoolSubjects=["math","science","english_language_arts","history"],exports.DeviceTypes=["computer","chromebook","tablet","mobile","no_device"],exports.DeviceCompatibilityLevels=["ideal","not_recommended","incompatible"],exports.ParticipantAudiencesByType={student:["student"],teacher:["student","teacher"],facilitator:["student","teacher","facilitator"]}},"./src/templates/teacherDashboard/teacherSectionsReduxSelectors.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.USER_EDITABLE_SECTION_PROPS=void 0,exports.assignedCourseOffering=function assignedCourseOffering(state){var _getRoot=getRoot(state),sectionBeingEdited=_getRoot.sectionBeingEdited;return _getRoot.courseOfferings[null==sectionBeingEdited?void 0:sectionBeingEdited.courseOfferingId]},exports.assignmentPaths=exports.assignmentNames=void 0,exports.getAssignmentName=function getAssignmentName(state,sectionId){var _getRoot3=getRoot(state),sections=_getRoot3.sections,courseOfferings=_getRoot3.courseOfferings;return assignmentNames(courseOfferings,sections[sectionId])[0]},exports.getRoot=getRoot,exports.getSectionRows=function getSectionRows(state,sectionIds){var _getRoot2=getRoot(state),sections=_getRoot2.sections,courseOfferings=_getRoot2.courseOfferings,courseOfferingsAreLoaded=_getRoot2.courseOfferingsAreLoaded;return sectionIds.map((function(id){return _objectSpread(_objectSpread({},_lodash.default.pick(sections[id],["id","name","courseVersionName","courseDisplayName","loginType","loginTypeName","studentCount","code","participantType","grades","providerManaged","hidden"])),{},{assignmentNames:assignmentNames(courseOfferings,sections[id]),assignmentPaths:assignmentPaths(courseOfferings,sections[id]),courseOfferingsAreLoaded})}))},exports.getVisibleSections=function getVisibleSections(state){var allSections=Object.values(getRoot(state).sections);return sortSectionsList(allSections||[]).filter((function(section){return!section.hidden}))},exports.hiddenPlSectionIds=function hiddenPlSectionIds(state){return(state=getRoot(state)).sectionIds.filter((function(id){return state.sections[id].hidden&&state.sections[id].participantType!==_sharedCourseConstants.ParticipantAudience.student}))},exports.hiddenSectionIds=function hiddenSectionIds(state){return(state=getRoot(state)).sectionIds.filter((function(id){return state.sections[id].hidden}))},exports.hiddenStudentSectionIds=function hiddenStudentSectionIds(state){return(state=getRoot(state)).sectionIds.filter((function(id){return state.sections[id].hidden&&state.sections[id].participantType===_sharedCourseConstants.ParticipantAudience.student}))},exports.isAddingSection=function isAddingSection(state){return!!(state.sectionBeingEdited&&state.sectionBeingEdited.id<0)},exports.isRosterDialogOpen=function isRosterDialogOpen(state){return getRoot(state).isRosterDialogOpen},exports.isSaveInProgress=function isSaveInProgress(state){return getRoot(state).saveInProgress},exports.isSectionProviderManaged=isSectionProviderManaged,exports.ltiSyncResult=function ltiSyncResult(state){return getRoot(state).ltiSyncResult},exports.newSectionData=function newSectionData(participantType){return{id:PENDING_NEW_SECTION_ID,name:"",loginType:void 0,grades:[""],providerManaged:!1,lessonExtras:!0,pairingAllowed:!0,ttsAutoplayEnabled:!1,sharingDisabled:!1,studentCount:0,participantType,code:"",courseId:null,courseOfferingId:null,courseVersionId:null,courseDisplayName:null,unitId:null,unitName:null,isAssignedStandaloneCourse:!1,hidden:!1,restrictSection:!1,aiTutorEnabled:!1}},exports.rosterProvider=rosterProvider,exports.rosterProviderName=rosterProviderName,exports.sectionCode=function sectionCode(state,sectionId){return(getRoot(state).sections[sectionId]||{}).code},exports.sectionFromServerSection=void 0,exports.sectionName=function sectionName(state,sectionId){return(getRoot(state).sections[sectionId]||{}).name},exports.sectionProvider=function sectionProvider(state,sectionId){if(isSectionProviderManaged(state,sectionId))return rosterProvider(state);return null},exports.sectionProviderName=function sectionProviderName(state,sectionId){if(isSectionProviderManaged(state,sectionId))return rosterProviderName(state);return null},exports.sectionUnitName=function sectionUnitName(state,sectionId){return(getRoot(state).sections[sectionId]||{}).courseVersionName},exports.sectionsForDropdown=function sectionsForDropdown(state,courseOfferingId,courseVersionId,unitId){return sortedSectionsList(state.sections).map((function(section){return _objectSpread(_objectSpread({},section),{},{isAssigned:null!==unitId&&section.unitId===unitId||null!==courseOfferingId&&section.courseOfferingId===courseOfferingId&&null!==courseVersionId&&section.courseVersionId===courseVersionId})}))},exports.sectionsNameAndId=function sectionsNameAndId(state){return sortSectionsList(state.sectionIds.map((function(id){return{id:parseInt(id,10),name:state.sections[id].name}})))},exports.selectedSectionSelector=function selectedSectionSelector(state){var selectedSectionId=getRoot(state).selectedSectionId;return selectedSectionId?getRoot(state).sections[selectedSectionId]:null},exports.serverSectionFromSection=function serverSectionFromSection(section){return _objectSpread(_objectSpread({},section),{},{login_type:section.loginType,lesson_extras:section.lessonExtras,pairing_allowed:section.pairingAllowed,tts_autoplay_enabled:section.ttsAutoplayEnabled,sharing_disabled:section.sharingDisabled,course_offering_id:section.courseOfferingId,course_version_id:section.courseVersionId,unit_id:section.unitId,course_id:section.courseId,restrict_section:section.restrictSection,participant_type:section.participantType,ai_tutor_enabled:section.aiTutorEnabled})},exports.studentShape=exports.studentFromServerStudent=exports.sortedSectionsList=exports.sortSectionsList=void 0,exports.syncEnabled=function syncEnabled(state,sectionId){return(getRoot(state).sections[sectionId]||{}).syncEnabled};var _lodash=_interopRequireDefault(__webpack_require__("./node_modules/lodash/lodash.js")),_propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_sharedCourseConstants=__webpack_require__("./src/generated/curriculum/sharedCourseConstants.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}exports.USER_EDITABLE_SECTION_PROPS=["name","loginType","lessonExtras","pairingAllowed","ttsAutoplayEnabled","participantType","courseId","courseOfferingId","courseVersionId","unitId","grades","hidden","restrictSection","codeReviewExpiresAt","aiTutorEnabled"];var PENDING_NEW_SECTION_ID=-1;function getRoot(state){return state.teacherSections}function rosterProvider(state){return getRoot(state).rosterProvider}function rosterProviderName(state){return getRoot(state).rosterProviderName}function isSectionProviderManaged(state,sectionId){return!!(getRoot(state).sections[sectionId]||{}).providerManaged}exports.sectionFromServerSection=function sectionFromServerSection(serverSection){return{id:serverSection.id,name:serverSection.name,courseVersionName:serverSection.courseVersionName,unitName:serverSection.unitName,isAssignedStandaloneCourse:serverSection.isAssignedStandaloneCourse,createdAt:serverSection.createdAt,loginType:serverSection.login_type,loginTypeName:serverSection.login_type_name,grades:serverSection.grades,providerManaged:serverSection.providerManaged||!1,lessonExtras:serverSection.lesson_extras,pairingAllowed:serverSection.pairing_allowed,ttsAutoplayEnabled:serverSection.tts_autoplay_enabled,sharingDisabled:serverSection.sharing_disabled,studentCount:serverSection.studentCount,code:serverSection.code,courseOfferingId:serverSection.course_offering_id,courseVersionId:serverSection.course_version_id,courseDisplayName:serverSection.course_display_name,unitId:serverSection.unit_id,courseId:serverSection.course_id,hidden:serverSection.hidden,restrictSection:serverSection.restrict_section,postMilestoneDisabled:serverSection.post_milestone_disabled,codeReviewExpiresAt:serverSection.code_review_expires_at?Date.parse(serverSection.code_review_expires_at):null,isAssignedCSA:serverSection.is_assigned_csa,participantType:serverSection.participant_type,sectionInstructors:serverSection.section_instructors,syncEnabled:serverSection.sync_enabled,aiTutorEnabled:serverSection.ai_tutor_enabled,anyStudentHasProgress:serverSection.any_student_has_progress}},exports.studentFromServerStudent=function studentFromServerStudent(serverStudent,sectionId){return{sectionId,id:serverStudent.id,name:serverStudent.name,familyName:serverStudent.family_name,sharingDisabled:serverStudent.sharing_disabled,secretPicturePath:serverStudent.secret_picture_path,secretPictureName:serverStudent.secret_picture_name,secretWords:serverStudent.secret_words,userType:serverStudent.user_type}};var assignmentsForSection=function assignmentsForSection(courseOfferings,section){var assignments=[];if(section.courseOfferingId&&section.courseVersionId){var _courseOfferings$sect,courseVersion=null===(_courseOfferings$sect=courseOfferings[section.courseOfferingId])||void 0===_courseOfferings$sect?void 0:_courseOfferings$sect.course_versions[section.courseVersionId];courseVersion&&(assignments.push(courseVersion),section.unitId&&"UnitGroup"===courseVersion.type&&courseVersion.units[section.unitId]&&assignments.push(courseVersion.units[section.unitId]))}return assignments},assignmentNames=exports.assignmentNames=function assignmentNames(courseOfferings,section){return assignmentsForSection(courseOfferings,section).map((function(assignment){return assignment?assignment.name:""}))},assignmentPaths=exports.assignmentPaths=function assignmentPaths(courseOfferings,section){return assignmentsForSection(courseOfferings,section).map((function(assignment){return assignment?assignment.path:""}))};var sortedSectionsList=exports.sortedSectionsList=function sortedSectionsList(sectionsObject){return sortSectionsList(Object.values(sectionsObject))},sortSectionsList=exports.sortSectionsList=function sortSectionsList(sectionsList){return sectionsList.sort((function(a,b){return b.id-a.id}))};exports.studentShape=_propTypes.default.shape({sectionId:_propTypes.default.number,id:_propTypes.default.number.isRequired,name:_propTypes.default.string.isRequired,familyName:_propTypes.default.string,sharingDisabled:_propTypes.default.bool,secretPicturePath:_propTypes.default.string,secretWords:_propTypes.default.string})},"./src/templates/teacherDashboard/teacherSectionsRedux.ts":function(__unused_webpack_module,exports,__webpack_require__){var _a,_b,_c,__assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__read=this&&this.__read||function(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar},__spreadArray=this&&this.__spreadArray||function(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateSelectedSection=exports.updateSectionAiTutorEnabled=exports.startLoadingSectionData=exports.setStudentsForCurrentSection=exports.setSections=exports.setSectionCodeReviewExpiresAt=exports.setRosterProviderName=exports.setRosterProvider=exports.setPageType=exports.setCourseOfferings=exports.setCoteacherInviteForPl=exports.setCoteacherInvite=exports.setAuthProviders=exports.selectSection=exports.rosterImportFailed=exports.removeSection=exports.finishLoadingSectionData=exports.editSectionProperties=exports.cancelImportRosterFlow=exports.cancelEditingSection=exports.beginEditingSection=exports.beginCreatingSection=exports.pageTypes=exports.importOrUpdateRoster=exports.beginImportRosterFlow=exports.unassignSection=exports.assignToSection=exports.asyncLoadCoteacherInvite=exports.asyncLoadSectionData=exports.removeSectionOrThrow=exports.finishEditingSection=exports.toggleSectionHidden=exports.__testInterface__=exports.SELECT_SECTION=exports.NO_SECTION=void 0;var toolkit_1=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),lodash_1=__importDefault(__webpack_require__("./node_modules/lodash/lodash.js")),constants_1=__webpack_require__("./src/accounts/constants.js"),sharedCourseConstants_1=__webpack_require__("./src/generated/curriculum/sharedCourseConstants.js"),AnalyticsConstants_1=__webpack_require__("./src/metrics/AnalyticsConstants.js"),AnalyticsReporter_1=__importDefault(__webpack_require__("./src/metrics/AnalyticsReporter.js")),firehose_1=__importDefault(__webpack_require__("./src/metrics/firehose.js")),sharedConstants_1=__webpack_require__("./generated-scripts/sharedConstants.ts"),teacherSectionsReduxSelectors_1=__webpack_require__("./src/templates/teacherDashboard/teacherSectionsReduxSelectors.js");exports.NO_SECTION=null,exports.SELECT_SECTION="teacherSections/selectSection";var initialState={nextTempId:-1,studioUrl:"",providers:[],sectionIds:[],studentSectionIds:[],plSectionIds:[],selectedSectionId:exports.NO_SECTION,selectedSectionName:"",courseOfferings:[],courseOfferingsAreLoaded:!1,availableParticipantTypes:[],sections:{},selectedStudents:[],sectionsAreLoaded:!1,showSectionEditDialog:!1,saveInProgress:!1,asyncLoadComplete:!1,isRosterDialogOpen:!1,rosterProvider:null,rosterProviderName:null,classrooms:null,sectionBeingEdited:null,loadError:null,pageType:"",ltiSyncResult:null,isLoadingSectionData:!1,initialUnitName:null},mapProviderToSectionType=function(provider){return"google_oauth2"===provider?constants_1.OAuthSectionTypes.google_classroom:provider},sectionFromServerSection=function(section){return(0,teacherSectionsReduxSelectors_1.sectionFromServerSection)(section)},sectionSlice=(0,toolkit_1.createSlice)({name:"teacherSections",initialState,reducers:{setAuthProviders:function(state,action){state.providers=action.payload.map(mapProviderToSectionType)},setRosterProvider:function(state,action){action.payload&&(constants_1.OAuthSectionTypes[action.payload]||action.payload===sharedConstants_1.SectionLoginType.lti_v1)&&(state.rosterProvider=action.payload)},setPageType:function(state,action){state.pageType=action.payload},selectSection:function(state,action){if(action.payload){var id=parseInt(action.payload.toString(),10);state.sectionIds.includes(id)?(state.selectedSectionId=id,state.selectedSectionName=state.sections[id].name):(state.selectedSectionId=exports.NO_SECTION,state.selectedSectionName="")}else state.selectedSectionId=exports.NO_SECTION,state.selectedSectionName=""},updateSelectedSection:function(state,action){var sectionId=action.payload.id;sectionId&&(state.sections[sectionId]=__assign(__assign({},state.sections[sectionId]),sectionFromServerSection(action.payload)))},setSections:{reducer:function(state,action){var sections=action.payload.sections.map(sectionFromServerSection),selectedSectionId=action.payload.autoSelectOnlySection&&1===Object.keys(sections).length?action.payload.sections[0].id:state.selectedSectionId;sections.forEach((function(section){var prevSection=state.sections[section.id];prevSection&&Object.keys(section).forEach((function(key){if(void 0===section[key]&&void 0!==prevSection[key])throw new Error("SET_SECTIONS called multiple times in a way that would remove data")}))}));var sectionIds=lodash_1.default.uniq(state.sectionIds.concat(sections.map((function(section){return section.id})))),studentSectionIds=sections.filter((function(section){return section.participantType===sharedCourseConstants_1.ParticipantAudience.student})).map((function(section){return section.id})),plSectionIds=sections.filter((function(section){return section.participantType!==sharedCourseConstants_1.ParticipantAudience.student})).map((function(section){return section.id}));state.sectionsAreLoaded=!0,state.selectedSectionId=selectedSectionId,state.sectionIds=sectionIds,state.studentSectionIds=studentSectionIds,state.plSectionIds=plSectionIds,state.sections=__assign(__assign({},state.sections),lodash_1.default.keyBy(sections,"id"))},prepare:function(sections,autoSelectOnlySection){return void 0===autoSelectOnlySection&&(autoSelectOnlySection=!0),{payload:{sections,autoSelectOnlySection}}}},startLoadingSectionData:function(state){state.isLoadingSectionData=!0},finishLoadingSectionData:function(state){state.isLoadingSectionData=!1},setStudentsForCurrentSection:{reducer:function(state,action){var selectedStudents=(action.payload.students||[]).map((function(student){return(0,teacherSectionsReduxSelectors_1.studentFromServerStudent)(student,action.payload.sectionId)}));state.selectedStudents=selectedStudents},prepare:function(sectionId,students){return{payload:{sectionId,students}}}},setRosterProviderName:function(state,action){state.rosterProviderName=action.payload},updateSectionAiTutorEnabled:function(state,action){var _a=action.payload,sectionId=_a.sectionId,aiTutorEnabled=_a.aiTutorEnabled;state.sections[sectionId].aiTutorEnabled=aiTutorEnabled},setCourseOfferings:function(state,action){state.courseOfferings=action.payload,state.courseOfferingsAreLoaded=!0},setAvailableParticipantTypes:function(state,action){state.availableParticipantTypes=action.payload},setSectionCodeReviewExpiresAt:{reducer:function(state,action){if(!state.sections[action.payload.sectionId])throw new Error("section does not exist");state.sections[action.payload.sectionId].codeReviewExpiresAt=action.payload.codeReviewExpiresAt?Date.parse(action.payload.codeReviewExpiresAt):null},prepare:function(sectionId,codeReviewExpiresAt){return{payload:{sectionId,codeReviewExpiresAt}}}},removeSection:function(state,action){var sectionId=action.payload;state.sections[sectionId];state.sectionIds=lodash_1.default.without(state.sectionIds,sectionId),state.studentSectionIds=lodash_1.default.without(state.studentSectionIds,sectionId),state.plSectionIds=lodash_1.default.without(state.plSectionIds,sectionId),state.sections=lodash_1.default.omit(state.sections,sectionId)},beginCreatingSection:{reducer:function(state,action){var initialSectionData=(0,teacherSectionsReduxSelectors_1.newSectionData)(action.payload.participantType);action.payload.courseOfferingId&&(initialSectionData.courseOfferingId=action.payload.courseOfferingId),action.payload.courseVersionId&&(initialSectionData.courseVersionId=action.payload.courseVersionId),action.payload.unitId&&(initialSectionData.unitId=action.payload.unitId),state.initialCourseId=initialSectionData.courseId,state.initialUnitId=initialSectionData.unitId,state.initialCourseOfferingId=initialSectionData.courseOfferingId,state.initialCourseVersionId=initialSectionData.courseVersionId,state.initialLoginType=initialSectionData.loginType,state.initialUnitName=initialSectionData.unitName,state.sectionBeingEdited=initialSectionData},prepare:function(courseOfferingId,courseVersionId,unitId,participantType){return{payload:{courseOfferingId,courseVersionId,unitId,participantType}}}},beginEditingSection:{reducer:function(state,action){var silent=!!action.payload.silent,initialParticipantType=1===state.availableParticipantTypes.length?state.availableParticipantTypes[0]:void 0,initialSectionData=action.payload.sectionId?__assign({},state.sections[action.payload.sectionId]):(0,teacherSectionsReduxSelectors_1.newSectionData)(initialParticipantType);state.initialCourseId=initialSectionData.courseId,state.initialUnitId=initialSectionData.unitId,state.initialCourseOfferingId=initialSectionData.courseOfferingId,state.initialCourseVersionId=initialSectionData.courseVersionId,state.initialLoginType=initialSectionData.loginType,state.sectionBeingEdited=initialSectionData,state.showSectionEditDialog=!silent},prepare:function(sectionId,silent){return void 0===sectionId&&(sectionId=null),void 0===silent&&(silent=!1),{payload:{sectionId,silent}}}},editSectionProperties:function(state,action){if(!state.sectionBeingEdited)throw new Error("Cannot edit section properties; no section is currently being edited.");for(var key in action.payload)if(!teacherSectionsReduxSelectors_1.USER_EDITABLE_SECTION_PROPS.includes(key))throw new Error("Cannot edit property ".concat(key,"; it's not allowed."));action.payload.participantType&&action.payload.participantType!==sharedCourseConstants_1.ParticipantAudience.student&&(state.sectionBeingEdited.loginType=sharedConstants_1.SectionLoginType.email,state.sectionBeingEdited.grades=[sharedConstants_1.PlGradeValue]),action.payload.unitId&&void 0===action.payload.lessonExtras&&(state.sectionBeingEdited.lessonExtras=!0),action.payload.unitId&&void 0===action.payload.ttsAutoplayEnabled&&(state.sectionBeingEdited.ttsAutoplayEnabled=!1),state.sectionBeingEdited=__assign(__assign({},state.sectionBeingEdited),action.payload)},startSaveRequest:function(state){state.saveInProgress=!0},finishSaveRequest:function(state,action){var section=sectionFromServerSection(action.payload.serverSection),oldSectionId=action.payload.sectionId,isNewSection=section.id!==oldSectionId;isNewSection&&(state.sectionIds.includes(oldSectionId)?state.sectionIds=state.sectionIds.map((function(id){return id===oldSectionId?section.id:id})):state.sectionIds=__spreadArray([section.id],__read(state.sectionIds),!1)),delete state.sections[oldSectionId],state.sections[section.id]=__assign(__assign({},state.sections[section.id]),section),state.studentSectionIds=Object.values(state.sections).filter((function(section){return section.participantType===sharedCourseConstants_1.ParticipantAudience.student})).map((function(section){return section.id})),state.plSectionIds=Object.values(state.sections).filter((function(section){return section.participantType!==sharedCourseConstants_1.ParticipantAudience.student})).map((function(section){return section.id})),section.loginType!==state.initialLoginType&&firehose_1.default.putRecord({study:"teacher-dashboard",study_group:"edit-section-details",event:"change-login-type",data_json:JSON.stringify({sectionId:section.id,initialLoginType:state.initialLoginType,updatedLoginType:section.loginType})},{includeUserId:!0});var assignmentData={section_id:section.id,section_creation_timestamp:section.createdAt,page_name:state.pageType};section.unitId!==state.initialUnitId&&(assignmentData.unit_id=section.unitId),section.courseId!==state.initialCourseId&&(assignmentData.course_id=section.courseId),section.courseOfferingId!==state.initialCourseOfferingId&&(assignmentData.course_offering_id=section.courseOfferingId),section.courseVersionId!==state.initialCourseVersionId&&(assignmentData.course_version_id=section.courseVersionId),section.unitName!==state.initialUnitName&&(assignmentData.unitName=section.unitName),(assignmentData.unit_id||assignmentData.course_id)&&firehose_1.default.putRecord({study:"assignment",study_group:"v1",event:isNewSection?"create_section":"edit_section_details",data_json:JSON.stringify(assignmentData)},{includeUserId:!0}),state.sectionBeingEdited=null,state.saveInProgress=!1},failSaveRequest:function(state){state.saveInProgress=!1},beginAsyncLoad:function(state){state.asyncLoadComplete=!1},endAsyncLoad:function(state){state.asyncLoadComplete=!0},cancelEditingSection:function(state){state.sectionBeingEdited=null},setCoteacherInvite:function(state,action){state.coteacherInvite=action.payload},setCoteacherInviteForPl:function(state,action){state.coteacherInviteForPl=action.payload},beginImportRosterFlow:function(state){state.isRosterDialogOpen=!0,state.classrooms=null},importRosterFlowListLoaded:function(state,action){state.classrooms=action.payload},cancelImportRosterFlow:function(state){state.isRosterDialogOpen=!1,state.rosterProvider=null,state.classrooms=null},rosterImportFailed:function(state,action){state.loadError={status:action.payload.status,message:action.payload.message}},rosterImportRequest:function(state){state.classrooms=null},rosterImportSuccess:function(state,action){state.isRosterDialogOpen=!1,state.sectionBeingEdited=__assign(__assign({},state.sections[action.payload]),{hidden:!1})},ltiRosterImportSuccess:function(state,action){state.ltiSyncResult=action.payload}}});exports.__testInterface__={EDIT_SECTION_REQUEST:"teacherSections/startSaveRequest",EDIT_SECTION_SUCCESS:"teacherSections/finishSaveRequest",IMPORT_ROSTER_FLOW_BEGIN:"teacherSections/beginImportRosterFlow",IMPORT_ROSTER_FLOW_LIST_LOADED:"teacherSections/importRosterFlowListLoaded",PENDING_NEW_SECTION_ID:-1,USER_EDITABLE_SECTION_PROPS:teacherSectionsReduxSelectors_1.USER_EDITABLE_SECTION_PROPS};exports.toggleSectionHidden=function(sectionId){return function(dispatch,getState){dispatch((0,exports.beginEditingSection)(sectionId,!0));var currentlyHidden=getState().teacherSections.sections[sectionId].hidden;return dispatch((0,exports.editSectionProperties)({hidden:!currentlyHidden})),firehose_1.default.putRecord({study:"teacher_dashboard_actions",study_group:"toggleSectionHidden",event:currentlyHidden?"restoreSection":"archiveSection",data_json:JSON.stringify({section_id:sectionId})}),dispatch((0,exports.finishEditingSection)())}};exports.finishEditingSection=function(){return function(dispatch,getState){var section=getState().teacherSections.sectionBeingEdited;if(!section)throw new Error("section does not exist");return new Promise((function(resolve,reject){(function(dispatch,getState){dispatch(startSaveRequest());var state=getState().teacherSections,section=state.sectionBeingEdited;if(!section)throw new Error("section does not exist");return(0,teacherSectionsReduxSelectors_1.isAddingSection)(state)?$.ajax({url:"/dashboardapi/sections",method:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify((0,teacherSectionsReduxSelectors_1.serverSectionFromSection)(section))}):$.ajax({url:"/dashboardapi/sections/".concat(section.id),method:"PATCH",contentType:"application/json;charset=UTF-8",data:JSON.stringify((0,teacherSectionsReduxSelectors_1.serverSectionFromSection)(section))})})(dispatch,getState).done((function(result){dispatch(finishSaveRequest({sectionId:section.id,serverSection:result})),resolve(result)})).fail((function(jqXhr,status){dispatch(failSaveRequest()),reject(status)}))}))}};exports.removeSectionOrThrow=function(sectionId){return function(dispatch,getState){if(!getState().teacherSections.sections[sectionId])throw new Error("section does not exist");dispatch((0,exports.removeSection)(sectionId))}};function fetchJSON(url,params){return new Promise((function(resolve,reject){$.getJSON(url,params).done(resolve).fail((function(jqxhr){return reject(new Error("\n        url: ".concat(url,"\n        status: ").concat(jqxhr.status,"\n        statusText: ").concat(jqxhr.statusText,"\n        responseText: ").concat(jqxhr.responseText,"\n      ")))}))}))}exports.asyncLoadSectionData=function(id){return function(dispatch){dispatch(beginAsyncLoad());var promises=[fetchJSON("/dashboardapi/sections").then((function(sections){return dispatch((0,exports.setSections)(sections))})),fetchJSON("/dashboardapi/sections/valid_course_offerings").then((function(offerings){return dispatch((0,exports.setCourseOfferings)(offerings))})),fetchJSON("/dashboardapi/sections/available_participant_types").then((function(participantTypes){return dispatch(setAvailableParticipantTypes(participantTypes.availableParticipantTypes))}))];return id&&promises.push(fetchJSON("/dashboardapi/sections/".concat(id,"/students")).then((function(students){return dispatch((0,exports.setStudentsForCurrentSection)(id,students))}))),Promise.all(promises).catch((function(err){console.error(err.message)})).then((function(){dispatch(endAsyncLoad())}))}};exports.asyncLoadCoteacherInvite=function(){return function(dispatch){fetchJSON("/api/v1/section_instructors").then((function(response){var sectionInstructors=response,coteacherInviteForPl=sectionInstructors.find((function(instructorInvite){return"invited"===instructorInvite.status&&"student"!==instructorInvite.participant_type})),coteacherInviteForClassrooms=sectionInstructors.find((function(instructorInvite){return"invited"===instructorInvite.status&&"student"===instructorInvite.participant_type}));dispatch((0,exports.setCoteacherInvite)(coteacherInviteForClassrooms)),dispatch((0,exports.setCoteacherInviteForPl)(coteacherInviteForPl))})).catch((function(err){console.error(err.message)}))}};exports.assignToSection=function(sectionId,courseId,courseOfferingId,courseVersionId,unitId,pageType){return firehose_1.default.putRecord({study:"assignment",event:"course-assigned-to-section",data_json:JSON.stringify({sectionId,unitId,courseId,date:new Date},removeNullValues)},{includeUserId:!0}),function(dispatch,getState){var section=getState().teacherSections.sections[sectionId];return(courseOfferingId&&section.courseOfferingId!==courseOfferingId||courseVersionId&&section.courseVersionId!==courseVersionId||unitId&&section.unitId!==unitId)&&AnalyticsReporter_1.default.sendEvent(AnalyticsConstants_1.EVENTS.CURRICULUM_ASSIGNED,{sectionName:section.name,sectionId,sectionLoginType:section.loginType,previousUnitId:section.unitId,previousCourseId:section.courseOfferingId,previousCourseVersionId:section.courseVersionId,newUnitId:unitId,newCourseId:courseOfferingId,newCourseVersionId:courseVersionId},AnalyticsConstants_1.PLATFORMS.BOTH),dispatch((0,exports.beginEditingSection)(sectionId,!0)),dispatch((0,exports.editSectionProperties)({courseId,courseOfferingId,courseVersionId,unitId})),dispatch((0,exports.finishEditingSection)())}};function removeNullValues(key,val){if(null!=val)return val}exports.unassignSection=function(sectionId,location){return function(dispatch,getState){dispatch((0,exports.beginEditingSection)(sectionId,!0));var _a=getState().teacherSections,initialCourseId=_a.initialCourseId,initialUnitId=_a.initialUnitId;return dispatch((0,exports.editSectionProperties)({courseId:null,courseOfferingId:null,courseVersionId:null,unitId:null})),firehose_1.default.putRecord({study:"assignment",event:"course-unassigned-from-section",data_json:JSON.stringify({sectionId,scriptId:initialUnitId,courseId:initialCourseId,location,date:new Date},removeNullValues)},{includeUserId:!0}),dispatch((0,exports.finishEditingSection)())}};var urlByProvider=((_a={})[constants_1.OAuthSectionTypes.google_classroom]="/dashboardapi/google_classrooms",_a[constants_1.OAuthSectionTypes.clever]="/dashboardapi/clever_classrooms",_a);exports.beginImportRosterFlow=function(){return function(dispatch,getState){var state=getState().teacherSections,provider=state.rosterProvider;return provider&&Object.keys(urlByProvider).includes(provider)?state.isRosterDialogOpen?Promise.resolve():(dispatch(sectionSlice.actions.beginImportRosterFlow()),new Promise((function(resolve,reject){var url=urlByProvider[provider];$.ajax(url).done((function(response){dispatch(importRosterFlowListLoaded(response.courses||[])),resolve()})).fail((function(result){var message=result.responseJSON?result.responseJSON.error:"Unknown error.";dispatch((0,exports.rosterImportFailed)({status:result.status,message})),reject(new Error(message))}))}))):Promise.reject(new Error("Unable to begin import roster flow without a provider"))}};var importUrlByProvider=((_b={})[constants_1.OAuthSectionTypes.google_classroom]="/dashboardapi/import_google_classroom",_b[constants_1.OAuthSectionTypes.clever]="/dashboardapi/import_clever_classroom",_b[sharedConstants_1.SectionLoginType.lti_v1]="/lti/v1/sync_course",_b);exports.importOrUpdateRoster=function(courseId,courseName){return function(dispatch,getState){var provider=getState().teacherSections.rosterProvider;if(!provider)throw new Error("Roster provider has not been set.");var sectionId,importSectionUrl=importUrlByProvider[provider];return dispatch(rosterImportRequest()),provider===sharedConstants_1.SectionLoginType.lti_v1?fetch("".concat(importSectionUrl,"?section_code=").concat(courseId),{headers:{Accept:"application/json"}}).then((function(response){return response.json()})).then((function(results){return dispatch(ltiRosterImportSuccess(results))})):fetchJSON(importSectionUrl,{courseId,courseName}).then((function(newSection){return sectionId=newSection.id})).then((function(){return dispatch((0,exports.asyncLoadSectionData)())})).then((function(){return dispatch(rosterImportSuccess(sectionId))}))}},exports.pageTypes={level:"level",scriptOverview:"script_overview",courseOverview:"course_overview",lessonExtras:"lesson_extras",homepage:"homepage"};var _d=sectionSlice.actions,beginAsyncLoad=_d.beginAsyncLoad,endAsyncLoad=_d.endAsyncLoad,failSaveRequest=_d.failSaveRequest,finishSaveRequest=_d.finishSaveRequest,importRosterFlowListLoaded=_d.importRosterFlowListLoaded,ltiRosterImportSuccess=_d.ltiRosterImportSuccess,rosterImportRequest=_d.rosterImportRequest,rosterImportSuccess=_d.rosterImportSuccess,setAvailableParticipantTypes=_d.setAvailableParticipantTypes,startSaveRequest=_d.startSaveRequest;exports.beginCreatingSection=(_c=sectionSlice.actions).beginCreatingSection,exports.beginEditingSection=_c.beginEditingSection,exports.cancelEditingSection=_c.cancelEditingSection,exports.cancelImportRosterFlow=_c.cancelImportRosterFlow,exports.editSectionProperties=_c.editSectionProperties,exports.finishLoadingSectionData=_c.finishLoadingSectionData,exports.removeSection=_c.removeSection,exports.rosterImportFailed=_c.rosterImportFailed,exports.selectSection=_c.selectSection,exports.setAuthProviders=_c.setAuthProviders,exports.setCoteacherInvite=_c.setCoteacherInvite,exports.setCoteacherInviteForPl=_c.setCoteacherInviteForPl,exports.setCourseOfferings=_c.setCourseOfferings,exports.setPageType=_c.setPageType,exports.setRosterProvider=_c.setRosterProvider,exports.setRosterProviderName=_c.setRosterProviderName,exports.setSectionCodeReviewExpiresAt=_c.setSectionCodeReviewExpiresAt,exports.setSections=_c.setSections,exports.setStudentsForCurrentSection=_c.setStudentsForCurrentSection,exports.startLoadingSectionData=_c.startLoadingSectionData,exports.updateSectionAiTutorEnabled=_c.updateSectionAiTutorEnabled,exports.updateSelectedSection=_c.updateSelectedSection,exports.default=sectionSlice.reducer}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUlOLE9BV0ZwSyxhQUFhbUosUUFWZmxGLGVBQWMsa0JBQ2RDLGFBQVksZ0JBQ1pGLGdCQUFlLG1CQUNmaEIsa0JBQWlCLHFCQUNqQnlCLDJCQUEwQiw4QkFDMUJPLHVCQUFzQiwwQkFDdEJGLG9CQUFtQix1QkFDbkJDLG9CQUFtQix1QkFDbkJuRCw2QkFBNEIsZ0NBQzVCbUIsaUJBQWdCLG9CQUloQixRQUFBZCxzQkFEVyxHQXVCVGpDLGFBQWFtSixTQUFPLHFCQXJCdEIsUUFBQTNHLG9CQUFtQix1QkFDbkIsUUFBQTJCLHFCQUFvQix3QkFDcEIsUUFBQU8sdUJBQXNCLDBCQUN0QixRQUFBL0Isc0JBQXFCLHlCQUNyQixRQUFBckIseUJBQXdCLDRCQUN4QixRQUFBUSxjQUFhLGlCQUNiLFFBQUE2QyxtQkFBa0Isc0JBQ2xCLFFBQUFuRSxjQUFhLGlCQUNiLFFBQUFMLGlCQUFnQixvQkFDaEIsUUFBQWlFLG1CQUFrQixzQkFDbEIsUUFBQUUsd0JBQXVCLDJCQUN2QixRQUFBM0MsbUJBQWtCLHNCQUNsQixRQUFBcEIsWUFBVyxlQUNYLFFBQUFELGtCQUFpQixxQkFDakIsUUFBQW1CLHNCQUFxQix5QkFDckIsUUFBQUksOEJBQTZCLGlDQUM3QixRQUFBakIsWUFBVyxlQUNYLFFBQUFXLDZCQUE0QixnQ0FDNUIsUUFBQUYsd0JBQXVCLDJCQUN2QixRQUFBSyw0QkFBMkIsK0JBQzNCLFFBQUFmLHNCQUFxQix5QkFHdkIsZ0JBQWVYLGFBQWFhLE8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvYWNjb3VudHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9nZW5lcmF0ZWQvY3VycmljdWx1bS9zaGFyZWRDb3Vyc2VDb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3RlbXBsYXRlcy90ZWFjaGVyRGFzaGJvYXJkL3RlYWNoZXJTZWN0aW9uc1JlZHV4U2VsZWN0b3JzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy90ZW1wbGF0ZXMvdGVhY2hlckRhc2hib2FyZC90ZWFjaGVyU2VjdGlvbnNSZWR1eC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge21ha2VFbnVtfSBmcm9tICdAY2RvL2FwcHMvdXRpbHMnO1xuaW1wb3J0IHtTZWN0aW9uTG9naW5UeXBlfSBmcm9tICdAY2RvL2dlbmVyYXRlZC1zY3JpcHRzL3NoYXJlZENvbnN0YW50cyc7XG5cbmV4cG9ydCBjb25zdCBPQXV0aFNlY3Rpb25UeXBlcyA9IG1ha2VFbnVtKFxuICBTZWN0aW9uTG9naW5UeXBlLmdvb2dsZV9jbGFzc3Jvb20sXG4gIFNlY3Rpb25Mb2dpblR5cGUuY2xldmVyLFxuICAnbWljcm9zb2Z0X2NsYXNzcm9vbSdcbik7XG5cbmV4cG9ydCBjb25zdCBTaW5nbGVTaWduT25Qcm92aWRlcnMgPSB7XG4gIGdvb2dsZTogJ2dvb2dsZV9vYXV0aDInLFxuICBtaWNyb3NvZnQ6ICdtaWNyb3NvZnRfdjJfYXV0aCcsXG4gIGNsZXZlcjogJ2NsZXZlcicsXG4gIGZhY2Vib29rOiAnZmFjZWJvb2snLFxuICBsdGlfdjE6IFNlY3Rpb25Mb2dpblR5cGUubHRpX3YxLFxufTtcblxuZXhwb3J0IGNvbnN0IExtc0xvZ2luVHlwZU5hbWVzID0ge1xuICBjbGV2ZXI6ICdDbGV2ZXInLFxuICBnb29nbGVfY2xhc3Nyb29tOiAnR29vZ2xlIENsYXNzcm9vbScsXG4gIGNhbnZhczogJ0NhbnZhcycsXG4gIGNhbnZhc19jbG91ZDogJ0NhbnZhcycsXG4gIGNhbnZhc19iZXRhX2Nsb3VkOiAnQ2FudmFzIEJldGEnLFxuICBjYW52YXNfdGVzdF9jbG91ZDogJ0NhbnZhcyBUZXN0JyxcbiAgc2Nob29sb2d5OiAnU2Nob29sb2d5Jyxcbn07XG5cbmV4cG9ydCBjb25zdCBMbXNMb2dpbkluc3RydWN0aW9uVXJscyA9IHtcbiAgY2xldmVyOlxuICAgICdodHRwczovL3N1cHBvcnQuY29kZS5vcmcvaGMvZW4tdXMvYXJ0aWNsZXMvMTE1MDAyNzE2MTExLVNldHRpbmctVXAtU2VjdGlvbnMtd2l0aC1DbGV2ZXItU3luYycsXG4gIGdvb2dsZV9jbGFzc3Jvb206XG4gICAgJ2h0dHBzOi8vc3VwcG9ydC5jb2RlLm9yZy9oYy9lbi11cy9hcnRpY2xlcy8xMTUwMDEzMTkzMTItU2V0dGluZy1VcC1TZWN0aW9ucy13aXRoLUdvb2dsZS1DbGFzc3Jvb20tU3luYycsXG4gIGNhbnZhczpcbiAgICAnaHR0cHM6Ly9zdXBwb3J0LmNvZGUub3JnL2hjL2VuLXVzL2FydGljbGVzLzIzNjIxOTczNDUxNDA1LUNyZWF0ZS1hbmQtc3luYy1yb3N0ZXJzLXdpdGgtQ2FudmFzJyxcbiAgc2Nob29sb2d5OlxuICAgICdodHRwczovL3N1cHBvcnQuY29kZS5vcmcvaGMvZW4tdXMvYXJ0aWNsZXMvMjM2MjIwMzY5NTgwOTMtQ3JlYXRlLWFuZC1zeW5jLXJvc3RlcnMtd2l0aC1TY2hvb2xvZ3knLFxufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG5cbi8vIFRoaXMgaXMgYSBnZW5lcmF0ZWQgZmlsZSBhbmQgU0hPVUxEIE5PVCBCRSBFRElURUQgTUFOVUFMTFkhIVxuLy8gQ29udGVudHMgYXJlIGdlbmVyYXRlZCBhcyBwYXJ0IG9mIGdydW50IGJ1aWxkXG4vLyBTb3VyY2Ugb2YgdHJ1dGggaXMgbGliL2Nkby9zaGFyZWRfY29uc3RhbnRzLnJiIGFuZCBmaWxlcyBpbiBsaWIvY2RvL3NoYXJlZF9jb25zdGFudHMvXG5cbmV4cG9ydCBjb25zdCBQdWJsaXNoZWRTdGF0ZSA9IHtcbiAgXCJpbl9kZXZlbG9wbWVudFwiOiBcImluX2RldmVsb3BtZW50XCIsXG4gIFwicGlsb3RcIjogXCJwaWxvdFwiLFxuICBcImJldGFcIjogXCJiZXRhXCIsXG4gIFwicHJldmlld1wiOiBcInByZXZpZXdcIixcbiAgXCJzdGFibGVcIjogXCJzdGFibGVcIixcbiAgXCJzdW5zZXR0aW5nXCI6IFwic3Vuc2V0dGluZ1wiLFxuICBcImRlcHJlY2F0ZWRcIjogXCJkZXByZWNhdGVkXCJcbn07XG5cbmV4cG9ydCBjb25zdCBJbnN0cnVjdGlvblR5cGUgPSB7XG4gIFwidGVhY2hlcl9sZWRcIjogXCJ0ZWFjaGVyX2xlZFwiLFxuICBcInNlbGZfcGFjZWRcIjogXCJzZWxmX3BhY2VkXCJcbn07XG5cbmV4cG9ydCBjb25zdCBQYXJ0aWNpcGFudEF1ZGllbmNlID0ge1xuICBcImZhY2lsaXRhdG9yXCI6IFwiZmFjaWxpdGF0b3JcIixcbiAgXCJ0ZWFjaGVyXCI6IFwidGVhY2hlclwiLFxuICBcInN0dWRlbnRcIjogXCJzdHVkZW50XCJcbn07XG5cbmV4cG9ydCBjb25zdCBJbnN0cnVjdG9yQXVkaWVuY2UgPSB7XG4gIFwidW5pdmVyc2FsX2luc3RydWN0b3JcIjogXCJ1bml2ZXJzYWxfaW5zdHJ1Y3RvclwiLFxuICBcInBsY19yZXZpZXdlclwiOiBcInBsY19yZXZpZXdlclwiLFxuICBcImZhY2lsaXRhdG9yXCI6IFwiZmFjaWxpdGF0b3JcIixcbiAgXCJ0ZWFjaGVyXCI6IFwidGVhY2hlclwiXG59O1xuXG5leHBvcnQgY29uc3QgQ3VycmljdWx1bVVtYnJlbGxhID0ge1xuICBcIkNTRlwiOiBcIkNTRlwiLFxuICBcIkNTRFwiOiBcIkNTRFwiLFxuICBcIkNTUFwiOiBcIkNTUFwiLFxuICBcIkNTQVwiOiBcIkNTQVwiLFxuICBcIkNTQ1wiOiBcIkNTQ1wiLFxuICBcIkhPQ1wiOiBcIkhPQ1wiLFxuICBcIkFJXCI6IFwiQUlcIixcbiAgXCJDU0Ffc2VsZl9wYWNlZF9wbFwiOiBcIkNTQSBTZWxmIFBhY2VkIFBMXCIsXG4gIFwiQ1NQX3NlbGZfcGFjZWRfcGxcIjogXCJDU1AgU2VsZiBQYWNlZCBQTFwiLFxuICBcIkNTRF9zZWxmX3BhY2VkX3BsXCI6IFwiQ1NEIFNlbGYgUGFjZWQgUExcIixcbiAgXCJDU0Zfc2VsZl9wYWNlZF9wbFwiOiBcIkNTRiBTZWxmIFBhY2VkIFBMXCIsXG4gIFwiQ1NDX3NlbGZfcGFjZWRfcGxcIjogXCJDU0MgU2VsZiBQYWNlZCBQTFwiLFxuICBcIkNTQ19rXzVfc2VsZl9wYWNlZF9wbFwiOiBcIkNTQyBLLTUgc2VsZi1wYWNlZCBQTFwiLFxuICBcInN0dWRlbnRfc2VsZl9wYWNlZFwiOiBcIlN0dWRlbnQgU2VsZiBQYWNlZCBDb3Vyc2VzXCIsXG4gIFwicGRfd29ya3Nob3BfYWN0aXZpdHlfY3NmXCI6IFwiUEQgV29ya3Nob3AgQWN0aXZpdHkgQ1NGXCIsXG4gIFwicGRfd29ya3Nob3BfYWN0aXZpdHlfY3NkXCI6IFwiUEQgV29ya3Nob3AgQWN0aXZpdHkgQ1NEXCIsXG4gIFwicGRfd29ya3Nob3BfYWN0aXZpdHlfY3NwXCI6IFwiUEQgV29ya3Nob3AgQWN0aXZpdHkgQ1NQXCIsXG4gIFwicGRfd29ya3Nob3BfYWN0aXZpdHlfY3NhXCI6IFwiUEQgV29ya3Nob3AgQWN0aXZpdHkgQ1NBXCIsXG4gIFwiZm91bmRhdGlvbnNfb2ZfY3NcIjogXCJGb3VuZGF0aW9ucyBvZiBDU1wiLFxuICBcImZvdW5kYXRpb25zX29mX3Byb2dyYW1taW5nXCI6IFwiRm91bmRhdGlvbnMgb2YgUHJvZ3JhbW1pbmdcIixcbiAgXCJDU0NfS181XCI6IFwiQ1NDIEstNVwiLFxuICBcIkNTQ182XzhcIjogXCJDU0MgNi04XCIsXG4gIFwiQ1NDXzlfMTJcIjogXCJDU0MgOS0xMlwiLFxuICBcInNwZWNpYWxfdG9waWNzX2tfNVwiOiBcIkstNSBTcGVjaWFsIHRvcGljc1wiLFxuICBcInNwZWNpYWxfdG9waWNzXzZfOFwiOiBcIjYtOCBTcGVjaWFsIHRvcGljc1wiLFxuICBcInNwZWNpYWxfdG9waWNzXzlfMTJcIjogXCI5LTEyIFNwZWNpYWwgdG9waWNzXCIsXG4gIFwiZm91bmRhdGlvbnNfb2ZfY3Nfc2VsZnBhY2VkX3BsXCI6IFwiRm91bmRhdGlvbnMgb2YgQ1Mgc2VsZnBhY2VkIHBsXCIsXG4gIFwiYWlfZm9yX3RlYWNoZXJzX3NlbGZwYWNlZF9wbFwiOiBcIkFJIGZvciB0ZWFjaGVycyBzZWxmcGFjZWQgcGxcIixcbiAgXCJzcGVjaWFsX3RvcGljc19jdXJyaWN1bHVtX3NlbGZwYWNlZF9wbF9rXzVcIjogXCJLLTUgU3BlY2lhbCB0b3BpY3MgY3VycmljdWx1bSBzZWxmcGFjZWQgcGxcIixcbiAgXCJzcGVjaWFsX3RvcGljc19jdXJyaWN1bHVtX3NlbGZwYWNlZF9wbF82XzhcIjogXCI2LTggU3BlY2lhbCB0b3BpY3MgY3VycmljdWx1bSBzZWxmcGFjZWQgcGxcIixcbiAgXCJzcGVjaWFsX3RvcGljc19jdXJyaWN1bHVtX3NlbGZwYWNlZF9wbF85XzEyXCI6IFwiOS0xMiBTcGVjaWFsIHRvcGljcyBjdXJyaWN1bHVtIHNlbGZwYWNlZCBwbFwiLFxuICBcInBlZGFnb2d5X3NwZWNpYWxfdG9waWNzX3NlbGZwYWNlZF9wbFwiOiBcIlBlZGFnb2d5IHNwZWNpYWwgdG9waWNzIHNlbGZwYWNlZCBwbFwiLFxuICBcImNzX2Jhc2ljc19zZWxmcGFjZWRfcGxcIjogXCJDUyBCYXNpY3Mgc2VsZnBhY2VkIHBsXCJcbn07XG5cbmV4cG9ydCBjb25zdCBDdXJyaWN1bHVtVG9waWNUYWdzID0ge1xuICBcImFpXCI6IFwiQUlcIixcbiAgXCJtYWtlclwiOiBcIk1ha2VyXCIsXG4gIFwibXVzaWNfbGFiXCI6IFwiTXVzaWMgbGFiXCJcbn07XG5cbmV4cG9ydCBjb25zdCBDdXJyaWN1bHVtQ29udGVudEFyZWEgPSB7XG4gIFwiY3VycmljdWx1bV9rXzVcIjogXCJLLTUgQ3VycmljdWx1bVwiLFxuICBcImN1cnJpY3VsdW1fNl84XCI6IFwiNi04IEN1cnJpY3VsdW1cIixcbiAgXCJjdXJyaWN1bHVtXzlfMTJcIjogXCI5LTEyIEN1cnJpY3VsdW1cIixcbiAgXCJob2NcIjogXCJIT0NcIixcbiAgXCJwbF93b3Jrc2hvcF9hY3Rpdml0aWVzXCI6IFwiUEwgV29ya3Nob3AgYWN0aXZpdGllc1wiLFxuICBcInNlbGZfcGFjZWRfcGxfa181XCI6IFwiSy01IHNlbGYtcGFjZWQgUExcIixcbiAgXCJzZWxmX3BhY2VkX3BsXzZfOFwiOiBcIjYtOCBzZWxmLXBhY2VkIFBMXCIsXG4gIFwic2VsZl9wYWNlZF9wbF85XzEyXCI6IFwiOS0xMiBzZWxmLXBhY2VkIFBMXCIsXG4gIFwic2tpbGxzX2ZvY3VzZWRfc2VsZl9wYWNlZF9wbFwiOiBcIlNraWxscy1mb2N1c2VkIHNlbGYtcGFjZWQgUExcIixcbiAgXCJvdGhlclwiOiBcIk90aGVyXCJcbn07XG5cbmV4cG9ydCBjb25zdCBDb3Vyc2VPZmZlcmluZ0N1cnJpY3VsdW1UeXBlcyA9IHtcbiAgXCJtb2R1bGVcIjogXCJNb2R1bGVcIixcbiAgXCJjb3Vyc2VcIjogXCJDb3Vyc2VcIixcbiAgXCJzdGFuZGFsb25lX3VuaXRcIjogXCJTdGFuZGFsb25lIFVuaXRcIixcbiAgXCJob2NcIjogXCJIb3VyIG9mIENvZGVcIixcbiAgXCJwbFwiOiBcIlByb2Zlc3Npb25hbCBMZWFybmluZ1wiXG59O1xuXG5leHBvcnQgY29uc3QgQ291cnNlT2ZmZXJpbmdIZWFkZXJzID0ge1xuICBcImZhdm9yaXRlc1wiOiBcIkZhdm9yaXRlc1wiLFxuICBcImxhYnNfYW5kX3NraWxsc1wiOiBcIkxhYnMgYW5kIFNraWxsc1wiLFxuICBcIm1pbmVjcmFmdFwiOiBcIk1pbmVjcmFmdFwiLFxuICBcImhlbGxvX3dvcmxkXCI6IFwiSGVsbG8gV29ybGRcIixcbiAgXCJwb3B1bGFyX21lZGlhXCI6IFwiUG9wdWxhciBNZWRpYVwiLFxuICBcInNwb3J0c1wiOiBcIlNwb3J0c1wiLFxuICBcImV4cHJlc3NcIjogXCJFeHByZXNzXCIsXG4gIFwiY3NmXCI6IFwiQ1MgRnVuZGFtZW50YWxzXCIsXG4gIFwiY3NjXCI6IFwiQ1MgQ29ubmVjdGlvbnNcIixcbiAgXCJ5ZWFyX2xvbmdcIjogXCJZZWFyIExvbmdcIixcbiAgXCJjc2FfbGFic1wiOiBcIkNTQSBMYWJzXCIsXG4gIFwic2VsZl9wYWNlZFwiOiBcIlNlbGYtUGFjZWRcIixcbiAgXCJ0ZWFjaGVyX2xlZFwiOiBcIlRlYWNoZXItTGVkXCIsXG4gIFwiY29sbGVjdGlvbnNcIjogXCJDb2xsZWN0aW9uc1wiLFxuICBcIndvcmtzaG9wc19rNVwiOiBcIkstNSBXb3Jrc2hvcHNcIixcbiAgXCJzdW1tZXJfd29ya3Nob3BzXzYxMlwiOiBcIjYtMTIgU3VtbWVyIFdvcmtzaG9wc1wiLFxuICBcInZpcnR1YWxfYWNhZGVtaWNfeWVhcl93b3Jrc2hvcHNfNjEyXCI6IFwiNuKAkzEyIFZpcnR1YWwgQWNhZGVtaWMgWWVhciBXb3Jrc2hvcHNcIixcbiAgXCJ1bnN1cHBvcnRlZFwiOiBcIlVuc3VwcG9ydGVkXCJcbn07XG5cbmV4cG9ydCBjb25zdCBDb3Vyc2VPZmZlcmluZ01hcmtldGluZ0luaXRpYXRpdmVzID0ge1xuICBcImhvY1wiOiBcIkhPQ1wiLFxuICBcImNzY1wiOiBcIkNTQ1wiLFxuICBcImNzZlwiOiBcIkNTRlwiLFxuICBcImNzYVwiOiBcIkNTQVwiLFxuICBcImNzcFwiOiBcIkNTUFwiLFxuICBcImNzZFwiOiBcIkNTRFwiXG59O1xuXG5leHBvcnQgY29uc3QgQ291cnNlT2ZmZXJpbmdDc1RvcGljcyA9IFtcbiAgXCJhcnRfYW5kX2Rlc2lnblwiLFxuICBcImFwcF9kZXNpZ25cIixcbiAgXCJhcnRpZmljaWFsX2ludGVsbGlnZW5jZVwiLFxuICBcImN5YmVyc2VjdXJpdHlcIixcbiAgXCJkYXRhXCIsXG4gIFwiZGlnaXRhbF9saXRlcmFjeVwiLFxuICBcImdhbWVzX2FuZF9hbmltYXRpb25zXCIsXG4gIFwiaW50ZXJuZXRcIixcbiAgXCJwaHlzaWNhbF9jb21wdXRpbmdcIixcbiAgXCJ3ZWJfZGVzaWduXCIsXG4gIFwicHJvZ3JhbW1pbmdcIlxuXTtcblxuZXhwb3J0IGNvbnN0IENvdXJzZU9mZmVyaW5nU2Nob29sU3ViamVjdHMgPSBbXG4gIFwibWF0aFwiLFxuICBcInNjaWVuY2VcIixcbiAgXCJlbmdsaXNoX2xhbmd1YWdlX2FydHNcIixcbiAgXCJoaXN0b3J5XCJcbl07XG5cbmV4cG9ydCBjb25zdCBEZXZpY2VUeXBlcyA9IFtcbiAgXCJjb21wdXRlclwiLFxuICBcImNocm9tZWJvb2tcIixcbiAgXCJ0YWJsZXRcIixcbiAgXCJtb2JpbGVcIixcbiAgXCJub19kZXZpY2VcIlxuXTtcblxuZXhwb3J0IGNvbnN0IERldmljZUNvbXBhdGliaWxpdHlMZXZlbHMgPSBbXG4gIFwiaWRlYWxcIixcbiAgXCJub3RfcmVjb21tZW5kZWRcIixcbiAgXCJpbmNvbXBhdGlibGVcIlxuXTtcblxuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50QXVkaWVuY2VzQnlUeXBlID0ge1xuICBcInN0dWRlbnRcIjogW1xuICAgIFwic3R1ZGVudFwiXG4gIF0sXG4gIFwidGVhY2hlclwiOiBbXG4gICAgXCJzdHVkZW50XCIsXG4gICAgXCJ0ZWFjaGVyXCJcbiAgXSxcbiAgXCJmYWNpbGl0YXRvclwiOiBbXG4gICAgXCJzdHVkZW50XCIsXG4gICAgXCJ0ZWFjaGVyXCIsXG4gICAgXCJmYWNpbGl0YXRvclwiXG4gIF1cbn07XG4iLCJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IHtQYXJ0aWNpcGFudEF1ZGllbmNlfSBmcm9tICdAY2RvL2FwcHMvZ2VuZXJhdGVkL2N1cnJpY3VsdW0vc2hhcmVkQ291cnNlQ29uc3RhbnRzJztcblxuLyoqXG4gKiBAY29uc3Qge3N0cmluZ1tdfSBUaGUgb25seSBwcm9wZXJ0aWVzIHRoYXQgY2FuIGJlIHVwZGF0ZWQgYnkgdGhlIHVzZXJcbiAqIHdoZW4gY3JlYXRpbmcgb3IgZWRpdGluZyBhIHNlY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBVU0VSX0VESVRBQkxFX1NFQ1RJT05fUFJPUFMgPSBbXG4gICduYW1lJyxcbiAgJ2xvZ2luVHlwZScsXG4gICdsZXNzb25FeHRyYXMnLFxuICAncGFpcmluZ0FsbG93ZWQnLFxuICAndHRzQXV0b3BsYXlFbmFibGVkJyxcbiAgJ3BhcnRpY2lwYW50VHlwZScsXG4gICdjb3Vyc2VJZCcsXG4gICdjb3Vyc2VPZmZlcmluZ0lkJyxcbiAgJ2NvdXJzZVZlcnNpb25JZCcsXG4gICd1bml0SWQnLFxuICAnZ3JhZGVzJyxcbiAgJ2hpZGRlbicsXG4gICdyZXN0cmljdFNlY3Rpb24nLFxuICAnY29kZVJldmlld0V4cGlyZXNBdCcsXG4gICdhaVR1dG9yRW5hYmxlZCcsXG5dO1xuXG4vKiogQGNvbnN0IHtudW1iZXJ9IElEIGZvciBhIG5ldyBzZWN0aW9uIHRoYXQgaGFzIG5vdCBiZWVuIHNhdmVkICovXG5jb25zdCBQRU5ESU5HX05FV19TRUNUSU9OX0lEID0gLTE7XG5cbi8vIEhlbHBlcnMgYW5kIFNlbGVjdG9yc1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um9vdChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUudGVhY2hlclNlY3Rpb25zOyAvLyBHbG9iYWwga25vd2xlZGdlIGV3dy5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUm9zdGVyRGlhbG9nT3BlbihzdGF0ZSkge1xuICByZXR1cm4gZ2V0Um9vdChzdGF0ZSkuaXNSb3N0ZXJEaWFsb2dPcGVuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm9zdGVyUHJvdmlkZXIoc3RhdGUpIHtcbiAgcmV0dXJuIGdldFJvb3Qoc3RhdGUpLnJvc3RlclByb3ZpZGVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm9zdGVyUHJvdmlkZXJOYW1lKHN0YXRlKSB7XG4gIHJldHVybiBnZXRSb290KHN0YXRlKS5yb3N0ZXJQcm92aWRlck5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWN0aW9uQ29kZShzdGF0ZSwgc2VjdGlvbklkKSB7XG4gIHJldHVybiAoZ2V0Um9vdChzdGF0ZSkuc2VjdGlvbnNbc2VjdGlvbklkXSB8fCB7fSkuY29kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlY3Rpb25OYW1lKHN0YXRlLCBzZWN0aW9uSWQpIHtcbiAgcmV0dXJuIChnZXRSb290KHN0YXRlKS5zZWN0aW9uc1tzZWN0aW9uSWRdIHx8IHt9KS5uYW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbHRpU3luY1Jlc3VsdChzdGF0ZSkge1xuICByZXR1cm4gZ2V0Um9vdChzdGF0ZSkubHRpU3luY1Jlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN5bmNFbmFibGVkKHN0YXRlLCBzZWN0aW9uSWQpIHtcbiAgcmV0dXJuIChnZXRSb290KHN0YXRlKS5zZWN0aW9uc1tzZWN0aW9uSWRdIHx8IHt9KS5zeW5jRW5hYmxlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlY3Rpb25Vbml0TmFtZShzdGF0ZSwgc2VjdGlvbklkKSB7XG4gIHJldHVybiAoZ2V0Um9vdChzdGF0ZSkuc2VjdGlvbnNbc2VjdGlvbklkXSB8fCB7fSkuY291cnNlVmVyc2lvbk5hbWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZFNlY3Rpb25TZWxlY3RvcihzdGF0ZSkge1xuICBjb25zdCBzZWxlY3RlZFNlY3Rpb25JZCA9IGdldFJvb3Qoc3RhdGUpLnNlbGVjdGVkU2VjdGlvbklkO1xuICBpZiAoc2VsZWN0ZWRTZWN0aW9uSWQpIHtcbiAgICByZXR1cm4gZ2V0Um9vdChzdGF0ZSkuc2VjdGlvbnNbc2VsZWN0ZWRTZWN0aW9uSWRdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWN0aW9uUHJvdmlkZXIoc3RhdGUsIHNlY3Rpb25JZCkge1xuICBpZiAoaXNTZWN0aW9uUHJvdmlkZXJNYW5hZ2VkKHN0YXRlLCBzZWN0aW9uSWQpKSB7XG4gICAgcmV0dXJuIHJvc3RlclByb3ZpZGVyKHN0YXRlKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlY3Rpb25Qcm92aWRlck5hbWUoc3RhdGUsIHNlY3Rpb25JZCkge1xuICBpZiAoaXNTZWN0aW9uUHJvdmlkZXJNYW5hZ2VkKHN0YXRlLCBzZWN0aW9uSWQpKSB7XG4gICAgcmV0dXJuIHJvc3RlclByb3ZpZGVyTmFtZShzdGF0ZSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NlY3Rpb25Qcm92aWRlck1hbmFnZWQoc3RhdGUsIHNlY3Rpb25JZCkge1xuICByZXR1cm4gISEoZ2V0Um9vdChzdGF0ZSkuc2VjdGlvbnNbc2VjdGlvbklkXSB8fCB7fSkucHJvdmlkZXJNYW5hZ2VkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTYXZlSW5Qcm9ncmVzcyhzdGF0ZSkge1xuICByZXR1cm4gZ2V0Um9vdChzdGF0ZSkuc2F2ZUluUHJvZ3Jlc3M7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25lZENvdXJzZU9mZmVyaW5nKHN0YXRlKSB7XG4gIGNvbnN0IHtzZWN0aW9uQmVpbmdFZGl0ZWQsIGNvdXJzZU9mZmVyaW5nc30gPSBnZXRSb290KHN0YXRlKTtcblxuICByZXR1cm4gY291cnNlT2ZmZXJpbmdzW3NlY3Rpb25CZWluZ0VkaXRlZD8uY291cnNlT2ZmZXJpbmdJZF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWaXNpYmxlU2VjdGlvbnMoc3RhdGUpIHtcbiAgY29uc3QgYWxsU2VjdGlvbnMgPSBPYmplY3QudmFsdWVzKGdldFJvb3Qoc3RhdGUpLnNlY3Rpb25zKTtcbiAgcmV0dXJuIHNvcnRTZWN0aW9uc0xpc3QoYWxsU2VjdGlvbnMgfHwgW10pLmZpbHRlcihzZWN0aW9uID0+ICFzZWN0aW9uLmhpZGRlbik7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgZGF0YSBuZWVkZWQgYnkgUmVhY3R0YWJ1bGFyIHRvIHNob3cgYSBzb3J0YWJsZSB0YWJsZVxuICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIC0gRnVsbCBzdG9yZSBzdGF0ZVxuICogQHBhcmFtIHtudW1iZXJbXX0gc2VjdGlvbklkcyAtIExpc3Qgb2Ygc2VjdGlvbiBpZHMgd2Ugd2FudCByb3cgZGF0YSBmb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlY3Rpb25Sb3dzKHN0YXRlLCBzZWN0aW9uSWRzKSB7XG4gIGNvbnN0IHtzZWN0aW9ucywgY291cnNlT2ZmZXJpbmdzLCBjb3Vyc2VPZmZlcmluZ3NBcmVMb2FkZWR9ID0gZ2V0Um9vdChzdGF0ZSk7XG4gIHJldHVybiBzZWN0aW9uSWRzLm1hcChpZCA9PiAoe1xuICAgIC4uLl8ucGljayhzZWN0aW9uc1tpZF0sIFtcbiAgICAgICdpZCcsXG4gICAgICAnbmFtZScsXG4gICAgICAnY291cnNlVmVyc2lvbk5hbWUnLFxuICAgICAgJ2NvdXJzZURpc3BsYXlOYW1lJyxcbiAgICAgICdsb2dpblR5cGUnLFxuICAgICAgJ2xvZ2luVHlwZU5hbWUnLFxuICAgICAgJ3N0dWRlbnRDb3VudCcsXG4gICAgICAnY29kZScsXG4gICAgICAncGFydGljaXBhbnRUeXBlJyxcbiAgICAgICdncmFkZXMnLFxuICAgICAgJ3Byb3ZpZGVyTWFuYWdlZCcsXG4gICAgICAnaGlkZGVuJyxcbiAgICBdKSxcbiAgICBhc3NpZ25tZW50TmFtZXM6IGFzc2lnbm1lbnROYW1lcyhjb3Vyc2VPZmZlcmluZ3MsIHNlY3Rpb25zW2lkXSksXG4gICAgYXNzaWdubWVudFBhdGhzOiBhc3NpZ25tZW50UGF0aHMoY291cnNlT2ZmZXJpbmdzLCBzZWN0aW9uc1tpZF0pLFxuICAgIGNvdXJzZU9mZmVyaW5nc0FyZUxvYWRlZCxcbiAgfSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXNzaWdubWVudE5hbWUoc3RhdGUsIHNlY3Rpb25JZCkge1xuICBjb25zdCB7c2VjdGlvbnMsIGNvdXJzZU9mZmVyaW5nc30gPSBnZXRSb290KHN0YXRlKTtcbiAgcmV0dXJuIGFzc2lnbm1lbnROYW1lcyhjb3Vyc2VPZmZlcmluZ3MsIHNlY3Rpb25zW3NlY3Rpb25JZF0pWzBdO1xufVxuLyoqXG4gKiBNYXBzIGZyb20gdGhlIGRhdGEgd2UgZ2V0IGJhY2sgZnJvbSB0aGUgc2VydmVyIGZvciBhIHNlY3Rpb24sIHRvIHRoZSBmb3JtYXRcbiAqIHdlIHdhbnQgdG8gaGF2ZSBpbiBvdXIgc3RvcmUuXG4gKi9cbmV4cG9ydCBjb25zdCBzZWN0aW9uRnJvbVNlcnZlclNlY3Rpb24gPSBzZXJ2ZXJTZWN0aW9uID0+ICh7XG4gIGlkOiBzZXJ2ZXJTZWN0aW9uLmlkLFxuICBuYW1lOiBzZXJ2ZXJTZWN0aW9uLm5hbWUsXG4gIGNvdXJzZVZlcnNpb25OYW1lOiBzZXJ2ZXJTZWN0aW9uLmNvdXJzZVZlcnNpb25OYW1lLFxuICB1bml0TmFtZTogc2VydmVyU2VjdGlvbi51bml0TmFtZSxcbiAgaXNBc3NpZ25lZFN0YW5kYWxvbmVDb3Vyc2U6IHNlcnZlclNlY3Rpb24uaXNBc3NpZ25lZFN0YW5kYWxvbmVDb3Vyc2UsXG4gIGNyZWF0ZWRBdDogc2VydmVyU2VjdGlvbi5jcmVhdGVkQXQsXG4gIGxvZ2luVHlwZTogc2VydmVyU2VjdGlvbi5sb2dpbl90eXBlLFxuICBsb2dpblR5cGVOYW1lOiBzZXJ2ZXJTZWN0aW9uLmxvZ2luX3R5cGVfbmFtZSxcbiAgZ3JhZGVzOiBzZXJ2ZXJTZWN0aW9uLmdyYWRlcyxcbiAgcHJvdmlkZXJNYW5hZ2VkOiBzZXJ2ZXJTZWN0aW9uLnByb3ZpZGVyTWFuYWdlZCB8fCBmYWxzZSwgLy8gVE9ETzogKGpvc2gpIG1ha2UgdGhpcyByZXF1aXJlZCB3aGVuIC92Mi9zZWN0aW9ucyBBUEkgaXMgZGVwcmVjYXRlZFxuICBsZXNzb25FeHRyYXM6IHNlcnZlclNlY3Rpb24ubGVzc29uX2V4dHJhcyxcbiAgcGFpcmluZ0FsbG93ZWQ6IHNlcnZlclNlY3Rpb24ucGFpcmluZ19hbGxvd2VkLFxuICB0dHNBdXRvcGxheUVuYWJsZWQ6IHNlcnZlclNlY3Rpb24udHRzX2F1dG9wbGF5X2VuYWJsZWQsXG4gIHNoYXJpbmdEaXNhYmxlZDogc2VydmVyU2VjdGlvbi5zaGFyaW5nX2Rpc2FibGVkLFxuICBzdHVkZW50Q291bnQ6IHNlcnZlclNlY3Rpb24uc3R1ZGVudENvdW50LFxuICBjb2RlOiBzZXJ2ZXJTZWN0aW9uLmNvZGUsXG4gIGNvdXJzZU9mZmVyaW5nSWQ6IHNlcnZlclNlY3Rpb24uY291cnNlX29mZmVyaW5nX2lkLFxuICBjb3Vyc2VWZXJzaW9uSWQ6IHNlcnZlclNlY3Rpb24uY291cnNlX3ZlcnNpb25faWQsXG4gIGNvdXJzZURpc3BsYXlOYW1lOiBzZXJ2ZXJTZWN0aW9uLmNvdXJzZV9kaXNwbGF5X25hbWUsXG4gIHVuaXRJZDogc2VydmVyU2VjdGlvbi51bml0X2lkLFxuICBjb3Vyc2VJZDogc2VydmVyU2VjdGlvbi5jb3Vyc2VfaWQsXG4gIGhpZGRlbjogc2VydmVyU2VjdGlvbi5oaWRkZW4sXG4gIHJlc3RyaWN0U2VjdGlvbjogc2VydmVyU2VjdGlvbi5yZXN0cmljdF9zZWN0aW9uLFxuICBwb3N0TWlsZXN0b25lRGlzYWJsZWQ6IHNlcnZlclNlY3Rpb24ucG9zdF9taWxlc3RvbmVfZGlzYWJsZWQsXG4gIGNvZGVSZXZpZXdFeHBpcmVzQXQ6IHNlcnZlclNlY3Rpb24uY29kZV9yZXZpZXdfZXhwaXJlc19hdFxuICAgID8gRGF0ZS5wYXJzZShzZXJ2ZXJTZWN0aW9uLmNvZGVfcmV2aWV3X2V4cGlyZXNfYXQpXG4gICAgOiBudWxsLFxuICBpc0Fzc2lnbmVkQ1NBOiBzZXJ2ZXJTZWN0aW9uLmlzX2Fzc2lnbmVkX2NzYSxcbiAgcGFydGljaXBhbnRUeXBlOiBzZXJ2ZXJTZWN0aW9uLnBhcnRpY2lwYW50X3R5cGUsXG4gIHNlY3Rpb25JbnN0cnVjdG9yczogc2VydmVyU2VjdGlvbi5zZWN0aW9uX2luc3RydWN0b3JzLFxuICBzeW5jRW5hYmxlZDogc2VydmVyU2VjdGlvbi5zeW5jX2VuYWJsZWQsXG4gIGFpVHV0b3JFbmFibGVkOiBzZXJ2ZXJTZWN0aW9uLmFpX3R1dG9yX2VuYWJsZWQsXG4gIGFueVN0dWRlbnRIYXNQcm9ncmVzczogc2VydmVyU2VjdGlvbi5hbnlfc3R1ZGVudF9oYXNfcHJvZ3Jlc3MsXG59KTtcblxuLyoqXG4gKiBNYXBzIGZyb20gdGhlIGRhdGEgd2UgZ2V0IGJhY2sgZnJvbSB0aGUgc2VydmVyIGZvciBhIHN0dWRlbnQsIHRvIHRoZSBmb3JtYXRcbiAqIHdlIHdhbnQgdG8gaGF2ZSBpbiBvdXIgc3RvcmUuXG4gKi9cbmV4cG9ydCBjb25zdCBzdHVkZW50RnJvbVNlcnZlclN0dWRlbnQgPSAoc2VydmVyU3R1ZGVudCwgc2VjdGlvbklkKSA9PiAoe1xuICBzZWN0aW9uSWQ6IHNlY3Rpb25JZCxcbiAgaWQ6IHNlcnZlclN0dWRlbnQuaWQsXG4gIG5hbWU6IHNlcnZlclN0dWRlbnQubmFtZSxcbiAgZmFtaWx5TmFtZTogc2VydmVyU3R1ZGVudC5mYW1pbHlfbmFtZSxcbiAgc2hhcmluZ0Rpc2FibGVkOiBzZXJ2ZXJTdHVkZW50LnNoYXJpbmdfZGlzYWJsZWQsXG4gIHNlY3JldFBpY3R1cmVQYXRoOiBzZXJ2ZXJTdHVkZW50LnNlY3JldF9waWN0dXJlX3BhdGgsXG4gIHNlY3JldFBpY3R1cmVOYW1lOiBzZXJ2ZXJTdHVkZW50LnNlY3JldF9waWN0dXJlX25hbWUsXG4gIHNlY3JldFdvcmRzOiBzZXJ2ZXJTdHVkZW50LnNlY3JldF93b3JkcyxcbiAgdXNlclR5cGU6IHNlcnZlclN0dWRlbnQudXNlcl90eXBlLFxufSk7XG5cbi8qKlxuICogTWFwIGZyb20gY2xpZW50IHNlY3Rpb25TaGFwZSB0byB3ZWxsLWZvcm1hdHRlZCBwYXJhbXMgZm9yIHVwZGF0aW5nIHRoZVxuICogc2VjdGlvbiBvbiB0aGUgc2VydmVyIHZpYSB0aGUgc2VjdGlvbnMgQVBJLlxuICogQHBhcmFtIHtzZWN0aW9uU2hhcGV9IHNlY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlcnZlclNlY3Rpb25Gcm9tU2VjdGlvbihzZWN0aW9uKSB7XG4gIC8vIExhenk6IFdlIGxlYXZlIHNvbWUgZXh0cmEgcHJvcGVydGllcyBvbiB0aGlzIG9iamVjdCAodGhleSdyZSBpZ25vcmVkIGJ5XG4gIC8vIHRoZSBzZXJ2ZXIgZm9yIG5vdykgaG9waW5nIHRoaXMgY2FuIGV2ZW50dWFsbHkgYmVjb21lIGEgcGFzcy10aHJvdWdoLlxuICByZXR1cm4ge1xuICAgIC4uLnNlY3Rpb24sXG4gICAgbG9naW5fdHlwZTogc2VjdGlvbi5sb2dpblR5cGUsXG4gICAgbGVzc29uX2V4dHJhczogc2VjdGlvbi5sZXNzb25FeHRyYXMsXG4gICAgcGFpcmluZ19hbGxvd2VkOiBzZWN0aW9uLnBhaXJpbmdBbGxvd2VkLFxuICAgIHR0c19hdXRvcGxheV9lbmFibGVkOiBzZWN0aW9uLnR0c0F1dG9wbGF5RW5hYmxlZCxcbiAgICBzaGFyaW5nX2Rpc2FibGVkOiBzZWN0aW9uLnNoYXJpbmdEaXNhYmxlZCxcbiAgICBjb3Vyc2Vfb2ZmZXJpbmdfaWQ6IHNlY3Rpb24uY291cnNlT2ZmZXJpbmdJZCxcbiAgICBjb3Vyc2VfdmVyc2lvbl9pZDogc2VjdGlvbi5jb3Vyc2VWZXJzaW9uSWQsXG4gICAgdW5pdF9pZDogc2VjdGlvbi51bml0SWQsXG4gICAgY291cnNlX2lkOiBzZWN0aW9uLmNvdXJzZUlkLFxuICAgIHJlc3RyaWN0X3NlY3Rpb246IHNlY3Rpb24ucmVzdHJpY3RTZWN0aW9uLFxuICAgIHBhcnRpY2lwYW50X3R5cGU6IHNlY3Rpb24ucGFydGljaXBhbnRUeXBlLFxuICAgIGFpX3R1dG9yX2VuYWJsZWQ6IHNlY3Rpb24uYWlUdXRvckVuYWJsZWQsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdTZWN0aW9uRGF0YShwYXJ0aWNpcGFudFR5cGUpIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogUEVORElOR19ORVdfU0VDVElPTl9JRCxcbiAgICBuYW1lOiAnJyxcbiAgICBsb2dpblR5cGU6IHVuZGVmaW5lZCxcbiAgICBncmFkZXM6IFsnJ10sXG4gICAgcHJvdmlkZXJNYW5hZ2VkOiBmYWxzZSxcbiAgICBsZXNzb25FeHRyYXM6IHRydWUsXG4gICAgcGFpcmluZ0FsbG93ZWQ6IHRydWUsXG4gICAgdHRzQXV0b3BsYXlFbmFibGVkOiBmYWxzZSxcbiAgICBzaGFyaW5nRGlzYWJsZWQ6IGZhbHNlLFxuICAgIHN0dWRlbnRDb3VudDogMCxcbiAgICBwYXJ0aWNpcGFudFR5cGU6IHBhcnRpY2lwYW50VHlwZSxcbiAgICBjb2RlOiAnJyxcbiAgICBjb3Vyc2VJZDogbnVsbCxcbiAgICBjb3Vyc2VPZmZlcmluZ0lkOiBudWxsLFxuICAgIGNvdXJzZVZlcnNpb25JZDogbnVsbCxcbiAgICBjb3Vyc2VEaXNwbGF5TmFtZTogbnVsbCxcbiAgICB1bml0SWQ6IG51bGwsXG4gICAgdW5pdE5hbWU6IG51bGwsXG4gICAgaXNBc3NpZ25lZFN0YW5kYWxvbmVDb3Vyc2U6IGZhbHNlLFxuICAgIGhpZGRlbjogZmFsc2UsXG4gICAgcmVzdHJpY3RTZWN0aW9uOiBmYWxzZSxcbiAgICBhaVR1dG9yRW5hYmxlZDogZmFsc2UsXG4gIH07XG59XG5cbmNvbnN0IGFzc2lnbm1lbnRzRm9yU2VjdGlvbiA9IChjb3Vyc2VPZmZlcmluZ3MsIHNlY3Rpb24pID0+IHtcbiAgY29uc3QgYXNzaWdubWVudHMgPSBbXTtcbiAgaWYgKHNlY3Rpb24uY291cnNlT2ZmZXJpbmdJZCAmJiBzZWN0aW9uLmNvdXJzZVZlcnNpb25JZCkge1xuICAgIGNvbnN0IGNvdXJzZVZlcnNpb24gPVxuICAgICAgY291cnNlT2ZmZXJpbmdzW3NlY3Rpb24uY291cnNlT2ZmZXJpbmdJZF0/LmNvdXJzZV92ZXJzaW9uc1tcbiAgICAgICAgc2VjdGlvbi5jb3Vyc2VWZXJzaW9uSWRcbiAgICAgIF07XG4gICAgaWYgKGNvdXJzZVZlcnNpb24pIHtcbiAgICAgIGFzc2lnbm1lbnRzLnB1c2goY291cnNlVmVyc2lvbik7XG4gICAgICBpZiAoc2VjdGlvbi51bml0SWQgJiYgY291cnNlVmVyc2lvbi50eXBlID09PSAnVW5pdEdyb3VwJykge1xuICAgICAgICBpZiAoY291cnNlVmVyc2lvbi51bml0c1tzZWN0aW9uLnVuaXRJZF0pIHtcbiAgICAgICAgICBhc3NpZ25tZW50cy5wdXNoKGNvdXJzZVZlcnNpb24udW5pdHNbc2VjdGlvbi51bml0SWRdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhc3NpZ25tZW50cztcbn07XG5cbi8qKlxuICogR2V0IHRoZSBuYW1lIG9mIHRoZSBjb3Vyc2UvdW5pdCBhc3NpZ25lZCB0byB0aGUgZ2l2ZW4gc2VjdGlvblxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5leHBvcnQgY29uc3QgYXNzaWdubWVudE5hbWVzID0gKGNvdXJzZU9mZmVyaW5ncywgc2VjdGlvbikgPT4ge1xuICBjb25zdCBhc3NpZ25tZW50cyA9IGFzc2lnbm1lbnRzRm9yU2VjdGlvbihjb3Vyc2VPZmZlcmluZ3MsIHNlY3Rpb24pO1xuICAvLyB3ZSBtaWdodCBub3QgaGF2ZSBhbiBhc3NpZ25tZW50IG9iamVjdCBpZiB3ZSBoYXZlIGEgc2VjdGlvbiB0aGF0IHdhcyBzb21laG93XG4gIC8vIGFzc2lnbmVkIHRvIGEgaGlkZGVuIHVuaXQgKGFuZCB3ZSBkb250IGhhdmUgcGVybWlzc2lvbnMgdG8gc2VlIGhpZGRlbiB1bml0cylcbiAgcmV0dXJuIGFzc2lnbm1lbnRzLm1hcChhc3NpZ25tZW50ID0+IChhc3NpZ25tZW50ID8gYXNzaWdubWVudC5uYW1lIDogJycpKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBwYXRoIG9mIHRoZSBjb3Vyc2UvdW5pdCBhc3NpZ25lZCB0byB0aGUgZ2l2ZW4gc2VjdGlvblxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5leHBvcnQgY29uc3QgYXNzaWdubWVudFBhdGhzID0gKGNvdXJzZU9mZmVyaW5ncywgc2VjdGlvbikgPT4ge1xuICBjb25zdCBhc3NpZ25tZW50cyA9IGFzc2lnbm1lbnRzRm9yU2VjdGlvbihjb3Vyc2VPZmZlcmluZ3MsIHNlY3Rpb24pO1xuICByZXR1cm4gYXNzaWdubWVudHMubWFwKGFzc2lnbm1lbnQgPT4gKGFzc2lnbm1lbnQgPyBhc3NpZ25tZW50LnBhdGggOiAnJykpO1xufTtcblxuLyoqXG4gKiBBc2sgd2hldGhlciB0aGUgdXNlciBpcyBjdXJyZW50bHkgYWRkaW5nIGEgbmV3IHNlY3Rpb24gdXNpbmdcbiAqIHRoZSBBZGQgU2VjdGlvbiBkaWFsb2cuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FkZGluZ1NlY3Rpb24oc3RhdGUpIHtcbiAgcmV0dXJuICEhKHN0YXRlLnNlY3Rpb25CZWluZ0VkaXRlZCAmJiBzdGF0ZS5zZWN0aW9uQmVpbmdFZGl0ZWQuaWQgPCAwKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgLSBzdGF0ZS50ZWFjaGVyU2VjdGlvbnMgaW4gcmVkdXggdHJlZVxuICogRXh0cmFjdCBhIGxpc3Qgb2YgbmFtZS9pZCBmb3IgZWFjaCBzZWN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWN0aW9uc05hbWVBbmRJZChzdGF0ZSkge1xuICByZXR1cm4gc29ydFNlY3Rpb25zTGlzdChcbiAgICBzdGF0ZS5zZWN0aW9uSWRzLm1hcChpZCA9PiAoe1xuICAgICAgaWQ6IHBhcnNlSW50KGlkLCAxMCksXG4gICAgICBuYW1lOiBzdGF0ZS5zZWN0aW9uc1tpZF0ubmFtZSxcbiAgICB9KSlcbiAgKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgLSBzdGF0ZS50ZWFjaGVyU2VjdGlvbnMgaW4gcmVkdXggdHJlZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VjdGlvbnNGb3JEcm9wZG93bihcbiAgc3RhdGUsXG4gIGNvdXJzZU9mZmVyaW5nSWQsXG4gIGNvdXJzZVZlcnNpb25JZCxcbiAgdW5pdElkXG4pIHtcbiAgcmV0dXJuIHNvcnRlZFNlY3Rpb25zTGlzdChzdGF0ZS5zZWN0aW9ucykubWFwKHNlY3Rpb24gPT4gKHtcbiAgICAuLi5zZWN0aW9uLFxuICAgIGlzQXNzaWduZWQ6XG4gICAgICAodW5pdElkICE9PSBudWxsICYmIHNlY3Rpb24udW5pdElkID09PSB1bml0SWQpIHx8XG4gICAgICAoY291cnNlT2ZmZXJpbmdJZCAhPT0gbnVsbCAmJlxuICAgICAgICBzZWN0aW9uLmNvdXJzZU9mZmVyaW5nSWQgPT09IGNvdXJzZU9mZmVyaW5nSWQgJiZcbiAgICAgICAgY291cnNlVmVyc2lvbklkICE9PSBudWxsICYmXG4gICAgICAgIHNlY3Rpb24uY291cnNlVmVyc2lvbklkID09PSBjb3Vyc2VWZXJzaW9uSWQpLFxuICB9KSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IHNlY3Rpb25zT2JqZWN0IC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgc2VjdGlvbnMga2V5ZWQgYnkgaWRcbiAqIENvbnZlcnRzIGFuIHVub3JkZXJlZCBkaWN0aW9uYXJ5IG9mIHNlY3Rpb25zIGludG8gYSBzb3J0ZWQgYXJyYXlcbiAqL1xuZXhwb3J0IGNvbnN0IHNvcnRlZFNlY3Rpb25zTGlzdCA9IHNlY3Rpb25zT2JqZWN0ID0+XG4gIHNvcnRTZWN0aW9uc0xpc3QoT2JqZWN0LnZhbHVlcyhzZWN0aW9uc09iamVjdCkpO1xuXG4vKipcbiAqIEBwYXJhbSB7YXJyYXl9IHNlY3Rpb25zTGlzdCAtIGFuIGFycmF5IG9mIHNlY3Rpb24gb2JqZWN0c1xuICogU29ydHMgYW4gYXJyYXkgb2Ygc2VjdGlvbnMgYnkgZGVzY2VuZGluZyBpZFxuICovXG5leHBvcnQgY29uc3Qgc29ydFNlY3Rpb25zTGlzdCA9IHNlY3Rpb25zTGlzdCA9PlxuICBzZWN0aW9uc0xpc3Quc29ydCgoYSwgYikgPT4gYi5pZCAtIGEuaWQpO1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSAtIEZ1bGwgc3RhdGUgb2YgcmVkdXggdHJlZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGlkZGVuU2VjdGlvbklkcyhzdGF0ZSkge1xuICBzdGF0ZSA9IGdldFJvb3Qoc3RhdGUpO1xuICByZXR1cm4gc3RhdGUuc2VjdGlvbklkcy5maWx0ZXIoaWQgPT4gc3RhdGUuc2VjdGlvbnNbaWRdLmhpZGRlbik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIC0gRnVsbCBzdGF0ZSBvZiByZWR1eCB0cmVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoaWRkZW5TdHVkZW50U2VjdGlvbklkcyhzdGF0ZSkge1xuICBzdGF0ZSA9IGdldFJvb3Qoc3RhdGUpO1xuICByZXR1cm4gc3RhdGUuc2VjdGlvbklkcy5maWx0ZXIoXG4gICAgaWQgPT5cbiAgICAgIHN0YXRlLnNlY3Rpb25zW2lkXS5oaWRkZW4gJiZcbiAgICAgIHN0YXRlLnNlY3Rpb25zW2lkXS5wYXJ0aWNpcGFudFR5cGUgPT09IFBhcnRpY2lwYW50QXVkaWVuY2Uuc3R1ZGVudFxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSAtIEZ1bGwgc3RhdGUgb2YgcmVkdXggdHJlZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGlkZGVuUGxTZWN0aW9uSWRzKHN0YXRlKSB7XG4gIHN0YXRlID0gZ2V0Um9vdChzdGF0ZSk7XG4gIHJldHVybiBzdGF0ZS5zZWN0aW9uSWRzLmZpbHRlcihcbiAgICBpZCA9PlxuICAgICAgc3RhdGUuc2VjdGlvbnNbaWRdLmhpZGRlbiAmJlxuICAgICAgc3RhdGUuc2VjdGlvbnNbaWRdLnBhcnRpY2lwYW50VHlwZSAhPT0gUGFydGljaXBhbnRBdWRpZW5jZS5zdHVkZW50XG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBzdHVkZW50U2hhcGUgPSBQcm9wVHlwZXMuc2hhcGUoe1xuICBzZWN0aW9uSWQ6IFByb3BUeXBlcy5udW1iZXIsXG4gIGlkOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgZmFtaWx5TmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgc2hhcmluZ0Rpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgc2VjcmV0UGljdHVyZVBhdGg6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHNlY3JldFdvcmRzOiBQcm9wVHlwZXMuc3RyaW5nLFxufSk7XG4iLCJpbXBvcnQge1xuICBjcmVhdGVTbGljZSxcbiAgQW55QWN0aW9uLFxuICBQYXlsb2FkQWN0aW9uLFxuICBUaHVua0FjdGlvbixcbiAgVGh1bmtEaXNwYXRjaCxcbn0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge09BdXRoU2VjdGlvblR5cGVzfSBmcm9tICdAY2RvL2FwcHMvYWNjb3VudHMvY29uc3RhbnRzJztcbmltcG9ydCB7UGFydGljaXBhbnRBdWRpZW5jZX0gZnJvbSAnQGNkby9hcHBzL2dlbmVyYXRlZC9jdXJyaWN1bHVtL3NoYXJlZENvdXJzZUNvbnN0YW50cyc7XG5pbXBvcnQge0VWRU5UUywgUExBVEZPUk1TfSBmcm9tICdAY2RvL2FwcHMvbWV0cmljcy9BbmFseXRpY3NDb25zdGFudHMnO1xuaW1wb3J0IGFuYWx5dGljc1JlcG9ydGVyIGZyb20gJ0BjZG8vYXBwcy9tZXRyaWNzL0FuYWx5dGljc1JlcG9ydGVyJztcbmltcG9ydCBmaXJlaG9zZUNsaWVudCBmcm9tICdAY2RvL2FwcHMvbWV0cmljcy9maXJlaG9zZSc7XG5pbXBvcnQge1Jvb3RTdGF0ZX0gZnJvbSAnQGNkby9hcHBzL3R5cGVzL3JlZHV4JztcbmltcG9ydCB7XG4gIFBsR3JhZGVWYWx1ZSxcbiAgU2VjdGlvbkxvZ2luVHlwZSxcbn0gZnJvbSAnQGNkby9nZW5lcmF0ZWQtc2NyaXB0cy9zaGFyZWRDb25zdGFudHMnO1xuXG5pbXBvcnQge1xuICBpc0FkZGluZ1NlY3Rpb24sXG4gIHNlY3Rpb25Gcm9tU2VydmVyU2VjdGlvbiBhcyB1bnR5cGVkU2VjdGlvbkZyb21TZXJ2ZXJTZWN0aW9uLFxuICBzZXJ2ZXJTZWN0aW9uRnJvbVNlY3Rpb24sXG4gIHN0dWRlbnRGcm9tU2VydmVyU3R1ZGVudCxcbiAgbmV3U2VjdGlvbkRhdGEsXG4gIFVTRVJfRURJVEFCTEVfU0VDVElPTl9QUk9QUyxcbn0gZnJvbSAnLi90ZWFjaGVyU2VjdGlvbnNSZWR1eFNlbGVjdG9ycyc7XG5pbXBvcnQge1xuICBBc3NpZ25tZW50Q291cnNlT2ZmZXJpbmcsXG4gIENsYXNzcm9vbSxcbiAgTHRpU2VjdGlvblN5bmNSZXN1bHQsXG4gIE9BdXRoU2VjdGlvblR5cGVOYW1lLFxuICBTZWN0aW9uLFxuICBTZWN0aW9uSW5zdHJ1Y3RvcixcbiAgU2VjdGlvbk1hcCxcbiAgU2VydmVyT0F1dGhTZWN0aW9uVHlwZU5hbWUsXG4gIFNlcnZlclNlY3Rpb24sXG4gIFNlcnZlclN0dWRlbnQsXG4gIFN0dWRlbnQsXG4gIFVzZXJFZGl0YWJsZVNlY3Rpb24sXG59IGZyb20gJy4vdHlwZXMvdGVhY2hlclNlY3Rpb25UeXBlcyc7XG5cbnR5cGUgUm9zdGVyUHJvdmlkZXIgPSBzdHJpbmcgfCBrZXlvZiB0eXBlb2YgU2VjdGlvbkxvZ2luVHlwZSB8IG51bGw7XG5cbnR5cGUgQXNzaWdubWVudERhdGEgPSB7XG4gIHNlY3Rpb25faWQ6IG51bWJlcjtcbiAgc2VjdGlvbl9jcmVhdGlvbl90aW1lc3RhbXA/OiBzdHJpbmc7XG4gIHBhZ2VfbmFtZTogc3RyaW5nO1xuICB1bml0X2lkPzogbnVtYmVyIHwgbnVsbDtcbiAgY291cnNlX2lkPzogbnVtYmVyIHwgbnVsbDtcbiAgY291cnNlX3ZlcnNpb25faWQ/OiBudW1iZXIgfCBudWxsO1xuICBjb3Vyc2Vfb2ZmZXJpbmdfaWQ/OiBudW1iZXIgfCBudWxsO1xuICB1bml0TmFtZT86IHN0cmluZyB8IG51bGw7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFRlYWNoZXJTZWN0aW9uU3RhdGUge1xuICBuZXh0VGVtcElkOiBudW1iZXI7XG4gIHN0dWRpb1VybDogc3RyaW5nO1xuICAvLyBMaXN0IG9mIHRlYWNoZXIncyBhdXRoZW50aWNhdGlvbiBwcm92aWRlcnMgKG1hcHBlZCB0byBPQXV0aFNlY3Rpb25UeXBlc1xuICAvLyBmb3IgY29uc2lzdGVuY3kgYW5kIGVhc2Ugb2YgY29tcGFyaXNvbikuXG4gIHByb3ZpZGVyczogT0F1dGhTZWN0aW9uVHlwZU5hbWVbXTsgLy9UT0RPOiBJIHRoaW5rIHRoaXMgaXMgcmlnaHQ/Pz9cbiAgc2VjdGlvbklkczogbnVtYmVyW107XG4gIHN0dWRlbnRTZWN0aW9uSWRzOiBudW1iZXJbXTtcbiAgcGxTZWN0aW9uSWRzOiBudW1iZXJbXTtcbiAgc2VsZWN0ZWRTZWN0aW9uSWQ6IG51bWJlciB8IG51bGw7XG4gIHNlbGVjdGVkU2VjdGlvbk5hbWU6IHN0cmluZztcbiAgLy8gQXJyYXkgb2YgY291cnNlIG9mZmVyaW5ncywgdG8gcG9wdWxhdGUgdGhlIGFzc2lnbm1lbnQgZHJvcGRvd25cbiAgLy8gd2l0aCBvcHRpb25zIGxpa2UgXCJDU0RcIiwgXCJDb3Vyc2UgQVwiLCBvciBcIkZyb3plblwiLiBTZWUgdGhlXG4gIC8vIGFzc2lnbm1lbnRDb3Vyc2VPZmZlcmluZ1NoYXBlIFByb3BUeXBlLlxuICBjb3Vyc2VPZmZlcmluZ3M6IEFzc2lnbm1lbnRDb3Vyc2VPZmZlcmluZ1tdO1xuICBjb3Vyc2VPZmZlcmluZ3NBcmVMb2FkZWQ6IGJvb2xlYW47XG4gIC8vIFRoZSBwYXJ0aWNpcGFudCB0eXBlcyB0aGUgdXNlciBjYW4gY3JlYXRlIHNlY3Rpb25zIGZvclxuICBhdmFpbGFibGVQYXJ0aWNpcGFudFR5cGVzOiBzdHJpbmdbXTtcbiAgLy8gTWFwcGluZyBmcm9tIHNlY3Rpb25JZCB0byBzZWN0aW9uIG9iamVjdFxuICBzZWN0aW9uczogU2VjdGlvbk1hcDtcbiAgLy8gTGlzdCBvZiBzdHVkZW50cyBpbiBzZWN0aW9uIGN1cnJlbnRseSBiZWluZyBlZGl0ZWQgKHNlZSBzdHVkZW50U2hhcGUgUHJvcFR5cGUpXG4gIHNlbGVjdGVkU3R1ZGVudHM6IFN0dWRlbnRbXTtcbiAgc2VjdGlvbnNBcmVMb2FkZWQ6IGJvb2xlYW47XG4gIC8vIFdlIGNhbiBlZGl0IGV4YWN0bHkgb25lIHNlY3Rpb24gYXQgYSB0aW1lLlxuICAvLyBXaGlsZSBlZGl0aW5nIHdlIHN0b3JlIHRoYXQgc2VjdGlvbidzICdpbi1wcm9ncmVzcycgc3RhdGUgc2VwYXJhdGUgZnJvbVxuICAvLyBpdHMgcGVyc2lzdGVkIHN0YXRlIGluIHRoZSBzZWN0aW9ucyBtYXAuXG4gIHNlY3Rpb25CZWluZ0VkaXRlZDogU2VjdGlvbiB8IG51bGw7XG4gIHNob3dTZWN0aW9uRWRpdERpYWxvZzogYm9vbGVhbjtcbiAgc2F2ZUluUHJvZ3Jlc3M6IGJvb2xlYW47XG4gIC8vIFRyYWNrIHdoZXRoZXIgd2UndmUgYXN5bmMtbG9hZGVkIG91ciBzZWN0aW9uIGFuZCBhc3NpZ25tZW50IGRhdGFcbiAgYXN5bmNMb2FkQ29tcGxldGU6IGJvb2xlYW47XG4gIC8vIFdoZXRoZXIgdGhlIHJvc3RlciBkaWFsb2cgKHVzZWQgdG8gaW1wb3J0IHNlY3Rpb25zIGZyb20gZ29vZ2xlL2NsZXZlcikgaXMgb3Blbi5cbiAgaXNSb3N0ZXJEaWFsb2dPcGVuOiBib29sZWFuO1xuICAvLyBUcmFjayBhIHNlY3Rpb24ncyByb3N0ZXIgcHJvdmlkZXIuIE11c3QgYmUgb2YgdHlwZSBPQXV0aFNlY3Rpb25UeXBlcy5cbiAgcm9zdGVyUHJvdmlkZXI6IFJvc3RlclByb3ZpZGVyO1xuICByb3N0ZXJQcm92aWRlck5hbWU6IHN0cmluZyB8IG51bGw7XG4gIC8vIFNldCBvZiBvYXV0aCBjbGFzc3Jvb21zIGF2YWlsYWJsZSBmb3IgaW1wb3J0IGZyb20gYSB0aGlyZC1wYXJ0eSBzb3VyY2UuXG4gIC8vIE5vdCBwb3B1bGF0ZWQgdW50aWwgdGhlIFJvc3RlckRpYWxvZyBpcyBvcGVuZWQuXG4gIGNsYXNzcm9vbXM6IENsYXNzcm9vbVtdIHwgbnVsbDtcbiAgLy8gRXJyb3IgdGhhdCBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIG9hdXRoIGNsYXNzcm9vbXNcbiAgbG9hZEVycm9yOiB7c3RhdHVzOiBudW1iZXI7IG1lc3NhZ2U6IHN0cmluZ30gfCBudWxsO1xuICAvLyBUaGUgcGFnZSB3aGVyZSB0aGUgYWN0aW9uIGlzIG9jY3VycmluZ1xuICBwYWdlVHlwZTogc3RyaW5nO1xuICBsdGlTeW5jUmVzdWx0OiBMdGlTZWN0aW9uU3luY1Jlc3VsdCB8IG51bGw7XG4gIGlzTG9hZGluZ1NlY3Rpb25EYXRhOiBib29sZWFuO1xuICBpbml0aWFsQ291cnNlSWQ/OiBudW1iZXIgfCBudWxsO1xuICBpbml0aWFsVW5pdElkPzogbnVtYmVyIHwgbnVsbDtcbiAgaW5pdGlhbFVuaXROYW1lPzogc3RyaW5nIHwgbnVsbDtcbiAgaW5pdGlhbENvdXJzZU9mZmVyaW5nSWQ/OiBudW1iZXIgfCBudWxsO1xuICBpbml0aWFsQ291cnNlVmVyc2lvbklkPzogbnVtYmVyIHwgbnVsbDtcbiAgaW5pdGlhbExvZ2luVHlwZT86IGtleW9mIHR5cGVvZiBTZWN0aW9uTG9naW5UeXBlO1xuICBjb3RlYWNoZXJJbnZpdGU/OiBTZWN0aW9uSW5zdHJ1Y3RvcjtcbiAgY290ZWFjaGVySW52aXRlRm9yUGw/OiBTZWN0aW9uSW5zdHJ1Y3Rvcjtcbn1cblxuLyoqIEBjb25zdCB7bnVsbH0gbnVsbCB1c2VkIHRvIGluZGljYXRlIG5vIHNlY3Rpb24gc2VsZWN0ZWQgKi9cbmV4cG9ydCBjb25zdCBOT19TRUNUSU9OID0gbnVsbDtcbmV4cG9ydCBjb25zdCBTRUxFQ1RfU0VDVElPTiA9ICd0ZWFjaGVyU2VjdGlvbnMvc2VsZWN0U2VjdGlvbic7XG5cbmNvbnN0IGluaXRpYWxTdGF0ZTogVGVhY2hlclNlY3Rpb25TdGF0ZSA9IHtcbiAgbmV4dFRlbXBJZDogLTEsXG4gIHN0dWRpb1VybDogJycsXG4gIC8vIExpc3Qgb2YgdGVhY2hlcidzIGF1dGhlbnRpY2F0aW9uIHByb3ZpZGVycyAobWFwcGVkIHRvIE9BdXRoU2VjdGlvblR5cGVzXG4gIC8vIGZvciBjb25zaXN0ZW5jeSBhbmQgZWFzZSBvZiBjb21wYXJpc29uKS5cbiAgcHJvdmlkZXJzOiBbXSxcbiAgc2VjdGlvbklkczogW10sXG4gIHN0dWRlbnRTZWN0aW9uSWRzOiBbXSxcbiAgcGxTZWN0aW9uSWRzOiBbXSxcbiAgc2VsZWN0ZWRTZWN0aW9uSWQ6IE5PX1NFQ1RJT04sXG4gIHNlbGVjdGVkU2VjdGlvbk5hbWU6ICcnLFxuICAvLyBBcnJheSBvZiBjb3Vyc2Ugb2ZmZXJpbmdzLCB0byBwb3B1bGF0ZSB0aGUgYXNzaWdubWVudCBkcm9wZG93blxuICAvLyB3aXRoIG9wdGlvbnMgbGlrZSBcIkNTRFwiLCBcIkNvdXJzZSBBXCIsIG9yIFwiRnJvemVuXCIuIFNlZSB0aGVcbiAgLy8gYXNzaWdubWVudENvdXJzZU9mZmVyaW5nU2hhcGUgUHJvcFR5cGUuXG4gIGNvdXJzZU9mZmVyaW5nczogW10sXG4gIGNvdXJzZU9mZmVyaW5nc0FyZUxvYWRlZDogZmFsc2UsXG4gIC8vIFRoZSBwYXJ0aWNpcGFudCB0eXBlcyB0aGUgdXNlciBjYW4gY3JlYXRlIHNlY3Rpb25zIGZvclxuICBhdmFpbGFibGVQYXJ0aWNpcGFudFR5cGVzOiBbXSxcbiAgLy8gTWFwcGluZyBmcm9tIHNlY3Rpb25JZCB0byBzZWN0aW9uIG9iamVjdFxuICBzZWN0aW9uczoge30sXG4gIC8vIExpc3Qgb2Ygc3R1ZGVudHMgaW4gc2VjdGlvbiBjdXJyZW50bHkgYmVpbmcgZWRpdGVkIChzZWUgc3R1ZGVudFNoYXBlIFByb3BUeXBlKVxuICBzZWxlY3RlZFN0dWRlbnRzOiBbXSxcbiAgc2VjdGlvbnNBcmVMb2FkZWQ6IGZhbHNlLFxuICBzaG93U2VjdGlvbkVkaXREaWFsb2c6IGZhbHNlLFxuICBzYXZlSW5Qcm9ncmVzczogZmFsc2UsXG4gIC8vIFRyYWNrIHdoZXRoZXIgd2UndmUgYXN5bmMtbG9hZGVkIG91ciBzZWN0aW9uIGFuZCBhc3NpZ25tZW50IGRhdGFcbiAgYXN5bmNMb2FkQ29tcGxldGU6IGZhbHNlLFxuICAvLyBXaGV0aGVyIHRoZSByb3N0ZXIgZGlhbG9nICh1c2VkIHRvIGltcG9ydCBzZWN0aW9ucyBmcm9tIGdvb2dsZS9jbGV2ZXIpIGlzIG9wZW4uXG4gIGlzUm9zdGVyRGlhbG9nT3BlbjogZmFsc2UsXG4gIC8vIFRyYWNrIGEgc2VjdGlvbidzIHJvc3RlciBwcm92aWRlci4gTXVzdCBiZSBvZiB0eXBlIE9BdXRoU2VjdGlvblR5cGVzLlxuICByb3N0ZXJQcm92aWRlcjogbnVsbCxcbiAgcm9zdGVyUHJvdmlkZXJOYW1lOiBudWxsLFxuICAvLyBTZXQgb2Ygb2F1dGggY2xhc3Nyb29tcyBhdmFpbGFibGUgZm9yIGltcG9ydCBmcm9tIGEgdGhpcmQtcGFydHkgc291cmNlLlxuICAvLyBOb3QgcG9wdWxhdGVkIHVudGlsIHRoZSBSb3N0ZXJEaWFsb2cgaXMgb3BlbmVkLlxuICBjbGFzc3Jvb21zOiBudWxsLFxuICBzZWN0aW9uQmVpbmdFZGl0ZWQ6IG51bGwsXG4gIC8vIEVycm9yIHRoYXQgb2NjdXJyZWQgd2hpbGUgbG9hZGluZyBvYXV0aCBjbGFzc3Jvb21zXG4gIGxvYWRFcnJvcjogbnVsbCxcbiAgLy8gVGhlIHBhZ2Ugd2hlcmUgdGhlIGFjdGlvbiBpcyBvY2N1cnJpbmdcbiAgcGFnZVR5cGU6ICcnLFxuICBsdGlTeW5jUmVzdWx0OiBudWxsLFxuICBpc0xvYWRpbmdTZWN0aW9uRGF0YTogZmFsc2UsXG4gIGluaXRpYWxVbml0TmFtZTogbnVsbCxcbn07XG5cbi8vIE1hcHMgYXV0aGVudGljYXRpb24gcHJvdmlkZXIgdG8gT0F1dGhTZWN0aW9uVHlwZXMgZm9yIGVhc2Ugb2YgY29tcGFyaXNvblxuLy8gKGkuZS4sIEdvb2dsZSBhdXRoIGlzICdnb29nbGVfb2F1dGgyJyBidXQgdGhlIHNlY3Rpb24gdHlwZSBpcyAnZ29vZ2xlX2NsYXNzcm9vbScpLlxuY29uc3QgbWFwUHJvdmlkZXJUb1NlY3Rpb25UeXBlID0gKHByb3ZpZGVyOiBTZXJ2ZXJPQXV0aFNlY3Rpb25UeXBlTmFtZSkgPT4ge1xuICBzd2l0Y2ggKHByb3ZpZGVyKSB7XG4gICAgY2FzZSAnZ29vZ2xlX29hdXRoMic6XG4gICAgICByZXR1cm4gT0F1dGhTZWN0aW9uVHlwZXMuZ29vZ2xlX2NsYXNzcm9vbTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHByb3ZpZGVyO1xuICB9XG59O1xuXG5jb25zdCBzZWN0aW9uRnJvbVNlcnZlclNlY3Rpb24gPSAoc2VjdGlvbjogU2VydmVyU2VjdGlvbikgPT5cbiAgdW50eXBlZFNlY3Rpb25Gcm9tU2VydmVyU2VjdGlvbihzZWN0aW9uKSBhcyBTZWN0aW9uO1xuXG5jb25zdCBzZWN0aW9uU2xpY2UgPSBjcmVhdGVTbGljZSh7XG4gIG5hbWU6ICd0ZWFjaGVyU2VjdGlvbnMnLFxuICBpbml0aWFsU3RhdGUsXG4gIHJlZHVjZXJzOiB7XG4gICAgc2V0QXV0aFByb3ZpZGVycyhzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHN0cmluZ1tdPikge1xuICAgICAgc3RhdGUucHJvdmlkZXJzID0gYWN0aW9uLnBheWxvYWQubWFwKG1hcFByb3ZpZGVyVG9TZWN0aW9uVHlwZSk7XG4gICAgfSxcbiAgICBzZXRSb3N0ZXJQcm92aWRlcihzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPFJvc3RlclByb3ZpZGVyPikge1xuICAgICAgLy8gTm8tb3AgaWYgdGhpcyBhY3Rpb24gaXMgY2FsbGVkIHdpdGggYSBub24tT0F1dGggc2VjdGlvbiB0eXBlLFxuICAgICAgLy8gc2luY2UgdGhpcyBhY3Rpb24gaXMgdHJpZ2dlcmVkIG9uIGV2ZXJ5IHNlY3Rpb24gbG9hZC5cbiAgICAgIGlmIChcbiAgICAgICAgYWN0aW9uLnBheWxvYWQgJiZcbiAgICAgICAgKE9BdXRoU2VjdGlvblR5cGVzW2FjdGlvbi5wYXlsb2FkXSB8fFxuICAgICAgICAgIGFjdGlvbi5wYXlsb2FkID09PSBTZWN0aW9uTG9naW5UeXBlLmx0aV92MSlcbiAgICAgICkge1xuICAgICAgICBzdGF0ZS5yb3N0ZXJQcm92aWRlciA9IGFjdGlvbi5wYXlsb2FkO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0UGFnZVR5cGUoc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxzdHJpbmc+KSB7XG4gICAgICBzdGF0ZS5wYWdlVHlwZSA9IGFjdGlvbi5wYXlsb2FkO1xuICAgIH0sXG4gICAgc2VsZWN0U2VjdGlvbihzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHN0cmluZyB8IG51bWJlcj4pIHtcbiAgICAgIGlmIChhY3Rpb24ucGF5bG9hZCkge1xuICAgICAgICBjb25zdCBpZCA9IHBhcnNlSW50KGFjdGlvbi5wYXlsb2FkLnRvU3RyaW5nKCksIDEwKTtcbiAgICAgICAgaWYgKHN0YXRlLnNlY3Rpb25JZHMuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgICAgc3RhdGUuc2VsZWN0ZWRTZWN0aW9uSWQgPSBpZDtcbiAgICAgICAgICBzdGF0ZS5zZWxlY3RlZFNlY3Rpb25OYW1lID0gc3RhdGUuc2VjdGlvbnNbaWRdLm5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhdGUuc2VsZWN0ZWRTZWN0aW9uSWQgPSBOT19TRUNUSU9OO1xuICAgICAgICAgIHN0YXRlLnNlbGVjdGVkU2VjdGlvbk5hbWUgPSAnJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUuc2VsZWN0ZWRTZWN0aW9uSWQgPSBOT19TRUNUSU9OO1xuICAgICAgICBzdGF0ZS5zZWxlY3RlZFNlY3Rpb25OYW1lID0gJyc7XG4gICAgICB9XG4gICAgfSxcbiAgICB1cGRhdGVTZWxlY3RlZFNlY3Rpb24oc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxTZXJ2ZXJTZWN0aW9uPikge1xuICAgICAgY29uc3Qgc2VjdGlvbklkID0gYWN0aW9uLnBheWxvYWQuaWQ7XG4gICAgICBpZiAoc2VjdGlvbklkKSB7XG4gICAgICAgIHN0YXRlLnNlY3Rpb25zW3NlY3Rpb25JZF0gPSB7XG4gICAgICAgICAgLi4uc3RhdGUuc2VjdGlvbnNbc2VjdGlvbklkXSxcbiAgICAgICAgICAuLi5zZWN0aW9uRnJvbVNlcnZlclNlY3Rpb24oYWN0aW9uLnBheWxvYWQpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0U2VjdGlvbnM6IHtcbiAgICAgIHJlZHVjZXIoXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBhY3Rpb246IFBheWxvYWRBY3Rpb248e1xuICAgICAgICAgIHNlY3Rpb25zOiBTZXJ2ZXJTZWN0aW9uW107XG4gICAgICAgICAgYXV0b1NlbGVjdE9ubHlTZWN0aW9uOiBib29sZWFuO1xuICAgICAgICB9PlxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb25zID0gYWN0aW9uLnBheWxvYWQuc2VjdGlvbnMubWFwKHNlY3Rpb25Gcm9tU2VydmVyU2VjdGlvbik7XG5cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBvbmx5IG9uZSBzZWN0aW9uLCBhdXRvc2VsZWN0IGl0XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkU2VjdGlvbklkID1cbiAgICAgICAgICBhY3Rpb24ucGF5bG9hZC5hdXRvU2VsZWN0T25seVNlY3Rpb24gJiZcbiAgICAgICAgICBPYmplY3Qua2V5cyhzZWN0aW9ucykubGVuZ3RoID09PSAxXG4gICAgICAgICAgICA/IGFjdGlvbi5wYXlsb2FkLnNlY3Rpb25zWzBdLmlkXG4gICAgICAgICAgICA6IHN0YXRlLnNlbGVjdGVkU2VjdGlvbklkO1xuXG4gICAgICAgIHNlY3Rpb25zLmZvckVhY2goc2VjdGlvbiA9PiB7XG4gICAgICAgICAgLy8gU0VUX1NFQ1RJT05TIGlzIGNhbGxlZCBpbiB0d28gZGlmZmVyZW50IGNvbnRleHRzLiBPbiBzb21lIHBhZ2VzIGl0IGlzIGNhbGxlZFxuICAgICAgICAgIC8vIGluIGEgd2F5IHRoYXQgb25seSBwcm92aWRlcyBuYW1lL2lkIHBlciBzZWN0aW9uLCBpbiBvdGhlciBwbGFjZXMgKGhvbWVwYWdlLCB1bml0IG92ZXJ2aWV3KVxuICAgICAgICAgIC8vIGl0IHByb3ZpZGVzIG1vcmUgZGV0YWlsZWQgaW5mb3JtYXRpb24uIFRoZXJlIGFyZSBjdXJyZW50bHkgbm8gcGFnZXMgd2hlcmVcbiAgICAgICAgICAvLyBpdCBzaG91bGQgYmUgY2FsbGVkIGluIGJvdGggbWFubmVycywgYnV0IHdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoYXQgaWYgaXRcbiAgICAgICAgICAvLyB3ZXJlIGl0IHdpbGwgdGhyb3cgYW4gZXJyb3IgcmF0aGVyIHRoYW4gZGVzdHJveSBkYXRhLlxuICAgICAgICAgIGNvbnN0IHByZXZTZWN0aW9uID0gc3RhdGUuc2VjdGlvbnNbc2VjdGlvbi5pZF07XG4gICAgICAgICAgaWYgKHByZXZTZWN0aW9uKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzZWN0aW9uKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzZWN0aW9uW2tleSBhcyBrZXlvZiBTZWN0aW9uXSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgcHJldlNlY3Rpb25ba2V5IGFzIGtleW9mIFNlY3Rpb25dICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgJ1NFVF9TRUNUSU9OUyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgaW4gYSB3YXkgdGhhdCB3b3VsZCByZW1vdmUgZGF0YSdcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHNlY3Rpb25JZHMgPSBfLnVuaXEoXG4gICAgICAgICAgc3RhdGUuc2VjdGlvbklkcy5jb25jYXQoc2VjdGlvbnMubWFwKHNlY3Rpb24gPT4gc2VjdGlvbi5pZCkpXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3Qgc3R1ZGVudFNlY3Rpb25JZHMgPSBzZWN0aW9uc1xuICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICBzZWN0aW9uID0+IHNlY3Rpb24ucGFydGljaXBhbnRUeXBlID09PSBQYXJ0aWNpcGFudEF1ZGllbmNlLnN0dWRlbnRcbiAgICAgICAgICApXG4gICAgICAgICAgLm1hcChzZWN0aW9uID0+IHNlY3Rpb24uaWQpO1xuICAgICAgICBjb25zdCBwbFNlY3Rpb25JZHMgPSBzZWN0aW9uc1xuICAgICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgICBzZWN0aW9uID0+IHNlY3Rpb24ucGFydGljaXBhbnRUeXBlICE9PSBQYXJ0aWNpcGFudEF1ZGllbmNlLnN0dWRlbnRcbiAgICAgICAgICApXG4gICAgICAgICAgLm1hcChzZWN0aW9uID0+IHNlY3Rpb24uaWQpO1xuXG4gICAgICAgIHN0YXRlLnNlY3Rpb25zQXJlTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUuc2VsZWN0ZWRTZWN0aW9uSWQgPSBzZWxlY3RlZFNlY3Rpb25JZDtcbiAgICAgICAgc3RhdGUuc2VjdGlvbklkcyA9IHNlY3Rpb25JZHM7XG4gICAgICAgIHN0YXRlLnN0dWRlbnRTZWN0aW9uSWRzID0gc3R1ZGVudFNlY3Rpb25JZHM7XG4gICAgICAgIHN0YXRlLnBsU2VjdGlvbklkcyA9IHBsU2VjdGlvbklkcztcbiAgICAgICAgc3RhdGUuc2VjdGlvbnMgPSB7XG4gICAgICAgICAgLi4uc3RhdGUuc2VjdGlvbnMsXG4gICAgICAgICAgLi4uXy5rZXlCeShzZWN0aW9ucywgJ2lkJyksXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgcHJlcGFyZShzZWN0aW9ucywgYXV0b1NlbGVjdE9ubHlTZWN0aW9uID0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIHNlY3Rpb25zLFxuICAgICAgICAgICAgYXV0b1NlbGVjdE9ubHlTZWN0aW9uLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgIH0sXG4gICAgc3RhcnRMb2FkaW5nU2VjdGlvbkRhdGEoc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzTG9hZGluZ1NlY3Rpb25EYXRhID0gdHJ1ZTtcbiAgICB9LFxuICAgIGZpbmlzaExvYWRpbmdTZWN0aW9uRGF0YShzdGF0ZSkge1xuICAgICAgc3RhdGUuaXNMb2FkaW5nU2VjdGlvbkRhdGEgPSBmYWxzZTtcbiAgICB9LFxuICAgIHNldFN0dWRlbnRzRm9yQ3VycmVudFNlY3Rpb246IHtcbiAgICAgIHJlZHVjZXIoXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBhY3Rpb246IFBheWxvYWRBY3Rpb248e1xuICAgICAgICAgIHNlY3Rpb25JZDogbnVtYmVyO1xuICAgICAgICAgIHN0dWRlbnRzOiBTZXJ2ZXJTdHVkZW50W107XG4gICAgICAgIH0+XG4gICAgICApIHtcbiAgICAgICAgY29uc3Qgc3R1ZGVudHMgPSBhY3Rpb24ucGF5bG9hZC5zdHVkZW50cyB8fCBbXTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRTdHVkZW50cyA9IHN0dWRlbnRzLm1hcChcbiAgICAgICAgICBzdHVkZW50ID0+XG4gICAgICAgICAgICBzdHVkZW50RnJvbVNlcnZlclN0dWRlbnQoXG4gICAgICAgICAgICAgIHN0dWRlbnQsXG4gICAgICAgICAgICAgIGFjdGlvbi5wYXlsb2FkLnNlY3Rpb25JZFxuICAgICAgICAgICAgKSBhcyBTdHVkZW50XG4gICAgICAgICk7XG5cbiAgICAgICAgc3RhdGUuc2VsZWN0ZWRTdHVkZW50cyA9IHNlbGVjdGVkU3R1ZGVudHM7XG4gICAgICB9LFxuICAgICAgcHJlcGFyZShzZWN0aW9uSWQ6IG51bWJlciwgc3R1ZGVudHM6IFNlcnZlclN0dWRlbnRbXSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIHNlY3Rpb25JZCxcbiAgICAgICAgICAgIHN0dWRlbnRzLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgIH0sXG4gICAgc2V0Um9zdGVyUHJvdmlkZXJOYW1lKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248c3RyaW5nPikge1xuICAgICAgc3RhdGUucm9zdGVyUHJvdmlkZXJOYW1lID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgfSxcbiAgICB1cGRhdGVTZWN0aW9uQWlUdXRvckVuYWJsZWQoXG4gICAgICBzdGF0ZSxcbiAgICAgIGFjdGlvbjogUGF5bG9hZEFjdGlvbjx7XG4gICAgICAgIHNlY3Rpb25JZDogbnVtYmVyO1xuICAgICAgICBhaVR1dG9yRW5hYmxlZDogYm9vbGVhbjtcbiAgICAgIH0+XG4gICAgKSB7XG4gICAgICBjb25zdCB7c2VjdGlvbklkLCBhaVR1dG9yRW5hYmxlZH0gPSBhY3Rpb24ucGF5bG9hZDtcblxuICAgICAgc3RhdGUuc2VjdGlvbnNbc2VjdGlvbklkXS5haVR1dG9yRW5hYmxlZCA9IGFpVHV0b3JFbmFibGVkO1xuICAgIH0sXG4gICAgc2V0Q291cnNlT2ZmZXJpbmdzKFxuICAgICAgc3RhdGUsXG4gICAgICBhY3Rpb246IFBheWxvYWRBY3Rpb248QXNzaWdubWVudENvdXJzZU9mZmVyaW5nW10+XG4gICAgKSB7XG4gICAgICBzdGF0ZS5jb3Vyc2VPZmZlcmluZ3MgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgIHN0YXRlLmNvdXJzZU9mZmVyaW5nc0FyZUxvYWRlZCA9IHRydWU7XG4gICAgfSxcbiAgICBzZXRBdmFpbGFibGVQYXJ0aWNpcGFudFR5cGVzKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248c3RyaW5nW10+KSB7XG4gICAgICBzdGF0ZS5hdmFpbGFibGVQYXJ0aWNpcGFudFR5cGVzID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgfSxcbiAgICBzZXRTZWN0aW9uQ29kZVJldmlld0V4cGlyZXNBdDoge1xuICAgICAgcmVkdWNlcihcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGFjdGlvbjogUGF5bG9hZEFjdGlvbjx7XG4gICAgICAgICAgc2VjdGlvbklkOiBudW1iZXI7XG4gICAgICAgICAgY29kZVJldmlld0V4cGlyZXNBdDogc3RyaW5nO1xuICAgICAgICB9PlxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSBzdGF0ZS5zZWN0aW9uc1thY3Rpb24ucGF5bG9hZC5zZWN0aW9uSWRdO1xuICAgICAgICBpZiAoIXNlY3Rpb24pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlY3Rpb24gZG9lcyBub3QgZXhpc3QnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlLnNlY3Rpb25zW2FjdGlvbi5wYXlsb2FkLnNlY3Rpb25JZF0uY29kZVJldmlld0V4cGlyZXNBdCA9IGFjdGlvblxuICAgICAgICAgIC5wYXlsb2FkLmNvZGVSZXZpZXdFeHBpcmVzQXRcbiAgICAgICAgICA/IERhdGUucGFyc2UoYWN0aW9uLnBheWxvYWQuY29kZVJldmlld0V4cGlyZXNBdClcbiAgICAgICAgICA6IG51bGw7XG4gICAgICB9LFxuICAgICAgcHJlcGFyZShzZWN0aW9uSWQ6IG51bWJlciwgY29kZVJldmlld0V4cGlyZXNBdDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgc2VjdGlvbklkLFxuICAgICAgICAgICAgY29kZVJldmlld0V4cGlyZXNBdCxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9LFxuICAgIHJlbW92ZVNlY3Rpb24oc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxudW1iZXI+KSB7XG4gICAgICBjb25zdCBzZWN0aW9uSWQgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgIGNvbnN0IHNlY3Rpb24gPSBzdGF0ZS5zZWN0aW9uc1tzZWN0aW9uSWRdO1xuICAgICAgaWYgKCFzZWN0aW9uKSB7XG4gICAgICB9XG4gICAgICBzdGF0ZS5zZWN0aW9uSWRzID0gXy53aXRob3V0KHN0YXRlLnNlY3Rpb25JZHMsIHNlY3Rpb25JZCk7XG4gICAgICBzdGF0ZS5zdHVkZW50U2VjdGlvbklkcyA9IF8ud2l0aG91dChzdGF0ZS5zdHVkZW50U2VjdGlvbklkcywgc2VjdGlvbklkKTtcbiAgICAgIHN0YXRlLnBsU2VjdGlvbklkcyA9IF8ud2l0aG91dChzdGF0ZS5wbFNlY3Rpb25JZHMsIHNlY3Rpb25JZCk7XG4gICAgICBzdGF0ZS5zZWN0aW9ucyA9IF8ub21pdChzdGF0ZS5zZWN0aW9ucywgc2VjdGlvbklkKTtcbiAgICB9LFxuICAgIGJlZ2luQ3JlYXRpbmdTZWN0aW9uOiB7XG4gICAgICByZWR1Y2VyKFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtcbiAgICAgICAgICBjb3Vyc2VPZmZlcmluZ0lkPzogbnVtYmVyIHwgbnVsbDtcbiAgICAgICAgICBjb3Vyc2VWZXJzaW9uSWQ/OiBudW1iZXIgfCBudWxsO1xuICAgICAgICAgIHVuaXRJZD86IG51bWJlciB8IG51bGw7XG4gICAgICAgICAgcGFydGljaXBhbnRUeXBlPzogc3RyaW5nO1xuICAgICAgICB9PlxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxTZWN0aW9uRGF0YSA9IG5ld1NlY3Rpb25EYXRhKFxuICAgICAgICAgIGFjdGlvbi5wYXlsb2FkLnBhcnRpY2lwYW50VHlwZVxuICAgICAgICApIGFzIFNlY3Rpb247XG4gICAgICAgIGlmIChhY3Rpb24ucGF5bG9hZC5jb3Vyc2VPZmZlcmluZ0lkKSB7XG4gICAgICAgICAgaW5pdGlhbFNlY3Rpb25EYXRhLmNvdXJzZU9mZmVyaW5nSWQgPSBhY3Rpb24ucGF5bG9hZC5jb3Vyc2VPZmZlcmluZ0lkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3Rpb24ucGF5bG9hZC5jb3Vyc2VWZXJzaW9uSWQpIHtcbiAgICAgICAgICBpbml0aWFsU2VjdGlvbkRhdGEuY291cnNlVmVyc2lvbklkID0gYWN0aW9uLnBheWxvYWQuY291cnNlVmVyc2lvbklkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3Rpb24ucGF5bG9hZC51bml0SWQpIHtcbiAgICAgICAgICBpbml0aWFsU2VjdGlvbkRhdGEudW5pdElkID0gYWN0aW9uLnBheWxvYWQudW5pdElkO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmluaXRpYWxDb3Vyc2VJZCA9IGluaXRpYWxTZWN0aW9uRGF0YS5jb3Vyc2VJZDtcbiAgICAgICAgc3RhdGUuaW5pdGlhbFVuaXRJZCA9IGluaXRpYWxTZWN0aW9uRGF0YS51bml0SWQ7XG4gICAgICAgIHN0YXRlLmluaXRpYWxDb3Vyc2VPZmZlcmluZ0lkID0gaW5pdGlhbFNlY3Rpb25EYXRhLmNvdXJzZU9mZmVyaW5nSWQ7XG4gICAgICAgIHN0YXRlLmluaXRpYWxDb3Vyc2VWZXJzaW9uSWQgPSBpbml0aWFsU2VjdGlvbkRhdGEuY291cnNlVmVyc2lvbklkO1xuICAgICAgICBzdGF0ZS5pbml0aWFsTG9naW5UeXBlID0gaW5pdGlhbFNlY3Rpb25EYXRhLmxvZ2luVHlwZTtcbiAgICAgICAgc3RhdGUuaW5pdGlhbFVuaXROYW1lID0gaW5pdGlhbFNlY3Rpb25EYXRhLnVuaXROYW1lO1xuICAgICAgICBzdGF0ZS5zZWN0aW9uQmVpbmdFZGl0ZWQgPSBpbml0aWFsU2VjdGlvbkRhdGE7XG4gICAgICB9LFxuICAgICAgcHJlcGFyZShcbiAgICAgICAgY291cnNlT2ZmZXJpbmdJZD86IG51bWJlcixcbiAgICAgICAgY291cnNlVmVyc2lvbklkPzogbnVtYmVyLFxuICAgICAgICB1bml0SWQ/OiBudW1iZXIsXG4gICAgICAgIHBhcnRpY2lwYW50VHlwZT86IHN0cmluZ1xuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgY291cnNlT2ZmZXJpbmdJZCxcbiAgICAgICAgICAgIGNvdXJzZVZlcnNpb25JZCxcbiAgICAgICAgICAgIHVuaXRJZCxcbiAgICAgICAgICAgIHBhcnRpY2lwYW50VHlwZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9LFxuICAgIGJlZ2luRWRpdGluZ1NlY3Rpb246IHtcbiAgICAgIHJlZHVjZXIoXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBhY3Rpb246IFBheWxvYWRBY3Rpb248e3NlY3Rpb25JZD86IG51bWJlcjsgc2lsZW50OiBib29sZWFufT5cbiAgICAgICkge1xuICAgICAgICBjb25zdCBzaWxlbnQgPSAhIWFjdGlvbi5wYXlsb2FkLnNpbGVudDtcbiAgICAgICAgY29uc3QgaW5pdGlhbFBhcnRpY2lwYW50VHlwZSA9XG4gICAgICAgICAgc3RhdGUuYXZhaWxhYmxlUGFydGljaXBhbnRUeXBlcy5sZW5ndGggPT09IDFcbiAgICAgICAgICAgID8gc3RhdGUuYXZhaWxhYmxlUGFydGljaXBhbnRUeXBlc1swXVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGluaXRpYWxTZWN0aW9uRGF0YTogU2VjdGlvbiA9IGFjdGlvbi5wYXlsb2FkLnNlY3Rpb25JZFxuICAgICAgICAgID8gey4uLnN0YXRlLnNlY3Rpb25zW2FjdGlvbi5wYXlsb2FkLnNlY3Rpb25JZF19XG4gICAgICAgICAgOiBuZXdTZWN0aW9uRGF0YShpbml0aWFsUGFydGljaXBhbnRUeXBlKTtcbiAgICAgICAgc3RhdGUuaW5pdGlhbENvdXJzZUlkID0gaW5pdGlhbFNlY3Rpb25EYXRhLmNvdXJzZUlkO1xuICAgICAgICBzdGF0ZS5pbml0aWFsVW5pdElkID0gaW5pdGlhbFNlY3Rpb25EYXRhLnVuaXRJZDtcbiAgICAgICAgc3RhdGUuaW5pdGlhbENvdXJzZU9mZmVyaW5nSWQgPSBpbml0aWFsU2VjdGlvbkRhdGEuY291cnNlT2ZmZXJpbmdJZDtcbiAgICAgICAgc3RhdGUuaW5pdGlhbENvdXJzZVZlcnNpb25JZCA9IGluaXRpYWxTZWN0aW9uRGF0YS5jb3Vyc2VWZXJzaW9uSWQ7XG4gICAgICAgIHN0YXRlLmluaXRpYWxMb2dpblR5cGUgPSBpbml0aWFsU2VjdGlvbkRhdGEubG9naW5UeXBlO1xuICAgICAgICBzdGF0ZS5zZWN0aW9uQmVpbmdFZGl0ZWQgPSBpbml0aWFsU2VjdGlvbkRhdGE7XG4gICAgICAgIHN0YXRlLnNob3dTZWN0aW9uRWRpdERpYWxvZyA9ICFzaWxlbnQ7XG4gICAgICB9LFxuICAgICAgcHJlcGFyZShzZWN0aW9uSWQgPSBudWxsLCBzaWxlbnQgPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIHNlY3Rpb25JZCxcbiAgICAgICAgICAgIHNpbGVudCxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9LFxuICAgIGVkaXRTZWN0aW9uUHJvcGVydGllcyhzdGF0ZSwgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPFVzZXJFZGl0YWJsZVNlY3Rpb24+KSB7XG4gICAgICBpZiAoIXN0YXRlLnNlY3Rpb25CZWluZ0VkaXRlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0Nhbm5vdCBlZGl0IHNlY3Rpb24gcHJvcGVydGllczsgbm8gc2VjdGlvbiBpcycgK1xuICAgICAgICAgICAgJyBjdXJyZW50bHkgYmVpbmcgZWRpdGVkLidcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gYWN0aW9uLnBheWxvYWQpIHtcbiAgICAgICAgaWYgKCFVU0VSX0VESVRBQkxFX1NFQ1RJT05fUFJPUFMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGVkaXQgcHJvcGVydHkgJHtrZXl9OyBpdCdzIG5vdCBhbGxvd2VkLmApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFBMIFNlY3Rpb25zIG11c3QgdXNlIGVtYWlsIGxvZ2lucyBhbmQgaXRzIGdyYWRlIHZhbHVlIHNob3VsZCBiZSBcInBsXCJcbiAgICAgIGlmIChcbiAgICAgICAgYWN0aW9uLnBheWxvYWQucGFydGljaXBhbnRUeXBlICYmXG4gICAgICAgIGFjdGlvbi5wYXlsb2FkLnBhcnRpY2lwYW50VHlwZSAhPT0gUGFydGljaXBhbnRBdWRpZW5jZS5zdHVkZW50XG4gICAgICApIHtcbiAgICAgICAgc3RhdGUuc2VjdGlvbkJlaW5nRWRpdGVkLmxvZ2luVHlwZSA9IFNlY3Rpb25Mb2dpblR5cGUuZW1haWw7XG4gICAgICAgIHN0YXRlLnNlY3Rpb25CZWluZ0VkaXRlZC5ncmFkZXMgPSBbUGxHcmFkZVZhbHVlXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFjdGlvbi5wYXlsb2FkLnVuaXRJZCAmJiBhY3Rpb24ucGF5bG9hZC5sZXNzb25FeHRyYXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzdGF0ZS5zZWN0aW9uQmVpbmdFZGl0ZWQubGVzc29uRXh0cmFzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBhY3Rpb24ucGF5bG9hZC51bml0SWQgJiZcbiAgICAgICAgYWN0aW9uLnBheWxvYWQudHRzQXV0b3BsYXlFbmFibGVkID09PSB1bmRlZmluZWRcbiAgICAgICkge1xuICAgICAgICBzdGF0ZS5zZWN0aW9uQmVpbmdFZGl0ZWQudHRzQXV0b3BsYXlFbmFibGVkID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHN0YXRlLnNlY3Rpb25CZWluZ0VkaXRlZCA9IHtcbiAgICAgICAgLi4uc3RhdGUuc2VjdGlvbkJlaW5nRWRpdGVkLFxuICAgICAgICAuLi5hY3Rpb24ucGF5bG9hZCxcbiAgICAgIH07XG4gICAgfSxcbiAgICBzdGFydFNhdmVSZXF1ZXN0KHN0YXRlKSB7XG4gICAgICBzdGF0ZS5zYXZlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgfSxcbiAgICBmaW5pc2hTYXZlUmVxdWVzdChcbiAgICAgIHN0YXRlLFxuICAgICAgYWN0aW9uOiBQYXlsb2FkQWN0aW9uPHtcbiAgICAgICAgc2VjdGlvbklkOiBudW1iZXI7XG4gICAgICAgIHNlcnZlclNlY3Rpb246IFNlcnZlclNlY3Rpb247XG4gICAgICB9PlxuICAgICkge1xuICAgICAgLy8gV2hlbiB1cGRhdGluZyBhIHBlcnNpc3RlZCBzZWN0aW9uLCBvbGRTZWN0aW9uSWQgd2lsbCBiZSBpZGVudGljYWwgdG9cbiAgICAgIC8vIHNlY3Rpb24uaWQuIEhvd2V2ZXIsIGlmIHRoaXMgaXMgYSBuZXdseSBwZXJzaXN0ZWQgc2VjdGlvbiwgb2xkU2VjdGlvbklkXG4gICAgICAvLyB3aWxsIHJlcHJlc2VudCBvdXIgdGVtcG9yYXJ5IHNlY3Rpb24uIEluIHRoYXQgY2FzZSwgd2Ugd2FudCB0byBkZWxldGVcbiAgICAgIC8vIHRoYXQgc2VjdGlvbiwgYW5kIHJlcGxhY2UgaXQgd2l0aCBvdXIgbmV3IG9uZS5cbiAgICAgIGNvbnN0IHNlY3Rpb24gPSBzZWN0aW9uRnJvbVNlcnZlclNlY3Rpb24oYWN0aW9uLnBheWxvYWQuc2VydmVyU2VjdGlvbik7XG4gICAgICBjb25zdCBvbGRTZWN0aW9uSWQgPSBhY3Rpb24ucGF5bG9hZC5zZWN0aW9uSWQ7XG4gICAgICBjb25zdCBpc05ld1NlY3Rpb24gPSBzZWN0aW9uLmlkICE9PSBvbGRTZWN0aW9uSWQ7XG5cbiAgICAgIGlmIChpc05ld1NlY3Rpb24pIHtcbiAgICAgICAgaWYgKHN0YXRlLnNlY3Rpb25JZHMuaW5jbHVkZXMob2xkU2VjdGlvbklkKSkge1xuICAgICAgICAgIHN0YXRlLnNlY3Rpb25JZHMgPSBzdGF0ZS5zZWN0aW9uSWRzLm1hcChpZCA9PlxuICAgICAgICAgICAgaWQgPT09IG9sZFNlY3Rpb25JZCA/IHNlY3Rpb24uaWQgOiBpZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhdGUuc2VjdGlvbklkcyA9IFtzZWN0aW9uLmlkLCAuLi5zdGF0ZS5zZWN0aW9uSWRzXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBkZWxldGUgc3RhdGUuc2VjdGlvbnNbb2xkU2VjdGlvbklkXTtcbiAgICAgIHN0YXRlLnNlY3Rpb25zW3NlY3Rpb24uaWRdID0gey4uLnN0YXRlLnNlY3Rpb25zW3NlY3Rpb24uaWRdLCAuLi5zZWN0aW9ufTtcblxuICAgICAgc3RhdGUuc3R1ZGVudFNlY3Rpb25JZHMgPSBPYmplY3QudmFsdWVzKHN0YXRlLnNlY3Rpb25zKVxuICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgIHNlY3Rpb24gPT4gc2VjdGlvbi5wYXJ0aWNpcGFudFR5cGUgPT09IFBhcnRpY2lwYW50QXVkaWVuY2Uuc3R1ZGVudFxuICAgICAgICApXG4gICAgICAgIC5tYXAoc2VjdGlvbiA9PiBzZWN0aW9uLmlkKTtcbiAgICAgIHN0YXRlLnBsU2VjdGlvbklkcyA9IE9iamVjdC52YWx1ZXMoc3RhdGUuc2VjdGlvbnMpXG4gICAgICAgIC5maWx0ZXIoXG4gICAgICAgICAgc2VjdGlvbiA9PiBzZWN0aW9uLnBhcnRpY2lwYW50VHlwZSAhPT0gUGFydGljaXBhbnRBdWRpZW5jZS5zdHVkZW50XG4gICAgICAgIClcbiAgICAgICAgLm1hcChzZWN0aW9uID0+IHNlY3Rpb24uaWQpO1xuXG4gICAgICBpZiAoc2VjdGlvbi5sb2dpblR5cGUgIT09IHN0YXRlLmluaXRpYWxMb2dpblR5cGUpIHtcbiAgICAgICAgZmlyZWhvc2VDbGllbnQucHV0UmVjb3JkKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0dWR5OiAndGVhY2hlci1kYXNoYm9hcmQnLFxuICAgICAgICAgICAgc3R1ZHlfZ3JvdXA6ICdlZGl0LXNlY3Rpb24tZGV0YWlscycsXG4gICAgICAgICAgICBldmVudDogJ2NoYW5nZS1sb2dpbi10eXBlJyxcbiAgICAgICAgICAgIGRhdGFfanNvbjogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBzZWN0aW9uSWQ6IHNlY3Rpb24uaWQsXG4gICAgICAgICAgICAgIGluaXRpYWxMb2dpblR5cGU6IHN0YXRlLmluaXRpYWxMb2dpblR5cGUsXG4gICAgICAgICAgICAgIHVwZGF0ZWRMb2dpblR5cGU6IHNlY3Rpb24ubG9naW5UeXBlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7aW5jbHVkZVVzZXJJZDogdHJ1ZX1cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYXNzaWdubWVudERhdGE6IEFzc2lnbm1lbnREYXRhID0ge1xuICAgICAgICBzZWN0aW9uX2lkOiBzZWN0aW9uLmlkLFxuICAgICAgICBzZWN0aW9uX2NyZWF0aW9uX3RpbWVzdGFtcDogc2VjdGlvbi5jcmVhdGVkQXQsXG4gICAgICAgIHBhZ2VfbmFtZTogc3RhdGUucGFnZVR5cGUsXG4gICAgICB9O1xuICAgICAgaWYgKHNlY3Rpb24udW5pdElkICE9PSBzdGF0ZS5pbml0aWFsVW5pdElkKSB7XG4gICAgICAgIGFzc2lnbm1lbnREYXRhLnVuaXRfaWQgPSBzZWN0aW9uLnVuaXRJZDtcbiAgICAgIH1cbiAgICAgIGlmIChzZWN0aW9uLmNvdXJzZUlkICE9PSBzdGF0ZS5pbml0aWFsQ291cnNlSWQpIHtcbiAgICAgICAgYXNzaWdubWVudERhdGEuY291cnNlX2lkID0gc2VjdGlvbi5jb3Vyc2VJZDtcbiAgICAgIH1cbiAgICAgIGlmIChzZWN0aW9uLmNvdXJzZU9mZmVyaW5nSWQgIT09IHN0YXRlLmluaXRpYWxDb3Vyc2VPZmZlcmluZ0lkKSB7XG4gICAgICAgIGFzc2lnbm1lbnREYXRhLmNvdXJzZV9vZmZlcmluZ19pZCA9IHNlY3Rpb24uY291cnNlT2ZmZXJpbmdJZDtcbiAgICAgIH1cbiAgICAgIGlmIChzZWN0aW9uLmNvdXJzZVZlcnNpb25JZCAhPT0gc3RhdGUuaW5pdGlhbENvdXJzZVZlcnNpb25JZCkge1xuICAgICAgICBhc3NpZ25tZW50RGF0YS5jb3Vyc2VfdmVyc2lvbl9pZCA9IHNlY3Rpb24uY291cnNlVmVyc2lvbklkO1xuICAgICAgfVxuICAgICAgaWYgKHNlY3Rpb24udW5pdE5hbWUgIT09IHN0YXRlLmluaXRpYWxVbml0TmFtZSkge1xuICAgICAgICBhc3NpZ25tZW50RGF0YS51bml0TmFtZSA9IHNlY3Rpb24udW5pdE5hbWU7XG4gICAgICB9XG4gICAgICAvLyBJZiBlaXRoZXIgb2YgdGhlc2UgaGFzIGJlZW4gc2V0LCBhc3NpZ25tZW50IGNoYW5nZWQgYW5kIHNob3VsZCBiZSBsb2dnZWRcbiAgICAgIGlmIChhc3NpZ25tZW50RGF0YS51bml0X2lkIHx8IGFzc2lnbm1lbnREYXRhLmNvdXJzZV9pZCkge1xuICAgICAgICBmaXJlaG9zZUNsaWVudC5wdXRSZWNvcmQoXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3R1ZHk6ICdhc3NpZ25tZW50JyxcbiAgICAgICAgICAgIHN0dWR5X2dyb3VwOiAndjEnLFxuICAgICAgICAgICAgZXZlbnQ6IGlzTmV3U2VjdGlvbiA/ICdjcmVhdGVfc2VjdGlvbicgOiAnZWRpdF9zZWN0aW9uX2RldGFpbHMnLFxuICAgICAgICAgICAgZGF0YV9qc29uOiBKU09OLnN0cmluZ2lmeShhc3NpZ25tZW50RGF0YSksXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7aW5jbHVkZVVzZXJJZDogdHJ1ZX1cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgc3RhdGUuc2VjdGlvbkJlaW5nRWRpdGVkID0gbnVsbDtcbiAgICAgIHN0YXRlLnNhdmVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfSxcbiAgICBmYWlsU2F2ZVJlcXVlc3Qoc3RhdGUpIHtcbiAgICAgIHN0YXRlLnNhdmVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfSxcbiAgICBiZWdpbkFzeW5jTG9hZChzdGF0ZSkge1xuICAgICAgc3RhdGUuYXN5bmNMb2FkQ29tcGxldGUgPSBmYWxzZTtcbiAgICB9LFxuICAgIGVuZEFzeW5jTG9hZChzdGF0ZSkge1xuICAgICAgc3RhdGUuYXN5bmNMb2FkQ29tcGxldGUgPSB0cnVlO1xuICAgIH0sXG4gICAgY2FuY2VsRWRpdGluZ1NlY3Rpb24oc3RhdGUpIHtcbiAgICAgIHN0YXRlLnNlY3Rpb25CZWluZ0VkaXRlZCA9IG51bGw7XG4gICAgfSxcbiAgICBzZXRDb3RlYWNoZXJJbnZpdGUoXG4gICAgICBzdGF0ZSxcbiAgICAgIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxTZWN0aW9uSW5zdHJ1Y3RvciB8IHVuZGVmaW5lZD5cbiAgICApIHtcbiAgICAgIHN0YXRlLmNvdGVhY2hlckludml0ZSA9IGFjdGlvbi5wYXlsb2FkO1xuICAgIH0sXG4gICAgc2V0Q290ZWFjaGVySW52aXRlRm9yUGwoXG4gICAgICBzdGF0ZSxcbiAgICAgIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxTZWN0aW9uSW5zdHJ1Y3RvciB8IHVuZGVmaW5lZD5cbiAgICApIHtcbiAgICAgIHN0YXRlLmNvdGVhY2hlckludml0ZUZvclBsID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgfSxcbiAgICBiZWdpbkltcG9ydFJvc3RlckZsb3coc3RhdGUpIHtcbiAgICAgIHN0YXRlLmlzUm9zdGVyRGlhbG9nT3BlbiA9IHRydWU7XG4gICAgICBzdGF0ZS5jbGFzc3Jvb21zID0gbnVsbDtcbiAgICB9LFxuICAgIGltcG9ydFJvc3RlckZsb3dMaXN0TG9hZGVkKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248Q2xhc3Nyb29tW10+KSB7XG4gICAgICBzdGF0ZS5jbGFzc3Jvb21zID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgfSxcbiAgICBjYW5jZWxJbXBvcnRSb3N0ZXJGbG93KHN0YXRlKSB7XG4gICAgICBzdGF0ZS5pc1Jvc3RlckRpYWxvZ09wZW4gPSBmYWxzZTtcbiAgICAgIHN0YXRlLnJvc3RlclByb3ZpZGVyID0gbnVsbDtcbiAgICAgIHN0YXRlLmNsYXNzcm9vbXMgPSBudWxsO1xuICAgIH0sXG4gICAgcm9zdGVySW1wb3J0RmFpbGVkKFxuICAgICAgc3RhdGUsXG4gICAgICBhY3Rpb246IFBheWxvYWRBY3Rpb248e3N0YXR1czogbnVtYmVyOyBtZXNzYWdlOiBzdHJpbmd9PlxuICAgICkge1xuICAgICAgc3RhdGUubG9hZEVycm9yID0ge1xuICAgICAgICBzdGF0dXM6IGFjdGlvbi5wYXlsb2FkLnN0YXR1cyxcbiAgICAgICAgbWVzc2FnZTogYWN0aW9uLnBheWxvYWQubWVzc2FnZSxcbiAgICAgIH07XG4gICAgfSxcbiAgICByb3N0ZXJJbXBvcnRSZXF1ZXN0KHN0YXRlKSB7XG4gICAgICBzdGF0ZS5jbGFzc3Jvb21zID0gbnVsbDtcbiAgICB9LFxuICAgIHJvc3RlckltcG9ydFN1Y2Nlc3Moc3RhdGUsIGFjdGlvbjogUGF5bG9hZEFjdGlvbjxudW1iZXI+KSB7XG4gICAgICBzdGF0ZS5pc1Jvc3RlckRpYWxvZ09wZW4gPSBmYWxzZTtcbiAgICAgIHN0YXRlLnNlY3Rpb25CZWluZ0VkaXRlZCA9IHtcbiAgICAgICAgLi4uc3RhdGUuc2VjdGlvbnNbYWN0aW9uLnBheWxvYWRdLFxuICAgICAgICAvLyBleHBsaWNpdGx5IHVuaGlkZSBhZnRlciBpbXBvcnRpbmdcbiAgICAgICAgaGlkZGVuOiBmYWxzZSxcbiAgICAgIH07XG4gICAgfSxcbiAgICBsdGlSb3N0ZXJJbXBvcnRTdWNjZXNzKHN0YXRlLCBhY3Rpb246IFBheWxvYWRBY3Rpb248THRpU2VjdGlvblN5bmNSZXN1bHQ+KSB7XG4gICAgICBzdGF0ZS5sdGlTeW5jUmVzdWx0ID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgfSxcbiAgfSxcbn0pO1xuXG4vKiogQGNvbnN0IEEgZmV3IGNvbnN0YW50cyBleHBvc2VkIGZvciB1bml0IHRlc3Qgc2V0dXAgKi9cbmV4cG9ydCBjb25zdCBfX3Rlc3RJbnRlcmZhY2VfXyA9IHtcbiAgRURJVF9TRUNUSU9OX1JFUVVFU1Q6ICd0ZWFjaGVyU2VjdGlvbnMvc3RhcnRTYXZlUmVxdWVzdCcsXG4gIEVESVRfU0VDVElPTl9TVUNDRVNTOiAndGVhY2hlclNlY3Rpb25zL2ZpbmlzaFNhdmVSZXF1ZXN0JyxcbiAgSU1QT1JUX1JPU1RFUl9GTE9XX0JFR0lOOiAndGVhY2hlclNlY3Rpb25zL2JlZ2luSW1wb3J0Um9zdGVyRmxvdycsXG4gIElNUE9SVF9ST1NURVJfRkxPV19MSVNUX0xPQURFRDogJ3RlYWNoZXJTZWN0aW9ucy9pbXBvcnRSb3N0ZXJGbG93TGlzdExvYWRlZCcsXG4gIFBFTkRJTkdfTkVXX1NFQ1RJT05fSUQ6IC0xLFxuICBVU0VSX0VESVRBQkxFX1NFQ1RJT05fUFJPUFMsXG59O1xuXG4vL1RodW5rc1xudHlwZSBTZWN0aW9uVGh1bmtBY3Rpb24gPSBUaHVua0FjdGlvbjx2b2lkLCBSb290U3RhdGUsIHVuZGVmaW5lZCwgQW55QWN0aW9uPjtcblxuLyoqXG4gKiBDaGFuZ2VzIHRoZSBoaWRkZW4gc3RhdGUgb2YgYSBnaXZlbiBzZWN0aW9uLCBwZXJzaXN0aW5nIHRoZXNlIGNoYW5nZXMgdG8gdGhlXG4gKiBzZXJ2ZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWN0aW9uSWRcbiAqL1xuZXhwb3J0IGNvbnN0IHRvZ2dsZVNlY3Rpb25IaWRkZW4gPVxuICAoc2VjdGlvbklkOiBudW1iZXIpOiBTZWN0aW9uVGh1bmtBY3Rpb24gPT5cbiAgKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGRpc3BhdGNoKGJlZ2luRWRpdGluZ1NlY3Rpb24oc2VjdGlvbklkLCB0cnVlKSk7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpLnRlYWNoZXJTZWN0aW9ucztcbiAgICBjb25zdCBjdXJyZW50bHlIaWRkZW4gPSBzdGF0ZS5zZWN0aW9uc1tzZWN0aW9uSWRdLmhpZGRlbjtcbiAgICBkaXNwYXRjaChlZGl0U2VjdGlvblByb3BlcnRpZXMoe2hpZGRlbjogIWN1cnJlbnRseUhpZGRlbn0pKTtcblxuICAgIC8vIFRyYWNrIGFyY2hpdmUvcmVzdG9yZSBzZWN0aW9uIGFjdGlvblxuICAgIGZpcmVob3NlQ2xpZW50LnB1dFJlY29yZCh7XG4gICAgICBzdHVkeTogJ3RlYWNoZXJfZGFzaGJvYXJkX2FjdGlvbnMnLFxuICAgICAgc3R1ZHlfZ3JvdXA6ICd0b2dnbGVTZWN0aW9uSGlkZGVuJyxcbiAgICAgIGV2ZW50OiBjdXJyZW50bHlIaWRkZW4gPyAncmVzdG9yZVNlY3Rpb24nIDogJ2FyY2hpdmVTZWN0aW9uJyxcbiAgICAgIGRhdGFfanNvbjogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBzZWN0aW9uX2lkOiBzZWN0aW9uSWQsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgICByZXR1cm4gZGlzcGF0Y2goZmluaXNoRWRpdGluZ1NlY3Rpb24oKSk7XG4gIH07XG5cbmNvbnN0IHN1Ym1pdEVkaXRpbmdTZWN0aW9uID0gKFxuICBkaXNwYXRjaDogVGh1bmtEaXNwYXRjaDxcbiAgICB7dGVhY2hlclNlY3Rpb25zOiBUZWFjaGVyU2VjdGlvblN0YXRlfSxcbiAgICB1bmRlZmluZWQsXG4gICAgQW55QWN0aW9uXG4gID4sXG4gIGdldFN0YXRlOiAoKSA9PiBSb290U3RhdGVcbikgPT4ge1xuICBkaXNwYXRjaChzdGFydFNhdmVSZXF1ZXN0KCkpO1xuICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCkudGVhY2hlclNlY3Rpb25zO1xuICBjb25zdCBzZWN0aW9uID0gc3RhdGUuc2VjdGlvbkJlaW5nRWRpdGVkO1xuXG4gIGlmICghc2VjdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignc2VjdGlvbiBkb2VzIG5vdCBleGlzdCcpO1xuICB9XG5cbiAgaWYgKGlzQWRkaW5nU2VjdGlvbihzdGF0ZSkpIHtcbiAgICByZXR1cm4gJC5hamF4KHtcbiAgICAgIHVybDogJy9kYXNoYm9hcmRhcGkvc2VjdGlvbnMnLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShzZXJ2ZXJTZWN0aW9uRnJvbVNlY3Rpb24oc2VjdGlvbikpLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAkLmFqYXgoe1xuICAgICAgdXJsOiBgL2Rhc2hib2FyZGFwaS9zZWN0aW9ucy8ke3NlY3Rpb24uaWR9YCxcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JyxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHNlcnZlclNlY3Rpb25Gcm9tU2VjdGlvbihzZWN0aW9uKSksXG4gICAgfSk7XG4gIH1cbn07XG5cbi8qKlxuICogU3VibWl0IHN0YWdlZCBzZWN0aW9uIGNoYW5nZXMgdG8gdGhlIHNlcnZlci5cbiAqIENsb3NlcyBVSSBhbmQgdXBkYXRlcyBzZWN0aW9uIHRhYmxlIG9uIHN1Y2Nlc3MuXG4gKi9cbmV4cG9ydCBjb25zdCBmaW5pc2hFZGl0aW5nU2VjdGlvbiA9XG4gICgpOiBTZWN0aW9uVGh1bmtBY3Rpb24gPT4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKS50ZWFjaGVyU2VjdGlvbnM7XG4gICAgY29uc3Qgc2VjdGlvbiA9IHN0YXRlLnNlY3Rpb25CZWluZ0VkaXRlZDtcblxuICAgIGlmICghc2VjdGlvbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZWN0aW9uIGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHN1Ym1pdEVkaXRpbmdTZWN0aW9uKGRpc3BhdGNoLCBnZXRTdGF0ZSlcbiAgICAgICAgLmRvbmUocmVzdWx0ID0+IHtcbiAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgIGZpbmlzaFNhdmVSZXF1ZXN0KHtcbiAgICAgICAgICAgICAgc2VjdGlvbklkOiBzZWN0aW9uLmlkLFxuICAgICAgICAgICAgICBzZXJ2ZXJTZWN0aW9uOiByZXN1bHQsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9KVxuICAgICAgICAuZmFpbCgoanFYaHI6IG9iamVjdCwgc3RhdHVzOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICBkaXNwYXRjaChmYWlsU2F2ZVJlcXVlc3QoKSk7XG4gICAgICAgICAgcmVqZWN0KHN0YXR1cyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4vKipcbiAqIFJlbW92ZXMgYSBzZWN0aW9uIG9yIHRocm93cyBhbiBlcnJvciBpZiB0aGUgc2VjdGlvbiBkb2VzIG5vdCBleGlzdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZVNlY3Rpb25PclRocm93ID1cbiAgKHNlY3Rpb25JZDogbnVtYmVyKTogU2VjdGlvblRodW5rQWN0aW9uID0+XG4gIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCkudGVhY2hlclNlY3Rpb25zO1xuXG4gICAgaWYgKHN0YXRlLnNlY3Rpb25zW3NlY3Rpb25JZF0pIHtcbiAgICAgIGRpc3BhdGNoKHJlbW92ZVNlY3Rpb24oc2VjdGlvbklkKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignc2VjdGlvbiBkb2VzIG5vdCBleGlzdCcpO1xuICAgIH1cbiAgfTtcblxudHlwZSBQYXJ0aWNpcGFudFR5cGVzUmVzcG9uc2UgPSB7XG4gIGF2YWlsYWJsZVBhcnRpY2lwYW50VHlwZXM6IHN0cmluZ1tdO1xufTtcblxuZXhwb3J0IGNvbnN0IGFzeW5jTG9hZFNlY3Rpb25EYXRhID1cbiAgKGlkOiBudW1iZXIgfCB2b2lkKTogU2VjdGlvblRodW5rQWN0aW9uID0+XG4gIGRpc3BhdGNoID0+IHtcbiAgICBkaXNwYXRjaChiZWdpbkFzeW5jTG9hZCgpKTtcblxuICAgIGNvbnN0IHByb21pc2VzOiBQcm9taXNlPG9iamVjdD5bXSA9IFtcbiAgICAgIGZldGNoSlNPTignL2Rhc2hib2FyZGFwaS9zZWN0aW9ucycpLnRoZW4oc2VjdGlvbnMgPT5cbiAgICAgICAgZGlzcGF0Y2goc2V0U2VjdGlvbnMoc2VjdGlvbnMgYXMgU2VydmVyU2VjdGlvbltdKSlcbiAgICAgICksXG4gICAgICBmZXRjaEpTT04oJy9kYXNoYm9hcmRhcGkvc2VjdGlvbnMvdmFsaWRfY291cnNlX29mZmVyaW5ncycpLnRoZW4oXG4gICAgICAgIG9mZmVyaW5ncyA9PlxuICAgICAgICAgIGRpc3BhdGNoKHNldENvdXJzZU9mZmVyaW5ncyhvZmZlcmluZ3MgYXMgQXNzaWdubWVudENvdXJzZU9mZmVyaW5nW10pKVxuICAgICAgKSxcbiAgICAgIGZldGNoSlNPTignL2Rhc2hib2FyZGFwaS9zZWN0aW9ucy9hdmFpbGFibGVfcGFydGljaXBhbnRfdHlwZXMnKS50aGVuKFxuICAgICAgICBwYXJ0aWNpcGFudFR5cGVzID0+XG4gICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICBzZXRBdmFpbGFibGVQYXJ0aWNpcGFudFR5cGVzKFxuICAgICAgICAgICAgICAocGFydGljaXBhbnRUeXBlcyBhcyBQYXJ0aWNpcGFudFR5cGVzUmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgLmF2YWlsYWJsZVBhcnRpY2lwYW50VHlwZXNcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICApLFxuICAgIF07XG5cbiAgICAvLyBJZiBzZWN0aW9uIGlkIGlzIHByb3ZpZGVkLCBsb2FkIHN0dWRlbnRzIGZvciB0aGUgY3VycmVudCBzZWN0aW9uLlxuICAgIGlmIChpZCkge1xuICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgZmV0Y2hKU09OKGAvZGFzaGJvYXJkYXBpL3NlY3Rpb25zLyR7aWR9L3N0dWRlbnRzYCkudGhlbihzdHVkZW50cyA9PlxuICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgc2V0U3R1ZGVudHNGb3JDdXJyZW50U2VjdGlvbihpZCwgc3R1ZGVudHMgYXMgU2VydmVyU3R1ZGVudFtdKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaChlbmRBc3luY0xvYWQoKSk7XG4gICAgICB9KTtcbiAgfTtcblxuZnVuY3Rpb24gZmV0Y2hKU09OKHVybDogc3RyaW5nLCBwYXJhbXM/OiBvYmplY3QpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAkLmdldEpTT04odXJsLCBwYXJhbXMpXG4gICAgICAuZG9uZShyZXNvbHZlKVxuICAgICAgLmZhaWwoanF4aHIgPT5cbiAgICAgICAgcmVqZWN0KFxuICAgICAgICAgIG5ldyBFcnJvcihgXG4gICAgICAgIHVybDogJHt1cmx9XG4gICAgICAgIHN0YXR1czogJHtqcXhoci5zdGF0dXN9XG4gICAgICAgIHN0YXR1c1RleHQ6ICR7anF4aHIuc3RhdHVzVGV4dH1cbiAgICAgICAgcmVzcG9uc2VUZXh0OiAke2pxeGhyLnJlc3BvbnNlVGV4dH1cbiAgICAgIGApXG4gICAgICAgIClcbiAgICAgICk7XG4gIH0pO1xufVxuXG5leHBvcnQgY29uc3QgYXN5bmNMb2FkQ290ZWFjaGVySW52aXRlID0gKCk6IFNlY3Rpb25UaHVua0FjdGlvbiA9PiBkaXNwYXRjaCA9PiB7XG4gIGZldGNoSlNPTignL2FwaS92MS9zZWN0aW9uX2luc3RydWN0b3JzJylcbiAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICBjb25zdCBzZWN0aW9uSW5zdHJ1Y3RvcnMgPSByZXNwb25zZSBhcyBTZWN0aW9uSW5zdHJ1Y3RvcltdO1xuICAgICAgY29uc3QgY290ZWFjaGVySW52aXRlRm9yUGwgPSBzZWN0aW9uSW5zdHJ1Y3RvcnMuZmluZChpbnN0cnVjdG9ySW52aXRlID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBpbnN0cnVjdG9ySW52aXRlLnN0YXR1cyA9PT0gJ2ludml0ZWQnICYmXG4gICAgICAgICAgaW5zdHJ1Y3Rvckludml0ZS5wYXJ0aWNpcGFudF90eXBlICE9PSAnc3R1ZGVudCdcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgY290ZWFjaGVySW52aXRlRm9yQ2xhc3Nyb29tcyA9IHNlY3Rpb25JbnN0cnVjdG9ycy5maW5kKFxuICAgICAgICBpbnN0cnVjdG9ySW52aXRlID0+IHtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgaW5zdHJ1Y3Rvckludml0ZS5zdGF0dXMgPT09ICdpbnZpdGVkJyAmJlxuICAgICAgICAgICAgaW5zdHJ1Y3Rvckludml0ZS5wYXJ0aWNpcGFudF90eXBlID09PSAnc3R1ZGVudCdcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICBkaXNwYXRjaChzZXRDb3RlYWNoZXJJbnZpdGUoY290ZWFjaGVySW52aXRlRm9yQ2xhc3Nyb29tcykpO1xuICAgICAgZGlzcGF0Y2goc2V0Q290ZWFjaGVySW52aXRlRm9yUGwoY290ZWFjaGVySW52aXRlRm9yUGwpKTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIubWVzc2FnZSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEFzc2lnbnMgYSBjb3Vyc2UgdG8gYSBnaXZlbiBzZWN0aW9uLCBwZXJzaXN0aW5nIHRoZXNlIGNoYW5nZXMgdG9cbiAqIHRoZSBzZXJ2ZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWN0aW9uSWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3Vyc2VJZFxuICogQHBhcmFtIHtudW1iZXJ9IGNvdXJzZU9mZmVyaW5nSWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3Vyc2VWZXJzaW9uSWRcbiAqIEBwYXJhbSB7bnVtYmVyfSB1bml0SWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYWdlVHlwZVxuICovXG5leHBvcnQgY29uc3QgYXNzaWduVG9TZWN0aW9uID0gKFxuICBzZWN0aW9uSWQ6IG51bWJlcixcbiAgY291cnNlSWQ6IG51bWJlcixcbiAgY291cnNlT2ZmZXJpbmdJZDogbnVtYmVyLFxuICBjb3Vyc2VWZXJzaW9uSWQ6IG51bWJlcixcbiAgdW5pdElkOiBudW1iZXIsXG4gIHBhZ2VUeXBlOiBzdHJpbmdcbik6IFNlY3Rpb25UaHVua0FjdGlvbiA9PiB7XG4gIGZpcmVob3NlQ2xpZW50LnB1dFJlY29yZChcbiAgICB7XG4gICAgICBzdHVkeTogJ2Fzc2lnbm1lbnQnLFxuICAgICAgZXZlbnQ6ICdjb3Vyc2UtYXNzaWduZWQtdG8tc2VjdGlvbicsXG4gICAgICBkYXRhX2pzb246IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICB7XG4gICAgICAgICAgc2VjdGlvbklkLFxuICAgICAgICAgIHVuaXRJZCxcbiAgICAgICAgICBjb3Vyc2VJZCxcbiAgICAgICAgICBkYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICB9LFxuICAgICAgICByZW1vdmVOdWxsVmFsdWVzXG4gICAgICApLFxuICAgIH0sXG4gICAge2luY2x1ZGVVc2VySWQ6IHRydWV9XG4gICk7XG4gIHJldHVybiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IGdldFN0YXRlKCkudGVhY2hlclNlY3Rpb25zLnNlY3Rpb25zW3NlY3Rpb25JZF07XG4gICAgLy8gT25seSBsb2cgaWYgdGhlIGFzc2lnbm1lbnQgaXMgY2hhbmdpbmcuXG4gICAgLy8gV2UgbmVlZCBhbiBPUiBoZXJlIGJlY2F1c2UgdW5pdElkIHdpbGwgYmUgbnVsbCBmb3Igc3RhbmRhbG9uZSB1bml0c1xuICAgIGlmIChcbiAgICAgIChjb3Vyc2VPZmZlcmluZ0lkICYmIHNlY3Rpb24uY291cnNlT2ZmZXJpbmdJZCAhPT0gY291cnNlT2ZmZXJpbmdJZCkgfHxcbiAgICAgIChjb3Vyc2VWZXJzaW9uSWQgJiYgc2VjdGlvbi5jb3Vyc2VWZXJzaW9uSWQgIT09IGNvdXJzZVZlcnNpb25JZCkgfHxcbiAgICAgICh1bml0SWQgJiYgc2VjdGlvbi51bml0SWQgIT09IHVuaXRJZClcbiAgICApIHtcbiAgICAgIGFuYWx5dGljc1JlcG9ydGVyLnNlbmRFdmVudChcbiAgICAgICAgRVZFTlRTLkNVUlJJQ1VMVU1fQVNTSUdORUQsXG4gICAgICAgIHtcbiAgICAgICAgICBzZWN0aW9uTmFtZTogc2VjdGlvbi5uYW1lLFxuICAgICAgICAgIHNlY3Rpb25JZCxcbiAgICAgICAgICBzZWN0aW9uTG9naW5UeXBlOiBzZWN0aW9uLmxvZ2luVHlwZSxcbiAgICAgICAgICBwcmV2aW91c1VuaXRJZDogc2VjdGlvbi51bml0SWQsXG4gICAgICAgICAgcHJldmlvdXNDb3Vyc2VJZDogc2VjdGlvbi5jb3Vyc2VPZmZlcmluZ0lkLFxuICAgICAgICAgIHByZXZpb3VzQ291cnNlVmVyc2lvbklkOiBzZWN0aW9uLmNvdXJzZVZlcnNpb25JZCxcbiAgICAgICAgICBuZXdVbml0SWQ6IHVuaXRJZCxcbiAgICAgICAgICBuZXdDb3Vyc2VJZDogY291cnNlT2ZmZXJpbmdJZCxcbiAgICAgICAgICBuZXdDb3Vyc2VWZXJzaW9uSWQ6IGNvdXJzZVZlcnNpb25JZCxcbiAgICAgICAgfSxcbiAgICAgICAgUExBVEZPUk1TLkJPVEhcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goYmVnaW5FZGl0aW5nU2VjdGlvbihzZWN0aW9uSWQsIHRydWUpKTtcbiAgICBkaXNwYXRjaChcbiAgICAgIGVkaXRTZWN0aW9uUHJvcGVydGllcyh7XG4gICAgICAgIGNvdXJzZUlkOiBjb3Vyc2VJZCxcbiAgICAgICAgY291cnNlT2ZmZXJpbmdJZDogY291cnNlT2ZmZXJpbmdJZCxcbiAgICAgICAgY291cnNlVmVyc2lvbklkOiBjb3Vyc2VWZXJzaW9uSWQsXG4gICAgICAgIHVuaXRJZDogdW5pdElkLFxuICAgICAgfSlcbiAgICApO1xuICAgIHJldHVybiBkaXNwYXRjaChmaW5pc2hFZGl0aW5nU2VjdGlvbigpKTtcbiAgfTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhc3NpZ25tZW50cyBmcm9tIHRoZSBnaXZlbiBzZWN0aW9uLCBwZXJzaXN0aW5nIHRoZXNlIGNoYW5nZXMgdG9cbiAqIHRoZSBzZXJ2ZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWN0aW9uSWRcbiAqL1xuZXhwb3J0IGNvbnN0IHVuYXNzaWduU2VjdGlvbiA9XG4gIChzZWN0aW9uSWQ6IG51bWJlciwgbG9jYXRpb246IHN0cmluZyk6IFNlY3Rpb25UaHVua0FjdGlvbiA9PlxuICAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgZGlzcGF0Y2goYmVnaW5FZGl0aW5nU2VjdGlvbihzZWN0aW9uSWQsIHRydWUpKTtcbiAgICBjb25zdCB7aW5pdGlhbENvdXJzZUlkLCBpbml0aWFsVW5pdElkfSA9IGdldFN0YXRlKCkudGVhY2hlclNlY3Rpb25zO1xuXG4gICAgZGlzcGF0Y2goXG4gICAgICBlZGl0U2VjdGlvblByb3BlcnRpZXMoe1xuICAgICAgICBjb3Vyc2VJZDogbnVsbCxcbiAgICAgICAgY291cnNlT2ZmZXJpbmdJZDogbnVsbCxcbiAgICAgICAgY291cnNlVmVyc2lvbklkOiBudWxsLFxuICAgICAgICB1bml0SWQ6IG51bGwsXG4gICAgICB9KVxuICAgICk7XG4gICAgZmlyZWhvc2VDbGllbnQucHV0UmVjb3JkKFxuICAgICAge1xuICAgICAgICBzdHVkeTogJ2Fzc2lnbm1lbnQnLFxuICAgICAgICBldmVudDogJ2NvdXJzZS11bmFzc2lnbmVkLWZyb20tc2VjdGlvbicsXG4gICAgICAgIGRhdGFfanNvbjogSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAge1xuICAgICAgICAgICAgc2VjdGlvbklkLFxuICAgICAgICAgICAgc2NyaXB0SWQ6IGluaXRpYWxVbml0SWQsXG4gICAgICAgICAgICBjb3Vyc2VJZDogaW5pdGlhbENvdXJzZUlkLFxuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgICAgZGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZU51bGxWYWx1ZXNcbiAgICAgICAgKSxcbiAgICAgIH0sXG4gICAgICB7aW5jbHVkZVVzZXJJZDogdHJ1ZX1cbiAgICApO1xuICAgIHJldHVybiBkaXNwYXRjaChmaW5pc2hFZGl0aW5nU2VjdGlvbigpKTtcbiAgfTtcblxuLyoqXG4gKiBSZW1vdmVzIG51bGwgdmFsdWVzIGZyb20gc3RyaW5naWZpZWQgb2JqZWN0IGJlZm9yZSBzZW5kaW5nIGZpcmVob3NlIHJlY29yZFxuICovXG5mdW5jdGlvbiByZW1vdmVOdWxsVmFsdWVzKGtleTogc3RyaW5nLCB2YWw/OiBzdHJpbmcgfCBudW1iZXIgfCBudWxsKSB7XG4gIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiB2YWw7XG59XG5cbi8qKiBAY29uc3Qge09iamVjdH0gTWFwIG9hdXRoIHNlY3Rpb24gdHlwZSB0byByZWxhdGl2ZSBcImxpc3Qgcm9zdGVyc1wiIFVSTC4gKi9cbmNvbnN0IHVybEJ5UHJvdmlkZXI6IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9ID0ge1xuICBbT0F1dGhTZWN0aW9uVHlwZXMuZ29vZ2xlX2NsYXNzcm9vbV06ICcvZGFzaGJvYXJkYXBpL2dvb2dsZV9jbGFzc3Jvb21zJyxcbiAgW09BdXRoU2VjdGlvblR5cGVzLmNsZXZlcl06ICcvZGFzaGJvYXJkYXBpL2NsZXZlcl9jbGFzc3Jvb21zJyxcbn0gYXMgY29uc3Q7XG5cbi8qKlxuICogU3RhcnQgdGhlIHByb2Nlc3Mgb2YgaW1wb3J0aW5nIGEgc2VjdGlvbiBmcm9tIGEgdGhpcmQtcGFydHkgcHJvdmlkZXJcbiAqIChsaWtlIEdvb2dsZSBDbGFzc3Jvb20gb3IgQ2xldmVyKSBieSBvcGVuaW5nIHRoZSBSb3N0ZXJEaWFsb2cgYW5kXG4gKiBsb2FkaW5nIHRoZSBsaXN0IG9mIGNsYXNzcm9vbXMgYXZhaWxhYmxlIGZvciBpbXBvcnQuXG4gKi9cbmV4cG9ydCBjb25zdCBiZWdpbkltcG9ydFJvc3RlckZsb3cgPVxuICAoKTogU2VjdGlvblRodW5rQWN0aW9uID0+IChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCkudGVhY2hlclNlY3Rpb25zO1xuICAgIGNvbnN0IHByb3ZpZGVyID0gc3RhdGUucm9zdGVyUHJvdmlkZXI7XG4gICAgaWYgKCFwcm92aWRlciB8fCAhT2JqZWN0LmtleXModXJsQnlQcm92aWRlcikuaW5jbHVkZXMocHJvdmlkZXIpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgIG5ldyBFcnJvcignVW5hYmxlIHRvIGJlZ2luIGltcG9ydCByb3N0ZXIgZmxvdyB3aXRob3V0IGEgcHJvdmlkZXInKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuaXNSb3N0ZXJEaWFsb2dPcGVuKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goc2VjdGlvblNsaWNlLmFjdGlvbnMuYmVnaW5JbXBvcnRSb3N0ZXJGbG93KCkpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB1cmwgPSB1cmxCeVByb3ZpZGVyW3Byb3ZpZGVyXSBhcyBzdHJpbmc7XG4gICAgICAkLmFqYXgodXJsKVxuICAgICAgICAuZG9uZShyZXNwb25zZSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goaW1wb3J0Um9zdGVyRmxvd0xpc3RMb2FkZWQocmVzcG9uc2UuY291cnNlcyB8fCBbXSkpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZhaWwocmVzdWx0ID0+IHtcbiAgICAgICAgICBjb25zdCBtZXNzYWdlID0gcmVzdWx0LnJlc3BvbnNlSlNPTlxuICAgICAgICAgICAgPyByZXN1bHQucmVzcG9uc2VKU09OLmVycm9yXG4gICAgICAgICAgICA6ICdVbmtub3duIGVycm9yLic7XG4gICAgICAgICAgZGlzcGF0Y2gocm9zdGVySW1wb3J0RmFpbGVkKHtzdGF0dXM6IHJlc3VsdC5zdGF0dXMsIG1lc3NhZ2V9KSk7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihtZXNzYWdlKSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4vKiogQGNvbnN0IHtPYmplY3R9IE1hcCBvYXV0aCBzZWN0aW9uIHR5cGUgdG8gcmVsYXRpdmUgaW1wb3J0IFVSTC4gKi9cbmNvbnN0IGltcG9ydFVybEJ5UHJvdmlkZXI6IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9ID0ge1xuICBbT0F1dGhTZWN0aW9uVHlwZXMuZ29vZ2xlX2NsYXNzcm9vbV06ICcvZGFzaGJvYXJkYXBpL2ltcG9ydF9nb29nbGVfY2xhc3Nyb29tJyxcbiAgW09BdXRoU2VjdGlvblR5cGVzLmNsZXZlcl06ICcvZGFzaGJvYXJkYXBpL2ltcG9ydF9jbGV2ZXJfY2xhc3Nyb29tJyxcbiAgW1NlY3Rpb25Mb2dpblR5cGUubHRpX3YxXTogJy9sdGkvdjEvc3luY19jb3Vyc2UnLFxufSBhcyBjb25zdDtcblxuLyoqXG4gKiBJbXBvcnQgdGhlIGNvdXJzZSB3aXRoIHRoZSBnaXZlbiBjb3Vyc2VJZCBmcm9tIGEgdGhpcmQtcGFydHkgcHJvdmlkZXJcbiAqIChsaWtlIEdvb2dsZSBDbGFzc3Jvb20gb3IgQ2xldmVyKSwgY3JlYXRpbmcgYSBuZXcgc2VjdGlvbi4gSWYgdGhlIGNvdXJzZVxuICogaW4gcXVlc3Rpb24gaGFzIGFscmVhZHkgYmVlbiBpbXBvcnRlZCwgdXBkYXRlIHRoZSBleGlzdGluZyBzZWN0aW9uIGFscmVhZHlcbiAqIGFzc29jaWF0ZWQgd2l0aCBpdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjb3Vyc2VJZFxuICogQHBhcmFtIHtzdHJpbmd9IGNvdXJzZU5hbWVcbiAqIEByZXR1cm4ge2Z1bmN0aW9uKCk6UHJvbWlzZX1cbiAqL1xuZXhwb3J0IGNvbnN0IGltcG9ydE9yVXBkYXRlUm9zdGVyID1cbiAgKGNvdXJzZUlkOiBzdHJpbmcsIGNvdXJzZU5hbWU6IHN0cmluZyk6IFNlY3Rpb25UaHVua0FjdGlvbiA9PlxuICAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgIGNvbnN0IHByb3ZpZGVyID0gc3RhdGUudGVhY2hlclNlY3Rpb25zLnJvc3RlclByb3ZpZGVyO1xuXG4gICAgaWYgKCFwcm92aWRlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSb3N0ZXIgcHJvdmlkZXIgaGFzIG5vdCBiZWVuIHNldC4nKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbXBvcnRTZWN0aW9uVXJsID0gaW1wb3J0VXJsQnlQcm92aWRlcltwcm92aWRlcl07XG5cbiAgICBkaXNwYXRjaChyb3N0ZXJJbXBvcnRSZXF1ZXN0KCkpO1xuICAgIGlmIChwcm92aWRlciA9PT0gU2VjdGlvbkxvZ2luVHlwZS5sdGlfdjEpIHtcbiAgICAgIHJldHVybiBmZXRjaChgJHtpbXBvcnRTZWN0aW9uVXJsfT9zZWN0aW9uX2NvZGU9JHtjb3Vyc2VJZH1gLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pXG4gICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZXN1bHRzID0+IHtcbiAgICAgICAgICByZXR1cm4gZGlzcGF0Y2gobHRpUm9zdGVySW1wb3J0U3VjY2VzcyhyZXN1bHRzKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgc2VjdGlvbklkOiBudW1iZXI7XG4gICAgcmV0dXJuIGZldGNoSlNPTihpbXBvcnRTZWN0aW9uVXJsLCB7Y291cnNlSWQsIGNvdXJzZU5hbWV9KVxuICAgICAgLnRoZW4obmV3U2VjdGlvbiA9PiAoc2VjdGlvbklkID0gKG5ld1NlY3Rpb24gYXMgU2VydmVyU2VjdGlvbikuaWQpKVxuICAgICAgLnRoZW4oKCkgPT4gZGlzcGF0Y2goYXN5bmNMb2FkU2VjdGlvbkRhdGEoKSkpXG4gICAgICAudGhlbigoKSA9PiBkaXNwYXRjaChyb3N0ZXJJbXBvcnRTdWNjZXNzKHNlY3Rpb25JZCkpKTtcbiAgfTtcblxuLy8gcGFnZVR5cGUgZGVzY3JpYmVzIHRoZSBjdXJyZW50IHJvdXRlIHRoZSB1c2VyIGlzIG9uLiBVc2VkIG9ubHkgZm9yIGxvZ2dpbmcuXG4vLyBFbnVtIG9mIGFsbG93ZWQgdmFsdWVzOlxuZXhwb3J0IGNvbnN0IHBhZ2VUeXBlcyA9IHtcbiAgbGV2ZWw6ICdsZXZlbCcsXG4gIHNjcmlwdE92ZXJ2aWV3OiAnc2NyaXB0X292ZXJ2aWV3JyxcbiAgY291cnNlT3ZlcnZpZXc6ICdjb3Vyc2Vfb3ZlcnZpZXcnLFxuICBsZXNzb25FeHRyYXM6ICdsZXNzb25fZXh0cmFzJyxcbiAgaG9tZXBhZ2U6ICdob21lcGFnZScsXG59IGFzIGNvbnN0O1xuXG4vLyBBY3Rpb25zIHVzZWQgb25seSBieSB0aHVua3Mgd2l0aGluIHRoaXMgZmlsZSBkb24ndCBuZWVkIHRvIGJlIGV4cG9ydGVkLlxuY29uc3Qge1xuICBiZWdpbkFzeW5jTG9hZCxcbiAgZW5kQXN5bmNMb2FkLFxuICBmYWlsU2F2ZVJlcXVlc3QsXG4gIGZpbmlzaFNhdmVSZXF1ZXN0LFxuICBpbXBvcnRSb3N0ZXJGbG93TGlzdExvYWRlZCxcbiAgbHRpUm9zdGVySW1wb3J0U3VjY2VzcyxcbiAgcm9zdGVySW1wb3J0UmVxdWVzdCxcbiAgcm9zdGVySW1wb3J0U3VjY2VzcyxcbiAgc2V0QXZhaWxhYmxlUGFydGljaXBhbnRUeXBlcyxcbiAgc3RhcnRTYXZlUmVxdWVzdCxcbn0gPSBzZWN0aW9uU2xpY2UuYWN0aW9ucztcblxuZXhwb3J0IGNvbnN0IHtcbiAgYmVnaW5DcmVhdGluZ1NlY3Rpb24sXG4gIGJlZ2luRWRpdGluZ1NlY3Rpb24sXG4gIGNhbmNlbEVkaXRpbmdTZWN0aW9uLFxuICBjYW5jZWxJbXBvcnRSb3N0ZXJGbG93LFxuICBlZGl0U2VjdGlvblByb3BlcnRpZXMsXG4gIGZpbmlzaExvYWRpbmdTZWN0aW9uRGF0YSxcbiAgcmVtb3ZlU2VjdGlvbixcbiAgcm9zdGVySW1wb3J0RmFpbGVkLFxuICBzZWxlY3RTZWN0aW9uLFxuICBzZXRBdXRoUHJvdmlkZXJzLFxuICBzZXRDb3RlYWNoZXJJbnZpdGUsXG4gIHNldENvdGVhY2hlckludml0ZUZvclBsLFxuICBzZXRDb3Vyc2VPZmZlcmluZ3MsXG4gIHNldFBhZ2VUeXBlLFxuICBzZXRSb3N0ZXJQcm92aWRlcixcbiAgc2V0Um9zdGVyUHJvdmlkZXJOYW1lLFxuICBzZXRTZWN0aW9uQ29kZVJldmlld0V4cGlyZXNBdCxcbiAgc2V0U2VjdGlvbnMsXG4gIHNldFN0dWRlbnRzRm9yQ3VycmVudFNlY3Rpb24sXG4gIHN0YXJ0TG9hZGluZ1NlY3Rpb25EYXRhLFxuICB1cGRhdGVTZWN0aW9uQWlUdXRvckVuYWJsZWQsXG4gIHVwZGF0ZVNlbGVjdGVkU2VjdGlvbixcbn0gPSBzZWN0aW9uU2xpY2UuYWN0aW9ucztcblxuZXhwb3J0IGRlZmF1bHQgc2VjdGlvblNsaWNlLnJlZHVjZXI7XG4iXSwibmFtZXMiOlsiX3V0aWxzIiwicmVxdWlyZSIsIl9zaGFyZWRDb25zdGFudHMiLCJleHBvcnRzIiwibWFrZUVudW0iLCJTZWN0aW9uTG9naW5UeXBlIiwiZ29vZ2xlX2NsYXNzcm9vbSIsImNsZXZlciIsImdvb2dsZSIsIm1pY3Jvc29mdCIsImZhY2Vib29rIiwibHRpX3YxIiwiY2FudmFzIiwiY2FudmFzX2Nsb3VkIiwiY2FudmFzX2JldGFfY2xvdWQiLCJjYW52YXNfdGVzdF9jbG91ZCIsInNjaG9vbG9neSIsImFzc2lnbmVkQ291cnNlT2ZmZXJpbmciLCJzdGF0ZSIsIl9nZXRSb290IiwiZ2V0Um9vdCIsInNlY3Rpb25CZWluZ0VkaXRlZCIsImNvdXJzZU9mZmVyaW5ncyIsImNvdXJzZU9mZmVyaW5nSWQiLCJnZXRBc3NpZ25tZW50TmFtZSIsInNlY3Rpb25JZCIsIl9nZXRSb290MyIsInNlY3Rpb25zIiwiYXNzaWdubWVudE5hbWVzIiwiZ2V0U2VjdGlvblJvd3MiLCJzZWN0aW9uSWRzIiwiX2dldFJvb3QyIiwiY291cnNlT2ZmZXJpbmdzQXJlTG9hZGVkIiwibWFwIiwiaWQiLCJfb2JqZWN0U3ByZWFkIiwiXyIsInBpY2siLCJhc3NpZ25tZW50UGF0aHMiLCJnZXRWaXNpYmxlU2VjdGlvbnMiLCJhbGxTZWN0aW9ucyIsIk9iamVjdCIsInZhbHVlcyIsInNvcnRTZWN0aW9uc0xpc3QiLCJmaWx0ZXIiLCJzZWN0aW9uIiwiaGlkZGVuIiwiaGlkZGVuUGxTZWN0aW9uSWRzIiwicGFydGljaXBhbnRUeXBlIiwiUGFydGljaXBhbnRBdWRpZW5jZSIsInN0dWRlbnQiLCJoaWRkZW5TZWN0aW9uSWRzIiwiaGlkZGVuU3R1ZGVudFNlY3Rpb25JZHMiLCJpc0FkZGluZ1NlY3Rpb24iLCJpc1Jvc3RlckRpYWxvZ09wZW4iLCJpc1NhdmVJblByb2dyZXNzIiwic2F2ZUluUHJvZ3Jlc3MiLCJsdGlTeW5jUmVzdWx0IiwibmV3U2VjdGlvbkRhdGEiLCJQRU5ESU5HX05FV19TRUNUSU9OX0lEIiwibmFtZSIsImxvZ2luVHlwZSIsInVuZGVmaW5lZCIsImdyYWRlcyIsInByb3ZpZGVyTWFuYWdlZCIsImxlc3NvbkV4dHJhcyIsInBhaXJpbmdBbGxvd2VkIiwidHRzQXV0b3BsYXlFbmFibGVkIiwic2hhcmluZ0Rpc2FibGVkIiwic3R1ZGVudENvdW50IiwiY29kZSIsImNvdXJzZUlkIiwiY291cnNlVmVyc2lvbklkIiwiY291cnNlRGlzcGxheU5hbWUiLCJ1bml0SWQiLCJ1bml0TmFtZSIsImlzQXNzaWduZWRTdGFuZGFsb25lQ291cnNlIiwicmVzdHJpY3RTZWN0aW9uIiwiYWlUdXRvckVuYWJsZWQiLCJzZWN0aW9uQ29kZSIsInNlY3Rpb25OYW1lIiwic2VjdGlvblByb3ZpZGVyIiwiaXNTZWN0aW9uUHJvdmlkZXJNYW5hZ2VkIiwicm9zdGVyUHJvdmlkZXIiLCJzZWN0aW9uUHJvdmlkZXJOYW1lIiwicm9zdGVyUHJvdmlkZXJOYW1lIiwic2VjdGlvblVuaXROYW1lIiwiY291cnNlVmVyc2lvbk5hbWUiLCJzZWN0aW9uc0ZvckRyb3Bkb3duIiwic29ydGVkU2VjdGlvbnNMaXN0IiwiaXNBc3NpZ25lZCIsInNlY3Rpb25zTmFtZUFuZElkIiwicGFyc2VJbnQiLCJzZWxlY3RlZFNlY3Rpb25TZWxlY3RvciIsInNlbGVjdGVkU2VjdGlvbklkIiwic2VydmVyU2VjdGlvbkZyb21TZWN0aW9uIiwibG9naW5fdHlwZSIsImxlc3Nvbl9leHRyYXMiLCJwYWlyaW5nX2FsbG93ZWQiLCJ0dHNfYXV0b3BsYXlfZW5hYmxlZCIsInNoYXJpbmdfZGlzYWJsZWQiLCJjb3Vyc2Vfb2ZmZXJpbmdfaWQiLCJjb3Vyc2VfdmVyc2lvbl9pZCIsInVuaXRfaWQiLCJjb3Vyc2VfaWQiLCJyZXN0cmljdF9zZWN0aW9uIiwicGFydGljaXBhbnRfdHlwZSIsImFpX3R1dG9yX2VuYWJsZWQiLCJzeW5jRW5hYmxlZCIsIl9sb2Rhc2giLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX3Byb3BUeXBlcyIsIl9zaGFyZWRDb3Vyc2VDb25zdGFudHMiLCJvYmoiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsIm8iLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwib3duS2V5cyIsImUiLCJyIiwidCIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiaSIsIl90b1ByaW1pdGl2ZSIsInRvUHJpbWl0aXZlIiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsIk51bWJlciIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwidGVhY2hlclNlY3Rpb25zIiwic2VjdGlvbkZyb21TZXJ2ZXJTZWN0aW9uIiwic2VydmVyU2VjdGlvbiIsImNyZWF0ZWRBdCIsImxvZ2luVHlwZU5hbWUiLCJsb2dpbl90eXBlX25hbWUiLCJjb3Vyc2VfZGlzcGxheV9uYW1lIiwicG9zdE1pbGVzdG9uZURpc2FibGVkIiwicG9zdF9taWxlc3RvbmVfZGlzYWJsZWQiLCJjb2RlUmV2aWV3RXhwaXJlc0F0IiwiY29kZV9yZXZpZXdfZXhwaXJlc19hdCIsIkRhdGUiLCJwYXJzZSIsImlzQXNzaWduZWRDU0EiLCJpc19hc3NpZ25lZF9jc2EiLCJzZWN0aW9uSW5zdHJ1Y3RvcnMiLCJzZWN0aW9uX2luc3RydWN0b3JzIiwic3luY19lbmFibGVkIiwiYW55U3R1ZGVudEhhc1Byb2dyZXNzIiwiYW55X3N0dWRlbnRfaGFzX3Byb2dyZXNzIiwic3R1ZGVudEZyb21TZXJ2ZXJTdHVkZW50Iiwic2VydmVyU3R1ZGVudCIsImZhbWlseU5hbWUiLCJmYW1pbHlfbmFtZSIsInNlY3JldFBpY3R1cmVQYXRoIiwic2VjcmV0X3BpY3R1cmVfcGF0aCIsInNlY3JldFBpY3R1cmVOYW1lIiwic2VjcmV0X3BpY3R1cmVfbmFtZSIsInNlY3JldFdvcmRzIiwic2VjcmV0X3dvcmRzIiwidXNlclR5cGUiLCJ1c2VyX3R5cGUiLCJhc3NpZ25tZW50c0ZvclNlY3Rpb24iLCJhc3NpZ25tZW50cyIsIl9jb3Vyc2VPZmZlcmluZ3Mkc2VjdCIsImNvdXJzZVZlcnNpb24iLCJjb3Vyc2VfdmVyc2lvbnMiLCJ0eXBlIiwidW5pdHMiLCJhc3NpZ25tZW50IiwicGF0aCIsInNlY3Rpb25zT2JqZWN0Iiwic2VjdGlvbnNMaXN0Iiwic29ydCIsImEiLCJiIiwiUHJvcFR5cGVzIiwic2hhcGUiLCJudW1iZXIiLCJpc1JlcXVpcmVkIiwic3RyaW5nIiwiYm9vbCIsIk5PX1NFQ1RJT04iLCJTRUxFQ1RfU0VDVElPTiIsImluaXRpYWxTdGF0ZSIsIm5leHRUZW1wSWQiLCJzdHVkaW9VcmwiLCJwcm92aWRlcnMiLCJzdHVkZW50U2VjdGlvbklkcyIsInBsU2VjdGlvbklkcyIsInNlbGVjdGVkU2VjdGlvbk5hbWUiLCJhdmFpbGFibGVQYXJ0aWNpcGFudFR5cGVzIiwic2VsZWN0ZWRTdHVkZW50cyIsInNlY3Rpb25zQXJlTG9hZGVkIiwic2hvd1NlY3Rpb25FZGl0RGlhbG9nIiwiYXN5bmNMb2FkQ29tcGxldGUiLCJjbGFzc3Jvb21zIiwibG9hZEVycm9yIiwicGFnZVR5cGUiLCJpc0xvYWRpbmdTZWN0aW9uRGF0YSIsImluaXRpYWxVbml0TmFtZSIsIm1hcFByb3ZpZGVyVG9TZWN0aW9uVHlwZSIsInByb3ZpZGVyIiwiT0F1dGhTZWN0aW9uVHlwZXMiLCJzZWN0aW9uU2xpY2UiLCJjcmVhdGVTbGljZSIsInJlZHVjZXJzIiwic2V0QXV0aFByb3ZpZGVycyIsImFjdGlvbiIsInBheWxvYWQiLCJzZXRSb3N0ZXJQcm92aWRlciIsInNldFBhZ2VUeXBlIiwic2VsZWN0U2VjdGlvbiIsInRvU3RyaW5nIiwiaW5jbHVkZXMiLCJ1cGRhdGVTZWxlY3RlZFNlY3Rpb24iLCJzZXRTZWN0aW9ucyIsInJlZHVjZXIiLCJhdXRvU2VsZWN0T25seVNlY3Rpb24iLCJwcmV2U2VjdGlvbiIsIkVycm9yIiwidW5pcSIsImNvbmNhdCIsImtleUJ5IiwicHJlcGFyZSIsInN0YXJ0TG9hZGluZ1NlY3Rpb25EYXRhIiwiZmluaXNoTG9hZGluZ1NlY3Rpb25EYXRhIiwic2V0U3R1ZGVudHNGb3JDdXJyZW50U2VjdGlvbiIsInN0dWRlbnRzIiwic2V0Um9zdGVyUHJvdmlkZXJOYW1lIiwidXBkYXRlU2VjdGlvbkFpVHV0b3JFbmFibGVkIiwic2V0Q291cnNlT2ZmZXJpbmdzIiwic2V0QXZhaWxhYmxlUGFydGljaXBhbnRUeXBlcyIsInNldFNlY3Rpb25Db2RlUmV2aWV3RXhwaXJlc0F0IiwicmVtb3ZlU2VjdGlvbiIsIndpdGhvdXQiLCJvbWl0IiwiYmVnaW5DcmVhdGluZ1NlY3Rpb24iLCJpbml0aWFsU2VjdGlvbkRhdGEiLCJpbml0aWFsQ291cnNlSWQiLCJpbml0aWFsVW5pdElkIiwiaW5pdGlhbENvdXJzZU9mZmVyaW5nSWQiLCJpbml0aWFsQ291cnNlVmVyc2lvbklkIiwiaW5pdGlhbExvZ2luVHlwZSIsImJlZ2luRWRpdGluZ1NlY3Rpb24iLCJzaWxlbnQiLCJpbml0aWFsUGFydGljaXBhbnRUeXBlIiwiZWRpdFNlY3Rpb25Qcm9wZXJ0aWVzIiwiVVNFUl9FRElUQUJMRV9TRUNUSU9OX1BST1BTIiwiZW1haWwiLCJQbEdyYWRlVmFsdWUiLCJzdGFydFNhdmVSZXF1ZXN0IiwiZmluaXNoU2F2ZVJlcXVlc3QiLCJvbGRTZWN0aW9uSWQiLCJpc05ld1NlY3Rpb24iLCJwdXRSZWNvcmQiLCJzdHVkeSIsInN0dWR5X2dyb3VwIiwiZXZlbnQiLCJkYXRhX2pzb24iLCJKU09OIiwic3RyaW5naWZ5IiwidXBkYXRlZExvZ2luVHlwZSIsImluY2x1ZGVVc2VySWQiLCJhc3NpZ25tZW50RGF0YSIsInNlY3Rpb25faWQiLCJzZWN0aW9uX2NyZWF0aW9uX3RpbWVzdGFtcCIsInBhZ2VfbmFtZSIsImZhaWxTYXZlUmVxdWVzdCIsImJlZ2luQXN5bmNMb2FkIiwiZW5kQXN5bmNMb2FkIiwiY2FuY2VsRWRpdGluZ1NlY3Rpb24iLCJzZXRDb3RlYWNoZXJJbnZpdGUiLCJjb3RlYWNoZXJJbnZpdGUiLCJzZXRDb3RlYWNoZXJJbnZpdGVGb3JQbCIsImNvdGVhY2hlckludml0ZUZvclBsIiwiYmVnaW5JbXBvcnRSb3N0ZXJGbG93IiwiaW1wb3J0Um9zdGVyRmxvd0xpc3RMb2FkZWQiLCJjYW5jZWxJbXBvcnRSb3N0ZXJGbG93Iiwicm9zdGVySW1wb3J0RmFpbGVkIiwic3RhdHVzIiwibWVzc2FnZSIsInJvc3RlckltcG9ydFJlcXVlc3QiLCJyb3N0ZXJJbXBvcnRTdWNjZXNzIiwibHRpUm9zdGVySW1wb3J0U3VjY2VzcyIsIl9fdGVzdEludGVyZmFjZV9fIiwiRURJVF9TRUNUSU9OX1JFUVVFU1QiLCJFRElUX1NFQ1RJT05fU1VDQ0VTUyIsIklNUE9SVF9ST1NURVJfRkxPV19CRUdJTiIsIklNUE9SVF9ST1NURVJfRkxPV19MSVNUX0xPQURFRCIsInRvZ2dsZVNlY3Rpb25IaWRkZW4iLCJkaXNwYXRjaCIsImdldFN0YXRlIiwiY3VycmVudGx5SGlkZGVuIiwiZmluaXNoRWRpdGluZ1NlY3Rpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIiQiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiY29udGVudFR5cGUiLCJkYXRhIiwic3VibWl0RWRpdGluZ1NlY3Rpb24iLCJkb25lIiwicmVzdWx0IiwiZmFpbCIsImpxWGhyIiwicmVtb3ZlU2VjdGlvbk9yVGhyb3ciLCJmZXRjaEpTT04iLCJwYXJhbXMiLCJnZXRKU09OIiwianF4aHIiLCJzdGF0dXNUZXh0IiwicmVzcG9uc2VUZXh0IiwiYXN5bmNMb2FkU2VjdGlvbkRhdGEiLCJwcm9taXNlcyIsInRoZW4iLCJvZmZlcmluZ3MiLCJwYXJ0aWNpcGFudFR5cGVzIiwiYWxsIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJhc3luY0xvYWRDb3RlYWNoZXJJbnZpdGUiLCJyZXNwb25zZSIsImZpbmQiLCJpbnN0cnVjdG9ySW52aXRlIiwiY290ZWFjaGVySW52aXRlRm9yQ2xhc3Nyb29tcyIsImFzc2lnblRvU2VjdGlvbiIsImRhdGUiLCJyZW1vdmVOdWxsVmFsdWVzIiwic2VuZEV2ZW50IiwiRVZFTlRTIiwiQ1VSUklDVUxVTV9BU1NJR05FRCIsInNlY3Rpb25Mb2dpblR5cGUiLCJwcmV2aW91c1VuaXRJZCIsInByZXZpb3VzQ291cnNlSWQiLCJwcmV2aW91c0NvdXJzZVZlcnNpb25JZCIsIm5ld1VuaXRJZCIsIm5ld0NvdXJzZUlkIiwibmV3Q291cnNlVmVyc2lvbklkIiwiUExBVEZPUk1TIiwiQk9USCIsInZhbCIsInVuYXNzaWduU2VjdGlvbiIsImxvY2F0aW9uIiwic2NyaXB0SWQiLCJ1cmxCeVByb3ZpZGVyIiwiYWN0aW9ucyIsImNvdXJzZXMiLCJyZXNwb25zZUpTT04iLCJpbXBvcnRVcmxCeVByb3ZpZGVyIiwiaW1wb3J0T3JVcGRhdGVSb3N0ZXIiLCJjb3Vyc2VOYW1lIiwiaW1wb3J0U2VjdGlvblVybCIsImZldGNoIiwiaGVhZGVycyIsIkFjY2VwdCIsImpzb24iLCJyZXN1bHRzIiwibmV3U2VjdGlvbiIsInBhZ2VUeXBlcyIsImxldmVsIiwic2NyaXB0T3ZlcnZpZXciLCJjb3Vyc2VPdmVydmlldyIsImhvbWVwYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==