"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[1792],{"./src/accounts/ChangeUserTypeModal.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_SystemDialog=__webpack_require__("./src/sharedComponents/SystemDialog/SystemDialog.jsx"),_BaseDialog=_interopRequireDefault(__webpack_require__("./src/templates/BaseDialog.jsx")),_color=_interopRequireDefault(__webpack_require__("./src/util/color.js")),_formatValidation=__webpack_require__("./src/util/formatValidation.js"),_ChangeUserTypeForm=_interopRequireDefault(__webpack_require__("./src/accounts/ChangeUserTypeForm.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ChangeUserTypeModal=exports.default=function(_React$Component){function ChangeUserTypeModal(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this,"state",{saveState:"initial",values:{email:"",emailOptIn:""},serverErrors:{email:void 0,emailOptIn:void 0}}),_defineProperty(_this,"save",(function(){if(_this.isFormValid(_this.getValidationErrors())){var values=_this.state.values;_this.setState({saveState:"saving"}),_this.props.handleSubmit(values).catch(_this.onSubmitFailure)}})),_defineProperty(_this,"cancel",(function(){return _this.props.handleCancel()})),_defineProperty(_this,"onSubmitFailure",(function(error){error&&Object.prototype.hasOwnProperty.call(error,"serverErrors")?_this.setState({saveState:"initial",serverErrors:error.serverErrors},(function(){return _this.changeUserTypeForm.focusOnAnError()})):_this.setState({saveState:"unknown-error"})})),_defineProperty(_this,"getEmailValidationError",(function(){var email=_this.state.values.email;return 0===email.trim().length?_locale.default.changeUserTypeModal_email_isRequired():(0,_formatValidation.isEmail)(email.trim())?null:_locale.default.changeUserTypeModal_email_invalid()})),_defineProperty(_this,"getEmailOptInValidationError",(function(){return 0===_this.state.values.emailOptIn.length?_locale.default.changeUserTypeModal_emailOptIn_isRequired():null})),_defineProperty(_this,"onFormChange",(function(newValues){var _this$state=_this.state,oldValues=_this$state.values,newServerErrors=function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},_this$state.serverErrors);["email","emailOptIn"].forEach((function(fieldName){newValues[fieldName]!==oldValues[fieldName]&&(newServerErrors[fieldName]=void 0)})),_this.setState({values:newValues,serverErrors:newServerErrors})})),_defineProperty(_this,"render",(function(){var _this$state2=_this.state,saveState=_this$state2.saveState,values=_this$state2.values,validationErrors=_this.getValidationErrors(),isFormValid=_this.isFormValid(validationErrors);return _react.default.createElement(_BaseDialog.default,{useUpdatedStyles:!0,isOpen:!0,handleClose:_this.cancel,uncloseable:"saving"===saveState},_react.default.createElement("div",{style:styles.container},_react.default.createElement(_SystemDialog.Header,{text:_locale.default.changeUserTypeModal_title()}),_react.default.createElement(_ChangeUserTypeForm.default,{ref:function ref(x){return _this.changeUserTypeForm=x},values,validationErrors,disabled:"saving"===saveState,onChange:_this.onFormChange,onSubmit:_this.save}),_react.default.createElement(_SystemDialog.ConfirmCancelFooter,{confirmText:_locale.default.changeUserTypeModal_save_teacher(),onConfirm:_this.save,onCancel:_this.cancel,disableConfirm:"saving"===saveState||!isFormValid,disableCancel:"saving"===saveState,tabIndex:"2"},"saving"===saveState&&_react.default.createElement("em",null,_locale.default.saving()),"unknown-error"===saveState&&_react.default.createElement("em",null,_locale.default.changeUserTypeModal_unexpectedError()))))})),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(ChangeUserTypeModal,_React$Component);var _proto=ChangeUserTypeModal.prototype;return _proto.isFormValid=function isFormValid(validationErrors){return Object.keys(validationErrors).every((function(key){return!validationErrors[key]}))},_proto.getValidationErrors=function getValidationErrors(){var serverErrors=this.state.serverErrors;return{email:serverErrors.email||this.getEmailValidationError(),emailOptIn:serverErrors.emailOptIn||this.getEmailOptInValidationError()}},ChangeUserTypeModal}(_react.default.Component);_defineProperty(ChangeUserTypeModal,"propTypes",{handleSubmit:_propTypes.default.func.isRequired,handleCancel:_propTypes.default.func.isRequired});var styles={container:{margin:20,color:_color.default.charcoal}};module.exports=exports.default},"./src/templates/BaseDialog.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_Button=_interopRequireDefault(__webpack_require__("./src/legacySharedComponents/Button.jsx")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_constants=__webpack_require__("./src/constants.js"),_color=_interopRequireDefault(__webpack_require__("./src/util/color.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var BaseDialog=exports.default=function(_React$Component){function BaseDialog(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this,"handleKeyDown",(function(event){"Escape"===event.key&&_this.closeDialog(),_this.props.handleKeyDown&&_this.props.handleKeyDown(event)})),_defineProperty(_this,"closeDialog",(function(){!_this.props.uncloseable&&_this.props.handleClose&&(_this.props.handleClose(),_this.props.soundPlayer&&_this.props.soundPlayer.stopAllAudio())})),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(BaseDialog,_React$Component);var _proto=BaseDialog.prototype;return _proto.componentDidMount=function componentDidMount(){this.focusDialog()},_proto.componentDidUpdate=function componentDidUpdate(){this.focusDialog()},_proto.getTabbableElements=function getTabbableElements(){return[].slice.call(this.refs.dialog.querySelectorAll("a,button,input"))},_proto.focusDialog=function focusDialog(){var descendantIsActive=document.activeElement&&this.refs.dialog&&this.refs.dialog.contains(document.activeElement);this.props.isOpen&&!descendantIsActive&&this.refs.dialog.focus()},_proto.render=function render(){if(!this.props.isOpen&&!this.props.hideBackdrop)return _react.default.createElement("div",null);var bodyStyle,modalBodyStyle,xCloseStyle;this.props.fullWidth&&(bodyStyle=_objectSpread(_objectSpread({},bodyStyle),{},{width:"90%",marginLeft:"-45%"})),this.props.fullHeight&&(bodyStyle=_objectSpread(_objectSpread({},bodyStyle),{},{height:"80%"}),modalBodyStyle=_objectSpread(_objectSpread({},modalBodyStyle),{},{boxSizing:"border-box"}));var wrapperClassNames="",modalClassNames="modal",modalBodyClassNames="modal-body",overflowX=this.props.overflow||"hidden",overflowY=this.props.overflow||(this.props.fixedHeight||this.props.fullHeight?"hidden":"auto");this.props.useUpdatedStyles?(wrapperClassNames="dashboard-styles",modalBodyClassNames="",modalBodyStyle={background:"#fff",height:this.props.fixedHeight,maxHeight:!this.props.fixedHeight&&"85vh",overflowX,overflowY,borderRadius:4},this.props.useFlexbox&&(modalBodyStyle=_objectSpread(_objectSpread({},modalBodyStyle),{},{display:"flex",flexDirection:"column"})),bodyStyle=_objectSpread(_objectSpread({},bodyStyle),{},{width:this.props.fixedWidth||_constants.BASE_DIALOG_WIDTH,marginLeft:-this.props.fixedWidth/2||-350})):this.props.noModalStyles&&(modalClassNames="",modalBodyClassNames=""),bodyStyle=_objectSpread(_objectSpread(_objectSpread({},bodyStyle),this.props.hideBackdrop&&{position:"initial",marginLeft:0}),this.props.style),xCloseStyle={position:"absolute",top:0,insetInlineEnd:0,padding:0,color:_color.default.neutral_dark30,cursor:"pointer",fontSize:24,border:"none"},modalBodyClassNames=[modalBodyClassNames,this.props.bodyClassName].filter((function(className){return!!className})).join(" ");var body=_react.default.createElement("div",{style:bodyStyle,tabIndex:"-1",className:modalClassNames,ref:"dialog",onKeyDown:this.handleKeyDown},_react.default.createElement("div",{style:modalBodyStyle,id:this.props.bodyId,className:modalBodyClassNames},!this.props.uncloseable&&!this.props.hideCloseButton&&_react.default.createElement(_Button.default,{id:"x-close",onClick:this.closeDialog,icon:"fa-solid fa-xmark",style:xCloseStyle,color:"white","aria-label":_locale.default.closeDialog()}),this.props.children));return this.props.hideBackdrop?body:_react.default.createElement("div",{className:wrapperClassNames},_react.default.createElement("div",{className:"modal-backdrop",style:this.props.backdropStyle,onClick:this.closeDialog}),body)},BaseDialog}(_react.default.Component);_defineProperty(BaseDialog,"propTypes",{isOpen:_propTypes.default.bool,handleClose:_propTypes.default.func,uncloseable:_propTypes.default.bool,hideCloseButton:_propTypes.default.bool,handleKeyDown:_propTypes.default.func,hideBackdrop:_propTypes.default.bool,fullWidth:_propTypes.default.bool,fullHeight:_propTypes.default.bool,useUpdatedStyles:_propTypes.default.bool,noModalStyles:_propTypes.default.bool,children:_propTypes.default.node,fixedWidth:_propTypes.default.number,fixedHeight:_propTypes.default.number,useFlexbox:_propTypes.default.bool,bodyId:_propTypes.default.string,bodyClassName:_propTypes.default.string,style:_propTypes.default.object,soundPlayer:_propTypes.default.object,overflow:_propTypes.default.string,backdropStyle:_propTypes.default.object}),module.exports=exports.default},"./src/util/formatValidation.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.isZipCode=exports.isPercent=exports.isInt=exports.isEmail=void 0;var EMAIL_REGEX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ZIP_CODE_REGEX=(exports.isEmail=function isEmail(value){return EMAIL_REGEX.test(value)},/^\d{5}([\W-]?\d{4})?$/);exports.isZipCode=function isZipCode(value){return ZIP_CODE_REGEX.test(value)},exports.isInt=function isInt(value){var newValue=value.replace(/,/g,"");return parseInt(newValue,10).toString()===newValue},exports.isPercent=function isPercent(value){var percent=parseFloat(value);return 0<=percent&&percent<=100}},"./src/accounts/ChangeUserTypeModal.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.StudentBecomingTeacher=void 0;var _addonActions=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js"),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_ChangeUserTypeModal=_interopRequireDefault(__webpack_require__("./src/accounts/ChangeUserTypeModal.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var DEFAULT_PROPS={handleSubmit:(0,_addonActions.action)("handleSubmit callback"),handleCancel:(0,_addonActions.action)("handleCancel callback")},container=(exports.default={component:_ChangeUserTypeModal.default},{margin:"auto",width:"50%",padding:"10px"});exports.StudentBecomingTeacher=function Template(args){return _react.default.createElement("div",{style:container},_react.default.createElement(_ChangeUserTypeModal.default,_extends({},DEFAULT_PROPS,args)))}.bind({})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWNjb3VudHMtQ2hhbmdlVXNlclR5cGVNb2RhbC1zdG9yeS5iNjNiYTVkNy5pZnJhbWUuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiIyUEFBQSxJQUFBQSxXQUFBQyx1QkFBQUMsb0JBQUEsdUNBQ0FDLE9BQUFGLHVCQUFBQyxvQkFBQSxrQ0FFQUUsUUFBQUgsdUJBQUFDLG9CQUFBLHVDQUVBRyxjQUFBSCxvQkFBQSx3REFJQUksWUFBQUwsdUJBQUFDLG9CQUFBLG1DQUNBSyxPQUFBTix1QkFBQUMsb0JBQUEsd0JBQ0FNLGtCQUFBTixvQkFBQSxrQ0FFQU8sb0JBQUFSLHVCQUFBQyxvQkFBQSwwQ0FBc0QsU0FBQUQsdUJBQUFTLEtBQUEsT0FBQUEsS0FBQUEsSUFBQUMsV0FBQUQsSUFBQSxTQUFBQSxJQUFBLFVBQUFFLFFBQUFDLEdBQUEsT0FBQUQsUUFBQSxtQkFBQUUsUUFBQSxpQkFBQUEsT0FBQUMsU0FBQSxTQUFBRixHQUFBLGNBQUFBLENBQUEsV0FBQUEsR0FBQSxPQUFBQSxHQUFBLG1CQUFBQyxRQUFBRCxFQUFBRyxjQUFBRixRQUFBRCxJQUFBQyxPQUFBRyxVQUFBLGdCQUFBSixDQUFBLEVBQUFELFFBQUFDLEVBQUEsVUFBQUssUUFBQUMsRUFBQUMsR0FBQSxJQUFBQyxFQUFBQyxPQUFBQyxLQUFBSixHQUFBLEdBQUFHLE9BQUFFLHNCQUFBLEtBQUFYLEVBQUFTLE9BQUFFLHNCQUFBTCxHQUFBQyxJQUFBUCxFQUFBQSxFQUFBWSxRQUFBLFNBQUFMLEdBQUEsT0FBQUUsT0FBQUkseUJBQUFQLEVBQUFDLEdBQUFPLFVBQUEsS0FBQU4sRUFBQU8sS0FBQUMsTUFBQVIsRUFBQVIsRUFBQSxRQUFBUSxDQUFBLFVBQUFTLGdCQUFBakIsRUFBQWtCLEdBQUEsT0FBQUQsZ0JBQUFSLE9BQUFVLGVBQUFWLE9BQUFVLGVBQUFDLE9BQUEsU0FBQUgsZ0JBQUFqQixFQUFBa0IsR0FBQSxPQUFBbEIsRUFBQXFCLFVBQUFILEVBQUFsQixDQUFBLEVBQUFpQixnQkFBQWpCLEVB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QVdBLFNBQVcsR0FDcEMsQyxzTkNuQkEsSUFBQUUsY0FBQWpPLG9CQUFBLHlEQUNBQyxPQUFBRix1QkFBQUMsb0JBQUEsa0NBRUFrTyxxQkFBQW5PLHVCQUFBQyxvQkFBQSwyQ0FBd0QsU0FBQUQsdUJBQUFTLEtBQUEsT0FBQUEsS0FBQUEsSUFBQUMsV0FBQUQsSUFBQSxTQUFBQSxJQUFBLFVBQUEyTixXQUFBLE9BQUFBLFNBQUEvTSxPQUFBZ04sT0FBQWhOLE9BQUFnTixPQUFBck0sT0FBQSxTQUFBc00sUUFBQSxRQUFBaE0sRUFBQSxFQUFBQSxFQUFBZSxVQUFBQyxPQUFBaEIsSUFBQSxLQUFBaU0sT0FBQWxMLFVBQUFmLEdBQUEsUUFBQUgsT0FBQW9NLE9BQUFsTixPQUFBTCxVQUFBMEQsZUFBQWpDLEtBQUE4TCxPQUFBcE0sT0FBQW1NLE9BQUFuTSxLQUFBb00sT0FBQXBNLEtBQUEsUUFBQW1NLE1BQUEsRUFBQUYsU0FBQXhNLE1BQUEsS0FBQXlCLFVBQUEsQ0FFeEQsSUFBTW1MLGNBQWdCLENBQ3BCbEssY0FBYyxFQUFBbUssY0FBQUEsUUFBTyx5QkFDckJqSyxjQUFjLEVBQUFpSyxjQUFBQSxRQUFPLDBCQU9qQm5JLFdBTkpyRCxRQUFBQSxRQUVhLENBQ2J5TCxVQUFXMUwscUJBQUFBLFNBR0ssQ0FDaEJ5RixPQUFRLE9BQ1IrQixNQUFPLE1BQ1B3QixRQUFTLFNBU3dCL0ksUUFBQUEsdUJBTmxCLFNBQVgwTCxTQUFXcEwsTUFBSSxPQUNuQnJELE9BQUEsUUFBQTRGLGNBQUEsT0FBS00sTUFBT0UsV0FDVnBHLE9BQUEsUUFBQTRGLGNBQUNxSSxxQkFBQSxRQUFtQkMsU0FBQSxHQUFLSSxjQUFtQmpMLE9BQ3hDLEVBR3VDdkIsS0FBSyxDQUFDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvYWNjb3VudHMvQ2hhbmdlVXNlclR5cGVNb2RhbC5qc3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3RlbXBsYXRlcy9CYXNlRGlhbG9nLmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvdXRpbC9mb3JtYXRWYWxpZGF0aW9uLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9hY2NvdW50cy9DaGFuZ2VVc2VyVHlwZU1vZGFsLnN0b3J5LmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IGkxOG4gZnJvbSAnQGNkby9sb2NhbGUnO1xuXG5pbXBvcnQge1xuICBIZWFkZXIsXG4gIENvbmZpcm1DYW5jZWxGb290ZXIsXG59IGZyb20gJy4uL3NoYXJlZENvbXBvbmVudHMvU3lzdGVtRGlhbG9nL1N5c3RlbURpYWxvZyc7XG5pbXBvcnQgQmFzZURpYWxvZyBmcm9tICcuLi90ZW1wbGF0ZXMvQmFzZURpYWxvZyc7XG5pbXBvcnQgY29sb3IgZnJvbSAnLi4vdXRpbC9jb2xvcic7XG5pbXBvcnQge2lzRW1haWx9IGZyb20gJy4uL3V0aWwvZm9ybWF0VmFsaWRhdGlvbic7XG5cbmltcG9ydCBDaGFuZ2VVc2VyVHlwZUZvcm0gZnJvbSAnLi9DaGFuZ2VVc2VyVHlwZUZvcm0nO1xuXG5jb25zdCBTVEFURV9JTklUSUFMID0gJ2luaXRpYWwnO1xuY29uc3QgU1RBVEVfU0FWSU5HID0gJ3NhdmluZyc7XG5jb25zdCBTVEFURV9VTktOT1dOX0VSUk9SID0gJ3Vua25vd24tZXJyb3InO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGFuZ2VVc2VyVHlwZU1vZGFsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oe2VtYWlsOiBzdHJpbmcsIGVtYWlsT3B0SW46IHN0cmluZ30pOlByb21pc2V9XG4gICAgICovXG4gICAgaGFuZGxlU3VibWl0OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbigpfVxuICAgICAqL1xuICAgIGhhbmRsZUNhbmNlbDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgfTtcblxuICBzdGF0ZSA9IHtcbiAgICBzYXZlU3RhdGU6IFNUQVRFX0lOSVRJQUwsXG4gICAgdmFsdWVzOiB7XG4gICAgICBlbWFpbDogJycsXG4gICAgICBlbWFpbE9wdEluOiAnJyxcbiAgICB9LFxuICAgIHNlcnZlckVycm9yczoge1xuICAgICAgZW1haWw6IHVuZGVmaW5lZCxcbiAgICAgIGVtYWlsT3B0SW46IHVuZGVmaW5lZCxcbiAgICB9LFxuICB9O1xuXG4gIHNhdmUgPSAoKSA9PiB7XG4gICAgLy8gTm8tb3AgaWYgd2Uga25vdyB0aGUgZm9ybSBpcyBpbnZhbGlkLCBjbGllbnQtc2lkZS5cbiAgICAvLyBUaGlzIGJsb2NrcyByZXR1cm4ta2V5IHN1Ym1pc3Npb24gd2hlbiB0aGUgZm9ybSBpcyBpbnZhbGlkLlxuICAgIGlmICghdGhpcy5pc0Zvcm1WYWxpZCh0aGlzLmdldFZhbGlkYXRpb25FcnJvcnMoKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7dmFsdWVzfSA9IHRoaXMuc3RhdGU7XG4gICAgdGhpcy5zZXRTdGF0ZSh7c2F2ZVN0YXRlOiBTVEFURV9TQVZJTkd9KTtcbiAgICB0aGlzLnByb3BzLmhhbmRsZVN1Ym1pdCh2YWx1ZXMpLmNhdGNoKHRoaXMub25TdWJtaXRGYWlsdXJlKTtcbiAgfTtcblxuICBjYW5jZWwgPSAoKSA9PiB0aGlzLnByb3BzLmhhbmRsZUNhbmNlbCgpO1xuXG4gIG9uU3VibWl0RmFpbHVyZSA9IGVycm9yID0+IHtcbiAgICBpZiAoZXJyb3IgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVycm9yLCAnc2VydmVyRXJyb3JzJykpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoXG4gICAgICAgIHtcbiAgICAgICAgICBzYXZlU3RhdGU6IFNUQVRFX0lOSVRJQUwsXG4gICAgICAgICAgc2VydmVyRXJyb3JzOiBlcnJvci5zZXJ2ZXJFcnJvcnMsXG4gICAgICAgIH0sXG4gICAgICAgICgpID0+IHRoaXMuY2hhbmdlVXNlclR5cGVGb3JtLmZvY3VzT25BbkVycm9yKClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe3NhdmVTdGF0ZTogU1RBVEVfVU5LTk9XTl9FUlJPUn0pO1xuICAgIH1cbiAgfTtcblxuICBpc0Zvcm1WYWxpZCh2YWxpZGF0aW9uRXJyb3JzKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHZhbGlkYXRpb25FcnJvcnMpLmV2ZXJ5KGtleSA9PiAhdmFsaWRhdGlvbkVycm9yc1trZXldKTtcbiAgfVxuXG4gIGdldFZhbGlkYXRpb25FcnJvcnMoKSB7XG4gICAgY29uc3Qge3NlcnZlckVycm9yc30gPSB0aGlzLnN0YXRlO1xuICAgIHJldHVybiB7XG4gICAgICBlbWFpbDogc2VydmVyRXJyb3JzLmVtYWlsIHx8IHRoaXMuZ2V0RW1haWxWYWxpZGF0aW9uRXJyb3IoKSxcbiAgICAgIGVtYWlsT3B0SW46XG4gICAgICAgIHNlcnZlckVycm9ycy5lbWFpbE9wdEluIHx8IHRoaXMuZ2V0RW1haWxPcHRJblZhbGlkYXRpb25FcnJvcigpLFxuICAgIH07XG4gIH1cblxuICBnZXRFbWFpbFZhbGlkYXRpb25FcnJvciA9ICgpID0+IHtcbiAgICBjb25zdCB7ZW1haWx9ID0gdGhpcy5zdGF0ZS52YWx1ZXM7XG4gICAgaWYgKGVtYWlsLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBpMThuLmNoYW5nZVVzZXJUeXBlTW9kYWxfZW1haWxfaXNSZXF1aXJlZCgpO1xuICAgIH1cbiAgICBpZiAoIWlzRW1haWwoZW1haWwudHJpbSgpKSkge1xuICAgICAgcmV0dXJuIGkxOG4uY2hhbmdlVXNlclR5cGVNb2RhbF9lbWFpbF9pbnZhbGlkKCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIGdldEVtYWlsT3B0SW5WYWxpZGF0aW9uRXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3Qge2VtYWlsT3B0SW59ID0gdGhpcy5zdGF0ZS52YWx1ZXM7XG4gICAgaWYgKGVtYWlsT3B0SW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gaTE4bi5jaGFuZ2VVc2VyVHlwZU1vZGFsX2VtYWlsT3B0SW5faXNSZXF1aXJlZCgpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBvbkZvcm1DaGFuZ2UgPSBuZXdWYWx1ZXMgPT4ge1xuICAgIGNvbnN0IHt2YWx1ZXM6IG9sZFZhbHVlcywgc2VydmVyRXJyb3JzfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgbmV3U2VydmVyRXJyb3JzID0gey4uLnNlcnZlckVycm9yc307XG4gICAgWydlbWFpbCcsICdlbWFpbE9wdEluJ10uZm9yRWFjaChmaWVsZE5hbWUgPT4ge1xuICAgICAgaWYgKG5ld1ZhbHVlc1tmaWVsZE5hbWVdICE9PSBvbGRWYWx1ZXNbZmllbGROYW1lXSkge1xuICAgICAgICBuZXdTZXJ2ZXJFcnJvcnNbZmllbGROYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHZhbHVlczogbmV3VmFsdWVzLFxuICAgICAgc2VydmVyRXJyb3JzOiBuZXdTZXJ2ZXJFcnJvcnMsXG4gICAgfSk7XG4gIH07XG5cbiAgcmVuZGVyID0gKCkgPT4ge1xuICAgIGNvbnN0IHtzYXZlU3RhdGUsIHZhbHVlc30gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHZhbGlkYXRpb25FcnJvcnMgPSB0aGlzLmdldFZhbGlkYXRpb25FcnJvcnMoKTtcbiAgICBjb25zdCBpc0Zvcm1WYWxpZCA9IHRoaXMuaXNGb3JtVmFsaWQodmFsaWRhdGlvbkVycm9ycyk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxCYXNlRGlhbG9nXG4gICAgICAgIHVzZVVwZGF0ZWRTdHlsZXNcbiAgICAgICAgaXNPcGVuXG4gICAgICAgIGhhbmRsZUNsb3NlPXt0aGlzLmNhbmNlbH1cbiAgICAgICAgdW5jbG9zZWFibGU9e1NUQVRFX1NBVklORyA9PT0gc2F2ZVN0YXRlfVxuICAgICAgPlxuICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMuY29udGFpbmVyfT5cbiAgICAgICAgICA8SGVhZGVyIHRleHQ9e2kxOG4uY2hhbmdlVXNlclR5cGVNb2RhbF90aXRsZSgpfSAvPlxuICAgICAgICAgIDxDaGFuZ2VVc2VyVHlwZUZvcm1cbiAgICAgICAgICAgIHJlZj17eCA9PiAodGhpcy5jaGFuZ2VVc2VyVHlwZUZvcm0gPSB4KX1cbiAgICAgICAgICAgIHZhbHVlcz17dmFsdWVzfVxuICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9ycz17dmFsaWRhdGlvbkVycm9yc31cbiAgICAgICAgICAgIGRpc2FibGVkPXtTVEFURV9TQVZJTkcgPT09IHNhdmVTdGF0ZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uRm9ybUNoYW5nZX1cbiAgICAgICAgICAgIG9uU3VibWl0PXt0aGlzLnNhdmV9XG4gICAgICAgICAgLz5cbiAgICAgICAgICA8Q29uZmlybUNhbmNlbEZvb3RlclxuICAgICAgICAgICAgY29uZmlybVRleHQ9e2kxOG4uY2hhbmdlVXNlclR5cGVNb2RhbF9zYXZlX3RlYWNoZXIoKX1cbiAgICAgICAgICAgIG9uQ29uZmlybT17dGhpcy5zYXZlfVxuICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMuY2FuY2VsfVxuICAgICAgICAgICAgZGlzYWJsZUNvbmZpcm09e1NUQVRFX1NBVklORyA9PT0gc2F2ZVN0YXRlIHx8ICFpc0Zvcm1WYWxpZH1cbiAgICAgICAgICAgIGRpc2FibGVDYW5jZWw9e1NUQVRFX1NBVklORyA9PT0gc2F2ZVN0YXRlfVxuICAgICAgICAgICAgdGFiSW5kZXg9XCIyXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7U1RBVEVfU0FWSU5HID09PSBzYXZlU3RhdGUgJiYgPGVtPntpMThuLnNhdmluZygpfTwvZW0+fVxuICAgICAgICAgICAge1NUQVRFX1VOS05PV05fRVJST1IgPT09IHNhdmVTdGF0ZSAmJiAoXG4gICAgICAgICAgICAgIDxlbT57aTE4bi5jaGFuZ2VVc2VyVHlwZU1vZGFsX3VuZXhwZWN0ZWRFcnJvcigpfTwvZW0+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvQ29uZmlybUNhbmNlbEZvb3Rlcj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0Jhc2VEaWFsb2c+XG4gICAgKTtcbiAgfTtcbn1cblxuY29uc3Qgc3R5bGVzID0ge1xuICBjb250YWluZXI6IHtcbiAgICBtYXJnaW46IDIwLFxuICAgIGNvbG9yOiBjb2xvci5jaGFyY29hbCxcbiAgfSxcbn07XG4iLCJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IEJ1dHRvbiBmcm9tICdAY2RvL2FwcHMvbGVnYWN5U2hhcmVkQ29tcG9uZW50cy9CdXR0b24nO1xuaW1wb3J0IGkxOG4gZnJvbSAnQGNkby9sb2NhbGUnO1xuXG5pbXBvcnQge0JBU0VfRElBTE9HX1dJRFRIfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IGNvbG9yIGZyb20gJy4uL3V0aWwvY29sb3InO1xuXG4vKipcbiAqIEJhc2VEaWFsb2dcbiAqIEEgZ2VuZXJpYyBtb2RhbCBkaWFsb2cgdGhhdCBoYXMgYW4geC1jbG9zZSBpbiB0aGUgdXBwZXIgcmlnaHQsIGFuZCBhXG4gKiBzZW1pLXRyYW5zcGFyZW50IGJhY2tkcm9wLiBDYW4gYmUgY2xvc2VkIGJ5IGNsaWNraW5nIHRoZSB4LCBjbGlja2luZyB0aGVcbiAqIGJhY2tkcm9wLCBvciBwcmVzc2luZyBlc2MuXG4gKlxuICogVG8gdXNlIGEgc3R5bGVkIHZlcnNpb24gb2YgdGhpcyBjb21wb25lbnQgdGhhdCBmb2xsb3dzIG91ciBzdHlsZSBndWlkZSxcbiAqIHVzZSBTdHlsaXplZEJhc2VEaWFsb2cuanN4LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlRGlhbG9nIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBpc09wZW46IFByb3BUeXBlcy5ib29sLFxuICAgIGhhbmRsZUNsb3NlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB1bmNsb3NlYWJsZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgaGlkZUNsb3NlQnV0dG9uOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBoYW5kbGVLZXlEb3duOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvLyBGb3IgdXNlIGluIHJlYWN0LXN0b3J5Ym9vazsgYWxsb3dzIHJlbmRlcmluZyBkaWFsb2cgaW5saW5lIGluIHN0b3J5IHRhYmxlcy5cbiAgICBoaWRlQmFja2Ryb3A6IFByb3BUeXBlcy5ib29sLFxuICAgIGZ1bGxXaWR0aDogUHJvcFR5cGVzLmJvb2wsXG4gICAgZnVsbEhlaWdodDogUHJvcFR5cGVzLmJvb2wsXG4gICAgdXNlVXBkYXRlZFN0eWxlczogUHJvcFR5cGVzLmJvb2wsXG4gICAgbm9Nb2RhbFN0eWxlczogUHJvcFR5cGVzLmJvb2wsXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAgIGZpeGVkV2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgZml4ZWRIZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgdXNlRmxleGJveDogUHJvcFR5cGVzLmJvb2wsXG4gICAgYm9keUlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGJvZHlDbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgc291bmRQbGF5ZXI6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgb3ZlcmZsb3c6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgLy8gVGVtcG9yYXJ5IHByb3AgdW50aWwgQW5pbWF0aW9uUGlja2VyQm9keSBpcyByZWRlc2lnbmVkXG4gICAgYmFja2Ryb3BTdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgfTtcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmZvY3VzRGlhbG9nKCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5mb2N1c0RpYWxvZygpO1xuICB9XG5cbiAgaGFuZGxlS2V5RG93biA9IGV2ZW50ID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZURpYWxvZygpO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLmhhbmRsZUtleURvd24gJiYgdGhpcy5wcm9wcy5oYW5kbGVLZXlEb3duKGV2ZW50KTtcbiAgfTtcblxuICBjbG9zZURpYWxvZyA9ICgpID0+IHtcbiAgICBpZiAoIXRoaXMucHJvcHMudW5jbG9zZWFibGUgJiYgdGhpcy5wcm9wcy5oYW5kbGVDbG9zZSkge1xuICAgICAgdGhpcy5wcm9wcy5oYW5kbGVDbG9zZSgpO1xuICAgICAgaWYgKHRoaXMucHJvcHMuc291bmRQbGF5ZXIpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5zb3VuZFBsYXllci5zdG9wQWxsQXVkaW8oKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqIEByZXR1cm5zIHtBcnJheS48RWxlbWVudD59ICovXG4gIGdldFRhYmJhYmxlRWxlbWVudHMoKSB7XG4gICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwodGhpcy5yZWZzLmRpYWxvZy5xdWVyeVNlbGVjdG9yQWxsKCdhLGJ1dHRvbixpbnB1dCcpKTtcbiAgfVxuXG4gIGZvY3VzRGlhbG9nKCkge1xuICAgIC8vIERvbid0IHN0ZWFsIGZvY3VzIGlmIHRoZSBhY3RpdmUgZWxlbWVudCBpcyBhbHJlYWR5IGEgZGVzY2VuZGFudCBvZiB0aGVcbiAgICAvLyBkaWFsb2cgLSBwcmV2ZW50cyBmb2N1cyBsb3NzIG9uIHVwZGF0ZXMgb2Ygb3BlbiBCYXNlRGlhbG9nIGNvbXBvbmVudHMuXG4gICAgY29uc3QgZGVzY2VuZGFudElzQWN0aXZlID1cbiAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiZcbiAgICAgIHRoaXMucmVmcy5kaWFsb2cgJiZcbiAgICAgIHRoaXMucmVmcy5kaWFsb2cuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gICAgaWYgKHRoaXMucHJvcHMuaXNPcGVuICYmICFkZXNjZW5kYW50SXNBY3RpdmUpIHtcbiAgICAgIHRoaXMucmVmcy5kaWFsb2cuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKCF0aGlzLnByb3BzLmlzT3BlbiAmJiAhdGhpcy5wcm9wcy5oaWRlQmFja2Ryb3ApIHtcbiAgICAgIHJldHVybiA8ZGl2IC8+O1xuICAgIH1cblxuICAgIGxldCBib2R5U3R5bGUsIG1vZGFsQm9keVN0eWxlLCB4Q2xvc2VTdHlsZTtcbiAgICBpZiAodGhpcy5wcm9wcy5mdWxsV2lkdGgpIHtcbiAgICAgIGJvZHlTdHlsZSA9IHtcbiAgICAgICAgLi4uYm9keVN0eWxlLFxuICAgICAgICB3aWR0aDogJzkwJScsXG4gICAgICAgIG1hcmdpbkxlZnQ6ICctNDUlJyxcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmZ1bGxIZWlnaHQpIHtcbiAgICAgIGJvZHlTdHlsZSA9IHtcbiAgICAgICAgLi4uYm9keVN0eWxlLFxuICAgICAgICBoZWlnaHQ6ICc4MCUnLFxuICAgICAgfTtcbiAgICAgIG1vZGFsQm9keVN0eWxlID0ge1xuICAgICAgICAuLi5tb2RhbEJvZHlTdHlsZSxcbiAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGxldCB3cmFwcGVyQ2xhc3NOYW1lcyA9ICcnO1xuICAgIGxldCBtb2RhbENsYXNzTmFtZXMgPSAnbW9kYWwnO1xuICAgIGxldCBtb2RhbEJvZHlDbGFzc05hbWVzID0gJ21vZGFsLWJvZHknO1xuICAgIGxldCBtb2RhbEJhY2tkcm9wQ2xhc3NOYW1lcyA9ICdtb2RhbC1iYWNrZHJvcCc7XG4gICAgY29uc3Qgb3ZlcmZsb3dYID0gdGhpcy5wcm9wcy5vdmVyZmxvdyB8fCAnaGlkZGVuJztcbiAgICBjb25zdCBvdmVyZmxvd1kgPVxuICAgICAgdGhpcy5wcm9wcy5vdmVyZmxvdyB8fFxuICAgICAgKHRoaXMucHJvcHMuZml4ZWRIZWlnaHQgfHwgdGhpcy5wcm9wcy5mdWxsSGVpZ2h0ID8gJ2hpZGRlbicgOiAnYXV0bycpO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudXNlVXBkYXRlZFN0eWxlcykge1xuICAgICAgd3JhcHBlckNsYXNzTmFtZXMgPSAnZGFzaGJvYXJkLXN0eWxlcyc7XG4gICAgICBtb2RhbEJvZHlDbGFzc05hbWVzID0gJyc7XG4gICAgICBtb2RhbEJvZHlTdHlsZSA9IHtcbiAgICAgICAgYmFja2dyb3VuZDogJyNmZmYnLFxuICAgICAgICBoZWlnaHQ6IHRoaXMucHJvcHMuZml4ZWRIZWlnaHQsXG4gICAgICAgIG1heEhlaWdodDogIXRoaXMucHJvcHMuZml4ZWRIZWlnaHQgJiYgJzg1dmgnLFxuICAgICAgICBvdmVyZmxvd1g6IG92ZXJmbG93WCxcbiAgICAgICAgb3ZlcmZsb3dZOiBvdmVyZmxvd1ksXG4gICAgICAgIGJvcmRlclJhZGl1czogNCxcbiAgICAgIH07XG4gICAgICBpZiAodGhpcy5wcm9wcy51c2VGbGV4Ym94KSB7XG4gICAgICAgIG1vZGFsQm9keVN0eWxlID0ge1xuICAgICAgICAgIC4uLm1vZGFsQm9keVN0eWxlLFxuICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGJvZHlTdHlsZSA9IHtcbiAgICAgICAgLi4uYm9keVN0eWxlLFxuICAgICAgICB3aWR0aDogdGhpcy5wcm9wcy5maXhlZFdpZHRoIHx8IEJBU0VfRElBTE9HX1dJRFRILFxuICAgICAgICBtYXJnaW5MZWZ0OiAtdGhpcy5wcm9wcy5maXhlZFdpZHRoIC8gMiB8fCAtMzUwLFxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMubm9Nb2RhbFN0eWxlcykge1xuICAgICAgbW9kYWxDbGFzc05hbWVzID0gJyc7XG4gICAgICBtb2RhbEJvZHlDbGFzc05hbWVzID0gJyc7XG4gICAgfVxuXG4gICAgYm9keVN0eWxlID0ge1xuICAgICAgLi4uYm9keVN0eWxlLFxuICAgICAgLi4uKHRoaXMucHJvcHMuaGlkZUJhY2tkcm9wICYmIHtcbiAgICAgICAgcG9zaXRpb246ICdpbml0aWFsJyxcbiAgICAgICAgbWFyZ2luTGVmdDogMCxcbiAgICAgIH0pLFxuICAgICAgLi4udGhpcy5wcm9wcy5zdHlsZSxcbiAgICB9O1xuICAgIHhDbG9zZVN0eWxlID0ge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6IDAsXG4gICAgICBpbnNldElubGluZUVuZDogMCxcbiAgICAgIHBhZGRpbmc6IDAsXG4gICAgICBjb2xvcjogY29sb3IubmV1dHJhbF9kYXJrMzAsXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIGZvbnRTaXplOiAyNCxcbiAgICAgIGJvcmRlcjogJ25vbmUnLFxuICAgIH07XG5cbiAgICBtb2RhbEJvZHlDbGFzc05hbWVzID0gW21vZGFsQm9keUNsYXNzTmFtZXMsIHRoaXMucHJvcHMuYm9keUNsYXNzTmFtZV1cbiAgICAgIC5maWx0ZXIoY2xhc3NOYW1lID0+ICEhY2xhc3NOYW1lKVxuICAgICAgLmpvaW4oJyAnKTtcblxuICAgIGxldCBib2R5ID0gKFxuICAgICAgPGRpdlxuICAgICAgICBzdHlsZT17Ym9keVN0eWxlfVxuICAgICAgICB0YWJJbmRleD1cIi0xXCJcbiAgICAgICAgY2xhc3NOYW1lPXttb2RhbENsYXNzTmFtZXN9XG4gICAgICAgIHJlZj1cImRpYWxvZ1wiXG4gICAgICAgIG9uS2V5RG93bj17dGhpcy5oYW5kbGVLZXlEb3dufVxuICAgICAgPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgc3R5bGU9e21vZGFsQm9keVN0eWxlfVxuICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmJvZHlJZH1cbiAgICAgICAgICBjbGFzc05hbWU9e21vZGFsQm9keUNsYXNzTmFtZXN9XG4gICAgICAgID5cbiAgICAgICAgICB7IXRoaXMucHJvcHMudW5jbG9zZWFibGUgJiYgIXRoaXMucHJvcHMuaGlkZUNsb3NlQnV0dG9uICYmIChcbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgaWQ9XCJ4LWNsb3NlXCJcbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5jbG9zZURpYWxvZ31cbiAgICAgICAgICAgICAgaWNvbj1cImZhLXNvbGlkIGZhLXhtYXJrXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3hDbG9zZVN0eWxlfVxuICAgICAgICAgICAgICBjb2xvcj1cIndoaXRlXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD17aTE4bi5jbG9zZURpYWxvZygpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5oaWRlQmFja2Ryb3ApIHtcbiAgICAgIHJldHVybiBib2R5O1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17d3JhcHBlckNsYXNzTmFtZXN9PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXttb2RhbEJhY2tkcm9wQ2xhc3NOYW1lc31cbiAgICAgICAgICBzdHlsZT17dGhpcy5wcm9wcy5iYWNrZHJvcFN0eWxlfVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VEaWFsb2d9XG4gICAgICAgIC8+XG4gICAgICAgIHtib2R5fVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIiwiLy8gUkZDIDUzMjIgT2ZmaWNpYWwgU3RhbmRhcmQgZW1haWwgcmVnZXhcbi8vIFNvdXJjZTogaHR0cDovL2VtYWlscmVnZXguY29tL1xuXG5jb25zdCBFTUFJTF9SRUdFWCA9XG4gIC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuZXhwb3J0IGNvbnN0IGlzRW1haWwgPSB2YWx1ZSA9PiBFTUFJTF9SRUdFWC50ZXN0KHZhbHVlKTtcblxuY29uc3QgWklQX0NPREVfUkVHRVggPSAvXlxcZHs1fShbXFxXLV0/XFxkezR9KT8kLztcbmV4cG9ydCBjb25zdCBpc1ppcENvZGUgPSB2YWx1ZSA9PiBaSVBfQ09ERV9SRUdFWC50ZXN0KHZhbHVlKTtcblxuZXhwb3J0IGNvbnN0IGlzSW50ID0gdmFsdWUgPT4ge1xuICAvLyBTdWIgb3V0IGNvbW1hc1xuICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlLnJlcGxhY2UoLywvZywgJycpO1xuICByZXR1cm4gcGFyc2VJbnQobmV3VmFsdWUsIDEwKS50b1N0cmluZygpID09PSBuZXdWYWx1ZTtcbn07XG5leHBvcnQgY29uc3QgaXNQZXJjZW50ID0gdmFsdWUgPT4ge1xuICBsZXQgcGVyY2VudCA9IHBhcnNlRmxvYXQodmFsdWUpO1xuXG4gIHJldHVybiAwIDw9IHBlcmNlbnQgJiYgcGVyY2VudCA8PSAxMDA7XG59O1xuIiwiaW1wb3J0IHthY3Rpb259IGZyb20gJ0BzdG9yeWJvb2svYWRkb24tYWN0aW9ucyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQ2hhbmdlVXNlclR5cGVNb2RhbCBmcm9tICcuL0NoYW5nZVVzZXJUeXBlTW9kYWwnO1xuXG5jb25zdCBERUZBVUxUX1BST1BTID0ge1xuICBoYW5kbGVTdWJtaXQ6IGFjdGlvbignaGFuZGxlU3VibWl0IGNhbGxiYWNrJyksXG4gIGhhbmRsZUNhbmNlbDogYWN0aW9uKCdoYW5kbGVDYW5jZWwgY2FsbGJhY2snKSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29tcG9uZW50OiBDaGFuZ2VVc2VyVHlwZU1vZGFsLFxufTtcblxuY29uc3QgY29udGFpbmVyID0ge1xuICBtYXJnaW46ICdhdXRvJyxcbiAgd2lkdGg6ICc1MCUnLFxuICBwYWRkaW5nOiAnMTBweCcsXG59O1xuXG5jb25zdCBUZW1wbGF0ZSA9IGFyZ3MgPT4gKFxuICA8ZGl2IHN0eWxlPXtjb250YWluZXJ9PlxuICAgIDxDaGFuZ2VVc2VyVHlwZU1vZGFsIHsuLi5ERUZBVUxUX1BST1BTfSB7Li4uYXJnc30gLz5cbiAgPC9kaXY+XG4pO1xuXG5leHBvcnQgY29uc3QgU3R1ZGVudEJlY29taW5nVGVhY2hlciA9IFRlbXBsYXRlLmJpbmQoe30pO1xuIl0sIm5hbWVzIjpbIl9wcm9wVHlwZXMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdCIsIl9sb2NhbGUiLCJfU3lzdGVtRGlhbG9nIiwiX0Jhc2VEaWFsb2ciLCJfY29sb3IiLCJfZm9ybWF0VmFsaWRhdGlvbiIsIl9DaGFuZ2VVc2VyVHlwZUZvcm0iLCJvYmoiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsIm8iLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwib3duS2V5cyIsImUiLCJyIiwidCIsIk9iamVjdCIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX3NldFByb3RvdHlwZU9mIiwicCIsInNldFByb3RvdHlwZU9mIiwiYmluZCIsIl9fcHJvdG9fXyIsIl9kZWZpbmVQcm9wZXJ0eSIsImtleSIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJpIiwiX3RvUHJpbWl0aXZlIiwidG9QcmltaXRpdmUiLCJjYWxsIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiTnVtYmVyIiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIkNoYW5nZVVzZXJUeXBlTW9kYWwiLCJleHBvcnRzIiwiX1JlYWN0JENvbXBvbmVudCIsIl90aGlzIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJjb25jYXQiLCJzYXZlU3RhdGUiLCJ2YWx1ZXMiLCJlbWFpbCIsImVtYWlsT3B0SW4iLCJzZXJ2ZXJFcnJvcnMiLCJ1bmRlZmluZWQiLCJpc0Zvcm1WYWxpZCIsImdldFZhbGlkYXRpb25FcnJvcnMiLCJzdGF0ZSIsInNldFN0YXRlIiwicHJvcHMiLCJoYW5kbGVTdWJtaXQiLCJvblN1Ym1pdEZhaWx1cmUiLCJoYW5kbGVDYW5jZWwiLCJlcnJvciIsImhhc093blByb3BlcnR5IiwiY2hhbmdlVXNlclR5cGVGb3JtIiwiZm9jdXNPbkFuRXJyb3IiLCJ0cmltIiwiaTE4biIsImNoYW5nZVVzZXJUeXBlTW9kYWxfZW1haWxfaXNSZXF1aXJlZCIsImlzRW1haWwiLCJjaGFuZ2VVc2VyVHlwZU1vZGFsX2VtYWlsX2ludmFsaWQiLCJjaGFuZ2VVc2VyVHlwZU1vZGFsX2VtYWlsT3B0SW5faXNSZXF1aXJlZCIsIm5ld1ZhbHVlcyIsIl90aGlzJHN0YXRlIiwib2xkVmFsdWVzIiwibmV3U2VydmVyRXJyb3JzIiwiX29iamVjdFNwcmVhZCIsImZvckVhY2giLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImZpZWxkTmFtZSIsIl90aGlzJHN0YXRlMiIsInZhbGlkYXRpb25FcnJvcnMiLCJjcmVhdGVFbGVtZW50IiwidXNlVXBkYXRlZFN0eWxlcyIsImlzT3BlbiIsImhhbmRsZUNsb3NlIiwiY2FuY2VsIiwidW5jbG9zZWFibGUiLCJzdHlsZSIsInN0eWxlcyIsImNvbnRhaW5lciIsIkhlYWRlciIsInRleHQiLCJjaGFuZ2VVc2VyVHlwZU1vZGFsX3RpdGxlIiwicmVmIiwieCIsImRpc2FibGVkIiwib25DaGFuZ2UiLCJvbkZvcm1DaGFuZ2UiLCJvblN1Ym1pdCIsInNhdmUiLCJDb25maXJtQ2FuY2VsRm9vdGVyIiwiY29uZmlybVRleHQiLCJjaGFuZ2VVc2VyVHlwZU1vZGFsX3NhdmVfdGVhY2hlciIsIm9uQ29uZmlybSIsIm9uQ2FuY2VsIiwiZGlzYWJsZUNvbmZpcm0iLCJkaXNhYmxlQ2FuY2VsIiwidGFiSW5kZXgiLCJzYXZpbmciLCJjaGFuZ2VVc2VyVHlwZU1vZGFsX3VuZXhwZWN0ZWRFcnJvciIsIl9pbmhlcml0c0xvb3NlIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiX3Byb3RvIiwiZXZlcnkiLCJ0aGlzIiwiZ2V0RW1haWxWYWxpZGF0aW9uRXJyb3IiLCJnZXRFbWFpbE9wdEluVmFsaWRhdGlvbkVycm9yIiwiUmVhY3QiLCJDb21wb25lbnQiLCJQcm9wVHlwZXMiLCJmdW5jIiwiaXNSZXF1aXJlZCIsIm1hcmdpbiIsImNvbG9yIiwiY2hhcmNvYWwiLCJtb2R1bGUiLCJfQnV0dG9uIiwiX2NvbnN0YW50cyIsIkJhc2VEaWFsb2ciLCJldmVudCIsImNsb3NlRGlhbG9nIiwiaGFuZGxlS2V5RG93biIsInNvdW5kUGxheWVyIiwic3RvcEFsbEF1ZGlvIiwiY29tcG9uZW50RGlkTW91bnQiLCJmb2N1c0RpYWxvZyIsImNvbXBvbmVudERpZFVwZGF0ZSIsImdldFRhYmJhYmxlRWxlbWVudHMiLCJzbGljZSIsInJlZnMiLCJkaWFsb2ciLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGVzY2VuZGFudElzQWN0aXZlIiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiY29udGFpbnMiLCJmb2N1cyIsInJlbmRlciIsImhpZGVCYWNrZHJvcCIsImJvZHlTdHlsZSIsIm1vZGFsQm9keVN0eWxlIiwieENsb3NlU3R5bGUiLCJmdWxsV2lkdGgiLCJ3aWR0aCIsIm1hcmdpbkxlZnQiLCJmdWxsSGVpZ2h0IiwiaGVpZ2h0IiwiYm94U2l6aW5nIiwid3JhcHBlckNsYXNzTmFtZXMiLCJtb2RhbENsYXNzTmFtZXMiLCJtb2RhbEJvZHlDbGFzc05hbWVzIiwib3ZlcmZsb3dYIiwib3ZlcmZsb3ciLCJvdmVyZmxvd1kiLCJmaXhlZEhlaWdodCIsImJhY2tncm91bmQiLCJtYXhIZWlnaHQiLCJib3JkZXJSYWRpdXMiLCJ1c2VGbGV4Ym94IiwiZGlzcGxheSIsImZsZXhEaXJlY3Rpb24iLCJmaXhlZFdpZHRoIiwiQkFTRV9ESUFMT0dfV0lEVEgiLCJub01vZGFsU3R5bGVzIiwicG9zaXRpb24iLCJ0b3AiLCJpbnNldElubGluZUVuZCIsInBhZGRpbmciLCJuZXV0cmFsX2RhcmszMCIsImN1cnNvciIsImZvbnRTaXplIiwiYm9yZGVyIiwiYm9keUNsYXNzTmFtZSIsImNsYXNzTmFtZSIsImpvaW4iLCJib2R5Iiwib25LZXlEb3duIiwiaWQiLCJib2R5SWQiLCJoaWRlQ2xvc2VCdXR0b24iLCJvbkNsaWNrIiwiaWNvbiIsImNoaWxkcmVuIiwiYmFja2Ryb3BTdHlsZSIsImJvb2wiLCJub2RlIiwibnVtYmVyIiwic3RyaW5nIiwib2JqZWN0IiwiRU1BSUxfUkVHRVgiLCJaSVBfQ09ERV9SRUdFWCIsInRlc3QiLCJpc1ppcENvZGUiLCJpc0ludCIsIm5ld1ZhbHVlIiwicmVwbGFjZSIsInBhcnNlSW50IiwidG9TdHJpbmciLCJpc1BlcmNlbnQiLCJwZXJjZW50IiwicGFyc2VGbG9hdCIsIl9hZGRvbkFjdGlvbnMiLCJfQ2hhbmdlVXNlclR5cGVNb2RhbCIsIl9leHRlbmRzIiwiYXNzaWduIiwidGFyZ2V0Iiwic291cmNlIiwiREVGQVVMVF9QUk9QUyIsImFjdGlvbiIsImNvbXBvbmVudCIsIlRlbXBsYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==