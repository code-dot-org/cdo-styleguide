"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[4130],{"./src/code-studio/activityUtils.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.resultFromStatus=exports.mergeActivityResult=exports.activityCssClass=void 0;var _constants=__webpack_require__("./src/constants.js"),_sharedConstants=__webpack_require__("./generated-scripts/sharedConstants.ts");exports.activityCssClass=function activityCssClass(result){return result&&result!==_constants.TestResults.NO_TESTS_RUN?result===_constants.TestResults.REVIEW_ACCEPTED_RESULT?_sharedConstants.LevelStatus.review_accepted:result===_constants.TestResults.REVIEW_REJECTED_RESULT?_sharedConstants.LevelStatus.review_rejected:result===_constants.TestResults.SUBMITTED_RESULT?_sharedConstants.LevelStatus.submitted:result>=_constants.TestResults.MINIMUM_OPTIMAL_RESULT?_sharedConstants.LevelStatus.perfect:result>=_constants.TestResults.MINIMUM_PASS_RESULT?_sharedConstants.LevelStatus.passed:_sharedConstants.LevelStatus.attempted:_sharedConstants.LevelStatus.not_tried},exports.resultFromStatus=function resultFromStatus(status){return status===_sharedConstants.LevelStatus.review_accepted?_constants.TestResults.REVIEW_ACCEPTED_RESULT:status===_sharedConstants.LevelStatus.review_rejected?_constants.TestResults.REVIEW_REJECTED_RESULT:status===_sharedConstants.LevelStatus.submitted?_constants.TestResults.SUBMITTED_RESULT:status===_sharedConstants.LevelStatus.free_play_complete?_constants.TestResults.FREE_PLAY:status===_sharedConstants.LevelStatus.perfect?_constants.TestResults.ALL_PASS:status===_sharedConstants.LevelStatus.passed?_constants.TestResults.MINIMUM_PASS_RESULT:_constants.TestResults.NO_TESTS_RUN},exports.mergeActivityResult=function mergeActivityResult(a,b){return b=b||0,0===(a=a||0)?b:0===b?a:Math.max(a,b)}},"./src/code-studio/hiddenLessonRedux.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.STUDENT_SECTION_ID=void 0,exports.default=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new HiddenState,action=arguments.length>1?arguments[1]:void 0;if(action.type===SET_HIDDEN_LESSONS){var hiddenLessonsPerSection=action.hiddenLessonsPerSection,hideableLessonsAllowed=action.hideableLessonsAllowed,sectionIds=Object.keys(hiddenLessonsPerSection),nextState=state;return sectionIds.forEach((function(sectionId){hiddenLessonsPerSection[sectionId].forEach((function(lessonId){nextState=nextState.setIn(["lessonsBySection",sectionId,lessonId.toString()],!0)}))})),validateSectionIds(nextState),nextState.merge({hiddenLessonsInitialized:!0,hideableLessonsAllowed})}if(action.type===UPDATE_HIDDEN_LESSON){var sectionId=action.sectionId,lessonId=action.lessonId,hidden=action.hidden,_nextState=state.setIn(["lessonsBySection",sectionId,lessonId.toString()],hidden);return validateSectionIds(_nextState),_nextState}if(action.type===UPDATE_HIDDEN_SCRIPT){var _sectionId=action.sectionId,scriptId=action.scriptId,_hidden=action.hidden,_nextState2=state.setIn(["scriptsBySection",_sectionId.toString(),scriptId.toString()],_hidden);return validateSectionIds(_nextState2),_nextState2}return state},exports.getHiddenLessons=function getHiddenLessons(scriptName,canHideLessons){return function(dispatch){_jquery.default.ajax({type:"GET",url:"/s/".concat(scriptName,"/hidden_lessons"),dataType:"json",contentType:"application/json"}).done((function(response){return dispatch(function initializeHiddenLessons(data,canHideLessons){return function(dispatch){Array.isArray(data)&&(data=_defineProperty({},STUDENT_SECTION_ID,data)),dispatch(setHiddenLessons(data,!!canHideLessons))}}(response,canHideLessons))})).fail((function(err){return console.error(err)}))}},exports.initializeHiddenScripts=function initializeHiddenScripts(data){return function(dispatch){data&&(Array.isArray(data)&&(data=_defineProperty({},STUDENT_SECTION_ID,data)),Object.keys(data).forEach((function(sectionId){data[sectionId].forEach((function(scriptId){dispatch(updateHiddenScript(sectionId,scriptId,!0))}))})))}},exports.isLessonHiddenForSection=function isLessonHiddenForSection(state,sectionId,lessonId){return isHiddenForSection(state,sectionId,lessonId,"lessonsBySection")},exports.isScriptHiddenForSection=function isScriptHiddenForSection(state,sectionId,scriptId){return isHiddenForSection(state,sectionId,scriptId,"scriptsBySection")},exports.setHiddenLessons=setHiddenLessons,exports.toggleHiddenLesson=function toggleHiddenLesson(scriptName,sectionId,lessonId,hidden){return function(dispatch){dispatch(updateHiddenLesson(sectionId,lessonId,hidden)),postToggleHidden(scriptName,sectionId,lessonId,hidden)}},exports.toggleHiddenScript=function toggleHiddenScript(scriptName,sectionId,scriptId,hidden){return function(dispatch){dispatch(updateHiddenScript(sectionId,scriptId,hidden)),postToggleHidden(scriptName,sectionId,null,hidden)}},exports.updateHiddenLesson=updateHiddenLesson,exports.updateHiddenScript=updateHiddenScript;var _immutable=_interopRequireDefault(__webpack_require__("./node_modules/immutable/dist/immutable.js")),_jquery=_interopRequireDefault(__webpack_require__("./node_modules/jquery/dist/jquery.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var SET_HIDDEN_LESSONS="hiddenLesson/SET_HIDDEN_LESSONS",UPDATE_HIDDEN_LESSON="hiddenLesson/UPDATE_HIDDEN_LESSON",UPDATE_HIDDEN_SCRIPT="hiddenLesson/UPDATE_HIDDEN_SCRIPT",STUDENT_SECTION_ID=exports.STUDENT_SECTION_ID="STUDENT",HiddenState=_immutable.default.Record({hiddenLessonsInitialized:!1,hideableLessonsAllowed:!1,lessonsBySection:_immutable.default.Map({}),scriptsBySection:_immutable.default.Map({})});function validateSectionIds(state){if(state.getIn(["lessonsBySection",STUDENT_SECTION_ID])&&state.get("lessonsBySection").size>1)throw new Error("Should never have STUDENT_SECTION_ID alongside other sectionIds")}function setHiddenLessons(hiddenLessonsPerSection,hideableLessonsAllowed){return{type:SET_HIDDEN_LESSONS,hiddenLessonsPerSection,hideableLessonsAllowed}}function updateHiddenLesson(sectionId,lessonId,hidden){return{type:UPDATE_HIDDEN_LESSON,sectionId,lessonId,hidden}}function updateHiddenScript(sectionId,scriptId,hidden){return{type:UPDATE_HIDDEN_SCRIPT,sectionId,scriptId,hidden}}function postToggleHidden(scriptName,sectionId,lessonId,hidden){var data={section_id:sectionId,hidden};lessonId&&(data.stage_id=lessonId),_jquery.default.ajax({type:"POST",url:"/s/".concat(scriptName,"/toggle_hidden"),dataType:"json",contentType:"application/json",data:JSON.stringify(data)}).success((function(){window.__TestInterface=window.__TestInterface||{},window.__TestInterface.toggleHiddenUnitComplete=!0}))}function isHiddenForSection(state,sectionId,itemId,bySectionKey){return!!itemId&&(sectionId||(sectionId=STUDENT_SECTION_ID),!!state.get(bySectionKey).getIn([sectionId.toString(),itemId.toString()]))}},"./src/code-studio/lessonLockRedux.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.closeLockDialog=exports.beginSave=exports.authorizeLockable=exports.LockStatus=exports.FINISH_SAVE=exports.CLOSE_LOCK_DIALOG=exports.BEGIN_SAVE=void 0,exports.default=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;if(action.type===AUTHORIZE_LOCKABLE)return Object.assign({},state,{lockableAuthorized:action.isAuthorized,lockableAuthorizedLoaded:!0});if(action.type===SET_SECTION_LOCK_STATUS)return _objectSpread(_objectSpread({},state),{},{lessonsBySectionId:_lodash.default.mapValues(action.sections,(function(section){return section.lessons})),lessonsBySectionIdLoaded:!0});if(action.type===REFRESH_SECTION_LOCK_STATUS){var lessonsBySectionId=_lodash.default.mapValues(action.sections,(function(section){return section.lessons})),lockDialogLessonId=state.lockDialogLessonId;if(lockDialogLessonId){var lockStatus=lockStatusForLesson(lessonsBySectionId[action.sectionId],lockDialogLessonId);return _objectSpread(_objectSpread({},state),{},{lessonsBySectionId,lockStatus})}return _objectSpread(_objectSpread({},state),{},{lessonsBySectionId})}if(action.type===_teacherSectionsRedux.SELECT_SECTION){if(0===Object.keys(state.lessonsBySectionId).length)return state;var sectionId=action.payload;if(sectionId===_teacherSectionsRedux.NO_SECTION)return _objectSpread(_objectSpread({},state),{},{lockStatus:initialState.lockStatus});if(!state.lessonsBySectionId[sectionId])throw new Error("Unknown sectionId ".concat(sectionId));var _lockDialogLessonId=state.lockDialogLessonId;if(_lockDialogLessonId)return _objectSpread(_objectSpread({},state),{},{lockStatus:lockStatusForLesson(state.lessonsBySectionId[sectionId],_lockDialogLessonId)})}if(action.type===OPEN_LOCK_DIALOG){var _sectionId=action.sectionId,lessonId=action.lessonId;return Object.assign({},state,{lockDialogLessonId:lessonId,lockStatus:lockStatusForLesson(state.lessonsBySectionId[_sectionId],lessonId)})}if(action.type===CLOSE_LOCK_DIALOG)return Object.assign({},state,{lockDialogLessonId:null,lockStatus:initialState.lockStatus});if(action.type===BEGIN_SAVE)return Object.assign({},state,{saving:!0});if(action.type===FINISH_SAVE){var _lessonsBySectionId=state.lessonsBySectionId,nextLockStatus=action.lockStatus,_sectionId2=action.sectionId,_lessonId=action.lessonId,nextLesson=_lodash.default.cloneDeep(_lessonsBySectionId[_sectionId2][_lessonId]);nextLesson.forEach((function(item,index){var update=nextLockStatus[index];if(item.user_level_id!==update.userLevelId)throw new Error("Expect user ids be the same");item.locked=update.lockStatus===LockStatus.Locked,item.readonly_answers=update.lockStatus===LockStatus.ReadonlyAnswers}));var nextState=_lodash.default.cloneDeep(state);return nextState.lessonsBySectionId[_sectionId2][_lessonId]=nextLesson,Object.assign(nextState,{lockStatus:nextLockStatus,saving:!1})}return state},exports.setSectionLockStatus=exports.saveLockDialog=exports.refetchSectionLockStatus=exports.openLockDialog=exports.lockLesson=exports.fullyLockedLessonMapping=exports.finishSave=void 0;var _jquery=_interopRequireDefault(__webpack_require__("./node_modules/jquery/dist/jquery.js")),_lodash=_interopRequireDefault(__webpack_require__("./node_modules/lodash/lodash.js")),_teacherSectionsRedux=__webpack_require__("./src/templates/teacherDashboard/teacherSectionsRedux.ts"),_utils=__webpack_require__("./src/utils.js");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var LockStatus=exports.LockStatus=(0,_utils.makeEnum)("Locked","Editable","ReadonlyAnswers"),OPEN_LOCK_DIALOG="lessonLock/OPEN_LOCK_DIALOG",CLOSE_LOCK_DIALOG=exports.CLOSE_LOCK_DIALOG="lessonLock/CLOSE_LOCK_DIALOG",BEGIN_SAVE=exports.BEGIN_SAVE="lessonLock/BEGIN_SAVE",FINISH_SAVE=exports.FINISH_SAVE="lessonLock/FINISH_SAVE",AUTHORIZE_LOCKABLE="lessonLock/AUTHORIZE_LOCKABLE",SET_SECTION_LOCK_STATUS="lessonLock/SET_SECTION_LOCK_STATUS",REFRESH_SECTION_LOCK_STATUS="lessonLock/REFRESH_SECTION_LOCK_STATUS",initialState={lessonsBySectionId:{},lessonsBySectionIdLoaded:!1,lockDialogLessonId:null,lockStatus:[],saving:!1,lockableAuthorized:null,lockableAuthorizedLoaded:!1};exports.authorizeLockable=function authorizeLockable(isAuthorized){return{type:AUTHORIZE_LOCKABLE,isAuthorized}},exports.openLockDialog=function openLockDialog(sectionId,lessonId){return{type:OPEN_LOCK_DIALOG,sectionId,lessonId}};var beginSave=exports.beginSave=function beginSave(){return{type:BEGIN_SAVE}},finishSave=exports.finishSave=function finishSave(sectionId,lessonId,newLockStatus){return{type:FINISH_SAVE,sectionId,lessonId,lockStatus:newLockStatus}},performSave=function performSave(sectionId,lessonId,newLockStatus,onComplete){return function(dispatch,getState){var oldLockStatus=getState().lessonLock.lockStatus,saveData=newLockStatus.filter((function(item,index){return!_lodash.default.isEqual(item,oldLockStatus[index])})).map((function(item){return{user_level_data:item.userLevelData,locked:item.lockStatus===LockStatus.Locked,readonly_answers:item.lockStatus===LockStatus.ReadonlyAnswers}}));0!==saveData.length?(dispatch(beginSave()),_jquery.default.ajax({type:"POST",url:"/api/lock_status",dataType:"json",contentType:"application/json",data:JSON.stringify({updates:saveData})}).done((function(){dispatch(finishSave(sectionId,lessonId,newLockStatus)),onComplete()})).fail((function(err){console.error(err),onComplete()}))):onComplete()}},closeLockDialog=(exports.saveLockDialog=function saveLockDialog(sectionId,newLockStatus){return function(dispatch,getState){var lessonId=getState().lessonLock.lockDialogLessonId;dispatch(performSave(sectionId,lessonId,newLockStatus,(function(){dispatch(closeLockDialog())})))}},exports.lockLesson=function lockLesson(sectionId,lessonId){return function(dispatch,getState){var section=getState().lessonLock.lessonsBySectionId[sectionId],newLockStatus=lockStatusForLesson(section,lessonId).map((function(student){return _objectSpread(_objectSpread({},student),{},{lockStatus:LockStatus.Locked})}));dispatch(performSave(sectionId,lessonId,newLockStatus,(function(){})))}},exports.closeLockDialog=function closeLockDialog(){return{type:CLOSE_LOCK_DIALOG}}),lockStatusForLesson=function lockStatusForLesson(section,lessonId){return void 0===section?[]:section[lessonId].map((function(student){return{userLevelData:student.user_level_data,name:student.name,lockStatus:student.locked?LockStatus.Locked:student.readonly_answers?LockStatus.ReadonlyAnswers:LockStatus.Editable}}))};exports.fullyLockedLessonMapping=function fullyLockedLessonMapping(section){return section?Object.keys(section).reduce((function(obj,lessonId){var fullyLocked=!section[lessonId].some((function(student){return!student.locked}));return _objectSpread(_objectSpread({},obj),{},_defineProperty({},lessonId,fullyLocked))}),{}):{}},exports.setSectionLockStatus=function setSectionLockStatus(sections){return{type:SET_SECTION_LOCK_STATUS,sections}},exports.refetchSectionLockStatus=function refetchSectionLockStatus(sectionId,scriptId){return function(dispatch){_jquery.default.ajax("/api/lock_status",{data:{script_id:scriptId}}).done((function(data){dispatch(function refreshSectionLockStatus(sections,sectionId){return{type:REFRESH_SECTION_LOCK_STATUS,sections,sectionId}}(data,sectionId))})).fail((function(err){console.log(err)}))}}},"./src/code-studio/utils.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.environmentSpecificCookieName=function environmentSpecificCookieName(name){var rack_env=window.dashboard.rack_env;if("production"===rack_env)return name;return"".concat(name,"_").concat(rack_env)},exports.getRootDomainFromHostname=function getRootDomainFromHostname(hostname){return hostname.split(".").slice(-2).join(".")},exports.hasQueryParam=function hasQueryParam(name){var parsedParams=queryParams();return Object.prototype.hasOwnProperty.call(parsedParams,name)},exports.queryParams=queryParams,exports.resetWindowLocation=function resetWindowLocation(){windowLocation=window.location},exports.setWindowLocation=function setWindowLocation(fakeLocation){windowLocation=fakeLocation},exports.updateQueryParam=function updateQueryParam(param,value){var useReplaceState=arguments.length>2&&void 0!==arguments[2]&&arguments[2],newString=_queryString.default.stringify(_objectSpread(_objectSpread({},_queryString.default.parse(windowLocation.search)),{},_defineProperty({},param,value))),newLocation=windowLocation.pathname;newString&&(newLocation+="?"+newString);var method=useReplaceState?"replaceState":"pushState";window.history[method](null,document.title,newLocation)};var _queryString=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/query-string/index.js"));function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var windowLocation=window.location;function queryParams(name){var parsed=_queryString.default.parse(windowLocation.search);return name?parsed[name]:parsed}},"./src/code-studio/viewAsRedux.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.changeViewType=exports.ViewType=exports.SET_VIEW_TYPE=void 0,exports.default=function reducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ViewType.Participant,action=arguments.length>1?arguments[1]:void 0;if(action.type===SET_VIEW_TYPE){var viewType=action.viewType;if("Teacher"===viewType)viewType="Instructor",(0,_utils.updateQueryParam)("viewAs","Instructor");else if("Student"===viewType)viewType="Participant",(0,_utils.updateQueryParam)("viewAs","Participant");else if(!ViewType[viewType])throw new Error("unknown ViewType: "+viewType);return viewType}return state},exports.setViewType=void 0;var _utils=__webpack_require__("./src/code-studio/utils.js"),_utils2=__webpack_require__("./src/utils.js"),ViewType=exports.ViewType=(0,_utils2.makeEnum)("Participant","Instructor"),SET_VIEW_TYPE=exports.SET_VIEW_TYPE="viewAs/SET_VIEW_TYPE";var setViewType=exports.setViewType=function setViewType(viewType){return{type:SET_VIEW_TYPE,viewType}};exports.changeViewType=function changeViewType(viewType,isAsync){return function(dispatch){viewType!==ViewType.Participant||!(0,_utils.queryParams)("user_id")||((0,_utils.updateQueryParam)("user_id",void 0),isAsync)?dispatch(setViewType(viewType)):(0,_utils2.reload)()}}},"./src/templates/feedback/types.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.levelFeedbackType=exports.levelFeedbackShape=exports.feedbackShape=exports.ReviewStates=void 0;var _propTypes=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/prop-types/index.js")),_utils=__webpack_require__("./src/utils.js");var feedbackShape=exports.feedbackShape=_propTypes.default.shape({id:_propTypes.default.number.isRequired,seen_on_feedback_page_at:_propTypes.default.string,student_first_visited_at:_propTypes.default.string,created_at:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.instanceOf(Date)]).isRequired,comment:_propTypes.default.string,performance:_propTypes.default.string,is_awaiting_teacher_review:_propTypes.default.bool,review_state:_propTypes.default.string}),levelFeedbackType=(exports.levelFeedbackShape=_propTypes.default.shape(levelFeedbackType),exports.levelFeedbackType={lessonName:_propTypes.default.string.isRequired,lessonNum:_propTypes.default.number.isRequired,levelNum:_propTypes.default.number.isRequired,linkToLevel:_propTypes.default.string.isRequired,unitName:_propTypes.default.string,feedbacks:_propTypes.default.arrayOf(feedbackShape)});exports.ReviewStates=(0,_utils.makeEnum)("completed","keepWorking","awaitingReview")},"./src/templates/progress/progressHelpers.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultBubbleIcon=exports.commentLeft=void 0,exports.getIconForLevel=function getIconForLevel(level){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&isLevelAssessment(level))return"check-circle";if(level.isUnplugged)return"scissors";if(level.isLocked)return"lock";if(level.icon){var match=/fa-(.*)/.exec(level.icon);if(!match||!match[1])throw new Error("Unknown iconType: "+level.icon);return match[1]}if(level.bonus)return"flag-checkered";return defaultBubbleIcon},exports.getLevelResult=void 0,exports.isLevelAssessment=isLevelAssessment,exports.lessonHasLevels=function lessonHasLevels(lesson){var _lesson$levels;return!(null===(_lesson$levels=lesson.levels)||void 0===_lesson$levels||!_lesson$levels.length)},exports.lessonIsAllAssessment=function lessonIsAllAssessment(levels){return levels.every((function(level){return level.kind===_sharedConstants.LevelKind.assessment}))},exports.lessonIsLockedForAllStudents=function lessonIsLockedForAllStudents(lessonId,state){var currentSectionId=state.teacherSections.selectedSectionId,currentSection=state.lessonLock.lessonsBySectionId[currentSectionId];return!!(0,_lessonLockRedux.fullyLockedLessonMapping)(currentSection)[lessonId]},exports.lessonIsLockedForUser=function lessonIsLockedForUser(lesson,levels,state,viewAs){if(!lesson.lockable)return!1;if(!state.currentUser.userId)return!0;if(viewAs===_viewAsRedux.ViewType.Instructor)return!state.lessonLock.lockableAuthorized;if(viewAs===_viewAsRedux.ViewType.Participant)return lessonLocked(levels);return!0},exports.lessonIsVisible=function lessonIsVisible(lesson,state,viewAs){if(!viewAs)throw new Error("missing param viewAs in lessonIsVisible");var hiddenLessonState=state.hiddenLesson,sectionId=state.teacherSections.selectedSectionId;return!(0,_hiddenLessonRedux.isLessonHiddenForSection)(hiddenLessonState,sectionId,lesson.id)||viewAs===_viewAsRedux.ViewType.Instructor},exports.lessonLocked=lessonLocked,exports.lessonProgressForSection=function lessonProgressForSection(sectionLevelProgress,lessons){var sectionLessonProgress={};return Object.entries(sectionLevelProgress).forEach((function(_ref){var _ref2=function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(_ref,2),studentId=_ref2[0],studentLevelProgress=_ref2[1],studentLessonProgress={};lessons.forEach((function(lesson){studentLessonProgress[lesson.id]=function lessonProgressForStudent(studentLevelProgress,lessonLevels){var filteredLevels=lessonLevels.filter((function(level){return!level.bonus}));if(!filteredLevels.length)return null;var completedStatuses=[_sharedConstants.LevelStatus.perfect,_sharedConstants.LevelStatus.submitted,_sharedConstants.LevelStatus.free_play_complete,_sharedConstants.LevelStatus.completed_assessment],attempted=0,imperfect=0,completed=0,timeSpent=0,lastTimestamp=0;filteredLevels.forEach((function(level){var levelProgress=studentLevelProgress[level.id];levelProgress&&(attempted+=levelProgress.status===_sharedConstants.LevelStatus.attempted,imperfect+=levelProgress.status===_sharedConstants.LevelStatus.passed,completed+=completedStatuses.includes(levelProgress.status),timeSpent+=levelProgress.timeSpent||0,lastTimestamp=Math.max(lastTimestamp,levelProgress.lastTimestamp||0))}));var incomplete=filteredLevels.length-completed-imperfect;if(!(attempted+imperfect+completed>0))return null;var getPercent=function getPercent(count){return 100*count/filteredLevels.length};return{incompletePercent:getPercent(incomplete),imperfectPercent:getPercent(imperfect),completedPercent:getPercent(completed),timeSpent,lastTimestamp}}(studentLevelProgress,lesson.levels)})),sectionLessonProgress[studentId]=studentLessonProgress})),sectionLessonProgress},exports.processedLevel=exports.processServerStudentProgress=exports.processServerSectionProgress=exports.levelProgressFromStatus=exports.levelProgressFromServer=exports.levelProgressFromResult=void 0,exports.shouldShowReviewStates=function shouldShowReviewStates(unit){return unit.isCsd||unit.isCsp},exports.studentNeedsFeedback=void 0;var _lodash=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/lodash/lodash.js")),_activityUtils=__webpack_require__("./src/code-studio/activityUtils.js"),_hiddenLessonRedux=__webpack_require__("./src/code-studio/hiddenLessonRedux.js"),_lessonLockRedux=__webpack_require__("./src/code-studio/lessonLockRedux.js"),_viewAsRedux=__webpack_require__("./src/code-studio/viewAsRedux.js"),_sharedConstants=__webpack_require__("./generated-scripts/sharedConstants.ts"),_progressTypes=__webpack_require__("./src/templates/progress/progressTypes.js");function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function lessonLocked(levels){return!!levels[levels.length-1].isLocked}var defaultBubbleIcon=exports.defaultBubbleIcon="desktop";function isLevelAssessment(level){return"assessment"===level.kind}exports.commentLeft=function commentLeft(progress){return(null==progress?void 0:progress.teacherFeedbackCommented)&&(null==progress?void 0:progress.teacherFeedbackNew)},exports.studentNeedsFeedback=function studentNeedsFeedback(progress,level){return progress&&progress.status!==_sharedConstants.LevelStatus.not_tried&&!progress.teacherFeedbackNew&&"assessment"===level.kind&&level.canHaveFeedback};exports.processedLevel=function processedLevel(level,parentLevelId){var id=level.activeId||level.id;return{id,url:level.url,name:level.name,app:level.app,usesLab2:level.uses_lab2,progression:level.progression,progressionDisplayName:level.progression_display_name,kind:level.kind,icon:level.icon,isUnplugged:level.display_as_unplugged,levelNumber:level.kind===_sharedConstants.LevelKind.unplugged?void 0:level.title||level.position,bubbleText:level.kind===_sharedConstants.LevelKind.unplugged?void 0:level.letter||level.title.toString(),isConceptLevel:level.is_concept_level,isValidated:level.is_validated,canHaveFeedback:level.can_have_feedback,bonus:level.bonus,pageNumber:void 0!==level.page_number?level.page_number:_progressTypes.PUZZLE_PAGE_NONE,scriptLevelId:parentLevelId?void 0:level.id,sublevels:level.sublevels&&level.sublevels.map((function(sublevel){return processedLevel(sublevel,id)})),path:level.path,parentLevelId}};var getLevelResult=exports.getLevelResult=function getLevelResult(serverProgress){return serverProgress.result||(0,_activityUtils.resultFromStatus)(serverProgress.status)},getPagesProgress=function getPagesProgress(serverProgress){var _serverProgress$pages;return(null===(_serverProgress$pages=serverProgress.pages_completed)||void 0===_serverProgress$pages?void 0:_serverProgress$pages.length)>1?serverProgress.pages_completed.map((function(pageResult){var pageProgress=pageResult&&levelProgressFromResult(pageResult)||levelProgressFromStatus(_sharedConstants.LevelStatus.not_tried);return pageProgress.locked=serverProgress.locked||!1,pageProgress})):null},levelProgressFromServer=exports.levelProgressFromServer=function levelProgressFromServer(serverProgress){return{status:serverProgress.status||_sharedConstants.LevelStatus.not_tried,result:getLevelResult(serverProgress),locked:serverProgress.locked||!1,paired:serverProgress.paired||!1,timeSpent:serverProgress.time_spent,teacherFeedbackReviewState:serverProgress.teacher_feedback_review_state,teacherFeedbackNew:serverProgress.teacher_feedback_new||!1,teacherFeedbackCommented:serverProgress.teacher_feedback_commented||!1,lastTimestamp:serverProgress.last_progress_at,pages:getPagesProgress(serverProgress)}},processServerStudentProgress=exports.processServerStudentProgress=function processServerStudentProgress(serverStudentProgress){return _lodash.default.mapValues(serverStudentProgress,(function(progress){return levelProgressFromServer(progress)}))},levelProgressFromStatus=(exports.processServerSectionProgress=function processServerSectionProgress(serverSectionProgress){return _lodash.default.mapValues(serverSectionProgress,(function(student){return processServerStudentProgress(student)}))},exports.levelProgressFromStatus=function levelProgressFromStatus(status){return levelProgressFromServer({status})}),levelProgressFromResult=exports.levelProgressFromResult=function levelProgressFromResult(result){return levelProgressFromStatus((0,_activityUtils.activityCssClass)(result))}},"./src/templates/progress/progressTypes.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.unitProgressType=exports.studentType=exports.studentLevelProgressType=exports.studentLessonProgressType=exports.levelWithProgressType=exports.levelType=exports.lessonType=exports.groupedLessonsType=exports.PUZZLE_PAGE_NONE=void 0;var _propTypes=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/prop-types/index.js")),_types=__webpack_require__("./src/templates/feedback/types.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}exports.PUZZLE_PAGE_NONE=-1,exports.studentType=_propTypes.default.shape({id:_propTypes.default.number.isRequired,name:_propTypes.default.string.isRequired});var levelShape={id:_propTypes.default.string.isRequired,levelNumber:_propTypes.default.number,bubbleText:_propTypes.default.string,kind:_propTypes.default.string,url:_propTypes.default.string,name:_propTypes.default.string,icon:_propTypes.default.string,isUnplugged:_propTypes.default.bool,isConceptLevel:_propTypes.default.bool,pageNumber:_propTypes.default.number};levelShape.sublevels=_propTypes.default.arrayOf(_propTypes.default.shape(levelWithProgressType));exports.levelType=_propTypes.default.shape(levelShape);var levelWithProgressType=exports.levelWithProgressType=_propTypes.default.shape(_objectSpread(_objectSpread({},levelShape),{},{status:_propTypes.default.string.isRequired,paired:_propTypes.default.bool,isLocked:_propTypes.default.bool,isCurrentLevel:_propTypes.default.bool})),studentLevelProgressShape={status:_propTypes.default.string.isRequired,result:_propTypes.default.number.isRequired,locked:_propTypes.default.bool.isRequired,paired:_propTypes.default.bool.isRequired,timeSpent:_propTypes.default.number,lastTimestamp:_propTypes.default.number,teacherFeedbackReviewState:_propTypes.default.oneOf(Object.keys(_types.ReviewStates)),teacherFeedbackNew:_propTypes.default.bool.isRequired};studentLevelProgressShape.pages=_propTypes.default.arrayOf(_propTypes.default.shape(studentLevelProgressShape));var studentLevelProgressType=exports.studentLevelProgressType=_propTypes.default.shape(studentLevelProgressShape),lessonType=(exports.unitProgressType=_propTypes.default.objectOf(studentLevelProgressType),exports.lessonType=_propTypes.default.shape({name:_propTypes.default.string.isRequired,id:_propTypes.default.number.isRequired,lockable:_propTypes.default.bool.isRequired,lessonNumber:_propTypes.default.number,lesson_plan_html_url:_propTypes.default.string,lesson_feedback_url:_propTypes.default.string,isFocusArea:_propTypes.default.bool.isRequired,description_student:_propTypes.default.string,description_teacher:_propTypes.default.string})),lessonGroupShape=(exports.studentLessonProgressType=_propTypes.default.shape({incompletePercent:_propTypes.default.number.isRequired,imperfectPercent:_propTypes.default.number.isRequired,completedPercent:_propTypes.default.number.isRequired,timeSpent:_propTypes.default.number.isRequired,lastTimestamp:_propTypes.default.number.isRequired}),{id:_propTypes.default.number,displayName:_propTypes.default.string,bigQuestions:_propTypes.default.string,description:_propTypes.default.string});exports.groupedLessonsType=_propTypes.default.shape({lessonGroup:_propTypes.default.shape(lessonGroupShape),lessons:_propTypes.default.arrayOf(lessonType).isRequired,levelsByLesson:_propTypes.default.arrayOf(_propTypes.default.arrayOf(levelWithProgressType)).isRequired})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eUwsWUFBYTFMLFdBQUFBLFFBQVVDLE1BQU1xTCxrQkFDN0J2UyxRQUFTaUgsV0FBQUEsUUFBVXdCLFFBQVFzSixZQUFZMUssV0FDdkN1TCxlQUFnQjNMLFdBQUFBLFFBQVV3QixRQUFReEIsV0FBQUEsUUFBVXdCLFFBQVFnSix3QkFDakRwSyxZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL2NvZGUtc3R1ZGlvL2FjdGl2aXR5VXRpbHMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL2NvZGUtc3R1ZGlvL2hpZGRlbkxlc3NvblJlZHV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9jb2RlLXN0dWRpby9sZXNzb25Mb2NrUmVkdXguanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL2NvZGUtc3R1ZGlvL3V0aWxzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9jb2RlLXN0dWRpby92aWV3QXNSZWR1eC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvdGVtcGxhdGVzL2ZlZWRiYWNrL3R5cGVzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy90ZW1wbGF0ZXMvcHJvZ3Jlc3MvcHJvZ3Jlc3NIZWxwZXJzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy90ZW1wbGF0ZXMvcHJvZ3Jlc3MvcHJvZ3Jlc3NUeXBlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgc2V0IG9mIHV0aWxpdHkgZnVuY3Rpb25zIG1hZGUgZm9yIGRlYWxpbmcgd2l0aCBhY3Rpdml0aWVzIGVhc2llci5cbiAqL1xuXG5pbXBvcnQge1Rlc3RSZXN1bHRzfSBmcm9tICdAY2RvL2FwcHMvY29uc3RhbnRzJztcbmltcG9ydCB7TGV2ZWxTdGF0dXN9IGZyb20gJ0BjZG8vZ2VuZXJhdGVkLXNjcmlwdHMvc2hhcmVkQ29uc3RhbnRzJztcblxuLyoqXG4gKiBTZWUgQXBwbGljYXRpb25IZWxwZXIjYWN0aXZpdHlfY3NzX2NsYXNzLlxuICogQHBhcmFtIHJlc3VsdFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgYWN0aXZpdHlDc3NDbGFzcyA9IHJlc3VsdCA9PiB7XG4gIGlmICghcmVzdWx0IHx8IHJlc3VsdCA9PT0gVGVzdFJlc3VsdHMuTk9fVEVTVFNfUlVOKSB7XG4gICAgcmV0dXJuIExldmVsU3RhdHVzLm5vdF90cmllZDtcbiAgfVxuICBpZiAocmVzdWx0ID09PSBUZXN0UmVzdWx0cy5SRVZJRVdfQUNDRVBURURfUkVTVUxUKSB7XG4gICAgcmV0dXJuIExldmVsU3RhdHVzLnJldmlld19hY2NlcHRlZDtcbiAgfVxuICBpZiAocmVzdWx0ID09PSBUZXN0UmVzdWx0cy5SRVZJRVdfUkVKRUNURURfUkVTVUxUKSB7XG4gICAgcmV0dXJuIExldmVsU3RhdHVzLnJldmlld19yZWplY3RlZDtcbiAgfVxuICBpZiAocmVzdWx0ID09PSBUZXN0UmVzdWx0cy5TVUJNSVRURURfUkVTVUxUKSB7XG4gICAgcmV0dXJuIExldmVsU3RhdHVzLnN1Ym1pdHRlZDtcbiAgfVxuICBpZiAocmVzdWx0ID49IFRlc3RSZXN1bHRzLk1JTklNVU1fT1BUSU1BTF9SRVNVTFQpIHtcbiAgICByZXR1cm4gTGV2ZWxTdGF0dXMucGVyZmVjdDtcbiAgfVxuICBpZiAocmVzdWx0ID49IFRlc3RSZXN1bHRzLk1JTklNVU1fUEFTU19SRVNVTFQpIHtcbiAgICByZXR1cm4gTGV2ZWxTdGF0dXMucGFzc2VkO1xuICB9XG4gIHJldHVybiBMZXZlbFN0YXR1cy5hdHRlbXB0ZWQ7XG59O1xuXG4vKipcbiAqIEludmVyc2Ugb2YgdGhlIGFib3ZlIGZ1bmN0aW9uLlxuICogR2l2ZW4gYSBzdGF0dXMgc3RyaW5nLCByZXR1cm5zIGEgcmVzdWx0IHZhbHVlLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0YXR1c1xuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgY29uc3QgcmVzdWx0RnJvbVN0YXR1cyA9IHN0YXR1cyA9PiB7XG4gIGlmIChzdGF0dXMgPT09IExldmVsU3RhdHVzLnJldmlld19hY2NlcHRlZCkge1xuICAgIHJldHVybiBUZXN0UmVzdWx0cy5SRVZJRVdfQUNDRVBURURfUkVTVUxUO1xuICB9XG4gIGlmIChzdGF0dXMgPT09IExldmVsU3RhdHVzLnJldmlld19yZWplY3RlZCkge1xuICAgIHJldHVybiBUZXN0UmVzdWx0cy5SRVZJRVdfUkVKRUNURURfUkVTVUxUO1xuICB9XG4gIGlmIChzdGF0dXMgPT09IExldmVsU3RhdHVzLnN1Ym1pdHRlZCkge1xuICAgIHJldHVybiBUZXN0UmVzdWx0cy5TVUJNSVRURURfUkVTVUxUO1xuICB9XG4gIGlmIChzdGF0dXMgPT09IExldmVsU3RhdHVzLmZyZWVfcGxheV9jb21wbGV0ZSkge1xuICAgIHJldHVybiBUZXN0UmVzdWx0cy5GUkVFX1BMQVk7XG4gIH1cbiAgaWYgKHN0YXR1cyA9PT0gTGV2ZWxTdGF0dXMucGVyZmVjdCkge1xuICAgIHJldHVybiBUZXN0UmVzdWx0cy5BTExfUEFTUztcbiAgfVxuICBpZiAoc3RhdHVzID09PSBMZXZlbFN0YXR1cy5wYXNzZWQpIHtcbiAgICByZXR1cm4gVGVzdFJlc3VsdHMuTUlOSU1VTV9QQVNTX1JFU1VMVDtcbiAgfVxuICByZXR1cm4gVGVzdFJlc3VsdHMuTk9fVEVTVFNfUlVOO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBcImJlc3RcIiBvZiB0aGUgdHdvIHJlc3VsdHMsIGFzIGRlZmluZWQgaW4gYXBwcy9zcmMvY29uc3RhbnRzLmpzLlxuICogTm90ZSB0aGF0IHRoZXJlIGFyZSBuZWdhdGl2ZSByZXN1bHRzIHRoYXQgY291bnQgYXMgYW4gYXR0ZW1wdCwgc28gd2UgY2FuJ3RcbiAqIGp1c3QgdGFrZSB0aGUgbWF4aW11bS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBhXG4gKiBAcGFyYW0ge051bWJlcn0gYlxuICogQHJldHVybiB7TnVtYmVyfSBUaGUgYmV0dGVyIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGNvbnN0IG1lcmdlQWN0aXZpdHlSZXN1bHQgPSAoYSwgYikgPT4ge1xuICBhID0gYSB8fCAwO1xuICBiID0gYiB8fCAwO1xuICBpZiAoYSA9PT0gMCkge1xuICAgIHJldHVybiBiO1xuICB9XG4gIGlmIChiID09PSAwKSB7XG4gICAgcmV0dXJuIGE7XG4gIH1cbiAgcmV0dXJuIE1hdGgubWF4KGEsIGIpO1xufTtcbiIsIi8qKlxuICogUmVkdWNlciBhbmQgYWN0aW9ucyB1c2VkIHRvIHRyYWNrIHdoYXQgc2VjdGlvbnMvc2NyaXB0cyBhcmUgYXJlIGhpZGRlbiBvbiBhXG4gKiBwZXIgc2VjdGlvbiBiYXNpcy5cbiAqL1xuaW1wb3J0IEltbXV0YWJsZSBmcm9tICdpbW11dGFibGUnO1xuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuY29uc3QgU0VUX0hJRERFTl9MRVNTT05TID0gJ2hpZGRlbkxlc3Nvbi9TRVRfSElEREVOX0xFU1NPTlMnO1xuY29uc3QgVVBEQVRFX0hJRERFTl9MRVNTT04gPSAnaGlkZGVuTGVzc29uL1VQREFURV9ISURERU5fTEVTU09OJztcbmNvbnN0IFVQREFURV9ISURERU5fU0NSSVBUID0gJ2hpZGRlbkxlc3Nvbi9VUERBVEVfSElEREVOX1NDUklQVCc7XG5cbmV4cG9ydCBjb25zdCBTVFVERU5UX1NFQ1RJT05fSUQgPSAnU1RVREVOVCc7XG5cbmNvbnN0IEhpZGRlblN0YXRlID0gSW1tdXRhYmxlLlJlY29yZCh7XG4gIGhpZGRlbkxlc3NvbnNJbml0aWFsaXplZDogZmFsc2UsXG4gIGhpZGVhYmxlTGVzc29uc0FsbG93ZWQ6IGZhbHNlLFxuICAvLyBBIG1hcHBpbmcsIHdoZXJlIHRoZSBrZXkgaXMgdGhlIHNlY3Rpb25JZCwgYW5kIHRoZSB2YWx1ZSBpcyBhIG1hcHBpbmcgZnJvbVxuICAvLyBsZXNzb25JZCB0byBhIGJvb2wgaW5kaWNhdGluZyB3aGV0aGVyIHRoYXQgbGVzc29uIGlzIGhpZGRlbiAodHJ1ZSkgb3Igbm90IChmYWxzZSlcbiAgLy8gVGVhY2hlcnMgd2lsbCBwb3RlbnRpYWxseSBoYXZlIGEgbnVtYmVyIG9mIHNlY3Rpb24gaWRzLiBGb3Igc3R1ZGVudHMgd2VcbiAgLy8gdXNlIGEgc2VjdGlvbklkIG9mIFNUVURFTlRfU0VDVElPTl9JRCwgd2hpY2ggcmVwcmVzZW50cyB0aGUgaGlkZGVuIHN0YXRlXG4gIC8vIGZvciB0aGUgc3R1ZGVudCBiYXNlZCBvbiB0aGUgc2VjdGlvbnMgdGhleSBhcmUgaW4uXG4gIGxlc3NvbnNCeVNlY3Rpb246IEltbXV0YWJsZS5NYXAoe1xuICAgIC8vIFtzZWN0aW9uSWRdOiB7XG4gICAgLy8gICBbbGVzc29uSWRdOiB0cnVlXG4gICAgLy8gfVxuICB9KSxcbiAgLy8gU2FtZSBhcyBhYm92ZSBidXQgZm9yIGhpZGluZyBzY3JpcHRzIGluIGEgc2VjdGlvbiBpbnN0ZWFkIG9mIGxlc3NvbnNcbiAgc2NyaXB0c0J5U2VjdGlvbjogSW1tdXRhYmxlLk1hcCh7XG4gICAgLy8gW3NlY3Rpb25JZF06IHtcbiAgICAvLyAgIFtzY3JpcHRJZF06IHRydWVcbiAgICAvLyB9XG4gIH0pLFxufSk7XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoYXQgd2UgbmV2ZXIgaGF2ZSBtdWx0aXBsZSBsZXNzb25zQnlTZWN0aW9uIGlmIHdlIGhhdmUgU1RVREVOVF9TRUNUSU9OX0lEXG4gKiBAdGhyb3dzIElmIG5ldyBzdGF0ZSBpcyBpbnZhbGlkXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlU2VjdGlvbklkcyhzdGF0ZSkge1xuICBpZiAoXG4gICAgc3RhdGUuZ2V0SW4oWydsZXNzb25zQnlTZWN0aW9uJywgU1RVREVOVF9TRUNUSU9OX0lEXSkgJiZcbiAgICBzdGF0ZS5nZXQoJ2xlc3NvbnNCeVNlY3Rpb24nKS5zaXplID4gMVxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnU2hvdWxkIG5ldmVyIGhhdmUgU1RVREVOVF9TRUNUSU9OX0lEIGFsb25nc2lkZSBvdGhlciBzZWN0aW9uSWRzJ1xuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBIaWRkZW4gbGVzc29uIHJlZHVjZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSA9IG5ldyBIaWRkZW5TdGF0ZSgpLCBhY3Rpb24pIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBTRVRfSElEREVOX0xFU1NPTlMpIHtcbiAgICBjb25zdCB7aGlkZGVuTGVzc29uc1BlclNlY3Rpb24sIGhpZGVhYmxlTGVzc29uc0FsbG93ZWR9ID0gYWN0aW9uO1xuXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGVhY2ggc2VjdGlvblxuICAgIGNvbnN0IHNlY3Rpb25JZHMgPSBPYmplY3Qua2V5cyhoaWRkZW5MZXNzb25zUGVyU2VjdGlvbik7XG4gICAgbGV0IG5leHRTdGF0ZSA9IHN0YXRlO1xuICAgIHNlY3Rpb25JZHMuZm9yRWFjaChzZWN0aW9uSWQgPT4ge1xuICAgICAgLy8gQW5kIGl0ZXJhdGUgdGhyb3VnaCBlYWNoIGhpZGRlbiBsZXNzb24gd2l0aGluIHRoYXQgc2VjdGlvblxuICAgICAgY29uc3QgaGlkZGVuTGVzc29uSWRzID0gaGlkZGVuTGVzc29uc1BlclNlY3Rpb25bc2VjdGlvbklkXTtcbiAgICAgIGhpZGRlbkxlc3Nvbklkcy5mb3JFYWNoKGxlc3NvbklkID0+IHtcbiAgICAgICAgbmV4dFN0YXRlID0gbmV4dFN0YXRlLnNldEluKFxuICAgICAgICAgIFsnbGVzc29uc0J5U2VjdGlvbicsIHNlY3Rpb25JZCwgbGVzc29uSWQudG9TdHJpbmcoKV0sXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdmFsaWRhdGVTZWN0aW9uSWRzKG5leHRTdGF0ZSk7XG5cbiAgICByZXR1cm4gbmV4dFN0YXRlLm1lcmdlKHtcbiAgICAgIGhpZGRlbkxlc3NvbnNJbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgIGhpZGVhYmxlTGVzc29uc0FsbG93ZWQsXG4gICAgfSk7XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFVQREFURV9ISURERU5fTEVTU09OKSB7XG4gICAgY29uc3Qge3NlY3Rpb25JZCwgbGVzc29uSWQsIGhpZGRlbn0gPSBhY3Rpb247XG4gICAgY29uc3QgbmV4dFN0YXRlID0gc3RhdGUuc2V0SW4oXG4gICAgICBbJ2xlc3NvbnNCeVNlY3Rpb24nLCBzZWN0aW9uSWQsIGxlc3NvbklkLnRvU3RyaW5nKCldLFxuICAgICAgaGlkZGVuXG4gICAgKTtcbiAgICB2YWxpZGF0ZVNlY3Rpb25JZHMobmV4dFN0YXRlKTtcbiAgICByZXR1cm4gbmV4dFN0YXRlO1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBVUERBVEVfSElEREVOX1NDUklQVCkge1xuICAgIGNvbnN0IHtzZWN0aW9uSWQsIHNjcmlwdElkLCBoaWRkZW59ID0gYWN0aW9uO1xuICAgIGNvbnN0IG5leHRTdGF0ZSA9IHN0YXRlLnNldEluKFxuICAgICAgWydzY3JpcHRzQnlTZWN0aW9uJywgc2VjdGlvbklkLnRvU3RyaW5nKCksIHNjcmlwdElkLnRvU3RyaW5nKCldLFxuICAgICAgaGlkZGVuXG4gICAgKTtcbiAgICB2YWxpZGF0ZVNlY3Rpb25JZHMobmV4dFN0YXRlKTtcbiAgICByZXR1cm4gbmV4dFN0YXRlO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vLyBhY3Rpb24gY3JlYXRvcnNcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gaGlkZGVuTGVzc29uc1BlclNlY3Rpb24gLSBNYXBwaW5nIGZyb20gc2VjdGlvbklkIHRvIGEgbGlzdCBvZiBsZXNzb25JZHNcbiAqICAgdGhhdCBhcmUgaGlkZGVuIGZvciB0aGF0IHNlY3Rpb24uXG4gKiBAcGFyYW0ge2Jvb2x9IGhpZGVhYmxlTGVzc29uc0FsbG93ZWQgLSBUcnVlIGlmIHdlJ3JlIGFibGUgdG8gdG9nZ2xlIGhpZGRlbiBsZXNzb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRIaWRkZW5MZXNzb25zKFxuICBoaWRkZW5MZXNzb25zUGVyU2VjdGlvbixcbiAgaGlkZWFibGVMZXNzb25zQWxsb3dlZFxuKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogU0VUX0hJRERFTl9MRVNTT05TLFxuICAgIGhpZGRlbkxlc3NvbnNQZXJTZWN0aW9uLFxuICAgIGhpZGVhYmxlTGVzc29uc0FsbG93ZWQsXG4gIH07XG59XG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlSGlkZGVuTGVzc29uKHNlY3Rpb25JZCwgbGVzc29uSWQsIGhpZGRlbikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFVQREFURV9ISURERU5fTEVTU09OLFxuICAgIHNlY3Rpb25JZCxcbiAgICBsZXNzb25JZCxcbiAgICBoaWRkZW4sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVIaWRkZW5TY3JpcHQoc2VjdGlvbklkLCBzY3JpcHRJZCwgaGlkZGVuKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogVVBEQVRFX0hJRERFTl9TQ1JJUFQsXG4gICAgc2VjdGlvbklkLFxuICAgIHNjcmlwdElkLFxuICAgIGhpZGRlbixcbiAgfTtcbn1cblxuLyoqXG4gKiBUb2dnbGUgdGhlIGhpZGRlbiBzdGF0ZSBvZiBhIHBhcnRpY3VsYXIgbGVzc29uIGluIGEgc2VjdGlvbiwgdXBkYXRpbmcgb3VyIGxvY2FsXG4gKiBzdGF0ZSB0byByZWZsZWN0IHRoZSBjaGFuZ2UsIGFuZCBwb3N0aW5nIHRvIHRoZSBzZXJ2ZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVIaWRkZW5MZXNzb24oc2NyaXB0TmFtZSwgc2VjdGlvbklkLCBsZXNzb25JZCwgaGlkZGVuKSB7XG4gIHJldHVybiBkaXNwYXRjaCA9PiB7XG4gICAgLy8gdXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgZGlzcGF0Y2godXBkYXRlSGlkZGVuTGVzc29uKHNlY3Rpb25JZCwgbGVzc29uSWQsIGhpZGRlbikpO1xuICAgIHBvc3RUb2dnbGVIaWRkZW4oc2NyaXB0TmFtZSwgc2VjdGlvbklkLCBsZXNzb25JZCwgaGlkZGVuKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUb2dnbGUgdGhlIGhpZGRlbiBzdGF0ZSBvZiBhIHBhcnRpY3VsYXIgc2NyaXB0IGluIGEgc2VjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZUhpZGRlblNjcmlwdChzY3JpcHROYW1lLCBzZWN0aW9uSWQsIHNjcmlwdElkLCBoaWRkZW4pIHtcbiAgcmV0dXJuIGRpc3BhdGNoID0+IHtcbiAgICBkaXNwYXRjaCh1cGRhdGVIaWRkZW5TY3JpcHQoc2VjdGlvbklkLCBzY3JpcHRJZCwgaGlkZGVuKSk7XG4gICAgcG9zdFRvZ2dsZUhpZGRlbihzY3JpcHROYW1lLCBzZWN0aW9uSWQsIG51bGwsIGhpZGRlbik7XG4gIH07XG59XG5cbi8qKlxuICogUG9zdCB0byB0aGUgc2VydmVyIHRvIHRvZ2dsZSB0aGUgaGlkZGVuIHN0YXRlIG9mIGEgbGVzc29uIG9yIHNjcmlwdC4gbGVzc29uSWRcbiAqIHNob3VsZCBiZSBudWxsIGlmIHdlJ3JlIGhpZGluZyB0aGUgc2NyaXB0IHJhdGhlciB0aGFuIGEgcGFydGljdWxhciBsZXNzb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBzY3JpcHROYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VjdGlvbklkXG4gKiBAcGFyYW0ge3N0cmluZ30gbGVzc29uSWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaGlkZGVuXG4gKi9cbmZ1bmN0aW9uIHBvc3RUb2dnbGVIaWRkZW4oc2NyaXB0TmFtZSwgc2VjdGlvbklkLCBsZXNzb25JZCwgaGlkZGVuKSB7XG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgc2VjdGlvbl9pZDogc2VjdGlvbklkLFxuICAgIGhpZGRlbixcbiAgfTtcbiAgaWYgKGxlc3NvbklkKSB7XG4gICAgZGF0YS5zdGFnZV9pZCA9IGxlc3NvbklkO1xuICB9XG5cbiAgJC5hamF4KHtcbiAgICB0eXBlOiAnUE9TVCcsXG4gICAgdXJsOiBgL3MvJHtzY3JpcHROYW1lfS90b2dnbGVfaGlkZGVuYCxcbiAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gIH0pLnN1Y2Nlc3MoKCkgPT4ge1xuICAgIHdpbmRvdy5fX1Rlc3RJbnRlcmZhY2UgPSB3aW5kb3cuX19UZXN0SW50ZXJmYWNlIHx8IHt9O1xuICAgIHdpbmRvdy5fX1Rlc3RJbnRlcmZhY2UudG9nZ2xlSGlkZGVuVW5pdENvbXBsZXRlID0gdHJ1ZTtcbiAgfSk7XG59XG5cbi8qKlxuICogUXVlcnkgc2VydmVyIGZvciBoaWRkZW4gbGVzc29uIGlkcywgYW5kIChwb3RlbnRpYWxseSkgdG9nZ2xlIHdoZXRoZXIgb3Igbm90IHdlXG4gKiBhcmUgYWJsZSB0byBtYXJrIGxlc3NvbnMgYXMgaGlkZWFibGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2NyaXB0TmFtZVxuICogQHBhcmFtIHtib29sZWFufSBjYW5IaWRlTGVzc29ucyBJZiB0cnVlLCBpbmZvcm0gcmVkdXggdGhhdCB3ZSdyZSBhYmxlIHRvIHRvZ2dsZVxuICogICB3aGV0aGVyIG9yIG5vdCBsZXNzb25zIGFyZSBoaWRkZW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRIaWRkZW5MZXNzb25zKHNjcmlwdE5hbWUsIGNhbkhpZGVMZXNzb25zKSB7XG4gIHJldHVybiBkaXNwYXRjaCA9PiB7XG4gICAgJC5hamF4KHtcbiAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgdXJsOiBgL3MvJHtzY3JpcHROYW1lfS9oaWRkZW5fbGVzc29uc2AsXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9KVxuICAgICAgLmRvbmUocmVzcG9uc2UgPT5cbiAgICAgICAgZGlzcGF0Y2goaW5pdGlhbGl6ZUhpZGRlbkxlc3NvbnMocmVzcG9uc2UsIGNhbkhpZGVMZXNzb25zKSlcbiAgICAgIClcbiAgICAgIC5mYWlsKGVyciA9PiBjb25zb2xlLmVycm9yKGVycikpO1xuICB9O1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgaGlkZGVuIGxlc3NvbnMgYmFzZWQgb24gc2VydmVyIGRhdGEuIEluIHRoZSBjYXNlIG9mIGEgc3R1ZGVudCwgdGhpc1xuICogd2lsbCBiZSBhIGxpc3Qgb2YgaGlkZGVuIGxlc3NvbiBpZHMuIEluIHRoZSBjYXNlIG9mIGEgdGVhY2hlciwgaXQgd2lsbCBiZVxuICogYSBtYXBwaW5nIGZyb20gc2VjdGlvbiBpZCB0byBhIGxpc3Qgb2YgaGlkZGVuIGxlc3NvbiBpZHMgZm9yIHRoYXQgc2VjdGlvblxuICogQHBhcmFtIHtzdHJpbmdbXXxPYmplY3Q8c3RyaW5nLCBzdHJpbmdbXT59IGRhdGFcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuSGlkZUxlc3NvbnMgLSBUcnVlIGlmIHdlJ3JlIGFibGUgdG8gdG9nZ2xlIGhpZGRlbiBsZXNzb25zXG4gKi9cbmZ1bmN0aW9uIGluaXRpYWxpemVIaWRkZW5MZXNzb25zKGRhdGEsIGNhbkhpZGVMZXNzb25zKSB7XG4gIHJldHVybiBkaXNwYXRjaCA9PiB7XG4gICAgLy8gRm9yIGEgaW5zdHJ1Y3Rvciwgd2UgZ2V0IGJhY2sgYSBtYXAgb2Ygc2VjdGlvbiBpZCB0byBoaWRkZW4gbGVzc29uIGlkc1xuICAgIC8vIEZvciBhIHBhcnRpY2lwYW50LCB3ZSBqdXN0IGdldCBiYWNrIGEgbGlzdCBvZiBoaWRkZW4gbGVzc29uIGlkcy4gVHVybiB0aGF0XG4gICAgLy8gaW50byBhbiBvYmplY3QsIHVuZGVyIHRoZSAnc2VjdGlvbklkJyBvZiBTVFVERU5UX1NFQ1RJT05fSURcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgZGF0YSA9IHtbU1RVREVOVF9TRUNUSU9OX0lEXTogZGF0YX07XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goc2V0SGlkZGVuTGVzc29ucyhkYXRhLCAhIWNhbkhpZGVMZXNzb25zKSk7XG4gIH07XG59XG5cbi8qKlxuICogR2l2ZW4gc2VydmVyIGRhdGEgZm9yIHRoZSBzZXQgb2Ygc2NyaXB0cyB0aGF0IGFyZSBoaWRkZW4gZm9yIHRoaXMgdXNlcixcbiAqIHBvcHVsYXRlIG91ciByZWR1eCBzdG9yZS5cbiAqIEBwYXJhbSB7c3RyaW5nW118T2JqZWN0PHN0cmluZywgc3RyaW5nW10+fSBkYXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplSGlkZGVuU2NyaXB0cyhkYXRhKSB7XG4gIHJldHVybiBkaXNwYXRjaCA9PiB7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRm9yIGEgdGVhY2hlciwgd2UgZ2V0IGJhY2sgYSBtYXAgb2Ygc2VjdGlvbiBpZCB0byBoaWRkZW4gc2NyaXB0IGlkc1xuICAgIC8vIEZvciBhIHN0dWRlbnQsIHdlIGp1c3QgZ2V0IGJhY2sgYSBsaXN0IG9mIGhpZGRlbiBzY3JpcHQgaWRzLiBUdXJuIHRoYXRcbiAgICAvLyBpbnRvIGFuIG9iamVjdCwgdW5kZXIgdGhlICdzZWN0aW9uSWQnIG9mIFNUVURFTlRfU0VDVElPTl9JRFxuICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICBkYXRhID0ge1tTVFVERU5UX1NFQ1RJT05fSURdOiBkYXRhfTtcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKHNlY3Rpb25JZCA9PiB7XG4gICAgICBjb25zdCBoaWRkZW5TY3JpcHRJZHMgPSBkYXRhW3NlY3Rpb25JZF07XG4gICAgICBoaWRkZW5TY3JpcHRJZHMuZm9yRWFjaChzY3JpcHRJZCA9PiB7XG4gICAgICAgIGRpc3BhdGNoKHVwZGF0ZUhpZGRlblNjcmlwdChzZWN0aW9uSWQsIHNjcmlwdElkLCB0cnVlKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gdXRpbHNcblxuLyoqXG4gKiBIZWxwZXIgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBsZXNzb24gaXMgaGlkZGVuIGZvciBhIGdpdmVuIHNlY3Rpb24uIElmIG5vXG4gKiBzZWN0aW9uIGlzIGdpdmVuLCB3ZSBhc3N1bWUgdGhpcyBpcyBhIHN0dWRlbnQgYW5kIHVzZSBTVFVERU5UX1NFQ1RJT05fSURcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTGVzc29uSGlkZGVuRm9yU2VjdGlvbihzdGF0ZSwgc2VjdGlvbklkLCBsZXNzb25JZCkge1xuICByZXR1cm4gaXNIaWRkZW5Gb3JTZWN0aW9uKHN0YXRlLCBzZWN0aW9uSWQsIGxlc3NvbklkLCAnbGVzc29uc0J5U2VjdGlvbicpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBkZXRlcm1pbmUgd2hldGhlciBhIHNjcmlwdCBpcyBoaWRkZW4gZm9yIGEgZ2l2ZW4gc2VjdGlvbi4gSWYgbm9cbiAqIHNlY3Rpb24gaXMgZ2l2ZW4sIHdlIGFzc3VtZSB0aGlzIGlzIGEgc3R1ZGVudCBhbmQgdXNlIFNUVURFTlRfU0VDVElPTl9JRFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTY3JpcHRIaWRkZW5Gb3JTZWN0aW9uKHN0YXRlLCBzZWN0aW9uSWQsIHNjcmlwdElkKSB7XG4gIHJldHVybiBpc0hpZGRlbkZvclNlY3Rpb24oc3RhdGUsIHNlY3Rpb25JZCwgc2NyaXB0SWQsICdzY3JpcHRzQnlTZWN0aW9uJyk7XG59XG5cbi8qKlxuICogSGVscGVyIHVzZWQgYnkgdGhlIGFib3ZlIHR3byBtZXRob2RzIHNvIHRoYXQgd2UgYmVoYXZlIHRoZSBzYW1lIHdoZW4gbG9va2luZ1xuICogZm9yIGhpZGRlbiBsZXNzb25zL3NjcmlwdHNcbiAqL1xuZnVuY3Rpb24gaXNIaWRkZW5Gb3JTZWN0aW9uKHN0YXRlLCBzZWN0aW9uSWQsIGl0ZW1JZCwgYnlTZWN0aW9uS2V5KSB7XG4gIGlmICghaXRlbUlkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vIGlmIHdlIGRvbid0IGhhdmUgYSBzZWN0aW9uSWQsIHdlIG11c3QgYmUgYSBzdHVkZW50XG4gIGlmICghc2VjdGlvbklkKSB7XG4gICAgc2VjdGlvbklkID0gU1RVREVOVF9TRUNUSU9OX0lEO1xuICB9XG4gIGNvbnN0IGJ5U2VjdGlvbiA9IHN0YXRlLmdldChieVNlY3Rpb25LZXkpO1xuICByZXR1cm4gISFieVNlY3Rpb24uZ2V0SW4oW3NlY3Rpb25JZC50b1N0cmluZygpLCBpdGVtSWQudG9TdHJpbmcoKV0pO1xufVxuIiwiLyoqXG4gKiBSZWR1Y2VyIGFuZCBhY3Rpb25zIGZvciBsZXNzb24gbG9jayBpbmZvLiBUaGlzIGluY2x1ZGVzIHRoZSB0ZWFjaGVyIHBhbmVsIG9uXG4gKiB0aGUgY291cnNlIG92ZXJ2aWV3IHBhZ2UsIGFuZCB0aGUgbGVzc29uIGxvY2tpbmcgZGlhbG9nLlxuICovXG5cbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQge1xuICBOT19TRUNUSU9OLFxuICBTRUxFQ1RfU0VDVElPTixcbn0gZnJvbSAnQGNkby9hcHBzL3RlbXBsYXRlcy90ZWFjaGVyRGFzaGJvYXJkL3RlYWNoZXJTZWN0aW9uc1JlZHV4JztcbmltcG9ydCB7bWFrZUVudW19IGZyb20gJ0BjZG8vYXBwcy91dGlscyc7XG5cbmV4cG9ydCBjb25zdCBMb2NrU3RhdHVzID0gbWFrZUVudW0oJ0xvY2tlZCcsICdFZGl0YWJsZScsICdSZWFkb25seUFuc3dlcnMnKTtcblxuLy8gQWN0aW9uIHR5cGVzXG5jb25zdCBPUEVOX0xPQ0tfRElBTE9HID0gJ2xlc3NvbkxvY2svT1BFTl9MT0NLX0RJQUxPRyc7XG5leHBvcnQgY29uc3QgQ0xPU0VfTE9DS19ESUFMT0cgPSAnbGVzc29uTG9jay9DTE9TRV9MT0NLX0RJQUxPRyc7XG5leHBvcnQgY29uc3QgQkVHSU5fU0FWRSA9ICdsZXNzb25Mb2NrL0JFR0lOX1NBVkUnO1xuZXhwb3J0IGNvbnN0IEZJTklTSF9TQVZFID0gJ2xlc3NvbkxvY2svRklOSVNIX1NBVkUnO1xuY29uc3QgQVVUSE9SSVpFX0xPQ0tBQkxFID0gJ2xlc3NvbkxvY2svQVVUSE9SSVpFX0xPQ0tBQkxFJztcbmNvbnN0IFNFVF9TRUNUSU9OX0xPQ0tfU1RBVFVTID0gJ2xlc3NvbkxvY2svU0VUX1NFQ1RJT05fTE9DS19TVEFUVVMnO1xuY29uc3QgUkVGUkVTSF9TRUNUSU9OX0xPQ0tfU1RBVFVTID0gJ2xlc3NvbkxvY2svUkVGUkVTSF9TRUNUSU9OX0xPQ0tfU1RBVFVTJztcblxuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBsZXNzb25zQnlTZWN0aW9uSWQ6IHt9LFxuICBsZXNzb25zQnlTZWN0aW9uSWRMb2FkZWQ6IGZhbHNlLFxuICBsb2NrRGlhbG9nTGVzc29uSWQ6IG51bGwsXG4gIC8vIFRoZSBsb2NraW5nIGluZm8gZm9yIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgc2VjdGlvbi9sZXNzb25cbiAgbG9ja1N0YXR1czogW10sXG4gIHNhdmluZzogZmFsc2UsXG4gIC8vIHdoZXRoZXIgdXNlciBpcyBhbGxvd2VkIHRvIHNlZSBsb2NrYWJsZSBsZXNzb25zXG4gIGxvY2thYmxlQXV0aG9yaXplZDogbnVsbCxcbiAgbG9ja2FibGVBdXRob3JpemVkTG9hZGVkOiBmYWxzZSxcbn07XG5cbi8qKlxuICogTGVzc29uIGxvY2sgcmVkdWNlclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZWR1Y2VyKHN0YXRlID0gaW5pdGlhbFN0YXRlLCBhY3Rpb24pIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBBVVRIT1JJWkVfTE9DS0FCTEUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgIGxvY2thYmxlQXV0aG9yaXplZDogYWN0aW9uLmlzQXV0aG9yaXplZCxcbiAgICAgIGxvY2thYmxlQXV0aG9yaXplZExvYWRlZDogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX1NFQ1RJT05fTE9DS19TVEFUVVMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBsZXNzb25zQnlTZWN0aW9uSWQ6IF8ubWFwVmFsdWVzKFxuICAgICAgICBhY3Rpb24uc2VjdGlvbnMsXG4gICAgICAgIHNlY3Rpb24gPT4gc2VjdGlvbi5sZXNzb25zXG4gICAgICApLFxuICAgICAgbGVzc29uc0J5U2VjdGlvbklkTG9hZGVkOiB0cnVlLFxuICAgIH07XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFJFRlJFU0hfU0VDVElPTl9MT0NLX1NUQVRVUykge1xuICAgIGNvbnN0IGxlc3NvbnNCeVNlY3Rpb25JZCA9IF8ubWFwVmFsdWVzKFxuICAgICAgYWN0aW9uLnNlY3Rpb25zLFxuICAgICAgc2VjdGlvbiA9PiBzZWN0aW9uLmxlc3NvbnNcbiAgICApO1xuXG4gICAgY29uc3Qge2xvY2tEaWFsb2dMZXNzb25JZH0gPSBzdGF0ZTtcbiAgICBpZiAobG9ja0RpYWxvZ0xlc3NvbklkKSB7XG4gICAgICBjb25zdCBsb2NrU3RhdHVzID0gbG9ja1N0YXR1c0Zvckxlc3NvbihcbiAgICAgICAgbGVzc29uc0J5U2VjdGlvbklkW2FjdGlvbi5zZWN0aW9uSWRdLFxuICAgICAgICBsb2NrRGlhbG9nTGVzc29uSWRcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBsZXNzb25zQnlTZWN0aW9uSWQsXG4gICAgICAgIGxvY2tTdGF0dXMsXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGxlc3NvbnNCeVNlY3Rpb25JZCxcbiAgICB9O1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBTRUxFQ1RfU0VDVElPTikge1xuICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW55IHNlY3Rpb24gaW5mbywgaXQgcHJvYmFibHkgbWVhbnMgd2UgaGF2ZW4ndCBsb2FkZWRcbiAgICAvLyBhbnkgbGVzc29uIGxvY2sgZGF0YSBpbiB0aGlzIGNvbnRleHQsIGFuZCB0aHVzIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmdcbiAgICAvLyB3aGVuIGEgc2VjdGlvbiBnZXRzIHNlbGVjdGVkXG4gICAgaWYgKE9iamVjdC5rZXlzKHN0YXRlLmxlc3NvbnNCeVNlY3Rpb25JZCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgY29uc3Qgc2VjdGlvbklkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgaWYgKHNlY3Rpb25JZCA9PT0gTk9fU0VDVElPTikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGxvY2tTdGF0dXM6IGluaXRpYWxTdGF0ZS5sb2NrU3RhdHVzLFxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCFzdGF0ZS5sZXNzb25zQnlTZWN0aW9uSWRbc2VjdGlvbklkXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHNlY3Rpb25JZCAke3NlY3Rpb25JZH1gKTtcbiAgICB9XG4gICAgLy8gSWYgd2UgaGF2ZSBhIGxvY2tTdGF0dXMgKGkuZS4gZnJvbSBhbiBvcGVuIGRpYWxvZykgd2UgbmVlZCB0byB1cGRhdGVcbiAgICAvLyBpdCB3aXRoIHRoZSBuZXcgc2VjdGlvblxuICAgIGNvbnN0IHtsb2NrRGlhbG9nTGVzc29uSWR9ID0gc3RhdGU7XG4gICAgaWYgKGxvY2tEaWFsb2dMZXNzb25JZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGxvY2tTdGF0dXM6IGxvY2tTdGF0dXNGb3JMZXNzb24oXG4gICAgICAgICAgc3RhdGUubGVzc29uc0J5U2VjdGlvbklkW3NlY3Rpb25JZF0sXG4gICAgICAgICAgbG9ja0RpYWxvZ0xlc3NvbklkXG4gICAgICAgICksXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gT1BFTl9MT0NLX0RJQUxPRykge1xuICAgIGNvbnN0IHtzZWN0aW9uSWQsIGxlc3NvbklkfSA9IGFjdGlvbjtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHtcbiAgICAgIGxvY2tEaWFsb2dMZXNzb25JZDogbGVzc29uSWQsXG4gICAgICBsb2NrU3RhdHVzOiBsb2NrU3RhdHVzRm9yTGVzc29uKFxuICAgICAgICBzdGF0ZS5sZXNzb25zQnlTZWN0aW9uSWRbc2VjdGlvbklkXSxcbiAgICAgICAgbGVzc29uSWRcbiAgICAgICksXG4gICAgfSk7XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09IENMT1NFX0xPQ0tfRElBTE9HKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7XG4gICAgICBsb2NrRGlhbG9nTGVzc29uSWQ6IG51bGwsXG4gICAgICBsb2NrU3RhdHVzOiBpbml0aWFsU3RhdGUubG9ja1N0YXR1cyxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gQkVHSU5fU0FWRSkge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwge1xuICAgICAgc2F2aW5nOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBGSU5JU0hfU0FWRSkge1xuICAgIGNvbnN0IHtsZXNzb25zQnlTZWN0aW9uSWR9ID0gc3RhdGU7XG4gICAgY29uc3Qge2xvY2tTdGF0dXM6IG5leHRMb2NrU3RhdHVzLCBzZWN0aW9uSWQsIGxlc3NvbklkfSA9IGFjdGlvbjtcbiAgICBjb25zdCBuZXh0TGVzc29uID0gXy5jbG9uZURlZXAobGVzc29uc0J5U2VjdGlvbklkW3NlY3Rpb25JZF1bbGVzc29uSWRdKTtcblxuICAgIC8vIFVwZGF0ZSBsb2NrZWQvcmVhZG9ubHlfYW5zd2VycyBpbiBsZXNzb25zIGJhc2VkIG9uIHRoZSBuZXcgbG9ja1N0YXR1cyBwcm92aWRlZFxuICAgIC8vIGJ5IG91ciBkaWFsb2cuXG4gICAgbmV4dExlc3Nvbi5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlID0gbmV4dExvY2tTdGF0dXNbaW5kZXhdO1xuICAgICAgLy8gV2UgYXNzdW1lIGxvY2tTdGF0dXMgaXMgb3JkZXJlZCB0aGUgc2FtZSBhcyBsZXNzb25Ub1VwZGF0ZS4gTGV0J3NcbiAgICAgIC8vIHZhbGlkYXRlIHRoYXQuXG4gICAgICBpZiAoaXRlbS51c2VyX2xldmVsX2lkICE9PSB1cGRhdGUudXNlckxldmVsSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3QgdXNlciBpZHMgYmUgdGhlIHNhbWUnKTtcbiAgICAgIH1cbiAgICAgIGl0ZW0ubG9ja2VkID0gdXBkYXRlLmxvY2tTdGF0dXMgPT09IExvY2tTdGF0dXMuTG9ja2VkO1xuICAgICAgaXRlbS5yZWFkb25seV9hbnN3ZXJzID0gdXBkYXRlLmxvY2tTdGF0dXMgPT09IExvY2tTdGF0dXMuUmVhZG9ubHlBbnN3ZXJzO1xuICAgIH0pO1xuXG4gICAgY29uc3QgbmV4dFN0YXRlID0gXy5jbG9uZURlZXAoc3RhdGUpO1xuICAgIG5leHRTdGF0ZS5sZXNzb25zQnlTZWN0aW9uSWRbc2VjdGlvbklkXVtsZXNzb25JZF0gPSBuZXh0TGVzc29uO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5leHRTdGF0ZSwge1xuICAgICAgbG9ja1N0YXR1czogbmV4dExvY2tTdGF0dXMsXG4gICAgICBzYXZpbmc6IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vLyBBY3Rpb24gY3JlYXRvcnNcblxuLyoqXG4gKiBBdXRob3JpemVzIHRoZSB1c2VyIHRvIGJlIGFibGUgdG8gc2VlIGxvY2thYmxlIGxlc3NvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IGF1dGhvcml6ZUxvY2thYmxlID0gaXNBdXRob3JpemVkID0+ICh7XG4gIHR5cGU6IEFVVEhPUklaRV9MT0NLQUJMRSxcbiAgaXNBdXRob3JpemVkLFxufSk7XG5cbmV4cG9ydCBjb25zdCBvcGVuTG9ja0RpYWxvZyA9IChzZWN0aW9uSWQsIGxlc3NvbklkKSA9PiAoe1xuICB0eXBlOiBPUEVOX0xPQ0tfRElBTE9HLFxuICBzZWN0aW9uSWQsXG4gIGxlc3NvbklkLFxufSk7XG5cbmV4cG9ydCBjb25zdCBiZWdpblNhdmUgPSAoKSA9PiAoe3R5cGU6IEJFR0lOX1NBVkV9KTtcbmV4cG9ydCBjb25zdCBmaW5pc2hTYXZlID0gKHNlY3Rpb25JZCwgbGVzc29uSWQsIG5ld0xvY2tTdGF0dXMpID0+ICh7XG4gIHR5cGU6IEZJTklTSF9TQVZFLFxuICBzZWN0aW9uSWQsXG4gIGxlc3NvbklkLFxuICBsb2NrU3RhdHVzOiBuZXdMb2NrU3RhdHVzLFxufSk7XG5cbi8qKlxuICogQWN0aW9uIGFzeW5jaHJvbm91c2x5IGRpc3BhdGNoZXMgYSBzZXQgb2YgYWN0aW9ucyBhcm91bmQgc2F2aW5nIG91clxuICogbG9jayBzdGF0dXMuXG4gKi9cbmNvbnN0IHBlcmZvcm1TYXZlID0gKHNlY3Rpb25JZCwgbGVzc29uSWQsIG5ld0xvY2tTdGF0dXMsIG9uQ29tcGxldGUpID0+IHtcbiAgcmV0dXJuIChkaXNwYXRjaCwgZ2V0U3RhdGUpID0+IHtcbiAgICBjb25zdCBvbGRMb2NrU3RhdHVzID0gZ2V0U3RhdGUoKS5sZXNzb25Mb2NrLmxvY2tTdGF0dXM7XG5cbiAgICBjb25zdCBzYXZlRGF0YSA9IG5ld0xvY2tTdGF0dXNcbiAgICAgIC5maWx0ZXIoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgIC8vIE9ubHkgbmVlZCB0byBzYXZlIGl0ZW1zIHRoYXQgY2hhbmdlZFxuICAgICAgICByZXR1cm4gIV8uaXNFcXVhbChpdGVtLCBvbGRMb2NrU3RhdHVzW2luZGV4XSk7XG4gICAgICB9KVxuICAgICAgLm1hcChpdGVtID0+ICh7XG4gICAgICAgIHVzZXJfbGV2ZWxfZGF0YTogaXRlbS51c2VyTGV2ZWxEYXRhLFxuICAgICAgICBsb2NrZWQ6IGl0ZW0ubG9ja1N0YXR1cyA9PT0gTG9ja1N0YXR1cy5Mb2NrZWQsXG4gICAgICAgIHJlYWRvbmx5X2Fuc3dlcnM6IGl0ZW0ubG9ja1N0YXR1cyA9PT0gTG9ja1N0YXR1cy5SZWFkb25seUFuc3dlcnMsXG4gICAgICB9KSk7XG5cbiAgICBpZiAoc2F2ZURhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goYmVnaW5TYXZlKCkpO1xuICAgICQuYWpheCh7XG4gICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICB1cmw6ICcvYXBpL2xvY2tfc3RhdHVzJyxcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe3VwZGF0ZXM6IHNhdmVEYXRhfSksXG4gICAgfSlcbiAgICAgIC5kb25lKCgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goZmluaXNoU2F2ZShzZWN0aW9uSWQsIGxlc3NvbklkLCBuZXdMb2NrU3RhdHVzKSk7XG4gICAgICAgIG9uQ29tcGxldGUoKTtcbiAgICAgIH0pXG4gICAgICAuZmFpbChlcnIgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIG9uQ29tcGxldGUoKTtcbiAgICAgIH0pO1xuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHNhdmVMb2NrRGlhbG9nID0gKHNlY3Rpb25JZCwgbmV3TG9ja1N0YXR1cykgPT4ge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IGxlc3NvbklkID0gZ2V0U3RhdGUoKS5sZXNzb25Mb2NrLmxvY2tEaWFsb2dMZXNzb25JZDtcbiAgICBkaXNwYXRjaChcbiAgICAgIHBlcmZvcm1TYXZlKHNlY3Rpb25JZCwgbGVzc29uSWQsIG5ld0xvY2tTdGF0dXMsICgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2goY2xvc2VMb2NrRGlhbG9nKCkpO1xuICAgICAgfSlcbiAgICApO1xuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGxvY2tMZXNzb24gPSAoc2VjdGlvbklkLCBsZXNzb25JZCkgPT4ge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBzZWN0aW9uID0gc3RhdGUubGVzc29uTG9jay5sZXNzb25zQnlTZWN0aW9uSWRbc2VjdGlvbklkXTtcbiAgICBjb25zdCBvbGRMb2NrU3RhdHVzID0gbG9ja1N0YXR1c0Zvckxlc3NvbihzZWN0aW9uLCBsZXNzb25JZCk7XG4gICAgY29uc3QgbmV3TG9ja1N0YXR1cyA9IG9sZExvY2tTdGF0dXMubWFwKHN0dWRlbnQgPT4gKHtcbiAgICAgIC4uLnN0dWRlbnQsXG4gICAgICBsb2NrU3RhdHVzOiBMb2NrU3RhdHVzLkxvY2tlZCxcbiAgICB9KSk7XG4gICAgZGlzcGF0Y2gocGVyZm9ybVNhdmUoc2VjdGlvbklkLCBsZXNzb25JZCwgbmV3TG9ja1N0YXR1cywgKCkgPT4ge30pKTtcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBjbG9zZUxvY2tEaWFsb2cgPSAoKSA9PiAoe1xuICB0eXBlOiBDTE9TRV9MT0NLX0RJQUxPRyxcbn0pO1xuXG4vLyBIZWxwZXJzXG4vKipcbiAqIEdlbmVyYXRlIGFuIGFycmF5IG9mIGxvY2sgc3RhdHVzIGluZm8gZm9yIGVhY2ggc3R1ZGVudCBpbiB0aCBwcm92aWRlZCBzZWN0aW9uXG4gKiBvciBhbiBlbXB0eSBhcnJheSBpZiBubyBzZWN0aW9uL3N0dWRlbnRzLlxuICogQHBhcmFtIHtvYmplY3R9IHNlY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBsZXNzb25JZFxuICogQHJldHVybnMge29iamVjdFtdfVxuICovXG5jb25zdCBsb2NrU3RhdHVzRm9yTGVzc29uID0gKHNlY3Rpb24sIGxlc3NvbklkKSA9PiB7XG4gIGlmIChzZWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3Qgc3R1ZGVudHMgPSBzZWN0aW9uW2xlc3NvbklkXTtcbiAgcmV0dXJuIHN0dWRlbnRzLm1hcChzdHVkZW50ID0+ICh7XG4gICAgdXNlckxldmVsRGF0YTogc3R1ZGVudC51c2VyX2xldmVsX2RhdGEsXG4gICAgbmFtZTogc3R1ZGVudC5uYW1lLFxuICAgIGxvY2tTdGF0dXM6IHN0dWRlbnQubG9ja2VkXG4gICAgICA/IExvY2tTdGF0dXMuTG9ja2VkXG4gICAgICA6IHN0dWRlbnQucmVhZG9ubHlfYW5zd2Vyc1xuICAgICAgPyBMb2NrU3RhdHVzLlJlYWRvbmx5QW5zd2Vyc1xuICAgICAgOiBMb2NrU3RhdHVzLkVkaXRhYmxlLFxuICB9KSk7XG59O1xuXG4vKipcbiAqIEhlbHBlciB0aGF0IHJldHVybnMgYSBtYXBwaW5nIG9mIGxlc3NvbklkIHRvIHdoZXRoZXIgb3Igbm90IGl0IGlzIGZ1bGx5IGxvY2tlZFxuICogaW4gdGhlIGN1cnJlbnQgc2VjdGlvbi4gQSBsZXNzb24gaXMgZnVsbHkgbG9ja2VkIGlmIGFuZCBvbmx5IGlmIGl0IGlzIGxvY2tlZFxuICogZm9yIGFsbCBvZiB0aGUgc3R1ZGVudHMgaW4gdGhlIHNlY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGZ1bGx5TG9ja2VkTGVzc29uTWFwcGluZyA9IHNlY3Rpb24gPT4ge1xuICBpZiAoIXNlY3Rpb24pIHtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmtleXMoc2VjdGlvbikucmVkdWNlKChvYmosIGxlc3NvbklkKSA9PiB7XG4gICAgY29uc3Qgc3R1ZGVudHMgPSBzZWN0aW9uW2xlc3NvbklkXTtcbiAgICBjb25zdCBmdWxseUxvY2tlZCA9ICFzdHVkZW50cy5zb21lKHN0dWRlbnQgPT4gIXN0dWRlbnQubG9ja2VkKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ub2JqLFxuICAgICAgW2xlc3NvbklkXTogZnVsbHlMb2NrZWQsXG4gICAgfTtcbiAgfSwge30pO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIGxvY2sgc3RhdHVzIGZvciBzdHVkZW50cyBpbiBzZWN0aW9ucyBiYXNlZCBvbiBkYXRhIGZyb20gc2VydmVyXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRTZWN0aW9uTG9ja1N0YXR1cyA9IHNlY3Rpb25zID0+ICh7XG4gIHR5cGU6IFNFVF9TRUNUSU9OX0xPQ0tfU1RBVFVTLFxuICBzZWN0aW9ucyxcbn0pO1xuXG4vKipcbiAqIFNldCB0aGUgbG9jayBzdGF0dXMgZm9yIHN0dWRlbnRzIGluIHNlY3Rpb25zIGJhc2VkIG9uIGRhdGEgZnJvbSBzZXJ2ZXJcbiAqL1xuY29uc3QgcmVmcmVzaFNlY3Rpb25Mb2NrU3RhdHVzID0gKHNlY3Rpb25zLCBzZWN0aW9uSWQpID0+ICh7XG4gIHR5cGU6IFJFRlJFU0hfU0VDVElPTl9MT0NLX1NUQVRVUyxcbiAgc2VjdGlvbnMsXG4gIHNlY3Rpb25JZCxcbn0pO1xuXG5leHBvcnQgY29uc3QgcmVmZXRjaFNlY3Rpb25Mb2NrU3RhdHVzID0gKHNlY3Rpb25JZCwgc2NyaXB0SWQpID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoID0+IHtcbiAgICAkLmFqYXgoJy9hcGkvbG9ja19zdGF0dXMnLCB7XG4gICAgICBkYXRhOiB7c2NyaXB0X2lkOiBzY3JpcHRJZH0sXG4gICAgfSlcbiAgICAgIC5kb25lKGRhdGEgPT4ge1xuICAgICAgICBkaXNwYXRjaChyZWZyZXNoU2VjdGlvbkxvY2tTdGF0dXMoZGF0YSwgc2VjdGlvbklkKSk7XG4gICAgICB9KVxuICAgICAgLmZhaWwoZXJyID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pO1xuICB9O1xufTtcbiIsImltcG9ydCBxdWVyeVN0cmluZyBmcm9tICdxdWVyeS1zdHJpbmcnO1xuXG4vLyBQcm92aWRlIG1ldGhvZHMgdGhhdCBhbGxvdyB0ZXN0cyB0byBtb2NrIHdpbmRvdy5sb2NhdGlvblxubGV0IHdpbmRvd0xvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuZXhwb3J0IGZ1bmN0aW9uIHNldFdpbmRvd0xvY2F0aW9uKGZha2VMb2NhdGlvbikge1xuICB3aW5kb3dMb2NhdGlvbiA9IGZha2VMb2NhdGlvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0V2luZG93TG9jYXRpb24oKSB7XG4gIHdpbmRvd0xvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzUXVlcnlQYXJhbShuYW1lKSB7XG4gIGNvbnN0IHBhcnNlZFBhcmFtcyA9IHF1ZXJ5UGFyYW1zKCk7XG5cbiAgLy8gY2FuJ3QgY2FsbCBoYXNPd25Qcm9wZXJ0eSBkaXJlY3RseSBkdWUgdG8gYnVnIGluIHF1ZXJ5LXN0cmluZzpcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9xdWVyeS1zdHJpbmcvaXNzdWVzLzUwXG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyc2VkUGFyYW1zLCBuYW1lKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBVUkwgcXVlcnlzdHJpbmcgcGFyYW1zLlxuICogQHBhcmFtIG5hbWUge3N0cmluZz19IE9wdGlvbmFsbHkgcHVsbCBhIHNwZWNpZmljIHBhcmFtLlxuICogQHJldHVybiB7b2JqZWN0fHN0cmluZ30gSGFzaCBvZiBwYXJhbXMsIG9yIHBhcmFtIHN0cmluZyBpZiBgbmFtZWAgaXMgc3BlY2lmaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlQYXJhbXMobmFtZSkge1xuICBjb25zdCBwYXJzZWQgPSBxdWVyeVN0cmluZy5wYXJzZSh3aW5kb3dMb2NhdGlvbi5zZWFyY2gpO1xuICBpZiAobmFtZSkge1xuICAgIHJldHVybiBwYXJzZWRbbmFtZV07XG4gIH1cbiAgcmV0dXJuIHBhcnNlZDtcbn1cblxuLyoqXG4gKiBVcGRhdGVzIGEgcXVlcnkgcGFyYW1ldGVyIGluIHRoZSBVUkwgdmlhIHB1c2hTdGF0ZSAoaS5lLiBkb2Vzbid0IGZvcmNlIGFcbiAqIHJlbG9hZCkuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW0gLSBOYW1lIG9mIHRoZSBxdWVyeSBwYXJhbWV0ZXIgdG8gbW9kaWZ5XG4gKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gdmFsdWUgLSBOZXcgdmFsdWUgKG9yIHVuZGVmaW5lZCB0byByZW1vdmUpXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZVJlcGxhY2VTdGF0ZSAtIG9wdGlvbmFsIHBhcmFtIGlmIHlvdSB3aXNoIHRvIHVzZSByZXBsYWNlU3RhdGVcbiAqICAgaW5zdGVhZCBvZiBwdXNoU3RhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVF1ZXJ5UGFyYW0ocGFyYW0sIHZhbHVlLCB1c2VSZXBsYWNlU3RhdGUgPSBmYWxzZSkge1xuICBjb25zdCBuZXdTdHJpbmcgPSBxdWVyeVN0cmluZy5zdHJpbmdpZnkoe1xuICAgIC4uLnF1ZXJ5U3RyaW5nLnBhcnNlKHdpbmRvd0xvY2F0aW9uLnNlYXJjaCksXG4gICAgW3BhcmFtXTogdmFsdWUsXG4gIH0pO1xuXG4gIGxldCBuZXdMb2NhdGlvbiA9IHdpbmRvd0xvY2F0aW9uLnBhdGhuYW1lO1xuICAvLyBEb24ndCBhcHBlbmQgPyB1bmxlc3Mgd2UgYWN0dWFsbHkgaGF2ZSBhIHZhbHVlXG4gIGlmIChuZXdTdHJpbmcpIHtcbiAgICBuZXdMb2NhdGlvbiArPSAnPycgKyBuZXdTdHJpbmc7XG4gIH1cblxuICBjb25zdCBtZXRob2QgPSB1c2VSZXBsYWNlU3RhdGUgPyAncmVwbGFjZVN0YXRlJyA6ICdwdXNoU3RhdGUnO1xuICB3aW5kb3cuaGlzdG9yeVttZXRob2RdKG51bGwsIGRvY3VtZW50LnRpdGxlLCBuZXdMb2NhdGlvbik7XG59XG5cbi8qKlxuICogV2UgaGF2ZSB2YXJpb3VzIGNvb2tpZXMgdGhhdCB3ZSB3YW50IHRvIGJlIGVudmlyb25tZW50IHNwZWNpZmljLiBXZSBhY2NvbXBsaXNoXG4gKiB0aGlzIGJ5IHRhY2tpbmcgb24gdGhlIHJhY2tfZW52ICh1bmxlc3Mgd2UncmUgaW4gcHJvZCkuIFRoaXMgaGVscGVyIGdldHMgdGhlXG4gKiBhcHByb3ByaWF0ZSBjb29raWUgbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBCYXNlIGNvb2tpZSBuYW1lXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBY3R1YWwgY29va2llIG5hbWUsIHdpdGggdGhlIHJhY2tfZW52IGFwcGVuZGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbnZpcm9ubWVudFNwZWNpZmljQ29va2llTmFtZShuYW1lKSB7XG4gIGNvbnN0IHJhY2tfZW52ID0gd2luZG93LmRhc2hib2FyZC5yYWNrX2VudjtcbiAgaWYgKHJhY2tfZW52ID09PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gbmFtZTtcbiAgfVxuXG4gIHJldHVybiBgJHtuYW1lfV8ke3JhY2tfZW52fWA7XG59XG5cbi8qKlxuICogR2l2ZW4gYSBob3N0IG5hbWUgKGUuZy4gc3R1ZGlvLmNvZGUub3JnKSByZXR1cm4gdGhlIHNpdGUncyByb290IGRvbWFpblxuICogKGUuZy4gY29kZS5vcmcpLiAgVXNlZnVsIGZvciBnZXR0aW5nIHRoZSBkb21haW4gb24gd2hpY2ggd2Ugd2lsbCBzZXQgYSBjb29raWUuXG4gKiBAcGFyYW0ge3N0cmluZ30gaG9zdG5hbWUgLSBBIGhvc3QgbmFtZVxuICogQHJldHVybnMge3N0cmluZ30gVGhlIHJvb3QgZG9tYWluIG5hbWUgZm9yIHRoZSBob3N0IG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJvb3REb21haW5Gcm9tSG9zdG5hbWUoaG9zdG5hbWUpIHtcbiAgcmV0dXJuIGhvc3RuYW1lLnNwbGl0KCcuJykuc2xpY2UoLTIpLmpvaW4oJy4nKTtcbn1cbiIsIi8qKlxuICogUmVkdWNlciBmb3IgdHJhY2tpbmcgd2hldGhlciB3ZSdyZSBjdXJyZW50bHkgdmlld2luZyB0aGUgcGFnZSBhcyBhIHBhcnRpY2lwYW50XG4gKiBvciBhcyBhIGluc3RydWN0b3JcbiAqL1xuXG5pbXBvcnQge3F1ZXJ5UGFyYW1zLCB1cGRhdGVRdWVyeVBhcmFtfSBmcm9tICdAY2RvL2FwcHMvY29kZS1zdHVkaW8vdXRpbHMnO1xuaW1wb3J0IHttYWtlRW51bSwgcmVsb2FkfSBmcm9tICdAY2RvL2FwcHMvdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgVmlld1R5cGUgPSBtYWtlRW51bSgnUGFydGljaXBhbnQnLCAnSW5zdHJ1Y3RvcicpO1xuXG4vLyBBY3Rpb24gdHlwZXNcbmV4cG9ydCBjb25zdCBTRVRfVklFV19UWVBFID0gJ3ZpZXdBcy9TRVRfVklFV19UWVBFJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVkdWNlcihzdGF0ZSA9IFZpZXdUeXBlLlBhcnRpY2lwYW50LCBhY3Rpb24pIHtcbiAgaWYgKGFjdGlvbi50eXBlID09PSBTRVRfVklFV19UWVBFKSB7XG4gICAgbGV0IHZpZXdUeXBlID0gYWN0aW9uLnZpZXdUeXBlO1xuICAgIC8qIFRoZSBWaWV3VHlwZXMgdXNlZCB0byBiZSBUZWFjaGVyIGFuZCBTdHVkZW50LiBXZSByZWRpcmVjdCB0aGVtIHRvIHRoZSBuZXdcbiAgICAgKiBWaWV3VHlwZXMgaGVyZSBpbiBvcmRlciB0byBtYWtlIHN1cmUgYmUgY29udGludWUgdG8gc3VwcG9ydCBvbGQgbGlua3MuXG4gICAgICovXG4gICAgaWYgKHZpZXdUeXBlID09PSAnVGVhY2hlcicpIHtcbiAgICAgIHZpZXdUeXBlID0gJ0luc3RydWN0b3InO1xuICAgICAgdXBkYXRlUXVlcnlQYXJhbSgndmlld0FzJywgJ0luc3RydWN0b3InKTtcbiAgICB9IGVsc2UgaWYgKHZpZXdUeXBlID09PSAnU3R1ZGVudCcpIHtcbiAgICAgIHZpZXdUeXBlID0gJ1BhcnRpY2lwYW50JztcbiAgICAgIHVwZGF0ZVF1ZXJ5UGFyYW0oJ3ZpZXdBcycsICdQYXJ0aWNpcGFudCcpO1xuICAgIH0gZWxzZSBpZiAoIVZpZXdUeXBlW3ZpZXdUeXBlXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIFZpZXdUeXBlOiAnICsgdmlld1R5cGUpO1xuICAgIH1cblxuICAgIHJldHVybiB2aWV3VHlwZTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZTtcbn1cblxuLy8gQWN0aW9uIGNyZWF0b3JzXG5cbi8vIFRPRE86IFdoZW4gdGhpcyBpcyBjb252ZXJ0ZWQgdG8gcmVkdXgtdG9vbGtpdCwgdXBkYXRlIHByb2dyZXNzUmVkdXggYWNjb3JkaW5nbHksIGFzIGl0IGhhc1xuLy8gYSBkZXBlbmRlbmN5IG9uIHRoaXMgYWN0aW9uLlxuZXhwb3J0IGNvbnN0IHNldFZpZXdUeXBlID0gdmlld1R5cGUgPT4gKHtcbiAgdHlwZTogU0VUX1ZJRVdfVFlQRSxcbiAgdmlld1R5cGUsXG59KTtcblxuZXhwb3J0IGNvbnN0IGNoYW5nZVZpZXdUeXBlID0gKHZpZXdUeXBlLCBpc0FzeW5jKSA9PiB7XG4gIHJldHVybiBkaXNwYXRjaCA9PiB7XG4gICAgLy8gSWYgY2hhbmdpbmcgdG8gdmlld0FzIHBhcnRpY2lwYW50IHdoaWxlIHdlIGFyZSBhIHBhcnRpY3VsYXIgcGFydGljaXBhbnQsIHJlbW92ZVxuICAgIC8vIHRoZSB1c2VyX2lkIGFuZCBkbyBhIHJlbG9hZCBzbyB0aGF0IHdlJ3JlIGluc3RlYWQgdmlld2luZyBhcyBhIGdlbmVyaWNcbiAgICAvLyBwYXJ0aWNpcGFudFxuXG4gICAgaWYgKHZpZXdUeXBlID09PSBWaWV3VHlwZS5QYXJ0aWNpcGFudCAmJiBxdWVyeVBhcmFtcygndXNlcl9pZCcpKSB7XG4gICAgICB1cGRhdGVRdWVyeVBhcmFtKCd1c2VyX2lkJywgdW5kZWZpbmVkKTtcblxuICAgICAgaWYgKCFpc0FzeW5jKSB7XG4gICAgICAgIHJlbG9hZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGlzcGF0Y2goc2V0Vmlld1R5cGUodmlld1R5cGUpKTtcbiAgfTtcbn07XG4iLCJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQge21ha2VFbnVtfSBmcm9tICdAY2RvL2FwcHMvdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgZmVlZGJhY2tTaGFwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gIGlkOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIHNlZW5fb25fZmVlZGJhY2tfcGFnZV9hdDogUHJvcFR5cGVzLnN0cmluZyxcbiAgc3R1ZGVudF9maXJzdF92aXNpdGVkX2F0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjcmVhdGVkX2F0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIFByb3BUeXBlcy5pbnN0YW5jZU9mKERhdGUpLFxuICBdKS5pc1JlcXVpcmVkLFxuICBjb21tZW50OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBwZXJmb3JtYW5jZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgaXNfYXdhaXRpbmdfdGVhY2hlcl9yZXZpZXc6IFByb3BUeXBlcy5ib29sLFxuICByZXZpZXdfc3RhdGU6IFByb3BUeXBlcy5zdHJpbmcsXG59KTtcblxuZXhwb3J0IGNvbnN0IGxldmVsRmVlZGJhY2tTaGFwZSA9IFByb3BUeXBlcy5zaGFwZShsZXZlbEZlZWRiYWNrVHlwZSk7XG5cbmV4cG9ydCBjb25zdCBsZXZlbEZlZWRiYWNrVHlwZSA9IHtcbiAgbGVzc29uTmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBsZXNzb25OdW06IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgbGV2ZWxOdW06IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgbGlua1RvTGV2ZWw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgdW5pdE5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGZlZWRiYWNrczogUHJvcFR5cGVzLmFycmF5T2YoZmVlZGJhY2tTaGFwZSksXG59O1xuXG5leHBvcnQgY29uc3QgUmV2aWV3U3RhdGVzID0gbWFrZUVudW0oXG4gICdjb21wbGV0ZWQnLFxuICAna2VlcFdvcmtpbmcnLFxuICAnYXdhaXRpbmdSZXZpZXcnXG4pO1xuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgYWN0aXZpdHlDc3NDbGFzcyxcbiAgcmVzdWx0RnJvbVN0YXR1cyxcbn0gZnJvbSAnQGNkby9hcHBzL2NvZGUtc3R1ZGlvL2FjdGl2aXR5VXRpbHMnO1xuaW1wb3J0IHtpc0xlc3NvbkhpZGRlbkZvclNlY3Rpb259IGZyb20gJ0BjZG8vYXBwcy9jb2RlLXN0dWRpby9oaWRkZW5MZXNzb25SZWR1eCc7XG5pbXBvcnQge2Z1bGx5TG9ja2VkTGVzc29uTWFwcGluZ30gZnJvbSAnQGNkby9hcHBzL2NvZGUtc3R1ZGlvL2xlc3NvbkxvY2tSZWR1eCc7XG5pbXBvcnQge1ZpZXdUeXBlfSBmcm9tICdAY2RvL2FwcHMvY29kZS1zdHVkaW8vdmlld0FzUmVkdXgnO1xuaW1wb3J0IHtMZXZlbFN0YXR1cywgTGV2ZWxLaW5kfSBmcm9tICdAY2RvL2dlbmVyYXRlZC1zY3JpcHRzL3NoYXJlZENvbnN0YW50cyc7XG5cbmltcG9ydCB7UFVaWkxFX1BBR0VfTk9ORX0gZnJvbSAnLi9wcm9ncmVzc1R5cGVzJztcblxuLyoqXG4gKiBUaGlzIGlzIGNvbmNlcHR1YWxseSBzaW1pbGFyIHRvIGJlaW5nIGEgc2VsZWN0b3IsIGV4Y2VwdCB0aGF0IGl0IG9wZXJhdGVzIG9uXG4gKiB0aGUgZW50aXJlIHN0b3JlIHN0YXRlLiBJdCBpcyB1c2VkIGJ5IGNvbXBvbmVudHMgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYVxuICogcGFydGljdWxhciBsZXNzb24gaXMgdmlzaWJsZSwgb3IgaGlkZGVuIGVudGlyZWx5LlxuICogQHBhcmFtIHtudW1iZXJ9IGxlc3NvbiAtIHRoZSBsZXNzb24gd2UncmUgcXVlcnlpbmdcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSAtIFN0YXRlIG9mIG91ciBlbnRpcmUgcmVkdXggc3RvcmVcbiAqIEBwYXJhbSB7Vmlld1R5cGV9IHZpZXdBcyAtIEFyZSB3ZSBpbnRlcmVzdGVkIGluIHdoZXRoZXIgdGhlIGxlc3NvbiBpcyB2aWV3YWJsZVxuICogICBmb3IgcGFydGljaXBhbnRzIG9yIGluc3RydWN0b3JzXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcHJvdmlkZWQgbGVzc29uIGlzIHZpc2libGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlc3NvbklzVmlzaWJsZShsZXNzb24sIHN0YXRlLCB2aWV3QXMpIHtcbiAgaWYgKCF2aWV3QXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21pc3NpbmcgcGFyYW0gdmlld0FzIGluIGxlc3NvbklzVmlzaWJsZScpO1xuICB9XG5cbiAgY29uc3QgaGlkZGVuTGVzc29uU3RhdGUgPSBzdGF0ZS5oaWRkZW5MZXNzb247XG4gIGNvbnN0IHNlY3Rpb25JZCA9IHN0YXRlLnRlYWNoZXJTZWN0aW9ucy5zZWxlY3RlZFNlY3Rpb25JZDtcblxuICBjb25zdCBpc0hpZGRlbiA9IGlzTGVzc29uSGlkZGVuRm9yU2VjdGlvbihcbiAgICBoaWRkZW5MZXNzb25TdGF0ZSxcbiAgICBzZWN0aW9uSWQsXG4gICAgbGVzc29uLmlkXG4gICk7XG4gIHJldHVybiAhaXNIaWRkZW4gfHwgdmlld0FzID09PSBWaWV3VHlwZS5JbnN0cnVjdG9yO1xufVxuXG4vKipcbiAqIFRyZWF0IHRoZSBsZXNzb24gYXMgbG9ja2VkIGlmIGVpdGhlclxuICogKGEpIGl0IGlzIGxvY2tlZCBmb3IgdGhpcyB1c2VyIChpbiB0aGUgY2FzZSBvZiBhIHN0dWRlbnQpXG4gKiAoYikgbm9uLXZlcmlmaWVkIGluc3RydWN0b3JcbiAqIChjKSBzaWduZWQgb3V0IHVzZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZXNzb24gLSB0aGUgbGVzc29uIHdlJ3JlIHF1ZXJ5aW5nXG4gKiBAcGFyYW0ge29iamVjdH0gc3RhdGUgLSBTdGF0ZSBvZiBvdXIgZW50aXJlIHJlZHV4IHN0b3JlXG4gKiBAcGFyYW0ge1ZpZXdUeXBlfSB2aWV3QXMgLSBBcmUgd2UgaW50ZXJlc3RlZCBpbiB3aGV0aGVyIHRoZSBsZXNzb24gaXMgdmlld2FibGVcbiAqICAgZm9yIHBhcnRpY2lwYW50cyBvciBpbnN0cnVjdG9yc1xuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHByb3ZpZGVkIGxlc3NvbiBpcyB2aXNpYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZXNzb25Jc0xvY2tlZEZvclVzZXIobGVzc29uLCBsZXZlbHMsIHN0YXRlLCB2aWV3QXMpIHtcbiAgaWYgKCFsZXNzb24ubG9ja2FibGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoIXN0YXRlLmN1cnJlbnRVc2VyLnVzZXJJZCkge1xuICAgIC8vIFNpZ25lZCBvdXQgdXNlclxuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKHZpZXdBcyA9PT0gVmlld1R5cGUuSW5zdHJ1Y3Rvcikge1xuICAgIHJldHVybiAhc3RhdGUubGVzc29uTG9jay5sb2NrYWJsZUF1dGhvcml6ZWQ7XG4gIH0gZWxzZSBpZiAodmlld0FzID09PSBWaWV3VHlwZS5QYXJ0aWNpcGFudCkge1xuICAgIHJldHVybiBsZXNzb25Mb2NrZWQobGV2ZWxzKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgYSBsZXNzb24gaXMgbG9ja2VkIGZvciBhbGwgc3R1ZGVudHMgaW4gdGhlIGN1cnJlbnQgc2VjdGlvblxuICogb3Igbm90LiBJZiBjYWxsZWQgYXMgYSBzdHVkZW50LCB0aGlzIHNob3VsZCBhbHdheXMgcmV0dXJuIGZhbHNlIHNpbmNlIHRoZXlcbiAqIGRvbid0IGhhdmUgYSBzZWxlY3RlZCBzZWN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGxlc3NvbklkIC0gSWQgcmVwcmVzZW50aW5nIHRoZSBsZXNzb24gd2UncmUgY3VyaW91cyBhYm91dFxuICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIC0gU3RhdGUgb2Ygb3VyIGVudGlyZSByZWR1eCBzdG9yZVxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGdpdmVuIGxlc3NvbiBpcyBsb2NrZWQgZm9yIGFsbCBzdHVkZW50cyBpbiB0aGVcbiAqICAgY3VycmVudGx5IHNlbGVjdGVkIHNlY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZXNzb25Jc0xvY2tlZEZvckFsbFN0dWRlbnRzKGxlc3NvbklkLCBzdGF0ZSkge1xuICBjb25zdCBjdXJyZW50U2VjdGlvbklkID0gc3RhdGUudGVhY2hlclNlY3Rpb25zLnNlbGVjdGVkU2VjdGlvbklkO1xuICBjb25zdCBjdXJyZW50U2VjdGlvbiA9IHN0YXRlLmxlc3NvbkxvY2subGVzc29uc0J5U2VjdGlvbklkW2N1cnJlbnRTZWN0aW9uSWRdO1xuICBjb25zdCBmdWxseUxvY2tlZExlc3NvbnMgPSBmdWxseUxvY2tlZExlc3Nvbk1hcHBpbmcoY3VycmVudFNlY3Rpb24pO1xuICByZXR1cm4gISFmdWxseUxvY2tlZExlc3NvbnNbbGVzc29uSWRdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bGV2ZWxbXX0gbGV2ZWxzIC0gQSBzZXQgb2YgbGV2ZWxzIGZvciBhIGdpdmVuIGxlc3NvblxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgd2Ugc2hvdWxkIGNvbnNpZGVyIHRoZSBsZXNzb24gdG8gYmUgbG9ja2VkIGZvciB0aGVcbiAqICAgY3VycmVudCB1c2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGVzc29uTG9ja2VkKGxldmVscykge1xuICAvLyBGb3IgbG9ja2FibGUgbGVzc29ucywgdGhlcmUgaXMgYSByZXF1aXJlbWVudCB0aGF0IHRoZXkgaGF2ZSBleGFjdGx5IG9uZSBMZXZlbEdyb3VwLFxuICAvLyBhbmQgdGhhdCBpdCBiZSB0aGUgbGFzdCBsZXZlbCBpbiB0aGUgbGVzc29uLiBCZWNhdXNlIExldmVsR3JvdXAncyBjYW4gaGF2ZVxuICAvLyBtdWx0aXBsZSBcInBhZ2VzXCIsIGFuZCBzaW5nbGUgTGV2ZWxHcm91cCBtaWdodCBhcHBlYXIgYXMgbXVsdGlwbGUgbGV2ZWxzL2J1YmJsZXNcbiAgLy8gb24gdGhlIGNsaWVudC4gSG93ZXZlciwgaXQgaXMgdGhlIGNhc2UgdGhhdCBlYWNoIHBhZ2UgaW4gdGhlIExHIHNob3VsZCBoYXZlXG4gIC8vIGFuIGlkZW50aWNhbCBsb2NrZWQvdW5sb2NrZWQgc3RhdGUuXG4gIC8vIEdpdmVuIHRoaXMsIHdlIHNob3VsZCBiZSBhYmxlIHRvIGxvb2sgYXQgdGhlIGxhc3QgbGV2ZWwgaW4gb3VyIGNvbGxlY3Rpb25cbiAgLy8gdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIExHIChhbmQgdGh1cyB0aGUgbGVzc29uKSBzaG91bGQgYmUgY29uc2lkZXJlZCBsb2NrZWQuXG4gIHJldHVybiAhIWxldmVsc1tsZXZlbHMubGVuZ3RoIC0gMV0uaXNMb2NrZWQ7XG59XG5cbi8qKlxuICogQHJldHVybnMgQSBmcmllbmRseSBuYW1lIGZvciB0aGUgaWNvbiBuYW1lICh0aGF0IGNhbiBiZSBwYXNzZWQgdG8gRm9udEF3ZXNvbWUpXG4gKiAgIGZvciB0aGUgZ2l2ZW4gbGV2ZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJY29uRm9yTGV2ZWwobGV2ZWwsIGluUHJvZ3Jlc3NWaWV3ID0gZmFsc2UpIHtcbiAgaWYgKGluUHJvZ3Jlc3NWaWV3ICYmIGlzTGV2ZWxBc3Nlc3NtZW50KGxldmVsKSkge1xuICAgIHJldHVybiAnY2hlY2stY2lyY2xlJztcbiAgfVxuXG4gIGlmIChsZXZlbC5pc1VucGx1Z2dlZCkge1xuICAgIHJldHVybiAnc2Npc3NvcnMnO1xuICB9XG5cbiAgaWYgKGxldmVsLmlzTG9ja2VkKSB7XG4gICAgcmV0dXJuICdsb2NrJztcbiAgfVxuXG4gIGlmIChsZXZlbC5pY29uKSB7XG4gICAgLy8gRXZlbnR1YWxseSBJJ2QgbGlrZSB0byBoYXZlIGRhc2hib2FyZCByZXR1cm4gYW4gaWNvbiB0eXBlLiBGb3Igbm93LCBJJ20ganVzdFxuICAgIC8vIGdvaW5nIHRvIHRyZWF0IHRoZSBjc3MgY2xhc3MgaXQgc2VuZHMgYXMgYSB0eXBlLCBhbmQgbWFwIGl0IHRvIGFuIGljb24gbmFtZS5cbiAgICBjb25zdCBtYXRjaCA9IC9mYS0oLiopLy5leGVjKGxldmVsLmljb24pO1xuICAgIGlmICghbWF0Y2ggfHwgIW1hdGNoWzFdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gaWNvblR5cGU6ICcgKyBsZXZlbC5pY29uKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoWzFdO1xuICB9XG5cbiAgaWYgKGxldmVsLmJvbnVzKSB7XG4gICAgcmV0dXJuICdmbGFnLWNoZWNrZXJlZCc7XG4gIH1cblxuICAvLyBkZWZhdWx0IHRvIGRlc2t0b3BcbiAgcmV0dXJuIGRlZmF1bHRCdWJibGVJY29uO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdEJ1YmJsZUljb24gPSAnZGVza3RvcCc7XG5cbi8qKlxuICogQHJldHVybnMgV2hldGhlciBhIGxldmVsIGlzIGFuIGFzc2Vzc21lbnQgbGV2ZWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xldmVsQXNzZXNzbWVudChsZXZlbCkge1xuICByZXR1cm4gbGV2ZWwua2luZCA9PT0gJ2Fzc2Vzc21lbnQnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIHdob2xlIGxlc3NvbiBpcyBhc3Nlc3NtZW50IGxldmVsc1xuICogQHBhcmFtIHtbXX0gbGV2ZWxzIEFuIGFycmF5IG9mIGxldmVsc1xuICogQHJldHVybnMge2Jvb2x9IElmIGFsbCB0aGUgbGV2ZWxzIGluIGEgbGVzc29uIGFyZSBhc3Nlc3NtZW50IGxldmVsc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbGVzc29uSXNBbGxBc3Nlc3NtZW50KGxldmVscykge1xuICByZXR1cm4gbGV2ZWxzLmV2ZXJ5KGxldmVsID0+IGxldmVsLmtpbmQgPT09IExldmVsS2luZC5hc3Nlc3NtZW50KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlcmUgYXJlIGFueSBsZXZlbHMgaW4gYSBsZXNzb24uXG4gKiBAcGFyYW0ge29iamVjdH0gbGVzc29uIHRoZSBsZXNzb24gdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sfSBJZiB0aGUgbGVzc29uIGhhcyBhbnkgbGV2ZWxzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsZXNzb25IYXNMZXZlbHMobGVzc29uKSB7XG4gIHJldHVybiAhIWxlc3Nvbi5sZXZlbHM/Lmxlbmd0aDtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbW1lbnRMZWZ0ID0gcHJvZ3Jlc3MgPT5cbiAgcHJvZ3Jlc3M/LnRlYWNoZXJGZWVkYmFja0NvbW1lbnRlZCAmJiBwcm9ncmVzcz8udGVhY2hlckZlZWRiYWNrTmV3O1xuXG5leHBvcnQgY29uc3Qgc3R1ZGVudE5lZWRzRmVlZGJhY2sgPSAocHJvZ3Jlc3MsIGxldmVsKSA9PlxuICBwcm9ncmVzcyAmJlxuICBwcm9ncmVzcy5zdGF0dXMgIT09IExldmVsU3RhdHVzLm5vdF90cmllZCAmJlxuICAhcHJvZ3Jlc3MudGVhY2hlckZlZWRiYWNrTmV3ICYmXG4gIGxldmVsLmtpbmQgPT09ICdhc3Nlc3NtZW50JyAmJlxuICBsZXZlbC5jYW5IYXZlRmVlZGJhY2s7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB3ZSBzaG91bGQgc2hvdyBcIktlZXAgd29ya2luZ1wiIGFuZCBcIk5lZWRzIHJldmlld1wiIHN0YXRlcyBmb3JcbiAqIHByb2dyZXNzIGluIGEgdW5pdC4gVW5pdCBtdXN0IGJlIGVpdGhlciBDU0Qgb3IgQ1NQLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkU2hvd1Jldmlld1N0YXRlcyh1bml0KSB7XG4gIHJldHVybiB1bml0LmlzQ3NkIHx8IHVuaXQuaXNDc3A7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgc3VtbWFyeSBvZiBhIHN0dWRlbnQncyBwcm9ncmVzcyBpbiBhIGxlc3NvbidzIGxldmVscy5cbiAqIEBwYXJhbSB7e2lkOiBzdHVkZW50TGV2ZWxQcm9ncmVzc1R5cGV9fSBzdHVkZW50TGV2ZWxQcm9ncmVzc1xuICogQW4gb2JqZWN0IGtleWVkIGJ5IGxldmVsIGlkIGNvbnRhaW5pbmcgb2JqZWN0cyByZXByZXNlbnRpbmcgdGhlIHN0dWRlbnQnc1xuICogcHJvZ3Jlc3MgaW4gdGhhdCBsZXZlbFxuICogQHBhcmFtIHtsZXZlbFR5cGVbXX0gbGV2ZWxzIEFuIGFycmF5IG9mIGxldmVsc1xuICogQHJldHVybnMge3N0dWRlbnRMZXNzb25Qcm9ncmVzc1R5cGV9XG4gKiBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHN0dWRlbnQncyBwcm9ncmVzcyBpbiB0aGUgbGVzc29uXG4gKi9cbmZ1bmN0aW9uIGxlc3NvblByb2dyZXNzRm9yU3R1ZGVudChzdHVkZW50TGV2ZWxQcm9ncmVzcywgbGVzc29uTGV2ZWxzKSB7XG4gIC8vIEZpbHRlciBhbnkgYm9udXMgbGV2ZWxzIGFzIHRoZXkgZG8gbm90IGNvdW50IHRvd2FyZCBwcm9ncmVzcy5cbiAgY29uc3QgZmlsdGVyZWRMZXZlbHMgPSBsZXNzb25MZXZlbHMuZmlsdGVyKGxldmVsID0+ICFsZXZlbC5ib251cyk7XG4gIGlmICghZmlsdGVyZWRMZXZlbHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBjb21wbGV0ZWRTdGF0dXNlcyA9IFtcbiAgICBMZXZlbFN0YXR1cy5wZXJmZWN0LFxuICAgIExldmVsU3RhdHVzLnN1Ym1pdHRlZCxcbiAgICBMZXZlbFN0YXR1cy5mcmVlX3BsYXlfY29tcGxldGUsXG4gICAgTGV2ZWxTdGF0dXMuY29tcGxldGVkX2Fzc2Vzc21lbnQsXG4gIF07XG5cbiAgbGV0IGF0dGVtcHRlZCA9IDA7XG4gIGxldCBpbXBlcmZlY3QgPSAwO1xuICBsZXQgY29tcGxldGVkID0gMDtcbiAgbGV0IHRpbWVTcGVudCA9IDA7XG4gIGxldCBsYXN0VGltZXN0YW1wID0gMDtcblxuICBmaWx0ZXJlZExldmVscy5mb3JFYWNoKGxldmVsID0+IHtcbiAgICBjb25zdCBsZXZlbFByb2dyZXNzID0gc3R1ZGVudExldmVsUHJvZ3Jlc3NbbGV2ZWwuaWRdO1xuICAgIGlmIChsZXZlbFByb2dyZXNzKSB7XG4gICAgICBhdHRlbXB0ZWQgKz0gbGV2ZWxQcm9ncmVzcy5zdGF0dXMgPT09IExldmVsU3RhdHVzLmF0dGVtcHRlZDtcbiAgICAgIGltcGVyZmVjdCArPSBsZXZlbFByb2dyZXNzLnN0YXR1cyA9PT0gTGV2ZWxTdGF0dXMucGFzc2VkO1xuICAgICAgY29tcGxldGVkICs9IGNvbXBsZXRlZFN0YXR1c2VzLmluY2x1ZGVzKGxldmVsUHJvZ3Jlc3Muc3RhdHVzKTtcbiAgICAgIHRpbWVTcGVudCArPSBsZXZlbFByb2dyZXNzLnRpbWVTcGVudCB8fCAwO1xuICAgICAgbGFzdFRpbWVzdGFtcCA9IE1hdGgubWF4KGxhc3RUaW1lc3RhbXAsIGxldmVsUHJvZ3Jlc3MubGFzdFRpbWVzdGFtcCB8fCAwKTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IGluY29tcGxldGUgPSBmaWx0ZXJlZExldmVscy5sZW5ndGggLSBjb21wbGV0ZWQgLSBpbXBlcmZlY3Q7XG4gIGNvbnN0IGlzTGVzc29uU3RhcnRlZCA9IGF0dGVtcHRlZCArIGltcGVyZmVjdCArIGNvbXBsZXRlZCA+IDA7XG5cbiAgaWYgKCFpc0xlc3NvblN0YXJ0ZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGdldFBlcmNlbnQgPSBjb3VudCA9PiAoMTAwICogY291bnQpIC8gZmlsdGVyZWRMZXZlbHMubGVuZ3RoO1xuICByZXR1cm4ge1xuICAgIGluY29tcGxldGVQZXJjZW50OiBnZXRQZXJjZW50KGluY29tcGxldGUpLFxuICAgIGltcGVyZmVjdFBlcmNlbnQ6IGdldFBlcmNlbnQoaW1wZXJmZWN0KSxcbiAgICBjb21wbGV0ZWRQZXJjZW50OiBnZXRQZXJjZW50KGNvbXBsZXRlZCksXG4gICAgdGltZVNwZW50OiB0aW1lU3BlbnQsXG4gICAgbGFzdFRpbWVzdGFtcDogbGFzdFRpbWVzdGFtcCxcbiAgfTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBzdHVkZW50TGVzc29uUHJvZ3Jlc3NUeXBlIG9iamVjdHMgZm9yIGVhY2ggbGVzc29uIGZyb20gdGhlIHByb3ZpZGVkXG4gKiBsZXZlbCBwcm9ncmVzcyBkYXRhIGZvciBlYWNoIHN0dWRlbnQuXG4gKiBAcGFyYW0ge3N0dWRlbnRJZDoge2xldmVsSWQ6IHN0dWRlbnRMZXZlbFByb2dyZXNzVHlwZX19IHNlY3Rpb25MZXZlbFByb2dyZXNzXG4gKiBBbiBvYmplY3Qga2V5ZWQgYnkgc3R1ZGVudCBpZCBhbGwgdGhlIHN0dWRlbnQncyBsZXZlbCBwcm9ncmVzcyBkYXRhXG4gKiBAcGFyYW0ge2xlc3NvblR5cGVbXX0gbGVzc29ucyBBbiBhcnJheSBvZiBsZXNzb25zXG4gKiBAcmV0dXJucyB7c3R1ZGVudElkOiB7bGVzc29uSWQ6IHN0dWRlbnRMZXNzb25Qcm9ncmVzc1R5cGV9fVxuICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgbGVzc29uIHByb2dyZXNzIGRhdGEgZm9yIGVhY2ggc3R1ZGVudCBpbiBhIHNlY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxlc3NvblByb2dyZXNzRm9yU2VjdGlvbihzZWN0aW9uTGV2ZWxQcm9ncmVzcywgbGVzc29ucykge1xuICAvLyBjcmVhdGUgZW1wdHkgXCJkaWN0aW9uYXJ5XCIgdG8gc3RvcmUgbGVzc29uIHByb2dyZXNzIGZvciBlYWNoIHN0dWRlbnRcbiAgY29uc3Qgc2VjdGlvbkxlc3NvblByb2dyZXNzID0ge307XG4gIE9iamVjdC5lbnRyaWVzKHNlY3Rpb25MZXZlbFByb2dyZXNzKS5mb3JFYWNoKFxuICAgIC8vIGtleTogc3R1ZGVudElkLCB2YWx1ZTogXCJkaWN0aW9uYXJ5XCIgb2YgbGV2ZWwgcHJvZ3Jlc3MgZm9yIHRoYXQgc3R1ZGVudFxuICAgIChbc3R1ZGVudElkLCBzdHVkZW50TGV2ZWxQcm9ncmVzc10pID0+IHtcbiAgICAgIC8vIGNyZWF0ZSBlbXB0eSBcImRpY3Rpb25hcnlcIiB0byBzdG9yZSBwZXItbGVzc29uIHByb2dyZXNzIGZvciBzdHVkZW50XG4gICAgICBjb25zdCBzdHVkZW50TGVzc29uUHJvZ3Jlc3MgPSB7fTtcbiAgICAgIC8vIGZvciBlYWNoIGxlc3Nvbiwgc3VtbWFyaXplIHN0dWRlbnQncyBwcm9ncmVzcyBiYXNlZCBvbiBsZXZlbCBwcm9ncmVzc1xuICAgICAgbGVzc29ucy5mb3JFYWNoKGxlc3NvbiA9PiB7XG4gICAgICAgIHN0dWRlbnRMZXNzb25Qcm9ncmVzc1tsZXNzb24uaWRdID0gbGVzc29uUHJvZ3Jlc3NGb3JTdHVkZW50KFxuICAgICAgICAgIHN0dWRlbnRMZXZlbFByb2dyZXNzLFxuICAgICAgICAgIGxlc3Nvbi5sZXZlbHNcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgLy8gYWRkIHN0dWRlbnQgcHJvZ3Jlc3MgdG8gc2VjdGlvbiBwcm9ncmVzc1xuICAgICAgc2VjdGlvbkxlc3NvblByb2dyZXNzW3N0dWRlbnRJZF0gPSBzdHVkZW50TGVzc29uUHJvZ3Jlc3M7XG4gICAgfVxuICApO1xuICByZXR1cm4gc2VjdGlvbkxlc3NvblByb2dyZXNzO1xufVxuXG4vKipcbiAqIFRoZSBsZXZlbCBvYmplY3QgcGFzc2VkIGRvd24gdG8gdXMgdmlhIHRoZSBzZXJ2ZXIgKGFuZCBzdG9yZWQgaW5cbiAqIHNjcmlwdC5sZXNzb25zLmxldmVscykgY29udGFpbnMgbW9yZSBkYXRhIHRoYW4gd2UgbmVlZC4gVGhpcyBwYXJzZXMgdGhlIHBhcnRzXG4gKiB3ZSBjYXJlIGFib3V0IHRvIGNvbmZvcm0gdG8gb3VyIGBsZXZlbFR5cGVgIG9iamVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHByb2Nlc3NlZExldmVsID0gKGxldmVsLCBwYXJlbnRMZXZlbElkKSA9PiB7XG4gIGNvbnN0IGlkID0gbGV2ZWwuYWN0aXZlSWQgfHwgbGV2ZWwuaWQ7XG4gIHJldHVybiB7XG4gICAgaWQsXG4gICAgdXJsOiBsZXZlbC51cmwsXG4gICAgbmFtZTogbGV2ZWwubmFtZSxcbiAgICBhcHA6IGxldmVsLmFwcCxcbiAgICB1c2VzTGFiMjogbGV2ZWwudXNlc19sYWIyLFxuICAgIHByb2dyZXNzaW9uOiBsZXZlbC5wcm9ncmVzc2lvbixcbiAgICBwcm9ncmVzc2lvbkRpc3BsYXlOYW1lOiBsZXZlbC5wcm9ncmVzc2lvbl9kaXNwbGF5X25hbWUsXG4gICAga2luZDogbGV2ZWwua2luZCxcbiAgICBpY29uOiBsZXZlbC5pY29uLFxuICAgIGlzVW5wbHVnZ2VkOiBsZXZlbC5kaXNwbGF5X2FzX3VucGx1Z2dlZCxcbiAgICBsZXZlbE51bWJlcjpcbiAgICAgIGxldmVsLmtpbmQgPT09IExldmVsS2luZC51bnBsdWdnZWRcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiBsZXZlbC50aXRsZSB8fCBsZXZlbC5wb3NpdGlvbixcbiAgICBidWJibGVUZXh0OlxuICAgICAgbGV2ZWwua2luZCA9PT0gTGV2ZWxLaW5kLnVucGx1Z2dlZFxuICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICA6IGxldmVsLmxldHRlciB8fCBsZXZlbC50aXRsZS50b1N0cmluZygpLFxuICAgIGlzQ29uY2VwdExldmVsOiBsZXZlbC5pc19jb25jZXB0X2xldmVsLFxuICAgIGlzVmFsaWRhdGVkOiBsZXZlbC5pc192YWxpZGF0ZWQsXG4gICAgY2FuSGF2ZUZlZWRiYWNrOiBsZXZlbC5jYW5faGF2ZV9mZWVkYmFjayxcbiAgICBib251czogbGV2ZWwuYm9udXMsXG4gICAgcGFnZU51bWJlcjpcbiAgICAgIHR5cGVvZiBsZXZlbC5wYWdlX251bWJlciAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBsZXZlbC5wYWdlX251bWJlclxuICAgICAgICA6IFBVWlpMRV9QQUdFX05PTkUsXG4gICAgLy8gU2NyaXB0IGxldmVsIElEIGRvZXNuJ3QgYXBwbHkgZm9yIHN1YmxldmVscy4gU2V0IHRvIHVuZGVmaW5lZCBpZiB3ZSBoYXZlIGEgcGFyZW50IGxldmVsLlxuICAgIHNjcmlwdExldmVsSWQ6IHBhcmVudExldmVsSWQgPyB1bmRlZmluZWQgOiBsZXZlbC5pZCxcbiAgICBzdWJsZXZlbHM6XG4gICAgICBsZXZlbC5zdWJsZXZlbHMgJiZcbiAgICAgIGxldmVsLnN1YmxldmVscy5tYXAoc3VibGV2ZWwgPT4gcHJvY2Vzc2VkTGV2ZWwoc3VibGV2ZWwsIGlkKSksXG4gICAgcGF0aDogbGV2ZWwucGF0aCxcbiAgICBwYXJlbnRMZXZlbElkLFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldExldmVsUmVzdWx0ID0gc2VydmVyUHJvZ3Jlc3MgPT4ge1xuICByZXR1cm4gc2VydmVyUHJvZ3Jlc3MucmVzdWx0IHx8IHJlc3VsdEZyb21TdGF0dXMoc2VydmVyUHJvZ3Jlc3Muc3RhdHVzKTtcbn07XG5cbi8qKlxuICogYHN0dWRlbnRMZXZlbFByb2dyZXNzVHlwZS5wYWdlc2AgaXMgdXNlZCBieSBtdWx0aS1wYWdlIGFzc2Vzc21lbnRzLFxuICogYW5kIGl0cyBwcmVzZW5jZSAob3IgYWJzZW5jZSkgaXMgaG93IHdlIGRpc3Rpbmd1aXNoIHRob3NlIGZyb20gc2luZ2xlLXBhZ2VcbiAqIGFzc2Vzc21lbnRzLiBgcGFnZXNfY29tcGxldGVkYCBpcyBhbiBvcHRpb25hbCBhcnJheSBvZiBpbmRpdmlkdWFsIHJlc3VsdHNcbiAqIGZvciBlYWNoIHBhZ2UgKG9yIG51bGwpLiBTaW5jZSB3ZSBvbmx5IGhhdmUgdGhlIHJlc3VsdHMgZm9yIHRoZSBwYWdlcywgd2VcbiAqIG5lZWQgdG8gY3JlYXRlIGEgYHN0dWRlbnRMZXZlbFByb2dyZXNzVHlwZWAgb2JqZWN0IGZyb20gdGhlIHJlc3VsdHMgdGhlblxuICogc2V0IHRoZSBgbG9ja2VkYCB2YWx1ZSBmcm9tIHRoZSBwYXJlbnQgcHJvZ3Jlc3MuXG4gKi9cbmNvbnN0IGdldFBhZ2VzUHJvZ3Jlc3MgPSBzZXJ2ZXJQcm9ncmVzcyA9PiB7XG4gIGlmIChzZXJ2ZXJQcm9ncmVzcy5wYWdlc19jb21wbGV0ZWQ/Lmxlbmd0aCA+IDEpIHtcbiAgICByZXR1cm4gc2VydmVyUHJvZ3Jlc3MucGFnZXNfY29tcGxldGVkLm1hcChwYWdlUmVzdWx0ID0+IHtcbiAgICAgIGNvbnN0IHBhZ2VQcm9ncmVzcyA9XG4gICAgICAgIChwYWdlUmVzdWx0ICYmIGxldmVsUHJvZ3Jlc3NGcm9tUmVzdWx0KHBhZ2VSZXN1bHQpKSB8fFxuICAgICAgICBsZXZlbFByb2dyZXNzRnJvbVN0YXR1cyhMZXZlbFN0YXR1cy5ub3RfdHJpZWQpO1xuICAgICAgcGFnZVByb2dyZXNzLmxvY2tlZCA9IHNlcnZlclByb2dyZXNzLmxvY2tlZCB8fCBmYWxzZTtcbiAgICAgIHJldHVybiBwYWdlUHJvZ3Jlc3M7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vKipcbiAqIFBhcnNlIGEgbGV2ZWwgcHJvZ3Jlc3Mgb2JqZWN0IHRoYXQgd2UgZ2V0IGZyb20gdGhlIHNlcnZlciB1c2luZyBlaXRoZXJcbiAqIC9hcGkvdXNlcl9wcm9ncmVzcyBvciAvZGFzaGJvYXJkYXBpL3NlY3Rpb25fbGV2ZWxfcHJvZ3Jlc3MgaW50byBvdXJcbiAqIGNhbm9uaWNhbCBzdHVkZW50TGV2ZWxQcm9ncmVzc1R5cGUgc2hhcGUuXG4gKiBAcGFyYW0ge29iamVjdH0gc2VydmVyUHJvZ3Jlc3MgQSBwcm9ncmVzcyBvYmplY3QgZnJvbSB0aGUgc2VydmVyXG4gKiBAcmV0dXJucyB7c3R1ZGVudExldmVsUHJvZ3Jlc3NUeXBlfSBPdXIgY2Fub25pY2FsIHByb2dyZXNzIHNoYXBlXG4gKi9cbmV4cG9ydCBjb25zdCBsZXZlbFByb2dyZXNzRnJvbVNlcnZlciA9IHNlcnZlclByb2dyZXNzID0+IHtcbiAgcmV0dXJuIHtcbiAgICBzdGF0dXM6IHNlcnZlclByb2dyZXNzLnN0YXR1cyB8fCBMZXZlbFN0YXR1cy5ub3RfdHJpZWQsXG4gICAgcmVzdWx0OiBnZXRMZXZlbFJlc3VsdChzZXJ2ZXJQcm9ncmVzcyksXG4gICAgbG9ja2VkOiBzZXJ2ZXJQcm9ncmVzcy5sb2NrZWQgfHwgZmFsc2UsXG4gICAgcGFpcmVkOiBzZXJ2ZXJQcm9ncmVzcy5wYWlyZWQgfHwgZmFsc2UsXG4gICAgdGltZVNwZW50OiBzZXJ2ZXJQcm9ncmVzcy50aW1lX3NwZW50LFxuICAgIHRlYWNoZXJGZWVkYmFja1Jldmlld1N0YXRlOiBzZXJ2ZXJQcm9ncmVzcy50ZWFjaGVyX2ZlZWRiYWNrX3Jldmlld19zdGF0ZSxcbiAgICB0ZWFjaGVyRmVlZGJhY2tOZXc6IHNlcnZlclByb2dyZXNzLnRlYWNoZXJfZmVlZGJhY2tfbmV3IHx8IGZhbHNlLFxuICAgIHRlYWNoZXJGZWVkYmFja0NvbW1lbnRlZDpcbiAgICAgIHNlcnZlclByb2dyZXNzLnRlYWNoZXJfZmVlZGJhY2tfY29tbWVudGVkIHx8IGZhbHNlLFxuICAgIGxhc3RUaW1lc3RhbXA6IHNlcnZlclByb2dyZXNzLmxhc3RfcHJvZ3Jlc3NfYXQsXG4gICAgcGFnZXM6IGdldFBhZ2VzUHJvZ3Jlc3Moc2VydmVyUHJvZ3Jlc3MpLFxuICB9O1xufTtcblxuLyoqXG4gKiBHaXZlbiBhbiBvYmplY3QgZnJvbSB0aGUgc2VydmVyIHdpdGggc3R1ZGVudCBwcm9ncmVzcyBkYXRhIGtleWVkIGJ5IGxldmVsIElELFxuICogcGFyc2UgdGhlIHByb2dyZXNzIGRhdGEgaW50byBvdXIgY2Fub25pY2FsIHN0dWRlbnRMZXZlbFByb2dyZXNzVHlwZVxuICogQHBhcmFtIHt7W2xldmVsSWQ6IG51bWJlcl06c2VydmVyUHJvZ3Jlc3N9fSBzZXJ2ZXJTdHVkZW50UHJvZ3Jlc3NcbiAqIEByZXR1cm5zIHt7W2xldmVsSWQ6IG51bWJlcl06c3R1ZGVudExldmVsUHJvZ3Jlc3NUeXBlfX1cbiAqL1xuZXhwb3J0IGNvbnN0IHByb2Nlc3NTZXJ2ZXJTdHVkZW50UHJvZ3Jlc3MgPSBzZXJ2ZXJTdHVkZW50UHJvZ3Jlc3MgPT4ge1xuICByZXR1cm4gXy5tYXBWYWx1ZXMoc2VydmVyU3R1ZGVudFByb2dyZXNzLCBwcm9ncmVzcyA9PlxuICAgIGxldmVsUHJvZ3Jlc3NGcm9tU2VydmVyKHByb2dyZXNzKVxuICApO1xufTtcblxuLyoqXG4gKiBHaXZlbiBhbiBvYmplY3QgZnJvbSB0aGUgc2VydmVyIHdpdGggc2VjdGlvbiBwcm9ncmVzcyBkYXRhIGtleWVkIGJ5IHN0dWRlbnRcbiAqIElEIGFuZCBsZXZlbCBJRCwgcGFyc2UgdGhlIHByb2dyZXNzIGRhdGEgaW50byBvdXIgY2Fub25pY2FsXG4gKiBzdHVkZW50TGV2ZWxQcm9ncmVzc1R5cGVcbiAqIEBwYXJhbSB7e3N0dWRlbklkOntsZXZlbElkOnNlcnZlclByb2dyZXNzfX19IHNlcnZlclNlY3Rpb25Qcm9ncmVzc1xuICogQHJldHVybnMge3tzdHVkZW5JZDp7bGV2ZWxJZDpzdHVkZW50TGV2ZWxQcm9ncmVzc1R5cGV9fX1cbiAqL1xuZXhwb3J0IGNvbnN0IHByb2Nlc3NTZXJ2ZXJTZWN0aW9uUHJvZ3Jlc3MgPSBzZXJ2ZXJTZWN0aW9uUHJvZ3Jlc3MgPT4ge1xuICByZXR1cm4gXy5tYXBWYWx1ZXMoc2VydmVyU2VjdGlvblByb2dyZXNzLCBzdHVkZW50ID0+XG4gICAgcHJvY2Vzc1NlcnZlclN0dWRlbnRQcm9ncmVzcyhzdHVkZW50KVxuICApO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBzdHVkZW50TGV2ZWxQcm9ncmVzc1R5cGUgb2JqZWN0IHdpdGggdGhlIHByb3ZpZGVkIHN0YXR1cyBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0dXNcbiAqIEByZXR1cm5zIHtzdHVkZW50TGV2ZWxQcm9ncmVzc1R5cGV9XG4gKi9cbmV4cG9ydCBjb25zdCBsZXZlbFByb2dyZXNzRnJvbVN0YXR1cyA9IHN0YXR1cyA9PiB7XG4gIHJldHVybiBsZXZlbFByb2dyZXNzRnJvbVNlcnZlcih7c3RhdHVzOiBzdGF0dXN9KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgc3R1ZGVudExldmVsUHJvZ3Jlc3NUeXBlIG9iamVjdCBmcm9tIHRoZSBwcm92aWRlZCByZXN1bHQgdmFsdWUuXG4gKiBUaGlzIGlzIHVzZWQgdG8gbWVyZ2UgcHJvZ3Jlc3MgZGF0YSBmcm9tIHNlc3Npb24gc3RvcmFnZSB3aGljaCBvbmx5IGluY2x1ZGVzXG4gKiBhIHJlc3VsdCB2YWx1ZSBpbnRvIG91ciBkYXRhIG1vZGVsIHRoYXQgdXNlcyBzdHVkZW50TGV2ZWxQcm9ncmVzc1R5cGUgb2JqZWN0cy5cbiAqIEBwYXJhbSB7bnVtYmVyfSByZXN1bHRcbiAqIEByZXR1cm5zIHtzdHVkZW50TGV2ZWxQcm9ncmVzc1R5cGV9XG4gKi9cbmV4cG9ydCBjb25zdCBsZXZlbFByb2dyZXNzRnJvbVJlc3VsdCA9IHJlc3VsdCA9PiB7XG4gIHJldHVybiBsZXZlbFByb2dyZXNzRnJvbVN0YXR1cyhhY3Rpdml0eUNzc0NsYXNzKHJlc3VsdCkpO1xufTtcbiIsImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCB7UmV2aWV3U3RhdGVzfSBmcm9tICdAY2RvL2FwcHMvdGVtcGxhdGVzL2ZlZWRiYWNrL3R5cGVzJztcblxuLyoqXG4gKiBTZWUgQXBwbGljYXRpb25IZWxwZXI6OlBVWlpMRV9QQUdFX05PTkUuXG4gKi9cbmV4cG9ydCBjb25zdCBQVVpaTEVfUEFHRV9OT05FID0gLTE7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gU3R1ZGVudFxuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IG5hbWVcbiAqL1xuZXhwb3J0IGNvbnN0IHN0dWRlbnRUeXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgaWQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgbmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxufSk7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTGV2ZWxcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWQgVGhlIGlkIG9mIHRoZSBsZXZlbC4gSXQgaXMgaW50ZW50aW9uYWxseVxuICogICBhIHN0cmluZyAoZGVzcGl0ZSBhbHdheXMgYmVpbmcgbnVtZXJpY2FsKSBiZWNhdXNlIGl0IGdldHNcbiAqICAgdXNlZCBhcyBhIGtleSBpbiBKUyBvYmplY3RzIGFuZCBpcyB1c2VkIGluIHRoZSB1cmwuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gdXJsXG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGljb25cbiAqIEBwcm9wZXJ0eSB7Ym9vbH0gaXNVbnBsdWdnZWRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsZXZlbE51bWJlclxuICogQHByb3BlcnR5IHtib29sfSBpc0NvbmNlcHRMZXZlbFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGtpbmRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwYWdlTnVtYmVyIFRoZSBwYWdlIG51bWJlciBvZiB0aGUgbGV2ZWwgaWZcbiAqICAgdGhpcyBpcyBhIG11bHRpLXBhZ2UgbGV2ZWwsIG9yIFBVWlpMRV9QQUdFX05PTkVcbiAqIEBwcm9wZXJ0eSB7YXJyYXl9IHN1YmxldmVscyBBbiBvcHRpb25hbCBhcnJheSBvZiByZWN1cnNpdmUgc3VibGV2ZWwgb2JqZWN0c1xuICovXG5jb25zdCBsZXZlbFNoYXBlID0ge1xuICBpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBsZXZlbE51bWJlcjogUHJvcFR5cGVzLm51bWJlcixcbiAgYnViYmxlVGV4dDogUHJvcFR5cGVzLnN0cmluZyxcbiAga2luZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgdXJsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpY29uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpc1VucGx1Z2dlZDogUHJvcFR5cGVzLmJvb2wsXG4gIGlzQ29uY2VwdExldmVsOiBQcm9wVHlwZXMuYm9vbCxcbiAgcGFnZU51bWJlcjogUHJvcFR5cGVzLm51bWJlcixcbiAgLyoqIHN1YmxldmVsczogUHJvcFR5cGVzLmFycmF5ICovIC8vIFNlZSBiZWxvd1xufTtcbi8vIEF2b2lkIHJlY3Vyc2l2ZSBkZWZpbml0aW9uXG5sZXZlbFNoYXBlLnN1YmxldmVscyA9IFByb3BUeXBlcy5hcnJheU9mKFxuICBQcm9wVHlwZXMuc2hhcGUobGV2ZWxXaXRoUHJvZ3Jlc3NUeXBlKVxuKTtcblxuZXhwb3J0IGNvbnN0IGxldmVsVHlwZSA9IFByb3BUeXBlcy5zaGFwZShsZXZlbFNoYXBlKTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBMZXZlbFdpdGhQcm9ncmVzc1xuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdGF0dXNcbiAqIEBwcm9wZXJ0eSB7Ym9vbH0gaXNMb2NrZWRcbiAqIEBwcm9wZXJ0eSB7Ym9vbH0gaXNDdXJyZW50TGV2ZWxcbiAqXG4gKiBOb3RlOiBnb2luZyBmb3J3YXJkLCB3ZSBhcmUgbW92aW5nIGFsbCB1c2VyLXNwZWNpZmljIGRhdGEgYWJvdXQgYSBsZXZlbCBpbnRvXG4gKiBgc3R1ZGVudExldmVsUHJvZ3Jlc3NUeXBlYCwgc28gb3VyIGBsZXZlbFR5cGVgIG9ubHkgaW5jbHVkZXMgZGF0YSB0aGF0IGlzXG4gKiBub3QgdXNlci1zcGVjaWZpYy4gSG93ZXZlciwgZm9yIG5vdyB3ZSBzdGlsbCBuZWVkIHRvIHN1cHBvcnQgdGhpcyBsZWdhY3lcbiAqIHR5cGUgd2hpY2ggZG9lcyBpbmNsdWRlIHVzZXItc3BlY2lmaWMgZGF0YSwgYW5kIGJ1aWxkcyBvbiBgbGV2ZWxUeXBlYC5cbiAqL1xuZXhwb3J0IGNvbnN0IGxldmVsV2l0aFByb2dyZXNzVHlwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gIC4uLmxldmVsU2hhcGUsXG4gIHN0YXR1czogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBwYWlyZWQ6IFByb3BUeXBlcy5ib29sLFxuICBpc0xvY2tlZDogUHJvcFR5cGVzLmJvb2wsXG4gIGlzQ3VycmVudExldmVsOiBQcm9wVHlwZXMuYm9vbCxcbn0pO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0dWRlbnRMZXZlbFByb2dyZXNzXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0YXR1c1xuICogQSBzdHJpbmcgZW51bSByZXByZXNlbnRpbmcgc3R1ZGVudCBwcm9ncmVzcyBzdGF0dXMgb24gYSBsZXZlbC5cbiAqIFNlZSBnZW5lcmF0ZWQtc2NyaXB0cy9zaGFyZWRDb25zdGFudHMuTGV2ZWxTdGF0dXMuXG4gKiBAcHJvcGVydHkge251bWJlcn0gcmVzdWx0XG4gKiBBIG51bWVyaWNhbCBlbnVtIG9mIHRoZSBUZXN0UmVzdWx0IGEgc3R1ZGVudCByZWNlaXZlZCBmb3IgYSBsZXZlbC5cbiAqIFNlZSBzcmMvY29uc3RhbnRzLlRlc3RSZXN1bHQuXG4gKiBTZWUgc3JjL2NvZGUtc3R1ZGlvL2FjdGl2aXR5VXRpbHMuYWN0aXZpdHlDc3NDbGFzcyBmb3IgYSBtYXBwaW5nIHRvIHN0YXR1cy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbH0gbG9ja2VkXG4gKiBBIGJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGUgbGV2ZWwgaXMgbG9ja2VkIGZvciB0aGUgc3R1ZGVudC5cbiAqIEBwcm9wZXJ0eSB7Ym9vbH0gcGFpcmVkXG4gKiBBIGJvb2xlYW4gaW5kaWNhdGluZyBpZiBhIHN0dWRlbnQgd2FzIHBhaXJlZCBvbiBhIGxldmVsLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWVTcGVudFxuICogVGhlIG51bWJlciBvZiBzZWNvbmRzIGEgc3R1ZGVudCBzcGVudCBvbiBhIGxldmVsLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxhc3RUaW1lc3RhbXBcbiAqIEEgdGltZXN0YW1wIG9mIHRoZSBsYXN0IHRpbWUgYSBzdHVkZW50IG1hZGUgcHJvZ3Jlc3Mgb24gYSBsZXZlbC5cbiAqIEBwcm9wZXJ0eSB7UmV2aWV3U3RhdGVzfSB0ZWFjaGVyRmVlZGJhY2tSZXZpZXdTdGF0ZVxuICogQW4gb3B0aW9uYWwgZW51bSBpbmRpY2F0aW5nIGEgdGVhY2hlciBmZWVkYmFjayByZXZpZXcgc3RhdGUuXG4gKiBAcHJvcGVydHkge2FycmF5fSBwYWdlc1xuICogQW4gb3B0aW9uYWwgYXJyYXkgb2YgcmVjdXJzaXZlIHByb2dyZXNzIG9iamVjdHMgcmVwcmVzZW50aW5nIHByb2dyZXNzIG9uXG4gKiBpbmRpdmlkdWFsIHBhZ2VzIG9mIGEgbXVsdGktcGFnZSBhc3Nlc3NtZW50XG4gKi9cbmNvbnN0IHN0dWRlbnRMZXZlbFByb2dyZXNzU2hhcGUgPSB7XG4gIHN0YXR1czogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICByZXN1bHQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgbG9ja2VkOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBwYWlyZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIHRpbWVTcGVudDogUHJvcFR5cGVzLm51bWJlcixcbiAgbGFzdFRpbWVzdGFtcDogUHJvcFR5cGVzLm51bWJlcixcbiAgdGVhY2hlckZlZWRiYWNrUmV2aWV3U3RhdGU6IFByb3BUeXBlcy5vbmVPZihPYmplY3Qua2V5cyhSZXZpZXdTdGF0ZXMpKSxcbiAgdGVhY2hlckZlZWRiYWNrTmV3OiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAvKiogcGFnZXM6IFByb3BUeXBlcy5hcnJheSAqLyAvLyBTZWUgYmVsb3dcbn07XG4vLyBBdm9pZCByZWN1cnNpdmUgZGVmaW5pdGlvblxuc3R1ZGVudExldmVsUHJvZ3Jlc3NTaGFwZS5wYWdlcyA9IFByb3BUeXBlcy5hcnJheU9mKFxuICBQcm9wVHlwZXMuc2hhcGUoc3R1ZGVudExldmVsUHJvZ3Jlc3NTaGFwZSlcbik7XG5leHBvcnQgY29uc3Qgc3R1ZGVudExldmVsUHJvZ3Jlc3NUeXBlID0gUHJvcFR5cGVzLnNoYXBlKFxuICBzdHVkZW50TGV2ZWxQcm9ncmVzc1NoYXBlXG4pO1xuXG4vKlxuICogQHR5cGVkZWYge09iamVjdH0gdW5pdFByb2dyZXNzVHlwZVxuICpcbiAqIHVuaXRQcm9ncmVzc1R5cGUgcmVwcmVzZW50cyBhIHVzZXIncyBwcm9ncmVzcyBpbiBhIHNjcmlwdC4gIEl0IGlzIGEgbWFwIG9mXG4gKiBsZXZlbElkIC0+IHN0dWRlbnRMZXZlbFByb2dyZXNzVHlwZSBvYmplY3RzLlxuICovXG5leHBvcnQgY29uc3QgdW5pdFByb2dyZXNzVHlwZSA9IFByb3BUeXBlcy5vYmplY3RPZihzdHVkZW50TGV2ZWxQcm9ncmVzc1R5cGUpO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IExlc3NvblxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBuYW1lXG4gKiBAcHJvcGVydHkge251bWJlcn0gaWRcbiAqIEBwcm9wZXJ0eSB7Ym9vbH0gbG9ja2FibGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBsZXNzb25OdW1iZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGxlc3NvblR5cGUgPSBQcm9wVHlwZXMuc2hhcGUoe1xuICBuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGlkOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIGxvY2thYmxlOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBsZXNzb25OdW1iZXI6IFByb3BUeXBlcy5udW1iZXIsXG4gIGxlc3Nvbl9wbGFuX2h0bWxfdXJsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBsZXNzb25fZmVlZGJhY2tfdXJsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpc0ZvY3VzQXJlYTogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgZGVzY3JpcHRpb25fc3R1ZGVudDogUHJvcFR5cGVzLnN0cmluZyxcbiAgZGVzY3JpcHRpb25fdGVhY2hlcjogUHJvcFR5cGVzLnN0cmluZyxcbn0pO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFN0dWRlbnRMZXNzb25Qcm9ncmVzc1xuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbmNvbXBsZXRlUGVyY2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGltcGVyZmVjdFBlcmNlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb21wbGV0ZWRQZXJjZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gdGltZVNwZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gbGFzdFRpbWVzdGFtcFxuICovXG5leHBvcnQgY29uc3Qgc3R1ZGVudExlc3NvblByb2dyZXNzVHlwZSA9IFByb3BUeXBlcy5zaGFwZSh7XG4gIGluY29tcGxldGVQZXJjZW50OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIGltcGVyZmVjdFBlcmNlbnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgY29tcGxldGVkUGVyY2VudDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICB0aW1lU3BlbnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgbGFzdFRpbWVzdGFtcDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxufSk7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTGVzc29uR3JvdXBcbiAqIFN1bW1hcnkgb2YgYSBMZXNzb25Hcm91cCBydWJ5IG1vZGVsLlxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkaXNwbGF5TmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGlkXG4gKiBAcHJvcGVydHkge3N0cmluZ30gYmlnUXVlc3Rpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkZXNjcmlwdGlvblxuICovXG5jb25zdCBsZXNzb25Hcm91cFNoYXBlID0ge1xuICBpZDogUHJvcFR5cGVzLm51bWJlcixcbiAgZGlzcGxheU5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGJpZ1F1ZXN0aW9uczogUHJvcFR5cGVzLnN0cmluZyxcbiAgZGVzY3JpcHRpb246IFByb3BUeXBlcy5zdHJpbmcsXG59O1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEdyb3VwZWRMZXNzb25zXG4gKiBUeXBlIG9mIG9iamVjdCByZXR1cm5lZCBieSBgcHJvZ3Jlc3NSZWR1eC5ncm91cGVkTGVzc29ucygpYC5cbiAqXG4gKiBAcHJvcGVydHkge2xlc3Nvbkdyb3VwU2hhcGV9IGxlc3Nvbkdyb3VwXG4gKiBTdW1tYXJ5IG9mIHRoZSBMZXNzb25Hcm91cCBydWJ5IG1vZGVsIGRlc2NyaWJpbmcgdGhpcyBncm91cCBvZiBsZXNzb25zLlxuICogQHByb3BlcnR5IHtbbGVzc29uVHlwZV19IGxlc3NvbnNcbiAqIE9yZGVyZWQgbGlzdCBvZiBsZXNzb25zIGluIHRoaXMgZ3JvdXAuXG4gKiBAcHJvcGVydHkge1tbbGV2ZWxXaXRoUHJvZ3Jlc3NUeXBlXV19IGxldmVsc0J5TGVzc29uXG4gKiBPcmRlcmVkIGxpc3Qgb2YgbGV2ZWxzIGZvciBlYWNoIG9mIHRoZSBsZXNzb25zIGluIHRoaXMgZ3JvdXAuXG4gKi9cbmV4cG9ydCBjb25zdCBncm91cGVkTGVzc29uc1R5cGUgPSBQcm9wVHlwZXMuc2hhcGUoe1xuICBsZXNzb25Hcm91cDogUHJvcFR5cGVzLnNoYXBlKGxlc3Nvbkdyb3VwU2hhcGUpLFxuICBsZXNzb25zOiBQcm9wVHlwZXMuYXJyYXlPZihsZXNzb25UeXBlKS5pc1JlcXVpcmVkLFxuICBsZXZlbHNCeUxlc3NvbjogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLmFycmF5T2YobGV2ZWxXaXRoUHJvZ3Jlc3NUeXBlKSlcbiAgICAuaXNSZXF1aXJlZCxcbn0pO1xuIl0sIm5hbWVzIjpbIl9jb25zdGFudHMiLCJyZXF1aXJlIiwiX3NoYXJlZENvbnN0YW50cyIsImV4cG9ydHMiLCJhY3Rpdml0eUNzc0NsYXNzIiwicmVzdWx0IiwiVGVzdFJlc3VsdHMiLCJOT19URVNUU19SVU4iLCJSRVZJRVdfQUNDRVBURURfUkVTVUxUIiwiTGV2ZWxTdGF0dXMiLCJyZXZpZXdfYWNjZXB0ZWQiLCJSRVZJRVdfUkVKRUNURURfUkVTVUxUIiwicmV2aWV3X3JlamVjdGVkIiwiU1VCTUlUVEVEX1JFU1VMVCIsInN1Ym1pdHRlZCIsIk1JTklNVU1fT1BUSU1BTF9SRVNVTFQiLCJwZXJmZWN0IiwiTUlOSU1VTV9QQVNTX1JFU1VMVCIsInBhc3NlZCIsImF0dGVtcHRlZCIsIm5vdF90cmllZCIsInJlc3VsdEZyb21TdGF0dXMiLCJzdGF0dXMiLCJmcmVlX3BsYXlfY29tcGxldGUiLCJGUkVFX1BMQVkiLCJBTExfUEFTUyIsIm1lcmdlQWN0aXZpdHlSZXN1bHQiLCJhIiwiYiIsIk1hdGgiLCJtYXgiLCJyZWR1Y2VyIiwic3RhdGUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJIaWRkZW5TdGF0ZSIsImFjdGlvbiIsInR5cGUiLCJTRVRfSElEREVOX0xFU1NPTlMiLCJoaWRkZW5MZXNzb25zUGVyU2VjdGlvbiIsImhpZGVhYmxlTGVzc29uc0FsbG93ZWQiLCJzZWN0aW9uSWRzIiwiT2JqZWN0Iiwia2V5cyIsIm5leHRTdGF0ZSIsImZvckVhY2giLCJzZWN0aW9uSWQiLCJsZXNzb25JZCIsInNldEluIiwidG9TdHJpbmciLCJ2YWxpZGF0ZVNlY3Rpb25JZHMiLCJtZXJnZSIsImhpZGRlbkxlc3NvbnNJbml0aWFsaXplZCIsIlVQREFURV9ISURERU5fTEVTU09OIiwiaGlkZGVuIiwiVVBEQVRFX0hJRERFTl9TQ1JJUFQiLCJzY3JpcHRJZCIsImdldEhpZGRlbkxlc3NvbnMiLCJzY3JpcHROYW1lIiwiY2FuSGlkZUxlc3NvbnMiLCJkaXNwYXRjaCIsIiQiLCJhamF4IiwidXJsIiwiY29uY2F0IiwiZGF0YVR5cGUiLCJjb250ZW50VHlwZSIsImRvbmUiLCJyZXNwb25zZSIsImluaXRpYWxpemVIaWRkZW5MZXNzb25zIiwiZGF0YSIsIkFycmF5IiwiaXNBcnJheSIsIl9kZWZpbmVQcm9wZXJ0eSIsIlNUVURFTlRfU0VDVElPTl9JRCIsInNldEhpZGRlbkxlc3NvbnMiLCJmYWlsIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiaW5pdGlhbGl6ZUhpZGRlblNjcmlwdHMiLCJ1cGRhdGVIaWRkZW5TY3JpcHQiLCJpc0xlc3NvbkhpZGRlbkZvclNlY3Rpb24iLCJpc0hpZGRlbkZvclNlY3Rpb24iLCJpc1NjcmlwdEhpZGRlbkZvclNlY3Rpb24iLCJ0b2dnbGVIaWRkZW5MZXNzb24iLCJ1cGRhdGVIaWRkZW5MZXNzb24iLCJwb3N0VG9nZ2xlSGlkZGVuIiwidG9nZ2xlSGlkZGVuU2NyaXB0IiwiX2ltbXV0YWJsZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfanF1ZXJ5Iiwib2JqIiwiX19lc01vZHVsZSIsIl90eXBlb2YiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsImtleSIsInZhbHVlIiwiX3RvUHJvcGVydHlLZXkiLCJ0IiwiaSIsIl90b1ByaW1pdGl2ZSIsInIiLCJlIiwidG9QcmltaXRpdmUiLCJjYWxsIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiTnVtYmVyIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJJbW11dGFibGUiLCJSZWNvcmQiLCJsZXNzb25zQnlTZWN0aW9uIiwiTWFwIiwic2NyaXB0c0J5U2VjdGlvbiIsImdldEluIiwiZ2V0Iiwic2l6ZSIsIkVycm9yIiwic2VjdGlvbl9pZCIsInN0YWdlX2lkIiwiSlNPTiIsInN0cmluZ2lmeSIsInN1Y2Nlc3MiLCJ3aW5kb3ciLCJfX1Rlc3RJbnRlcmZhY2UiLCJ0b2dnbGVIaWRkZW5Vbml0Q29tcGxldGUiLCJpdGVtSWQiLCJieVNlY3Rpb25LZXkiLCJpbml0aWFsU3RhdGUiLCJBVVRIT1JJWkVfTE9DS0FCTEUiLCJhc3NpZ24iLCJsb2NrYWJsZUF1dGhvcml6ZWQiLCJpc0F1dGhvcml6ZWQiLCJsb2NrYWJsZUF1dGhvcml6ZWRMb2FkZWQiLCJTRVRfU0VDVElPTl9MT0NLX1NUQVRVUyIsIl9vYmplY3RTcHJlYWQiLCJsZXNzb25zQnlTZWN0aW9uSWQiLCJfIiwibWFwVmFsdWVzIiwic2VjdGlvbnMiLCJzZWN0aW9uIiwibGVzc29ucyIsImxlc3NvbnNCeVNlY3Rpb25JZExvYWRlZCIsIlJFRlJFU0hfU0VDVElPTl9MT0NLX1NUQVRVUyIsImxvY2tEaWFsb2dMZXNzb25JZCIsImxvY2tTdGF0dXMiLCJsb2NrU3RhdHVzRm9yTGVzc29uIiwiU0VMRUNUX1NFQ1RJT04iLCJwYXlsb2FkIiwiTk9fU0VDVElPTiIsIk9QRU5fTE9DS19ESUFMT0ciLCJDTE9TRV9MT0NLX0RJQUxPRyIsIkJFR0lOX1NBVkUiLCJzYXZpbmciLCJGSU5JU0hfU0FWRSIsIm5leHRMb2NrU3RhdHVzIiwibmV4dExlc3NvbiIsImNsb25lRGVlcCIsIml0ZW0iLCJpbmRleCIsInVwZGF0ZSIsInVzZXJfbGV2ZWxfaWQiLCJ1c2VyTGV2ZWxJZCIsImxvY2tlZCIsIkxvY2tTdGF0dXMiLCJMb2NrZWQiLCJyZWFkb25seV9hbnN3ZXJzIiwiUmVhZG9ubHlBbnN3ZXJzIiwiX2xvZGFzaCIsIl90ZWFjaGVyU2VjdGlvbnNSZWR1eCIsIl91dGlscyIsIm93bktleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJwdXNoIiwiYXBwbHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsIm1ha2VFbnVtIiwiYXV0aG9yaXplTG9ja2FibGUiLCJvcGVuTG9ja0RpYWxvZyIsImJlZ2luU2F2ZSIsImZpbmlzaFNhdmUiLCJuZXdMb2NrU3RhdHVzIiwicGVyZm9ybVNhdmUiLCJvbkNvbXBsZXRlIiwiZ2V0U3RhdGUiLCJvbGRMb2NrU3RhdHVzIiwibGVzc29uTG9jayIsInNhdmVEYXRhIiwiaXNFcXVhbCIsIm1hcCIsInVzZXJfbGV2ZWxfZGF0YSIsInVzZXJMZXZlbERhdGEiLCJ1cGRhdGVzIiwiY2xvc2VMb2NrRGlhbG9nIiwic2F2ZUxvY2tEaWFsb2ciLCJsb2NrTGVzc29uIiwic3R1ZGVudCIsIm5hbWUiLCJFZGl0YWJsZSIsImZ1bGx5TG9ja2VkTGVzc29uTWFwcGluZyIsInJlZHVjZSIsImZ1bGx5TG9ja2VkIiwic29tZSIsInNldFNlY3Rpb25Mb2NrU3RhdHVzIiwicmVmZXRjaFNlY3Rpb25Mb2NrU3RhdHVzIiwic2NyaXB0X2lkIiwicmVmcmVzaFNlY3Rpb25Mb2NrU3RhdHVzIiwibG9nIiwiZW52aXJvbm1lbnRTcGVjaWZpY0Nvb2tpZU5hbWUiLCJyYWNrX2VudiIsImRhc2hib2FyZCIsImdldFJvb3REb21haW5Gcm9tSG9zdG5hbWUiLCJob3N0bmFtZSIsInNwbGl0Iiwic2xpY2UiLCJqb2luIiwiaGFzUXVlcnlQYXJhbSIsInBhcnNlZFBhcmFtcyIsInF1ZXJ5UGFyYW1zIiwiaGFzT3duUHJvcGVydHkiLCJyZXNldFdpbmRvd0xvY2F0aW9uIiwid2luZG93TG9jYXRpb24iLCJsb2NhdGlvbiIsInNldFdpbmRvd0xvY2F0aW9uIiwiZmFrZUxvY2F0aW9uIiwidXBkYXRlUXVlcnlQYXJhbSIsInBhcmFtIiwidXNlUmVwbGFjZVN0YXRlIiwibmV3U3RyaW5nIiwicXVlcnlTdHJpbmciLCJwYXJzZSIsInNlYXJjaCIsIm5ld0xvY2F0aW9uIiwicGF0aG5hbWUiLCJtZXRob2QiLCJoaXN0b3J5IiwiZG9jdW1lbnQiLCJ0aXRsZSIsIl9xdWVyeVN0cmluZyIsInBhcnNlZCIsIlZpZXdUeXBlIiwiUGFydGljaXBhbnQiLCJTRVRfVklFV19UWVBFIiwidmlld1R5cGUiLCJfdXRpbHMyIiwic2V0Vmlld1R5cGUiLCJjaGFuZ2VWaWV3VHlwZSIsImlzQXN5bmMiLCJyZWxvYWQiLCJfcHJvcFR5cGVzIiwiZmVlZGJhY2tTaGFwZSIsIlByb3BUeXBlcyIsInNoYXBlIiwiaWQiLCJudW1iZXIiLCJpc1JlcXVpcmVkIiwic2Vlbl9vbl9mZWVkYmFja19wYWdlX2F0Iiwic3RyaW5nIiwic3R1ZGVudF9maXJzdF92aXNpdGVkX2F0IiwiY3JlYXRlZF9hdCIsIm9uZU9mVHlwZSIsImluc3RhbmNlT2YiLCJEYXRlIiwiY29tbWVudCIsInBlcmZvcm1hbmNlIiwiaXNfYXdhaXRpbmdfdGVhY2hlcl9yZXZpZXciLCJib29sIiwicmV2aWV3X3N0YXRlIiwibGV2ZWxGZWVkYmFja1R5cGUiLCJsZXNzb25OYW1lIiwibGVzc29uTnVtIiwibGV2ZWxOdW0iLCJsaW5rVG9MZXZlbCIsInVuaXROYW1lIiwiZmVlZGJhY2tzIiwiYXJyYXlPZiIsImdldEljb25Gb3JMZXZlbCIsImxldmVsIiwiaXNMZXZlbEFzc2Vzc21lbnQiLCJpc1VucGx1Z2dlZCIsImlzTG9ja2VkIiwiaWNvbiIsIm1hdGNoIiwiZXhlYyIsImJvbnVzIiwiZGVmYXVsdEJ1YmJsZUljb24iLCJsZXNzb25IYXNMZXZlbHMiLCJsZXNzb24iLCJfbGVzc29uJGxldmVscyIsImxldmVscyIsImxlc3NvbklzQWxsQXNzZXNzbWVudCIsImV2ZXJ5Iiwia2luZCIsIkxldmVsS2luZCIsImFzc2Vzc21lbnQiLCJsZXNzb25Jc0xvY2tlZEZvckFsbFN0dWRlbnRzIiwiY3VycmVudFNlY3Rpb25JZCIsInRlYWNoZXJTZWN0aW9ucyIsInNlbGVjdGVkU2VjdGlvbklkIiwiY3VycmVudFNlY3Rpb24iLCJsZXNzb25Jc0xvY2tlZEZvclVzZXIiLCJ2aWV3QXMiLCJsb2NrYWJsZSIsImN1cnJlbnRVc2VyIiwidXNlcklkIiwiSW5zdHJ1Y3RvciIsImxlc3NvbkxvY2tlZCIsImxlc3NvbklzVmlzaWJsZSIsImhpZGRlbkxlc3NvblN0YXRlIiwiaGlkZGVuTGVzc29uIiwibGVzc29uUHJvZ3Jlc3NGb3JTZWN0aW9uIiwic2VjdGlvbkxldmVsUHJvZ3Jlc3MiLCJzZWN0aW9uTGVzc29uUHJvZ3Jlc3MiLCJlbnRyaWVzIiwiX3JlZiIsIl9yZWYyIiwiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJfYXJyYXlXaXRoSG9sZXMiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJsIiwibiIsInUiLCJmIiwibmV4dCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwiZnJvbSIsInRlc3QiLCJfbm9uSXRlcmFibGVSZXN0Iiwic3R1ZGVudElkIiwic3R1ZGVudExldmVsUHJvZ3Jlc3MiLCJzdHVkZW50TGVzc29uUHJvZ3Jlc3MiLCJsZXNzb25Qcm9ncmVzc0ZvclN0dWRlbnQiLCJsZXNzb25MZXZlbHMiLCJmaWx0ZXJlZExldmVscyIsImNvbXBsZXRlZFN0YXR1c2VzIiwiY29tcGxldGVkX2Fzc2Vzc21lbnQiLCJpbXBlcmZlY3QiLCJjb21wbGV0ZWQiLCJ0aW1lU3BlbnQiLCJsYXN0VGltZXN0YW1wIiwibGV2ZWxQcm9ncmVzcyIsImluY2x1ZGVzIiwiaW5jb21wbGV0ZSIsImdldFBlcmNlbnQiLCJjb3VudCIsImluY29tcGxldGVQZXJjZW50IiwiaW1wZXJmZWN0UGVyY2VudCIsImNvbXBsZXRlZFBlcmNlbnQiLCJzaG91bGRTaG93UmV2aWV3U3RhdGVzIiwidW5pdCIsImlzQ3NkIiwiaXNDc3AiLCJfYWN0aXZpdHlVdGlscyIsIl9oaWRkZW5MZXNzb25SZWR1eCIsIl9sZXNzb25Mb2NrUmVkdXgiLCJfdmlld0FzUmVkdXgiLCJfcHJvZ3Jlc3NUeXBlcyIsImxlbiIsImFycjIiLCJjb21tZW50TGVmdCIsInByb2dyZXNzIiwidGVhY2hlckZlZWRiYWNrQ29tbWVudGVkIiwidGVhY2hlckZlZWRiYWNrTmV3Iiwic3R1ZGVudE5lZWRzRmVlZGJhY2siLCJjYW5IYXZlRmVlZGJhY2siLCJwcm9jZXNzZWRMZXZlbCIsInBhcmVudExldmVsSWQiLCJhY3RpdmVJZCIsImFwcCIsInVzZXNMYWIyIiwidXNlc19sYWIyIiwicHJvZ3Jlc3Npb24iLCJwcm9ncmVzc2lvbkRpc3BsYXlOYW1lIiwicHJvZ3Jlc3Npb25fZGlzcGxheV9uYW1lIiwiZGlzcGxheV9hc191bnBsdWdnZWQiLCJsZXZlbE51bWJlciIsInVucGx1Z2dlZCIsInBvc2l0aW9uIiwiYnViYmxlVGV4dCIsImxldHRlciIsImlzQ29uY2VwdExldmVsIiwiaXNfY29uY2VwdF9sZXZlbCIsImlzVmFsaWRhdGVkIiwiaXNfdmFsaWRhdGVkIiwiY2FuX2hhdmVfZmVlZGJhY2siLCJwYWdlTnVtYmVyIiwicGFnZV9udW1iZXIiLCJQVVpaTEVfUEFHRV9OT05FIiwic2NyaXB0TGV2ZWxJZCIsInN1YmxldmVscyIsInN1YmxldmVsIiwicGF0aCIsImdldExldmVsUmVzdWx0Iiwic2VydmVyUHJvZ3Jlc3MiLCJnZXRQYWdlc1Byb2dyZXNzIiwiX3NlcnZlclByb2dyZXNzJHBhZ2VzIiwicGFnZXNfY29tcGxldGVkIiwicGFnZVJlc3VsdCIsInBhZ2VQcm9ncmVzcyIsImxldmVsUHJvZ3Jlc3NGcm9tUmVzdWx0IiwibGV2ZWxQcm9ncmVzc0Zyb21TdGF0dXMiLCJsZXZlbFByb2dyZXNzRnJvbVNlcnZlciIsInBhaXJlZCIsInRpbWVfc3BlbnQiLCJ0ZWFjaGVyRmVlZGJhY2tSZXZpZXdTdGF0ZSIsInRlYWNoZXJfZmVlZGJhY2tfcmV2aWV3X3N0YXRlIiwidGVhY2hlcl9mZWVkYmFja19uZXciLCJ0ZWFjaGVyX2ZlZWRiYWNrX2NvbW1lbnRlZCIsImxhc3RfcHJvZ3Jlc3NfYXQiLCJwYWdlcyIsInByb2Nlc3NTZXJ2ZXJTdHVkZW50UHJvZ3Jlc3MiLCJzZXJ2ZXJTdHVkZW50UHJvZ3Jlc3MiLCJwcm9jZXNzU2VydmVyU2VjdGlvblByb2dyZXNzIiwic2VydmVyU2VjdGlvblByb2dyZXNzIiwiX3R5cGVzIiwibGV2ZWxTaGFwZSIsImxldmVsV2l0aFByb2dyZXNzVHlwZSIsImlzQ3VycmVudExldmVsIiwic3R1ZGVudExldmVsUHJvZ3Jlc3NTaGFwZSIsIm9uZU9mIiwiUmV2aWV3U3RhdGVzIiwic3R1ZGVudExldmVsUHJvZ3Jlc3NUeXBlIiwibGVzc29uVHlwZSIsIm9iamVjdE9mIiwibGVzc29uTnVtYmVyIiwibGVzc29uX3BsYW5faHRtbF91cmwiLCJsZXNzb25fZmVlZGJhY2tfdXJsIiwiaXNGb2N1c0FyZWEiLCJkZXNjcmlwdGlvbl9zdHVkZW50IiwiZGVzY3JpcHRpb25fdGVhY2hlciIsImxlc3Nvbkdyb3VwU2hhcGUiLCJkaXNwbGF5TmFtZSIsImJpZ1F1ZXN0aW9ucyIsImRlc2NyaXB0aW9uIiwibGVzc29uR3JvdXAiLCJsZXZlbHNCeUxlc3NvbiJdLCJzb3VyY2VSb290IjoiIn0=