(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[9663],{"./src/code-studio/pd/form_components/ButtonList.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.otherString=exports.default=exports.ButtonList=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_lodash=_interopRequireDefault(__webpack_require__("./node_modules/lodash/lodash.js")),_reactBootstrap=__webpack_require__("./node_modules/react-bootstrap/es/index.js"),_utils=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/form_components/utils.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var otherString=exports.otherString="Other:",ButtonList=exports.ButtonList=function(_React$Component){function ButtonList(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this,"handleChange",(function(event){var value;if("radio"===_this.props.type)value=event.target.value;else if("check"===_this.props.type){var currentSelection=new Set(_this.props.selectedItems);event.target.checked?currentSelection.add(event.target.value):currentSelection.delete(event.target.value),value=currentSelection.size>0?Array.from(currentSelection):null}_this.props.onChange(_defineProperty({},_this.props.groupName,value))})),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(ButtonList,_React$Component);var _proto=ButtonList.prototype;return _proto.handleAnswerInputChange=function handleAnswerInputChange(answer,event){answer.onInputChange(event.target.value)},_proto.renderInputComponents=function renderInputComponents(){var _this2=this,InputComponent={radio:_reactBootstrap.Radio,check:_reactBootstrap.Checkbox}[this.props.type],answers=this.props.answers;return this.props.includeOther&&(answers=_lodash.default.concat(answers,{answerText:otherString,inputId:"".concat(this.props.groupName,"_other")})),answers.map((function(answer,i){var _utils$normalizeAnswe=_utils.default.normalizeAnswer(answer),answerText=_utils$normalizeAnswe.answerText,answerValue=_utils$normalizeAnswe.answerValue,checked="radio"===_this2.props.type?_this2.props.selectedItems===answerValue:!!(_this2.props.selectedItems&&_this2.props.selectedItems.indexOf(answerValue)>=0);return _react.default.createElement(InputComponent,{value:answerValue,label:answerText,key:i,name:_this2.props.groupName,onChange:_this2.props.onChange?_this2.handleChange:void 0,checked:_this2.props.onChange?checked:void 0},"object"===_typeof(answer)&&void 0===answer.answerValue?_react.default.createElement("div",null,_react.default.createElement("span",{style:styles.inputLabel},answerText),"Â ",_react.default.createElement("input",{type:"text",value:answer.onInputChange?answer.inputValue||"":void 0,id:answer.inputId,maxLength:"200",onChange:answer.onInputChange?_this2.handleAnswerInputChange.bind(_this2,answer):void 0})):answerText)}))},_proto.render=function render(){var validationState=this.props.validationState;this.props.errorText&&(validationState="error");var columnCount=this.props.columnCount?this.props.columnCount:1;return _react.default.createElement(_reactBootstrap.FormGroup,{id:this.props.groupName,controlId:this.props.groupName,validationState},_react.default.createElement(_reactBootstrap.ControlLabel,null,this.props.label,this.props.required&&_react.default.createElement("span",{style:{color:"red"}}," *")),_react.default.createElement(_reactBootstrap.FormGroup,{style:{columnCount}},this.renderInputComponents()),this.props.errorText&&_react.default.createElement(_reactBootstrap.HelpBlock,null,this.props.errorText),!this.props.suppressLineBreak&&_react.default.createElement("br",null))},ButtonList}(_react.default.Component);_defineProperty(ButtonList,"propTypes",{type:_propTypes.default.oneOf(["radio","check"]).isRequired,label:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.element]).isRequired,groupName:_propTypes.default.string.isRequired,answers:_propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.shape({answerText:_propTypes.default.string.isRequired,inputId:_propTypes.default.string,inputValue:_propTypes.default.string,onInputChange:_propTypes.default.func}),_propTypes.default.shape({answerText:_propTypes.default.string.isRequired,answerValue:_propTypes.default.string.isRequired})])).isRequired,includeOther:_propTypes.default.bool,onChange:_propTypes.default.func,selectedItems:_propTypes.default.oneOfType([_propTypes.default.array,_propTypes.default.string]),required:_propTypes.default.bool,validationState:_propTypes.default.string,errorText:_propTypes.default.string,columnCount:_propTypes.default.number,suppressLineBreak:_propTypes.default.bool}),_defineProperty(ButtonList,"defaultProps",{suppressLineBreak:!1});var styles={inputLabel:{verticalAlign:"top",marginRight:15}};exports.default=ButtonList},"./src/code-studio/pd/form_components/utils.js":module=>{module.exports={},module.exports.normalizeAnswer=function(answer){var answerText="string"==typeof answer?answer:answer.answerText;return{answerText,answerValue:"string"==typeof answer?answer:answer.answerValue||answerText}}},"./node_modules/prop-types/factoryWithThrowingShims.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ReactPropTypesSecret=__webpack_require__("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function emptyFunction(){}module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return ReactPropTypes.checkPropTypes=emptyFunction,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},"./node_modules/prop-types/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":module=>{"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./src/code-studio/pd/form_components/ButtonList.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.RadioButtons=exports.CheckboxesWithCustom=exports.CheckboxesIncludeOther=exports.Checkboxes=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_ButtonList=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/form_components/ButtonList.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={component:_ButtonList.default};var Template=function Template(args){return _react.default.createElement(_ButtonList.default,args)};(exports.RadioButtons=Template.bind({})).args={type:"radio",label:"What is your favorite pet?",groupName:"favoritePet",answers:["Cat","Dog"]},(exports.Checkboxes=Template.bind({})).args={type:"check",label:"What is your favorite pet?",groupName:"favoritePet",answers:["Cat","Dog"]},(exports.CheckboxesIncludeOther=Template.bind({})).args={type:"check",label:"What is your favorite pet?",groupName:"favoritePet",answers:["Cat","Dog"],includeOther:!0},(exports.CheckboxesWithCustom=Template.bind({})).args={type:"check",label:"What is your favorite pet?",groupName:"favoritePet",answers:["Cat",{answerText:"Specific dog breed",inputId:"dog-breed-input"}]}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZS1zdHVkaW8tcGQtZm9ybV9jb21wb25lbnRzLUJ1dHRvbkxpc3Qtc3RvcnkuMTMyMTA4MGMuaWZyYW1lLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiZ1VBQUEsSUFBQUEsV0FBQUMsdUJBQUFDLG9CQUFBLHVDQUNBQyxPQUFBRix1QkFBQUMsb0JBQUEsa0NBQ0FFLFFBQUFILHVCQUFBQyxvQkFBQSxvQ0FFQUcsZ0JBQUFILG9CQUFBLDhDQVNBSSxPQUFBTCx1QkFBQUMsb0JBQUEsa0RBQTRCLFNBQUFELHVCQUFBTSxLQUFBLE9BQUFBLEtBQUFBLElBQUFDLFdBQUFELElBQUEsU0FBQUEsSUFBQSxVQUFBRSxRQUFBQyxHQUFBLE9BQUFELFFBQUEsbUJBQUFFLFFBQUEsaUJBQUFBLE9BQUFDLFNBQUEsU0FBQUYsR0FBQSxjQUFBQSxDQUFBLFdBQUFBLEdBQUEsT0FBQUEsR0FBQSxtQkFBQUMsUUFBQUQsRUFBQUcsY0FBQUYsUUFBQUQsSUFBQUMsT0FBQUcsVUFBQSxnQkFBQUosQ0FBQSxFQUFBRCxRQUFBQyxFQUFBLFVBQUFLLGdCQUFBTCxFQUFBTSxHQUFBLE9BQUFELGdCQUFBRSxPQUFBQyxlQUFBRCxPQUFBQyxlQUFBQyxPQUFBLFNBQUFKLGdCQUFBTCxFQUFBTSxHQUFBLE9BQUFOLEVBQUFVLFVBQUFKLEVBQUFOLENBQUEsRUFBQUssZ0JBQUFMLEVBQUFNLEVBQUEsVUFBQUssZ0JBQUFkLElBQUFlLElBQUFDLE9BQUEsT0FBQUQsSUFBQSxTQUFBRSxlQUFBQyxHQUFBLElBQUFDLEVBQUEsU0FBQUMsYUFBQUYsRUFBQUcsR0FBQSxhQUFBbkIsUUFBQWdCLEtBQUFBLEVBQUEsT0FBQUEsRUFBQSxJQUFBSSxFQUFBSixFQUFBZCxPQUFBbUIsYUFBQSxZQUFBRCxFQUFBLEtBQUFILEVBQUFHLEVBQUFFLEtBQUFOLEVBQUFHLEdBQUEsd0JBQUFuQixRQUFBaUIsR0FBQSxPQUFBQSxFQUFBLFVBQUFNLFVBQUEsa0VBQUFKLEVBQUFLLE9BQUFDLFFBQUFULEVBQUEs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Q2dILFNBQVcsU0FBWEEsU0FBVzFHLE1BQUksT0FBSTVDLE9BQUEsUUFBQXlGLGNBQUMyRCxZQUFBLFFBQWV4RyxLQUFRLEdBRXhCUCxRQUFBQSxhQUFHaUgsU0FBU3RJLEtBQUssQ0FBQyxJQUM5QjRCLEtBQU8sQ0FDbEJPLEtBQU0sUUFDTnVDLE1BQU8sNkJBQ1A3QixVQUFXLGNBQ1hpQixRQUFTLENBQUMsTUFBTyxTQUdJekMsUUFBQUEsV0FBR2lILFNBQVN0SSxLQUFLLENBQUMsSUFDOUI0QixLQUFPLENBQ2hCTyxLQUFNLFFBQ051QyxNQUFPLDZCQUNQN0IsVUFBVyxjQUNYaUIsUUFBUyxDQUFDLE1BQU8sU0FHZ0J6QyxRQUFBQSx1QkFBR2lILFNBQVN0SSxLQUFLLENBQUMsSUFDOUI0QixLQUFPLENBQzVCTyxLQUFNLFFBQ051QyxNQUFPLDZCQUNQN0IsVUFBVyxjQUNYaUIsUUFBUyxDQUFDLE1BQU8sT0FDakJDLGNBQWMsSUFHaUIxQyxRQUFBQSxxQkFBR2lILFNBQVN0SSxLQUFLLENBQUMsSUFDOUI0QixLQUFPLENBQzFCTyxLQUFNLFFBQ051QyxNQUFPLDZCQUNQN0IsVUFBVyxjQUNYaUIsUUFBUyxDQUNQLE1BQ0EsQ0FDRUcsV0FBWSxxQkFDWkMsUUFBUyxvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9jb2RlLXN0dWRpby9wZC9mb3JtX2NvbXBvbmVudHMvQnV0dG9uTGlzdC5qc3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL2NvZGUtc3R1ZGlvL3BkL2Zvcm1fY29tcG9uZW50cy91dGlscy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9jb2RlLXN0dWRpby9wZC9mb3JtX2NvbXBvbmVudHMvQnV0dG9uTGlzdC5zdG9yeS5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1pbXBvcnRzICovXG5pbXBvcnQge1xuICBSYWRpbyxcbiAgQ2hlY2tib3gsXG4gIENvbnRyb2xMYWJlbCxcbiAgRm9ybUdyb3VwLFxuICBIZWxwQmxvY2ssXG59IGZyb20gJ3JlYWN0LWJvb3RzdHJhcCc7XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXJlc3RyaWN0ZWQtaW1wb3J0cyAqL1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscyc7XG5cbmNvbnN0IG90aGVyU3RyaW5nID0gJ090aGVyOic7XG5cbmNsYXNzIEJ1dHRvbkxpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHR5cGU6IFByb3BUeXBlcy5vbmVPZihbJ3JhZGlvJywgJ2NoZWNrJ10pLmlzUmVxdWlyZWQsXG4gICAgbGFiZWw6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5lbGVtZW50XSlcbiAgICAgIC5pc1JlcXVpcmVkLFxuICAgIGdyb3VwTmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIGFuc3dlcnM6IFByb3BUeXBlcy5hcnJheU9mKFxuICAgICAgUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgIC8vIFN0YW5kYXJkIHN0cmluZyBhbnN3ZXIgLi4uXG4gICAgICAgIC8vIChzZWUgdHlwZWRlZiBTaW1wbGVBbnN3ZXIgaW4gdXRpbHMpXG4gICAgICAgIFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgICAgICAgLy8gLi4uIG9yIGFuIGFuc3dlciBmb2xsb3dlZCBieSBhbiBpbnB1dCBmb3IgYWRkaXRpb25hbCB0ZXh0IC4uLlxuICAgICAgICAvLyAoc2VlIHR5cGVkZWYgRXh0cmFJbnB1dEFuc3dlciBpbiB1dGlscylcbiAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICBhbnN3ZXJUZXh0OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgaW5wdXRJZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICBpbnB1dFZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgIG9uSW5wdXRDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgICB9KSxcblxuICAgICAgICAvLyAuLi4gb3IgYW4gYW5zd2VyIHdpdGggZGlmZmVyZW50IHN0cmluZ3MgZm9yIGRpc3BsYXkgdnMgdmFsdWUuXG4gICAgICAgIC8vIChzZWUgdHlwZWRlZiBBbnN3ZXIgaW4gdXRpbHMpXG4gICAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgYW5zd2VyVGV4dDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgIGFuc3dlclZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgIH0pLFxuICAgICAgXSlcbiAgICApLmlzUmVxdWlyZWQsXG4gICAgaW5jbHVkZU90aGVyOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBvbkNoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgc2VsZWN0ZWRJdGVtczogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmFycmF5LCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gICAgcmVxdWlyZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIHZhbGlkYXRpb25TdGF0ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBlcnJvclRleHQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY29sdW1uQ291bnQ6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgc3VwcHJlc3NMaW5lQnJlYWs6IFByb3BUeXBlcy5ib29sLFxuICB9O1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgc3VwcHJlc3NMaW5lQnJlYWs6IGZhbHNlLFxuICB9O1xuXG4gIGhhbmRsZUNoYW5nZSA9IGV2ZW50ID0+IHtcbiAgICBsZXQgdmFsdWU7XG4gICAgaWYgKHRoaXMucHJvcHMudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLnR5cGUgPT09ICdjaGVjaycpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTZWxlY3Rpb24gPSBuZXcgU2V0KHRoaXMucHJvcHMuc2VsZWN0ZWRJdGVtcyk7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgY3VycmVudFNlbGVjdGlvbi5hZGQoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRTZWxlY3Rpb24uZGVsZXRlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IGN1cnJlbnRTZWxlY3Rpb24uc2l6ZSA+IDAgPyBBcnJheS5mcm9tKGN1cnJlbnRTZWxlY3Rpb24pIDogbnVsbDtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG4gICAgICBbdGhpcy5wcm9wcy5ncm91cE5hbWVdOiB2YWx1ZSxcbiAgICB9KTtcbiAgfTtcblxuICBoYW5kbGVBbnN3ZXJJbnB1dENoYW5nZShhbnN3ZXIsIGV2ZW50KSB7XG4gICAgYW5zd2VyLm9uSW5wdXRDaGFuZ2UoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfVxuXG4gIHJlbmRlcklucHV0Q29tcG9uZW50cygpIHtcbiAgICBjb25zdCBJbnB1dENvbXBvbmVudCA9IHtcbiAgICAgIHJhZGlvOiBSYWRpbyxcbiAgICAgIGNoZWNrOiBDaGVja2JveCxcbiAgICB9W3RoaXMucHJvcHMudHlwZV07XG5cbiAgICBsZXQgYW5zd2VycyA9IHRoaXMucHJvcHMuYW5zd2VycztcblxuICAgIGlmICh0aGlzLnByb3BzLmluY2x1ZGVPdGhlcikge1xuICAgICAgYW5zd2VycyA9IF8uY29uY2F0KGFuc3dlcnMsIHtcbiAgICAgICAgYW5zd2VyVGV4dDogb3RoZXJTdHJpbmcsXG4gICAgICAgIGlucHV0SWQ6IGAke3RoaXMucHJvcHMuZ3JvdXBOYW1lfV9vdGhlcmAsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBvcHRpb25zID0gYW5zd2Vycy5tYXAoKGFuc3dlciwgaSkgPT4ge1xuICAgICAgY29uc3Qge2Fuc3dlclRleHQsIGFuc3dlclZhbHVlfSA9IHV0aWxzLm5vcm1hbGl6ZUFuc3dlcihhbnN3ZXIpO1xuXG4gICAgICBjb25zdCBjaGVja2VkID1cbiAgICAgICAgdGhpcy5wcm9wcy50eXBlID09PSAncmFkaW8nXG4gICAgICAgICAgPyB0aGlzLnByb3BzLnNlbGVjdGVkSXRlbXMgPT09IGFuc3dlclZhbHVlXG4gICAgICAgICAgOiAhIShcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWxlY3RlZEl0ZW1zICYmXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMuc2VsZWN0ZWRJdGVtcy5pbmRleE9mKGFuc3dlclZhbHVlKSA+PSAwXG4gICAgICAgICAgICApO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8SW5wdXRDb21wb25lbnRcbiAgICAgICAgICB2YWx1ZT17YW5zd2VyVmFsdWV9XG4gICAgICAgICAgbGFiZWw9e2Fuc3dlclRleHR9XG4gICAgICAgICAga2V5PXtpfVxuICAgICAgICAgIG5hbWU9e3RoaXMucHJvcHMuZ3JvdXBOYW1lfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uQ2hhbmdlID8gdGhpcy5oYW5kbGVDaGFuZ2UgOiB1bmRlZmluZWR9XG4gICAgICAgICAgY2hlY2tlZD17dGhpcy5wcm9wcy5vbkNoYW5nZSA/IGNoZWNrZWQgOiB1bmRlZmluZWR9XG4gICAgICAgID5cbiAgICAgICAgICB7dHlwZW9mIGFuc3dlciA9PT0gJ29iamVjdCcgJiYgYW5zd2VyLmFuc3dlclZhbHVlID09PSB1bmRlZmluZWQgPyAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17c3R5bGVzLmlucHV0TGFiZWx9PnthbnN3ZXJUZXh0fTwvc3Bhbj5cbiAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17XG4gICAgICAgICAgICAgICAgICBhbnN3ZXIub25JbnB1dENoYW5nZSA/IGFuc3dlci5pbnB1dFZhbHVlIHx8ICcnIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlkPXthbnN3ZXIuaW5wdXRJZH1cbiAgICAgICAgICAgICAgICBtYXhMZW5ndGg9XCIyMDBcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtcbiAgICAgICAgICAgICAgICAgIGFuc3dlci5vbklucHV0Q2hhbmdlXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5oYW5kbGVBbnN3ZXJJbnB1dENoYW5nZS5iaW5kKHRoaXMsIGFuc3dlcilcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgYW5zd2VyVGV4dFxuICAgICAgICAgICl9XG4gICAgICAgIDwvSW5wdXRDb21wb25lbnQ+XG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IHZhbGlkYXRpb25TdGF0ZSA9IHRoaXMucHJvcHMudmFsaWRhdGlvblN0YXRlO1xuICAgIGlmICh0aGlzLnByb3BzLmVycm9yVGV4dCkge1xuICAgICAgdmFsaWRhdGlvblN0YXRlID0gJ2Vycm9yJztcbiAgICB9XG5cbiAgICBjb25zdCBjb2x1bW5Db3VudCA9IHRoaXMucHJvcHMuY29sdW1uQ291bnQgPyB0aGlzLnByb3BzLmNvbHVtbkNvdW50IDogMTtcblxuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybUdyb3VwXG4gICAgICAgIGlkPXt0aGlzLnByb3BzLmdyb3VwTmFtZX1cbiAgICAgICAgY29udHJvbElkPXt0aGlzLnByb3BzLmdyb3VwTmFtZX1cbiAgICAgICAgdmFsaWRhdGlvblN0YXRlPXt2YWxpZGF0aW9uU3RhdGV9XG4gICAgICA+XG4gICAgICAgIDxDb250cm9sTGFiZWw+XG4gICAgICAgICAge3RoaXMucHJvcHMubGFiZWx9XG4gICAgICAgICAge3RoaXMucHJvcHMucmVxdWlyZWQgJiYgPHNwYW4gc3R5bGU9e3tjb2xvcjogJ3JlZCd9fT4gKjwvc3Bhbj59XG4gICAgICAgIDwvQ29udHJvbExhYmVsPlxuICAgICAgICA8Rm9ybUdyb3VwIHN0eWxlPXt7Y29sdW1uQ291bnQ6IGNvbHVtbkNvdW50fX0+XG4gICAgICAgICAge3RoaXMucmVuZGVySW5wdXRDb21wb25lbnRzKCl9XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgICB7dGhpcy5wcm9wcy5lcnJvclRleHQgJiYgPEhlbHBCbG9jaz57dGhpcy5wcm9wcy5lcnJvclRleHR9PC9IZWxwQmxvY2s+fVxuICAgICAgICB7IXRoaXMucHJvcHMuc3VwcHJlc3NMaW5lQnJlYWsgJiYgPGJyIC8+fVxuICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSB7XG4gIGlucHV0TGFiZWw6IHtcbiAgICB2ZXJ0aWNhbEFsaWduOiAndG9wJyxcbiAgICBtYXJnaW5SaWdodDogMTUsXG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25MaXN0O1xuZXhwb3J0IHtCdXR0b25MaXN0LCBvdGhlclN0cmluZ307XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vKipcbiAqIFRoZSBtb3N0IHN0YW5kYXJkIGtpbmQgb2YgYW5zd2VyLCBzaW1wbHkgcHJvdmlkZXMgZm9yIGEgd2F5IHRvIHNwZWNpZnkgdGhlXG4gKiBkaXNwbGF5IHRleHQgYW5kIGZvcm0gdmFsdWUgaW5kaXZpZHVhbGx5XG4gKiBAdHlwZWRlZiBBbnN3ZXJcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gYW5zd2VyVGV4dCAtIHRoZSBkaXNwbGF5IHRleHQgb2YgdGhlIGFuc3dlcjsgdXNlZCB0b1xuICogICAgIGxhYmVsIHRoZSBpbnB1dFxuICogQHByb3BlcnR5IHtzdHJpbmd9IFthbnN3ZXJWYWx1ZV0gLSB0aGUgZm9ybSB2YWx1ZSBvZiB0aGUgYW5zd2VyOyB1c2VkIGluIHRoZVxuICogICAgIFwidmFsdWVcIiBhdHRyaWJ1dGUgb2YgdGhlIGlucHV0LiBEZWZhdWx0cyB0byAnYW5zd2VyVGV4dCcgaWYgdW5kZWZpbmVkLlxuICovXG5cbi8qKlxuICogVGhlIG1vc3QgYmFzaWMga2luZCBvZiBhbnN3ZXIsIHVzZWQgZm9yIHRob3NlIHNpdHVhdGlvbnMgd2hlcmUgdGhlIGRpc3BsYXlcbiAqIHRleHQgYW5kIGZvcm0gdmFsdWUgYXJlIGlkZW50aWNhbC5cbiAqIEB0eXBlZGVmIFNpbXBsZUFuc3dlclxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuXG4vKipcbiAqIEEgY29tcGxleCBraW5kIG9mIGFuc3dlciB3aGljaCB3aWxsIGFkZCBhbiBhZGRpdGlvbmFsIGlucHV0IGVsZW1lbnQgdG9cbiAqIGV4aXN0aW5nIGZvcm0gZWxlbWVudHMuIE1vc3QgY29tbW9ubHkgdXNlZCB0byBhZGQgYSB0ZXh0IGlucHV0IHRvIHRoZVxuICogXCJvdGhlclwiIG9wdGlvbiBpbiBhIHJhZGlvIGlucHV0LlxuICpcbiAqIE5vdGFibHksIHRoaXMga2luZCBkb2VzIG5vdCBpbmNsdWRlIGFuIFwiYW5zd2VyVmFsdWVcIiBwcm9wZXJ0eTsgdGhlIHZhbHVlIG9mXG4gKiB0aGlzIGlucHV0IGlzIGV4cGVjdGVkIHRvIGNvbWUgZnJvbSB0aGUgYWRkaXRpb25hbCBpbnB1dC5cbiAqXG4gKiBAdHlwZWRlZiBFeHRyYUlucHV0QW5zd2VyXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGFuc3dlclRleHQgLSB0aGUgZGlzcGxheSB0ZXh0IG9mIHRoZSBhbnN3ZXI7IHVzZWQgdG9cbiAqICAgICBsYWJlbCB0aGUgaW5wdXRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpbnB1dElkIC0gdGhlIHZhbHVlIHRvIGFzc2lnbiB0byB0aGUgXCJpZFwiIHBhcmFtIG9mIHRoZVxuICogICAgIGFkZGl0aW9uYWwgaW5wdXQgZWxlbWVudC5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbaW5wdXRWYWx1ZV0gLSB0aGUgZm9ybSB2YWx1ZSB0byBhc3NpZ24gdG8gdGhlIFwidmFsdWVcIlxuICogICAgIGF0dHJpYnV0ZSBvZiB0aGUgYWRkaXRpb25hbCBpbnB1dCBlbGVtZW50LlxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW29uQ2hhbmdlXSAtIGFuIG9wdGlvbmFsIGxpc3RlbmVyIHRvIGFzc2lnbiB0byB0aGVcbiAqICAgICBcIm9uQ2hhbmdlXCIgYXR0cmlidXRlIG9mIHRoZSBhZGRpdGlvbmFsIGlucHV0IGVsZW1lbnQuXG4gKi9cblxuLyoqXG4gKiBTaW1wbGUgdXRpbGl0eSB0byBub3JtYWxpemUgZWl0aGVyIEFuc3dlcnMgb3IgU2ltcGxlQW5zd2VycyB0byBqdXN0IEFuc3dlcnMuXG4gKiBAcGFyYW0geyhBbnN3ZXJ8U2ltcGxlQW5zd2VyKX0gYW5zd2VyXG4gKiBAcmV0dXJucyB7KEFuc3dlcil9XG4gKi9cbm1vZHVsZS5leHBvcnRzLm5vcm1hbGl6ZUFuc3dlciA9IGFuc3dlciA9PiB7XG4gIGNvbnN0IGFuc3dlclRleHQgPSB0eXBlb2YgYW5zd2VyID09PSAnc3RyaW5nJyA/IGFuc3dlciA6IGFuc3dlci5hbnN3ZXJUZXh0O1xuICBjb25zdCBhbnN3ZXJWYWx1ZSA9XG4gICAgdHlwZW9mIGFuc3dlciA9PT0gJ3N0cmluZycgPyBhbnN3ZXIgOiBhbnN3ZXIuYW5zd2VyVmFsdWUgfHwgYW5zd2VyVGV4dDtcbiAgcmV0dXJuIHthbnN3ZXJUZXh0LCBhbnN3ZXJWYWx1ZX07XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG5cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcbiAgICAgIC8vIEl0IGlzIHN0aWxsIHNhZmUgd2hlbiBjYWxsZWQgZnJvbSBSZWFjdC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcihcbiAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICk7XG4gICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgdGhyb3cgZXJyO1xuICB9O1xuICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuICBmdW5jdGlvbiBnZXRTaGltKCkge1xuICAgIHJldHVybiBzaGltO1xuICB9O1xuICAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNgLlxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IHNoaW0sXG4gICAgYm9vbDogc2hpbSxcbiAgICBmdW5jOiBzaGltLFxuICAgIG51bWJlcjogc2hpbSxcbiAgICBvYmplY3Q6IHNoaW0sXG4gICAgc3RyaW5nOiBzaGltLFxuICAgIHN5bWJvbDogc2hpbSxcblxuICAgIGFueTogc2hpbSxcbiAgICBhcnJheU9mOiBnZXRTaGltLFxuICAgIGVsZW1lbnQ6IHNoaW0sXG4gICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcbiAgICBub2RlOiBzaGltLFxuICAgIG9iamVjdE9mOiBnZXRTaGltLFxuICAgIG9uZU9mOiBnZXRTaGltLFxuICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcbiAgICBzaGFwZTogZ2V0U2hpbSxcbiAgICBleGFjdDogZ2V0U2hpbVxuICB9O1xuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZW1wdHlGdW5jdGlvbjtcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmXG4gICAgU3ltYm9sLmZvciAmJlxuICAgIFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSkgfHxcbiAgICAweGVhYzc7XG5cbiAgdmFyIGlzVmFsaWRFbGVtZW50ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICBvYmplY3QgIT09IG51bGwgJiZcbiAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9O1xuXG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzJykoaXNWYWxpZEVsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHtcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zJykoKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBCdXR0b25MaXN0IGZyb20gJy4vQnV0dG9uTGlzdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29tcG9uZW50OiBCdXR0b25MaXN0LFxufTtcblxuY29uc3QgVGVtcGxhdGUgPSBhcmdzID0+IDxCdXR0b25MaXN0IHsuLi5hcmdzfSAvPjtcblxuZXhwb3J0IGNvbnN0IFJhZGlvQnV0dG9ucyA9IFRlbXBsYXRlLmJpbmQoe30pO1xuUmFkaW9CdXR0b25zLmFyZ3MgPSB7XG4gIHR5cGU6ICdyYWRpbycsXG4gIGxhYmVsOiAnV2hhdCBpcyB5b3VyIGZhdm9yaXRlIHBldD8nLFxuICBncm91cE5hbWU6ICdmYXZvcml0ZVBldCcsXG4gIGFuc3dlcnM6IFsnQ2F0JywgJ0RvZyddLFxufTtcblxuZXhwb3J0IGNvbnN0IENoZWNrYm94ZXMgPSBUZW1wbGF0ZS5iaW5kKHt9KTtcbkNoZWNrYm94ZXMuYXJncyA9IHtcbiAgdHlwZTogJ2NoZWNrJyxcbiAgbGFiZWw6ICdXaGF0IGlzIHlvdXIgZmF2b3JpdGUgcGV0PycsXG4gIGdyb3VwTmFtZTogJ2Zhdm9yaXRlUGV0JyxcbiAgYW5zd2VyczogWydDYXQnLCAnRG9nJ10sXG59O1xuXG5leHBvcnQgY29uc3QgQ2hlY2tib3hlc0luY2x1ZGVPdGhlciA9IFRlbXBsYXRlLmJpbmQoe30pO1xuQ2hlY2tib3hlc0luY2x1ZGVPdGhlci5hcmdzID0ge1xuICB0eXBlOiAnY2hlY2snLFxuICBsYWJlbDogJ1doYXQgaXMgeW91ciBmYXZvcml0ZSBwZXQ/JyxcbiAgZ3JvdXBOYW1lOiAnZmF2b3JpdGVQZXQnLFxuICBhbnN3ZXJzOiBbJ0NhdCcsICdEb2cnXSxcbiAgaW5jbHVkZU90aGVyOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IENoZWNrYm94ZXNXaXRoQ3VzdG9tID0gVGVtcGxhdGUuYmluZCh7fSk7XG5DaGVja2JveGVzV2l0aEN1c3RvbS5hcmdzID0ge1xuICB0eXBlOiAnY2hlY2snLFxuICBsYWJlbDogJ1doYXQgaXMgeW91ciBmYXZvcml0ZSBwZXQ/JyxcbiAgZ3JvdXBOYW1lOiAnZmF2b3JpdGVQZXQnLFxuICBhbnN3ZXJzOiBbXG4gICAgJ0NhdCcsXG4gICAge1xuICAgICAgYW5zd2VyVGV4dDogJ1NwZWNpZmljIGRvZyBicmVlZCcsXG4gICAgICBpbnB1dElkOiAnZG9nLWJyZWVkLWlucHV0JyxcbiAgICB9LFxuICBdLFxufTtcbiJdLCJuYW1lcyI6WyJfcHJvcFR5cGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVhY3QiLCJfbG9kYXNoIiwiX3JlYWN0Qm9vdHN0cmFwIiwiX3V0aWxzIiwib2JqIiwiX19lc01vZHVsZSIsIl90eXBlb2YiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIl9zZXRQcm90b3R5cGVPZiIsInAiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsImJpbmQiLCJfX3Byb3RvX18iLCJfZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwidCIsImkiLCJfdG9QcmltaXRpdmUiLCJyIiwiZSIsInRvUHJpbWl0aXZlIiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsIk51bWJlciIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwib3RoZXJTdHJpbmciLCJleHBvcnRzIiwiQnV0dG9uTGlzdCIsIl9SZWFjdCRDb21wb25lbnQiLCJfdGhpcyIsIl9sZW4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcmdzIiwiQXJyYXkiLCJfa2V5IiwiYXBwbHkiLCJjb25jYXQiLCJldmVudCIsInByb3BzIiwidHlwZSIsInRhcmdldCIsImN1cnJlbnRTZWxlY3Rpb24iLCJTZXQiLCJzZWxlY3RlZEl0ZW1zIiwiY2hlY2tlZCIsImFkZCIsInNpemUiLCJmcm9tIiwib25DaGFuZ2UiLCJncm91cE5hbWUiLCJfaW5oZXJpdHNMb29zZSIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsIl9wcm90byIsImhhbmRsZUFuc3dlcklucHV0Q2hhbmdlIiwiYW5zd2VyIiwib25JbnB1dENoYW5nZSIsInJlbmRlcklucHV0Q29tcG9uZW50cyIsIl90aGlzMiIsIklucHV0Q29tcG9uZW50IiwicmFkaW8iLCJSYWRpbyIsImNoZWNrIiwiQ2hlY2tib3giLCJ0aGlzIiwiYW5zd2VycyIsImluY2x1ZGVPdGhlciIsIl8iLCJhbnN3ZXJUZXh0IiwiaW5wdXRJZCIsIm1hcCIsIl91dGlscyRub3JtYWxpemVBbnN3ZSIsInV0aWxzIiwibm9ybWFsaXplQW5zd2VyIiwiYW5zd2VyVmFsdWUiLCJpbmRleE9mIiwiY3JlYXRlRWxlbWVudCIsImxhYmVsIiwibmFtZSIsImhhbmRsZUNoYW5nZSIsInVuZGVmaW5lZCIsInN0eWxlIiwic3R5bGVzIiwiaW5wdXRMYWJlbCIsImlucHV0VmFsdWUiLCJpZCIsIm1heExlbmd0aCIsInJlbmRlciIsInZhbGlkYXRpb25TdGF0ZSIsImVycm9yVGV4dCIsImNvbHVtbkNvdW50IiwiRm9ybUdyb3VwIiwiY29udHJvbElkIiwiQ29udHJvbExhYmVsIiwicmVxdWlyZWQiLCJjb2xvciIsIkhlbHBCbG9jayIsInN1cHByZXNzTGluZUJyZWFrIiwiUmVhY3QiLCJDb21wb25lbnQiLCJQcm9wVHlwZXMiLCJvbmVPZiIsImlzUmVxdWlyZWQiLCJvbmVPZlR5cGUiLCJzdHJpbmciLCJlbGVtZW50IiwiYXJyYXlPZiIsInNoYXBlIiwiZnVuYyIsImJvb2wiLCJhcnJheSIsIm51bWJlciIsInZlcnRpY2FsQWxpZ24iLCJtYXJnaW5SaWdodCIsIm1vZHVsZSIsIlJlYWN0UHJvcFR5cGVzU2VjcmV0IiwiZW1wdHlGdW5jdGlvbiIsInNoaW0iLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJsb2NhdGlvbiIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImVyciIsIkVycm9yIiwiZ2V0U2hpbSIsIlJlYWN0UHJvcFR5cGVzIiwib2JqZWN0Iiwic3ltYm9sIiwiYW55IiwiaW5zdGFuY2VPZiIsIm5vZGUiLCJvYmplY3RPZiIsImV4YWN0IiwiY2hlY2tQcm9wVHlwZXMiLCJfQnV0dG9uTGlzdCIsImNvbXBvbmVudCIsIlRlbXBsYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==