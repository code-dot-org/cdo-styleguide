(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[7028],{"./src/templates/sectionAssessments/FreeResponsesSurveyTable.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.COLUMNS=void 0;var _orderBy=_interopRequireDefault(__webpack_require__("./node_modules/lodash/orderBy.js")),_propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireWildcard(__webpack_require__("./node_modules/react/index.js")),Table=_interopRequireWildcard(__webpack_require__("./node_modules/reactabular-table/dist/index.js")),sort=_interopRequireWildcard(__webpack_require__("./node_modules/sortabular/dist/index.js")),_color=_interopRequireDefault(__webpack_require__("./src/util/color.js")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_tableConstants=__webpack_require__("./src/templates/tables/tableConstants.js"),_wrapped_sortable=_interopRequireDefault(__webpack_require__("./src/templates/tables/wrapped_sortable.js"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var COLUMNS=exports.COLUMNS={RESPONSE:0},freeResponsesDataPropType=_propTypes.default.shape({response:_propTypes.default.string}),FreeResponsesSurveyTable=function(_Component){function FreeResponsesSurveyTable(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_this=_Component.call.apply(_Component,[this].concat(args))||this,"state",_defineProperty({},COLUMNS.RESPONSE,{direction:"desc",position:0})),_defineProperty(_this,"getSortingColumns",(function(){return _this.state.sortingColumns||{}})),_defineProperty(_this,"onSort",(function(selectedColumn){_this.setState({sortingColumns:sort.byColumn({sortingColumns:_this.state.sortingColumns,sortingOrder:{FIRST:"asc",asc:"desc",desc:"asc"},selectedColumn})})})),_defineProperty(_this,"studentResponseColumnFormatter",(function(response,_ref){_ref.rowIndex;return _react.default.createElement("div",null,response&&_react.default.createElement("div",null,response),!response&&_react.default.createElement("div",{style:styles.noResponse},_locale.default.emptyFreeResponse()))})),_defineProperty(_this,"getColumns",(function(sortable){return[{property:"response",header:{label:_locale.default.response(),props:{style:_tableConstants.tableLayoutStyles.headerCell}},cell:{formatters:[_this.studentResponseColumnFormatter],props:{style:_tableConstants.tableLayoutStyles.cell}}}]})),_this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(FreeResponsesSurveyTable,_Component),FreeResponsesSurveyTable.prototype.render=function render(){var sortable=(0,_wrapped_sortable.default)(this.getSortingColumns,this.onSort,_tableConstants.sortableOptions),columns=this.getColumns(sortable),sortingColumns=this.getSortingColumns(),sortedRows=sort.sorter({columns,sortingColumns,sort:_orderBy.default})(this.props.freeResponses);return _react.default.createElement(Table.Provider,{columns,style:_tableConstants.tableLayoutStyles.table},_react.default.createElement(Table.Header,null),_react.default.createElement(Table.Body,{rows:sortedRows,rowKey:"index"}))},FreeResponsesSurveyTable}(_react.Component);_defineProperty(FreeResponsesSurveyTable,"propTypes",{freeResponses:_propTypes.default.arrayOf(freeResponsesDataPropType)});var styles={noResponse:{color:_color.default.lighter_gray}};exports.default=FreeResponsesSurveyTable},"./node_modules/prop-types/factoryWithThrowingShims.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ReactPropTypesSecret=__webpack_require__("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function emptyFunction(){}module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return ReactPropTypes.checkPropTypes=emptyFunction,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},"./node_modules/prop-types/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":module=>{"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./src/templates/sectionAssessments/FreeResponsesSurveyTable.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.SurveyOne=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_assessmentsTestHelpers=__webpack_require__("./src/templates/sectionAssessments/assessmentsTestHelpers.js"),_FreeResponsesSurveyTable=_interopRequireDefault(__webpack_require__("./src/templates/sectionAssessments/FreeResponsesSurveyTable.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={component:_FreeResponsesSurveyTable.default};(exports.SurveyOne=function Template(args){return _react.default.createElement(_FreeResponsesSurveyTable.default,args)}.bind({})).args={freeResponses:_assessmentsTestHelpers.surveyOne}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVtcGxhdGVzLXNlY3Rpb25Bc3Nlc3NtZW50cy1GcmVlUmVzcG9uc2VzU3VydmV5VGFibGUtc3RvcnkuY2YwYWNlYzcuaWZyYW1lLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoicVRBQUEsSUFBQUEsU0FBQUMsdUJBQUFDLG9CQUFBLHFDQUNBQyxXQUFBRix1QkFBQUMsb0JBQUEsdUNBQ0FFLE9BQUFDLHdCQUFBSCxvQkFBQSxrQ0FDQUksTUFBQUQsd0JBQUFILG9CQUFBLG1EQUNBSyxLQUFBRix3QkFBQUgsb0JBQUEsNENBRUFNLE9BQUFQLHVCQUFBQyxvQkFBQSx3QkFDQU8sUUFBQVIsdUJBQUFDLG9CQUFBLHVDQUVBUSxnQkFBQVIsb0JBQUEsNENBQ0FTLGtCQUFBVix1QkFBQUMsb0JBQUEsK0NBQXlELFNBQUFVLHlCQUFBQyxHQUFBLHNCQUFBQyxRQUFBLGdCQUFBQyxFQUFBLElBQUFELFFBQUFFLEVBQUEsSUFBQUYsUUFBQSxPQUFBRix5QkFBQSxTQUFBQSx5QkFBQUMsR0FBQSxPQUFBQSxFQUFBRyxFQUFBRCxDQUFBLEdBQUFGLEVBQUEsVUFBQVIsd0JBQUFRLEVBQUFFLEdBQUEsSUFBQUEsR0FBQUYsR0FBQUEsRUFBQUksV0FBQSxPQUFBSixFQUFBLFVBQUFBLEdBQUEsVUFBQUssUUFBQUwsSUFBQSxtQkFBQUEsRUFBQSxlQUFBQSxHQUFBLElBQUFHLEVBQUFKLHlCQUFBRyxHQUFBLEdBQUFDLEdBQUFBLEVBQUFHLElBQUFOLEdBQUEsT0FBQUcsRUFBQUksSUFBQVAsR0FBQSxJQUFBUSxFQUFBLENBQUFDLFVBQUEsTUFBQUMsRUFBQUMsT0FBQUMsZ0JBQUFELE9BQUFFLHlCQUFBLFFBQUFDLEtBQUFkLEVBQUEsZUFBQWMsR0FBQSxHQUFBQyxlQUFBQyxLQUFBaEIsRUFBQWMsR0FBQSxLQUFBRyxFQUFBUCxFQUFBQyxPQUFBRSx5QkFBQWIsRUFBQWMsR0FBQSxLQUFBRyxJQUFBQSxFQUFBVixLQUFBVSxFQUFBQyxLQUFBUCxPQUFBQyxlQUFBSixFQUFBTSxF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LGNBQWU2Qyx3QkFBQUEsVSIsInNvdXJjZXMiOlsid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy90ZW1wbGF0ZXMvc2VjdGlvbkFzc2Vzc21lbnRzL0ZyZWVSZXNwb25zZXNTdXJ2ZXlUYWJsZS5qc3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvdGVtcGxhdGVzL3NlY3Rpb25Bc3Nlc3NtZW50cy9GcmVlUmVzcG9uc2VzU3VydmV5VGFibGUuc3RvcnkuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBvcmRlckJ5IGZyb20gJ2xvZGFzaC9vcmRlckJ5JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFRhYmxlIGZyb20gJ3JlYWN0YWJ1bGFyLXRhYmxlJztcbmltcG9ydCAqIGFzIHNvcnQgZnJvbSAnc29ydGFidWxhcic7XG5cbmltcG9ydCBjb2xvciBmcm9tICdAY2RvL2FwcHMvdXRpbC9jb2xvcic7XG5pbXBvcnQgaTE4biBmcm9tICdAY2RvL2xvY2FsZSc7XG5cbmltcG9ydCB7dGFibGVMYXlvdXRTdHlsZXMsIHNvcnRhYmxlT3B0aW9uc30gZnJvbSAnLi4vdGFibGVzL3RhYmxlQ29uc3RhbnRzJztcbmltcG9ydCB3cmFwcGVkU29ydGFibGUgZnJvbSAnLi4vdGFibGVzL3dyYXBwZWRfc29ydGFibGUnO1xuXG5leHBvcnQgY29uc3QgQ09MVU1OUyA9IHtcbiAgUkVTUE9OU0U6IDAsXG59O1xuXG5jb25zdCBmcmVlUmVzcG9uc2VzRGF0YVByb3BUeXBlID0gUHJvcFR5cGVzLnNoYXBlKHtcbiAgcmVzcG9uc2U6IFByb3BUeXBlcy5zdHJpbmcsXG59KTtcblxuY2xhc3MgRnJlZVJlc3BvbnNlc1N1cnZleVRhYmxlIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBmcmVlUmVzcG9uc2VzOiBQcm9wVHlwZXMuYXJyYXlPZihmcmVlUmVzcG9uc2VzRGF0YVByb3BUeXBlKSxcbiAgfTtcblxuICBzdGF0ZSA9IHtcbiAgICBbQ09MVU1OUy5SRVNQT05TRV06IHtcbiAgICAgIGRpcmVjdGlvbjogJ2Rlc2MnLFxuICAgICAgcG9zaXRpb246IDAsXG4gICAgfSxcbiAgfTtcblxuICBnZXRTb3J0aW5nQ29sdW1ucyA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5zb3J0aW5nQ29sdW1ucyB8fCB7fTtcbiAgfTtcblxuICBvblNvcnQgPSBzZWxlY3RlZENvbHVtbiA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzb3J0aW5nQ29sdW1uczogc29ydC5ieUNvbHVtbih7XG4gICAgICAgIHNvcnRpbmdDb2x1bW5zOiB0aGlzLnN0YXRlLnNvcnRpbmdDb2x1bW5zLFxuICAgICAgICBzb3J0aW5nT3JkZXI6IHtcbiAgICAgICAgICBGSVJTVDogJ2FzYycsXG4gICAgICAgICAgYXNjOiAnZGVzYycsXG4gICAgICAgICAgZGVzYzogJ2FzYycsXG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdGVkQ29sdW1uLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH07XG5cbiAgc3R1ZGVudFJlc3BvbnNlQ29sdW1uRm9ybWF0dGVyID0gKHJlc3BvbnNlLCB7cm93SW5kZXh9KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIHtyZXNwb25zZSAmJiA8ZGl2PntyZXNwb25zZX08L2Rpdj59XG4gICAgICAgIHshcmVzcG9uc2UgJiYgKFxuICAgICAgICAgIDxkaXYgc3R5bGU9e3N0eWxlcy5ub1Jlc3BvbnNlfT57aTE4bi5lbXB0eUZyZWVSZXNwb25zZSgpfTwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcblxuICBnZXRDb2x1bW5zID0gc29ydGFibGUgPT4ge1xuICAgIGxldCBkYXRhQ29sdW1ucyA9IFtcbiAgICAgIHtcbiAgICAgICAgcHJvcGVydHk6ICdyZXNwb25zZScsXG4gICAgICAgIGhlYWRlcjoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLnJlc3BvbnNlKCksXG4gICAgICAgICAgcHJvcHM6IHtzdHlsZTogdGFibGVMYXlvdXRTdHlsZXMuaGVhZGVyQ2VsbH0sXG4gICAgICAgIH0sXG4gICAgICAgIGNlbGw6IHtcbiAgICAgICAgICBmb3JtYXR0ZXJzOiBbdGhpcy5zdHVkZW50UmVzcG9uc2VDb2x1bW5Gb3JtYXR0ZXJdLFxuICAgICAgICAgIHByb3BzOiB7c3R5bGU6IHRhYmxlTGF5b3V0U3R5bGVzLmNlbGx9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICBdO1xuICAgIHJldHVybiBkYXRhQ29sdW1ucztcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgLy8gRGVmaW5lIGEgc29ydGluZyB0cmFuc2Zvcm0gdGhhdCBjYW4gYmUgYXBwbGllZCB0byBlYWNoIGNvbHVtblxuICAgIGNvbnN0IHNvcnRhYmxlID0gd3JhcHBlZFNvcnRhYmxlKFxuICAgICAgdGhpcy5nZXRTb3J0aW5nQ29sdW1ucyxcbiAgICAgIHRoaXMub25Tb3J0LFxuICAgICAgc29ydGFibGVPcHRpb25zXG4gICAgKTtcbiAgICBjb25zdCBjb2x1bW5zID0gdGhpcy5nZXRDb2x1bW5zKHNvcnRhYmxlKTtcbiAgICBjb25zdCBzb3J0aW5nQ29sdW1ucyA9IHRoaXMuZ2V0U29ydGluZ0NvbHVtbnMoKTtcblxuICAgIGNvbnN0IHNvcnRlZFJvd3MgPSBzb3J0LnNvcnRlcih7XG4gICAgICBjb2x1bW5zLFxuICAgICAgc29ydGluZ0NvbHVtbnMsXG4gICAgICBzb3J0OiBvcmRlckJ5LFxuICAgIH0pKHRoaXMucHJvcHMuZnJlZVJlc3BvbnNlcyk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFRhYmxlLlByb3ZpZGVyIGNvbHVtbnM9e2NvbHVtbnN9IHN0eWxlPXt0YWJsZUxheW91dFN0eWxlcy50YWJsZX0+XG4gICAgICAgIDxUYWJsZS5IZWFkZXIgLz5cbiAgICAgICAgPFRhYmxlLkJvZHkgcm93cz17c29ydGVkUm93c30gcm93S2V5PVwiaW5kZXhcIiAvPlxuICAgICAgPC9UYWJsZS5Qcm92aWRlcj5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgbm9SZXNwb25zZToge1xuICAgIGNvbG9yOiBjb2xvci5saWdodGVyX2dyYXksXG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBGcmVlUmVzcG9uc2VzU3VydmV5VGFibGU7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gcmVxdWlyZSgnLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQnKTtcblxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKFxuICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgKTtcbiAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB0aHJvdyBlcnI7XG4gIH07XG4gIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG4gIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG4gICAgcmV0dXJuIHNoaW07XG4gIH07XG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltXG4gIH07XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBlbXB0eUZ1bmN0aW9uO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcbiAgICBTeW1ib2wuZm9yICYmXG4gICAgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuICAgIDB4ZWFjNztcblxuICB2YXIgaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH07XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQge3N1cnZleU9uZX0gZnJvbSAnLi9hc3Nlc3NtZW50c1Rlc3RIZWxwZXJzJztcbmltcG9ydCBGcmVlUmVzcG9uc2VzU3VydmV5VGFibGUgZnJvbSAnLi9GcmVlUmVzcG9uc2VzU3VydmV5VGFibGUnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbXBvbmVudDogRnJlZVJlc3BvbnNlc1N1cnZleVRhYmxlLFxufTtcblxuY29uc3QgVGVtcGxhdGUgPSBhcmdzID0+IDxGcmVlUmVzcG9uc2VzU3VydmV5VGFibGUgey4uLmFyZ3N9IC8+O1xuXG5leHBvcnQgY29uc3QgU3VydmV5T25lID0gVGVtcGxhdGUuYmluZCh7fSk7XG5TdXJ2ZXlPbmUuYXJncyA9IHtcbiAgZnJlZVJlc3BvbnNlczogc3VydmV5T25lLFxufTtcbiJdLCJuYW1lcyI6WyJfb3JkZXJCeSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3Byb3BUeXBlcyIsIl9yZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiVGFibGUiLCJzb3J0IiwiX2NvbG9yIiwiX2xvY2FsZSIsIl90YWJsZUNvbnN0YW50cyIsIl93cmFwcGVkX3NvcnRhYmxlIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiZSIsIldlYWtNYXAiLCJyIiwidCIsIl9fZXNNb2R1bGUiLCJfdHlwZW9mIiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0Iiwib2JqIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfc2V0UHJvdG90eXBlT2YiLCJwIiwic2V0UHJvdG90eXBlT2YiLCJiaW5kIiwiX2RlZmluZVByb3BlcnR5Iiwia2V5IiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsIl90b1ByaW1pdGl2ZSIsInRvUHJpbWl0aXZlIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiTnVtYmVyIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiQ09MVU1OUyIsImV4cG9ydHMiLCJSRVNQT05TRSIsImZyZWVSZXNwb25zZXNEYXRhUHJvcFR5cGUiLCJQcm9wVHlwZXMiLCJzaGFwZSIsInJlc3BvbnNlIiwic3RyaW5nIiwiRnJlZVJlc3BvbnNlc1N1cnZleVRhYmxlIiwiX0NvbXBvbmVudCIsIl90aGlzIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJhcHBseSIsImNvbmNhdCIsImRpcmVjdGlvbiIsInBvc2l0aW9uIiwic3RhdGUiLCJzb3J0aW5nQ29sdW1ucyIsInNlbGVjdGVkQ29sdW1uIiwic2V0U3RhdGUiLCJieUNvbHVtbiIsInNvcnRpbmdPcmRlciIsIkZJUlNUIiwiYXNjIiwiZGVzYyIsIl9yZWYiLCJyb3dJbmRleCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsInN0eWxlcyIsIm5vUmVzcG9uc2UiLCJpMThuIiwiZW1wdHlGcmVlUmVzcG9uc2UiLCJzb3J0YWJsZSIsInByb3BlcnR5IiwiaGVhZGVyIiwibGFiZWwiLCJwcm9wcyIsInRhYmxlTGF5b3V0U3R5bGVzIiwiaGVhZGVyQ2VsbCIsImNlbGwiLCJmb3JtYXR0ZXJzIiwic3R1ZGVudFJlc3BvbnNlQ29sdW1uRm9ybWF0dGVyIiwiX2luaGVyaXRzTG9vc2UiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJyZW5kZXIiLCJ3cmFwcGVkU29ydGFibGUiLCJ0aGlzIiwiZ2V0U29ydGluZ0NvbHVtbnMiLCJvblNvcnQiLCJzb3J0YWJsZU9wdGlvbnMiLCJjb2x1bW5zIiwiZ2V0Q29sdW1ucyIsInNvcnRlZFJvd3MiLCJzb3J0ZXIiLCJvcmRlckJ5IiwiZnJlZVJlc3BvbnNlcyIsIlByb3ZpZGVyIiwidGFibGUiLCJIZWFkZXIiLCJCb2R5Iiwicm93cyIsInJvd0tleSIsIkNvbXBvbmVudCIsImFycmF5T2YiLCJjb2xvciIsImxpZ2h0ZXJfZ3JheSIsIlJlYWN0UHJvcFR5cGVzU2VjcmV0IiwiZW1wdHlGdW5jdGlvbiIsIm1vZHVsZSIsInNoaW0iLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJsb2NhdGlvbiIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImVyciIsIkVycm9yIiwibmFtZSIsImdldFNoaW0iLCJpc1JlcXVpcmVkIiwiUmVhY3RQcm9wVHlwZXMiLCJhcnJheSIsImJvb2wiLCJmdW5jIiwibnVtYmVyIiwib2JqZWN0Iiwic3ltYm9sIiwiYW55IiwiZWxlbWVudCIsImluc3RhbmNlT2YiLCJub2RlIiwib2JqZWN0T2YiLCJvbmVPZiIsIm9uZU9mVHlwZSIsImV4YWN0IiwiY2hlY2tQcm9wVHlwZXMiLCJfYXNzZXNzbWVudHNUZXN0SGVscGVycyIsIl9GcmVlUmVzcG9uc2VzU3VydmV5VGFibGUiLCJjb21wb25lbnQiLCJUZW1wbGF0ZSIsInN1cnZleU9uZSJdLCJzb3VyY2VSb290IjoiIn0=