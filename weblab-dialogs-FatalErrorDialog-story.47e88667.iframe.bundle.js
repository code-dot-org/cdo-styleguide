"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[185],{"./src/templates/SafeMarkdown.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _redactableMarkdown=_interopRequireDefault(__webpack_require__("./node_modules/@code-dot-org/redactable-markdown/dist/main.js")),_remarkPlugins=__webpack_require__("./node_modules/@code-dot-org/remark-plugins/src/index.js"),_github=_interopRequireDefault(__webpack_require__("./node_modules/hast-util-sanitize/lib/github.json")),_propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_rehypeRaw=_interopRequireDefault(__webpack_require__("./node_modules/rehype-raw/index.js")),_rehypeReact=_interopRequireDefault(__webpack_require__("./node_modules/rehype-react/index.js")),_rehypeSanitize=_interopRequireDefault(__webpack_require__("./node_modules/rehype-sanitize/index.js")),_remarkRehype=_interopRequireDefault(__webpack_require__("./node_modules/remark-rehype/index.js")),_unified=_interopRequireDefault(__webpack_require__("./node_modules/unified/index.js")),_externalLinks=_interopRequireDefault(__webpack_require__("./src/templates/plugins/externalLinks.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var SafeMarkdown=function(_React$Component){function SafeMarkdown(){return _React$Component.apply(this,arguments)||this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(SafeMarkdown,_React$Component),SafeMarkdown.prototype.render=function render(){var processor=this.props.openExternalLinksInNewTab?markdownToReactExternalLinks:markdownToReact,rendered=Object(processor.processSync(this.props.markdown).result),markdownProps={};return this.props.className&&(markdownProps.className=this.props.className),rendered&&"div"===rendered.type&&!Object.keys(markdownProps).length?rendered:_react.default.createElement("div",markdownProps,rendered)},SafeMarkdown}(_react.default.Component);!function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(SafeMarkdown,"propTypes",{markdown:_propTypes.default.string.isRequired,openExternalLinksInNewTab:_propTypes.default.bool,className:_propTypes.default.string});var schema=Object.assign({},_github.default);schema.attributes.img.push("height","width"),schema.tagNames.push("span"),schema.attributes.span=["dataUrl","className"],schema.attributes["*"].push("style","className"),schema.attributes.b=["dataId"],schema.clobber=[];var blocklyTags=["block","functional_input","mutation","next","statement","title","field","value","xml"];schema.tagNames=schema.tagNames.concat(blocklyTags);var blocklyComponentWrappers={};blocklyTags.forEach((function(tag){schema.attributes[tag]=["block_text","id","inline","name","type"],blocklyComponentWrappers[tag]=function(props){var BlocklyElement=tag;return _react.default.createElement(BlocklyElement,_extends({is:tag},props))}}));var markdownToReact=(0,_unified.default)().use(_redactableMarkdown.default.getParser()).use([_remarkPlugins.clickableText,_remarkPlugins.expandableImages,_remarkPlugins.visualCodeBlock,_remarkPlugins.xmlAsTopLevelBlock,_remarkPlugins.details]).use(_remarkRehype.default,{allowDangerousHtml:!0}).use(_rehypeRaw.default).use(_rehypeSanitize.default,schema).use(_rehypeReact.default,{createElement:_react.default.createElement,components:blocklyComponentWrappers}),markdownToReactExternalLinks=markdownToReact().use(_externalLinks.default,{links:"all"});exports.default=SafeMarkdown;module.exports=exports.default},"./src/templates/plugins/externalLinks.js":(__unused_webpack_module,exports)=>{function isExternalLink(url){return!/https?:\/\/([^.]+\.)*code.org(:[0-9]+)?\//.test(function fullyQualified(path){return(a=a||document.createElement("a")).href=path,a.href}(url))}var a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function externalLinks(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},tokenizers=this.Parser.prototype.inlineTokenizers,original=tokenizers.link,all="all"===options.links;tokenizers.link=function(eat,value,silent){var link=original.call(this,eat,value,silent);if(link&&"link"===link.type&&(all||isExternalLink(link.url))){link.data=link.data||{},link.data.hProperties=link.data.hProperties||{};var props=link.data.hProperties;props.target=props.target||"_blank",props.rel="noreferrer noopener"}return link},tokenizers.link.locator=original.locator},exports.isExternalLink=isExternalLink},"./src/weblab/SupportArticleMarkdown.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function SupportArticleMarkdown(){return _react.default.createElement(_SafeMarkdown.default,{markdown:_locale.default.troubleshootingSupport({url:_constants.SUPPORT_ARTICLE_URL}),openExternalLinksInNewTab:!0})};var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_SafeMarkdown=_interopRequireDefault(__webpack_require__("./src/templates/SafeMarkdown.jsx")),_constants=__webpack_require__("./src/weblab/constants.js"),_locale=_interopRequireDefault(__webpack_require__("./src/weblab/locale-do-not-import.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=exports.default},"./src/weblab/constants.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.SUPPORT_ARTICLE_URL=exports.FatalErrorType=exports.FILE_SYSTEM_ERROR=exports.BRAMBLE_READY_STATE=void 0;var _utils=__webpack_require__("./src/utils.js");exports.SUPPORT_ARTICLE_URL="https://support.code.org/hc/en-us/articles/360016804871",exports.FatalErrorType=(0,_utils.makeEnum)("Default","LoadFailure","ResetFailure"),exports.FILE_SYSTEM_ERROR="EFILESYSTEMERROR",exports.BRAMBLE_READY_STATE="bramble:readyToMount"},"./src/weblab/dialogs/FatalErrorDialog.jsx":(module,exports,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=FatalErrorDialog;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_StylizedBaseDialog=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./src/sharedComponents/StylizedBaseDialog.jsx")),_utils=__webpack_require__("./src/utils.js"),_SupportArticleMarkdown=_interopRequireDefault(__webpack_require__("./src/weblab/SupportArticleMarkdown.jsx")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_locale2=_interopRequireDefault(__webpack_require__("./src/weblab/locale-do-not-import.js")),_excluded=["isOpen","errorMessage","handleClose","handleResetProject"];function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function FatalErrorDialog(_ref){var isOpen=_ref.isOpen,errorMessage=_ref.errorMessage,handleClose=_ref.handleClose,handleResetProject=_ref.handleResetProject,props=_objectWithoutProperties(_ref,_excluded),body=_react.default.createElement("div",null,_react.default.createElement("p",null,errorMessage),_react.default.createElement(_SupportArticleMarkdown.default,null)),footerButtons=[_react.default.createElement(_StylizedBaseDialog.FooterButton,{text:_locale.default.tryAgain(),onClick:_utils.reload,key:"cancel",type:"cancel"}),_react.default.createElement(_StylizedBaseDialog.FooterButton,{text:_locale2.default.reset(),onClick:handleResetProject,key:"reset",color:"red"}),_react.default.createElement(_StylizedBaseDialog.FooterButton,{text:_locale.default.dismiss(),onClick:handleClose,key:"confirm",type:"confirm"})];return _react.default.createElement(_StylizedBaseDialog.default,_extends({},props,{isOpen,title:_locale.default.errorOccurredTitle(),body,handleClose,renderFooter:function renderFooter(){return footerButtons}}))}FatalErrorDialog.propTypes={isOpen:_propTypes.default.bool.isRequired,errorMessage:_propTypes.default.string.isRequired,handleClose:_propTypes.default.func.isRequired,handleResetProject:_propTypes.default.func.isRequired},module.exports=exports.default},"./src/weblab/dialogs/FatalErrorDialog.story.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Basic=void 0;var _addonActions=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js"),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_FatalErrorDialog=_interopRequireDefault(__webpack_require__("./src/weblab/dialogs/FatalErrorDialog.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={component:_FatalErrorDialog.default},exports.Basic=function Basic(){return _react.default.createElement(_FatalErrorDialog.default,{isOpen:!0,errorMessage:"Web Lab failed to load",handleClose:(0,_addonActions.action)("close"),handleResetProject:(0,_addonActions.action)("resetting project"),hideBackdrop:!0})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2VibGFiLWRpYWxvZ3MtRmF0YWxFcnJvckRpYWxvZy1zdG9yeS4yM2JhZDNjNi5pZnJhbWUuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJvUEFBQSxJQUFBQSxvQkFBQUMsdUJBQUFDLG9CQUFBLGtFQUNBQyxlQUFBRCxvQkFBQSw0REFPQUUsUUFBQUgsdUJBQUFDLG9CQUFBLHNEQUNBRyxXQUFBSix1QkFBQUMsb0JBQUEsdUNBQ0FJLE9BQUFMLHVCQUFBQyxvQkFBQSxrQ0FDQUssV0FBQU4sdUJBQUFDLG9CQUFBLHVDQUNBTSxhQUFBUCx1QkFBQUMsb0JBQUEseUNBQ0FPLGdCQUFBUix1QkFBQUMsb0JBQUEsNENBQ0FRLGNBQUFULHVCQUFBQyxvQkFBQSwwQ0FDQVMsU0FBQVYsdUJBQUFDLG9CQUFBLG9DQUVBVSxlQUFBWCx1QkFBQUMsb0JBQUEsNkNBQW9ELFNBQUFELHVCQUFBWSxLQUFBLE9BQUFBLEtBQUFBLElBQUFDLFdBQUFELElBQUEsU0FBQUEsSUFBQSxVQUFBRSxRQUFBQyxHQUFBLE9BQUFELFFBQUEsbUJBQUFFLFFBQUEsaUJBQUFBLE9BQUFDLFNBQUEsU0FBQUYsR0FBQSxjQUFBQSxDQUFBLFdBQUFBLEdBQUEsT0FBQUEsR0FBQSxtQkFBQUMsUUFBQUQsRUFBQUcsY0FBQUYsUUFBQUQsSUFBQUMsT0FBQUcsVUFBQSxnQkFBQUosQ0FBQSxFQUFBRCxRQUFBQyxFQUFBLFVBQUFLLFdBQUEsT0FBQUEsU0FBQUMsT0FBQUMsT0FBQUQsT0FBQUMsT0FBQUMsT0FBQSxTQUFBQyxRQUFBLFFBQUFDLEVBQUEsRUFBQUEsRUFBQUMsVUFBQUMsT0FBQUYsSUFBQSxLQUFBRyxPQUFBRixVQUFBRCxHQUFBLFFBQUFJLE9BQUFELE9BQUFQLE9BQUFGLFVBQUFXLGVBQUFDLEtBQUFILE9BQUFDLE9BQUFMLE9BQUFLLEtBQUFELE9BQUFDLEtBQUEsUUFBQUwsTUFBQSxFQUFBSixTQUFBWSxNQUFBLEtBQUFOLFVBQUEsVUFBQU8sZ0JBQUFsQixFQUFBbUIsR0FBQSxPQUFB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QyxjQUFZLEdBQ1osQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy90ZW1wbGF0ZXMvU2FmZU1hcmtkb3duLmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvdGVtcGxhdGVzL3BsdWdpbnMvZXh0ZXJuYWxMaW5rcy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvd2VibGFiL1N1cHBvcnRBcnRpY2xlTWFya2Rvd24uanN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy93ZWJsYWIvY29uc3RhbnRzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy93ZWJsYWIvZGlhbG9ncy9GYXRhbEVycm9yRGlhbG9nLmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvd2VibGFiL2RpYWxvZ3MvRmF0YWxFcnJvckRpYWxvZy5zdG9yeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvY2Vzc29yIGZyb20gJ0Bjb2RlLWRvdC1vcmcvcmVkYWN0YWJsZS1tYXJrZG93bic7XG5pbXBvcnQge1xuICBkZXRhaWxzLFxuICBjbGlja2FibGVUZXh0LFxuICBleHBhbmRhYmxlSW1hZ2VzLFxuICB2aXN1YWxDb2RlQmxvY2ssXG4gIHhtbEFzVG9wTGV2ZWxCbG9jayxcbn0gZnJvbSAnQGNvZGUtZG90LW9yZy9yZW1hcmstcGx1Z2lucyc7XG5pbXBvcnQgZGVmYXVsdFNhbml0aXphdGlvblNjaGVtYSBmcm9tICdoYXN0LXV0aWwtc2FuaXRpemUvbGliL2dpdGh1Yi5qc29uJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHJlaHlwZVJhdyBmcm9tICdyZWh5cGUtcmF3JztcbmltcG9ydCByZWh5cGVSZWFjdCBmcm9tICdyZWh5cGUtcmVhY3QnO1xuaW1wb3J0IHJlaHlwZVNhbml0aXplIGZyb20gJ3JlaHlwZS1zYW5pdGl6ZSc7XG5pbXBvcnQgcmVtYXJrUmVoeXBlIGZyb20gJ3JlbWFyay1yZWh5cGUnO1xuaW1wb3J0IHVuaWZpZWQgZnJvbSAndW5pZmllZCc7XG5cbmltcG9ydCBleHRlcm5hbExpbmtzIGZyb20gJy4vcGx1Z2lucy9leHRlcm5hbExpbmtzJztcblxuLyoqXG4gKiBCYXNpYyBjb21wb25lbnQgZm9yIHJlbmRlcmluZyBhIG1hcmtkb3duIHN0cmluZyBhcyBIVE1MLCB3aXRoIHNhbml0aXphdGlvbi5cbiAqIENhbiBzYWZlbHkgcmVuZGVyIG1hcmtkb3duIGV2ZW4gZnJvbSB1bnRydXN0ZWQgc291cmNlcywgd2l0aG91dCBwb3RlbnRpYWxseVxuICogZXhwb3NpbmcgdXMgdG8gYW4gWFNTIGluamVjdGlvbi5cbiAqL1xuY2xhc3MgU2FmZU1hcmtkb3duIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBtYXJrZG93bjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgIG9wZW5FeHRlcm5hbExpbmtzSW5OZXdUYWI6IFByb3BUeXBlcy5ib29sLFxuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgLy8gV2Ugb25seSBvcGVuIGV4dGVybmFsIGxpbmtzIGluIGEgbmV3IHRhYiBpZiBpdCdzIGV4cGxpY2l0bHkgc3BlY2lmaWVkXG4gICAgLy8gdGhhdCB3ZSBkbyBzbzsgdGhpcyBpcyBhYnNvbHV0ZWx5IG5vdCBzb21ldGhpbmcgd2Ugd2FudCB0byBkbyBhcyBhXG4gICAgLy8gZ2VuZXJhbCBwcmFjdGljZSwgYnV0IHVuZm9ydHVuYXRlbHkgdGhlcmUgYXJlIHNvbWUgc2l0dWF0aW9ucyBpbiB3aGljaFxuICAgIC8vIGl0IGlzIGN1cnJlbnRseSBhIHJlcXVpcmVtZW50LlxuICAgIGNvbnN0IHByb2Nlc3NvciA9IHRoaXMucHJvcHMub3BlbkV4dGVybmFsTGlua3NJbk5ld1RhYlxuICAgICAgPyBtYXJrZG93blRvUmVhY3RFeHRlcm5hbExpbmtzXG4gICAgICA6IG1hcmtkb3duVG9SZWFjdDtcblxuICAgIGNvbnN0IHJlbmRlcmVkID0gT2JqZWN0KHByb2Nlc3Nvci5wcm9jZXNzU3luYyh0aGlzLnByb3BzLm1hcmtkb3duKS5yZXN1bHQpO1xuXG4gICAgY29uc3QgbWFya2Rvd25Qcm9wcyA9IHt9O1xuICAgIGlmICh0aGlzLnByb3BzLmNsYXNzTmFtZSkge1xuICAgICAgbWFya2Rvd25Qcm9wcy5jbGFzc05hbWUgPSB0aGlzLnByb3BzLmNsYXNzTmFtZTtcbiAgICB9XG4gICAgLy8gcmVoeXBlLXJlYWN0IHdpbGwgb25seSB3cmFwIHRoZSBjb21waWxlZCBtYXJrZG93biBpbiBhIDxkaXY+IHRhZ1xuICAgIC8vIGlmIGl0IG5lZWRzIHRvIChpZSwgaWYgdGhlcmUgd291bGQgb3RoZXJ3aXNlIGJlIG11bHRpcGxlIGVsZW1lbnRzXG4gICAgLy8gcmV0dXJuZWQpIG9yIHdlJ3JlIGFzc2lnbmluZyBwcm9wcy4gV2UgcHJlZmVyIGNvbnNpc3RlbmN5IG92ZXIgZmxleGliaWxpdHksXG4gICAgLy8gc28gaGVyZSB3ZSB3cmFwIHRoZSByZXN1bHQgaW4gYSBkaXYgaWYgaXQgd2Fzbid0IGFscmVhZHlcbiAgICBpZiAoXG4gICAgICByZW5kZXJlZCAmJlxuICAgICAgcmVuZGVyZWQudHlwZSA9PT0gJ2RpdicgJiZcbiAgICAgICFPYmplY3Qua2V5cyhtYXJrZG93blByb3BzKS5sZW5ndGhcbiAgICApIHtcbiAgICAgIHJldHVybiByZW5kZXJlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxkaXYgey4uLm1hcmtkb3duUHJvcHN9PntyZW5kZXJlZH08L2Rpdj47XG4gICAgfVxuICB9XG59XG5cbi8vIGNyZWF0ZSBjdXN0b20gc2FuaXRpemF0aW9uIHNjaGVtYSBhcyBwZXJcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zeW50YXgtdHJlZS9oYXN0LXV0aWwtc2FuaXRpemUjc2NoZW1hXG4vLyB0byBzdXBwb3J0IG91ciBjdXN0b20gc3ludGF4ZXNcbmNvbnN0IHNjaGVtYSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRTYW5pdGl6YXRpb25TY2hlbWEpO1xuXG4vLyBXZSB1c2UgYSBfbG90XyBvZiBpbWFnZSBmb3JtYXR0aW5nIHN0dWZmIGluIG91clxuLy8gaW5zdHJ1Y3Rpb25zLCBwYXJ0aWN1bGFybHkgaW4gQ1NQXG5zY2hlbWEuYXR0cmlidXRlcy5pbWcucHVzaCgnaGVpZ2h0JywgJ3dpZHRoJyk7XG5cbi8vIEFkZCBzdXBwb3J0IGZvciBleHBhbmRhYmxlSW1hZ2VzXG5zY2hlbWEudGFnTmFtZXMucHVzaCgnc3BhbicpO1xuc2NoZW1hLmF0dHJpYnV0ZXMuc3BhbiA9IFsnZGF0YVVybCcsICdjbGFzc05hbWUnXTtcblxuLy8gQWRkIHN1cHBvcnQgZm9yIGlubGluZSBzdHlsZXMgKGdyb3NzKVxuLy8gVE9ETyByZXBsYWNlIGFsbCBpbmxpbmUgc3R5bGVzIGluIG91ciBjdXJyaWN1bHVtIGNvbnRlbnQgd2l0aFxuLy8gc2VtYW50aWNhbGx5LXNpZ25pZmljYW50IGNvbnRlbnRcbnNjaGVtYS5hdHRyaWJ1dGVzWycqJ10ucHVzaCgnc3R5bGUnLCAnY2xhc3NOYW1lJyk7XG5cbi8vIENsaWNrYWJsZVRleHQgdXNlcyBkYXRhLWlkIG9uIGEgYm9sZCB0YWcuXG5zY2hlbWEuYXR0cmlidXRlc1snYiddID0gWydkYXRhSWQnXTtcblxuLy8gQWRkIHN1cHBvcnQgZm9yIEJsb2NrbHkgWE1MXG5zY2hlbWEuY2xvYmJlciA9IFtdO1xuY29uc3QgYmxvY2tseVRhZ3MgPSBbXG4gICdibG9jaycsXG4gICdmdW5jdGlvbmFsX2lucHV0JyxcbiAgJ211dGF0aW9uJyxcbiAgJ25leHQnLFxuICAnc3RhdGVtZW50JyxcbiAgJ3RpdGxlJyxcbiAgJ2ZpZWxkJyxcbiAgJ3ZhbHVlJyxcbiAgJ3htbCcsXG5dO1xuc2NoZW1hLnRhZ05hbWVzID0gc2NoZW1hLnRhZ05hbWVzLmNvbmNhdChibG9ja2x5VGFncyk7XG5sZXQgYmxvY2tseUNvbXBvbmVudFdyYXBwZXJzID0ge307XG5ibG9ja2x5VGFncy5mb3JFYWNoKHRhZyA9PiB7XG4gIHNjaGVtYS5hdHRyaWJ1dGVzW3RhZ10gPSBbJ2Jsb2NrX3RleHQnLCAnaWQnLCAnaW5saW5lJywgJ25hbWUnLCAndHlwZSddO1xuXG4gIC8vIENyZWF0ZSBhIFJlYWN0IGNvbXBvbmVudCB0byB3cmFwIGVhY2ggQmxvY2tseSB0YWcuIFNpbmNlIHRoZXNlIGVsZW1lbnRzIHVsdGltYXRlbHlcbiAgLy8gcmVuZGVyIGFzIFJlYWN0IGNvbXBvbmVudHMsIGNyZWF0aW5nIGEgd3JhcHBlciBtYWtlcyB0aGVtIHZhbGlkICh3aGVyZWFzIDx4bWw+XG4gIC8vIGlzIG5vdCBhIHZhbGlkIFJlYWN0IHRhZykuXG4gIGJsb2NrbHlDb21wb25lbnRXcmFwcGVyc1t0YWddID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgY29uc3QgQmxvY2tseUVsZW1lbnQgPSB0YWc7XG4gICAgLy8gVGhlIFwiaXNcIiBhdHRyaWJ1dGUgcHJldmVudHMgUmVhY3QgZnJvbSB3YXJuaW5nIGFib3V0IHVucmVjb2duaXplZCB0YWdzOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTExODQjaXNzdWVjb21tZW50LTMzNTk0MjQzOVxuICAgIHJldHVybiA8QmxvY2tseUVsZW1lbnQgaXM9e3RhZ30gey4uLnByb3BzfSAvPjtcbiAgfTtcbn0pO1xuY29uc3QgbWFya2Rvd25Ub1JlYWN0ID0gdW5pZmllZCgpXG4gIC51c2UoUHJvY2Vzc29yLmdldFBhcnNlcigpKVxuICAvLyBpbmNsdWRlIGN1c3RvbSBwbHVnaW5zXG4gIC51c2UoW1xuICAgIGNsaWNrYWJsZVRleHQsXG4gICAgZXhwYW5kYWJsZUltYWdlcyxcbiAgICB2aXN1YWxDb2RlQmxvY2ssXG4gICAgeG1sQXNUb3BMZXZlbEJsb2NrLFxuICAgIGRldGFpbHMsXG4gIF0pXG4gIC8vIGNvbnZlcnQgbWFya2Rvd24gdG8gYW4gSFRNTCBBYnN0cmFjdCBTeW50YXggVHJlZSAoSEFTVClcbiAgLnVzZShyZW1hcmtSZWh5cGUsIHtcbiAgICAvLyBpbmNsdWRlIGFueSByYXcgSFRNTCBpbiB0aGUgbWFya2Rvd24gYXMgcmF3IEhUTUwgbm9kZXMgaW4gdGhlIEhBU1RcbiAgICBhbGxvd0Rhbmdlcm91c0h0bWw6IHRydWUsXG4gIH0pXG4gIC8vIHBhcnNlIHRoZSByYXcgSFRNTCBub2RlcyBpbiB0aGUgSEFTVCB0byBhY3R1YWwgSEFTVCBub2Rlc1xuICAudXNlKHJlaHlwZVJhdylcbiAgLy8gc2FuaXRpemUgdGhlIEhBU1RcbiAgLnVzZShyZWh5cGVTYW5pdGl6ZSwgc2NoZW1hKVxuICAvLyBjb252ZXJ0IHRoZSBIQVNUIHRvIFJlYWN0XG4gIC51c2UocmVoeXBlUmVhY3QsIHtcbiAgICBjcmVhdGVFbGVtZW50OiBSZWFjdC5jcmVhdGVFbGVtZW50LFxuICAgIC8vIFVzZSBSZWFjdCBjb21wb25lbnQgd3JhcHBlcnMgZm9yIEJsb2NrbHkgWE1MIGVsZW1lbnRzIHRvIHByZXZlbnRcbiAgICAvLyBSZWFjdCBmcm9tIHdhcm5pbmcgdXMgYWJvdXQgaW52YWxpZCBjb21wb25lbnRzLlxuICAgIGNvbXBvbmVudHM6IGJsb2NrbHlDb21wb25lbnRXcmFwcGVycyxcbiAgfSk7XG5cbmNvbnN0IG1hcmtkb3duVG9SZWFjdEV4dGVybmFsTGlua3MgPSBtYXJrZG93blRvUmVhY3QoKS51c2UoZXh0ZXJuYWxMaW5rcywge1xuICBsaW5rczogJ2FsbCcsXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgU2FmZU1hcmtkb3duO1xuIiwiLyoqXG4gKiBPcGVuIGV4dGVybmFsIGxpbmtzIGluIGEgbmV3IHRhYi5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXh0ZXJuYWxMaW5rcyhvcHRpb25zID0ge30pIHtcbiAgY29uc3QgUGFyc2VyID0gdGhpcy5QYXJzZXI7XG4gIGNvbnN0IHRva2VuaXplcnMgPSBQYXJzZXIucHJvdG90eXBlLmlubGluZVRva2VuaXplcnM7XG4gIGNvbnN0IG9yaWdpbmFsID0gdG9rZW5pemVycy5saW5rO1xuICBjb25zdCBhbGwgPSBvcHRpb25zLmxpbmtzID09PSAnYWxsJztcblxuICB0b2tlbml6ZXJzLmxpbmsgPSBmdW5jdGlvbiAoZWF0LCB2YWx1ZSwgc2lsZW50KSB7XG4gICAgY29uc3QgbGluayA9IG9yaWdpbmFsLmNhbGwodGhpcywgZWF0LCB2YWx1ZSwgc2lsZW50KTtcbiAgICBpZiAobGluayAmJiBsaW5rLnR5cGUgPT09ICdsaW5rJyAmJiAoYWxsIHx8IGlzRXh0ZXJuYWxMaW5rKGxpbmsudXJsKSkpIHtcbiAgICAgIGxpbmsuZGF0YSA9IGxpbmsuZGF0YSB8fCB7fTtcbiAgICAgIGxpbmsuZGF0YS5oUHJvcGVydGllcyA9IGxpbmsuZGF0YS5oUHJvcGVydGllcyB8fCB7fTtcblxuICAgICAgY29uc3QgcHJvcHMgPSBsaW5rLmRhdGEuaFByb3BlcnRpZXM7XG4gICAgICBwcm9wcy50YXJnZXQgPSBwcm9wcy50YXJnZXQgfHwgJ19ibGFuayc7XG4gICAgICBwcm9wcy5yZWwgPSAnbm9yZWZlcnJlciBub29wZW5lcic7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxpbms7XG4gIH07XG4gIHRva2VuaXplcnMubGluay5sb2NhdG9yID0gb3JpZ2luYWwubG9jYXRvcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRXh0ZXJuYWxMaW5rKHVybCkge1xuICByZXR1cm4gIS9odHRwcz86XFwvXFwvKFteLl0rXFwuKSpjb2RlLm9yZyg6WzAtOV0rKT9cXC8vLnRlc3QoZnVsbHlRdWFsaWZpZWQodXJsKSk7XG59XG5cbmxldCBhO1xuZnVuY3Rpb24gZnVsbHlRdWFsaWZpZWQocGF0aCkge1xuICBhID0gYSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGEuaHJlZiA9IHBhdGg7XG4gIHJldHVybiBhLmhyZWY7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgU2FmZU1hcmtkb3duIGZyb20gJ0BjZG8vYXBwcy90ZW1wbGF0ZXMvU2FmZU1hcmtkb3duJztcbmltcG9ydCB7U1VQUE9SVF9BUlRJQ0xFX1VSTH0gZnJvbSAnQGNkby9hcHBzL3dlYmxhYi9jb25zdGFudHMnO1xuaW1wb3J0IHdlYmxhYkkxOG4gZnJvbSAnQGNkby93ZWJsYWIvbG9jYWxlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3VwcG9ydEFydGljbGVNYXJrZG93bigpIHtcbiAgcmV0dXJuIChcbiAgICA8U2FmZU1hcmtkb3duXG4gICAgICBtYXJrZG93bj17d2VibGFiSTE4bi50cm91Ymxlc2hvb3RpbmdTdXBwb3J0KHt1cmw6IFNVUFBPUlRfQVJUSUNMRV9VUkx9KX1cbiAgICAgIG9wZW5FeHRlcm5hbExpbmtzSW5OZXdUYWJcbiAgICAvPlxuICApO1xufVxuIiwiaW1wb3J0IHttYWtlRW51bX0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgU1VQUE9SVF9BUlRJQ0xFX1VSTCA9XG4gICdodHRwczovL3N1cHBvcnQuY29kZS5vcmcvaGMvZW4tdXMvYXJ0aWNsZXMvMzYwMDE2ODA0ODcxJztcblxuZXhwb3J0IGNvbnN0IEZhdGFsRXJyb3JUeXBlID0gbWFrZUVudW0oXG4gICdEZWZhdWx0JyxcbiAgJ0xvYWRGYWlsdXJlJyxcbiAgJ1Jlc2V0RmFpbHVyZSdcbik7XG5cbmV4cG9ydCBjb25zdCBGSUxFX1NZU1RFTV9FUlJPUiA9ICdFRklMRVNZU1RFTUVSUk9SJztcbmV4cG9ydCBjb25zdCBCUkFNQkxFX1JFQURZX1NUQVRFID0gJ2JyYW1ibGU6cmVhZHlUb01vdW50JztcbiIsImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgU3R5bGl6ZWRCYXNlRGlhbG9nLCB7XG4gIEZvb3RlckJ1dHRvbixcbn0gZnJvbSAnQGNkby9hcHBzL3NoYXJlZENvbXBvbmVudHMvU3R5bGl6ZWRCYXNlRGlhbG9nJztcbmltcG9ydCB7cmVsb2FkfSBmcm9tICdAY2RvL2FwcHMvdXRpbHMnO1xuaW1wb3J0IFN1cHBvcnRBcnRpY2xlTWFya2Rvd24gZnJvbSAnQGNkby9hcHBzL3dlYmxhYi9TdXBwb3J0QXJ0aWNsZU1hcmtkb3duJztcbmltcG9ydCBjb21tb25JMThuIGZyb20gJ0BjZG8vbG9jYWxlJztcbmltcG9ydCB3ZWJsYWJJMThuIGZyb20gJ0BjZG8vd2VibGFiL2xvY2FsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZhdGFsRXJyb3JEaWFsb2coe1xuICBpc09wZW4sXG4gIGVycm9yTWVzc2FnZSxcbiAgaGFuZGxlQ2xvc2UsXG4gIGhhbmRsZVJlc2V0UHJvamVjdCxcbiAgLi4ucHJvcHNcbn0pIHtcbiAgY29uc3QgYm9keSA9IChcbiAgICA8ZGl2PlxuICAgICAgPHA+e2Vycm9yTWVzc2FnZX08L3A+XG4gICAgICA8U3VwcG9ydEFydGljbGVNYXJrZG93biAvPlxuICAgIDwvZGl2PlxuICApO1xuXG4gIGNvbnN0IGZvb3RlckJ1dHRvbnMgPSBbXG4gICAgPEZvb3RlckJ1dHRvblxuICAgICAgdGV4dD17Y29tbW9uSTE4bi50cnlBZ2FpbigpfVxuICAgICAgb25DbGljaz17cmVsb2FkfVxuICAgICAga2V5PVwiY2FuY2VsXCJcbiAgICAgIHR5cGU9XCJjYW5jZWxcIlxuICAgIC8+LFxuICAgIDxGb290ZXJCdXR0b25cbiAgICAgIHRleHQ9e3dlYmxhYkkxOG4ucmVzZXQoKX1cbiAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlc2V0UHJvamVjdH1cbiAgICAgIGtleT1cInJlc2V0XCJcbiAgICAgIGNvbG9yPVwicmVkXCJcbiAgICAvPixcbiAgICA8Rm9vdGVyQnV0dG9uXG4gICAgICB0ZXh0PXtjb21tb25JMThuLmRpc21pc3MoKX1cbiAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsb3NlfVxuICAgICAga2V5PVwiY29uZmlybVwiXG4gICAgICB0eXBlPVwiY29uZmlybVwiXG4gICAgLz4sXG4gIF07XG5cbiAgcmV0dXJuIChcbiAgICA8U3R5bGl6ZWRCYXNlRGlhbG9nXG4gICAgICB7Li4ucHJvcHN9XG4gICAgICBpc09wZW49e2lzT3Blbn1cbiAgICAgIHRpdGxlPXtjb21tb25JMThuLmVycm9yT2NjdXJyZWRUaXRsZSgpfVxuICAgICAgYm9keT17Ym9keX1cbiAgICAgIGhhbmRsZUNsb3NlPXtoYW5kbGVDbG9zZX1cbiAgICAgIHJlbmRlckZvb3Rlcj17KCkgPT4gZm9vdGVyQnV0dG9uc31cbiAgICAvPlxuICApO1xufVxuXG5GYXRhbEVycm9yRGlhbG9nLnByb3BUeXBlcyA9IHtcbiAgaXNPcGVuOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBlcnJvck1lc3NhZ2U6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgaGFuZGxlQ2xvc2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGhhbmRsZVJlc2V0UHJvamVjdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbn07XG4iLCJpbXBvcnQge2FjdGlvbn0gZnJvbSAnQHN0b3J5Ym9vay9hZGRvbi1hY3Rpb25zJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBGYXRhbEVycm9yRGlhbG9nIGZyb20gJy4vRmF0YWxFcnJvckRpYWxvZyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29tcG9uZW50OiBGYXRhbEVycm9yRGlhbG9nLFxufTtcblxuZXhwb3J0IGNvbnN0IEJhc2ljID0gKCkgPT4gKFxuICA8RmF0YWxFcnJvckRpYWxvZ1xuICAgIGlzT3BlblxuICAgIGVycm9yTWVzc2FnZT1cIldlYiBMYWIgZmFpbGVkIHRvIGxvYWRcIlxuICAgIGhhbmRsZUNsb3NlPXthY3Rpb24oJ2Nsb3NlJyl9XG4gICAgaGFuZGxlUmVzZXRQcm9qZWN0PXthY3Rpb24oJ3Jlc2V0dGluZyBwcm9qZWN0Jyl9XG4gICAgaGlkZUJhY2tkcm9wXG4gIC8+XG4pO1xuIl0sIm5hbWVzIjpbIl9yZWRhY3RhYmxlTWFya2Rvd24iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZW1hcmtQbHVnaW5zIiwiX2dpdGh1YiIsIl9wcm9wVHlwZXMiLCJfcmVhY3QiLCJfcmVoeXBlUmF3IiwiX3JlaHlwZVJlYWN0IiwiX3JlaHlwZVNhbml0aXplIiwiX3JlbWFya1JlaHlwZSIsIl91bmlmaWVkIiwiX2V4dGVybmFsTGlua3MiLCJvYmoiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsIm8iLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiX2V4dGVuZHMiLCJPYmplY3QiLCJhc3NpZ24iLCJiaW5kIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImtleSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwiX3NldFByb3RvdHlwZU9mIiwicCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiU2FmZU1hcmtkb3duIiwiX1JlYWN0JENvbXBvbmVudCIsIl9pbmhlcml0c0xvb3NlIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwicmVuZGVyIiwicHJvY2Vzc29yIiwidGhpcyIsInByb3BzIiwib3BlbkV4dGVybmFsTGlua3NJbk5ld1RhYiIsIm1hcmtkb3duVG9SZWFjdEV4dGVybmFsTGlua3MiLCJtYXJrZG93blRvUmVhY3QiLCJyZW5kZXJlZCIsInByb2Nlc3NTeW5jIiwibWFya2Rvd24iLCJyZXN1bHQiLCJtYXJrZG93blByb3BzIiwiY2xhc3NOYW1lIiwidHlwZSIsImtleXMiLCJjcmVhdGVFbGVtZW50IiwiUmVhY3QiLCJDb21wb25lbnQiLCJfZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwidCIsIl90b1ByaW1pdGl2ZSIsInIiLCJlIiwidG9QcmltaXRpdmUiLCJUeXBlRXJyb3IiLCJTdHJpbmciLCJOdW1iZXIiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIlByb3BUeXBlcyIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJib29sIiwic2NoZW1hIiwiZGVmYXVsdFNhbml0aXphdGlvblNjaGVtYSIsImF0dHJpYnV0ZXMiLCJpbWciLCJwdXNoIiwidGFnTmFtZXMiLCJzcGFuIiwiY2xvYmJlciIsImJsb2NrbHlUYWdzIiwiY29uY2F0IiwiYmxvY2tseUNvbXBvbmVudFdyYXBwZXJzIiwiZm9yRWFjaCIsInRhZyIsIkJsb2NrbHlFbGVtZW50IiwiaXMiLCJ1bmlmaWVkIiwidXNlIiwiUHJvY2Vzc29yIiwiZ2V0UGFyc2VyIiwiY2xpY2thYmxlVGV4dCIsImV4cGFuZGFibGVJbWFnZXMiLCJ2aXN1YWxDb2RlQmxvY2siLCJ4bWxBc1RvcExldmVsQmxvY2siLCJkZXRhaWxzIiwicmVtYXJrUmVoeXBlIiwiYWxsb3dEYW5nZXJvdXNIdG1sIiwicmVoeXBlUmF3IiwicmVoeXBlU2FuaXRpemUiLCJyZWh5cGVSZWFjdCIsImNvbXBvbmVudHMiLCJleHRlcm5hbExpbmtzIiwibGlua3MiLCJleHBvcnRzIiwibW9kdWxlIiwiaXNFeHRlcm5hbExpbmsiLCJ1cmwiLCJ0ZXN0IiwiZnVsbHlRdWFsaWZpZWQiLCJwYXRoIiwiYSIsImRvY3VtZW50IiwiaHJlZiIsIm9wdGlvbnMiLCJ1bmRlZmluZWQiLCJ0b2tlbml6ZXJzIiwiUGFyc2VyIiwiaW5saW5lVG9rZW5pemVycyIsIm9yaWdpbmFsIiwibGluayIsImFsbCIsImVhdCIsInNpbGVudCIsImRhdGEiLCJoUHJvcGVydGllcyIsInJlbCIsImxvY2F0b3IiLCJTdXBwb3J0QXJ0aWNsZU1hcmtkb3duIiwiX1NhZmVNYXJrZG93biIsIndlYmxhYkkxOG4iLCJ0cm91Ymxlc2hvb3RpbmdTdXBwb3J0IiwiU1VQUE9SVF9BUlRJQ0xFX1VSTCIsIl9jb25zdGFudHMiLCJfbG9jYWxlIiwiX3V0aWxzIiwibWFrZUVudW0iLCJfU3R5bGl6ZWRCYXNlRGlhbG9nIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJoYXMiLCJnZXQiLCJuIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsInNldCIsIl9TdXBwb3J0QXJ0aWNsZU1hcmtkb3duIiwiX2xvY2FsZTIiLCJfZXhjbHVkZWQiLCJXZWFrTWFwIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiZXhjbHVkZWQiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsInNvdXJjZUtleXMiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic291cmNlU3ltYm9sS2V5cyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiRmF0YWxFcnJvckRpYWxvZyIsIl9yZWYiLCJpc09wZW4iLCJlcnJvck1lc3NhZ2UiLCJoYW5kbGVDbG9zZSIsImhhbmRsZVJlc2V0UHJvamVjdCIsImJvZHkiLCJmb290ZXJCdXR0b25zIiwiRm9vdGVyQnV0dG9uIiwidGV4dCIsImNvbW1vbkkxOG4iLCJ0cnlBZ2FpbiIsIm9uQ2xpY2siLCJyZWxvYWQiLCJyZXNldCIsImNvbG9yIiwiZGlzbWlzcyIsInRpdGxlIiwiZXJyb3JPY2N1cnJlZFRpdGxlIiwicmVuZGVyRm9vdGVyIiwicHJvcFR5cGVzIiwiZnVuYyIsIl9hZGRvbkFjdGlvbnMiLCJfRmF0YWxFcnJvckRpYWxvZyIsImNvbXBvbmVudCIsIkJhc2ljIiwiYWN0aW9uIiwiaGlkZUJhY2tkcm9wIl0sInNvdXJjZVJvb3QiOiIifQ==