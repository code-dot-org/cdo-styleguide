(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[1196],{"./src/redux/unitSelectionRedux.js":(__unused_webpack_module,exports)=>{"use strict";function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}Object.defineProperty(exports,"__esModule",{value:!0}),exports.asyncLoadCoursesWithProgress=exports.START_LOADING_COURSES=exports.SET_SCRIPT=exports.SET_COURSES=exports.FINISHED_LOADING_COURSES=void 0,exports.default=function unitSelection(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;if(action.type===SET_COURSES){var firstCourse=action.coursesWithProgress[0],firstUnit=firstCourse?firstCourse.units[0]:null;return _objectSpread(_objectSpread({},state),{},{coursesWithProgress:action.coursesWithProgress,scriptId:null===state.scriptId?null==firstUnit?void 0:firstUnit.id:state.scriptId})}if(action.type===SET_SCRIPT)return _objectSpread(_objectSpread({},state),{},{scriptId:action.scriptId});if(action.type===START_LOADING_COURSES)return _objectSpread(_objectSpread({},state),{},{isLoadingCoursesWithProgress:!0});if(action.type===FINISHED_LOADING_COURSES)return _objectSpread(_objectSpread({},state),{},{isLoadingCoursesWithProgress:!1});return state},exports.startLoadingCoursesWithProgress=exports.setScriptId=exports.setCoursesWithProgress=exports.getSelectedScriptName=exports.getSelectedScriptFriendlyName=exports.getSelectedScriptDescription=exports.finishedLoadingCoursesWithProgress=exports.doesCurrentCourseUseFeedback=void 0;var SET_SCRIPT=exports.SET_SCRIPT="unitSelection/SET_SCRIPT",SET_COURSES=exports.SET_COURSES="unitSelection/SET_COURSES",START_LOADING_COURSES=exports.START_LOADING_COURSES="unitSelection/START_LOADING_COURSES",FINISHED_LOADING_COURSES=exports.FINISHED_LOADING_COURSES="unitSelection/FINISHED_LOADING_COURSES",setCoursesWithProgress=(exports.setScriptId=function setScriptId(scriptId){return{type:SET_SCRIPT,scriptId}},exports.setCoursesWithProgress=function setCoursesWithProgress(coursesWithProgress){return{type:SET_COURSES,coursesWithProgress}}),startLoadingCoursesWithProgress=exports.startLoadingCoursesWithProgress=function startLoadingCoursesWithProgress(){return{type:START_LOADING_COURSES}},finishedLoadingCoursesWithProgress=exports.finishedLoadingCoursesWithProgress=function finishedLoadingCoursesWithProgress(){return{type:FINISHED_LOADING_COURSES}},getSelectedUnit=function getSelectedUnit(state){var unit,scriptId=state.unitSelection.scriptId;return scriptId?(state.unitSelection.coursesWithProgress.forEach((function(course){var tempUnit=course.units.find((function(unit){return scriptId===unit.id}));tempUnit&&(unit=tempUnit)})),unit):null},initialState=(exports.getSelectedScriptName=function getSelectedScriptName(state){return getSelectedUnit(state)?getSelectedUnit(state).key:null},exports.getSelectedScriptFriendlyName=function getSelectedScriptFriendlyName(state){return getSelectedUnit(state)?getSelectedUnit(state).name:null},exports.getSelectedScriptDescription=function getSelectedScriptDescription(state){return getSelectedUnit(state)?getSelectedUnit(state).description:null},exports.doesCurrentCourseUseFeedback=function doesCurrentCourseUseFeedback(state){var _getSelectedUnit;return!(null===(_getSelectedUnit=getSelectedUnit(state))||void 0===_getSelectedUnit||!_getSelectedUnit.is_feedback_enabled)},exports.asyncLoadCoursesWithProgress=function asyncLoadCoursesWithProgress(){return function(dispatch,getState){var state=getState(),selectedSection=state.teacherSections.sections[state.teacherSections.selectedSectionId];!state.unitSelection.isLoadingCoursesWithProgress&&selectedSection&&(dispatch(startLoadingCoursesWithProgress()),fetch("/dashboardapi/section_courses/".concat(selectedSection.id),{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(response){if(!response.ok)throw new Error("Error(".concat(response.status,": ").concat(response.statusText,")"));return response.json()})).then((function(coursesWithProgress){var reorderedCourses=[].concat(_toConsumableArray(coursesWithProgress.filter((function(course){return course.id!==selectedSection.courseVersionId}))),_toConsumableArray(coursesWithProgress.filter((function(course){return course.id===selectedSection.courseVersionId})))).reverse();dispatch(setCoursesWithProgress(reorderedCourses)),dispatch(finishedLoadingCoursesWithProgress())})).catch((function(err){console.error(err.message),dispatch(finishedLoadingCoursesWithProgress())})))}},{scriptId:null,coursesWithProgress:[],isLoadingCoursesWithProgress:!1})},"./src/templates/sectionAssessments/sectionAssessmentsRedux.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.currentStudentHasResponses=exports.countSubmissionsForCurrentAssessment=exports.asyncLoadAssessments=exports.QuestionType=exports.ASSESSMENT_FEEDBACK_OPTION_ID=exports.ALL_STUDENT_FILTER=void 0,exports.default=function sectionAssessments(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;if(action.type===_unitSelectionRedux.SET_SCRIPT)return _objectSpread(_objectSpread({},state),{},{studentId:ALL_STUDENT_FILTER,questionIndex:0});if(action.type===SET_ASSESSMENT_ID)return _objectSpread(_objectSpread({},state),{},{assessmentId:action.assessmentId,questionIndex:0,studentId:ALL_STUDENT_FILTER});if(action.type===SET_INITIAL_ASSESSMENT_ID){var assessmentId=getFirstAssessmentId(state,action.scriptId);return _objectSpread(_objectSpread({},state),{},{assessmentId})}if(action.type===SET_STUDENT_ID)return _objectSpread(_objectSpread({},state),{},{studentId:action.studentId});if(action.type===SET_QUESTION_INDEX)return _objectSpread(_objectSpread({},state),{},{questionIndex:action.questionIndex});if(action.type===SET_ASSESSMENT_RESPONSES)return _objectSpread(_objectSpread({},state),{},{assessmentResponsesByScript:_objectSpread(_objectSpread({},state.assessmentResponsesByScript),{},_defineProperty({},action.scriptId,action.assessments))});if(action.type===SET_FEEDBACK)return _objectSpread(_objectSpread({},state),{},{feedbackByScript:_objectSpread(_objectSpread({},state.feedbackByScript),{},_defineProperty({},action.scriptId,action.feedback))});if(action.type===SET_SURVEYS)return _objectSpread(_objectSpread({},state),{},{surveysByScript:_objectSpread(_objectSpread({},state.surveysByScript),{},_defineProperty({},action.scriptId,action.surveys))});if(action.type===SET_ASSESSMENTS_QUESTIONS)return _objectSpread(_objectSpread({},state),{},{assessmentQuestionsByScript:_objectSpread(_objectSpread({},state.assessmentQuestionsByScript),{},_defineProperty({},action.scriptId,action.assessments)),assessmentId:parseInt(Object.keys(action.assessments)[0])});if(action.type===START_LOADING_ASSESSMENTS)return _objectSpread(_objectSpread({},state),{},{isLoading:!0});if(action.type===FINISH_LOADING_ASSESSMENTS)return _objectSpread(_objectSpread({},state),{},{isLoading:!1});return state},exports.getAssessmentsFreeResponseResults=exports.getAssessmentResponsesForCurrentScript=exports.finishLoadingAssessments=void 0,exports.getCorrectAnswer=getCorrectAnswer,exports.inProgressFakeTimestamp=exports.getSurveyFreeResponseQuestions=exports.getStudentsMCandMatchSummaryForCurrentAssessment=exports.getStudentMatchResponsesForCurrentAssessment=exports.getStudentMCResponsesForCurrentAssessment=exports.getStudentAnswersForCurrentQuestion=exports.getMultipleChoiceSurveyResults=exports.getMultipleChoiceStructureForCurrentAssessment=exports.getMultipleChoiceSectionSummary=exports.getMatchStructureForCurrentAssessment=exports.getMatchSectionSummary=exports.getExportableSurveyData=exports.getExportableSubmissionStatusData=exports.getExportableFeedbackData=exports.getExportableData=exports.getExportableAssessmentData=exports.getCurrentScriptAssessmentList=exports.getCurrentQuestion=exports.getCurrentAssessmentQuestions=void 0,exports.indexesToAnswerString=indexesToAnswerString,exports.startLoadingAssessments=exports.setSurveys=exports.setStudentId=exports.setQuestionIndex=exports.setInitialAssessmentId=exports.setFeedback=exports.setAssessmentResponses=exports.setAssessmentQuestions=exports.setAssessmentId=exports.notStartedFakeTimestamp=exports.isCurrentScriptCSD=exports.isCurrentAssessmentSurvey=void 0;var _unitSelectionRedux=__webpack_require__("./src/redux/unitSelectionRedux.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ALL_STUDENT_FILTER=exports.ALL_STUDENT_FILTER=0,initialState={assessmentResponsesByScript:{},assessmentQuestionsByScript:{},feedbackByScript:{},surveysByScript:{},isLoading:!1,assessmentId:0,questionIndex:0,studentId:ALL_STUDENT_FILTER},QuestionType=exports.QuestionType={MULTI:"Multi",MATCH:"Match",FREE_RESPONSE:"FreeResponse"},SurveyQuestionType_MULTI="multi",SurveyQuestionType_FREE_RESPONSE="free_response",MultiAnswerStatus_CORRECT="correct",ANSWER_LETTERS=["A","B","C","D","E","F","G","H","I","J","K"],ASSESSMENT_FEEDBACK_OPTION_ID=exports.ASSESSMENT_FEEDBACK_OPTION_ID=0,inProgressFakeTimestamp=exports.inProgressFakeTimestamp=new Date("1990-01-01T20:52:05.000+00:00"),notStartedFakeTimestamp=exports.notStartedFakeTimestamp=new Date("1980-01-01T20:52:05.000+00:00"),SET_ASSESSMENT_RESPONSES="sectionAssessments/SET_ASSESSMENT_RESPONSES",SET_ASSESSMENTS_QUESTIONS="sectionAssessments/SET_ASSESSMENTS_QUESTIONS",SET_FEEDBACK="sectionAssessments/SET_FEEDBACK",SET_SURVEYS="sectionAssessments/SET_SURVEYS",START_LOADING_ASSESSMENTS="sectionAssessments/START_LOADING_ASSESSMENTS",FINISH_LOADING_ASSESSMENTS="sectionAssessments/FINISH_LOADING_ASSESSMENTS",SET_ASSESSMENT_ID="sectionAssessments/SET_ASSESSMENT_ID",SET_INITIAL_ASSESSMENT_ID="sectionAssessments/SET_INITIAL_ASSESSMENT_ID",SET_STUDENT_ID="sectionAssessments/SET_STUDENT_ID",SET_QUESTION_INDEX="sectionAssessments/SET_QUESTION_INDEX",setAssessmentResponses=exports.setAssessmentResponses=function setAssessmentResponses(scriptId,assessments){return{type:SET_ASSESSMENT_RESPONSES,scriptId,assessments}},setAssessmentQuestions=exports.setAssessmentQuestions=function setAssessmentQuestions(scriptId,assessments){return{type:SET_ASSESSMENTS_QUESTIONS,scriptId,assessments}},setFeedback=exports.setFeedback=function setFeedback(scriptId,feedback){return{type:SET_FEEDBACK,scriptId,feedback}},startLoadingAssessments=exports.startLoadingAssessments=function startLoadingAssessments(){return{type:START_LOADING_ASSESSMENTS}},finishLoadingAssessments=exports.finishLoadingAssessments=function finishLoadingAssessments(){return{type:FINISH_LOADING_ASSESSMENTS}},setInitialAssessmentId=(exports.setAssessmentId=function setAssessmentId(assessmentId){return{type:SET_ASSESSMENT_ID,assessmentId}},exports.setInitialAssessmentId=function setInitialAssessmentId(scriptId){return{type:SET_INITIAL_ASSESSMENT_ID,scriptId}}),setSurveys=(exports.setQuestionIndex=function setQuestionIndex(questionIndex){return{type:SET_QUESTION_INDEX,questionIndex}},exports.setStudentId=function setStudentId(studentId){return{type:SET_STUDENT_ID,studentId}},exports.setSurveys=function setSurveys(scriptId,surveys){return{type:SET_SURVEYS,scriptId,surveys}});exports.asyncLoadAssessments=function asyncLoadAssessments(sectionId,scriptId){return function(dispatch,getState){if(!getState().sectionAssessments.assessmentResponsesByScript[scriptId]&&scriptId&&sectionId){dispatch(startLoadingAssessments());var loadResponses=loadAssessmentResponsesFromServer(sectionId,scriptId),loadQuestions=loadAssessmentQuestionsFromServer(scriptId),loadSurveys=loadSurveysFromServer(sectionId,scriptId),loadFeedback=loadFeedbackFromServer(sectionId,scriptId);Promise.all([loadResponses,loadQuestions,loadSurveys,loadFeedback]).then((function(arrayOfValues){dispatch(setAssessmentResponses(scriptId,arrayOfValues[0])),dispatch(setAssessmentQuestions(scriptId,arrayOfValues[1])),dispatch(setFeedback(scriptId,arrayOfValues[3])),dispatch(setSurveys(scriptId,arrayOfValues[2])),dispatch(setInitialAssessmentId(scriptId)),dispatch(finishLoadingAssessments())})).catch((function(error){dispatch(finishLoadingAssessments())}))}}};exports.getCurrentScriptAssessmentList=function getCurrentScriptAssessmentList(state){var tempAssessmentList=computeScriptAssessmentList(state.sectionAssessments,state.unitSelection.scriptId);return(0,_unitSelectionRedux.doesCurrentCourseUseFeedback)(state)&&(tempAssessmentList=tempAssessmentList.concat({id:ASSESSMENT_FEEDBACK_OPTION_ID,name:"All teacher feedback in this unit"})),tempAssessmentList};var getAssessmentResponsesForCurrentScript=exports.getAssessmentResponsesForCurrentScript=function getAssessmentResponsesForCurrentScript(state){return state.sectionAssessments.assessmentResponsesByScript[state.unitSelection.scriptId]||{}},getCurrentAssessmentQuestions=exports.getCurrentAssessmentQuestions=function getCurrentAssessmentQuestions(state){return(state.sectionAssessments.assessmentQuestionsByScript[state.unitSelection.scriptId]||{})[state.sectionAssessments.assessmentId]},isCurrentAssessmentSurvey=(exports.getCurrentQuestion=function getCurrentQuestion(state){var emptyQuestion={question:"",answers:[]};if(isCurrentAssessmentSurvey(state)){var question=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[state.sectionAssessments.assessmentId].levelgroup_results[state.sectionAssessments.questionIndex];return question?{question:question.question,answers:question.type===SurveyQuestionType_MULTI&&question.answer_texts.map((function(answer,index){return{text:answer,correct:!1,letter:ANSWER_LETTERS[index]}}))}:emptyQuestion}var assessmentQuestions=(getCurrentAssessmentQuestions(state)||{}).questions,_question=assessmentQuestions?assessmentQuestions[state.sectionAssessments.questionIndex]:null;if(!_question)return emptyQuestion;if(_question.type===QuestionType.MULTI){var answers=_question.type===QuestionType.MULTI&&(_question.answers||[]).map((function(answer,index){return _objectSpread(_objectSpread({},answer),{},{letter:ANSWER_LETTERS[index]})}));return{question:_question.question_text,answers,questionType:QuestionType.MULTI}}if(_question.type===QuestionType.FREE_RESPONSE)return{question:_question.question_text,answers:null,questionType:QuestionType.FREE_RESPONSE};if(_question.type===QuestionType.MATCH){var _answers=_question.answers.map((function(answer){return answer.text})),options=_question.options.map((function(option){return option.text}));return{question:_question.question,answers:_answers,options,questionType:QuestionType.MATCH}}},exports.getMultipleChoiceStructureForCurrentAssessment=function getMultipleChoiceStructureForCurrentAssessment(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);return assessmentsStructure?assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.MULTI})).map((function(question){return{id:question.level_id,question:question.question_text,questionNumber:question.question_index+1,correctAnswer:getCorrectAnswer(question.answers)}})):[]},exports.getStudentMCResponsesForCurrentAssessment=function getStudentMCResponsesForCurrentAssessment(state){var studentResponses=getAssessmentResponsesForCurrentScript(state);if(!studentResponses)return{};var studentId=state.sectionAssessments.studentId,studentObject=studentResponses[studentId];if(!studentObject)return{};var currentAssessmentId=state.sectionAssessments.assessmentId,studentAssessment=studentObject.responses_by_assessment[currentAssessmentId];return studentAssessment?{id:studentId,name:studentObject.student_name,studentResponses:studentAssessment.level_results.filter((function(answer){return answer.type===QuestionType.MULTI})).map((function(answer){return{responses:indexesToAnswerString(answer.student_result),isCorrect:answer.status===MultiAnswerStatus_CORRECT}}))}:{}},exports.getMatchStructureForCurrentAssessment=function getMatchStructureForCurrentAssessment(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);return assessmentsStructure?assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.MATCH})).map((function(question){return{id:question.level_id,question:question.question,questionNumber:question.question_index+1,answers:question.answers,options:question.options}})):[]},exports.getStudentMatchResponsesForCurrentAssessment=function getStudentMatchResponsesForCurrentAssessment(state){var studentResponses=getAssessmentResponsesForCurrentScript(state);if(!studentResponses)return{};var studentId=state.sectionAssessments.studentId,studentObject=studentResponses[studentId];if(!studentObject)return{};var currentAssessmentId=state.sectionAssessments.assessmentId,studentAssessment=studentObject.responses_by_assessment[currentAssessmentId];return studentAssessment?{id:studentId,name:studentObject.student_name,studentResponses:studentAssessment.level_results.filter((function(answer){return answer.type===QuestionType.MATCH})).map((function(answer){return{responses:answer.student_result}}))}:{}},exports.getStudentAnswersForCurrentQuestion=function getStudentAnswersForCurrentQuestion(state){var studentResponses=getAssessmentResponsesForCurrentScript(state);if(!studentResponses||isCurrentAssessmentSurvey(state))return[];var questionIndex=state.sectionAssessments.questionIndex,studentAnswers=[];return Object.keys(studentResponses).forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],currentAssessmentId=state.sectionAssessments.assessmentId,question=((studentObject.responses_by_assessment[currentAssessmentId]||{}).level_results||[])[questionIndex];question&&question.type===QuestionType.MULTI&&studentAnswers.push({id:studentId,name:studentObject.student_name,answer:question.student_result?indexesToAnswerString(question.student_result):"-",correct:"correct"===question.status})})),studentAnswers},exports.getAssessmentsFreeResponseResults=function getAssessmentsFreeResponseResults(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);if(!assessmentsStructure)return[];var questionsAndResults=assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.FREE_RESPONSE})).map((function(question){return{questionText:question.question_text,questionNumber:question.question_index+1,responses:[]}})),studentResponses=getAssessmentResponsesForCurrentScript(state),currentStudentsIds=Object.keys(studentResponses);if(state.sectionAssessments.studentId!==ALL_STUDENT_FILTER){if(!currentStudentHasResponses(state))return[];currentStudentsIds=[state.sectionAssessments.studentId]}return currentStudentsIds.forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],currentAssessmentId=state.sectionAssessments.assessmentId;((studentObject.responses_by_assessment[currentAssessmentId]||{}).level_results||[]).filter((function(result){return result.type===QuestionType.FREE_RESPONSE})).forEach((function(response,index){questionsAndResults[index]&&questionsAndResults[index].responses.push({id:studentId,name:studentObject.student_name,response:response.student_result})}))})),questionsAndResults},exports.getSurveyFreeResponseQuestions=function getSurveyFreeResponseQuestions(state){var currentSurvey=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[state.sectionAssessments.assessmentId];return currentSurvey?currentSurvey.levelgroup_results.filter((function(question){return question.type===SurveyQuestionType_FREE_RESPONSE})).map((function(question){return{questionText:question.question,questionNumber:question.question_index+1,answers:question.results.map((function(response,index){return{index,response:response.result}}))}})):[]},exports.getMultipleChoiceSurveyResults=function getMultipleChoiceSurveyResults(state){var currentSurvey=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[state.sectionAssessments.assessmentId];return currentSurvey?currentSurvey.levelgroup_results.filter((function(question){return question.type===SurveyQuestionType_MULTI})).map((function(question,index){for(var totalAnswered=question.results.length,answerTotals=[],i=0;i<question.answer_texts.length;i++)answerTotals[i]=0;for(var notAnswered=0,_i=0;_i<totalAnswered;_i++){var answerIndex=question.results[_i].answer_index;answerIndex>=0?answerTotals[answerIndex]++:notAnswered++}return{id:index,question:question.question,questionNumber:question.question_index+1,answers:question.answer_texts.map((function(answer,index){return{multipleChoiceOption:ANSWER_LETTERS[index],percentAnswered:Math.floor(answerTotals[index]/totalAnswered*100),text:answer}})),notAnswered:Math.floor(notAnswered/totalAnswered*100),totalAnswered}})):[]},exports.isCurrentAssessmentSurvey=function isCurrentAssessmentSurvey(state){var scriptId=state.unitSelection.scriptId,surveysStructure=state.sectionAssessments.surveysByScript[scriptId]||{},currentAssessmentId=state.sectionAssessments.assessmentId;return Object.keys(surveysStructure).includes(currentAssessmentId+"")}),getStudentsMCandMatchSummaryForCurrentAssessment=exports.getStudentsMCandMatchSummaryForCurrentAssessment=function getStudentsMCandMatchSummaryForCurrentAssessment(state){var studentResponses=getAssessmentResponsesForCurrentScript(state);if(!studentResponses)return[];var allStudentsByIds={};state.teacherSections.selectedStudents.forEach((function(student){allStudentsByIds[student.id]={student_name:student.name,responses_by_assessment:{}}})),allStudentsByIds=_objectSpread(_objectSpread({},allStudentsByIds),studentResponses);var currentStudentsIds=Object.keys(allStudentsByIds);return state.sectionAssessments.studentId!==ALL_STUDENT_FILTER&&(currentStudentsIds=[state.sectionAssessments.studentId]),currentStudentsIds.map((function(studentId){studentId=parseInt(studentId,10);var studentsObject=allStudentsByIds[studentId],currentAssessmentId=state.sectionAssessments.assessmentId,studentsAssessment=studentsObject.responses_by_assessment[currentAssessmentId];if(!studentsAssessment)return{id:studentId,name:studentsObject.student_name,isSubmitted:!1,inProgress:!1,submissionTimeStamp:notStartedFakeTimestamp};var inProgress=studentsAssessment.timestamp&&!studentsAssessment.submitted,submissionTimeStamp=inProgress?inProgressFakeTimestamp:new Date(studentsAssessment.timestamp);return{id:studentId,name:studentsObject.student_name,numMultipleChoiceCorrect:studentsAssessment.multi_correct,numMultipleChoice:studentsAssessment.multi_count,numMatchCorrect:studentsAssessment.match_correct,numMatch:studentsAssessment.match_count,inProgress,isSubmitted:studentsAssessment.submitted,submissionTimeStamp,url:studentsAssessment.url}}))},getExportableSurveyData=(exports.getExportableSubmissionStatusData=function getExportableSubmissionStatusData(state){var summaryStudentStatus=[];return getStudentsMCandMatchSummaryForCurrentAssessment(state).forEach((function(student){summaryStudentStatus.push({studentName:student.name,numMultipleChoiceCorrect:student.numMultipleChoiceCorrect,numMultipleChoice:student.numMultipleChoice,numMatchCorrect:student.numMatchCorrect,numMatch:student.numMatch,submissionTimestamp:student.submissionTimeStamp})})),summaryStudentStatus},exports.getMultipleChoiceSectionSummary=function getMultipleChoiceSectionSummary(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);if(!assessmentsStructure)return[];var results=assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.MULTI})).map((function(question){return{id:question.level_id,question:question.question_text,questionNumber:question.question_index+1,answers:question.answers.map((function(answer,index){return{multipleChoiceOption:ANSWER_LETTERS[index],isCorrect:answer.correct,numAnswered:0}})),totalAnswered:0,notAnswered:0}})),studentResponses=getAssessmentResponsesForCurrentScript(state);return studentResponses?(Object.keys(studentResponses).forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],currentAssessmentId=state.sectionAssessments.assessmentId;((studentObject.responses_by_assessment[currentAssessmentId]||{}).level_results||[]).filter((function(result){return result.type===QuestionType.MULTI})).forEach((function(response,questionIndex){results[questionIndex].totalAnswered++,"unsubmitted"===response.status?results[questionIndex].notAnswered++:(response.student_result||[]).forEach((function(answer){results[questionIndex].answers[answer].numAnswered++}))}))})),results):[]},exports.getMatchSectionSummary=function getMatchSectionSummary(state){var assessmentsStructure=getCurrentAssessmentQuestions(state);if(!assessmentsStructure)return[];var results=assessmentsStructure.questions.filter((function(question){return question.type===QuestionType.MATCH})).map((function(question){return{id:question.level_id,question:question.question,questionNumber:question.question_index+1,options:question.options.map((function(option,indexO){return{option:question.options[indexO].text,id:indexO,totalAnswered:0,notAnswered:0,answers:question.answers.map((function(answer,indexA){return{answer:question.answers[indexA].text,isCorrect:indexA===indexO,numAnswered:0}}))}}))}})),studentResponses=getAssessmentResponsesForCurrentScript(state);return studentResponses?(Object.keys(studentResponses).forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],currentAssessmentId=state.sectionAssessments.assessmentId;((studentObject.responses_by_assessment[currentAssessmentId]||{}).level_results||[]).filter((function(result){return result.type===QuestionType.MATCH})).forEach((function(response,questionIndex){(response.student_result||[]).forEach((function(answer,index){results[questionIndex].options[index].totalAnswered++,"unsubmitted"===response.status[index]?results[questionIndex].options[index].notAnswered++:results[questionIndex].options[index].answers[answer].numAnswered++}))}))})),results):[]},exports.countSubmissionsForCurrentAssessment=function countSubmissionsForCurrentAssessment(state){var currentAssessmentId=state.sectionAssessments.assessmentId;if(!currentAssessmentId)return 0;if(isCurrentAssessmentSurvey(state)){var currentSurvey=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[currentAssessmentId];return currentSurvey&&0!==currentSurvey.levelgroup_results.length?currentSurvey.levelgroup_results[0].results.length:0}var studentResponses=getAssessmentResponsesForCurrentScript(state),totalSubmissions=0;return Object.values(studentResponses).forEach((function(student){Object.keys(student.responses_by_assessment).includes(currentAssessmentId+"")&&totalSubmissions++})),totalSubmissions},exports.getExportableData=function getExportableData(state){return isCurrentAssessmentSurvey(state)?getExportableSurveyData(state):getExportableAssessmentData(state)},exports.getExportableSurveyData=function getExportableSurveyData(state){for(var currentAssessmentId=state.sectionAssessments.assessmentId,currentSurvey=(state.sectionAssessments.surveysByScript[state.unitSelection.scriptId]||{})[currentAssessmentId],responses=[],i=0;i<currentSurvey.levelgroup_results.length;i++){var questionResults=currentSurvey.levelgroup_results[i],rowBase={lesson:currentSurvey.lesson_name,questionNumber:questionResults.question_index+1,questionText:questionResults.question};if(questionResults.type===SurveyQuestionType_MULTI)for(var _loop=function _loop(answerIndex){responses.push(_objectSpread(_objectSpread({},rowBase),{},{answer:questionResults.answer_texts[answerIndex],numberAnswered:questionResults.results.filter((function(result){return result.answer_index===answerIndex})).length}))},answerIndex=0;answerIndex<questionResults.answer_texts.length;answerIndex++)_loop(answerIndex);else if(questionResults.type===SurveyQuestionType_FREE_RESPONSE)for(var j=0;j<questionResults.results.length;j++)responses.push(_objectSpread(_objectSpread({},rowBase),{},{answer:questionResults.results[j].result,numberAnswered:1}))}return responses}),getExportableAssessmentData=exports.getExportableAssessmentData=function getExportableAssessmentData(state){var responses=[],currentAssessmentId=state.sectionAssessments.assessmentId,studentResponses=getAssessmentResponsesForCurrentScript(state);return Object.keys(studentResponses).forEach((function(studentId){studentId=parseInt(studentId,10);var studentObject=studentResponses[studentId],studentAssessment=studentObject.responses_by_assessment[currentAssessmentId];if(studentAssessment&&studentAssessment.level_results)for(var questionIndex=0;questionIndex<studentAssessment.level_results.length;questionIndex++){var response=studentAssessment.level_results[questionIndex];responses.push({studentName:studentObject.student_name,lesson:studentAssessment.lesson,timestamp:studentAssessment.timestamp,question:questionIndex+1,response:response.type===QuestionType.MULTI?indexesToAnswerString(response.student_result):response.student_result,correct:response.status})}})),responses},currentStudentHasResponses=(exports.getExportableFeedbackData=function getExportableFeedbackData(state){var feedback=[],feedbackForCurrentScript=state.sectionAssessments.feedbackByScript[state.unitSelection.scriptId]||{};return Object.keys(feedbackForCurrentScript).forEach((function(feedbackId){feedbackId=parseInt(feedbackId,10),feedback.push(feedbackForCurrentScript[feedbackId])})),feedback},exports.isCurrentScriptCSD=function isCurrentScriptCSD(state){return((0,_unitSelectionRedux.getSelectedScriptName)(state)||"").includes("csd")},exports.currentStudentHasResponses=function currentStudentHasResponses(state){return!!Object.prototype.hasOwnProperty.call(getAssessmentResponsesForCurrentScript(state),state.sectionAssessments.studentId)});function getCorrectAnswer(answerArr){return indexesToAnswerString(answerArr.map((function(_ref,i){return _ref.correct?i:null})).filter((function(i){return null!==i})))}function indexesToAnswerString(answerArr){return answerArr?answerArr.map((function(index){return ANSWER_LETTERS[index]})).join(", "):""}var getFirstAssessmentId=function getFirstAssessmentId(state,scriptId){return computeScriptAssessmentList(state,scriptId).map((function(a){return parseInt(a.id)}))[0]},computeScriptAssessmentList=function computeScriptAssessmentList(state,scriptId){var assessmentStructure=state.assessmentQuestionsByScript[scriptId]||{},assessments=Object.values(assessmentStructure).map((function(assessment){return{id:assessment.id,name:assessment.name}})),surveysStructure=state.surveysByScript[scriptId]||{},surveys=Object.keys(surveysStructure).map((function(surveyId){return{id:parseInt(surveyId),name:surveysStructure[surveyId].lesson_name}}));return assessments.concat(surveys)},loadAssessmentResponsesFromServer=function loadAssessmentResponsesFromServer(sectionId,scriptId){var payload={section_id:sectionId};return scriptId&&(payload.script_id=scriptId),$.ajax({url:"/dashboardapi/assessments/section_responses",method:"GET",contentType:"application/json;charset=UTF-8",data:payload})},loadAssessmentQuestionsFromServer=function loadAssessmentQuestionsFromServer(scriptId){var payload={script_id:scriptId};return $.ajax({url:"/dashboardapi/assessments",method:"GET",contentType:"application/json;charset=UTF-8",data:payload})},loadSurveysFromServer=function loadSurveysFromServer(sectionId,scriptId){var payload={script_id:scriptId,section_id:sectionId};return $.ajax({url:"/dashboardapi/assessments/section_surveys",method:"GET",contentType:"application/json;charset=UTF-8",data:payload})},loadFeedbackFromServer=function loadFeedbackFromServer(sectionId,scriptId){var payload={script_id:scriptId,section_id:sectionId};return $.ajax({url:"/dashboardapi/assessments/section_feedback",method:"GET",contentType:"application/json;charset=UTF-8",data:payload})}},"./src/util/color.js":module=>{module.exports={black:"#000",background_black:"#121416",dark_gray:"#2D3139",darkest_gray:"#292F36",dark_slate_gray:"#282c34",darkest_slate_gray:"#25292d",dark_charcoal:"#4d575f",charcoal:"#5b6770",light_gray:"#949ca2",lighter_gray:"#c6cacd",lightest_gray:"#e7e8ea",background_gray:"#f2f2f2",dimgray:"#696969",white:"#fff",default_blue:"#3670b3",dark_teal:"#0094a3",teal:"#0093a4",applab_button_teal:"#1abc9c",light_teal:"#59cad3",lightish_teal:"#80d6de",lighter_teal:"#a6e3e8",lightest_teal:"#d9f3f5",ai_rubric_cyan:"#3cfff8",purple:"#8c52ba",light_purple:"#a69bc1",lighter_purple:"#cfc9de",lightest_purple:"#ebe8f1",cyan:"#0094ca",light_cyan:"#59b9dc",lighter_cyan:"#a6daed",lightest_cyan:"#d9eff7",almost_white_cyan:"#f5fcff",orange:"#ffa400",light_orange:"#ffc459",lighter_orange:"#ffe0a6",lightest_orange:"#fff2d9",dark_orange:"#ff8600",green:"#b9bf15",light_green:"#d1d567",lighter_green:"#e7e9ad",lightest_green:"#f5f5dc",highlight_green:"#8afc9b",yellow:"#ffb81d",light_yellow:"#ffdb74",lighter_yellow:"#ffebb5",lightest_yellow:"#fff7df",goldenrod:"#daa520",header_text:"#fff",bkgnd_color:"#0093a4",inset_color:"#c6cacd",dark_color:"#8c52ba",hdr_color:"#8c52ba",red:"#c00",lightest_red:"#fcc",dark_red:"#d62911",realgreen:"#008000",realyellow:"#ff0",mustardyellow:"#efcd1c",twitter_blue:"#00aced",facebook_blue:"#3b5998",linkedin_blue:"#0077B5",dark_blue:"#00647f",blockly_flyout_gray:"#ddd",default_text:"#333",border_gray:"#bbb",border_light_gray:"#d8d8d8",table_header:"#ececec",table_light_row:"#fcfcfc",table_dark_row:"#f4f4f4",level_submitted:"#8c52ba",level_perfect:"rgb(14, 190, 14)",level_passed:"rgb(159, 212, 159)",level_attempted:"#ff0",level_not_tried:"#fefefe",level_current:"#ffa400",level_review_rejected:"#c00",level_review_accepted:"rgb(11, 142, 11)",assessment:"#0094ca",workspace_running_background:"#e5e5e5",dark_purple:"#682A77",bright_green:"#0ebe0e",neon_pink:"#e9118f",link_color:"#0596ce",shadow:"rgba(0, 0, 0, 0.3)",bootstrap_button_blue:"#337ab7",bootstrap_button_red:"#d9534f",bootstrap_error_background:"#f2dede",bootstrap_error_text:"#b94a48",bootstrap_v3_error_text:"#a94442",bootstrap_error_border:"#ebccd1",bootstrap_warning_background:"#fcf8e3",bootstrap_warning_text:"#c09853",bootstrap_warning_border:"#faebcc",bootstrap_border_color:"#cccccc",bootstrap_success_background:"#dff0d8",bootstrap_success_text:"#468847",bootstrap_success_border:"#d6e9c6",droplet_light_green:"#d3e965",droplet_blue:"#64b5f6",droplet_bright_blue:"#19c3e1",droplet_yellow:"#fff176",droplet_orange:"#ffb74d",droplet_red:"#f78183",droplet_cyan:"#4dd0e1",droplet_pink:"#f57ac6",droplet_purple:"#bb77c7",droplet_green:"#68d995",droplet_white:"#fff",oceans_deep_blue:"rgb(2, 0, 28)",dark_black:"#121212",brand_primary_light:"#E0F8F9",brand_primary_default:"#009EB0",brand_primary_dark:"#007785",brand_secondary_light:"#E0D1EC",brand_secondary_default:"#8C52BA",brand_secondary_dark:"#6C468A",brand_accent_default:"#ED6060",brand_teal_5:"#DFF2F4",product_affirmative_default:"#3EA33E",product_negative_light:"#FDEBE9",product_negative_default:"#E5311A",product_negative_dark:"#AA2513",product_caution_default:"#F9CB28",product_information_default:"#007ACC",neutral_white:"#FFFFFF",neutral_light:"#F7F8FA",neutral_gray10:"#EAEBEB",neutral_dark10:"#EAECEF",neutral_dark20:"#D1D4D8",neutral_dark30:"#BEC2C7",neutral_dark40:"#ABB0B6",neutral_dark50:"#989EA5",neutral_dark60:"#858C94",neutral_dark70:"#727A83",neutral_dark80:"#5F6872",neutral_dark90:"#4C5661",neutral_dark:"#292F36",google_brand_color:"#0F9D58",microsoft_brand_color:"#FFB900",facebook_brand_color:"#3B5998",clever_brand_color:"#1464FF",light_primary_100:"#BFE4E8",light_primary_500:"#0093A4",light_primary_700:"#007785",light_secondary_100:"#E2D4EE",light_secondary_500:"#8C52BA",light_secondary_700:"#6C468A",light_gray_50:"#F7F8FA",light_gray_100:"#EAECEF",light_gray_200:"#D1D4D8",light_gray_300:"#BEC2C7",light_gray_400:"#ABB0B6",light_gray_500:"#989EA5",light_gray_600:"#858C94",light_gray_700:"#727A83",light_gray_800:"#5F6872",light_gray_900:"#4C5661",light_gray_950:"#394450",light_affirmative_100:"#E2F1E2",light_affirmative_500:"#3EA33E",light_affirmative_700:"#2D742D",light_negative_100:"#FBE0DD",light_negative_500:"#E5311A",light_negative_700:"#B24949",light_caution_100:"#FEF7DF",light_caution_500:"#F9CB28",light_caution_700:"#C7A220",light_accent_100:"#FAD7D7",light_accent_500:"#ED6060",light_accent_700:"#D84C4C",light_aqua_100:"#CEFFFD",light_aqua_500:"#3CFFF8",light_aqua_700:"#30CCC6",light_orange_100:"#FFEDCC",light_orange_500:"#FFA400",light_orange_700:"#CC8300",light_info_100:"#DCEFFB",light_info_500:"#1892E3",light_info_700:"#1375B6",light_white:"#FFFFFF",light_black:"#292F36",light_black_opacity_90:"rgba(41, 47, 54, 0.90)","light_black_opacity-80":"rgba(41, 47, 54, 0.80)","light_black_opacity-70":"rgba(41, 47, 54, 0.70)","light_black_opacity-60":"rgba(41, 47, 54, 0.60)","light_black_opacity-50":"rgba(41, 47, 54, 0.50)","light_black_opacity-40":"rgba(41, 47, 54, 0.40)","light_black_opacity-30":"rgba(41, 47, 54, 0.30)","light_black_opacity-20":"rgba(41, 47, 54, 0.20)","light_black_opacity-10":"rgba(41, 47, 54, 0.10)"}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixvQkFBdUIsVUFDdkIsb0JBQXVCLFVBQ3ZCLG9CQUF1QixVQUN2QixjQUFpQixVQUNqQixlQUFrQixVQUNsQixlQUFrQixVQUNsQixlQUFrQixVQUNsQixlQUFrQixVQUNsQixlQUFrQixVQUNsQixlQUFrQixVQUNsQixlQUFrQixVQUNsQixlQUFrQixVQUNsQixlQUFrQixVQUNsQixlQUFrQixVQUNsQixzQkFBeUIsVUFDekIsc0JBQXlCLFVBQ3pCLHNCQUF5QixVQUN6QixtQkFBc0IsVUFDdEIsbUJBQXNCLFVBQ3RCLG1CQUFzQixVQUN0QixrQkFBcUIsVUFDckIsa0JBQXFCLFVBQ3JCLGtCQUFxQixVQUNyQixpQkFBb0IsVUFDcEIsaUJBQW9CLFVBQ3BCLGlCQUFvQixVQUNwQixlQUFrQixVQUNsQixlQUFrQixVQUNsQixlQUFrQixVQUNsQixpQkFBb0IsVUFDcEIsaUJBQW9CLFVBQ3BCLGlCQUFvQixVQUNwQixlQUFrQixVQUNsQixlQUFrQixVQUNsQixlQUFrQixVQUNsQixZQUFlLFVBQ2YsWUFBZSxVQUNmLHVCQUEwQix5QkFDMUIseUJBQTBCLHlCQUMxQix5QkFBMEIseUJBQzFCLHlCQUEwQix5QkFDMUIseUJBQTBCLHlCQUMxQix5QkFBMEIseUJBQzFCLHlCQUEwQix5QkFDMUIseUJBQTBCLHlCQUMxQix5QkFBMEIseUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvcmVkdXgvdW5pdFNlbGVjdGlvblJlZHV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy90ZW1wbGF0ZXMvc2VjdGlvbkFzc2Vzc21lbnRzL3NlY3Rpb25Bc3Nlc3NtZW50c1JlZHV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy91dGlsL2NvbG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFJlZHVjZXIgZm9yIHNjcmlwdCBzZWxlY3Rpb24gaW4gdGVhY2hlciBkYXNoYm9hcmQuXG4vLyBUYWIgc3BlY2lmaWMgcmVkdWNlcnMgY2FuIGltcG9ydCBhY3Rpb25zIGZyb20gdGhpcyBmaWxlXG4vLyBpZiB0aGV5IG5lZWQgdG8gcmVzcG9uZCB0byBhIHNjcmlwdCBjaGFuZ2luZy5cblxuLy8gQWN0aW9uIHR5cGUgY29uc3RhbnRzXG5leHBvcnQgY29uc3QgU0VUX1NDUklQVCA9ICd1bml0U2VsZWN0aW9uL1NFVF9TQ1JJUFQnO1xuZXhwb3J0IGNvbnN0IFNFVF9DT1VSU0VTID0gJ3VuaXRTZWxlY3Rpb24vU0VUX0NPVVJTRVMnO1xuXG5leHBvcnQgY29uc3QgU1RBUlRfTE9BRElOR19DT1VSU0VTID0gJ3VuaXRTZWxlY3Rpb24vU1RBUlRfTE9BRElOR19DT1VSU0VTJztcbmV4cG9ydCBjb25zdCBGSU5JU0hFRF9MT0FESU5HX0NPVVJTRVMgPVxuICAndW5pdFNlbGVjdGlvbi9GSU5JU0hFRF9MT0FESU5HX0NPVVJTRVMnO1xuXG4vLyBBY3Rpb24gY3JlYXRvcnNcbmV4cG9ydCBjb25zdCBzZXRTY3JpcHRJZCA9IHNjcmlwdElkID0+ICh7dHlwZTogU0VUX1NDUklQVCwgc2NyaXB0SWR9KTtcbmV4cG9ydCBjb25zdCBzZXRDb3Vyc2VzV2l0aFByb2dyZXNzID0gY291cnNlc1dpdGhQcm9ncmVzcyA9PiAoe1xuICB0eXBlOiBTRVRfQ09VUlNFUyxcbiAgY291cnNlc1dpdGhQcm9ncmVzcyxcbn0pO1xuXG5leHBvcnQgY29uc3Qgc3RhcnRMb2FkaW5nQ291cnNlc1dpdGhQcm9ncmVzcyA9ICgpID0+ICh7XG4gIHR5cGU6IFNUQVJUX0xPQURJTkdfQ09VUlNFUyxcbn0pO1xuZXhwb3J0IGNvbnN0IGZpbmlzaGVkTG9hZGluZ0NvdXJzZXNXaXRoUHJvZ3Jlc3MgPSAoKSA9PiAoe1xuICB0eXBlOiBGSU5JU0hFRF9MT0FESU5HX0NPVVJTRVMsXG59KTtcblxuLy8gU2VsZWN0b3JzXG5jb25zdCBnZXRTZWxlY3RlZFVuaXQgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IHNjcmlwdElkID0gc3RhdGUudW5pdFNlbGVjdGlvbi5zY3JpcHRJZDtcbiAgaWYgKCFzY3JpcHRJZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGV0IHVuaXQ7XG4gIHN0YXRlLnVuaXRTZWxlY3Rpb24uY291cnNlc1dpdGhQcm9ncmVzcy5mb3JFYWNoKGNvdXJzZSA9PiB7XG4gICAgY29uc3QgdGVtcFVuaXQgPSBjb3Vyc2UudW5pdHMuZmluZCh1bml0ID0+IHNjcmlwdElkID09PSB1bml0LmlkKTtcbiAgICBpZiAodGVtcFVuaXQpIHtcbiAgICAgIHVuaXQgPSB0ZW1wVW5pdDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdW5pdDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZWxlY3RlZFNjcmlwdE5hbWUgPSBzdGF0ZSA9PiB7XG4gIHJldHVybiBnZXRTZWxlY3RlZFVuaXQoc3RhdGUpID8gZ2V0U2VsZWN0ZWRVbml0KHN0YXRlKS5rZXkgOiBudWxsO1xufTtcblxuLyogR2V0IHRoZSB1c2VyIGZyaWVuZGx5IG5hbWUgb2YgYSBzY3JpcHQodGhlIHVuaXQgb3IgY291cnNlIG5hbWUpICovXG5leHBvcnQgY29uc3QgZ2V0U2VsZWN0ZWRTY3JpcHRGcmllbmRseU5hbWUgPSBzdGF0ZSA9PiB7XG4gIHJldHVybiBnZXRTZWxlY3RlZFVuaXQoc3RhdGUpID8gZ2V0U2VsZWN0ZWRVbml0KHN0YXRlKS5uYW1lIDogbnVsbDtcbn07XG5cbi8qIEdldCB0aGUgZGVzY3JpcHRpb24gb2YgYSBzY3JpcHQodGhlIHVuaXQgb3IgY291cnNlIG5hbWUpICovXG5leHBvcnQgY29uc3QgZ2V0U2VsZWN0ZWRTY3JpcHREZXNjcmlwdGlvbiA9IHN0YXRlID0+IHtcbiAgcmV0dXJuIGdldFNlbGVjdGVkVW5pdChzdGF0ZSkgPyBnZXRTZWxlY3RlZFVuaXQoc3RhdGUpLmRlc2NyaXB0aW9uIDogbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBkb2VzQ3VycmVudENvdXJzZVVzZUZlZWRiYWNrID0gc3RhdGUgPT4ge1xuICByZXR1cm4gISFnZXRTZWxlY3RlZFVuaXQoc3RhdGUpPy5pc19mZWVkYmFja19lbmFibGVkO1xufTtcblxuZXhwb3J0IGNvbnN0IGFzeW5jTG9hZENvdXJzZXNXaXRoUHJvZ3Jlc3MgPSAoKSA9PiAoZGlzcGF0Y2gsIGdldFN0YXRlKSA9PiB7XG4gIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgY29uc3Qgc2VsZWN0ZWRTZWN0aW9uID1cbiAgICBzdGF0ZS50ZWFjaGVyU2VjdGlvbnMuc2VjdGlvbnNbc3RhdGUudGVhY2hlclNlY3Rpb25zLnNlbGVjdGVkU2VjdGlvbklkXTtcblxuICBpZiAoc3RhdGUudW5pdFNlbGVjdGlvbi5pc0xvYWRpbmdDb3Vyc2VzV2l0aFByb2dyZXNzIHx8ICFzZWxlY3RlZFNlY3Rpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBkaXNwYXRjaChzdGFydExvYWRpbmdDb3Vyc2VzV2l0aFByb2dyZXNzKCkpO1xuXG4gIGZldGNoKGAvZGFzaGJvYXJkYXBpL3NlY3Rpb25fY291cnNlcy8ke3NlbGVjdGVkU2VjdGlvbi5pZH1gLCB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnLFxuICAgIH0sXG4gIH0pXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yKCR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fSlgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KVxuICAgIC50aGVuKGNvdXJzZXNXaXRoUHJvZ3Jlc3MgPT4ge1xuICAgICAgLy8gUmVvcmRlciBjb3Vyc2VzV2l0aFByb2dyZXNzIHNvIHRoYXQgdGhlIGN1cnJlbnQgc2VjdGlvbiBpcyBhdCB0aGUgdG9wIGFuZCBvdGhlciBzZWN0aW9ucyBhcmUgaW4gb3JkZXIgZnJvbSBuZXdlc3QgdG8gb2xkZXN0XG4gICAgICBjb25zdCByZW9yZGVyZWRDb3Vyc2VzID0gW1xuICAgICAgICAuLi5jb3Vyc2VzV2l0aFByb2dyZXNzLmZpbHRlcihcbiAgICAgICAgICBjb3Vyc2UgPT4gY291cnNlLmlkICE9PSBzZWxlY3RlZFNlY3Rpb24uY291cnNlVmVyc2lvbklkXG4gICAgICAgICksXG4gICAgICAgIC4uLmNvdXJzZXNXaXRoUHJvZ3Jlc3MuZmlsdGVyKFxuICAgICAgICAgIGNvdXJzZSA9PiBjb3Vyc2UuaWQgPT09IHNlbGVjdGVkU2VjdGlvbi5jb3Vyc2VWZXJzaW9uSWRcbiAgICAgICAgKSxcbiAgICAgIF0ucmV2ZXJzZSgpO1xuICAgICAgZGlzcGF0Y2goc2V0Q291cnNlc1dpdGhQcm9ncmVzcyhyZW9yZGVyZWRDb3Vyc2VzKSk7XG4gICAgICBkaXNwYXRjaChmaW5pc2hlZExvYWRpbmdDb3Vyc2VzV2l0aFByb2dyZXNzKCkpO1xuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgIGRpc3BhdGNoKGZpbmlzaGVkTG9hZGluZ0NvdXJzZXNXaXRoUHJvZ3Jlc3MoKSk7XG4gICAgfSk7XG59O1xuXG4vLyBJbml0aWFsIHN0YXRlIG9mIHVuaXRTZWxlY3Rpb25SZWR1eFxuY29uc3QgaW5pdGlhbFN0YXRlID0ge1xuICBzY3JpcHRJZDogbnVsbCxcbiAgY291cnNlc1dpdGhQcm9ncmVzczogW10sXG4gIGlzTG9hZGluZ0NvdXJzZXNXaXRoUHJvZ3Jlc3M6IGZhbHNlLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdW5pdFNlbGVjdGlvbihzdGF0ZSA9IGluaXRpYWxTdGF0ZSwgYWN0aW9uKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX0NPVVJTRVMpIHtcbiAgICBsZXQgZmlyc3RDb3Vyc2UgPSBhY3Rpb24uY291cnNlc1dpdGhQcm9ncmVzc1swXTtcblxuICAgIGNvbnN0IGZpcnN0VW5pdCA9IGZpcnN0Q291cnNlID8gZmlyc3RDb3Vyc2UudW5pdHNbMF0gOiBudWxsO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgY291cnNlc1dpdGhQcm9ncmVzczogYWN0aW9uLmNvdXJzZXNXaXRoUHJvZ3Jlc3MsXG4gICAgICBzY3JpcHRJZDogc3RhdGUuc2NyaXB0SWQgPT09IG51bGwgPyBmaXJzdFVuaXQ/LmlkIDogc3RhdGUuc2NyaXB0SWQsXG4gICAgfTtcbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX1NDUklQVCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHNjcmlwdElkOiBhY3Rpb24uc2NyaXB0SWQsXG4gICAgfTtcbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU1RBUlRfTE9BRElOR19DT1VSU0VTKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgaXNMb2FkaW5nQ291cnNlc1dpdGhQcm9ncmVzczogdHJ1ZSxcbiAgICB9O1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSBGSU5JU0hFRF9MT0FESU5HX0NPVVJTRVMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBpc0xvYWRpbmdDb3Vyc2VzV2l0aFByb2dyZXNzOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuIiwiaW1wb3J0IHtcbiAgU0VUX1NDUklQVCxcbiAgZ2V0U2VsZWN0ZWRTY3JpcHROYW1lLFxuICBkb2VzQ3VycmVudENvdXJzZVVzZUZlZWRiYWNrLFxufSBmcm9tICdAY2RvL2FwcHMvcmVkdXgvdW5pdFNlbGVjdGlvblJlZHV4JztcblxuZXhwb3J0IGNvbnN0IEFMTF9TVFVERU5UX0ZJTFRFUiA9IDA7XG5cbi8qKlxuICogSW5pdGlhbCBzdGF0ZSBvZiBzZWN0aW9uQXNzZXNzbWVudHNSZWR1eFxuICogVGhlIHJlZHV4IHN0YXRlIG1hdGNoZXMgdGhlIHN0cnVjdHVyZSBvZiBvdXIgQVBJIGNhbGxzIGFuZCBvdXIgdmlld3MgZG9uJ3RcbiAqIHVzZSB0aGlzIHN0cnVjdHVyZSBkaXJlY3RseS4gU2VsZWN0b3JzIGZpbHRlciBhbmQgdHJhbnNmb3JtIGRhdGEgdG8gd2hhdCB0aGV5IG5lZWQuXG4gKlxuICogYXNzZXNzbWVudFJlc3BvbnNlc0J5U2NyaXB0IC0gb2JqZWN0IC0ga2V5cyBhcmUgc2NyaXB0SWRzLCB2YWx1ZXMgYXJlIG9iamVjdHMgb2ZcbiAqICBzdHVkZW50IGlkcyB0byBzdHVkZW50IHJlc3BvbnNlIGRhdGEgZm9yIGVhY2ggYXNzZXNzbWVudFxuICogYXNzZXNzbWVudFF1ZXN0aW9uc0J5U2NyaXB0IC0gb2JqZWN0IC0ga2V5cyBhcmUgc2NyaXB0SWRzLCB2YWx1ZXMgYXJlIG9iamVjdHMgb2ZcbiAqICAgYXNzZXNzbWVudElkcyB0byBxdWVzdGlvbiBhbmQgYW5zd2VyIGluZm9ybWF0aW9uIGZvciBlYWNoIGFzc2Vzc21lbnRcbiAqIHN1cnZleXNCeVNjcmlwdCAtIG9iamVjdCAtIGtleXMgYXJlIHNjcmlwdElkcywgdmFsdWVzIGFyZSBvYmplY3RzIG9mXG4gKiAgIGFzc2Vzc21lbnRJZHMgdG8gc3VydmV5IHF1ZXN0aW9ucyBhbmQgYW5vbnltb3VzIHJlc3BvbnNlc1xuICogaXNMb2FkaW5nIC0gYm9vbGVhbiAtIGluZGljYXRlcyB0aGF0IHJlcXVlc3RzIGZvciBhc3Nlc3NtZW50cyBhbmQgc3VydmV5cyBoYXZlIGJlZW5cbiAqIHNlbnQgdG8gdGhlIHNlcnZlciBidXQgdGhlIGNsaWVudCBoYXMgbm90IHlldCByZWNlaXZlZCBhIHJlc3BvbnNlXG4gKiBhc3Nlc3NtZW50SWQgLSBpbnQgLSB0aGUgbGV2ZWxfZ3JvdXAgaWQgb2YgdGhlIGFzc2Vzc21lbnQgY3VycmVudGx5IGluIHZpZXdcbiAqIHF1ZXN0aW9uSW5kZXggLSBpbnQgLSB0aGUgcXVlc3Rpb24gaW5kZXggb2YgdGhlIHF1ZXN0aW9uIGN1cnJlbnRseSBpbiB2aWV3IGluIGRldGFpbCB2aWV3XG4gKiBzdHVkZW50SWQgLSBpbnQgLSB0aGUgc3R1ZGVudElkIG9mIHRoZSBjdXJyZW50IHN0dWRlbnQgYmVpbmcgZmlsdGVyZWQgZm9yLlxuICovXG5jb25zdCBpbml0aWFsU3RhdGUgPSB7XG4gIGFzc2Vzc21lbnRSZXNwb25zZXNCeVNjcmlwdDoge30sXG4gIGFzc2Vzc21lbnRRdWVzdGlvbnNCeVNjcmlwdDoge30sXG4gIGZlZWRiYWNrQnlTY3JpcHQ6IHt9LFxuICBzdXJ2ZXlzQnlTY3JpcHQ6IHt9LFxuICBpc0xvYWRpbmc6IGZhbHNlLFxuICBhc3Nlc3NtZW50SWQ6IDAsXG4gIHF1ZXN0aW9uSW5kZXg6IDAsXG4gIHN0dWRlbnRJZDogQUxMX1NUVURFTlRfRklMVEVSLFxufTtcblxuLy8gUXVlc3Rpb24gdHlwZXMgZm9yIGFzc2Vzc21lbnRzLlxuZXhwb3J0IGNvbnN0IFF1ZXN0aW9uVHlwZSA9IHtcbiAgTVVMVEk6ICdNdWx0aScsXG4gIE1BVENIOiAnTWF0Y2gnLFxuICBGUkVFX1JFU1BPTlNFOiAnRnJlZVJlc3BvbnNlJyxcbn07XG5cbi8vIFF1ZXN0aW9uIHR5cGVzIGZvciBzdXJ2ZXlzLlxuY29uc3QgU3VydmV5UXVlc3Rpb25UeXBlID0ge1xuICBNVUxUSTogJ211bHRpJyxcbiAgRlJFRV9SRVNQT05TRTogJ2ZyZWVfcmVzcG9uc2UnLFxufTtcblxuY29uc3QgTXVsdGlBbnN3ZXJTdGF0dXMgPSB7XG4gIENPUlJFQ1Q6ICdjb3JyZWN0JyxcbiAgSU5DT1JSRUNUOiAnaW5jb3JyZWN0Jyxcbn07XG5cbmNvbnN0IEFOU1dFUl9MRVRURVJTID0gWydBJywgJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snXTtcblxuZXhwb3J0IGNvbnN0IEFTU0VTU01FTlRfRkVFREJBQ0tfT1BUSU9OX0lEID0gMDtcblxuLyogSW4gb3JkZXIgZm9yIHRoZSBzb3J0aW5nIG9mIHRoZSBzdWJtaXNzaW9uIHRpbWVzdGFtcCBjb2x1bW4gdG8gd29yayBjb3JyZWN0bHkgaW4gdGhlIFN1Ym1pc3Npb25TdGF0dXNBc3Nlc3NtZW50c1RhYmxlLCB0aGUgc3VibWlzc2lvblRpbWVTdGFtcCBmaWVsZCBtdXN0IGJlIGEgRGF0ZS4gU28sIHdlIHBhc3MgaW4gYXJiaXRyYXJ5IERhdGVzIGluIHRoZSBwYXN0IHRvIGhhbmRsZSB3aGVuIHRoZSBhc3Nlc3NtZW50IGlzIGluIHByb2dyZXNzIG9yIG5vdCB5ZXQgc3RhcnRlZC4gKi9cbmV4cG9ydCBjb25zdCBpblByb2dyZXNzRmFrZVRpbWVzdGFtcCA9IG5ldyBEYXRlKFxuICAnMTk5MC0wMS0wMVQyMDo1MjowNS4wMDArMDA6MDAnXG4pO1xuZXhwb3J0IGNvbnN0IG5vdFN0YXJ0ZWRGYWtlVGltZXN0YW1wID0gbmV3IERhdGUoXG4gICcxOTgwLTAxLTAxVDIwOjUyOjA1LjAwMCswMDowMCdcbik7XG5cbi8vIEFjdGlvbiB0eXBlIGNvbnN0YW50c1xuY29uc3QgU0VUX0FTU0VTU01FTlRfUkVTUE9OU0VTID0gJ3NlY3Rpb25Bc3Nlc3NtZW50cy9TRVRfQVNTRVNTTUVOVF9SRVNQT05TRVMnO1xuY29uc3QgU0VUX0FTU0VTU01FTlRTX1FVRVNUSU9OUyA9XG4gICdzZWN0aW9uQXNzZXNzbWVudHMvU0VUX0FTU0VTU01FTlRTX1FVRVNUSU9OUyc7XG5jb25zdCBTRVRfRkVFREJBQ0sgPSAnc2VjdGlvbkFzc2Vzc21lbnRzL1NFVF9GRUVEQkFDSyc7XG5jb25zdCBTRVRfU1VSVkVZUyA9ICdzZWN0aW9uQXNzZXNzbWVudHMvU0VUX1NVUlZFWVMnO1xuY29uc3QgU1RBUlRfTE9BRElOR19BU1NFU1NNRU5UUyA9XG4gICdzZWN0aW9uQXNzZXNzbWVudHMvU1RBUlRfTE9BRElOR19BU1NFU1NNRU5UUyc7XG5jb25zdCBGSU5JU0hfTE9BRElOR19BU1NFU1NNRU5UUyA9XG4gICdzZWN0aW9uQXNzZXNzbWVudHMvRklOSVNIX0xPQURJTkdfQVNTRVNTTUVOVFMnO1xuY29uc3QgU0VUX0FTU0VTU01FTlRfSUQgPSAnc2VjdGlvbkFzc2Vzc21lbnRzL1NFVF9BU1NFU1NNRU5UX0lEJztcbmNvbnN0IFNFVF9JTklUSUFMX0FTU0VTU01FTlRfSUQgPVxuICAnc2VjdGlvbkFzc2Vzc21lbnRzL1NFVF9JTklUSUFMX0FTU0VTU01FTlRfSUQnO1xuY29uc3QgU0VUX1NUVURFTlRfSUQgPSAnc2VjdGlvbkFzc2Vzc21lbnRzL1NFVF9TVFVERU5UX0lEJztcbmNvbnN0IFNFVF9RVUVTVElPTl9JTkRFWCA9ICdzZWN0aW9uQXNzZXNzbWVudHMvU0VUX1FVRVNUSU9OX0lOREVYJztcblxuLy8gQWN0aW9uIGNyZWF0b3JzXG5leHBvcnQgY29uc3Qgc2V0QXNzZXNzbWVudFJlc3BvbnNlcyA9IChzY3JpcHRJZCwgYXNzZXNzbWVudHMpID0+ICh7XG4gIHR5cGU6IFNFVF9BU1NFU1NNRU5UX1JFU1BPTlNFUyxcbiAgc2NyaXB0SWQsXG4gIGFzc2Vzc21lbnRzLFxufSk7XG5leHBvcnQgY29uc3Qgc2V0QXNzZXNzbWVudFF1ZXN0aW9ucyA9IChzY3JpcHRJZCwgYXNzZXNzbWVudHMpID0+ICh7XG4gIHR5cGU6IFNFVF9BU1NFU1NNRU5UU19RVUVTVElPTlMsXG4gIHNjcmlwdElkLFxuICBhc3Nlc3NtZW50cyxcbn0pO1xuZXhwb3J0IGNvbnN0IHNldEZlZWRiYWNrID0gKHNjcmlwdElkLCBmZWVkYmFjaykgPT4gKHtcbiAgdHlwZTogU0VUX0ZFRURCQUNLLFxuICBzY3JpcHRJZCxcbiAgZmVlZGJhY2ssXG59KTtcbmV4cG9ydCBjb25zdCBzdGFydExvYWRpbmdBc3Nlc3NtZW50cyA9ICgpID0+ICh7XG4gIHR5cGU6IFNUQVJUX0xPQURJTkdfQVNTRVNTTUVOVFMsXG59KTtcbmV4cG9ydCBjb25zdCBmaW5pc2hMb2FkaW5nQXNzZXNzbWVudHMgPSAoKSA9PiAoe1xuICB0eXBlOiBGSU5JU0hfTE9BRElOR19BU1NFU1NNRU5UUyxcbn0pO1xuZXhwb3J0IGNvbnN0IHNldEFzc2Vzc21lbnRJZCA9IGFzc2Vzc21lbnRJZCA9PiAoe1xuICB0eXBlOiBTRVRfQVNTRVNTTUVOVF9JRCxcbiAgYXNzZXNzbWVudElkOiBhc3Nlc3NtZW50SWQsXG59KTtcbmV4cG9ydCBjb25zdCBzZXRJbml0aWFsQXNzZXNzbWVudElkID0gc2NyaXB0SWQgPT4gKHtcbiAgdHlwZTogU0VUX0lOSVRJQUxfQVNTRVNTTUVOVF9JRCxcbiAgc2NyaXB0SWQ6IHNjcmlwdElkLFxufSk7XG5leHBvcnQgY29uc3Qgc2V0UXVlc3Rpb25JbmRleCA9IHF1ZXN0aW9uSW5kZXggPT4gKHtcbiAgdHlwZTogU0VUX1FVRVNUSU9OX0lOREVYLFxuICBxdWVzdGlvbkluZGV4OiBxdWVzdGlvbkluZGV4LFxufSk7XG5leHBvcnQgY29uc3Qgc2V0U3R1ZGVudElkID0gc3R1ZGVudElkID0+ICh7XG4gIHR5cGU6IFNFVF9TVFVERU5UX0lELFxuICBzdHVkZW50SWQ6IHN0dWRlbnRJZCxcbn0pO1xuZXhwb3J0IGNvbnN0IHNldFN1cnZleXMgPSAoc2NyaXB0SWQsIHN1cnZleXMpID0+ICh7XG4gIHR5cGU6IFNFVF9TVVJWRVlTLFxuICBzY3JpcHRJZCxcbiAgc3VydmV5cyxcbn0pO1xuXG5leHBvcnQgY29uc3QgYXN5bmNMb2FkQXNzZXNzbWVudHMgPSAoc2VjdGlvbklkLCBzY3JpcHRJZCkgPT4ge1xuICByZXR1cm4gKGRpc3BhdGNoLCBnZXRTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gZ2V0U3RhdGUoKS5zZWN0aW9uQXNzZXNzbWVudHM7XG5cbiAgICAvLyBEb24ndCBsb2FkIGRhdGEgaWYgaXQncyBhbHJlYWR5IHN0b3JlZCBvciBpZiB0aGVyZSBpcyBubyBzY3JpcHQgb3Igbm8gc2VjdGlvbiBzZWxlY3RlZC5cbiAgICBpZiAoXG4gICAgICBzdGF0ZS5hc3Nlc3NtZW50UmVzcG9uc2VzQnlTY3JpcHRbc2NyaXB0SWRdIHx8XG4gICAgICAhc2NyaXB0SWQgfHxcbiAgICAgICFzZWN0aW9uSWRcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkaXNwYXRjaChzdGFydExvYWRpbmdBc3Nlc3NtZW50cygpKTtcblxuICAgIGNvbnN0IGxvYWRSZXNwb25zZXMgPSBsb2FkQXNzZXNzbWVudFJlc3BvbnNlc0Zyb21TZXJ2ZXIoXG4gICAgICBzZWN0aW9uSWQsXG4gICAgICBzY3JpcHRJZFxuICAgICk7XG4gICAgY29uc3QgbG9hZFF1ZXN0aW9ucyA9IGxvYWRBc3Nlc3NtZW50UXVlc3Rpb25zRnJvbVNlcnZlcihzY3JpcHRJZCk7XG4gICAgY29uc3QgbG9hZFN1cnZleXMgPSBsb2FkU3VydmV5c0Zyb21TZXJ2ZXIoc2VjdGlvbklkLCBzY3JpcHRJZCk7XG4gICAgY29uc3QgbG9hZEZlZWRiYWNrID0gbG9hZEZlZWRiYWNrRnJvbVNlcnZlcihzZWN0aW9uSWQsIHNjcmlwdElkKTtcblxuICAgIFByb21pc2UuYWxsKFtsb2FkUmVzcG9uc2VzLCBsb2FkUXVlc3Rpb25zLCBsb2FkU3VydmV5cywgbG9hZEZlZWRiYWNrXSlcbiAgICAgIC50aGVuKGFycmF5T2ZWYWx1ZXMgPT4ge1xuICAgICAgICBkaXNwYXRjaChzZXRBc3Nlc3NtZW50UmVzcG9uc2VzKHNjcmlwdElkLCBhcnJheU9mVmFsdWVzWzBdKSk7XG4gICAgICAgIGRpc3BhdGNoKHNldEFzc2Vzc21lbnRRdWVzdGlvbnMoc2NyaXB0SWQsIGFycmF5T2ZWYWx1ZXNbMV0pKTtcbiAgICAgICAgZGlzcGF0Y2goc2V0RmVlZGJhY2soc2NyaXB0SWQsIGFycmF5T2ZWYWx1ZXNbM10pKTtcbiAgICAgICAgZGlzcGF0Y2goc2V0U3VydmV5cyhzY3JpcHRJZCwgYXJyYXlPZlZhbHVlc1syXSkpO1xuICAgICAgICBkaXNwYXRjaChzZXRJbml0aWFsQXNzZXNzbWVudElkKHNjcmlwdElkKSk7XG4gICAgICAgIGRpc3BhdGNoKGZpbmlzaExvYWRpbmdBc3Nlc3NtZW50cygpKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAvLyBJZiBhbnkgcmV0dXJuIGFuIGVycm9yLCB0aGUgVUkgd2lsbCBzaG93IHRoYXQgdGhlcmUgYXJlIG5vIGFzc2Vzc21lbnRzLlxuICAgICAgICBkaXNwYXRjaChmaW5pc2hMb2FkaW5nQXNzZXNzbWVudHMoKSk7XG4gICAgICB9KTtcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlY3Rpb25Bc3Nlc3NtZW50cyhzdGF0ZSA9IGluaXRpYWxTdGF0ZSwgYWN0aW9uKSB7XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX1NDUklQVCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIHN0dWRlbnRJZDogQUxMX1NUVURFTlRfRklMVEVSLFxuICAgICAgcXVlc3Rpb25JbmRleDogMCxcbiAgICB9O1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX0FTU0VTU01FTlRfSUQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBhc3Nlc3NtZW50SWQ6IGFjdGlvbi5hc3Nlc3NtZW50SWQsXG4gICAgICBxdWVzdGlvbkluZGV4OiAwLFxuICAgICAgc3R1ZGVudElkOiBBTExfU1RVREVOVF9GSUxURVIsXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNFVF9JTklUSUFMX0FTU0VTU01FTlRfSUQpIHtcbiAgICBjb25zdCBhc3Nlc3NtZW50SWQgPSBnZXRGaXJzdEFzc2Vzc21lbnRJZChzdGF0ZSwgYWN0aW9uLnNjcmlwdElkKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBhc3Nlc3NtZW50SWQsXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNFVF9TVFVERU5UX0lEKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc3R1ZGVudElkOiBhY3Rpb24uc3R1ZGVudElkLFxuICAgIH07XG4gIH1cbiAgaWYgKGFjdGlvbi50eXBlID09PSBTRVRfUVVFU1RJT05fSU5ERVgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBxdWVzdGlvbkluZGV4OiBhY3Rpb24ucXVlc3Rpb25JbmRleCxcbiAgICB9O1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX0FTU0VTU01FTlRfUkVTUE9OU0VTKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgYXNzZXNzbWVudFJlc3BvbnNlc0J5U2NyaXB0OiB7XG4gICAgICAgIC4uLnN0YXRlLmFzc2Vzc21lbnRSZXNwb25zZXNCeVNjcmlwdCxcbiAgICAgICAgW2FjdGlvbi5zY3JpcHRJZF06IGFjdGlvbi5hc3Nlc3NtZW50cyxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNFVF9GRUVEQkFDSykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGZlZWRiYWNrQnlTY3JpcHQ6IHtcbiAgICAgICAgLi4uc3RhdGUuZmVlZGJhY2tCeVNjcmlwdCxcbiAgICAgICAgW2FjdGlvbi5zY3JpcHRJZF06IGFjdGlvbi5mZWVkYmFjayxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNFVF9TVVJWRVlTKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgc3VydmV5c0J5U2NyaXB0OiB7XG4gICAgICAgIC4uLnN0YXRlLnN1cnZleXNCeVNjcmlwdCxcbiAgICAgICAgW2FjdGlvbi5zY3JpcHRJZF06IGFjdGlvbi5zdXJ2ZXlzLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIGlmIChhY3Rpb24udHlwZSA9PT0gU0VUX0FTU0VTU01FTlRTX1FVRVNUSU9OUykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGFzc2Vzc21lbnRRdWVzdGlvbnNCeVNjcmlwdDoge1xuICAgICAgICAuLi5zdGF0ZS5hc3Nlc3NtZW50UXVlc3Rpb25zQnlTY3JpcHQsXG4gICAgICAgIFthY3Rpb24uc2NyaXB0SWRdOiBhY3Rpb24uYXNzZXNzbWVudHMsXG4gICAgICB9LFxuICAgICAgLy8gRGVmYXVsdCB0aGUgYXNzZXNzbWVudElkIHRvIHRoZSBmaXJzdCBhc3Nlc3NtZW50IGluIHRoZSBzdHJ1Y3R1cmVcbiAgICAgIGFzc2Vzc21lbnRJZDogcGFyc2VJbnQoT2JqZWN0LmtleXMoYWN0aW9uLmFzc2Vzc21lbnRzKVswXSksXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IFNUQVJUX0xPQURJTkdfQVNTRVNTTUVOVFMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgfTtcbiAgfVxuICBpZiAoYWN0aW9uLnR5cGUgPT09IEZJTklTSF9MT0FESU5HX0FTU0VTU01FTlRTKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG4vLyBTZWxlY3RvciBmdW5jdGlvbnNcblxuLy8gUmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3RzLCBlYWNoIGluZGljYXRpbmcgYW4gYXNzZXNzbWVudCBuYW1lIGFuZCBpdCdzIGlkXG4vLyBmb3IgdGhlIGFzc2Vzc21lbnRzIGFuZCBzdXJ2ZXlzIGluIHRoZSBjdXJyZW50IHNjcmlwdC5cbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50U2NyaXB0QXNzZXNzbWVudExpc3QgPSBzdGF0ZSA9PiB7XG4gIGxldCB0ZW1wQXNzZXNzbWVudExpc3QgPSBjb21wdXRlU2NyaXB0QXNzZXNzbWVudExpc3QoXG4gICAgc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLFxuICAgIHN0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRcbiAgKTtcbiAgLyogT25seSBhZGQgdGhlIGZlZWRiYWNrIG9wdGlvbiB0byB0aGUgZHJvcGRvd24gZm9yIENTRCBhbmQgQ1NQICovXG4gIGlmIChkb2VzQ3VycmVudENvdXJzZVVzZUZlZWRiYWNrKHN0YXRlKSkge1xuICAgIHRlbXBBc3Nlc3NtZW50TGlzdCA9IHRlbXBBc3Nlc3NtZW50TGlzdC5jb25jYXQoe1xuICAgICAgaWQ6IEFTU0VTU01FTlRfRkVFREJBQ0tfT1BUSU9OX0lELFxuICAgICAgbmFtZTogJ0FsbCB0ZWFjaGVyIGZlZWRiYWNrIGluIHRoaXMgdW5pdCcsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRlbXBBc3Nlc3NtZW50TGlzdDtcbn07XG5cbi8vIEdldCB0aGUgc3R1ZGVudCByZXNwb25zZXMgZm9yIGFzc2Vzc21lbnRzIGluIHRoZSBjdXJyZW50IHNjcmlwdCBhbmQgY3VycmVudCBhc3Nlc3NtZW50XG5leHBvcnQgY29uc3QgZ2V0QXNzZXNzbWVudFJlc3BvbnNlc0ZvckN1cnJlbnRTY3JpcHQgPSBzdGF0ZSA9PiB7XG4gIHJldHVybiAoXG4gICAgc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLmFzc2Vzc21lbnRSZXNwb25zZXNCeVNjcmlwdFtcbiAgICAgIHN0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRcbiAgICBdIHx8IHt9XG4gICk7XG59O1xuXG4vLyBHZXQgdGhlIHF1ZXN0aW9uIHN0cnVjdHVyZSBmb3IgYXNzZXNzbWVudHMgaW4gdGhlIGN1cnJlbnQgc2NyaXB0IGFuZCBjdXJyZW50IGFzc2Vzc21lbnRcbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50QXNzZXNzbWVudFF1ZXN0aW9ucyA9IHN0YXRlID0+IHtcbiAgY29uc3QgY3VycmVudFNjcmlwdERhdGEgPVxuICAgIHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50UXVlc3Rpb25zQnlTY3JpcHRbXG4gICAgICBzdGF0ZS51bml0U2VsZWN0aW9uLnNjcmlwdElkXG4gICAgXSB8fCB7fTtcbiAgcmV0dXJuIGN1cnJlbnRTY3JpcHREYXRhW3N0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWRdO1xufTtcblxuLy8gUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgcXVlc3Rpb24gdGV4dCBhbmQgYW5zd2VycyBvZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkXG4vLyBxdWVzdGlvbiBpbiB0aGUgY3VycmVudCBhc3Nlc3NtZW50LlxuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRRdWVzdGlvbiA9IHN0YXRlID0+IHtcbiAgY29uc3QgZW1wdHlRdWVzdGlvbiA9IHtxdWVzdGlvbjogJycsIGFuc3dlcnM6IFtdfTtcbiAgY29uc3QgaXNTdXJ2ZXkgPSBpc0N1cnJlbnRBc3Nlc3NtZW50U3VydmV5KHN0YXRlKTtcbiAgaWYgKGlzU3VydmV5KSB7XG4gICAgY29uc3Qgc3VydmV5cyA9XG4gICAgICBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3VydmV5c0J5U2NyaXB0W3N0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRdIHx8XG4gICAgICB7fTtcbiAgICBjb25zdCBjdXJyZW50U3VydmV5ID0gc3VydmV5c1tzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkXTtcbiAgICBjb25zdCBxdWVzdGlvbnNEYXRhID0gY3VycmVudFN1cnZleS5sZXZlbGdyb3VwX3Jlc3VsdHM7XG4gICAgY29uc3QgcXVlc3Rpb24gPSBxdWVzdGlvbnNEYXRhW3N0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5xdWVzdGlvbkluZGV4XTtcbiAgICBpZiAocXVlc3Rpb24pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvbi5xdWVzdGlvbixcbiAgICAgICAgYW5zd2VyczpcbiAgICAgICAgICBxdWVzdGlvbi50eXBlID09PSBTdXJ2ZXlRdWVzdGlvblR5cGUuTVVMVEkgJiZcbiAgICAgICAgICBxdWVzdGlvbi5hbnN3ZXJfdGV4dHMubWFwKChhbnN3ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0ZXh0OiBhbnN3ZXIsXG4gICAgICAgICAgICAgIGNvcnJlY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICBsZXR0ZXI6IEFOU1dFUl9MRVRURVJTW2luZGV4XSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSksXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZW1wdHlRdWVzdGlvbjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gR2V0IHF1ZXN0aW9uIHRleHQgZm9yIGFzc2Vzc21lbnQuXG4gICAgY29uc3QgYXNzZXNzbWVudCA9IGdldEN1cnJlbnRBc3Nlc3NtZW50UXVlc3Rpb25zKHN0YXRlKSB8fCB7fTtcbiAgICBjb25zdCBhc3Nlc3NtZW50UXVlc3Rpb25zID0gYXNzZXNzbWVudC5xdWVzdGlvbnM7XG4gICAgY29uc3QgcXVlc3Rpb24gPSBhc3Nlc3NtZW50UXVlc3Rpb25zXG4gICAgICA/IGFzc2Vzc21lbnRRdWVzdGlvbnNbc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnF1ZXN0aW9uSW5kZXhdXG4gICAgICA6IG51bGw7XG4gICAgaWYgKHF1ZXN0aW9uKSB7XG4gICAgICBpZiAocXVlc3Rpb24udHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1VTFRJKSB7XG4gICAgICAgIGNvbnN0IGFuc3dlcnMgPVxuICAgICAgICAgIHF1ZXN0aW9uLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NVUxUSSAmJlxuICAgICAgICAgIChxdWVzdGlvbi5hbnN3ZXJzIHx8IFtdKS5tYXAoKGFuc3dlciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7Li4uYW5zd2VyLCBsZXR0ZXI6IEFOU1dFUl9MRVRURVJTW2luZGV4XX07XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb25fdGV4dCxcbiAgICAgICAgICBhbnN3ZXJzOiBhbnN3ZXJzLFxuICAgICAgICAgIHF1ZXN0aW9uVHlwZTogUXVlc3Rpb25UeXBlLk1VTFRJLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChxdWVzdGlvbi50eXBlID09PSBRdWVzdGlvblR5cGUuRlJFRV9SRVNQT05TRSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvbi5xdWVzdGlvbl90ZXh0LFxuICAgICAgICAgIGFuc3dlcnM6IG51bGwsXG4gICAgICAgICAgcXVlc3Rpb25UeXBlOiBRdWVzdGlvblR5cGUuRlJFRV9SRVNQT05TRSxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAocXVlc3Rpb24udHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1BVENIKSB7XG4gICAgICAgIGNvbnN0IGFuc3dlcnMgPSBxdWVzdGlvbi5hbnN3ZXJzLm1hcChhbnN3ZXIgPT4ge1xuICAgICAgICAgIHJldHVybiBhbnN3ZXIudGV4dDtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBxdWVzdGlvbi5vcHRpb25zLm1hcChvcHRpb24gPT4ge1xuICAgICAgICAgIHJldHVybiBvcHRpb24udGV4dDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uLnF1ZXN0aW9uLFxuICAgICAgICAgIGFuc3dlcnM6IGFuc3dlcnMsXG4gICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICBxdWVzdGlvblR5cGU6IFF1ZXN0aW9uVHlwZS5NQVRDSCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVtcHR5UXVlc3Rpb247XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cywgZWFjaCBvZiB0eXBlIHF1ZXN0aW9uU3RydWN0dXJlUHJvcFR5cGVcbiAqIGluZGljYXRpbmcgdGhlIHF1ZXN0aW9uIGFuZCBjb3JyZWN0IGFuc3dlcnMgZm9yIGVhY2ggbXVsdGlwbGUgY2hvaWNlXG4gKiBxdWVzdGlvbiBpbiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGFzc2Vzc21lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRNdWx0aXBsZUNob2ljZVN0cnVjdHVyZUZvckN1cnJlbnRBc3Nlc3NtZW50ID0gc3RhdGUgPT4ge1xuICBjb25zdCBhc3Nlc3NtZW50c1N0cnVjdHVyZSA9IGdldEN1cnJlbnRBc3Nlc3NtZW50UXVlc3Rpb25zKHN0YXRlKTtcbiAgaWYgKCFhc3Nlc3NtZW50c1N0cnVjdHVyZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGNvbnN0IHF1ZXN0aW9uRGF0YSA9IGFzc2Vzc21lbnRzU3RydWN0dXJlLnF1ZXN0aW9ucztcblxuICAvLyBUcmFuc2Zvcm0gdGhhdCBkYXRhIGludG8gd2hhdCB3ZSBuZWVkIGZvciB0aGlzIHBhcnRpY3VsYXIgdGFibGUsIGluIHRoaXMgY2FzZVxuICAvLyBxdWVzdGlvblN0cnVjdHVyZVByb3BUeXBlIHN0cnVjdHVyZS5cbiAgcmV0dXJuIHF1ZXN0aW9uRGF0YVxuICAgIC5maWx0ZXIocXVlc3Rpb24gPT4gcXVlc3Rpb24udHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1VTFRJKVxuICAgIC5tYXAocXVlc3Rpb24gPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHF1ZXN0aW9uLmxldmVsX2lkLFxuICAgICAgICBxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb25fdGV4dCxcbiAgICAgICAgcXVlc3Rpb25OdW1iZXI6IHF1ZXN0aW9uLnF1ZXN0aW9uX2luZGV4ICsgMSxcbiAgICAgICAgY29ycmVjdEFuc3dlcjogZ2V0Q29ycmVjdEFuc3dlcihxdWVzdGlvbi5hbnN3ZXJzKSxcbiAgICAgIH07XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cywgZWFjaCBvZiB0eXBlIHN0dWRlbnRBbnN3ZXJEYXRhUHJvcFR5cGVcbiAqIGluZGljYXRpbmcgdGhlIHN0dWRlbnQgcmVzcG9uc2VzIHRvIG11bHRpcGxlIGNob2ljZSBxdWVzdGlvbnMgZm9yIHRoZVxuICogY3VycmVudGx5IHNlbGVjdGVkIGFzc2Vzc21lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTdHVkZW50TUNSZXNwb25zZXNGb3JDdXJyZW50QXNzZXNzbWVudCA9IHN0YXRlID0+IHtcbiAgY29uc3Qgc3R1ZGVudFJlc3BvbnNlcyA9IGdldEFzc2Vzc21lbnRSZXNwb25zZXNGb3JDdXJyZW50U2NyaXB0KHN0YXRlKTtcbiAgaWYgKCFzdHVkZW50UmVzcG9uc2VzKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIGNvbnN0IHN0dWRlbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5zdHVkZW50SWQ7XG4gIGNvbnN0IHN0dWRlbnRPYmplY3QgPSBzdHVkZW50UmVzcG9uc2VzW3N0dWRlbnRJZF07XG4gIGlmICghc3R1ZGVudE9iamVjdCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIGNvbnN0IGN1cnJlbnRBc3Nlc3NtZW50SWQgPSBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkO1xuICBjb25zdCBzdHVkZW50QXNzZXNzbWVudCA9XG4gICAgc3R1ZGVudE9iamVjdC5yZXNwb25zZXNfYnlfYXNzZXNzbWVudFtjdXJyZW50QXNzZXNzbWVudElkXTtcblxuICAvLyBJZiB0aGUgc3R1ZGVudCBoYXMgbm90IHN1Ym1pdHRlZCB0aGlzIGFzc2Vzc21lbnQsIGRvbid0IGRpc3BsYXkgcmVzdWx0cy5cbiAgaWYgKCFzdHVkZW50QXNzZXNzbWVudCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIC8vIFRyYW5zZm9ybSB0aGF0IGRhdGEgaW50byB3aGF0IHdlIG5lZWQgZm9yIHRoaXMgcGFydGljdWxhciB0YWJsZSwgaW4gdGhpcyBjYXNlXG4gIC8vIGlzIHRoZSBzdHJ1Y3R1cmUgc3R1ZGVudEFuc3dlckRhdGFQcm9wVHlwZVxuICByZXR1cm4ge1xuICAgIGlkOiBzdHVkZW50SWQsXG4gICAgbmFtZTogc3R1ZGVudE9iamVjdC5zdHVkZW50X25hbWUsXG4gICAgc3R1ZGVudFJlc3BvbnNlczogc3R1ZGVudEFzc2Vzc21lbnQubGV2ZWxfcmVzdWx0c1xuICAgICAgLmZpbHRlcihhbnN3ZXIgPT4gYW5zd2VyLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NVUxUSSlcbiAgICAgIC5tYXAoYW5zd2VyID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNwb25zZXM6IGluZGV4ZXNUb0Fuc3dlclN0cmluZyhhbnN3ZXIuc3R1ZGVudF9yZXN1bHQpLFxuICAgICAgICAgIGlzQ29ycmVjdDogYW5zd2VyLnN0YXR1cyA9PT0gTXVsdGlBbnN3ZXJTdGF0dXMuQ09SUkVDVCxcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICB9O1xufTtcblxuLypcbiAqIEdldCB0aGUgbWF0Y2ggcXVlc3Rpb25zIGluIHRoZSBjdXJyZW50IGFzc2Vzc21lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGdldE1hdGNoU3RydWN0dXJlRm9yQ3VycmVudEFzc2Vzc21lbnQgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IGFzc2Vzc21lbnRzU3RydWN0dXJlID0gZ2V0Q3VycmVudEFzc2Vzc21lbnRRdWVzdGlvbnMoc3RhdGUpO1xuICBpZiAoIWFzc2Vzc21lbnRzU3RydWN0dXJlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgcXVlc3Rpb25EYXRhID0gYXNzZXNzbWVudHNTdHJ1Y3R1cmUucXVlc3Rpb25zO1xuXG4gIC8vIFRyYW5zZm9ybSB0aGF0IGRhdGEgaW50byB3aGF0IHdlIG5lZWQgZm9yIHRoaXMgcGFydGljdWxhciB0YWJsZSwgaW4gdGhpcyBjYXNlXG4gIC8vIHF1ZXN0aW9uU3RydWN0dXJlUHJvcFR5cGUgc3RydWN0dXJlLlxuICByZXR1cm4gcXVlc3Rpb25EYXRhXG4gICAgLmZpbHRlcihxdWVzdGlvbiA9PiBxdWVzdGlvbi50eXBlID09PSBRdWVzdGlvblR5cGUuTUFUQ0gpXG4gICAgLm1hcChxdWVzdGlvbiA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcXVlc3Rpb24ubGV2ZWxfaWQsXG4gICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvbi5xdWVzdGlvbixcbiAgICAgICAgcXVlc3Rpb25OdW1iZXI6IHF1ZXN0aW9uLnF1ZXN0aW9uX2luZGV4ICsgMSxcbiAgICAgICAgYW5zd2VyczogcXVlc3Rpb24uYW5zd2VycyxcbiAgICAgICAgb3B0aW9uczogcXVlc3Rpb24ub3B0aW9ucyxcbiAgICAgIH07XG4gICAgfSk7XG59O1xuXG4vKlxuICogR2V0IHRoZSBtYXRjaCBxdWVzdGlvbnMgcmVzcG9uc2VzIGluIHRoZSBjdXJyZW50IGFzc2Vzc21lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGdldFN0dWRlbnRNYXRjaFJlc3BvbnNlc0ZvckN1cnJlbnRBc3Nlc3NtZW50ID0gc3RhdGUgPT4ge1xuICBjb25zdCBzdHVkZW50UmVzcG9uc2VzID0gZ2V0QXNzZXNzbWVudFJlc3BvbnNlc0ZvckN1cnJlbnRTY3JpcHQoc3RhdGUpO1xuICBpZiAoIXN0dWRlbnRSZXNwb25zZXMpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgY29uc3Qgc3R1ZGVudElkID0gc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN0dWRlbnRJZDtcbiAgY29uc3Qgc3R1ZGVudE9iamVjdCA9IHN0dWRlbnRSZXNwb25zZXNbc3R1ZGVudElkXTtcbiAgaWYgKCFzdHVkZW50T2JqZWN0KSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gIGNvbnN0IHN0dWRlbnRBc3Nlc3NtZW50ID1cbiAgICBzdHVkZW50T2JqZWN0LnJlc3BvbnNlc19ieV9hc3Nlc3NtZW50W2N1cnJlbnRBc3Nlc3NtZW50SWRdO1xuXG4gIC8vIElmIHRoZSBzdHVkZW50IGhhcyBub3Qgc3VibWl0dGVkIHRoaXMgYXNzZXNzbWVudCwgZG9uJ3QgZGlzcGxheSByZXN1bHRzLlxuICBpZiAoIXN0dWRlbnRBc3Nlc3NtZW50KSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgLy8gVHJhbnNmb3JtIHRoYXQgZGF0YSBpbnRvIHdoYXQgd2UgbmVlZCBmb3IgdGhpcyBwYXJ0aWN1bGFyIHRhYmxlLCBpbiB0aGlzIGNhc2VcbiAgLy8gaXMgdGhlIHN0cnVjdHVyZSBzdHVkZW50QW5zd2VyRGF0YVByb3BUeXBlXG4gIHJldHVybiB7XG4gICAgaWQ6IHN0dWRlbnRJZCxcbiAgICBuYW1lOiBzdHVkZW50T2JqZWN0LnN0dWRlbnRfbmFtZSxcbiAgICBzdHVkZW50UmVzcG9uc2VzOiBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzXG4gICAgICAuZmlsdGVyKGFuc3dlciA9PiBhbnN3ZXIudHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1BVENIKVxuICAgICAgLm1hcChhbnN3ZXIgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlc3BvbnNlczogYW5zd2VyLnN0dWRlbnRfcmVzdWx0LFxuICAgICAgICB9O1xuICAgICAgfSksXG4gIH07XG59O1xuXG4vLyBHZXQgYW4gYXJyYXkgb2Ygb2JqZWN0cyBpbmRpY2F0aW5nIHdoYXQgZWFjaCBzdHVkZW50IGFuc3dlcmVkIGZvciB0aGUgY3VycmVudFxuLy8gcXVlc3Rpb24gaW4gdmlldy5cbmV4cG9ydCBjb25zdCBnZXRTdHVkZW50QW5zd2Vyc0ZvckN1cnJlbnRRdWVzdGlvbiA9IHN0YXRlID0+IHtcbiAgY29uc3Qgc3R1ZGVudFJlc3BvbnNlcyA9IGdldEFzc2Vzc21lbnRSZXNwb25zZXNGb3JDdXJyZW50U2NyaXB0KHN0YXRlKTtcbiAgaWYgKCFzdHVkZW50UmVzcG9uc2VzIHx8IGlzQ3VycmVudEFzc2Vzc21lbnRTdXJ2ZXkoc3RhdGUpKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgcXVlc3Rpb25JbmRleCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5xdWVzdGlvbkluZGV4O1xuICBsZXQgc3R1ZGVudEFuc3dlcnMgPSBbXTtcblxuICAvLyBGb3IgZWFjaCBzdHVkZW50LCBsb29rIHVwIHRoZWlyIHJlc3BvbnNlcyB0byB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGFzc2Vzc21lbnQuXG4gIE9iamVjdC5rZXlzKHN0dWRlbnRSZXNwb25zZXMpLmZvckVhY2goc3R1ZGVudElkID0+IHtcbiAgICBzdHVkZW50SWQgPSBwYXJzZUludChzdHVkZW50SWQsIDEwKTtcbiAgICBjb25zdCBzdHVkZW50T2JqZWN0ID0gc3R1ZGVudFJlc3BvbnNlc1tzdHVkZW50SWRdO1xuICAgIGNvbnN0IGN1cnJlbnRBc3Nlc3NtZW50SWQgPSBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuYXNzZXNzbWVudElkO1xuICAgIGxldCBzdHVkZW50QXNzZXNzbWVudCA9XG4gICAgICBzdHVkZW50T2JqZWN0LnJlc3BvbnNlc19ieV9hc3Nlc3NtZW50W2N1cnJlbnRBc3Nlc3NtZW50SWRdIHx8IHt9O1xuXG4gICAgY29uc3QgcmVzcG9uc2VzQXJyYXkgPSBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzIHx8IFtdO1xuICAgIGNvbnN0IHF1ZXN0aW9uID0gcmVzcG9uc2VzQXJyYXlbcXVlc3Rpb25JbmRleF07XG4gICAgaWYgKHF1ZXN0aW9uKSB7XG4gICAgICBpZiAocXVlc3Rpb24udHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1VTFRJKSB7XG4gICAgICAgIHN0dWRlbnRBbnN3ZXJzLnB1c2goe1xuICAgICAgICAgIGlkOiBzdHVkZW50SWQsXG4gICAgICAgICAgbmFtZTogc3R1ZGVudE9iamVjdC5zdHVkZW50X25hbWUsXG4gICAgICAgICAgYW5zd2VyOiBxdWVzdGlvbi5zdHVkZW50X3Jlc3VsdFxuICAgICAgICAgICAgPyBpbmRleGVzVG9BbnN3ZXJTdHJpbmcocXVlc3Rpb24uc3R1ZGVudF9yZXN1bHQpXG4gICAgICAgICAgICA6ICctJyxcbiAgICAgICAgICBjb3JyZWN0OiBxdWVzdGlvbi5zdGF0dXMgPT09ICdjb3JyZWN0JyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHN0dWRlbnRBbnN3ZXJzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIG9iamVjdHMsIGVhY2ggcmVwcmVzZW50aW5nIGEgZnJlZSByZXNwb25zZSBxdWVzdGlvblxuICogYW5kIGFsbCB0aGUgc3R1ZGVudHMnIHJlc3BvbnNlcyB0byB0aGF0IHF1ZXN0aW9uLlxuICovXG5leHBvcnQgY29uc3QgZ2V0QXNzZXNzbWVudHNGcmVlUmVzcG9uc2VSZXN1bHRzID0gc3RhdGUgPT4ge1xuICBjb25zdCBhc3Nlc3NtZW50c1N0cnVjdHVyZSA9IGdldEN1cnJlbnRBc3Nlc3NtZW50UXVlc3Rpb25zKHN0YXRlKTtcbiAgaWYgKCFhc3Nlc3NtZW50c1N0cnVjdHVyZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIC8vIEluaXRpYWxpemUgYW4gb2JqZWN0IGZvciBlYWNoIHF1ZXN0aW9uLCB3aXRoIHRoZSBxdWVzdGlvblRleHQgYW5kXG4gIC8vIGFuIGVtcHR5IGFycmF5IG9mIHJlc3BvbnNlcy5cbiAgY29uc3QgcXVlc3Rpb25EYXRhID0gYXNzZXNzbWVudHNTdHJ1Y3R1cmUucXVlc3Rpb25zO1xuICBjb25zdCBxdWVzdGlvbnNBbmRSZXN1bHRzID0gcXVlc3Rpb25EYXRhXG4gICAgLmZpbHRlcihxdWVzdGlvbiA9PiBxdWVzdGlvbi50eXBlID09PSBRdWVzdGlvblR5cGUuRlJFRV9SRVNQT05TRSlcbiAgICAubWFwKHF1ZXN0aW9uID0+ICh7XG4gICAgICBxdWVzdGlvblRleHQ6IHF1ZXN0aW9uLnF1ZXN0aW9uX3RleHQsXG4gICAgICBxdWVzdGlvbk51bWJlcjogcXVlc3Rpb24ucXVlc3Rpb25faW5kZXggKyAxLFxuICAgICAgcmVzcG9uc2VzOiBbXSxcbiAgICB9KSk7XG5cbiAgY29uc3Qgc3R1ZGVudFJlc3BvbnNlcyA9IGdldEFzc2Vzc21lbnRSZXNwb25zZXNGb3JDdXJyZW50U2NyaXB0KHN0YXRlKTtcblxuICBsZXQgY3VycmVudFN0dWRlbnRzSWRzID0gT2JqZWN0LmtleXMoc3R1ZGVudFJlc3BvbnNlcyk7XG4gIC8vIEZpbHRlciBieSBjdXJyZW50IHNlbGVjdGVkIHN0dWRlbnQuXG4gIGlmIChzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3R1ZGVudElkICE9PSBBTExfU1RVREVOVF9GSUxURVIpIHtcbiAgICBpZiAoIWN1cnJlbnRTdHVkZW50SGFzUmVzcG9uc2VzKHN0YXRlKSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50U3R1ZGVudHNJZHMgPSBbc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN0dWRlbnRJZF07XG4gICAgfVxuICB9XG5cbiAgLy8gRm9yIGVhY2ggc3R1ZGVudCwgbG9vayB1cCB0aGVpciByZXNwb25zZXMgdG8gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBhc3Nlc3NtZW50LlxuICBjdXJyZW50U3R1ZGVudHNJZHMuZm9yRWFjaChzdHVkZW50SWQgPT4ge1xuICAgIHN0dWRlbnRJZCA9IHBhcnNlSW50KHN0dWRlbnRJZCwgMTApO1xuICAgIGNvbnN0IHN0dWRlbnRPYmplY3QgPSBzdHVkZW50UmVzcG9uc2VzW3N0dWRlbnRJZF07XG4gICAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gICAgbGV0IHN0dWRlbnRBc3Nlc3NtZW50ID1cbiAgICAgIHN0dWRlbnRPYmplY3QucmVzcG9uc2VzX2J5X2Fzc2Vzc21lbnRbY3VycmVudEFzc2Vzc21lbnRJZF0gfHwge307XG5cbiAgICBjb25zdCByZXNwb25zZXNBcnJheSA9IHN0dWRlbnRBc3Nlc3NtZW50LmxldmVsX3Jlc3VsdHMgfHwgW107XG4gICAgcmVzcG9uc2VzQXJyYXlcbiAgICAgIC5maWx0ZXIocmVzdWx0ID0+IHJlc3VsdC50eXBlID09PSBRdWVzdGlvblR5cGUuRlJFRV9SRVNQT05TRSlcbiAgICAgIC5mb3JFYWNoKChyZXNwb25zZSwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKHF1ZXN0aW9uc0FuZFJlc3VsdHNbaW5kZXhdKSB7XG4gICAgICAgICAgcXVlc3Rpb25zQW5kUmVzdWx0c1tpbmRleF0ucmVzcG9uc2VzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IHN0dWRlbnRJZCxcbiAgICAgICAgICAgIG5hbWU6IHN0dWRlbnRPYmplY3Quc3R1ZGVudF9uYW1lLFxuICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLnN0dWRlbnRfcmVzdWx0LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBxdWVzdGlvbnNBbmRSZXN1bHRzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIG9iamVjdHMsIGVhY2ggb2YgdHlwZSBmcmVlUmVzcG9uc2VRdWVzdGlvbnNQcm9wVHlwZVxuICogaW5kaWNhdGluZyB0aGUgcXVlc3Rpb24gYW5kIHJlc3BvbnNlcyB0byBmcmVlIHJlc3BvbnNlIHF1ZXN0aW9ucyBmb3IgdGhlXG4gKiBjdXJyZW50bHkgc2VsZWN0ZWQgc3VydmV5LlxuICovXG5leHBvcnQgY29uc3QgZ2V0U3VydmV5RnJlZVJlc3BvbnNlUXVlc3Rpb25zID0gc3RhdGUgPT4ge1xuICBjb25zdCBzdXJ2ZXlzU3RydWN0dXJlID1cbiAgICBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3VydmV5c0J5U2NyaXB0W3N0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRdIHx8XG4gICAge307XG4gIGNvbnN0IGN1cnJlbnRTdXJ2ZXkgPSBzdXJ2ZXlzU3RydWN0dXJlW3N0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWRdO1xuICBpZiAoIWN1cnJlbnRTdXJ2ZXkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25zdCBxdWVzdGlvbkRhdGEgPSBjdXJyZW50U3VydmV5LmxldmVsZ3JvdXBfcmVzdWx0cztcblxuICByZXR1cm4gcXVlc3Rpb25EYXRhXG4gICAgLmZpbHRlcihxdWVzdGlvbiA9PiBxdWVzdGlvbi50eXBlID09PSBTdXJ2ZXlRdWVzdGlvblR5cGUuRlJFRV9SRVNQT05TRSlcbiAgICAubWFwKHF1ZXN0aW9uID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHF1ZXN0aW9uVGV4dDogcXVlc3Rpb24ucXVlc3Rpb24sXG4gICAgICAgIHF1ZXN0aW9uTnVtYmVyOiBxdWVzdGlvbi5xdWVzdGlvbl9pbmRleCArIDEsXG4gICAgICAgIGFuc3dlcnM6IHF1ZXN0aW9uLnJlc3VsdHMubWFwKChyZXNwb25zZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICByZXR1cm4ge2luZGV4OiBpbmRleCwgcmVzcG9uc2U6IHJlc3BvbnNlLnJlc3VsdH07XG4gICAgICAgIH0pLFxuICAgICAgfTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3RzLCBlYWNoIG9mIHR5cGUgbXVsdGlwbGVDaG9pY2VEYXRhUHJvcFR5cGVcbiAqIGluZGljYXRpbmcgYSBtdWx0aXBsZSBjaG9pY2UgcXVlc3Rpb24gYW5kIHRoZSBwZXJjZW50IG9mIHJlc3BvbnNlcyByZWNlaXZlZFxuICogZm9yIGVhY2ggYW5zd2VyLlxuICovXG5leHBvcnQgY29uc3QgZ2V0TXVsdGlwbGVDaG9pY2VTdXJ2ZXlSZXN1bHRzID0gc3RhdGUgPT4ge1xuICBjb25zdCBzdXJ2ZXlzU3RydWN0dXJlID1cbiAgICBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3VydmV5c0J5U2NyaXB0W3N0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRdIHx8XG4gICAge307XG4gIGNvbnN0IGN1cnJlbnRTdXJ2ZXkgPSBzdXJ2ZXlzU3RydWN0dXJlW3N0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWRdO1xuICBpZiAoIWN1cnJlbnRTdXJ2ZXkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBjb25zdCBxdWVzdGlvbkRhdGEgPSBjdXJyZW50U3VydmV5LmxldmVsZ3JvdXBfcmVzdWx0cztcblxuICAvLyBGaWx0ZXIgdG8gbXVsdGlwbGUgY2hvaWNlIHF1ZXN0aW9ucy5cbiAgcmV0dXJuIHF1ZXN0aW9uRGF0YVxuICAgIC5maWx0ZXIocXVlc3Rpb24gPT4gcXVlc3Rpb24udHlwZSA9PT0gU3VydmV5UXVlc3Rpb25UeXBlLk1VTFRJKVxuICAgIC5tYXAoKHF1ZXN0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSB0b3RhbCByZXNwb25zZXMgZm9yIGVhY2ggYW5zd2VyLlxuXG4gICAgICBjb25zdCB0b3RhbEFuc3dlcmVkID0gcXVlc3Rpb24ucmVzdWx0cy5sZW5ndGg7XG4gICAgICAvLyBFYWNoIHZhbHVlIG9mIGFuc3dlclRvdGFscyByZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgcmVzcG9uc2VzIHJlY2VpdmVkIGZvclxuICAgICAgLy8gdGhlIGFuc3dlciBpbiB0aGF0IGluZGV4LlxuICAgICAgY29uc3QgYW5zd2VyVG90YWxzID0gW107XG4gICAgICAvLyBJbml0aWFsaXplIGVhY2ggYW5zd2VyIHRvIDAgcmVzcG9uc2VzLlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBxdWVzdGlvbi5hbnN3ZXJfdGV4dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYW5zd2VyVG90YWxzW2ldID0gMDtcbiAgICAgIH1cbiAgICAgIGxldCBub3RBbnN3ZXJlZCA9IDA7XG5cbiAgICAgIC8vIEZvciBlYWNoIHJlc3BvbnNlLCBhZGQgMSB0byB0aGUgY29ycmVjdCB2YWx1ZSBpbiBhbnN3ZXJUb3RhbHMuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsQW5zd2VyZWQ7IGkrKykge1xuICAgICAgICBjb25zdCBhbnN3ZXJJbmRleCA9IHF1ZXN0aW9uLnJlc3VsdHNbaV0uYW5zd2VyX2luZGV4O1xuICAgICAgICBpZiAoYW5zd2VySW5kZXggPj0gMCkge1xuICAgICAgICAgIGFuc3dlclRvdGFsc1thbnN3ZXJJbmRleF0rKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub3RBbnN3ZXJlZCsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBpbmRleCxcbiAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uLnF1ZXN0aW9uLFxuICAgICAgICBxdWVzdGlvbk51bWJlcjogcXVlc3Rpb24ucXVlc3Rpb25faW5kZXggKyAxLFxuICAgICAgICBhbnN3ZXJzOiBxdWVzdGlvbi5hbnN3ZXJfdGV4dHMubWFwKChhbnN3ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG11bHRpcGxlQ2hvaWNlT3B0aW9uOiBBTlNXRVJfTEVUVEVSU1tpbmRleF0sXG4gICAgICAgICAgICBwZXJjZW50QW5zd2VyZWQ6IE1hdGguZmxvb3IoXG4gICAgICAgICAgICAgIChhbnN3ZXJUb3RhbHNbaW5kZXhdIC8gdG90YWxBbnN3ZXJlZCkgKiAxMDBcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0ZXh0OiBhbnN3ZXIsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIG5vdEFuc3dlcmVkOiBNYXRoLmZsb29yKChub3RBbnN3ZXJlZCAvIHRvdGFsQW5zd2VyZWQpICogMTAwKSxcbiAgICAgICAgdG90YWxBbnN3ZXJlZDogdG90YWxBbnN3ZXJlZCxcbiAgICAgIH07XG4gICAgfSk7XG59O1xuXG4vLyBSZXR1cm5zIGEgYm9vbGVhbi4gIFRoZSBzZWxlY3RvciBmdW5jdGlvbiBjaGVja3MgaWYgdGhlIGN1cnJlbnQgYXNzZXNzbWVudCBJZFxuLy8gaXMgaW4gdGhlIHN1cnZleXMgc3RydWN0dXJlLlxuZXhwb3J0IGNvbnN0IGlzQ3VycmVudEFzc2Vzc21lbnRTdXJ2ZXkgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IHNjcmlwdElkID0gc3RhdGUudW5pdFNlbGVjdGlvbi5zY3JpcHRJZDtcbiAgY29uc3Qgc3VydmV5c1N0cnVjdHVyZSA9XG4gICAgc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN1cnZleXNCeVNjcmlwdFtzY3JpcHRJZF0gfHwge307XG5cbiAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gIHJldHVybiBPYmplY3Qua2V5cyhzdXJ2ZXlzU3RydWN0dXJlKS5pbmNsdWRlcyhjdXJyZW50QXNzZXNzbWVudElkICsgJycpO1xufTtcblxuLyoqIEdldCBkYXRhIGZvciBzdHVkZW50cyBhc3Nlc3NtZW50cyBtdWx0aXBsZSBjaG9pY2UgdGFibGVcbiAqIFJldHVybnMgYW4gb2JqZWN0LCBlYWNoIG9mIHR5cGUgc3R1ZGVudE92ZXJ2aWV3RGF0YVByb3BUeXBlIHdpdGhcbiAqIHRoZSB2YWx1ZSBvZiB0aGUga2V5IGJlaW5nIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBudW1iZXJcbiAqIG9mIG11bHRpcGxlIGNob2ljZSBhbnN3ZXJlZCBjb3JyZWN0bHkgYnkgYSBzdHVkZW50LCB0b3RhbCBudW1iZXJcbiAqIG9mIG11bHRpcGxlIGNob2ljZSBvcHRpb25zLCBjaGVjayBmb3IgaWYgdGhlIHN0dWRlbnQgc3VibWl0dGVkIHRoZVxuICogYXNzZXNzbWVudCBhbmQgYSB0aW1lc3RhbXAgdGhhdCBpbmRpY2F0ZXMgd2hlbiBhIHN0dWRlbnQgc3VibWl0dGVkXG4gKiB0aGUgYXNzZXNzbWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFN0dWRlbnRzTUNhbmRNYXRjaFN1bW1hcnlGb3JDdXJyZW50QXNzZXNzbWVudCA9IHN0YXRlID0+IHtcbiAgY29uc3Qgc3R1ZGVudFJlc3BvbnNlcyA9IGdldEFzc2Vzc21lbnRSZXNwb25zZXNGb3JDdXJyZW50U2NyaXB0KHN0YXRlKTtcbiAgaWYgKCFzdHVkZW50UmVzcG9uc2VzKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgLy8gR2V0IGEgc2V0IG9mIGFsbCBzdHVkZW50cyBmcm9tIHRlYWNoZXJTZWN0aW9uc1JlZHV4LlxuICBsZXQgYWxsU3R1ZGVudHNCeUlkcyA9IHt9O1xuICBzdGF0ZS50ZWFjaGVyU2VjdGlvbnMuc2VsZWN0ZWRTdHVkZW50cy5mb3JFYWNoKHN0dWRlbnQgPT4ge1xuICAgIGFsbFN0dWRlbnRzQnlJZHNbc3R1ZGVudC5pZF0gPSB7XG4gICAgICBzdHVkZW50X25hbWU6IHN0dWRlbnQubmFtZSxcbiAgICAgIHJlc3BvbnNlc19ieV9hc3Nlc3NtZW50OiB7fSxcbiAgICB9O1xuICB9KTtcblxuICAvLyBDb21iaW5lIHRoZSBsaXN0IG9mIGFsbCBzdHVkZW50cyB3aXRoIHRoZSBsaXN0IG9mIHN0dWRlbnQgcmVzcG9uc2VzLlxuICBhbGxTdHVkZW50c0J5SWRzID0ge1xuICAgIC4uLmFsbFN0dWRlbnRzQnlJZHMsXG4gICAgLi4uc3R1ZGVudFJlc3BvbnNlcyxcbiAgfTtcblxuICBsZXQgY3VycmVudFN0dWRlbnRzSWRzID0gT2JqZWN0LmtleXMoYWxsU3R1ZGVudHNCeUlkcyk7XG4gIC8vIEZpbHRlciBieSBjdXJyZW50IHNlbGVjdGVkIHN0dWRlbnQuXG4gIGlmIChzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3R1ZGVudElkICE9PSBBTExfU1RVREVOVF9GSUxURVIpIHtcbiAgICBjdXJyZW50U3R1ZGVudHNJZHMgPSBbc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN0dWRlbnRJZF07XG4gIH1cblxuICBjb25zdCBzdHVkZW50c1N1bW1hcnlBcnJheSA9IGN1cnJlbnRTdHVkZW50c0lkcy5tYXAoc3R1ZGVudElkID0+IHtcbiAgICBzdHVkZW50SWQgPSBwYXJzZUludChzdHVkZW50SWQsIDEwKTtcbiAgICBjb25zdCBzdHVkZW50c09iamVjdCA9IGFsbFN0dWRlbnRzQnlJZHNbc3R1ZGVudElkXTtcbiAgICBjb25zdCBjdXJyZW50QXNzZXNzbWVudElkID0gc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLmFzc2Vzc21lbnRJZDtcbiAgICBjb25zdCBzdHVkZW50c0Fzc2Vzc21lbnQgPVxuICAgICAgc3R1ZGVudHNPYmplY3QucmVzcG9uc2VzX2J5X2Fzc2Vzc21lbnRbY3VycmVudEFzc2Vzc21lbnRJZF07XG5cbiAgICAvLyBJZiB0aGUgc3R1ZGVudCBoYXMgbm90IHN1Ym1pdHRlZCB0aGlzIGFzc2Vzc21lbnRcbiAgICBpZiAoIXN0dWRlbnRzQXNzZXNzbWVudCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHN0dWRlbnRJZCxcbiAgICAgICAgbmFtZTogc3R1ZGVudHNPYmplY3Quc3R1ZGVudF9uYW1lLFxuICAgICAgICBpc1N1Ym1pdHRlZDogZmFsc2UsXG4gICAgICAgIGluUHJvZ3Jlc3M6IGZhbHNlLFxuICAgICAgICBzdWJtaXNzaW9uVGltZVN0YW1wOiBub3RTdGFydGVkRmFrZVRpbWVzdGFtcCxcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIFRyYW5zZm9ybSB0aGF0IGRhdGEgaW50byB3aGF0IHdlIG5lZWQgZm9yIHRoaXMgcGFydGljdWxhciB0YWJsZSwgaW4gdGhpcyBjYXNlXG4gICAgLy8gaXQgaXMgdGhlIHN0cnVjdHVyZSBzdHVkZW50T3ZlcnZpZXdEYXRhUHJvcFR5cGVcblxuICAgIC8qIEluIHByb2dyZXNzIGFzc2Vzc21lbnRzIGhhdmUgYSB0aW1lc3RhbXAgZnJvbSB0aGUgc2VydmVyIGluZGljYXRpbmcgd2hlbiB0aGUgc3R1ZGVudCBsYXN0IHdvcmtlZCBvbiB0aGUgYXNzZXNzbWVudC4gV2UgZG9uJ3QgZGlzcGxheSB0aGF0IHRpbWVzdGFtcCBpbiB0aGUgU3VibWlzc2lvblN0YXR1c0Fzc2Vzc21lbnRzVGFibGUsIGJ1dCB3ZSB1c2UgaXQgaGVyZSB0byBjaGVjayBpZiB0aGUgYXNzZXNzbWVudCBoYXMgYmVlbiBzdGFydGVkLiAqL1xuICAgIGNvbnN0IGluUHJvZ3Jlc3MgPVxuICAgICAgc3R1ZGVudHNBc3Nlc3NtZW50LnRpbWVzdGFtcCAmJiAhc3R1ZGVudHNBc3Nlc3NtZW50LnN1Ym1pdHRlZDtcbiAgICBjb25zdCBzdWJtaXNzaW9uVGltZVN0YW1wID0gaW5Qcm9ncmVzc1xuICAgICAgPyBpblByb2dyZXNzRmFrZVRpbWVzdGFtcFxuICAgICAgOiBuZXcgRGF0ZShzdHVkZW50c0Fzc2Vzc21lbnQudGltZXN0YW1wKTtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogc3R1ZGVudElkLFxuICAgICAgbmFtZTogc3R1ZGVudHNPYmplY3Quc3R1ZGVudF9uYW1lLFxuICAgICAgbnVtTXVsdGlwbGVDaG9pY2VDb3JyZWN0OiBzdHVkZW50c0Fzc2Vzc21lbnQubXVsdGlfY29ycmVjdCxcbiAgICAgIG51bU11bHRpcGxlQ2hvaWNlOiBzdHVkZW50c0Fzc2Vzc21lbnQubXVsdGlfY291bnQsXG4gICAgICBudW1NYXRjaENvcnJlY3Q6IHN0dWRlbnRzQXNzZXNzbWVudC5tYXRjaF9jb3JyZWN0LFxuICAgICAgbnVtTWF0Y2g6IHN0dWRlbnRzQXNzZXNzbWVudC5tYXRjaF9jb3VudCxcbiAgICAgIGluUHJvZ3Jlc3M6IGluUHJvZ3Jlc3MsXG4gICAgICBpc1N1Ym1pdHRlZDogc3R1ZGVudHNBc3Nlc3NtZW50LnN1Ym1pdHRlZCxcbiAgICAgIHN1Ym1pc3Npb25UaW1lU3RhbXA6IHN1Ym1pc3Npb25UaW1lU3RhbXAsXG4gICAgICB1cmw6IHN0dWRlbnRzQXNzZXNzbWVudC51cmwsXG4gICAgfTtcbiAgfSk7XG5cbiAgcmV0dXJuIHN0dWRlbnRzU3VtbWFyeUFycmF5O1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7YXJyYXl9IG9mIG9iamVjdHMgd2l0aCBrZXlzIGNvcnJlc3BvbmRpbmcgdG8gY29sdW1uc1xuICogb2YgQ1NWIHRvIGRvd25sb2FkLiBDb2x1bW5zIGFyZSBkZWZpbmVkIGFzIENTVl9TVUJNSVNTSU9OX1NUQVRVU19IRUFERVJTIGluIFN1Ym1pc3Npb25TdGF0dXNBc3Nlc3NtZW50c0NvbnRhaW5lclxuICovXG5leHBvcnQgY29uc3QgZ2V0RXhwb3J0YWJsZVN1Ym1pc3Npb25TdGF0dXNEYXRhID0gc3RhdGUgPT4ge1xuICBsZXQgc3VtbWFyeVN0dWRlbnRTdGF0dXMgPSBbXTtcbiAgY29uc3Qgc3R1ZGVudFN0YXR1cyA9IGdldFN0dWRlbnRzTUNhbmRNYXRjaFN1bW1hcnlGb3JDdXJyZW50QXNzZXNzbWVudChzdGF0ZSk7XG5cbiAgc3R1ZGVudFN0YXR1cy5mb3JFYWNoKHN0dWRlbnQgPT4ge1xuICAgIHN1bW1hcnlTdHVkZW50U3RhdHVzLnB1c2goe1xuICAgICAgc3R1ZGVudE5hbWU6IHN0dWRlbnQubmFtZSxcbiAgICAgIG51bU11bHRpcGxlQ2hvaWNlQ29ycmVjdDogc3R1ZGVudC5udW1NdWx0aXBsZUNob2ljZUNvcnJlY3QsXG4gICAgICBudW1NdWx0aXBsZUNob2ljZTogc3R1ZGVudC5udW1NdWx0aXBsZUNob2ljZSxcbiAgICAgIG51bU1hdGNoQ29ycmVjdDogc3R1ZGVudC5udW1NYXRjaENvcnJlY3QsXG4gICAgICBudW1NYXRjaDogc3R1ZGVudC5udW1NYXRjaCxcbiAgICAgIHN1Ym1pc3Npb25UaW1lc3RhbXA6IHN0dWRlbnQuc3VibWlzc2lvblRpbWVTdGFtcCxcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBzdW1tYXJ5U3R1ZGVudFN0YXR1cztcbn07XG5cbi8vIFJldHVybnMgYW4gYXJyYXkgb2Ygb2JqZWN0cyBjb3JyZXNwb25kaW5nIHRvIGVhY2ggcXVlc3Rpb24gYW5kIHRoZVxuLy8gbnVtYmVyIG9mIHN0dWRlbnRzIHdobyBhbnN3ZXJlZCBlYWNoIGFuc3dlci5cbmV4cG9ydCBjb25zdCBnZXRNdWx0aXBsZUNob2ljZVNlY3Rpb25TdW1tYXJ5ID0gc3RhdGUgPT4ge1xuICAvLyBTZXQgdXAgYW4gaW5pdGlhbCBzdHJ1Y3R1cmUgYmFzZWQgb24gdGhlIG11bHRpcGxlIGNob2ljZSBhc3Nlc3NtZW50IHF1ZXN0aW9ucy5cbiAgLy8gSW5pdGlhbGl6ZSBudW1BbnN3ZXJlZCBmb3IgZWFjaCBhbnN3ZXIgdG8gMCwgYW5kIHRvdGFsQW5zd2VyZWQgZm9yIGVhY2hcbiAgLy8gcXVlc3Rpb24gdG8gMC5cbiAgY29uc3QgYXNzZXNzbWVudHNTdHJ1Y3R1cmUgPSBnZXRDdXJyZW50QXNzZXNzbWVudFF1ZXN0aW9ucyhzdGF0ZSk7XG4gIGlmICghYXNzZXNzbWVudHNTdHJ1Y3R1cmUpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgcXVlc3Rpb25EYXRhID0gYXNzZXNzbWVudHNTdHJ1Y3R1cmUucXVlc3Rpb25zO1xuICBjb25zdCBtdWx0aVF1ZXN0aW9ucyA9IHF1ZXN0aW9uRGF0YS5maWx0ZXIoXG4gICAgcXVlc3Rpb24gPT4gcXVlc3Rpb24udHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1VTFRJXG4gICk7XG4gIGNvbnN0IHJlc3VsdHMgPSBtdWx0aVF1ZXN0aW9ucy5tYXAocXVlc3Rpb24gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcXVlc3Rpb24ubGV2ZWxfaWQsXG4gICAgICBxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb25fdGV4dCxcbiAgICAgIHF1ZXN0aW9uTnVtYmVyOiBxdWVzdGlvbi5xdWVzdGlvbl9pbmRleCArIDEsXG4gICAgICBhbnN3ZXJzOiBxdWVzdGlvbi5hbnN3ZXJzLm1hcCgoYW5zd2VyLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG11bHRpcGxlQ2hvaWNlT3B0aW9uOiBBTlNXRVJfTEVUVEVSU1tpbmRleF0sXG4gICAgICAgICAgaXNDb3JyZWN0OiBhbnN3ZXIuY29ycmVjdCxcbiAgICAgICAgICBudW1BbnN3ZXJlZDogMCxcbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgdG90YWxBbnN3ZXJlZDogMCxcbiAgICAgIG5vdEFuc3dlcmVkOiAwLFxuICAgIH07XG4gIH0pO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIHN0dWRlbnRzIHdobyBhbnN3ZXJlZCBlYWNoIG9wdGlvbiBhbmQgZmlsbFxuICAvLyBpbiB0aGUgaW5pdGlhbGl6ZWQgcmVzdWx0cyBzdHJ1Y3R1cmUgYWJvdmUuXG4gIGNvbnN0IHN0dWRlbnRSZXNwb25zZXMgPSBnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdChzdGF0ZSk7XG4gIGlmICghc3R1ZGVudFJlc3BvbnNlcykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBPYmplY3Qua2V5cyhzdHVkZW50UmVzcG9uc2VzKS5mb3JFYWNoKHN0dWRlbnRJZCA9PiB7XG4gICAgc3R1ZGVudElkID0gcGFyc2VJbnQoc3R1ZGVudElkLCAxMCk7XG4gICAgY29uc3Qgc3R1ZGVudE9iamVjdCA9IHN0dWRlbnRSZXNwb25zZXNbc3R1ZGVudElkXTtcbiAgICBjb25zdCBjdXJyZW50QXNzZXNzbWVudElkID0gc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLmFzc2Vzc21lbnRJZDtcbiAgICBjb25zdCBzdHVkZW50QXNzZXNzbWVudCA9XG4gICAgICBzdHVkZW50T2JqZWN0LnJlc3BvbnNlc19ieV9hc3Nlc3NtZW50W2N1cnJlbnRBc3Nlc3NtZW50SWRdIHx8IHt9O1xuXG4gICAgY29uc3Qgc3R1ZGVudFJlc3VsdHMgPSBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzIHx8IFtdO1xuICAgIGNvbnN0IG11bHRpUmVzdWx0cyA9IHN0dWRlbnRSZXN1bHRzLmZpbHRlcihcbiAgICAgIHJlc3VsdCA9PiByZXN1bHQudHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1VTFRJXG4gICAgKTtcbiAgICBtdWx0aVJlc3VsdHMuZm9yRWFjaCgocmVzcG9uc2UsIHF1ZXN0aW9uSW5kZXgpID0+IHtcbiAgICAgIC8vIHN0dWRlbnRfcmVzdWx0IGlzIGVpdGhlciBbXSBhbmQgbm90IGFuc3dlcmVkIG9yIGEgc2VyaWVzIG9mIGxldHRlcnNcbiAgICAgIC8vIHRoYXQgdGhlIHN0dWRlbnQgc2VsZWN0ZWQuXG4gICAgICByZXN1bHRzW3F1ZXN0aW9uSW5kZXhdLnRvdGFsQW5zd2VyZWQrKztcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09ICd1bnN1Ym1pdHRlZCcpIHtcbiAgICAgICAgcmVzdWx0c1txdWVzdGlvbkluZGV4XS5ub3RBbnN3ZXJlZCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKHJlc3BvbnNlLnN0dWRlbnRfcmVzdWx0IHx8IFtdKS5mb3JFYWNoKGFuc3dlciA9PiB7XG4gICAgICAgICAgcmVzdWx0c1txdWVzdGlvbkluZGV4XS5hbnN3ZXJzW2Fuc3dlcl0ubnVtQW5zd2VyZWQrKztcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gUmV0dXJucyBhbiBhcnJheSBvZiBvYmplY3RzIGNvcnJlc3BvbmRpbmcgdG8gZWFjaCBtYXRjaCBxdWVzdGlvbiBhbmQgdGhlXG4vLyBudW1iZXIgb2Ygc3R1ZGVudHMgd2hvIGFuc3dlcmVkIGVhY2ggYW5zd2VyLlxuZXhwb3J0IGNvbnN0IGdldE1hdGNoU2VjdGlvblN1bW1hcnkgPSBzdGF0ZSA9PiB7XG4gIGNvbnN0IGFzc2Vzc21lbnRzU3RydWN0dXJlID0gZ2V0Q3VycmVudEFzc2Vzc21lbnRRdWVzdGlvbnMoc3RhdGUpO1xuICBpZiAoIWFzc2Vzc21lbnRzU3RydWN0dXJlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IHF1ZXN0aW9uRGF0YSA9IGFzc2Vzc21lbnRzU3RydWN0dXJlLnF1ZXN0aW9ucztcbiAgY29uc3QgbWF0Y2hRdWVzdGlvbnMgPSBxdWVzdGlvbkRhdGEuZmlsdGVyKFxuICAgIHF1ZXN0aW9uID0+IHF1ZXN0aW9uLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NQVRDSFxuICApO1xuXG4gIGNvbnN0IHJlc3VsdHMgPSBtYXRjaFF1ZXN0aW9ucy5tYXAocXVlc3Rpb24gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcXVlc3Rpb24ubGV2ZWxfaWQsXG4gICAgICBxdWVzdGlvbjogcXVlc3Rpb24ucXVlc3Rpb24sXG4gICAgICBxdWVzdGlvbk51bWJlcjogcXVlc3Rpb24ucXVlc3Rpb25faW5kZXggKyAxLFxuICAgICAgb3B0aW9uczogcXVlc3Rpb24ub3B0aW9ucy5tYXAoKG9wdGlvbiwgaW5kZXhPKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgb3B0aW9uOiBxdWVzdGlvbi5vcHRpb25zW2luZGV4T10udGV4dCxcbiAgICAgICAgICBpZDogaW5kZXhPLFxuICAgICAgICAgIHRvdGFsQW5zd2VyZWQ6IDAsXG4gICAgICAgICAgbm90QW5zd2VyZWQ6IDAsXG4gICAgICAgICAgYW5zd2VyczogcXVlc3Rpb24uYW5zd2Vycy5tYXAoKGFuc3dlciwgaW5kZXhBKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBhbnN3ZXI6IHF1ZXN0aW9uLmFuc3dlcnNbaW5kZXhBXS50ZXh0LFxuICAgICAgICAgICAgICBpc0NvcnJlY3Q6IGluZGV4QSA9PT0gaW5kZXhPLFxuICAgICAgICAgICAgICBudW1BbnN3ZXJlZDogMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICB9O1xuICB9KTtcblxuICAvLyBDYWxjdWxhdGUgdGhlIG51bWJlciBvZiBzdHVkZW50cyB3aG8gYW5zd2VyZWQgZWFjaCBvcHRpb24gYW5kIGZpbGxcbiAgLy8gaW4gdGhlIGluaXRpYWxpemVkIHJlc3VsdHMgc3RydWN0dXJlIGFib3ZlLlxuICBjb25zdCBzdHVkZW50UmVzcG9uc2VzID0gZ2V0QXNzZXNzbWVudFJlc3BvbnNlc0ZvckN1cnJlbnRTY3JpcHQoc3RhdGUpO1xuICBpZiAoIXN0dWRlbnRSZXNwb25zZXMpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICBPYmplY3Qua2V5cyhzdHVkZW50UmVzcG9uc2VzKS5mb3JFYWNoKHN0dWRlbnRJZCA9PiB7XG4gICAgc3R1ZGVudElkID0gcGFyc2VJbnQoc3R1ZGVudElkLCAxMCk7XG4gICAgY29uc3Qgc3R1ZGVudE9iamVjdCA9IHN0dWRlbnRSZXNwb25zZXNbc3R1ZGVudElkXTtcbiAgICBjb25zdCBjdXJyZW50QXNzZXNzbWVudElkID0gc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLmFzc2Vzc21lbnRJZDtcbiAgICBjb25zdCBzdHVkZW50QXNzZXNzbWVudCA9XG4gICAgICBzdHVkZW50T2JqZWN0LnJlc3BvbnNlc19ieV9hc3Nlc3NtZW50W2N1cnJlbnRBc3Nlc3NtZW50SWRdIHx8IHt9O1xuXG4gICAgY29uc3Qgc3R1ZGVudFJlc3VsdHMgPSBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzIHx8IFtdO1xuICAgIGNvbnN0IG1hdGNoUmVzdWx0cyA9IHN0dWRlbnRSZXN1bHRzLmZpbHRlcihcbiAgICAgIHJlc3VsdCA9PiByZXN1bHQudHlwZSA9PT0gUXVlc3Rpb25UeXBlLk1BVENIXG4gICAgKTtcblxuICAgIG1hdGNoUmVzdWx0cy5mb3JFYWNoKChyZXNwb25zZSwgcXVlc3Rpb25JbmRleCkgPT4ge1xuICAgICAgKHJlc3BvbnNlLnN0dWRlbnRfcmVzdWx0IHx8IFtdKS5mb3JFYWNoKChhbnN3ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgIHJlc3VsdHNbcXVlc3Rpb25JbmRleF0ub3B0aW9uc1tpbmRleF0udG90YWxBbnN3ZXJlZCsrO1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzW2luZGV4XSA9PT0gJ3Vuc3VibWl0dGVkJykge1xuICAgICAgICAgIHJlc3VsdHNbcXVlc3Rpb25JbmRleF0ub3B0aW9uc1tpbmRleF0ubm90QW5zd2VyZWQrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHRzW3F1ZXN0aW9uSW5kZXhdLm9wdGlvbnNbaW5kZXhdLmFuc3dlcnNbYW5zd2VyXS5udW1BbnN3ZXJlZCsrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdHM7XG59O1xuXG4vKipcbiAqIFNlbGVjdG9yIGZ1bmN0aW9uIHRoYXQgdGFrZXMgaW4gdGhlIHN0YXRlLlxuICogQHJldHVybnMge251bWJlcn0gdG90YWwgY291bnQgb2Ygc3R1ZGVudHMgd2hvIGhhdmUgc3VibWl0dGVkXG4gKiB0aGUgY3VycmVudCBhc3Nlc3NtZW50LlxuICovXG5leHBvcnQgY29uc3QgY291bnRTdWJtaXNzaW9uc0ZvckN1cnJlbnRBc3Nlc3NtZW50ID0gc3RhdGUgPT4ge1xuICBjb25zdCBjdXJyZW50QXNzZXNzbWVudElkID0gc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLmFzc2Vzc21lbnRJZDtcbiAgaWYgKCFjdXJyZW50QXNzZXNzbWVudElkKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgaXNTdXJ2ZXkgPSBpc0N1cnJlbnRBc3Nlc3NtZW50U3VydmV5KHN0YXRlKTtcbiAgaWYgKGlzU3VydmV5KSB7XG4gICAgY29uc3Qgc3VydmV5c1N0cnVjdHVyZSA9XG4gICAgICBzdGF0ZS5zZWN0aW9uQXNzZXNzbWVudHMuc3VydmV5c0J5U2NyaXB0W3N0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRdIHx8XG4gICAgICB7fTtcbiAgICBjb25zdCBjdXJyZW50U3VydmV5ID0gc3VydmV5c1N0cnVjdHVyZVtjdXJyZW50QXNzZXNzbWVudElkXTtcbiAgICBpZiAoIWN1cnJlbnRTdXJ2ZXkgfHwgY3VycmVudFN1cnZleS5sZXZlbGdyb3VwX3Jlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRTdXJ2ZXkubGV2ZWxncm91cF9yZXN1bHRzWzBdLnJlc3VsdHMubGVuZ3RoO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHN0dWRlbnRSZXNwb25zZXMgPSBnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdChzdGF0ZSk7XG4gICAgbGV0IHRvdGFsU3VibWlzc2lvbnMgPSAwO1xuICAgIE9iamVjdC52YWx1ZXMoc3R1ZGVudFJlc3BvbnNlcykuZm9yRWFjaChzdHVkZW50ID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgT2JqZWN0LmtleXMoc3R1ZGVudC5yZXNwb25zZXNfYnlfYXNzZXNzbWVudCkuaW5jbHVkZXMoXG4gICAgICAgICAgY3VycmVudEFzc2Vzc21lbnRJZCArICcnXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICB0b3RhbFN1Ym1pc3Npb25zKys7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvdGFsU3VibWlzc2lvbnM7XG4gIH1cbn07XG5cbi8qKlxuICogQHJldHVybnMge2FycmF5fSBvZiBvYmplY3RzIHdpdGgga2V5cyBjb3JyZXNwb25kaW5nIHRvIGNvbHVtbnNcbiAqIG9mIENTViB0byBkb3dubG9hZC4gQ29sdW1ucyBhcmUgZGVmaW5lZCBhcyBDU1ZfU1VSVkVZX0hFQURFUlMgYW5kIENTVl9BU1NFU1NNRU5UX0hFQURFUlMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRFeHBvcnRhYmxlRGF0YSA9IHN0YXRlID0+IHtcbiAgY29uc3QgaXNTdXJ2ZXkgPSBpc0N1cnJlbnRBc3Nlc3NtZW50U3VydmV5KHN0YXRlKTtcbiAgaWYgKGlzU3VydmV5KSB7XG4gICAgcmV0dXJuIGdldEV4cG9ydGFibGVTdXJ2ZXlEYXRhKHN0YXRlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZ2V0RXhwb3J0YWJsZUFzc2Vzc21lbnREYXRhKHN0YXRlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7YXJyYXl9IG9mIG9iamVjdHMgd2l0aCBrZXlzIGNvcnJlc3BvbmRpbmcgdG8gY29sdW1uc1xuICogb2YgQ1NWIHRvIGRvd25sb2FkLiBDb2x1bW5zIGFyZSBsZXNzb24sIHF1ZXN0aW9uTnVtYmVyLCBxdWVzdGlvblRleHQsIGFuc3dlciwgbnVtYmVyQW5zd2VyZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRFeHBvcnRhYmxlU3VydmV5RGF0YSA9IHN0YXRlID0+IHtcbiAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gIGNvbnN0IHN1cnZleXMgPVxuICAgIHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5zdXJ2ZXlzQnlTY3JpcHRbc3RhdGUudW5pdFNlbGVjdGlvbi5zY3JpcHRJZF0gfHxcbiAgICB7fTtcbiAgY29uc3QgY3VycmVudFN1cnZleSA9IHN1cnZleXNbY3VycmVudEFzc2Vzc21lbnRJZF07XG4gIGxldCByZXNwb25zZXMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRTdXJ2ZXkubGV2ZWxncm91cF9yZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcXVlc3Rpb25SZXN1bHRzID0gY3VycmVudFN1cnZleS5sZXZlbGdyb3VwX3Jlc3VsdHNbaV07XG4gICAgY29uc3Qgcm93QmFzZSA9IHtcbiAgICAgIGxlc3NvbjogY3VycmVudFN1cnZleS5sZXNzb25fbmFtZSxcbiAgICAgIHF1ZXN0aW9uTnVtYmVyOiBxdWVzdGlvblJlc3VsdHMucXVlc3Rpb25faW5kZXggKyAxLFxuICAgICAgcXVlc3Rpb25UZXh0OiBxdWVzdGlvblJlc3VsdHMucXVlc3Rpb24sXG4gICAgfTtcblxuICAgIGlmIChxdWVzdGlvblJlc3VsdHMudHlwZSA9PT0gU3VydmV5UXVlc3Rpb25UeXBlLk1VTFRJKSB7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgYW5zd2VySW5kZXggPSAwO1xuICAgICAgICBhbnN3ZXJJbmRleCA8IHF1ZXN0aW9uUmVzdWx0cy5hbnN3ZXJfdGV4dHMubGVuZ3RoO1xuICAgICAgICBhbnN3ZXJJbmRleCsrXG4gICAgICApIHtcbiAgICAgICAgcmVzcG9uc2VzLnB1c2goe1xuICAgICAgICAgIC4uLnJvd0Jhc2UsXG4gICAgICAgICAgYW5zd2VyOiBxdWVzdGlvblJlc3VsdHMuYW5zd2VyX3RleHRzW2Fuc3dlckluZGV4XSxcbiAgICAgICAgICBudW1iZXJBbnN3ZXJlZDogcXVlc3Rpb25SZXN1bHRzLnJlc3VsdHMuZmlsdGVyKFxuICAgICAgICAgICAgcmVzdWx0ID0+IHJlc3VsdC5hbnN3ZXJfaW5kZXggPT09IGFuc3dlckluZGV4XG4gICAgICAgICAgKS5sZW5ndGgsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocXVlc3Rpb25SZXN1bHRzLnR5cGUgPT09IFN1cnZleVF1ZXN0aW9uVHlwZS5GUkVFX1JFU1BPTlNFKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHF1ZXN0aW9uUmVzdWx0cy5yZXN1bHRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHJlc3BvbnNlcy5wdXNoKHtcbiAgICAgICAgICAuLi5yb3dCYXNlLFxuICAgICAgICAgIGFuc3dlcjogcXVlc3Rpb25SZXN1bHRzLnJlc3VsdHNbal0ucmVzdWx0LFxuICAgICAgICAgIG51bWJlckFuc3dlcmVkOiAxLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2VzO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7YXJyYXl9IG9mIG9iamVjdHMgd2l0aCBrZXlzIGNvcnJlc3BvbmRpbmcgdG8gY29sdW1uc1xuICogb2YgQ1NWIHRvIGRvd25sb2FkLiBDb2x1bW5zIGFyZSBzdHVkZW50TmFtZSwgbGVzc29uLCB0aW1lc3RhbXAsIHF1ZXN0aW9uLCByZXNwb25zZSwgYW5kIGNvcnJlY3QuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRFeHBvcnRhYmxlQXNzZXNzbWVudERhdGEgPSBzdGF0ZSA9PiB7XG4gIGxldCByZXNwb25zZXMgPSBbXTtcbiAgY29uc3QgY3VycmVudEFzc2Vzc21lbnRJZCA9IHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5hc3Nlc3NtZW50SWQ7XG4gIGNvbnN0IHN0dWRlbnRSZXNwb25zZXMgPSBnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdChzdGF0ZSk7XG5cbiAgT2JqZWN0LmtleXMoc3R1ZGVudFJlc3BvbnNlcykuZm9yRWFjaChzdHVkZW50SWQgPT4ge1xuICAgIHN0dWRlbnRJZCA9IHBhcnNlSW50KHN0dWRlbnRJZCwgMTApO1xuICAgIGNvbnN0IHN0dWRlbnRPYmplY3QgPSBzdHVkZW50UmVzcG9uc2VzW3N0dWRlbnRJZF07XG4gICAgY29uc3Qgc3R1ZGVudEFzc2Vzc21lbnQgPVxuICAgICAgc3R1ZGVudE9iamVjdC5yZXNwb25zZXNfYnlfYXNzZXNzbWVudFtjdXJyZW50QXNzZXNzbWVudElkXTtcblxuICAgIGlmIChzdHVkZW50QXNzZXNzbWVudCAmJiBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzKSB7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgcXVlc3Rpb25JbmRleCA9IDA7XG4gICAgICAgIHF1ZXN0aW9uSW5kZXggPCBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzLmxlbmd0aDtcbiAgICAgICAgcXVlc3Rpb25JbmRleCsrXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBzdHVkZW50QXNzZXNzbWVudC5sZXZlbF9yZXN1bHRzW3F1ZXN0aW9uSW5kZXhdO1xuICAgICAgICByZXNwb25zZXMucHVzaCh7XG4gICAgICAgICAgc3R1ZGVudE5hbWU6IHN0dWRlbnRPYmplY3Quc3R1ZGVudF9uYW1lLFxuICAgICAgICAgIGxlc3Nvbjogc3R1ZGVudEFzc2Vzc21lbnQubGVzc29uLFxuICAgICAgICAgIHRpbWVzdGFtcDogc3R1ZGVudEFzc2Vzc21lbnQudGltZXN0YW1wLFxuICAgICAgICAgIHF1ZXN0aW9uOiBxdWVzdGlvbkluZGV4ICsgMSxcbiAgICAgICAgICByZXNwb25zZTpcbiAgICAgICAgICAgIHJlc3BvbnNlLnR5cGUgPT09IFF1ZXN0aW9uVHlwZS5NVUxUSVxuICAgICAgICAgICAgICA/IGluZGV4ZXNUb0Fuc3dlclN0cmluZyhyZXNwb25zZS5zdHVkZW50X3Jlc3VsdClcbiAgICAgICAgICAgICAgOiByZXNwb25zZS5zdHVkZW50X3Jlc3VsdCxcbiAgICAgICAgICBjb3JyZWN0OiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3BvbnNlcztcbn07XG5cbi8qKlxuICogQHJldHVybnMge2FycmF5fSBvZiBvYmplY3RzIHdpdGgga2V5cyBjb3JyZXNwb25kaW5nIHRvIGNvbHVtbnNcbiAqIG9mIENTViB0byBkb3dubG9hZC4gQ29sdW1ucyBhcmUgc3R1ZGVudE5hbWUsIGxlc3NvbiwgbGV2ZWwsIGtleSBjb25jZXB0LCBydWJyaWMsIGNvbW1lbnQsIHRpbWVzdGFtcCwgLlxuICovXG5leHBvcnQgY29uc3QgZ2V0RXhwb3J0YWJsZUZlZWRiYWNrRGF0YSA9IHN0YXRlID0+IHtcbiAgbGV0IGZlZWRiYWNrID0gW107XG4gIGxldCBmZWVkYmFja0ZvckN1cnJlbnRTY3JpcHQgPVxuICAgIHN0YXRlLnNlY3Rpb25Bc3Nlc3NtZW50cy5mZWVkYmFja0J5U2NyaXB0W3N0YXRlLnVuaXRTZWxlY3Rpb24uc2NyaXB0SWRdIHx8XG4gICAge307XG5cbiAgT2JqZWN0LmtleXMoZmVlZGJhY2tGb3JDdXJyZW50U2NyaXB0KS5mb3JFYWNoKGZlZWRiYWNrSWQgPT4ge1xuICAgIGZlZWRiYWNrSWQgPSBwYXJzZUludChmZWVkYmFja0lkLCAxMCk7XG4gICAgZmVlZGJhY2sucHVzaChmZWVkYmFja0ZvckN1cnJlbnRTY3JpcHRbZmVlZGJhY2tJZF0pO1xuICB9KTtcblxuICByZXR1cm4gZmVlZGJhY2s7XG59O1xuXG5leHBvcnQgY29uc3QgaXNDdXJyZW50U2NyaXB0Q1NEID0gc3RhdGUgPT4ge1xuICBjb25zdCBzY3JpcHROYW1lID0gZ2V0U2VsZWN0ZWRTY3JpcHROYW1lKHN0YXRlKSB8fCAnJztcbiAgcmV0dXJuIHNjcmlwdE5hbWUuaW5jbHVkZXMoJ2NzZCcpO1xufTtcblxuLyoqXG4gKiAgQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgY3VycmVudCBzdHVkZW50SWQgaGFzIHN1Ym1pdHRlZCByZXNwb25zZXMgZm9yIGN1cnJlbnQgc2NyaXB0LlxuICovXG5leHBvcnQgY29uc3QgY3VycmVudFN0dWRlbnRIYXNSZXNwb25zZXMgPSBzdGF0ZSA9PiB7XG4gIHJldHVybiAhIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiAgICBnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdChzdGF0ZSksXG4gICAgc3RhdGUuc2VjdGlvbkFzc2Vzc21lbnRzLnN0dWRlbnRJZFxuICApO1xufTtcblxuLy8gSGVscGVyc1xuXG4vKipcbiAqIFRha2VzIGluIGFuIGFycmF5IG9mIG9iamVjdHMge2Fuc3dlclRleHQ6ICcnLCBjb3JyZWN0OiB0cnVlL2ZhbHNlfSBhbmRcbiAqIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgbGV0dGVycyB0byB0aGUgb3B0aW9ucyB3aXRoIHRoZSBjb3JyZWN0IGFuc3dlcnMuXG4gKiBFeCAtIFt7Y29ycmVjdDogZmFsc2V9LCB7Y29ycmVjdDogdHJ1ZX1dIC0tPiByZXR1cm5zICdCJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29ycmVjdEFuc3dlcihhbnN3ZXJBcnIpIHtcbiAgY29uc3QgY29ycmVjdEluZGV4ZXMgPSBhbnN3ZXJBcnJcbiAgICAubWFwKCh7Y29ycmVjdH0sIGkpID0+IChjb3JyZWN0ID8gaSA6IG51bGwpKVxuICAgIC5maWx0ZXIoaSA9PiBpICE9PSBudWxsKTtcbiAgcmV0dXJuIGluZGV4ZXNUb0Fuc3dlclN0cmluZyhjb3JyZWN0SW5kZXhlcyk7XG59XG5cbi8qKlxuICogVGFrZXMgaW4gYW4gYXJyYXkgb2YgaW50ZWdlcnMgYW5kIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgbGV0dGVyc1xuICogcmVwcmVzZW50aW5nIGNvcnJlY3QgYW5zd2Vycy5cbiAqIEV4IC0gWzFdIC0tPiByZXR1cm5zICdCJywgWzAsIDJdIC0tPiByZXR1cm5zICdBLCBDJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhlc1RvQW5zd2VyU3RyaW5nKGFuc3dlckFycikge1xuICBpZiAoIWFuc3dlckFycikge1xuICAgIHJldHVybiAnJztcbiAgfVxuICByZXR1cm4gYW5zd2VyQXJyLm1hcChpbmRleCA9PiBBTlNXRVJfTEVUVEVSU1tpbmRleF0pLmpvaW4oJywgJyk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBpZCBvZiB0aGUgZmlyc3QgYXNzZXNzbWVudCBvciBzdXJ2ZXkgaW4gdGhlIGxpc3QuXG4gKlxuICogQHBhcmFtIHN0YXRlIHtPYmplY3R9IHRoZSBzZWN0aW9uQXNzZXNzbWVudHMgYnJhbmNoIG9mIHRoZSByZWR1eCBzdGF0ZSB0cmVlLlxuICogQHBhcmFtIHNjcmlwdElkXG4gKiBAcmV0dXJucyB7bnVtYmVyfHVuZGVmaW5lZH0gVGhlIGlkIG9mIHRoZSBmaXJzdCBhc3Nlc3NtZW50IG9yIHN1cnZleS5cbiAqL1xuY29uc3QgZ2V0Rmlyc3RBc3Nlc3NtZW50SWQgPSAoc3RhdGUsIHNjcmlwdElkKSA9PlxuICBjb21wdXRlU2NyaXB0QXNzZXNzbWVudExpc3Qoc3RhdGUsIHNjcmlwdElkKS5tYXAoYSA9PiBwYXJzZUludChhLmlkKSlbMF07XG5cbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgaWRzIGFuZCBuYW1lcyBvZiBhc3Nlc3NtZW50cyBhbmQgc3VydmV5cy5cbiAqXG4gKiBAcGFyYW0gc3RhdGUge09iamVjdH0gdGhlIHNlY3Rpb25Bc3Nlc3NtZW50cyBicmFuY2ggb2YgdGhlIHJlZHV4IHN0YXRlIHRyZWUuXG4gKiBAcGFyYW0gc2NyaXB0SWQge251bWJlcnxzdHJpbmd9XG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbmNvbnN0IGNvbXB1dGVTY3JpcHRBc3Nlc3NtZW50TGlzdCA9IChzdGF0ZSwgc2NyaXB0SWQpID0+IHtcbiAgY29uc3QgYXNzZXNzbWVudFN0cnVjdHVyZSA9IHN0YXRlLmFzc2Vzc21lbnRRdWVzdGlvbnNCeVNjcmlwdFtzY3JpcHRJZF0gfHwge307XG4gIGNvbnN0IGFzc2Vzc21lbnRzID0gT2JqZWN0LnZhbHVlcyhhc3Nlc3NtZW50U3RydWN0dXJlKS5tYXAoYXNzZXNzbWVudCA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBhc3Nlc3NtZW50LmlkLFxuICAgICAgbmFtZTogYXNzZXNzbWVudC5uYW1lLFxuICAgIH07XG4gIH0pO1xuXG4gIGNvbnN0IHN1cnZleXNTdHJ1Y3R1cmUgPSBzdGF0ZS5zdXJ2ZXlzQnlTY3JpcHRbc2NyaXB0SWRdIHx8IHt9O1xuICBjb25zdCBzdXJ2ZXlzID0gT2JqZWN0LmtleXMoc3VydmV5c1N0cnVjdHVyZSkubWFwKHN1cnZleUlkID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHBhcnNlSW50KHN1cnZleUlkKSxcbiAgICAgIG5hbWU6IHN1cnZleXNTdHJ1Y3R1cmVbc3VydmV5SWRdLmxlc3Nvbl9uYW1lLFxuICAgIH07XG4gIH0pO1xuXG4gIHJldHVybiBhc3Nlc3NtZW50cy5jb25jYXQoc3VydmV5cyk7XG59O1xuXG4vLyBSZXF1ZXN0cyB0byB0aGUgc2VydmVyIGZvciBhc3Nlc3NtZW50IGRhdGFcblxuLy8gTG9hZHMgdGhlIGFzc2Vzc21lbnQgcmVzcG9uc2VzLlxuY29uc3QgbG9hZEFzc2Vzc21lbnRSZXNwb25zZXNGcm9tU2VydmVyID0gKHNlY3Rpb25JZCwgc2NyaXB0SWQpID0+IHtcbiAgbGV0IHBheWxvYWQgPSB7c2VjdGlvbl9pZDogc2VjdGlvbklkfTtcbiAgaWYgKHNjcmlwdElkKSB7XG4gICAgcGF5bG9hZC5zY3JpcHRfaWQgPSBzY3JpcHRJZDtcbiAgfVxuICByZXR1cm4gJC5hamF4KHtcbiAgICB1cmw6IGAvZGFzaGJvYXJkYXBpL2Fzc2Vzc21lbnRzL3NlY3Rpb25fcmVzcG9uc2VzYCxcbiAgICBtZXRob2Q6ICdHRVQnLFxuICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JyxcbiAgICBkYXRhOiBwYXlsb2FkLFxuICB9KTtcbn07XG5cbi8vIExvYWRzIHRoZSBhc3Nlc3NtZW50IHF1ZXN0aW9uIHN0cnVjdHVyZS5cbmNvbnN0IGxvYWRBc3Nlc3NtZW50UXVlc3Rpb25zRnJvbVNlcnZlciA9IHNjcmlwdElkID0+IHtcbiAgY29uc3QgcGF5bG9hZCA9IHtzY3JpcHRfaWQ6IHNjcmlwdElkfTtcbiAgcmV0dXJuICQuYWpheCh7XG4gICAgdXJsOiBgL2Rhc2hib2FyZGFwaS9hc3Nlc3NtZW50c2AsXG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gICAgZGF0YTogcGF5bG9hZCxcbiAgfSk7XG59O1xuXG4vLyBMb2FkcyBzdXJ2ZXkgcXVlc3Rpb25zIGFuZCBhbm9ueW1vdXMgcmVzcG9uc2VzLlxuY29uc3QgbG9hZFN1cnZleXNGcm9tU2VydmVyID0gKHNlY3Rpb25JZCwgc2NyaXB0SWQpID0+IHtcbiAgY29uc3QgcGF5bG9hZCA9IHtzY3JpcHRfaWQ6IHNjcmlwdElkLCBzZWN0aW9uX2lkOiBzZWN0aW9uSWR9O1xuICByZXR1cm4gJC5hamF4KHtcbiAgICB1cmw6IGAvZGFzaGJvYXJkYXBpL2Fzc2Vzc21lbnRzL3NlY3Rpb25fc3VydmV5c2AsXG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsXG4gICAgZGF0YTogcGF5bG9hZCxcbiAgfSk7XG59O1xuXG4vLyBMb2FkcyBjb21tZW50IGFuZCBydWJyaWMgZmVlZGJhY2suXG5jb25zdCBsb2FkRmVlZGJhY2tGcm9tU2VydmVyID0gKHNlY3Rpb25JZCwgc2NyaXB0SWQpID0+IHtcbiAgY29uc3QgcGF5bG9hZCA9IHtzY3JpcHRfaWQ6IHNjcmlwdElkLCBzZWN0aW9uX2lkOiBzZWN0aW9uSWR9O1xuICByZXR1cm4gJC5hamF4KHtcbiAgICB1cmw6IGAvZGFzaGJvYXJkYXBpL2Fzc2Vzc21lbnRzL3NlY3Rpb25fZmVlZGJhY2tgLFxuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnLFxuICAgIGRhdGE6IHBheWxvYWQsXG4gIH0pO1xufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG5cbi8vIGFwcHMvc3JjL3V0aWwvY29sb3IuanNcbi8vIEdFTkVSQVRFRCBGSUxFOiBETyBOT1QgTU9ESUZZIERJUkVDVExZXG4vLyBUaGlzIGdlbmVyYXRlZCBmaWxlIGV4cG9ydHMgYWxsIHZhcmlhYmxlcyBkZWZpbmVkIGluIHNoYXJlZC9jc3MvY29sb3Iuc2Nzc1xuLy8gZm9yIHVzZSBpbiBKYXZhU2NyaXB0LiBUaGUgZ2VuZXJhdG9yIHNjcmlwdCBpcyBjb252ZXJ0LXNjc3MtdmFyaWFibGVzLmpzXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgXCJibGFja1wiOiBcIiMwMDBcIixcbiAgXCJiYWNrZ3JvdW5kX2JsYWNrXCI6IFwiIzEyMTQxNlwiLFxuICBcImRhcmtfZ3JheVwiOiBcIiMyRDMxMzlcIixcbiAgXCJkYXJrZXN0X2dyYXlcIjogXCIjMjkyRjM2XCIsXG4gIFwiZGFya19zbGF0ZV9ncmF5XCI6IFwiIzI4MmMzNFwiLFxuICBcImRhcmtlc3Rfc2xhdGVfZ3JheVwiOiBcIiMyNTI5MmRcIixcbiAgXCJkYXJrX2NoYXJjb2FsXCI6IFwiIzRkNTc1ZlwiLFxuICBcImNoYXJjb2FsXCI6IFwiIzViNjc3MFwiLFxuICBcImxpZ2h0X2dyYXlcIjogXCIjOTQ5Y2EyXCIsXG4gIFwibGlnaHRlcl9ncmF5XCI6IFwiI2M2Y2FjZFwiLFxuICBcImxpZ2h0ZXN0X2dyYXlcIjogXCIjZTdlOGVhXCIsXG4gIFwiYmFja2dyb3VuZF9ncmF5XCI6IFwiI2YyZjJmMlwiLFxuICBcImRpbWdyYXlcIjogXCIjNjk2OTY5XCIsXG4gIFwid2hpdGVcIjogXCIjZmZmXCIsXG4gIFwiZGVmYXVsdF9ibHVlXCI6IFwiIzM2NzBiM1wiLFxuICBcImRhcmtfdGVhbFwiOiBcIiMwMDk0YTNcIixcbiAgXCJ0ZWFsXCI6IFwiIzAwOTNhNFwiLFxuICBcImFwcGxhYl9idXR0b25fdGVhbFwiOiBcIiMxYWJjOWNcIixcbiAgXCJsaWdodF90ZWFsXCI6IFwiIzU5Y2FkM1wiLFxuICBcImxpZ2h0aXNoX3RlYWxcIjogXCIjODBkNmRlXCIsXG4gIFwibGlnaHRlcl90ZWFsXCI6IFwiI2E2ZTNlOFwiLFxuICBcImxpZ2h0ZXN0X3RlYWxcIjogXCIjZDlmM2Y1XCIsXG4gIFwiYWlfcnVicmljX2N5YW5cIjogXCIjM2NmZmY4XCIsXG4gIFwicHVycGxlXCI6IFwiIzhjNTJiYVwiLFxuICBcImxpZ2h0X3B1cnBsZVwiOiBcIiNhNjliYzFcIixcbiAgXCJsaWdodGVyX3B1cnBsZVwiOiBcIiNjZmM5ZGVcIixcbiAgXCJsaWdodGVzdF9wdXJwbGVcIjogXCIjZWJlOGYxXCIsXG4gIFwiY3lhblwiOiBcIiMwMDk0Y2FcIixcbiAgXCJsaWdodF9jeWFuXCI6IFwiIzU5YjlkY1wiLFxuICBcImxpZ2h0ZXJfY3lhblwiOiBcIiNhNmRhZWRcIixcbiAgXCJsaWdodGVzdF9jeWFuXCI6IFwiI2Q5ZWZmN1wiLFxuICBcImFsbW9zdF93aGl0ZV9jeWFuXCI6IFwiI2Y1ZmNmZlwiLFxuICBcIm9yYW5nZVwiOiBcIiNmZmE0MDBcIixcbiAgXCJsaWdodF9vcmFuZ2VcIjogXCIjZmZjNDU5XCIsXG4gIFwibGlnaHRlcl9vcmFuZ2VcIjogXCIjZmZlMGE2XCIsXG4gIFwibGlnaHRlc3Rfb3JhbmdlXCI6IFwiI2ZmZjJkOVwiLFxuICBcImRhcmtfb3JhbmdlXCI6IFwiI2ZmODYwMFwiLFxuICBcImdyZWVuXCI6IFwiI2I5YmYxNVwiLFxuICBcImxpZ2h0X2dyZWVuXCI6IFwiI2QxZDU2N1wiLFxuICBcImxpZ2h0ZXJfZ3JlZW5cIjogXCIjZTdlOWFkXCIsXG4gIFwibGlnaHRlc3RfZ3JlZW5cIjogXCIjZjVmNWRjXCIsXG4gIFwiaGlnaGxpZ2h0X2dyZWVuXCI6IFwiIzhhZmM5YlwiLFxuICBcInllbGxvd1wiOiBcIiNmZmI4MWRcIixcbiAgXCJsaWdodF95ZWxsb3dcIjogXCIjZmZkYjc0XCIsXG4gIFwibGlnaHRlcl95ZWxsb3dcIjogXCIjZmZlYmI1XCIsXG4gIFwibGlnaHRlc3RfeWVsbG93XCI6IFwiI2ZmZjdkZlwiLFxuICBcImdvbGRlbnJvZFwiOiBcIiNkYWE1MjBcIixcbiAgXCJoZWFkZXJfdGV4dFwiOiBcIiNmZmZcIixcbiAgXCJia2duZF9jb2xvclwiOiBcIiMwMDkzYTRcIixcbiAgXCJpbnNldF9jb2xvclwiOiBcIiNjNmNhY2RcIixcbiAgXCJkYXJrX2NvbG9yXCI6IFwiIzhjNTJiYVwiLFxuICBcImhkcl9jb2xvclwiOiBcIiM4YzUyYmFcIixcbiAgXCJyZWRcIjogXCIjYzAwXCIsXG4gIFwibGlnaHRlc3RfcmVkXCI6IFwiI2ZjY1wiLFxuICBcImRhcmtfcmVkXCI6IFwiI2Q2MjkxMVwiLFxuICBcInJlYWxncmVlblwiOiBcIiMwMDgwMDBcIixcbiAgXCJyZWFseWVsbG93XCI6IFwiI2ZmMFwiLFxuICBcIm11c3RhcmR5ZWxsb3dcIjogXCIjZWZjZDFjXCIsXG4gIFwidHdpdHRlcl9ibHVlXCI6IFwiIzAwYWNlZFwiLFxuICBcImZhY2Vib29rX2JsdWVcIjogXCIjM2I1OTk4XCIsXG4gIFwibGlua2VkaW5fYmx1ZVwiOiBcIiMwMDc3QjVcIixcbiAgXCJkYXJrX2JsdWVcIjogXCIjMDA2NDdmXCIsXG4gIFwiYmxvY2tseV9mbHlvdXRfZ3JheVwiOiBcIiNkZGRcIixcbiAgXCJkZWZhdWx0X3RleHRcIjogXCIjMzMzXCIsXG4gIFwiYm9yZGVyX2dyYXlcIjogXCIjYmJiXCIsXG4gIFwiYm9yZGVyX2xpZ2h0X2dyYXlcIjogXCIjZDhkOGQ4XCIsXG4gIFwidGFibGVfaGVhZGVyXCI6IFwiI2VjZWNlY1wiLFxuICBcInRhYmxlX2xpZ2h0X3Jvd1wiOiBcIiNmY2ZjZmNcIixcbiAgXCJ0YWJsZV9kYXJrX3Jvd1wiOiBcIiNmNGY0ZjRcIixcbiAgXCJsZXZlbF9zdWJtaXR0ZWRcIjogXCIjOGM1MmJhXCIsXG4gIFwibGV2ZWxfcGVyZmVjdFwiOiBcInJnYigxNCwgMTkwLCAxNClcIixcbiAgXCJsZXZlbF9wYXNzZWRcIjogXCJyZ2IoMTU5LCAyMTIsIDE1OSlcIixcbiAgXCJsZXZlbF9hdHRlbXB0ZWRcIjogXCIjZmYwXCIsXG4gIFwibGV2ZWxfbm90X3RyaWVkXCI6IFwiI2ZlZmVmZVwiLFxuICBcImxldmVsX2N1cnJlbnRcIjogXCIjZmZhNDAwXCIsXG4gIFwibGV2ZWxfcmV2aWV3X3JlamVjdGVkXCI6IFwiI2MwMFwiLFxuICBcImxldmVsX3Jldmlld19hY2NlcHRlZFwiOiBcInJnYigxMSwgMTQyLCAxMSlcIixcbiAgXCJhc3Nlc3NtZW50XCI6IFwiIzAwOTRjYVwiLFxuICBcIndvcmtzcGFjZV9ydW5uaW5nX2JhY2tncm91bmRcIjogXCIjZTVlNWU1XCIsXG4gIFwiZGFya19wdXJwbGVcIjogXCIjNjgyQTc3XCIsXG4gIFwiYnJpZ2h0X2dyZWVuXCI6IFwiIzBlYmUwZVwiLFxuICBcIm5lb25fcGlua1wiOiBcIiNlOTExOGZcIixcbiAgXCJsaW5rX2NvbG9yXCI6IFwiIzA1OTZjZVwiLFxuICBcInNoYWRvd1wiOiBcInJnYmEoMCwgMCwgMCwgMC4zKVwiLFxuICBcImJvb3RzdHJhcF9idXR0b25fYmx1ZVwiOiBcIiMzMzdhYjdcIixcbiAgXCJib290c3RyYXBfYnV0dG9uX3JlZFwiOiBcIiNkOTUzNGZcIixcbiAgXCJib290c3RyYXBfZXJyb3JfYmFja2dyb3VuZFwiOiBcIiNmMmRlZGVcIixcbiAgXCJib290c3RyYXBfZXJyb3JfdGV4dFwiOiBcIiNiOTRhNDhcIixcbiAgXCJib290c3RyYXBfdjNfZXJyb3JfdGV4dFwiOiBcIiNhOTQ0NDJcIixcbiAgXCJib290c3RyYXBfZXJyb3JfYm9yZGVyXCI6IFwiI2ViY2NkMVwiLFxuICBcImJvb3RzdHJhcF93YXJuaW5nX2JhY2tncm91bmRcIjogXCIjZmNmOGUzXCIsXG4gIFwiYm9vdHN0cmFwX3dhcm5pbmdfdGV4dFwiOiBcIiNjMDk4NTNcIixcbiAgXCJib290c3RyYXBfd2FybmluZ19ib3JkZXJcIjogXCIjZmFlYmNjXCIsXG4gIFwiYm9vdHN0cmFwX2JvcmRlcl9jb2xvclwiOiBcIiNjY2NjY2NcIixcbiAgXCJib290c3RyYXBfc3VjY2Vzc19iYWNrZ3JvdW5kXCI6IFwiI2RmZjBkOFwiLFxuICBcImJvb3RzdHJhcF9zdWNjZXNzX3RleHRcIjogXCIjNDY4ODQ3XCIsXG4gIFwiYm9vdHN0cmFwX3N1Y2Nlc3NfYm9yZGVyXCI6IFwiI2Q2ZTljNlwiLFxuICBcImRyb3BsZXRfbGlnaHRfZ3JlZW5cIjogXCIjZDNlOTY1XCIsXG4gIFwiZHJvcGxldF9ibHVlXCI6IFwiIzY0YjVmNlwiLFxuICBcImRyb3BsZXRfYnJpZ2h0X2JsdWVcIjogXCIjMTljM2UxXCIsXG4gIFwiZHJvcGxldF95ZWxsb3dcIjogXCIjZmZmMTc2XCIsXG4gIFwiZHJvcGxldF9vcmFuZ2VcIjogXCIjZmZiNzRkXCIsXG4gIFwiZHJvcGxldF9yZWRcIjogXCIjZjc4MTgzXCIsXG4gIFwiZHJvcGxldF9jeWFuXCI6IFwiIzRkZDBlMVwiLFxuICBcImRyb3BsZXRfcGlua1wiOiBcIiNmNTdhYzZcIixcbiAgXCJkcm9wbGV0X3B1cnBsZVwiOiBcIiNiYjc3YzdcIixcbiAgXCJkcm9wbGV0X2dyZWVuXCI6IFwiIzY4ZDk5NVwiLFxuICBcImRyb3BsZXRfd2hpdGVcIjogXCIjZmZmXCIsXG4gIFwib2NlYW5zX2RlZXBfYmx1ZVwiOiBcInJnYigyLCAwLCAyOClcIixcbiAgXCJkYXJrX2JsYWNrXCI6IFwiIzEyMTIxMlwiLFxuICBcImJyYW5kX3ByaW1hcnlfbGlnaHRcIjogXCIjRTBGOEY5XCIsXG4gIFwiYnJhbmRfcHJpbWFyeV9kZWZhdWx0XCI6IFwiIzAwOUVCMFwiLFxuICBcImJyYW5kX3ByaW1hcnlfZGFya1wiOiBcIiMwMDc3ODVcIixcbiAgXCJicmFuZF9zZWNvbmRhcnlfbGlnaHRcIjogXCIjRTBEMUVDXCIsXG4gIFwiYnJhbmRfc2Vjb25kYXJ5X2RlZmF1bHRcIjogXCIjOEM1MkJBXCIsXG4gIFwiYnJhbmRfc2Vjb25kYXJ5X2RhcmtcIjogXCIjNkM0NjhBXCIsXG4gIFwiYnJhbmRfYWNjZW50X2RlZmF1bHRcIjogXCIjRUQ2MDYwXCIsXG4gIFwiYnJhbmRfdGVhbF81XCI6IFwiI0RGRjJGNFwiLFxuICBcInByb2R1Y3RfYWZmaXJtYXRpdmVfZGVmYXVsdFwiOiBcIiMzRUEzM0VcIixcbiAgXCJwcm9kdWN0X25lZ2F0aXZlX2xpZ2h0XCI6IFwiI0ZERUJFOVwiLFxuICBcInByb2R1Y3RfbmVnYXRpdmVfZGVmYXVsdFwiOiBcIiNFNTMxMUFcIixcbiAgXCJwcm9kdWN0X25lZ2F0aXZlX2RhcmtcIjogXCIjQUEyNTEzXCIsXG4gIFwicHJvZHVjdF9jYXV0aW9uX2RlZmF1bHRcIjogXCIjRjlDQjI4XCIsXG4gIFwicHJvZHVjdF9pbmZvcm1hdGlvbl9kZWZhdWx0XCI6IFwiIzAwN0FDQ1wiLFxuICBcIm5ldXRyYWxfd2hpdGVcIjogXCIjRkZGRkZGXCIsXG4gIFwibmV1dHJhbF9saWdodFwiOiBcIiNGN0Y4RkFcIixcbiAgXCJuZXV0cmFsX2dyYXkxMFwiOiBcIiNFQUVCRUJcIixcbiAgXCJuZXV0cmFsX2RhcmsxMFwiOiBcIiNFQUVDRUZcIixcbiAgXCJuZXV0cmFsX2RhcmsyMFwiOiBcIiNEMUQ0RDhcIixcbiAgXCJuZXV0cmFsX2RhcmszMFwiOiBcIiNCRUMyQzdcIixcbiAgXCJuZXV0cmFsX2Rhcms0MFwiOiBcIiNBQkIwQjZcIixcbiAgXCJuZXV0cmFsX2Rhcms1MFwiOiBcIiM5ODlFQTVcIixcbiAgXCJuZXV0cmFsX2Rhcms2MFwiOiBcIiM4NThDOTRcIixcbiAgXCJuZXV0cmFsX2Rhcms3MFwiOiBcIiM3MjdBODNcIixcbiAgXCJuZXV0cmFsX2Rhcms4MFwiOiBcIiM1RjY4NzJcIixcbiAgXCJuZXV0cmFsX2Rhcms5MFwiOiBcIiM0QzU2NjFcIixcbiAgXCJuZXV0cmFsX2RhcmtcIjogXCIjMjkyRjM2XCIsXG4gIFwiZ29vZ2xlX2JyYW5kX2NvbG9yXCI6IFwiIzBGOUQ1OFwiLFxuICBcIm1pY3Jvc29mdF9icmFuZF9jb2xvclwiOiBcIiNGRkI5MDBcIixcbiAgXCJmYWNlYm9va19icmFuZF9jb2xvclwiOiBcIiMzQjU5OThcIixcbiAgXCJjbGV2ZXJfYnJhbmRfY29sb3JcIjogXCIjMTQ2NEZGXCIsXG4gIFwibGlnaHRfcHJpbWFyeV8xMDBcIjogXCIjQkZFNEU4XCIsXG4gIFwibGlnaHRfcHJpbWFyeV81MDBcIjogXCIjMDA5M0E0XCIsXG4gIFwibGlnaHRfcHJpbWFyeV83MDBcIjogXCIjMDA3Nzg1XCIsXG4gIFwibGlnaHRfc2Vjb25kYXJ5XzEwMFwiOiBcIiNFMkQ0RUVcIixcbiAgXCJsaWdodF9zZWNvbmRhcnlfNTAwXCI6IFwiIzhDNTJCQVwiLFxuICBcImxpZ2h0X3NlY29uZGFyeV83MDBcIjogXCIjNkM0NjhBXCIsXG4gIFwibGlnaHRfZ3JheV81MFwiOiBcIiNGN0Y4RkFcIixcbiAgXCJsaWdodF9ncmF5XzEwMFwiOiBcIiNFQUVDRUZcIixcbiAgXCJsaWdodF9ncmF5XzIwMFwiOiBcIiNEMUQ0RDhcIixcbiAgXCJsaWdodF9ncmF5XzMwMFwiOiBcIiNCRUMyQzdcIixcbiAgXCJsaWdodF9ncmF5XzQwMFwiOiBcIiNBQkIwQjZcIixcbiAgXCJsaWdodF9ncmF5XzUwMFwiOiBcIiM5ODlFQTVcIixcbiAgXCJsaWdodF9ncmF5XzYwMFwiOiBcIiM4NThDOTRcIixcbiAgXCJsaWdodF9ncmF5XzcwMFwiOiBcIiM3MjdBODNcIixcbiAgXCJsaWdodF9ncmF5XzgwMFwiOiBcIiM1RjY4NzJcIixcbiAgXCJsaWdodF9ncmF5XzkwMFwiOiBcIiM0QzU2NjFcIixcbiAgXCJsaWdodF9ncmF5Xzk1MFwiOiBcIiMzOTQ0NTBcIixcbiAgXCJsaWdodF9hZmZpcm1hdGl2ZV8xMDBcIjogXCIjRTJGMUUyXCIsXG4gIFwibGlnaHRfYWZmaXJtYXRpdmVfNTAwXCI6IFwiIzNFQTMzRVwiLFxuICBcImxpZ2h0X2FmZmlybWF0aXZlXzcwMFwiOiBcIiMyRDc0MkRcIixcbiAgXCJsaWdodF9uZWdhdGl2ZV8xMDBcIjogXCIjRkJFMEREXCIsXG4gIFwibGlnaHRfbmVnYXRpdmVfNTAwXCI6IFwiI0U1MzExQVwiLFxuICBcImxpZ2h0X25lZ2F0aXZlXzcwMFwiOiBcIiNCMjQ5NDlcIixcbiAgXCJsaWdodF9jYXV0aW9uXzEwMFwiOiBcIiNGRUY3REZcIixcbiAgXCJsaWdodF9jYXV0aW9uXzUwMFwiOiBcIiNGOUNCMjhcIixcbiAgXCJsaWdodF9jYXV0aW9uXzcwMFwiOiBcIiNDN0EyMjBcIixcbiAgXCJsaWdodF9hY2NlbnRfMTAwXCI6IFwiI0ZBRDdEN1wiLFxuICBcImxpZ2h0X2FjY2VudF81MDBcIjogXCIjRUQ2MDYwXCIsXG4gIFwibGlnaHRfYWNjZW50XzcwMFwiOiBcIiNEODRDNENcIixcbiAgXCJsaWdodF9hcXVhXzEwMFwiOiBcIiNDRUZGRkRcIixcbiAgXCJsaWdodF9hcXVhXzUwMFwiOiBcIiMzQ0ZGRjhcIixcbiAgXCJsaWdodF9hcXVhXzcwMFwiOiBcIiMzMENDQzZcIixcbiAgXCJsaWdodF9vcmFuZ2VfMTAwXCI6IFwiI0ZGRURDQ1wiLFxuICBcImxpZ2h0X29yYW5nZV81MDBcIjogXCIjRkZBNDAwXCIsXG4gIFwibGlnaHRfb3JhbmdlXzcwMFwiOiBcIiNDQzgzMDBcIixcbiAgXCJsaWdodF9pbmZvXzEwMFwiOiBcIiNEQ0VGRkJcIixcbiAgXCJsaWdodF9pbmZvXzUwMFwiOiBcIiMxODkyRTNcIixcbiAgXCJsaWdodF9pbmZvXzcwMFwiOiBcIiMxMzc1QjZcIixcbiAgXCJsaWdodF93aGl0ZVwiOiBcIiNGRkZGRkZcIixcbiAgXCJsaWdodF9ibGFja1wiOiBcIiMyOTJGMzZcIixcbiAgXCJsaWdodF9ibGFja19vcGFjaXR5XzkwXCI6IFwicmdiYSg0MSwgNDcsIDU0LCAwLjkwKVwiLFxuICBcImxpZ2h0X2JsYWNrX29wYWNpdHktODBcIjogXCJyZ2JhKDQxLCA0NywgNTQsIDAuODApXCIsXG4gIFwibGlnaHRfYmxhY2tfb3BhY2l0eS03MFwiOiBcInJnYmEoNDEsIDQ3LCA1NCwgMC43MClcIixcbiAgXCJsaWdodF9ibGFja19vcGFjaXR5LTYwXCI6IFwicmdiYSg0MSwgNDcsIDU0LCAwLjYwKVwiLFxuICBcImxpZ2h0X2JsYWNrX29wYWNpdHktNTBcIjogXCJyZ2JhKDQxLCA0NywgNTQsIDAuNTApXCIsXG4gIFwibGlnaHRfYmxhY2tfb3BhY2l0eS00MFwiOiBcInJnYmEoNDEsIDQ3LCA1NCwgMC40MClcIixcbiAgXCJsaWdodF9ibGFja19vcGFjaXR5LTMwXCI6IFwicmdiYSg0MSwgNDcsIDU0LCAwLjMwKVwiLFxuICBcImxpZ2h0X2JsYWNrX29wYWNpdHktMjBcIjogXCJyZ2JhKDQxLCA0NywgNTQsIDAuMjApXCIsXG4gIFwibGlnaHRfYmxhY2tfb3BhY2l0eS0xMFwiOiBcInJnYmEoNDEsIDQ3LCA1NCwgMC4xMClcIixcbn07XG4iXSwibmFtZXMiOlsidW5pdFNlbGVjdGlvbiIsInN0YXRlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiaW5pdGlhbFN0YXRlIiwiYWN0aW9uIiwidHlwZSIsIlNFVF9DT1VSU0VTIiwiZmlyc3RDb3Vyc2UiLCJjb3Vyc2VzV2l0aFByb2dyZXNzIiwiZmlyc3RVbml0IiwidW5pdHMiLCJfb2JqZWN0U3ByZWFkIiwic2NyaXB0SWQiLCJpZCIsIlNFVF9TQ1JJUFQiLCJTVEFSVF9MT0FESU5HX0NPVVJTRVMiLCJpc0xvYWRpbmdDb3Vyc2VzV2l0aFByb2dyZXNzIiwiRklOSVNIRURfTE9BRElOR19DT1VSU0VTIiwiZXhwb3J0cyIsInNldENvdXJzZXNXaXRoUHJvZ3Jlc3MiLCJzZXRTY3JpcHRJZCIsInN0YXJ0TG9hZGluZ0NvdXJzZXNXaXRoUHJvZ3Jlc3MiLCJmaW5pc2hlZExvYWRpbmdDb3Vyc2VzV2l0aFByb2dyZXNzIiwiZ2V0U2VsZWN0ZWRVbml0IiwidW5pdCIsImZvckVhY2giLCJjb3Vyc2UiLCJ0ZW1wVW5pdCIsImZpbmQiLCJnZXRTZWxlY3RlZFNjcmlwdE5hbWUiLCJrZXkiLCJnZXRTZWxlY3RlZFNjcmlwdEZyaWVuZGx5TmFtZSIsIm5hbWUiLCJnZXRTZWxlY3RlZFNjcmlwdERlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJkb2VzQ3VycmVudENvdXJzZVVzZUZlZWRiYWNrIiwiX2dldFNlbGVjdGVkVW5pdCIsImlzX2ZlZWRiYWNrX2VuYWJsZWQiLCJhc3luY0xvYWRDb3Vyc2VzV2l0aFByb2dyZXNzIiwiZGlzcGF0Y2giLCJnZXRTdGF0ZSIsInNlbGVjdGVkU2VjdGlvbiIsInRlYWNoZXJTZWN0aW9ucyIsInNlY3Rpb25zIiwic2VsZWN0ZWRTZWN0aW9uSWQiLCJmZXRjaCIsImNvbmNhdCIsIm1ldGhvZCIsImhlYWRlcnMiLCJ0aGVuIiwicmVzcG9uc2UiLCJvayIsIkVycm9yIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImpzb24iLCJyZW9yZGVyZWRDb3Vyc2VzIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiZmlsdGVyIiwiY291cnNlVmVyc2lvbklkIiwicmV2ZXJzZSIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsIm1lc3NhZ2UiLCJzZWN0aW9uQXNzZXNzbWVudHMiLCJzdHVkZW50SWQiLCJBTExfU1RVREVOVF9GSUxURVIiLCJxdWVzdGlvbkluZGV4IiwiU0VUX0FTU0VTU01FTlRfSUQiLCJhc3Nlc3NtZW50SWQiLCJTRVRfSU5JVElBTF9BU1NFU1NNRU5UX0lEIiwiZ2V0Rmlyc3RBc3Nlc3NtZW50SWQiLCJTRVRfU1RVREVOVF9JRCIsIlNFVF9RVUVTVElPTl9JTkRFWCIsIlNFVF9BU1NFU1NNRU5UX1JFU1BPTlNFUyIsImFzc2Vzc21lbnRSZXNwb25zZXNCeVNjcmlwdCIsIl9kZWZpbmVQcm9wZXJ0eSIsImFzc2Vzc21lbnRzIiwiU0VUX0ZFRURCQUNLIiwiZmVlZGJhY2tCeVNjcmlwdCIsImZlZWRiYWNrIiwiU0VUX1NVUlZFWVMiLCJzdXJ2ZXlzQnlTY3JpcHQiLCJzdXJ2ZXlzIiwiU0VUX0FTU0VTU01FTlRTX1FVRVNUSU9OUyIsImFzc2Vzc21lbnRRdWVzdGlvbnNCeVNjcmlwdCIsInBhcnNlSW50IiwiT2JqZWN0Iiwia2V5cyIsIlNUQVJUX0xPQURJTkdfQVNTRVNTTUVOVFMiLCJpc0xvYWRpbmciLCJGSU5JU0hfTE9BRElOR19BU1NFU1NNRU5UUyIsIl91bml0U2VsZWN0aW9uUmVkdXgiLCJyZXF1aXJlIiwiX3R5cGVvZiIsIm8iLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwib3duS2V5cyIsImUiLCJyIiwidCIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5Iiwib2JqIiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsImkiLCJfdG9QcmltaXRpdmUiLCJ0b1ByaW1pdGl2ZSIsImNhbGwiLCJUeXBlRXJyb3IiLCJTdHJpbmciLCJOdW1iZXIiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIlF1ZXN0aW9uVHlwZSIsIk1VTFRJIiwiTUFUQ0giLCJGUkVFX1JFU1BPTlNFIiwiU3VydmV5UXVlc3Rpb25UeXBlIiwiTXVsdGlBbnN3ZXJTdGF0dXMiLCJBTlNXRVJfTEVUVEVSUyIsIkFTU0VTU01FTlRfRkVFREJBQ0tfT1BUSU9OX0lEIiwiaW5Qcm9ncmVzc0Zha2VUaW1lc3RhbXAiLCJEYXRlIiwibm90U3RhcnRlZEZha2VUaW1lc3RhbXAiLCJzZXRBc3Nlc3NtZW50UmVzcG9uc2VzIiwic2V0QXNzZXNzbWVudFF1ZXN0aW9ucyIsInNldEZlZWRiYWNrIiwic3RhcnRMb2FkaW5nQXNzZXNzbWVudHMiLCJmaW5pc2hMb2FkaW5nQXNzZXNzbWVudHMiLCJzZXRJbml0aWFsQXNzZXNzbWVudElkIiwic2V0QXNzZXNzbWVudElkIiwic2V0U3VydmV5cyIsInNldFF1ZXN0aW9uSW5kZXgiLCJzZXRTdHVkZW50SWQiLCJhc3luY0xvYWRBc3Nlc3NtZW50cyIsInNlY3Rpb25JZCIsImxvYWRSZXNwb25zZXMiLCJsb2FkQXNzZXNzbWVudFJlc3BvbnNlc0Zyb21TZXJ2ZXIiLCJsb2FkUXVlc3Rpb25zIiwibG9hZEFzc2Vzc21lbnRRdWVzdGlvbnNGcm9tU2VydmVyIiwibG9hZFN1cnZleXMiLCJsb2FkU3VydmV5c0Zyb21TZXJ2ZXIiLCJsb2FkRmVlZGJhY2siLCJsb2FkRmVlZGJhY2tGcm9tU2VydmVyIiwiUHJvbWlzZSIsImFsbCIsImFycmF5T2ZWYWx1ZXMiLCJnZXRDdXJyZW50U2NyaXB0QXNzZXNzbWVudExpc3QiLCJ0ZW1wQXNzZXNzbWVudExpc3QiLCJjb21wdXRlU2NyaXB0QXNzZXNzbWVudExpc3QiLCJnZXRBc3Nlc3NtZW50UmVzcG9uc2VzRm9yQ3VycmVudFNjcmlwdCIsImdldEN1cnJlbnRBc3Nlc3NtZW50UXVlc3Rpb25zIiwiaXNDdXJyZW50QXNzZXNzbWVudFN1cnZleSIsImdldEN1cnJlbnRRdWVzdGlvbiIsImVtcHR5UXVlc3Rpb24iLCJxdWVzdGlvbiIsImFuc3dlcnMiLCJsZXZlbGdyb3VwX3Jlc3VsdHMiLCJhbnN3ZXJfdGV4dHMiLCJtYXAiLCJhbnN3ZXIiLCJpbmRleCIsInRleHQiLCJjb3JyZWN0IiwibGV0dGVyIiwiYXNzZXNzbWVudFF1ZXN0aW9ucyIsInF1ZXN0aW9ucyIsInF1ZXN0aW9uX3RleHQiLCJxdWVzdGlvblR5cGUiLCJvcHRpb25zIiwib3B0aW9uIiwiZ2V0TXVsdGlwbGVDaG9pY2VTdHJ1Y3R1cmVGb3JDdXJyZW50QXNzZXNzbWVudCIsImFzc2Vzc21lbnRzU3RydWN0dXJlIiwibGV2ZWxfaWQiLCJxdWVzdGlvbk51bWJlciIsInF1ZXN0aW9uX2luZGV4IiwiY29ycmVjdEFuc3dlciIsImdldENvcnJlY3RBbnN3ZXIiLCJnZXRTdHVkZW50TUNSZXNwb25zZXNGb3JDdXJyZW50QXNzZXNzbWVudCIsInN0dWRlbnRSZXNwb25zZXMiLCJzdHVkZW50T2JqZWN0IiwiY3VycmVudEFzc2Vzc21lbnRJZCIsInN0dWRlbnRBc3Nlc3NtZW50IiwicmVzcG9uc2VzX2J5X2Fzc2Vzc21lbnQiLCJzdHVkZW50X25hbWUiLCJsZXZlbF9yZXN1bHRzIiwicmVzcG9uc2VzIiwiaW5kZXhlc1RvQW5zd2VyU3RyaW5nIiwic3R1ZGVudF9yZXN1bHQiLCJpc0NvcnJlY3QiLCJnZXRNYXRjaFN0cnVjdHVyZUZvckN1cnJlbnRBc3Nlc3NtZW50IiwiZ2V0U3R1ZGVudE1hdGNoUmVzcG9uc2VzRm9yQ3VycmVudEFzc2Vzc21lbnQiLCJnZXRTdHVkZW50QW5zd2Vyc0ZvckN1cnJlbnRRdWVzdGlvbiIsInN0dWRlbnRBbnN3ZXJzIiwiZ2V0QXNzZXNzbWVudHNGcmVlUmVzcG9uc2VSZXN1bHRzIiwicXVlc3Rpb25zQW5kUmVzdWx0cyIsInF1ZXN0aW9uVGV4dCIsImN1cnJlbnRTdHVkZW50c0lkcyIsImN1cnJlbnRTdHVkZW50SGFzUmVzcG9uc2VzIiwicmVzdWx0IiwiZ2V0U3VydmV5RnJlZVJlc3BvbnNlUXVlc3Rpb25zIiwiY3VycmVudFN1cnZleSIsInJlc3VsdHMiLCJnZXRNdWx0aXBsZUNob2ljZVN1cnZleVJlc3VsdHMiLCJ0b3RhbEFuc3dlcmVkIiwiYW5zd2VyVG90YWxzIiwibm90QW5zd2VyZWQiLCJhbnN3ZXJJbmRleCIsImFuc3dlcl9pbmRleCIsIm11bHRpcGxlQ2hvaWNlT3B0aW9uIiwicGVyY2VudEFuc3dlcmVkIiwiTWF0aCIsImZsb29yIiwic3VydmV5c1N0cnVjdHVyZSIsImluY2x1ZGVzIiwiZ2V0U3R1ZGVudHNNQ2FuZE1hdGNoU3VtbWFyeUZvckN1cnJlbnRBc3Nlc3NtZW50IiwiYWxsU3R1ZGVudHNCeUlkcyIsInNlbGVjdGVkU3R1ZGVudHMiLCJzdHVkZW50Iiwic3R1ZGVudHNPYmplY3QiLCJzdHVkZW50c0Fzc2Vzc21lbnQiLCJpc1N1Ym1pdHRlZCIsImluUHJvZ3Jlc3MiLCJzdWJtaXNzaW9uVGltZVN0YW1wIiwidGltZXN0YW1wIiwic3VibWl0dGVkIiwibnVtTXVsdGlwbGVDaG9pY2VDb3JyZWN0IiwibXVsdGlfY29ycmVjdCIsIm51bU11bHRpcGxlQ2hvaWNlIiwibXVsdGlfY291bnQiLCJudW1NYXRjaENvcnJlY3QiLCJtYXRjaF9jb3JyZWN0IiwibnVtTWF0Y2giLCJtYXRjaF9jb3VudCIsInVybCIsImdldEV4cG9ydGFibGVTdXJ2ZXlEYXRhIiwiZ2V0RXhwb3J0YWJsZVN1Ym1pc3Npb25TdGF0dXNEYXRhIiwic3VtbWFyeVN0dWRlbnRTdGF0dXMiLCJzdHVkZW50TmFtZSIsInN1Ym1pc3Npb25UaW1lc3RhbXAiLCJnZXRNdWx0aXBsZUNob2ljZVNlY3Rpb25TdW1tYXJ5IiwibnVtQW5zd2VyZWQiLCJnZXRNYXRjaFNlY3Rpb25TdW1tYXJ5IiwiaW5kZXhPIiwiaW5kZXhBIiwiY291bnRTdWJtaXNzaW9uc0ZvckN1cnJlbnRBc3Nlc3NtZW50IiwidG90YWxTdWJtaXNzaW9ucyIsInZhbHVlcyIsImdldEV4cG9ydGFibGVEYXRhIiwiZ2V0RXhwb3J0YWJsZUFzc2Vzc21lbnREYXRhIiwicXVlc3Rpb25SZXN1bHRzIiwicm93QmFzZSIsImxlc3NvbiIsImxlc3Nvbl9uYW1lIiwiX2xvb3AiLCJudW1iZXJBbnN3ZXJlZCIsImoiLCJnZXRFeHBvcnRhYmxlRmVlZGJhY2tEYXRhIiwiZmVlZGJhY2tGb3JDdXJyZW50U2NyaXB0IiwiZmVlZGJhY2tJZCIsImlzQ3VycmVudFNjcmlwdENTRCIsImhhc093blByb3BlcnR5IiwiYW5zd2VyQXJyIiwiX3JlZiIsImpvaW4iLCJhIiwiYXNzZXNzbWVudFN0cnVjdHVyZSIsImFzc2Vzc21lbnQiLCJzdXJ2ZXlJZCIsInBheWxvYWQiLCJzZWN0aW9uX2lkIiwic2NyaXB0X2lkIiwiJCIsImFqYXgiLCJjb250ZW50VHlwZSIsImRhdGEiLCJtb2R1bGUiXSwic291cmNlUm9vdCI6IiJ9