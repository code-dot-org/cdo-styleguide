"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[6447],{"./src/redux.js":(module,exports,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStore=function getStore(){reduxStore||(reduxStore=createStoreWithReducers(),_experiments.default.isEnabled("reduxGlobalStore")&&(window.reduxStore=reduxStore));return reduxStore},exports.hasReducer=function hasReducer(key){return!!globalReducers[key]},exports.registerReducers=function registerReducers(reducers){for(var key in reducers){var existingReducer=globalReducers[key];if(existingReducer&&existingReducer!==reducers[key])throw new Error('reducer with key "'.concat(key,'" already registered!'))}Object.assign(globalReducers,reducers),reduxStore&&reduxStore.replaceReducer(redux.combineReducers(globalReducers))};var reduxStore,_toolkit=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),redux=(_interopRequireDefault(__webpack_require__("./node_modules/immutable/dist/immutable.js")),function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./node_modules/redux/es/redux.js"))),_reduxThunk=_interopRequireDefault(__webpack_require__("./node_modules/redux-thunk/lib/index.js")),_experiments=_interopRequireDefault(__webpack_require__("./src/util/experiments.js"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var globalReducers={};function createStoreWithReducers(){return function createStore(reducer,initialState){_experiments.default.isEnabled(_experiments.default.REDUX_LOGGING);0;return(0,_toolkit.configureStore)({reducer,preloadedState:initialState,middleware:[_reduxThunk.default],devTools:!1})}(Object.keys(globalReducers).length>0?globalReducers:function(s){return s})}module.exports.createStoreWithReducers=createStoreWithReducers},"./src/schoolInfo/SchoolInfoConfirmationDialog.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.styles=exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireWildcard(__webpack_require__("./node_modules/react/index.js")),_fontConstants=_interopRequireDefault(__webpack_require__("./src/fontConstants.js")),_Button=_interopRequireDefault(__webpack_require__("./src/legacySharedComponents/Button.jsx")),_Dialog=_interopRequireWildcard(__webpack_require__("./src/legacySharedComponents/Dialog.jsx")),_AnalyticsConstants=__webpack_require__("./src/metrics/AnalyticsConstants.js"),_AnalyticsReporter=_interopRequireDefault(__webpack_require__("./src/metrics/AnalyticsReporter.js")),_color=_interopRequireDefault(__webpack_require__("./src/util/color.js")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_redux=__webpack_require__("./src/redux.js"),_SchoolInfoInterstitial=_interopRequireDefault(__webpack_require__("./src/schoolInfo/SchoolInfoInterstitial.jsx"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var styles=exports.styles={button:{marginTop:20,marginLeft:"50%"},buttonRTL:{marginTop:20,marginRight:"50%"},updateButton:{marginTop:20,marginLeft:5},updateButtonRTL:{marginTop:20,marginRight:5},intro:_objectSpread(_objectSpread({fontSize:18},_fontConstants.default["main-font-semi-bold"]),{},{color:_color.default.charcoal,paddingRight:20}),schoolName:{color:_color.default.purple,fontStyle:"italic"},body:{margin:10}},SchoolInfoConfirmationDialog=function(_Component){function SchoolInfoConfirmationDialog(props){var _this;return _defineProperty(_this=_Component.call(this,props)||this,"closeModal",(function(){_AnalyticsReporter.default.sendEvent(_AnalyticsConstants.EVENTS.UPDATE_SCHOOL_INFO_DIALOG_CLOSED,{},_AnalyticsConstants.PLATFORMS.BOTH),_this.setState({isOpen:!1}),_this.props.onClose()})),_defineProperty(_this,"handleClickYes",(function(){_AnalyticsReporter.default.sendEvent(_AnalyticsConstants.EVENTS.CONFIRM_SCHOOL_CLICKED,{},_AnalyticsConstants.PLATFORMS.BOTH);var _this$props$scriptDat=_this.props.scriptData,authTokenName=_this$props$scriptDat.authTokenName,authTokenValue=_this$props$scriptDat.authTokenValue,formData=new FormData;formData.append(authTokenName,authTokenValue),fetch("/api/v1/user_school_infos/".concat(_this.props.scriptData.existingSchoolInfo.user_school_info_id,"/update_last_confirmation_date"),{method:"PATCH",body:formData}).then(_this.closeModal).catch((function(error){_this.setState({error})}))})),_defineProperty(_this,"handleClickUpdate",(function(){_AnalyticsReporter.default.sendEvent(_AnalyticsConstants.EVENTS.UPDATE_SCHOOL_CLICKED,{},_AnalyticsConstants.PLATFORMS.BOTH),_this.setState({showSchoolInterstitial:!0})})),_defineProperty(_this,"renderInitialContent",(function(){var _getStore$getState;_AnalyticsReporter.default.sendEvent(_AnalyticsConstants.EVENTS.UPDATE_SCHOOL_INFO_DIALOG_SHOWN,{},_AnalyticsConstants.PLATFORMS.BOTH);var schoolName=_this.state.schoolName,isRTL=null===(_getStore$getState=(0,_redux.getStore)().getState())||void 0===_getStore$getState?void 0:_getStore$getState.isRtl;return _react.default.createElement(_Dialog.Body,null,_react.default.createElement("div",{style:styles.body},_react.default.createElement("p",{style:styles.intro},_locale.default.schoolInfoDialogDescription(),_react.default.createElement("span",{style:styles.schoolName},_locale.default.schoolInfoDialogDescriptionSchoolName({schoolName})))),_react.default.createElement(_Button.default,{style:isRTL?styles.updateButtonRTL:styles.updateButton,text:_locale.default.schoolInfoDialogUpdate(),color:_Button.default.ButtonColor.blue,onClick:_this.handleClickUpdate,id:"update-button"}),_react.default.createElement(_Button.default,{style:isRTL?styles.buttonRTL:styles.button,text:_locale.default.yes(),color:_Button.default.ButtonColor.brandSecondaryDefault,onClick:_this.handleClickYes,id:"yes-button"}))})),_this.state={showSchoolInterstitial:!1,schoolName:props.scriptData.existingSchoolInfo.school_name,isOpen:props.isOpen||!0},_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(SchoolInfoConfirmationDialog,_Component);var _proto=SchoolInfoConfirmationDialog.prototype;return _proto.renderSchoolInformationForm=function renderSchoolInformationForm(){return _react.default.createElement(_Dialog.Body,null,_react.default.createElement(_SchoolInfoInterstitial.default,{scriptData:this.props.scriptData,onClose:this.closeModal}))},_proto.render=function render(){var _this$state=this.state,showSchoolInterstitial=_this$state.showSchoolInterstitial,isOpen=_this$state.isOpen;return _react.default.createElement(_Dialog.default,{isOpen,handleClose:this.closeModal},showSchoolInterstitial?this.renderSchoolInformationForm():this.renderInitialContent())},SchoolInfoConfirmationDialog}(_react.Component);_defineProperty(SchoolInfoConfirmationDialog,"propTypes",{schoolName:_propTypes.default.string,scriptData:_propTypes.default.shape({formUrl:_propTypes.default.string.isRequired,authTokenName:_propTypes.default.string.isRequired,authTokenValue:_propTypes.default.string.isRequired,existingSchoolInfo:_propTypes.default.shape({id:_propTypes.default.number,user_school_info_id:_propTypes.default.number,school_id:_propTypes.default.string,country:_propTypes.default.string,school_type:_propTypes.default.string,school_name:_propTypes.default.string,full_address:_propTypes.default.string,school_zip:_propTypes.default.string}).isRequired}).isRequired,onClose:_propTypes.default.func,isOpen:_propTypes.default.bool});exports.default=SchoolInfoConfirmationDialog},"./node_modules/redux-thunk/lib/index.js":(__unused_webpack_module,exports)=>{function createThunkMiddleware(extraArgument){return function(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(action){return"function"==typeof action?action(dispatch,getState,extraArgument):next(action)}}}}exports.__esModule=!0;var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware,exports.default=thunk},"./src/schoolInfo/SchoolInfoConfirmationDialog.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.DisplaySchoolInfoConfirmationDialog=void 0;var _addonActions=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js"),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_SchoolInfoConfirmationDialog=_interopRequireDefault(__webpack_require__("./src/schoolInfo/SchoolInfoConfirmationDialog.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={component:_SchoolInfoConfirmationDialog.default};(exports.DisplaySchoolInfoConfirmationDialog=function Template(args){return _react.default.createElement(_SchoolInfoConfirmationDialog.default,args)}.bind({})).args={scriptData:{formUrl:"",authTokenName:"auth_token",authTokenValue:"fake_auth_token",existingSchoolInfo:{}},onClose:(0,_addonActions.action)("onClose callback"),isOpen:!0}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Nob29sSW5mby1TY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nLXN0b3J5Ljg2NDYxYjYyLmlmcmFtZS5idW5kbGUuanMiLCJtYXBwaW5ncyI6InFkQTBFTyxTQUFTQSxXQUNUQyxhQUNIQSxXQUFhQywwQkFDVEMsYUFBQUEsUUFBWUMsVUFBVSxzQkFFeEJDLE9BQU9KLFdBQWFBLGFBSXhCLE9BQU9BLFVBQ1QsRSxtQkFtQ08sU0FBU0ssV0FBV0MsS0FDekIsUUFBU0MsZUFBZUQsSUFDMUIsRSx5QkFsQk8sU0FBU0UsaUJBQWlCQyxVQUMvQixJQUFLLElBQUlILE9BQU9HLFNBQVUsQ0FDeEIsSUFBTUMsZ0JBQWtCSCxlQUFlRCxLQUN2QyxHQUFJSSxpQkFBbUJBLGtCQUFvQkQsU0FBU0gsS0FDbEQsTUFBTSxJQUFJSyxNQUFNLHFCQUFEQyxPQUFzQk4sSUFBRyx5QkFFNUMsQ0FDQU8sT0FBT0MsT0FBT1AsZUFBZ0JFLFVBQzFCVCxZQUNGQSxXQUFXZSxlQUFlQyxNQUFNQyxnQkFBZ0JWLGdCQUVwRCxFQXZGQSxJQVdJUCxXQVhKa0IsU0FBQUMsb0JBQUEsNkRBRUFILE9BREFJLHVCQUFBRCxvQkFBQSwrQ0FJNkMsU0FBQUUsd0JBQUFDLEVBQUFDLEdBQUEsSUFBQUEsR0FBQUQsR0FBQUEsRUFBQUUsV0FBQSxPQUFBRixFQUFBLFVBQUFBLEdBQUEsVUFBQUcsUUFBQUgsSUFBQSxtQkFBQUEsRUFBQSxlQUFBQSxHQUFBLElBQUFJLEVBQUFDLHlCQUFBSixHQUFBLEdBQUFHLEdBQUFBLEVBQUFFLElBQUFOLEdBQUEsT0FBQUksRUFBQUcsSUFBQVAsR0FBQSxJQUFBUSxFQUFBLENBQUFDLFVBQUEsTUFBQUMsRUFBQW5CLE9BQUFvQixnQkFBQXBCLE9BQUFxQix5QkFBQSxRQUFBQyxLQUFBYixFQUFBLGVBQUFhLEdBQUEsR0FBQUMsZUFBQUMsS0FBQWYsRUFBQWEsR0FBQSxLQUFBRyxFQUFBTixFQUFBbkIsT0FBQXFCLHlCQUFBWixFQUFBYSxHQUFBLEtBQUFHLElB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Sy9DLFNBQ3BCLE9BQU8sU0FBVWlELE1BQ2YsT0FBTyxTQUFVQyxRQUNmLE1BQXNCLG1CQUFYQSxPQUNGQSxPQUFPRixTQUFVaEQsU0FBVThDLGVBRzdCRyxLQUFLQyxPQUNkLENBQ0YsQ0FDRixDQUNGLENBZkFqSixRQUFRbEMsWUFBYSxFQWlCckIsSUFBSW9MLE1BQVFOLHdCQUNaTSxNQUFNQyxrQkFBb0JQLHNCQUUxQjVJLFFBQUEsUUFBcUJrSixLLDhPQ3RCckIsSUFBQUUsY0FBQTNMLG9CQUFBLHlEQUNBeUMsT0FBQXhDLHVCQUFBRCxvQkFBQSxrQ0FFQTRMLDhCQUFBM0wsdUJBQUFELG9CQUFBLHNEQUEwRSxTQUFBQyx1QkFBQXVCLEtBQUEsT0FBQUEsS0FBQUEsSUFBQW5CLFdBQUFtQixJQUFBLFNBQUFBLElBQUEsQ0FBQWUsUUFBQUEsUUFFM0QsQ0FDYnNKLFVBQVd6Riw4QkFBQUEsVUFhbUM3RCxRQUFBQSxvQ0FOL0IsU0FBWHVKLFNBQVdDLE1BQUksT0FBSXRKLE9BQUEsUUFBQStGLGNBQUNvRCw4QkFBQSxRQUFpQ0csS0FBUSxFQU1QcEksS0FBSyxDQUFDLElBQzlCb0ksS0FBTyxDQUN6QzVFLFdBQVksQ0FDVnNELFFBQVMsR0FDVHJELGNBQWUsYUFDZkMsZUFBZ0Isa0JBQ2hCSyxtQkFBb0IsQ0FBQyxHQUV2QlYsU0FBUyxFQUFBd0UsY0FBQUEsUUFBTyxvQkFDaEJ6RSxRQUFRLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvcmVkdXguanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3NjaG9vbEluZm8vU2Nob29sSW5mb0NvbmZpcm1hdGlvbkRpYWxvZy5qc3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlZHV4LXRodW5rL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvc2Nob29sSW5mby9TY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nLnN0b3J5LmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19fX19fX19fX19fX19fX19fX19fX19cbiAqICAgICAgX19fX19fX19fX19fX19fX19fX19fX18tLS0tLS0tLS0tLS0tLS0tLS0tICAgICAgICAgICAgICAgICAgICAgICBgXFxcbiAqICAgIC86LS1fXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICB8fDwgPiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fX19fX19fX19fX19fX19fX19fX19fX18vXG4gKiAgIHwgXFxfXy9fX19fX19fX19fX19fX19fXy0tLS0tLS0tLS0tLS0tLS0tLS0gICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgfCAgICAgICAgICAgICAgICAgICBUSEUgTE9SRCBPRiBUSEUgUkVEVVggU1RPUkVTICAgICAgICAgICAgICAgICAgIHxcbiAqICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICB8ICAgICBcIlRocmVlIFN0b3JlcyBmb3IgdGhlIEVsdmVuLWtpbmdzIHVuZGVyIHRoZSBza3ksICAgICAgICAgICAgIHxcbiAqICAgICB8ICAgICAgIFNldmVuIGZvciB0aGUgRHdhcmYtbG9yZHMgaW4gdGhlaXIgaGFsbHMgb2Ygc3RvbmUsICAgICAgICAgfFxuICogICAgIHwgICAgIE5pbmUgZm9yIE1vcnRhbCBNZW4gZG9vbWVkIHRvIGRpZSwgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgfCAgICAgICBPbmUgZm9yIHRoZSBEYXJrIExvcmQgb24gaGlzIGRhcmsgdGhyb25lICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICB8ICAgICBJbiB0aGUgTGFuZCBvZiBNb3Jkb3Igd2hlcmUgdGhlIFNoYWRvd3MgbGllLiAgICAgICAgICAgICAgICAgIHxcbiAqICAgICAgfCAgICAgIE9uZSBTdG9yZSB0byBydWxlIHRoZW0gYWxsLCBPbmUgU3RvcmUgdG8gZmluZCB0aGVtLCAgICAgICAgIHxcbiAqICAgICAgfCAgICAgIE9uZSBTdG9yZSB0byBicmluZyB0aGVtIGFsbCBhbmQgaW4gdGhlIGRhcmtuZXNzIGJpbmQgdGhlbSAgIHxcbiAqICAgICAgfCAgICBJbiB0aGUgTGFuZCBvZiBNb3Jkb3Igd2hlcmUgdGhlIFNoYWRvd3MgbGllLiAgICAgICAgICAgICAgICAgfFxuICogICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19fX19fX19fX19fX19fX19fX198X1xuICogICAgIHwgIF9fX19fX19fX19fX19fX19fX18tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgICAgICAgICAgICAgICAgICAgIGBcXFxuICogICAgIHwvYC0tXyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgIHx8WyBdfHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fX19fX19fX19fX19fX19fX18vXG4gKiAgICAgIFxcPT09L19fX19fX19fX19fX19fX19fX18tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICpcbiAqXG4gKiBAZmlsZSBUaGUgZ2xvYmFsIHJlZHV4IHN0b3JlIC0gXCJUaGVyZSBjYW4gYmUgb25seSBvbmVcIlxuICovXG5cbmltcG9ydCB7Y29uZmlndXJlU3RvcmV9IGZyb20gJ0ByZWR1eGpzL3Rvb2xraXQnO1xuaW1wb3J0IEltbXV0YWJsZSBmcm9tICdpbW11dGFibGUnO1xuaW1wb3J0ICogYXMgcmVkdXggZnJvbSAncmVkdXgnO1xuaW1wb3J0IHJlZHV4VGh1bmsgZnJvbSAncmVkdXgtdGh1bmsnO1xuXG5pbXBvcnQgZXhwZXJpbWVudHMgZnJvbSAnLi91dGlsL2V4cGVyaW1lbnRzJztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIGNyZWF0ZUxvZ2dlciA9IHJlcXVpcmUoJ3JlZHV4LWxvZ2dlcicpO1xufVxuXG5sZXQgcmVkdXhTdG9yZTtcbmxldCBnbG9iYWxSZWR1Y2VycyA9IHt9O1xuXG5pZiAoSU5fVU5JVF9URVNUKSB7XG4gIGxldCBfX29sZFJlZHV4U3RvcmU7XG4gIGxldCBfX29sZEdsb2JhbFJlZHVjZXJzO1xuXG4gIG1vZHVsZS5leHBvcnRzLnN0dWJSZWR1eCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoX19vbGRSZWR1eFN0b3JlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdSZWR1eCBzdG9yZSBoYXMgYWxyZWFkeSBiZWVuIHN0dWJiZWQuIERpZCB5b3UgZm9yZ2V0IHRvIGNhbGwgcmVzdG9yZT8nXG4gICAgICApO1xuICAgIH1cbiAgICBfX29sZFJlZHV4U3RvcmUgPSByZWR1eFN0b3JlO1xuICAgIF9fb2xkR2xvYmFsUmVkdWNlcnMgPSBnbG9iYWxSZWR1Y2VycztcbiAgICByZWR1eFN0b3JlID0gbnVsbDtcbiAgICBnbG9iYWxSZWR1Y2VycyA9IHt9O1xuICB9O1xuXG4gIG1vZHVsZS5leHBvcnRzLnJlc3RvcmVSZWR1eCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZWR1eFN0b3JlID0gX19vbGRSZWR1eFN0b3JlO1xuICAgIGdsb2JhbFJlZHVjZXJzID0gX19vbGRHbG9iYWxSZWR1Y2VycztcbiAgICBfX29sZFJlZHV4U3RvcmUgPSBudWxsO1xuICAgIF9fb2xkR2xvYmFsUmVkdWNlcnMgPSBudWxsO1xuICB9O1xufVxuXG5pZiAoSU5fU1RPUllCT09LIHx8IElOX1VOSVRfVEVTVCkge1xuICAvLyBTdG9yeWJvb2tzIG5lZWQgdGhlIGFiaWxpdHkgdG8gY3JlYXRlIG11bHRpcGxlIGRpc3RpbmN0IHN0b3JlcyBpbnN0ZWFkIG9mXG4gIC8vIHVzaW5nIGEgc2luZ2xldG9uXG4gIG1vZHVsZS5leHBvcnRzLmNyZWF0ZVN0b3JlV2l0aFJlZHVjZXJzID0gY3JlYXRlU3RvcmVXaXRoUmVkdWNlcnM7XG59XG5cbi8qKlxuICogR2V0IGEgcmVmZXJlbmNlIHRvIG91ciByZWR1eCBzdG9yZS4gSWYgaXQgZG9lc24ndCBleGlzdCB5ZXQsIGNyZWF0ZSBpdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0b3JlKCkge1xuICBpZiAoIXJlZHV4U3RvcmUpIHtcbiAgICByZWR1eFN0b3JlID0gY3JlYXRlU3RvcmVXaXRoUmVkdWNlcnMoKTtcbiAgICBpZiAoZXhwZXJpbWVudHMuaXNFbmFibGVkKCdyZWR1eEdsb2JhbFN0b3JlJykpIHtcbiAgICAgIC8vIEV4cG9zZSBvdXIgc3RvcmUgZ2xvYmFsbHksIHRvIG1ha2UgZGVidWdnaW5nIGVhc2llclxuICAgICAgd2luZG93LnJlZHV4U3RvcmUgPSByZWR1eFN0b3JlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZWR1eFN0b3JlO1xufVxuXG4vKipcbiAqIENyZWF0ZSBvdXIgc3RvcmVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3RvcmVXaXRoUmVkdWNlcnMoKSB7XG4gIHJldHVybiBjcmVhdGVTdG9yZShcbiAgICBPYmplY3Qua2V5cyhnbG9iYWxSZWR1Y2VycykubGVuZ3RoID4gMCA/IGdsb2JhbFJlZHVjZXJzIDogcyA9PiBzXG4gICk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXIgbXVsdGlwbGUgdG9wLWxldmVsIHJlZHVjZXJzIHdpdGggdGhlIGdsb2JhbCBzdG9yZS4gVGhpcyBkb2VzIG5vdCByZW1vdmVcbiAqIGFueSByZWR1Y2VycyB0aGF0IGhhdmUgYmVlbiBwcmV2aW91c2x5IHJlZ2lzdGVyZWQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHJlZHVjZXJzIC0gYW4gb2JqZWN0IG1hcHBpbmcgdW5pcXVlIGtleXMgdG8gcmVkdWNlciBmdW5jdGlvbnNcbiAqICAgICBUaGUga2V5cyB3aWxsIGJlIHVzZWQgaW4gdGhlIHN0YXRlIG9iamVjdC5cbiAqIEByZXR1cm5zIHZvaWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyUmVkdWNlcnMocmVkdWNlcnMpIHtcbiAgZm9yIChsZXQga2V5IGluIHJlZHVjZXJzKSB7XG4gICAgY29uc3QgZXhpc3RpbmdSZWR1Y2VyID0gZ2xvYmFsUmVkdWNlcnNba2V5XTtcbiAgICBpZiAoZXhpc3RpbmdSZWR1Y2VyICYmIGV4aXN0aW5nUmVkdWNlciAhPT0gcmVkdWNlcnNba2V5XSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGByZWR1Y2VyIHdpdGgga2V5IFwiJHtrZXl9XCIgYWxyZWFkeSByZWdpc3RlcmVkIWApO1xuICAgIH1cbiAgfVxuICBPYmplY3QuYXNzaWduKGdsb2JhbFJlZHVjZXJzLCByZWR1Y2Vycyk7XG4gIGlmIChyZWR1eFN0b3JlKSB7XG4gICAgcmVkdXhTdG9yZS5yZXBsYWNlUmVkdWNlcihyZWR1eC5jb21iaW5lUmVkdWNlcnMoZ2xvYmFsUmVkdWNlcnMpKTtcbiAgfVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCBhIHJlZHVjZXIgd2l0aCB0aGUgZ2l2ZW4ga2V5IGhhcyBiZWVuIHJlZ2lzdGVyZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc1JlZHVjZXIoa2V5KSB7XG4gIHJldHVybiAhIWdsb2JhbFJlZHVjZXJzW2tleV07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0b3JlIGNvbmZpZ3VyZWQgZm9yIHVzZSB0aGUgd2F5IHdlIHdhbnQgZm9yIENvZGUub3JnLlxuICogQHNlZSBodHRwOi8vcmVkdXguanMub3JnL2RvY3MvYXBpL2NyZWF0ZVN0b3JlLmh0bWxcbiAqIEBwYXJhbSB7IWZ1bmN0aW9ufSByZWR1Y2VyXG4gKiBAcmV0dXJuIHtTdG9yZX0gQ29uZmlndXJlZCBSZWR1eCBzdG9yZSwgcmVhZHkgZm9yIHVzZS5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgaW5pdGlhbFN0YXRlKSB7XG4gIC8vIFlvdSBoYXZlIHRvIG1hbnVhbGx5IGVuYWJsZSBkZWJ1Z2dpbmcsIGJvdGggdG8ga2VlcCB0aGUgbG9nZ2VyIG91dFxuICAvLyBvZiBwcm9kdWN0aW9uIGJ1bmRsZXMsIGFuZCBiZWNhdXNlIGl0IGNhdXNlcyBhIGxvdCBvZiBjb25zb2xlIG5vaXNlIGFuZFxuICAvLyBtYWtlcyBvdXIgdW5pdCB0ZXN0cyBmYWlsLiBUbyBlbmFibGUsIGFwcGVuZCA/ZW5hYmxlRXhwZXJpbWVudHM9cmVkdXhMb2dnaW5nXG4gIC8vIHRvIHlvdXIgdXJsLiBUaGlzIHdpbGwgYWxzbyBlbmFibGUgbG9nZ2luZyBpZiB0aGVyZSBpcyBhIG5vbi1pbW11dGFibGUgb3Igbm9uLXNlcmlhbGl6YWJsZVxuICAvLyB2YWx1ZSBpbiB0aGUgcmVkdXggc3RvcmUsIHdpdGggc29tZSBpZ25vcmVzIGFscmVhZHkgc2V0IHVwIChzZWUgYmVsb3cpLlxuICB2YXIgZW5hYmxlUmVkdXhEZWJ1Z2dpbmcgPSBleHBlcmltZW50cy5pc0VuYWJsZWQoZXhwZXJpbWVudHMuUkVEVVhfTE9HR0lORyk7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGVuYWJsZVJlZHV4RGVidWdnaW5nKSB7XG4gICAgdmFyIHJlZHV4TG9nZ2VyID0gY3JlYXRlTG9nZ2VyKHtcbiAgICAgIGNvbGxhcHNlZDogdHJ1ZSxcbiAgICAgIC8vIGNvbnZlcnQgaW1tdXRhYmxlLmpzIG9iamVjdHMgdG8gSlMgZm9yIGxvZ2dpbmcgKGNvZGUgY29waWVkIGZyb21cbiAgICAgIC8vIHJlZHV4LWxvZ2dlciByZWFkbWUpXG4gICAgICBzdGF0ZVRyYW5zZm9ybWVyOiBzdGF0ZSA9PiB7XG4gICAgICAgIGxldCBuZXdTdGF0ZSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgb2YgT2JqZWN0LmtleXMoc3RhdGUpKSB7XG4gICAgICAgICAgaWYgKEltbXV0YWJsZS5JdGVyYWJsZS5pc0l0ZXJhYmxlKHN0YXRlW2ldKSkge1xuICAgICAgICAgICAgbmV3U3RhdGVbaV0gPSBzdGF0ZVtpXS50b0pTKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1N0YXRlW2ldID0gc3RhdGVbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHJldHVybiBjb25maWd1cmVTdG9yZSh7XG4gICAgICByZWR1Y2VyOiByZWR1Y2VyLFxuICAgICAgcHJlbG9hZGVkU3RhdGU6IGluaXRpYWxTdGF0ZSxcbiAgICAgIG1pZGRsZXdhcmU6IGdldERlZmF1bHRNaWRkbGV3YXJlID0+XG4gICAgICAgIC8vIHRoZSBkZWZhdWx0IG1pZGRsZXdhcmUgaW5jbHVkZXMgcmVkdXggdGh1bmssIGltbXV0YWJpbGl0eSBjaGVjayxcbiAgICAgICAgLy8gYW5kIHNlcmlhbGl6YWJpbGl0eSBjaGVjay4gU29tZSBvZiBvdXIgc3RvcmUgZG9lcyBub3QgcGFzcyB0aGVzZSBjaGVja3MsXG4gICAgICAgIC8vIHNvIHdlIGFyZSBpZ25vcmluZyB0aGVtIGZvciBub3cuIFdlIG9ubHkgZW5hYmxlIHRoaXMgaW4gZGV2IG1vZGVcbiAgICAgICAgLy8gYmVjYXVzZSBpdCBjYXVzZXMgY29uc29sZSBlcnJvcnMgaWYgc29tZXRoaW5nIGZhaWxzIHRoZSBjaGVjaywgYW5kXG4gICAgICAgIC8vIGNhbiBwb3RlbnRpYWxseSBjYXVzZSBhIHBhZ2UgY3Jhc2ggKGluIHRoZSBjYXNlIG9mIHRoZSBKUyBJbnRlcnByZXRlciBhbmQgdGhlXG4gICAgICAgIC8vIGltbXV0YWJpbGl0eSBjaGVjaykuXG4gICAgICAgIGdldERlZmF1bHRNaWRkbGV3YXJlKHtcbiAgICAgICAgICBpbW11dGFibGVDaGVjazoge1xuICAgICAgICAgICAgaWdub3JlZFBhdGhzOiBbJ2pzSW50ZXJwcmV0ZXInLCAnanNkZWJ1Z2dlciddLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2VyaWFsaXphYmxlQ2hlY2s6IHtcbiAgICAgICAgICAgIGlnbm9yZWRBY3Rpb25QYXRoczogW1xuICAgICAgICAgICAgICAnYmxvYicsXG4gICAgICAgICAgICAgICdqc2RlYnVnZ2VyJyxcbiAgICAgICAgICAgICAgJ29ic2VydmVyJyxcbiAgICAgICAgICAgICAgJ2pzSW50ZXJwcmV0ZXInLFxuICAgICAgICAgICAgICAncnVuQXBwJyxcbiAgICAgICAgICAgICAgJ3Byb3BzLnNob3dOZXh0SGludCcsXG4gICAgICAgICAgICAgICdwcm9wcy5hc3NldFVybCcsXG4gICAgICAgICAgICAgICdwcm9wcy5leHBvcnRBcHAnLFxuICAgICAgICAgICAgICAncGF5bG9hZC5nZXRDaGFuZ2VzJyxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBpZ25vcmVkUGF0aHM6IFtcbiAgICAgICAgICAgICAgJ2hpZGRlbkxlc3NvbicsXG4gICAgICAgICAgICAgICdibG9iJyxcbiAgICAgICAgICAgICAgJ3BhZ2VDb25zdGFudHMnLFxuICAgICAgICAgICAgICAnb2JzZXJ2ZXInLFxuICAgICAgICAgICAgICAnd2F0Y2hlZEV4cHJlc3Npb25zJyxcbiAgICAgICAgICAgICAgJ2luc3RydWN0aW9ucycsXG4gICAgICAgICAgICAgICdydW5BcHAnLFxuICAgICAgICAgICAgICAnanNkZWJ1Z2dlcicsXG4gICAgICAgICAgICAgIC9hbmltYXRpb25MaXN0XFwucHJvcHNCeUtleS4qXFwuYmxvYi8sXG4gICAgICAgICAgICAgICdtYWtlcicsXG4gICAgICAgICAgICAgICdkYXRhJyxcbiAgICAgICAgICAgICAgJ3NjcmVlbnMnLFxuICAgICAgICAgICAgICAnaGVhZGVyLmdldExldmVsQnVpbGRlckNoYW5nZXMnLFxuICAgICAgICAgICAgICAnZ2V0Q2hhbmdlcycsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLmNvbmNhdChyZWR1eExvZ2dlciksXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gY29uZmlndXJlU3RvcmUoe1xuICAgIHJlZHVjZXI6IHJlZHVjZXIsXG4gICAgcHJlbG9hZGVkU3RhdGU6IGluaXRpYWxTdGF0ZSxcbiAgICBtaWRkbGV3YXJlOiBbcmVkdXhUaHVua10sXG4gICAgZGV2VG9vbHM6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnLCAvLyBvbmx5IGVuYWJsZSBkZXZUb29scyBpbiBkZXZlbG9wbWVudFxuICB9KTtcbn1cbiIsImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IGZvbnRDb25zdGFudHMgZnJvbSAnQGNkby9hcHBzL2ZvbnRDb25zdGFudHMnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAY2RvL2FwcHMvbGVnYWN5U2hhcmVkQ29tcG9uZW50cy9CdXR0b24nO1xuaW1wb3J0IERpYWxvZywge0JvZHl9IGZyb20gJ0BjZG8vYXBwcy9sZWdhY3lTaGFyZWRDb21wb25lbnRzL0RpYWxvZyc7XG5pbXBvcnQge0VWRU5UUywgUExBVEZPUk1TfSBmcm9tICdAY2RvL2FwcHMvbWV0cmljcy9BbmFseXRpY3NDb25zdGFudHMnO1xuaW1wb3J0IGFuYWx5dGljc1JlcG9ydGVyIGZyb20gJ0BjZG8vYXBwcy9tZXRyaWNzL0FuYWx5dGljc1JlcG9ydGVyJztcbmltcG9ydCBjb2xvciBmcm9tICdAY2RvL2FwcHMvdXRpbC9jb2xvcic7XG5pbXBvcnQgaTE4biBmcm9tICdAY2RvL2xvY2FsZSc7XG5cbmltcG9ydCB7Z2V0U3RvcmV9IGZyb20gJy4uL3JlZHV4JztcblxuaW1wb3J0IFNjaG9vbEluZm9JbnRlcnN0aXRpYWwgZnJvbSAnLi9TY2hvb2xJbmZvSW50ZXJzdGl0aWFsJztcblxuZXhwb3J0IGNvbnN0IHN0eWxlcyA9IHtcbiAgYnV0dG9uOiB7XG4gICAgbWFyZ2luVG9wOiAyMCxcbiAgICBtYXJnaW5MZWZ0OiAnNTAlJyxcbiAgfSxcbiAgYnV0dG9uUlRMOiB7XG4gICAgbWFyZ2luVG9wOiAyMCxcbiAgICBtYXJnaW5SaWdodDogJzUwJScsXG4gIH0sXG4gIHVwZGF0ZUJ1dHRvbjoge1xuICAgIG1hcmdpblRvcDogMjAsXG4gICAgbWFyZ2luTGVmdDogNSxcbiAgfSxcbiAgdXBkYXRlQnV0dG9uUlRMOiB7XG4gICAgbWFyZ2luVG9wOiAyMCxcbiAgICBtYXJnaW5SaWdodDogNSxcbiAgfSxcbiAgaW50cm86IHtcbiAgICBmb250U2l6ZTogMTgsXG4gICAgLi4uZm9udENvbnN0YW50c1snbWFpbi1mb250LXNlbWktYm9sZCddLFxuICAgIGNvbG9yOiBjb2xvci5jaGFyY29hbCxcbiAgICBwYWRkaW5nUmlnaHQ6IDIwLFxuICB9LFxuICBzY2hvb2xOYW1lOiB7XG4gICAgY29sb3I6IGNvbG9yLnB1cnBsZSxcbiAgICBmb250U3R5bGU6ICdpdGFsaWMnLFxuICB9LFxuICBib2R5OiB7XG4gICAgbWFyZ2luOiAxMCxcbiAgfSxcbn07XG5cbmNsYXNzIFNjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2cgZXh0ZW5kcyBDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHNjaG9vbE5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc2NyaXB0RGF0YTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGZvcm1Vcmw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgIGF1dGhUb2tlbk5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgIGF1dGhUb2tlblZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICBleGlzdGluZ1NjaG9vbEluZm86IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgIGlkOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgICB1c2VyX3NjaG9vbF9pbmZvX2lkOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgICBzY2hvb2xfaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGNvdW50cnk6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIHNjaG9vbF90eXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBzY2hvb2xfbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgZnVsbF9hZGRyZXNzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBzY2hvb2xfemlwOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICB9KS5pc1JlcXVpcmVkLFxuICAgIG9uQ2xvc2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIGlzT3BlbjogUHJvcFR5cGVzLmJvb2wsXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNob3dTY2hvb2xJbnRlcnN0aXRpYWw6IGZhbHNlLFxuICAgICAgc2Nob29sTmFtZTogcHJvcHMuc2NyaXB0RGF0YS5leGlzdGluZ1NjaG9vbEluZm8uc2Nob29sX25hbWUsXG4gICAgICBpc09wZW46IHByb3BzLmlzT3BlbiB8fCB0cnVlLFxuICAgIH07XG4gIH1cblxuICBjbG9zZU1vZGFsID0gKCkgPT4ge1xuICAgIGFuYWx5dGljc1JlcG9ydGVyLnNlbmRFdmVudChcbiAgICAgIEVWRU5UUy5VUERBVEVfU0NIT09MX0lORk9fRElBTE9HX0NMT1NFRCxcbiAgICAgIHt9LFxuICAgICAgUExBVEZPUk1TLkJPVEhcbiAgICApO1xuICAgIHRoaXMuc2V0U3RhdGUoe2lzT3BlbjogZmFsc2V9KTtcbiAgICB0aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgfTtcblxuICBoYW5kbGVDbGlja1llcyA9ICgpID0+IHtcbiAgICBhbmFseXRpY3NSZXBvcnRlci5zZW5kRXZlbnQoXG4gICAgICBFVkVOVFMuQ09ORklSTV9TQ0hPT0xfQ0xJQ0tFRCxcbiAgICAgIHt9LFxuICAgICAgUExBVEZPUk1TLkJPVEhcbiAgICApO1xuICAgIGNvbnN0IHthdXRoVG9rZW5OYW1lLCBhdXRoVG9rZW5WYWx1ZX0gPSB0aGlzLnByb3BzLnNjcmlwdERhdGE7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoYXV0aFRva2VuTmFtZSwgYXV0aFRva2VuVmFsdWUpO1xuICAgIGZldGNoKFxuICAgICAgYC9hcGkvdjEvdXNlcl9zY2hvb2xfaW5mb3MvJHt0aGlzLnByb3BzLnNjcmlwdERhdGEuZXhpc3RpbmdTY2hvb2xJbmZvLnVzZXJfc2Nob29sX2luZm9faWR9L3VwZGF0ZV9sYXN0X2NvbmZpcm1hdGlvbl9kYXRlYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgIH1cbiAgICApXG4gICAgICAudGhlbih0aGlzLmNsb3NlTW9kYWwpXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtlcnJvcn0pO1xuICAgICAgfSk7XG4gIH07XG5cbiAgaGFuZGxlQ2xpY2tVcGRhdGUgPSAoKSA9PiB7XG4gICAgYW5hbHl0aWNzUmVwb3J0ZXIuc2VuZEV2ZW50KFxuICAgICAgRVZFTlRTLlVQREFURV9TQ0hPT0xfQ0xJQ0tFRCxcbiAgICAgIHt9LFxuICAgICAgUExBVEZPUk1TLkJPVEhcbiAgICApO1xuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dTY2hvb2xJbnRlcnN0aXRpYWw6IHRydWV9KTtcbiAgfTtcblxuICByZW5kZXJJbml0aWFsQ29udGVudCA9ICgpID0+IHtcbiAgICBhbmFseXRpY3NSZXBvcnRlci5zZW5kRXZlbnQoXG4gICAgICBFVkVOVFMuVVBEQVRFX1NDSE9PTF9JTkZPX0RJQUxPR19TSE9XTixcbiAgICAgIHt9LFxuICAgICAgUExBVEZPUk1TLkJPVEhcbiAgICApO1xuICAgIGNvbnN0IHtzY2hvb2xOYW1lfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgaXNSVEwgPSBnZXRTdG9yZSgpLmdldFN0YXRlKCk/LmlzUnRsO1xuICAgIHJldHVybiAoXG4gICAgICA8Qm9keT5cbiAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLmJvZHl9PlxuICAgICAgICAgIDxwIHN0eWxlPXtzdHlsZXMuaW50cm99PlxuICAgICAgICAgICAge2kxOG4uc2Nob29sSW5mb0RpYWxvZ0Rlc2NyaXB0aW9uKCl9XG4gICAgICAgICAgICA8c3BhbiBzdHlsZT17c3R5bGVzLnNjaG9vbE5hbWV9PlxuICAgICAgICAgICAgICB7aTE4bi5zY2hvb2xJbmZvRGlhbG9nRGVzY3JpcHRpb25TY2hvb2xOYW1lKHtzY2hvb2xOYW1lfSl9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHN0eWxlPXtpc1JUTCA/IHN0eWxlcy51cGRhdGVCdXR0b25SVEwgOiBzdHlsZXMudXBkYXRlQnV0dG9ufVxuICAgICAgICAgIHRleHQ9e2kxOG4uc2Nob29sSW5mb0RpYWxvZ1VwZGF0ZSgpfVxuICAgICAgICAgIGNvbG9yPXtCdXR0b24uQnV0dG9uQ29sb3IuYmx1ZX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrVXBkYXRlfVxuICAgICAgICAgIGlkPVwidXBkYXRlLWJ1dHRvblwiXG4gICAgICAgIC8+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBzdHlsZT17aXNSVEwgPyBzdHlsZXMuYnV0dG9uUlRMIDogc3R5bGVzLmJ1dHRvbn1cbiAgICAgICAgICB0ZXh0PXtpMThuLnllcygpfVxuICAgICAgICAgIGNvbG9yPXtCdXR0b24uQnV0dG9uQ29sb3IuYnJhbmRTZWNvbmRhcnlEZWZhdWx0fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2tZZXN9XG4gICAgICAgICAgaWQ9XCJ5ZXMtYnV0dG9uXCJcbiAgICAgICAgLz5cbiAgICAgIDwvQm9keT5cbiAgICApO1xuICB9O1xuXG4gIHJlbmRlclNjaG9vbEluZm9ybWF0aW9uRm9ybSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEJvZHk+XG4gICAgICAgIDxTY2hvb2xJbmZvSW50ZXJzdGl0aWFsXG4gICAgICAgICAgc2NyaXB0RGF0YT17dGhpcy5wcm9wcy5zY3JpcHREYXRhfVxuICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VNb2RhbH1cbiAgICAgICAgLz5cbiAgICAgIDwvQm9keT5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtzaG93U2Nob29sSW50ZXJzdGl0aWFsLCBpc09wZW59ID0gdGhpcy5zdGF0ZTtcbiAgICByZXR1cm4gKFxuICAgICAgPERpYWxvZyBpc09wZW49e2lzT3Blbn0gaGFuZGxlQ2xvc2U9e3RoaXMuY2xvc2VNb2RhbH0+XG4gICAgICAgIHshc2hvd1NjaG9vbEludGVyc3RpdGlhbFxuICAgICAgICAgID8gdGhpcy5yZW5kZXJJbml0aWFsQ29udGVudCgpXG4gICAgICAgICAgOiB0aGlzLnJlbmRlclNjaG9vbEluZm9ybWF0aW9uRm9ybSgpfVxuICAgICAgPC9EaWFsb2c+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZnVuY3Rpb24gY3JlYXRlVGh1bmtNaWRkbGV3YXJlKGV4dHJhQXJndW1lbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDtcbiAgICB2YXIgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gYWN0aW9uKGRpc3BhdGNoLCBnZXRTdGF0ZSwgZXh0cmFBcmd1bWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xufVxuXG52YXIgdGh1bmsgPSBjcmVhdGVUaHVua01pZGRsZXdhcmUoKTtcbnRodW5rLndpdGhFeHRyYUFyZ3VtZW50ID0gY3JlYXRlVGh1bmtNaWRkbGV3YXJlO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSB0aHVuazsiLCJpbXBvcnQge2FjdGlvbn0gZnJvbSAnQHN0b3J5Ym9vay9hZGRvbi1hY3Rpb25zJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBTY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nIGZyb20gJy4vU2Nob29sSW5mb0NvbmZpcm1hdGlvbkRpYWxvZyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29tcG9uZW50OiBTY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nLFxufTtcblxuLy9cbi8vIFRFTVBMQVRFXG4vL1xuXG5jb25zdCBUZW1wbGF0ZSA9IGFyZ3MgPT4gPFNjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2cgey4uLmFyZ3N9IC8+O1xuXG4vL1xuLy8gU1RPUklFU1xuLy9cblxuZXhwb3J0IGNvbnN0IERpc3BsYXlTY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nID0gVGVtcGxhdGUuYmluZCh7fSk7XG5EaXNwbGF5U2Nob29sSW5mb0NvbmZpcm1hdGlvbkRpYWxvZy5hcmdzID0ge1xuICBzY3JpcHREYXRhOiB7XG4gICAgZm9ybVVybDogJycsXG4gICAgYXV0aFRva2VuTmFtZTogJ2F1dGhfdG9rZW4nLFxuICAgIGF1dGhUb2tlblZhbHVlOiAnZmFrZV9hdXRoX3Rva2VuJyxcbiAgICBleGlzdGluZ1NjaG9vbEluZm86IHt9LFxuICB9LFxuICBvbkNsb3NlOiBhY3Rpb24oJ29uQ2xvc2UgY2FsbGJhY2snKSxcbiAgaXNPcGVuOiB0cnVlLFxufTtcbiJdLCJuYW1lcyI6WyJnZXRTdG9yZSIsInJlZHV4U3RvcmUiLCJjcmVhdGVTdG9yZVdpdGhSZWR1Y2VycyIsImV4cGVyaW1lbnRzIiwiaXNFbmFibGVkIiwid2luZG93IiwiaGFzUmVkdWNlciIsImtleSIsImdsb2JhbFJlZHVjZXJzIiwicmVnaXN0ZXJSZWR1Y2VycyIsInJlZHVjZXJzIiwiZXhpc3RpbmdSZWR1Y2VyIiwiRXJyb3IiLCJjb25jYXQiLCJPYmplY3QiLCJhc3NpZ24iLCJyZXBsYWNlUmVkdWNlciIsInJlZHV4IiwiY29tYmluZVJlZHVjZXJzIiwiX3Rvb2xraXQiLCJyZXF1aXJlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiZSIsInIiLCJfX2VzTW9kdWxlIiwiX3R5cGVvZiIsInQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJfcmVkdXhUaHVuayIsIl9leHBlcmltZW50cyIsIldlYWtNYXAiLCJvYmoiLCJjcmVhdGVTdG9yZSIsInJlZHVjZXIiLCJpbml0aWFsU3RhdGUiLCJSRURVWF9MT0dHSU5HIiwicHJvY2VzcyIsImNvbmZpZ3VyZVN0b3JlIiwicHJlbG9hZGVkU3RhdGUiLCJtaWRkbGV3YXJlIiwicmVkdXhUaHVuayIsImRldlRvb2xzIiwia2V5cyIsImxlbmd0aCIsInMiLCJtb2R1bGUiLCJleHBvcnRzIiwiX3Byb3BUeXBlcyIsIl9yZWFjdCIsIl9mb250Q29uc3RhbnRzIiwiX0J1dHRvbiIsIl9EaWFsb2ciLCJfQW5hbHl0aWNzQ29uc3RhbnRzIiwiX0FuYWx5dGljc1JlcG9ydGVyIiwiX2NvbG9yIiwiX2xvY2FsZSIsIl9yZWR1eCIsIl9TY2hvb2xJbmZvSW50ZXJzdGl0aWFsIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfc2V0UHJvdG90eXBlT2YiLCJwIiwic2V0UHJvdG90eXBlT2YiLCJiaW5kIiwib3duS2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImZpbHRlciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsIl90b1ByaW1pdGl2ZSIsInRvUHJpbWl0aXZlIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiTnVtYmVyIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJzdHlsZXMiLCJidXR0b24iLCJtYXJnaW5Ub3AiLCJtYXJnaW5MZWZ0IiwiYnV0dG9uUlRMIiwibWFyZ2luUmlnaHQiLCJ1cGRhdGVCdXR0b24iLCJ1cGRhdGVCdXR0b25SVEwiLCJpbnRybyIsImZvbnRTaXplIiwiZm9udENvbnN0YW50cyIsImNvbG9yIiwiY2hhcmNvYWwiLCJwYWRkaW5nUmlnaHQiLCJzY2hvb2xOYW1lIiwicHVycGxlIiwiZm9udFN0eWxlIiwiYm9keSIsIm1hcmdpbiIsIlNjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2ciLCJfQ29tcG9uZW50IiwicHJvcHMiLCJfdGhpcyIsImFuYWx5dGljc1JlcG9ydGVyIiwic2VuZEV2ZW50IiwiRVZFTlRTIiwiVVBEQVRFX1NDSE9PTF9JTkZPX0RJQUxPR19DTE9TRUQiLCJQTEFURk9STVMiLCJCT1RIIiwic2V0U3RhdGUiLCJpc09wZW4iLCJvbkNsb3NlIiwiQ09ORklSTV9TQ0hPT0xfQ0xJQ0tFRCIsIl90aGlzJHByb3BzJHNjcmlwdERhdCIsInNjcmlwdERhdGEiLCJhdXRoVG9rZW5OYW1lIiwiYXV0aFRva2VuVmFsdWUiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiZmV0Y2giLCJleGlzdGluZ1NjaG9vbEluZm8iLCJ1c2VyX3NjaG9vbF9pbmZvX2lkIiwibWV0aG9kIiwidGhlbiIsImNsb3NlTW9kYWwiLCJlcnJvciIsIlVQREFURV9TQ0hPT0xfQ0xJQ0tFRCIsInNob3dTY2hvb2xJbnRlcnN0aXRpYWwiLCJfZ2V0U3RvcmUkZ2V0U3RhdGUiLCJVUERBVEVfU0NIT09MX0lORk9fRElBTE9HX1NIT1dOIiwic3RhdGUiLCJpc1JUTCIsImdldFN0YXRlIiwiaXNSdGwiLCJjcmVhdGVFbGVtZW50IiwiQm9keSIsInN0eWxlIiwiaTE4biIsInNjaG9vbEluZm9EaWFsb2dEZXNjcmlwdGlvbiIsInNjaG9vbEluZm9EaWFsb2dEZXNjcmlwdGlvblNjaG9vbE5hbWUiLCJ0ZXh0Iiwic2Nob29sSW5mb0RpYWxvZ1VwZGF0ZSIsIkJ1dHRvbiIsIkJ1dHRvbkNvbG9yIiwiYmx1ZSIsIm9uQ2xpY2siLCJoYW5kbGVDbGlja1VwZGF0ZSIsImlkIiwieWVzIiwiYnJhbmRTZWNvbmRhcnlEZWZhdWx0IiwiaGFuZGxlQ2xpY2tZZXMiLCJzY2hvb2xfbmFtZSIsIl9pbmhlcml0c0xvb3NlIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiX3Byb3RvIiwicmVuZGVyU2Nob29sSW5mb3JtYXRpb25Gb3JtIiwidGhpcyIsInJlbmRlciIsIl90aGlzJHN0YXRlIiwiaGFuZGxlQ2xvc2UiLCJyZW5kZXJJbml0aWFsQ29udGVudCIsIkNvbXBvbmVudCIsIlByb3BUeXBlcyIsInN0cmluZyIsInNoYXBlIiwiZm9ybVVybCIsImlzUmVxdWlyZWQiLCJudW1iZXIiLCJzY2hvb2xfaWQiLCJjb3VudHJ5Iiwic2Nob29sX3R5cGUiLCJmdWxsX2FkZHJlc3MiLCJzY2hvb2xfemlwIiwiZnVuYyIsImJvb2wiLCJjcmVhdGVUaHVua01pZGRsZXdhcmUiLCJleHRyYUFyZ3VtZW50IiwiX3JlZiIsImRpc3BhdGNoIiwibmV4dCIsImFjdGlvbiIsInRodW5rIiwid2l0aEV4dHJhQXJndW1lbnQiLCJfYWRkb25BY3Rpb25zIiwiX1NjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2ciLCJjb21wb25lbnQiLCJUZW1wbGF0ZSIsImFyZ3MiXSwic291cmNlUm9vdCI6IiJ9