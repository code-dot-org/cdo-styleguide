"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[139],{"./src/lib/ui/accounts/ChangeUserTypeModal.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_BaseDialog=_interopRequireDefault(__webpack_require__("./src/templates/BaseDialog.jsx")),_color=_interopRequireDefault(__webpack_require__("./src/util/color.js")),_formatValidation=__webpack_require__("./src/util/formatValidation.js"),_SystemDialog=__webpack_require__("./src/lib/ui/SystemDialog/SystemDialog.jsx"),_ChangeUserTypeForm=_interopRequireDefault(__webpack_require__("./src/lib/ui/accounts/ChangeUserTypeForm.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ChangeUserTypeModal=exports.default=function(_React$Component){function ChangeUserTypeModal(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this,"state",{saveState:"initial",values:{email:"",emailOptIn:""},serverErrors:{email:void 0,emailOptIn:void 0}}),_defineProperty(_this,"save",(function(){if(_this.isFormValid(_this.getValidationErrors())){var values=_this.state.values;_this.setState({saveState:"saving"}),_this.props.handleSubmit(values).catch(_this.onSubmitFailure)}})),_defineProperty(_this,"cancel",(function(){return _this.props.handleCancel()})),_defineProperty(_this,"onSubmitFailure",(function(error){error&&Object.prototype.hasOwnProperty.call(error,"serverErrors")?_this.setState({saveState:"initial",serverErrors:error.serverErrors},(function(){return _this.changeUserTypeForm.focusOnAnError()})):_this.setState({saveState:"unknown-error"})})),_defineProperty(_this,"getEmailValidationError",(function(){var email=_this.state.values.email;return 0===email.trim().length?_locale.default.changeUserTypeModal_email_isRequired():(0,_formatValidation.isEmail)(email.trim())?null:_locale.default.changeUserTypeModal_email_invalid()})),_defineProperty(_this,"getEmailOptInValidationError",(function(){return 0===_this.state.values.emailOptIn.length?_locale.default.changeUserTypeModal_emailOptIn_isRequired():null})),_defineProperty(_this,"onFormChange",(function(newValues){var _this$state=_this.state,oldValues=_this$state.values,newServerErrors=function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},_this$state.serverErrors);["email","emailOptIn"].forEach((function(fieldName){newValues[fieldName]!==oldValues[fieldName]&&(newServerErrors[fieldName]=void 0)})),_this.setState({values:newValues,serverErrors:newServerErrors})})),_defineProperty(_this,"render",(function(){var _this$state2=_this.state,saveState=_this$state2.saveState,values=_this$state2.values,validationErrors=_this.getValidationErrors(),isFormValid=_this.isFormValid(validationErrors);return _react.default.createElement(_BaseDialog.default,{useUpdatedStyles:!0,isOpen:!0,handleClose:_this.cancel,uncloseable:"saving"===saveState},_react.default.createElement("div",{style:styles.container},_react.default.createElement(_SystemDialog.Header,{text:_locale.default.changeUserTypeModal_title()}),_react.default.createElement(_ChangeUserTypeForm.default,{ref:function ref(x){return _this.changeUserTypeForm=x},values,validationErrors,disabled:"saving"===saveState,onChange:_this.onFormChange,onSubmit:_this.save}),_react.default.createElement(_SystemDialog.ConfirmCancelFooter,{confirmText:_locale.default.changeUserTypeModal_save_teacher(),onConfirm:_this.save,onCancel:_this.cancel,disableConfirm:"saving"===saveState||!isFormValid,disableCancel:"saving"===saveState,tabIndex:"2"},"saving"===saveState&&_react.default.createElement("em",null,_locale.default.saving()),"unknown-error"===saveState&&_react.default.createElement("em",null,_locale.default.changeUserTypeModal_unexpectedError()))))})),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(ChangeUserTypeModal,_React$Component);var _proto=ChangeUserTypeModal.prototype;return _proto.isFormValid=function isFormValid(validationErrors){return Object.keys(validationErrors).every((function(key){return!validationErrors[key]}))},_proto.getValidationErrors=function getValidationErrors(){var serverErrors=this.state.serverErrors;return{email:serverErrors.email||this.getEmailValidationError(),emailOptIn:serverErrors.emailOptIn||this.getEmailOptInValidationError()}},ChangeUserTypeModal}(_react.default.Component);_defineProperty(ChangeUserTypeModal,"propTypes",{handleSubmit:_propTypes.default.func.isRequired,handleCancel:_propTypes.default.func.isRequired});var styles={container:{margin:20,color:_color.default.charcoal}};module.exports=exports.default},"./src/templates/BaseDialog.jsx":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_Button=_interopRequireDefault(__webpack_require__("./src/legacySharedComponents/Button.jsx")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_constants=__webpack_require__("./src/constants.js"),_color=_interopRequireDefault(__webpack_require__("./src/util/color.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var BaseDialog=exports.default=function(_React$Component){function BaseDialog(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this,"handleKeyDown",(function(event){"Escape"===event.key&&_this.closeDialog(),_this.props.handleKeyDown&&_this.props.handleKeyDown(event)})),_defineProperty(_this,"closeDialog",(function(){!_this.props.uncloseable&&_this.props.handleClose&&(_this.props.handleClose(),_this.props.soundPlayer&&_this.props.soundPlayer.stopAllAudio())})),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(BaseDialog,_React$Component);var _proto=BaseDialog.prototype;return _proto.componentDidMount=function componentDidMount(){this.focusDialog()},_proto.componentDidUpdate=function componentDidUpdate(){this.focusDialog()},_proto.getTabbableElements=function getTabbableElements(){return[].slice.call(this.refs.dialog.querySelectorAll("a,button,input"))},_proto.focusDialog=function focusDialog(){var descendantIsActive=document.activeElement&&this.refs.dialog&&this.refs.dialog.contains(document.activeElement);this.props.isOpen&&!descendantIsActive&&this.refs.dialog.focus()},_proto.render=function render(){if(!this.props.isOpen&&!this.props.hideBackdrop)return _react.default.createElement("div",null);var bodyStyle,modalBodyStyle,xCloseStyle;this.props.fullWidth&&(bodyStyle=_objectSpread(_objectSpread({},bodyStyle),{},{width:"90%",marginLeft:"-45%"})),this.props.fullHeight&&(bodyStyle=_objectSpread(_objectSpread({},bodyStyle),{},{height:"80%"}),modalBodyStyle=_objectSpread(_objectSpread({},modalBodyStyle),{},{boxSizing:"border-box"}));var wrapperClassNames="",modalClassNames="modal",modalBodyClassNames="modal-body",overflowX=this.props.overflow||"hidden",overflowY=this.props.overflow||(this.props.fixedHeight||this.props.fullHeight?"hidden":"auto");this.props.useUpdatedStyles?(wrapperClassNames="dashboard-styles",modalBodyClassNames="",modalBodyStyle={background:"#fff",height:this.props.fixedHeight,maxHeight:!this.props.fixedHeight&&"80vh",overflowX,overflowY,borderRadius:4},this.props.useFlexbox&&(modalBodyStyle=_objectSpread(_objectSpread({},modalBodyStyle),{},{display:"flex",flexDirection:"column"})),bodyStyle=_objectSpread(_objectSpread({},bodyStyle),{},{width:this.props.fixedWidth||_constants.BASE_DIALOG_WIDTH,marginLeft:-this.props.fixedWidth/2||-350})):this.props.noModalStyles&&(modalClassNames="",modalBodyClassNames=""),bodyStyle=_objectSpread(_objectSpread(_objectSpread({},bodyStyle),this.props.hideBackdrop&&{position:"initial",marginLeft:0}),this.props.style),xCloseStyle={position:"absolute",top:0,right:0,padding:0,color:_color.default.neutral_dark30,cursor:"pointer",fontSize:24,border:"none"},modalBodyClassNames=[modalBodyClassNames,this.props.bodyClassName].filter((function(className){return!!className})).join(" ");var body=_react.default.createElement("div",{style:bodyStyle,tabIndex:"-1",className:modalClassNames,ref:"dialog",onKeyDown:this.handleKeyDown},_react.default.createElement("div",{style:modalBodyStyle,id:this.props.bodyId,className:modalBodyClassNames},!this.props.uncloseable&&!this.props.hideCloseButton&&_react.default.createElement(_Button.default,{id:"x-close",onClick:this.closeDialog,icon:"fa-solid fa-xmark",style:xCloseStyle,color:"white","aria-label":_locale.default.closeDialog()}),this.props.children));return this.props.hideBackdrop?body:_react.default.createElement("div",{className:wrapperClassNames},_react.default.createElement("div",{className:"modal-backdrop",style:this.props.backdropStyle,onClick:this.closeDialog}),body)},BaseDialog}(_react.default.Component);_defineProperty(BaseDialog,"propTypes",{isOpen:_propTypes.default.bool,handleClose:_propTypes.default.func,uncloseable:_propTypes.default.bool,hideCloseButton:_propTypes.default.bool,handleKeyDown:_propTypes.default.func,hideBackdrop:_propTypes.default.bool,fullWidth:_propTypes.default.bool,fullHeight:_propTypes.default.bool,useUpdatedStyles:_propTypes.default.bool,noModalStyles:_propTypes.default.bool,children:_propTypes.default.node,fixedWidth:_propTypes.default.number,fixedHeight:_propTypes.default.number,useFlexbox:_propTypes.default.bool,bodyId:_propTypes.default.string,bodyClassName:_propTypes.default.string,style:_propTypes.default.object,soundPlayer:_propTypes.default.object,overflow:_propTypes.default.string,backdropStyle:_propTypes.default.object}),module.exports=exports.default},"./src/util/formatValidation.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.isZipCode=exports.isPercent=exports.isInt=exports.isEmail=void 0;var EMAIL_REGEX=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ZIP_CODE_REGEX=(exports.isEmail=function isEmail(value){return EMAIL_REGEX.test(value)},/^\d{5}([\W-]?\d{4})?$/);exports.isZipCode=function isZipCode(value){return ZIP_CODE_REGEX.test(value)},exports.isInt=function isInt(value){var newValue=value.replace(/,/g,"");return parseInt(newValue,10).toString()===newValue},exports.isPercent=function isPercent(value){var percent=parseFloat(value);return 0<=percent&&percent<=100}},"./src/lib/ui/accounts/ChangeUserTypeModal.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.StudentBecomingTeacher=void 0;var _addonActions=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js"),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_ChangeUserTypeModal=_interopRequireDefault(__webpack_require__("./src/lib/ui/accounts/ChangeUserTypeModal.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var DEFAULT_PROPS={handleSubmit:(0,_addonActions.action)("handleSubmit callback"),handleCancel:(0,_addonActions.action)("handleCancel callback")},container=(exports.default={component:_ChangeUserTypeModal.default},{margin:"auto",width:"50%",padding:"10px"});exports.StudentBecomingTeacher=function Template(args){return _react.default.createElement("div",{style:container},_react.default.createElement(_ChangeUserTypeModal.default,_extends({},DEFAULT_PROPS,args)))}.bind({})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliLXVpLWFjY291bnRzLUNoYW5nZVVzZXJUeXBlTW9kYWwtc3RvcnkuMmU4ZTUyNDAuaWZyYW1lLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiaVFBQUEsSUFBQUEsV0FBQUMsdUJBQUFDLG9CQUFBLHVDQUNBQyxPQUFBRix1QkFBQUMsb0JBQUEsa0NBRUFFLFFBQUFILHVCQUFBQyxvQkFBQSx1Q0FFQUcsWUFBQUosdUJBQUFDLG9CQUFBLG1DQUNBSSxPQUFBTCx1QkFBQUMsb0JBQUEsd0JBQ0FLLGtCQUFBTCxvQkFBQSxrQ0FDQU0sY0FBQU4sb0JBQUEsOENBRUFPLG9CQUFBUix1QkFBQUMsb0JBQUEsaURBQXNELFNBQUFELHVCQUFBUyxLQUFBLE9BQUFBLEtBQUFBLElBQUFDLFdBQUFELElBQUEsU0FBQUEsSUFBQSxVQUFBRSxRQUFBQyxHQUFBLE9BQUFELFFBQUEsbUJBQUFFLFFBQUEsaUJBQUFBLE9BQUFDLFNBQUEsU0FBQUYsR0FBQSxjQUFBQSxDQUFBLFdBQUFBLEdBQUEsT0FBQUEsR0FBQSxtQkFBQUMsUUFBQUQsRUFBQUcsY0FBQUYsUUFBQUQsSUFBQUMsT0FBQUcsVUFBQSxnQkFBQUosQ0FBQSxFQUFBRCxRQUFBQyxFQUFBLFVBQUFLLFFBQUFDLEVBQUFDLEdBQUEsSUFBQUMsRUFBQUMsT0FBQUMsS0FBQUosR0FBQSxHQUFBRyxPQUFBRSxzQkFBQSxLQUFBWCxFQUFBUyxPQUFBRSxzQkFBQUwsR0FBQUMsSUFBQVAsRUFBQUEsRUFBQVksUUFBQSxTQUFBTCxHQUFBLE9BQUFFLE9BQUFJLHlCQUFBUCxFQUFBQyxHQUFBTyxVQUFBLEtBQUFOLEVBQUFPLEtBQUFDLE1BQUFSLEVBQUFSLEVBQUEsUUFBQVEsQ0FBQSxVQUFBUyxnQkFBQWpCLEVBQUFrQixHQUFBLE9BQUFELGdCQUFBUixPQUFBVSxlQUFBVixPQUFBVSxlQUFBQyxPQUFBLFNBQUFILGdCQUFBakIsRUFBQWtCLEdBQUEsT0FBQWxCLEVBQUFxQixVQUFBSCxFQUFBbEIsQ0FBQSxFQUFBaUIsZ0JB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NEwsU0FBV0EsU0FBVyxHQUNwQyxDLDZOQ25CQSxJQUFBRSxjQUFBak8sb0JBQUEseURBQ0FDLE9BQUFGLHVCQUFBQyxvQkFBQSxrQ0FFQWtPLHFCQUFBbk8sdUJBQUFDLG9CQUFBLGtEQUF3RCxTQUFBRCx1QkFBQVMsS0FBQSxPQUFBQSxLQUFBQSxJQUFBQyxXQUFBRCxJQUFBLFNBQUFBLElBQUEsVUFBQTJOLFdBQUEsT0FBQUEsU0FBQS9NLE9BQUFnTixPQUFBaE4sT0FBQWdOLE9BQUFyTSxPQUFBLFNBQUFzTSxRQUFBLFFBQUFoTSxFQUFBLEVBQUFBLEVBQUFlLFVBQUFDLE9BQUFoQixJQUFBLEtBQUFpTSxPQUFBbEwsVUFBQWYsR0FBQSxRQUFBSCxPQUFBb00sT0FBQWxOLE9BQUFMLFVBQUEwRCxlQUFBakMsS0FBQThMLE9BQUFwTSxPQUFBbU0sT0FBQW5NLEtBQUFvTSxPQUFBcE0sS0FBQSxRQUFBbU0sTUFBQSxFQUFBRixTQUFBeE0sTUFBQSxLQUFBeUIsVUFBQSxDQUV4RCxJQUFNbUwsY0FBZ0IsQ0FDcEJsSyxjQUFjLEVBQUFtSyxjQUFBQSxRQUFPLHlCQUNyQmpLLGNBQWMsRUFBQWlLLGNBQUFBLFFBQU8sMEJBT2pCbkksV0FOSnJELFFBQUFBLFFBRWEsQ0FDYnlMLFVBQVcxTCxxQkFBQUEsU0FHSyxDQUNoQnlGLE9BQVEsT0FDUitCLE1BQU8sTUFDUHdCLFFBQVMsU0FTd0IvSSxRQUFBQSx1QkFObEIsU0FBWDBMLFNBQVdwTCxNQUFJLE9BQ25CckQsT0FBQSxRQUFBNEYsY0FBQSxPQUFLTSxNQUFPRSxXQUNWcEcsT0FBQSxRQUFBNEYsY0FBQ3FJLHFCQUFBLFFBQW1CQyxTQUFBLEdBQUtJLGNBQW1CakwsT0FDeEMsRUFHdUN2QixLQUFLLENBQUMsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9saWIvdWkvYWNjb3VudHMvQ2hhbmdlVXNlclR5cGVNb2RhbC5qc3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL3RlbXBsYXRlcy9CYXNlRGlhbG9nLmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvdXRpbC9mb3JtYXRWYWxpZGF0aW9uLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9saWIvdWkvYWNjb3VudHMvQ2hhbmdlVXNlclR5cGVNb2RhbC5zdG9yeS5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBpMThuIGZyb20gJ0BjZG8vbG9jYWxlJztcblxuaW1wb3J0IEJhc2VEaWFsb2cgZnJvbSAnLi4vLi4vLi4vdGVtcGxhdGVzL0Jhc2VEaWFsb2cnO1xuaW1wb3J0IGNvbG9yIGZyb20gJy4uLy4uLy4uL3V0aWwvY29sb3InO1xuaW1wb3J0IHtpc0VtYWlsfSBmcm9tICcuLi8uLi8uLi91dGlsL2Zvcm1hdFZhbGlkYXRpb24nO1xuaW1wb3J0IHtIZWFkZXIsIENvbmZpcm1DYW5jZWxGb290ZXJ9IGZyb20gJy4uL1N5c3RlbURpYWxvZy9TeXN0ZW1EaWFsb2cnO1xuXG5pbXBvcnQgQ2hhbmdlVXNlclR5cGVGb3JtIGZyb20gJy4vQ2hhbmdlVXNlclR5cGVGb3JtJztcblxuY29uc3QgU1RBVEVfSU5JVElBTCA9ICdpbml0aWFsJztcbmNvbnN0IFNUQVRFX1NBVklORyA9ICdzYXZpbmcnO1xuY29uc3QgU1RBVEVfVU5LTk9XTl9FUlJPUiA9ICd1bmtub3duLWVycm9yJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhbmdlVXNlclR5cGVNb2RhbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge2Z1bmN0aW9uKHtlbWFpbDogc3RyaW5nLCBlbWFpbE9wdEluOiBzdHJpbmd9KTpQcm9taXNlfVxuICAgICAqL1xuICAgIGhhbmRsZVN1Ym1pdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb24oKX1cbiAgICAgKi9cbiAgICBoYW5kbGVDYW5jZWw6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIH07XG5cbiAgc3RhdGUgPSB7XG4gICAgc2F2ZVN0YXRlOiBTVEFURV9JTklUSUFMLFxuICAgIHZhbHVlczoge1xuICAgICAgZW1haWw6ICcnLFxuICAgICAgZW1haWxPcHRJbjogJycsXG4gICAgfSxcbiAgICBzZXJ2ZXJFcnJvcnM6IHtcbiAgICAgIGVtYWlsOiB1bmRlZmluZWQsXG4gICAgICBlbWFpbE9wdEluOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgfTtcblxuICBzYXZlID0gKCkgPT4ge1xuICAgIC8vIE5vLW9wIGlmIHdlIGtub3cgdGhlIGZvcm0gaXMgaW52YWxpZCwgY2xpZW50LXNpZGUuXG4gICAgLy8gVGhpcyBibG9ja3MgcmV0dXJuLWtleSBzdWJtaXNzaW9uIHdoZW4gdGhlIGZvcm0gaXMgaW52YWxpZC5cbiAgICBpZiAoIXRoaXMuaXNGb3JtVmFsaWQodGhpcy5nZXRWYWxpZGF0aW9uRXJyb3JzKCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge3ZhbHVlc30gPSB0aGlzLnN0YXRlO1xuICAgIHRoaXMuc2V0U3RhdGUoe3NhdmVTdGF0ZTogU1RBVEVfU0FWSU5HfSk7XG4gICAgdGhpcy5wcm9wcy5oYW5kbGVTdWJtaXQodmFsdWVzKS5jYXRjaCh0aGlzLm9uU3VibWl0RmFpbHVyZSk7XG4gIH07XG5cbiAgY2FuY2VsID0gKCkgPT4gdGhpcy5wcm9wcy5oYW5kbGVDYW5jZWwoKTtcblxuICBvblN1Ym1pdEZhaWx1cmUgPSBlcnJvciA9PiB7XG4gICAgaWYgKGVycm9yICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlcnJvciwgJ3NlcnZlckVycm9ycycpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKFxuICAgICAgICB7XG4gICAgICAgICAgc2F2ZVN0YXRlOiBTVEFURV9JTklUSUFMLFxuICAgICAgICAgIHNlcnZlckVycm9yczogZXJyb3Iuc2VydmVyRXJyb3JzLFxuICAgICAgICB9LFxuICAgICAgICAoKSA9PiB0aGlzLmNoYW5nZVVzZXJUeXBlRm9ybS5mb2N1c09uQW5FcnJvcigpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtzYXZlU3RhdGU6IFNUQVRFX1VOS05PV05fRVJST1J9KTtcbiAgICB9XG4gIH07XG5cbiAgaXNGb3JtVmFsaWQodmFsaWRhdGlvbkVycm9ycykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh2YWxpZGF0aW9uRXJyb3JzKS5ldmVyeShrZXkgPT4gIXZhbGlkYXRpb25FcnJvcnNba2V5XSk7XG4gIH1cblxuICBnZXRWYWxpZGF0aW9uRXJyb3JzKCkge1xuICAgIGNvbnN0IHtzZXJ2ZXJFcnJvcnN9ID0gdGhpcy5zdGF0ZTtcbiAgICByZXR1cm4ge1xuICAgICAgZW1haWw6IHNlcnZlckVycm9ycy5lbWFpbCB8fCB0aGlzLmdldEVtYWlsVmFsaWRhdGlvbkVycm9yKCksXG4gICAgICBlbWFpbE9wdEluOlxuICAgICAgICBzZXJ2ZXJFcnJvcnMuZW1haWxPcHRJbiB8fCB0aGlzLmdldEVtYWlsT3B0SW5WYWxpZGF0aW9uRXJyb3IoKSxcbiAgICB9O1xuICB9XG5cbiAgZ2V0RW1haWxWYWxpZGF0aW9uRXJyb3IgPSAoKSA9PiB7XG4gICAgY29uc3Qge2VtYWlsfSA9IHRoaXMuc3RhdGUudmFsdWVzO1xuICAgIGlmIChlbWFpbC50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gaTE4bi5jaGFuZ2VVc2VyVHlwZU1vZGFsX2VtYWlsX2lzUmVxdWlyZWQoKTtcbiAgICB9XG4gICAgaWYgKCFpc0VtYWlsKGVtYWlsLnRyaW0oKSkpIHtcbiAgICAgIHJldHVybiBpMThuLmNoYW5nZVVzZXJUeXBlTW9kYWxfZW1haWxfaW52YWxpZCgpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBnZXRFbWFpbE9wdEluVmFsaWRhdGlvbkVycm9yID0gKCkgPT4ge1xuICAgIGNvbnN0IHtlbWFpbE9wdElufSA9IHRoaXMuc3RhdGUudmFsdWVzO1xuICAgIGlmIChlbWFpbE9wdEluLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGkxOG4uY2hhbmdlVXNlclR5cGVNb2RhbF9lbWFpbE9wdEluX2lzUmVxdWlyZWQoKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgb25Gb3JtQ2hhbmdlID0gbmV3VmFsdWVzID0+IHtcbiAgICBjb25zdCB7dmFsdWVzOiBvbGRWYWx1ZXMsIHNlcnZlckVycm9yc30gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IG5ld1NlcnZlckVycm9ycyA9IHsuLi5zZXJ2ZXJFcnJvcnN9O1xuICAgIFsnZW1haWwnLCAnZW1haWxPcHRJbiddLmZvckVhY2goZmllbGROYW1lID0+IHtcbiAgICAgIGlmIChuZXdWYWx1ZXNbZmllbGROYW1lXSAhPT0gb2xkVmFsdWVzW2ZpZWxkTmFtZV0pIHtcbiAgICAgICAgbmV3U2VydmVyRXJyb3JzW2ZpZWxkTmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB2YWx1ZXM6IG5ld1ZhbHVlcyxcbiAgICAgIHNlcnZlckVycm9yczogbmV3U2VydmVyRXJyb3JzLFxuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlciA9ICgpID0+IHtcbiAgICBjb25zdCB7c2F2ZVN0YXRlLCB2YWx1ZXN9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB2YWxpZGF0aW9uRXJyb3JzID0gdGhpcy5nZXRWYWxpZGF0aW9uRXJyb3JzKCk7XG4gICAgY29uc3QgaXNGb3JtVmFsaWQgPSB0aGlzLmlzRm9ybVZhbGlkKHZhbGlkYXRpb25FcnJvcnMpO1xuICAgIHJldHVybiAoXG4gICAgICA8QmFzZURpYWxvZ1xuICAgICAgICB1c2VVcGRhdGVkU3R5bGVzXG4gICAgICAgIGlzT3BlblxuICAgICAgICBoYW5kbGVDbG9zZT17dGhpcy5jYW5jZWx9XG4gICAgICAgIHVuY2xvc2VhYmxlPXtTVEFURV9TQVZJTkcgPT09IHNhdmVTdGF0ZX1cbiAgICAgID5cbiAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0+XG4gICAgICAgICAgPEhlYWRlciB0ZXh0PXtpMThuLmNoYW5nZVVzZXJUeXBlTW9kYWxfdGl0bGUoKX0gLz5cbiAgICAgICAgICA8Q2hhbmdlVXNlclR5cGVGb3JtXG4gICAgICAgICAgICByZWY9e3ggPT4gKHRoaXMuY2hhbmdlVXNlclR5cGVGb3JtID0geCl9XG4gICAgICAgICAgICB2YWx1ZXM9e3ZhbHVlc31cbiAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvcnM9e3ZhbGlkYXRpb25FcnJvcnN9XG4gICAgICAgICAgICBkaXNhYmxlZD17U1RBVEVfU0FWSU5HID09PSBzYXZlU3RhdGV9XG4gICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vbkZvcm1DaGFuZ2V9XG4gICAgICAgICAgICBvblN1Ym1pdD17dGhpcy5zYXZlfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPENvbmZpcm1DYW5jZWxGb290ZXJcbiAgICAgICAgICAgIGNvbmZpcm1UZXh0PXtpMThuLmNoYW5nZVVzZXJUeXBlTW9kYWxfc2F2ZV90ZWFjaGVyKCl9XG4gICAgICAgICAgICBvbkNvbmZpcm09e3RoaXMuc2F2ZX1cbiAgICAgICAgICAgIG9uQ2FuY2VsPXt0aGlzLmNhbmNlbH1cbiAgICAgICAgICAgIGRpc2FibGVDb25maXJtPXtTVEFURV9TQVZJTkcgPT09IHNhdmVTdGF0ZSB8fCAhaXNGb3JtVmFsaWR9XG4gICAgICAgICAgICBkaXNhYmxlQ2FuY2VsPXtTVEFURV9TQVZJTkcgPT09IHNhdmVTdGF0ZX1cbiAgICAgICAgICAgIHRhYkluZGV4PVwiMlwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge1NUQVRFX1NBVklORyA9PT0gc2F2ZVN0YXRlICYmIDxlbT57aTE4bi5zYXZpbmcoKX08L2VtPn1cbiAgICAgICAgICAgIHtTVEFURV9VTktOT1dOX0VSUk9SID09PSBzYXZlU3RhdGUgJiYgKFxuICAgICAgICAgICAgICA8ZW0+e2kxOG4uY2hhbmdlVXNlclR5cGVNb2RhbF91bmV4cGVjdGVkRXJyb3IoKX08L2VtPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0NvbmZpcm1DYW5jZWxGb290ZXI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9CYXNlRGlhbG9nPlxuICAgICk7XG4gIH07XG59XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgY29udGFpbmVyOiB7XG4gICAgbWFyZ2luOiAyMCxcbiAgICBjb2xvcjogY29sb3IuY2hhcmNvYWwsXG4gIH0sXG59O1xuIiwiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCdXR0b24gZnJvbSAnQGNkby9hcHBzL2xlZ2FjeVNoYXJlZENvbXBvbmVudHMvQnV0dG9uJztcbmltcG9ydCBpMThuIGZyb20gJ0BjZG8vbG9jYWxlJztcblxuaW1wb3J0IHtCQVNFX0RJQUxPR19XSURUSH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCBjb2xvciBmcm9tICcuLi91dGlsL2NvbG9yJztcblxuLyoqXG4gKiBCYXNlRGlhbG9nXG4gKiBBIGdlbmVyaWMgbW9kYWwgZGlhbG9nIHRoYXQgaGFzIGFuIHgtY2xvc2UgaW4gdGhlIHVwcGVyIHJpZ2h0LCBhbmQgYVxuICogc2VtaS10cmFuc3BhcmVudCBiYWNrZHJvcC4gQ2FuIGJlIGNsb3NlZCBieSBjbGlja2luZyB0aGUgeCwgY2xpY2tpbmcgdGhlXG4gKiBiYWNrZHJvcCwgb3IgcHJlc3NpbmcgZXNjLlxuICpcbiAqIFRvIHVzZSBhIHN0eWxlZCB2ZXJzaW9uIG9mIHRoaXMgY29tcG9uZW50IHRoYXQgZm9sbG93cyBvdXIgc3R5bGUgZ3VpZGUsXG4gKiB1c2UgU3R5bGl6ZWRCYXNlRGlhbG9nLmpzeC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZURpYWxvZyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgaXNPcGVuOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBoYW5kbGVDbG9zZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgdW5jbG9zZWFibGU6IFByb3BUeXBlcy5ib29sLFxuICAgIGhpZGVDbG9zZUJ1dHRvbjogUHJvcFR5cGVzLmJvb2wsXG4gICAgaGFuZGxlS2V5RG93bjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLy8gRm9yIHVzZSBpbiByZWFjdC1zdG9yeWJvb2s7IGFsbG93cyByZW5kZXJpbmcgZGlhbG9nIGlubGluZSBpbiBzdG9yeSB0YWJsZXMuXG4gICAgaGlkZUJhY2tkcm9wOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBmdWxsV2lkdGg6IFByb3BUeXBlcy5ib29sLFxuICAgIGZ1bGxIZWlnaHQ6IFByb3BUeXBlcy5ib29sLFxuICAgIHVzZVVwZGF0ZWRTdHlsZXM6IFByb3BUeXBlcy5ib29sLFxuICAgIG5vTW9kYWxTdHlsZXM6IFByb3BUeXBlcy5ib29sLFxuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgICBmaXhlZFdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGZpeGVkSGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIHVzZUZsZXhib3g6IFByb3BUeXBlcy5ib29sLFxuICAgIGJvZHlJZDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBib2R5Q2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIHNvdW5kUGxheWVyOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIG92ZXJmbG93OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIC8vIFRlbXBvcmFyeSBwcm9wIHVudGlsIEFuaW1hdGlvblBpY2tlckJvZHkgaXMgcmVkZXNpZ25lZFxuICAgIGJhY2tkcm9wU3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5mb2N1c0RpYWxvZygpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMuZm9jdXNEaWFsb2coKTtcbiAgfVxuXG4gIGhhbmRsZUtleURvd24gPSBldmVudCA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5oYW5kbGVLZXlEb3duICYmIHRoaXMucHJvcHMuaGFuZGxlS2V5RG93bihldmVudCk7XG4gIH07XG5cbiAgY2xvc2VEaWFsb2cgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLnByb3BzLnVuY2xvc2VhYmxlICYmIHRoaXMucHJvcHMuaGFuZGxlQ2xvc2UpIHtcbiAgICAgIHRoaXMucHJvcHMuaGFuZGxlQ2xvc2UoKTtcbiAgICAgIGlmICh0aGlzLnByb3BzLnNvdW5kUGxheWVyKSB7XG4gICAgICAgIHRoaXMucHJvcHMuc291bmRQbGF5ZXIuc3RvcEFsbEF1ZGlvKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKiBAcmV0dXJucyB7QXJyYXkuPEVsZW1lbnQ+fSAqL1xuICBnZXRUYWJiYWJsZUVsZW1lbnRzKCkge1xuICAgIHJldHVybiBbXS5zbGljZS5jYWxsKHRoaXMucmVmcy5kaWFsb2cucXVlcnlTZWxlY3RvckFsbCgnYSxidXR0b24saW5wdXQnKSk7XG4gIH1cblxuICBmb2N1c0RpYWxvZygpIHtcbiAgICAvLyBEb24ndCBzdGVhbCBmb2N1cyBpZiB0aGUgYWN0aXZlIGVsZW1lbnQgaXMgYWxyZWFkeSBhIGRlc2NlbmRhbnQgb2YgdGhlXG4gICAgLy8gZGlhbG9nIC0gcHJldmVudHMgZm9jdXMgbG9zcyBvbiB1cGRhdGVzIG9mIG9wZW4gQmFzZURpYWxvZyBjb21wb25lbnRzLlxuICAgIGNvbnN0IGRlc2NlbmRhbnRJc0FjdGl2ZSA9XG4gICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmXG4gICAgICB0aGlzLnJlZnMuZGlhbG9nICYmXG4gICAgICB0aGlzLnJlZnMuZGlhbG9nLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgIGlmICh0aGlzLnByb3BzLmlzT3BlbiAmJiAhZGVzY2VuZGFudElzQWN0aXZlKSB7XG4gICAgICB0aGlzLnJlZnMuZGlhbG9nLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy5pc09wZW4gJiYgIXRoaXMucHJvcHMuaGlkZUJhY2tkcm9wKSB7XG4gICAgICByZXR1cm4gPGRpdiAvPjtcbiAgICB9XG5cbiAgICBsZXQgYm9keVN0eWxlLCBtb2RhbEJvZHlTdHlsZSwgeENsb3NlU3R5bGU7XG4gICAgaWYgKHRoaXMucHJvcHMuZnVsbFdpZHRoKSB7XG4gICAgICBib2R5U3R5bGUgPSB7XG4gICAgICAgIC4uLmJvZHlTdHlsZSxcbiAgICAgICAgd2lkdGg6ICc5MCUnLFxuICAgICAgICBtYXJnaW5MZWZ0OiAnLTQ1JScsXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5mdWxsSGVpZ2h0KSB7XG4gICAgICBib2R5U3R5bGUgPSB7XG4gICAgICAgIC4uLmJvZHlTdHlsZSxcbiAgICAgICAgaGVpZ2h0OiAnODAlJyxcbiAgICAgIH07XG4gICAgICBtb2RhbEJvZHlTdHlsZSA9IHtcbiAgICAgICAgLi4ubW9kYWxCb2R5U3R5bGUsXG4gICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgd3JhcHBlckNsYXNzTmFtZXMgPSAnJztcbiAgICBsZXQgbW9kYWxDbGFzc05hbWVzID0gJ21vZGFsJztcbiAgICBsZXQgbW9kYWxCb2R5Q2xhc3NOYW1lcyA9ICdtb2RhbC1ib2R5JztcbiAgICBsZXQgbW9kYWxCYWNrZHJvcENsYXNzTmFtZXMgPSAnbW9kYWwtYmFja2Ryb3AnO1xuICAgIGNvbnN0IG92ZXJmbG93WCA9IHRoaXMucHJvcHMub3ZlcmZsb3cgfHwgJ2hpZGRlbic7XG4gICAgY29uc3Qgb3ZlcmZsb3dZID1cbiAgICAgIHRoaXMucHJvcHMub3ZlcmZsb3cgfHxcbiAgICAgICh0aGlzLnByb3BzLmZpeGVkSGVpZ2h0IHx8IHRoaXMucHJvcHMuZnVsbEhlaWdodCA/ICdoaWRkZW4nIDogJ2F1dG8nKTtcblxuICAgIGlmICh0aGlzLnByb3BzLnVzZVVwZGF0ZWRTdHlsZXMpIHtcbiAgICAgIHdyYXBwZXJDbGFzc05hbWVzID0gJ2Rhc2hib2FyZC1zdHlsZXMnO1xuICAgICAgbW9kYWxCb2R5Q2xhc3NOYW1lcyA9ICcnO1xuICAgICAgbW9kYWxCb2R5U3R5bGUgPSB7XG4gICAgICAgIGJhY2tncm91bmQ6ICcjZmZmJyxcbiAgICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLmZpeGVkSGVpZ2h0LFxuICAgICAgICBtYXhIZWlnaHQ6ICF0aGlzLnByb3BzLmZpeGVkSGVpZ2h0ICYmICc4MHZoJyxcbiAgICAgICAgb3ZlcmZsb3dYOiBvdmVyZmxvd1gsXG4gICAgICAgIG92ZXJmbG93WTogb3ZlcmZsb3dZLFxuICAgICAgICBib3JkZXJSYWRpdXM6IDQsXG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMucHJvcHMudXNlRmxleGJveCkge1xuICAgICAgICBtb2RhbEJvZHlTdHlsZSA9IHtcbiAgICAgICAgICAuLi5tb2RhbEJvZHlTdHlsZSxcbiAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBib2R5U3R5bGUgPSB7XG4gICAgICAgIC4uLmJvZHlTdHlsZSxcbiAgICAgICAgd2lkdGg6IHRoaXMucHJvcHMuZml4ZWRXaWR0aCB8fCBCQVNFX0RJQUxPR19XSURUSCxcbiAgICAgICAgbWFyZ2luTGVmdDogLXRoaXMucHJvcHMuZml4ZWRXaWR0aCAvIDIgfHwgLTM1MCxcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLm5vTW9kYWxTdHlsZXMpIHtcbiAgICAgIG1vZGFsQ2xhc3NOYW1lcyA9ICcnO1xuICAgICAgbW9kYWxCb2R5Q2xhc3NOYW1lcyA9ICcnO1xuICAgIH1cblxuICAgIGJvZHlTdHlsZSA9IHtcbiAgICAgIC4uLmJvZHlTdHlsZSxcbiAgICAgIC4uLih0aGlzLnByb3BzLmhpZGVCYWNrZHJvcCAmJiB7XG4gICAgICAgIHBvc2l0aW9uOiAnaW5pdGlhbCcsXG4gICAgICAgIG1hcmdpbkxlZnQ6IDAsXG4gICAgICB9KSxcbiAgICAgIC4uLnRoaXMucHJvcHMuc3R5bGUsXG4gICAgfTtcbiAgICB4Q2xvc2VTdHlsZSA9IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBwYWRkaW5nOiAwLFxuICAgICAgY29sb3I6IGNvbG9yLm5ldXRyYWxfZGFyazMwLFxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBmb250U2l6ZTogMjQsXG4gICAgICBib3JkZXI6ICdub25lJyxcbiAgICB9O1xuXG4gICAgbW9kYWxCb2R5Q2xhc3NOYW1lcyA9IFttb2RhbEJvZHlDbGFzc05hbWVzLCB0aGlzLnByb3BzLmJvZHlDbGFzc05hbWVdXG4gICAgICAuZmlsdGVyKGNsYXNzTmFtZSA9PiAhIWNsYXNzTmFtZSlcbiAgICAgIC5qb2luKCcgJyk7XG5cbiAgICBsZXQgYm9keSA9IChcbiAgICAgIDxkaXZcbiAgICAgICAgc3R5bGU9e2JvZHlTdHlsZX1cbiAgICAgICAgdGFiSW5kZXg9XCItMVwiXG4gICAgICAgIGNsYXNzTmFtZT17bW9kYWxDbGFzc05hbWVzfVxuICAgICAgICByZWY9XCJkaWFsb2dcIlxuICAgICAgICBvbktleURvd249e3RoaXMuaGFuZGxlS2V5RG93bn1cbiAgICAgID5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIHN0eWxlPXttb2RhbEJvZHlTdHlsZX1cbiAgICAgICAgICBpZD17dGhpcy5wcm9wcy5ib2R5SWR9XG4gICAgICAgICAgY2xhc3NOYW1lPXttb2RhbEJvZHlDbGFzc05hbWVzfVxuICAgICAgICA+XG4gICAgICAgICAgeyF0aGlzLnByb3BzLnVuY2xvc2VhYmxlICYmICF0aGlzLnByb3BzLmhpZGVDbG9zZUJ1dHRvbiAmJiAoXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIGlkPVwieC1jbG9zZVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xvc2VEaWFsb2d9XG4gICAgICAgICAgICAgIGljb249XCJmYS1zb2xpZCBmYS14bWFya1wiXG4gICAgICAgICAgICAgIHN0eWxlPXt4Q2xvc2VTdHlsZX1cbiAgICAgICAgICAgICAgY29sb3I9XCJ3aGl0ZVwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2kxOG4uY2xvc2VEaWFsb2coKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuXG4gICAgaWYgKHRoaXMucHJvcHMuaGlkZUJhY2tkcm9wKSB7XG4gICAgICByZXR1cm4gYm9keTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3dyYXBwZXJDbGFzc05hbWVzfT5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17bW9kYWxCYWNrZHJvcENsYXNzTmFtZXN9XG4gICAgICAgICAgc3R5bGU9e3RoaXMucHJvcHMuYmFja2Ryb3BTdHlsZX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmNsb3NlRGlhbG9nfVxuICAgICAgICAvPlxuICAgICAgICB7Ym9keX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsIi8vIFJGQyA1MzIyIE9mZmljaWFsIFN0YW5kYXJkIGVtYWlsIHJlZ2V4XG4vLyBTb3VyY2U6IGh0dHA6Ly9lbWFpbHJlZ2V4LmNvbS9cblxuY29uc3QgRU1BSUxfUkVHRVggPVxuICAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcbmV4cG9ydCBjb25zdCBpc0VtYWlsID0gdmFsdWUgPT4gRU1BSUxfUkVHRVgudGVzdCh2YWx1ZSk7XG5cbmNvbnN0IFpJUF9DT0RFX1JFR0VYID0gL15cXGR7NX0oW1xcVy1dP1xcZHs0fSk/JC87XG5leHBvcnQgY29uc3QgaXNaaXBDb2RlID0gdmFsdWUgPT4gWklQX0NPREVfUkVHRVgudGVzdCh2YWx1ZSk7XG5cbmV4cG9ydCBjb25zdCBpc0ludCA9IHZhbHVlID0+IHtcbiAgLy8gU3ViIG91dCBjb21tYXNcbiAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8sL2csICcnKTtcbiAgcmV0dXJuIHBhcnNlSW50KG5ld1ZhbHVlLCAxMCkudG9TdHJpbmcoKSA9PT0gbmV3VmFsdWU7XG59O1xuZXhwb3J0IGNvbnN0IGlzUGVyY2VudCA9IHZhbHVlID0+IHtcbiAgbGV0IHBlcmNlbnQgPSBwYXJzZUZsb2F0KHZhbHVlKTtcblxuICByZXR1cm4gMCA8PSBwZXJjZW50ICYmIHBlcmNlbnQgPD0gMTAwO1xufTtcbiIsImltcG9ydCB7YWN0aW9ufSBmcm9tICdAc3Rvcnlib29rL2FkZG9uLWFjdGlvbnMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IENoYW5nZVVzZXJUeXBlTW9kYWwgZnJvbSAnLi9DaGFuZ2VVc2VyVHlwZU1vZGFsJztcblxuY29uc3QgREVGQVVMVF9QUk9QUyA9IHtcbiAgaGFuZGxlU3VibWl0OiBhY3Rpb24oJ2hhbmRsZVN1Ym1pdCBjYWxsYmFjaycpLFxuICBoYW5kbGVDYW5jZWw6IGFjdGlvbignaGFuZGxlQ2FuY2VsIGNhbGxiYWNrJyksXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNvbXBvbmVudDogQ2hhbmdlVXNlclR5cGVNb2RhbCxcbn07XG5cbmNvbnN0IGNvbnRhaW5lciA9IHtcbiAgbWFyZ2luOiAnYXV0bycsXG4gIHdpZHRoOiAnNTAlJyxcbiAgcGFkZGluZzogJzEwcHgnLFxufTtcblxuY29uc3QgVGVtcGxhdGUgPSBhcmdzID0+IChcbiAgPGRpdiBzdHlsZT17Y29udGFpbmVyfT5cbiAgICA8Q2hhbmdlVXNlclR5cGVNb2RhbCB7Li4uREVGQVVMVF9QUk9QU30gey4uLmFyZ3N9IC8+XG4gIDwvZGl2PlxuKTtcblxuZXhwb3J0IGNvbnN0IFN0dWRlbnRCZWNvbWluZ1RlYWNoZXIgPSBUZW1wbGF0ZS5iaW5kKHt9KTtcbiJdLCJuYW1lcyI6WyJfcHJvcFR5cGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVhY3QiLCJfbG9jYWxlIiwiX0Jhc2VEaWFsb2ciLCJfY29sb3IiLCJfZm9ybWF0VmFsaWRhdGlvbiIsIl9TeXN0ZW1EaWFsb2ciLCJfQ2hhbmdlVXNlclR5cGVGb3JtIiwib2JqIiwiX19lc01vZHVsZSIsIl90eXBlb2YiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIm93bktleXMiLCJlIiwiciIsInQiLCJPYmplY3QiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZmlsdGVyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsInB1c2giLCJhcHBseSIsIl9zZXRQcm90b3R5cGVPZiIsInAiLCJzZXRQcm90b3R5cGVPZiIsImJpbmQiLCJfX3Byb3RvX18iLCJfZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJ2YWx1ZSIsIl90b1Byb3BlcnR5S2V5IiwiaSIsIl90b1ByaW1pdGl2ZSIsInRvUHJpbWl0aXZlIiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsIk51bWJlciIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJDaGFuZ2VVc2VyVHlwZU1vZGFsIiwiZXhwb3J0cyIsIl9SZWFjdCRDb21wb25lbnQiLCJfdGhpcyIsIl9sZW4iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcmdzIiwiQXJyYXkiLCJfa2V5IiwiY29uY2F0Iiwic2F2ZVN0YXRlIiwidmFsdWVzIiwiZW1haWwiLCJlbWFpbE9wdEluIiwic2VydmVyRXJyb3JzIiwidW5kZWZpbmVkIiwiaXNGb3JtVmFsaWQiLCJnZXRWYWxpZGF0aW9uRXJyb3JzIiwic3RhdGUiLCJzZXRTdGF0ZSIsInByb3BzIiwiaGFuZGxlU3VibWl0Iiwib25TdWJtaXRGYWlsdXJlIiwiaGFuZGxlQ2FuY2VsIiwiZXJyb3IiLCJoYXNPd25Qcm9wZXJ0eSIsImNoYW5nZVVzZXJUeXBlRm9ybSIsImZvY3VzT25BbkVycm9yIiwidHJpbSIsImkxOG4iLCJjaGFuZ2VVc2VyVHlwZU1vZGFsX2VtYWlsX2lzUmVxdWlyZWQiLCJpc0VtYWlsIiwiY2hhbmdlVXNlclR5cGVNb2RhbF9lbWFpbF9pbnZhbGlkIiwiY2hhbmdlVXNlclR5cGVNb2RhbF9lbWFpbE9wdEluX2lzUmVxdWlyZWQiLCJuZXdWYWx1ZXMiLCJfdGhpcyRzdGF0ZSIsIm9sZFZhbHVlcyIsIm5ld1NlcnZlckVycm9ycyIsIl9vYmplY3RTcHJlYWQiLCJmb3JFYWNoIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJmaWVsZE5hbWUiLCJfdGhpcyRzdGF0ZTIiLCJ2YWxpZGF0aW9uRXJyb3JzIiwiY3JlYXRlRWxlbWVudCIsInVzZVVwZGF0ZWRTdHlsZXMiLCJpc09wZW4iLCJoYW5kbGVDbG9zZSIsImNhbmNlbCIsInVuY2xvc2VhYmxlIiwic3R5bGUiLCJzdHlsZXMiLCJjb250YWluZXIiLCJIZWFkZXIiLCJ0ZXh0IiwiY2hhbmdlVXNlclR5cGVNb2RhbF90aXRsZSIsInJlZiIsIngiLCJkaXNhYmxlZCIsIm9uQ2hhbmdlIiwib25Gb3JtQ2hhbmdlIiwib25TdWJtaXQiLCJzYXZlIiwiQ29uZmlybUNhbmNlbEZvb3RlciIsImNvbmZpcm1UZXh0IiwiY2hhbmdlVXNlclR5cGVNb2RhbF9zYXZlX3RlYWNoZXIiLCJvbkNvbmZpcm0iLCJvbkNhbmNlbCIsImRpc2FibGVDb25maXJtIiwiZGlzYWJsZUNhbmNlbCIsInRhYkluZGV4Iiwic2F2aW5nIiwiY2hhbmdlVXNlclR5cGVNb2RhbF91bmV4cGVjdGVkRXJyb3IiLCJfaW5oZXJpdHNMb29zZSIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImNyZWF0ZSIsIl9wcm90byIsImV2ZXJ5IiwidGhpcyIsImdldEVtYWlsVmFsaWRhdGlvbkVycm9yIiwiZ2V0RW1haWxPcHRJblZhbGlkYXRpb25FcnJvciIsIlJlYWN0IiwiQ29tcG9uZW50IiwiUHJvcFR5cGVzIiwiZnVuYyIsImlzUmVxdWlyZWQiLCJtYXJnaW4iLCJjb2xvciIsImNoYXJjb2FsIiwibW9kdWxlIiwiX0J1dHRvbiIsIl9jb25zdGFudHMiLCJCYXNlRGlhbG9nIiwiZXZlbnQiLCJjbG9zZURpYWxvZyIsImhhbmRsZUtleURvd24iLCJzb3VuZFBsYXllciIsInN0b3BBbGxBdWRpbyIsImNvbXBvbmVudERpZE1vdW50IiwiZm9jdXNEaWFsb2ciLCJjb21wb25lbnREaWRVcGRhdGUiLCJnZXRUYWJiYWJsZUVsZW1lbnRzIiwic2xpY2UiLCJyZWZzIiwiZGlhbG9nIiwicXVlcnlTZWxlY3RvckFsbCIsImRlc2NlbmRhbnRJc0FjdGl2ZSIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsImNvbnRhaW5zIiwiZm9jdXMiLCJyZW5kZXIiLCJoaWRlQmFja2Ryb3AiLCJib2R5U3R5bGUiLCJtb2RhbEJvZHlTdHlsZSIsInhDbG9zZVN0eWxlIiwiZnVsbFdpZHRoIiwid2lkdGgiLCJtYXJnaW5MZWZ0IiwiZnVsbEhlaWdodCIsImhlaWdodCIsImJveFNpemluZyIsIndyYXBwZXJDbGFzc05hbWVzIiwibW9kYWxDbGFzc05hbWVzIiwibW9kYWxCb2R5Q2xhc3NOYW1lcyIsIm92ZXJmbG93WCIsIm92ZXJmbG93Iiwib3ZlcmZsb3dZIiwiZml4ZWRIZWlnaHQiLCJiYWNrZ3JvdW5kIiwibWF4SGVpZ2h0IiwiYm9yZGVyUmFkaXVzIiwidXNlRmxleGJveCIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwiZml4ZWRXaWR0aCIsIkJBU0VfRElBTE9HX1dJRFRIIiwibm9Nb2RhbFN0eWxlcyIsInBvc2l0aW9uIiwidG9wIiwicmlnaHQiLCJwYWRkaW5nIiwibmV1dHJhbF9kYXJrMzAiLCJjdXJzb3IiLCJmb250U2l6ZSIsImJvcmRlciIsImJvZHlDbGFzc05hbWUiLCJjbGFzc05hbWUiLCJqb2luIiwiYm9keSIsIm9uS2V5RG93biIsImlkIiwiYm9keUlkIiwiaGlkZUNsb3NlQnV0dG9uIiwib25DbGljayIsImljb24iLCJjaGlsZHJlbiIsImJhY2tkcm9wU3R5bGUiLCJib29sIiwibm9kZSIsIm51bWJlciIsInN0cmluZyIsIm9iamVjdCIsIkVNQUlMX1JFR0VYIiwiWklQX0NPREVfUkVHRVgiLCJ0ZXN0IiwiaXNaaXBDb2RlIiwiaXNJbnQiLCJuZXdWYWx1ZSIsInJlcGxhY2UiLCJwYXJzZUludCIsInRvU3RyaW5nIiwiaXNQZXJjZW50IiwicGVyY2VudCIsInBhcnNlRmxvYXQiLCJfYWRkb25BY3Rpb25zIiwiX0NoYW5nZVVzZXJUeXBlTW9kYWwiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInRhcmdldCIsInNvdXJjZSIsIkRFRkFVTFRfUFJPUFMiLCJhY3Rpb24iLCJjb21wb25lbnQiLCJUZW1wbGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=