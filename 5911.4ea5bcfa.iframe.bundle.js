/*! For license information please see 5911.4ea5bcfa.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[5911,7996],{"./node_modules/css-loader/dist/runtime/getUrl.js":module=>{"use strict";module.exports=function(url,options){return options||(options={}),url?(url=String(url.__esModule?url.default:url),/^['"].*['"]$/.test(url)&&(url=url.slice(1,-1)),options.hash&&(url+=options.hash),/["'() \t\n]|(%20)/.test(url)||options.needQuotes?'"'.concat(url.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):url):url}},"./node_modules/lodash/_baseEach.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseForOwn=__webpack_require__("./node_modules/lodash/_baseForOwn.js"),baseEach=__webpack_require__("./node_modules/lodash/_createBaseEach.js")(baseForOwn);module.exports=baseEach},"./node_modules/lodash/_baseMap.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseEach=__webpack_require__("./node_modules/lodash/_baseEach.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js");module.exports=function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}},"./node_modules/lodash/_baseOrderBy.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayMap=__webpack_require__("./node_modules/lodash/_arrayMap.js"),baseGet=__webpack_require__("./node_modules/lodash/_baseGet.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),baseMap=__webpack_require__("./node_modules/lodash/_baseMap.js"),baseSortBy=__webpack_require__("./node_modules/lodash/_baseSortBy.js"),baseUnary=__webpack_require__("./node_modules/lodash/_baseUnary.js"),compareMultiple=__webpack_require__("./node_modules/lodash/_compareMultiple.js"),identity=__webpack_require__("./node_modules/lodash/identity.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function baseOrderBy(collection,iteratees,orders){iteratees=iteratees.length?arrayMap(iteratees,(function(iteratee){return isArray(iteratee)?function(value){return baseGet(value,1===iteratee.length?iteratee[0]:iteratee)}:iteratee})):[identity];var index=-1;iteratees=arrayMap(iteratees,baseUnary(baseIteratee));var result=baseMap(collection,(function(value,key,collection){return{criteria:arrayMap(iteratees,(function(iteratee){return iteratee(value)})),index:++index,value}}));return baseSortBy(result,(function(object,other){return compareMultiple(object,other,orders)}))}},"./node_modules/lodash/_baseSortBy.js":module=>{module.exports=function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}},"./node_modules/lodash/_compareAscending.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js");module.exports=function compareAscending(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}},"./node_modules/lodash/_compareMultiple.js":(module,__unused_webpack_exports,__webpack_require__)=>{var compareAscending=__webpack_require__("./node_modules/lodash/_compareAscending.js");module.exports=function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object.index-other.index}},"./node_modules/lodash/_createBaseEach.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js");module.exports=function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}},"./node_modules/lodash/debounce.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isObject=__webpack_require__("./node_modules/lodash/isObject.js"),now=__webpack_require__("./node_modules/lodash/now.js"),toNumber=__webpack_require__("./node_modules/lodash/toNumber.js"),nativeMax=Math.max,nativeMin=Math.min;module.exports=function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function flush(){return void 0===timerId?result:trailingEdge(now())},debounced}},"./node_modules/lodash/now.js":(module,__unused_webpack_exports,__webpack_require__)=>{var root=__webpack_require__("./node_modules/lodash/_root.js");module.exports=function(){return root.Date.now()}},"./node_modules/lodash/orderBy.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseOrderBy=__webpack_require__("./node_modules/lodash/_baseOrderBy.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function orderBy(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders=guard?void 0:orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))}},"./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DragDropContext:()=>DragDropContext,Draggable:()=>PublicDraggable,Droppable:()=>ConnectedDroppable,resetServerContext:()=>resetServerContext,useKeyboardSensor:()=>useKeyboardSensor,useMouseSensor:()=>useMouseSensor,useTouchSensor:()=>useTouchSensor});var react=__webpack_require__("./node_modules/react/index.js");function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}var esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js");function formatProdErrorMessage(code){return"Minified Redux error #"+code+"; visit https://redux.js.org/Errors?code="+code+" for the full message or use the non-minified dev environment for full errors. "}var $$observable="function"==typeof Symbol&&Symbol.observable||"@@observable",randomString=function randomString(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function PROBE_UNKNOWN_ACTION(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject(obj){if("object"!=typeof obj||null===obj)return!1;for(var proto=obj;null!==Object.getPrototypeOf(proto);)proto=Object.getPrototypeOf(proto);return Object.getPrototypeOf(obj)===proto}function createStore(reducer,preloadedState,enhancer){var _ref2;if("function"==typeof preloadedState&&"function"==typeof enhancer||"function"==typeof enhancer&&"function"==typeof arguments[3])throw new Error(formatProdErrorMessage(0));if("function"==typeof preloadedState&&void 0===enhancer&&(enhancer=preloadedState,preloadedState=void 0),void 0!==enhancer){if("function"!=typeof enhancer)throw new Error(formatProdErrorMessage(1));return enhancer(createStore)(reducer,preloadedState)}if("function"!=typeof reducer)throw new Error(formatProdErrorMessage(2));var currentReducer=reducer,currentState=preloadedState,currentListeners=[],nextListeners=currentListeners,isDispatching=!1;function ensureCanMutateNextListeners(){nextListeners===currentListeners&&(nextListeners=currentListeners.slice())}function getState(){if(isDispatching)throw new Error(formatProdErrorMessage(3));return currentState}function subscribe(listener){if("function"!=typeof listener)throw new Error(formatProdErrorMessage(4));if(isDispatching)throw new Error(formatProdErrorMessage(5));var isSubscribed=!0;return ensureCanMutateNextListeners(),nextListeners.push(listener),function unsubscribe(){if(isSubscribed){if(isDispatching)throw new Error(formatProdErrorMessage(6));isSubscribed=!1,ensureCanMutateNextListeners();var index=nextListeners.indexOf(listener);nextListeners.splice(index,1),currentListeners=null}}}function dispatch(action){if(!isPlainObject(action))throw new Error(formatProdErrorMessage(7));if(void 0===action.type)throw new Error(formatProdErrorMessage(8));if(isDispatching)throw new Error(formatProdErrorMessage(9));try{isDispatching=!0,currentState=currentReducer(currentState,action)}finally{isDispatching=!1}for(var listeners=currentListeners=nextListeners,i=0;i<listeners.length;i++){(0,listeners[i])()}return action}return dispatch({type:ActionTypes.INIT}),(_ref2={dispatch,subscribe,getState,replaceReducer:function replaceReducer(nextReducer){if("function"!=typeof nextReducer)throw new Error(formatProdErrorMessage(10));currentReducer=nextReducer,dispatch({type:ActionTypes.REPLACE})}})[$$observable]=function observable(){var _ref,outerSubscribe=subscribe;return(_ref={subscribe:function subscribe(observer){if("object"!=typeof observer||null===observer)throw new Error(formatProdErrorMessage(11));function observeState(){observer.next&&observer.next(getState())}return observeState(),{unsubscribe:outerSubscribe(observeState)}}})[$$observable]=function(){return this},_ref},_ref2}function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(this,arguments))}}function bindActionCreators(actionCreators,dispatch){if("function"==typeof actionCreators)return bindActionCreator(actionCreators,dispatch);if("object"!=typeof actionCreators||null===actionCreators)throw new Error(formatProdErrorMessage(16));var boundActionCreators={};for(var key in actionCreators){var actionCreator=actionCreators[key];"function"==typeof actionCreator&&(boundActionCreators[key]=bindActionCreator(actionCreator,dispatch))}return boundActionCreators}function compose(){for(var _len=arguments.length,funcs=new Array(_len),_key=0;_key<_len;_key++)funcs[_key]=arguments[_key];return 0===funcs.length?function(arg){return arg}:1===funcs.length?funcs[0]:funcs.reduce((function(a,b){return function(){return a(b.apply(void 0,arguments))}}))}__webpack_require__("./node_modules/react-beautiful-dnd/node_modules/prop-types/index.js");var Context_ReactReduxContext=react.createContext(null);var batch=function defaultNoopBatch(callback){callback()},getBatch=function getBatch(){return batch};var nullListeners={notify:function notify(){},get:function get(){return[]}};function Subscription_createSubscription(store,parentSub){var unsubscribe,listeners=nullListeners;function handleChangeWrapper(){subscription.onStateChange&&subscription.onStateChange()}function trySubscribe(){unsubscribe||(unsubscribe=parentSub?parentSub.addNestedSub(handleChangeWrapper):store.subscribe(handleChangeWrapper),listeners=function createListenerCollection(){var batch=getBatch(),first=null,last=null;return{clear:function clear(){first=null,last=null},notify:function notify(){batch((function(){for(var listener=first;listener;)listener.callback(),listener=listener.next}))},get:function get(){for(var listeners=[],listener=first;listener;)listeners.push(listener),listener=listener.next;return listeners},subscribe:function subscribe(callback){var isSubscribed=!0,listener=last={callback,next:null,prev:last};return listener.prev?listener.prev.next=listener:first=listener,function unsubscribe(){isSubscribed&&null!==first&&(isSubscribed=!1,listener.next?listener.next.prev=listener.prev:last=listener.prev,listener.prev?listener.prev.next=listener.next:first=listener.next)}}}}())}var subscription={addNestedSub:function addNestedSub(listener){return trySubscribe(),listeners.subscribe(listener)},notifyNestedSubs:function notifyNestedSubs(){listeners.notify()},handleChangeWrapper,isSubscribed:function isSubscribed(){return Boolean(unsubscribe)},trySubscribe,tryUnsubscribe:function tryUnsubscribe(){unsubscribe&&(unsubscribe(),unsubscribe=void 0,listeners.clear(),listeners=nullListeners)},getListeners:function getListeners(){return listeners}};return subscription}var useIsomorphicLayoutEffect_useIsomorphicLayoutEffect="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?react.useLayoutEffect:react.useEffect;const components_Provider=function Provider(_ref){var store=_ref.store,context=_ref.context,children=_ref.children,contextValue=(0,react.useMemo)((function(){var subscription=Subscription_createSubscription(store);return subscription.onStateChange=subscription.notifyNestedSubs,{store,subscription}}),[store]),previousState=(0,react.useMemo)((function(){return store.getState()}),[store]);useIsomorphicLayoutEffect_useIsomorphicLayoutEffect((function(){var subscription=contextValue.subscription;return subscription.trySubscribe(),previousState!==store.getState()&&subscription.notifyNestedSubs(),function(){subscription.tryUnsubscribe(),subscription.onStateChange=null}}),[contextValue,previousState]);var Context=context||Context_ReactReduxContext;return react.createElement(Context.Provider,{value:contextValue},children)};var objectWithoutPropertiesLoose=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),hoist_non_react_statics_cjs=__webpack_require__("./node_modules/react-beautiful-dnd/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),hoist_non_react_statics_cjs_default=__webpack_require__.n(hoist_non_react_statics_cjs),react_is=__webpack_require__("./node_modules/react-beautiful-dnd/node_modules/react-redux/node_modules/react-is/index.js"),_excluded=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],_excluded2=["reactReduxForwardedRef"],EMPTY_ARRAY=[],NO_SUBSCRIPTION_ARRAY=[null,null];function storeStateUpdatesReducer(state,action){var updateCount=state[1];return[action.payload,updateCount+1]}function useIsomorphicLayoutEffectWithArgs(effectFunc,effectArgs,dependencies){useIsomorphicLayoutEffect_useIsomorphicLayoutEffect((function(){return effectFunc.apply(void 0,effectArgs)}),dependencies)}function captureWrapperProps(lastWrapperProps,lastChildProps,renderIsScheduled,wrapperProps,actualChildProps,childPropsFromStoreUpdate,notifyNestedSubs){lastWrapperProps.current=wrapperProps,lastChildProps.current=actualChildProps,renderIsScheduled.current=!1,childPropsFromStoreUpdate.current&&(childPropsFromStoreUpdate.current=null,notifyNestedSubs())}function subscribeUpdates(shouldHandleStateChanges,store,subscription,childPropsSelector,lastWrapperProps,lastChildProps,renderIsScheduled,childPropsFromStoreUpdate,notifyNestedSubs,forceComponentUpdateDispatch){if(shouldHandleStateChanges){var didUnsubscribe=!1,lastThrownError=null,checkForUpdates=function checkForUpdates(){if(!didUnsubscribe){var newChildProps,error,latestStoreState=store.getState();try{newChildProps=childPropsSelector(latestStoreState,lastWrapperProps.current)}catch(e){error=e,lastThrownError=e}error||(lastThrownError=null),newChildProps===lastChildProps.current?renderIsScheduled.current||notifyNestedSubs():(lastChildProps.current=newChildProps,childPropsFromStoreUpdate.current=newChildProps,renderIsScheduled.current=!0,forceComponentUpdateDispatch({type:"STORE_UPDATED",payload:{error}}))}};subscription.onStateChange=checkForUpdates,subscription.trySubscribe(),checkForUpdates();return function unsubscribeWrapper(){if(didUnsubscribe=!0,subscription.tryUnsubscribe(),subscription.onStateChange=null,lastThrownError)throw lastThrownError}}}var initStateUpdates=function initStateUpdates(){return[null,0]};function connectAdvanced(selectorFactory,_ref){void 0===_ref&&(_ref={});var _ref2=_ref,_ref2$getDisplayName=_ref2.getDisplayName,getDisplayName=void 0===_ref2$getDisplayName?function(name){return"ConnectAdvanced("+name+")"}:_ref2$getDisplayName,_ref2$methodName=_ref2.methodName,methodName=void 0===_ref2$methodName?"connectAdvanced":_ref2$methodName,_ref2$renderCountProp=_ref2.renderCountProp,renderCountProp=void 0===_ref2$renderCountProp?void 0:_ref2$renderCountProp,_ref2$shouldHandleSta=_ref2.shouldHandleStateChanges,shouldHandleStateChanges=void 0===_ref2$shouldHandleSta||_ref2$shouldHandleSta,_ref2$storeKey=_ref2.storeKey,storeKey=void 0===_ref2$storeKey?"store":_ref2$storeKey,_ref2$forwardRef=(_ref2.withRef,_ref2.forwardRef),forwardRef=void 0!==_ref2$forwardRef&&_ref2$forwardRef,_ref2$context=_ref2.context,context=void 0===_ref2$context?Context_ReactReduxContext:_ref2$context,connectOptions=(0,objectWithoutPropertiesLoose.A)(_ref2,_excluded),Context=context;return function wrapWithConnect(WrappedComponent){var wrappedComponentName=WrappedComponent.displayName||WrappedComponent.name||"Component",displayName=getDisplayName(wrappedComponentName),selectorFactoryOptions=(0,esm_extends.A)({},connectOptions,{getDisplayName,methodName,renderCountProp,shouldHandleStateChanges,storeKey,displayName,wrappedComponentName,WrappedComponent}),pure=connectOptions.pure;var usePureOnlyMemo=pure?react.useMemo:function(callback){return callback()};function ConnectFunction(props){var _useMemo=(0,react.useMemo)((function(){var reactReduxForwardedRef=props.reactReduxForwardedRef,wrapperProps=(0,objectWithoutPropertiesLoose.A)(props,_excluded2);return[props.context,reactReduxForwardedRef,wrapperProps]}),[props]),propsContext=_useMemo[0],reactReduxForwardedRef=_useMemo[1],wrapperProps=_useMemo[2],ContextToUse=(0,react.useMemo)((function(){return propsContext&&propsContext.Consumer&&(0,react_is.isContextConsumer)(react.createElement(propsContext.Consumer,null))?propsContext:Context}),[propsContext,Context]),contextValue=(0,react.useContext)(ContextToUse),didStoreComeFromProps=Boolean(props.store)&&Boolean(props.store.getState)&&Boolean(props.store.dispatch);Boolean(contextValue)&&Boolean(contextValue.store);var store=didStoreComeFromProps?props.store:contextValue.store,childPropsSelector=(0,react.useMemo)((function(){return function createChildSelector(store){return selectorFactory(store.dispatch,selectorFactoryOptions)}(store)}),[store]),_useMemo2=(0,react.useMemo)((function(){if(!shouldHandleStateChanges)return NO_SUBSCRIPTION_ARRAY;var subscription=Subscription_createSubscription(store,didStoreComeFromProps?null:contextValue.subscription),notifyNestedSubs=subscription.notifyNestedSubs.bind(subscription);return[subscription,notifyNestedSubs]}),[store,didStoreComeFromProps,contextValue]),subscription=_useMemo2[0],notifyNestedSubs=_useMemo2[1],overriddenContextValue=(0,react.useMemo)((function(){return didStoreComeFromProps?contextValue:(0,esm_extends.A)({},contextValue,{subscription})}),[didStoreComeFromProps,contextValue,subscription]),_useReducer=(0,react.useReducer)(storeStateUpdatesReducer,EMPTY_ARRAY,initStateUpdates),previousStateUpdateResult=_useReducer[0][0],forceComponentUpdateDispatch=_useReducer[1];if(previousStateUpdateResult&&previousStateUpdateResult.error)throw previousStateUpdateResult.error;var lastChildProps=(0,react.useRef)(),lastWrapperProps=(0,react.useRef)(wrapperProps),childPropsFromStoreUpdate=(0,react.useRef)(),renderIsScheduled=(0,react.useRef)(!1),actualChildProps=usePureOnlyMemo((function(){return childPropsFromStoreUpdate.current&&wrapperProps===lastWrapperProps.current?childPropsFromStoreUpdate.current:childPropsSelector(store.getState(),wrapperProps)}),[store,previousStateUpdateResult,wrapperProps]);useIsomorphicLayoutEffectWithArgs(captureWrapperProps,[lastWrapperProps,lastChildProps,renderIsScheduled,wrapperProps,actualChildProps,childPropsFromStoreUpdate,notifyNestedSubs]),useIsomorphicLayoutEffectWithArgs(subscribeUpdates,[shouldHandleStateChanges,store,subscription,childPropsSelector,lastWrapperProps,lastChildProps,renderIsScheduled,childPropsFromStoreUpdate,notifyNestedSubs,forceComponentUpdateDispatch],[store,subscription,childPropsSelector]);var renderedWrappedComponent=(0,react.useMemo)((function(){return react.createElement(WrappedComponent,(0,esm_extends.A)({},actualChildProps,{ref:reactReduxForwardedRef}))}),[reactReduxForwardedRef,WrappedComponent,actualChildProps]);return(0,react.useMemo)((function(){return shouldHandleStateChanges?react.createElement(ContextToUse.Provider,{value:overriddenContextValue},renderedWrappedComponent):renderedWrappedComponent}),[ContextToUse,renderedWrappedComponent,overriddenContextValue])}var Connect=pure?react.memo(ConnectFunction):ConnectFunction;if(Connect.WrappedComponent=WrappedComponent,Connect.displayName=ConnectFunction.displayName=displayName,forwardRef){var forwarded=react.forwardRef((function forwardConnectRef(props,ref){return react.createElement(Connect,(0,esm_extends.A)({},props,{reactReduxForwardedRef:ref}))}));return forwarded.displayName=displayName,forwarded.WrappedComponent=WrappedComponent,hoist_non_react_statics_cjs_default()(forwarded,WrappedComponent)}return hoist_non_react_statics_cjs_default()(Connect,WrappedComponent)}}function is(x,y){return x===y?0!==x||0!==y||1/x==1/y:x!=x&&y!=y}function shallowEqual(objA,objB){if(is(objA,objB))return!0;if("object"!=typeof objA||null===objA||"object"!=typeof objB||null===objB)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var i=0;i<keysA.length;i++)if(!Object.prototype.hasOwnProperty.call(objB,keysA[i])||!is(objA[keysA[i]],objB[keysA[i]]))return!1;return!0}function wrapMapToPropsConstant(getConstant){return function initConstantSelector(dispatch,options){var constant=getConstant(dispatch,options);function constantSelector(){return constant}return constantSelector.dependsOnOwnProps=!1,constantSelector}}function getDependsOnOwnProps(mapToProps){return null!==mapToProps.dependsOnOwnProps&&void 0!==mapToProps.dependsOnOwnProps?Boolean(mapToProps.dependsOnOwnProps):1!==mapToProps.length}function wrapMapToPropsFunc(mapToProps,methodName){return function initProxySelector(dispatch,_ref){_ref.displayName;var proxy=function mapToPropsProxy(stateOrDispatch,ownProps){return proxy.dependsOnOwnProps?proxy.mapToProps(stateOrDispatch,ownProps):proxy.mapToProps(stateOrDispatch)};return proxy.dependsOnOwnProps=!0,proxy.mapToProps=function detectFactoryAndVerify(stateOrDispatch,ownProps){proxy.mapToProps=mapToProps,proxy.dependsOnOwnProps=getDependsOnOwnProps(mapToProps);var props=proxy(stateOrDispatch,ownProps);return"function"==typeof props&&(proxy.mapToProps=props,proxy.dependsOnOwnProps=getDependsOnOwnProps(props),props=proxy(stateOrDispatch,ownProps)),props},proxy}}const mapDispatchToProps=[function whenMapDispatchToPropsIsFunction(mapDispatchToProps){return"function"==typeof mapDispatchToProps?wrapMapToPropsFunc(mapDispatchToProps):void 0},function whenMapDispatchToPropsIsMissing(mapDispatchToProps){return mapDispatchToProps?void 0:wrapMapToPropsConstant((function(dispatch){return{dispatch}}))},function whenMapDispatchToPropsIsObject(mapDispatchToProps){return mapDispatchToProps&&"object"==typeof mapDispatchToProps?wrapMapToPropsConstant((function(dispatch){return function bindActionCreators_bindActionCreators(actionCreators,dispatch){var boundActionCreators={},_loop=function _loop(key){var actionCreator=actionCreators[key];"function"==typeof actionCreator&&(boundActionCreators[key]=function(){return dispatch(actionCreator.apply(void 0,arguments))})};for(var key in actionCreators)_loop(key);return boundActionCreators}(mapDispatchToProps,dispatch)})):void 0}];const mapStateToProps=[function whenMapStateToPropsIsFunction(mapStateToProps){return"function"==typeof mapStateToProps?wrapMapToPropsFunc(mapStateToProps):void 0},function whenMapStateToPropsIsMissing(mapStateToProps){return mapStateToProps?void 0:wrapMapToPropsConstant((function(){return{}}))}];function defaultMergeProps(stateProps,dispatchProps,ownProps){return(0,esm_extends.A)({},ownProps,stateProps,dispatchProps)}const mergeProps=[function whenMergePropsIsFunction(mergeProps){return"function"==typeof mergeProps?function wrapMergePropsFunc(mergeProps){return function initMergePropsProxy(dispatch,_ref){_ref.displayName;var mergedProps,pure=_ref.pure,areMergedPropsEqual=_ref.areMergedPropsEqual,hasRunOnce=!1;return function mergePropsProxy(stateProps,dispatchProps,ownProps){var nextMergedProps=mergeProps(stateProps,dispatchProps,ownProps);return hasRunOnce?pure&&areMergedPropsEqual(nextMergedProps,mergedProps)||(mergedProps=nextMergedProps):(hasRunOnce=!0,mergedProps=nextMergedProps),mergedProps}}}(mergeProps):void 0},function whenMergePropsIsOmitted(mergeProps){return mergeProps?void 0:function(){return defaultMergeProps}}];var selectorFactory_excluded=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function impureFinalPropsSelectorFactory(mapStateToProps,mapDispatchToProps,mergeProps,dispatch){return function impureFinalPropsSelector(state,ownProps){return mergeProps(mapStateToProps(state,ownProps),mapDispatchToProps(dispatch,ownProps),ownProps)}}function pureFinalPropsSelectorFactory(mapStateToProps,mapDispatchToProps,mergeProps,dispatch,_ref){var state,ownProps,stateProps,dispatchProps,mergedProps,areStatesEqual=_ref.areStatesEqual,areOwnPropsEqual=_ref.areOwnPropsEqual,areStatePropsEqual=_ref.areStatePropsEqual,hasRunAtLeastOnce=!1;function handleSubsequentCalls(nextState,nextOwnProps){var propsChanged=!areOwnPropsEqual(nextOwnProps,ownProps),stateChanged=!areStatesEqual(nextState,state);return state=nextState,ownProps=nextOwnProps,propsChanged&&stateChanged?function handleNewPropsAndNewState(){return stateProps=mapStateToProps(state,ownProps),mapDispatchToProps.dependsOnOwnProps&&(dispatchProps=mapDispatchToProps(dispatch,ownProps)),mergedProps=mergeProps(stateProps,dispatchProps,ownProps)}():propsChanged?function handleNewProps(){return mapStateToProps.dependsOnOwnProps&&(stateProps=mapStateToProps(state,ownProps)),mapDispatchToProps.dependsOnOwnProps&&(dispatchProps=mapDispatchToProps(dispatch,ownProps)),mergedProps=mergeProps(stateProps,dispatchProps,ownProps)}():stateChanged?function handleNewState(){var nextStateProps=mapStateToProps(state,ownProps),statePropsChanged=!areStatePropsEqual(nextStateProps,stateProps);return stateProps=nextStateProps,statePropsChanged&&(mergedProps=mergeProps(stateProps,dispatchProps,ownProps)),mergedProps}():mergedProps}return function pureFinalPropsSelector(nextState,nextOwnProps){return hasRunAtLeastOnce?handleSubsequentCalls(nextState,nextOwnProps):function handleFirstCall(firstState,firstOwnProps){return stateProps=mapStateToProps(state=firstState,ownProps=firstOwnProps),dispatchProps=mapDispatchToProps(dispatch,ownProps),mergedProps=mergeProps(stateProps,dispatchProps,ownProps),hasRunAtLeastOnce=!0,mergedProps}(nextState,nextOwnProps)}}function finalPropsSelectorFactory(dispatch,_ref2){var initMapStateToProps=_ref2.initMapStateToProps,initMapDispatchToProps=_ref2.initMapDispatchToProps,initMergeProps=_ref2.initMergeProps,options=(0,objectWithoutPropertiesLoose.A)(_ref2,selectorFactory_excluded),mapStateToProps=initMapStateToProps(dispatch,options),mapDispatchToProps=initMapDispatchToProps(dispatch,options),mergeProps=initMergeProps(dispatch,options);return(options.pure?pureFinalPropsSelectorFactory:impureFinalPropsSelectorFactory)(mapStateToProps,mapDispatchToProps,mergeProps,dispatch,options)}var connect_excluded=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function match(arg,factories,name){for(var i=factories.length-1;i>=0;i--){var result=factories[i](arg);if(result)return result}return function(dispatch,options){throw new Error("Invalid value of type "+typeof arg+" for "+name+" argument when connecting component "+options.wrappedComponentName+".")}}function strictEqual(a,b){return a===b}function createConnect(_temp){var _ref=void 0===_temp?{}:_temp,_ref$connectHOC=_ref.connectHOC,connectHOC=void 0===_ref$connectHOC?connectAdvanced:_ref$connectHOC,_ref$mapStateToPropsF=_ref.mapStateToPropsFactories,mapStateToPropsFactories=void 0===_ref$mapStateToPropsF?mapStateToProps:_ref$mapStateToPropsF,_ref$mapDispatchToPro=_ref.mapDispatchToPropsFactories,mapDispatchToPropsFactories=void 0===_ref$mapDispatchToPro?mapDispatchToProps:_ref$mapDispatchToPro,_ref$mergePropsFactor=_ref.mergePropsFactories,mergePropsFactories=void 0===_ref$mergePropsFactor?mergeProps:_ref$mergePropsFactor,_ref$selectorFactory=_ref.selectorFactory,selectorFactory=void 0===_ref$selectorFactory?finalPropsSelectorFactory:_ref$selectorFactory;return function connect(mapStateToProps,mapDispatchToProps,mergeProps,_ref2){void 0===_ref2&&(_ref2={});var _ref3=_ref2,_ref3$pure=_ref3.pure,pure=void 0===_ref3$pure||_ref3$pure,_ref3$areStatesEqual=_ref3.areStatesEqual,areStatesEqual=void 0===_ref3$areStatesEqual?strictEqual:_ref3$areStatesEqual,_ref3$areOwnPropsEqua=_ref3.areOwnPropsEqual,areOwnPropsEqual=void 0===_ref3$areOwnPropsEqua?shallowEqual:_ref3$areOwnPropsEqua,_ref3$areStatePropsEq=_ref3.areStatePropsEqual,areStatePropsEqual=void 0===_ref3$areStatePropsEq?shallowEqual:_ref3$areStatePropsEq,_ref3$areMergedPropsE=_ref3.areMergedPropsEqual,areMergedPropsEqual=void 0===_ref3$areMergedPropsE?shallowEqual:_ref3$areMergedPropsE,extraOptions=(0,objectWithoutPropertiesLoose.A)(_ref3,connect_excluded),initMapStateToProps=match(mapStateToProps,mapStateToPropsFactories,"mapStateToProps"),initMapDispatchToProps=match(mapDispatchToProps,mapDispatchToPropsFactories,"mapDispatchToProps"),initMergeProps=match(mergeProps,mergePropsFactories,"mergeProps");return connectHOC(selectorFactory,(0,esm_extends.A)({methodName:"connect",getDisplayName:function getDisplayName(name){return"Connect("+name+")"},shouldHandleStateChanges:Boolean(mapStateToProps),initMapStateToProps,initMapDispatchToProps,initMergeProps,pure,areStatesEqual,areOwnPropsEqual,areStatePropsEqual,areMergedPropsEqual},extraOptions))}}const connect=createConnect();var react_dom=__webpack_require__("./node_modules/react-dom/index.js");function useMemoOne(getResult,inputs){var initial=(0,react.useState)((function(){return{inputs,result:getResult()}}))[0],isFirstRun=(0,react.useRef)(!0),committed=(0,react.useRef)(initial),cache=isFirstRun.current||Boolean(inputs&&committed.current.inputs&&function areInputsEqual(newInputs,lastInputs){if(newInputs.length!==lastInputs.length)return!1;for(var i=0;i<newInputs.length;i++)if(newInputs[i]!==lastInputs[i])return!1;return!0}(inputs,committed.current.inputs))?committed.current:{inputs,result:getResult()};return(0,react.useEffect)((function(){isFirstRun.current=!1,committed.current=cache}),[cache]),cache.result}!function setBatch(newBatch){batch=newBatch}(react_dom.unstable_batchedUpdates);var use_memo_one_esm_useMemo=useMemoOne,useCallback=function useCallbackOne(callback,inputs){return useMemoOne((function(){return callback}),inputs)};const tiny_invariant_esm=function invariant(condition,message){if(!condition)throw new Error("Invariant failed")};var getRect=function getRect(_ref){var top=_ref.top,right=_ref.right,bottom=_ref.bottom,left=_ref.left;return{top,right,bottom,left,width:right-left,height:bottom-top,x:left,y:top,center:{x:(right+left)/2,y:(bottom+top)/2}}},expand=function expand(target,expandBy){return{top:target.top-expandBy.top,left:target.left-expandBy.left,bottom:target.bottom+expandBy.bottom,right:target.right+expandBy.right}},shrink=function shrink(target,shrinkBy){return{top:target.top+shrinkBy.top,left:target.left+shrinkBy.left,bottom:target.bottom-shrinkBy.bottom,right:target.right-shrinkBy.right}},noSpacing={top:0,right:0,bottom:0,left:0},createBox=function createBox(_ref2){var borderBox=_ref2.borderBox,_ref2$margin=_ref2.margin,margin=void 0===_ref2$margin?noSpacing:_ref2$margin,_ref2$border=_ref2.border,border=void 0===_ref2$border?noSpacing:_ref2$border,_ref2$padding=_ref2.padding,padding=void 0===_ref2$padding?noSpacing:_ref2$padding,marginBox=getRect(expand(borderBox,margin)),paddingBox=getRect(shrink(borderBox,border)),contentBox=getRect(shrink(paddingBox,padding));return{marginBox,borderBox:getRect(borderBox),paddingBox,contentBox,margin,border,padding}},parse=function parse(raw){var value=raw.slice(0,-2);if("px"!==raw.slice(-2))return 0;var result=Number(value);return isNaN(result)&&tiny_invariant_esm(!1),result},offset=function offset(original,change){var borderBox=original.borderBox,border=original.border,margin=original.margin,padding=original.padding,shifted=function shift(target,shiftBy){return{top:target.top+shiftBy.y,left:target.left+shiftBy.x,bottom:target.bottom+shiftBy.y,right:target.right+shiftBy.x}}(borderBox,change);return createBox({borderBox:shifted,border,margin,padding})},withScroll=function withScroll(original,scroll){return void 0===scroll&&(scroll=function getWindowScroll(){return{x:window.pageXOffset,y:window.pageYOffset}}()),offset(original,scroll)},calculateBox=function calculateBox(borderBox,styles){var margin={top:parse(styles.marginTop),right:parse(styles.marginRight),bottom:parse(styles.marginBottom),left:parse(styles.marginLeft)},padding={top:parse(styles.paddingTop),right:parse(styles.paddingRight),bottom:parse(styles.paddingBottom),left:parse(styles.paddingLeft)},border={top:parse(styles.borderTopWidth),right:parse(styles.borderRightWidth),bottom:parse(styles.borderBottomWidth),left:parse(styles.borderLeftWidth)};return createBox({borderBox,margin,padding,border})},getBox=function getBox(el){var borderBox=el.getBoundingClientRect(),styles=window.getComputedStyle(el);return calculateBox(borderBox,styles)};function memoize_one_esm_areInputsEqual(newInputs,lastInputs){if(newInputs.length!==lastInputs.length)return!1;for(var i=0;i<newInputs.length;i++)if(newInputs[i]!==lastInputs[i])return!1;return!0}const memoize_one_esm=function memoizeOne(resultFn,isEqual){var lastThis;void 0===isEqual&&(isEqual=memoize_one_esm_areInputsEqual);var lastResult,lastArgs=[],calledOnce=!1;return function memoized(){for(var newArgs=[],_i=0;_i<arguments.length;_i++)newArgs[_i]=arguments[_i];return calledOnce&&lastThis===this&&isEqual(newArgs,lastArgs)||(lastResult=resultFn.apply(this,newArgs),calledOnce=!0,lastThis=this,lastArgs=newArgs),lastResult}};const raf_schd_esm=function rafSchd(fn){var lastArgs=[],frameId=null,wrapperFn=function wrapperFn(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];lastArgs=args,frameId||(frameId=requestAnimationFrame((function(){frameId=null,fn.apply(void 0,lastArgs)})))};return wrapperFn.cancel=function(){frameId&&(cancelAnimationFrame(frameId),frameId=null)},wrapperFn};function log(type,message){}log.bind(null,"warn"),log.bind(null,"error");function noop(){}function bindEvents(el,bindings,sharedOptions){var unbindings=bindings.map((function(binding){var options=function getOptions(shared,fromBinding){return(0,esm_extends.A)({},shared,{},fromBinding)}(sharedOptions,binding.options);return el.addEventListener(binding.eventName,binding.fn,options),function unbind(){el.removeEventListener(binding.eventName,binding.fn,options)}}));return function unbindAll(){unbindings.forEach((function(unbind){unbind()}))}}var isProduction$1=!0,react_beautiful_dnd_esm_prefix="Invariant failed";function RbdInvariant(message){this.message=message}function react_beautiful_dnd_esm_invariant(condition,message){if(!condition)throw new RbdInvariant(isProduction$1?react_beautiful_dnd_esm_prefix:react_beautiful_dnd_esm_prefix+": "+(message||""))}RbdInvariant.prototype.toString=function toString(){return this.message};var ErrorBoundary=function(_React$Component){function ErrorBoundary(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this).callbacks=null,_this.unbind=noop,_this.onWindowError=function(event){var callbacks=_this.getCallbacks();callbacks.isDragging()&&callbacks.tryAbort(),event.error instanceof RbdInvariant&&event.preventDefault()},_this.getCallbacks=function(){if(!_this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return _this.callbacks},_this.setCallbacks=function(callbacks){_this.callbacks=callbacks},_this}_inheritsLoose(ErrorBoundary,_React$Component);var _proto=ErrorBoundary.prototype;return _proto.componentDidMount=function componentDidMount(){this.unbind=bindEvents(window,[{eventName:"error",fn:this.onWindowError}])},_proto.componentDidCatch=function componentDidCatch(err){if(!(err instanceof RbdInvariant))throw err;this.setState({})},_proto.componentWillUnmount=function componentWillUnmount(){this.unbind()},_proto.render=function render(){return this.props.children(this.setCallbacks)},ErrorBoundary}(react.Component),position=function position(index){return index+1},withLocation=function withLocation(source,destination){var isInHomeList=source.droppableId===destination.droppableId,startPosition=position(source.index),endPosition=position(destination.index);return isInHomeList?"\n      You have moved the item from position "+startPosition+"\n      to position "+endPosition+"\n    ":"\n    You have moved the item from position "+startPosition+"\n    in list "+source.droppableId+"\n    to list "+destination.droppableId+"\n    in position "+endPosition+"\n  "},withCombine=function withCombine(id,source,combine){return source.droppableId===combine.droppableId?"\n      The item "+id+"\n      has been combined with "+combine.draggableId:"\n      The item "+id+"\n      in list "+source.droppableId+"\n      has been combined with "+combine.draggableId+"\n      in list "+combine.droppableId+"\n    "},returnedToStart=function returnedToStart(source){return"\n  The item has returned to its starting position\n  of "+position(source.index)+"\n"},preset={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:function onDragStart(start){return"\n  You have lifted an item in position "+position(start.source.index)+"\n"},onDragUpdate:function onDragUpdate(update){var location=update.destination;if(location)return withLocation(update.source,location);var combine=update.combine;return combine?withCombine(update.draggableId,update.source,combine):"You are over an area that cannot be dropped on"},onDragEnd:function onDragEnd(result){if("CANCEL"===result.reason)return"\n      Movement cancelled.\n      "+returnedToStart(result.source)+"\n    ";var location=result.destination,combine=result.combine;return location?"\n      You have dropped the item.\n      "+withLocation(result.source,location)+"\n    ":combine?"\n      You have dropped the item.\n      "+withCombine(result.draggableId,result.source,combine)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+returnedToStart(result.source)+"\n  "}},origin={x:0,y:0},add=function add(point1,point2){return{x:point1.x+point2.x,y:point1.y+point2.y}},subtract=function subtract(point1,point2){return{x:point1.x-point2.x,y:point1.y-point2.y}},isEqual=function isEqual(point1,point2){return point1.x===point2.x&&point1.y===point2.y},negate=function negate(point){return{x:0!==point.x?-point.x:0,y:0!==point.y?-point.y:0}},patch=function patch(line,value,otherValue){var _ref;return void 0===otherValue&&(otherValue=0),(_ref={})[line]=value,_ref["x"===line?"y":"x"]=otherValue,_ref},distance=function distance(point1,point2){return Math.sqrt(Math.pow(point2.x-point1.x,2)+Math.pow(point2.y-point1.y,2))},closest=function closest(target,points){return Math.min.apply(Math,points.map((function(point){return distance(target,point)})))},apply=function apply(fn){return function(point){return{x:fn(point.x),y:fn(point.y)}}},offsetByPosition=function offsetByPosition(spacing,point){return{top:spacing.top+point.y,left:spacing.left+point.x,bottom:spacing.bottom+point.y,right:spacing.right+point.x}},getCorners=function getCorners(spacing){return[{x:spacing.left,y:spacing.top},{x:spacing.right,y:spacing.top},{x:spacing.left,y:spacing.bottom},{x:spacing.right,y:spacing.bottom}]},clip=function clip(target,frame){return frame&&frame.shouldClipSubject?function(frame,subject){var result=getRect({top:Math.max(subject.top,frame.top),right:Math.min(subject.right,frame.right),bottom:Math.min(subject.bottom,frame.bottom),left:Math.max(subject.left,frame.left)});return result.width<=0||result.height<=0?null:result}(frame.pageMarginBox,target):getRect(target)},getSubject=function(_ref){var page=_ref.page,withPlaceholder=_ref.withPlaceholder,axis=_ref.axis,frame=_ref.frame,scrolled=function scroll(target,frame){return frame?offsetByPosition(target,frame.scroll.diff.displacement):target}(page.marginBox,frame),increased=function increase(target,axis,withPlaceholder){var _extends2;return withPlaceholder&&withPlaceholder.increasedBy?(0,esm_extends.A)({},target,((_extends2={})[axis.end]=target[axis.end]+withPlaceholder.increasedBy[axis.line],_extends2)):target}(scrolled,axis,withPlaceholder);return{page,withPlaceholder,active:clip(increased,frame)}},scrollDroppable=function(droppable,newScroll){droppable.frame||react_beautiful_dnd_esm_invariant(!1);var scrollable=droppable.frame,scrollDiff=subtract(newScroll,scrollable.scroll.initial),scrollDisplacement=negate(scrollDiff),frame=(0,esm_extends.A)({},scrollable,{scroll:{initial:scrollable.scroll.initial,current:newScroll,diff:{value:scrollDiff,displacement:scrollDisplacement},max:scrollable.scroll.max}}),subject=getSubject({page:droppable.subject.page,withPlaceholder:droppable.subject.withPlaceholder,axis:droppable.axis,frame});return(0,esm_extends.A)({},droppable,{frame,subject})};function values(map){return Object.values?Object.values(map):Object.keys(map).map((function(key){return map[key]}))}function findIndex(list,predicate){if(list.findIndex)return list.findIndex(predicate);for(var i=0;i<list.length;i++)if(predicate(list[i]))return i;return-1}function find(list,predicate){if(list.find)return list.find(predicate);var index=findIndex(list,predicate);return-1!==index?list[index]:void 0}function toArray(list){return Array.prototype.slice.call(list)}var toDroppableMap=memoize_one_esm((function(droppables){return droppables.reduce((function(previous,current){return previous[current.descriptor.id]=current,previous}),{})})),toDraggableMap=memoize_one_esm((function(draggables){return draggables.reduce((function(previous,current){return previous[current.descriptor.id]=current,previous}),{})})),toDroppableList=memoize_one_esm((function(droppables){return values(droppables)})),toDraggableList=memoize_one_esm((function(draggables){return values(draggables)})),getDraggablesInsideDroppable=memoize_one_esm((function(droppableId,draggables){var result=toDraggableList(draggables).filter((function(draggable){return droppableId===draggable.descriptor.droppableId})).sort((function(a,b){return a.descriptor.index-b.descriptor.index}));return result}));function tryGetDestination(impact){return impact.at&&"REORDER"===impact.at.type?impact.at.destination:null}function tryGetCombine(impact){return impact.at&&"COMBINE"===impact.at.type?impact.at.combine:null}var removeDraggableFromList=memoize_one_esm((function(remove,list){return list.filter((function(item){return item.descriptor.id!==remove.descriptor.id}))})),isHomeOf=function(draggable,destination){return draggable.descriptor.droppableId===destination.descriptor.id},noDisplacedBy={point:origin,value:0},emptyGroups={invisible:{},visible:{},all:[]},noImpact={displaced:emptyGroups,displacedBy:noDisplacedBy,at:null},isWithin=function(lowerBound,upperBound){return function(value){return lowerBound<=value&&value<=upperBound}},isPartiallyVisibleThroughFrame=function(frame){var isWithinVertical=isWithin(frame.top,frame.bottom),isWithinHorizontal=isWithin(frame.left,frame.right);return function(subject){if(isWithinVertical(subject.top)&&isWithinVertical(subject.bottom)&&isWithinHorizontal(subject.left)&&isWithinHorizontal(subject.right))return!0;var isPartiallyVisibleVertically=isWithinVertical(subject.top)||isWithinVertical(subject.bottom),isPartiallyVisibleHorizontally=isWithinHorizontal(subject.left)||isWithinHorizontal(subject.right);if(isPartiallyVisibleVertically&&isPartiallyVisibleHorizontally)return!0;var isBiggerVertically=subject.top<frame.top&&subject.bottom>frame.bottom,isBiggerHorizontally=subject.left<frame.left&&subject.right>frame.right;return!(!isBiggerVertically||!isBiggerHorizontally)||(isBiggerVertically&&isPartiallyVisibleHorizontally||isBiggerHorizontally&&isPartiallyVisibleVertically)}},isTotallyVisibleThroughFrame=function(frame){var isWithinVertical=isWithin(frame.top,frame.bottom),isWithinHorizontal=isWithin(frame.left,frame.right);return function(subject){return isWithinVertical(subject.top)&&isWithinVertical(subject.bottom)&&isWithinHorizontal(subject.left)&&isWithinHorizontal(subject.right)}},vertical={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},horizontal={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},isVisible=function isVisible(_ref){var toBeDisplaced=_ref.target,destination=_ref.destination,viewport=_ref.viewport,withDroppableDisplacement=_ref.withDroppableDisplacement,isVisibleThroughFrameFn=_ref.isVisibleThroughFrameFn,displacedTarget=withDroppableDisplacement?function getDroppableDisplaced(target,destination){var displacement=destination.frame?destination.frame.scroll.diff.displacement:origin;return offsetByPosition(target,displacement)}(toBeDisplaced,destination):toBeDisplaced;return function isVisibleInDroppable(target,destination,isVisibleThroughFrameFn){return!!destination.subject.active&&isVisibleThroughFrameFn(destination.subject.active)(target)}(displacedTarget,destination,isVisibleThroughFrameFn)&&function isVisibleInViewport(target,viewport,isVisibleThroughFrameFn){return isVisibleThroughFrameFn(viewport)(target)}(displacedTarget,viewport,isVisibleThroughFrameFn)},isPartiallyVisible=function isPartiallyVisible(args){return isVisible((0,esm_extends.A)({},args,{isVisibleThroughFrameFn:isPartiallyVisibleThroughFrame}))},isTotallyVisible=function isTotallyVisible(args){return isVisible((0,esm_extends.A)({},args,{isVisibleThroughFrameFn:isTotallyVisibleThroughFrame}))},getShouldAnimate=function getShouldAnimate(id,last,forceShouldAnimate){if("boolean"==typeof forceShouldAnimate)return forceShouldAnimate;if(!last)return!0;var invisible=last.invisible,visible=last.visible;if(invisible[id])return!1;var previous=visible[id];return!previous||previous.shouldAnimate};function getDisplacementGroups(_ref){var afterDragging=_ref.afterDragging,destination=_ref.destination,displacedBy=_ref.displacedBy,viewport=_ref.viewport,forceShouldAnimate=_ref.forceShouldAnimate,last=_ref.last;return afterDragging.reduce((function process(groups,draggable){var target=function getTarget(draggable,displacedBy){var marginBox=draggable.page.marginBox,expandBy={top:displacedBy.point.y,right:0,bottom:0,left:displacedBy.point.x};return getRect(expand(marginBox,expandBy))}(draggable,displacedBy),id=draggable.descriptor.id;if(groups.all.push(id),!isPartiallyVisible({target,destination,viewport,withDroppableDisplacement:!0}))return groups.invisible[draggable.descriptor.id]=!0,groups;var displacement={draggableId:id,shouldAnimate:getShouldAnimate(id,last,forceShouldAnimate)};return groups.visible[id]=displacement,groups}),{all:[],visible:{},invisible:{}})}function goAtEnd(_ref){var insideDestination=_ref.insideDestination,inHomeList=_ref.inHomeList,displacedBy=_ref.displacedBy,destination=_ref.destination,newIndex=function getIndexOfLastItem(draggables,options){if(!draggables.length)return 0;var indexOfLastItem=draggables[draggables.length-1].descriptor.index;return options.inHomeList?indexOfLastItem:indexOfLastItem+1}(insideDestination,{inHomeList});return{displaced:emptyGroups,displacedBy,at:{type:"REORDER",destination:{droppableId:destination.descriptor.id,index:newIndex}}}}function calculateReorderImpact(_ref2){var draggable=_ref2.draggable,insideDestination=_ref2.insideDestination,destination=_ref2.destination,viewport=_ref2.viewport,displacedBy=_ref2.displacedBy,last=_ref2.last,index=_ref2.index,forceShouldAnimate=_ref2.forceShouldAnimate,inHomeList=isHomeOf(draggable,destination);if(null==index)return goAtEnd({insideDestination,inHomeList,displacedBy,destination});var match=find(insideDestination,(function(item){return item.descriptor.index===index}));if(!match)return goAtEnd({insideDestination,inHomeList,displacedBy,destination});var withoutDragging=removeDraggableFromList(draggable,insideDestination),sliceFrom=insideDestination.indexOf(match);return{displaced:getDisplacementGroups({afterDragging:withoutDragging.slice(sliceFrom),destination,displacedBy,last,viewport:viewport.frame,forceShouldAnimate}),displacedBy,at:{type:"REORDER",destination:{droppableId:destination.descriptor.id,index}}}}function didStartAfterCritical(draggableId,afterCritical){return Boolean(afterCritical.effected[draggableId])}var moveToNextIndex=function(_ref){var isMovingForward=_ref.isMovingForward,isInHomeList=_ref.isInHomeList,draggable=_ref.draggable,draggables=_ref.draggables,destination=_ref.destination,insideDestination=_ref.insideDestination,previousImpact=_ref.previousImpact,viewport=_ref.viewport,afterCritical=_ref.afterCritical,wasAt=previousImpact.at;if(wasAt||react_beautiful_dnd_esm_invariant(!1),"REORDER"===wasAt.type){var _newIndex=function(_ref){var isMovingForward=_ref.isMovingForward,isInHomeList=_ref.isInHomeList,insideDestination=_ref.insideDestination,location=_ref.location;if(!insideDestination.length)return null;var currentIndex=location.index,proposedIndex=isMovingForward?currentIndex+1:currentIndex-1,firstIndex=insideDestination[0].descriptor.index,lastIndex=insideDestination[insideDestination.length-1].descriptor.index;return proposedIndex<firstIndex||proposedIndex>(isInHomeList?lastIndex:lastIndex+1)?null:proposedIndex}({isMovingForward,isInHomeList,location:wasAt.destination,insideDestination});return null==_newIndex?null:calculateReorderImpact({draggable,insideDestination,destination,viewport,last:previousImpact.displaced,displacedBy:previousImpact.displacedBy,index:_newIndex})}var newIndex=function(_ref){var isMovingForward=_ref.isMovingForward,destination=_ref.destination,draggables=_ref.draggables,combine=_ref.combine,afterCritical=_ref.afterCritical;if(!destination.isCombineEnabled)return null;var combineId=combine.draggableId,combineWithIndex=draggables[combineId].descriptor.index;return didStartAfterCritical(combineId,afterCritical)?isMovingForward?combineWithIndex:combineWithIndex-1:isMovingForward?combineWithIndex+1:combineWithIndex}({isMovingForward,destination,displaced:previousImpact.displaced,draggables,combine:wasAt.combine,afterCritical});return null==newIndex?null:calculateReorderImpact({draggable,insideDestination,destination,viewport,last:previousImpact.displaced,displacedBy:previousImpact.displacedBy,index:newIndex})},whenCombining=function(_ref){var afterCritical=_ref.afterCritical,impact=_ref.impact,draggables=_ref.draggables,combine=tryGetCombine(impact);combine||react_beautiful_dnd_esm_invariant(!1);var combineWith=combine.draggableId,center=draggables[combineWith].page.borderBox.center,displaceBy=function(_ref){var displaced=_ref.displaced,afterCritical=_ref.afterCritical,combineWith=_ref.combineWith,displacedBy=_ref.displacedBy,isDisplaced=Boolean(displaced.visible[combineWith]||displaced.invisible[combineWith]);return didStartAfterCritical(combineWith,afterCritical)?isDisplaced?origin:negate(displacedBy.point):isDisplaced?displacedBy.point:origin}({displaced:impact.displaced,afterCritical,combineWith,displacedBy:impact.displacedBy});return add(center,displaceBy)},distanceFromStartToBorderBoxCenter=function distanceFromStartToBorderBoxCenter(axis,box){return box.margin[axis.start]+box.borderBox[axis.size]/2},getCrossAxisBorderBoxCenter=function getCrossAxisBorderBoxCenter(axis,target,isMoving){return target[axis.crossAxisStart]+isMoving.margin[axis.crossAxisStart]+isMoving.borderBox[axis.crossAxisSize]/2},goAfter=function goAfter(_ref){var axis=_ref.axis,moveRelativeTo=_ref.moveRelativeTo,isMoving=_ref.isMoving;return patch(axis.line,moveRelativeTo.marginBox[axis.end]+distanceFromStartToBorderBoxCenter(axis,isMoving),getCrossAxisBorderBoxCenter(axis,moveRelativeTo.marginBox,isMoving))},goBefore=function goBefore(_ref2){var axis=_ref2.axis,moveRelativeTo=_ref2.moveRelativeTo,isMoving=_ref2.isMoving;return patch(axis.line,moveRelativeTo.marginBox[axis.start]-function distanceFromEndToBorderBoxCenter(axis,box){return box.margin[axis.end]+box.borderBox[axis.size]/2}(axis,isMoving),getCrossAxisBorderBoxCenter(axis,moveRelativeTo.marginBox,isMoving))},whenReordering=function(_ref){var impact=_ref.impact,draggable=_ref.draggable,draggables=_ref.draggables,droppable=_ref.droppable,afterCritical=_ref.afterCritical,insideDestination=getDraggablesInsideDroppable(droppable.descriptor.id,draggables),draggablePage=draggable.page,axis=droppable.axis;if(!insideDestination.length)return function goIntoStart(_ref3){var axis=_ref3.axis,moveInto=_ref3.moveInto,isMoving=_ref3.isMoving;return patch(axis.line,moveInto.contentBox[axis.start]+distanceFromStartToBorderBoxCenter(axis,isMoving),getCrossAxisBorderBoxCenter(axis,moveInto.contentBox,isMoving))}({axis,moveInto:droppable.page,isMoving:draggablePage});var displaced=impact.displaced,displacedBy=impact.displacedBy,closestAfter=displaced.all[0];if(closestAfter){var closest=draggables[closestAfter];if(didStartAfterCritical(closestAfter,afterCritical))return goBefore({axis,moveRelativeTo:closest.page,isMoving:draggablePage});var withDisplacement=offset(closest.page,displacedBy.point);return goBefore({axis,moveRelativeTo:withDisplacement,isMoving:draggablePage})}var last=insideDestination[insideDestination.length-1];if(last.descriptor.id===draggable.descriptor.id)return draggablePage.borderBox.center;if(didStartAfterCritical(last.descriptor.id,afterCritical)){var page=offset(last.page,negate(afterCritical.displacedBy.point));return goAfter({axis,moveRelativeTo:page,isMoving:draggablePage})}return goAfter({axis,moveRelativeTo:last.page,isMoving:draggablePage})},withDroppableDisplacement=function(droppable,point){var frame=droppable.frame;return frame?add(point,frame.scroll.diff.displacement):point},getPageBorderBoxCenterFromImpact=function(args){var withoutDisplacement=function getResultWithoutDroppableDisplacement(_ref){var impact=_ref.impact,draggable=_ref.draggable,droppable=_ref.droppable,draggables=_ref.draggables,afterCritical=_ref.afterCritical,original=draggable.page.borderBox.center,at=impact.at;return droppable&&at?"REORDER"===at.type?whenReordering({impact,draggable,draggables,droppable,afterCritical}):whenCombining({impact,draggables,afterCritical}):original}(args),droppable=args.droppable;return droppable?withDroppableDisplacement(droppable,withoutDisplacement):withoutDisplacement},scrollViewport=function(viewport,newScroll){var diff=subtract(newScroll,viewport.scroll.initial),displacement=negate(diff);return{frame:getRect({top:newScroll.y,bottom:newScroll.y+viewport.frame.height,left:newScroll.x,right:newScroll.x+viewport.frame.width}),scroll:{initial:viewport.scroll.initial,max:viewport.scroll.max,current:newScroll,diff:{value:diff,displacement}}}};function getDraggables(ids,draggables){return ids.map((function(id){return draggables[id]}))}var getClientFromPageBorderBoxCenter=function(_ref){var pageBorderBoxCenter=_ref.pageBorderBoxCenter,draggable=_ref.draggable,withoutPageScrollChange=function(viewport,point){return add(viewport.scroll.diff.displacement,point)}(_ref.viewport,pageBorderBoxCenter),offset=subtract(withoutPageScrollChange,draggable.page.borderBox.center);return add(draggable.client.borderBox.center,offset)},isTotallyVisibleInNewLocation=function(_ref){var draggable=_ref.draggable,destination=_ref.destination,newPageBorderBoxCenter=_ref.newPageBorderBoxCenter,viewport=_ref.viewport,withDroppableDisplacement=_ref.withDroppableDisplacement,_ref$onlyOnMainAxis=_ref.onlyOnMainAxis,onlyOnMainAxis=void 0!==_ref$onlyOnMainAxis&&_ref$onlyOnMainAxis,changeNeeded=subtract(newPageBorderBoxCenter,draggable.page.borderBox.center),args={target:offsetByPosition(draggable.page.borderBox,changeNeeded),destination,withDroppableDisplacement,viewport};return onlyOnMainAxis?function isTotallyVisibleOnAxis(args){return isVisible((0,esm_extends.A)({},args,{isVisibleThroughFrameFn:(axis=args.destination.axis,function(frame){var isWithinVertical=isWithin(frame.top,frame.bottom),isWithinHorizontal=isWithin(frame.left,frame.right);return function(subject){return axis===vertical?isWithinVertical(subject.top)&&isWithinVertical(subject.bottom):isWithinHorizontal(subject.left)&&isWithinHorizontal(subject.right)}})}));var axis}(args):isTotallyVisible(args)},moveToNextPlace=function(_ref){var isMovingForward=_ref.isMovingForward,draggable=_ref.draggable,destination=_ref.destination,draggables=_ref.draggables,previousImpact=_ref.previousImpact,viewport=_ref.viewport,previousPageBorderBoxCenter=_ref.previousPageBorderBoxCenter,previousClientSelection=_ref.previousClientSelection,afterCritical=_ref.afterCritical;if(!destination.isEnabled)return null;var insideDestination=getDraggablesInsideDroppable(destination.descriptor.id,draggables),isInHomeList=isHomeOf(draggable,destination),impact=function(_ref){var isMovingForward=_ref.isMovingForward,draggable=_ref.draggable,destination=_ref.destination,insideDestination=_ref.insideDestination,previousImpact=_ref.previousImpact;if(!destination.isCombineEnabled)return null;if(!tryGetDestination(previousImpact))return null;function getImpact(target){var at={type:"COMBINE",combine:{draggableId:target,droppableId:destination.descriptor.id}};return(0,esm_extends.A)({},previousImpact,{at})}var all=previousImpact.displaced.all,closestId=all.length?all[0]:null;if(isMovingForward)return closestId?getImpact(closestId):null;var withoutDraggable=removeDraggableFromList(draggable,insideDestination);if(!closestId)return withoutDraggable.length?getImpact(withoutDraggable[withoutDraggable.length-1].descriptor.id):null;var indexOfClosest=findIndex(withoutDraggable,(function(d){return d.descriptor.id===closestId}));-1===indexOfClosest&&react_beautiful_dnd_esm_invariant(!1);var proposedIndex=indexOfClosest-1;return proposedIndex<0?null:getImpact(withoutDraggable[proposedIndex].descriptor.id)}({isMovingForward,draggable,destination,insideDestination,previousImpact})||moveToNextIndex({isMovingForward,isInHomeList,draggable,draggables,destination,insideDestination,previousImpact,viewport,afterCritical});if(!impact)return null;var pageBorderBoxCenter=getPageBorderBoxCenterFromImpact({impact,draggable,droppable:destination,draggables,afterCritical});if(isTotallyVisibleInNewLocation({draggable,destination,newPageBorderBoxCenter:pageBorderBoxCenter,viewport:viewport.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:getClientFromPageBorderBoxCenter({pageBorderBoxCenter,draggable,viewport}),impact,scrollJumpRequest:null};var distance=subtract(pageBorderBoxCenter,previousPageBorderBoxCenter),cautious=function(_ref){var impact=_ref.impact,viewport=_ref.viewport,destination=_ref.destination,draggables=_ref.draggables,maxScrollChange=_ref.maxScrollChange,scrolledViewport=scrollViewport(viewport,add(viewport.scroll.current,maxScrollChange)),scrolledDroppable=destination.frame?scrollDroppable(destination,add(destination.frame.scroll.current,maxScrollChange)):destination,last=impact.displaced,withViewportScroll=getDisplacementGroups({afterDragging:getDraggables(last.all,draggables),destination,displacedBy:impact.displacedBy,viewport:scrolledViewport.frame,last,forceShouldAnimate:!1}),withDroppableScroll=getDisplacementGroups({afterDragging:getDraggables(last.all,draggables),destination:scrolledDroppable,displacedBy:impact.displacedBy,viewport:viewport.frame,last,forceShouldAnimate:!1}),invisible={},visible={},groups=[last,withViewportScroll,withDroppableScroll];return last.all.forEach((function(id){var displacement=function tryGetVisible(id,groups){for(var i=0;i<groups.length;i++){var displacement=groups[i].visible[id];if(displacement)return displacement}return null}(id,groups);displacement?visible[id]=displacement:invisible[id]=!0})),(0,esm_extends.A)({},impact,{displaced:{all:last.all,invisible,visible}})}({impact,viewport,destination,draggables,maxScrollChange:distance});return{clientSelection:previousClientSelection,impact:cautious,scrollJumpRequest:distance}},getKnownActive=function getKnownActive(droppable){var rect=droppable.subject.active;return rect||react_beautiful_dnd_esm_invariant(!1),rect},getCurrentPageBorderBoxCenter=function getCurrentPageBorderBoxCenter(draggable,afterCritical){var original=draggable.page.borderBox.center;return didStartAfterCritical(draggable.descriptor.id,afterCritical)?subtract(original,afterCritical.displacedBy.point):original},getCurrentPageBorderBox=function getCurrentPageBorderBox(draggable,afterCritical){var original=draggable.page.borderBox;return didStartAfterCritical(draggable.descriptor.id,afterCritical)?offsetByPosition(original,negate(afterCritical.displacedBy.point)):original},getDisplacedBy=memoize_one_esm((function getDisplacedBy(axis,displaceBy){var displacement=displaceBy[axis.line];return{value:displacement,point:patch(axis.line,displacement)}})),withMaxScroll=function withMaxScroll(frame,max){return(0,esm_extends.A)({},frame,{scroll:(0,esm_extends.A)({},frame.scroll,{max})})},addPlaceholder=function addPlaceholder(droppable,draggable,draggables){var frame=droppable.frame;isHomeOf(draggable,droppable)&&react_beautiful_dnd_esm_invariant(!1),droppable.subject.withPlaceholder&&react_beautiful_dnd_esm_invariant(!1);var placeholderSize=getDisplacedBy(droppable.axis,draggable.displaceBy).point,requiredGrowth=function getRequiredGrowthForPlaceholder(droppable,placeholderSize,draggables){var axis=droppable.axis;if("virtual"===droppable.descriptor.mode)return patch(axis.line,placeholderSize[axis.line]);var availableSpace=droppable.subject.page.contentBox[axis.size],needsToGrowBy=getDraggablesInsideDroppable(droppable.descriptor.id,draggables).reduce((function(sum,dimension){return sum+dimension.client.marginBox[axis.size]}),0)+placeholderSize[axis.line]-availableSpace;return needsToGrowBy<=0?null:patch(axis.line,needsToGrowBy)}(droppable,placeholderSize,draggables),added={placeholderSize,increasedBy:requiredGrowth,oldFrameMaxScroll:droppable.frame?droppable.frame.scroll.max:null};if(!frame){var _subject=getSubject({page:droppable.subject.page,withPlaceholder:added,axis:droppable.axis,frame:droppable.frame});return(0,esm_extends.A)({},droppable,{subject:_subject})}var maxScroll=requiredGrowth?add(frame.scroll.max,requiredGrowth):frame.scroll.max,newFrame=withMaxScroll(frame,maxScroll),subject=getSubject({page:droppable.subject.page,withPlaceholder:added,axis:droppable.axis,frame:newFrame});return(0,esm_extends.A)({},droppable,{subject,frame:newFrame})},moveCrossAxis=function(_ref){var isMovingForward=_ref.isMovingForward,previousPageBorderBoxCenter=_ref.previousPageBorderBoxCenter,draggable=_ref.draggable,isOver=_ref.isOver,draggables=_ref.draggables,droppables=_ref.droppables,viewport=_ref.viewport,afterCritical=_ref.afterCritical,destination=function(_ref){var isMovingForward=_ref.isMovingForward,pageBorderBoxCenter=_ref.pageBorderBoxCenter,source=_ref.source,droppables=_ref.droppables,viewport=_ref.viewport,active=source.subject.active;if(!active)return null;var axis=source.axis,isBetweenSourceClipped=isWithin(active[axis.start],active[axis.end]),candidates=toDroppableList(droppables).filter((function(droppable){return droppable!==source})).filter((function(droppable){return droppable.isEnabled})).filter((function(droppable){return Boolean(droppable.subject.active)})).filter((function(droppable){return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable))})).filter((function(droppable){var activeOfTarget=getKnownActive(droppable);return isMovingForward?active[axis.crossAxisEnd]<activeOfTarget[axis.crossAxisEnd]:activeOfTarget[axis.crossAxisStart]<active[axis.crossAxisStart]})).filter((function(droppable){var activeOfTarget=getKnownActive(droppable),isBetweenDestinationClipped=isWithin(activeOfTarget[axis.start],activeOfTarget[axis.end]);return isBetweenSourceClipped(activeOfTarget[axis.start])||isBetweenSourceClipped(activeOfTarget[axis.end])||isBetweenDestinationClipped(active[axis.start])||isBetweenDestinationClipped(active[axis.end])})).sort((function(a,b){var first=getKnownActive(a)[axis.crossAxisStart],second=getKnownActive(b)[axis.crossAxisStart];return isMovingForward?first-second:second-first})).filter((function(droppable,index,array){return getKnownActive(droppable)[axis.crossAxisStart]===getKnownActive(array[0])[axis.crossAxisStart]}));if(!candidates.length)return null;if(1===candidates.length)return candidates[0];var contains=candidates.filter((function(droppable){return isWithin(getKnownActive(droppable)[axis.start],getKnownActive(droppable)[axis.end])(pageBorderBoxCenter[axis.line])}));return 1===contains.length?contains[0]:contains.length>1?contains.sort((function(a,b){return getKnownActive(a)[axis.start]-getKnownActive(b)[axis.start]}))[0]:candidates.sort((function(a,b){var first=closest(pageBorderBoxCenter,getCorners(getKnownActive(a))),second=closest(pageBorderBoxCenter,getCorners(getKnownActive(b)));return first!==second?first-second:getKnownActive(a)[axis.start]-getKnownActive(b)[axis.start]}))[0]}({isMovingForward,pageBorderBoxCenter:previousPageBorderBoxCenter,source:isOver,droppables,viewport});if(!destination)return null;var insideDestination=getDraggablesInsideDroppable(destination.descriptor.id,draggables),moveRelativeTo=function(_ref){var pageBorderBoxCenter=_ref.pageBorderBoxCenter,viewport=_ref.viewport,destination=_ref.destination,insideDestination=_ref.insideDestination,afterCritical=_ref.afterCritical,sorted=insideDestination.filter((function(draggable){return isTotallyVisible({target:getCurrentPageBorderBox(draggable,afterCritical),destination,viewport:viewport.frame,withDroppableDisplacement:!0})})).sort((function(a,b){var distanceToA=distance(pageBorderBoxCenter,withDroppableDisplacement(destination,getCurrentPageBorderBoxCenter(a,afterCritical))),distanceToB=distance(pageBorderBoxCenter,withDroppableDisplacement(destination,getCurrentPageBorderBoxCenter(b,afterCritical)));return distanceToA<distanceToB?-1:distanceToB<distanceToA?1:a.descriptor.index-b.descriptor.index}));return sorted[0]||null}({pageBorderBoxCenter:previousPageBorderBoxCenter,viewport,destination,insideDestination,afterCritical}),impact=function(_ref){var previousPageBorderBoxCenter=_ref.previousPageBorderBoxCenter,moveRelativeTo=_ref.moveRelativeTo,insideDestination=_ref.insideDestination,draggable=_ref.draggable,draggables=_ref.draggables,destination=_ref.destination,viewport=_ref.viewport,afterCritical=_ref.afterCritical;if(!moveRelativeTo){if(insideDestination.length)return null;var proposed={displaced:emptyGroups,displacedBy:noDisplacedBy,at:{type:"REORDER",destination:{droppableId:destination.descriptor.id,index:0}}},proposedPageBorderBoxCenter=getPageBorderBoxCenterFromImpact({impact:proposed,draggable,droppable:destination,draggables,afterCritical}),withPlaceholder=isHomeOf(draggable,destination)?destination:addPlaceholder(destination,draggable,draggables);return isTotallyVisibleInNewLocation({draggable,destination:withPlaceholder,newPageBorderBoxCenter:proposedPageBorderBoxCenter,viewport:viewport.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?proposed:null}var relativeTo,isGoingBeforeTarget=Boolean(previousPageBorderBoxCenter[destination.axis.line]<=moveRelativeTo.page.borderBox.center[destination.axis.line]),proposedIndex=(relativeTo=moveRelativeTo.descriptor.index,moveRelativeTo.descriptor.id===draggable.descriptor.id||isGoingBeforeTarget?relativeTo:relativeTo+1),displacedBy=getDisplacedBy(destination.axis,draggable.displaceBy);return calculateReorderImpact({draggable,insideDestination,destination,viewport,displacedBy,last:emptyGroups,index:proposedIndex})}({previousPageBorderBoxCenter,destination,draggable,draggables,moveRelativeTo,insideDestination,viewport,afterCritical});if(!impact)return null;var pageBorderBoxCenter=getPageBorderBoxCenterFromImpact({impact,draggable,droppable:destination,draggables,afterCritical});return{clientSelection:getClientFromPageBorderBoxCenter({pageBorderBoxCenter,draggable,viewport}),impact,scrollJumpRequest:null}},whatIsDraggedOver=function(impact){var at=impact.at;return at?"REORDER"===at.type?at.destination.droppableId:at.combine.droppableId:null},moveInDirection=function(_ref){var state=_ref.state,type=_ref.type,isActuallyOver=function getDroppableOver(impact,droppables){var id=whatIsDraggedOver(impact);return id?droppables[id]:null}(state.impact,state.dimensions.droppables),isMainAxisMovementAllowed=Boolean(isActuallyOver),home=state.dimensions.droppables[state.critical.droppable.id],isOver=isActuallyOver||home,direction=isOver.axis.direction,isMovingOnMainAxis="vertical"===direction&&("MOVE_UP"===type||"MOVE_DOWN"===type)||"horizontal"===direction&&("MOVE_LEFT"===type||"MOVE_RIGHT"===type);if(isMovingOnMainAxis&&!isMainAxisMovementAllowed)return null;var isMovingForward="MOVE_DOWN"===type||"MOVE_RIGHT"===type,draggable=state.dimensions.draggables[state.critical.draggable.id],previousPageBorderBoxCenter=state.current.page.borderBoxCenter,_state$dimensions=state.dimensions,draggables=_state$dimensions.draggables,droppables=_state$dimensions.droppables;return isMovingOnMainAxis?moveToNextPlace({isMovingForward,previousPageBorderBoxCenter,draggable,destination:isOver,draggables,viewport:state.viewport,previousClientSelection:state.current.client.selection,previousImpact:state.impact,afterCritical:state.afterCritical}):moveCrossAxis({isMovingForward,previousPageBorderBoxCenter,draggable,isOver,draggables,droppables,viewport:state.viewport,afterCritical:state.afterCritical})};function isMovementAllowed(state){return"DRAGGING"===state.phase||"COLLECTING"===state.phase}function isPositionInFrame(frame){var isWithinVertical=isWithin(frame.top,frame.bottom),isWithinHorizontal=isWithin(frame.left,frame.right);return function run(point){return isWithinVertical(point.y)&&isWithinHorizontal(point.x)}}function getDroppableOver$1(_ref2){var pageBorderBox=_ref2.pageBorderBox,draggable=_ref2.draggable,droppables=_ref2.droppables,candidates=toDroppableList(droppables).filter((function(item){if(!item.isEnabled)return!1;var active=item.subject.active;if(!active)return!1;if(!function getHasOverlap(first,second){return first.left<second.right&&first.right>second.left&&first.top<second.bottom&&first.bottom>second.top}(pageBorderBox,active))return!1;if(isPositionInFrame(active)(pageBorderBox.center))return!0;var axis=item.axis,childCenter=active.center[axis.crossAxisLine],crossAxisStart=pageBorderBox[axis.crossAxisStart],crossAxisEnd=pageBorderBox[axis.crossAxisEnd],isContained=isWithin(active[axis.crossAxisStart],active[axis.crossAxisEnd]),isStartContained=isContained(crossAxisStart),isEndContained=isContained(crossAxisEnd);return!isStartContained&&!isEndContained||(isStartContained?crossAxisStart<childCenter:crossAxisEnd>childCenter)}));return candidates.length?1===candidates.length?candidates[0].descriptor.id:function getFurthestAway(_ref){var pageBorderBox=_ref.pageBorderBox,draggable=_ref.draggable,candidates=_ref.candidates,startCenter=draggable.page.borderBox.center,sorted=candidates.map((function(candidate){var axis=candidate.axis,target=patch(candidate.axis.line,pageBorderBox.center[axis.line],candidate.page.borderBox.center[axis.crossAxisLine]);return{id:candidate.descriptor.id,distance:distance(startCenter,target)}})).sort((function(a,b){return b.distance-a.distance}));return sorted[0]?sorted[0].id:null}({pageBorderBox,draggable,candidates}):null}var offsetRectByPosition=function offsetRectByPosition(rect,point){return getRect(offsetByPosition(rect,point))};function getIsDisplaced(_ref){var displaced=_ref.displaced,id=_ref.id;return Boolean(displaced.visible[id]||displaced.invisible[id])}var getDragImpact=function(_ref){var pageOffset=_ref.pageOffset,draggable=_ref.draggable,draggables=_ref.draggables,droppables=_ref.droppables,previousImpact=_ref.previousImpact,viewport=_ref.viewport,afterCritical=_ref.afterCritical,pageBorderBox=offsetRectByPosition(draggable.page.borderBox,pageOffset),destinationId=getDroppableOver$1({pageBorderBox,draggable,droppables});if(!destinationId)return noImpact;var destination=droppables[destinationId],insideDestination=getDraggablesInsideDroppable(destination.descriptor.id,draggables),pageBorderBoxWithDroppableScroll=function(droppable,area){var frame=droppable.frame;return frame?offsetRectByPosition(area,frame.scroll.diff.value):area}(destination,pageBorderBox);return function(_ref){var draggable=_ref.draggable,targetRect=_ref.pageBorderBoxWithDroppableScroll,previousImpact=_ref.previousImpact,destination=_ref.destination,insideDestination=_ref.insideDestination,afterCritical=_ref.afterCritical;if(!destination.isCombineEnabled)return null;var axis=destination.axis,displacedBy=getDisplacedBy(destination.axis,draggable.displaceBy),displacement=displacedBy.value,targetStart=targetRect[axis.start],targetEnd=targetRect[axis.end],combineWith=find(removeDraggableFromList(draggable,insideDestination),(function(child){var id=child.descriptor.id,childRect=child.page.borderBox,threshold=childRect[axis.size]/4,didStartAfterCritical$1=didStartAfterCritical(id,afterCritical),isDisplaced=getIsDisplaced({displaced:previousImpact.displaced,id});return didStartAfterCritical$1?isDisplaced?targetEnd>childRect[axis.start]+threshold&&targetEnd<childRect[axis.end]-threshold:targetStart>childRect[axis.start]-displacement+threshold&&targetStart<childRect[axis.end]-displacement-threshold:isDisplaced?targetEnd>childRect[axis.start]+displacement+threshold&&targetEnd<childRect[axis.end]+displacement-threshold:targetStart>childRect[axis.start]+threshold&&targetStart<childRect[axis.end]-threshold}));return combineWith?{displacedBy,displaced:previousImpact.displaced,at:{type:"COMBINE",combine:{draggableId:combineWith.descriptor.id,droppableId:destination.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll,draggable,previousImpact,destination,insideDestination,afterCritical})||function(_ref2){var targetRect=_ref2.pageBorderBoxWithDroppableScroll,draggable=_ref2.draggable,destination=_ref2.destination,insideDestination=_ref2.insideDestination,last=_ref2.last,viewport=_ref2.viewport,afterCritical=_ref2.afterCritical,axis=destination.axis,displacedBy=getDisplacedBy(destination.axis,draggable.displaceBy),displacement=displacedBy.value,targetStart=targetRect[axis.start],targetEnd=targetRect[axis.end],newIndex=function atIndex(_ref){var draggable=_ref.draggable,closest=_ref.closest,inHomeList=_ref.inHomeList;return closest?inHomeList&&closest.descriptor.index>draggable.descriptor.index?closest.descriptor.index-1:closest.descriptor.index:null}({draggable,closest:find(removeDraggableFromList(draggable,insideDestination),(function(child){var id=child.descriptor.id,childCenter=child.page.borderBox.center[axis.line],didStartAfterCritical$1=didStartAfterCritical(id,afterCritical),isDisplaced=getIsDisplaced({displaced:last,id});return didStartAfterCritical$1?isDisplaced?targetEnd<=childCenter:targetStart<childCenter-displacement:isDisplaced?targetEnd<=childCenter+displacement:targetStart<childCenter})),inHomeList:isHomeOf(draggable,destination)});return calculateReorderImpact({draggable,insideDestination,destination,viewport,last,displacedBy,index:newIndex})}({pageBorderBoxWithDroppableScroll,draggable,destination,insideDestination,last:previousImpact.displaced,viewport,afterCritical})},patchDroppableMap=function(droppables,updated){var _extends2;return(0,esm_extends.A)({},droppables,((_extends2={})[updated.descriptor.id]=updated,_extends2))},clearUnusedPlaceholder=function clearUnusedPlaceholder(_ref){var previousImpact=_ref.previousImpact,impact=_ref.impact,droppables=_ref.droppables,last=whatIsDraggedOver(previousImpact),now=whatIsDraggedOver(impact);if(!last)return droppables;if(last===now)return droppables;var lastDroppable=droppables[last];if(!lastDroppable.subject.withPlaceholder)return droppables;var updated=function removePlaceholder(droppable){var added=droppable.subject.withPlaceholder;added||react_beautiful_dnd_esm_invariant(!1);var frame=droppable.frame;if(!frame){var _subject2=getSubject({page:droppable.subject.page,axis:droppable.axis,frame:null,withPlaceholder:null});return(0,esm_extends.A)({},droppable,{subject:_subject2})}var oldMaxScroll=added.oldFrameMaxScroll;oldMaxScroll||react_beautiful_dnd_esm_invariant(!1);var newFrame=withMaxScroll(frame,oldMaxScroll),subject=getSubject({page:droppable.subject.page,axis:droppable.axis,frame:newFrame,withPlaceholder:null});return(0,esm_extends.A)({},droppable,{subject,frame:newFrame})}(lastDroppable);return patchDroppableMap(droppables,updated)},update=function(_ref){var state=_ref.state,forcedClientSelection=_ref.clientSelection,forcedDimensions=_ref.dimensions,forcedViewport=_ref.viewport,forcedImpact=_ref.impact,scrollJumpRequest=_ref.scrollJumpRequest,viewport=forcedViewport||state.viewport,dimensions=forcedDimensions||state.dimensions,clientSelection=forcedClientSelection||state.current.client.selection,offset=subtract(clientSelection,state.initial.client.selection),client={offset,selection:clientSelection,borderBoxCenter:add(state.initial.client.borderBoxCenter,offset)},page={selection:add(client.selection,viewport.scroll.current),borderBoxCenter:add(client.borderBoxCenter,viewport.scroll.current),offset:add(client.offset,viewport.scroll.diff.value)},current={client,page};if("COLLECTING"===state.phase)return(0,esm_extends.A)({phase:"COLLECTING"},state,{dimensions,viewport,current});var draggable=dimensions.draggables[state.critical.draggable.id],newImpact=forcedImpact||getDragImpact({pageOffset:page.offset,draggable,draggables:dimensions.draggables,droppables:dimensions.droppables,previousImpact:state.impact,viewport,afterCritical:state.afterCritical}),withUpdatedPlaceholders=function(_ref2){var draggable=_ref2.draggable,draggables=_ref2.draggables,droppables=_ref2.droppables,previousImpact=_ref2.previousImpact,impact=_ref2.impact,cleaned=clearUnusedPlaceholder({previousImpact,impact,droppables}),isOver=whatIsDraggedOver(impact);if(!isOver)return cleaned;var droppable=droppables[isOver];if(isHomeOf(draggable,droppable))return cleaned;if(droppable.subject.withPlaceholder)return cleaned;var patched=addPlaceholder(droppable,draggable,draggables);return patchDroppableMap(cleaned,patched)}({draggable,impact:newImpact,previousImpact:state.impact,draggables:dimensions.draggables,droppables:dimensions.droppables});return(0,esm_extends.A)({},state,{current,dimensions:{draggables:dimensions.draggables,droppables:withUpdatedPlaceholders},impact:newImpact,viewport,scrollJumpRequest:scrollJumpRequest||null,forceShouldAnimate:!scrollJumpRequest&&null})};var recompute=function(_ref){var impact=_ref.impact,viewport=_ref.viewport,draggables=_ref.draggables,destination=_ref.destination,forceShouldAnimate=_ref.forceShouldAnimate,last=impact.displaced,afterDragging=function getDraggables$1(ids,draggables){return ids.map((function(id){return draggables[id]}))}(last.all,draggables),displaced=getDisplacementGroups({afterDragging,destination,displacedBy:impact.displacedBy,viewport:viewport.frame,forceShouldAnimate,last});return(0,esm_extends.A)({},impact,{displaced})},getClientBorderBoxCenter=function(_ref){var impact=_ref.impact,draggable=_ref.draggable,droppable=_ref.droppable,draggables=_ref.draggables,viewport=_ref.viewport,afterCritical=_ref.afterCritical,pageBorderBoxCenter=getPageBorderBoxCenterFromImpact({impact,draggable,draggables,droppable,afterCritical});return getClientFromPageBorderBoxCenter({pageBorderBoxCenter,draggable,viewport})},refreshSnap=function(_ref){var state=_ref.state,forcedDimensions=_ref.dimensions,forcedViewport=_ref.viewport;"SNAP"!==state.movementMode&&react_beautiful_dnd_esm_invariant(!1);var needsVisibilityCheck=state.impact,viewport=forcedViewport||state.viewport,dimensions=forcedDimensions||state.dimensions,draggables=dimensions.draggables,droppables=dimensions.droppables,draggable=draggables[state.critical.draggable.id],isOver=whatIsDraggedOver(needsVisibilityCheck);isOver||react_beautiful_dnd_esm_invariant(!1);var destination=droppables[isOver],impact=recompute({impact:needsVisibilityCheck,viewport,destination,draggables}),clientSelection=getClientBorderBoxCenter({impact,draggable,droppable:destination,draggables,viewport,afterCritical:state.afterCritical});return update({impact,clientSelection,state,dimensions,viewport})},getLiftEffect=function(_ref){var draggable=_ref.draggable,home=_ref.home,draggables=_ref.draggables,viewport=_ref.viewport,displacedBy=getDisplacedBy(home.axis,draggable.displaceBy),insideHome=getDraggablesInsideDroppable(home.descriptor.id,draggables),rawIndex=insideHome.indexOf(draggable);-1===rawIndex&&react_beautiful_dnd_esm_invariant(!1);var descriptor,afterDragging=insideHome.slice(rawIndex+1),effected=afterDragging.reduce((function(previous,item){return previous[item.descriptor.id]=!0,previous}),{}),afterCritical={inVirtualList:"virtual"===home.descriptor.mode,displacedBy,effected};return{impact:{displaced:getDisplacementGroups({afterDragging,destination:home,displacedBy,last:null,viewport:viewport.frame,forceShouldAnimate:!1}),displacedBy,at:{type:"REORDER",destination:(descriptor=draggable.descriptor,{index:descriptor.index,droppableId:descriptor.droppableId})}},afterCritical}},start=function start(key){0},finish=function finish(key){0},adjustAdditionsForScrollChanges=function(_ref){var additions=_ref.additions,updatedDroppables=_ref.updatedDroppables,viewport=_ref.viewport,windowScrollChange=viewport.scroll.diff.value;return additions.map((function(draggable){var droppableId=draggable.descriptor.droppableId,frame=function(droppable){var frame=droppable.frame;return frame||react_beautiful_dnd_esm_invariant(!1),frame}(updatedDroppables[droppableId]),droppableScrollChange=frame.scroll.diff.value,moved=function(_ref){var draggable=_ref.draggable,offset$1=_ref.offset,initialWindowScroll=_ref.initialWindowScroll,client=offset(draggable.client,offset$1),page=withScroll(client,initialWindowScroll);return(0,esm_extends.A)({},draggable,{placeholder:(0,esm_extends.A)({},draggable.placeholder,{client}),client,page})}({draggable,offset:add(windowScrollChange,droppableScrollChange),initialWindowScroll:viewport.scroll.initial});return moved}))},isSnapping=function isSnapping(state){return"SNAP"===state.movementMode},postDroppableChange=function postDroppableChange(state,updated,isEnabledChanging){var dimensions=function(dimensions,updated){return{draggables:dimensions.draggables,droppables:patchDroppableMap(dimensions.droppables,updated)}}(state.dimensions,updated);return!isSnapping(state)||isEnabledChanging?update({state,dimensions}):refreshSnap({state,dimensions})};function removeScrollJumpRequest(state){return state.isDragging&&"SNAP"===state.movementMode?(0,esm_extends.A)({phase:"DRAGGING"},state,{scrollJumpRequest:null}):state}var idle={phase:"IDLE",completed:null,shouldFlush:!1},reducer=function(state,action){if(void 0===state&&(state=idle),"FLUSH"===action.type)return(0,esm_extends.A)({},idle,{shouldFlush:!0});if("INITIAL_PUBLISH"===action.type){"IDLE"!==state.phase&&react_beautiful_dnd_esm_invariant(!1);var _action$payload=action.payload,critical=_action$payload.critical,clientSelection=_action$payload.clientSelection,viewport=_action$payload.viewport,dimensions=_action$payload.dimensions,movementMode=_action$payload.movementMode,draggable=dimensions.draggables[critical.draggable.id],home=dimensions.droppables[critical.droppable.id],client={selection:clientSelection,borderBoxCenter:draggable.client.borderBox.center,offset:origin},initial={client,page:{selection:add(client.selection,viewport.scroll.initial),borderBoxCenter:add(client.selection,viewport.scroll.initial),offset:add(client.selection,viewport.scroll.diff.value)}},isWindowScrollAllowed=toDroppableList(dimensions.droppables).every((function(item){return!item.isFixedOnPage})),_getLiftEffect=getLiftEffect({draggable,home,draggables:dimensions.draggables,viewport}),impact=_getLiftEffect.impact;return{phase:"DRAGGING",isDragging:!0,critical,movementMode,dimensions,initial,current:initial,isWindowScrollAllowed,impact,afterCritical:_getLiftEffect.afterCritical,onLiftImpact:impact,viewport,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===action.type)return"COLLECTING"===state.phase||"DROP_PENDING"===state.phase?state:("DRAGGING"!==state.phase&&react_beautiful_dnd_esm_invariant(!1),(0,esm_extends.A)({phase:"COLLECTING"},state,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===action.type)return"COLLECTING"!==state.phase&&"DROP_PENDING"!==state.phase&&react_beautiful_dnd_esm_invariant(!1),function(_ref){var state=_ref.state,published=_ref.published;start();var withScrollChange=published.modified.map((function(update){var existing=state.dimensions.droppables[update.droppableId];return scrollDroppable(existing,update.scroll)})),droppables=(0,esm_extends.A)({},state.dimensions.droppables,{},toDroppableMap(withScrollChange)),updatedAdditions=toDraggableMap(adjustAdditionsForScrollChanges({additions:published.additions,updatedDroppables:droppables,viewport:state.viewport})),draggables=(0,esm_extends.A)({},state.dimensions.draggables,{},updatedAdditions);published.removals.forEach((function(id){delete draggables[id]}));var dimensions={droppables,draggables},wasOverId=whatIsDraggedOver(state.impact),wasOver=wasOverId?dimensions.droppables[wasOverId]:null,draggable=dimensions.draggables[state.critical.draggable.id],home=dimensions.droppables[state.critical.droppable.id],_getLiftEffect=getLiftEffect({draggable,home,draggables,viewport:state.viewport}),onLiftImpact=_getLiftEffect.impact,afterCritical=_getLiftEffect.afterCritical,previousImpact=wasOver&&wasOver.isCombineEnabled?state.impact:onLiftImpact,impact=getDragImpact({pageOffset:state.current.page.offset,draggable:dimensions.draggables[state.critical.draggable.id],draggables:dimensions.draggables,droppables:dimensions.droppables,previousImpact,viewport:state.viewport,afterCritical});finish();var draggingState=(0,esm_extends.A)({phase:"DRAGGING"},state,{phase:"DRAGGING",impact,onLiftImpact,dimensions,afterCritical,forceShouldAnimate:!1});return"COLLECTING"===state.phase?draggingState:(0,esm_extends.A)({phase:"DROP_PENDING"},draggingState,{phase:"DROP_PENDING",reason:state.reason,isWaiting:!1})}({state,published:action.payload});if("MOVE"===action.type){if("DROP_PENDING"===state.phase)return state;isMovementAllowed(state)||react_beautiful_dnd_esm_invariant(!1);var _clientSelection=action.payload.client;return isEqual(_clientSelection,state.current.client.selection)?state:update({state,clientSelection:_clientSelection,impact:isSnapping(state)?state.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===action.type){if("DROP_PENDING"===state.phase)return removeScrollJumpRequest(state);if("COLLECTING"===state.phase)return removeScrollJumpRequest(state);isMovementAllowed(state)||react_beautiful_dnd_esm_invariant(!1);var _action$payload2=action.payload,id=_action$payload2.id,newScroll=_action$payload2.newScroll,target=state.dimensions.droppables[id];if(!target)return state;var scrolled=scrollDroppable(target,newScroll);return postDroppableChange(state,scrolled,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===action.type){if("DROP_PENDING"===state.phase)return state;isMovementAllowed(state)||react_beautiful_dnd_esm_invariant(!1);var _action$payload3=action.payload,_id=_action$payload3.id,isEnabled=_action$payload3.isEnabled,_target=state.dimensions.droppables[_id];_target||react_beautiful_dnd_esm_invariant(!1),_target.isEnabled===isEnabled&&react_beautiful_dnd_esm_invariant(!1);var updated=(0,esm_extends.A)({},_target,{isEnabled});return postDroppableChange(state,updated,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===action.type){if("DROP_PENDING"===state.phase)return state;isMovementAllowed(state)||react_beautiful_dnd_esm_invariant(!1);var _action$payload4=action.payload,_id2=_action$payload4.id,isCombineEnabled=_action$payload4.isCombineEnabled,_target2=state.dimensions.droppables[_id2];_target2||react_beautiful_dnd_esm_invariant(!1),_target2.isCombineEnabled===isCombineEnabled&&react_beautiful_dnd_esm_invariant(!1);var _updated=(0,esm_extends.A)({},_target2,{isCombineEnabled});return postDroppableChange(state,_updated,!0)}if("MOVE_BY_WINDOW_SCROLL"===action.type){if("DROP_PENDING"===state.phase||"DROP_ANIMATING"===state.phase)return state;isMovementAllowed(state)||react_beautiful_dnd_esm_invariant(!1),state.isWindowScrollAllowed||react_beautiful_dnd_esm_invariant(!1);var _newScroll=action.payload.newScroll;if(isEqual(state.viewport.scroll.current,_newScroll))return removeScrollJumpRequest(state);var _viewport=scrollViewport(state.viewport,_newScroll);return isSnapping(state)?refreshSnap({state,viewport:_viewport}):update({state,viewport:_viewport})}if("UPDATE_VIEWPORT_MAX_SCROLL"===action.type){if(!isMovementAllowed(state))return state;var maxScroll=action.payload.maxScroll;if(isEqual(maxScroll,state.viewport.scroll.max))return state;var withMaxScroll=(0,esm_extends.A)({},state.viewport,{scroll:(0,esm_extends.A)({},state.viewport.scroll,{max:maxScroll})});return(0,esm_extends.A)({phase:"DRAGGING"},state,{viewport:withMaxScroll})}if("MOVE_UP"===action.type||"MOVE_DOWN"===action.type||"MOVE_LEFT"===action.type||"MOVE_RIGHT"===action.type){if("COLLECTING"===state.phase||"DROP_PENDING"===state.phase)return state;"DRAGGING"!==state.phase&&react_beautiful_dnd_esm_invariant(!1);var _result2=moveInDirection({state,type:action.type});return _result2?update({state,impact:_result2.impact,clientSelection:_result2.clientSelection,scrollJumpRequest:_result2.scrollJumpRequest}):state}if("DROP_PENDING"===action.type){var reason=action.payload.reason;return"COLLECTING"!==state.phase&&react_beautiful_dnd_esm_invariant(!1),(0,esm_extends.A)({phase:"DROP_PENDING"},state,{phase:"DROP_PENDING",isWaiting:!0,reason})}if("DROP_ANIMATE"===action.type){var _action$payload5=action.payload,completed=_action$payload5.completed,dropDuration=_action$payload5.dropDuration,newHomeClientOffset=_action$payload5.newHomeClientOffset;return"DRAGGING"!==state.phase&&"DROP_PENDING"!==state.phase&&react_beautiful_dnd_esm_invariant(!1),{phase:"DROP_ANIMATING",completed,dropDuration,newHomeClientOffset,dimensions:state.dimensions}}return"DROP_COMPLETE"===action.type?{phase:"IDLE",completed:action.payload.completed,shouldFlush:!1}:state},lift=function lift(args){return{type:"LIFT",payload:args}},publishWhileDragging=function publishWhileDragging(args){return{type:"PUBLISH_WHILE_DRAGGING",payload:args}},collectionStarting=function collectionStarting(){return{type:"COLLECTION_STARTING",payload:null}},updateDroppableScroll=function updateDroppableScroll(args){return{type:"UPDATE_DROPPABLE_SCROLL",payload:args}},updateDroppableIsEnabled=function updateDroppableIsEnabled(args){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:args}},updateDroppableIsCombineEnabled=function updateDroppableIsCombineEnabled(args){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:args}},move=function move(args){return{type:"MOVE",payload:args}},moveUp=function moveUp(){return{type:"MOVE_UP",payload:null}},moveDown=function moveDown(){return{type:"MOVE_DOWN",payload:null}},moveRight=function moveRight(){return{type:"MOVE_RIGHT",payload:null}},moveLeft=function moveLeft(){return{type:"MOVE_LEFT",payload:null}},flush=function flush(){return{type:"FLUSH",payload:null}},completeDrop=function completeDrop(args){return{type:"DROP_COMPLETE",payload:args}},drop=function drop(args){return{type:"DROP",payload:args}},dropAnimationFinished=function dropAnimationFinished(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var curves_drop="cubic-bezier(.2,1,.1,1)",combine_opacity={drop:0,combining:.7},combine_scale={drop:.75},outOfTheWayTiming=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",transitions={fluid:"opacity "+outOfTheWayTiming,snap:"transform "+outOfTheWayTiming+", opacity "+outOfTheWayTiming,drop:function drop(duration){var timing=duration+"s "+curves_drop;return"transform "+timing+", opacity "+timing},outOfTheWay:"transform "+outOfTheWayTiming,placeholder:"height "+outOfTheWayTiming+", width "+outOfTheWayTiming+", margin "+outOfTheWayTiming},moveTo=function moveTo(offset){return isEqual(offset,origin)?null:"translate("+offset.x+"px, "+offset.y+"px)"},transforms={moveTo,drop:function drop(offset,isCombining){var translate=moveTo(offset);return translate?isCombining?translate+" scale("+combine_scale.drop+")":translate:null}},minDropTime=.33,maxDropTime=.55,dropTimeRange=maxDropTime-minDropTime,drop$1=function(_ref){var getState=_ref.getState,dispatch=_ref.dispatch;return function(next){return function(action){if("DROP"===action.type){var state=getState(),reason=action.payload.reason;if("COLLECTING"!==state.phase){if("IDLE"!==state.phase){"DROP_PENDING"===state.phase&&state.isWaiting&&react_beautiful_dnd_esm_invariant(!1),"DRAGGING"!==state.phase&&"DROP_PENDING"!==state.phase&&react_beautiful_dnd_esm_invariant(!1);var critical=state.critical,dimensions=state.dimensions,draggable=dimensions.draggables[state.critical.draggable.id],_getDropImpact=function(_ref){var draggables=_ref.draggables,reason=_ref.reason,lastImpact=_ref.lastImpact,home=_ref.home,viewport=_ref.viewport,onLiftImpact=_ref.onLiftImpact;return lastImpact.at&&"DROP"===reason?"REORDER"===lastImpact.at.type?{impact:lastImpact,didDropInsideDroppable:!0}:{impact:(0,esm_extends.A)({},lastImpact,{displaced:emptyGroups}),didDropInsideDroppable:!0}:{impact:recompute({draggables,impact:onLiftImpact,destination:home,viewport,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason,lastImpact:state.impact,afterCritical:state.afterCritical,onLiftImpact:state.onLiftImpact,home:state.dimensions.droppables[state.critical.droppable.id],viewport:state.viewport,draggables:state.dimensions.draggables}),impact=_getDropImpact.impact,didDropInsideDroppable=_getDropImpact.didDropInsideDroppable,destination=didDropInsideDroppable?tryGetDestination(impact):null,combine=didDropInsideDroppable?tryGetCombine(impact):null,source={index:critical.draggable.index,droppableId:critical.droppable.id},result={draggableId:draggable.descriptor.id,type:draggable.descriptor.type,source,reason,mode:state.movementMode,destination,combine},newHomeClientOffset=function(_ref){var impact=_ref.impact,draggable=_ref.draggable,dimensions=_ref.dimensions,viewport=_ref.viewport,afterCritical=_ref.afterCritical,draggables=dimensions.draggables,droppables=dimensions.droppables,droppableId=whatIsDraggedOver(impact),destination=droppableId?droppables[droppableId]:null,home=droppables[draggable.descriptor.droppableId],newClientCenter=getClientBorderBoxCenter({impact,draggable,draggables,afterCritical,droppable:destination||home,viewport});return subtract(newClientCenter,draggable.client.borderBox.center)}({impact,draggable,dimensions,viewport:state.viewport,afterCritical:state.afterCritical}),completed={critical:state.critical,afterCritical:state.afterCritical,result,impact};if(!isEqual(state.current.client.offset,newHomeClientOffset)||Boolean(result.combine)){var dropDuration=function(_ref){var current=_ref.current,destination=_ref.destination,reason=_ref.reason,distance$1=distance(current,destination);if(distance$1<=0)return minDropTime;if(distance$1>=1500)return maxDropTime;var duration=minDropTime+dropTimeRange*(distance$1/1500);return Number(("CANCEL"===reason?.6*duration:duration).toFixed(2))}({current:state.current.client.offset,destination:newHomeClientOffset,reason});dispatch(function animateDrop(args){return{type:"DROP_ANIMATE",payload:args}}({newHomeClientOffset,dropDuration,completed}))}else dispatch(completeDrop({completed}))}}else dispatch(function dropPending(args){return{type:"DROP_PENDING",payload:args}}({reason}))}else next(action)}}},react_beautiful_dnd_esm_getWindowScroll=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function getScrollListener(_ref){var onWindowScroll=_ref.onWindowScroll;var scheduled=raf_schd_esm((function updateScroll(){onWindowScroll(react_beautiful_dnd_esm_getWindowScroll())})),binding=function getWindowScrollBinding(update){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function fn(event){event.target!==window&&event.target!==window.document||update()}}}(scheduled),unbind=noop;function isActive(){return unbind!==noop}return{start:function start(){isActive()&&react_beautiful_dnd_esm_invariant(!1),unbind=bindEvents(window,[binding])},stop:function stop(){isActive()||react_beautiful_dnd_esm_invariant(!1),scheduled.cancel(),unbind(),unbind=noop},isActive}}var scrollListener=function(store){var listener=getScrollListener({onWindowScroll:function onWindowScroll(newScroll){store.dispatch(function moveByWindowScroll(args){return{type:"MOVE_BY_WINDOW_SCROLL",payload:args}}({newScroll}))}});return function(next){return function(action){listener.isActive()||"INITIAL_PUBLISH"!==action.type||listener.start(),listener.isActive()&&function shouldEnd(action){return"DROP_COMPLETE"===action.type||"DROP_ANIMATE"===action.type||"FLUSH"===action.type}(action)&&listener.stop(),next(action)}}},getAsyncMarshal=function(){var entries=[];return{add:function add(fn){var timerId=setTimeout((function(){return function execute(timerId){var index=findIndex(entries,(function(item){return item.timerId===timerId}));-1===index&&react_beautiful_dnd_esm_invariant(!1),entries.splice(index,1)[0].callback()}(timerId)})),entry={timerId,callback:fn};entries.push(entry)},flush:function flush(){if(entries.length){var shallow=[].concat(entries);entries.length=0,shallow.forEach((function(entry){clearTimeout(entry.timerId),entry.callback()}))}}}},withTimings=function withTimings(key,fn){start(),fn(),finish()},getDragStart=function getDragStart(critical,mode){return{draggableId:critical.draggable.id,type:critical.droppable.type,source:{droppableId:critical.droppable.id,index:critical.draggable.index},mode}},execute=function execute(responder,data,announce,getDefaultMessage){if(responder){var willExpire=function(announce){var wasCalled=!1,isExpired=!1,timeoutId=setTimeout((function(){isExpired=!0})),result=function result(message){wasCalled||isExpired||(wasCalled=!0,announce(message),clearTimeout(timeoutId))};return result.wasCalled=function(){return wasCalled},result}(announce);responder(data,{announce:willExpire}),willExpire.wasCalled()||announce(getDefaultMessage(data))}else announce(getDefaultMessage(data))},responders=function(getResponders,announce){var publisher=function(getResponders,announce){var asyncMarshal=getAsyncMarshal(),dragging=null,drop=function drop(result){dragging||react_beautiful_dnd_esm_invariant(!1),dragging=null,withTimings(0,(function(){return execute(getResponders().onDragEnd,result,announce,preset.onDragEnd)}))};return{beforeCapture:function beforeCapture(draggableId,mode){dragging&&react_beautiful_dnd_esm_invariant(!1),withTimings(0,(function(){var fn=getResponders().onBeforeCapture;fn&&fn({draggableId,mode})}))},beforeStart:function beforeStart(critical,mode){dragging&&react_beautiful_dnd_esm_invariant(!1),withTimings(0,(function(){var fn=getResponders().onBeforeDragStart;fn&&fn(getDragStart(critical,mode))}))},start:function start(critical,mode){dragging&&react_beautiful_dnd_esm_invariant(!1);var data=getDragStart(critical,mode);dragging={mode,lastCritical:critical,lastLocation:data.source,lastCombine:null},asyncMarshal.add((function(){withTimings(0,(function(){return execute(getResponders().onDragStart,data,announce,preset.onDragStart)}))}))},update:function update(critical,impact){var location=tryGetDestination(impact),combine=tryGetCombine(impact);dragging||react_beautiful_dnd_esm_invariant(!1);var hasCriticalChanged=!function isCriticalEqual(first,second){if(first===second)return!0;var isDraggableEqual=first.draggable.id===second.draggable.id&&first.draggable.droppableId===second.draggable.droppableId&&first.draggable.type===second.draggable.type&&first.draggable.index===second.draggable.index,isDroppableEqual=first.droppable.id===second.droppable.id&&first.droppable.type===second.droppable.type;return isDraggableEqual&&isDroppableEqual}(critical,dragging.lastCritical);hasCriticalChanged&&(dragging.lastCritical=critical);var hasLocationChanged=!function areLocationsEqual(first,second){return null==first&&null==second||null!=first&&null!=second&&first.droppableId===second.droppableId&&first.index===second.index}(dragging.lastLocation,location);hasLocationChanged&&(dragging.lastLocation=location);var hasGroupingChanged=!function isCombineEqual(first,second){return null==first&&null==second||null!=first&&null!=second&&first.draggableId===second.draggableId&&first.droppableId===second.droppableId}(dragging.lastCombine,combine);if(hasGroupingChanged&&(dragging.lastCombine=combine),hasCriticalChanged||hasLocationChanged||hasGroupingChanged){var data=(0,esm_extends.A)({},getDragStart(critical,dragging.mode),{combine,destination:location});asyncMarshal.add((function(){withTimings(0,(function(){return execute(getResponders().onDragUpdate,data,announce,preset.onDragUpdate)}))}))}},flush:function flush(){dragging||react_beautiful_dnd_esm_invariant(!1),asyncMarshal.flush()},drop,abort:function abort(){if(dragging){var result=(0,esm_extends.A)({},getDragStart(dragging.lastCritical,dragging.mode),{combine:null,destination:null,reason:"CANCEL"});drop(result)}}}}(getResponders,announce);return function(store){return function(next){return function(action){if("BEFORE_INITIAL_CAPTURE"!==action.type){if("INITIAL_PUBLISH"===action.type){var critical=action.payload.critical;return publisher.beforeStart(critical,action.payload.movementMode),next(action),void publisher.start(critical,action.payload.movementMode)}if("DROP_COMPLETE"===action.type){var result=action.payload.completed.result;return publisher.flush(),next(action),void publisher.drop(result)}if(next(action),"FLUSH"!==action.type){var state=store.getState();"DRAGGING"===state.phase&&publisher.update(state.critical,state.impact)}else publisher.abort()}else publisher.beforeCapture(action.payload.draggableId,action.payload.movementMode)}}}},dropAnimationFinish=function(store){return function(next){return function(action){if("DROP_ANIMATION_FINISHED"===action.type){var state=store.getState();"DROP_ANIMATING"!==state.phase&&react_beautiful_dnd_esm_invariant(!1),store.dispatch(completeDrop({completed:state.completed}))}else next(action)}}},dropAnimationFlushOnScroll=function(store){var unbind=null,frameId=null;return function(next){return function(action){if("FLUSH"!==action.type&&"DROP_COMPLETE"!==action.type&&"DROP_ANIMATION_FINISHED"!==action.type||function clear(){frameId&&(cancelAnimationFrame(frameId),frameId=null),unbind&&(unbind(),unbind=null)}(),next(action),"DROP_ANIMATE"===action.type){var binding={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function flushDropAnimation(){"DROP_ANIMATING"===store.getState().phase&&store.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};frameId=requestAnimationFrame((function(){frameId=null,unbind=bindEvents(window,[binding])}))}}}},pendingDrop=function(store){return function(next){return function(action){if(next(action),"PUBLISH_WHILE_DRAGGING"===action.type){var postActionState=store.getState();"DROP_PENDING"===postActionState.phase&&(postActionState.isWaiting||store.dispatch(drop({reason:postActionState.reason})))}}}},composeEnhancers=compose,react_beautiful_dnd_esm_createStore=function(_ref){var marshal,dimensionMarshal=_ref.dimensionMarshal,focusMarshal=_ref.focusMarshal,styleMarshal=_ref.styleMarshal,getResponders=_ref.getResponders,announce=_ref.announce,autoScroller=_ref.autoScroller;return createStore(reducer,composeEnhancers(function applyMiddleware(){for(var _len=arguments.length,middlewares=new Array(_len),_key=0;_key<_len;_key++)middlewares[_key]=arguments[_key];return function(createStore){return function(){var store=createStore.apply(void 0,arguments),_dispatch=function dispatch(){throw new Error(formatProdErrorMessage(15))},middlewareAPI={getState:store.getState,dispatch:function dispatch(){return _dispatch.apply(void 0,arguments)}},chain=middlewares.map((function(middleware){return middleware(middlewareAPI)}));return _dispatch=compose.apply(void 0,chain)(store.dispatch),(0,objectSpread2.A)((0,objectSpread2.A)({},store),{},{dispatch:_dispatch})}}}((marshal=styleMarshal,function(){return function(next){return function(action){"INITIAL_PUBLISH"===action.type&&marshal.dragging(),"DROP_ANIMATE"===action.type&&marshal.dropping(action.payload.completed.result.reason),"FLUSH"!==action.type&&"DROP_COMPLETE"!==action.type||marshal.resting(),next(action)}}}),function(marshal){return function(){return function(next){return function(action){"DROP_COMPLETE"!==action.type&&"FLUSH"!==action.type&&"DROP_ANIMATE"!==action.type||marshal.stopPublishing(),next(action)}}}}(dimensionMarshal),function(marshal){return function(_ref){var getState=_ref.getState,dispatch=_ref.dispatch;return function(next){return function(action){if("LIFT"===action.type){var _action$payload=action.payload,id=_action$payload.id,clientSelection=_action$payload.clientSelection,movementMode=_action$payload.movementMode,initial=getState();"DROP_ANIMATING"===initial.phase&&dispatch(completeDrop({completed:initial.completed})),"IDLE"!==getState().phase&&react_beautiful_dnd_esm_invariant(!1),dispatch(flush()),dispatch(function beforeInitialCapture(args){return{type:"BEFORE_INITIAL_CAPTURE",payload:args}}({draggableId:id,movementMode}));var request={draggableId:id,scrollOptions:{shouldPublishImmediately:"SNAP"===movementMode}},_marshal$startPublish=marshal.startPublishing(request),critical=_marshal$startPublish.critical,dimensions=_marshal$startPublish.dimensions,viewport=_marshal$startPublish.viewport;dispatch(function initialPublish(args){return{type:"INITIAL_PUBLISH",payload:args}}({critical,dimensions,clientSelection,movementMode,viewport}))}else next(action)}}}}(dimensionMarshal),drop$1,dropAnimationFinish,dropAnimationFlushOnScroll,pendingDrop,function(autoScroller){return function(store){return function(next){return function(action){if(function shouldStop(action){return"DROP_COMPLETE"===action.type||"DROP_ANIMATE"===action.type||"FLUSH"===action.type}(action))return autoScroller.stop(),void next(action);if("INITIAL_PUBLISH"===action.type){next(action);var state=store.getState();return"DRAGGING"!==state.phase&&react_beautiful_dnd_esm_invariant(!1),void autoScroller.start(state)}next(action),autoScroller.scroll(store.getState())}}}}(autoScroller),scrollListener,function(marshal){var isWatching=!1;return function(){return function(next){return function(action){if("INITIAL_PUBLISH"===action.type)return isWatching=!0,marshal.tryRecordFocus(action.payload.critical.draggable.id),next(action),void marshal.tryRestoreFocusRecorded();if(next(action),isWatching){if("FLUSH"===action.type)return isWatching=!1,void marshal.tryRestoreFocusRecorded();if("DROP_COMPLETE"===action.type){isWatching=!1;var result=action.payload.completed.result;result.combine&&marshal.tryShiftRecord(result.draggableId,result.combine.draggableId),marshal.tryRestoreFocusRecorded()}}}}}}(focusMarshal),responders(getResponders,announce))))};var getMaxScroll=function(_ref){var scrollHeight=_ref.scrollHeight,scrollWidth=_ref.scrollWidth,height=_ref.height,width=_ref.width,maxScroll=subtract({x:scrollWidth,y:scrollHeight},{x:width,y:height});return{x:Math.max(0,maxScroll.x),y:Math.max(0,maxScroll.y)}},getDocumentElement=function(){var doc=document.documentElement;return doc||react_beautiful_dnd_esm_invariant(!1),doc},getMaxWindowScroll=function(){var doc=getDocumentElement();return getMaxScroll({scrollHeight:doc.scrollHeight,scrollWidth:doc.scrollWidth,width:doc.clientWidth,height:doc.clientHeight})},getInitialPublish=function(_ref){var critical=_ref.critical,scrollOptions=_ref.scrollOptions,registry=_ref.registry;start();var scroll,maxScroll,top,left,doc,width,height,viewport=(scroll=react_beautiful_dnd_esm_getWindowScroll(),maxScroll=getMaxWindowScroll(),top=scroll.y,left=scroll.x,doc=getDocumentElement(),width=doc.clientWidth,height=doc.clientHeight,{frame:getRect({top,left,right:left+width,bottom:top+height}),scroll:{initial:scroll,current:scroll,max:maxScroll,diff:{value:origin,displacement:origin}}}),windowScroll=viewport.scroll.current,home=critical.droppable,droppables=registry.droppable.getAllByType(home.type).map((function(entry){return entry.callbacks.getDimensionAndWatchScroll(windowScroll,scrollOptions)})),draggables=registry.draggable.getAllByType(critical.draggable.type).map((function(entry){return entry.getDimension(windowScroll)})),dimensions={draggables:toDraggableMap(draggables),droppables:toDroppableMap(droppables)};return finish(),{dimensions,critical,viewport}};function shouldPublishUpdate(registry,dragging,entry){return entry.descriptor.id!==dragging.id&&(entry.descriptor.type===dragging.type&&"virtual"===registry.droppable.getById(entry.descriptor.droppableId).descriptor.mode)}var getRemainder,base,createDimensionMarshal=function(registry,callbacks){var collection=null,publisher=function createPublisher(_ref){var registry=_ref.registry,callbacks=_ref.callbacks,staging={additions:{},removals:{},modified:{}},frameId=null,collect=function collect(){frameId||(callbacks.collectionStarting(),frameId=requestAnimationFrame((function(){frameId=null,start();var _staging=staging,additions=_staging.additions,removals=_staging.removals,modified=_staging.modified,added=Object.keys(additions).map((function(id){return registry.draggable.getById(id).getDimension(origin)})).sort((function(a,b){return a.descriptor.index-b.descriptor.index})),updated=Object.keys(modified).map((function(id){return{droppableId:id,scroll:registry.droppable.getById(id).callbacks.getScrollWhileDragging()}})),result={additions:added,removals:Object.keys(removals),modified:updated};staging={additions:{},removals:{},modified:{}},finish(),callbacks.publish(result)})))};return{add:function add(entry){var id=entry.descriptor.id;staging.additions[id]=entry,staging.modified[entry.descriptor.droppableId]=!0,staging.removals[id]&&delete staging.removals[id],collect()},remove:function remove(entry){var descriptor=entry.descriptor;staging.removals[descriptor.id]=!0,staging.modified[descriptor.droppableId]=!0,staging.additions[descriptor.id]&&delete staging.additions[descriptor.id],collect()},stop:function stop(){frameId&&(cancelAnimationFrame(frameId),frameId=null,staging={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:callbacks.publishWhileDragging,collectionStarting:callbacks.collectionStarting},registry}),subscriber=function subscriber(event){collection||react_beautiful_dnd_esm_invariant(!1);var dragging=collection.critical.draggable;"ADDITION"===event.type&&shouldPublishUpdate(registry,dragging,event.value)&&publisher.add(event.value),"REMOVAL"===event.type&&shouldPublishUpdate(registry,dragging,event.value)&&publisher.remove(event.value)},marshal={updateDroppableIsEnabled:function updateDroppableIsEnabled(id,isEnabled){registry.droppable.exists(id)||react_beautiful_dnd_esm_invariant(!1),collection&&callbacks.updateDroppableIsEnabled({id,isEnabled})},updateDroppableIsCombineEnabled:function updateDroppableIsCombineEnabled(id,isCombineEnabled){collection&&(registry.droppable.exists(id)||react_beautiful_dnd_esm_invariant(!1),callbacks.updateDroppableIsCombineEnabled({id,isCombineEnabled}))},scrollDroppable:function scrollDroppable(id,change){collection&&registry.droppable.getById(id).callbacks.scroll(change)},updateDroppableScroll:function updateDroppableScroll(id,newScroll){collection&&(registry.droppable.exists(id)||react_beautiful_dnd_esm_invariant(!1),callbacks.updateDroppableScroll({id,newScroll}))},startPublishing:function startPublishing(request){collection&&react_beautiful_dnd_esm_invariant(!1);var entry=registry.draggable.getById(request.draggableId),home=registry.droppable.getById(entry.descriptor.droppableId),critical={draggable:entry.descriptor,droppable:home.descriptor},unsubscribe=registry.subscribe(subscriber);return collection={critical,unsubscribe},getInitialPublish({critical,registry,scrollOptions:request.scrollOptions})},stopPublishing:function stopPublishing(){if(collection){publisher.stop();var home=collection.critical.droppable;registry.droppable.getAllByType(home.type).forEach((function(entry){return entry.callbacks.dragStopped()})),collection.unsubscribe(),collection=null}}};return marshal},canStartDrag=function(state,id){return"IDLE"===state.phase||"DROP_ANIMATING"===state.phase&&(state.completed.result.draggableId!==id&&"DROP"===state.completed.result.reason)},scrollWindow=function(change){window.scrollBy(change.x,change.y)},getScrollableDroppables=memoize_one_esm((function(droppables){return toDroppableList(droppables).filter((function(droppable){return!!droppable.isEnabled&&!!droppable.frame}))})),getBestScrollableDroppable=function(_ref){var center=_ref.center,destination=_ref.destination,droppables=_ref.droppables;if(destination){var _dimension=droppables[destination];return _dimension.frame?_dimension:null}var dimension=function getScrollableDroppableOver(target,droppables){var maybe=find(getScrollableDroppables(droppables),(function(droppable){return droppable.frame||react_beautiful_dnd_esm_invariant(!1),isPositionInFrame(droppable.frame.pageMarginBox)(target)}));return maybe}(center,droppables);return dimension},config_startFromPercentage=.25,config_maxScrollAtPercentage=.05,config_maxPixelScroll=28,config_ease=function ease(percentage){return Math.pow(percentage,2)},config_durationDampening={stopDampeningAt:1200,accelerateAt:360},getPercentage=function(_ref){var startOfRange=_ref.startOfRange,endOfRange=_ref.endOfRange,current=_ref.current,range=endOfRange-startOfRange;return 0===range?0:(current-startOfRange)/range},accelerateAt=config_durationDampening.accelerateAt,stopAt=config_durationDampening.stopDampeningAt,getValue=function(_ref){var distanceToEdge=_ref.distanceToEdge,thresholds=_ref.thresholds,dragStartTime=_ref.dragStartTime,shouldUseTimeDampening=_ref.shouldUseTimeDampening,scroll=function(distanceToEdge,thresholds){if(distanceToEdge>thresholds.startScrollingFrom)return 0;if(distanceToEdge<=thresholds.maxScrollValueAt)return config_maxPixelScroll;if(distanceToEdge===thresholds.startScrollingFrom)return 1;var percentageFromMaxScrollValueAt=getPercentage({startOfRange:thresholds.maxScrollValueAt,endOfRange:thresholds.startScrollingFrom,current:distanceToEdge}),scroll=config_maxPixelScroll*config_ease(1-percentageFromMaxScrollValueAt);return Math.ceil(scroll)}(distanceToEdge,thresholds);return 0===scroll?0:shouldUseTimeDampening?Math.max(function(proposedScroll,dragStartTime){var startOfRange=dragStartTime,endOfRange=stopAt,runTime=Date.now()-startOfRange;if(runTime>=stopAt)return proposedScroll;if(runTime<accelerateAt)return 1;var betweenAccelerateAtAndStopAtPercentage=getPercentage({startOfRange:accelerateAt,endOfRange,current:runTime}),scroll=proposedScroll*config_ease(betweenAccelerateAtAndStopAtPercentage);return Math.ceil(scroll)}(scroll,dragStartTime),1):scroll},getScrollOnAxis=function(_ref){var container=_ref.container,distanceToEdges=_ref.distanceToEdges,dragStartTime=_ref.dragStartTime,axis=_ref.axis,shouldUseTimeDampening=_ref.shouldUseTimeDampening,thresholds=function(container,axis){return{startScrollingFrom:container[axis.size]*config_startFromPercentage,maxScrollValueAt:container[axis.size]*config_maxScrollAtPercentage}}(container,axis);return distanceToEdges[axis.end]<distanceToEdges[axis.start]?getValue({distanceToEdge:distanceToEdges[axis.end],thresholds,dragStartTime,shouldUseTimeDampening}):-1*getValue({distanceToEdge:distanceToEdges[axis.start],thresholds,dragStartTime,shouldUseTimeDampening})},clean$2=apply((function(value){return 0===value?0:value})),getScroll=function(_ref){var dragStartTime=_ref.dragStartTime,container=_ref.container,subject=_ref.subject,center=_ref.center,shouldUseTimeDampening=_ref.shouldUseTimeDampening,distanceToEdges={top:center.y-container.top,right:container.right-center.x,bottom:container.bottom-center.y,left:center.x-container.left},y=getScrollOnAxis({container,distanceToEdges,dragStartTime,axis:vertical,shouldUseTimeDampening}),x=getScrollOnAxis({container,distanceToEdges,dragStartTime,axis:horizontal,shouldUseTimeDampening}),required=clean$2({x,y});if(isEqual(required,origin))return null;var limited=function(_ref){var container=_ref.container,subject=_ref.subject,proposedScroll=_ref.proposedScroll,isTooBigVertically=subject.height>container.height,isTooBigHorizontally=subject.width>container.width;return isTooBigHorizontally||isTooBigVertically?isTooBigHorizontally&&isTooBigVertically?null:{x:isTooBigHorizontally?0:proposedScroll.x,y:isTooBigVertically?0:proposedScroll.y}:proposedScroll}({container,subject,proposedScroll:required});return limited?isEqual(limited,origin)?null:limited:null},smallestSigned=apply((function(value){return 0===value?0:value>0?1:-1})),getOverlap=(getRemainder=function getRemainder(target,max){return target<0?target:target>max?target-max:0},function(_ref){var current=_ref.current,max=_ref.max,change=_ref.change,targetScroll=add(current,change),overlap={x:getRemainder(targetScroll.x,max.x),y:getRemainder(targetScroll.y,max.y)};return isEqual(overlap,origin)?null:overlap}),canPartiallyScroll=function canPartiallyScroll(_ref2){var rawMax=_ref2.max,current=_ref2.current,change=_ref2.change,max={x:Math.max(current.x,rawMax.x),y:Math.max(current.y,rawMax.y)},smallestChange=smallestSigned(change),overlap=getOverlap({max,current,change:smallestChange});return!overlap||(0!==smallestChange.x&&0===overlap.x||0!==smallestChange.y&&0===overlap.y)},canScrollWindow=function canScrollWindow(viewport,change){return canPartiallyScroll({current:viewport.scroll.current,max:viewport.scroll.max,change})},canScrollDroppable=function canScrollDroppable(droppable,change){var frame=droppable.frame;return!!frame&&canPartiallyScroll({current:frame.scroll.current,max:frame.scroll.max,change})},scroll$1=function(_ref){var state=_ref.state,dragStartTime=_ref.dragStartTime,shouldUseTimeDampening=_ref.shouldUseTimeDampening,scrollWindow=_ref.scrollWindow,scrollDroppable=_ref.scrollDroppable,center=state.current.page.borderBoxCenter,subject=state.dimensions.draggables[state.critical.draggable.id].page.marginBox;if(state.isWindowScrollAllowed){var _change=function(_ref){var viewport=_ref.viewport,subject=_ref.subject,center=_ref.center,dragStartTime=_ref.dragStartTime,shouldUseTimeDampening=_ref.shouldUseTimeDampening,scroll=getScroll({dragStartTime,container:viewport.frame,subject,center,shouldUseTimeDampening});return scroll&&canScrollWindow(viewport,scroll)?scroll:null}({dragStartTime,viewport:state.viewport,subject,center,shouldUseTimeDampening});if(_change)return void scrollWindow(_change)}var droppable=getBestScrollableDroppable({center,destination:whatIsDraggedOver(state.impact),droppables:state.dimensions.droppables});if(droppable){var change=function(_ref){var droppable=_ref.droppable,subject=_ref.subject,center=_ref.center,dragStartTime=_ref.dragStartTime,shouldUseTimeDampening=_ref.shouldUseTimeDampening,frame=droppable.frame;if(!frame)return null;var scroll=getScroll({dragStartTime,container:frame.pageMarginBox,subject,center,shouldUseTimeDampening});return scroll&&canScrollDroppable(droppable,scroll)?scroll:null}({dragStartTime,droppable,subject,center,shouldUseTimeDampening});change&&scrollDroppable(droppable.descriptor.id,change)}},createJumpScroller=function(_ref){var move=_ref.move,scrollDroppable=_ref.scrollDroppable,scrollWindow=_ref.scrollWindow,scrollDroppableAsMuchAsItCan=function scrollDroppableAsMuchAsItCan(droppable,change){if(!canScrollDroppable(droppable,change))return change;var overlap=function getDroppableOverlap(droppable,change){var frame=droppable.frame;return frame&&canScrollDroppable(droppable,change)?getOverlap({current:frame.scroll.current,max:frame.scroll.max,change}):null}(droppable,change);if(!overlap)return scrollDroppable(droppable.descriptor.id,change),null;var whatTheDroppableCanScroll=subtract(change,overlap);return scrollDroppable(droppable.descriptor.id,whatTheDroppableCanScroll),subtract(change,whatTheDroppableCanScroll)},scrollWindowAsMuchAsItCan=function scrollWindowAsMuchAsItCan(isWindowScrollAllowed,viewport,change){if(!isWindowScrollAllowed)return change;if(!canScrollWindow(viewport,change))return change;var overlap=function getWindowOverlap(viewport,change){if(!canScrollWindow(viewport,change))return null;var max=viewport.scroll.max,current=viewport.scroll.current;return getOverlap({current,max,change})}(viewport,change);if(!overlap)return scrollWindow(change),null;var whatTheWindowCanScroll=subtract(change,overlap);return scrollWindow(whatTheWindowCanScroll),subtract(change,whatTheWindowCanScroll)};return function jumpScroller(state){var request=state.scrollJumpRequest;if(request){var destination=whatIsDraggedOver(state.impact);destination||react_beautiful_dnd_esm_invariant(!1);var droppableRemainder=scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination],request);if(droppableRemainder){var viewport=state.viewport,windowRemainder=scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed,viewport,droppableRemainder);windowRemainder&&function moveByOffset(state,offset){var client=add(state.current.client.selection,offset);move({client})}(state,windowRemainder)}}}},createAutoScroller=function(_ref){var scrollDroppable=_ref.scrollDroppable,scrollWindow=_ref.scrollWindow,move=_ref.move,fluidScroller=function(_ref){var scrollWindow=_ref.scrollWindow,scrollDroppable=_ref.scrollDroppable,scheduleWindowScroll=raf_schd_esm(scrollWindow),scheduleDroppableScroll=raf_schd_esm(scrollDroppable),dragging=null,tryScroll=function tryScroll(state){dragging||react_beautiful_dnd_esm_invariant(!1);var _dragging=dragging,shouldUseTimeDampening=_dragging.shouldUseTimeDampening,dragStartTime=_dragging.dragStartTime;scroll$1({state,scrollWindow:scheduleWindowScroll,scrollDroppable:scheduleDroppableScroll,dragStartTime,shouldUseTimeDampening})};return{start:function start$1(state){start(),dragging&&react_beautiful_dnd_esm_invariant(!1);var dragStartTime=Date.now(),wasScrollNeeded=!1,fakeScrollCallback=function fakeScrollCallback(){wasScrollNeeded=!0};scroll$1({state,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:fakeScrollCallback,scrollDroppable:fakeScrollCallback}),dragging={dragStartTime,shouldUseTimeDampening:wasScrollNeeded},finish(),wasScrollNeeded&&tryScroll(state)},stop:function stop(){dragging&&(scheduleWindowScroll.cancel(),scheduleDroppableScroll.cancel(),dragging=null)},scroll:tryScroll}}({scrollWindow,scrollDroppable}),jumpScroll=createJumpScroller({move,scrollWindow,scrollDroppable});return{scroll:function scroll(state){"DRAGGING"===state.phase&&("FLUID"!==state.movementMode?state.scrollJumpRequest&&jumpScroll(state):fluidScroller.scroll(state))},start:fluidScroller.start,stop:fluidScroller.stop}},prefix$1="data-rbd",dragHandle={base:base=prefix$1+"-drag-handle",draggableId:base+"-draggable-id",contextId:base+"-context-id"},draggable=function(){var base=prefix$1+"-draggable";return{base,contextId:base+"-context-id",id:base+"-id"}}(),droppable=function(){var base=prefix$1+"-droppable";return{base,contextId:base+"-context-id",id:base+"-id"}}(),scrollContainer={contextId:prefix$1+"-scroll-container-context-id"},getStyles=function getStyles(rules,property){return rules.map((function(rule){var value=rule.styles[property];return value?rule.selector+" { "+value+" }":""})).join(" ")},getStyles$1=function(contextId){var grabCursor,transition,getSelector=function makeGetSelector(context){return function(attribute){return"["+attribute+'="'+context+'"]'}}(contextId),dragHandle$1=(grabCursor="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:getSelector(dragHandle.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:grabCursor,dragging:"pointer-events: none;",dropAnimating:grabCursor}}),rules=[(transition="\n      transition: "+transitions.outOfTheWay+";\n    ",{selector:getSelector(draggable.contextId),styles:{dragging:transition,dropAnimating:transition,userCancel:transition}}),dragHandle$1,{selector:getSelector(droppable.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:getStyles(rules,"always"),resting:getStyles(rules,"resting"),dragging:getStyles(rules,"dragging"),dropAnimating:getStyles(rules,"dropAnimating"),userCancel:getStyles(rules,"userCancel")}},react_beautiful_dnd_esm_useIsomorphicLayoutEffect="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?react.useLayoutEffect:react.useEffect,getHead=function getHead(){var head=document.querySelector("head");return head||react_beautiful_dnd_esm_invariant(!1),head},createStyleEl=function createStyleEl(nonce){var el=document.createElement("style");return nonce&&el.setAttribute("nonce",nonce),el.type="text/css",el};var getWindowFromEl=function(el){return el&&el.ownerDocument?el.ownerDocument.defaultView:window};function isHtmlElement(el){return el instanceof getWindowFromEl(el).HTMLElement}function findDragHandle(contextId,draggableId){var selector="["+dragHandle.contextId+'="'+contextId+'"]',possible=toArray(document.querySelectorAll(selector));if(!possible.length)return null;var handle=find(possible,(function(el){return el.getAttribute(dragHandle.draggableId)===draggableId}));return handle&&isHtmlElement(handle)?handle:null}function createRegistry(){var entries={draggables:{},droppables:{}},subscribers=[];function notify(event){subscribers.length&&subscribers.forEach((function(cb){return cb(event)}))}function findDraggableById(id){return entries.draggables[id]||null}function findDroppableById(id){return entries.droppables[id]||null}return{draggable:{register:function register(entry){entries.draggables[entry.descriptor.id]=entry,notify({type:"ADDITION",value:entry})},update:function update(entry,last){var current=entries.draggables[last.descriptor.id];current&&current.uniqueId===entry.uniqueId&&(delete entries.draggables[last.descriptor.id],entries.draggables[entry.descriptor.id]=entry)},unregister:function unregister(entry){var draggableId=entry.descriptor.id,current=findDraggableById(draggableId);current&&entry.uniqueId===current.uniqueId&&(delete entries.draggables[draggableId],notify({type:"REMOVAL",value:entry}))},getById:function getDraggableById(id){var entry=findDraggableById(id);return entry||react_beautiful_dnd_esm_invariant(!1),entry},findById:findDraggableById,exists:function exists(id){return Boolean(findDraggableById(id))},getAllByType:function getAllByType(type){return values(entries.draggables).filter((function(entry){return entry.descriptor.type===type}))}},droppable:{register:function register(entry){entries.droppables[entry.descriptor.id]=entry},unregister:function unregister(entry){var current=findDroppableById(entry.descriptor.id);current&&entry.uniqueId===current.uniqueId&&delete entries.droppables[entry.descriptor.id]},getById:function getDroppableById(id){var entry=findDroppableById(id);return entry||react_beautiful_dnd_esm_invariant(!1),entry},findById:findDroppableById,exists:function exists(id){return Boolean(findDroppableById(id))},getAllByType:function getAllByType(type){return values(entries.droppables).filter((function(entry){return entry.descriptor.type===type}))}},subscribe:function subscribe(cb){return subscribers.push(cb),function unsubscribe(){var index=subscribers.indexOf(cb);-1!==index&&subscribers.splice(index,1)}},clean:function clean(){entries.draggables={},entries.droppables={},subscribers.length=0}}}var StoreContext=react.createContext(null),getBodyElement=function(){var body=document.body;return body||react_beautiful_dnd_esm_invariant(!1),body},visuallyHidden={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},getId=function getId(contextId){return"rbd-announcement-"+contextId};var count=0,defaults={separator:"::"};function useUniqueId(prefix,options){return void 0===options&&(options=defaults),use_memo_one_esm_useMemo((function(){return""+prefix+options.separator+count++}),[options.separator,prefix])}var AppContext=react.createContext(null);function useDev(useHook){0}function useDevSetupWarning(fn,inputs){useDev()}function usePrevious(current){var ref=(0,react.useRef)(current);return(0,react.useEffect)((function(){ref.current=current})),ref}var _preventedKeys,react_beautiful_dnd_esm_escape=27,space=32,arrowLeft=37,arrowUp=38,arrowRight=39,arrowDown=40,preventedKeys=((_preventedKeys={})[13]=!0,_preventedKeys[9]=!0,_preventedKeys),preventStandardKeyEvents=function(event){preventedKeys[event.keyCode]&&event.preventDefault()},supportedEventName=function(){var base="visibilitychange";return"undefined"==typeof document?base:find([base,"ms"+base,"webkit"+base,"moz"+base,"o"+base],(function(eventName){return"on"+eventName in document}))||base}(),primaryButton=0,sloppyClickThreshold=5;var _scrollJumpKeys,idle$1={type:"IDLE"};function getCaptureBindings(_ref){var cancel=_ref.cancel,completed=_ref.completed,getPhase=_ref.getPhase,setPhase=_ref.setPhase;return[{eventName:"mousemove",fn:function fn(event){var button=event.button,clientX=event.clientX,clientY=event.clientY;if(button===primaryButton){var point={x:clientX,y:clientY},phase=getPhase();if("DRAGGING"===phase.type)return event.preventDefault(),void phase.actions.move(point);if("PENDING"!==phase.type&&react_beautiful_dnd_esm_invariant(!1),function isSloppyClickThresholdExceeded(original,current){return Math.abs(current.x-original.x)>=sloppyClickThreshold||Math.abs(current.y-original.y)>=sloppyClickThreshold}(phase.point,point)){event.preventDefault();var actions=phase.actions.fluidLift(point);setPhase({type:"DRAGGING",actions})}}}},{eventName:"mouseup",fn:function fn(event){var phase=getPhase();"DRAGGING"===phase.type?(event.preventDefault(),phase.actions.drop({shouldBlockNextClick:!0}),completed()):cancel()}},{eventName:"mousedown",fn:function fn(event){"DRAGGING"===getPhase().type&&event.preventDefault(),cancel()}},{eventName:"keydown",fn:function fn(event){if("PENDING"!==getPhase().type)return event.keyCode===react_beautiful_dnd_esm_escape?(event.preventDefault(),void cancel()):void preventStandardKeyEvents(event);cancel()}},{eventName:"resize",fn:cancel},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function fn(){"PENDING"===getPhase().type&&cancel()}},{eventName:"webkitmouseforcedown",fn:function fn(event){var phase=getPhase();"IDLE"===phase.type&&react_beautiful_dnd_esm_invariant(!1),phase.actions.shouldRespectForcePress()?cancel():event.preventDefault()}},{eventName:supportedEventName,fn:cancel}]}function useMouseSensor(api){var phaseRef=(0,react.useRef)(idle$1),unbindEventsRef=(0,react.useRef)(noop),startCaptureBinding=use_memo_one_esm_useMemo((function(){return{eventName:"mousedown",fn:function onMouseDown(event){if(!event.defaultPrevented&&event.button===primaryButton&&!(event.ctrlKey||event.metaKey||event.shiftKey||event.altKey)){var draggableId=api.findClosestDraggableId(event);if(draggableId){var actions=api.tryGetLock(draggableId,stop,{sourceEvent:event});if(actions){event.preventDefault();var point={x:event.clientX,y:event.clientY};unbindEventsRef.current(),startPendingDrag(actions,point)}}}}}}),[api]),preventForcePressBinding=use_memo_one_esm_useMemo((function(){return{eventName:"webkitmouseforcewillbegin",fn:function fn(event){if(!event.defaultPrevented){var id=api.findClosestDraggableId(event);if(id){var options=api.findOptionsForDraggable(id);options&&(options.shouldRespectForcePress||api.canGetLock(id)&&event.preventDefault())}}}}}),[api]),listenForCapture=useCallback((function listenForCapture(){unbindEventsRef.current=bindEvents(window,[preventForcePressBinding,startCaptureBinding],{passive:!1,capture:!0})}),[preventForcePressBinding,startCaptureBinding]),stop=useCallback((function(){"IDLE"!==phaseRef.current.type&&(phaseRef.current=idle$1,unbindEventsRef.current(),listenForCapture())}),[listenForCapture]),cancel=useCallback((function(){var phase=phaseRef.current;stop(),"DRAGGING"===phase.type&&phase.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===phase.type&&phase.actions.abort()}),[stop]),bindCapturingEvents=useCallback((function bindCapturingEvents(){var bindings=getCaptureBindings({cancel,completed:stop,getPhase:function getPhase(){return phaseRef.current},setPhase:function setPhase(phase){phaseRef.current=phase}});unbindEventsRef.current=bindEvents(window,bindings,{capture:!0,passive:!1})}),[cancel,stop]),startPendingDrag=useCallback((function startPendingDrag(actions,point){"IDLE"!==phaseRef.current.type&&react_beautiful_dnd_esm_invariant(!1),phaseRef.current={type:"PENDING",point,actions},bindCapturingEvents()}),[bindCapturingEvents]);react_beautiful_dnd_esm_useIsomorphicLayoutEffect((function mount(){return listenForCapture(),function unmount(){unbindEventsRef.current()}}),[listenForCapture])}function noop$1(){}var scrollJumpKeys=((_scrollJumpKeys={})[34]=!0,_scrollJumpKeys[33]=!0,_scrollJumpKeys[36]=!0,_scrollJumpKeys[35]=!0,_scrollJumpKeys);function getDraggingBindings(actions,stop){function cancel(){stop(),actions.cancel()}return[{eventName:"keydown",fn:function fn(event){return event.keyCode===react_beautiful_dnd_esm_escape?(event.preventDefault(),void cancel()):event.keyCode===space?(event.preventDefault(),void function drop(){stop(),actions.drop()}()):event.keyCode===arrowDown?(event.preventDefault(),void actions.moveDown()):event.keyCode===arrowUp?(event.preventDefault(),void actions.moveUp()):event.keyCode===arrowRight?(event.preventDefault(),void actions.moveRight()):event.keyCode===arrowLeft?(event.preventDefault(),void actions.moveLeft()):void(scrollJumpKeys[event.keyCode]?event.preventDefault():preventStandardKeyEvents(event))}},{eventName:"mousedown",fn:cancel},{eventName:"mouseup",fn:cancel},{eventName:"click",fn:cancel},{eventName:"touchstart",fn:cancel},{eventName:"resize",fn:cancel},{eventName:"wheel",fn:cancel,options:{passive:!0}},{eventName:supportedEventName,fn:cancel}]}function useKeyboardSensor(api){var unbindEventsRef=(0,react.useRef)(noop$1),startCaptureBinding=use_memo_one_esm_useMemo((function(){return{eventName:"keydown",fn:function onKeyDown(event){if(!event.defaultPrevented&&event.keyCode===space){var draggableId=api.findClosestDraggableId(event);if(draggableId){var preDrag=api.tryGetLock(draggableId,stop,{sourceEvent:event});if(preDrag){event.preventDefault();var isCapturing=!0,actions=preDrag.snapLift();unbindEventsRef.current(),unbindEventsRef.current=bindEvents(window,getDraggingBindings(actions,stop),{capture:!0,passive:!1})}}}function stop(){isCapturing||react_beautiful_dnd_esm_invariant(!1),isCapturing=!1,unbindEventsRef.current(),listenForCapture()}}}}),[api]),listenForCapture=useCallback((function tryStartCapture(){unbindEventsRef.current=bindEvents(window,[startCaptureBinding],{passive:!1,capture:!0})}),[startCaptureBinding]);react_beautiful_dnd_esm_useIsomorphicLayoutEffect((function mount(){return listenForCapture(),function unmount(){unbindEventsRef.current()}}),[listenForCapture])}var idle$2={type:"IDLE"},timeForLongPress=120,forcePressThreshold=.15;function useTouchSensor(api){var phaseRef=(0,react.useRef)(idle$2),unbindEventsRef=(0,react.useRef)(noop),getPhase=useCallback((function getPhase(){return phaseRef.current}),[]),setPhase=useCallback((function setPhase(phase){phaseRef.current=phase}),[]),startCaptureBinding=use_memo_one_esm_useMemo((function(){return{eventName:"touchstart",fn:function onTouchStart(event){if(!event.defaultPrevented){var draggableId=api.findClosestDraggableId(event);if(draggableId){var actions=api.tryGetLock(draggableId,stop,{sourceEvent:event});if(actions){var touch=event.touches[0],point={x:touch.clientX,y:touch.clientY};unbindEventsRef.current(),startPendingDrag(actions,point)}}}}}}),[api]),listenForCapture=useCallback((function listenForCapture(){unbindEventsRef.current=bindEvents(window,[startCaptureBinding],{capture:!0,passive:!1})}),[startCaptureBinding]),stop=useCallback((function(){var current=phaseRef.current;"IDLE"!==current.type&&("PENDING"===current.type&&clearTimeout(current.longPressTimerId),setPhase(idle$2),unbindEventsRef.current(),listenForCapture())}),[listenForCapture,setPhase]),cancel=useCallback((function(){var phase=phaseRef.current;stop(),"DRAGGING"===phase.type&&phase.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===phase.type&&phase.actions.abort()}),[stop]),bindCapturingEvents=useCallback((function bindCapturingEvents(){var options={capture:!0,passive:!1},args={cancel,completed:stop,getPhase},unbindTarget=bindEvents(window,function getHandleBindings(_ref2){var cancel=_ref2.cancel,completed=_ref2.completed,getPhase=_ref2.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function fn(event){var phase=getPhase();if("DRAGGING"===phase.type){phase.hasMoved=!0;var _event$touches$=event.touches[0],point={x:_event$touches$.clientX,y:_event$touches$.clientY};event.preventDefault(),phase.actions.move(point)}else cancel()}},{eventName:"touchend",fn:function fn(event){var phase=getPhase();"DRAGGING"===phase.type?(event.preventDefault(),phase.actions.drop({shouldBlockNextClick:!0}),completed()):cancel()}},{eventName:"touchcancel",fn:function fn(event){"DRAGGING"===getPhase().type?(event.preventDefault(),cancel()):cancel()}},{eventName:"touchforcechange",fn:function fn(event){var phase=getPhase();"IDLE"===phase.type&&react_beautiful_dnd_esm_invariant(!1);var touch=event.touches[0];if(touch&&touch.force>=forcePressThreshold){var shouldRespect=phase.actions.shouldRespectForcePress();if("PENDING"!==phase.type)return shouldRespect?phase.hasMoved?void event.preventDefault():void cancel():void event.preventDefault();shouldRespect&&cancel()}}},{eventName:supportedEventName,fn:cancel}]}(args),options),unbindWindow=bindEvents(window,function getWindowBindings(_ref){var cancel=_ref.cancel,getPhase=_ref.getPhase;return[{eventName:"orientationchange",fn:cancel},{eventName:"resize",fn:cancel},{eventName:"contextmenu",fn:function fn(event){event.preventDefault()}},{eventName:"keydown",fn:function fn(event){"DRAGGING"===getPhase().type?(event.keyCode===react_beautiful_dnd_esm_escape&&event.preventDefault(),cancel()):cancel()}},{eventName:supportedEventName,fn:cancel}]}(args),options);unbindEventsRef.current=function unbindAll(){unbindTarget(),unbindWindow()}}),[cancel,getPhase,stop]),startDragging=useCallback((function startDragging(){var phase=getPhase();"PENDING"!==phase.type&&react_beautiful_dnd_esm_invariant(!1);var actions=phase.actions.fluidLift(phase.point);setPhase({type:"DRAGGING",actions,hasMoved:!1})}),[getPhase,setPhase]),startPendingDrag=useCallback((function startPendingDrag(actions,point){"IDLE"!==getPhase().type&&react_beautiful_dnd_esm_invariant(!1);var longPressTimerId=setTimeout(startDragging,timeForLongPress);setPhase({type:"PENDING",point,actions,longPressTimerId}),bindCapturingEvents()}),[bindCapturingEvents,getPhase,setPhase,startDragging]);react_beautiful_dnd_esm_useIsomorphicLayoutEffect((function mount(){return listenForCapture(),function unmount(){unbindEventsRef.current();var phase=getPhase();"PENDING"===phase.type&&(clearTimeout(phase.longPressTimerId),setPhase(idle$2))}}),[getPhase,listenForCapture,setPhase]),react_beautiful_dnd_esm_useIsomorphicLayoutEffect((function webkitHack(){return bindEvents(window,[{eventName:"touchmove",fn:function fn(){},options:{capture:!1,passive:!1}}])}),[])}var interactiveTagNames={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function isAnInteractiveElement(parent,current){if(null==current)return!1;if(Boolean(interactiveTagNames[current.tagName.toLowerCase()]))return!0;var attribute=current.getAttribute("contenteditable");return"true"===attribute||""===attribute||current!==parent&&isAnInteractiveElement(parent,current.parentElement)}function isEventInInteractiveElement(draggable,event){var target=event.target;return!!isHtmlElement(target)&&isAnInteractiveElement(draggable,target)}var getBorderBoxCenterPosition=function(el){return getRect(el.getBoundingClientRect()).center};var supportedMatchesName="undefined"==typeof document?"matches":find(["matches","msMatchesSelector","webkitMatchesSelector"],(function(name){return name in Element.prototype}))||"matches";function closestPonyfill(el,selector){return null==el?null:el[supportedMatchesName](selector)?el:closestPonyfill(el.parentElement,selector)}function closest$1(el,selector){return el.closest?el.closest(selector):closestPonyfill(el,selector)}function findClosestDragHandleFromEvent(contextId,event){var target=event.target;if(!function isElement(el){return el instanceof getWindowFromEl(el).Element}(target))return null;var selector=function getSelector(contextId){return"["+dragHandle.contextId+'="'+contextId+'"]'}(contextId),handle=closest$1(target,selector);return handle&&isHtmlElement(handle)?handle:null}function preventDefault(event){event.preventDefault()}function _isActive(_ref){var expected=_ref.expected,phase=_ref.phase,isLockActive=_ref.isLockActive;_ref.shouldWarn;return!!isLockActive()&&expected===phase}function canStart(_ref2){var lockAPI=_ref2.lockAPI,store=_ref2.store,registry=_ref2.registry,draggableId=_ref2.draggableId;if(lockAPI.isClaimed())return!1;var entry=registry.draggable.findById(draggableId);return!!entry&&(!!entry.options.isEnabled&&!!canStartDrag(store.getState(),draggableId))}function tryStart(_ref3){var lockAPI=_ref3.lockAPI,contextId=_ref3.contextId,store=_ref3.store,registry=_ref3.registry,draggableId=_ref3.draggableId,forceSensorStop=_ref3.forceSensorStop,sourceEvent=_ref3.sourceEvent;if(!canStart({lockAPI,store,registry,draggableId}))return null;var entry=registry.draggable.getById(draggableId),el=function findDraggable(contextId,draggableId){var selector="["+draggable.contextId+'="'+contextId+'"]',draggable$1=find(toArray(document.querySelectorAll(selector)),(function(el){return el.getAttribute(draggable.id)===draggableId}));return draggable$1&&isHtmlElement(draggable$1)?draggable$1:null}(contextId,entry.descriptor.id);if(!el)return null;if(sourceEvent&&!entry.options.canDragInteractiveElements&&isEventInInteractiveElement(el,sourceEvent))return null;var lock=lockAPI.claim(forceSensorStop||noop),phase="PRE_DRAG";function getShouldRespectForcePress(){return entry.options.shouldRespectForcePress}function isLockActive(){return lockAPI.isActive(lock)}var tryDispatchWhenDragging=function tryDispatch(expected,getAction){_isActive({expected,phase,isLockActive,shouldWarn:!0})&&store.dispatch(getAction())}.bind(null,"DRAGGING");function lift$1(args){function completed(){lockAPI.release(),phase="COMPLETED"}function finish(reason,options){if(void 0===options&&(options={shouldBlockNextClick:!1}),args.cleanup(),options.shouldBlockNextClick){var unbind=bindEvents(window,[{eventName:"click",fn:preventDefault,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(unbind)}completed(),store.dispatch(drop({reason}))}return"PRE_DRAG"!==phase&&(completed(),"PRE_DRAG"!==phase&&react_beautiful_dnd_esm_invariant(!1)),store.dispatch(lift(args.liftActionArgs)),phase="DRAGGING",(0,esm_extends.A)({isActive:function isActive(){return _isActive({expected:"DRAGGING",phase,isLockActive,shouldWarn:!1})},shouldRespectForcePress:getShouldRespectForcePress,drop:function drop(options){return finish("DROP",options)},cancel:function cancel(options){return finish("CANCEL",options)}},args.actions)}return{isActive:function isActive(){return _isActive({expected:"PRE_DRAG",phase,isLockActive,shouldWarn:!1})},shouldRespectForcePress:getShouldRespectForcePress,fluidLift:function fluidLift(clientSelection){var move$1=raf_schd_esm((function(client){tryDispatchWhenDragging((function(){return move({client})}))})),api=lift$1({liftActionArgs:{id:draggableId,clientSelection,movementMode:"FLUID"},cleanup:function cleanup(){return move$1.cancel()},actions:{move:move$1}});return(0,esm_extends.A)({},api,{move:move$1})},snapLift:function snapLift(){var actions={moveUp:function moveUp$1(){return tryDispatchWhenDragging(moveUp)},moveRight:function moveRight$1(){return tryDispatchWhenDragging(moveRight)},moveDown:function moveDown$1(){return tryDispatchWhenDragging(moveDown)},moveLeft:function moveLeft$1(){return tryDispatchWhenDragging(moveLeft)}};return lift$1({liftActionArgs:{id:draggableId,clientSelection:getBorderBoxCenterPosition(el),movementMode:"SNAP"},cleanup:noop,actions})},abort:function abortPreDrag(){_isActive({expected:"PRE_DRAG",phase,isLockActive,shouldWarn:!0})&&lockAPI.release()}}}var defaultSensors=[useMouseSensor,useKeyboardSensor,useTouchSensor];function useSensorMarshal(_ref4){var contextId=_ref4.contextId,store=_ref4.store,registry=_ref4.registry,customSensors=_ref4.customSensors,enableDefaultSensors=_ref4.enableDefaultSensors,useSensors=[].concat(enableDefaultSensors?defaultSensors:[],customSensors||[]),lockAPI=(0,react.useState)((function(){return function create(){var lock=null;function release(){lock||react_beautiful_dnd_esm_invariant(!1),lock=null}return{isClaimed:function isClaimed(){return Boolean(lock)},isActive:function isActive(value){return value===lock},claim:function claim(abandon){lock&&react_beautiful_dnd_esm_invariant(!1);var newLock={abandon};return lock=newLock,newLock},release,tryAbandon:function tryAbandon(){lock&&(lock.abandon(),release())}}}()}))[0],tryAbandonLock=useCallback((function tryAbandonLock(previous,current){previous.isDragging&&!current.isDragging&&lockAPI.tryAbandon()}),[lockAPI]);react_beautiful_dnd_esm_useIsomorphicLayoutEffect((function listenToStore(){var previous=store.getState();return store.subscribe((function(){var current=store.getState();tryAbandonLock(previous,current),previous=current}))}),[lockAPI,store,tryAbandonLock]),react_beautiful_dnd_esm_useIsomorphicLayoutEffect((function(){return lockAPI.tryAbandon}),[lockAPI.tryAbandon]);var canGetLock=useCallback((function(draggableId){return canStart({lockAPI,registry,store,draggableId})}),[lockAPI,registry,store]),tryGetLock=useCallback((function(draggableId,forceStop,options){return tryStart({lockAPI,registry,contextId,store,draggableId,forceSensorStop:forceStop,sourceEvent:options&&options.sourceEvent?options.sourceEvent:null})}),[contextId,lockAPI,registry,store]),findClosestDraggableId=useCallback((function(event){return function tryGetClosestDraggableIdFromEvent(contextId,event){var handle=findClosestDragHandleFromEvent(contextId,event);return handle?handle.getAttribute(dragHandle.draggableId):null}(contextId,event)}),[contextId]),findOptionsForDraggable=useCallback((function(id){var entry=registry.draggable.findById(id);return entry?entry.options:null}),[registry.draggable]),tryReleaseLock=useCallback((function tryReleaseLock(){lockAPI.isClaimed()&&(lockAPI.tryAbandon(),"IDLE"!==store.getState().phase&&store.dispatch(flush()))}),[lockAPI,store]),isLockClaimed=useCallback(lockAPI.isClaimed,[lockAPI]),api=use_memo_one_esm_useMemo((function(){return{canGetLock,tryGetLock,findClosestDraggableId,findOptionsForDraggable,tryReleaseLock,isLockClaimed}}),[canGetLock,tryGetLock,findClosestDraggableId,findOptionsForDraggable,tryReleaseLock,isLockClaimed]);!function useValidateSensorHooks(sensorHooks){useDev()}();for(var i=0;i<useSensors.length;i++)useSensors[i](api)}var createResponders=function createResponders(props){return{onBeforeCapture:props.onBeforeCapture,onBeforeDragStart:props.onBeforeDragStart,onDragStart:props.onDragStart,onDragEnd:props.onDragEnd,onDragUpdate:props.onDragUpdate}};function getStore(lazyRef){return lazyRef.current||react_beautiful_dnd_esm_invariant(!1),lazyRef.current}function App(props){var contextId=props.contextId,setCallbacks=props.setCallbacks,sensors=props.sensors,nonce=props.nonce,dragHandleUsageInstructions=props.dragHandleUsageInstructions,lazyStoreRef=(0,react.useRef)(null);!function useStartupValidation(){useDevSetupWarning()}();var lastPropsRef=usePrevious(props),getResponders=useCallback((function(){return createResponders(lastPropsRef.current)}),[lastPropsRef]),announce=function useAnnouncer(contextId){var id=use_memo_one_esm_useMemo((function(){return getId(contextId)}),[contextId]),ref=(0,react.useRef)(null);return(0,react.useEffect)((function setup(){var el=document.createElement("div");return ref.current=el,el.id=id,el.setAttribute("aria-live","assertive"),el.setAttribute("aria-atomic","true"),(0,esm_extends.A)(el.style,visuallyHidden),getBodyElement().appendChild(el),function cleanup(){setTimeout((function remove(){var body=getBodyElement();body.contains(el)&&body.removeChild(el),el===ref.current&&(ref.current=null)}))}}),[id]),useCallback((function(message){var el=ref.current;el&&(el.textContent=message)}),[])}(contextId),dragHandleUsageInstructionsId=function useHiddenTextElement(_ref2){var contextId=_ref2.contextId,text=_ref2.text,uniqueId=useUniqueId("hidden-text",{separator:"-"}),id=use_memo_one_esm_useMemo((function(){return function getElementId(_ref){return"rbd-hidden-text-"+_ref.contextId+"-"+_ref.uniqueId}({contextId,uniqueId})}),[uniqueId,contextId]);return(0,react.useEffect)((function mount(){var el=document.createElement("div");return el.id=id,el.textContent=text,el.style.display="none",getBodyElement().appendChild(el),function unmount(){var body=getBodyElement();body.contains(el)&&body.removeChild(el)}}),[id,text]),id}({contextId,text:dragHandleUsageInstructions}),styleMarshal=function useStyleMarshal(contextId,nonce){var styles=use_memo_one_esm_useMemo((function(){return getStyles$1(contextId)}),[contextId]),alwaysRef=(0,react.useRef)(null),dynamicRef=(0,react.useRef)(null),setDynamicStyle=useCallback(memoize_one_esm((function(proposed){var el=dynamicRef.current;el||react_beautiful_dnd_esm_invariant(!1),el.textContent=proposed})),[]),setAlwaysStyle=useCallback((function(proposed){var el=alwaysRef.current;el||react_beautiful_dnd_esm_invariant(!1),el.textContent=proposed}),[]);react_beautiful_dnd_esm_useIsomorphicLayoutEffect((function(){(alwaysRef.current||dynamicRef.current)&&react_beautiful_dnd_esm_invariant(!1);var always=createStyleEl(nonce),dynamic=createStyleEl(nonce);return alwaysRef.current=always,dynamicRef.current=dynamic,always.setAttribute(prefix$1+"-always",contextId),dynamic.setAttribute(prefix$1+"-dynamic",contextId),getHead().appendChild(always),getHead().appendChild(dynamic),setAlwaysStyle(styles.always),setDynamicStyle(styles.resting),function(){var remove=function remove(ref){var current=ref.current;current||react_beautiful_dnd_esm_invariant(!1),getHead().removeChild(current),ref.current=null};remove(alwaysRef),remove(dynamicRef)}}),[nonce,setAlwaysStyle,setDynamicStyle,styles.always,styles.resting,contextId]);var dragging=useCallback((function(){return setDynamicStyle(styles.dragging)}),[setDynamicStyle,styles.dragging]),dropping=useCallback((function(reason){setDynamicStyle("DROP"!==reason?styles.userCancel:styles.dropAnimating)}),[setDynamicStyle,styles.dropAnimating,styles.userCancel]),resting=useCallback((function(){dynamicRef.current&&setDynamicStyle(styles.resting)}),[setDynamicStyle,styles.resting]);return use_memo_one_esm_useMemo((function(){return{dragging,dropping,resting}}),[dragging,dropping,resting])}(contextId,nonce),lazyDispatch=useCallback((function(action){getStore(lazyStoreRef).dispatch(action)}),[]),marshalCallbacks=use_memo_one_esm_useMemo((function(){return bindActionCreators({publishWhileDragging,updateDroppableScroll,updateDroppableIsEnabled,updateDroppableIsCombineEnabled,collectionStarting},lazyDispatch)}),[lazyDispatch]),registry=function useRegistry(){var registry=use_memo_one_esm_useMemo(createRegistry,[]);return(0,react.useEffect)((function(){return function unmount(){requestAnimationFrame(registry.clean)}}),[registry]),registry}(),dimensionMarshal=use_memo_one_esm_useMemo((function(){return createDimensionMarshal(registry,marshalCallbacks)}),[registry,marshalCallbacks]),autoScroller=use_memo_one_esm_useMemo((function(){return createAutoScroller((0,esm_extends.A)({scrollWindow,scrollDroppable:dimensionMarshal.scrollDroppable},bindActionCreators({move},lazyDispatch)))}),[dimensionMarshal.scrollDroppable,lazyDispatch]),focusMarshal=function useFocusMarshal(contextId){var entriesRef=(0,react.useRef)({}),recordRef=(0,react.useRef)(null),restoreFocusFrameRef=(0,react.useRef)(null),isMountedRef=(0,react.useRef)(!1),register=useCallback((function register(id,focus){var entry={id,focus};return entriesRef.current[id]=entry,function unregister(){var entries=entriesRef.current;entries[id]!==entry&&delete entries[id]}}),[]),tryGiveFocus=useCallback((function tryGiveFocus(tryGiveFocusTo){var handle=findDragHandle(contextId,tryGiveFocusTo);handle&&handle!==document.activeElement&&handle.focus()}),[contextId]),tryShiftRecord=useCallback((function tryShiftRecord(previous,redirectTo){recordRef.current===previous&&(recordRef.current=redirectTo)}),[]),tryRestoreFocusRecorded=useCallback((function tryRestoreFocusRecorded(){restoreFocusFrameRef.current||isMountedRef.current&&(restoreFocusFrameRef.current=requestAnimationFrame((function(){restoreFocusFrameRef.current=null;var record=recordRef.current;record&&tryGiveFocus(record)})))}),[tryGiveFocus]),tryRecordFocus=useCallback((function tryRecordFocus(id){recordRef.current=null;var focused=document.activeElement;focused&&focused.getAttribute(dragHandle.draggableId)===id&&(recordRef.current=id)}),[]);return react_beautiful_dnd_esm_useIsomorphicLayoutEffect((function(){return isMountedRef.current=!0,function clearFrameOnUnmount(){isMountedRef.current=!1;var frameId=restoreFocusFrameRef.current;frameId&&cancelAnimationFrame(frameId)}}),[]),use_memo_one_esm_useMemo((function(){return{register,tryRecordFocus,tryRestoreFocusRecorded,tryShiftRecord}}),[register,tryRecordFocus,tryRestoreFocusRecorded,tryShiftRecord])}(contextId),store=use_memo_one_esm_useMemo((function(){return react_beautiful_dnd_esm_createStore({announce,autoScroller,dimensionMarshal,focusMarshal,getResponders,styleMarshal})}),[announce,autoScroller,dimensionMarshal,focusMarshal,getResponders,styleMarshal]);lazyStoreRef.current=store;var tryResetStore=useCallback((function(){var current=getStore(lazyStoreRef);"IDLE"!==current.getState().phase&&current.dispatch(flush())}),[]),isDragging=useCallback((function(){var state=getStore(lazyStoreRef).getState();return state.isDragging||"DROP_ANIMATING"===state.phase}),[]);setCallbacks(use_memo_one_esm_useMemo((function(){return{isDragging,tryAbort:tryResetStore}}),[isDragging,tryResetStore]));var getCanLift=useCallback((function(id){return canStartDrag(getStore(lazyStoreRef).getState(),id)}),[]),getIsMovementAllowed=useCallback((function(){return isMovementAllowed(getStore(lazyStoreRef).getState())}),[]),appContext=use_memo_one_esm_useMemo((function(){return{marshal:dimensionMarshal,focus:focusMarshal,contextId,canLift:getCanLift,isMovementAllowed:getIsMovementAllowed,dragHandleUsageInstructionsId,registry}}),[contextId,dimensionMarshal,dragHandleUsageInstructionsId,focusMarshal,getCanLift,getIsMovementAllowed,registry]);return useSensorMarshal({contextId,store,registry,customSensors:sensors,enableDefaultSensors:!1!==props.enableDefaultSensors}),(0,react.useEffect)((function(){return tryResetStore}),[tryResetStore]),react.createElement(AppContext.Provider,{value:appContext},react.createElement(components_Provider,{context:StoreContext,store},props.children))}var count$1=0;function resetServerContext(){!function reset$1(){count$1=0}(),function react_beautiful_dnd_esm_reset(){count=0}()}function DragDropContext(props){var contextId=function useInstanceCount(){return use_memo_one_esm_useMemo((function(){return""+count$1++}),[])}(),dragHandleUsageInstructions=props.dragHandleUsageInstructions||preset.dragHandleUsageInstructions;return react.createElement(ErrorBoundary,null,(function(setCallbacks){return react.createElement(App,{nonce:props.nonce,contextId,setCallbacks,dragHandleUsageInstructions,enableDefaultSensors:props.enableDefaultSensors,sensors:props.sensors,onBeforeCapture:props.onBeforeCapture,onBeforeDragStart:props.onBeforeDragStart,onDragStart:props.onDragStart,onDragUpdate:props.onDragUpdate,onDragEnd:props.onDragEnd},props.children)}))}var isEqual$1=function isEqual(base){return function(value){return base===value}},isScroll=isEqual$1("scroll"),isAuto=isEqual$1("auto"),isEither=(isEqual$1("visible"),function isEither(overflow,fn){return fn(overflow.overflowX)||fn(overflow.overflowY)}),isElementScrollable=function isElementScrollable(el){var style=window.getComputedStyle(el),overflow={overflowX:style.overflowX,overflowY:style.overflowY};return isEither(overflow,isScroll)||isEither(overflow,isAuto)},getClosestScrollable=function getClosestScrollable(el){return null==el||el===document.body||el===document.documentElement?null:isElementScrollable(el)?el:getClosestScrollable(el.parentElement)},getScroll$1=function(el){return{x:el.scrollLeft,y:el.scrollTop}},getIsFixed=function getIsFixed(el){return!!el&&("fixed"===window.getComputedStyle(el).position||getIsFixed(el.parentElement))},getEnv=function(start){return{closestScrollable:getClosestScrollable(start),isFixedOnPage:getIsFixed(start)}},getDimension=function(_ref){var ref=_ref.ref,descriptor=_ref.descriptor,env=_ref.env,windowScroll=_ref.windowScroll,direction=_ref.direction,isDropDisabled=_ref.isDropDisabled,isCombineEnabled=_ref.isCombineEnabled,shouldClipSubject=_ref.shouldClipSubject,closestScrollable=env.closestScrollable,client=function getClient(targetRef,closestScrollable){var base=getBox(targetRef);if(!closestScrollable)return base;if(targetRef!==closestScrollable)return base;var top=base.paddingBox.top-closestScrollable.scrollTop,left=base.paddingBox.left-closestScrollable.scrollLeft,bottom=top+closestScrollable.scrollHeight,right=left+closestScrollable.scrollWidth,borderBox=expand({top,right,bottom,left},base.border);return createBox({borderBox,margin:base.margin,border:base.border,padding:base.padding})}(ref,closestScrollable),page=withScroll(client,windowScroll),closest=function(){if(!closestScrollable)return null;var frameClient=getBox(closestScrollable),scrollSize={scrollHeight:closestScrollable.scrollHeight,scrollWidth:closestScrollable.scrollWidth};return{client:frameClient,page:withScroll(frameClient,windowScroll),scroll:getScroll$1(closestScrollable),scrollSize,shouldClipSubject}}(),dimension=function(_ref){var descriptor=_ref.descriptor,isEnabled=_ref.isEnabled,isCombineEnabled=_ref.isCombineEnabled,isFixedOnPage=_ref.isFixedOnPage,direction=_ref.direction,client=_ref.client,page=_ref.page,closest=_ref.closest,frame=function(){if(!closest)return null;var scrollSize=closest.scrollSize,frameClient=closest.client,maxScroll=getMaxScroll({scrollHeight:scrollSize.scrollHeight,scrollWidth:scrollSize.scrollWidth,height:frameClient.paddingBox.height,width:frameClient.paddingBox.width});return{pageMarginBox:closest.page.marginBox,frameClient,scrollSize,shouldClipSubject:closest.shouldClipSubject,scroll:{initial:closest.scroll,current:closest.scroll,max:maxScroll,diff:{value:origin,displacement:origin}}}}(),axis="vertical"===direction?vertical:horizontal;return{descriptor,isCombineEnabled,isFixedOnPage,axis,isEnabled,client,page,frame,subject:getSubject({page,withPlaceholder:null,axis,frame})}}({descriptor,isEnabled:!isDropDisabled,isCombineEnabled,isFixedOnPage:env.isFixedOnPage,direction,client,page,closest});return dimension},immediate={passive:!1},delayed={passive:!0},getListenerOptions=function(options){return options.shouldPublishImmediately?immediate:delayed};function useRequiredContext(Context){var result=(0,react.useContext)(Context);return result||react_beautiful_dnd_esm_invariant(!1),result}var getClosestScrollableFromDrag=function getClosestScrollableFromDrag(dragging){return dragging&&dragging.env.closestScrollable||null};function noop$2(){}var empty={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},getStyle=function getStyle(_ref2){var isAnimatingOpenOnMount=_ref2.isAnimatingOpenOnMount,placeholder=_ref2.placeholder,animate=_ref2.animate,size=function getSize(_ref){var isAnimatingOpenOnMount=_ref.isAnimatingOpenOnMount,placeholder=_ref.placeholder,animate=_ref.animate;return isAnimatingOpenOnMount||"close"===animate?empty:{height:placeholder.client.borderBox.height,width:placeholder.client.borderBox.width,margin:placeholder.client.margin}}({isAnimatingOpenOnMount,placeholder,animate});return{display:placeholder.display,boxSizing:"border-box",width:size.width,height:size.height,marginTop:size.margin.top,marginRight:size.margin.right,marginBottom:size.margin.bottom,marginLeft:size.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==animate?transitions.placeholder:null}};var Placeholder$1=react.memo((function Placeholder(props){var animateOpenTimerRef=(0,react.useRef)(null),tryClearAnimateOpenTimer=useCallback((function(){animateOpenTimerRef.current&&(clearTimeout(animateOpenTimerRef.current),animateOpenTimerRef.current=null)}),[]),animate=props.animate,onTransitionEnd=props.onTransitionEnd,onClose=props.onClose,contextId=props.contextId,_useState=(0,react.useState)("open"===props.animate),isAnimatingOpenOnMount=_useState[0],setIsAnimatingOpenOnMount=_useState[1];(0,react.useEffect)((function(){return isAnimatingOpenOnMount?"open"!==animate?(tryClearAnimateOpenTimer(),setIsAnimatingOpenOnMount(!1),noop$2):animateOpenTimerRef.current?noop$2:(animateOpenTimerRef.current=setTimeout((function(){animateOpenTimerRef.current=null,setIsAnimatingOpenOnMount(!1)})),tryClearAnimateOpenTimer):noop$2}),[animate,isAnimatingOpenOnMount,tryClearAnimateOpenTimer]);var onSizeChangeEnd=useCallback((function(event){"height"===event.propertyName&&(onTransitionEnd(),"close"===animate&&onClose())}),[animate,onClose,onTransitionEnd]),style=getStyle({isAnimatingOpenOnMount,animate:props.animate,placeholder:props.placeholder});return react.createElement(props.placeholder.tagName,{style,"data-rbd-placeholder-context-id":contextId,onTransitionEnd:onSizeChangeEnd,ref:props.innerRef})})),DroppableContext=react.createContext(null);var AnimateInOut=function(_React$PureComponent){function AnimateInOut(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_React$PureComponent.call.apply(_React$PureComponent,[this].concat(args))||this).state={isVisible:Boolean(_this.props.on),data:_this.props.on,animate:_this.props.shouldAnimate&&_this.props.on?"open":"none"},_this.onClose=function(){"close"===_this.state.animate&&_this.setState({isVisible:!1})},_this}return _inheritsLoose(AnimateInOut,_React$PureComponent),AnimateInOut.getDerivedStateFromProps=function getDerivedStateFromProps(props,state){return props.shouldAnimate?props.on?{isVisible:!0,data:props.on,animate:"open"}:state.isVisible?{isVisible:!0,data:state.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(props.on),data:props.on,animate:"none"}},AnimateInOut.prototype.render=function render(){if(!this.state.isVisible)return null;var provided={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(provided)},AnimateInOut}(react.PureComponent),zIndexOptions={dragging:5e3,dropAnimating:4500},getDraggingTransition=function getDraggingTransition(shouldAnimateDragMovement,dropping){return dropping?transitions.drop(dropping.duration):shouldAnimateDragMovement?transitions.snap:transitions.fluid},getDraggingOpacity=function getDraggingOpacity(isCombining,isDropAnimating){return isCombining?isDropAnimating?combine_opacity.drop:combine_opacity.combining:null},getShouldDraggingAnimate=function getShouldDraggingAnimate(dragging){return null!=dragging.forceShouldAnimate?dragging.forceShouldAnimate:"SNAP"===dragging.mode};function getStyle$1(mapped){return"DRAGGING"===mapped.type?function getDraggingStyle(dragging){var box=dragging.dimension.client,offset=dragging.offset,combineWith=dragging.combineWith,dropping=dragging.dropping,isCombining=Boolean(combineWith),shouldAnimate=getShouldDraggingAnimate(dragging),isDropAnimating=Boolean(dropping),transform=isDropAnimating?transforms.drop(offset,isCombining):transforms.moveTo(offset);return{position:"fixed",top:box.marginBox.top,left:box.marginBox.left,boxSizing:"border-box",width:box.borderBox.width,height:box.borderBox.height,transition:getDraggingTransition(shouldAnimate,dropping),transform,opacity:getDraggingOpacity(isCombining,isDropAnimating),zIndex:isDropAnimating?zIndexOptions.dropAnimating:zIndexOptions.dragging,pointerEvents:"none"}}(mapped):function getSecondaryStyle(secondary){return{transform:transforms.moveTo(secondary.offset),transition:secondary.shouldAnimateDisplacement?null:"none"}}(mapped)}function useDraggablePublisher(args){var uniqueId=useUniqueId("draggable"),descriptor=args.descriptor,registry=args.registry,getDraggableRef=args.getDraggableRef,canDragInteractiveElements=args.canDragInteractiveElements,shouldRespectForcePress=args.shouldRespectForcePress,isEnabled=args.isEnabled,options=use_memo_one_esm_useMemo((function(){return{canDragInteractiveElements,shouldRespectForcePress,isEnabled}}),[canDragInteractiveElements,isEnabled,shouldRespectForcePress]),getDimension=useCallback((function(windowScroll){var el=getDraggableRef();return el||react_beautiful_dnd_esm_invariant(!1),function getDimension$1(descriptor,el,windowScroll){void 0===windowScroll&&(windowScroll=origin);var computedStyles=window.getComputedStyle(el),borderBox=el.getBoundingClientRect(),client=calculateBox(borderBox,computedStyles),page=withScroll(client,windowScroll);return{descriptor,placeholder:{client,tagName:el.tagName.toLowerCase(),display:computedStyles.display},displaceBy:{x:client.marginBox.width,y:client.marginBox.height},client,page}}(descriptor,el,windowScroll)}),[descriptor,getDraggableRef]),entry=use_memo_one_esm_useMemo((function(){return{uniqueId,descriptor,options,getDimension}}),[descriptor,getDimension,options,uniqueId]),publishedRef=(0,react.useRef)(entry),isFirstPublishRef=(0,react.useRef)(!0);react_beautiful_dnd_esm_useIsomorphicLayoutEffect((function(){return registry.draggable.register(publishedRef.current),function(){return registry.draggable.unregister(publishedRef.current)}}),[registry.draggable]),react_beautiful_dnd_esm_useIsomorphicLayoutEffect((function(){if(isFirstPublishRef.current)isFirstPublishRef.current=!1;else{var last=publishedRef.current;publishedRef.current=entry,registry.draggable.update(entry,last)}}),[entry,registry.draggable])}function useValidation$1(props,contextId,getRef){useDevSetupWarning()}function preventHtml5Dnd(event){event.preventDefault()}var isStrictEqual=function(a,b){return a===b},whatIsDraggedOverFromResult=function(result){var combine=result.combine,destination=result.destination;return destination?destination.droppableId:combine?combine.droppableId:null};function getSecondarySnapshot(combineTargetFor){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor,combineWith:null}}var atRest={mapped:{type:"SECONDARY",offset:origin,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:getSecondarySnapshot(null)}};var ConnectedDraggable=connect((function makeMapStateToProps(){var draggingSelector=function getDraggableSelector(){var memoizedOffset=memoize_one_esm((function(x,y){return{x,y}})),getMemoizedSnapshot=memoize_one_esm((function(mode,isClone,draggingOver,combineWith,dropping){return{isDragging:!0,isClone,isDropAnimating:Boolean(dropping),dropAnimation:dropping,mode,draggingOver,combineWith,combineTargetFor:null}})),getMemoizedProps=memoize_one_esm((function(offset,mode,dimension,isClone,draggingOver,combineWith,forceShouldAnimate){return{mapped:{type:"DRAGGING",dropping:null,draggingOver,combineWith,mode,offset,dimension,forceShouldAnimate,snapshot:getMemoizedSnapshot(mode,isClone,draggingOver,combineWith,null)}}}));return function selector(state,ownProps){if(state.isDragging){if(state.critical.draggable.id!==ownProps.draggableId)return null;var offset=state.current.client.offset,dimension=state.dimensions.draggables[ownProps.draggableId],draggingOver=whatIsDraggedOver(state.impact),combineWith=function getCombineWithFromImpact(impact){return impact.at&&"COMBINE"===impact.at.type?impact.at.combine.draggableId:null}(state.impact),forceShouldAnimate=state.forceShouldAnimate;return getMemoizedProps(memoizedOffset(offset.x,offset.y),state.movementMode,dimension,ownProps.isClone,draggingOver,combineWith,forceShouldAnimate)}if("DROP_ANIMATING"===state.phase){var completed=state.completed;if(completed.result.draggableId!==ownProps.draggableId)return null;var isClone=ownProps.isClone,_dimension=state.dimensions.draggables[ownProps.draggableId],result=completed.result,mode=result.mode,_draggingOver=whatIsDraggedOverFromResult(result),_combineWith=function getCombineWithFromResult(result){return result.combine?result.combine.draggableId:null}(result),dropping={duration:state.dropDuration,curve:curves_drop,moveTo:state.newHomeClientOffset,opacity:_combineWith?combine_opacity.drop:null,scale:_combineWith?combine_scale.drop:null};return{mapped:{type:"DRAGGING",offset:state.newHomeClientOffset,dimension:_dimension,dropping,draggingOver:_draggingOver,combineWith:_combineWith,mode,forceShouldAnimate:null,snapshot:getMemoizedSnapshot(mode,isClone,_draggingOver,_combineWith,dropping)}}}return null}}(),secondarySelector=function getSecondarySelector(){var memoizedOffset=memoize_one_esm((function(x,y){return{x,y}})),getMemoizedSnapshot=memoize_one_esm(getSecondarySnapshot),getMemoizedProps=memoize_one_esm((function(offset,combineTargetFor,shouldAnimateDisplacement){return void 0===combineTargetFor&&(combineTargetFor=null),{mapped:{type:"SECONDARY",offset,combineTargetFor,shouldAnimateDisplacement,snapshot:getMemoizedSnapshot(combineTargetFor)}}})),getFallback=function getFallback(combineTargetFor){return combineTargetFor?getMemoizedProps(origin,combineTargetFor,!0):null},getProps=function getProps(ownId,draggingId,impact,afterCritical){var visualDisplacement=impact.displaced.visible[ownId],isAfterCriticalInVirtualList=Boolean(afterCritical.inVirtualList&&afterCritical.effected[ownId]),combine=tryGetCombine(impact),combineTargetFor=combine&&combine.draggableId===ownId?draggingId:null;if(!visualDisplacement){if(!isAfterCriticalInVirtualList)return getFallback(combineTargetFor);if(impact.displaced.invisible[ownId])return null;var change=negate(afterCritical.displacedBy.point),_offset=memoizedOffset(change.x,change.y);return getMemoizedProps(_offset,combineTargetFor,!0)}if(isAfterCriticalInVirtualList)return getFallback(combineTargetFor);var displaceBy=impact.displacedBy.point,offset=memoizedOffset(displaceBy.x,displaceBy.y);return getMemoizedProps(offset,combineTargetFor,visualDisplacement.shouldAnimate)};return function selector(state,ownProps){if(state.isDragging)return state.critical.draggable.id===ownProps.draggableId?null:getProps(ownProps.draggableId,state.critical.draggable.id,state.impact,state.afterCritical);if("DROP_ANIMATING"===state.phase){var completed=state.completed;return completed.result.draggableId===ownProps.draggableId?null:getProps(ownProps.draggableId,completed.result.draggableId,completed.impact,completed.afterCritical)}return null}}();return function selector(state,ownProps){return draggingSelector(state,ownProps)||secondarySelector(state,ownProps)||atRest}}),{dropAnimationFinished},null,{context:StoreContext,pure:!0,areStatePropsEqual:isStrictEqual})((function Draggable(props){var ref=(0,react.useRef)(null),setRef=useCallback((function(el){ref.current=el}),[]),getRef=useCallback((function(){return ref.current}),[]),_useRequiredContext=useRequiredContext(AppContext),contextId=_useRequiredContext.contextId,dragHandleUsageInstructionsId=_useRequiredContext.dragHandleUsageInstructionsId,registry=_useRequiredContext.registry,_useRequiredContext2=useRequiredContext(DroppableContext),type=_useRequiredContext2.type,droppableId=_useRequiredContext2.droppableId,descriptor=use_memo_one_esm_useMemo((function(){return{id:props.draggableId,index:props.index,type,droppableId}}),[props.draggableId,props.index,type,droppableId]),children=props.children,draggableId=props.draggableId,isEnabled=props.isEnabled,shouldRespectForcePress=props.shouldRespectForcePress,canDragInteractiveElements=props.canDragInteractiveElements,isClone=props.isClone,mapped=props.mapped,dropAnimationFinishedAction=props.dropAnimationFinished;useValidation$1(),function useClonePropValidation(isClone){useDev()}(),isClone||useDraggablePublisher(use_memo_one_esm_useMemo((function(){return{descriptor,registry,getDraggableRef:getRef,canDragInteractiveElements,shouldRespectForcePress,isEnabled}}),[descriptor,registry,getRef,canDragInteractiveElements,shouldRespectForcePress,isEnabled]));var dragHandleProps=use_memo_one_esm_useMemo((function(){return isEnabled?{tabIndex:0,role:"button","aria-describedby":dragHandleUsageInstructionsId,"data-rbd-drag-handle-draggable-id":draggableId,"data-rbd-drag-handle-context-id":contextId,draggable:!1,onDragStart:preventHtml5Dnd}:null}),[contextId,dragHandleUsageInstructionsId,draggableId,isEnabled]),onMoveEnd=useCallback((function(event){"DRAGGING"===mapped.type&&mapped.dropping&&"transform"===event.propertyName&&dropAnimationFinishedAction()}),[dropAnimationFinishedAction,mapped]),provided=use_memo_one_esm_useMemo((function(){var style=getStyle$1(mapped),onTransitionEnd="DRAGGING"===mapped.type&&mapped.dropping?onMoveEnd:null;return{innerRef:setRef,draggableProps:{"data-rbd-draggable-context-id":contextId,"data-rbd-draggable-id":draggableId,style,onTransitionEnd},dragHandleProps}}),[contextId,dragHandleProps,draggableId,mapped,onMoveEnd,setRef]),rubric=use_memo_one_esm_useMemo((function(){return{draggableId:descriptor.id,type:descriptor.type,source:{index:descriptor.index,droppableId:descriptor.droppableId}}}),[descriptor.droppableId,descriptor.id,descriptor.index,descriptor.type]);return children(provided,mapped.snapshot,rubric)}));function PrivateDraggable(props){return useRequiredContext(DroppableContext).isUsingCloneFor!==props.draggableId||props.isClone?react.createElement(ConnectedDraggable,props):null}function PublicDraggable(props){var isEnabled="boolean"!=typeof props.isDragDisabled||!props.isDragDisabled,canDragInteractiveElements=Boolean(props.disableInteractiveElementBlocking),shouldRespectForcePress=Boolean(props.shouldRespectForcePress);return react.createElement(PrivateDraggable,(0,esm_extends.A)({},props,{isClone:!1,isEnabled,canDragInteractiveElements,shouldRespectForcePress}))}var isMatchingType=function isMatchingType(type,critical){return type===critical.droppable.type},getDraggable=function getDraggable(critical,dimensions){return dimensions.draggables[critical.draggable.id]};var defaultProps={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function getBody(){return document.body||react_beautiful_dnd_esm_invariant(!1),document.body}},ConnectedDroppable=connect((function makeMapStateToProps(){var idleWithAnimation={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},idleWithoutAnimation=(0,esm_extends.A)({},idleWithAnimation,{shouldAnimatePlaceholder:!1}),getDraggableRubric=memoize_one_esm((function(descriptor){return{draggableId:descriptor.id,type:descriptor.type,source:{index:descriptor.index,droppableId:descriptor.droppableId}}})),getMapProps=memoize_one_esm((function(id,isEnabled,isDraggingOverForConsumer,isDraggingOverForImpact,dragging,renderClone){var draggableId=dragging.descriptor.id;if(dragging.descriptor.droppableId===id){var useClone=renderClone?{render:renderClone,dragging:getDraggableRubric(dragging.descriptor)}:null,_snapshot={isDraggingOver:isDraggingOverForConsumer,draggingOverWith:isDraggingOverForConsumer?draggableId:null,draggingFromThisWith:draggableId,isUsingPlaceholder:!0};return{placeholder:dragging.placeholder,shouldAnimatePlaceholder:!1,snapshot:_snapshot,useClone}}if(!isEnabled)return idleWithoutAnimation;if(!isDraggingOverForImpact)return idleWithAnimation;var snapshot={isDraggingOver:isDraggingOverForConsumer,draggingOverWith:draggableId,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:dragging.placeholder,shouldAnimatePlaceholder:!0,snapshot,useClone:null}}));return function selector(state,ownProps){var id=ownProps.droppableId,type=ownProps.type,isEnabled=!ownProps.isDropDisabled,renderClone=ownProps.renderClone;if(state.isDragging){var critical=state.critical;if(!isMatchingType(type,critical))return idleWithoutAnimation;var dragging=getDraggable(critical,state.dimensions),isDraggingOver=whatIsDraggedOver(state.impact)===id;return getMapProps(id,isEnabled,isDraggingOver,isDraggingOver,dragging,renderClone)}if("DROP_ANIMATING"===state.phase){var completed=state.completed;if(!isMatchingType(type,completed.critical))return idleWithoutAnimation;var _dragging=getDraggable(completed.critical,state.dimensions);return getMapProps(id,isEnabled,whatIsDraggedOverFromResult(completed.result)===id,whatIsDraggedOver(completed.impact)===id,_dragging,renderClone)}if("IDLE"===state.phase&&state.completed&&!state.shouldFlush){var _completed=state.completed;if(!isMatchingType(type,_completed.critical))return idleWithoutAnimation;var wasOver=whatIsDraggedOver(_completed.impact)===id,wasCombining=Boolean(_completed.impact.at&&"COMBINE"===_completed.impact.at.type),isHome=_completed.critical.droppable.id===id;return wasOver?wasCombining?idleWithAnimation:idleWithoutAnimation:isHome?idleWithAnimation:idleWithoutAnimation}return idleWithoutAnimation}}),{updateViewportMaxScroll:function updateViewportMaxScroll(args){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:args}}},null,{context:StoreContext,pure:!0,areStatePropsEqual:isStrictEqual})((function Droppable(props){var appContext=(0,react.useContext)(AppContext);appContext||react_beautiful_dnd_esm_invariant(!1);var contextId=appContext.contextId,isMovementAllowed=appContext.isMovementAllowed,droppableRef=(0,react.useRef)(null),placeholderRef=(0,react.useRef)(null),children=props.children,droppableId=props.droppableId,type=props.type,mode=props.mode,direction=props.direction,ignoreContainerClipping=props.ignoreContainerClipping,isDropDisabled=props.isDropDisabled,isCombineEnabled=props.isCombineEnabled,snapshot=props.snapshot,useClone=props.useClone,updateViewportMaxScroll=props.updateViewportMaxScroll,getContainerForClone=props.getContainerForClone,getDroppableRef=useCallback((function(){return droppableRef.current}),[]),setDroppableRef=useCallback((function(value){droppableRef.current=value}),[]),setPlaceholderRef=(useCallback((function(){return placeholderRef.current}),[]),useCallback((function(value){placeholderRef.current=value}),[]));!function useValidation(args){useDevSetupWarning()}();var onPlaceholderTransitionEnd=useCallback((function(){isMovementAllowed()&&updateViewportMaxScroll({maxScroll:getMaxWindowScroll()})}),[isMovementAllowed,updateViewportMaxScroll]);!function useDroppablePublisher(args){var whileDraggingRef=(0,react.useRef)(null),appContext=useRequiredContext(AppContext),uniqueId=useUniqueId("droppable"),registry=appContext.registry,marshal=appContext.marshal,previousRef=usePrevious(args),descriptor=use_memo_one_esm_useMemo((function(){return{id:args.droppableId,type:args.type,mode:args.mode}}),[args.droppableId,args.mode,args.type]),publishedDescriptorRef=(0,react.useRef)(descriptor),memoizedUpdateScroll=use_memo_one_esm_useMemo((function(){return memoize_one_esm((function(x,y){whileDraggingRef.current||react_beautiful_dnd_esm_invariant(!1);var scroll={x,y};marshal.updateDroppableScroll(descriptor.id,scroll)}))}),[descriptor.id,marshal]),getClosestScroll=useCallback((function(){var dragging=whileDraggingRef.current;return dragging&&dragging.env.closestScrollable?getScroll$1(dragging.env.closestScrollable):origin}),[]),updateScroll=useCallback((function(){var scroll=getClosestScroll();memoizedUpdateScroll(scroll.x,scroll.y)}),[getClosestScroll,memoizedUpdateScroll]),scheduleScrollUpdate=use_memo_one_esm_useMemo((function(){return raf_schd_esm(updateScroll)}),[updateScroll]),onClosestScroll=useCallback((function(){var dragging=whileDraggingRef.current,closest=getClosestScrollableFromDrag(dragging);dragging&&closest||react_beautiful_dnd_esm_invariant(!1),dragging.scrollOptions.shouldPublishImmediately?updateScroll():scheduleScrollUpdate()}),[scheduleScrollUpdate,updateScroll]),getDimensionAndWatchScroll=useCallback((function(windowScroll,options){whileDraggingRef.current&&react_beautiful_dnd_esm_invariant(!1);var previous=previousRef.current,ref=previous.getDroppableRef();ref||react_beautiful_dnd_esm_invariant(!1);var env=getEnv(ref),dragging={ref,descriptor,env,scrollOptions:options};whileDraggingRef.current=dragging;var dimension=getDimension({ref,descriptor,env,windowScroll,direction:previous.direction,isDropDisabled:previous.isDropDisabled,isCombineEnabled:previous.isCombineEnabled,shouldClipSubject:!previous.ignoreContainerClipping}),scrollable=env.closestScrollable;return scrollable&&(scrollable.setAttribute(scrollContainer.contextId,appContext.contextId),scrollable.addEventListener("scroll",onClosestScroll,getListenerOptions(dragging.scrollOptions))),dimension}),[appContext.contextId,descriptor,onClosestScroll,previousRef]),getScrollWhileDragging=useCallback((function(){var dragging=whileDraggingRef.current,closest=getClosestScrollableFromDrag(dragging);return dragging&&closest||react_beautiful_dnd_esm_invariant(!1),getScroll$1(closest)}),[]),dragStopped=useCallback((function(){var dragging=whileDraggingRef.current;dragging||react_beautiful_dnd_esm_invariant(!1);var closest=getClosestScrollableFromDrag(dragging);whileDraggingRef.current=null,closest&&(scheduleScrollUpdate.cancel(),closest.removeAttribute(scrollContainer.contextId),closest.removeEventListener("scroll",onClosestScroll,getListenerOptions(dragging.scrollOptions)))}),[onClosestScroll,scheduleScrollUpdate]),scroll=useCallback((function(change){var dragging=whileDraggingRef.current;dragging||react_beautiful_dnd_esm_invariant(!1);var closest=getClosestScrollableFromDrag(dragging);closest||react_beautiful_dnd_esm_invariant(!1),closest.scrollTop+=change.y,closest.scrollLeft+=change.x}),[]),callbacks=use_memo_one_esm_useMemo((function(){return{getDimensionAndWatchScroll,getScrollWhileDragging,dragStopped,scroll}}),[dragStopped,getDimensionAndWatchScroll,getScrollWhileDragging,scroll]),entry=use_memo_one_esm_useMemo((function(){return{uniqueId,descriptor,callbacks}}),[callbacks,descriptor,uniqueId]);react_beautiful_dnd_esm_useIsomorphicLayoutEffect((function(){return publishedDescriptorRef.current=entry.descriptor,registry.droppable.register(entry),function(){whileDraggingRef.current&&dragStopped(),registry.droppable.unregister(entry)}}),[callbacks,descriptor,dragStopped,entry,marshal,registry.droppable]),react_beautiful_dnd_esm_useIsomorphicLayoutEffect((function(){whileDraggingRef.current&&marshal.updateDroppableIsEnabled(publishedDescriptorRef.current.id,!args.isDropDisabled)}),[args.isDropDisabled,marshal]),react_beautiful_dnd_esm_useIsomorphicLayoutEffect((function(){whileDraggingRef.current&&marshal.updateDroppableIsCombineEnabled(publishedDescriptorRef.current.id,args.isCombineEnabled)}),[args.isCombineEnabled,marshal])}({droppableId,type,mode,direction,isDropDisabled,isCombineEnabled,ignoreContainerClipping,getDroppableRef});var placeholder=react.createElement(AnimateInOut,{on:props.placeholder,shouldAnimate:props.shouldAnimatePlaceholder},(function(_ref){var onClose=_ref.onClose,data=_ref.data,animate=_ref.animate;return react.createElement(Placeholder$1,{placeholder:data,onClose,innerRef:setPlaceholderRef,animate,contextId,onTransitionEnd:onPlaceholderTransitionEnd})})),provided=use_memo_one_esm_useMemo((function(){return{innerRef:setDroppableRef,placeholder,droppableProps:{"data-rbd-droppable-id":droppableId,"data-rbd-droppable-context-id":contextId}}}),[contextId,droppableId,placeholder,setDroppableRef]),isUsingCloneFor=useClone?useClone.dragging.draggableId:null,droppableContext=use_memo_one_esm_useMemo((function(){return{droppableId,type,isUsingCloneFor}}),[droppableId,isUsingCloneFor,type]);return react.createElement(DroppableContext.Provider,{value:droppableContext},children(provided,snapshot),function getClone(){if(!useClone)return null;var dragging=useClone.dragging,render=useClone.render,node=react.createElement(PrivateDraggable,{draggableId:dragging.draggableId,index:dragging.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(draggableProvided,draggableSnapshot){return render(draggableProvided,draggableSnapshot,dragging)}));return react_dom.createPortal(node,getContainerForClone())}())}));ConnectedDroppable.defaultProps=defaultProps},"./node_modules/react-beautiful-dnd/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var reactIs=__webpack_require__("./node_modules/react-is/index.js"),REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};function getStatics(component){return reactIs.isMemo(component)?MEMO_STATICS:TYPE_STATICS[component.$$typeof]||REACT_STATICS}TYPE_STATICS[reactIs.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf=Object.getPrototypeOf,objectPrototype=Object.prototype;module.exports=function hoistNonReactStatics(targetComponent,sourceComponent,blacklist){if("string"!=typeof sourceComponent){if(objectPrototype){var inheritedComponent=getPrototypeOf(sourceComponent);inheritedComponent&&inheritedComponent!==objectPrototype&&hoistNonReactStatics(targetComponent,inheritedComponent,blacklist)}var keys=getOwnPropertyNames(sourceComponent);getOwnPropertySymbols&&(keys=keys.concat(getOwnPropertySymbols(sourceComponent)));for(var targetStatics=getStatics(targetComponent),sourceStatics=getStatics(sourceComponent),i=0;i<keys.length;++i){var key=keys[i];if(!(KNOWN_STATICS[key]||blacklist&&blacklist[key]||sourceStatics&&sourceStatics[key]||targetStatics&&targetStatics[key])){var descriptor=getOwnPropertyDescriptor(sourceComponent,key);try{defineProperty(targetComponent,key,descriptor)}catch(e){}}}}return targetComponent}},"./node_modules/react-beautiful-dnd/node_modules/prop-types/factoryWithThrowingShims.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ReactPropTypesSecret=__webpack_require__("./node_modules/react-beautiful-dnd/node_modules/prop-types/lib/ReactPropTypesSecret.js");function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},"./node_modules/react-beautiful-dnd/node_modules/prop-types/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react-beautiful-dnd/node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/react-beautiful-dnd/node_modules/prop-types/lib/ReactPropTypesSecret.js":module=>{"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/react-beautiful-dnd/node_modules/react-redux/node_modules/react-is/cjs/react-is.production.min.js":(__unused_webpack_module,exports)=>{"use strict";var b="function"==typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(a){if("object"==typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.isContextConsumer=function(a){return z(a)===k}},"./node_modules/react-beautiful-dnd/node_modules/react-redux/node_modules/react-is/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/react-beautiful-dnd/node_modules/react-redux/node_modules/react-is/cjs/react-is.production.min.js")},"./node_modules/react-is/cjs/react-is.production.min.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var b="function"==typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.memo"):60115,r=b?Symbol.for("react.lazy"):60116;function t(a){if("object"==typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof){case k:case n:case h:return a;default:return u}}case r:case q:case d:return u}}}function v(a){return t(a)===m}exports.typeOf=t,exports.AsyncMode=l,exports.ConcurrentMode=m,exports.ContextConsumer=k,exports.ContextProvider=h,exports.Element=c,exports.ForwardRef=n,exports.Fragment=e,exports.Lazy=r,exports.Memo=q,exports.Portal=d,exports.Profiler=g,exports.StrictMode=f,exports.Suspense=p,exports.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===e||a===m||a===g||a===f||a===p||"object"==typeof a&&null!==a&&(a.$$typeof===r||a.$$typeof===q||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n)},exports.isAsyncMode=function(a){return v(a)||t(a)===l},exports.isConcurrentMode=v,exports.isContextConsumer=function(a){return t(a)===k},exports.isContextProvider=function(a){return t(a)===h},exports.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===c},exports.isForwardRef=function(a){return t(a)===n},exports.isFragment=function(a){return t(a)===e},exports.isLazy=function(a){return t(a)===r},exports.isMemo=function(a){return t(a)===q},exports.isPortal=function(a){return t(a)===d},exports.isProfiler=function(a){return t(a)===g},exports.isStrictMode=function(a){return t(a)===f},exports.isSuspense=function(a){return t(a)===p}},"./node_modules/react-is/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/react-is/cjs/react-is.production.min.js")},"./node_modules/react-portal/es/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Portal:()=>PortalCompat,PortalWithState:()=>es_PortalWithState});var react_dom=__webpack_require__("./node_modules/react-dom/index.js"),react=__webpack_require__("./node_modules/react/index.js"),prop_types=__webpack_require__("./node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var Portal=function(_React$Component){function Portal(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Portal),function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Portal.__proto__||Object.getPrototypeOf(Portal)).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Portal,_React$Component),_createClass(Portal,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function render(){return canUseDOM?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),react_dom.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),Portal}(react.Component);Portal.propTypes={children:prop_types_default().node.isRequired,node:prop_types_default().any};const es_Portal=Portal;var LegacyPortal_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var LegacyPortal_Portal=function(_React$Component){function Portal(){return function LegacyPortal_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Portal),function LegacyPortal_possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(Portal.__proto__||Object.getPrototypeOf(Portal)).apply(this,arguments))}return function LegacyPortal_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(Portal,_React$Component),LegacyPortal_createClass(Portal,[{key:"componentDidMount",value:function componentDidMount(){this.renderPortal()}},{key:"componentDidUpdate",value:function componentDidUpdate(props){this.renderPortal()}},{key:"componentWillUnmount",value:function componentWillUnmount(){react_dom.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function renderPortal(props){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var children=this.props.children;"function"==typeof this.props.children.type&&(children=react.cloneElement(this.props.children)),this.portal=react_dom.unstable_renderSubtreeIntoContainer(this,children,this.props.node||this.defaultNode)}},{key:"render",value:function render(){return null}}]),Portal}(react.Component);const LegacyPortal=LegacyPortal_Portal;LegacyPortal_Portal.propTypes={children:prop_types_default().node.isRequired,node:prop_types_default().any};const PortalCompat=react_dom.createPortal?es_Portal:LegacyPortal;var PortalWithState_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var KEYCODES_ESCAPE=27,PortalWithState=function(_React$Component){function PortalWithState(props){!function PortalWithState_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PortalWithState);var _this=function PortalWithState_possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(PortalWithState.__proto__||Object.getPrototypeOf(PortalWithState)).call(this,props));return _this.portalNode=null,_this.state={active:!!props.defaultOpen},_this.openPortal=_this.openPortal.bind(_this),_this.closePortal=_this.closePortal.bind(_this),_this.wrapWithPortal=_this.wrapWithPortal.bind(_this),_this.handleOutsideMouseClick=_this.handleOutsideMouseClick.bind(_this),_this.handleKeydown=_this.handleKeydown.bind(_this),_this}return function PortalWithState_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(PortalWithState,_React$Component),PortalWithState_createClass(PortalWithState,[{key:"componentDidMount",value:function componentDidMount(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&document.addEventListener("click",this.handleOutsideMouseClick)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&document.removeEventListener("click",this.handleOutsideMouseClick)}},{key:"openPortal",value:function openPortal(e){this.state.active||(e&&e.nativeEvent&&e.nativeEvent.stopImmediatePropagation(),this.setState({active:!0},this.props.onOpen))}},{key:"closePortal",value:function closePortal(){this.state.active&&this.setState({active:!1},this.props.onClose)}},{key:"wrapWithPortal",value:function wrapWithPortal(children){var _this2=this;return this.state.active?react.createElement(PortalCompat,{node:this.props.node,key:"react-portal",ref:function ref(portalNode){return _this2.portalNode=portalNode}},children):null}},{key:"handleOutsideMouseClick",value:function handleOutsideMouseClick(e){if(this.state.active){var root=this.portalNode&&(this.portalNode.props.node||this.portalNode.defaultNode);!root||root.contains(e.target)||e.button&&0!==e.button||this.closePortal()}}},{key:"handleKeydown",value:function handleKeydown(e){e.keyCode===KEYCODES_ESCAPE&&this.state.active&&this.closePortal()}},{key:"render",value:function render(){return this.props.children({openPortal:this.openPortal,closePortal:this.closePortal,portal:this.wrapWithPortal,isOpen:this.state.active})}}]),PortalWithState}(react.Component);PortalWithState.propTypes={children:prop_types_default().func.isRequired,defaultOpen:prop_types_default().bool,node:prop_types_default().any,closeOnEsc:prop_types_default().bool,closeOnOutsideClick:prop_types_default().bool,onOpen:prop_types_default().func,onClose:prop_types_default().func},PortalWithState.defaultProps={onOpen:function onOpen(){},onClose:function onClose(){}};const es_PortalWithState=PortalWithState}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixVQUFZNmQsaUJBQW1CN2lELEtBQUs0SCxNQUFNa1csUUFDOUM5ZCxLQUFLa2pELGFBRVQsR0FDQyxDQUNEMW5ELElBQUssU0FDTEQsTUFBTyxTQUFTNGUsU0FDZCxPQUFPbmEsS0FBS2lMLE1BQU0vRCxTQUFTLENBQ3pCKzdDLFdBQVlqakQsS0FBS2lqRCxXQUNqQkMsWUFBYWxqRCxLQUFLa2pELFlBQ2xCUCxPQUFRM2lELEtBQUttakQsZUFDYlMsT0FBUTVqRCxLQUFLNEgsTUFBTWtXLFFBRXZCLEtBR0tnbEMsZUFDVCxDQTdHc0IsQ0E2R3BCLGlCQUVGQSxnQkFBZ0JsSCxVQUFZLENBQzFCMTBDLFNBQVUsMEJBQWU2MkMsV0FDekJpRixZQUFhLDBCQUNiL0gsS0FBTSx5QkFDTnFJLFdBQVksMEJBQ1pDLG9CQUFxQiwwQkFDckJHLE9BQVEsMEJBQ1IxUSxRQUFTLDJCQUdYOFAsZ0JBQWdCeEssYUFBZSxDQUM3Qm9MLE9BQVEsU0FBU0EsU0FBVSxFQUMzQjFRLFFBQVMsU0FBU0EsVUFBVyxHQUcvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUVhY2guanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZU1hcC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlT3JkZXJCeS5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlU29ydEJ5LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NvbXBhcmVBc2NlbmRpbmcuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29tcGFyZU11bHRpcGxlLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NyZWF0ZUJhc2VFYWNoLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvZGVib3VuY2UuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9ub3cuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9vcmRlckJ5LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zZXRQcm90b3R5cGVPZi5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZS5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtYmVhdXRpZnVsLWRuZC9ub2RlX21vZHVsZXMvcmVkdXgvZXMvcmVkdXguanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWJlYXV0aWZ1bC1kbmQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2NvbXBvbmVudHMvQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtYmVhdXRpZnVsLWRuZC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvdXRpbHMvYmF0Y2guanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWJlYXV0aWZ1bC1kbmQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL1N1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtYmVhdXRpZnVsLWRuZC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvdXRpbHMvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtYmVhdXRpZnVsLWRuZC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29tcG9uZW50cy9Qcm92aWRlci5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtYmVhdXRpZnVsLWRuZC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29tcG9uZW50cy9jb25uZWN0QWR2YW5jZWQuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWJlYXV0aWZ1bC1kbmQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL3NoYWxsb3dFcXVhbC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtYmVhdXRpZnVsLWRuZC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC93cmFwTWFwVG9Qcm9wcy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtYmVhdXRpZnVsLWRuZC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9tYXBEaXNwYXRjaFRvUHJvcHMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWJlYXV0aWZ1bC1kbmQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL3V0aWxzL2JpbmRBY3Rpb25DcmVhdG9ycy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtYmVhdXRpZnVsLWRuZC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9tYXBTdGF0ZVRvUHJvcHMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWJlYXV0aWZ1bC1kbmQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2Nvbm5lY3QvbWVyZ2VQcm9wcy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtYmVhdXRpZnVsLWRuZC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvY29ubmVjdC9zZWxlY3RvckZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWJlYXV0aWZ1bC1kbmQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2Nvbm5lY3QvY29ubmVjdC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtYmVhdXRpZnVsLWRuZC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvZXMvaG9va3MvdXNlU2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3VzZS1tZW1vLW9uZS9kaXN0L3VzZS1tZW1vLW9uZS5lc20uanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWJlYXV0aWZ1bC1kbmQvbm9kZV9tb2R1bGVzL3JlYWN0LXJlZHV4L2VzL2luZGV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9jc3MtYm94LW1vZGVsL25vZGVfbW9kdWxlcy90aW55LWludmFyaWFudC9kaXN0L3RpbnktaW52YXJpYW50LmVzbS5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvY3NzLWJveC1tb2RlbC9kaXN0L2Nzcy1ib3gtbW9kZWwuZXNtLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9tZW1vaXplLW9uZS9kaXN0L21lbW9pemUtb25lLmVzbS5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmFmLXNjaGQvZGlzdC9yYWYtc2NoZC5lc20uanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWJlYXV0aWZ1bC1kbmQvZGlzdC9yZWFjdC1iZWF1dGlmdWwtZG5kLmVzbS5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtYmVhdXRpZnVsLWRuZC9ub2RlX21vZHVsZXMvaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvZGlzdC9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy5janMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWJlYXV0aWZ1bC1kbmQvbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9yZWFjdC1iZWF1dGlmdWwtZG5kL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9yZWFjdC1iZWF1dGlmdWwtZG5kL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtYmVhdXRpZnVsLWRuZC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2Nqcy9yZWFjdC1pcy5wcm9kdWN0aW9uLm1pbi5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVhY3QtYmVhdXRpZnVsLWRuZC9ub2RlX21vZHVsZXMvcmVhY3QtcmVkdXgvbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2luZGV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2luZGV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9yZWFjdC1wb3J0YWwvZXMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXBvcnRhbC9lcy9Qb3J0YWwuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXBvcnRhbC9lcy9MZWdhY3lQb3J0YWwuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXBvcnRhbC9lcy9Qb3J0YWxDb21wYXQuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXBvcnRhbC9lcy9Qb3J0YWxXaXRoU3RhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICBpZiAoIXVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB1cmwgPSBTdHJpbmcodXJsLl9fZXNNb2R1bGUgPyB1cmwuZGVmYXVsdCA6IHVybCk7IC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuXG4gIGlmICgvXlsnXCJdLipbJ1wiXSQvLnRlc3QodXJsKSkge1xuICAgIHVybCA9IHVybC5zbGljZSgxLCAtMSk7XG4gIH1cblxuICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgdXJsICs9IG9wdGlvbnMuaGFzaDtcbiAgfSAvLyBTaG91bGQgdXJsIGJlIHdyYXBwZWQ/XG4gIC8vIFNlZSBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXZhbHVlcy0zLyN1cmxzXG5cblxuICBpZiAoL1tcIicoKSBcXHRcXG5dfCglMjApLy50ZXN0KHVybCkgfHwgb3B0aW9ucy5uZWVkUXVvdGVzKSB7XG4gICAgcmV0dXJuIFwiXFxcIlwiLmNvbmNhdCh1cmwucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpLCBcIlxcXCJcIik7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufTsiLCJ2YXIgYmFzZUZvck93biA9IHJlcXVpcmUoJy4vX2Jhc2VGb3JPd24nKSxcbiAgICBjcmVhdGVCYXNlRWFjaCA9IHJlcXVpcmUoJy4vX2NyZWF0ZUJhc2VFYWNoJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gKi9cbnZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VFYWNoO1xuIiwidmFyIGJhc2VFYWNoID0gcmVxdWlyZSgnLi9fYmFzZUVhY2gnKSxcbiAgICBpc0FycmF5TGlrZSA9IHJlcXVpcmUoJy4vaXNBcnJheUxpa2UnKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXBgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYmFzZU1hcChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlTWFwO1xuIiwidmFyIGFycmF5TWFwID0gcmVxdWlyZSgnLi9fYXJyYXlNYXAnKSxcbiAgICBiYXNlR2V0ID0gcmVxdWlyZSgnLi9fYmFzZUdldCcpLFxuICAgIGJhc2VJdGVyYXRlZSA9IHJlcXVpcmUoJy4vX2Jhc2VJdGVyYXRlZScpLFxuICAgIGJhc2VNYXAgPSByZXF1aXJlKCcuL19iYXNlTWFwJyksXG4gICAgYmFzZVNvcnRCeSA9IHJlcXVpcmUoJy4vX2Jhc2VTb3J0QnknKSxcbiAgICBiYXNlVW5hcnkgPSByZXF1aXJlKCcuL19iYXNlVW5hcnknKSxcbiAgICBjb21wYXJlTXVsdGlwbGUgPSByZXF1aXJlKCcuL19jb21wYXJlTXVsdGlwbGUnKSxcbiAgICBpZGVudGl0eSA9IHJlcXVpcmUoJy4vaWRlbnRpdHknKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb25bXXxPYmplY3RbXXxzdHJpbmdbXX0gaXRlcmF0ZWVzIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAqIEBwYXJhbSB7c3RyaW5nW119IG9yZGVycyBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKSB7XG4gIGlmIChpdGVyYXRlZXMubGVuZ3RoKSB7XG4gICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgaWYgKGlzQXJyYXkoaXRlcmF0ZWUpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBiYXNlR2V0KHZhbHVlLCBpdGVyYXRlZS5sZW5ndGggPT09IDEgPyBpdGVyYXRlZVswXSA6IGl0ZXJhdGVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGVlO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGl0ZXJhdGVlcyA9IFtpZGVudGl0eV07XG4gIH1cblxuICB2YXIgaW5kZXggPSAtMTtcbiAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBiYXNlVW5hcnkoYmFzZUl0ZXJhdGVlKSk7XG5cbiAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgIHZhciBjcml0ZXJpYSA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgJ2NyaXRlcmlhJzogY3JpdGVyaWEsICdpbmRleCc6ICsraW5kZXgsICd2YWx1ZSc6IHZhbHVlIH07XG4gIH0pO1xuXG4gIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgIHJldHVybiBjb21wYXJlTXVsdGlwbGUob2JqZWN0LCBvdGhlciwgb3JkZXJzKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZU9yZGVyQnk7XG4iLCIvKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRCeWAgd2hpY2ggdXNlcyBgY29tcGFyZXJgIHRvIGRlZmluZSB0aGVcbiAqIHNvcnQgb3JkZXIgb2YgYGFycmF5YCBhbmQgcmVwbGFjZXMgY3JpdGVyaWEgb2JqZWN0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAqIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNvcnQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJlciBUaGUgZnVuY3Rpb24gdG8gZGVmaW5lIHNvcnQgb3JkZXIuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gYmFzZVNvcnRCeShhcnJheSwgY29tcGFyZXIpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICBhcnJheS5zb3J0KGNvbXBhcmVyKTtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgYXJyYXlbbGVuZ3RoXSA9IGFycmF5W2xlbmd0aF0udmFsdWU7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTb3J0Qnk7XG4iLCJ2YXIgaXNTeW1ib2wgPSByZXF1aXJlKCcuL2lzU3ltYm9sJyk7XG5cbi8qKlxuICogQ29tcGFyZXMgdmFsdWVzIHRvIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGB2YWx1ZWAuXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVBc2NlbmRpbmcodmFsdWUsIG90aGVyKSB7XG4gIGlmICh2YWx1ZSAhPT0gb3RoZXIpIHtcbiAgICB2YXIgdmFsSXNEZWZpbmVkID0gdmFsdWUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgIHZhbElzUmVmbGV4aXZlID0gdmFsdWUgPT09IHZhbHVlLFxuICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKTtcblxuICAgIHZhciBvdGhJc0RlZmluZWQgPSBvdGhlciAhPT0gdW5kZWZpbmVkLFxuICAgICAgICBvdGhJc051bGwgPSBvdGhlciA9PT0gbnVsbCxcbiAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXIsXG4gICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2wob3RoZXIpO1xuXG4gICAgaWYgKCghb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCAmJiAhdmFsSXNTeW1ib2wgJiYgdmFsdWUgPiBvdGhlcikgfHxcbiAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcbiAgICAgICAgKHZhbElzTnVsbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICghdmFsSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgICAob3RoSXNTeW1ib2wgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlICYmICF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sKSB8fFxuICAgICAgICAob3RoSXNOdWxsICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICFvdGhJc1JlZmxleGl2ZSkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgfVxuICByZXR1cm4gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjb21wYXJlQXNjZW5kaW5nO1xuIiwidmFyIGNvbXBhcmVBc2NlbmRpbmcgPSByZXF1aXJlKCcuL19jb21wYXJlQXNjZW5kaW5nJyk7XG5cbi8qKlxuICogVXNlZCBieSBgXy5vcmRlckJ5YCB0byBjb21wYXJlIG11bHRpcGxlIHByb3BlcnRpZXMgb2YgYSB2YWx1ZSB0byBhbm90aGVyXG4gKiBhbmQgc3RhYmxlIHNvcnQgdGhlbS5cbiAqXG4gKiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlcyBhcmUgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlci4gT3RoZXJ3aXNlLFxuICogc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3IgZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlclxuICogb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbltdfHN0cmluZ1tdfSBvcmRlcnMgVGhlIG9yZGVyIHRvIHNvcnQgYnkgZm9yIGVhY2ggcHJvcGVydHkuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBvYmpDcml0ZXJpYSA9IG9iamVjdC5jcml0ZXJpYSxcbiAgICAgIG90aENyaXRlcmlhID0gb3RoZXIuY3JpdGVyaWEsXG4gICAgICBsZW5ndGggPSBvYmpDcml0ZXJpYS5sZW5ndGgsXG4gICAgICBvcmRlcnNMZW5ndGggPSBvcmRlcnMubGVuZ3RoO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2NlbmRpbmcob2JqQ3JpdGVyaWFbaW5kZXhdLCBvdGhDcml0ZXJpYVtpbmRleF0pO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGlmIChpbmRleCA+PSBvcmRlcnNMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBvcmRlciA9IG9yZGVyc1tpbmRleF07XG4gICAgICByZXR1cm4gcmVzdWx0ICogKG9yZGVyID09ICdkZXNjJyA/IC0xIDogMSk7XG4gICAgfVxuICB9XG4gIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcHJvdmlkZSB0aGUgc2FtZSB2YWx1ZSBmb3JcbiAgLy8gYG9iamVjdGAgYW5kIGBvdGhlcmAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8xMjQ3XG4gIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gIC8vXG4gIC8vIFRoaXMgYWxzbyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG4gIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MCBmb3IgbW9yZSBkZXRhaWxzLlxuICByZXR1cm4gb2JqZWN0LmluZGV4IC0gb3RoZXIuaW5kZXg7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29tcGFyZU11bHRpcGxlO1xuIiwidmFyIGlzQXJyYXlMaWtlID0gcmVxdWlyZSgnLi9pc0FycmF5TGlrZScpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBgYmFzZUVhY2hgIG9yIGBiYXNlRWFjaFJpZ2h0YCBmdW5jdGlvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBhIGNvbGxlY3Rpb24uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VFYWNoKGVhY2hGdW5jLCBmcm9tUmlnaHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgfVxuICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgIHJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLCBpdGVyYXRlZSk7XG4gICAgfVxuICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aCxcbiAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMSxcbiAgICAgICAgaXRlcmFibGUgPSBPYmplY3QoY29sbGVjdGlvbik7XG5cbiAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUJhc2VFYWNoO1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIG5vdyA9IHJlcXVpcmUoJy4vbm93JyksXG4gICAgdG9OdW1iZXIgPSByZXF1aXJlKCcuL3RvTnVtYmVyJyk7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gKiBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICogICAndHJhaWxpbmcnOiBmYWxzZVxuICogfSkpO1xuICpcbiAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxhc3RBcmdzLFxuICAgICAgbGFzdFRoaXMsXG4gICAgICBtYXhXYWl0LFxuICAgICAgcmVzdWx0LFxuICAgICAgdGltZXJJZCxcbiAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICB0aW1lV2FpdGluZyA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgIHJldHVybiBtYXhpbmdcbiAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgIDogdGltZVdhaXRpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICB9XG4gICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgIH1cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIH1cbiAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRlYm91bmNlO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbm93O1xuIiwidmFyIGJhc2VPcmRlckJ5ID0gcmVxdWlyZSgnLi9fYmFzZU9yZGVyQnknKSxcbiAgICBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5Jyk7XG5cbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0QnlgIGV4Y2VwdCB0aGF0IGl0IGFsbG93cyBzcGVjaWZ5aW5nIHRoZSBzb3J0XG4gKiBvcmRlcnMgb2YgdGhlIGl0ZXJhdGVlcyB0byBzb3J0IGJ5LiBJZiBgb3JkZXJzYCBpcyB1bnNwZWNpZmllZCwgYWxsIHZhbHVlc1xuICogYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSwgc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3JcbiAqIGRlc2NlbmRpbmcgb3IgXCJhc2NcIiBmb3IgYXNjZW5kaW5nIHNvcnQgb3JkZXIgb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7QXJyYXlbXXxGdW5jdGlvbltdfE9iamVjdFtdfHN0cmluZ1tdfSBbaXRlcmF0ZWVzPVtfLmlkZW50aXR5XV1cbiAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3JkZXJzXSBUaGUgc29ydCBvcmRlcnMgb2YgYGl0ZXJhdGVlc2AuXG4gKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5yZWR1Y2VgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgdXNlcnMgPSBbXG4gKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH0sXG4gKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAqIF07XG4gKlxuICogLy8gU29ydCBieSBgdXNlcmAgaW4gYXNjZW5kaW5nIG9yZGVyIGFuZCBieSBgYWdlYCBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICogXy5vcmRlckJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10sIFsnYXNjJywgJ2Rlc2MnXSk7XG4gKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAqL1xuZnVuY3Rpb24gb3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycywgZ3VhcmQpIHtcbiAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoIWlzQXJyYXkoaXRlcmF0ZWVzKSkge1xuICAgIGl0ZXJhdGVlcyA9IGl0ZXJhdGVlcyA9PSBudWxsID8gW10gOiBbaXRlcmF0ZWVzXTtcbiAgfVxuICBvcmRlcnMgPSBndWFyZCA/IHVuZGVmaW5lZCA6IG9yZGVycztcbiAgaWYgKCFpc0FycmF5KG9yZGVycykpIHtcbiAgICBvcmRlcnMgPSBvcmRlcnMgPT0gbnVsbCA/IFtdIDogW29yZGVyc107XG4gIH1cbiAgcmV0dXJuIGJhc2VPcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvcmRlckJ5O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuXG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59IiwiaW1wb3J0IHNldFByb3RvdHlwZU9mIGZyb20gXCIuL3NldFByb3RvdHlwZU9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gIHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn0iLCJpbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyJztcblxuLyoqXG4gKiBBZGFwdGVkIGZyb20gUmVhY3Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL21hc3Rlci9wYWNrYWdlcy9zaGFyZWQvZm9ybWF0UHJvZEVycm9yTWVzc2FnZS5qc1xuICpcbiAqIERvIG5vdCByZXF1aXJlIHRoaXMgbW9kdWxlIGRpcmVjdGx5ISBVc2Ugbm9ybWFsIHRocm93IGVycm9yIGNhbGxzLiBUaGVzZSBtZXNzYWdlcyB3aWxsIGJlIHJlcGxhY2VkIHdpdGggZXJyb3IgY29kZXNcbiAqIGR1cmluZyBidWlsZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb2RlXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoY29kZSkge1xuICByZXR1cm4gXCJNaW5pZmllZCBSZWR1eCBlcnJvciAjXCIgKyBjb2RlICsgXCI7IHZpc2l0IGh0dHBzOi8vcmVkdXguanMub3JnL0Vycm9ycz9jb2RlPVwiICsgY29kZSArIFwiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIFwiICsgJ3VzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMuICc7XG59XG5cbi8vIElubGluZWQgdmVyc2lvbiBvZiB0aGUgYHN5bWJvbC1vYnNlcnZhYmxlYCBwb2x5ZmlsbFxudmFyICQkb2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlIHx8ICdAQG9ic2VydmFibGUnO1xufSkoKTtcblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciByYW5kb21TdHJpbmcgPSBmdW5jdGlvbiByYW5kb21TdHJpbmcoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbn07XG5cbnZhciBBY3Rpb25UeXBlcyA9IHtcbiAgSU5JVDogXCJAQHJlZHV4L0lOSVRcIiArIHJhbmRvbVN0cmluZygpLFxuICBSRVBMQUNFOiBcIkBAcmVkdXgvUkVQTEFDRVwiICsgcmFuZG9tU3RyaW5nKCksXG4gIFBST0JFX1VOS05PV05fQUNUSU9OOiBmdW5jdGlvbiBQUk9CRV9VTktOT1dOX0FDVElPTigpIHtcbiAgICByZXR1cm4gXCJAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXCIgKyByYW5kb21TdHJpbmcoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gb2JqIFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBhcmd1bWVudCBhcHBlYXJzIHRvIGJlIGEgcGxhaW4gb2JqZWN0LlxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIHZhciBwcm90byA9IG9iajtcblxuICB3aGlsZSAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKSAhPT0gbnVsbCkge1xuICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gcHJvdG87XG59XG5cbi8vIElubGluZWQgLyBzaG9ydGVuZWQgdmVyc2lvbiBvZiBga2luZE9mYCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0L2tpbmQtb2ZcbmZ1bmN0aW9uIG1pbmlLaW5kT2YodmFsKSB7XG4gIGlmICh2YWwgPT09IHZvaWQgMCkgcmV0dXJuICd1bmRlZmluZWQnO1xuICBpZiAodmFsID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ3N5bWJvbCc6XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAge1xuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgIH1cbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHJldHVybiAnYXJyYXknO1xuICBpZiAoaXNEYXRlKHZhbCkpIHJldHVybiAnZGF0ZSc7XG4gIGlmIChpc0Vycm9yKHZhbCkpIHJldHVybiAnZXJyb3InO1xuICB2YXIgY29uc3RydWN0b3JOYW1lID0gY3Rvck5hbWUodmFsKTtcblxuICBzd2l0Y2ggKGNvbnN0cnVjdG9yTmFtZSkge1xuICAgIGNhc2UgJ1N5bWJvbCc6XG4gICAgY2FzZSAnUHJvbWlzZSc6XG4gICAgY2FzZSAnV2Vha01hcCc6XG4gICAgY2FzZSAnV2Vha1NldCc6XG4gICAgY2FzZSAnTWFwJzpcbiAgICBjYXNlICdTZXQnOlxuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yTmFtZTtcbiAgfSAvLyBvdGhlclxuXG5cbiAgcmV0dXJuIHR5cGUuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csICcnKTtcbn1cblxuZnVuY3Rpb24gY3Rvck5hbWUodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsLmNvbnN0cnVjdG9yID09PSAnZnVuY3Rpb24nID8gdmFsLmNvbnN0cnVjdG9yLm5hbWUgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0Vycm9yKHZhbCkge1xuICByZXR1cm4gdmFsIGluc3RhbmNlb2YgRXJyb3IgfHwgdHlwZW9mIHZhbC5tZXNzYWdlID09PSAnc3RyaW5nJyAmJiB2YWwuY29uc3RydWN0b3IgJiYgdHlwZW9mIHZhbC5jb25zdHJ1Y3Rvci5zdGFja1RyYWNlTGltaXQgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc0RhdGUodmFsKSB7XG4gIGlmICh2YWwgaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIHR5cGVvZiB2YWwudG9EYXRlU3RyaW5nID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWwuZ2V0RGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsLnNldERhdGUgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGtpbmRPZih2YWwpIHtcbiAgdmFyIHR5cGVPZlZhbCA9IHR5cGVvZiB2YWw7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB0eXBlT2ZWYWwgPSBtaW5pS2luZE9mKHZhbCk7XG4gIH1cblxuICByZXR1cm4gdHlwZU9mVmFsO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbcHJlbG9hZGVkU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gaHlkcmF0ZSB0aGUgc3RhdGUgZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGFcbiAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG4gKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG4gKiBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyBgY29tYmluZVJlZHVjZXJzYCBrZXlzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtlbmhhbmNlcl0gVGhlIHN0b3JlIGVuaGFuY2VyLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gZW5oYW5jZSB0aGUgc3RvcmUgd2l0aCB0aGlyZC1wYXJ0eSBjYXBhYmlsaXRpZXMgc3VjaCBhcyBtaWRkbGV3YXJlLFxuICogdGltZSB0cmF2ZWwsIHBlcnNpc3RlbmNlLCBldGMuIFRoZSBvbmx5IHN0b3JlIGVuaGFuY2VyIHRoYXQgc2hpcHMgd2l0aCBSZWR1eFxuICogaXMgYGFwcGx5TWlkZGxld2FyZSgpYC5cbiAqXG4gKiBAcmV0dXJucyB7U3RvcmV9IEEgUmVkdXggc3RvcmUgdGhhdCBsZXRzIHlvdSByZWFkIHRoZSBzdGF0ZSwgZGlzcGF0Y2ggYWN0aW9uc1xuICogYW5kIHN1YnNjcmliZSB0byBjaGFuZ2VzLlxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlLCBlbmhhbmNlcikge1xuICB2YXIgX3JlZjI7XG5cbiAgaWYgKHR5cGVvZiBwcmVsb2FkZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZW5oYW5jZXIgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGVuaGFuY2VyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBhcmd1bWVudHNbM10gPT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgwKSA6ICdJdCBsb29rcyBsaWtlIHlvdSBhcmUgcGFzc2luZyBzZXZlcmFsIHN0b3JlIGVuaGFuY2VycyB0byAnICsgJ2NyZWF0ZVN0b3JlKCkuIFRoaXMgaXMgbm90IHN1cHBvcnRlZC4gSW5zdGVhZCwgY29tcG9zZSB0aGVtICcgKyAndG9nZXRoZXIgdG8gYSBzaW5nbGUgZnVuY3Rpb24uIFNlZSBodHRwczovL3JlZHV4LmpzLm9yZy90dXRvcmlhbHMvZnVuZGFtZW50YWxzL3BhcnQtNC1zdG9yZSNjcmVhdGluZy1hLXN0b3JlLXdpdGgtZW5oYW5jZXJzIGZvciBhbiBleGFtcGxlLicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwcmVsb2FkZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZW5oYW5jZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgZW5oYW5jZXIgPSBwcmVsb2FkZWRTdGF0ZTtcbiAgICBwcmVsb2FkZWRTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMSkgOiBcIkV4cGVjdGVkIHRoZSBlbmhhbmNlciB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkLCByZWNlaXZlZDogJ1wiICsga2luZE9mKGVuaGFuY2VyKSArIFwiJ1wiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW5oYW5jZXIoY3JlYXRlU3RvcmUpKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDIpIDogXCJFeHBlY3RlZCB0aGUgcm9vdCByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQsIHJlY2VpdmVkOiAnXCIgKyBraW5kT2YocmVkdWNlcikgKyBcIidcIik7XG4gIH1cblxuICB2YXIgY3VycmVudFJlZHVjZXIgPSByZWR1Y2VyO1xuICB2YXIgY3VycmVudFN0YXRlID0gcHJlbG9hZGVkU3RhdGU7XG4gIHZhciBjdXJyZW50TGlzdGVuZXJzID0gW107XG4gIHZhciBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcbiAgdmFyIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgLyoqXG4gICAqIFRoaXMgbWFrZXMgYSBzaGFsbG93IGNvcHkgb2YgY3VycmVudExpc3RlbmVycyBzbyB3ZSBjYW4gdXNlXG4gICAqIG5leHRMaXN0ZW5lcnMgYXMgYSB0ZW1wb3JhcnkgbGlzdCB3aGlsZSBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogVGhpcyBwcmV2ZW50cyBhbnkgYnVncyBhcm91bmQgY29uc3VtZXJzIGNhbGxpbmdcbiAgICogc3Vic2NyaWJlL3Vuc3Vic2NyaWJlIGluIHRoZSBtaWRkbGUgb2YgYSBkaXNwYXRjaC5cbiAgICovXG5cbiAgZnVuY3Rpb24gZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpIHtcbiAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDMpIDogJ1lvdSBtYXkgbm90IGNhbGwgc3RvcmUuZ2V0U3RhdGUoKSB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuICcgKyAnVGhlIHJlZHVjZXIgaGFzIGFscmVhZHkgcmVjZWl2ZWQgdGhlIHN0YXRlIGFzIGFuIGFyZ3VtZW50LiAnICsgJ1Bhc3MgaXQgZG93biBmcm9tIHRoZSB0b3AgcmVkdWNlciBpbnN0ZWFkIG9mIHJlYWRpbmcgaXQgZnJvbSB0aGUgc3RvcmUuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRTdGF0ZTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIGNoYW5nZSBsaXN0ZW5lci4gSXQgd2lsbCBiZSBjYWxsZWQgYW55IHRpbWUgYW4gYWN0aW9uIGlzIGRpc3BhdGNoZWQsXG4gICAqIGFuZCBzb21lIHBhcnQgb2YgdGhlIHN0YXRlIHRyZWUgbWF5IHBvdGVudGlhbGx5IGhhdmUgY2hhbmdlZC4gWW91IG1heSB0aGVuXG4gICAqIGNhbGwgYGdldFN0YXRlKClgIHRvIHJlYWQgdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBpbnNpZGUgdGhlIGNhbGxiYWNrLlxuICAgKlxuICAgKiBZb3UgbWF5IGNhbGwgYGRpc3BhdGNoKClgIGZyb20gYSBjaGFuZ2UgbGlzdGVuZXIsIHdpdGggdGhlIGZvbGxvd2luZ1xuICAgKiBjYXZlYXRzOlxuICAgKlxuICAgKiAxLiBUaGUgc3Vic2NyaXB0aW9ucyBhcmUgc25hcHNob3R0ZWQganVzdCBiZWZvcmUgZXZlcnkgYGRpc3BhdGNoKClgIGNhbGwuXG4gICAqIElmIHlvdSBzdWJzY3JpYmUgb3IgdW5zdWJzY3JpYmUgd2hpbGUgdGhlIGxpc3RlbmVycyBhcmUgYmVpbmcgaW52b2tlZCwgdGhpc1xuICAgKiB3aWxsIG5vdCBoYXZlIGFueSBlZmZlY3Qgb24gdGhlIGBkaXNwYXRjaCgpYCB0aGF0IGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy5cbiAgICogSG93ZXZlciwgdGhlIG5leHQgYGRpc3BhdGNoKClgIGNhbGwsIHdoZXRoZXIgbmVzdGVkIG9yIG5vdCwgd2lsbCB1c2UgYSBtb3JlXG4gICAqIHJlY2VudCBzbmFwc2hvdCBvZiB0aGUgc3Vic2NyaXB0aW9uIGxpc3QuXG4gICAqXG4gICAqIDIuIFRoZSBsaXN0ZW5lciBzaG91bGQgbm90IGV4cGVjdCB0byBzZWUgYWxsIHN0YXRlIGNoYW5nZXMsIGFzIHRoZSBzdGF0ZVxuICAgKiBtaWdodCBoYXZlIGJlZW4gdXBkYXRlZCBtdWx0aXBsZSB0aW1lcyBkdXJpbmcgYSBuZXN0ZWQgYGRpc3BhdGNoKClgIGJlZm9yZVxuICAgKiB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkLiBJdCBpcywgaG93ZXZlciwgZ3VhcmFudGVlZCB0aGF0IGFsbCBzdWJzY3JpYmVyc1xuICAgKiByZWdpc3RlcmVkIGJlZm9yZSB0aGUgYGRpc3BhdGNoKClgIHN0YXJ0ZWQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgbGF0ZXN0XG4gICAqIHN0YXRlIGJ5IHRoZSB0aW1lIGl0IGV4aXRzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBBIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgb24gZXZlcnkgZGlzcGF0Y2guXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0byByZW1vdmUgdGhpcyBjaGFuZ2UgbGlzdGVuZXIuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoNCkgOiBcIkV4cGVjdGVkIHRoZSBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkLCByZWNlaXZlZDogJ1wiICsga2luZE9mKGxpc3RlbmVyKSArIFwiJ1wiKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoNSkgOiAnWW91IG1heSBub3QgY2FsbCBzdG9yZS5zdWJzY3JpYmUoKSB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuICcgKyAnSWYgeW91IHdvdWxkIGxpa2UgdG8gYmUgbm90aWZpZWQgYWZ0ZXIgdGhlIHN0b3JlIGhhcyBiZWVuIHVwZGF0ZWQsIHN1YnNjcmliZSBmcm9tIGEgJyArICdjb21wb25lbnQgYW5kIGludm9rZSBzdG9yZS5nZXRTdGF0ZSgpIGluIHRoZSBjYWxsYmFjayB0byBhY2Nlc3MgdGhlIGxhdGVzdCBzdGF0ZS4gJyArICdTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvYXBpL3N0b3JlI3N1YnNjcmliZWxpc3RlbmVyIGZvciBtb3JlIGRldGFpbHMuJyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgaWYgKCFpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSg2KSA6ICdZb3UgbWF5IG5vdCB1bnN1YnNjcmliZSBmcm9tIGEgc3RvcmUgbGlzdGVuZXIgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ1NlZSBodHRwczovL3JlZHV4LmpzLm9yZy9hcGkvc3RvcmUjc3Vic2NyaWJlbGlzdGVuZXIgZm9yIG1vcmUgZGV0YWlscy4nKTtcbiAgICAgIH1cblxuICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG4gICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgICB2YXIgaW5kZXggPSBuZXh0TGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgY3VycmVudExpc3RlbmVycyA9IG51bGw7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBhY3Rpb24uIEl0IGlzIHRoZSBvbmx5IHdheSB0byB0cmlnZ2VyIGEgc3RhdGUgY2hhbmdlLlxuICAgKlxuICAgKiBUaGUgYHJlZHVjZXJgIGZ1bmN0aW9uLCB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RvcmUsIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAqIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGdpdmVuIGBhY3Rpb25gLiBJdHMgcmV0dXJuIHZhbHVlIHdpbGxcbiAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuICAgKiB3aWxsIGJlIG5vdGlmaWVkLlxuICAgKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuICAgKiBkaXNwYXRjaCBhIFByb21pc2UsIGFuIE9ic2VydmFibGUsIGEgdGh1bmssIG9yIHNvbWV0aGluZyBlbHNlLCB5b3UgbmVlZCB0b1xuICAgKiB3cmFwIHlvdXIgc3RvcmUgY3JlYXRpbmcgZnVuY3Rpb24gaW50byB0aGUgY29ycmVzcG9uZGluZyBtaWRkbGV3YXJlLiBGb3JcbiAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuICAgKiBtaWRkbGV3YXJlIHdpbGwgZXZlbnR1YWxseSBkaXNwYXRjaCBwbGFpbiBvYmplY3QgYWN0aW9ucyB1c2luZyB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuICAgKiBhIGdvb2QgaWRlYSB0byBrZWVwIGFjdGlvbnMgc2VyaWFsaXphYmxlIHNvIHlvdSBjYW4gcmVjb3JkIGFuZCByZXBsYXkgdXNlclxuICAgKiBzZXNzaW9ucywgb3IgdXNlIHRoZSB0aW1lIHRyYXZlbGxpbmcgYHJlZHV4LWRldnRvb2xzYC4gQW4gYWN0aW9uIG11c3QgaGF2ZVxuICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2VcbiAgICogc3RyaW5nIGNvbnN0YW50cyBmb3IgYWN0aW9uIHR5cGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCwgaWYgeW91IHVzZSBhIGN1c3RvbSBtaWRkbGV3YXJlLCBpdCBtYXkgd3JhcCBgZGlzcGF0Y2goKWAgdG9cbiAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgIGlmICghaXNQbGFpbk9iamVjdChhY3Rpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSg3KSA6IFwiQWN0aW9ucyBtdXN0IGJlIHBsYWluIG9iamVjdHMuIEluc3RlYWQsIHRoZSBhY3R1YWwgdHlwZSB3YXM6ICdcIiArIGtpbmRPZihhY3Rpb24pICsgXCInLiBZb3UgbWF5IG5lZWQgdG8gYWRkIG1pZGRsZXdhcmUgdG8geW91ciBzdG9yZSBzZXR1cCB0byBoYW5kbGUgZGlzcGF0Y2hpbmcgb3RoZXIgdmFsdWVzLCBzdWNoIGFzICdyZWR1eC10aHVuaycgdG8gaGFuZGxlIGRpc3BhdGNoaW5nIGZ1bmN0aW9ucy4gU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL3R1dG9yaWFscy9mdW5kYW1lbnRhbHMvcGFydC00LXN0b3JlI21pZGRsZXdhcmUgYW5kIGh0dHBzOi8vcmVkdXguanMub3JnL3R1dG9yaWFscy9mdW5kYW1lbnRhbHMvcGFydC02LWFzeW5jLWxvZ2ljI3VzaW5nLXRoZS1yZWR1eC10aHVuay1taWRkbGV3YXJlIGZvciBleGFtcGxlcy5cIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDgpIDogJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gWW91IG1heSBoYXZlIG1pc3NwZWxsZWQgYW4gYWN0aW9uIHR5cGUgc3RyaW5nIGNvbnN0YW50LicpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSg5KSA6ICdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFJlZHVjZXIoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfVxuICAvKipcbiAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG4gICAqXG4gICAqIFlvdSBtaWdodCBuZWVkIHRoaXMgaWYgeW91ciBhcHAgaW1wbGVtZW50cyBjb2RlIHNwbGl0dGluZyBhbmQgeW91IHdhbnQgdG9cbiAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuICAgKiBpbXBsZW1lbnQgYSBob3QgcmVsb2FkaW5nIG1lY2hhbmlzbSBmb3IgUmVkdXguXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHRSZWR1Y2VyIFRoZSByZWR1Y2VyIGZvciB0aGUgc3RvcmUgdG8gdXNlIGluc3RlYWQuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0UmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTApIDogXCJFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICdcIiArIGtpbmRPZihuZXh0UmVkdWNlcikpO1xuICAgIH1cblxuICAgIGN1cnJlbnRSZWR1Y2VyID0gbmV4dFJlZHVjZXI7IC8vIFRoaXMgYWN0aW9uIGhhcyBhIHNpbWlsaWFyIGVmZmVjdCB0byBBY3Rpb25UeXBlcy5JTklULlxuICAgIC8vIEFueSByZWR1Y2VycyB0aGF0IGV4aXN0ZWQgaW4gYm90aCB0aGUgbmV3IGFuZCBvbGQgcm9vdFJlZHVjZXJcbiAgICAvLyB3aWxsIHJlY2VpdmUgdGhlIHByZXZpb3VzIHN0YXRlLiBUaGlzIGVmZmVjdGl2ZWx5IHBvcHVsYXRlc1xuICAgIC8vIHRoZSBuZXcgc3RhdGUgdHJlZSB3aXRoIGFueSByZWxldmFudCBkYXRhIGZyb20gdGhlIG9sZCBvbmUuXG5cbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5SRVBMQUNFXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEludGVyb3BlcmFiaWxpdHkgcG9pbnQgZm9yIG9ic2VydmFibGUvcmVhY3RpdmUgbGlicmFyaWVzLlxuICAgKiBAcmV0dXJucyB7b2JzZXJ2YWJsZX0gQSBtaW5pbWFsIG9ic2VydmFibGUgb2Ygc3RhdGUgY2hhbmdlcy5cbiAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgb2JzZXJ2YWJsZSBwcm9wb3NhbDpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JzZXJ2YWJsZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtaW5pbWFsIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlciBBbnkgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYW4gb2JzZXJ2ZXIuXG4gICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cbiAgICAgICAqIEByZXR1cm5zIHtzdWJzY3JpcHRpb259IEFuIG9iamVjdCB3aXRoIGFuIGB1bnN1YnNjcmliZWAgbWV0aG9kIHRoYXQgY2FuXG4gICAgICAgKiBiZSB1c2VkIHRvIHVuc3Vic2NyaWJlIHRoZSBvYnNlcnZhYmxlIGZyb20gdGhlIHN0b3JlLCBhbmQgcHJldmVudCBmdXJ0aGVyXG4gICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cbiAgICAgICAqL1xuICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYnNlcnZlciAhPT0gJ29iamVjdCcgfHwgb2JzZXJ2ZXIgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxMSkgOiBcIkV4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuIEluc3RlYWQsIHJlY2VpdmVkOiAnXCIgKyBraW5kT2Yob2JzZXJ2ZXIpICsgXCInXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZVN0YXRlKCkge1xuICAgICAgICAgIGlmIChvYnNlcnZlci5uZXh0KSB7XG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KGdldFN0YXRlKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9ic2VydmVTdGF0ZSgpO1xuICAgICAgICB2YXIgdW5zdWJzY3JpYmUgPSBvdXRlclN1YnNjcmliZShvYnNlcnZlU3RhdGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sIF9yZWZbJCRvYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIF9yZWY7XG4gIH0gLy8gV2hlbiBhIHN0b3JlIGlzIGNyZWF0ZWQsIGFuIFwiSU5JVFwiIGFjdGlvbiBpcyBkaXNwYXRjaGVkIHNvIHRoYXQgZXZlcnlcbiAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG4gIC8vIHRoZSBpbml0aWFsIHN0YXRlIHRyZWUuXG5cblxuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogQWN0aW9uVHlwZXMuSU5JVFxuICB9KTtcbiAgcmV0dXJuIF9yZWYyID0ge1xuICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcbiAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcbiAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG4gICAgcmVwbGFjZVJlZHVjZXI6IHJlcGxhY2VSZWR1Y2VyXG4gIH0sIF9yZWYyWyQkb2JzZXJ2YWJsZV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcbn1cblxuLyoqXG4gKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXG5cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcbiAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfSBjYXRjaCAoZSkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuXG59XG5cbmZ1bmN0aW9uIGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UoaW5wdXRTdGF0ZSwgcmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gQWN0aW9uVHlwZXMuSU5JVCA/ICdwcmVsb2FkZWRTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmUnIDogJ3ByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyJztcblxuICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICdTdG9yZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcmVkdWNlci4gTWFrZSBzdXJlIHRoZSBhcmd1bWVudCBwYXNzZWQgJyArICd0byBjb21iaW5lUmVkdWNlcnMgaXMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgcmVkdWNlcnMuJztcbiAgfVxuXG4gIGlmICghaXNQbGFpbk9iamVjdChpbnB1dFN0YXRlKSkge1xuICAgIHJldHVybiBcIlRoZSBcIiArIGFyZ3VtZW50TmFtZSArIFwiIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXFxcIlwiICsga2luZE9mKGlucHV0U3RhdGUpICsgXCJcXFwiLiBFeHBlY3RlZCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIFwiICsgKFwia2V5czogXFxcIlwiICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyBcIlxcXCJcIik7XG4gIH1cblxuICB2YXIgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAhcmVkdWNlcnMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhdW5leHBlY3RlZEtleUNhY2hlW2tleV07XG4gIH0pO1xuICB1bmV4cGVjdGVkS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XSA9IHRydWU7XG4gIH0pO1xuICBpZiAoYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBBY3Rpb25UeXBlcy5SRVBMQUNFKSByZXR1cm47XG5cbiAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gXCJVbmV4cGVjdGVkIFwiICsgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDEgPyAna2V5cycgOiAna2V5JykgKyBcIiBcIiArIChcIlxcXCJcIiArIHVuZXhwZWN0ZWRLZXlzLmpvaW4oJ1wiLCBcIicpICsgXCJcXFwiIGZvdW5kIGluIFwiICsgYXJndW1lbnROYW1lICsgXCIuIFwiKSArIFwiRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiBcIiArIChcIlxcXCJcIiArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgXCJcXFwiLiBVbmV4cGVjdGVkIGtleXMgd2lsbCBiZSBpZ25vcmVkLlwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2hhcGUocmVkdWNlcnMpIHtcbiAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcbiAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLklOSVRcbiAgICB9KTtcblxuICAgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTIpIDogXCJUaGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiBcIiArIFwiSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IFwiICsgXCJleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IFwiICsgXCJub3QgYmUgdW5kZWZpbmVkLiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZXQgYSB2YWx1ZSBmb3IgdGhpcyByZWR1Y2VyLCBcIiArIFwieW91IGNhbiB1c2UgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWR1Y2VyKHVuZGVmaW5lZCwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUFJPQkVfVU5LTk9XTl9BQ1RJT04oKVxuICAgIH0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTMpIDogXCJUaGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiBcIiArIChcIkRvbid0IHRyeSB0byBoYW5kbGUgJ1wiICsgQWN0aW9uVHlwZXMuSU5JVCArIFwiJyBvciBvdGhlciBhY3Rpb25zIGluIFxcXCJyZWR1eC8qXFxcIiBcIikgKyBcIm5hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlIFwiICsgXCJjdXJyZW50IHN0YXRlIGZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCBcIiArIFwiaW4gd2hpY2ggY2FzZSB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUsIHJlZ2FyZGxlc3Mgb2YgdGhlIFwiICsgXCJhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQsIGJ1dCBjYW4gYmUgbnVsbC5cIik7XG4gICAgfVxuICB9KTtcbn1cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgZGlmZmVyZW50IHJlZHVjZXIgZnVuY3Rpb25zLCBpbnRvIGEgc2luZ2xlXG4gKiByZWR1Y2VyIGZ1bmN0aW9uLiBJdCB3aWxsIGNhbGwgZXZlcnkgY2hpbGQgcmVkdWNlciwgYW5kIGdhdGhlciB0aGVpciByZXN1bHRzXG4gKiBpbnRvIGEgc2luZ2xlIHN0YXRlIG9iamVjdCwgd2hvc2Uga2V5cyBjb3JyZXNwb25kIHRvIHRoZSBrZXlzIG9mIHRoZSBwYXNzZWRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWR1Y2VycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGNvcnJlc3BvbmQgdG8gZGlmZmVyZW50XG4gKiByZWR1Y2VyIGZ1bmN0aW9ucyB0aGF0IG5lZWQgdG8gYmUgY29tYmluZWQgaW50byBvbmUuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluXG4gKiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhcyByZWR1Y2Vyc2Agc3ludGF4LiBUaGUgcmVkdWNlcnMgbWF5IG5ldmVyIHJldHVyblxuICogdW5kZWZpbmVkIGZvciBhbnkgYWN0aW9uLiBJbnN0ZWFkLCB0aGV5IHNob3VsZCByZXR1cm4gdGhlaXIgaW5pdGlhbCBzdGF0ZVxuICogaWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGVtIHdhcyB1bmRlZmluZWQsIGFuZCB0aGUgY3VycmVudCBzdGF0ZSBmb3IgYW55XG4gKiB1bnJlY29nbml6ZWQgYWN0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSByZWR1Y2VyIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBldmVyeSByZWR1Y2VyIGluc2lkZSB0aGVcbiAqIHBhc3NlZCBvYmplY3QsIGFuZCBidWlsZHMgYSBzdGF0ZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNvbWJpbmVSZWR1Y2VycyhyZWR1Y2Vycykge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBmaW5hbFJlZHVjZXJzID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSByZWR1Y2VyS2V5c1tpXTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdhcm5pbmcoXCJObyByZWR1Y2VyIHByb3ZpZGVkIGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcbiAgICB9XG4gIH1cblxuICB2YXIgZmluYWxSZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKGZpbmFsUmVkdWNlcnMpOyAvLyBUaGlzIGlzIHVzZWQgdG8gbWFrZSBzdXJlIHdlIGRvbid0IHdhcm4gYWJvdXQgdGhlIHNhbWVcbiAgLy8ga2V5cyBtdWx0aXBsZSB0aW1lcy5cblxuICB2YXIgdW5leHBlY3RlZEtleUNhY2hlO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdW5leHBlY3RlZEtleUNhY2hlID0ge307XG4gIH1cblxuICB2YXIgc2hhcGVBc3NlcnRpb25FcnJvcjtcblxuICB0cnkge1xuICAgIGFzc2VydFJlZHVjZXJTaGFwZShmaW5hbFJlZHVjZXJzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHNoYXBlQXNzZXJ0aW9uRXJyb3IgPSBlO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBpZiAoc3RhdGUgPT09IHZvaWQgMCkge1xuICAgICAgc3RhdGUgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoc2hhcGVBc3NlcnRpb25FcnJvcikge1xuICAgICAgdGhyb3cgc2hhcGVBc3NlcnRpb25FcnJvcjtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uLCB1bmV4cGVjdGVkS2V5Q2FjaGUpO1xuXG4gICAgICBpZiAod2FybmluZ01lc3NhZ2UpIHtcbiAgICAgICAgd2FybmluZyh3YXJuaW5nTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICB2YXIgbmV4dFN0YXRlID0ge307XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfa2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tfaV07XG4gICAgICB2YXIgcmVkdWNlciA9IGZpbmFsUmVkdWNlcnNbX2tleV07XG4gICAgICB2YXIgcHJldmlvdXNTdGF0ZUZvcktleSA9IHN0YXRlW19rZXldO1xuICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcblxuICAgICAgaWYgKHR5cGVvZiBuZXh0U3RhdGVGb3JLZXkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBhY3Rpb25UeXBlID0gYWN0aW9uICYmIGFjdGlvbi50eXBlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gZm9ybWF0UHJvZEVycm9yTWVzc2FnZSgxNCkgOiBcIldoZW4gY2FsbGVkIHdpdGggYW4gYWN0aW9uIG9mIHR5cGUgXCIgKyAoYWN0aW9uVHlwZSA/IFwiXFxcIlwiICsgU3RyaW5nKGFjdGlvblR5cGUpICsgXCJcXFwiXCIgOiAnKHVua25vd24gdHlwZSknKSArIFwiLCB0aGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFxcXCJcIiArIF9rZXkgKyBcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiBcIiArIFwiVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLiBcIiArIFwiSWYgeW91IHdhbnQgdGhpcyByZWR1Y2VyIHRvIGhvbGQgbm8gdmFsdWUsIHlvdSBjYW4gcmV0dXJuIG51bGwgaW5zdGVhZCBvZiB1bmRlZmluZWQuXCIpO1xuICAgICAgfVxuXG4gICAgICBuZXh0U3RhdGVbX2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG4gICAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBuZXh0U3RhdGVGb3JLZXkgIT09IHByZXZpb3VzU3RhdGVGb3JLZXk7XG4gICAgfVxuXG4gICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKHN0YXRlKS5sZW5ndGg7XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goYWN0aW9uQ3JlYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG4gKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYW4gYWN0aW9uIGNyZWF0b3IgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuICogYW5kIGdldCBhIGRpc3BhdGNoIHdyYXBwZWQgZnVuY3Rpb24gaW4gcmV0dXJuLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBhY3Rpb25DcmVhdG9ycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb25cbiAqIGNyZWF0b3IgZnVuY3Rpb25zLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpbiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhc2BcbiAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcGF0Y2ggVGhlIGBkaXNwYXRjaGAgZnVuY3Rpb24gYXZhaWxhYmxlIG9uIHlvdXIgUmVkdXhcbiAqIHN0b3JlLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFRoZSBvYmplY3QgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBvYmplY3QsIGJ1dCB3aXRoXG4gKiBldmVyeSBhY3Rpb24gY3JlYXRvciB3cmFwcGVkIGludG8gdGhlIGBkaXNwYXRjaGAgY2FsbC4gSWYgeW91IHBhc3NlZCBhXG4gKiBmdW5jdGlvbiBhcyBgYWN0aW9uQ3JlYXRvcnNgLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYWxzbyBiZSBhIHNpbmdsZVxuICogZnVuY3Rpb24uXG4gKi9cblxuXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgIT09ICdvYmplY3QnIHx8IGFjdGlvbkNyZWF0b3JzID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IGZvcm1hdFByb2RFcnJvck1lc3NhZ2UoMTYpIDogXCJiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGJ1dCBpbnN0ZWFkIHJlY2VpdmVkOiAnXCIgKyBraW5kT2YoYWN0aW9uQ3JlYXRvcnMpICsgXCInLiBcIiArIFwiRGlkIHlvdSB3cml0ZSBcXFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cXFwiIGluc3RlYWQgb2YgXFxcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cXFwiP1wiKTtcbiAgfVxuXG4gIHZhciBib3VuZEFjdGlvbkNyZWF0b3JzID0ge307XG5cbiAgZm9yICh2YXIga2V5IGluIGFjdGlvbkNyZWF0b3JzKSB7XG4gICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJvdW5kQWN0aW9uQ3JlYXRvcnM7XG59XG5cbi8qKlxuICogQ29tcG9zZXMgc2luZ2xlLWFyZ3VtZW50IGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuIFRoZSByaWdodG1vc3RcbiAqIGZ1bmN0aW9uIGNhbiB0YWtlIG11bHRpcGxlIGFyZ3VtZW50cyBhcyBpdCBwcm92aWRlcyB0aGUgc2lnbmF0dXJlIGZvclxuICogdGhlIHJlc3VsdGluZyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZnVuY3MgVGhlIGZ1bmN0aW9ucyB0byBjb21wb3NlLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIG9idGFpbmVkIGJ5IGNvbXBvc2luZyB0aGUgYXJndW1lbnQgZnVuY3Rpb25zXG4gKiBmcm9tIHJpZ2h0IHRvIGxlZnQuIEZvciBleGFtcGxlLCBjb21wb3NlKGYsIGcsIGgpIGlzIGlkZW50aWNhbCB0byBkb2luZ1xuICogKC4uLmFyZ3MpID0+IGYoZyhoKC4uLmFyZ3MpKSkuXG4gKi9cbmZ1bmN0aW9uIGNvbXBvc2UoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmdW5jc1swXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEoYi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdG9yZSBlbmhhbmNlciB0aGF0IGFwcGxpZXMgbWlkZGxld2FyZSB0byB0aGUgZGlzcGF0Y2ggbWV0aG9kXG4gKiBvZiB0aGUgUmVkdXggc3RvcmUuIFRoaXMgaXMgaGFuZHkgZm9yIGEgdmFyaWV0eSBvZiB0YXNrcywgc3VjaCBhcyBleHByZXNzaW5nXG4gKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuICpcbiAqIFNlZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UgYXMgYW4gZXhhbXBsZSBvZiB0aGUgUmVkdXggbWlkZGxld2FyZS5cbiAqXG4gKiBCZWNhdXNlIG1pZGRsZXdhcmUgaXMgcG90ZW50aWFsbHkgYXN5bmNocm9ub3VzLCB0aGlzIHNob3VsZCBiZSB0aGUgZmlyc3RcbiAqIHN0b3JlIGVuaGFuY2VyIGluIHRoZSBjb21wb3NpdGlvbiBjaGFpbi5cbiAqXG4gKiBOb3RlIHRoYXQgZWFjaCBtaWRkbGV3YXJlIHdpbGwgYmUgZ2l2ZW4gdGhlIGBkaXNwYXRjaGAgYW5kIGBnZXRTdGF0ZWAgZnVuY3Rpb25zXG4gKiBhcyBuYW1lZCBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gbWlkZGxld2FyZXMgVGhlIG1pZGRsZXdhcmUgY2hhaW4gdG8gYmUgYXBwbGllZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdG9yZSBlbmhhbmNlciBhcHBseWluZyB0aGUgbWlkZGxld2FyZS5cbiAqL1xuXG5mdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtaWRkbGV3YXJlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuXG4gICAgICB2YXIgX2Rpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIgPyBmb3JtYXRQcm9kRXJyb3JNZXNzYWdlKDE1KSA6ICdEaXNwYXRjaGluZyB3aGlsZSBjb25zdHJ1Y3RpbmcgeW91ciBtaWRkbGV3YXJlIGlzIG5vdCBhbGxvd2VkLiAnICsgJ090aGVyIG1pZGRsZXdhcmUgd291bGQgbm90IGJlIGFwcGxpZWQgdG8gdGhpcyBkaXNwYXRjaC4nKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuICAgICAgICBnZXRTdGF0ZTogc3RvcmUuZ2V0U3RhdGUsXG4gICAgICAgIGRpc3BhdGNoOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZShtaWRkbGV3YXJlQVBJKTtcbiAgICAgIH0pO1xuICAgICAgX2Rpc3BhdGNoID0gY29tcG9zZS5hcHBseSh2b2lkIDAsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdG9yZSksIHt9LCB7XG4gICAgICAgIGRpc3BhdGNoOiBfZGlzcGF0Y2hcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG59XG5cbi8qXG4gKiBUaGlzIGlzIGEgZHVtbXkgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGZ1bmN0aW9uIG5hbWUgaGFzIGJlZW4gYWx0ZXJlZCBieSBtaW5pZmljYXRpb24uXG4gKiBJZiB0aGUgZnVuY3Rpb24gaGFzIGJlZW4gbWluaWZpZWQgYW5kIE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsIHdhcm4gdGhlIHVzZXIuXG4gKi9cblxuZnVuY3Rpb24gaXNDcnVzaGVkKCkge31cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGlzQ3J1c2hlZC5uYW1lID09PSAnc3RyaW5nJyAmJiBpc0NydXNoZWQubmFtZSAhPT0gJ2lzQ3J1c2hlZCcpIHtcbiAgd2FybmluZygnWW91IGFyZSBjdXJyZW50bHkgdXNpbmcgbWluaWZpZWQgY29kZSBvdXRzaWRlIG9mIE5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIi4gJyArICdUaGlzIG1lYW5zIHRoYXQgeW91IGFyZSBydW5uaW5nIGEgc2xvd2VyIGRldmVsb3BtZW50IGJ1aWxkIG9mIFJlZHV4LiAnICsgJ1lvdSBjYW4gdXNlIGxvb3NlLWVudmlmeSAoaHR0cHM6Ly9naXRodWIuY29tL3plcnRvc2gvbG9vc2UtZW52aWZ5KSBmb3IgYnJvd3NlcmlmeSAnICsgJ29yIHNldHRpbmcgbW9kZSB0byBwcm9kdWN0aW9uIGluIHdlYnBhY2sgKGh0dHBzOi8vd2VicGFjay5qcy5vcmcvY29uY2VwdHMvbW9kZS8pICcgKyAndG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKTtcbn1cblxuZXhwb3J0IHsgQWN0aW9uVHlwZXMgYXMgX19ET19OT1RfVVNFX19BY3Rpb25UeXBlcywgYXBwbHlNaWRkbGV3YXJlLCBiaW5kQWN0aW9uQ3JlYXRvcnMsIGNvbWJpbmVSZWR1Y2VycywgY29tcG9zZSwgY3JlYXRlU3RvcmUgfTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5leHBvcnQgdmFyIFJlYWN0UmVkdXhDb250ZXh0ID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIFJlYWN0UmVkdXhDb250ZXh0LmRpc3BsYXlOYW1lID0gJ1JlYWN0UmVkdXgnO1xufVxuXG5leHBvcnQgZGVmYXVsdCBSZWFjdFJlZHV4Q29udGV4dDsiLCIvLyBEZWZhdWx0IHRvIGEgZHVtbXkgXCJiYXRjaFwiIGltcGxlbWVudGF0aW9uIHRoYXQganVzdCBydW5zIHRoZSBjYWxsYmFja1xuZnVuY3Rpb24gZGVmYXVsdE5vb3BCYXRjaChjYWxsYmFjaykge1xuICBjYWxsYmFjaygpO1xufVxuXG52YXIgYmF0Y2ggPSBkZWZhdWx0Tm9vcEJhdGNoOyAvLyBBbGxvdyBpbmplY3RpbmcgYW5vdGhlciBiYXRjaGluZyBmdW5jdGlvbiBsYXRlclxuXG5leHBvcnQgdmFyIHNldEJhdGNoID0gZnVuY3Rpb24gc2V0QmF0Y2gobmV3QmF0Y2gpIHtcbiAgcmV0dXJuIGJhdGNoID0gbmV3QmF0Y2g7XG59OyAvLyBTdXBwbHkgYSBnZXR0ZXIganVzdCB0byBza2lwIGRlYWxpbmcgd2l0aCBFU00gYmluZGluZ3NcblxuZXhwb3J0IHZhciBnZXRCYXRjaCA9IGZ1bmN0aW9uIGdldEJhdGNoKCkge1xuICByZXR1cm4gYmF0Y2g7XG59OyIsImltcG9ydCB7IGdldEJhdGNoIH0gZnJvbSAnLi9iYXRjaCc7IC8vIGVuY2Fwc3VsYXRlcyB0aGUgc3Vic2NyaXB0aW9uIGxvZ2ljIGZvciBjb25uZWN0aW5nIGEgY29tcG9uZW50IHRvIHRoZSByZWR1eCBzdG9yZSwgYXNcbi8vIHdlbGwgYXMgbmVzdGluZyBzdWJzY3JpcHRpb25zIG9mIGRlc2NlbmRhbnQgY29tcG9uZW50cywgc28gdGhhdCB3ZSBjYW4gZW5zdXJlIHRoZVxuLy8gYW5jZXN0b3IgY29tcG9uZW50cyByZS1yZW5kZXIgYmVmb3JlIGRlc2NlbmRhbnRzXG5cbmZ1bmN0aW9uIGNyZWF0ZUxpc3RlbmVyQ29sbGVjdGlvbigpIHtcbiAgdmFyIGJhdGNoID0gZ2V0QmF0Y2goKTtcbiAgdmFyIGZpcnN0ID0gbnVsbDtcbiAgdmFyIGxhc3QgPSBudWxsO1xuICByZXR1cm4ge1xuICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgIGZpcnN0ID0gbnVsbDtcbiAgICAgIGxhc3QgPSBudWxsO1xuICAgIH0sXG4gICAgbm90aWZ5OiBmdW5jdGlvbiBub3RpZnkoKSB7XG4gICAgICBiYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IGZpcnN0O1xuXG4gICAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrKCk7XG4gICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIGxpc3RlbmVycyA9IFtdO1xuICAgICAgdmFyIGxpc3RlbmVyID0gZmlyc3Q7XG5cbiAgICAgIHdoaWxlIChsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIubmV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxpc3RlbmVycztcbiAgICB9LFxuICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgaXNTdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICAgIHZhciBsaXN0ZW5lciA9IGxhc3QgPSB7XG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgbmV4dDogbnVsbCxcbiAgICAgICAgcHJldjogbGFzdFxuICAgICAgfTtcblxuICAgICAgaWYgKGxpc3RlbmVyLnByZXYpIHtcbiAgICAgICAgbGlzdGVuZXIucHJldi5uZXh0ID0gbGlzdGVuZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaXJzdCA9IGxpc3RlbmVyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmICghaXNTdWJzY3JpYmVkIHx8IGZpcnN0ID09PSBudWxsKSByZXR1cm47XG4gICAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChsaXN0ZW5lci5uZXh0KSB7XG4gICAgICAgICAgbGlzdGVuZXIubmV4dC5wcmV2ID0gbGlzdGVuZXIucHJldjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXN0ID0gbGlzdGVuZXIucHJldjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0ZW5lci5wcmV2KSB7XG4gICAgICAgICAgbGlzdGVuZXIucHJldi5uZXh0ID0gbGlzdGVuZXIubmV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaXJzdCA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG52YXIgbnVsbExpc3RlbmVycyA9IHtcbiAgbm90aWZ5OiBmdW5jdGlvbiBub3RpZnkoKSB7fSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN1YnNjcmlwdGlvbihzdG9yZSwgcGFyZW50U3ViKSB7XG4gIHZhciB1bnN1YnNjcmliZTtcbiAgdmFyIGxpc3RlbmVycyA9IG51bGxMaXN0ZW5lcnM7XG5cbiAgZnVuY3Rpb24gYWRkTmVzdGVkU3ViKGxpc3RlbmVyKSB7XG4gICAgdHJ5U3Vic2NyaWJlKCk7XG4gICAgcmV0dXJuIGxpc3RlbmVycy5zdWJzY3JpYmUobGlzdGVuZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gbm90aWZ5TmVzdGVkU3VicygpIHtcbiAgICBsaXN0ZW5lcnMubm90aWZ5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2VXcmFwcGVyKCkge1xuICAgIGlmIChzdWJzY3JpcHRpb24ub25TdGF0ZUNoYW5nZSkge1xuICAgICAgc3Vic2NyaXB0aW9uLm9uU3RhdGVDaGFuZ2UoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc1N1YnNjcmliZWQoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odW5zdWJzY3JpYmUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJ5U3Vic2NyaWJlKCkge1xuICAgIGlmICghdW5zdWJzY3JpYmUpIHtcbiAgICAgIHVuc3Vic2NyaWJlID0gcGFyZW50U3ViID8gcGFyZW50U3ViLmFkZE5lc3RlZFN1YihoYW5kbGVDaGFuZ2VXcmFwcGVyKSA6IHN0b3JlLnN1YnNjcmliZShoYW5kbGVDaGFuZ2VXcmFwcGVyKTtcbiAgICAgIGxpc3RlbmVycyA9IGNyZWF0ZUxpc3RlbmVyQ29sbGVjdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyeVVuc3Vic2NyaWJlKCkge1xuICAgIGlmICh1bnN1YnNjcmliZSkge1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIHVuc3Vic2NyaWJlID0gdW5kZWZpbmVkO1xuICAgICAgbGlzdGVuZXJzLmNsZWFyKCk7XG4gICAgICBsaXN0ZW5lcnMgPSBudWxsTGlzdGVuZXJzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzdWJzY3JpcHRpb24gPSB7XG4gICAgYWRkTmVzdGVkU3ViOiBhZGROZXN0ZWRTdWIsXG4gICAgbm90aWZ5TmVzdGVkU3Viczogbm90aWZ5TmVzdGVkU3VicyxcbiAgICBoYW5kbGVDaGFuZ2VXcmFwcGVyOiBoYW5kbGVDaGFuZ2VXcmFwcGVyLFxuICAgIGlzU3Vic2NyaWJlZDogaXNTdWJzY3JpYmVkLFxuICAgIHRyeVN1YnNjcmliZTogdHJ5U3Vic2NyaWJlLFxuICAgIHRyeVVuc3Vic2NyaWJlOiB0cnlVbnN1YnNjcmliZSxcbiAgICBnZXRMaXN0ZW5lcnM6IGZ1bmN0aW9uIGdldExpc3RlbmVycygpIHtcbiAgICAgIHJldHVybiBsaXN0ZW5lcnM7XG4gICAgfVxuICB9O1xuICByZXR1cm4gc3Vic2NyaXB0aW9uO1xufSIsImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSAncmVhY3QnOyAvLyBSZWFjdCBjdXJyZW50bHkgdGhyb3dzIGEgd2FybmluZyB3aGVuIHVzaW5nIHVzZUxheW91dEVmZmVjdCBvbiB0aGUgc2VydmVyLlxuLy8gVG8gZ2V0IGFyb3VuZCBpdCwgd2UgY2FuIGNvbmRpdGlvbmFsbHkgdXNlRWZmZWN0IG9uIHRoZSBzZXJ2ZXIgKG5vLW9wKSBhbmRcbi8vIHVzZUxheW91dEVmZmVjdCBpbiB0aGUgYnJvd3Nlci4gV2UgbmVlZCB1c2VMYXlvdXRFZmZlY3QgdG8gZW5zdXJlIHRoZSBzdG9yZVxuLy8gc3Vic2NyaXB0aW9uIGNhbGxiYWNrIGFsd2F5cyBoYXMgdGhlIHNlbGVjdG9yIGZyb20gdGhlIGxhdGVzdCByZW5kZXIgY29tbWl0XG4vLyBhdmFpbGFibGUsIG90aGVyd2lzZSBhIHN0b3JlIHVwZGF0ZSBtYXkgaGFwcGVuIGJldHdlZW4gcmVuZGVyIGFuZCB0aGUgZWZmZWN0LFxuLy8gd2hpY2ggbWF5IGNhdXNlIG1pc3NlZCB1cGRhdGVzOyB3ZSBhbHNvIG11c3QgZW5zdXJlIHRoZSBzdG9yZSBzdWJzY3JpcHRpb25cbi8vIGlzIGNyZWF0ZWQgc3luY2hyb25vdXNseSwgb3RoZXJ3aXNlIGEgc3RvcmUgdXBkYXRlIG1heSBvY2N1ciBiZWZvcmUgdGhlXG4vLyBzdWJzY3JpcHRpb24gaXMgY3JlYXRlZCBhbmQgYW4gaW5jb25zaXN0ZW50IHN0YXRlIG1heSBiZSBvYnNlcnZlZFxuXG5leHBvcnQgdmFyIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09ICd1bmRlZmluZWQnID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0OyIsImltcG9ydCBSZWFjdCwgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi9Db250ZXh0JztcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3V0aWxzL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4vdXRpbHMvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCc7XG5cbmZ1bmN0aW9uIFByb3ZpZGVyKF9yZWYpIHtcbiAgdmFyIHN0b3JlID0gX3JlZi5zdG9yZSxcbiAgICAgIGNvbnRleHQgPSBfcmVmLmNvbnRleHQsXG4gICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG4gIHZhciBjb250ZXh0VmFsdWUgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3Vic2NyaXB0aW9uID0gY3JlYXRlU3Vic2NyaXB0aW9uKHN0b3JlKTtcbiAgICBzdWJzY3JpcHRpb24ub25TdGF0ZUNoYW5nZSA9IHN1YnNjcmlwdGlvbi5ub3RpZnlOZXN0ZWRTdWJzO1xuICAgIHJldHVybiB7XG4gICAgICBzdG9yZTogc3RvcmUsXG4gICAgICBzdWJzY3JpcHRpb246IHN1YnNjcmlwdGlvblxuICAgIH07XG4gIH0sIFtzdG9yZV0pO1xuICB2YXIgcHJldmlvdXNTdGF0ZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBzdG9yZS5nZXRTdGF0ZSgpO1xuICB9LCBbc3RvcmVdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN1YnNjcmlwdGlvbiA9IGNvbnRleHRWYWx1ZS5zdWJzY3JpcHRpb247XG4gICAgc3Vic2NyaXB0aW9uLnRyeVN1YnNjcmliZSgpO1xuXG4gICAgaWYgKHByZXZpb3VzU3RhdGUgIT09IHN0b3JlLmdldFN0YXRlKCkpIHtcbiAgICAgIHN1YnNjcmlwdGlvbi5ub3RpZnlOZXN0ZWRTdWJzKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHN1YnNjcmlwdGlvbi50cnlVbnN1YnNjcmliZSgpO1xuICAgICAgc3Vic2NyaXB0aW9uLm9uU3RhdGVDaGFuZ2UgPSBudWxsO1xuICAgIH07XG4gIH0sIFtjb250ZXh0VmFsdWUsIHByZXZpb3VzU3RhdGVdKTtcbiAgdmFyIENvbnRleHQgPSBjb250ZXh0IHx8IFJlYWN0UmVkdXhDb250ZXh0O1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBjb250ZXh0VmFsdWVcbiAgfSwgY2hpbGRyZW4pO1xufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBQcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gICAgc3RvcmU6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBzdWJzY3JpYmU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgICBkaXNwYXRjaDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICAgIGdldFN0YXRlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG4gICAgfSksXG4gICAgY29udGV4dDogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLmFueVxuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBQcm92aWRlcjsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZVwiO1xudmFyIF9leGNsdWRlZCA9IFtcImdldERpc3BsYXlOYW1lXCIsIFwibWV0aG9kTmFtZVwiLCBcInJlbmRlckNvdW50UHJvcFwiLCBcInNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlc1wiLCBcInN0b3JlS2V5XCIsIFwid2l0aFJlZlwiLCBcImZvcndhcmRSZWZcIiwgXCJjb250ZXh0XCJdLFxuICAgIF9leGNsdWRlZDIgPSBbXCJyZWFjdFJlZHV4Rm9yd2FyZGVkUmVmXCJdO1xuaW1wb3J0IGhvaXN0U3RhdGljcyBmcm9tICdob2lzdC1ub24tcmVhY3Qtc3RhdGljcyc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlTWVtbywgdXNlUmVmLCB1c2VSZWR1Y2VyIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaXNWYWxpZEVsZW1lbnRUeXBlLCBpc0NvbnRleHRDb25zdW1lciB9IGZyb20gJ3JlYWN0LWlzJztcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3V0aWxzL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi4vdXRpbHMvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCc7XG5pbXBvcnQgeyBSZWFjdFJlZHV4Q29udGV4dCB9IGZyb20gJy4vQ29udGV4dCc7IC8vIERlZmluZSBzb21lIGNvbnN0YW50IGFycmF5cyBqdXN0IHRvIGF2b2lkIHJlLWNyZWF0aW5nIHRoZXNlXG5cbnZhciBFTVBUWV9BUlJBWSA9IFtdO1xudmFyIE5PX1NVQlNDUklQVElPTl9BUlJBWSA9IFtudWxsLCBudWxsXTtcblxudmFyIHN0cmluZ2lmeUNvbXBvbmVudCA9IGZ1bmN0aW9uIHN0cmluZ2lmeUNvbXBvbmVudChDb21wKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KENvbXApO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gU3RyaW5nKENvbXApO1xuICB9XG59O1xuXG5mdW5jdGlvbiBzdG9yZVN0YXRlVXBkYXRlc1JlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICB2YXIgdXBkYXRlQ291bnQgPSBzdGF0ZVsxXTtcbiAgcmV0dXJuIFthY3Rpb24ucGF5bG9hZCwgdXBkYXRlQ291bnQgKyAxXTtcbn1cblxuZnVuY3Rpb24gdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdFdpdGhBcmdzKGVmZmVjdEZ1bmMsIGVmZmVjdEFyZ3MsIGRlcGVuZGVuY2llcykge1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZWZmZWN0RnVuYy5hcHBseSh2b2lkIDAsIGVmZmVjdEFyZ3MpO1xuICB9LCBkZXBlbmRlbmNpZXMpO1xufVxuXG5mdW5jdGlvbiBjYXB0dXJlV3JhcHBlclByb3BzKGxhc3RXcmFwcGVyUHJvcHMsIGxhc3RDaGlsZFByb3BzLCByZW5kZXJJc1NjaGVkdWxlZCwgd3JhcHBlclByb3BzLCBhY3R1YWxDaGlsZFByb3BzLCBjaGlsZFByb3BzRnJvbVN0b3JlVXBkYXRlLCBub3RpZnlOZXN0ZWRTdWJzKSB7XG4gIC8vIFdlIHdhbnQgdG8gY2FwdHVyZSB0aGUgd3JhcHBlciBwcm9wcyBhbmQgY2hpbGQgcHJvcHMgd2UgdXNlZCBmb3IgbGF0ZXIgY29tcGFyaXNvbnNcbiAgbGFzdFdyYXBwZXJQcm9wcy5jdXJyZW50ID0gd3JhcHBlclByb3BzO1xuICBsYXN0Q2hpbGRQcm9wcy5jdXJyZW50ID0gYWN0dWFsQ2hpbGRQcm9wcztcbiAgcmVuZGVySXNTY2hlZHVsZWQuY3VycmVudCA9IGZhbHNlOyAvLyBJZiB0aGUgcmVuZGVyIHdhcyBmcm9tIGEgc3RvcmUgdXBkYXRlLCBjbGVhciBvdXQgdGhhdCByZWZlcmVuY2UgYW5kIGNhc2NhZGUgdGhlIHN1YnNjcmliZXIgdXBkYXRlXG5cbiAgaWYgKGNoaWxkUHJvcHNGcm9tU3RvcmVVcGRhdGUuY3VycmVudCkge1xuICAgIGNoaWxkUHJvcHNGcm9tU3RvcmVVcGRhdGUuY3VycmVudCA9IG51bGw7XG4gICAgbm90aWZ5TmVzdGVkU3VicygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN1YnNjcmliZVVwZGF0ZXMoc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzLCBzdG9yZSwgc3Vic2NyaXB0aW9uLCBjaGlsZFByb3BzU2VsZWN0b3IsIGxhc3RXcmFwcGVyUHJvcHMsIGxhc3RDaGlsZFByb3BzLCByZW5kZXJJc1NjaGVkdWxlZCwgY2hpbGRQcm9wc0Zyb21TdG9yZVVwZGF0ZSwgbm90aWZ5TmVzdGVkU3VicywgZm9yY2VDb21wb25lbnRVcGRhdGVEaXNwYXRjaCkge1xuICAvLyBJZiB3ZSdyZSBub3Qgc3Vic2NyaWJlZCB0byB0aGUgc3RvcmUsIG5vdGhpbmcgdG8gZG8gaGVyZVxuICBpZiAoIXNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcykgcmV0dXJuOyAvLyBDYXB0dXJlIHZhbHVlcyBmb3IgY2hlY2tpbmcgaWYgYW5kIHdoZW4gdGhpcyBjb21wb25lbnQgdW5tb3VudHNcblxuICB2YXIgZGlkVW5zdWJzY3JpYmUgPSBmYWxzZTtcbiAgdmFyIGxhc3RUaHJvd25FcnJvciA9IG51bGw7IC8vIFdlJ2xsIHJ1biB0aGlzIGNhbGxiYWNrIGV2ZXJ5IHRpbWUgYSBzdG9yZSBzdWJzY3JpcHRpb24gdXBkYXRlIHByb3BhZ2F0ZXMgdG8gdGhpcyBjb21wb25lbnRcblxuICB2YXIgY2hlY2tGb3JVcGRhdGVzID0gZnVuY3Rpb24gY2hlY2tGb3JVcGRhdGVzKCkge1xuICAgIGlmIChkaWRVbnN1YnNjcmliZSkge1xuICAgICAgLy8gRG9uJ3QgcnVuIHN0YWxlIGxpc3RlbmVycy5cbiAgICAgIC8vIFJlZHV4IGRvZXNuJ3QgZ3VhcmFudGVlIHVuc3Vic2NyaXB0aW9ucyBoYXBwZW4gdW50aWwgbmV4dCBkaXNwYXRjaC5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbGF0ZXN0U3RvcmVTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgdmFyIG5ld0NoaWxkUHJvcHMsIGVycm9yO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEFjdHVhbGx5IHJ1biB0aGUgc2VsZWN0b3Igd2l0aCB0aGUgbW9zdCByZWNlbnQgc3RvcmUgc3RhdGUgYW5kIHdyYXBwZXIgcHJvcHNcbiAgICAgIC8vIHRvIGRldGVybWluZSB3aGF0IHRoZSBjaGlsZCBwcm9wcyBzaG91bGQgYmVcbiAgICAgIG5ld0NoaWxkUHJvcHMgPSBjaGlsZFByb3BzU2VsZWN0b3IobGF0ZXN0U3RvcmVTdGF0ZSwgbGFzdFdyYXBwZXJQcm9wcy5jdXJyZW50KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlcnJvciA9IGU7XG4gICAgICBsYXN0VGhyb3duRXJyb3IgPSBlO1xuICAgIH1cblxuICAgIGlmICghZXJyb3IpIHtcbiAgICAgIGxhc3RUaHJvd25FcnJvciA9IG51bGw7XG4gICAgfSAvLyBJZiB0aGUgY2hpbGQgcHJvcHMgaGF2ZW4ndCBjaGFuZ2VkLCBub3RoaW5nIHRvIGRvIGhlcmUgLSBjYXNjYWRlIHRoZSBzdWJzY3JpcHRpb24gdXBkYXRlXG5cblxuICAgIGlmIChuZXdDaGlsZFByb3BzID09PSBsYXN0Q2hpbGRQcm9wcy5jdXJyZW50KSB7XG4gICAgICBpZiAoIXJlbmRlcklzU2NoZWR1bGVkLmN1cnJlbnQpIHtcbiAgICAgICAgbm90aWZ5TmVzdGVkU3VicygpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTYXZlIHJlZmVyZW5jZXMgdG8gdGhlIG5ldyBjaGlsZCBwcm9wcy4gIE5vdGUgdGhhdCB3ZSB0cmFjayB0aGUgXCJjaGlsZCBwcm9wcyBmcm9tIHN0b3JlIHVwZGF0ZVwiXG4gICAgICAvLyBhcyBhIHJlZiBpbnN0ZWFkIG9mIGEgdXNlU3RhdGUvdXNlUmVkdWNlciBiZWNhdXNlIHdlIG5lZWQgYSB3YXkgdG8gZGV0ZXJtaW5lIGlmIHRoYXQgdmFsdWUgaGFzXG4gICAgICAvLyBiZWVuIHByb2Nlc3NlZC4gIElmIHRoaXMgd2VudCBpbnRvIHVzZVN0YXRlL3VzZVJlZHVjZXIsIHdlIGNvdWxkbid0IGNsZWFyIG91dCB0aGUgdmFsdWUgd2l0aG91dFxuICAgICAgLy8gZm9yY2luZyBhbm90aGVyIHJlLXJlbmRlciwgd2hpY2ggd2UgZG9uJ3Qgd2FudC5cbiAgICAgIGxhc3RDaGlsZFByb3BzLmN1cnJlbnQgPSBuZXdDaGlsZFByb3BzO1xuICAgICAgY2hpbGRQcm9wc0Zyb21TdG9yZVVwZGF0ZS5jdXJyZW50ID0gbmV3Q2hpbGRQcm9wcztcbiAgICAgIHJlbmRlcklzU2NoZWR1bGVkLmN1cnJlbnQgPSB0cnVlOyAvLyBJZiB0aGUgY2hpbGQgcHJvcHMgX2RpZF8gY2hhbmdlIChvciB3ZSBjYXVnaHQgYW4gZXJyb3IpLCB0aGlzIHdyYXBwZXIgY29tcG9uZW50IG5lZWRzIHRvIHJlLXJlbmRlclxuXG4gICAgICBmb3JjZUNvbXBvbmVudFVwZGF0ZURpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ1NUT1JFX1VQREFURUQnLFxuICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTsgLy8gQWN0dWFsbHkgc3Vic2NyaWJlIHRvIHRoZSBuZWFyZXN0IGNvbm5lY3RlZCBhbmNlc3RvciAob3Igc3RvcmUpXG5cblxuICBzdWJzY3JpcHRpb24ub25TdGF0ZUNoYW5nZSA9IGNoZWNrRm9yVXBkYXRlcztcbiAgc3Vic2NyaXB0aW9uLnRyeVN1YnNjcmliZSgpOyAvLyBQdWxsIGRhdGEgZnJvbSB0aGUgc3RvcmUgYWZ0ZXIgZmlyc3QgcmVuZGVyIGluIGNhc2UgdGhlIHN0b3JlIGhhc1xuICAvLyBjaGFuZ2VkIHNpbmNlIHdlIGJlZ2FuLlxuXG4gIGNoZWNrRm9yVXBkYXRlcygpO1xuXG4gIHZhciB1bnN1YnNjcmliZVdyYXBwZXIgPSBmdW5jdGlvbiB1bnN1YnNjcmliZVdyYXBwZXIoKSB7XG4gICAgZGlkVW5zdWJzY3JpYmUgPSB0cnVlO1xuICAgIHN1YnNjcmlwdGlvbi50cnlVbnN1YnNjcmliZSgpO1xuICAgIHN1YnNjcmlwdGlvbi5vblN0YXRlQ2hhbmdlID0gbnVsbDtcblxuICAgIGlmIChsYXN0VGhyb3duRXJyb3IpIHtcbiAgICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCB3ZSBjYXVnaHQgYW4gZXJyb3IgZHVlIHRvIGEgYmFkIG1hcFN0YXRlIGZ1bmN0aW9uLCBidXQgdGhlXG4gICAgICAvLyBwYXJlbnQgcmUtcmVuZGVyZWQgd2l0aG91dCB0aGlzIGNvbXBvbmVudCBhbmQgd2UncmUgYWJvdXQgdG8gdW5tb3VudC5cbiAgICAgIC8vIFRoaXMgc2hvdWxkbid0IGhhcHBlbiBhcyBsb25nIGFzIHdlIGRvIHRvcC1kb3duIHN1YnNjcmlwdGlvbnMgY29ycmVjdGx5LCBidXRcbiAgICAgIC8vIGlmIHdlIGV2ZXIgZG8gdGhvc2Ugd3JvbmcsIHRoaXMgdGhyb3cgd2lsbCBzdXJmYWNlIHRoZSBlcnJvciBpbiBvdXIgdGVzdHMuXG4gICAgICAvLyBJbiB0aGF0IGNhc2UsIHRocm93IHRoZSBlcnJvciBmcm9tIGhlcmUgc28gaXQgZG9lc24ndCBnZXQgbG9zdC5cbiAgICAgIHRocm93IGxhc3RUaHJvd25FcnJvcjtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVuc3Vic2NyaWJlV3JhcHBlcjtcbn1cblxudmFyIGluaXRTdGF0ZVVwZGF0ZXMgPSBmdW5jdGlvbiBpbml0U3RhdGVVcGRhdGVzKCkge1xuICByZXR1cm4gW251bGwsIDBdO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29ubmVjdEFkdmFuY2VkKFxuLypcclxuICBzZWxlY3RvckZhY3RvcnkgaXMgYSBmdW5jIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJldHVybmluZyB0aGUgc2VsZWN0b3IgZnVuY3Rpb24gdXNlZCB0b1xyXG4gIGNvbXB1dGUgbmV3IHByb3BzIGZyb20gc3RhdGUsIHByb3BzLCBhbmQgZGlzcGF0Y2guIEZvciBleGFtcGxlOlxyXG4gICAgICBleHBvcnQgZGVmYXVsdCBjb25uZWN0QWR2YW5jZWQoKGRpc3BhdGNoLCBvcHRpb25zKSA9PiAoc3RhdGUsIHByb3BzKSA9PiAoe1xyXG4gICAgICB0aGluZzogc3RhdGUudGhpbmdzW3Byb3BzLnRoaW5nSWRdLFxyXG4gICAgICBzYXZlVGhpbmc6IGZpZWxkcyA9PiBkaXNwYXRjaChhY3Rpb25DcmVhdG9ycy5zYXZlVGhpbmcocHJvcHMudGhpbmdJZCwgZmllbGRzKSksXHJcbiAgICB9KSkoWW91ckNvbXBvbmVudClcclxuICAgIEFjY2VzcyB0byBkaXNwYXRjaCBpcyBwcm92aWRlZCB0byB0aGUgZmFjdG9yeSBzbyBzZWxlY3RvckZhY3RvcmllcyBjYW4gYmluZCBhY3Rpb25DcmVhdG9yc1xyXG4gIG91dHNpZGUgb2YgdGhlaXIgc2VsZWN0b3IgYXMgYW4gb3B0aW1pemF0aW9uLiBPcHRpb25zIHBhc3NlZCB0byBjb25uZWN0QWR2YW5jZWQgYXJlIHBhc3NlZCB0b1xyXG4gIHRoZSBzZWxlY3RvckZhY3RvcnksIGFsb25nIHdpdGggZGlzcGxheU5hbWUgYW5kIFdyYXBwZWRDb21wb25lbnQsIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQuXHJcbiAgICBOb3RlIHRoYXQgc2VsZWN0b3JGYWN0b3J5IGlzIHJlc3BvbnNpYmxlIGZvciBhbGwgY2FjaGluZy9tZW1vaXphdGlvbiBvZiBpbmJvdW5kIGFuZCBvdXRib3VuZFxyXG4gIHByb3BzLiBEbyBub3QgdXNlIGNvbm5lY3RBZHZhbmNlZCBkaXJlY3RseSB3aXRob3V0IG1lbW9pemluZyByZXN1bHRzIGJldHdlZW4gY2FsbHMgdG8geW91clxyXG4gIHNlbGVjdG9yLCBvdGhlcndpc2UgdGhlIENvbm5lY3QgY29tcG9uZW50IHdpbGwgcmUtcmVuZGVyIG9uIGV2ZXJ5IHN0YXRlIG9yIHByb3BzIGNoYW5nZS5cclxuKi9cbnNlbGVjdG9yRmFjdG9yeSwgLy8gb3B0aW9ucyBvYmplY3Q6XG5fcmVmKSB7XG4gIGlmIChfcmVmID09PSB2b2lkIDApIHtcbiAgICBfcmVmID0ge307XG4gIH1cblxuICB2YXIgX3JlZjIgPSBfcmVmLFxuICAgICAgX3JlZjIkZ2V0RGlzcGxheU5hbWUgPSBfcmVmMi5nZXREaXNwbGF5TmFtZSxcbiAgICAgIGdldERpc3BsYXlOYW1lID0gX3JlZjIkZ2V0RGlzcGxheU5hbWUgPT09IHZvaWQgMCA/IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIFwiQ29ubmVjdEFkdmFuY2VkKFwiICsgbmFtZSArIFwiKVwiO1xuICB9IDogX3JlZjIkZ2V0RGlzcGxheU5hbWUsXG4gICAgICBfcmVmMiRtZXRob2ROYW1lID0gX3JlZjIubWV0aG9kTmFtZSxcbiAgICAgIG1ldGhvZE5hbWUgPSBfcmVmMiRtZXRob2ROYW1lID09PSB2b2lkIDAgPyAnY29ubmVjdEFkdmFuY2VkJyA6IF9yZWYyJG1ldGhvZE5hbWUsXG4gICAgICBfcmVmMiRyZW5kZXJDb3VudFByb3AgPSBfcmVmMi5yZW5kZXJDb3VudFByb3AsXG4gICAgICByZW5kZXJDb3VudFByb3AgPSBfcmVmMiRyZW5kZXJDb3VudFByb3AgPT09IHZvaWQgMCA/IHVuZGVmaW5lZCA6IF9yZWYyJHJlbmRlckNvdW50UHJvcCxcbiAgICAgIF9yZWYyJHNob3VsZEhhbmRsZVN0YSA9IF9yZWYyLnNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcyxcbiAgICAgIHNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcyA9IF9yZWYyJHNob3VsZEhhbmRsZVN0YSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYyJHNob3VsZEhhbmRsZVN0YSxcbiAgICAgIF9yZWYyJHN0b3JlS2V5ID0gX3JlZjIuc3RvcmVLZXksXG4gICAgICBzdG9yZUtleSA9IF9yZWYyJHN0b3JlS2V5ID09PSB2b2lkIDAgPyAnc3RvcmUnIDogX3JlZjIkc3RvcmVLZXksXG4gICAgICBfcmVmMiR3aXRoUmVmID0gX3JlZjIud2l0aFJlZixcbiAgICAgIHdpdGhSZWYgPSBfcmVmMiR3aXRoUmVmID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyJHdpdGhSZWYsXG4gICAgICBfcmVmMiRmb3J3YXJkUmVmID0gX3JlZjIuZm9yd2FyZFJlZixcbiAgICAgIGZvcndhcmRSZWYgPSBfcmVmMiRmb3J3YXJkUmVmID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyJGZvcndhcmRSZWYsXG4gICAgICBfcmVmMiRjb250ZXh0ID0gX3JlZjIuY29udGV4dCxcbiAgICAgIGNvbnRleHQgPSBfcmVmMiRjb250ZXh0ID09PSB2b2lkIDAgPyBSZWFjdFJlZHV4Q29udGV4dCA6IF9yZWYyJGNvbnRleHQsXG4gICAgICBjb25uZWN0T3B0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYyLCBfZXhjbHVkZWQpO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKHJlbmRlckNvdW50UHJvcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZW5kZXJDb3VudFByb3AgaXMgcmVtb3ZlZC4gcmVuZGVyIGNvdW50aW5nIGlzIGJ1aWx0IGludG8gdGhlIGxhdGVzdCBSZWFjdCBEZXYgVG9vbHMgcHJvZmlsaW5nIGV4dGVuc2lvblwiKTtcbiAgICB9XG5cbiAgICBpZiAod2l0aFJlZikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd3aXRoUmVmIGlzIHJlbW92ZWQuIFRvIGFjY2VzcyB0aGUgd3JhcHBlZCBpbnN0YW5jZSwgdXNlIGEgcmVmIG9uIHRoZSBjb25uZWN0ZWQgY29tcG9uZW50Jyk7XG4gICAgfVxuXG4gICAgdmFyIGN1c3RvbVN0b3JlV2FybmluZ01lc3NhZ2UgPSAnVG8gdXNlIGEgY3VzdG9tIFJlZHV4IHN0b3JlIGZvciBzcGVjaWZpYyBjb21wb25lbnRzLCBjcmVhdGUgYSBjdXN0b20gUmVhY3QgY29udGV4dCB3aXRoICcgKyBcIlJlYWN0LmNyZWF0ZUNvbnRleHQoKSwgYW5kIHBhc3MgdGhlIGNvbnRleHQgb2JqZWN0IHRvIFJlYWN0IFJlZHV4J3MgUHJvdmlkZXIgYW5kIHNwZWNpZmljIGNvbXBvbmVudHNcIiArICcgbGlrZTogPFByb3ZpZGVyIGNvbnRleHQ9e015Q29udGV4dH0+PENvbm5lY3RlZENvbXBvbmVudCBjb250ZXh0PXtNeUNvbnRleHR9IC8+PC9Qcm92aWRlcj4uICcgKyAnWW91IG1heSBhbHNvIHBhc3MgYSB7Y29udGV4dCA6IE15Q29udGV4dH0gb3B0aW9uIHRvIGNvbm5lY3QnO1xuXG4gICAgaWYgKHN0b3JlS2V5ICE9PSAnc3RvcmUnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0b3JlS2V5IGhhcyBiZWVuIHJlbW92ZWQgYW5kIGRvZXMgbm90IGRvIGFueXRoaW5nLiAnICsgY3VzdG9tU3RvcmVXYXJuaW5nTWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIENvbnRleHQgPSBjb250ZXh0O1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcFdpdGhDb25uZWN0KFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhaXNWYWxpZEVsZW1lbnRUeXBlKFdyYXBwZWRDb21wb25lbnQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGEgY29tcG9uZW50IHRvIHRoZSBmdW5jdGlvbiByZXR1cm5lZCBieSBcIiArIChtZXRob2ROYW1lICsgXCIuIEluc3RlYWQgcmVjZWl2ZWQgXCIgKyBzdHJpbmdpZnlDb21wb25lbnQoV3JhcHBlZENvbXBvbmVudCkpKTtcbiAgICB9XG5cbiAgICB2YXIgd3JhcHBlZENvbXBvbmVudE5hbWUgPSBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JztcbiAgICB2YXIgZGlzcGxheU5hbWUgPSBnZXREaXNwbGF5TmFtZSh3cmFwcGVkQ29tcG9uZW50TmFtZSk7XG5cbiAgICB2YXIgc2VsZWN0b3JGYWN0b3J5T3B0aW9ucyA9IF9leHRlbmRzKHt9LCBjb25uZWN0T3B0aW9ucywge1xuICAgICAgZ2V0RGlzcGxheU5hbWU6IGdldERpc3BsYXlOYW1lLFxuICAgICAgbWV0aG9kTmFtZTogbWV0aG9kTmFtZSxcbiAgICAgIHJlbmRlckNvdW50UHJvcDogcmVuZGVyQ291bnRQcm9wLFxuICAgICAgc2hvdWxkSGFuZGxlU3RhdGVDaGFuZ2VzOiBzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMsXG4gICAgICBzdG9yZUtleTogc3RvcmVLZXksXG4gICAgICBkaXNwbGF5TmFtZTogZGlzcGxheU5hbWUsXG4gICAgICB3cmFwcGVkQ29tcG9uZW50TmFtZTogd3JhcHBlZENvbXBvbmVudE5hbWUsXG4gICAgICBXcmFwcGVkQ29tcG9uZW50OiBXcmFwcGVkQ29tcG9uZW50XG4gICAgfSk7XG5cbiAgICB2YXIgcHVyZSA9IGNvbm5lY3RPcHRpb25zLnB1cmU7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVDaGlsZFNlbGVjdG9yKHN0b3JlKSB7XG4gICAgICByZXR1cm4gc2VsZWN0b3JGYWN0b3J5KHN0b3JlLmRpc3BhdGNoLCBzZWxlY3RvckZhY3RvcnlPcHRpb25zKTtcbiAgICB9IC8vIElmIHdlIGFyZW4ndCBydW5uaW5nIGluIFwicHVyZVwiIG1vZGUsIHdlIGRvbid0IHdhbnQgdG8gbWVtb2l6ZSB2YWx1ZXMuXG4gICAgLy8gVG8gYXZvaWQgY29uZGl0aW9uYWxseSBjYWxsaW5nIGhvb2tzLCB3ZSBmYWxsIGJhY2sgdG8gYSB0aW55IHdyYXBwZXJcbiAgICAvLyB0aGF0IGp1c3QgZXhlY3V0ZXMgdGhlIGdpdmVuIGNhbGxiYWNrIGltbWVkaWF0ZWx5LlxuXG5cbiAgICB2YXIgdXNlUHVyZU9ubHlNZW1vID0gcHVyZSA/IHVzZU1lbW8gOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBDb25uZWN0RnVuY3Rpb24ocHJvcHMpIHtcbiAgICAgIHZhciBfdXNlTWVtbyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBEaXN0aW5ndWlzaCBiZXR3ZWVuIGFjdHVhbCBcImRhdGFcIiBwcm9wcyB0aGF0IHdlcmUgcGFzc2VkIHRvIHRoZSB3cmFwcGVyIGNvbXBvbmVudCxcbiAgICAgICAgLy8gYW5kIHZhbHVlcyBuZWVkZWQgdG8gY29udHJvbCBiZWhhdmlvciAoZm9yd2FyZGVkIHJlZnMsIGFsdGVybmF0ZSBjb250ZXh0IGluc3RhbmNlcykuXG4gICAgICAgIC8vIFRvIG1haW50YWluIHRoZSB3cmFwcGVyUHJvcHMgb2JqZWN0IHJlZmVyZW5jZSwgbWVtb2l6ZSB0aGlzIGRlc3RydWN0dXJpbmcuXG4gICAgICAgIHZhciByZWFjdFJlZHV4Rm9yd2FyZGVkUmVmID0gcHJvcHMucmVhY3RSZWR1eEZvcndhcmRlZFJlZixcbiAgICAgICAgICAgIHdyYXBwZXJQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQyKTtcblxuICAgICAgICByZXR1cm4gW3Byb3BzLmNvbnRleHQsIHJlYWN0UmVkdXhGb3J3YXJkZWRSZWYsIHdyYXBwZXJQcm9wc107XG4gICAgICB9LCBbcHJvcHNdKSxcbiAgICAgICAgICBwcm9wc0NvbnRleHQgPSBfdXNlTWVtb1swXSxcbiAgICAgICAgICByZWFjdFJlZHV4Rm9yd2FyZGVkUmVmID0gX3VzZU1lbW9bMV0sXG4gICAgICAgICAgd3JhcHBlclByb3BzID0gX3VzZU1lbW9bMl07XG5cbiAgICAgIHZhciBDb250ZXh0VG9Vc2UgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVXNlcnMgbWF5IG9wdGlvbmFsbHkgcGFzcyBpbiBhIGN1c3RvbSBjb250ZXh0IGluc3RhbmNlIHRvIHVzZSBpbnN0ZWFkIG9mIG91ciBSZWFjdFJlZHV4Q29udGV4dC5cbiAgICAgICAgLy8gTWVtb2l6ZSB0aGUgY2hlY2sgdGhhdCBkZXRlcm1pbmVzIHdoaWNoIGNvbnRleHQgaW5zdGFuY2Ugd2Ugc2hvdWxkIHVzZS5cbiAgICAgICAgcmV0dXJuIHByb3BzQ29udGV4dCAmJiBwcm9wc0NvbnRleHQuQ29uc3VtZXIgJiYgaXNDb250ZXh0Q29uc3VtZXIoIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KHByb3BzQ29udGV4dC5Db25zdW1lciwgbnVsbCkpID8gcHJvcHNDb250ZXh0IDogQ29udGV4dDtcbiAgICAgIH0sIFtwcm9wc0NvbnRleHQsIENvbnRleHRdKTsgLy8gUmV0cmlldmUgdGhlIHN0b3JlIGFuZCBhbmNlc3RvciBzdWJzY3JpcHRpb24gdmlhIGNvbnRleHQsIGlmIGF2YWlsYWJsZVxuXG4gICAgICB2YXIgY29udGV4dFZhbHVlID0gdXNlQ29udGV4dChDb250ZXh0VG9Vc2UpOyAvLyBUaGUgc3RvcmUgX211c3RfIGV4aXN0IGFzIGVpdGhlciBhIHByb3Agb3IgaW4gY29udGV4dC5cbiAgICAgIC8vIFdlJ2xsIGNoZWNrIHRvIHNlZSBpZiBpdCBfbG9va3NfIGxpa2UgYSBSZWR1eCBzdG9yZSBmaXJzdC5cbiAgICAgIC8vIFRoaXMgYWxsb3dzIHVzIHRvIHBhc3MgdGhyb3VnaCBhIGBzdG9yZWAgcHJvcCB0aGF0IGlzIGp1c3QgYSBwbGFpbiB2YWx1ZS5cblxuICAgICAgdmFyIGRpZFN0b3JlQ29tZUZyb21Qcm9wcyA9IEJvb2xlYW4ocHJvcHMuc3RvcmUpICYmIEJvb2xlYW4ocHJvcHMuc3RvcmUuZ2V0U3RhdGUpICYmIEJvb2xlYW4ocHJvcHMuc3RvcmUuZGlzcGF0Y2gpO1xuICAgICAgdmFyIGRpZFN0b3JlQ29tZUZyb21Db250ZXh0ID0gQm9vbGVhbihjb250ZXh0VmFsdWUpICYmIEJvb2xlYW4oY29udGV4dFZhbHVlLnN0b3JlKTtcblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWRpZFN0b3JlQ29tZUZyb21Qcm9wcyAmJiAhZGlkU3RvcmVDb21lRnJvbUNvbnRleHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGZpbmQgXFxcInN0b3JlXFxcIiBpbiB0aGUgY29udGV4dCBvZiBcIiArIChcIlxcXCJcIiArIGRpc3BsYXlOYW1lICsgXCJcXFwiLiBFaXRoZXIgd3JhcCB0aGUgcm9vdCBjb21wb25lbnQgaW4gYSA8UHJvdmlkZXI+LCBcIikgKyBcIm9yIHBhc3MgYSBjdXN0b20gUmVhY3QgY29udGV4dCBwcm92aWRlciB0byA8UHJvdmlkZXI+IGFuZCB0aGUgY29ycmVzcG9uZGluZyBcIiArIChcIlJlYWN0IGNvbnRleHQgY29uc3VtZXIgdG8gXCIgKyBkaXNwbGF5TmFtZSArIFwiIGluIGNvbm5lY3Qgb3B0aW9ucy5cIikpO1xuICAgICAgfSAvLyBCYXNlZCBvbiB0aGUgcHJldmlvdXMgY2hlY2ssIG9uZSBvZiB0aGVzZSBtdXN0IGJlIHRydWVcblxuXG4gICAgICB2YXIgc3RvcmUgPSBkaWRTdG9yZUNvbWVGcm9tUHJvcHMgPyBwcm9wcy5zdG9yZSA6IGNvbnRleHRWYWx1ZS5zdG9yZTtcbiAgICAgIHZhciBjaGlsZFByb3BzU2VsZWN0b3IgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVGhlIGNoaWxkIHByb3BzIHNlbGVjdG9yIG5lZWRzIHRoZSBzdG9yZSByZWZlcmVuY2UgYXMgYW4gaW5wdXQuXG4gICAgICAgIC8vIFJlLWNyZWF0ZSB0aGlzIHNlbGVjdG9yIHdoZW5ldmVyIHRoZSBzdG9yZSBjaGFuZ2VzLlxuICAgICAgICByZXR1cm4gY3JlYXRlQ2hpbGRTZWxlY3RvcihzdG9yZSk7XG4gICAgICB9LCBbc3RvcmVdKTtcblxuICAgICAgdmFyIF91c2VNZW1vMiA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcykgcmV0dXJuIE5PX1NVQlNDUklQVElPTl9BUlJBWTsgLy8gVGhpcyBTdWJzY3JpcHRpb24ncyBzb3VyY2Ugc2hvdWxkIG1hdGNoIHdoZXJlIHN0b3JlIGNhbWUgZnJvbTogcHJvcHMgdnMuIGNvbnRleHQuIEEgY29tcG9uZW50XG4gICAgICAgIC8vIGNvbm5lY3RlZCB0byB0aGUgc3RvcmUgdmlhIHByb3BzIHNob3VsZG4ndCB1c2Ugc3Vic2NyaXB0aW9uIGZyb20gY29udGV4dCwgb3IgdmljZSB2ZXJzYS5cblxuICAgICAgICAvLyBUaGlzIFN1YnNjcmlwdGlvbidzIHNvdXJjZSBzaG91bGQgbWF0Y2ggd2hlcmUgc3RvcmUgY2FtZSBmcm9tOiBwcm9wcyB2cy4gY29udGV4dC4gQSBjb21wb25lbnRcbiAgICAgICAgLy8gY29ubmVjdGVkIHRvIHRoZSBzdG9yZSB2aWEgcHJvcHMgc2hvdWxkbid0IHVzZSBzdWJzY3JpcHRpb24gZnJvbSBjb250ZXh0LCBvciB2aWNlIHZlcnNhLlxuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gY3JlYXRlU3Vic2NyaXB0aW9uKHN0b3JlLCBkaWRTdG9yZUNvbWVGcm9tUHJvcHMgPyBudWxsIDogY29udGV4dFZhbHVlLnN1YnNjcmlwdGlvbik7IC8vIGBub3RpZnlOZXN0ZWRTdWJzYCBpcyBkdXBsaWNhdGVkIHRvIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZCBpblxuICAgICAgICAvLyB0aGUgbWlkZGxlIG9mIHRoZSBub3RpZmljYXRpb24gbG9vcCwgd2hlcmUgYHN1YnNjcmlwdGlvbmAgd2lsbCB0aGVuIGJlIG51bGwuIFRoaXMgY2FuXG4gICAgICAgIC8vIHByb2JhYmx5IGJlIGF2b2lkZWQgaWYgU3Vic2NyaXB0aW9uJ3MgbGlzdGVuZXJzIGxvZ2ljIGlzIGNoYW5nZWQgdG8gbm90IGNhbGwgbGlzdGVuZXJzXG4gICAgICAgIC8vIHRoYXQgaGF2ZSBiZWVuIHVuc3Vic2NyaWJlZCBpbiB0aGUgIG1pZGRsZSBvZiB0aGUgbm90aWZpY2F0aW9uIGxvb3AuXG5cbiAgICAgICAgLy8gYG5vdGlmeU5lc3RlZFN1YnNgIGlzIGR1cGxpY2F0ZWQgdG8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGluXG4gICAgICAgIC8vIHRoZSBtaWRkbGUgb2YgdGhlIG5vdGlmaWNhdGlvbiBsb29wLCB3aGVyZSBgc3Vic2NyaXB0aW9uYCB3aWxsIHRoZW4gYmUgbnVsbC4gVGhpcyBjYW5cbiAgICAgICAgLy8gcHJvYmFibHkgYmUgYXZvaWRlZCBpZiBTdWJzY3JpcHRpb24ncyBsaXN0ZW5lcnMgbG9naWMgaXMgY2hhbmdlZCB0byBub3QgY2FsbCBsaXN0ZW5lcnNcbiAgICAgICAgLy8gdGhhdCBoYXZlIGJlZW4gdW5zdWJzY3JpYmVkIGluIHRoZSAgbWlkZGxlIG9mIHRoZSBub3RpZmljYXRpb24gbG9vcC5cbiAgICAgICAgdmFyIG5vdGlmeU5lc3RlZFN1YnMgPSBzdWJzY3JpcHRpb24ubm90aWZ5TmVzdGVkU3Vicy5iaW5kKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIHJldHVybiBbc3Vic2NyaXB0aW9uLCBub3RpZnlOZXN0ZWRTdWJzXTtcbiAgICAgIH0sIFtzdG9yZSwgZGlkU3RvcmVDb21lRnJvbVByb3BzLCBjb250ZXh0VmFsdWVdKSxcbiAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfdXNlTWVtbzJbMF0sXG4gICAgICAgICAgbm90aWZ5TmVzdGVkU3VicyA9IF91c2VNZW1vMlsxXTsgLy8gRGV0ZXJtaW5lIHdoYXQge3N0b3JlLCBzdWJzY3JpcHRpb259IHZhbHVlIHNob3VsZCBiZSBwdXQgaW50byBuZXN0ZWQgY29udGV4dCwgaWYgbmVjZXNzYXJ5LFxuICAgICAgLy8gYW5kIG1lbW9pemUgdGhhdCB2YWx1ZSB0byBhdm9pZCB1bm5lY2Vzc2FyeSBjb250ZXh0IHVwZGF0ZXMuXG5cblxuICAgICAgdmFyIG92ZXJyaWRkZW5Db250ZXh0VmFsdWUgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGRpZFN0b3JlQ29tZUZyb21Qcm9wcykge1xuICAgICAgICAgIC8vIFRoaXMgY29tcG9uZW50IGlzIGRpcmVjdGx5IHN1YnNjcmliZWQgdG8gYSBzdG9yZSBmcm9tIHByb3BzLlxuICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgZGVzY2VuZGFudHMgcmVhZGluZyBmcm9tIHRoaXMgc3RvcmUgLSBwYXNzIGRvd24gd2hhdGV2ZXJcbiAgICAgICAgICAvLyB0aGUgZXhpc3RpbmcgY29udGV4dCB2YWx1ZSBpcyBmcm9tIHRoZSBuZWFyZXN0IGNvbm5lY3RlZCBhbmNlc3Rvci5cbiAgICAgICAgICByZXR1cm4gY29udGV4dFZhbHVlO1xuICAgICAgICB9IC8vIE90aGVyd2lzZSwgcHV0IHRoaXMgY29tcG9uZW50J3Mgc3Vic2NyaXB0aW9uIGluc3RhbmNlIGludG8gY29udGV4dCwgc28gdGhhdFxuICAgICAgICAvLyBjb25uZWN0ZWQgZGVzY2VuZGFudHMgd29uJ3QgdXBkYXRlIHVudGlsIGFmdGVyIHRoaXMgY29tcG9uZW50IGlzIGRvbmVcblxuXG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgY29udGV4dFZhbHVlLCB7XG4gICAgICAgICAgc3Vic2NyaXB0aW9uOiBzdWJzY3JpcHRpb25cbiAgICAgICAgfSk7XG4gICAgICB9LCBbZGlkU3RvcmVDb21lRnJvbVByb3BzLCBjb250ZXh0VmFsdWUsIHN1YnNjcmlwdGlvbl0pOyAvLyBXZSBuZWVkIHRvIGZvcmNlIHRoaXMgd3JhcHBlciBjb21wb25lbnQgdG8gcmUtcmVuZGVyIHdoZW5ldmVyIGEgUmVkdXggc3RvcmUgdXBkYXRlXG4gICAgICAvLyBjYXVzZXMgYSBjaGFuZ2UgdG8gdGhlIGNhbGN1bGF0ZWQgY2hpbGQgY29tcG9uZW50IHByb3BzIChvciB3ZSBjYXVnaHQgYW4gZXJyb3IgaW4gbWFwU3RhdGUpXG5cbiAgICAgIHZhciBfdXNlUmVkdWNlciA9IHVzZVJlZHVjZXIoc3RvcmVTdGF0ZVVwZGF0ZXNSZWR1Y2VyLCBFTVBUWV9BUlJBWSwgaW5pdFN0YXRlVXBkYXRlcyksXG4gICAgICAgICAgX3VzZVJlZHVjZXIkID0gX3VzZVJlZHVjZXJbMF0sXG4gICAgICAgICAgcHJldmlvdXNTdGF0ZVVwZGF0ZVJlc3VsdCA9IF91c2VSZWR1Y2VyJFswXSxcbiAgICAgICAgICBmb3JjZUNvbXBvbmVudFVwZGF0ZURpc3BhdGNoID0gX3VzZVJlZHVjZXJbMV07IC8vIFByb3BhZ2F0ZSBhbnkgbWFwU3RhdGUvbWFwRGlzcGF0Y2ggZXJyb3JzIHVwd2FyZHNcblxuXG4gICAgICBpZiAocHJldmlvdXNTdGF0ZVVwZGF0ZVJlc3VsdCAmJiBwcmV2aW91c1N0YXRlVXBkYXRlUmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHRocm93IHByZXZpb3VzU3RhdGVVcGRhdGVSZXN1bHQuZXJyb3I7XG4gICAgICB9IC8vIFNldCB1cCByZWZzIHRvIGNvb3JkaW5hdGUgdmFsdWVzIGJldHdlZW4gdGhlIHN1YnNjcmlwdGlvbiBlZmZlY3QgYW5kIHRoZSByZW5kZXIgbG9naWNcblxuXG4gICAgICB2YXIgbGFzdENoaWxkUHJvcHMgPSB1c2VSZWYoKTtcbiAgICAgIHZhciBsYXN0V3JhcHBlclByb3BzID0gdXNlUmVmKHdyYXBwZXJQcm9wcyk7XG4gICAgICB2YXIgY2hpbGRQcm9wc0Zyb21TdG9yZVVwZGF0ZSA9IHVzZVJlZigpO1xuICAgICAgdmFyIHJlbmRlcklzU2NoZWR1bGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgICAgIHZhciBhY3R1YWxDaGlsZFByb3BzID0gdXNlUHVyZU9ubHlNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVHJpY2t5IGxvZ2ljIGhlcmU6XG4gICAgICAgIC8vIC0gVGhpcyByZW5kZXIgbWF5IGhhdmUgYmVlbiB0cmlnZ2VyZWQgYnkgYSBSZWR1eCBzdG9yZSB1cGRhdGUgdGhhdCBwcm9kdWNlZCBuZXcgY2hpbGQgcHJvcHNcbiAgICAgICAgLy8gLSBIb3dldmVyLCB3ZSBtYXkgaGF2ZSBnb3R0ZW4gbmV3IHdyYXBwZXIgcHJvcHMgYWZ0ZXIgdGhhdFxuICAgICAgICAvLyBJZiB3ZSBoYXZlIG5ldyBjaGlsZCBwcm9wcywgYW5kIHRoZSBzYW1lIHdyYXBwZXIgcHJvcHMsIHdlIGtub3cgd2Ugc2hvdWxkIHVzZSB0aGUgbmV3IGNoaWxkIHByb3BzIGFzLWlzLlxuICAgICAgICAvLyBCdXQsIGlmIHdlIGhhdmUgbmV3IHdyYXBwZXIgcHJvcHMsIHRob3NlIG1pZ2h0IGNoYW5nZSB0aGUgY2hpbGQgcHJvcHMsIHNvIHdlIGhhdmUgdG8gcmVjYWxjdWxhdGUgdGhpbmdzLlxuICAgICAgICAvLyBTbywgd2UnbGwgdXNlIHRoZSBjaGlsZCBwcm9wcyBmcm9tIHN0b3JlIHVwZGF0ZSBvbmx5IGlmIHRoZSB3cmFwcGVyIHByb3BzIGFyZSB0aGUgc2FtZSBhcyBsYXN0IHRpbWUuXG4gICAgICAgIGlmIChjaGlsZFByb3BzRnJvbVN0b3JlVXBkYXRlLmN1cnJlbnQgJiYgd3JhcHBlclByb3BzID09PSBsYXN0V3JhcHBlclByb3BzLmN1cnJlbnQpIHtcbiAgICAgICAgICByZXR1cm4gY2hpbGRQcm9wc0Zyb21TdG9yZVVwZGF0ZS5jdXJyZW50O1xuICAgICAgICB9IC8vIFRPRE8gV2UncmUgcmVhZGluZyB0aGUgc3RvcmUgZGlyZWN0bHkgaW4gcmVuZGVyKCkgaGVyZS4gQmFkIGlkZWE/XG4gICAgICAgIC8vIFRoaXMgd2lsbCBsaWtlbHkgY2F1c2UgQmFkIFRoaW5ncyAoVE0pIHRvIGhhcHBlbiBpbiBDb25jdXJyZW50IE1vZGUuXG4gICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBkbyB0aGlzIGJlY2F1c2Ugb24gcmVuZGVycyBfbm90XyBjYXVzZWQgYnkgc3RvcmUgdXBkYXRlcywgd2UgbmVlZCB0aGUgbGF0ZXN0IHN0b3JlIHN0YXRlXG4gICAgICAgIC8vIHRvIGRldGVybWluZSB3aGF0IHRoZSBjaGlsZCBwcm9wcyBzaG91bGQgYmUuXG5cblxuICAgICAgICByZXR1cm4gY2hpbGRQcm9wc1NlbGVjdG9yKHN0b3JlLmdldFN0YXRlKCksIHdyYXBwZXJQcm9wcyk7XG4gICAgICB9LCBbc3RvcmUsIHByZXZpb3VzU3RhdGVVcGRhdGVSZXN1bHQsIHdyYXBwZXJQcm9wc10pOyAvLyBXZSBuZWVkIHRoaXMgdG8gZXhlY3V0ZSBzeW5jaHJvbm91c2x5IGV2ZXJ5IHRpbWUgd2UgcmUtcmVuZGVyLiBIb3dldmVyLCBSZWFjdCB3YXJuc1xuICAgICAgLy8gYWJvdXQgdXNlTGF5b3V0RWZmZWN0IGluIFNTUiwgc28gd2UgdHJ5IHRvIGRldGVjdCBlbnZpcm9ubWVudCBhbmQgZmFsbCBiYWNrIHRvXG4gICAgICAvLyBqdXN0IHVzZUVmZmVjdCBpbnN0ZWFkIHRvIGF2b2lkIHRoZSB3YXJuaW5nLCBzaW5jZSBuZWl0aGVyIHdpbGwgcnVuIGFueXdheS5cblxuICAgICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdFdpdGhBcmdzKGNhcHR1cmVXcmFwcGVyUHJvcHMsIFtsYXN0V3JhcHBlclByb3BzLCBsYXN0Q2hpbGRQcm9wcywgcmVuZGVySXNTY2hlZHVsZWQsIHdyYXBwZXJQcm9wcywgYWN0dWFsQ2hpbGRQcm9wcywgY2hpbGRQcm9wc0Zyb21TdG9yZVVwZGF0ZSwgbm90aWZ5TmVzdGVkU3Vic10pOyAvLyBPdXIgcmUtc3Vic2NyaWJlIGxvZ2ljIG9ubHkgcnVucyB3aGVuIHRoZSBzdG9yZS9zdWJzY3JpcHRpb24gc2V0dXAgY2hhbmdlc1xuXG4gICAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0V2l0aEFyZ3Moc3Vic2NyaWJlVXBkYXRlcywgW3Nob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcywgc3RvcmUsIHN1YnNjcmlwdGlvbiwgY2hpbGRQcm9wc1NlbGVjdG9yLCBsYXN0V3JhcHBlclByb3BzLCBsYXN0Q2hpbGRQcm9wcywgcmVuZGVySXNTY2hlZHVsZWQsIGNoaWxkUHJvcHNGcm9tU3RvcmVVcGRhdGUsIG5vdGlmeU5lc3RlZFN1YnMsIGZvcmNlQ29tcG9uZW50VXBkYXRlRGlzcGF0Y2hdLCBbc3RvcmUsIHN1YnNjcmlwdGlvbiwgY2hpbGRQcm9wc1NlbGVjdG9yXSk7IC8vIE5vdyB0aGF0IGFsbCB0aGF0J3MgZG9uZSwgd2UgY2FuIGZpbmFsbHkgdHJ5IHRvIGFjdHVhbGx5IHJlbmRlciB0aGUgY2hpbGQgY29tcG9uZW50LlxuICAgICAgLy8gV2UgbWVtb2l6ZSB0aGUgZWxlbWVudHMgZm9yIHRoZSByZW5kZXJlZCBjaGlsZCBjb21wb25lbnQgYXMgYW4gb3B0aW1pemF0aW9uLlxuXG4gICAgICB2YXIgcmVuZGVyZWRXcmFwcGVkQ29tcG9uZW50ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCBfZXh0ZW5kcyh7fSwgYWN0dWFsQ2hpbGRQcm9wcywge1xuICAgICAgICAgIHJlZjogcmVhY3RSZWR1eEZvcndhcmRlZFJlZlxuICAgICAgICB9KSk7XG4gICAgICB9LCBbcmVhY3RSZWR1eEZvcndhcmRlZFJlZiwgV3JhcHBlZENvbXBvbmVudCwgYWN0dWFsQ2hpbGRQcm9wc10pOyAvLyBJZiBSZWFjdCBzZWVzIHRoZSBleGFjdCBzYW1lIGVsZW1lbnQgcmVmZXJlbmNlIGFzIGxhc3QgdGltZSwgaXQgYmFpbHMgb3V0IG9mIHJlLXJlbmRlcmluZ1xuICAgICAgLy8gdGhhdCBjaGlsZCwgc2FtZSBhcyBpZiBpdCB3YXMgd3JhcHBlZCBpbiBSZWFjdC5tZW1vKCkgb3IgcmV0dXJuZWQgZmFsc2UgZnJvbSBzaG91bGRDb21wb25lbnRVcGRhdGUuXG5cbiAgICAgIHZhciByZW5kZXJlZENoaWxkID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChzaG91bGRIYW5kbGVTdGF0ZUNoYW5nZXMpIHtcbiAgICAgICAgICAvLyBJZiB0aGlzIGNvbXBvbmVudCBpcyBzdWJzY3JpYmVkIHRvIHN0b3JlIHVwZGF0ZXMsIHdlIG5lZWQgdG8gcGFzcyBpdHMgb3duXG4gICAgICAgICAgLy8gc3Vic2NyaXB0aW9uIGluc3RhbmNlIGRvd24gdG8gb3VyIGRlc2NlbmRhbnRzLiBUaGF0IG1lYW5zIHJlbmRlcmluZyB0aGUgc2FtZVxuICAgICAgICAgIC8vIENvbnRleHQgaW5zdGFuY2UsIGFuZCBwdXR0aW5nIGEgZGlmZmVyZW50IHZhbHVlIGludG8gdGhlIGNvbnRleHQuXG4gICAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvbnRleHRUb1VzZS5Qcm92aWRlciwge1xuICAgICAgICAgICAgdmFsdWU6IG92ZXJyaWRkZW5Db250ZXh0VmFsdWVcbiAgICAgICAgICB9LCByZW5kZXJlZFdyYXBwZWRDb21wb25lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmVkV3JhcHBlZENvbXBvbmVudDtcbiAgICAgIH0sIFtDb250ZXh0VG9Vc2UsIHJlbmRlcmVkV3JhcHBlZENvbXBvbmVudCwgb3ZlcnJpZGRlbkNvbnRleHRWYWx1ZV0pO1xuICAgICAgcmV0dXJuIHJlbmRlcmVkQ2hpbGQ7XG4gICAgfSAvLyBJZiB3ZSdyZSBpbiBcInB1cmVcIiBtb2RlLCBlbnN1cmUgb3VyIHdyYXBwZXIgY29tcG9uZW50IG9ubHkgcmUtcmVuZGVycyB3aGVuIGluY29taW5nIHByb3BzIGhhdmUgY2hhbmdlZC5cblxuXG4gICAgdmFyIENvbm5lY3QgPSBwdXJlID8gUmVhY3QubWVtbyhDb25uZWN0RnVuY3Rpb24pIDogQ29ubmVjdEZ1bmN0aW9uO1xuICAgIENvbm5lY3QuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG4gICAgQ29ubmVjdC5kaXNwbGF5TmFtZSA9IENvbm5lY3RGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuXG4gICAgaWYgKGZvcndhcmRSZWYpIHtcbiAgICAgIHZhciBmb3J3YXJkZWQgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIGZvcndhcmRDb25uZWN0UmVmKHByb3BzLCByZWYpIHtcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENvbm5lY3QsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICAgIHJlYWN0UmVkdXhGb3J3YXJkZWRSZWY6IHJlZlxuICAgICAgICB9KSk7XG4gICAgICB9KTtcbiAgICAgIGZvcndhcmRlZC5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICAgICAgZm9yd2FyZGVkLldyYXBwZWRDb21wb25lbnQgPSBXcmFwcGVkQ29tcG9uZW50O1xuICAgICAgcmV0dXJuIGhvaXN0U3RhdGljcyhmb3J3YXJkZWQsIFdyYXBwZWRDb21wb25lbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBob2lzdFN0YXRpY3MoQ29ubmVjdCwgV3JhcHBlZENvbXBvbmVudCk7XG4gIH07XG59IiwiZnVuY3Rpb24gaXMoeCwgeSkge1xuICBpZiAoeCA9PT0geSkge1xuICAgIHJldHVybiB4ICE9PSAwIHx8IHkgIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcbiAgaWYgKGlzKG9iakEsIG9iakIpKSByZXR1cm4gdHJ1ZTtcblxuICBpZiAodHlwZW9mIG9iakEgIT09ICdvYmplY3QnIHx8IG9iakEgPT09IG51bGwgfHwgdHlwZW9mIG9iakIgIT09ICdvYmplY3QnIHx8IG9iakIgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKTtcbiAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMob2JqQik7XG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmpCLCBrZXlzQVtpXSkgfHwgIWlzKG9iakFba2V5c0FbaV1dLCBvYmpCW2tleXNBW2ldXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn0iLCJpbXBvcnQgdmVyaWZ5UGxhaW5PYmplY3QgZnJvbSAnLi4vdXRpbHMvdmVyaWZ5UGxhaW5PYmplY3QnO1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBNYXBUb1Byb3BzQ29uc3RhbnQoZ2V0Q29uc3RhbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGluaXRDb25zdGFudFNlbGVjdG9yKGRpc3BhdGNoLCBvcHRpb25zKSB7XG4gICAgdmFyIGNvbnN0YW50ID0gZ2V0Q29uc3RhbnQoZGlzcGF0Y2gsIG9wdGlvbnMpO1xuXG4gICAgZnVuY3Rpb24gY29uc3RhbnRTZWxlY3RvcigpIHtcbiAgICAgIHJldHVybiBjb25zdGFudDtcbiAgICB9XG5cbiAgICBjb25zdGFudFNlbGVjdG9yLmRlcGVuZHNPbk93blByb3BzID0gZmFsc2U7XG4gICAgcmV0dXJuIGNvbnN0YW50U2VsZWN0b3I7XG4gIH07XG59IC8vIGRlcGVuZHNPbk93blByb3BzIGlzIHVzZWQgYnkgY3JlYXRlTWFwVG9Qcm9wc1Byb3h5IHRvIGRldGVybWluZSB3aGV0aGVyIHRvIHBhc3MgcHJvcHMgYXMgYXJnc1xuLy8gdG8gdGhlIG1hcFRvUHJvcHMgZnVuY3Rpb24gYmVpbmcgd3JhcHBlZC4gSXQgaXMgYWxzbyB1c2VkIGJ5IG1ha2VQdXJlUHJvcHNTZWxlY3RvciB0byBkZXRlcm1pbmVcbi8vIHdoZXRoZXIgbWFwVG9Qcm9wcyBuZWVkcyB0byBiZSBpbnZva2VkIHdoZW4gcHJvcHMgaGF2ZSBjaGFuZ2VkLlxuLy9cbi8vIEEgbGVuZ3RoIG9mIG9uZSBzaWduYWxzIHRoYXQgbWFwVG9Qcm9wcyBkb2VzIG5vdCBkZXBlbmQgb24gcHJvcHMgZnJvbSB0aGUgcGFyZW50IGNvbXBvbmVudC5cbi8vIEEgbGVuZ3RoIG9mIHplcm8gaXMgYXNzdW1lZCB0byBtZWFuIG1hcFRvUHJvcHMgaXMgZ2V0dGluZyBhcmdzIHZpYSBhcmd1bWVudHMgb3IgLi4uYXJncyBhbmRcbi8vIHRoZXJlZm9yZSBub3QgcmVwb3J0aW5nIGl0cyBsZW5ndGggYWNjdXJhdGVseS4uXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZXBlbmRzT25Pd25Qcm9wcyhtYXBUb1Byb3BzKSB7XG4gIHJldHVybiBtYXBUb1Byb3BzLmRlcGVuZHNPbk93blByb3BzICE9PSBudWxsICYmIG1hcFRvUHJvcHMuZGVwZW5kc09uT3duUHJvcHMgIT09IHVuZGVmaW5lZCA/IEJvb2xlYW4obWFwVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcykgOiBtYXBUb1Byb3BzLmxlbmd0aCAhPT0gMTtcbn0gLy8gVXNlZCBieSB3aGVuTWFwU3RhdGVUb1Byb3BzSXNGdW5jdGlvbiBhbmQgd2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzRnVuY3Rpb24sXG4vLyB0aGlzIGZ1bmN0aW9uIHdyYXBzIG1hcFRvUHJvcHMgaW4gYSBwcm94eSBmdW5jdGlvbiB3aGljaCBkb2VzIHNldmVyYWwgdGhpbmdzOlxuLy9cbi8vICAqIERldGVjdHMgd2hldGhlciB0aGUgbWFwVG9Qcm9wcyBmdW5jdGlvbiBiZWluZyBjYWxsZWQgZGVwZW5kcyBvbiBwcm9wcywgd2hpY2hcbi8vICAgIGlzIHVzZWQgYnkgc2VsZWN0b3JGYWN0b3J5IHRvIGRlY2lkZSBpZiBpdCBzaG91bGQgcmVpbnZva2Ugb24gcHJvcHMgY2hhbmdlcy5cbi8vXG4vLyAgKiBPbiBmaXJzdCBjYWxsLCBoYW5kbGVzIG1hcFRvUHJvcHMgaWYgcmV0dXJucyBhbm90aGVyIGZ1bmN0aW9uLCBhbmQgdHJlYXRzIHRoYXRcbi8vICAgIG5ldyBmdW5jdGlvbiBhcyB0aGUgdHJ1ZSBtYXBUb1Byb3BzIGZvciBzdWJzZXF1ZW50IGNhbGxzLlxuLy9cbi8vICAqIE9uIGZpcnN0IGNhbGwsIHZlcmlmaWVzIHRoZSBmaXJzdCByZXN1bHQgaXMgYSBwbGFpbiBvYmplY3QsIGluIG9yZGVyIHRvIHdhcm5cbi8vICAgIHRoZSBkZXZlbG9wZXIgdGhhdCB0aGVpciBtYXBUb1Byb3BzIGZ1bmN0aW9uIGlzIG5vdCByZXR1cm5pbmcgYSB2YWxpZCByZXN1bHQuXG4vL1xuXG5leHBvcnQgZnVuY3Rpb24gd3JhcE1hcFRvUHJvcHNGdW5jKG1hcFRvUHJvcHMsIG1ldGhvZE5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGluaXRQcm94eVNlbGVjdG9yKGRpc3BhdGNoLCBfcmVmKSB7XG4gICAgdmFyIGRpc3BsYXlOYW1lID0gX3JlZi5kaXNwbGF5TmFtZTtcblxuICAgIHZhciBwcm94eSA9IGZ1bmN0aW9uIG1hcFRvUHJvcHNQcm94eShzdGF0ZU9yRGlzcGF0Y2gsIG93blByb3BzKSB7XG4gICAgICByZXR1cm4gcHJveHkuZGVwZW5kc09uT3duUHJvcHMgPyBwcm94eS5tYXBUb1Byb3BzKHN0YXRlT3JEaXNwYXRjaCwgb3duUHJvcHMpIDogcHJveHkubWFwVG9Qcm9wcyhzdGF0ZU9yRGlzcGF0Y2gpO1xuICAgIH07IC8vIGFsbG93IGRldGVjdEZhY3RvcnlBbmRWZXJpZnkgdG8gZ2V0IG93blByb3BzXG5cblxuICAgIHByb3h5LmRlcGVuZHNPbk93blByb3BzID0gdHJ1ZTtcblxuICAgIHByb3h5Lm1hcFRvUHJvcHMgPSBmdW5jdGlvbiBkZXRlY3RGYWN0b3J5QW5kVmVyaWZ5KHN0YXRlT3JEaXNwYXRjaCwgb3duUHJvcHMpIHtcbiAgICAgIHByb3h5Lm1hcFRvUHJvcHMgPSBtYXBUb1Byb3BzO1xuICAgICAgcHJveHkuZGVwZW5kc09uT3duUHJvcHMgPSBnZXREZXBlbmRzT25Pd25Qcm9wcyhtYXBUb1Byb3BzKTtcbiAgICAgIHZhciBwcm9wcyA9IHByb3h5KHN0YXRlT3JEaXNwYXRjaCwgb3duUHJvcHMpO1xuXG4gICAgICBpZiAodHlwZW9mIHByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHByb3h5Lm1hcFRvUHJvcHMgPSBwcm9wcztcbiAgICAgICAgcHJveHkuZGVwZW5kc09uT3duUHJvcHMgPSBnZXREZXBlbmRzT25Pd25Qcm9wcyhwcm9wcyk7XG4gICAgICAgIHByb3BzID0gcHJveHkoc3RhdGVPckRpc3BhdGNoLCBvd25Qcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB2ZXJpZnlQbGFpbk9iamVjdChwcm9wcywgZGlzcGxheU5hbWUsIG1ldGhvZE5hbWUpO1xuICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH07XG5cbiAgICByZXR1cm4gcHJveHk7XG4gIH07XG59IiwiaW1wb3J0IGJpbmRBY3Rpb25DcmVhdG9ycyBmcm9tICcuLi91dGlscy9iaW5kQWN0aW9uQ3JlYXRvcnMnO1xuaW1wb3J0IHsgd3JhcE1hcFRvUHJvcHNDb25zdGFudCwgd3JhcE1hcFRvUHJvcHNGdW5jIH0gZnJvbSAnLi93cmFwTWFwVG9Qcm9wcyc7XG5leHBvcnQgZnVuY3Rpb24gd2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzRnVuY3Rpb24obWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gIHJldHVybiB0eXBlb2YgbWFwRGlzcGF0Y2hUb1Byb3BzID09PSAnZnVuY3Rpb24nID8gd3JhcE1hcFRvUHJvcHNGdW5jKG1hcERpc3BhdGNoVG9Qcm9wcywgJ21hcERpc3BhdGNoVG9Qcm9wcycpIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHdoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc01pc3NpbmcobWFwRGlzcGF0Y2hUb1Byb3BzKSB7XG4gIHJldHVybiAhbWFwRGlzcGF0Y2hUb1Byb3BzID8gd3JhcE1hcFRvUHJvcHNDb25zdGFudChmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGlzcGF0Y2g6IGRpc3BhdGNoXG4gICAgfTtcbiAgfSkgOiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gd2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzT2JqZWN0KG1hcERpc3BhdGNoVG9Qcm9wcykge1xuICByZXR1cm4gbWFwRGlzcGF0Y2hUb1Byb3BzICYmIHR5cGVvZiBtYXBEaXNwYXRjaFRvUHJvcHMgPT09ICdvYmplY3QnID8gd3JhcE1hcFRvUHJvcHNDb25zdGFudChmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3JzKG1hcERpc3BhdGNoVG9Qcm9wcywgZGlzcGF0Y2gpO1xuICB9KSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBkZWZhdWx0IFt3aGVuTWFwRGlzcGF0Y2hUb1Byb3BzSXNGdW5jdGlvbiwgd2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzTWlzc2luZywgd2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzT2JqZWN0XTsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG4gIHZhciBib3VuZEFjdGlvbkNyZWF0b3JzID0ge307XG5cbiAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3Aoa2V5KSB7XG4gICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKSk7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBmb3IgKHZhciBrZXkgaW4gYWN0aW9uQ3JlYXRvcnMpIHtcbiAgICBfbG9vcChrZXkpO1xuICB9XG5cbiAgcmV0dXJuIGJvdW5kQWN0aW9uQ3JlYXRvcnM7XG59IiwiaW1wb3J0IHsgd3JhcE1hcFRvUHJvcHNDb25zdGFudCwgd3JhcE1hcFRvUHJvcHNGdW5jIH0gZnJvbSAnLi93cmFwTWFwVG9Qcm9wcyc7XG5leHBvcnQgZnVuY3Rpb24gd2hlbk1hcFN0YXRlVG9Qcm9wc0lzRnVuY3Rpb24obWFwU3RhdGVUb1Byb3BzKSB7XG4gIHJldHVybiB0eXBlb2YgbWFwU3RhdGVUb1Byb3BzID09PSAnZnVuY3Rpb24nID8gd3JhcE1hcFRvUHJvcHNGdW5jKG1hcFN0YXRlVG9Qcm9wcywgJ21hcFN0YXRlVG9Qcm9wcycpIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHdoZW5NYXBTdGF0ZVRvUHJvcHNJc01pc3NpbmcobWFwU3RhdGVUb1Byb3BzKSB7XG4gIHJldHVybiAhbWFwU3RhdGVUb1Byb3BzID8gd3JhcE1hcFRvUHJvcHNDb25zdGFudChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9KSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBkZWZhdWx0IFt3aGVuTWFwU3RhdGVUb1Byb3BzSXNGdW5jdGlvbiwgd2hlbk1hcFN0YXRlVG9Qcm9wc0lzTWlzc2luZ107IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgdmVyaWZ5UGxhaW5PYmplY3QgZnJvbSAnLi4vdXRpbHMvdmVyaWZ5UGxhaW5PYmplY3QnO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRNZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgb3duUHJvcHMsIHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHdyYXBNZXJnZVByb3BzRnVuYyhtZXJnZVByb3BzKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbml0TWVyZ2VQcm9wc1Byb3h5KGRpc3BhdGNoLCBfcmVmKSB7XG4gICAgdmFyIGRpc3BsYXlOYW1lID0gX3JlZi5kaXNwbGF5TmFtZSxcbiAgICAgICAgcHVyZSA9IF9yZWYucHVyZSxcbiAgICAgICAgYXJlTWVyZ2VkUHJvcHNFcXVhbCA9IF9yZWYuYXJlTWVyZ2VkUHJvcHNFcXVhbDtcbiAgICB2YXIgaGFzUnVuT25jZSA9IGZhbHNlO1xuICAgIHZhciBtZXJnZWRQcm9wcztcbiAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VQcm9wc1Byb3h5KHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKSB7XG4gICAgICB2YXIgbmV4dE1lcmdlZFByb3BzID0gbWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcyk7XG5cbiAgICAgIGlmIChoYXNSdW5PbmNlKSB7XG4gICAgICAgIGlmICghcHVyZSB8fCAhYXJlTWVyZ2VkUHJvcHNFcXVhbChuZXh0TWVyZ2VkUHJvcHMsIG1lcmdlZFByb3BzKSkgbWVyZ2VkUHJvcHMgPSBuZXh0TWVyZ2VkUHJvcHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYXNSdW5PbmNlID0gdHJ1ZTtcbiAgICAgICAgbWVyZ2VkUHJvcHMgPSBuZXh0TWVyZ2VkUHJvcHM7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB2ZXJpZnlQbGFpbk9iamVjdChtZXJnZWRQcm9wcywgZGlzcGxheU5hbWUsICdtZXJnZVByb3BzJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZXJnZWRQcm9wcztcbiAgICB9O1xuICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHdoZW5NZXJnZVByb3BzSXNGdW5jdGlvbihtZXJnZVByb3BzKSB7XG4gIHJldHVybiB0eXBlb2YgbWVyZ2VQcm9wcyA9PT0gJ2Z1bmN0aW9uJyA/IHdyYXBNZXJnZVByb3BzRnVuYyhtZXJnZVByb3BzKSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB3aGVuTWVyZ2VQcm9wc0lzT21pdHRlZChtZXJnZVByb3BzKSB7XG4gIHJldHVybiAhbWVyZ2VQcm9wcyA/IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1lcmdlUHJvcHM7XG4gIH0gOiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZGVmYXVsdCBbd2hlbk1lcmdlUHJvcHNJc0Z1bmN0aW9uLCB3aGVuTWVyZ2VQcm9wc0lzT21pdHRlZF07IiwiaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG52YXIgX2V4Y2x1ZGVkID0gW1wiaW5pdE1hcFN0YXRlVG9Qcm9wc1wiLCBcImluaXRNYXBEaXNwYXRjaFRvUHJvcHNcIiwgXCJpbml0TWVyZ2VQcm9wc1wiXTtcbmltcG9ydCB2ZXJpZnlTdWJzZWxlY3RvcnMgZnJvbSAnLi92ZXJpZnlTdWJzZWxlY3RvcnMnO1xuZXhwb3J0IGZ1bmN0aW9uIGltcHVyZUZpbmFsUHJvcHNTZWxlY3RvckZhY3RvcnkobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMsIGRpc3BhdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbXB1cmVGaW5hbFByb3BzU2VsZWN0b3Ioc3RhdGUsIG93blByb3BzKSB7XG4gICAgcmV0dXJuIG1lcmdlUHJvcHMobWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBvd25Qcm9wcyksIG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgb3duUHJvcHMpLCBvd25Qcm9wcyk7XG4gIH07XG59XG5leHBvcnQgZnVuY3Rpb24gcHVyZUZpbmFsUHJvcHNTZWxlY3RvckZhY3RvcnkobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMsIGRpc3BhdGNoLCBfcmVmKSB7XG4gIHZhciBhcmVTdGF0ZXNFcXVhbCA9IF9yZWYuYXJlU3RhdGVzRXF1YWwsXG4gICAgICBhcmVPd25Qcm9wc0VxdWFsID0gX3JlZi5hcmVPd25Qcm9wc0VxdWFsLFxuICAgICAgYXJlU3RhdGVQcm9wc0VxdWFsID0gX3JlZi5hcmVTdGF0ZVByb3BzRXF1YWw7XG4gIHZhciBoYXNSdW5BdExlYXN0T25jZSA9IGZhbHNlO1xuICB2YXIgc3RhdGU7XG4gIHZhciBvd25Qcm9wcztcbiAgdmFyIHN0YXRlUHJvcHM7XG4gIHZhciBkaXNwYXRjaFByb3BzO1xuICB2YXIgbWVyZ2VkUHJvcHM7XG5cbiAgZnVuY3Rpb24gaGFuZGxlRmlyc3RDYWxsKGZpcnN0U3RhdGUsIGZpcnN0T3duUHJvcHMpIHtcbiAgICBzdGF0ZSA9IGZpcnN0U3RhdGU7XG4gICAgb3duUHJvcHMgPSBmaXJzdE93blByb3BzO1xuICAgIHN0YXRlUHJvcHMgPSBtYXBTdGF0ZVRvUHJvcHMoc3RhdGUsIG93blByb3BzKTtcbiAgICBkaXNwYXRjaFByb3BzID0gbWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBvd25Qcm9wcyk7XG4gICAgbWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKTtcbiAgICBoYXNSdW5BdExlYXN0T25jZSA9IHRydWU7XG4gICAgcmV0dXJuIG1lcmdlZFByb3BzO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTmV3UHJvcHNBbmROZXdTdGF0ZSgpIHtcbiAgICBzdGF0ZVByb3BzID0gbWFwU3RhdGVUb1Byb3BzKHN0YXRlLCBvd25Qcm9wcyk7XG4gICAgaWYgKG1hcERpc3BhdGNoVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcykgZGlzcGF0Y2hQcm9wcyA9IG1hcERpc3BhdGNoVG9Qcm9wcyhkaXNwYXRjaCwgb3duUHJvcHMpO1xuICAgIG1lcmdlZFByb3BzID0gbWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcyk7XG4gICAgcmV0dXJuIG1lcmdlZFByb3BzO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTmV3UHJvcHMoKSB7XG4gICAgaWYgKG1hcFN0YXRlVG9Qcm9wcy5kZXBlbmRzT25Pd25Qcm9wcykgc3RhdGVQcm9wcyA9IG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgb3duUHJvcHMpO1xuICAgIGlmIChtYXBEaXNwYXRjaFRvUHJvcHMuZGVwZW5kc09uT3duUHJvcHMpIGRpc3BhdGNoUHJvcHMgPSBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gsIG93blByb3BzKTtcbiAgICBtZXJnZWRQcm9wcyA9IG1lcmdlUHJvcHMoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgb3duUHJvcHMpO1xuICAgIHJldHVybiBtZXJnZWRQcm9wcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU5ld1N0YXRlKCkge1xuICAgIHZhciBuZXh0U3RhdGVQcm9wcyA9IG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgb3duUHJvcHMpO1xuICAgIHZhciBzdGF0ZVByb3BzQ2hhbmdlZCA9ICFhcmVTdGF0ZVByb3BzRXF1YWwobmV4dFN0YXRlUHJvcHMsIHN0YXRlUHJvcHMpO1xuICAgIHN0YXRlUHJvcHMgPSBuZXh0U3RhdGVQcm9wcztcbiAgICBpZiAoc3RhdGVQcm9wc0NoYW5nZWQpIG1lcmdlZFByb3BzID0gbWVyZ2VQcm9wcyhzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzLCBvd25Qcm9wcyk7XG4gICAgcmV0dXJuIG1lcmdlZFByb3BzO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU3Vic2VxdWVudENhbGxzKG5leHRTdGF0ZSwgbmV4dE93blByb3BzKSB7XG4gICAgdmFyIHByb3BzQ2hhbmdlZCA9ICFhcmVPd25Qcm9wc0VxdWFsKG5leHRPd25Qcm9wcywgb3duUHJvcHMpO1xuICAgIHZhciBzdGF0ZUNoYW5nZWQgPSAhYXJlU3RhdGVzRXF1YWwobmV4dFN0YXRlLCBzdGF0ZSk7XG4gICAgc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgb3duUHJvcHMgPSBuZXh0T3duUHJvcHM7XG4gICAgaWYgKHByb3BzQ2hhbmdlZCAmJiBzdGF0ZUNoYW5nZWQpIHJldHVybiBoYW5kbGVOZXdQcm9wc0FuZE5ld1N0YXRlKCk7XG4gICAgaWYgKHByb3BzQ2hhbmdlZCkgcmV0dXJuIGhhbmRsZU5ld1Byb3BzKCk7XG4gICAgaWYgKHN0YXRlQ2hhbmdlZCkgcmV0dXJuIGhhbmRsZU5ld1N0YXRlKCk7XG4gICAgcmV0dXJuIG1lcmdlZFByb3BzO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHB1cmVGaW5hbFByb3BzU2VsZWN0b3IobmV4dFN0YXRlLCBuZXh0T3duUHJvcHMpIHtcbiAgICByZXR1cm4gaGFzUnVuQXRMZWFzdE9uY2UgPyBoYW5kbGVTdWJzZXF1ZW50Q2FsbHMobmV4dFN0YXRlLCBuZXh0T3duUHJvcHMpIDogaGFuZGxlRmlyc3RDYWxsKG5leHRTdGF0ZSwgbmV4dE93blByb3BzKTtcbiAgfTtcbn0gLy8gVE9ETzogQWRkIG1vcmUgY29tbWVudHNcbi8vIElmIHB1cmUgaXMgdHJ1ZSwgdGhlIHNlbGVjdG9yIHJldHVybmVkIGJ5IHNlbGVjdG9yRmFjdG9yeSB3aWxsIG1lbW9pemUgaXRzIHJlc3VsdHMsXG4vLyBhbGxvd2luZyBjb25uZWN0QWR2YW5jZWQncyBzaG91bGRDb21wb25lbnRVcGRhdGUgdG8gcmV0dXJuIGZhbHNlIGlmIGZpbmFsXG4vLyBwcm9wcyBoYXZlIG5vdCBjaGFuZ2VkLiBJZiBmYWxzZSwgdGhlIHNlbGVjdG9yIHdpbGwgYWx3YXlzIHJldHVybiBhIG5ld1xuLy8gb2JqZWN0IGFuZCBzaG91bGRDb21wb25lbnRVcGRhdGUgd2lsbCBhbHdheXMgcmV0dXJuIHRydWUuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZpbmFsUHJvcHNTZWxlY3RvckZhY3RvcnkoZGlzcGF0Y2gsIF9yZWYyKSB7XG4gIHZhciBpbml0TWFwU3RhdGVUb1Byb3BzID0gX3JlZjIuaW5pdE1hcFN0YXRlVG9Qcm9wcyxcbiAgICAgIGluaXRNYXBEaXNwYXRjaFRvUHJvcHMgPSBfcmVmMi5pbml0TWFwRGlzcGF0Y2hUb1Byb3BzLFxuICAgICAgaW5pdE1lcmdlUHJvcHMgPSBfcmVmMi5pbml0TWVyZ2VQcm9wcyxcbiAgICAgIG9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmMiwgX2V4Y2x1ZGVkKTtcblxuICB2YXIgbWFwU3RhdGVUb1Byb3BzID0gaW5pdE1hcFN0YXRlVG9Qcm9wcyhkaXNwYXRjaCwgb3B0aW9ucyk7XG4gIHZhciBtYXBEaXNwYXRjaFRvUHJvcHMgPSBpbml0TWFwRGlzcGF0Y2hUb1Byb3BzKGRpc3BhdGNoLCBvcHRpb25zKTtcbiAgdmFyIG1lcmdlUHJvcHMgPSBpbml0TWVyZ2VQcm9wcyhkaXNwYXRjaCwgb3B0aW9ucyk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2ZXJpZnlTdWJzZWxlY3RvcnMobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1lcmdlUHJvcHMsIG9wdGlvbnMuZGlzcGxheU5hbWUpO1xuICB9XG5cbiAgdmFyIHNlbGVjdG9yRmFjdG9yeSA9IG9wdGlvbnMucHVyZSA/IHB1cmVGaW5hbFByb3BzU2VsZWN0b3JGYWN0b3J5IDogaW1wdXJlRmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeTtcbiAgcmV0dXJuIHNlbGVjdG9yRmFjdG9yeShtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbWVyZ2VQcm9wcywgZGlzcGF0Y2gsIG9wdGlvbnMpO1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG52YXIgX2V4Y2x1ZGVkID0gW1wicHVyZVwiLCBcImFyZVN0YXRlc0VxdWFsXCIsIFwiYXJlT3duUHJvcHNFcXVhbFwiLCBcImFyZVN0YXRlUHJvcHNFcXVhbFwiLCBcImFyZU1lcmdlZFByb3BzRXF1YWxcIl07XG5pbXBvcnQgY29ubmVjdEFkdmFuY2VkIGZyb20gJy4uL2NvbXBvbmVudHMvY29ubmVjdEFkdmFuY2VkJztcbmltcG9ydCBzaGFsbG93RXF1YWwgZnJvbSAnLi4vdXRpbHMvc2hhbGxvd0VxdWFsJztcbmltcG9ydCBkZWZhdWx0TWFwRGlzcGF0Y2hUb1Byb3BzRmFjdG9yaWVzIGZyb20gJy4vbWFwRGlzcGF0Y2hUb1Byb3BzJztcbmltcG9ydCBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzRmFjdG9yaWVzIGZyb20gJy4vbWFwU3RhdGVUb1Byb3BzJztcbmltcG9ydCBkZWZhdWx0TWVyZ2VQcm9wc0ZhY3RvcmllcyBmcm9tICcuL21lcmdlUHJvcHMnO1xuaW1wb3J0IGRlZmF1bHRTZWxlY3RvckZhY3RvcnkgZnJvbSAnLi9zZWxlY3RvckZhY3RvcnknO1xuLypcclxuICBjb25uZWN0IGlzIGEgZmFjYWRlIG92ZXIgY29ubmVjdEFkdmFuY2VkLiBJdCB0dXJucyBpdHMgYXJncyBpbnRvIGEgY29tcGF0aWJsZVxyXG4gIHNlbGVjdG9yRmFjdG9yeSwgd2hpY2ggaGFzIHRoZSBzaWduYXR1cmU6XHJcblxyXG4gICAgKGRpc3BhdGNoLCBvcHRpb25zKSA9PiAobmV4dFN0YXRlLCBuZXh0T3duUHJvcHMpID0+IG5leHRGaW5hbFByb3BzXHJcbiAgXHJcbiAgY29ubmVjdCBwYXNzZXMgaXRzIGFyZ3MgdG8gY29ubmVjdEFkdmFuY2VkIGFzIG9wdGlvbnMsIHdoaWNoIHdpbGwgaW4gdHVybiBwYXNzIHRoZW0gdG9cclxuICBzZWxlY3RvckZhY3RvcnkgZWFjaCB0aW1lIGEgQ29ubmVjdCBjb21wb25lbnQgaW5zdGFuY2UgaXMgaW5zdGFudGlhdGVkIG9yIGhvdCByZWxvYWRlZC5cclxuXHJcbiAgc2VsZWN0b3JGYWN0b3J5IHJldHVybnMgYSBmaW5hbCBwcm9wcyBzZWxlY3RvciBmcm9tIGl0cyBtYXBTdGF0ZVRvUHJvcHMsXHJcbiAgbWFwU3RhdGVUb1Byb3BzRmFjdG9yaWVzLCBtYXBEaXNwYXRjaFRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcmllcywgbWVyZ2VQcm9wcyxcclxuICBtZXJnZVByb3BzRmFjdG9yaWVzLCBhbmQgcHVyZSBhcmdzLlxyXG5cclxuICBUaGUgcmVzdWx0aW5nIGZpbmFsIHByb3BzIHNlbGVjdG9yIGlzIGNhbGxlZCBieSB0aGUgQ29ubmVjdCBjb21wb25lbnQgaW5zdGFuY2Ugd2hlbmV2ZXJcclxuICBpdCByZWNlaXZlcyBuZXcgcHJvcHMgb3Igc3RvcmUgc3RhdGUuXHJcbiAqL1xuXG5mdW5jdGlvbiBtYXRjaChhcmcsIGZhY3RvcmllcywgbmFtZSkge1xuICBmb3IgKHZhciBpID0gZmFjdG9yaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZhY3Rvcmllc1tpXShhcmcpO1xuICAgIGlmIChyZXN1bHQpIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGRpc3BhdGNoLCBvcHRpb25zKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBvZiB0eXBlIFwiICsgdHlwZW9mIGFyZyArIFwiIGZvciBcIiArIG5hbWUgKyBcIiBhcmd1bWVudCB3aGVuIGNvbm5lY3RpbmcgY29tcG9uZW50IFwiICsgb3B0aW9ucy53cmFwcGVkQ29tcG9uZW50TmFtZSArIFwiLlwiKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gc3RyaWN0RXF1YWwoYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn0gLy8gY3JlYXRlQ29ubmVjdCB3aXRoIGRlZmF1bHQgYXJncyBidWlsZHMgdGhlICdvZmZpY2lhbCcgY29ubmVjdCBiZWhhdmlvci4gQ2FsbGluZyBpdCB3aXRoXG4vLyBkaWZmZXJlbnQgb3B0aW9ucyBvcGVucyB1cCBzb21lIHRlc3RpbmcgYW5kIGV4dGVuc2liaWxpdHkgc2NlbmFyaW9zXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbm5lY3QoX3RlbXApIHtcbiAgdmFyIF9yZWYgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgIF9yZWYkY29ubmVjdEhPQyA9IF9yZWYuY29ubmVjdEhPQyxcbiAgICAgIGNvbm5lY3RIT0MgPSBfcmVmJGNvbm5lY3RIT0MgPT09IHZvaWQgMCA/IGNvbm5lY3RBZHZhbmNlZCA6IF9yZWYkY29ubmVjdEhPQyxcbiAgICAgIF9yZWYkbWFwU3RhdGVUb1Byb3BzRiA9IF9yZWYubWFwU3RhdGVUb1Byb3BzRmFjdG9yaWVzLFxuICAgICAgbWFwU3RhdGVUb1Byb3BzRmFjdG9yaWVzID0gX3JlZiRtYXBTdGF0ZVRvUHJvcHNGID09PSB2b2lkIDAgPyBkZWZhdWx0TWFwU3RhdGVUb1Byb3BzRmFjdG9yaWVzIDogX3JlZiRtYXBTdGF0ZVRvUHJvcHNGLFxuICAgICAgX3JlZiRtYXBEaXNwYXRjaFRvUHJvID0gX3JlZi5tYXBEaXNwYXRjaFRvUHJvcHNGYWN0b3JpZXMsXG4gICAgICBtYXBEaXNwYXRjaFRvUHJvcHNGYWN0b3JpZXMgPSBfcmVmJG1hcERpc3BhdGNoVG9Qcm8gPT09IHZvaWQgMCA/IGRlZmF1bHRNYXBEaXNwYXRjaFRvUHJvcHNGYWN0b3JpZXMgOiBfcmVmJG1hcERpc3BhdGNoVG9Qcm8sXG4gICAgICBfcmVmJG1lcmdlUHJvcHNGYWN0b3IgPSBfcmVmLm1lcmdlUHJvcHNGYWN0b3JpZXMsXG4gICAgICBtZXJnZVByb3BzRmFjdG9yaWVzID0gX3JlZiRtZXJnZVByb3BzRmFjdG9yID09PSB2b2lkIDAgPyBkZWZhdWx0TWVyZ2VQcm9wc0ZhY3RvcmllcyA6IF9yZWYkbWVyZ2VQcm9wc0ZhY3RvcixcbiAgICAgIF9yZWYkc2VsZWN0b3JGYWN0b3J5ID0gX3JlZi5zZWxlY3RvckZhY3RvcnksXG4gICAgICBzZWxlY3RvckZhY3RvcnkgPSBfcmVmJHNlbGVjdG9yRmFjdG9yeSA9PT0gdm9pZCAwID8gZGVmYXVsdFNlbGVjdG9yRmFjdG9yeSA6IF9yZWYkc2VsZWN0b3JGYWN0b3J5O1xuXG4gIHJldHVybiBmdW5jdGlvbiBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzLCBtZXJnZVByb3BzLCBfcmVmMikge1xuICAgIGlmIChfcmVmMiA9PT0gdm9pZCAwKSB7XG4gICAgICBfcmVmMiA9IHt9O1xuICAgIH1cblxuICAgIHZhciBfcmVmMyA9IF9yZWYyLFxuICAgICAgICBfcmVmMyRwdXJlID0gX3JlZjMucHVyZSxcbiAgICAgICAgcHVyZSA9IF9yZWYzJHB1cmUgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmMyRwdXJlLFxuICAgICAgICBfcmVmMyRhcmVTdGF0ZXNFcXVhbCA9IF9yZWYzLmFyZVN0YXRlc0VxdWFsLFxuICAgICAgICBhcmVTdGF0ZXNFcXVhbCA9IF9yZWYzJGFyZVN0YXRlc0VxdWFsID09PSB2b2lkIDAgPyBzdHJpY3RFcXVhbCA6IF9yZWYzJGFyZVN0YXRlc0VxdWFsLFxuICAgICAgICBfcmVmMyRhcmVPd25Qcm9wc0VxdWEgPSBfcmVmMy5hcmVPd25Qcm9wc0VxdWFsLFxuICAgICAgICBhcmVPd25Qcm9wc0VxdWFsID0gX3JlZjMkYXJlT3duUHJvcHNFcXVhID09PSB2b2lkIDAgPyBzaGFsbG93RXF1YWwgOiBfcmVmMyRhcmVPd25Qcm9wc0VxdWEsXG4gICAgICAgIF9yZWYzJGFyZVN0YXRlUHJvcHNFcSA9IF9yZWYzLmFyZVN0YXRlUHJvcHNFcXVhbCxcbiAgICAgICAgYXJlU3RhdGVQcm9wc0VxdWFsID0gX3JlZjMkYXJlU3RhdGVQcm9wc0VxID09PSB2b2lkIDAgPyBzaGFsbG93RXF1YWwgOiBfcmVmMyRhcmVTdGF0ZVByb3BzRXEsXG4gICAgICAgIF9yZWYzJGFyZU1lcmdlZFByb3BzRSA9IF9yZWYzLmFyZU1lcmdlZFByb3BzRXF1YWwsXG4gICAgICAgIGFyZU1lcmdlZFByb3BzRXF1YWwgPSBfcmVmMyRhcmVNZXJnZWRQcm9wc0UgPT09IHZvaWQgMCA/IHNoYWxsb3dFcXVhbCA6IF9yZWYzJGFyZU1lcmdlZFByb3BzRSxcbiAgICAgICAgZXh0cmFPcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjMsIF9leGNsdWRlZCk7XG5cbiAgICB2YXIgaW5pdE1hcFN0YXRlVG9Qcm9wcyA9IG1hdGNoKG1hcFN0YXRlVG9Qcm9wcywgbWFwU3RhdGVUb1Byb3BzRmFjdG9yaWVzLCAnbWFwU3RhdGVUb1Byb3BzJyk7XG4gICAgdmFyIGluaXRNYXBEaXNwYXRjaFRvUHJvcHMgPSBtYXRjaChtYXBEaXNwYXRjaFRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wc0ZhY3RvcmllcywgJ21hcERpc3BhdGNoVG9Qcm9wcycpO1xuICAgIHZhciBpbml0TWVyZ2VQcm9wcyA9IG1hdGNoKG1lcmdlUHJvcHMsIG1lcmdlUHJvcHNGYWN0b3JpZXMsICdtZXJnZVByb3BzJyk7XG4gICAgcmV0dXJuIGNvbm5lY3RIT0Moc2VsZWN0b3JGYWN0b3J5LCBfZXh0ZW5kcyh7XG4gICAgICAvLyB1c2VkIGluIGVycm9yIG1lc3NhZ2VzXG4gICAgICBtZXRob2ROYW1lOiAnY29ubmVjdCcsXG4gICAgICAvLyB1c2VkIHRvIGNvbXB1dGUgQ29ubmVjdCdzIGRpc3BsYXlOYW1lIGZyb20gdGhlIHdyYXBwZWQgY29tcG9uZW50J3MgZGlzcGxheU5hbWUuXG4gICAgICBnZXREaXNwbGF5TmFtZTogZnVuY3Rpb24gZ2V0RGlzcGxheU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gXCJDb25uZWN0KFwiICsgbmFtZSArIFwiKVwiO1xuICAgICAgfSxcbiAgICAgIC8vIGlmIG1hcFN0YXRlVG9Qcm9wcyBpcyBmYWxzeSwgdGhlIENvbm5lY3QgY29tcG9uZW50IGRvZXNuJ3Qgc3Vic2NyaWJlIHRvIHN0b3JlIHN0YXRlIGNoYW5nZXNcbiAgICAgIHNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlczogQm9vbGVhbihtYXBTdGF0ZVRvUHJvcHMpLFxuICAgICAgLy8gcGFzc2VkIHRocm91Z2ggdG8gc2VsZWN0b3JGYWN0b3J5XG4gICAgICBpbml0TWFwU3RhdGVUb1Byb3BzOiBpbml0TWFwU3RhdGVUb1Byb3BzLFxuICAgICAgaW5pdE1hcERpc3BhdGNoVG9Qcm9wczogaW5pdE1hcERpc3BhdGNoVG9Qcm9wcyxcbiAgICAgIGluaXRNZXJnZVByb3BzOiBpbml0TWVyZ2VQcm9wcyxcbiAgICAgIHB1cmU6IHB1cmUsXG4gICAgICBhcmVTdGF0ZXNFcXVhbDogYXJlU3RhdGVzRXF1YWwsXG4gICAgICBhcmVPd25Qcm9wc0VxdWFsOiBhcmVPd25Qcm9wc0VxdWFsLFxuICAgICAgYXJlU3RhdGVQcm9wc0VxdWFsOiBhcmVTdGF0ZVByb3BzRXF1YWwsXG4gICAgICBhcmVNZXJnZWRQcm9wc0VxdWFsOiBhcmVNZXJnZWRQcm9wc0VxdWFsXG4gICAgfSwgZXh0cmFPcHRpb25zKSk7XG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCAvKiNfX1BVUkVfXyovY3JlYXRlQ29ubmVjdCgpOyIsImltcG9ydCB7IHVzZVJlZHVjZXIsIHVzZVJlZiwgdXNlTWVtbywgdXNlQ29udGV4dCwgdXNlRGVidWdWYWx1ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJlZHV4Q29udGV4dCBhcyB1c2VEZWZhdWx0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi91c2VSZWR1eENvbnRleHQnO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vdXRpbHMvU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tICcuLi91dGlscy91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0JztcbmltcG9ydCB7IFJlYWN0UmVkdXhDb250ZXh0IH0gZnJvbSAnLi4vY29tcG9uZW50cy9Db250ZXh0JztcblxudmFyIHJlZkVxdWFsaXR5ID0gZnVuY3Rpb24gcmVmRXF1YWxpdHkoYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn07XG5cbmZ1bmN0aW9uIHVzZVNlbGVjdG9yV2l0aFN0b3JlQW5kU3Vic2NyaXB0aW9uKHNlbGVjdG9yLCBlcXVhbGl0eUZuLCBzdG9yZSwgY29udGV4dFN1Yikge1xuICB2YXIgX3VzZVJlZHVjZXIgPSB1c2VSZWR1Y2VyKGZ1bmN0aW9uIChzKSB7XG4gICAgcmV0dXJuIHMgKyAxO1xuICB9LCAwKSxcbiAgICAgIGZvcmNlUmVuZGVyID0gX3VzZVJlZHVjZXJbMV07XG5cbiAgdmFyIHN1YnNjcmlwdGlvbiA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjcmVhdGVTdWJzY3JpcHRpb24oc3RvcmUsIGNvbnRleHRTdWIpO1xuICB9LCBbc3RvcmUsIGNvbnRleHRTdWJdKTtcbiAgdmFyIGxhdGVzdFN1YnNjcmlwdGlvbkNhbGxiYWNrRXJyb3IgPSB1c2VSZWYoKTtcbiAgdmFyIGxhdGVzdFNlbGVjdG9yID0gdXNlUmVmKCk7XG4gIHZhciBsYXRlc3RTdG9yZVN0YXRlID0gdXNlUmVmKCk7XG4gIHZhciBsYXRlc3RTZWxlY3RlZFN0YXRlID0gdXNlUmVmKCk7XG4gIHZhciBzdG9yZVN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgdmFyIHNlbGVjdGVkU3RhdGU7XG5cbiAgdHJ5IHtcbiAgICBpZiAoc2VsZWN0b3IgIT09IGxhdGVzdFNlbGVjdG9yLmN1cnJlbnQgfHwgc3RvcmVTdGF0ZSAhPT0gbGF0ZXN0U3RvcmVTdGF0ZS5jdXJyZW50IHx8IGxhdGVzdFN1YnNjcmlwdGlvbkNhbGxiYWNrRXJyb3IuY3VycmVudCkge1xuICAgICAgdmFyIG5ld1NlbGVjdGVkU3RhdGUgPSBzZWxlY3RvcihzdG9yZVN0YXRlKTsgLy8gZW5zdXJlIGxhdGVzdCBzZWxlY3RlZCBzdGF0ZSBpcyByZXVzZWQgc28gdGhhdCBhIGN1c3RvbSBlcXVhbGl0eSBmdW5jdGlvbiBjYW4gcmVzdWx0IGluIGlkZW50aWNhbCByZWZlcmVuY2VzXG5cbiAgICAgIGlmIChsYXRlc3RTZWxlY3RlZFN0YXRlLmN1cnJlbnQgPT09IHVuZGVmaW5lZCB8fCAhZXF1YWxpdHlGbihuZXdTZWxlY3RlZFN0YXRlLCBsYXRlc3RTZWxlY3RlZFN0YXRlLmN1cnJlbnQpKSB7XG4gICAgICAgIHNlbGVjdGVkU3RhdGUgPSBuZXdTZWxlY3RlZFN0YXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZWN0ZWRTdGF0ZSA9IGxhdGVzdFNlbGVjdGVkU3RhdGUuY3VycmVudDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0ZWRTdGF0ZSA9IGxhdGVzdFNlbGVjdGVkU3RhdGUuY3VycmVudDtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGlmIChsYXRlc3RTdWJzY3JpcHRpb25DYWxsYmFja0Vycm9yLmN1cnJlbnQpIHtcbiAgICAgIGVyci5tZXNzYWdlICs9IFwiXFxuVGhlIGVycm9yIG1heSBiZSBjb3JyZWxhdGVkIHdpdGggdGhpcyBwcmV2aW91cyBlcnJvcjpcXG5cIiArIGxhdGVzdFN1YnNjcmlwdGlvbkNhbGxiYWNrRXJyb3IuY3VycmVudC5zdGFjayArIFwiXFxuXFxuXCI7XG4gICAgfVxuXG4gICAgdGhyb3cgZXJyO1xuICB9XG5cbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgbGF0ZXN0U2VsZWN0b3IuY3VycmVudCA9IHNlbGVjdG9yO1xuICAgIGxhdGVzdFN0b3JlU3RhdGUuY3VycmVudCA9IHN0b3JlU3RhdGU7XG4gICAgbGF0ZXN0U2VsZWN0ZWRTdGF0ZS5jdXJyZW50ID0gc2VsZWN0ZWRTdGF0ZTtcbiAgICBsYXRlc3RTdWJzY3JpcHRpb25DYWxsYmFja0Vycm9yLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gIH0pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBjaGVja0ZvclVwZGF0ZXMoKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbmV3U3RvcmVTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7IC8vIEF2b2lkIGNhbGxpbmcgc2VsZWN0b3IgbXVsdGlwbGUgdGltZXMgaWYgdGhlIHN0b3JlJ3Mgc3RhdGUgaGFzIG5vdCBjaGFuZ2VkXG5cbiAgICAgICAgaWYgKG5ld1N0b3JlU3RhdGUgPT09IGxhdGVzdFN0b3JlU3RhdGUuY3VycmVudCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfbmV3U2VsZWN0ZWRTdGF0ZSA9IGxhdGVzdFNlbGVjdG9yLmN1cnJlbnQobmV3U3RvcmVTdGF0ZSk7XG5cbiAgICAgICAgaWYgKGVxdWFsaXR5Rm4oX25ld1NlbGVjdGVkU3RhdGUsIGxhdGVzdFNlbGVjdGVkU3RhdGUuY3VycmVudCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsYXRlc3RTZWxlY3RlZFN0YXRlLmN1cnJlbnQgPSBfbmV3U2VsZWN0ZWRTdGF0ZTtcbiAgICAgICAgbGF0ZXN0U3RvcmVTdGF0ZS5jdXJyZW50ID0gbmV3U3RvcmVTdGF0ZTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyB3ZSBpZ25vcmUgYWxsIGVycm9ycyBoZXJlLCBzaW5jZSB3aGVuIHRoZSBjb21wb25lbnRcbiAgICAgICAgLy8gaXMgcmUtcmVuZGVyZWQsIHRoZSBzZWxlY3RvcnMgYXJlIGNhbGxlZCBhZ2FpbiwgYW5kXG4gICAgICAgIC8vIHdpbGwgdGhyb3cgYWdhaW4sIGlmIG5laXRoZXIgcHJvcHMgbm9yIHN0b3JlIHN0YXRlXG4gICAgICAgIC8vIGNoYW5nZWRcbiAgICAgICAgbGF0ZXN0U3Vic2NyaXB0aW9uQ2FsbGJhY2tFcnJvci5jdXJyZW50ID0gZXJyO1xuICAgICAgfVxuXG4gICAgICBmb3JjZVJlbmRlcigpO1xuICAgIH1cblxuICAgIHN1YnNjcmlwdGlvbi5vblN0YXRlQ2hhbmdlID0gY2hlY2tGb3JVcGRhdGVzO1xuICAgIHN1YnNjcmlwdGlvbi50cnlTdWJzY3JpYmUoKTtcbiAgICBjaGVja0ZvclVwZGF0ZXMoKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbi50cnlVbnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFtzdG9yZSwgc3Vic2NyaXB0aW9uXSk7XG4gIHJldHVybiBzZWxlY3RlZFN0YXRlO1xufVxuLyoqXHJcbiAqIEhvb2sgZmFjdG9yeSwgd2hpY2ggY3JlYXRlcyBhIGB1c2VTZWxlY3RvcmAgaG9vayBib3VuZCB0byBhIGdpdmVuIGNvbnRleHQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7UmVhY3QuQ29udGV4dH0gW2NvbnRleHQ9UmVhY3RSZWR1eENvbnRleHRdIENvbnRleHQgcGFzc2VkIHRvIHlvdXIgYDxQcm92aWRlcj5gLlxyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgYHVzZVNlbGVjdG9yYCBob29rIGJvdW5kIHRvIHRoZSBzcGVjaWZpZWQgY29udGV4dC5cclxuICovXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdG9ySG9vayhjb250ZXh0KSB7XG4gIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHtcbiAgICBjb250ZXh0ID0gUmVhY3RSZWR1eENvbnRleHQ7XG4gIH1cblxuICB2YXIgdXNlUmVkdXhDb250ZXh0ID0gY29udGV4dCA9PT0gUmVhY3RSZWR1eENvbnRleHQgPyB1c2VEZWZhdWx0UmVkdXhDb250ZXh0IDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB1c2VDb250ZXh0KGNvbnRleHQpO1xuICB9O1xuICByZXR1cm4gZnVuY3Rpb24gdXNlU2VsZWN0b3Ioc2VsZWN0b3IsIGVxdWFsaXR5Rm4pIHtcbiAgICBpZiAoZXF1YWxpdHlGbiA9PT0gdm9pZCAwKSB7XG4gICAgICBlcXVhbGl0eUZuID0gcmVmRXF1YWxpdHk7XG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgcGFzcyBhIHNlbGVjdG9yIHRvIHVzZVNlbGVjdG9yXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHBhc3MgYSBmdW5jdGlvbiBhcyBhIHNlbGVjdG9yIHRvIHVzZVNlbGVjdG9yXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGVxdWFsaXR5Rm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgcGFzcyBhIGZ1bmN0aW9uIGFzIGFuIGVxdWFsaXR5IGZ1bmN0aW9uIHRvIHVzZVNlbGVjdG9yXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBfdXNlUmVkdXhDb250ZXh0ID0gdXNlUmVkdXhDb250ZXh0KCksXG4gICAgICAgIHN0b3JlID0gX3VzZVJlZHV4Q29udGV4dC5zdG9yZSxcbiAgICAgICAgY29udGV4dFN1YiA9IF91c2VSZWR1eENvbnRleHQuc3Vic2NyaXB0aW9uO1xuXG4gICAgdmFyIHNlbGVjdGVkU3RhdGUgPSB1c2VTZWxlY3RvcldpdGhTdG9yZUFuZFN1YnNjcmlwdGlvbihzZWxlY3RvciwgZXF1YWxpdHlGbiwgc3RvcmUsIGNvbnRleHRTdWIpO1xuICAgIHVzZURlYnVnVmFsdWUoc2VsZWN0ZWRTdGF0ZSk7XG4gICAgcmV0dXJuIHNlbGVjdGVkU3RhdGU7XG4gIH07XG59XG4vKipcclxuICogQSBob29rIHRvIGFjY2VzcyB0aGUgcmVkdXggc3RvcmUncyBzdGF0ZS4gVGhpcyBob29rIHRha2VzIGEgc2VsZWN0b3IgZnVuY3Rpb25cclxuICogYXMgYW4gYXJndW1lbnQuIFRoZSBzZWxlY3RvciBpcyBjYWxsZWQgd2l0aCB0aGUgc3RvcmUgc3RhdGUuXHJcbiAqXHJcbiAqIFRoaXMgaG9vayB0YWtlcyBhbiBvcHRpb25hbCBlcXVhbGl0eSBjb21wYXJpc29uIGZ1bmN0aW9uIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyXHJcbiAqIHRoYXQgYWxsb3dzIHlvdSB0byBjdXN0b21pemUgdGhlIHdheSB0aGUgc2VsZWN0ZWQgc3RhdGUgaXMgY29tcGFyZWQgdG8gZGV0ZXJtaW5lXHJcbiAqIHdoZXRoZXIgdGhlIGNvbXBvbmVudCBuZWVkcyB0byBiZSByZS1yZW5kZXJlZC5cclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gc2VsZWN0b3IgdGhlIHNlbGVjdG9yIGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBlcXVhbGl0eUZuIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgdXNlZCB0byBkZXRlcm1pbmUgZXF1YWxpdHlcclxuICpcclxuICogQHJldHVybnMge2FueX0gdGhlIHNlbGVjdGVkIHN0YXRlXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIGltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuICogaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCdcclxuICpcclxuICogZXhwb3J0IGNvbnN0IENvdW50ZXJDb21wb25lbnQgPSAoKSA9PiB7XHJcbiAqICAgY29uc3QgY291bnRlciA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLmNvdW50ZXIpXHJcbiAqICAgcmV0dXJuIDxkaXY+e2NvdW50ZXJ9PC9kaXY+XHJcbiAqIH1cclxuICovXG5cbmV4cG9ydCB2YXIgdXNlU2VsZWN0b3IgPSAvKiNfX1BVUkVfXyovY3JlYXRlU2VsZWN0b3JIb29rKCk7IiwiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBhcmVJbnB1dHNFcXVhbChuZXdJbnB1dHMsIGxhc3RJbnB1dHMpIHtcbiAgaWYgKG5ld0lucHV0cy5sZW5ndGggIT09IGxhc3RJbnB1dHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdJbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobmV3SW5wdXRzW2ldICE9PSBsYXN0SW5wdXRzW2ldKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHVzZU1lbW9PbmUoZ2V0UmVzdWx0LCBpbnB1dHMpIHtcbiAgdmFyIGluaXRpYWwgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlucHV0czogaW5wdXRzLFxuICAgICAgcmVzdWx0OiBnZXRSZXN1bHQoKVxuICAgIH07XG4gIH0pWzBdO1xuICB2YXIgaXNGaXJzdFJ1biA9IHVzZVJlZih0cnVlKTtcbiAgdmFyIGNvbW1pdHRlZCA9IHVzZVJlZihpbml0aWFsKTtcbiAgdmFyIHVzZUNhY2hlID0gaXNGaXJzdFJ1bi5jdXJyZW50IHx8IEJvb2xlYW4oaW5wdXRzICYmIGNvbW1pdHRlZC5jdXJyZW50LmlucHV0cyAmJiBhcmVJbnB1dHNFcXVhbChpbnB1dHMsIGNvbW1pdHRlZC5jdXJyZW50LmlucHV0cykpO1xuICB2YXIgY2FjaGUgPSB1c2VDYWNoZSA/IGNvbW1pdHRlZC5jdXJyZW50IDoge1xuICAgIGlucHV0czogaW5wdXRzLFxuICAgIHJlc3VsdDogZ2V0UmVzdWx0KClcbiAgfTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpc0ZpcnN0UnVuLmN1cnJlbnQgPSBmYWxzZTtcbiAgICBjb21taXR0ZWQuY3VycmVudCA9IGNhY2hlO1xuICB9LCBbY2FjaGVdKTtcbiAgcmV0dXJuIGNhY2hlLnJlc3VsdDtcbn1cbmZ1bmN0aW9uIHVzZUNhbGxiYWNrT25lKGNhbGxiYWNrLCBpbnB1dHMpIHtcbiAgcmV0dXJuIHVzZU1lbW9PbmUoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjYWxsYmFjaztcbiAgfSwgaW5wdXRzKTtcbn1cbnZhciB1c2VNZW1vID0gdXNlTWVtb09uZTtcbnZhciB1c2VDYWxsYmFjayA9IHVzZUNhbGxiYWNrT25lO1xuXG5leHBvcnQgeyB1c2VDYWxsYmFjaywgdXNlQ2FsbGJhY2tPbmUsIHVzZU1lbW8sIHVzZU1lbW9PbmUgfTtcbiIsImV4cG9ydCAqIGZyb20gJy4vZXhwb3J0cyc7XG5pbXBvcnQgeyB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyBhcyBiYXRjaCB9IGZyb20gJy4vdXRpbHMvcmVhY3RCYXRjaGVkVXBkYXRlcyc7XG5pbXBvcnQgeyBzZXRCYXRjaCB9IGZyb20gJy4vdXRpbHMvYmF0Y2gnOyAvLyBFbmFibGUgYmF0Y2hlZCB1cGRhdGVzIGluIG91ciBzdWJzY3JpcHRpb25zIGZvciB1c2Vcbi8vIHdpdGggc3RhbmRhcmQgUmVhY3QgcmVuZGVyZXJzIChSZWFjdERPTSwgUmVhY3QgTmF0aXZlKVxuXG5zZXRCYXRjaChiYXRjaCk7XG5leHBvcnQgeyBiYXRjaCB9OyIsInZhciBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nO1xudmFyIHByZWZpeCA9ICdJbnZhcmlhbnQgZmFpbGVkJztcbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzUHJvZHVjdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocHJlZml4KTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKHByZWZpeCArIFwiOiBcIiArIChtZXNzYWdlIHx8ICcnKSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGludmFyaWFudDtcbiIsImltcG9ydCBpbnZhcmlhbnQgZnJvbSAndGlueS1pbnZhcmlhbnQnO1xuXG52YXIgZ2V0UmVjdCA9IGZ1bmN0aW9uIGdldFJlY3QoX3JlZikge1xuICB2YXIgdG9wID0gX3JlZi50b3AsXG4gICAgICByaWdodCA9IF9yZWYucmlnaHQsXG4gICAgICBib3R0b20gPSBfcmVmLmJvdHRvbSxcbiAgICAgIGxlZnQgPSBfcmVmLmxlZnQ7XG4gIHZhciB3aWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgdmFyIGhlaWdodCA9IGJvdHRvbSAtIHRvcDtcbiAgdmFyIHJlY3QgPSB7XG4gICAgdG9wOiB0b3AsXG4gICAgcmlnaHQ6IHJpZ2h0LFxuICAgIGJvdHRvbTogYm90dG9tLFxuICAgIGxlZnQ6IGxlZnQsXG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHg6IGxlZnQsXG4gICAgeTogdG9wLFxuICAgIGNlbnRlcjoge1xuICAgICAgeDogKHJpZ2h0ICsgbGVmdCkgLyAyLFxuICAgICAgeTogKGJvdHRvbSArIHRvcCkgLyAyXG4gICAgfVxuICB9O1xuICByZXR1cm4gcmVjdDtcbn07XG52YXIgZXhwYW5kID0gZnVuY3Rpb24gZXhwYW5kKHRhcmdldCwgZXhwYW5kQnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IHRhcmdldC50b3AgLSBleHBhbmRCeS50b3AsXG4gICAgbGVmdDogdGFyZ2V0LmxlZnQgLSBleHBhbmRCeS5sZWZ0LFxuICAgIGJvdHRvbTogdGFyZ2V0LmJvdHRvbSArIGV4cGFuZEJ5LmJvdHRvbSxcbiAgICByaWdodDogdGFyZ2V0LnJpZ2h0ICsgZXhwYW5kQnkucmlnaHRcbiAgfTtcbn07XG52YXIgc2hyaW5rID0gZnVuY3Rpb24gc2hyaW5rKHRhcmdldCwgc2hyaW5rQnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IHRhcmdldC50b3AgKyBzaHJpbmtCeS50b3AsXG4gICAgbGVmdDogdGFyZ2V0LmxlZnQgKyBzaHJpbmtCeS5sZWZ0LFxuICAgIGJvdHRvbTogdGFyZ2V0LmJvdHRvbSAtIHNocmlua0J5LmJvdHRvbSxcbiAgICByaWdodDogdGFyZ2V0LnJpZ2h0IC0gc2hyaW5rQnkucmlnaHRcbiAgfTtcbn07XG5cbnZhciBzaGlmdCA9IGZ1bmN0aW9uIHNoaWZ0KHRhcmdldCwgc2hpZnRCeSkge1xuICByZXR1cm4ge1xuICAgIHRvcDogdGFyZ2V0LnRvcCArIHNoaWZ0QnkueSxcbiAgICBsZWZ0OiB0YXJnZXQubGVmdCArIHNoaWZ0QnkueCxcbiAgICBib3R0b206IHRhcmdldC5ib3R0b20gKyBzaGlmdEJ5LnksXG4gICAgcmlnaHQ6IHRhcmdldC5yaWdodCArIHNoaWZ0QnkueFxuICB9O1xufTtcblxudmFyIG5vU3BhY2luZyA9IHtcbiAgdG9wOiAwLFxuICByaWdodDogMCxcbiAgYm90dG9tOiAwLFxuICBsZWZ0OiAwXG59O1xudmFyIGNyZWF0ZUJveCA9IGZ1bmN0aW9uIGNyZWF0ZUJveChfcmVmMikge1xuICB2YXIgYm9yZGVyQm94ID0gX3JlZjIuYm9yZGVyQm94LFxuICAgICAgX3JlZjIkbWFyZ2luID0gX3JlZjIubWFyZ2luLFxuICAgICAgbWFyZ2luID0gX3JlZjIkbWFyZ2luID09PSB2b2lkIDAgPyBub1NwYWNpbmcgOiBfcmVmMiRtYXJnaW4sXG4gICAgICBfcmVmMiRib3JkZXIgPSBfcmVmMi5ib3JkZXIsXG4gICAgICBib3JkZXIgPSBfcmVmMiRib3JkZXIgPT09IHZvaWQgMCA/IG5vU3BhY2luZyA6IF9yZWYyJGJvcmRlcixcbiAgICAgIF9yZWYyJHBhZGRpbmcgPSBfcmVmMi5wYWRkaW5nLFxuICAgICAgcGFkZGluZyA9IF9yZWYyJHBhZGRpbmcgPT09IHZvaWQgMCA/IG5vU3BhY2luZyA6IF9yZWYyJHBhZGRpbmc7XG4gIHZhciBtYXJnaW5Cb3ggPSBnZXRSZWN0KGV4cGFuZChib3JkZXJCb3gsIG1hcmdpbikpO1xuICB2YXIgcGFkZGluZ0JveCA9IGdldFJlY3Qoc2hyaW5rKGJvcmRlckJveCwgYm9yZGVyKSk7XG4gIHZhciBjb250ZW50Qm94ID0gZ2V0UmVjdChzaHJpbmsocGFkZGluZ0JveCwgcGFkZGluZykpO1xuICByZXR1cm4ge1xuICAgIG1hcmdpbkJveDogbWFyZ2luQm94LFxuICAgIGJvcmRlckJveDogZ2V0UmVjdChib3JkZXJCb3gpLFxuICAgIHBhZGRpbmdCb3g6IHBhZGRpbmdCb3gsXG4gICAgY29udGVudEJveDogY29udGVudEJveCxcbiAgICBtYXJnaW46IG1hcmdpbixcbiAgICBib3JkZXI6IGJvcmRlcixcbiAgICBwYWRkaW5nOiBwYWRkaW5nXG4gIH07XG59O1xuXG52YXIgcGFyc2UgPSBmdW5jdGlvbiBwYXJzZShyYXcpIHtcbiAgdmFyIHZhbHVlID0gcmF3LnNsaWNlKDAsIC0yKTtcbiAgdmFyIHN1ZmZpeCA9IHJhdy5zbGljZSgtMik7XG5cbiAgaWYgKHN1ZmZpeCAhPT0gJ3B4Jykge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IE51bWJlcih2YWx1ZSk7XG4gICEhaXNOYU4ocmVzdWx0KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJDb3VsZCBub3QgcGFyc2UgdmFsdWUgW3JhdzogXCIgKyByYXcgKyBcIiwgd2l0aG91dCBzdWZmaXg6IFwiICsgdmFsdWUgKyBcIl1cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxudmFyIGdldFdpbmRvd1Njcm9sbCA9IGZ1bmN0aW9uIGdldFdpbmRvd1Njcm9sbCgpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiB3aW5kb3cucGFnZVhPZmZzZXQsXG4gICAgeTogd2luZG93LnBhZ2VZT2Zmc2V0XG4gIH07XG59O1xuXG52YXIgb2Zmc2V0ID0gZnVuY3Rpb24gb2Zmc2V0KG9yaWdpbmFsLCBjaGFuZ2UpIHtcbiAgdmFyIGJvcmRlckJveCA9IG9yaWdpbmFsLmJvcmRlckJveCxcbiAgICAgIGJvcmRlciA9IG9yaWdpbmFsLmJvcmRlcixcbiAgICAgIG1hcmdpbiA9IG9yaWdpbmFsLm1hcmdpbixcbiAgICAgIHBhZGRpbmcgPSBvcmlnaW5hbC5wYWRkaW5nO1xuICB2YXIgc2hpZnRlZCA9IHNoaWZ0KGJvcmRlckJveCwgY2hhbmdlKTtcbiAgcmV0dXJuIGNyZWF0ZUJveCh7XG4gICAgYm9yZGVyQm94OiBzaGlmdGVkLFxuICAgIGJvcmRlcjogYm9yZGVyLFxuICAgIG1hcmdpbjogbWFyZ2luLFxuICAgIHBhZGRpbmc6IHBhZGRpbmdcbiAgfSk7XG59O1xudmFyIHdpdGhTY3JvbGwgPSBmdW5jdGlvbiB3aXRoU2Nyb2xsKG9yaWdpbmFsLCBzY3JvbGwpIHtcbiAgaWYgKHNjcm9sbCA9PT0gdm9pZCAwKSB7XG4gICAgc2Nyb2xsID0gZ2V0V2luZG93U2Nyb2xsKCk7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0KG9yaWdpbmFsLCBzY3JvbGwpO1xufTtcbnZhciBjYWxjdWxhdGVCb3ggPSBmdW5jdGlvbiBjYWxjdWxhdGVCb3goYm9yZGVyQm94LCBzdHlsZXMpIHtcbiAgdmFyIG1hcmdpbiA9IHtcbiAgICB0b3A6IHBhcnNlKHN0eWxlcy5tYXJnaW5Ub3ApLFxuICAgIHJpZ2h0OiBwYXJzZShzdHlsZXMubWFyZ2luUmlnaHQpLFxuICAgIGJvdHRvbTogcGFyc2Uoc3R5bGVzLm1hcmdpbkJvdHRvbSksXG4gICAgbGVmdDogcGFyc2Uoc3R5bGVzLm1hcmdpbkxlZnQpXG4gIH07XG4gIHZhciBwYWRkaW5nID0ge1xuICAgIHRvcDogcGFyc2Uoc3R5bGVzLnBhZGRpbmdUb3ApLFxuICAgIHJpZ2h0OiBwYXJzZShzdHlsZXMucGFkZGluZ1JpZ2h0KSxcbiAgICBib3R0b206IHBhcnNlKHN0eWxlcy5wYWRkaW5nQm90dG9tKSxcbiAgICBsZWZ0OiBwYXJzZShzdHlsZXMucGFkZGluZ0xlZnQpXG4gIH07XG4gIHZhciBib3JkZXIgPSB7XG4gICAgdG9wOiBwYXJzZShzdHlsZXMuYm9yZGVyVG9wV2lkdGgpLFxuICAgIHJpZ2h0OiBwYXJzZShzdHlsZXMuYm9yZGVyUmlnaHRXaWR0aCksXG4gICAgYm90dG9tOiBwYXJzZShzdHlsZXMuYm9yZGVyQm90dG9tV2lkdGgpLFxuICAgIGxlZnQ6IHBhcnNlKHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGgpXG4gIH07XG4gIHJldHVybiBjcmVhdGVCb3goe1xuICAgIGJvcmRlckJveDogYm9yZGVyQm94LFxuICAgIG1hcmdpbjogbWFyZ2luLFxuICAgIHBhZGRpbmc6IHBhZGRpbmcsXG4gICAgYm9yZGVyOiBib3JkZXJcbiAgfSk7XG59O1xudmFyIGdldEJveCA9IGZ1bmN0aW9uIGdldEJveChlbCkge1xuICB2YXIgYm9yZGVyQm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gIHJldHVybiBjYWxjdWxhdGVCb3goYm9yZGVyQm94LCBzdHlsZXMpO1xufTtcblxuZXhwb3J0IHsgY2FsY3VsYXRlQm94LCBjcmVhdGVCb3gsIGV4cGFuZCwgZ2V0Qm94LCBnZXRSZWN0LCBvZmZzZXQsIHNocmluaywgd2l0aFNjcm9sbCB9O1xuIiwiZnVuY3Rpb24gYXJlSW5wdXRzRXF1YWwobmV3SW5wdXRzLCBsYXN0SW5wdXRzKSB7XG4gICAgaWYgKG5ld0lucHV0cy5sZW5ndGggIT09IGxhc3RJbnB1dHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdJbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKG5ld0lucHV0c1tpXSAhPT0gbGFzdElucHV0c1tpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBtZW1vaXplT25lKHJlc3VsdEZuLCBpc0VxdWFsKSB7XG4gICAgaWYgKGlzRXF1YWwgPT09IHZvaWQgMCkgeyBpc0VxdWFsID0gYXJlSW5wdXRzRXF1YWw7IH1cbiAgICB2YXIgbGFzdFRoaXM7XG4gICAgdmFyIGxhc3RBcmdzID0gW107XG4gICAgdmFyIGxhc3RSZXN1bHQ7XG4gICAgdmFyIGNhbGxlZE9uY2UgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBtZW1vaXplZCgpIHtcbiAgICAgICAgdmFyIG5ld0FyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG5ld0FyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FsbGVkT25jZSAmJiBsYXN0VGhpcyA9PT0gdGhpcyAmJiBpc0VxdWFsKG5ld0FyZ3MsIGxhc3RBcmdzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFJlc3VsdCA9IHJlc3VsdEZuLmFwcGx5KHRoaXMsIG5ld0FyZ3MpO1xuICAgICAgICBjYWxsZWRPbmNlID0gdHJ1ZTtcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0QXJncyA9IG5ld0FyZ3M7XG4gICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gbWVtb2l6ZWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW9pemVPbmU7XG4iLCJ2YXIgcmFmU2NoZCA9IGZ1bmN0aW9uIHJhZlNjaGQoZm4pIHtcbiAgdmFyIGxhc3RBcmdzID0gW107XG4gIHZhciBmcmFtZUlkID0gbnVsbDtcblxuICB2YXIgd3JhcHBlckZuID0gZnVuY3Rpb24gd3JhcHBlckZuKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBsYXN0QXJncyA9IGFyZ3M7XG5cbiAgICBpZiAoZnJhbWVJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgZnJhbWVJZCA9IG51bGw7XG4gICAgICBmbi5hcHBseSh2b2lkIDAsIGxhc3RBcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICB3cmFwcGVyRm4uY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghZnJhbWVJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lSWQpO1xuICAgIGZyYW1lSWQgPSBudWxsO1xuICB9O1xuXG4gIHJldHVybiB3cmFwcGVyRm47XG59O1xuXG5leHBvcnQgZGVmYXVsdCByYWZTY2hkO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IF9pbmhlcml0c0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UnO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IHsgY3JlYXRlU3RvcmUgYXMgY3JlYXRlU3RvcmUkMSwgYXBwbHlNaWRkbGV3YXJlLCBjb21wb3NlLCBiaW5kQWN0aW9uQ3JlYXRvcnMgfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgeyBQcm92aWRlciwgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSAndXNlLW1lbW8tb25lJztcbmltcG9ydCB7IGdldFJlY3QsIGV4cGFuZCwgb2Zmc2V0LCB3aXRoU2Nyb2xsLCBnZXRCb3gsIGNyZWF0ZUJveCwgY2FsY3VsYXRlQm94IH0gZnJvbSAnY3NzLWJveC1tb2RlbCc7XG5pbXBvcnQgbWVtb2l6ZU9uZSBmcm9tICdtZW1vaXplLW9uZSc7XG5pbXBvcnQgcmFmU2NoZCBmcm9tICdyYWYtc2NoZCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxudmFyIGlzUHJvZHVjdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbic7XG52YXIgc3BhY2VzQW5kVGFicyA9IC9bIFxcdF17Mix9L2c7XG52YXIgbGluZVN0YXJ0V2l0aFNwYWNlcyA9IC9eWyBcXHRdKi9nbTtcblxudmFyIGNsZWFuID0gZnVuY3Rpb24gY2xlYW4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLnJlcGxhY2Uoc3BhY2VzQW5kVGFicywgJyAnKS5yZXBsYWNlKGxpbmVTdGFydFdpdGhTcGFjZXMsICcnKS50cmltKCk7XG59O1xuXG52YXIgZ2V0RGV2TWVzc2FnZSA9IGZ1bmN0aW9uIGdldERldk1lc3NhZ2UobWVzc2FnZSkge1xuICByZXR1cm4gY2xlYW4oXCJcXG4gICVjcmVhY3QtYmVhdXRpZnVsLWRuZFxcblxcbiAgJWNcIiArIGNsZWFuKG1lc3NhZ2UpICsgXCJcXG5cXG4gICVjXFx1RDgzRFxcdURDNzdcXHUyMDBEIFRoaXMgaXMgYSBkZXZlbG9wbWVudCBvbmx5IG1lc3NhZ2UuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiBwcm9kdWN0aW9uIGJ1aWxkcy5cXG5cIik7XG59O1xuXG52YXIgZ2V0Rm9ybWF0dGVkTWVzc2FnZSA9IGZ1bmN0aW9uIGdldEZvcm1hdHRlZE1lc3NhZ2UobWVzc2FnZSkge1xuICByZXR1cm4gW2dldERldk1lc3NhZ2UobWVzc2FnZSksICdjb2xvcjogIzAwQzU4NDsgZm9udC1zaXplOiAxLjJlbTsgZm9udC13ZWlnaHQ6IGJvbGQ7JywgJ2xpbmUtaGVpZ2h0OiAxLjUnLCAnY29sb3I6ICM3MjM4NzQ7J107XG59O1xudmFyIGlzRGlzYWJsZWRGbGFnID0gJ19fcmVhY3QtYmVhdXRpZnVsLWRuZC1kaXNhYmxlLWRldi13YXJuaW5ncyc7XG5mdW5jdGlvbiBsb2codHlwZSwgbWVzc2FnZSkge1xuICB2YXIgX2NvbnNvbGU7XG5cbiAgaWYgKGlzUHJvZHVjdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3dbaXNEaXNhYmxlZEZsYWddKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgKF9jb25zb2xlID0gY29uc29sZSlbdHlwZV0uYXBwbHkoX2NvbnNvbGUsIGdldEZvcm1hdHRlZE1lc3NhZ2UobWVzc2FnZSkpO1xufVxudmFyIHdhcm5pbmcgPSBsb2cuYmluZChudWxsLCAnd2FybicpO1xudmFyIGVycm9yID0gbG9nLmJpbmQobnVsbCwgJ2Vycm9yJyk7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBnZXRPcHRpb25zKHNoYXJlZCwgZnJvbUJpbmRpbmcpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBzaGFyZWQsIHt9LCBmcm9tQmluZGluZyk7XG59XG5cbmZ1bmN0aW9uIGJpbmRFdmVudHMoZWwsIGJpbmRpbmdzLCBzaGFyZWRPcHRpb25zKSB7XG4gIHZhciB1bmJpbmRpbmdzID0gYmluZGluZ3MubWFwKGZ1bmN0aW9uIChiaW5kaW5nKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBnZXRPcHRpb25zKHNoYXJlZE9wdGlvbnMsIGJpbmRpbmcub3B0aW9ucyk7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihiaW5kaW5nLmV2ZW50TmFtZSwgYmluZGluZy5mbiwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVuYmluZCgpIHtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoYmluZGluZy5ldmVudE5hbWUsIGJpbmRpbmcuZm4sIG9wdGlvbnMpO1xuICAgIH07XG4gIH0pO1xuICByZXR1cm4gZnVuY3Rpb24gdW5iaW5kQWxsKCkge1xuICAgIHVuYmluZGluZ3MuZm9yRWFjaChmdW5jdGlvbiAodW5iaW5kKSB7XG4gICAgICB1bmJpbmQoKTtcbiAgICB9KTtcbiAgfTtcbn1cblxudmFyIGlzUHJvZHVjdGlvbiQxID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcbnZhciBwcmVmaXggPSAnSW52YXJpYW50IGZhaWxlZCc7XG5mdW5jdGlvbiBSYmRJbnZhcmlhbnQobWVzc2FnZSkge1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xufVxuXG5SYmRJbnZhcmlhbnQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gIHJldHVybiB0aGlzLm1lc3NhZ2U7XG59O1xuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gIGlmIChjb25kaXRpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaXNQcm9kdWN0aW9uJDEpIHtcbiAgICB0aHJvdyBuZXcgUmJkSW52YXJpYW50KHByZWZpeCk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFJiZEludmFyaWFudChwcmVmaXggKyBcIjogXCIgKyAobWVzc2FnZSB8fCAnJykpO1xuICB9XG59XG5cbnZhciBFcnJvckJvdW5kYXJ5ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzTG9vc2UoRXJyb3JCb3VuZGFyeSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRXJyb3JCb3VuZGFyeSgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwuYXBwbHkoX1JlYWN0JENvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkgfHwgdGhpcztcbiAgICBfdGhpcy5jYWxsYmFja3MgPSBudWxsO1xuICAgIF90aGlzLnVuYmluZCA9IG5vb3A7XG5cbiAgICBfdGhpcy5vbldpbmRvd0Vycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY2FsbGJhY2tzID0gX3RoaXMuZ2V0Q2FsbGJhY2tzKCk7XG5cbiAgICAgIGlmIChjYWxsYmFja3MuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgIGNhbGxiYWNrcy50cnlBYm9ydCgpO1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiXFxuICAgICAgICBBbiBlcnJvciB3YXMgY2F1Z2h0IGJ5IG91ciB3aW5kb3cgJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB3aGlsZSBhIGRyYWcgd2FzIG9jY3VycmluZy5cXG4gICAgICAgIFRoZSBhY3RpdmUgZHJhZyBoYXMgYmVlbiBhYm9ydGVkLlxcbiAgICAgIFwiKSA6IHZvaWQgMDtcbiAgICAgIH1cblxuICAgICAgdmFyIGVyciA9IGV2ZW50LmVycm9yO1xuXG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgUmJkSW52YXJpYW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBlcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0Q2FsbGJhY2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFfdGhpcy5jYWxsYmFja3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCBBcHBDYWxsYmFja3MgaW4gPEVycm9yQm91bmRhcnkvPicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXMuY2FsbGJhY2tzO1xuICAgIH07XG5cbiAgICBfdGhpcy5zZXRDYWxsYmFja3MgPSBmdW5jdGlvbiAoY2FsbGJhY2tzKSB7XG4gICAgICBfdGhpcy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBFcnJvckJvdW5kYXJ5LnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnVuYmluZCA9IGJpbmRFdmVudHMod2luZG93LCBbe1xuICAgICAgZXZlbnROYW1lOiAnZXJyb3InLFxuICAgICAgZm46IHRoaXMub25XaW5kb3dFcnJvclxuICAgIH1dKTtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50RGlkQ2F0Y2ggPSBmdW5jdGlvbiBjb21wb25lbnREaWRDYXRjaChlcnIpIHtcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgUmJkSW52YXJpYW50KSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBlcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe30pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRocm93IGVycjtcbiAgfTtcblxuICBfcHJvdG8uY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB0aGlzLnVuYmluZCgpO1xuICB9O1xuXG4gIF9wcm90by5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW4odGhpcy5zZXRDYWxsYmFja3MpO1xuICB9O1xuXG4gIHJldHVybiBFcnJvckJvdW5kYXJ5O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG52YXIgZHJhZ0hhbmRsZVVzYWdlSW5zdHJ1Y3Rpb25zID0gXCJcXG4gIFByZXNzIHNwYWNlIGJhciB0byBzdGFydCBhIGRyYWcuXFxuICBXaGVuIGRyYWdnaW5nIHlvdSBjYW4gdXNlIHRoZSBhcnJvdyBrZXlzIHRvIG1vdmUgdGhlIGl0ZW0gYXJvdW5kIGFuZCBlc2NhcGUgdG8gY2FuY2VsLlxcbiAgU29tZSBzY3JlZW4gcmVhZGVycyBtYXkgcmVxdWlyZSB5b3UgdG8gYmUgaW4gZm9jdXMgbW9kZSBvciB0byB1c2UgeW91ciBwYXNzIHRocm91Z2gga2V5XFxuXCI7XG5cbnZhciBwb3NpdGlvbiA9IGZ1bmN0aW9uIHBvc2l0aW9uKGluZGV4KSB7XG4gIHJldHVybiBpbmRleCArIDE7XG59O1xuXG52YXIgb25EcmFnU3RhcnQgPSBmdW5jdGlvbiBvbkRyYWdTdGFydChzdGFydCkge1xuICByZXR1cm4gXCJcXG4gIFlvdSBoYXZlIGxpZnRlZCBhbiBpdGVtIGluIHBvc2l0aW9uIFwiICsgcG9zaXRpb24oc3RhcnQuc291cmNlLmluZGV4KSArIFwiXFxuXCI7XG59O1xuXG52YXIgd2l0aExvY2F0aW9uID0gZnVuY3Rpb24gd2l0aExvY2F0aW9uKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgdmFyIGlzSW5Ib21lTGlzdCA9IHNvdXJjZS5kcm9wcGFibGVJZCA9PT0gZGVzdGluYXRpb24uZHJvcHBhYmxlSWQ7XG4gIHZhciBzdGFydFBvc2l0aW9uID0gcG9zaXRpb24oc291cmNlLmluZGV4KTtcbiAgdmFyIGVuZFBvc2l0aW9uID0gcG9zaXRpb24oZGVzdGluYXRpb24uaW5kZXgpO1xuXG4gIGlmIChpc0luSG9tZUxpc3QpIHtcbiAgICByZXR1cm4gXCJcXG4gICAgICBZb3UgaGF2ZSBtb3ZlZCB0aGUgaXRlbSBmcm9tIHBvc2l0aW9uIFwiICsgc3RhcnRQb3NpdGlvbiArIFwiXFxuICAgICAgdG8gcG9zaXRpb24gXCIgKyBlbmRQb3NpdGlvbiArIFwiXFxuICAgIFwiO1xuICB9XG5cbiAgcmV0dXJuIFwiXFxuICAgIFlvdSBoYXZlIG1vdmVkIHRoZSBpdGVtIGZyb20gcG9zaXRpb24gXCIgKyBzdGFydFBvc2l0aW9uICsgXCJcXG4gICAgaW4gbGlzdCBcIiArIHNvdXJjZS5kcm9wcGFibGVJZCArIFwiXFxuICAgIHRvIGxpc3QgXCIgKyBkZXN0aW5hdGlvbi5kcm9wcGFibGVJZCArIFwiXFxuICAgIGluIHBvc2l0aW9uIFwiICsgZW5kUG9zaXRpb24gKyBcIlxcbiAgXCI7XG59O1xuXG52YXIgd2l0aENvbWJpbmUgPSBmdW5jdGlvbiB3aXRoQ29tYmluZShpZCwgc291cmNlLCBjb21iaW5lKSB7XG4gIHZhciBpbkhvbWVMaXN0ID0gc291cmNlLmRyb3BwYWJsZUlkID09PSBjb21iaW5lLmRyb3BwYWJsZUlkO1xuXG4gIGlmIChpbkhvbWVMaXN0KSB7XG4gICAgcmV0dXJuIFwiXFxuICAgICAgVGhlIGl0ZW0gXCIgKyBpZCArIFwiXFxuICAgICAgaGFzIGJlZW4gY29tYmluZWQgd2l0aCBcIiArIGNvbWJpbmUuZHJhZ2dhYmxlSWQ7XG4gIH1cblxuICByZXR1cm4gXCJcXG4gICAgICBUaGUgaXRlbSBcIiArIGlkICsgXCJcXG4gICAgICBpbiBsaXN0IFwiICsgc291cmNlLmRyb3BwYWJsZUlkICsgXCJcXG4gICAgICBoYXMgYmVlbiBjb21iaW5lZCB3aXRoIFwiICsgY29tYmluZS5kcmFnZ2FibGVJZCArIFwiXFxuICAgICAgaW4gbGlzdCBcIiArIGNvbWJpbmUuZHJvcHBhYmxlSWQgKyBcIlxcbiAgICBcIjtcbn07XG5cbnZhciBvbkRyYWdVcGRhdGUgPSBmdW5jdGlvbiBvbkRyYWdVcGRhdGUodXBkYXRlKSB7XG4gIHZhciBsb2NhdGlvbiA9IHVwZGF0ZS5kZXN0aW5hdGlvbjtcblxuICBpZiAobG9jYXRpb24pIHtcbiAgICByZXR1cm4gd2l0aExvY2F0aW9uKHVwZGF0ZS5zb3VyY2UsIGxvY2F0aW9uKTtcbiAgfVxuXG4gIHZhciBjb21iaW5lID0gdXBkYXRlLmNvbWJpbmU7XG5cbiAgaWYgKGNvbWJpbmUpIHtcbiAgICByZXR1cm4gd2l0aENvbWJpbmUodXBkYXRlLmRyYWdnYWJsZUlkLCB1cGRhdGUuc291cmNlLCBjb21iaW5lKTtcbiAgfVxuXG4gIHJldHVybiAnWW91IGFyZSBvdmVyIGFuIGFyZWEgdGhhdCBjYW5ub3QgYmUgZHJvcHBlZCBvbic7XG59O1xuXG52YXIgcmV0dXJuZWRUb1N0YXJ0ID0gZnVuY3Rpb24gcmV0dXJuZWRUb1N0YXJ0KHNvdXJjZSkge1xuICByZXR1cm4gXCJcXG4gIFRoZSBpdGVtIGhhcyByZXR1cm5lZCB0byBpdHMgc3RhcnRpbmcgcG9zaXRpb25cXG4gIG9mIFwiICsgcG9zaXRpb24oc291cmNlLmluZGV4KSArIFwiXFxuXCI7XG59O1xuXG52YXIgb25EcmFnRW5kID0gZnVuY3Rpb24gb25EcmFnRW5kKHJlc3VsdCkge1xuICBpZiAocmVzdWx0LnJlYXNvbiA9PT0gJ0NBTkNFTCcpIHtcbiAgICByZXR1cm4gXCJcXG4gICAgICBNb3ZlbWVudCBjYW5jZWxsZWQuXFxuICAgICAgXCIgKyByZXR1cm5lZFRvU3RhcnQocmVzdWx0LnNvdXJjZSkgKyBcIlxcbiAgICBcIjtcbiAgfVxuXG4gIHZhciBsb2NhdGlvbiA9IHJlc3VsdC5kZXN0aW5hdGlvbjtcbiAgdmFyIGNvbWJpbmUgPSByZXN1bHQuY29tYmluZTtcblxuICBpZiAobG9jYXRpb24pIHtcbiAgICByZXR1cm4gXCJcXG4gICAgICBZb3UgaGF2ZSBkcm9wcGVkIHRoZSBpdGVtLlxcbiAgICAgIFwiICsgd2l0aExvY2F0aW9uKHJlc3VsdC5zb3VyY2UsIGxvY2F0aW9uKSArIFwiXFxuICAgIFwiO1xuICB9XG5cbiAgaWYgKGNvbWJpbmUpIHtcbiAgICByZXR1cm4gXCJcXG4gICAgICBZb3UgaGF2ZSBkcm9wcGVkIHRoZSBpdGVtLlxcbiAgICAgIFwiICsgd2l0aENvbWJpbmUocmVzdWx0LmRyYWdnYWJsZUlkLCByZXN1bHQuc291cmNlLCBjb21iaW5lKSArIFwiXFxuICAgIFwiO1xuICB9XG5cbiAgcmV0dXJuIFwiXFxuICAgIFRoZSBpdGVtIGhhcyBiZWVuIGRyb3BwZWQgd2hpbGUgbm90IG92ZXIgYSBkcm9wIGFyZWEuXFxuICAgIFwiICsgcmV0dXJuZWRUb1N0YXJ0KHJlc3VsdC5zb3VyY2UpICsgXCJcXG4gIFwiO1xufTtcblxudmFyIHByZXNldCA9IHtcbiAgZHJhZ0hhbmRsZVVzYWdlSW5zdHJ1Y3Rpb25zOiBkcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnMsXG4gIG9uRHJhZ1N0YXJ0OiBvbkRyYWdTdGFydCxcbiAgb25EcmFnVXBkYXRlOiBvbkRyYWdVcGRhdGUsXG4gIG9uRHJhZ0VuZDogb25EcmFnRW5kXG59O1xuXG52YXIgb3JpZ2luID0ge1xuICB4OiAwLFxuICB5OiAwXG59O1xudmFyIGFkZCA9IGZ1bmN0aW9uIGFkZChwb2ludDEsIHBvaW50Mikge1xuICByZXR1cm4ge1xuICAgIHg6IHBvaW50MS54ICsgcG9pbnQyLngsXG4gICAgeTogcG9pbnQxLnkgKyBwb2ludDIueVxuICB9O1xufTtcbnZhciBzdWJ0cmFjdCA9IGZ1bmN0aW9uIHN1YnRyYWN0KHBvaW50MSwgcG9pbnQyKSB7XG4gIHJldHVybiB7XG4gICAgeDogcG9pbnQxLnggLSBwb2ludDIueCxcbiAgICB5OiBwb2ludDEueSAtIHBvaW50Mi55XG4gIH07XG59O1xudmFyIGlzRXF1YWwgPSBmdW5jdGlvbiBpc0VxdWFsKHBvaW50MSwgcG9pbnQyKSB7XG4gIHJldHVybiBwb2ludDEueCA9PT0gcG9pbnQyLnggJiYgcG9pbnQxLnkgPT09IHBvaW50Mi55O1xufTtcbnZhciBuZWdhdGUgPSBmdW5jdGlvbiBuZWdhdGUocG9pbnQpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiBwb2ludC54ICE9PSAwID8gLXBvaW50LnggOiAwLFxuICAgIHk6IHBvaW50LnkgIT09IDAgPyAtcG9pbnQueSA6IDBcbiAgfTtcbn07XG52YXIgcGF0Y2ggPSBmdW5jdGlvbiBwYXRjaChsaW5lLCB2YWx1ZSwgb3RoZXJWYWx1ZSkge1xuICB2YXIgX3JlZjtcblxuICBpZiAob3RoZXJWYWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgb3RoZXJWYWx1ZSA9IDA7XG4gIH1cblxuICByZXR1cm4gX3JlZiA9IHt9LCBfcmVmW2xpbmVdID0gdmFsdWUsIF9yZWZbbGluZSA9PT0gJ3gnID8gJ3knIDogJ3gnXSA9IG90aGVyVmFsdWUsIF9yZWY7XG59O1xudmFyIGRpc3RhbmNlID0gZnVuY3Rpb24gZGlzdGFuY2UocG9pbnQxLCBwb2ludDIpIHtcbiAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhwb2ludDIueCAtIHBvaW50MS54LCAyKSArIE1hdGgucG93KHBvaW50Mi55IC0gcG9pbnQxLnksIDIpKTtcbn07XG52YXIgY2xvc2VzdCA9IGZ1bmN0aW9uIGNsb3Nlc3QodGFyZ2V0LCBwb2ludHMpIHtcbiAgcmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsIHBvaW50cy5tYXAoZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgcmV0dXJuIGRpc3RhbmNlKHRhcmdldCwgcG9pbnQpO1xuICB9KSk7XG59O1xudmFyIGFwcGx5ID0gZnVuY3Rpb24gYXBwbHkoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChwb2ludCkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiBmbihwb2ludC54KSxcbiAgICAgIHk6IGZuKHBvaW50LnkpXG4gICAgfTtcbiAgfTtcbn07XG5cbnZhciBleGVjdXRlQ2xpcCA9IChmdW5jdGlvbiAoZnJhbWUsIHN1YmplY3QpIHtcbiAgdmFyIHJlc3VsdCA9IGdldFJlY3Qoe1xuICAgIHRvcDogTWF0aC5tYXgoc3ViamVjdC50b3AsIGZyYW1lLnRvcCksXG4gICAgcmlnaHQ6IE1hdGgubWluKHN1YmplY3QucmlnaHQsIGZyYW1lLnJpZ2h0KSxcbiAgICBib3R0b206IE1hdGgubWluKHN1YmplY3QuYm90dG9tLCBmcmFtZS5ib3R0b20pLFxuICAgIGxlZnQ6IE1hdGgubWF4KHN1YmplY3QubGVmdCwgZnJhbWUubGVmdClcbiAgfSk7XG5cbiAgaWYgKHJlc3VsdC53aWR0aCA8PSAwIHx8IHJlc3VsdC5oZWlnaHQgPD0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuXG52YXIgb2Zmc2V0QnlQb3NpdGlvbiA9IGZ1bmN0aW9uIG9mZnNldEJ5UG9zaXRpb24oc3BhY2luZywgcG9pbnQpIHtcbiAgcmV0dXJuIHtcbiAgICB0b3A6IHNwYWNpbmcudG9wICsgcG9pbnQueSxcbiAgICBsZWZ0OiBzcGFjaW5nLmxlZnQgKyBwb2ludC54LFxuICAgIGJvdHRvbTogc3BhY2luZy5ib3R0b20gKyBwb2ludC55LFxuICAgIHJpZ2h0OiBzcGFjaW5nLnJpZ2h0ICsgcG9pbnQueFxuICB9O1xufTtcbnZhciBnZXRDb3JuZXJzID0gZnVuY3Rpb24gZ2V0Q29ybmVycyhzcGFjaW5nKSB7XG4gIHJldHVybiBbe1xuICAgIHg6IHNwYWNpbmcubGVmdCxcbiAgICB5OiBzcGFjaW5nLnRvcFxuICB9LCB7XG4gICAgeDogc3BhY2luZy5yaWdodCxcbiAgICB5OiBzcGFjaW5nLnRvcFxuICB9LCB7XG4gICAgeDogc3BhY2luZy5sZWZ0LFxuICAgIHk6IHNwYWNpbmcuYm90dG9tXG4gIH0sIHtcbiAgICB4OiBzcGFjaW5nLnJpZ2h0LFxuICAgIHk6IHNwYWNpbmcuYm90dG9tXG4gIH1dO1xufTtcbnZhciBub1NwYWNpbmcgPSB7XG4gIHRvcDogMCxcbiAgcmlnaHQ6IDAsXG4gIGJvdHRvbTogMCxcbiAgbGVmdDogMFxufTtcblxudmFyIHNjcm9sbCA9IGZ1bmN0aW9uIHNjcm9sbCh0YXJnZXQsIGZyYW1lKSB7XG4gIGlmICghZnJhbWUpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG9mZnNldEJ5UG9zaXRpb24odGFyZ2V0LCBmcmFtZS5zY3JvbGwuZGlmZi5kaXNwbGFjZW1lbnQpO1xufTtcblxudmFyIGluY3JlYXNlID0gZnVuY3Rpb24gaW5jcmVhc2UodGFyZ2V0LCBheGlzLCB3aXRoUGxhY2Vob2xkZXIpIHtcbiAgaWYgKHdpdGhQbGFjZWhvbGRlciAmJiB3aXRoUGxhY2Vob2xkZXIuaW5jcmVhc2VkQnkpIHtcbiAgICB2YXIgX2V4dGVuZHMyO1xuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCB0YXJnZXQsIChfZXh0ZW5kczIgPSB7fSwgX2V4dGVuZHMyW2F4aXMuZW5kXSA9IHRhcmdldFtheGlzLmVuZF0gKyB3aXRoUGxhY2Vob2xkZXIuaW5jcmVhc2VkQnlbYXhpcy5saW5lXSwgX2V4dGVuZHMyKSk7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxudmFyIGNsaXAgPSBmdW5jdGlvbiBjbGlwKHRhcmdldCwgZnJhbWUpIHtcbiAgaWYgKGZyYW1lICYmIGZyYW1lLnNob3VsZENsaXBTdWJqZWN0KSB7XG4gICAgcmV0dXJuIGV4ZWN1dGVDbGlwKGZyYW1lLnBhZ2VNYXJnaW5Cb3gsIHRhcmdldCk7XG4gIH1cblxuICByZXR1cm4gZ2V0UmVjdCh0YXJnZXQpO1xufTtcblxudmFyIGdldFN1YmplY3QgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHBhZ2UgPSBfcmVmLnBhZ2UsXG4gICAgICB3aXRoUGxhY2Vob2xkZXIgPSBfcmVmLndpdGhQbGFjZWhvbGRlcixcbiAgICAgIGF4aXMgPSBfcmVmLmF4aXMsXG4gICAgICBmcmFtZSA9IF9yZWYuZnJhbWU7XG4gIHZhciBzY3JvbGxlZCA9IHNjcm9sbChwYWdlLm1hcmdpbkJveCwgZnJhbWUpO1xuICB2YXIgaW5jcmVhc2VkID0gaW5jcmVhc2Uoc2Nyb2xsZWQsIGF4aXMsIHdpdGhQbGFjZWhvbGRlcik7XG4gIHZhciBjbGlwcGVkID0gY2xpcChpbmNyZWFzZWQsIGZyYW1lKTtcbiAgcmV0dXJuIHtcbiAgICBwYWdlOiBwYWdlLFxuICAgIHdpdGhQbGFjZWhvbGRlcjogd2l0aFBsYWNlaG9sZGVyLFxuICAgIGFjdGl2ZTogY2xpcHBlZFxuICB9O1xufSk7XG5cbnZhciBzY3JvbGxEcm9wcGFibGUgPSAoZnVuY3Rpb24gKGRyb3BwYWJsZSwgbmV3U2Nyb2xsKSB7XG4gICFkcm9wcGFibGUuZnJhbWUgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIHNjcm9sbGFibGUgPSBkcm9wcGFibGUuZnJhbWU7XG4gIHZhciBzY3JvbGxEaWZmID0gc3VidHJhY3QobmV3U2Nyb2xsLCBzY3JvbGxhYmxlLnNjcm9sbC5pbml0aWFsKTtcbiAgdmFyIHNjcm9sbERpc3BsYWNlbWVudCA9IG5lZ2F0ZShzY3JvbGxEaWZmKTtcblxuICB2YXIgZnJhbWUgPSBfZXh0ZW5kcyh7fSwgc2Nyb2xsYWJsZSwge1xuICAgIHNjcm9sbDoge1xuICAgICAgaW5pdGlhbDogc2Nyb2xsYWJsZS5zY3JvbGwuaW5pdGlhbCxcbiAgICAgIGN1cnJlbnQ6IG5ld1Njcm9sbCxcbiAgICAgIGRpZmY6IHtcbiAgICAgICAgdmFsdWU6IHNjcm9sbERpZmYsXG4gICAgICAgIGRpc3BsYWNlbWVudDogc2Nyb2xsRGlzcGxhY2VtZW50XG4gICAgICB9LFxuICAgICAgbWF4OiBzY3JvbGxhYmxlLnNjcm9sbC5tYXhcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBzdWJqZWN0ID0gZ2V0U3ViamVjdCh7XG4gICAgcGFnZTogZHJvcHBhYmxlLnN1YmplY3QucGFnZSxcbiAgICB3aXRoUGxhY2Vob2xkZXI6IGRyb3BwYWJsZS5zdWJqZWN0LndpdGhQbGFjZWhvbGRlcixcbiAgICBheGlzOiBkcm9wcGFibGUuYXhpcyxcbiAgICBmcmFtZTogZnJhbWVcbiAgfSk7XG5cbiAgdmFyIHJlc3VsdCA9IF9leHRlbmRzKHt9LCBkcm9wcGFibGUsIHtcbiAgICBmcmFtZTogZnJhbWUsXG4gICAgc3ViamVjdDogc3ViamVjdFxuICB9KTtcblxuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbmZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICBpZiAoTnVtYmVyLmlzSW50ZWdlcikge1xuICAgIHJldHVybiBOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKSAmJiBNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XG59XG5mdW5jdGlvbiB2YWx1ZXMobWFwKSB7XG4gIGlmIChPYmplY3QudmFsdWVzKSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMobWFwKTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3Qua2V5cyhtYXApLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIG1hcFtrZXldO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGZpbmRJbmRleChsaXN0LCBwcmVkaWNhdGUpIHtcbiAgaWYgKGxpc3QuZmluZEluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3QuZmluZEluZGV4KHByZWRpY2F0ZSk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocHJlZGljYXRlKGxpc3RbaV0pKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTE7XG59XG5mdW5jdGlvbiBmaW5kKGxpc3QsIHByZWRpY2F0ZSkge1xuICBpZiAobGlzdC5maW5kKSB7XG4gICAgcmV0dXJuIGxpc3QuZmluZChwcmVkaWNhdGUpO1xuICB9XG5cbiAgdmFyIGluZGV4ID0gZmluZEluZGV4KGxpc3QsIHByZWRpY2F0ZSk7XG5cbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHJldHVybiBsaXN0W2luZGV4XTtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiB0b0FycmF5KGxpc3QpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGxpc3QpO1xufVxuXG52YXIgdG9Ecm9wcGFibGVNYXAgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChkcm9wcGFibGVzKSB7XG4gIHJldHVybiBkcm9wcGFibGVzLnJlZHVjZShmdW5jdGlvbiAocHJldmlvdXMsIGN1cnJlbnQpIHtcbiAgICBwcmV2aW91c1tjdXJyZW50LmRlc2NyaXB0b3IuaWRdID0gY3VycmVudDtcbiAgICByZXR1cm4gcHJldmlvdXM7XG4gIH0sIHt9KTtcbn0pO1xudmFyIHRvRHJhZ2dhYmxlTWFwID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAoZHJhZ2dhYmxlcykge1xuICByZXR1cm4gZHJhZ2dhYmxlcy5yZWR1Y2UoZnVuY3Rpb24gKHByZXZpb3VzLCBjdXJyZW50KSB7XG4gICAgcHJldmlvdXNbY3VycmVudC5kZXNjcmlwdG9yLmlkXSA9IGN1cnJlbnQ7XG4gICAgcmV0dXJuIHByZXZpb3VzO1xuICB9LCB7fSk7XG59KTtcbnZhciB0b0Ryb3BwYWJsZUxpc3QgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChkcm9wcGFibGVzKSB7XG4gIHJldHVybiB2YWx1ZXMoZHJvcHBhYmxlcyk7XG59KTtcbnZhciB0b0RyYWdnYWJsZUxpc3QgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChkcmFnZ2FibGVzKSB7XG4gIHJldHVybiB2YWx1ZXMoZHJhZ2dhYmxlcyk7XG59KTtcblxudmFyIGdldERyYWdnYWJsZXNJbnNpZGVEcm9wcGFibGUgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChkcm9wcGFibGVJZCwgZHJhZ2dhYmxlcykge1xuICB2YXIgcmVzdWx0ID0gdG9EcmFnZ2FibGVMaXN0KGRyYWdnYWJsZXMpLmZpbHRlcihmdW5jdGlvbiAoZHJhZ2dhYmxlKSB7XG4gICAgcmV0dXJuIGRyb3BwYWJsZUlkID09PSBkcmFnZ2FibGUuZGVzY3JpcHRvci5kcm9wcGFibGVJZDtcbiAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhLmRlc2NyaXB0b3IuaW5kZXggLSBiLmRlc2NyaXB0b3IuaW5kZXg7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbmZ1bmN0aW9uIHRyeUdldERlc3RpbmF0aW9uKGltcGFjdCkge1xuICBpZiAoaW1wYWN0LmF0ICYmIGltcGFjdC5hdC50eXBlID09PSAnUkVPUkRFUicpIHtcbiAgICByZXR1cm4gaW1wYWN0LmF0LmRlc3RpbmF0aW9uO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiB0cnlHZXRDb21iaW5lKGltcGFjdCkge1xuICBpZiAoaW1wYWN0LmF0ICYmIGltcGFjdC5hdC50eXBlID09PSAnQ09NQklORScpIHtcbiAgICByZXR1cm4gaW1wYWN0LmF0LmNvbWJpbmU7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIHJlbW92ZURyYWdnYWJsZUZyb21MaXN0ID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAocmVtb3ZlLCBsaXN0KSB7XG4gIHJldHVybiBsaXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiBpdGVtLmRlc2NyaXB0b3IuaWQgIT09IHJlbW92ZS5kZXNjcmlwdG9yLmlkO1xuICB9KTtcbn0pO1xuXG52YXIgbW92ZVRvTmV4dENvbWJpbmUgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGlzTW92aW5nRm9yd2FyZCA9IF9yZWYuaXNNb3ZpbmdGb3J3YXJkLFxuICAgICAgZHJhZ2dhYmxlID0gX3JlZi5kcmFnZ2FibGUsXG4gICAgICBkZXN0aW5hdGlvbiA9IF9yZWYuZGVzdGluYXRpb24sXG4gICAgICBpbnNpZGVEZXN0aW5hdGlvbiA9IF9yZWYuaW5zaWRlRGVzdGluYXRpb24sXG4gICAgICBwcmV2aW91c0ltcGFjdCA9IF9yZWYucHJldmlvdXNJbXBhY3Q7XG5cbiAgaWYgKCFkZXN0aW5hdGlvbi5pc0NvbWJpbmVFbmFibGVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgbG9jYXRpb24gPSB0cnlHZXREZXN0aW5hdGlvbihwcmV2aW91c0ltcGFjdCk7XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW1wYWN0KHRhcmdldCkge1xuICAgIHZhciBhdCA9IHtcbiAgICAgIHR5cGU6ICdDT01CSU5FJyxcbiAgICAgIGNvbWJpbmU6IHtcbiAgICAgICAgZHJhZ2dhYmxlSWQ6IHRhcmdldCxcbiAgICAgICAgZHJvcHBhYmxlSWQ6IGRlc3RpbmF0aW9uLmRlc2NyaXB0b3IuaWRcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJldmlvdXNJbXBhY3QsIHtcbiAgICAgIGF0OiBhdFxuICAgIH0pO1xuICB9XG5cbiAgdmFyIGFsbCA9IHByZXZpb3VzSW1wYWN0LmRpc3BsYWNlZC5hbGw7XG4gIHZhciBjbG9zZXN0SWQgPSBhbGwubGVuZ3RoID8gYWxsWzBdIDogbnVsbDtcblxuICBpZiAoaXNNb3ZpbmdGb3J3YXJkKSB7XG4gICAgcmV0dXJuIGNsb3Nlc3RJZCA/IGdldEltcGFjdChjbG9zZXN0SWQpIDogbnVsbDtcbiAgfVxuXG4gIHZhciB3aXRob3V0RHJhZ2dhYmxlID0gcmVtb3ZlRHJhZ2dhYmxlRnJvbUxpc3QoZHJhZ2dhYmxlLCBpbnNpZGVEZXN0aW5hdGlvbik7XG5cbiAgaWYgKCFjbG9zZXN0SWQpIHtcbiAgICBpZiAoIXdpdGhvdXREcmFnZ2FibGUubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbGFzdCA9IHdpdGhvdXREcmFnZ2FibGVbd2l0aG91dERyYWdnYWJsZS5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gZ2V0SW1wYWN0KGxhc3QuZGVzY3JpcHRvci5pZCk7XG4gIH1cblxuICB2YXIgaW5kZXhPZkNsb3Nlc3QgPSBmaW5kSW5kZXgod2l0aG91dERyYWdnYWJsZSwgZnVuY3Rpb24gKGQpIHtcbiAgICByZXR1cm4gZC5kZXNjcmlwdG9yLmlkID09PSBjbG9zZXN0SWQ7XG4gIH0pO1xuICAhKGluZGV4T2ZDbG9zZXN0ICE9PSAtMSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDb3VsZCBub3QgZmluZCBkaXNwbGFjZWQgaXRlbSBpbiBzZXQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHZhciBwcm9wb3NlZEluZGV4ID0gaW5kZXhPZkNsb3Nlc3QgLSAxO1xuXG4gIGlmIChwcm9wb3NlZEluZGV4IDwgMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGJlZm9yZSA9IHdpdGhvdXREcmFnZ2FibGVbcHJvcG9zZWRJbmRleF07XG4gIHJldHVybiBnZXRJbXBhY3QoYmVmb3JlLmRlc2NyaXB0b3IuaWQpO1xufSk7XG5cbnZhciBpc0hvbWVPZiA9IChmdW5jdGlvbiAoZHJhZ2dhYmxlLCBkZXN0aW5hdGlvbikge1xuICByZXR1cm4gZHJhZ2dhYmxlLmRlc2NyaXB0b3IuZHJvcHBhYmxlSWQgPT09IGRlc3RpbmF0aW9uLmRlc2NyaXB0b3IuaWQ7XG59KTtcblxudmFyIG5vRGlzcGxhY2VkQnkgPSB7XG4gIHBvaW50OiBvcmlnaW4sXG4gIHZhbHVlOiAwXG59O1xudmFyIGVtcHR5R3JvdXBzID0ge1xuICBpbnZpc2libGU6IHt9LFxuICB2aXNpYmxlOiB7fSxcbiAgYWxsOiBbXVxufTtcbnZhciBub0ltcGFjdCA9IHtcbiAgZGlzcGxhY2VkOiBlbXB0eUdyb3VwcyxcbiAgZGlzcGxhY2VkQnk6IG5vRGlzcGxhY2VkQnksXG4gIGF0OiBudWxsXG59O1xuXG52YXIgaXNXaXRoaW4gPSAoZnVuY3Rpb24gKGxvd2VyQm91bmQsIHVwcGVyQm91bmQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiBsb3dlckJvdW5kIDw9IHZhbHVlICYmIHZhbHVlIDw9IHVwcGVyQm91bmQ7XG4gIH07XG59KTtcblxudmFyIGlzUGFydGlhbGx5VmlzaWJsZVRocm91Z2hGcmFtZSA9IChmdW5jdGlvbiAoZnJhbWUpIHtcbiAgdmFyIGlzV2l0aGluVmVydGljYWwgPSBpc1dpdGhpbihmcmFtZS50b3AsIGZyYW1lLmJvdHRvbSk7XG4gIHZhciBpc1dpdGhpbkhvcml6b250YWwgPSBpc1dpdGhpbihmcmFtZS5sZWZ0LCBmcmFtZS5yaWdodCk7XG4gIHJldHVybiBmdW5jdGlvbiAoc3ViamVjdCkge1xuICAgIHZhciBpc0NvbnRhaW5lZCA9IGlzV2l0aGluVmVydGljYWwoc3ViamVjdC50b3ApICYmIGlzV2l0aGluVmVydGljYWwoc3ViamVjdC5ib3R0b20pICYmIGlzV2l0aGluSG9yaXpvbnRhbChzdWJqZWN0LmxlZnQpICYmIGlzV2l0aGluSG9yaXpvbnRhbChzdWJqZWN0LnJpZ2h0KTtcblxuICAgIGlmIChpc0NvbnRhaW5lZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGlzUGFydGlhbGx5VmlzaWJsZVZlcnRpY2FsbHkgPSBpc1dpdGhpblZlcnRpY2FsKHN1YmplY3QudG9wKSB8fCBpc1dpdGhpblZlcnRpY2FsKHN1YmplY3QuYm90dG9tKTtcbiAgICB2YXIgaXNQYXJ0aWFsbHlWaXNpYmxlSG9yaXpvbnRhbGx5ID0gaXNXaXRoaW5Ib3Jpem9udGFsKHN1YmplY3QubGVmdCkgfHwgaXNXaXRoaW5Ib3Jpem9udGFsKHN1YmplY3QucmlnaHQpO1xuICAgIHZhciBpc1BhcnRpYWxseUNvbnRhaW5lZCA9IGlzUGFydGlhbGx5VmlzaWJsZVZlcnRpY2FsbHkgJiYgaXNQYXJ0aWFsbHlWaXNpYmxlSG9yaXpvbnRhbGx5O1xuXG4gICAgaWYgKGlzUGFydGlhbGx5Q29udGFpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaXNCaWdnZXJWZXJ0aWNhbGx5ID0gc3ViamVjdC50b3AgPCBmcmFtZS50b3AgJiYgc3ViamVjdC5ib3R0b20gPiBmcmFtZS5ib3R0b207XG4gICAgdmFyIGlzQmlnZ2VySG9yaXpvbnRhbGx5ID0gc3ViamVjdC5sZWZ0IDwgZnJhbWUubGVmdCAmJiBzdWJqZWN0LnJpZ2h0ID4gZnJhbWUucmlnaHQ7XG4gICAgdmFyIGlzVGFyZ2V0QmlnZ2VyVGhhbkZyYW1lID0gaXNCaWdnZXJWZXJ0aWNhbGx5ICYmIGlzQmlnZ2VySG9yaXpvbnRhbGx5O1xuXG4gICAgaWYgKGlzVGFyZ2V0QmlnZ2VyVGhhbkZyYW1lKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaXNUYXJnZXRCaWdnZXJPbk9uZUF4aXMgPSBpc0JpZ2dlclZlcnRpY2FsbHkgJiYgaXNQYXJ0aWFsbHlWaXNpYmxlSG9yaXpvbnRhbGx5IHx8IGlzQmlnZ2VySG9yaXpvbnRhbGx5ICYmIGlzUGFydGlhbGx5VmlzaWJsZVZlcnRpY2FsbHk7XG4gICAgcmV0dXJuIGlzVGFyZ2V0QmlnZ2VyT25PbmVBeGlzO1xuICB9O1xufSk7XG5cbnZhciBpc1RvdGFsbHlWaXNpYmxlVGhyb3VnaEZyYW1lID0gKGZ1bmN0aW9uIChmcmFtZSkge1xuICB2YXIgaXNXaXRoaW5WZXJ0aWNhbCA9IGlzV2l0aGluKGZyYW1lLnRvcCwgZnJhbWUuYm90dG9tKTtcbiAgdmFyIGlzV2l0aGluSG9yaXpvbnRhbCA9IGlzV2l0aGluKGZyYW1lLmxlZnQsIGZyYW1lLnJpZ2h0KTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChzdWJqZWN0KSB7XG4gICAgdmFyIGlzQ29udGFpbmVkID0gaXNXaXRoaW5WZXJ0aWNhbChzdWJqZWN0LnRvcCkgJiYgaXNXaXRoaW5WZXJ0aWNhbChzdWJqZWN0LmJvdHRvbSkgJiYgaXNXaXRoaW5Ib3Jpem9udGFsKHN1YmplY3QubGVmdCkgJiYgaXNXaXRoaW5Ib3Jpem9udGFsKHN1YmplY3QucmlnaHQpO1xuICAgIHJldHVybiBpc0NvbnRhaW5lZDtcbiAgfTtcbn0pO1xuXG52YXIgdmVydGljYWwgPSB7XG4gIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgbGluZTogJ3knLFxuICBjcm9zc0F4aXNMaW5lOiAneCcsXG4gIHN0YXJ0OiAndG9wJyxcbiAgZW5kOiAnYm90dG9tJyxcbiAgc2l6ZTogJ2hlaWdodCcsXG4gIGNyb3NzQXhpc1N0YXJ0OiAnbGVmdCcsXG4gIGNyb3NzQXhpc0VuZDogJ3JpZ2h0JyxcbiAgY3Jvc3NBeGlzU2l6ZTogJ3dpZHRoJ1xufTtcbnZhciBob3Jpem9udGFsID0ge1xuICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgbGluZTogJ3gnLFxuICBjcm9zc0F4aXNMaW5lOiAneScsXG4gIHN0YXJ0OiAnbGVmdCcsXG4gIGVuZDogJ3JpZ2h0JyxcbiAgc2l6ZTogJ3dpZHRoJyxcbiAgY3Jvc3NBeGlzU3RhcnQ6ICd0b3AnLFxuICBjcm9zc0F4aXNFbmQ6ICdib3R0b20nLFxuICBjcm9zc0F4aXNTaXplOiAnaGVpZ2h0J1xufTtcblxudmFyIGlzVG90YWxseVZpc2libGVUaHJvdWdoRnJhbWVPbkF4aXMgPSAoZnVuY3Rpb24gKGF4aXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChmcmFtZSkge1xuICAgIHZhciBpc1dpdGhpblZlcnRpY2FsID0gaXNXaXRoaW4oZnJhbWUudG9wLCBmcmFtZS5ib3R0b20pO1xuICAgIHZhciBpc1dpdGhpbkhvcml6b250YWwgPSBpc1dpdGhpbihmcmFtZS5sZWZ0LCBmcmFtZS5yaWdodCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJqZWN0KSB7XG4gICAgICBpZiAoYXhpcyA9PT0gdmVydGljYWwpIHtcbiAgICAgICAgcmV0dXJuIGlzV2l0aGluVmVydGljYWwoc3ViamVjdC50b3ApICYmIGlzV2l0aGluVmVydGljYWwoc3ViamVjdC5ib3R0b20pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNXaXRoaW5Ib3Jpem9udGFsKHN1YmplY3QubGVmdCkgJiYgaXNXaXRoaW5Ib3Jpem9udGFsKHN1YmplY3QucmlnaHQpO1xuICAgIH07XG4gIH07XG59KTtcblxudmFyIGdldERyb3BwYWJsZURpc3BsYWNlZCA9IGZ1bmN0aW9uIGdldERyb3BwYWJsZURpc3BsYWNlZCh0YXJnZXQsIGRlc3RpbmF0aW9uKSB7XG4gIHZhciBkaXNwbGFjZW1lbnQgPSBkZXN0aW5hdGlvbi5mcmFtZSA/IGRlc3RpbmF0aW9uLmZyYW1lLnNjcm9sbC5kaWZmLmRpc3BsYWNlbWVudCA6IG9yaWdpbjtcbiAgcmV0dXJuIG9mZnNldEJ5UG9zaXRpb24odGFyZ2V0LCBkaXNwbGFjZW1lbnQpO1xufTtcblxudmFyIGlzVmlzaWJsZUluRHJvcHBhYmxlID0gZnVuY3Rpb24gaXNWaXNpYmxlSW5Ecm9wcGFibGUodGFyZ2V0LCBkZXN0aW5hdGlvbiwgaXNWaXNpYmxlVGhyb3VnaEZyYW1lRm4pIHtcbiAgaWYgKCFkZXN0aW5hdGlvbi5zdWJqZWN0LmFjdGl2ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBpc1Zpc2libGVUaHJvdWdoRnJhbWVGbihkZXN0aW5hdGlvbi5zdWJqZWN0LmFjdGl2ZSkodGFyZ2V0KTtcbn07XG5cbnZhciBpc1Zpc2libGVJblZpZXdwb3J0ID0gZnVuY3Rpb24gaXNWaXNpYmxlSW5WaWV3cG9ydCh0YXJnZXQsIHZpZXdwb3J0LCBpc1Zpc2libGVUaHJvdWdoRnJhbWVGbikge1xuICByZXR1cm4gaXNWaXNpYmxlVGhyb3VnaEZyYW1lRm4odmlld3BvcnQpKHRhcmdldCk7XG59O1xuXG52YXIgaXNWaXNpYmxlID0gZnVuY3Rpb24gaXNWaXNpYmxlKF9yZWYpIHtcbiAgdmFyIHRvQmVEaXNwbGFjZWQgPSBfcmVmLnRhcmdldCxcbiAgICAgIGRlc3RpbmF0aW9uID0gX3JlZi5kZXN0aW5hdGlvbixcbiAgICAgIHZpZXdwb3J0ID0gX3JlZi52aWV3cG9ydCxcbiAgICAgIHdpdGhEcm9wcGFibGVEaXNwbGFjZW1lbnQgPSBfcmVmLndpdGhEcm9wcGFibGVEaXNwbGFjZW1lbnQsXG4gICAgICBpc1Zpc2libGVUaHJvdWdoRnJhbWVGbiA9IF9yZWYuaXNWaXNpYmxlVGhyb3VnaEZyYW1lRm47XG4gIHZhciBkaXNwbGFjZWRUYXJnZXQgPSB3aXRoRHJvcHBhYmxlRGlzcGxhY2VtZW50ID8gZ2V0RHJvcHBhYmxlRGlzcGxhY2VkKHRvQmVEaXNwbGFjZWQsIGRlc3RpbmF0aW9uKSA6IHRvQmVEaXNwbGFjZWQ7XG4gIHJldHVybiBpc1Zpc2libGVJbkRyb3BwYWJsZShkaXNwbGFjZWRUYXJnZXQsIGRlc3RpbmF0aW9uLCBpc1Zpc2libGVUaHJvdWdoRnJhbWVGbikgJiYgaXNWaXNpYmxlSW5WaWV3cG9ydChkaXNwbGFjZWRUYXJnZXQsIHZpZXdwb3J0LCBpc1Zpc2libGVUaHJvdWdoRnJhbWVGbik7XG59O1xuXG52YXIgaXNQYXJ0aWFsbHlWaXNpYmxlID0gZnVuY3Rpb24gaXNQYXJ0aWFsbHlWaXNpYmxlKGFyZ3MpIHtcbiAgcmV0dXJuIGlzVmlzaWJsZShfZXh0ZW5kcyh7fSwgYXJncywge1xuICAgIGlzVmlzaWJsZVRocm91Z2hGcmFtZUZuOiBpc1BhcnRpYWxseVZpc2libGVUaHJvdWdoRnJhbWVcbiAgfSkpO1xufTtcbnZhciBpc1RvdGFsbHlWaXNpYmxlID0gZnVuY3Rpb24gaXNUb3RhbGx5VmlzaWJsZShhcmdzKSB7XG4gIHJldHVybiBpc1Zpc2libGUoX2V4dGVuZHMoe30sIGFyZ3MsIHtcbiAgICBpc1Zpc2libGVUaHJvdWdoRnJhbWVGbjogaXNUb3RhbGx5VmlzaWJsZVRocm91Z2hGcmFtZVxuICB9KSk7XG59O1xudmFyIGlzVG90YWxseVZpc2libGVPbkF4aXMgPSBmdW5jdGlvbiBpc1RvdGFsbHlWaXNpYmxlT25BeGlzKGFyZ3MpIHtcbiAgcmV0dXJuIGlzVmlzaWJsZShfZXh0ZW5kcyh7fSwgYXJncywge1xuICAgIGlzVmlzaWJsZVRocm91Z2hGcmFtZUZuOiBpc1RvdGFsbHlWaXNpYmxlVGhyb3VnaEZyYW1lT25BeGlzKGFyZ3MuZGVzdGluYXRpb24uYXhpcylcbiAgfSkpO1xufTtcblxudmFyIGdldFNob3VsZEFuaW1hdGUgPSBmdW5jdGlvbiBnZXRTaG91bGRBbmltYXRlKGlkLCBsYXN0LCBmb3JjZVNob3VsZEFuaW1hdGUpIHtcbiAgaWYgKHR5cGVvZiBmb3JjZVNob3VsZEFuaW1hdGUgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiBmb3JjZVNob3VsZEFuaW1hdGU7XG4gIH1cblxuICBpZiAoIWxhc3QpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHZhciBpbnZpc2libGUgPSBsYXN0LmludmlzaWJsZSxcbiAgICAgIHZpc2libGUgPSBsYXN0LnZpc2libGU7XG5cbiAgaWYgKGludmlzaWJsZVtpZF0pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcHJldmlvdXMgPSB2aXNpYmxlW2lkXTtcbiAgcmV0dXJuIHByZXZpb3VzID8gcHJldmlvdXMuc2hvdWxkQW5pbWF0ZSA6IHRydWU7XG59O1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQoZHJhZ2dhYmxlLCBkaXNwbGFjZWRCeSkge1xuICB2YXIgbWFyZ2luQm94ID0gZHJhZ2dhYmxlLnBhZ2UubWFyZ2luQm94O1xuICB2YXIgZXhwYW5kQnkgPSB7XG4gICAgdG9wOiBkaXNwbGFjZWRCeS5wb2ludC55LFxuICAgIHJpZ2h0OiAwLFxuICAgIGJvdHRvbTogMCxcbiAgICBsZWZ0OiBkaXNwbGFjZWRCeS5wb2ludC54XG4gIH07XG4gIHJldHVybiBnZXRSZWN0KGV4cGFuZChtYXJnaW5Cb3gsIGV4cGFuZEJ5KSk7XG59XG5cbmZ1bmN0aW9uIGdldERpc3BsYWNlbWVudEdyb3VwcyhfcmVmKSB7XG4gIHZhciBhZnRlckRyYWdnaW5nID0gX3JlZi5hZnRlckRyYWdnaW5nLFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmLmRlc3RpbmF0aW9uLFxuICAgICAgZGlzcGxhY2VkQnkgPSBfcmVmLmRpc3BsYWNlZEJ5LFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0LFxuICAgICAgZm9yY2VTaG91bGRBbmltYXRlID0gX3JlZi5mb3JjZVNob3VsZEFuaW1hdGUsXG4gICAgICBsYXN0ID0gX3JlZi5sYXN0O1xuICByZXR1cm4gYWZ0ZXJEcmFnZ2luZy5yZWR1Y2UoZnVuY3Rpb24gcHJvY2Vzcyhncm91cHMsIGRyYWdnYWJsZSkge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoZHJhZ2dhYmxlLCBkaXNwbGFjZWRCeSk7XG4gICAgdmFyIGlkID0gZHJhZ2dhYmxlLmRlc2NyaXB0b3IuaWQ7XG4gICAgZ3JvdXBzLmFsbC5wdXNoKGlkKTtcbiAgICB2YXIgaXNWaXNpYmxlID0gaXNQYXJ0aWFsbHlWaXNpYmxlKHtcbiAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0LFxuICAgICAgd2l0aERyb3BwYWJsZURpc3BsYWNlbWVudDogdHJ1ZVxuICAgIH0pO1xuXG4gICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgIGdyb3Vwcy5pbnZpc2libGVbZHJhZ2dhYmxlLmRlc2NyaXB0b3IuaWRdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBncm91cHM7XG4gICAgfVxuXG4gICAgdmFyIHNob3VsZEFuaW1hdGUgPSBnZXRTaG91bGRBbmltYXRlKGlkLCBsYXN0LCBmb3JjZVNob3VsZEFuaW1hdGUpO1xuICAgIHZhciBkaXNwbGFjZW1lbnQgPSB7XG4gICAgICBkcmFnZ2FibGVJZDogaWQsXG4gICAgICBzaG91bGRBbmltYXRlOiBzaG91bGRBbmltYXRlXG4gICAgfTtcbiAgICBncm91cHMudmlzaWJsZVtpZF0gPSBkaXNwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIGdyb3VwcztcbiAgfSwge1xuICAgIGFsbDogW10sXG4gICAgdmlzaWJsZToge30sXG4gICAgaW52aXNpYmxlOiB7fVxuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0SW5kZXhPZkxhc3RJdGVtKGRyYWdnYWJsZXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFkcmFnZ2FibGVzLmxlbmd0aCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgdmFyIGluZGV4T2ZMYXN0SXRlbSA9IGRyYWdnYWJsZXNbZHJhZ2dhYmxlcy5sZW5ndGggLSAxXS5kZXNjcmlwdG9yLmluZGV4O1xuICByZXR1cm4gb3B0aW9ucy5pbkhvbWVMaXN0ID8gaW5kZXhPZkxhc3RJdGVtIDogaW5kZXhPZkxhc3RJdGVtICsgMTtcbn1cblxuZnVuY3Rpb24gZ29BdEVuZChfcmVmKSB7XG4gIHZhciBpbnNpZGVEZXN0aW5hdGlvbiA9IF9yZWYuaW5zaWRlRGVzdGluYXRpb24sXG4gICAgICBpbkhvbWVMaXN0ID0gX3JlZi5pbkhvbWVMaXN0LFxuICAgICAgZGlzcGxhY2VkQnkgPSBfcmVmLmRpc3BsYWNlZEJ5LFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmLmRlc3RpbmF0aW9uO1xuICB2YXIgbmV3SW5kZXggPSBnZXRJbmRleE9mTGFzdEl0ZW0oaW5zaWRlRGVzdGluYXRpb24sIHtcbiAgICBpbkhvbWVMaXN0OiBpbkhvbWVMaXN0XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGRpc3BsYWNlZDogZW1wdHlHcm91cHMsXG4gICAgZGlzcGxhY2VkQnk6IGRpc3BsYWNlZEJ5LFxuICAgIGF0OiB7XG4gICAgICB0eXBlOiAnUkVPUkRFUicsXG4gICAgICBkZXN0aW5hdGlvbjoge1xuICAgICAgICBkcm9wcGFibGVJZDogZGVzdGluYXRpb24uZGVzY3JpcHRvci5pZCxcbiAgICAgICAgaW5kZXg6IG5ld0luZGV4XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVSZW9yZGVySW1wYWN0KF9yZWYyKSB7XG4gIHZhciBkcmFnZ2FibGUgPSBfcmVmMi5kcmFnZ2FibGUsXG4gICAgICBpbnNpZGVEZXN0aW5hdGlvbiA9IF9yZWYyLmluc2lkZURlc3RpbmF0aW9uLFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmMi5kZXN0aW5hdGlvbixcbiAgICAgIHZpZXdwb3J0ID0gX3JlZjIudmlld3BvcnQsXG4gICAgICBkaXNwbGFjZWRCeSA9IF9yZWYyLmRpc3BsYWNlZEJ5LFxuICAgICAgbGFzdCA9IF9yZWYyLmxhc3QsXG4gICAgICBpbmRleCA9IF9yZWYyLmluZGV4LFxuICAgICAgZm9yY2VTaG91bGRBbmltYXRlID0gX3JlZjIuZm9yY2VTaG91bGRBbmltYXRlO1xuICB2YXIgaW5Ib21lTGlzdCA9IGlzSG9tZU9mKGRyYWdnYWJsZSwgZGVzdGluYXRpb24pO1xuXG4gIGlmIChpbmRleCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGdvQXRFbmQoe1xuICAgICAgaW5zaWRlRGVzdGluYXRpb246IGluc2lkZURlc3RpbmF0aW9uLFxuICAgICAgaW5Ib21lTGlzdDogaW5Ib21lTGlzdCxcbiAgICAgIGRpc3BsYWNlZEJ5OiBkaXNwbGFjZWRCeSxcbiAgICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvblxuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1hdGNoID0gZmluZChpbnNpZGVEZXN0aW5hdGlvbiwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbS5kZXNjcmlwdG9yLmluZGV4ID09PSBpbmRleDtcbiAgfSk7XG5cbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybiBnb0F0RW5kKHtcbiAgICAgIGluc2lkZURlc3RpbmF0aW9uOiBpbnNpZGVEZXN0aW5hdGlvbixcbiAgICAgIGluSG9tZUxpc3Q6IGluSG9tZUxpc3QsXG4gICAgICBkaXNwbGFjZWRCeTogZGlzcGxhY2VkQnksXG4gICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb25cbiAgICB9KTtcbiAgfVxuXG4gIHZhciB3aXRob3V0RHJhZ2dpbmcgPSByZW1vdmVEcmFnZ2FibGVGcm9tTGlzdChkcmFnZ2FibGUsIGluc2lkZURlc3RpbmF0aW9uKTtcbiAgdmFyIHNsaWNlRnJvbSA9IGluc2lkZURlc3RpbmF0aW9uLmluZGV4T2YobWF0Y2gpO1xuICB2YXIgaW1wYWN0ZWQgPSB3aXRob3V0RHJhZ2dpbmcuc2xpY2Uoc2xpY2VGcm9tKTtcbiAgdmFyIGRpc3BsYWNlZCA9IGdldERpc3BsYWNlbWVudEdyb3Vwcyh7XG4gICAgYWZ0ZXJEcmFnZ2luZzogaW1wYWN0ZWQsXG4gICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgIGRpc3BsYWNlZEJ5OiBkaXNwbGFjZWRCeSxcbiAgICBsYXN0OiBsYXN0LFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydC5mcmFtZSxcbiAgICBmb3JjZVNob3VsZEFuaW1hdGU6IGZvcmNlU2hvdWxkQW5pbWF0ZVxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBkaXNwbGFjZWQ6IGRpc3BsYWNlZCxcbiAgICBkaXNwbGFjZWRCeTogZGlzcGxhY2VkQnksXG4gICAgYXQ6IHtcbiAgICAgIHR5cGU6ICdSRU9SREVSJyxcbiAgICAgIGRlc3RpbmF0aW9uOiB7XG4gICAgICAgIGRyb3BwYWJsZUlkOiBkZXN0aW5hdGlvbi5kZXNjcmlwdG9yLmlkLFxuICAgICAgICBpbmRleDogaW5kZXhcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGRpZFN0YXJ0QWZ0ZXJDcml0aWNhbChkcmFnZ2FibGVJZCwgYWZ0ZXJDcml0aWNhbCkge1xuICByZXR1cm4gQm9vbGVhbihhZnRlckNyaXRpY2FsLmVmZmVjdGVkW2RyYWdnYWJsZUlkXSk7XG59XG5cbnZhciBmcm9tQ29tYmluZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgaXNNb3ZpbmdGb3J3YXJkID0gX3JlZi5pc01vdmluZ0ZvcndhcmQsXG4gICAgICBkZXN0aW5hdGlvbiA9IF9yZWYuZGVzdGluYXRpb24sXG4gICAgICBkcmFnZ2FibGVzID0gX3JlZi5kcmFnZ2FibGVzLFxuICAgICAgY29tYmluZSA9IF9yZWYuY29tYmluZSxcbiAgICAgIGFmdGVyQ3JpdGljYWwgPSBfcmVmLmFmdGVyQ3JpdGljYWw7XG5cbiAgaWYgKCFkZXN0aW5hdGlvbi5pc0NvbWJpbmVFbmFibGVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgY29tYmluZUlkID0gY29tYmluZS5kcmFnZ2FibGVJZDtcbiAgdmFyIGNvbWJpbmVXaXRoID0gZHJhZ2dhYmxlc1tjb21iaW5lSWRdO1xuICB2YXIgY29tYmluZVdpdGhJbmRleCA9IGNvbWJpbmVXaXRoLmRlc2NyaXB0b3IuaW5kZXg7XG4gIHZhciBkaWRDb21iaW5lV2l0aFN0YXJ0QWZ0ZXJDcml0aWNhbCA9IGRpZFN0YXJ0QWZ0ZXJDcml0aWNhbChjb21iaW5lSWQsIGFmdGVyQ3JpdGljYWwpO1xuXG4gIGlmIChkaWRDb21iaW5lV2l0aFN0YXJ0QWZ0ZXJDcml0aWNhbCkge1xuICAgIGlmIChpc01vdmluZ0ZvcndhcmQpIHtcbiAgICAgIHJldHVybiBjb21iaW5lV2l0aEluZGV4O1xuICAgIH1cblxuICAgIHJldHVybiBjb21iaW5lV2l0aEluZGV4IC0gMTtcbiAgfVxuXG4gIGlmIChpc01vdmluZ0ZvcndhcmQpIHtcbiAgICByZXR1cm4gY29tYmluZVdpdGhJbmRleCArIDE7XG4gIH1cblxuICByZXR1cm4gY29tYmluZVdpdGhJbmRleDtcbn0pO1xuXG52YXIgZnJvbVJlb3JkZXIgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGlzTW92aW5nRm9yd2FyZCA9IF9yZWYuaXNNb3ZpbmdGb3J3YXJkLFxuICAgICAgaXNJbkhvbWVMaXN0ID0gX3JlZi5pc0luSG9tZUxpc3QsXG4gICAgICBpbnNpZGVEZXN0aW5hdGlvbiA9IF9yZWYuaW5zaWRlRGVzdGluYXRpb24sXG4gICAgICBsb2NhdGlvbiA9IF9yZWYubG9jYXRpb247XG5cbiAgaWYgKCFpbnNpZGVEZXN0aW5hdGlvbi5sZW5ndGgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBjdXJyZW50SW5kZXggPSBsb2NhdGlvbi5pbmRleDtcbiAgdmFyIHByb3Bvc2VkSW5kZXggPSBpc01vdmluZ0ZvcndhcmQgPyBjdXJyZW50SW5kZXggKyAxIDogY3VycmVudEluZGV4IC0gMTtcbiAgdmFyIGZpcnN0SW5kZXggPSBpbnNpZGVEZXN0aW5hdGlvblswXS5kZXNjcmlwdG9yLmluZGV4O1xuICB2YXIgbGFzdEluZGV4ID0gaW5zaWRlRGVzdGluYXRpb25baW5zaWRlRGVzdGluYXRpb24ubGVuZ3RoIC0gMV0uZGVzY3JpcHRvci5pbmRleDtcbiAgdmFyIHVwcGVyQm91bmQgPSBpc0luSG9tZUxpc3QgPyBsYXN0SW5kZXggOiBsYXN0SW5kZXggKyAxO1xuXG4gIGlmIChwcm9wb3NlZEluZGV4IDwgZmlyc3RJbmRleCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHByb3Bvc2VkSW5kZXggPiB1cHBlckJvdW5kKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gcHJvcG9zZWRJbmRleDtcbn0pO1xuXG52YXIgbW92ZVRvTmV4dEluZGV4ID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBpc01vdmluZ0ZvcndhcmQgPSBfcmVmLmlzTW92aW5nRm9yd2FyZCxcbiAgICAgIGlzSW5Ib21lTGlzdCA9IF9yZWYuaXNJbkhvbWVMaXN0LFxuICAgICAgZHJhZ2dhYmxlID0gX3JlZi5kcmFnZ2FibGUsXG4gICAgICBkcmFnZ2FibGVzID0gX3JlZi5kcmFnZ2FibGVzLFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmLmRlc3RpbmF0aW9uLFxuICAgICAgaW5zaWRlRGVzdGluYXRpb24gPSBfcmVmLmluc2lkZURlc3RpbmF0aW9uLFxuICAgICAgcHJldmlvdXNJbXBhY3QgPSBfcmVmLnByZXZpb3VzSW1wYWN0LFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0LFxuICAgICAgYWZ0ZXJDcml0aWNhbCA9IF9yZWYuYWZ0ZXJDcml0aWNhbDtcbiAgdmFyIHdhc0F0ID0gcHJldmlvdXNJbXBhY3QuYXQ7XG4gICF3YXNBdCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBtb3ZlIGluIGRpcmVjdGlvbiB3aXRob3V0IHByZXZpb3VzIGltcGFjdCBsb2NhdGlvbicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcblxuICBpZiAod2FzQXQudHlwZSA9PT0gJ1JFT1JERVInKSB7XG4gICAgdmFyIF9uZXdJbmRleCA9IGZyb21SZW9yZGVyKHtcbiAgICAgIGlzTW92aW5nRm9yd2FyZDogaXNNb3ZpbmdGb3J3YXJkLFxuICAgICAgaXNJbkhvbWVMaXN0OiBpc0luSG9tZUxpc3QsXG4gICAgICBsb2NhdGlvbjogd2FzQXQuZGVzdGluYXRpb24sXG4gICAgICBpbnNpZGVEZXN0aW5hdGlvbjogaW5zaWRlRGVzdGluYXRpb25cbiAgICB9KTtcblxuICAgIGlmIChfbmV3SW5kZXggPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbGN1bGF0ZVJlb3JkZXJJbXBhY3Qoe1xuICAgICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgICBpbnNpZGVEZXN0aW5hdGlvbjogaW5zaWRlRGVzdGluYXRpb24sXG4gICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgICBsYXN0OiBwcmV2aW91c0ltcGFjdC5kaXNwbGFjZWQsXG4gICAgICBkaXNwbGFjZWRCeTogcHJldmlvdXNJbXBhY3QuZGlzcGxhY2VkQnksXG4gICAgICBpbmRleDogX25ld0luZGV4XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbmV3SW5kZXggPSBmcm9tQ29tYmluZSh7XG4gICAgaXNNb3ZpbmdGb3J3YXJkOiBpc01vdmluZ0ZvcndhcmQsXG4gICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgIGRpc3BsYWNlZDogcHJldmlvdXNJbXBhY3QuZGlzcGxhY2VkLFxuICAgIGRyYWdnYWJsZXM6IGRyYWdnYWJsZXMsXG4gICAgY29tYmluZTogd2FzQXQuY29tYmluZSxcbiAgICBhZnRlckNyaXRpY2FsOiBhZnRlckNyaXRpY2FsXG4gIH0pO1xuXG4gIGlmIChuZXdJbmRleCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gY2FsY3VsYXRlUmVvcmRlckltcGFjdCh7XG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgaW5zaWRlRGVzdGluYXRpb246IGluc2lkZURlc3RpbmF0aW9uLFxuICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgbGFzdDogcHJldmlvdXNJbXBhY3QuZGlzcGxhY2VkLFxuICAgIGRpc3BsYWNlZEJ5OiBwcmV2aW91c0ltcGFjdC5kaXNwbGFjZWRCeSxcbiAgICBpbmRleDogbmV3SW5kZXhcbiAgfSk7XG59KTtcblxudmFyIGdldENvbWJpbmVkSXRlbURpc3BsYWNlbWVudCA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZGlzcGxhY2VkID0gX3JlZi5kaXNwbGFjZWQsXG4gICAgICBhZnRlckNyaXRpY2FsID0gX3JlZi5hZnRlckNyaXRpY2FsLFxuICAgICAgY29tYmluZVdpdGggPSBfcmVmLmNvbWJpbmVXaXRoLFxuICAgICAgZGlzcGxhY2VkQnkgPSBfcmVmLmRpc3BsYWNlZEJ5O1xuICB2YXIgaXNEaXNwbGFjZWQgPSBCb29sZWFuKGRpc3BsYWNlZC52aXNpYmxlW2NvbWJpbmVXaXRoXSB8fCBkaXNwbGFjZWQuaW52aXNpYmxlW2NvbWJpbmVXaXRoXSk7XG5cbiAgaWYgKGRpZFN0YXJ0QWZ0ZXJDcml0aWNhbChjb21iaW5lV2l0aCwgYWZ0ZXJDcml0aWNhbCkpIHtcbiAgICByZXR1cm4gaXNEaXNwbGFjZWQgPyBvcmlnaW4gOiBuZWdhdGUoZGlzcGxhY2VkQnkucG9pbnQpO1xuICB9XG5cbiAgcmV0dXJuIGlzRGlzcGxhY2VkID8gZGlzcGxhY2VkQnkucG9pbnQgOiBvcmlnaW47XG59KTtcblxudmFyIHdoZW5Db21iaW5pbmcgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGFmdGVyQ3JpdGljYWwgPSBfcmVmLmFmdGVyQ3JpdGljYWwsXG4gICAgICBpbXBhY3QgPSBfcmVmLmltcGFjdCxcbiAgICAgIGRyYWdnYWJsZXMgPSBfcmVmLmRyYWdnYWJsZXM7XG4gIHZhciBjb21iaW5lID0gdHJ5R2V0Q29tYmluZShpbXBhY3QpO1xuICAhY29tYmluZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB2YXIgY29tYmluZVdpdGggPSBjb21iaW5lLmRyYWdnYWJsZUlkO1xuICB2YXIgY2VudGVyID0gZHJhZ2dhYmxlc1tjb21iaW5lV2l0aF0ucGFnZS5ib3JkZXJCb3guY2VudGVyO1xuICB2YXIgZGlzcGxhY2VCeSA9IGdldENvbWJpbmVkSXRlbURpc3BsYWNlbWVudCh7XG4gICAgZGlzcGxhY2VkOiBpbXBhY3QuZGlzcGxhY2VkLFxuICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWwsXG4gICAgY29tYmluZVdpdGg6IGNvbWJpbmVXaXRoLFxuICAgIGRpc3BsYWNlZEJ5OiBpbXBhY3QuZGlzcGxhY2VkQnlcbiAgfSk7XG4gIHJldHVybiBhZGQoY2VudGVyLCBkaXNwbGFjZUJ5KTtcbn0pO1xuXG52YXIgZGlzdGFuY2VGcm9tU3RhcnRUb0JvcmRlckJveENlbnRlciA9IGZ1bmN0aW9uIGRpc3RhbmNlRnJvbVN0YXJ0VG9Cb3JkZXJCb3hDZW50ZXIoYXhpcywgYm94KSB7XG4gIHJldHVybiBib3gubWFyZ2luW2F4aXMuc3RhcnRdICsgYm94LmJvcmRlckJveFtheGlzLnNpemVdIC8gMjtcbn07XG5cbnZhciBkaXN0YW5jZUZyb21FbmRUb0JvcmRlckJveENlbnRlciA9IGZ1bmN0aW9uIGRpc3RhbmNlRnJvbUVuZFRvQm9yZGVyQm94Q2VudGVyKGF4aXMsIGJveCkge1xuICByZXR1cm4gYm94Lm1hcmdpbltheGlzLmVuZF0gKyBib3guYm9yZGVyQm94W2F4aXMuc2l6ZV0gLyAyO1xufTtcblxudmFyIGdldENyb3NzQXhpc0JvcmRlckJveENlbnRlciA9IGZ1bmN0aW9uIGdldENyb3NzQXhpc0JvcmRlckJveENlbnRlcihheGlzLCB0YXJnZXQsIGlzTW92aW5nKSB7XG4gIHJldHVybiB0YXJnZXRbYXhpcy5jcm9zc0F4aXNTdGFydF0gKyBpc01vdmluZy5tYXJnaW5bYXhpcy5jcm9zc0F4aXNTdGFydF0gKyBpc01vdmluZy5ib3JkZXJCb3hbYXhpcy5jcm9zc0F4aXNTaXplXSAvIDI7XG59O1xuXG52YXIgZ29BZnRlciA9IGZ1bmN0aW9uIGdvQWZ0ZXIoX3JlZikge1xuICB2YXIgYXhpcyA9IF9yZWYuYXhpcyxcbiAgICAgIG1vdmVSZWxhdGl2ZVRvID0gX3JlZi5tb3ZlUmVsYXRpdmVUbyxcbiAgICAgIGlzTW92aW5nID0gX3JlZi5pc01vdmluZztcbiAgcmV0dXJuIHBhdGNoKGF4aXMubGluZSwgbW92ZVJlbGF0aXZlVG8ubWFyZ2luQm94W2F4aXMuZW5kXSArIGRpc3RhbmNlRnJvbVN0YXJ0VG9Cb3JkZXJCb3hDZW50ZXIoYXhpcywgaXNNb3ZpbmcpLCBnZXRDcm9zc0F4aXNCb3JkZXJCb3hDZW50ZXIoYXhpcywgbW92ZVJlbGF0aXZlVG8ubWFyZ2luQm94LCBpc01vdmluZykpO1xufTtcbnZhciBnb0JlZm9yZSA9IGZ1bmN0aW9uIGdvQmVmb3JlKF9yZWYyKSB7XG4gIHZhciBheGlzID0gX3JlZjIuYXhpcyxcbiAgICAgIG1vdmVSZWxhdGl2ZVRvID0gX3JlZjIubW92ZVJlbGF0aXZlVG8sXG4gICAgICBpc01vdmluZyA9IF9yZWYyLmlzTW92aW5nO1xuICByZXR1cm4gcGF0Y2goYXhpcy5saW5lLCBtb3ZlUmVsYXRpdmVUby5tYXJnaW5Cb3hbYXhpcy5zdGFydF0gLSBkaXN0YW5jZUZyb21FbmRUb0JvcmRlckJveENlbnRlcihheGlzLCBpc01vdmluZyksIGdldENyb3NzQXhpc0JvcmRlckJveENlbnRlcihheGlzLCBtb3ZlUmVsYXRpdmVUby5tYXJnaW5Cb3gsIGlzTW92aW5nKSk7XG59O1xudmFyIGdvSW50b1N0YXJ0ID0gZnVuY3Rpb24gZ29JbnRvU3RhcnQoX3JlZjMpIHtcbiAgdmFyIGF4aXMgPSBfcmVmMy5heGlzLFxuICAgICAgbW92ZUludG8gPSBfcmVmMy5tb3ZlSW50byxcbiAgICAgIGlzTW92aW5nID0gX3JlZjMuaXNNb3Zpbmc7XG4gIHJldHVybiBwYXRjaChheGlzLmxpbmUsIG1vdmVJbnRvLmNvbnRlbnRCb3hbYXhpcy5zdGFydF0gKyBkaXN0YW5jZUZyb21TdGFydFRvQm9yZGVyQm94Q2VudGVyKGF4aXMsIGlzTW92aW5nKSwgZ2V0Q3Jvc3NBeGlzQm9yZGVyQm94Q2VudGVyKGF4aXMsIG1vdmVJbnRvLmNvbnRlbnRCb3gsIGlzTW92aW5nKSk7XG59O1xuXG52YXIgd2hlblJlb3JkZXJpbmcgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGltcGFjdCA9IF9yZWYuaW1wYWN0LFxuICAgICAgZHJhZ2dhYmxlID0gX3JlZi5kcmFnZ2FibGUsXG4gICAgICBkcmFnZ2FibGVzID0gX3JlZi5kcmFnZ2FibGVzLFxuICAgICAgZHJvcHBhYmxlID0gX3JlZi5kcm9wcGFibGUsXG4gICAgICBhZnRlckNyaXRpY2FsID0gX3JlZi5hZnRlckNyaXRpY2FsO1xuICB2YXIgaW5zaWRlRGVzdGluYXRpb24gPSBnZXREcmFnZ2FibGVzSW5zaWRlRHJvcHBhYmxlKGRyb3BwYWJsZS5kZXNjcmlwdG9yLmlkLCBkcmFnZ2FibGVzKTtcbiAgdmFyIGRyYWdnYWJsZVBhZ2UgPSBkcmFnZ2FibGUucGFnZTtcbiAgdmFyIGF4aXMgPSBkcm9wcGFibGUuYXhpcztcblxuICBpZiAoIWluc2lkZURlc3RpbmF0aW9uLmxlbmd0aCkge1xuICAgIHJldHVybiBnb0ludG9TdGFydCh7XG4gICAgICBheGlzOiBheGlzLFxuICAgICAgbW92ZUludG86IGRyb3BwYWJsZS5wYWdlLFxuICAgICAgaXNNb3Zpbmc6IGRyYWdnYWJsZVBhZ2VcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBkaXNwbGFjZWQgPSBpbXBhY3QuZGlzcGxhY2VkLFxuICAgICAgZGlzcGxhY2VkQnkgPSBpbXBhY3QuZGlzcGxhY2VkQnk7XG4gIHZhciBjbG9zZXN0QWZ0ZXIgPSBkaXNwbGFjZWQuYWxsWzBdO1xuXG4gIGlmIChjbG9zZXN0QWZ0ZXIpIHtcbiAgICB2YXIgY2xvc2VzdCA9IGRyYWdnYWJsZXNbY2xvc2VzdEFmdGVyXTtcblxuICAgIGlmIChkaWRTdGFydEFmdGVyQ3JpdGljYWwoY2xvc2VzdEFmdGVyLCBhZnRlckNyaXRpY2FsKSkge1xuICAgICAgcmV0dXJuIGdvQmVmb3JlKHtcbiAgICAgICAgYXhpczogYXhpcyxcbiAgICAgICAgbW92ZVJlbGF0aXZlVG86IGNsb3Nlc3QucGFnZSxcbiAgICAgICAgaXNNb3Zpbmc6IGRyYWdnYWJsZVBhZ2VcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciB3aXRoRGlzcGxhY2VtZW50ID0gb2Zmc2V0KGNsb3Nlc3QucGFnZSwgZGlzcGxhY2VkQnkucG9pbnQpO1xuICAgIHJldHVybiBnb0JlZm9yZSh7XG4gICAgICBheGlzOiBheGlzLFxuICAgICAgbW92ZVJlbGF0aXZlVG86IHdpdGhEaXNwbGFjZW1lbnQsXG4gICAgICBpc01vdmluZzogZHJhZ2dhYmxlUGFnZVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIGxhc3QgPSBpbnNpZGVEZXN0aW5hdGlvbltpbnNpZGVEZXN0aW5hdGlvbi5sZW5ndGggLSAxXTtcblxuICBpZiAobGFzdC5kZXNjcmlwdG9yLmlkID09PSBkcmFnZ2FibGUuZGVzY3JpcHRvci5pZCkge1xuICAgIHJldHVybiBkcmFnZ2FibGVQYWdlLmJvcmRlckJveC5jZW50ZXI7XG4gIH1cblxuICBpZiAoZGlkU3RhcnRBZnRlckNyaXRpY2FsKGxhc3QuZGVzY3JpcHRvci5pZCwgYWZ0ZXJDcml0aWNhbCkpIHtcbiAgICB2YXIgcGFnZSA9IG9mZnNldChsYXN0LnBhZ2UsIG5lZ2F0ZShhZnRlckNyaXRpY2FsLmRpc3BsYWNlZEJ5LnBvaW50KSk7XG4gICAgcmV0dXJuIGdvQWZ0ZXIoe1xuICAgICAgYXhpczogYXhpcyxcbiAgICAgIG1vdmVSZWxhdGl2ZVRvOiBwYWdlLFxuICAgICAgaXNNb3Zpbmc6IGRyYWdnYWJsZVBhZ2VcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBnb0FmdGVyKHtcbiAgICBheGlzOiBheGlzLFxuICAgIG1vdmVSZWxhdGl2ZVRvOiBsYXN0LnBhZ2UsXG4gICAgaXNNb3Zpbmc6IGRyYWdnYWJsZVBhZ2VcbiAgfSk7XG59KTtcblxudmFyIHdpdGhEcm9wcGFibGVEaXNwbGFjZW1lbnQgPSAoZnVuY3Rpb24gKGRyb3BwYWJsZSwgcG9pbnQpIHtcbiAgdmFyIGZyYW1lID0gZHJvcHBhYmxlLmZyYW1lO1xuXG4gIGlmICghZnJhbWUpIHtcbiAgICByZXR1cm4gcG9pbnQ7XG4gIH1cblxuICByZXR1cm4gYWRkKHBvaW50LCBmcmFtZS5zY3JvbGwuZGlmZi5kaXNwbGFjZW1lbnQpO1xufSk7XG5cbnZhciBnZXRSZXN1bHRXaXRob3V0RHJvcHBhYmxlRGlzcGxhY2VtZW50ID0gZnVuY3Rpb24gZ2V0UmVzdWx0V2l0aG91dERyb3BwYWJsZURpc3BsYWNlbWVudChfcmVmKSB7XG4gIHZhciBpbXBhY3QgPSBfcmVmLmltcGFjdCxcbiAgICAgIGRyYWdnYWJsZSA9IF9yZWYuZHJhZ2dhYmxlLFxuICAgICAgZHJvcHBhYmxlID0gX3JlZi5kcm9wcGFibGUsXG4gICAgICBkcmFnZ2FibGVzID0gX3JlZi5kcmFnZ2FibGVzLFxuICAgICAgYWZ0ZXJDcml0aWNhbCA9IF9yZWYuYWZ0ZXJDcml0aWNhbDtcbiAgdmFyIG9yaWdpbmFsID0gZHJhZ2dhYmxlLnBhZ2UuYm9yZGVyQm94LmNlbnRlcjtcbiAgdmFyIGF0ID0gaW1wYWN0LmF0O1xuXG4gIGlmICghZHJvcHBhYmxlKSB7XG4gICAgcmV0dXJuIG9yaWdpbmFsO1xuICB9XG5cbiAgaWYgKCFhdCkge1xuICAgIHJldHVybiBvcmlnaW5hbDtcbiAgfVxuXG4gIGlmIChhdC50eXBlID09PSAnUkVPUkRFUicpIHtcbiAgICByZXR1cm4gd2hlblJlb3JkZXJpbmcoe1xuICAgICAgaW1wYWN0OiBpbXBhY3QsXG4gICAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICAgIGRyYWdnYWJsZXM6IGRyYWdnYWJsZXMsXG4gICAgICBkcm9wcGFibGU6IGRyb3BwYWJsZSxcbiAgICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWxcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB3aGVuQ29tYmluaW5nKHtcbiAgICBpbXBhY3Q6IGltcGFjdCxcbiAgICBkcmFnZ2FibGVzOiBkcmFnZ2FibGVzLFxuICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWxcbiAgfSk7XG59O1xuXG52YXIgZ2V0UGFnZUJvcmRlckJveENlbnRlckZyb21JbXBhY3QgPSAoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgdmFyIHdpdGhvdXREaXNwbGFjZW1lbnQgPSBnZXRSZXN1bHRXaXRob3V0RHJvcHBhYmxlRGlzcGxhY2VtZW50KGFyZ3MpO1xuICB2YXIgZHJvcHBhYmxlID0gYXJncy5kcm9wcGFibGU7XG4gIHZhciB3aXRoRGlzcGxhY2VtZW50ID0gZHJvcHBhYmxlID8gd2l0aERyb3BwYWJsZURpc3BsYWNlbWVudChkcm9wcGFibGUsIHdpdGhvdXREaXNwbGFjZW1lbnQpIDogd2l0aG91dERpc3BsYWNlbWVudDtcbiAgcmV0dXJuIHdpdGhEaXNwbGFjZW1lbnQ7XG59KTtcblxudmFyIHNjcm9sbFZpZXdwb3J0ID0gKGZ1bmN0aW9uICh2aWV3cG9ydCwgbmV3U2Nyb2xsKSB7XG4gIHZhciBkaWZmID0gc3VidHJhY3QobmV3U2Nyb2xsLCB2aWV3cG9ydC5zY3JvbGwuaW5pdGlhbCk7XG4gIHZhciBkaXNwbGFjZW1lbnQgPSBuZWdhdGUoZGlmZik7XG4gIHZhciBmcmFtZSA9IGdldFJlY3Qoe1xuICAgIHRvcDogbmV3U2Nyb2xsLnksXG4gICAgYm90dG9tOiBuZXdTY3JvbGwueSArIHZpZXdwb3J0LmZyYW1lLmhlaWdodCxcbiAgICBsZWZ0OiBuZXdTY3JvbGwueCxcbiAgICByaWdodDogbmV3U2Nyb2xsLnggKyB2aWV3cG9ydC5mcmFtZS53aWR0aFxuICB9KTtcbiAgdmFyIHVwZGF0ZWQgPSB7XG4gICAgZnJhbWU6IGZyYW1lLFxuICAgIHNjcm9sbDoge1xuICAgICAgaW5pdGlhbDogdmlld3BvcnQuc2Nyb2xsLmluaXRpYWwsXG4gICAgICBtYXg6IHZpZXdwb3J0LnNjcm9sbC5tYXgsXG4gICAgICBjdXJyZW50OiBuZXdTY3JvbGwsXG4gICAgICBkaWZmOiB7XG4gICAgICAgIHZhbHVlOiBkaWZmLFxuICAgICAgICBkaXNwbGFjZW1lbnQ6IGRpc3BsYWNlbWVudFxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHVwZGF0ZWQ7XG59KTtcblxuZnVuY3Rpb24gZ2V0RHJhZ2dhYmxlcyhpZHMsIGRyYWdnYWJsZXMpIHtcbiAgcmV0dXJuIGlkcy5tYXAoZnVuY3Rpb24gKGlkKSB7XG4gICAgcmV0dXJuIGRyYWdnYWJsZXNbaWRdO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdHJ5R2V0VmlzaWJsZShpZCwgZ3JvdXBzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRpc3BsYWNlbWVudCA9IGdyb3Vwc1tpXS52aXNpYmxlW2lkXTtcblxuICAgIGlmIChkaXNwbGFjZW1lbnQpIHtcbiAgICAgIHJldHVybiBkaXNwbGFjZW1lbnQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbnZhciBzcGVjdWxhdGl2ZWx5SW5jcmVhc2UgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGltcGFjdCA9IF9yZWYuaW1wYWN0LFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0LFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmLmRlc3RpbmF0aW9uLFxuICAgICAgZHJhZ2dhYmxlcyA9IF9yZWYuZHJhZ2dhYmxlcyxcbiAgICAgIG1heFNjcm9sbENoYW5nZSA9IF9yZWYubWF4U2Nyb2xsQ2hhbmdlO1xuICB2YXIgc2Nyb2xsZWRWaWV3cG9ydCA9IHNjcm9sbFZpZXdwb3J0KHZpZXdwb3J0LCBhZGQodmlld3BvcnQuc2Nyb2xsLmN1cnJlbnQsIG1heFNjcm9sbENoYW5nZSkpO1xuICB2YXIgc2Nyb2xsZWREcm9wcGFibGUgPSBkZXN0aW5hdGlvbi5mcmFtZSA/IHNjcm9sbERyb3BwYWJsZShkZXN0aW5hdGlvbiwgYWRkKGRlc3RpbmF0aW9uLmZyYW1lLnNjcm9sbC5jdXJyZW50LCBtYXhTY3JvbGxDaGFuZ2UpKSA6IGRlc3RpbmF0aW9uO1xuICB2YXIgbGFzdCA9IGltcGFjdC5kaXNwbGFjZWQ7XG4gIHZhciB3aXRoVmlld3BvcnRTY3JvbGwgPSBnZXREaXNwbGFjZW1lbnRHcm91cHMoe1xuICAgIGFmdGVyRHJhZ2dpbmc6IGdldERyYWdnYWJsZXMobGFzdC5hbGwsIGRyYWdnYWJsZXMpLFxuICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICBkaXNwbGFjZWRCeTogaW1wYWN0LmRpc3BsYWNlZEJ5LFxuICAgIHZpZXdwb3J0OiBzY3JvbGxlZFZpZXdwb3J0LmZyYW1lLFxuICAgIGxhc3Q6IGxhc3QsXG4gICAgZm9yY2VTaG91bGRBbmltYXRlOiBmYWxzZVxuICB9KTtcbiAgdmFyIHdpdGhEcm9wcGFibGVTY3JvbGwgPSBnZXREaXNwbGFjZW1lbnRHcm91cHMoe1xuICAgIGFmdGVyRHJhZ2dpbmc6IGdldERyYWdnYWJsZXMobGFzdC5hbGwsIGRyYWdnYWJsZXMpLFxuICAgIGRlc3RpbmF0aW9uOiBzY3JvbGxlZERyb3BwYWJsZSxcbiAgICBkaXNwbGFjZWRCeTogaW1wYWN0LmRpc3BsYWNlZEJ5LFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydC5mcmFtZSxcbiAgICBsYXN0OiBsYXN0LFxuICAgIGZvcmNlU2hvdWxkQW5pbWF0ZTogZmFsc2VcbiAgfSk7XG4gIHZhciBpbnZpc2libGUgPSB7fTtcbiAgdmFyIHZpc2libGUgPSB7fTtcbiAgdmFyIGdyb3VwcyA9IFtsYXN0LCB3aXRoVmlld3BvcnRTY3JvbGwsIHdpdGhEcm9wcGFibGVTY3JvbGxdO1xuICBsYXN0LmFsbC5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgIHZhciBkaXNwbGFjZW1lbnQgPSB0cnlHZXRWaXNpYmxlKGlkLCBncm91cHMpO1xuXG4gICAgaWYgKGRpc3BsYWNlbWVudCkge1xuICAgICAgdmlzaWJsZVtpZF0gPSBkaXNwbGFjZW1lbnQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaW52aXNpYmxlW2lkXSA9IHRydWU7XG4gIH0pO1xuXG4gIHZhciBuZXdJbXBhY3QgPSBfZXh0ZW5kcyh7fSwgaW1wYWN0LCB7XG4gICAgZGlzcGxhY2VkOiB7XG4gICAgICBhbGw6IGxhc3QuYWxsLFxuICAgICAgaW52aXNpYmxlOiBpbnZpc2libGUsXG4gICAgICB2aXNpYmxlOiB2aXNpYmxlXG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gbmV3SW1wYWN0O1xufSk7XG5cbnZhciB3aXRoVmlld3BvcnREaXNwbGFjZW1lbnQgPSAoZnVuY3Rpb24gKHZpZXdwb3J0LCBwb2ludCkge1xuICByZXR1cm4gYWRkKHZpZXdwb3J0LnNjcm9sbC5kaWZmLmRpc3BsYWNlbWVudCwgcG9pbnQpO1xufSk7XG5cbnZhciBnZXRDbGllbnRGcm9tUGFnZUJvcmRlckJveENlbnRlciA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgcGFnZUJvcmRlckJveENlbnRlciA9IF9yZWYucGFnZUJvcmRlckJveENlbnRlcixcbiAgICAgIGRyYWdnYWJsZSA9IF9yZWYuZHJhZ2dhYmxlLFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0O1xuICB2YXIgd2l0aG91dFBhZ2VTY3JvbGxDaGFuZ2UgPSB3aXRoVmlld3BvcnREaXNwbGFjZW1lbnQodmlld3BvcnQsIHBhZ2VCb3JkZXJCb3hDZW50ZXIpO1xuICB2YXIgb2Zmc2V0ID0gc3VidHJhY3Qod2l0aG91dFBhZ2VTY3JvbGxDaGFuZ2UsIGRyYWdnYWJsZS5wYWdlLmJvcmRlckJveC5jZW50ZXIpO1xuICByZXR1cm4gYWRkKGRyYWdnYWJsZS5jbGllbnQuYm9yZGVyQm94LmNlbnRlciwgb2Zmc2V0KTtcbn0pO1xuXG52YXIgaXNUb3RhbGx5VmlzaWJsZUluTmV3TG9jYXRpb24gPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGRyYWdnYWJsZSA9IF9yZWYuZHJhZ2dhYmxlLFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmLmRlc3RpbmF0aW9uLFxuICAgICAgbmV3UGFnZUJvcmRlckJveENlbnRlciA9IF9yZWYubmV3UGFnZUJvcmRlckJveENlbnRlcixcbiAgICAgIHZpZXdwb3J0ID0gX3JlZi52aWV3cG9ydCxcbiAgICAgIHdpdGhEcm9wcGFibGVEaXNwbGFjZW1lbnQgPSBfcmVmLndpdGhEcm9wcGFibGVEaXNwbGFjZW1lbnQsXG4gICAgICBfcmVmJG9ubHlPbk1haW5BeGlzID0gX3JlZi5vbmx5T25NYWluQXhpcyxcbiAgICAgIG9ubHlPbk1haW5BeGlzID0gX3JlZiRvbmx5T25NYWluQXhpcyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJG9ubHlPbk1haW5BeGlzO1xuICB2YXIgY2hhbmdlTmVlZGVkID0gc3VidHJhY3QobmV3UGFnZUJvcmRlckJveENlbnRlciwgZHJhZ2dhYmxlLnBhZ2UuYm9yZGVyQm94LmNlbnRlcik7XG4gIHZhciBzaGlmdGVkID0gb2Zmc2V0QnlQb3NpdGlvbihkcmFnZ2FibGUucGFnZS5ib3JkZXJCb3gsIGNoYW5nZU5lZWRlZCk7XG4gIHZhciBhcmdzID0ge1xuICAgIHRhcmdldDogc2hpZnRlZCxcbiAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgd2l0aERyb3BwYWJsZURpc3BsYWNlbWVudDogd2l0aERyb3BwYWJsZURpc3BsYWNlbWVudCxcbiAgICB2aWV3cG9ydDogdmlld3BvcnRcbiAgfTtcbiAgcmV0dXJuIG9ubHlPbk1haW5BeGlzID8gaXNUb3RhbGx5VmlzaWJsZU9uQXhpcyhhcmdzKSA6IGlzVG90YWxseVZpc2libGUoYXJncyk7XG59KTtcblxudmFyIG1vdmVUb05leHRQbGFjZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgaXNNb3ZpbmdGb3J3YXJkID0gX3JlZi5pc01vdmluZ0ZvcndhcmQsXG4gICAgICBkcmFnZ2FibGUgPSBfcmVmLmRyYWdnYWJsZSxcbiAgICAgIGRlc3RpbmF0aW9uID0gX3JlZi5kZXN0aW5hdGlvbixcbiAgICAgIGRyYWdnYWJsZXMgPSBfcmVmLmRyYWdnYWJsZXMsXG4gICAgICBwcmV2aW91c0ltcGFjdCA9IF9yZWYucHJldmlvdXNJbXBhY3QsXG4gICAgICB2aWV3cG9ydCA9IF9yZWYudmlld3BvcnQsXG4gICAgICBwcmV2aW91c1BhZ2VCb3JkZXJCb3hDZW50ZXIgPSBfcmVmLnByZXZpb3VzUGFnZUJvcmRlckJveENlbnRlcixcbiAgICAgIHByZXZpb3VzQ2xpZW50U2VsZWN0aW9uID0gX3JlZi5wcmV2aW91c0NsaWVudFNlbGVjdGlvbixcbiAgICAgIGFmdGVyQ3JpdGljYWwgPSBfcmVmLmFmdGVyQ3JpdGljYWw7XG5cbiAgaWYgKCFkZXN0aW5hdGlvbi5pc0VuYWJsZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBpbnNpZGVEZXN0aW5hdGlvbiA9IGdldERyYWdnYWJsZXNJbnNpZGVEcm9wcGFibGUoZGVzdGluYXRpb24uZGVzY3JpcHRvci5pZCwgZHJhZ2dhYmxlcyk7XG4gIHZhciBpc0luSG9tZUxpc3QgPSBpc0hvbWVPZihkcmFnZ2FibGUsIGRlc3RpbmF0aW9uKTtcbiAgdmFyIGltcGFjdCA9IG1vdmVUb05leHRDb21iaW5lKHtcbiAgICBpc01vdmluZ0ZvcndhcmQ6IGlzTW92aW5nRm9yd2FyZCxcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgaW5zaWRlRGVzdGluYXRpb246IGluc2lkZURlc3RpbmF0aW9uLFxuICAgIHByZXZpb3VzSW1wYWN0OiBwcmV2aW91c0ltcGFjdFxuICB9KSB8fCBtb3ZlVG9OZXh0SW5kZXgoe1xuICAgIGlzTW92aW5nRm9yd2FyZDogaXNNb3ZpbmdGb3J3YXJkLFxuICAgIGlzSW5Ib21lTGlzdDogaXNJbkhvbWVMaXN0LFxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGRyYWdnYWJsZXM6IGRyYWdnYWJsZXMsXG4gICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgIGluc2lkZURlc3RpbmF0aW9uOiBpbnNpZGVEZXN0aW5hdGlvbixcbiAgICBwcmV2aW91c0ltcGFjdDogcHJldmlvdXNJbXBhY3QsXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0LFxuICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWxcbiAgfSk7XG5cbiAgaWYgKCFpbXBhY3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBwYWdlQm9yZGVyQm94Q2VudGVyID0gZ2V0UGFnZUJvcmRlckJveENlbnRlckZyb21JbXBhY3Qoe1xuICAgIGltcGFjdDogaW1wYWN0LFxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGRyb3BwYWJsZTogZGVzdGluYXRpb24sXG4gICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlcyxcbiAgICBhZnRlckNyaXRpY2FsOiBhZnRlckNyaXRpY2FsXG4gIH0pO1xuICB2YXIgaXNWaXNpYmxlSW5OZXdMb2NhdGlvbiA9IGlzVG90YWxseVZpc2libGVJbk5ld0xvY2F0aW9uKHtcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgbmV3UGFnZUJvcmRlckJveENlbnRlcjogcGFnZUJvcmRlckJveENlbnRlcixcbiAgICB2aWV3cG9ydDogdmlld3BvcnQuZnJhbWUsXG4gICAgd2l0aERyb3BwYWJsZURpc3BsYWNlbWVudDogZmFsc2UsXG4gICAgb25seU9uTWFpbkF4aXM6IHRydWVcbiAgfSk7XG5cbiAgaWYgKGlzVmlzaWJsZUluTmV3TG9jYXRpb24pIHtcbiAgICB2YXIgY2xpZW50U2VsZWN0aW9uID0gZ2V0Q2xpZW50RnJvbVBhZ2VCb3JkZXJCb3hDZW50ZXIoe1xuICAgICAgcGFnZUJvcmRlckJveENlbnRlcjogcGFnZUJvcmRlckJveENlbnRlcixcbiAgICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsaWVudFNlbGVjdGlvbjogY2xpZW50U2VsZWN0aW9uLFxuICAgICAgaW1wYWN0OiBpbXBhY3QsXG4gICAgICBzY3JvbGxKdW1wUmVxdWVzdDogbnVsbFxuICAgIH07XG4gIH1cblxuICB2YXIgZGlzdGFuY2UgPSBzdWJ0cmFjdChwYWdlQm9yZGVyQm94Q2VudGVyLCBwcmV2aW91c1BhZ2VCb3JkZXJCb3hDZW50ZXIpO1xuICB2YXIgY2F1dGlvdXMgPSBzcGVjdWxhdGl2ZWx5SW5jcmVhc2Uoe1xuICAgIGltcGFjdDogaW1wYWN0LFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlcyxcbiAgICBtYXhTY3JvbGxDaGFuZ2U6IGRpc3RhbmNlXG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGNsaWVudFNlbGVjdGlvbjogcHJldmlvdXNDbGllbnRTZWxlY3Rpb24sXG4gICAgaW1wYWN0OiBjYXV0aW91cyxcbiAgICBzY3JvbGxKdW1wUmVxdWVzdDogZGlzdGFuY2VcbiAgfTtcbn0pO1xuXG52YXIgZ2V0S25vd25BY3RpdmUgPSBmdW5jdGlvbiBnZXRLbm93bkFjdGl2ZShkcm9wcGFibGUpIHtcbiAgdmFyIHJlY3QgPSBkcm9wcGFibGUuc3ViamVjdC5hY3RpdmU7XG4gICFyZWN0ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGdldCBjbGlwcGVkIGFyZWEgZnJvbSBkcm9wcGFibGUnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHJldHVybiByZWN0O1xufTtcblxudmFyIGdldEJlc3RDcm9zc0F4aXNEcm9wcGFibGUgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGlzTW92aW5nRm9yd2FyZCA9IF9yZWYuaXNNb3ZpbmdGb3J3YXJkLFxuICAgICAgcGFnZUJvcmRlckJveENlbnRlciA9IF9yZWYucGFnZUJvcmRlckJveENlbnRlcixcbiAgICAgIHNvdXJjZSA9IF9yZWYuc291cmNlLFxuICAgICAgZHJvcHBhYmxlcyA9IF9yZWYuZHJvcHBhYmxlcyxcbiAgICAgIHZpZXdwb3J0ID0gX3JlZi52aWV3cG9ydDtcbiAgdmFyIGFjdGl2ZSA9IHNvdXJjZS5zdWJqZWN0LmFjdGl2ZTtcblxuICBpZiAoIWFjdGl2ZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGF4aXMgPSBzb3VyY2UuYXhpcztcbiAgdmFyIGlzQmV0d2VlblNvdXJjZUNsaXBwZWQgPSBpc1dpdGhpbihhY3RpdmVbYXhpcy5zdGFydF0sIGFjdGl2ZVtheGlzLmVuZF0pO1xuICB2YXIgY2FuZGlkYXRlcyA9IHRvRHJvcHBhYmxlTGlzdChkcm9wcGFibGVzKS5maWx0ZXIoZnVuY3Rpb24gKGRyb3BwYWJsZSkge1xuICAgIHJldHVybiBkcm9wcGFibGUgIT09IHNvdXJjZTtcbiAgfSkuZmlsdGVyKGZ1bmN0aW9uIChkcm9wcGFibGUpIHtcbiAgICByZXR1cm4gZHJvcHBhYmxlLmlzRW5hYmxlZDtcbiAgfSkuZmlsdGVyKGZ1bmN0aW9uIChkcm9wcGFibGUpIHtcbiAgICByZXR1cm4gQm9vbGVhbihkcm9wcGFibGUuc3ViamVjdC5hY3RpdmUpO1xuICB9KS5maWx0ZXIoZnVuY3Rpb24gKGRyb3BwYWJsZSkge1xuICAgIHJldHVybiBpc1BhcnRpYWxseVZpc2libGVUaHJvdWdoRnJhbWUodmlld3BvcnQuZnJhbWUpKGdldEtub3duQWN0aXZlKGRyb3BwYWJsZSkpO1xuICB9KS5maWx0ZXIoZnVuY3Rpb24gKGRyb3BwYWJsZSkge1xuICAgIHZhciBhY3RpdmVPZlRhcmdldCA9IGdldEtub3duQWN0aXZlKGRyb3BwYWJsZSk7XG5cbiAgICBpZiAoaXNNb3ZpbmdGb3J3YXJkKSB7XG4gICAgICByZXR1cm4gYWN0aXZlW2F4aXMuY3Jvc3NBeGlzRW5kXSA8IGFjdGl2ZU9mVGFyZ2V0W2F4aXMuY3Jvc3NBeGlzRW5kXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aXZlT2ZUYXJnZXRbYXhpcy5jcm9zc0F4aXNTdGFydF0gPCBhY3RpdmVbYXhpcy5jcm9zc0F4aXNTdGFydF07XG4gIH0pLmZpbHRlcihmdW5jdGlvbiAoZHJvcHBhYmxlKSB7XG4gICAgdmFyIGFjdGl2ZU9mVGFyZ2V0ID0gZ2V0S25vd25BY3RpdmUoZHJvcHBhYmxlKTtcbiAgICB2YXIgaXNCZXR3ZWVuRGVzdGluYXRpb25DbGlwcGVkID0gaXNXaXRoaW4oYWN0aXZlT2ZUYXJnZXRbYXhpcy5zdGFydF0sIGFjdGl2ZU9mVGFyZ2V0W2F4aXMuZW5kXSk7XG4gICAgcmV0dXJuIGlzQmV0d2VlblNvdXJjZUNsaXBwZWQoYWN0aXZlT2ZUYXJnZXRbYXhpcy5zdGFydF0pIHx8IGlzQmV0d2VlblNvdXJjZUNsaXBwZWQoYWN0aXZlT2ZUYXJnZXRbYXhpcy5lbmRdKSB8fCBpc0JldHdlZW5EZXN0aW5hdGlvbkNsaXBwZWQoYWN0aXZlW2F4aXMuc3RhcnRdKSB8fCBpc0JldHdlZW5EZXN0aW5hdGlvbkNsaXBwZWQoYWN0aXZlW2F4aXMuZW5kXSk7XG4gIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgZmlyc3QgPSBnZXRLbm93bkFjdGl2ZShhKVtheGlzLmNyb3NzQXhpc1N0YXJ0XTtcbiAgICB2YXIgc2Vjb25kID0gZ2V0S25vd25BY3RpdmUoYilbYXhpcy5jcm9zc0F4aXNTdGFydF07XG5cbiAgICBpZiAoaXNNb3ZpbmdGb3J3YXJkKSB7XG4gICAgICByZXR1cm4gZmlyc3QgLSBzZWNvbmQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlY29uZCAtIGZpcnN0O1xuICB9KS5maWx0ZXIoZnVuY3Rpb24gKGRyb3BwYWJsZSwgaW5kZXgsIGFycmF5KSB7XG4gICAgcmV0dXJuIGdldEtub3duQWN0aXZlKGRyb3BwYWJsZSlbYXhpcy5jcm9zc0F4aXNTdGFydF0gPT09IGdldEtub3duQWN0aXZlKGFycmF5WzBdKVtheGlzLmNyb3NzQXhpc1N0YXJ0XTtcbiAgfSk7XG5cbiAgaWYgKCFjYW5kaWRhdGVzLmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKGNhbmRpZGF0ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGNhbmRpZGF0ZXNbMF07XG4gIH1cblxuICB2YXIgY29udGFpbnMgPSBjYW5kaWRhdGVzLmZpbHRlcihmdW5jdGlvbiAoZHJvcHBhYmxlKSB7XG4gICAgdmFyIGlzV2l0aGluRHJvcHBhYmxlID0gaXNXaXRoaW4oZ2V0S25vd25BY3RpdmUoZHJvcHBhYmxlKVtheGlzLnN0YXJ0XSwgZ2V0S25vd25BY3RpdmUoZHJvcHBhYmxlKVtheGlzLmVuZF0pO1xuICAgIHJldHVybiBpc1dpdGhpbkRyb3BwYWJsZShwYWdlQm9yZGVyQm94Q2VudGVyW2F4aXMubGluZV0pO1xuICB9KTtcblxuICBpZiAoY29udGFpbnMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5zWzBdO1xuICB9XG5cbiAgaWYgKGNvbnRhaW5zLmxlbmd0aCA+IDEpIHtcbiAgICByZXR1cm4gY29udGFpbnMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGdldEtub3duQWN0aXZlKGEpW2F4aXMuc3RhcnRdIC0gZ2V0S25vd25BY3RpdmUoYilbYXhpcy5zdGFydF07XG4gICAgfSlbMF07XG4gIH1cblxuICByZXR1cm4gY2FuZGlkYXRlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIGZpcnN0ID0gY2xvc2VzdChwYWdlQm9yZGVyQm94Q2VudGVyLCBnZXRDb3JuZXJzKGdldEtub3duQWN0aXZlKGEpKSk7XG4gICAgdmFyIHNlY29uZCA9IGNsb3Nlc3QocGFnZUJvcmRlckJveENlbnRlciwgZ2V0Q29ybmVycyhnZXRLbm93bkFjdGl2ZShiKSkpO1xuXG4gICAgaWYgKGZpcnN0ICE9PSBzZWNvbmQpIHtcbiAgICAgIHJldHVybiBmaXJzdCAtIHNlY29uZDtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0S25vd25BY3RpdmUoYSlbYXhpcy5zdGFydF0gLSBnZXRLbm93bkFjdGl2ZShiKVtheGlzLnN0YXJ0XTtcbiAgfSlbMF07XG59KTtcblxudmFyIGdldEN1cnJlbnRQYWdlQm9yZGVyQm94Q2VudGVyID0gZnVuY3Rpb24gZ2V0Q3VycmVudFBhZ2VCb3JkZXJCb3hDZW50ZXIoZHJhZ2dhYmxlLCBhZnRlckNyaXRpY2FsKSB7XG4gIHZhciBvcmlnaW5hbCA9IGRyYWdnYWJsZS5wYWdlLmJvcmRlckJveC5jZW50ZXI7XG4gIHJldHVybiBkaWRTdGFydEFmdGVyQ3JpdGljYWwoZHJhZ2dhYmxlLmRlc2NyaXB0b3IuaWQsIGFmdGVyQ3JpdGljYWwpID8gc3VidHJhY3Qob3JpZ2luYWwsIGFmdGVyQ3JpdGljYWwuZGlzcGxhY2VkQnkucG9pbnQpIDogb3JpZ2luYWw7XG59O1xudmFyIGdldEN1cnJlbnRQYWdlQm9yZGVyQm94ID0gZnVuY3Rpb24gZ2V0Q3VycmVudFBhZ2VCb3JkZXJCb3goZHJhZ2dhYmxlLCBhZnRlckNyaXRpY2FsKSB7XG4gIHZhciBvcmlnaW5hbCA9IGRyYWdnYWJsZS5wYWdlLmJvcmRlckJveDtcbiAgcmV0dXJuIGRpZFN0YXJ0QWZ0ZXJDcml0aWNhbChkcmFnZ2FibGUuZGVzY3JpcHRvci5pZCwgYWZ0ZXJDcml0aWNhbCkgPyBvZmZzZXRCeVBvc2l0aW9uKG9yaWdpbmFsLCBuZWdhdGUoYWZ0ZXJDcml0aWNhbC5kaXNwbGFjZWRCeS5wb2ludCkpIDogb3JpZ2luYWw7XG59O1xuXG52YXIgZ2V0Q2xvc2VzdERyYWdnYWJsZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgcGFnZUJvcmRlckJveENlbnRlciA9IF9yZWYucGFnZUJvcmRlckJveENlbnRlcixcbiAgICAgIHZpZXdwb3J0ID0gX3JlZi52aWV3cG9ydCxcbiAgICAgIGRlc3RpbmF0aW9uID0gX3JlZi5kZXN0aW5hdGlvbixcbiAgICAgIGluc2lkZURlc3RpbmF0aW9uID0gX3JlZi5pbnNpZGVEZXN0aW5hdGlvbixcbiAgICAgIGFmdGVyQ3JpdGljYWwgPSBfcmVmLmFmdGVyQ3JpdGljYWw7XG4gIHZhciBzb3J0ZWQgPSBpbnNpZGVEZXN0aW5hdGlvbi5maWx0ZXIoZnVuY3Rpb24gKGRyYWdnYWJsZSkge1xuICAgIHJldHVybiBpc1RvdGFsbHlWaXNpYmxlKHtcbiAgICAgIHRhcmdldDogZ2V0Q3VycmVudFBhZ2VCb3JkZXJCb3goZHJhZ2dhYmxlLCBhZnRlckNyaXRpY2FsKSxcbiAgICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydC5mcmFtZSxcbiAgICAgIHdpdGhEcm9wcGFibGVEaXNwbGFjZW1lbnQ6IHRydWVcbiAgICB9KTtcbiAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBkaXN0YW5jZVRvQSA9IGRpc3RhbmNlKHBhZ2VCb3JkZXJCb3hDZW50ZXIsIHdpdGhEcm9wcGFibGVEaXNwbGFjZW1lbnQoZGVzdGluYXRpb24sIGdldEN1cnJlbnRQYWdlQm9yZGVyQm94Q2VudGVyKGEsIGFmdGVyQ3JpdGljYWwpKSk7XG4gICAgdmFyIGRpc3RhbmNlVG9CID0gZGlzdGFuY2UocGFnZUJvcmRlckJveENlbnRlciwgd2l0aERyb3BwYWJsZURpc3BsYWNlbWVudChkZXN0aW5hdGlvbiwgZ2V0Q3VycmVudFBhZ2VCb3JkZXJCb3hDZW50ZXIoYiwgYWZ0ZXJDcml0aWNhbCkpKTtcblxuICAgIGlmIChkaXN0YW5jZVRvQSA8IGRpc3RhbmNlVG9CKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgaWYgKGRpc3RhbmNlVG9CIDwgZGlzdGFuY2VUb0EpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIHJldHVybiBhLmRlc2NyaXB0b3IuaW5kZXggLSBiLmRlc2NyaXB0b3IuaW5kZXg7XG4gIH0pO1xuICByZXR1cm4gc29ydGVkWzBdIHx8IG51bGw7XG59KTtcblxudmFyIGdldERpc3BsYWNlZEJ5ID0gbWVtb2l6ZU9uZShmdW5jdGlvbiBnZXREaXNwbGFjZWRCeShheGlzLCBkaXNwbGFjZUJ5KSB7XG4gIHZhciBkaXNwbGFjZW1lbnQgPSBkaXNwbGFjZUJ5W2F4aXMubGluZV07XG4gIHJldHVybiB7XG4gICAgdmFsdWU6IGRpc3BsYWNlbWVudCxcbiAgICBwb2ludDogcGF0Y2goYXhpcy5saW5lLCBkaXNwbGFjZW1lbnQpXG4gIH07XG59KTtcblxudmFyIGdldFJlcXVpcmVkR3Jvd3RoRm9yUGxhY2Vob2xkZXIgPSBmdW5jdGlvbiBnZXRSZXF1aXJlZEdyb3d0aEZvclBsYWNlaG9sZGVyKGRyb3BwYWJsZSwgcGxhY2Vob2xkZXJTaXplLCBkcmFnZ2FibGVzKSB7XG4gIHZhciBheGlzID0gZHJvcHBhYmxlLmF4aXM7XG5cbiAgaWYgKGRyb3BwYWJsZS5kZXNjcmlwdG9yLm1vZGUgPT09ICd2aXJ0dWFsJykge1xuICAgIHJldHVybiBwYXRjaChheGlzLmxpbmUsIHBsYWNlaG9sZGVyU2l6ZVtheGlzLmxpbmVdKTtcbiAgfVxuXG4gIHZhciBhdmFpbGFibGVTcGFjZSA9IGRyb3BwYWJsZS5zdWJqZWN0LnBhZ2UuY29udGVudEJveFtheGlzLnNpemVdO1xuICB2YXIgaW5zaWRlRHJvcHBhYmxlID0gZ2V0RHJhZ2dhYmxlc0luc2lkZURyb3BwYWJsZShkcm9wcGFibGUuZGVzY3JpcHRvci5pZCwgZHJhZ2dhYmxlcyk7XG4gIHZhciBzcGFjZVVzZWQgPSBpbnNpZGVEcm9wcGFibGUucmVkdWNlKGZ1bmN0aW9uIChzdW0sIGRpbWVuc2lvbikge1xuICAgIHJldHVybiBzdW0gKyBkaW1lbnNpb24uY2xpZW50Lm1hcmdpbkJveFtheGlzLnNpemVdO1xuICB9LCAwKTtcbiAgdmFyIHJlcXVpcmVkU3BhY2UgPSBzcGFjZVVzZWQgKyBwbGFjZWhvbGRlclNpemVbYXhpcy5saW5lXTtcbiAgdmFyIG5lZWRzVG9Hcm93QnkgPSByZXF1aXJlZFNwYWNlIC0gYXZhaWxhYmxlU3BhY2U7XG5cbiAgaWYgKG5lZWRzVG9Hcm93QnkgPD0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHBhdGNoKGF4aXMubGluZSwgbmVlZHNUb0dyb3dCeSk7XG59O1xuXG52YXIgd2l0aE1heFNjcm9sbCA9IGZ1bmN0aW9uIHdpdGhNYXhTY3JvbGwoZnJhbWUsIG1heCkge1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGZyYW1lLCB7XG4gICAgc2Nyb2xsOiBfZXh0ZW5kcyh7fSwgZnJhbWUuc2Nyb2xsLCB7XG4gICAgICBtYXg6IG1heFxuICAgIH0pXG4gIH0pO1xufTtcblxudmFyIGFkZFBsYWNlaG9sZGVyID0gZnVuY3Rpb24gYWRkUGxhY2Vob2xkZXIoZHJvcHBhYmxlLCBkcmFnZ2FibGUsIGRyYWdnYWJsZXMpIHtcbiAgdmFyIGZyYW1lID0gZHJvcHBhYmxlLmZyYW1lO1xuICAhIWlzSG9tZU9mKGRyYWdnYWJsZSwgZHJvcHBhYmxlKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1Nob3VsZCBub3QgYWRkIHBsYWNlaG9sZGVyIHNwYWNlIHRvIGhvbWUgbGlzdCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgISFkcm9wcGFibGUuc3ViamVjdC53aXRoUGxhY2Vob2xkZXIgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgYWRkIHBsYWNlaG9sZGVyIHNpemUgdG8gYSBzdWJqZWN0IHdoZW4gaXQgYWxyZWFkeSBoYXMgb25lJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB2YXIgcGxhY2Vob2xkZXJTaXplID0gZ2V0RGlzcGxhY2VkQnkoZHJvcHBhYmxlLmF4aXMsIGRyYWdnYWJsZS5kaXNwbGFjZUJ5KS5wb2ludDtcbiAgdmFyIHJlcXVpcmVkR3Jvd3RoID0gZ2V0UmVxdWlyZWRHcm93dGhGb3JQbGFjZWhvbGRlcihkcm9wcGFibGUsIHBsYWNlaG9sZGVyU2l6ZSwgZHJhZ2dhYmxlcyk7XG4gIHZhciBhZGRlZCA9IHtcbiAgICBwbGFjZWhvbGRlclNpemU6IHBsYWNlaG9sZGVyU2l6ZSxcbiAgICBpbmNyZWFzZWRCeTogcmVxdWlyZWRHcm93dGgsXG4gICAgb2xkRnJhbWVNYXhTY3JvbGw6IGRyb3BwYWJsZS5mcmFtZSA/IGRyb3BwYWJsZS5mcmFtZS5zY3JvbGwubWF4IDogbnVsbFxuICB9O1xuXG4gIGlmICghZnJhbWUpIHtcbiAgICB2YXIgX3N1YmplY3QgPSBnZXRTdWJqZWN0KHtcbiAgICAgIHBhZ2U6IGRyb3BwYWJsZS5zdWJqZWN0LnBhZ2UsXG4gICAgICB3aXRoUGxhY2Vob2xkZXI6IGFkZGVkLFxuICAgICAgYXhpczogZHJvcHBhYmxlLmF4aXMsXG4gICAgICBmcmFtZTogZHJvcHBhYmxlLmZyYW1lXG4gICAgfSk7XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGRyb3BwYWJsZSwge1xuICAgICAgc3ViamVjdDogX3N1YmplY3RcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBtYXhTY3JvbGwgPSByZXF1aXJlZEdyb3d0aCA/IGFkZChmcmFtZS5zY3JvbGwubWF4LCByZXF1aXJlZEdyb3d0aCkgOiBmcmFtZS5zY3JvbGwubWF4O1xuICB2YXIgbmV3RnJhbWUgPSB3aXRoTWF4U2Nyb2xsKGZyYW1lLCBtYXhTY3JvbGwpO1xuICB2YXIgc3ViamVjdCA9IGdldFN1YmplY3Qoe1xuICAgIHBhZ2U6IGRyb3BwYWJsZS5zdWJqZWN0LnBhZ2UsXG4gICAgd2l0aFBsYWNlaG9sZGVyOiBhZGRlZCxcbiAgICBheGlzOiBkcm9wcGFibGUuYXhpcyxcbiAgICBmcmFtZTogbmV3RnJhbWVcbiAgfSk7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgZHJvcHBhYmxlLCB7XG4gICAgc3ViamVjdDogc3ViamVjdCxcbiAgICBmcmFtZTogbmV3RnJhbWVcbiAgfSk7XG59O1xudmFyIHJlbW92ZVBsYWNlaG9sZGVyID0gZnVuY3Rpb24gcmVtb3ZlUGxhY2Vob2xkZXIoZHJvcHBhYmxlKSB7XG4gIHZhciBhZGRlZCA9IGRyb3BwYWJsZS5zdWJqZWN0LndpdGhQbGFjZWhvbGRlcjtcbiAgIWFkZGVkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHJlbW92ZSBwbGFjZWhvbGRlciBmb3JtIHN1YmplY3Qgd2hlbiB0aGVyZSB3YXMgbm9uZScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIGZyYW1lID0gZHJvcHBhYmxlLmZyYW1lO1xuXG4gIGlmICghZnJhbWUpIHtcbiAgICB2YXIgX3N1YmplY3QyID0gZ2V0U3ViamVjdCh7XG4gICAgICBwYWdlOiBkcm9wcGFibGUuc3ViamVjdC5wYWdlLFxuICAgICAgYXhpczogZHJvcHBhYmxlLmF4aXMsXG4gICAgICBmcmFtZTogbnVsbCxcbiAgICAgIHdpdGhQbGFjZWhvbGRlcjogbnVsbFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBkcm9wcGFibGUsIHtcbiAgICAgIHN1YmplY3Q6IF9zdWJqZWN0MlxuICAgIH0pO1xuICB9XG5cbiAgdmFyIG9sZE1heFNjcm9sbCA9IGFkZGVkLm9sZEZyYW1lTWF4U2Nyb2xsO1xuICAhb2xkTWF4U2Nyb2xsID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgZHJvcHBhYmxlIHdpdGggZnJhbWUgdG8gaGF2ZSBvbGQgbWF4IGZyYW1lIHNjcm9sbCB3aGVuIHJlbW92aW5nIHBsYWNlaG9sZGVyJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICB2YXIgbmV3RnJhbWUgPSB3aXRoTWF4U2Nyb2xsKGZyYW1lLCBvbGRNYXhTY3JvbGwpO1xuICB2YXIgc3ViamVjdCA9IGdldFN1YmplY3Qoe1xuICAgIHBhZ2U6IGRyb3BwYWJsZS5zdWJqZWN0LnBhZ2UsXG4gICAgYXhpczogZHJvcHBhYmxlLmF4aXMsXG4gICAgZnJhbWU6IG5ld0ZyYW1lLFxuICAgIHdpdGhQbGFjZWhvbGRlcjogbnVsbFxuICB9KTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBkcm9wcGFibGUsIHtcbiAgICBzdWJqZWN0OiBzdWJqZWN0LFxuICAgIGZyYW1lOiBuZXdGcmFtZVxuICB9KTtcbn07XG5cbnZhciBtb3ZlVG9OZXdEcm9wcGFibGUgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHByZXZpb3VzUGFnZUJvcmRlckJveENlbnRlciA9IF9yZWYucHJldmlvdXNQYWdlQm9yZGVyQm94Q2VudGVyLFxuICAgICAgbW92ZVJlbGF0aXZlVG8gPSBfcmVmLm1vdmVSZWxhdGl2ZVRvLFxuICAgICAgaW5zaWRlRGVzdGluYXRpb24gPSBfcmVmLmluc2lkZURlc3RpbmF0aW9uLFxuICAgICAgZHJhZ2dhYmxlID0gX3JlZi5kcmFnZ2FibGUsXG4gICAgICBkcmFnZ2FibGVzID0gX3JlZi5kcmFnZ2FibGVzLFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmLmRlc3RpbmF0aW9uLFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0LFxuICAgICAgYWZ0ZXJDcml0aWNhbCA9IF9yZWYuYWZ0ZXJDcml0aWNhbDtcblxuICBpZiAoIW1vdmVSZWxhdGl2ZVRvKSB7XG4gICAgaWYgKGluc2lkZURlc3RpbmF0aW9uLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHByb3Bvc2VkID0ge1xuICAgICAgZGlzcGxhY2VkOiBlbXB0eUdyb3VwcyxcbiAgICAgIGRpc3BsYWNlZEJ5OiBub0Rpc3BsYWNlZEJ5LFxuICAgICAgYXQ6IHtcbiAgICAgICAgdHlwZTogJ1JFT1JERVInLFxuICAgICAgICBkZXN0aW5hdGlvbjoge1xuICAgICAgICAgIGRyb3BwYWJsZUlkOiBkZXN0aW5hdGlvbi5kZXNjcmlwdG9yLmlkLFxuICAgICAgICAgIGluZGV4OiAwXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBwcm9wb3NlZFBhZ2VCb3JkZXJCb3hDZW50ZXIgPSBnZXRQYWdlQm9yZGVyQm94Q2VudGVyRnJvbUltcGFjdCh7XG4gICAgICBpbXBhY3Q6IHByb3Bvc2VkLFxuICAgICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgICBkcm9wcGFibGU6IGRlc3RpbmF0aW9uLFxuICAgICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlcyxcbiAgICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWxcbiAgICB9KTtcbiAgICB2YXIgd2l0aFBsYWNlaG9sZGVyID0gaXNIb21lT2YoZHJhZ2dhYmxlLCBkZXN0aW5hdGlvbikgPyBkZXN0aW5hdGlvbiA6IGFkZFBsYWNlaG9sZGVyKGRlc3RpbmF0aW9uLCBkcmFnZ2FibGUsIGRyYWdnYWJsZXMpO1xuICAgIHZhciBpc1Zpc2libGVJbk5ld0xvY2F0aW9uID0gaXNUb3RhbGx5VmlzaWJsZUluTmV3TG9jYXRpb24oe1xuICAgICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgICBkZXN0aW5hdGlvbjogd2l0aFBsYWNlaG9sZGVyLFxuICAgICAgbmV3UGFnZUJvcmRlckJveENlbnRlcjogcHJvcG9zZWRQYWdlQm9yZGVyQm94Q2VudGVyLFxuICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0LmZyYW1lLFxuICAgICAgd2l0aERyb3BwYWJsZURpc3BsYWNlbWVudDogZmFsc2UsXG4gICAgICBvbmx5T25NYWluQXhpczogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBpc1Zpc2libGVJbk5ld0xvY2F0aW9uID8gcHJvcG9zZWQgOiBudWxsO1xuICB9XG5cbiAgdmFyIGlzR29pbmdCZWZvcmVUYXJnZXQgPSBCb29sZWFuKHByZXZpb3VzUGFnZUJvcmRlckJveENlbnRlcltkZXN0aW5hdGlvbi5heGlzLmxpbmVdIDw9IG1vdmVSZWxhdGl2ZVRvLnBhZ2UuYm9yZGVyQm94LmNlbnRlcltkZXN0aW5hdGlvbi5heGlzLmxpbmVdKTtcblxuICB2YXIgcHJvcG9zZWRJbmRleCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVsYXRpdmVUbyA9IG1vdmVSZWxhdGl2ZVRvLmRlc2NyaXB0b3IuaW5kZXg7XG5cbiAgICBpZiAobW92ZVJlbGF0aXZlVG8uZGVzY3JpcHRvci5pZCA9PT0gZHJhZ2dhYmxlLmRlc2NyaXB0b3IuaWQpIHtcbiAgICAgIHJldHVybiByZWxhdGl2ZVRvO1xuICAgIH1cblxuICAgIGlmIChpc0dvaW5nQmVmb3JlVGFyZ2V0KSB7XG4gICAgICByZXR1cm4gcmVsYXRpdmVUbztcbiAgICB9XG5cbiAgICByZXR1cm4gcmVsYXRpdmVUbyArIDE7XG4gIH0oKTtcblxuICB2YXIgZGlzcGxhY2VkQnkgPSBnZXREaXNwbGFjZWRCeShkZXN0aW5hdGlvbi5heGlzLCBkcmFnZ2FibGUuZGlzcGxhY2VCeSk7XG4gIHJldHVybiBjYWxjdWxhdGVSZW9yZGVySW1wYWN0KHtcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBpbnNpZGVEZXN0aW5hdGlvbjogaW5zaWRlRGVzdGluYXRpb24sXG4gICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICBkaXNwbGFjZWRCeTogZGlzcGxhY2VkQnksXG4gICAgbGFzdDogZW1wdHlHcm91cHMsXG4gICAgaW5kZXg6IHByb3Bvc2VkSW5kZXhcbiAgfSk7XG59KTtcblxudmFyIG1vdmVDcm9zc0F4aXMgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGlzTW92aW5nRm9yd2FyZCA9IF9yZWYuaXNNb3ZpbmdGb3J3YXJkLFxuICAgICAgcHJldmlvdXNQYWdlQm9yZGVyQm94Q2VudGVyID0gX3JlZi5wcmV2aW91c1BhZ2VCb3JkZXJCb3hDZW50ZXIsXG4gICAgICBkcmFnZ2FibGUgPSBfcmVmLmRyYWdnYWJsZSxcbiAgICAgIGlzT3ZlciA9IF9yZWYuaXNPdmVyLFxuICAgICAgZHJhZ2dhYmxlcyA9IF9yZWYuZHJhZ2dhYmxlcyxcbiAgICAgIGRyb3BwYWJsZXMgPSBfcmVmLmRyb3BwYWJsZXMsXG4gICAgICB2aWV3cG9ydCA9IF9yZWYudmlld3BvcnQsXG4gICAgICBhZnRlckNyaXRpY2FsID0gX3JlZi5hZnRlckNyaXRpY2FsO1xuICB2YXIgZGVzdGluYXRpb24gPSBnZXRCZXN0Q3Jvc3NBeGlzRHJvcHBhYmxlKHtcbiAgICBpc01vdmluZ0ZvcndhcmQ6IGlzTW92aW5nRm9yd2FyZCxcbiAgICBwYWdlQm9yZGVyQm94Q2VudGVyOiBwcmV2aW91c1BhZ2VCb3JkZXJCb3hDZW50ZXIsXG4gICAgc291cmNlOiBpc092ZXIsXG4gICAgZHJvcHBhYmxlczogZHJvcHBhYmxlcyxcbiAgICB2aWV3cG9ydDogdmlld3BvcnRcbiAgfSk7XG5cbiAgaWYgKCFkZXN0aW5hdGlvbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGluc2lkZURlc3RpbmF0aW9uID0gZ2V0RHJhZ2dhYmxlc0luc2lkZURyb3BwYWJsZShkZXN0aW5hdGlvbi5kZXNjcmlwdG9yLmlkLCBkcmFnZ2FibGVzKTtcbiAgdmFyIG1vdmVSZWxhdGl2ZVRvID0gZ2V0Q2xvc2VzdERyYWdnYWJsZSh7XG4gICAgcGFnZUJvcmRlckJveENlbnRlcjogcHJldmlvdXNQYWdlQm9yZGVyQm94Q2VudGVyLFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgaW5zaWRlRGVzdGluYXRpb246IGluc2lkZURlc3RpbmF0aW9uLFxuICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWxcbiAgfSk7XG4gIHZhciBpbXBhY3QgPSBtb3ZlVG9OZXdEcm9wcGFibGUoe1xuICAgIHByZXZpb3VzUGFnZUJvcmRlckJveENlbnRlcjogcHJldmlvdXNQYWdlQm9yZGVyQm94Q2VudGVyLFxuICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBkcmFnZ2FibGVzOiBkcmFnZ2FibGVzLFxuICAgIG1vdmVSZWxhdGl2ZVRvOiBtb3ZlUmVsYXRpdmVUbyxcbiAgICBpbnNpZGVEZXN0aW5hdGlvbjogaW5zaWRlRGVzdGluYXRpb24sXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0LFxuICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWxcbiAgfSk7XG5cbiAgaWYgKCFpbXBhY3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBwYWdlQm9yZGVyQm94Q2VudGVyID0gZ2V0UGFnZUJvcmRlckJveENlbnRlckZyb21JbXBhY3Qoe1xuICAgIGltcGFjdDogaW1wYWN0LFxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGRyb3BwYWJsZTogZGVzdGluYXRpb24sXG4gICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlcyxcbiAgICBhZnRlckNyaXRpY2FsOiBhZnRlckNyaXRpY2FsXG4gIH0pO1xuICB2YXIgY2xpZW50U2VsZWN0aW9uID0gZ2V0Q2xpZW50RnJvbVBhZ2VCb3JkZXJCb3hDZW50ZXIoe1xuICAgIHBhZ2VCb3JkZXJCb3hDZW50ZXI6IHBhZ2VCb3JkZXJCb3hDZW50ZXIsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGNsaWVudFNlbGVjdGlvbjogY2xpZW50U2VsZWN0aW9uLFxuICAgIGltcGFjdDogaW1wYWN0LFxuICAgIHNjcm9sbEp1bXBSZXF1ZXN0OiBudWxsXG4gIH07XG59KTtcblxudmFyIHdoYXRJc0RyYWdnZWRPdmVyID0gKGZ1bmN0aW9uIChpbXBhY3QpIHtcbiAgdmFyIGF0ID0gaW1wYWN0LmF0O1xuXG4gIGlmICghYXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChhdC50eXBlID09PSAnUkVPUkRFUicpIHtcbiAgICByZXR1cm4gYXQuZGVzdGluYXRpb24uZHJvcHBhYmxlSWQ7XG4gIH1cblxuICByZXR1cm4gYXQuY29tYmluZS5kcm9wcGFibGVJZDtcbn0pO1xuXG52YXIgZ2V0RHJvcHBhYmxlT3ZlciA9IGZ1bmN0aW9uIGdldERyb3BwYWJsZU92ZXIoaW1wYWN0LCBkcm9wcGFibGVzKSB7XG4gIHZhciBpZCA9IHdoYXRJc0RyYWdnZWRPdmVyKGltcGFjdCk7XG4gIHJldHVybiBpZCA/IGRyb3BwYWJsZXNbaWRdIDogbnVsbDtcbn07XG5cbnZhciBtb3ZlSW5EaXJlY3Rpb24gPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIHR5cGUgPSBfcmVmLnR5cGU7XG4gIHZhciBpc0FjdHVhbGx5T3ZlciA9IGdldERyb3BwYWJsZU92ZXIoc3RhdGUuaW1wYWN0LCBzdGF0ZS5kaW1lbnNpb25zLmRyb3BwYWJsZXMpO1xuICB2YXIgaXNNYWluQXhpc01vdmVtZW50QWxsb3dlZCA9IEJvb2xlYW4oaXNBY3R1YWxseU92ZXIpO1xuICB2YXIgaG9tZSA9IHN0YXRlLmRpbWVuc2lvbnMuZHJvcHBhYmxlc1tzdGF0ZS5jcml0aWNhbC5kcm9wcGFibGUuaWRdO1xuICB2YXIgaXNPdmVyID0gaXNBY3R1YWxseU92ZXIgfHwgaG9tZTtcbiAgdmFyIGRpcmVjdGlvbiA9IGlzT3Zlci5heGlzLmRpcmVjdGlvbjtcbiAgdmFyIGlzTW92aW5nT25NYWluQXhpcyA9IGRpcmVjdGlvbiA9PT0gJ3ZlcnRpY2FsJyAmJiAodHlwZSA9PT0gJ01PVkVfVVAnIHx8IHR5cGUgPT09ICdNT1ZFX0RPV04nKSB8fCBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyAmJiAodHlwZSA9PT0gJ01PVkVfTEVGVCcgfHwgdHlwZSA9PT0gJ01PVkVfUklHSFQnKTtcblxuICBpZiAoaXNNb3ZpbmdPbk1haW5BeGlzICYmICFpc01haW5BeGlzTW92ZW1lbnRBbGxvd2VkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgaXNNb3ZpbmdGb3J3YXJkID0gdHlwZSA9PT0gJ01PVkVfRE9XTicgfHwgdHlwZSA9PT0gJ01PVkVfUklHSFQnO1xuICB2YXIgZHJhZ2dhYmxlID0gc3RhdGUuZGltZW5zaW9ucy5kcmFnZ2FibGVzW3N0YXRlLmNyaXRpY2FsLmRyYWdnYWJsZS5pZF07XG4gIHZhciBwcmV2aW91c1BhZ2VCb3JkZXJCb3hDZW50ZXIgPSBzdGF0ZS5jdXJyZW50LnBhZ2UuYm9yZGVyQm94Q2VudGVyO1xuICB2YXIgX3N0YXRlJGRpbWVuc2lvbnMgPSBzdGF0ZS5kaW1lbnNpb25zLFxuICAgICAgZHJhZ2dhYmxlcyA9IF9zdGF0ZSRkaW1lbnNpb25zLmRyYWdnYWJsZXMsXG4gICAgICBkcm9wcGFibGVzID0gX3N0YXRlJGRpbWVuc2lvbnMuZHJvcHBhYmxlcztcbiAgcmV0dXJuIGlzTW92aW5nT25NYWluQXhpcyA/IG1vdmVUb05leHRQbGFjZSh7XG4gICAgaXNNb3ZpbmdGb3J3YXJkOiBpc01vdmluZ0ZvcndhcmQsXG4gICAgcHJldmlvdXNQYWdlQm9yZGVyQm94Q2VudGVyOiBwcmV2aW91c1BhZ2VCb3JkZXJCb3hDZW50ZXIsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgZGVzdGluYXRpb246IGlzT3ZlcixcbiAgICBkcmFnZ2FibGVzOiBkcmFnZ2FibGVzLFxuICAgIHZpZXdwb3J0OiBzdGF0ZS52aWV3cG9ydCxcbiAgICBwcmV2aW91c0NsaWVudFNlbGVjdGlvbjogc3RhdGUuY3VycmVudC5jbGllbnQuc2VsZWN0aW9uLFxuICAgIHByZXZpb3VzSW1wYWN0OiBzdGF0ZS5pbXBhY3QsXG4gICAgYWZ0ZXJDcml0aWNhbDogc3RhdGUuYWZ0ZXJDcml0aWNhbFxuICB9KSA6IG1vdmVDcm9zc0F4aXMoe1xuICAgIGlzTW92aW5nRm9yd2FyZDogaXNNb3ZpbmdGb3J3YXJkLFxuICAgIHByZXZpb3VzUGFnZUJvcmRlckJveENlbnRlcjogcHJldmlvdXNQYWdlQm9yZGVyQm94Q2VudGVyLFxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGlzT3ZlcjogaXNPdmVyLFxuICAgIGRyYWdnYWJsZXM6IGRyYWdnYWJsZXMsXG4gICAgZHJvcHBhYmxlczogZHJvcHBhYmxlcyxcbiAgICB2aWV3cG9ydDogc3RhdGUudmlld3BvcnQsXG4gICAgYWZ0ZXJDcml0aWNhbDogc3RhdGUuYWZ0ZXJDcml0aWNhbFxuICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBpc01vdmVtZW50QWxsb3dlZChzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUucGhhc2UgPT09ICdEUkFHR0lORycgfHwgc3RhdGUucGhhc2UgPT09ICdDT0xMRUNUSU5HJztcbn1cblxuZnVuY3Rpb24gaXNQb3NpdGlvbkluRnJhbWUoZnJhbWUpIHtcbiAgdmFyIGlzV2l0aGluVmVydGljYWwgPSBpc1dpdGhpbihmcmFtZS50b3AsIGZyYW1lLmJvdHRvbSk7XG4gIHZhciBpc1dpdGhpbkhvcml6b250YWwgPSBpc1dpdGhpbihmcmFtZS5sZWZ0LCBmcmFtZS5yaWdodCk7XG4gIHJldHVybiBmdW5jdGlvbiBydW4ocG9pbnQpIHtcbiAgICByZXR1cm4gaXNXaXRoaW5WZXJ0aWNhbChwb2ludC55KSAmJiBpc1dpdGhpbkhvcml6b250YWwocG9pbnQueCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldEhhc092ZXJsYXAoZmlyc3QsIHNlY29uZCkge1xuICByZXR1cm4gZmlyc3QubGVmdCA8IHNlY29uZC5yaWdodCAmJiBmaXJzdC5yaWdodCA+IHNlY29uZC5sZWZ0ICYmIGZpcnN0LnRvcCA8IHNlY29uZC5ib3R0b20gJiYgZmlyc3QuYm90dG9tID4gc2Vjb25kLnRvcDtcbn1cblxuZnVuY3Rpb24gZ2V0RnVydGhlc3RBd2F5KF9yZWYpIHtcbiAgdmFyIHBhZ2VCb3JkZXJCb3ggPSBfcmVmLnBhZ2VCb3JkZXJCb3gsXG4gICAgICBkcmFnZ2FibGUgPSBfcmVmLmRyYWdnYWJsZSxcbiAgICAgIGNhbmRpZGF0ZXMgPSBfcmVmLmNhbmRpZGF0ZXM7XG4gIHZhciBzdGFydENlbnRlciA9IGRyYWdnYWJsZS5wYWdlLmJvcmRlckJveC5jZW50ZXI7XG4gIHZhciBzb3J0ZWQgPSBjYW5kaWRhdGVzLm1hcChmdW5jdGlvbiAoY2FuZGlkYXRlKSB7XG4gICAgdmFyIGF4aXMgPSBjYW5kaWRhdGUuYXhpcztcbiAgICB2YXIgdGFyZ2V0ID0gcGF0Y2goY2FuZGlkYXRlLmF4aXMubGluZSwgcGFnZUJvcmRlckJveC5jZW50ZXJbYXhpcy5saW5lXSwgY2FuZGlkYXRlLnBhZ2UuYm9yZGVyQm94LmNlbnRlcltheGlzLmNyb3NzQXhpc0xpbmVdKTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGNhbmRpZGF0ZS5kZXNjcmlwdG9yLmlkLFxuICAgICAgZGlzdGFuY2U6IGRpc3RhbmNlKHN0YXJ0Q2VudGVyLCB0YXJnZXQpXG4gICAgfTtcbiAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBiLmRpc3RhbmNlIC0gYS5kaXN0YW5jZTtcbiAgfSk7XG4gIHJldHVybiBzb3J0ZWRbMF0gPyBzb3J0ZWRbMF0uaWQgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXREcm9wcGFibGVPdmVyJDEoX3JlZjIpIHtcbiAgdmFyIHBhZ2VCb3JkZXJCb3ggPSBfcmVmMi5wYWdlQm9yZGVyQm94LFxuICAgICAgZHJhZ2dhYmxlID0gX3JlZjIuZHJhZ2dhYmxlLFxuICAgICAgZHJvcHBhYmxlcyA9IF9yZWYyLmRyb3BwYWJsZXM7XG4gIHZhciBjYW5kaWRhdGVzID0gdG9Ecm9wcGFibGVMaXN0KGRyb3BwYWJsZXMpLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgIGlmICghaXRlbS5pc0VuYWJsZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgYWN0aXZlID0gaXRlbS5zdWJqZWN0LmFjdGl2ZTtcblxuICAgIGlmICghYWN0aXZlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFnZXRIYXNPdmVybGFwKHBhZ2VCb3JkZXJCb3gsIGFjdGl2ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoaXNQb3NpdGlvbkluRnJhbWUoYWN0aXZlKShwYWdlQm9yZGVyQm94LmNlbnRlcikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBheGlzID0gaXRlbS5heGlzO1xuICAgIHZhciBjaGlsZENlbnRlciA9IGFjdGl2ZS5jZW50ZXJbYXhpcy5jcm9zc0F4aXNMaW5lXTtcbiAgICB2YXIgY3Jvc3NBeGlzU3RhcnQgPSBwYWdlQm9yZGVyQm94W2F4aXMuY3Jvc3NBeGlzU3RhcnRdO1xuICAgIHZhciBjcm9zc0F4aXNFbmQgPSBwYWdlQm9yZGVyQm94W2F4aXMuY3Jvc3NBeGlzRW5kXTtcbiAgICB2YXIgaXNDb250YWluZWQgPSBpc1dpdGhpbihhY3RpdmVbYXhpcy5jcm9zc0F4aXNTdGFydF0sIGFjdGl2ZVtheGlzLmNyb3NzQXhpc0VuZF0pO1xuICAgIHZhciBpc1N0YXJ0Q29udGFpbmVkID0gaXNDb250YWluZWQoY3Jvc3NBeGlzU3RhcnQpO1xuICAgIHZhciBpc0VuZENvbnRhaW5lZCA9IGlzQ29udGFpbmVkKGNyb3NzQXhpc0VuZCk7XG5cbiAgICBpZiAoIWlzU3RhcnRDb250YWluZWQgJiYgIWlzRW5kQ29udGFpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNTdGFydENvbnRhaW5lZCkge1xuICAgICAgcmV0dXJuIGNyb3NzQXhpc1N0YXJ0IDwgY2hpbGRDZW50ZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyb3NzQXhpc0VuZCA+IGNoaWxkQ2VudGVyO1xuICB9KTtcblxuICBpZiAoIWNhbmRpZGF0ZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gY2FuZGlkYXRlc1swXS5kZXNjcmlwdG9yLmlkO1xuICB9XG5cbiAgcmV0dXJuIGdldEZ1cnRoZXN0QXdheSh7XG4gICAgcGFnZUJvcmRlckJveDogcGFnZUJvcmRlckJveCxcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBjYW5kaWRhdGVzOiBjYW5kaWRhdGVzXG4gIH0pO1xufVxuXG52YXIgb2Zmc2V0UmVjdEJ5UG9zaXRpb24gPSBmdW5jdGlvbiBvZmZzZXRSZWN0QnlQb3NpdGlvbihyZWN0LCBwb2ludCkge1xuICByZXR1cm4gZ2V0UmVjdChvZmZzZXRCeVBvc2l0aW9uKHJlY3QsIHBvaW50KSk7XG59O1xuXG52YXIgd2l0aERyb3BwYWJsZVNjcm9sbCA9IChmdW5jdGlvbiAoZHJvcHBhYmxlLCBhcmVhKSB7XG4gIHZhciBmcmFtZSA9IGRyb3BwYWJsZS5mcmFtZTtcblxuICBpZiAoIWZyYW1lKSB7XG4gICAgcmV0dXJuIGFyZWE7XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0UmVjdEJ5UG9zaXRpb24oYXJlYSwgZnJhbWUuc2Nyb2xsLmRpZmYudmFsdWUpO1xufSk7XG5cbmZ1bmN0aW9uIGdldElzRGlzcGxhY2VkKF9yZWYpIHtcbiAgdmFyIGRpc3BsYWNlZCA9IF9yZWYuZGlzcGxhY2VkLFxuICAgICAgaWQgPSBfcmVmLmlkO1xuICByZXR1cm4gQm9vbGVhbihkaXNwbGFjZWQudmlzaWJsZVtpZF0gfHwgZGlzcGxhY2VkLmludmlzaWJsZVtpZF0pO1xufVxuXG5mdW5jdGlvbiBhdEluZGV4KF9yZWYpIHtcbiAgdmFyIGRyYWdnYWJsZSA9IF9yZWYuZHJhZ2dhYmxlLFxuICAgICAgY2xvc2VzdCA9IF9yZWYuY2xvc2VzdCxcbiAgICAgIGluSG9tZUxpc3QgPSBfcmVmLmluSG9tZUxpc3Q7XG5cbiAgaWYgKCFjbG9zZXN0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoIWluSG9tZUxpc3QpIHtcbiAgICByZXR1cm4gY2xvc2VzdC5kZXNjcmlwdG9yLmluZGV4O1xuICB9XG5cbiAgaWYgKGNsb3Nlc3QuZGVzY3JpcHRvci5pbmRleCA+IGRyYWdnYWJsZS5kZXNjcmlwdG9yLmluZGV4KSB7XG4gICAgcmV0dXJuIGNsb3Nlc3QuZGVzY3JpcHRvci5pbmRleCAtIDE7XG4gIH1cblxuICByZXR1cm4gY2xvc2VzdC5kZXNjcmlwdG9yLmluZGV4O1xufVxuXG52YXIgZ2V0UmVvcmRlckltcGFjdCA9IChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIHRhcmdldFJlY3QgPSBfcmVmMi5wYWdlQm9yZGVyQm94V2l0aERyb3BwYWJsZVNjcm9sbCxcbiAgICAgIGRyYWdnYWJsZSA9IF9yZWYyLmRyYWdnYWJsZSxcbiAgICAgIGRlc3RpbmF0aW9uID0gX3JlZjIuZGVzdGluYXRpb24sXG4gICAgICBpbnNpZGVEZXN0aW5hdGlvbiA9IF9yZWYyLmluc2lkZURlc3RpbmF0aW9uLFxuICAgICAgbGFzdCA9IF9yZWYyLmxhc3QsXG4gICAgICB2aWV3cG9ydCA9IF9yZWYyLnZpZXdwb3J0LFxuICAgICAgYWZ0ZXJDcml0aWNhbCA9IF9yZWYyLmFmdGVyQ3JpdGljYWw7XG4gIHZhciBheGlzID0gZGVzdGluYXRpb24uYXhpcztcbiAgdmFyIGRpc3BsYWNlZEJ5ID0gZ2V0RGlzcGxhY2VkQnkoZGVzdGluYXRpb24uYXhpcywgZHJhZ2dhYmxlLmRpc3BsYWNlQnkpO1xuICB2YXIgZGlzcGxhY2VtZW50ID0gZGlzcGxhY2VkQnkudmFsdWU7XG4gIHZhciB0YXJnZXRTdGFydCA9IHRhcmdldFJlY3RbYXhpcy5zdGFydF07XG4gIHZhciB0YXJnZXRFbmQgPSB0YXJnZXRSZWN0W2F4aXMuZW5kXTtcbiAgdmFyIHdpdGhvdXREcmFnZ2luZyA9IHJlbW92ZURyYWdnYWJsZUZyb21MaXN0KGRyYWdnYWJsZSwgaW5zaWRlRGVzdGluYXRpb24pO1xuICB2YXIgY2xvc2VzdCA9IGZpbmQod2l0aG91dERyYWdnaW5nLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICB2YXIgaWQgPSBjaGlsZC5kZXNjcmlwdG9yLmlkO1xuICAgIHZhciBjaGlsZENlbnRlciA9IGNoaWxkLnBhZ2UuYm9yZGVyQm94LmNlbnRlcltheGlzLmxpbmVdO1xuICAgIHZhciBkaWRTdGFydEFmdGVyQ3JpdGljYWwkMSA9IGRpZFN0YXJ0QWZ0ZXJDcml0aWNhbChpZCwgYWZ0ZXJDcml0aWNhbCk7XG4gICAgdmFyIGlzRGlzcGxhY2VkID0gZ2V0SXNEaXNwbGFjZWQoe1xuICAgICAgZGlzcGxhY2VkOiBsYXN0LFxuICAgICAgaWQ6IGlkXG4gICAgfSk7XG5cbiAgICBpZiAoZGlkU3RhcnRBZnRlckNyaXRpY2FsJDEpIHtcbiAgICAgIGlmIChpc0Rpc3BsYWNlZCkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0RW5kIDw9IGNoaWxkQ2VudGVyO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGFyZ2V0U3RhcnQgPCBjaGlsZENlbnRlciAtIGRpc3BsYWNlbWVudDtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwbGFjZWQpIHtcbiAgICAgIHJldHVybiB0YXJnZXRFbmQgPD0gY2hpbGRDZW50ZXIgKyBkaXNwbGFjZW1lbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldFN0YXJ0IDwgY2hpbGRDZW50ZXI7XG4gIH0pO1xuICB2YXIgbmV3SW5kZXggPSBhdEluZGV4KHtcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBjbG9zZXN0OiBjbG9zZXN0LFxuICAgIGluSG9tZUxpc3Q6IGlzSG9tZU9mKGRyYWdnYWJsZSwgZGVzdGluYXRpb24pXG4gIH0pO1xuICByZXR1cm4gY2FsY3VsYXRlUmVvcmRlckltcGFjdCh7XG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgaW5zaWRlRGVzdGluYXRpb246IGluc2lkZURlc3RpbmF0aW9uLFxuICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgbGFzdDogbGFzdCxcbiAgICBkaXNwbGFjZWRCeTogZGlzcGxhY2VkQnksXG4gICAgaW5kZXg6IG5ld0luZGV4XG4gIH0pO1xufSk7XG5cbnZhciBjb21iaW5lVGhyZXNob2xkRGl2aXNvciA9IDQ7XG52YXIgZ2V0Q29tYmluZUltcGFjdCA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZHJhZ2dhYmxlID0gX3JlZi5kcmFnZ2FibGUsXG4gICAgICB0YXJnZXRSZWN0ID0gX3JlZi5wYWdlQm9yZGVyQm94V2l0aERyb3BwYWJsZVNjcm9sbCxcbiAgICAgIHByZXZpb3VzSW1wYWN0ID0gX3JlZi5wcmV2aW91c0ltcGFjdCxcbiAgICAgIGRlc3RpbmF0aW9uID0gX3JlZi5kZXN0aW5hdGlvbixcbiAgICAgIGluc2lkZURlc3RpbmF0aW9uID0gX3JlZi5pbnNpZGVEZXN0aW5hdGlvbixcbiAgICAgIGFmdGVyQ3JpdGljYWwgPSBfcmVmLmFmdGVyQ3JpdGljYWw7XG5cbiAgaWYgKCFkZXN0aW5hdGlvbi5pc0NvbWJpbmVFbmFibGVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgYXhpcyA9IGRlc3RpbmF0aW9uLmF4aXM7XG4gIHZhciBkaXNwbGFjZWRCeSA9IGdldERpc3BsYWNlZEJ5KGRlc3RpbmF0aW9uLmF4aXMsIGRyYWdnYWJsZS5kaXNwbGFjZUJ5KTtcbiAgdmFyIGRpc3BsYWNlbWVudCA9IGRpc3BsYWNlZEJ5LnZhbHVlO1xuICB2YXIgdGFyZ2V0U3RhcnQgPSB0YXJnZXRSZWN0W2F4aXMuc3RhcnRdO1xuICB2YXIgdGFyZ2V0RW5kID0gdGFyZ2V0UmVjdFtheGlzLmVuZF07XG4gIHZhciB3aXRob3V0RHJhZ2dpbmcgPSByZW1vdmVEcmFnZ2FibGVGcm9tTGlzdChkcmFnZ2FibGUsIGluc2lkZURlc3RpbmF0aW9uKTtcbiAgdmFyIGNvbWJpbmVXaXRoID0gZmluZCh3aXRob3V0RHJhZ2dpbmcsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHZhciBpZCA9IGNoaWxkLmRlc2NyaXB0b3IuaWQ7XG4gICAgdmFyIGNoaWxkUmVjdCA9IGNoaWxkLnBhZ2UuYm9yZGVyQm94O1xuICAgIHZhciBjaGlsZFNpemUgPSBjaGlsZFJlY3RbYXhpcy5zaXplXTtcbiAgICB2YXIgdGhyZXNob2xkID0gY2hpbGRTaXplIC8gY29tYmluZVRocmVzaG9sZERpdmlzb3I7XG4gICAgdmFyIGRpZFN0YXJ0QWZ0ZXJDcml0aWNhbCQxID0gZGlkU3RhcnRBZnRlckNyaXRpY2FsKGlkLCBhZnRlckNyaXRpY2FsKTtcbiAgICB2YXIgaXNEaXNwbGFjZWQgPSBnZXRJc0Rpc3BsYWNlZCh7XG4gICAgICBkaXNwbGFjZWQ6IHByZXZpb3VzSW1wYWN0LmRpc3BsYWNlZCxcbiAgICAgIGlkOiBpZFxuICAgIH0pO1xuXG4gICAgaWYgKGRpZFN0YXJ0QWZ0ZXJDcml0aWNhbCQxKSB7XG4gICAgICBpZiAoaXNEaXNwbGFjZWQpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldEVuZCA+IGNoaWxkUmVjdFtheGlzLnN0YXJ0XSArIHRocmVzaG9sZCAmJiB0YXJnZXRFbmQgPCBjaGlsZFJlY3RbYXhpcy5lbmRdIC0gdGhyZXNob2xkO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGFyZ2V0U3RhcnQgPiBjaGlsZFJlY3RbYXhpcy5zdGFydF0gLSBkaXNwbGFjZW1lbnQgKyB0aHJlc2hvbGQgJiYgdGFyZ2V0U3RhcnQgPCBjaGlsZFJlY3RbYXhpcy5lbmRdIC0gZGlzcGxhY2VtZW50IC0gdGhyZXNob2xkO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BsYWNlZCkge1xuICAgICAgcmV0dXJuIHRhcmdldEVuZCA+IGNoaWxkUmVjdFtheGlzLnN0YXJ0XSArIGRpc3BsYWNlbWVudCArIHRocmVzaG9sZCAmJiB0YXJnZXRFbmQgPCBjaGlsZFJlY3RbYXhpcy5lbmRdICsgZGlzcGxhY2VtZW50IC0gdGhyZXNob2xkO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXRTdGFydCA+IGNoaWxkUmVjdFtheGlzLnN0YXJ0XSArIHRocmVzaG9sZCAmJiB0YXJnZXRTdGFydCA8IGNoaWxkUmVjdFtheGlzLmVuZF0gLSB0aHJlc2hvbGQ7XG4gIH0pO1xuXG4gIGlmICghY29tYmluZVdpdGgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBpbXBhY3QgPSB7XG4gICAgZGlzcGxhY2VkQnk6IGRpc3BsYWNlZEJ5LFxuICAgIGRpc3BsYWNlZDogcHJldmlvdXNJbXBhY3QuZGlzcGxhY2VkLFxuICAgIGF0OiB7XG4gICAgICB0eXBlOiAnQ09NQklORScsXG4gICAgICBjb21iaW5lOiB7XG4gICAgICAgIGRyYWdnYWJsZUlkOiBjb21iaW5lV2l0aC5kZXNjcmlwdG9yLmlkLFxuICAgICAgICBkcm9wcGFibGVJZDogZGVzdGluYXRpb24uZGVzY3JpcHRvci5pZFxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGltcGFjdDtcbn0pO1xuXG52YXIgZ2V0RHJhZ0ltcGFjdCA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgcGFnZU9mZnNldCA9IF9yZWYucGFnZU9mZnNldCxcbiAgICAgIGRyYWdnYWJsZSA9IF9yZWYuZHJhZ2dhYmxlLFxuICAgICAgZHJhZ2dhYmxlcyA9IF9yZWYuZHJhZ2dhYmxlcyxcbiAgICAgIGRyb3BwYWJsZXMgPSBfcmVmLmRyb3BwYWJsZXMsXG4gICAgICBwcmV2aW91c0ltcGFjdCA9IF9yZWYucHJldmlvdXNJbXBhY3QsXG4gICAgICB2aWV3cG9ydCA9IF9yZWYudmlld3BvcnQsXG4gICAgICBhZnRlckNyaXRpY2FsID0gX3JlZi5hZnRlckNyaXRpY2FsO1xuICB2YXIgcGFnZUJvcmRlckJveCA9IG9mZnNldFJlY3RCeVBvc2l0aW9uKGRyYWdnYWJsZS5wYWdlLmJvcmRlckJveCwgcGFnZU9mZnNldCk7XG4gIHZhciBkZXN0aW5hdGlvbklkID0gZ2V0RHJvcHBhYmxlT3ZlciQxKHtcbiAgICBwYWdlQm9yZGVyQm94OiBwYWdlQm9yZGVyQm94LFxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGRyb3BwYWJsZXM6IGRyb3BwYWJsZXNcbiAgfSk7XG5cbiAgaWYgKCFkZXN0aW5hdGlvbklkKSB7XG4gICAgcmV0dXJuIG5vSW1wYWN0O1xuICB9XG5cbiAgdmFyIGRlc3RpbmF0aW9uID0gZHJvcHBhYmxlc1tkZXN0aW5hdGlvbklkXTtcbiAgdmFyIGluc2lkZURlc3RpbmF0aW9uID0gZ2V0RHJhZ2dhYmxlc0luc2lkZURyb3BwYWJsZShkZXN0aW5hdGlvbi5kZXNjcmlwdG9yLmlkLCBkcmFnZ2FibGVzKTtcbiAgdmFyIHBhZ2VCb3JkZXJCb3hXaXRoRHJvcHBhYmxlU2Nyb2xsID0gd2l0aERyb3BwYWJsZVNjcm9sbChkZXN0aW5hdGlvbiwgcGFnZUJvcmRlckJveCk7XG4gIHJldHVybiBnZXRDb21iaW5lSW1wYWN0KHtcbiAgICBwYWdlQm9yZGVyQm94V2l0aERyb3BwYWJsZVNjcm9sbDogcGFnZUJvcmRlckJveFdpdGhEcm9wcGFibGVTY3JvbGwsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgcHJldmlvdXNJbXBhY3Q6IHByZXZpb3VzSW1wYWN0LFxuICAgIGRlc3RpbmF0aW9uOiBkZXN0aW5hdGlvbixcbiAgICBpbnNpZGVEZXN0aW5hdGlvbjogaW5zaWRlRGVzdGluYXRpb24sXG4gICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbFxuICB9KSB8fCBnZXRSZW9yZGVySW1wYWN0KHtcbiAgICBwYWdlQm9yZGVyQm94V2l0aERyb3BwYWJsZVNjcm9sbDogcGFnZUJvcmRlckJveFdpdGhEcm9wcGFibGVTY3JvbGwsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgIGluc2lkZURlc3RpbmF0aW9uOiBpbnNpZGVEZXN0aW5hdGlvbixcbiAgICBsYXN0OiBwcmV2aW91c0ltcGFjdC5kaXNwbGFjZWQsXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0LFxuICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWxcbiAgfSk7XG59KTtcblxudmFyIHBhdGNoRHJvcHBhYmxlTWFwID0gKGZ1bmN0aW9uIChkcm9wcGFibGVzLCB1cGRhdGVkKSB7XG4gIHZhciBfZXh0ZW5kczI7XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBkcm9wcGFibGVzLCAoX2V4dGVuZHMyID0ge30sIF9leHRlbmRzMlt1cGRhdGVkLmRlc2NyaXB0b3IuaWRdID0gdXBkYXRlZCwgX2V4dGVuZHMyKSk7XG59KTtcblxudmFyIGNsZWFyVW51c2VkUGxhY2Vob2xkZXIgPSBmdW5jdGlvbiBjbGVhclVudXNlZFBsYWNlaG9sZGVyKF9yZWYpIHtcbiAgdmFyIHByZXZpb3VzSW1wYWN0ID0gX3JlZi5wcmV2aW91c0ltcGFjdCxcbiAgICAgIGltcGFjdCA9IF9yZWYuaW1wYWN0LFxuICAgICAgZHJvcHBhYmxlcyA9IF9yZWYuZHJvcHBhYmxlcztcbiAgdmFyIGxhc3QgPSB3aGF0SXNEcmFnZ2VkT3ZlcihwcmV2aW91c0ltcGFjdCk7XG4gIHZhciBub3cgPSB3aGF0SXNEcmFnZ2VkT3ZlcihpbXBhY3QpO1xuXG4gIGlmICghbGFzdCkge1xuICAgIHJldHVybiBkcm9wcGFibGVzO1xuICB9XG5cbiAgaWYgKGxhc3QgPT09IG5vdykge1xuICAgIHJldHVybiBkcm9wcGFibGVzO1xuICB9XG5cbiAgdmFyIGxhc3REcm9wcGFibGUgPSBkcm9wcGFibGVzW2xhc3RdO1xuXG4gIGlmICghbGFzdERyb3BwYWJsZS5zdWJqZWN0LndpdGhQbGFjZWhvbGRlcikge1xuICAgIHJldHVybiBkcm9wcGFibGVzO1xuICB9XG5cbiAgdmFyIHVwZGF0ZWQgPSByZW1vdmVQbGFjZWhvbGRlcihsYXN0RHJvcHBhYmxlKTtcbiAgcmV0dXJuIHBhdGNoRHJvcHBhYmxlTWFwKGRyb3BwYWJsZXMsIHVwZGF0ZWQpO1xufTtcblxudmFyIHJlY29tcHV0ZVBsYWNlaG9sZGVycyA9IChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgdmFyIGRyYWdnYWJsZSA9IF9yZWYyLmRyYWdnYWJsZSxcbiAgICAgIGRyYWdnYWJsZXMgPSBfcmVmMi5kcmFnZ2FibGVzLFxuICAgICAgZHJvcHBhYmxlcyA9IF9yZWYyLmRyb3BwYWJsZXMsXG4gICAgICBwcmV2aW91c0ltcGFjdCA9IF9yZWYyLnByZXZpb3VzSW1wYWN0LFxuICAgICAgaW1wYWN0ID0gX3JlZjIuaW1wYWN0O1xuICB2YXIgY2xlYW5lZCA9IGNsZWFyVW51c2VkUGxhY2Vob2xkZXIoe1xuICAgIHByZXZpb3VzSW1wYWN0OiBwcmV2aW91c0ltcGFjdCxcbiAgICBpbXBhY3Q6IGltcGFjdCxcbiAgICBkcm9wcGFibGVzOiBkcm9wcGFibGVzXG4gIH0pO1xuICB2YXIgaXNPdmVyID0gd2hhdElzRHJhZ2dlZE92ZXIoaW1wYWN0KTtcblxuICBpZiAoIWlzT3Zlcikge1xuICAgIHJldHVybiBjbGVhbmVkO1xuICB9XG5cbiAgdmFyIGRyb3BwYWJsZSA9IGRyb3BwYWJsZXNbaXNPdmVyXTtcblxuICBpZiAoaXNIb21lT2YoZHJhZ2dhYmxlLCBkcm9wcGFibGUpKSB7XG4gICAgcmV0dXJuIGNsZWFuZWQ7XG4gIH1cblxuICBpZiAoZHJvcHBhYmxlLnN1YmplY3Qud2l0aFBsYWNlaG9sZGVyKSB7XG4gICAgcmV0dXJuIGNsZWFuZWQ7XG4gIH1cblxuICB2YXIgcGF0Y2hlZCA9IGFkZFBsYWNlaG9sZGVyKGRyb3BwYWJsZSwgZHJhZ2dhYmxlLCBkcmFnZ2FibGVzKTtcbiAgcmV0dXJuIHBhdGNoRHJvcHBhYmxlTWFwKGNsZWFuZWQsIHBhdGNoZWQpO1xufSk7XG5cbnZhciB1cGRhdGUgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIGZvcmNlZENsaWVudFNlbGVjdGlvbiA9IF9yZWYuY2xpZW50U2VsZWN0aW9uLFxuICAgICAgZm9yY2VkRGltZW5zaW9ucyA9IF9yZWYuZGltZW5zaW9ucyxcbiAgICAgIGZvcmNlZFZpZXdwb3J0ID0gX3JlZi52aWV3cG9ydCxcbiAgICAgIGZvcmNlZEltcGFjdCA9IF9yZWYuaW1wYWN0LFxuICAgICAgc2Nyb2xsSnVtcFJlcXVlc3QgPSBfcmVmLnNjcm9sbEp1bXBSZXF1ZXN0O1xuICB2YXIgdmlld3BvcnQgPSBmb3JjZWRWaWV3cG9ydCB8fCBzdGF0ZS52aWV3cG9ydDtcbiAgdmFyIGRpbWVuc2lvbnMgPSBmb3JjZWREaW1lbnNpb25zIHx8IHN0YXRlLmRpbWVuc2lvbnM7XG4gIHZhciBjbGllbnRTZWxlY3Rpb24gPSBmb3JjZWRDbGllbnRTZWxlY3Rpb24gfHwgc3RhdGUuY3VycmVudC5jbGllbnQuc2VsZWN0aW9uO1xuICB2YXIgb2Zmc2V0ID0gc3VidHJhY3QoY2xpZW50U2VsZWN0aW9uLCBzdGF0ZS5pbml0aWFsLmNsaWVudC5zZWxlY3Rpb24pO1xuICB2YXIgY2xpZW50ID0ge1xuICAgIG9mZnNldDogb2Zmc2V0LFxuICAgIHNlbGVjdGlvbjogY2xpZW50U2VsZWN0aW9uLFxuICAgIGJvcmRlckJveENlbnRlcjogYWRkKHN0YXRlLmluaXRpYWwuY2xpZW50LmJvcmRlckJveENlbnRlciwgb2Zmc2V0KVxuICB9O1xuICB2YXIgcGFnZSA9IHtcbiAgICBzZWxlY3Rpb246IGFkZChjbGllbnQuc2VsZWN0aW9uLCB2aWV3cG9ydC5zY3JvbGwuY3VycmVudCksXG4gICAgYm9yZGVyQm94Q2VudGVyOiBhZGQoY2xpZW50LmJvcmRlckJveENlbnRlciwgdmlld3BvcnQuc2Nyb2xsLmN1cnJlbnQpLFxuICAgIG9mZnNldDogYWRkKGNsaWVudC5vZmZzZXQsIHZpZXdwb3J0LnNjcm9sbC5kaWZmLnZhbHVlKVxuICB9O1xuICB2YXIgY3VycmVudCA9IHtcbiAgICBjbGllbnQ6IGNsaWVudCxcbiAgICBwYWdlOiBwYWdlXG4gIH07XG5cbiAgaWYgKHN0YXRlLnBoYXNlID09PSAnQ09MTEVDVElORycpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgcGhhc2U6ICdDT0xMRUNUSU5HJ1xuICAgIH0sIHN0YXRlLCB7XG4gICAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zLFxuICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0LFxuICAgICAgY3VycmVudDogY3VycmVudFxuICAgIH0pO1xuICB9XG5cbiAgdmFyIGRyYWdnYWJsZSA9IGRpbWVuc2lvbnMuZHJhZ2dhYmxlc1tzdGF0ZS5jcml0aWNhbC5kcmFnZ2FibGUuaWRdO1xuICB2YXIgbmV3SW1wYWN0ID0gZm9yY2VkSW1wYWN0IHx8IGdldERyYWdJbXBhY3Qoe1xuICAgIHBhZ2VPZmZzZXQ6IHBhZ2Uub2Zmc2V0LFxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGRyYWdnYWJsZXM6IGRpbWVuc2lvbnMuZHJhZ2dhYmxlcyxcbiAgICBkcm9wcGFibGVzOiBkaW1lbnNpb25zLmRyb3BwYWJsZXMsXG4gICAgcHJldmlvdXNJbXBhY3Q6IHN0YXRlLmltcGFjdCxcbiAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgYWZ0ZXJDcml0aWNhbDogc3RhdGUuYWZ0ZXJDcml0aWNhbFxuICB9KTtcbiAgdmFyIHdpdGhVcGRhdGVkUGxhY2Vob2xkZXJzID0gcmVjb21wdXRlUGxhY2Vob2xkZXJzKHtcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICBpbXBhY3Q6IG5ld0ltcGFjdCxcbiAgICBwcmV2aW91c0ltcGFjdDogc3RhdGUuaW1wYWN0LFxuICAgIGRyYWdnYWJsZXM6IGRpbWVuc2lvbnMuZHJhZ2dhYmxlcyxcbiAgICBkcm9wcGFibGVzOiBkaW1lbnNpb25zLmRyb3BwYWJsZXNcbiAgfSk7XG5cbiAgdmFyIHJlc3VsdCA9IF9leHRlbmRzKHt9LCBzdGF0ZSwge1xuICAgIGN1cnJlbnQ6IGN1cnJlbnQsXG4gICAgZGltZW5zaW9uczoge1xuICAgICAgZHJhZ2dhYmxlczogZGltZW5zaW9ucy5kcmFnZ2FibGVzLFxuICAgICAgZHJvcHBhYmxlczogd2l0aFVwZGF0ZWRQbGFjZWhvbGRlcnNcbiAgICB9LFxuICAgIGltcGFjdDogbmV3SW1wYWN0LFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICBzY3JvbGxKdW1wUmVxdWVzdDogc2Nyb2xsSnVtcFJlcXVlc3QgfHwgbnVsbCxcbiAgICBmb3JjZVNob3VsZEFuaW1hdGU6IHNjcm9sbEp1bXBSZXF1ZXN0ID8gZmFsc2UgOiBudWxsXG4gIH0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxuZnVuY3Rpb24gZ2V0RHJhZ2dhYmxlcyQxKGlkcywgZHJhZ2dhYmxlcykge1xuICByZXR1cm4gaWRzLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICByZXR1cm4gZHJhZ2dhYmxlc1tpZF07XG4gIH0pO1xufVxuXG52YXIgcmVjb21wdXRlID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBpbXBhY3QgPSBfcmVmLmltcGFjdCxcbiAgICAgIHZpZXdwb3J0ID0gX3JlZi52aWV3cG9ydCxcbiAgICAgIGRyYWdnYWJsZXMgPSBfcmVmLmRyYWdnYWJsZXMsXG4gICAgICBkZXN0aW5hdGlvbiA9IF9yZWYuZGVzdGluYXRpb24sXG4gICAgICBmb3JjZVNob3VsZEFuaW1hdGUgPSBfcmVmLmZvcmNlU2hvdWxkQW5pbWF0ZTtcbiAgdmFyIGxhc3QgPSBpbXBhY3QuZGlzcGxhY2VkO1xuICB2YXIgYWZ0ZXJEcmFnZ2luZyA9IGdldERyYWdnYWJsZXMkMShsYXN0LmFsbCwgZHJhZ2dhYmxlcyk7XG4gIHZhciBkaXNwbGFjZWQgPSBnZXREaXNwbGFjZW1lbnRHcm91cHMoe1xuICAgIGFmdGVyRHJhZ2dpbmc6IGFmdGVyRHJhZ2dpbmcsXG4gICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgIGRpc3BsYWNlZEJ5OiBpbXBhY3QuZGlzcGxhY2VkQnksXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0LmZyYW1lLFxuICAgIGZvcmNlU2hvdWxkQW5pbWF0ZTogZm9yY2VTaG91bGRBbmltYXRlLFxuICAgIGxhc3Q6IGxhc3RcbiAgfSk7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgaW1wYWN0LCB7XG4gICAgZGlzcGxhY2VkOiBkaXNwbGFjZWRcbiAgfSk7XG59KTtcblxudmFyIGdldENsaWVudEJvcmRlckJveENlbnRlciA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgaW1wYWN0ID0gX3JlZi5pbXBhY3QsXG4gICAgICBkcmFnZ2FibGUgPSBfcmVmLmRyYWdnYWJsZSxcbiAgICAgIGRyb3BwYWJsZSA9IF9yZWYuZHJvcHBhYmxlLFxuICAgICAgZHJhZ2dhYmxlcyA9IF9yZWYuZHJhZ2dhYmxlcyxcbiAgICAgIHZpZXdwb3J0ID0gX3JlZi52aWV3cG9ydCxcbiAgICAgIGFmdGVyQ3JpdGljYWwgPSBfcmVmLmFmdGVyQ3JpdGljYWw7XG4gIHZhciBwYWdlQm9yZGVyQm94Q2VudGVyID0gZ2V0UGFnZUJvcmRlckJveENlbnRlckZyb21JbXBhY3Qoe1xuICAgIGltcGFjdDogaW1wYWN0LFxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGRyYWdnYWJsZXM6IGRyYWdnYWJsZXMsXG4gICAgZHJvcHBhYmxlOiBkcm9wcGFibGUsXG4gICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbFxuICB9KTtcbiAgcmV0dXJuIGdldENsaWVudEZyb21QYWdlQm9yZGVyQm94Q2VudGVyKHtcbiAgICBwYWdlQm9yZGVyQm94Q2VudGVyOiBwYWdlQm9yZGVyQm94Q2VudGVyLFxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIHZpZXdwb3J0OiB2aWV3cG9ydFxuICB9KTtcbn0pO1xuXG52YXIgcmVmcmVzaFNuYXAgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSxcbiAgICAgIGZvcmNlZERpbWVuc2lvbnMgPSBfcmVmLmRpbWVuc2lvbnMsXG4gICAgICBmb3JjZWRWaWV3cG9ydCA9IF9yZWYudmlld3BvcnQ7XG4gICEoc3RhdGUubW92ZW1lbnRNb2RlID09PSAnU05BUCcpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHZhciBuZWVkc1Zpc2liaWxpdHlDaGVjayA9IHN0YXRlLmltcGFjdDtcbiAgdmFyIHZpZXdwb3J0ID0gZm9yY2VkVmlld3BvcnQgfHwgc3RhdGUudmlld3BvcnQ7XG4gIHZhciBkaW1lbnNpb25zID0gZm9yY2VkRGltZW5zaW9ucyB8fCBzdGF0ZS5kaW1lbnNpb25zO1xuICB2YXIgZHJhZ2dhYmxlcyA9IGRpbWVuc2lvbnMuZHJhZ2dhYmxlcyxcbiAgICAgIGRyb3BwYWJsZXMgPSBkaW1lbnNpb25zLmRyb3BwYWJsZXM7XG4gIHZhciBkcmFnZ2FibGUgPSBkcmFnZ2FibGVzW3N0YXRlLmNyaXRpY2FsLmRyYWdnYWJsZS5pZF07XG4gIHZhciBpc092ZXIgPSB3aGF0SXNEcmFnZ2VkT3ZlcihuZWVkc1Zpc2liaWxpdHlDaGVjayk7XG4gICFpc092ZXIgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdNdXN0IGJlIG92ZXIgYSBkZXN0aW5hdGlvbiBpbiBTTkFQIG1vdmVtZW50IG1vZGUnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHZhciBkZXN0aW5hdGlvbiA9IGRyb3BwYWJsZXNbaXNPdmVyXTtcbiAgdmFyIGltcGFjdCA9IHJlY29tcHV0ZSh7XG4gICAgaW1wYWN0OiBuZWVkc1Zpc2liaWxpdHlDaGVjayxcbiAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgZGVzdGluYXRpb246IGRlc3RpbmF0aW9uLFxuICAgIGRyYWdnYWJsZXM6IGRyYWdnYWJsZXNcbiAgfSk7XG4gIHZhciBjbGllbnRTZWxlY3Rpb24gPSBnZXRDbGllbnRCb3JkZXJCb3hDZW50ZXIoe1xuICAgIGltcGFjdDogaW1wYWN0LFxuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGRyb3BwYWJsZTogZGVzdGluYXRpb24sXG4gICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlcyxcbiAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgYWZ0ZXJDcml0aWNhbDogc3RhdGUuYWZ0ZXJDcml0aWNhbFxuICB9KTtcbiAgcmV0dXJuIHVwZGF0ZSh7XG4gICAgaW1wYWN0OiBpbXBhY3QsXG4gICAgY2xpZW50U2VsZWN0aW9uOiBjbGllbnRTZWxlY3Rpb24sXG4gICAgc3RhdGU6IHN0YXRlLFxuICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMsXG4gICAgdmlld3BvcnQ6IHZpZXdwb3J0XG4gIH0pO1xufSk7XG5cbnZhciBnZXRIb21lTG9jYXRpb24gPSAoZnVuY3Rpb24gKGRlc2NyaXB0b3IpIHtcbiAgcmV0dXJuIHtcbiAgICBpbmRleDogZGVzY3JpcHRvci5pbmRleCxcbiAgICBkcm9wcGFibGVJZDogZGVzY3JpcHRvci5kcm9wcGFibGVJZFxuICB9O1xufSk7XG5cbnZhciBnZXRMaWZ0RWZmZWN0ID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBkcmFnZ2FibGUgPSBfcmVmLmRyYWdnYWJsZSxcbiAgICAgIGhvbWUgPSBfcmVmLmhvbWUsXG4gICAgICBkcmFnZ2FibGVzID0gX3JlZi5kcmFnZ2FibGVzLFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0O1xuICB2YXIgZGlzcGxhY2VkQnkgPSBnZXREaXNwbGFjZWRCeShob21lLmF4aXMsIGRyYWdnYWJsZS5kaXNwbGFjZUJ5KTtcbiAgdmFyIGluc2lkZUhvbWUgPSBnZXREcmFnZ2FibGVzSW5zaWRlRHJvcHBhYmxlKGhvbWUuZGVzY3JpcHRvci5pZCwgZHJhZ2dhYmxlcyk7XG4gIHZhciByYXdJbmRleCA9IGluc2lkZUhvbWUuaW5kZXhPZihkcmFnZ2FibGUpO1xuICAhKHJhd0luZGV4ICE9PSAtMSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBkcmFnZ2FibGUgdG8gYmUgaW5zaWRlIGhvbWUgbGlzdCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIGFmdGVyRHJhZ2dpbmcgPSBpbnNpZGVIb21lLnNsaWNlKHJhd0luZGV4ICsgMSk7XG4gIHZhciBlZmZlY3RlZCA9IGFmdGVyRHJhZ2dpbmcucmVkdWNlKGZ1bmN0aW9uIChwcmV2aW91cywgaXRlbSkge1xuICAgIHByZXZpb3VzW2l0ZW0uZGVzY3JpcHRvci5pZF0gPSB0cnVlO1xuICAgIHJldHVybiBwcmV2aW91cztcbiAgfSwge30pO1xuICB2YXIgYWZ0ZXJDcml0aWNhbCA9IHtcbiAgICBpblZpcnR1YWxMaXN0OiBob21lLmRlc2NyaXB0b3IubW9kZSA9PT0gJ3ZpcnR1YWwnLFxuICAgIGRpc3BsYWNlZEJ5OiBkaXNwbGFjZWRCeSxcbiAgICBlZmZlY3RlZDogZWZmZWN0ZWRcbiAgfTtcbiAgdmFyIGRpc3BsYWNlZCA9IGdldERpc3BsYWNlbWVudEdyb3Vwcyh7XG4gICAgYWZ0ZXJEcmFnZ2luZzogYWZ0ZXJEcmFnZ2luZyxcbiAgICBkZXN0aW5hdGlvbjogaG9tZSxcbiAgICBkaXNwbGFjZWRCeTogZGlzcGxhY2VkQnksXG4gICAgbGFzdDogbnVsbCxcbiAgICB2aWV3cG9ydDogdmlld3BvcnQuZnJhbWUsXG4gICAgZm9yY2VTaG91bGRBbmltYXRlOiBmYWxzZVxuICB9KTtcbiAgdmFyIGltcGFjdCA9IHtcbiAgICBkaXNwbGFjZWQ6IGRpc3BsYWNlZCxcbiAgICBkaXNwbGFjZWRCeTogZGlzcGxhY2VkQnksXG4gICAgYXQ6IHtcbiAgICAgIHR5cGU6ICdSRU9SREVSJyxcbiAgICAgIGRlc3RpbmF0aW9uOiBnZXRIb21lTG9jYXRpb24oZHJhZ2dhYmxlLmRlc2NyaXB0b3IpXG4gICAgfVxuICB9O1xuICByZXR1cm4ge1xuICAgIGltcGFjdDogaW1wYWN0LFxuICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWxcbiAgfTtcbn0pO1xuXG52YXIgcGF0Y2hEaW1lbnNpb25NYXAgPSAoZnVuY3Rpb24gKGRpbWVuc2lvbnMsIHVwZGF0ZWQpIHtcbiAgcmV0dXJuIHtcbiAgICBkcmFnZ2FibGVzOiBkaW1lbnNpb25zLmRyYWdnYWJsZXMsXG4gICAgZHJvcHBhYmxlczogcGF0Y2hEcm9wcGFibGVNYXAoZGltZW5zaW9ucy5kcm9wcGFibGVzLCB1cGRhdGVkKVxuICB9O1xufSk7XG5cbnZhciBzdGFydCA9IGZ1bmN0aW9uIHN0YXJ0KGtleSkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn07XG52YXIgZmluaXNoID0gZnVuY3Rpb24gZmluaXNoKGtleSkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBvZmZzZXREcmFnZ2FibGUgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGRyYWdnYWJsZSA9IF9yZWYuZHJhZ2dhYmxlLFxuICAgICAgb2Zmc2V0JDEgPSBfcmVmLm9mZnNldCxcbiAgICAgIGluaXRpYWxXaW5kb3dTY3JvbGwgPSBfcmVmLmluaXRpYWxXaW5kb3dTY3JvbGw7XG4gIHZhciBjbGllbnQgPSBvZmZzZXQoZHJhZ2dhYmxlLmNsaWVudCwgb2Zmc2V0JDEpO1xuICB2YXIgcGFnZSA9IHdpdGhTY3JvbGwoY2xpZW50LCBpbml0aWFsV2luZG93U2Nyb2xsKTtcblxuICB2YXIgbW92ZWQgPSBfZXh0ZW5kcyh7fSwgZHJhZ2dhYmxlLCB7XG4gICAgcGxhY2Vob2xkZXI6IF9leHRlbmRzKHt9LCBkcmFnZ2FibGUucGxhY2Vob2xkZXIsIHtcbiAgICAgIGNsaWVudDogY2xpZW50XG4gICAgfSksXG4gICAgY2xpZW50OiBjbGllbnQsXG4gICAgcGFnZTogcGFnZVxuICB9KTtcblxuICByZXR1cm4gbW92ZWQ7XG59KTtcblxudmFyIGdldEZyYW1lID0gKGZ1bmN0aW9uIChkcm9wcGFibGUpIHtcbiAgdmFyIGZyYW1lID0gZHJvcHBhYmxlLmZyYW1lO1xuICAhZnJhbWUgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBEcm9wcGFibGUgdG8gaGF2ZSBhIGZyYW1lJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICByZXR1cm4gZnJhbWU7XG59KTtcblxudmFyIGFkanVzdEFkZGl0aW9uc0ZvclNjcm9sbENoYW5nZXMgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGFkZGl0aW9ucyA9IF9yZWYuYWRkaXRpb25zLFxuICAgICAgdXBkYXRlZERyb3BwYWJsZXMgPSBfcmVmLnVwZGF0ZWREcm9wcGFibGVzLFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0O1xuICB2YXIgd2luZG93U2Nyb2xsQ2hhbmdlID0gdmlld3BvcnQuc2Nyb2xsLmRpZmYudmFsdWU7XG4gIHJldHVybiBhZGRpdGlvbnMubWFwKGZ1bmN0aW9uIChkcmFnZ2FibGUpIHtcbiAgICB2YXIgZHJvcHBhYmxlSWQgPSBkcmFnZ2FibGUuZGVzY3JpcHRvci5kcm9wcGFibGVJZDtcbiAgICB2YXIgbW9kaWZpZWQgPSB1cGRhdGVkRHJvcHBhYmxlc1tkcm9wcGFibGVJZF07XG4gICAgdmFyIGZyYW1lID0gZ2V0RnJhbWUobW9kaWZpZWQpO1xuICAgIHZhciBkcm9wcGFibGVTY3JvbGxDaGFuZ2UgPSBmcmFtZS5zY3JvbGwuZGlmZi52YWx1ZTtcbiAgICB2YXIgdG90YWxDaGFuZ2UgPSBhZGQod2luZG93U2Nyb2xsQ2hhbmdlLCBkcm9wcGFibGVTY3JvbGxDaGFuZ2UpO1xuICAgIHZhciBtb3ZlZCA9IG9mZnNldERyYWdnYWJsZSh7XG4gICAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICAgIG9mZnNldDogdG90YWxDaGFuZ2UsXG4gICAgICBpbml0aWFsV2luZG93U2Nyb2xsOiB2aWV3cG9ydC5zY3JvbGwuaW5pdGlhbFxuICAgIH0pO1xuICAgIHJldHVybiBtb3ZlZDtcbiAgfSk7XG59KTtcblxudmFyIHB1Ymxpc2hXaGlsZURyYWdnaW5nSW5WaXJ0dWFsID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBwdWJsaXNoZWQgPSBfcmVmLnB1Ymxpc2hlZDtcbiAgc3RhcnQoKTtcbiAgdmFyIHdpdGhTY3JvbGxDaGFuZ2UgPSBwdWJsaXNoZWQubW9kaWZpZWQubWFwKGZ1bmN0aW9uICh1cGRhdGUpIHtcbiAgICB2YXIgZXhpc3RpbmcgPSBzdGF0ZS5kaW1lbnNpb25zLmRyb3BwYWJsZXNbdXBkYXRlLmRyb3BwYWJsZUlkXTtcbiAgICB2YXIgc2Nyb2xsZWQgPSBzY3JvbGxEcm9wcGFibGUoZXhpc3RpbmcsIHVwZGF0ZS5zY3JvbGwpO1xuICAgIHJldHVybiBzY3JvbGxlZDtcbiAgfSk7XG5cbiAgdmFyIGRyb3BwYWJsZXMgPSBfZXh0ZW5kcyh7fSwgc3RhdGUuZGltZW5zaW9ucy5kcm9wcGFibGVzLCB7fSwgdG9Ecm9wcGFibGVNYXAod2l0aFNjcm9sbENoYW5nZSkpO1xuXG4gIHZhciB1cGRhdGVkQWRkaXRpb25zID0gdG9EcmFnZ2FibGVNYXAoYWRqdXN0QWRkaXRpb25zRm9yU2Nyb2xsQ2hhbmdlcyh7XG4gICAgYWRkaXRpb25zOiBwdWJsaXNoZWQuYWRkaXRpb25zLFxuICAgIHVwZGF0ZWREcm9wcGFibGVzOiBkcm9wcGFibGVzLFxuICAgIHZpZXdwb3J0OiBzdGF0ZS52aWV3cG9ydFxuICB9KSk7XG5cbiAgdmFyIGRyYWdnYWJsZXMgPSBfZXh0ZW5kcyh7fSwgc3RhdGUuZGltZW5zaW9ucy5kcmFnZ2FibGVzLCB7fSwgdXBkYXRlZEFkZGl0aW9ucyk7XG5cbiAgcHVibGlzaGVkLnJlbW92YWxzLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgZGVsZXRlIGRyYWdnYWJsZXNbaWRdO1xuICB9KTtcbiAgdmFyIGRpbWVuc2lvbnMgPSB7XG4gICAgZHJvcHBhYmxlczogZHJvcHBhYmxlcyxcbiAgICBkcmFnZ2FibGVzOiBkcmFnZ2FibGVzXG4gIH07XG4gIHZhciB3YXNPdmVySWQgPSB3aGF0SXNEcmFnZ2VkT3ZlcihzdGF0ZS5pbXBhY3QpO1xuICB2YXIgd2FzT3ZlciA9IHdhc092ZXJJZCA/IGRpbWVuc2lvbnMuZHJvcHBhYmxlc1t3YXNPdmVySWRdIDogbnVsbDtcbiAgdmFyIGRyYWdnYWJsZSA9IGRpbWVuc2lvbnMuZHJhZ2dhYmxlc1tzdGF0ZS5jcml0aWNhbC5kcmFnZ2FibGUuaWRdO1xuICB2YXIgaG9tZSA9IGRpbWVuc2lvbnMuZHJvcHBhYmxlc1tzdGF0ZS5jcml0aWNhbC5kcm9wcGFibGUuaWRdO1xuXG4gIHZhciBfZ2V0TGlmdEVmZmVjdCA9IGdldExpZnRFZmZlY3Qoe1xuICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgIGhvbWU6IGhvbWUsXG4gICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlcyxcbiAgICB2aWV3cG9ydDogc3RhdGUudmlld3BvcnRcbiAgfSksXG4gICAgICBvbkxpZnRJbXBhY3QgPSBfZ2V0TGlmdEVmZmVjdC5pbXBhY3QsXG4gICAgICBhZnRlckNyaXRpY2FsID0gX2dldExpZnRFZmZlY3QuYWZ0ZXJDcml0aWNhbDtcblxuICB2YXIgcHJldmlvdXNJbXBhY3QgPSB3YXNPdmVyICYmIHdhc092ZXIuaXNDb21iaW5lRW5hYmxlZCA/IHN0YXRlLmltcGFjdCA6IG9uTGlmdEltcGFjdDtcbiAgdmFyIGltcGFjdCA9IGdldERyYWdJbXBhY3Qoe1xuICAgIHBhZ2VPZmZzZXQ6IHN0YXRlLmN1cnJlbnQucGFnZS5vZmZzZXQsXG4gICAgZHJhZ2dhYmxlOiBkaW1lbnNpb25zLmRyYWdnYWJsZXNbc3RhdGUuY3JpdGljYWwuZHJhZ2dhYmxlLmlkXSxcbiAgICBkcmFnZ2FibGVzOiBkaW1lbnNpb25zLmRyYWdnYWJsZXMsXG4gICAgZHJvcHBhYmxlczogZGltZW5zaW9ucy5kcm9wcGFibGVzLFxuICAgIHByZXZpb3VzSW1wYWN0OiBwcmV2aW91c0ltcGFjdCxcbiAgICB2aWV3cG9ydDogc3RhdGUudmlld3BvcnQsXG4gICAgYWZ0ZXJDcml0aWNhbDogYWZ0ZXJDcml0aWNhbFxuICB9KTtcbiAgZmluaXNoKCk7XG5cbiAgdmFyIGRyYWdnaW5nU3RhdGUgPSBfZXh0ZW5kcyh7XG4gICAgcGhhc2U6ICdEUkFHR0lORydcbiAgfSwgc3RhdGUsIHtcbiAgICBwaGFzZTogJ0RSQUdHSU5HJyxcbiAgICBpbXBhY3Q6IGltcGFjdCxcbiAgICBvbkxpZnRJbXBhY3Q6IG9uTGlmdEltcGFjdCxcbiAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zLFxuICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWwsXG4gICAgZm9yY2VTaG91bGRBbmltYXRlOiBmYWxzZVxuICB9KTtcblxuICBpZiAoc3RhdGUucGhhc2UgPT09ICdDT0xMRUNUSU5HJykge1xuICAgIHJldHVybiBkcmFnZ2luZ1N0YXRlO1xuICB9XG5cbiAgdmFyIGRyb3BQZW5kaW5nID0gX2V4dGVuZHMoe1xuICAgIHBoYXNlOiAnRFJPUF9QRU5ESU5HJ1xuICB9LCBkcmFnZ2luZ1N0YXRlLCB7XG4gICAgcGhhc2U6ICdEUk9QX1BFTkRJTkcnLFxuICAgIHJlYXNvbjogc3RhdGUucmVhc29uLFxuICAgIGlzV2FpdGluZzogZmFsc2VcbiAgfSk7XG5cbiAgcmV0dXJuIGRyb3BQZW5kaW5nO1xufSk7XG5cbnZhciBpc1NuYXBwaW5nID0gZnVuY3Rpb24gaXNTbmFwcGluZyhzdGF0ZSkge1xuICByZXR1cm4gc3RhdGUubW92ZW1lbnRNb2RlID09PSAnU05BUCc7XG59O1xuXG52YXIgcG9zdERyb3BwYWJsZUNoYW5nZSA9IGZ1bmN0aW9uIHBvc3REcm9wcGFibGVDaGFuZ2Uoc3RhdGUsIHVwZGF0ZWQsIGlzRW5hYmxlZENoYW5naW5nKSB7XG4gIHZhciBkaW1lbnNpb25zID0gcGF0Y2hEaW1lbnNpb25NYXAoc3RhdGUuZGltZW5zaW9ucywgdXBkYXRlZCk7XG5cbiAgaWYgKCFpc1NuYXBwaW5nKHN0YXRlKSB8fCBpc0VuYWJsZWRDaGFuZ2luZykge1xuICAgIHJldHVybiB1cGRhdGUoe1xuICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgZGltZW5zaW9uczogZGltZW5zaW9uc1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHJlZnJlc2hTbmFwKHtcbiAgICBzdGF0ZTogc3RhdGUsXG4gICAgZGltZW5zaW9uczogZGltZW5zaW9uc1xuICB9KTtcbn07XG5cbmZ1bmN0aW9uIHJlbW92ZVNjcm9sbEp1bXBSZXF1ZXN0KHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5pc0RyYWdnaW5nICYmIHN0YXRlLm1vdmVtZW50TW9kZSA9PT0gJ1NOQVAnKSB7XG4gICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgIHBoYXNlOiAnRFJBR0dJTkcnXG4gICAgfSwgc3RhdGUsIHtcbiAgICAgIHNjcm9sbEp1bXBSZXF1ZXN0OiBudWxsXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc3RhdGU7XG59XG5cbnZhciBpZGxlID0ge1xuICBwaGFzZTogJ0lETEUnLFxuICBjb21wbGV0ZWQ6IG51bGwsXG4gIHNob3VsZEZsdXNoOiBmYWxzZVxufTtcbnZhciByZWR1Y2VyID0gKGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgc3RhdGUgPSBpZGxlO1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSAnRkxVU0gnKSB7XG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBpZGxlLCB7XG4gICAgICBzaG91bGRGbHVzaDogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSAnSU5JVElBTF9QVUJMSVNIJykge1xuICAgICEoc3RhdGUucGhhc2UgPT09ICdJRExFJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdJTklUSUFMX1BVQkxJU0ggbXVzdCBjb21lIGFmdGVyIGEgSURMRSBwaGFzZScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgX2FjdGlvbiRwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQsXG4gICAgICAgIGNyaXRpY2FsID0gX2FjdGlvbiRwYXlsb2FkLmNyaXRpY2FsLFxuICAgICAgICBjbGllbnRTZWxlY3Rpb24gPSBfYWN0aW9uJHBheWxvYWQuY2xpZW50U2VsZWN0aW9uLFxuICAgICAgICB2aWV3cG9ydCA9IF9hY3Rpb24kcGF5bG9hZC52aWV3cG9ydCxcbiAgICAgICAgZGltZW5zaW9ucyA9IF9hY3Rpb24kcGF5bG9hZC5kaW1lbnNpb25zLFxuICAgICAgICBtb3ZlbWVudE1vZGUgPSBfYWN0aW9uJHBheWxvYWQubW92ZW1lbnRNb2RlO1xuICAgIHZhciBkcmFnZ2FibGUgPSBkaW1lbnNpb25zLmRyYWdnYWJsZXNbY3JpdGljYWwuZHJhZ2dhYmxlLmlkXTtcbiAgICB2YXIgaG9tZSA9IGRpbWVuc2lvbnMuZHJvcHBhYmxlc1tjcml0aWNhbC5kcm9wcGFibGUuaWRdO1xuICAgIHZhciBjbGllbnQgPSB7XG4gICAgICBzZWxlY3Rpb246IGNsaWVudFNlbGVjdGlvbixcbiAgICAgIGJvcmRlckJveENlbnRlcjogZHJhZ2dhYmxlLmNsaWVudC5ib3JkZXJCb3guY2VudGVyLFxuICAgICAgb2Zmc2V0OiBvcmlnaW5cbiAgICB9O1xuICAgIHZhciBpbml0aWFsID0ge1xuICAgICAgY2xpZW50OiBjbGllbnQsXG4gICAgICBwYWdlOiB7XG4gICAgICAgIHNlbGVjdGlvbjogYWRkKGNsaWVudC5zZWxlY3Rpb24sIHZpZXdwb3J0LnNjcm9sbC5pbml0aWFsKSxcbiAgICAgICAgYm9yZGVyQm94Q2VudGVyOiBhZGQoY2xpZW50LnNlbGVjdGlvbiwgdmlld3BvcnQuc2Nyb2xsLmluaXRpYWwpLFxuICAgICAgICBvZmZzZXQ6IGFkZChjbGllbnQuc2VsZWN0aW9uLCB2aWV3cG9ydC5zY3JvbGwuZGlmZi52YWx1ZSlcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBpc1dpbmRvd1Njcm9sbEFsbG93ZWQgPSB0b0Ryb3BwYWJsZUxpc3QoZGltZW5zaW9ucy5kcm9wcGFibGVzKS5ldmVyeShmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuICFpdGVtLmlzRml4ZWRPblBhZ2U7XG4gICAgfSk7XG5cbiAgICB2YXIgX2dldExpZnRFZmZlY3QgPSBnZXRMaWZ0RWZmZWN0KHtcbiAgICAgIGRyYWdnYWJsZTogZHJhZ2dhYmxlLFxuICAgICAgaG9tZTogaG9tZSxcbiAgICAgIGRyYWdnYWJsZXM6IGRpbWVuc2lvbnMuZHJhZ2dhYmxlcyxcbiAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydFxuICAgIH0pLFxuICAgICAgICBpbXBhY3QgPSBfZ2V0TGlmdEVmZmVjdC5pbXBhY3QsXG4gICAgICAgIGFmdGVyQ3JpdGljYWwgPSBfZ2V0TGlmdEVmZmVjdC5hZnRlckNyaXRpY2FsO1xuXG4gICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgIHBoYXNlOiAnRFJBR0dJTkcnLFxuICAgICAgaXNEcmFnZ2luZzogdHJ1ZSxcbiAgICAgIGNyaXRpY2FsOiBjcml0aWNhbCxcbiAgICAgIG1vdmVtZW50TW9kZTogbW92ZW1lbnRNb2RlLFxuICAgICAgZGltZW5zaW9uczogZGltZW5zaW9ucyxcbiAgICAgIGluaXRpYWw6IGluaXRpYWwsXG4gICAgICBjdXJyZW50OiBpbml0aWFsLFxuICAgICAgaXNXaW5kb3dTY3JvbGxBbGxvd2VkOiBpc1dpbmRvd1Njcm9sbEFsbG93ZWQsXG4gICAgICBpbXBhY3Q6IGltcGFjdCxcbiAgICAgIGFmdGVyQ3JpdGljYWw6IGFmdGVyQ3JpdGljYWwsXG4gICAgICBvbkxpZnRJbXBhY3Q6IGltcGFjdCxcbiAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydCxcbiAgICAgIHNjcm9sbEp1bXBSZXF1ZXN0OiBudWxsLFxuICAgICAgZm9yY2VTaG91bGRBbmltYXRlOiBudWxsXG4gICAgfTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSAnQ09MTEVDVElPTl9TVEFSVElORycpIHtcbiAgICBpZiAoc3RhdGUucGhhc2UgPT09ICdDT0xMRUNUSU5HJyB8fCBzdGF0ZS5waGFzZSA9PT0gJ0RST1BfUEVORElORycpIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICAhKHN0YXRlLnBoYXNlID09PSAnRFJBR0dJTkcnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJDb2xsZWN0aW9uIGNhbm5vdCBzdGFydCBmcm9tIHBoYXNlIFwiICsgc3RhdGUucGhhc2UpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcblxuICAgIHZhciBfcmVzdWx0ID0gX2V4dGVuZHMoe1xuICAgICAgcGhhc2U6ICdDT0xMRUNUSU5HJ1xuICAgIH0sIHN0YXRlLCB7XG4gICAgICBwaGFzZTogJ0NPTExFQ1RJTkcnXG4gICAgfSk7XG5cbiAgICByZXR1cm4gX3Jlc3VsdDtcbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gJ1BVQkxJU0hfV0hJTEVfRFJBR0dJTkcnKSB7XG4gICAgIShzdGF0ZS5waGFzZSA9PT0gJ0NPTExFQ1RJTkcnIHx8IHN0YXRlLnBoYXNlID09PSAnRFJPUF9QRU5ESU5HJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiVW5leHBlY3RlZCBcIiArIGFjdGlvbi50eXBlICsgXCIgcmVjZWl2ZWQgaW4gcGhhc2UgXCIgKyBzdGF0ZS5waGFzZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHJldHVybiBwdWJsaXNoV2hpbGVEcmFnZ2luZ0luVmlydHVhbCh7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICBwdWJsaXNoZWQ6IGFjdGlvbi5wYXlsb2FkXG4gICAgfSk7XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09ICdNT1ZFJykge1xuICAgIGlmIChzdGF0ZS5waGFzZSA9PT0gJ0RST1BfUEVORElORycpIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICAhaXNNb3ZlbWVudEFsbG93ZWQoc3RhdGUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBhY3Rpb24udHlwZSArIFwiIG5vdCBwZXJtaXR0ZWQgaW4gcGhhc2UgXCIgKyBzdGF0ZS5waGFzZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBfY2xpZW50U2VsZWN0aW9uID0gYWN0aW9uLnBheWxvYWQuY2xpZW50O1xuXG4gICAgaWYgKGlzRXF1YWwoX2NsaWVudFNlbGVjdGlvbiwgc3RhdGUuY3VycmVudC5jbGllbnQuc2VsZWN0aW9uKSkge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIHJldHVybiB1cGRhdGUoe1xuICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgY2xpZW50U2VsZWN0aW9uOiBfY2xpZW50U2VsZWN0aW9uLFxuICAgICAgaW1wYWN0OiBpc1NuYXBwaW5nKHN0YXRlKSA/IHN0YXRlLmltcGFjdCA6IG51bGxcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gJ1VQREFURV9EUk9QUEFCTEVfU0NST0xMJykge1xuICAgIGlmIChzdGF0ZS5waGFzZSA9PT0gJ0RST1BfUEVORElORycpIHtcbiAgICAgIHJldHVybiByZW1vdmVTY3JvbGxKdW1wUmVxdWVzdChzdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLnBoYXNlID09PSAnQ09MTEVDVElORycpIHtcbiAgICAgIHJldHVybiByZW1vdmVTY3JvbGxKdW1wUmVxdWVzdChzdGF0ZSk7XG4gICAgfVxuXG4gICAgIWlzTW92ZW1lbnRBbGxvd2VkKHN0YXRlKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgYWN0aW9uLnR5cGUgKyBcIiBub3QgcGVybWl0dGVkIGluIHBoYXNlIFwiICsgc3RhdGUucGhhc2UpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgX2FjdGlvbiRwYXlsb2FkMiA9IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICBpZCA9IF9hY3Rpb24kcGF5bG9hZDIuaWQsXG4gICAgICAgIG5ld1Njcm9sbCA9IF9hY3Rpb24kcGF5bG9hZDIubmV3U2Nyb2xsO1xuICAgIHZhciB0YXJnZXQgPSBzdGF0ZS5kaW1lbnNpb25zLmRyb3BwYWJsZXNbaWRdO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICB2YXIgc2Nyb2xsZWQgPSBzY3JvbGxEcm9wcGFibGUodGFyZ2V0LCBuZXdTY3JvbGwpO1xuICAgIHJldHVybiBwb3N0RHJvcHBhYmxlQ2hhbmdlKHN0YXRlLCBzY3JvbGxlZCwgZmFsc2UpO1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSAnVVBEQVRFX0RST1BQQUJMRV9JU19FTkFCTEVEJykge1xuICAgIGlmIChzdGF0ZS5waGFzZSA9PT0gJ0RST1BfUEVORElORycpIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICAhaXNNb3ZlbWVudEFsbG93ZWQoc3RhdGUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkF0dGVtcHRpbmcgdG8gbW92ZSBpbiBhbiB1bnN1cHBvcnRlZCBwaGFzZSBcIiArIHN0YXRlLnBoYXNlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIF9hY3Rpb24kcGF5bG9hZDMgPSBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgX2lkID0gX2FjdGlvbiRwYXlsb2FkMy5pZCxcbiAgICAgICAgaXNFbmFibGVkID0gX2FjdGlvbiRwYXlsb2FkMy5pc0VuYWJsZWQ7XG4gICAgdmFyIF90YXJnZXQgPSBzdGF0ZS5kaW1lbnNpb25zLmRyb3BwYWJsZXNbX2lkXTtcbiAgICAhX3RhcmdldCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJDYW5ub3QgZmluZCBEcm9wcGFibGVbaWQ6IFwiICsgX2lkICsgXCJdIHRvIHRvZ2dsZSBpdHMgZW5hYmxlZCBzdGF0ZVwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgIShfdGFyZ2V0LmlzRW5hYmxlZCAhPT0gaXNFbmFibGVkKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJUcnlpbmcgdG8gc2V0IGRyb3BwYWJsZSBpc0VuYWJsZWQgdG8gXCIgKyBTdHJpbmcoaXNFbmFibGVkKSArIFwiXFxuICAgICAgYnV0IGl0IGlzIGFscmVhZHkgXCIgKyBTdHJpbmcoX3RhcmdldC5pc0VuYWJsZWQpKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG5cbiAgICB2YXIgdXBkYXRlZCA9IF9leHRlbmRzKHt9LCBfdGFyZ2V0LCB7XG4gICAgICBpc0VuYWJsZWQ6IGlzRW5hYmxlZFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHBvc3REcm9wcGFibGVDaGFuZ2Uoc3RhdGUsIHVwZGF0ZWQsIHRydWUpO1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSAnVVBEQVRFX0RST1BQQUJMRV9JU19DT01CSU5FX0VOQUJMRUQnKSB7XG4gICAgaWYgKHN0YXRlLnBoYXNlID09PSAnRFJPUF9QRU5ESU5HJykge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgICFpc01vdmVtZW50QWxsb3dlZChzdGF0ZSkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiQXR0ZW1wdGluZyB0byBtb3ZlIGluIGFuIHVuc3VwcG9ydGVkIHBoYXNlIFwiICsgc3RhdGUucGhhc2UpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgX2FjdGlvbiRwYXlsb2FkNCA9IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICBfaWQyID0gX2FjdGlvbiRwYXlsb2FkNC5pZCxcbiAgICAgICAgaXNDb21iaW5lRW5hYmxlZCA9IF9hY3Rpb24kcGF5bG9hZDQuaXNDb21iaW5lRW5hYmxlZDtcbiAgICB2YXIgX3RhcmdldDIgPSBzdGF0ZS5kaW1lbnNpb25zLmRyb3BwYWJsZXNbX2lkMl07XG4gICAgIV90YXJnZXQyID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkNhbm5vdCBmaW5kIERyb3BwYWJsZVtpZDogXCIgKyBfaWQyICsgXCJdIHRvIHRvZ2dsZSBpdHMgaXNDb21iaW5lRW5hYmxlZCBzdGF0ZVwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgIShfdGFyZ2V0Mi5pc0NvbWJpbmVFbmFibGVkICE9PSBpc0NvbWJpbmVFbmFibGVkKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJUcnlpbmcgdG8gc2V0IGRyb3BwYWJsZSBpc0NvbWJpbmVFbmFibGVkIHRvIFwiICsgU3RyaW5nKGlzQ29tYmluZUVuYWJsZWQpICsgXCJcXG4gICAgICBidXQgaXQgaXMgYWxyZWFkeSBcIiArIFN0cmluZyhfdGFyZ2V0Mi5pc0NvbWJpbmVFbmFibGVkKSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgdmFyIF91cGRhdGVkID0gX2V4dGVuZHMoe30sIF90YXJnZXQyLCB7XG4gICAgICBpc0NvbWJpbmVFbmFibGVkOiBpc0NvbWJpbmVFbmFibGVkXG4gICAgfSk7XG5cbiAgICByZXR1cm4gcG9zdERyb3BwYWJsZUNoYW5nZShzdGF0ZSwgX3VwZGF0ZWQsIHRydWUpO1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSAnTU9WRV9CWV9XSU5ET1dfU0NST0xMJykge1xuICAgIGlmIChzdGF0ZS5waGFzZSA9PT0gJ0RST1BfUEVORElORycgfHwgc3RhdGUucGhhc2UgPT09ICdEUk9QX0FOSU1BVElORycpIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICAhaXNNb3ZlbWVudEFsbG93ZWQoc3RhdGUpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkNhbm5vdCBtb3ZlIGJ5IHdpbmRvdyBpbiBwaGFzZSBcIiArIHN0YXRlLnBoYXNlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgIXN0YXRlLmlzV2luZG93U2Nyb2xsQWxsb3dlZCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1dpbmRvdyBzY3JvbGxpbmcgaXMgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQgZm9yIGZpeGVkIGxpc3RzJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBfbmV3U2Nyb2xsID0gYWN0aW9uLnBheWxvYWQubmV3U2Nyb2xsO1xuXG4gICAgaWYgKGlzRXF1YWwoc3RhdGUudmlld3BvcnQuc2Nyb2xsLmN1cnJlbnQsIF9uZXdTY3JvbGwpKSB7XG4gICAgICByZXR1cm4gcmVtb3ZlU2Nyb2xsSnVtcFJlcXVlc3Qoc3RhdGUpO1xuICAgIH1cblxuICAgIHZhciBfdmlld3BvcnQgPSBzY3JvbGxWaWV3cG9ydChzdGF0ZS52aWV3cG9ydCwgX25ld1Njcm9sbCk7XG5cbiAgICBpZiAoaXNTbmFwcGluZyhzdGF0ZSkpIHtcbiAgICAgIHJldHVybiByZWZyZXNoU25hcCh7XG4gICAgICAgIHN0YXRlOiBzdGF0ZSxcbiAgICAgICAgdmlld3BvcnQ6IF92aWV3cG9ydFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVwZGF0ZSh7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICB2aWV3cG9ydDogX3ZpZXdwb3J0XG4gICAgfSk7XG4gIH1cblxuICBpZiAoYWN0aW9uLnR5cGUgPT09ICdVUERBVEVfVklFV1BPUlRfTUFYX1NDUk9MTCcpIHtcbiAgICBpZiAoIWlzTW92ZW1lbnRBbGxvd2VkKHN0YXRlKSkge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIHZhciBtYXhTY3JvbGwgPSBhY3Rpb24ucGF5bG9hZC5tYXhTY3JvbGw7XG5cbiAgICBpZiAoaXNFcXVhbChtYXhTY3JvbGwsIHN0YXRlLnZpZXdwb3J0LnNjcm9sbC5tYXgpKSB7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgdmFyIHdpdGhNYXhTY3JvbGwgPSBfZXh0ZW5kcyh7fSwgc3RhdGUudmlld3BvcnQsIHtcbiAgICAgIHNjcm9sbDogX2V4dGVuZHMoe30sIHN0YXRlLnZpZXdwb3J0LnNjcm9sbCwge1xuICAgICAgICBtYXg6IG1heFNjcm9sbFxuICAgICAgfSlcbiAgICB9KTtcblxuICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICBwaGFzZTogJ0RSQUdHSU5HJ1xuICAgIH0sIHN0YXRlLCB7XG4gICAgICB2aWV3cG9ydDogd2l0aE1heFNjcm9sbFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSAnTU9WRV9VUCcgfHwgYWN0aW9uLnR5cGUgPT09ICdNT1ZFX0RPV04nIHx8IGFjdGlvbi50eXBlID09PSAnTU9WRV9MRUZUJyB8fCBhY3Rpb24udHlwZSA9PT0gJ01PVkVfUklHSFQnKSB7XG4gICAgaWYgKHN0YXRlLnBoYXNlID09PSAnQ09MTEVDVElORycgfHwgc3RhdGUucGhhc2UgPT09ICdEUk9QX1BFTkRJTkcnKSB7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgIShzdGF0ZS5waGFzZSA9PT0gJ0RSQUdHSU5HJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIGFjdGlvbi50eXBlICsgXCIgcmVjZWl2ZWQgd2hpbGUgbm90IGluIERSQUdHSU5HIHBoYXNlXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcblxuICAgIHZhciBfcmVzdWx0MiA9IG1vdmVJbkRpcmVjdGlvbih7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICB0eXBlOiBhY3Rpb24udHlwZVxuICAgIH0pO1xuXG4gICAgaWYgKCFfcmVzdWx0Mikge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIHJldHVybiB1cGRhdGUoe1xuICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgaW1wYWN0OiBfcmVzdWx0Mi5pbXBhY3QsXG4gICAgICBjbGllbnRTZWxlY3Rpb246IF9yZXN1bHQyLmNsaWVudFNlbGVjdGlvbixcbiAgICAgIHNjcm9sbEp1bXBSZXF1ZXN0OiBfcmVzdWx0Mi5zY3JvbGxKdW1wUmVxdWVzdFxuICAgIH0pO1xuICB9XG5cbiAgaWYgKGFjdGlvbi50eXBlID09PSAnRFJPUF9QRU5ESU5HJykge1xuICAgIHZhciByZWFzb24gPSBhY3Rpb24ucGF5bG9hZC5yZWFzb247XG4gICAgIShzdGF0ZS5waGFzZSA9PT0gJ0NPTExFQ1RJTkcnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0NhbiBvbmx5IG1vdmUgaW50byB0aGUgRFJPUF9QRU5ESU5HIHBoYXNlIGZyb20gdGhlIENPTExFQ1RJTkcgcGhhc2UnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG5cbiAgICB2YXIgbmV3U3RhdGUgPSBfZXh0ZW5kcyh7XG4gICAgICBwaGFzZTogJ0RST1BfUEVORElORydcbiAgICB9LCBzdGF0ZSwge1xuICAgICAgcGhhc2U6ICdEUk9QX1BFTkRJTkcnLFxuICAgICAgaXNXYWl0aW5nOiB0cnVlLFxuICAgICAgcmVhc29uOiByZWFzb25cbiAgICB9KTtcblxuICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gJ0RST1BfQU5JTUFURScpIHtcbiAgICB2YXIgX2FjdGlvbiRwYXlsb2FkNSA9IGFjdGlvbi5wYXlsb2FkLFxuICAgICAgICBjb21wbGV0ZWQgPSBfYWN0aW9uJHBheWxvYWQ1LmNvbXBsZXRlZCxcbiAgICAgICAgZHJvcER1cmF0aW9uID0gX2FjdGlvbiRwYXlsb2FkNS5kcm9wRHVyYXRpb24sXG4gICAgICAgIG5ld0hvbWVDbGllbnRPZmZzZXQgPSBfYWN0aW9uJHBheWxvYWQ1Lm5ld0hvbWVDbGllbnRPZmZzZXQ7XG4gICAgIShzdGF0ZS5waGFzZSA9PT0gJ0RSQUdHSU5HJyB8fCBzdGF0ZS5waGFzZSA9PT0gJ0RST1BfUEVORElORycpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkNhbm5vdCBhbmltYXRlIGRyb3AgZnJvbSBwaGFzZSBcIiArIHN0YXRlLnBoYXNlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIF9yZXN1bHQzID0ge1xuICAgICAgcGhhc2U6ICdEUk9QX0FOSU1BVElORycsXG4gICAgICBjb21wbGV0ZWQ6IGNvbXBsZXRlZCxcbiAgICAgIGRyb3BEdXJhdGlvbjogZHJvcER1cmF0aW9uLFxuICAgICAgbmV3SG9tZUNsaWVudE9mZnNldDogbmV3SG9tZUNsaWVudE9mZnNldCxcbiAgICAgIGRpbWVuc2lvbnM6IHN0YXRlLmRpbWVuc2lvbnNcbiAgICB9O1xuICAgIHJldHVybiBfcmVzdWx0MztcbiAgfVxuXG4gIGlmIChhY3Rpb24udHlwZSA9PT0gJ0RST1BfQ09NUExFVEUnKSB7XG4gICAgdmFyIF9jb21wbGV0ZWQgPSBhY3Rpb24ucGF5bG9hZC5jb21wbGV0ZWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBoYXNlOiAnSURMRScsXG4gICAgICBjb21wbGV0ZWQ6IF9jb21wbGV0ZWQsXG4gICAgICBzaG91bGRGbHVzaDogZmFsc2VcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHN0YXRlO1xufSk7XG5cbnZhciBiZWZvcmVJbml0aWFsQ2FwdHVyZSA9IGZ1bmN0aW9uIGJlZm9yZUluaXRpYWxDYXB0dXJlKGFyZ3MpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnQkVGT1JFX0lOSVRJQUxfQ0FQVFVSRScsXG4gICAgcGF5bG9hZDogYXJnc1xuICB9O1xufTtcbnZhciBsaWZ0ID0gZnVuY3Rpb24gbGlmdChhcmdzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0xJRlQnLFxuICAgIHBheWxvYWQ6IGFyZ3NcbiAgfTtcbn07XG52YXIgaW5pdGlhbFB1Ymxpc2ggPSBmdW5jdGlvbiBpbml0aWFsUHVibGlzaChhcmdzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0lOSVRJQUxfUFVCTElTSCcsXG4gICAgcGF5bG9hZDogYXJnc1xuICB9O1xufTtcbnZhciBwdWJsaXNoV2hpbGVEcmFnZ2luZyA9IGZ1bmN0aW9uIHB1Ymxpc2hXaGlsZURyYWdnaW5nKGFyZ3MpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnUFVCTElTSF9XSElMRV9EUkFHR0lORycsXG4gICAgcGF5bG9hZDogYXJnc1xuICB9O1xufTtcbnZhciBjb2xsZWN0aW9uU3RhcnRpbmcgPSBmdW5jdGlvbiBjb2xsZWN0aW9uU3RhcnRpbmcoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0NPTExFQ1RJT05fU1RBUlRJTkcnLFxuICAgIHBheWxvYWQ6IG51bGxcbiAgfTtcbn07XG52YXIgdXBkYXRlRHJvcHBhYmxlU2Nyb2xsID0gZnVuY3Rpb24gdXBkYXRlRHJvcHBhYmxlU2Nyb2xsKGFyZ3MpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnVVBEQVRFX0RST1BQQUJMRV9TQ1JPTEwnLFxuICAgIHBheWxvYWQ6IGFyZ3NcbiAgfTtcbn07XG52YXIgdXBkYXRlRHJvcHBhYmxlSXNFbmFibGVkID0gZnVuY3Rpb24gdXBkYXRlRHJvcHBhYmxlSXNFbmFibGVkKGFyZ3MpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnVVBEQVRFX0RST1BQQUJMRV9JU19FTkFCTEVEJyxcbiAgICBwYXlsb2FkOiBhcmdzXG4gIH07XG59O1xudmFyIHVwZGF0ZURyb3BwYWJsZUlzQ29tYmluZUVuYWJsZWQgPSBmdW5jdGlvbiB1cGRhdGVEcm9wcGFibGVJc0NvbWJpbmVFbmFibGVkKGFyZ3MpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnVVBEQVRFX0RST1BQQUJMRV9JU19DT01CSU5FX0VOQUJMRUQnLFxuICAgIHBheWxvYWQ6IGFyZ3NcbiAgfTtcbn07XG52YXIgbW92ZSA9IGZ1bmN0aW9uIG1vdmUoYXJncykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdNT1ZFJyxcbiAgICBwYXlsb2FkOiBhcmdzXG4gIH07XG59O1xudmFyIG1vdmVCeVdpbmRvd1Njcm9sbCA9IGZ1bmN0aW9uIG1vdmVCeVdpbmRvd1Njcm9sbChhcmdzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ01PVkVfQllfV0lORE9XX1NDUk9MTCcsXG4gICAgcGF5bG9hZDogYXJnc1xuICB9O1xufTtcbnZhciB1cGRhdGVWaWV3cG9ydE1heFNjcm9sbCA9IGZ1bmN0aW9uIHVwZGF0ZVZpZXdwb3J0TWF4U2Nyb2xsKGFyZ3MpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnVVBEQVRFX1ZJRVdQT1JUX01BWF9TQ1JPTEwnLFxuICAgIHBheWxvYWQ6IGFyZ3NcbiAgfTtcbn07XG52YXIgbW92ZVVwID0gZnVuY3Rpb24gbW92ZVVwKCkge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdNT1ZFX1VQJyxcbiAgICBwYXlsb2FkOiBudWxsXG4gIH07XG59O1xudmFyIG1vdmVEb3duID0gZnVuY3Rpb24gbW92ZURvd24oKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ01PVkVfRE9XTicsXG4gICAgcGF5bG9hZDogbnVsbFxuICB9O1xufTtcbnZhciBtb3ZlUmlnaHQgPSBmdW5jdGlvbiBtb3ZlUmlnaHQoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ01PVkVfUklHSFQnLFxuICAgIHBheWxvYWQ6IG51bGxcbiAgfTtcbn07XG52YXIgbW92ZUxlZnQgPSBmdW5jdGlvbiBtb3ZlTGVmdCgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnTU9WRV9MRUZUJyxcbiAgICBwYXlsb2FkOiBudWxsXG4gIH07XG59O1xudmFyIGZsdXNoID0gZnVuY3Rpb24gZmx1c2goKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0ZMVVNIJyxcbiAgICBwYXlsb2FkOiBudWxsXG4gIH07XG59O1xudmFyIGFuaW1hdGVEcm9wID0gZnVuY3Rpb24gYW5pbWF0ZURyb3AoYXJncykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6ICdEUk9QX0FOSU1BVEUnLFxuICAgIHBheWxvYWQ6IGFyZ3NcbiAgfTtcbn07XG52YXIgY29tcGxldGVEcm9wID0gZnVuY3Rpb24gY29tcGxldGVEcm9wKGFyZ3MpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnRFJPUF9DT01QTEVURScsXG4gICAgcGF5bG9hZDogYXJnc1xuICB9O1xufTtcbnZhciBkcm9wID0gZnVuY3Rpb24gZHJvcChhcmdzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0RST1AnLFxuICAgIHBheWxvYWQ6IGFyZ3NcbiAgfTtcbn07XG52YXIgZHJvcFBlbmRpbmcgPSBmdW5jdGlvbiBkcm9wUGVuZGluZyhhcmdzKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0RST1BfUEVORElORycsXG4gICAgcGF5bG9hZDogYXJnc1xuICB9O1xufTtcbnZhciBkcm9wQW5pbWF0aW9uRmluaXNoZWQgPSBmdW5jdGlvbiBkcm9wQW5pbWF0aW9uRmluaXNoZWQoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0RST1BfQU5JTUFUSU9OX0ZJTklTSEVEJyxcbiAgICBwYXlsb2FkOiBudWxsXG4gIH07XG59O1xuXG5mdW5jdGlvbiBjaGVja0luZGV4ZXMoaW5zaWRlRGVzdGluYXRpb24pIHtcbiAgaWYgKGluc2lkZURlc3RpbmF0aW9uLmxlbmd0aCA8PSAxKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGluZGV4ZXMgPSBpbnNpZGVEZXN0aW5hdGlvbi5tYXAoZnVuY3Rpb24gKGQpIHtcbiAgICByZXR1cm4gZC5kZXNjcmlwdG9yLmluZGV4O1xuICB9KTtcbiAgdmFyIGVycm9ycyA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgaW5kZXhlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjdXJyZW50ID0gaW5kZXhlc1tpXTtcbiAgICB2YXIgcHJldmlvdXMgPSBpbmRleGVzW2kgLSAxXTtcblxuICAgIGlmIChjdXJyZW50ICE9PSBwcmV2aW91cyArIDEpIHtcbiAgICAgIGVycm9yc1tjdXJyZW50XSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFPYmplY3Qua2V5cyhlcnJvcnMpLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBmb3JtYXR0ZWQgPSBpbmRleGVzLm1hcChmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICB2YXIgaGFzRXJyb3IgPSBCb29sZWFuKGVycm9yc1tpbmRleF0pO1xuICAgIHJldHVybiBoYXNFcnJvciA/IFwiW1xcdUQ4M0RcXHVERDI1XCIgKyBpbmRleCArIFwiXVwiIDogXCJcIiArIGluZGV4O1xuICB9KS5qb2luKCcsICcpO1xuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiXFxuICAgIERldGVjdGVkIG5vbi1jb25zZWN1dGl2ZSA8RHJhZ2dhYmxlIC8+IGluZGV4ZXMuXFxuXFxuICAgIChUaGlzIGNhbiBjYXVzZSB1bmV4cGVjdGVkIGJ1Z3MpXFxuXFxuICAgIFwiICsgZm9ybWF0dGVkICsgXCJcXG4gIFwiKSA6IHZvaWQgMDtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVEaW1lbnNpb25zKGNyaXRpY2FsLCBkaW1lbnNpb25zKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFyIGluc2lkZURlc3RpbmF0aW9uID0gZ2V0RHJhZ2dhYmxlc0luc2lkZURyb3BwYWJsZShjcml0aWNhbC5kcm9wcGFibGUuaWQsIGRpbWVuc2lvbnMuZHJhZ2dhYmxlcyk7XG4gICAgY2hlY2tJbmRleGVzKGluc2lkZURlc3RpbmF0aW9uKTtcbiAgfVxufVxuXG52YXIgbGlmdCQxID0gKGZ1bmN0aW9uIChtYXJzaGFsKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGUsXG4gICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIGlmIChhY3Rpb24udHlwZSAhPT0gJ0xJRlQnKSB7XG4gICAgICAgICAgbmV4dChhY3Rpb24pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfYWN0aW9uJHBheWxvYWQgPSBhY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgICAgIGlkID0gX2FjdGlvbiRwYXlsb2FkLmlkLFxuICAgICAgICAgICAgY2xpZW50U2VsZWN0aW9uID0gX2FjdGlvbiRwYXlsb2FkLmNsaWVudFNlbGVjdGlvbixcbiAgICAgICAgICAgIG1vdmVtZW50TW9kZSA9IF9hY3Rpb24kcGF5bG9hZC5tb3ZlbWVudE1vZGU7XG4gICAgICAgIHZhciBpbml0aWFsID0gZ2V0U3RhdGUoKTtcblxuICAgICAgICBpZiAoaW5pdGlhbC5waGFzZSA9PT0gJ0RST1BfQU5JTUFUSU5HJykge1xuICAgICAgICAgIGRpc3BhdGNoKGNvbXBsZXRlRHJvcCh7XG4gICAgICAgICAgICBjb21wbGV0ZWQ6IGluaXRpYWwuY29tcGxldGVkXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgIShnZXRTdGF0ZSgpLnBoYXNlID09PSAnSURMRScpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnVW5leHBlY3RlZCBwaGFzZSB0byBzdGFydCBhIGRyYWcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIGRpc3BhdGNoKGZsdXNoKCkpO1xuICAgICAgICBkaXNwYXRjaChiZWZvcmVJbml0aWFsQ2FwdHVyZSh7XG4gICAgICAgICAgZHJhZ2dhYmxlSWQ6IGlkLFxuICAgICAgICAgIG1vdmVtZW50TW9kZTogbW92ZW1lbnRNb2RlXG4gICAgICAgIH0pKTtcbiAgICAgICAgdmFyIHNjcm9sbE9wdGlvbnMgPSB7XG4gICAgICAgICAgc2hvdWxkUHVibGlzaEltbWVkaWF0ZWx5OiBtb3ZlbWVudE1vZGUgPT09ICdTTkFQJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVxdWVzdCA9IHtcbiAgICAgICAgICBkcmFnZ2FibGVJZDogaWQsXG4gICAgICAgICAgc2Nyb2xsT3B0aW9uczogc2Nyb2xsT3B0aW9uc1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBfbWFyc2hhbCRzdGFydFB1Ymxpc2ggPSBtYXJzaGFsLnN0YXJ0UHVibGlzaGluZyhyZXF1ZXN0KSxcbiAgICAgICAgICAgIGNyaXRpY2FsID0gX21hcnNoYWwkc3RhcnRQdWJsaXNoLmNyaXRpY2FsLFxuICAgICAgICAgICAgZGltZW5zaW9ucyA9IF9tYXJzaGFsJHN0YXJ0UHVibGlzaC5kaW1lbnNpb25zLFxuICAgICAgICAgICAgdmlld3BvcnQgPSBfbWFyc2hhbCRzdGFydFB1Ymxpc2gudmlld3BvcnQ7XG5cbiAgICAgICAgdmFsaWRhdGVEaW1lbnNpb25zKGNyaXRpY2FsLCBkaW1lbnNpb25zKTtcbiAgICAgICAgZGlzcGF0Y2goaW5pdGlhbFB1Ymxpc2goe1xuICAgICAgICAgIGNyaXRpY2FsOiBjcml0aWNhbCxcbiAgICAgICAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zLFxuICAgICAgICAgIGNsaWVudFNlbGVjdGlvbjogY2xpZW50U2VsZWN0aW9uLFxuICAgICAgICAgIG1vdmVtZW50TW9kZTogbW92ZW1lbnRNb2RlLFxuICAgICAgICAgIHZpZXdwb3J0OiB2aWV3cG9ydFxuICAgICAgICB9KSk7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59KTtcblxudmFyIHN0eWxlID0gKGZ1bmN0aW9uIChtYXJzaGFsKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09ICdJTklUSUFMX1BVQkxJU0gnKSB7XG4gICAgICAgICAgbWFyc2hhbC5kcmFnZ2luZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFjdGlvbi50eXBlID09PSAnRFJPUF9BTklNQVRFJykge1xuICAgICAgICAgIG1hcnNoYWwuZHJvcHBpbmcoYWN0aW9uLnBheWxvYWQuY29tcGxldGVkLnJlc3VsdC5yZWFzb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFjdGlvbi50eXBlID09PSAnRkxVU0gnIHx8IGFjdGlvbi50eXBlID09PSAnRFJPUF9DT01QTEVURScpIHtcbiAgICAgICAgICBtYXJzaGFsLnJlc3RpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5leHQoYWN0aW9uKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn0pO1xuXG52YXIgY3VydmVzID0ge1xuICBvdXRPZlRoZVdheTogJ2N1YmljLWJlemllcigwLjIsIDAsIDAsIDEpJyxcbiAgZHJvcDogJ2N1YmljLWJlemllciguMiwxLC4xLDEpJ1xufTtcbnZhciBjb21iaW5lID0ge1xuICBvcGFjaXR5OiB7XG4gICAgZHJvcDogMCxcbiAgICBjb21iaW5pbmc6IDAuN1xuICB9LFxuICBzY2FsZToge1xuICAgIGRyb3A6IDAuNzVcbiAgfVxufTtcbnZhciB0aW1pbmdzID0ge1xuICBvdXRPZlRoZVdheTogMC4yLFxuICBtaW5Ecm9wVGltZTogMC4zMyxcbiAgbWF4RHJvcFRpbWU6IDAuNTVcbn07XG52YXIgb3V0T2ZUaGVXYXlUaW1pbmcgPSB0aW1pbmdzLm91dE9mVGhlV2F5ICsgXCJzIFwiICsgY3VydmVzLm91dE9mVGhlV2F5O1xudmFyIHRyYW5zaXRpb25zID0ge1xuICBmbHVpZDogXCJvcGFjaXR5IFwiICsgb3V0T2ZUaGVXYXlUaW1pbmcsXG4gIHNuYXA6IFwidHJhbnNmb3JtIFwiICsgb3V0T2ZUaGVXYXlUaW1pbmcgKyBcIiwgb3BhY2l0eSBcIiArIG91dE9mVGhlV2F5VGltaW5nLFxuICBkcm9wOiBmdW5jdGlvbiBkcm9wKGR1cmF0aW9uKSB7XG4gICAgdmFyIHRpbWluZyA9IGR1cmF0aW9uICsgXCJzIFwiICsgY3VydmVzLmRyb3A7XG4gICAgcmV0dXJuIFwidHJhbnNmb3JtIFwiICsgdGltaW5nICsgXCIsIG9wYWNpdHkgXCIgKyB0aW1pbmc7XG4gIH0sXG4gIG91dE9mVGhlV2F5OiBcInRyYW5zZm9ybSBcIiArIG91dE9mVGhlV2F5VGltaW5nLFxuICBwbGFjZWhvbGRlcjogXCJoZWlnaHQgXCIgKyBvdXRPZlRoZVdheVRpbWluZyArIFwiLCB3aWR0aCBcIiArIG91dE9mVGhlV2F5VGltaW5nICsgXCIsIG1hcmdpbiBcIiArIG91dE9mVGhlV2F5VGltaW5nXG59O1xuXG52YXIgbW92ZVRvID0gZnVuY3Rpb24gbW92ZVRvKG9mZnNldCkge1xuICByZXR1cm4gaXNFcXVhbChvZmZzZXQsIG9yaWdpbikgPyBudWxsIDogXCJ0cmFuc2xhdGUoXCIgKyBvZmZzZXQueCArIFwicHgsIFwiICsgb2Zmc2V0LnkgKyBcInB4KVwiO1xufTtcblxudmFyIHRyYW5zZm9ybXMgPSB7XG4gIG1vdmVUbzogbW92ZVRvLFxuICBkcm9wOiBmdW5jdGlvbiBkcm9wKG9mZnNldCwgaXNDb21iaW5pbmcpIHtcbiAgICB2YXIgdHJhbnNsYXRlID0gbW92ZVRvKG9mZnNldCk7XG5cbiAgICBpZiAoIXRyYW5zbGF0ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCFpc0NvbWJpbmluZykge1xuICAgICAgcmV0dXJuIHRyYW5zbGF0ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJhbnNsYXRlICsgXCIgc2NhbGUoXCIgKyBjb21iaW5lLnNjYWxlLmRyb3AgKyBcIilcIjtcbiAgfVxufTtcblxudmFyIG1pbkRyb3BUaW1lID0gdGltaW5ncy5taW5Ecm9wVGltZSxcbiAgICBtYXhEcm9wVGltZSA9IHRpbWluZ3MubWF4RHJvcFRpbWU7XG52YXIgZHJvcFRpbWVSYW5nZSA9IG1heERyb3BUaW1lIC0gbWluRHJvcFRpbWU7XG52YXIgbWF4RHJvcFRpbWVBdERpc3RhbmNlID0gMTUwMDtcbnZhciBjYW5jZWxEcm9wTW9kaWZpZXIgPSAwLjY7XG52YXIgZ2V0RHJvcER1cmF0aW9uID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBjdXJyZW50ID0gX3JlZi5jdXJyZW50LFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmLmRlc3RpbmF0aW9uLFxuICAgICAgcmVhc29uID0gX3JlZi5yZWFzb247XG4gIHZhciBkaXN0YW5jZSQxID0gZGlzdGFuY2UoY3VycmVudCwgZGVzdGluYXRpb24pO1xuXG4gIGlmIChkaXN0YW5jZSQxIDw9IDApIHtcbiAgICByZXR1cm4gbWluRHJvcFRpbWU7XG4gIH1cblxuICBpZiAoZGlzdGFuY2UkMSA+PSBtYXhEcm9wVGltZUF0RGlzdGFuY2UpIHtcbiAgICByZXR1cm4gbWF4RHJvcFRpbWU7XG4gIH1cblxuICB2YXIgcGVyY2VudGFnZSA9IGRpc3RhbmNlJDEgLyBtYXhEcm9wVGltZUF0RGlzdGFuY2U7XG4gIHZhciBkdXJhdGlvbiA9IG1pbkRyb3BUaW1lICsgZHJvcFRpbWVSYW5nZSAqIHBlcmNlbnRhZ2U7XG4gIHZhciB3aXRoRHVyYXRpb24gPSByZWFzb24gPT09ICdDQU5DRUwnID8gZHVyYXRpb24gKiBjYW5jZWxEcm9wTW9kaWZpZXIgOiBkdXJhdGlvbjtcbiAgcmV0dXJuIE51bWJlcih3aXRoRHVyYXRpb24udG9GaXhlZCgyKSk7XG59KTtcblxudmFyIGdldE5ld0hvbWVDbGllbnRPZmZzZXQgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGltcGFjdCA9IF9yZWYuaW1wYWN0LFxuICAgICAgZHJhZ2dhYmxlID0gX3JlZi5kcmFnZ2FibGUsXG4gICAgICBkaW1lbnNpb25zID0gX3JlZi5kaW1lbnNpb25zLFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0LFxuICAgICAgYWZ0ZXJDcml0aWNhbCA9IF9yZWYuYWZ0ZXJDcml0aWNhbDtcbiAgdmFyIGRyYWdnYWJsZXMgPSBkaW1lbnNpb25zLmRyYWdnYWJsZXMsXG4gICAgICBkcm9wcGFibGVzID0gZGltZW5zaW9ucy5kcm9wcGFibGVzO1xuICB2YXIgZHJvcHBhYmxlSWQgPSB3aGF0SXNEcmFnZ2VkT3ZlcihpbXBhY3QpO1xuICB2YXIgZGVzdGluYXRpb24gPSBkcm9wcGFibGVJZCA/IGRyb3BwYWJsZXNbZHJvcHBhYmxlSWRdIDogbnVsbDtcbiAgdmFyIGhvbWUgPSBkcm9wcGFibGVzW2RyYWdnYWJsZS5kZXNjcmlwdG9yLmRyb3BwYWJsZUlkXTtcbiAgdmFyIG5ld0NsaWVudENlbnRlciA9IGdldENsaWVudEJvcmRlckJveENlbnRlcih7XG4gICAgaW1wYWN0OiBpbXBhY3QsXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgZHJhZ2dhYmxlczogZHJhZ2dhYmxlcyxcbiAgICBhZnRlckNyaXRpY2FsOiBhZnRlckNyaXRpY2FsLFxuICAgIGRyb3BwYWJsZTogZGVzdGluYXRpb24gfHwgaG9tZSxcbiAgICB2aWV3cG9ydDogdmlld3BvcnRcbiAgfSk7XG4gIHZhciBvZmZzZXQgPSBzdWJ0cmFjdChuZXdDbGllbnRDZW50ZXIsIGRyYWdnYWJsZS5jbGllbnQuYm9yZGVyQm94LmNlbnRlcik7XG4gIHJldHVybiBvZmZzZXQ7XG59KTtcblxudmFyIGdldERyb3BJbXBhY3QgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGRyYWdnYWJsZXMgPSBfcmVmLmRyYWdnYWJsZXMsXG4gICAgICByZWFzb24gPSBfcmVmLnJlYXNvbixcbiAgICAgIGxhc3RJbXBhY3QgPSBfcmVmLmxhc3RJbXBhY3QsXG4gICAgICBob21lID0gX3JlZi5ob21lLFxuICAgICAgdmlld3BvcnQgPSBfcmVmLnZpZXdwb3J0LFxuICAgICAgb25MaWZ0SW1wYWN0ID0gX3JlZi5vbkxpZnRJbXBhY3Q7XG5cbiAgaWYgKCFsYXN0SW1wYWN0LmF0IHx8IHJlYXNvbiAhPT0gJ0RST1AnKSB7XG4gICAgdmFyIHJlY29tcHV0ZWRIb21lSW1wYWN0ID0gcmVjb21wdXRlKHtcbiAgICAgIGRyYWdnYWJsZXM6IGRyYWdnYWJsZXMsXG4gICAgICBpbXBhY3Q6IG9uTGlmdEltcGFjdCxcbiAgICAgIGRlc3RpbmF0aW9uOiBob21lLFxuICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0LFxuICAgICAgZm9yY2VTaG91bGRBbmltYXRlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGltcGFjdDogcmVjb21wdXRlZEhvbWVJbXBhY3QsXG4gICAgICBkaWREcm9wSW5zaWRlRHJvcHBhYmxlOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBpZiAobGFzdEltcGFjdC5hdC50eXBlID09PSAnUkVPUkRFUicpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW1wYWN0OiBsYXN0SW1wYWN0LFxuICAgICAgZGlkRHJvcEluc2lkZURyb3BwYWJsZTogdHJ1ZVxuICAgIH07XG4gIH1cblxuICB2YXIgd2l0aG91dE1vdmVtZW50ID0gX2V4dGVuZHMoe30sIGxhc3RJbXBhY3QsIHtcbiAgICBkaXNwbGFjZWQ6IGVtcHR5R3JvdXBzXG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgaW1wYWN0OiB3aXRob3V0TW92ZW1lbnQsXG4gICAgZGlkRHJvcEluc2lkZURyb3BwYWJsZTogdHJ1ZVxuICB9O1xufSk7XG5cbnZhciBkcm9wJDEgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGdldFN0YXRlID0gX3JlZi5nZXRTdGF0ZSxcbiAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDtcbiAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIGlmIChhY3Rpb24udHlwZSAhPT0gJ0RST1AnKSB7XG4gICAgICAgIG5leHQoYWN0aW9uKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgICAgdmFyIHJlYXNvbiA9IGFjdGlvbi5wYXlsb2FkLnJlYXNvbjtcblxuICAgICAgaWYgKHN0YXRlLnBoYXNlID09PSAnQ09MTEVDVElORycpIHtcbiAgICAgICAgZGlzcGF0Y2goZHJvcFBlbmRpbmcoe1xuICAgICAgICAgIHJlYXNvbjogcmVhc29uXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUucGhhc2UgPT09ICdJRExFJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpc1dhaXRpbmdGb3JEcm9wID0gc3RhdGUucGhhc2UgPT09ICdEUk9QX1BFTkRJTkcnICYmIHN0YXRlLmlzV2FpdGluZztcbiAgICAgICEhaXNXYWl0aW5nRm9yRHJvcCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0EgRFJPUCBhY3Rpb24gb2NjdXJyZWQgd2hpbGUgRFJPUF9QRU5ESU5HIGFuZCBzdGlsbCB3YWl0aW5nJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgIShzdGF0ZS5waGFzZSA9PT0gJ0RSQUdHSU5HJyB8fCBzdGF0ZS5waGFzZSA9PT0gJ0RST1BfUEVORElORycpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkNhbm5vdCBkcm9wIGluIHBoYXNlOiBcIiArIHN0YXRlLnBoYXNlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICB2YXIgY3JpdGljYWwgPSBzdGF0ZS5jcml0aWNhbDtcbiAgICAgIHZhciBkaW1lbnNpb25zID0gc3RhdGUuZGltZW5zaW9ucztcbiAgICAgIHZhciBkcmFnZ2FibGUgPSBkaW1lbnNpb25zLmRyYWdnYWJsZXNbc3RhdGUuY3JpdGljYWwuZHJhZ2dhYmxlLmlkXTtcblxuICAgICAgdmFyIF9nZXREcm9wSW1wYWN0ID0gZ2V0RHJvcEltcGFjdCh7XG4gICAgICAgIHJlYXNvbjogcmVhc29uLFxuICAgICAgICBsYXN0SW1wYWN0OiBzdGF0ZS5pbXBhY3QsXG4gICAgICAgIGFmdGVyQ3JpdGljYWw6IHN0YXRlLmFmdGVyQ3JpdGljYWwsXG4gICAgICAgIG9uTGlmdEltcGFjdDogc3RhdGUub25MaWZ0SW1wYWN0LFxuICAgICAgICBob21lOiBzdGF0ZS5kaW1lbnNpb25zLmRyb3BwYWJsZXNbc3RhdGUuY3JpdGljYWwuZHJvcHBhYmxlLmlkXSxcbiAgICAgICAgdmlld3BvcnQ6IHN0YXRlLnZpZXdwb3J0LFxuICAgICAgICBkcmFnZ2FibGVzOiBzdGF0ZS5kaW1lbnNpb25zLmRyYWdnYWJsZXNcbiAgICAgIH0pLFxuICAgICAgICAgIGltcGFjdCA9IF9nZXREcm9wSW1wYWN0LmltcGFjdCxcbiAgICAgICAgICBkaWREcm9wSW5zaWRlRHJvcHBhYmxlID0gX2dldERyb3BJbXBhY3QuZGlkRHJvcEluc2lkZURyb3BwYWJsZTtcblxuICAgICAgdmFyIGRlc3RpbmF0aW9uID0gZGlkRHJvcEluc2lkZURyb3BwYWJsZSA/IHRyeUdldERlc3RpbmF0aW9uKGltcGFjdCkgOiBudWxsO1xuICAgICAgdmFyIGNvbWJpbmUgPSBkaWREcm9wSW5zaWRlRHJvcHBhYmxlID8gdHJ5R2V0Q29tYmluZShpbXBhY3QpIDogbnVsbDtcbiAgICAgIHZhciBzb3VyY2UgPSB7XG4gICAgICAgIGluZGV4OiBjcml0aWNhbC5kcmFnZ2FibGUuaW5kZXgsXG4gICAgICAgIGRyb3BwYWJsZUlkOiBjcml0aWNhbC5kcm9wcGFibGUuaWRcbiAgICAgIH07XG4gICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICBkcmFnZ2FibGVJZDogZHJhZ2dhYmxlLmRlc2NyaXB0b3IuaWQsXG4gICAgICAgIHR5cGU6IGRyYWdnYWJsZS5kZXNjcmlwdG9yLnR5cGUsXG4gICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICByZWFzb246IHJlYXNvbixcbiAgICAgICAgbW9kZTogc3RhdGUubW92ZW1lbnRNb2RlLFxuICAgICAgICBkZXN0aW5hdGlvbjogZGVzdGluYXRpb24sXG4gICAgICAgIGNvbWJpbmU6IGNvbWJpbmVcbiAgICAgIH07XG4gICAgICB2YXIgbmV3SG9tZUNsaWVudE9mZnNldCA9IGdldE5ld0hvbWVDbGllbnRPZmZzZXQoe1xuICAgICAgICBpbXBhY3Q6IGltcGFjdCxcbiAgICAgICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUsXG4gICAgICAgIGRpbWVuc2lvbnM6IGRpbWVuc2lvbnMsXG4gICAgICAgIHZpZXdwb3J0OiBzdGF0ZS52aWV3cG9ydCxcbiAgICAgICAgYWZ0ZXJDcml0aWNhbDogc3RhdGUuYWZ0ZXJDcml0aWNhbFxuICAgICAgfSk7XG4gICAgICB2YXIgY29tcGxldGVkID0ge1xuICAgICAgICBjcml0aWNhbDogc3RhdGUuY3JpdGljYWwsXG4gICAgICAgIGFmdGVyQ3JpdGljYWw6IHN0YXRlLmFmdGVyQ3JpdGljYWwsXG4gICAgICAgIHJlc3VsdDogcmVzdWx0LFxuICAgICAgICBpbXBhY3Q6IGltcGFjdFxuICAgICAgfTtcbiAgICAgIHZhciBpc0FuaW1hdGlvblJlcXVpcmVkID0gIWlzRXF1YWwoc3RhdGUuY3VycmVudC5jbGllbnQub2Zmc2V0LCBuZXdIb21lQ2xpZW50T2Zmc2V0KSB8fCBCb29sZWFuKHJlc3VsdC5jb21iaW5lKTtcblxuICAgICAgaWYgKCFpc0FuaW1hdGlvblJlcXVpcmVkKSB7XG4gICAgICAgIGRpc3BhdGNoKGNvbXBsZXRlRHJvcCh7XG4gICAgICAgICAgY29tcGxldGVkOiBjb21wbGV0ZWRcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBkcm9wRHVyYXRpb24gPSBnZXREcm9wRHVyYXRpb24oe1xuICAgICAgICBjdXJyZW50OiBzdGF0ZS5jdXJyZW50LmNsaWVudC5vZmZzZXQsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBuZXdIb21lQ2xpZW50T2Zmc2V0LFxuICAgICAgICByZWFzb246IHJlYXNvblxuICAgICAgfSk7XG4gICAgICB2YXIgYXJncyA9IHtcbiAgICAgICAgbmV3SG9tZUNsaWVudE9mZnNldDogbmV3SG9tZUNsaWVudE9mZnNldCxcbiAgICAgICAgZHJvcER1cmF0aW9uOiBkcm9wRHVyYXRpb24sXG4gICAgICAgIGNvbXBsZXRlZDogY29tcGxldGVkXG4gICAgICB9O1xuICAgICAgZGlzcGF0Y2goYW5pbWF0ZURyb3AoYXJncykpO1xuICAgIH07XG4gIH07XG59KTtcblxudmFyIGdldFdpbmRvd1Njcm9sbCA9IChmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgeDogd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgIHk6IHdpbmRvdy5wYWdlWU9mZnNldFxuICB9O1xufSk7XG5cbmZ1bmN0aW9uIGdldFdpbmRvd1Njcm9sbEJpbmRpbmcodXBkYXRlKSB7XG4gIHJldHVybiB7XG4gICAgZXZlbnROYW1lOiAnc2Nyb2xsJyxcbiAgICBvcHRpb25zOiB7XG4gICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgY2FwdHVyZTogZmFsc2VcbiAgICB9LFxuICAgIGZuOiBmdW5jdGlvbiBmbihldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gd2luZG93ICYmIGV2ZW50LnRhcmdldCAhPT0gd2luZG93LmRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRTY3JvbGxMaXN0ZW5lcihfcmVmKSB7XG4gIHZhciBvbldpbmRvd1Njcm9sbCA9IF9yZWYub25XaW5kb3dTY3JvbGw7XG5cbiAgZnVuY3Rpb24gdXBkYXRlU2Nyb2xsKCkge1xuICAgIG9uV2luZG93U2Nyb2xsKGdldFdpbmRvd1Njcm9sbCgpKTtcbiAgfVxuXG4gIHZhciBzY2hlZHVsZWQgPSByYWZTY2hkKHVwZGF0ZVNjcm9sbCk7XG4gIHZhciBiaW5kaW5nID0gZ2V0V2luZG93U2Nyb2xsQmluZGluZyhzY2hlZHVsZWQpO1xuICB2YXIgdW5iaW5kID0gbm9vcDtcblxuICBmdW5jdGlvbiBpc0FjdGl2ZSgpIHtcbiAgICByZXR1cm4gdW5iaW5kICE9PSBub29wO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgISFpc0FjdGl2ZSgpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHN0YXJ0IHNjcm9sbCBsaXN0ZW5lciB3aGVuIGFscmVhZHkgYWN0aXZlJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHVuYmluZCA9IGJpbmRFdmVudHMod2luZG93LCBbYmluZGluZ10pO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAhaXNBY3RpdmUoKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBzdG9wIHNjcm9sbCBsaXN0ZW5lciB3aGVuIG5vdCBhY3RpdmUnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgc2NoZWR1bGVkLmNhbmNlbCgpO1xuICAgIHVuYmluZCgpO1xuICAgIHVuYmluZCA9IG5vb3A7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBzdGFydCxcbiAgICBzdG9wOiBzdG9wLFxuICAgIGlzQWN0aXZlOiBpc0FjdGl2ZVxuICB9O1xufVxuXG52YXIgc2hvdWxkRW5kID0gZnVuY3Rpb24gc2hvdWxkRW5kKGFjdGlvbikge1xuICByZXR1cm4gYWN0aW9uLnR5cGUgPT09ICdEUk9QX0NPTVBMRVRFJyB8fCBhY3Rpb24udHlwZSA9PT0gJ0RST1BfQU5JTUFURScgfHwgYWN0aW9uLnR5cGUgPT09ICdGTFVTSCc7XG59O1xuXG52YXIgc2Nyb2xsTGlzdGVuZXIgPSAoZnVuY3Rpb24gKHN0b3JlKSB7XG4gIHZhciBsaXN0ZW5lciA9IGdldFNjcm9sbExpc3RlbmVyKHtcbiAgICBvbldpbmRvd1Njcm9sbDogZnVuY3Rpb24gb25XaW5kb3dTY3JvbGwobmV3U2Nyb2xsKSB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChtb3ZlQnlXaW5kb3dTY3JvbGwoe1xuICAgICAgICBuZXdTY3JvbGw6IG5ld1Njcm9sbFxuICAgICAgfSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBpZiAoIWxpc3RlbmVyLmlzQWN0aXZlKCkgJiYgYWN0aW9uLnR5cGUgPT09ICdJTklUSUFMX1BVQkxJU0gnKSB7XG4gICAgICAgIGxpc3RlbmVyLnN0YXJ0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChsaXN0ZW5lci5pc0FjdGl2ZSgpICYmIHNob3VsZEVuZChhY3Rpb24pKSB7XG4gICAgICAgIGxpc3RlbmVyLnN0b3AoKTtcbiAgICAgIH1cblxuICAgICAgbmV4dChhY3Rpb24pO1xuICAgIH07XG4gIH07XG59KTtcblxudmFyIGdldEV4cGlyaW5nQW5ub3VuY2UgPSAoZnVuY3Rpb24gKGFubm91bmNlKSB7XG4gIHZhciB3YXNDYWxsZWQgPSBmYWxzZTtcbiAgdmFyIGlzRXhwaXJlZCA9IGZhbHNlO1xuICB2YXIgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgaXNFeHBpcmVkID0gdHJ1ZTtcbiAgfSk7XG5cbiAgdmFyIHJlc3VsdCA9IGZ1bmN0aW9uIHJlc3VsdChtZXNzYWdlKSB7XG4gICAgaWYgKHdhc0NhbGxlZCkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZygnQW5ub3VuY2VtZW50IGFscmVhZHkgbWFkZS4gTm90IG1ha2luZyBhIHNlY29uZCBhbm5vdW5jZW1lbnQnKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNFeHBpcmVkKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiXFxuICAgICAgICBBbm5vdW5jZW1lbnRzIGNhbm5vdCBiZSBtYWRlIGFzeW5jaHJvbm91c2x5LlxcbiAgICAgICAgRGVmYXVsdCBtZXNzYWdlIGhhcyBhbHJlYWR5IGJlZW4gYW5ub3VuY2VkLlxcbiAgICAgIFwiKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3YXNDYWxsZWQgPSB0cnVlO1xuICAgIGFubm91bmNlKG1lc3NhZ2UpO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICB9O1xuXG4gIHJlc3VsdC53YXNDYWxsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHdhc0NhbGxlZDtcbiAgfTtcblxuICByZXR1cm4gcmVzdWx0O1xufSk7XG5cbnZhciBnZXRBc3luY01hcnNoYWwgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgZW50cmllcyA9IFtdO1xuXG4gIHZhciBleGVjdXRlID0gZnVuY3Rpb24gZXhlY3V0ZSh0aW1lcklkKSB7XG4gICAgdmFyIGluZGV4ID0gZmluZEluZGV4KGVudHJpZXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS50aW1lcklkID09PSB0aW1lcklkO1xuICAgIH0pO1xuICAgICEoaW5kZXggIT09IC0xKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0NvdWxkIG5vdCBmaW5kIHRpbWVyJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuXG4gICAgdmFyIF9lbnRyaWVzJHNwbGljZSA9IGVudHJpZXMuc3BsaWNlKGluZGV4LCAxKSxcbiAgICAgICAgZW50cnkgPSBfZW50cmllcyRzcGxpY2VbMF07XG5cbiAgICBlbnRyeS5jYWxsYmFjaygpO1xuICB9O1xuXG4gIHZhciBhZGQgPSBmdW5jdGlvbiBhZGQoZm4pIHtcbiAgICB2YXIgdGltZXJJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGV4ZWN1dGUodGltZXJJZCk7XG4gICAgfSk7XG4gICAgdmFyIGVudHJ5ID0ge1xuICAgICAgdGltZXJJZDogdGltZXJJZCxcbiAgICAgIGNhbGxiYWNrOiBmblxuICAgIH07XG4gICAgZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfTtcblxuICB2YXIgZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHNoYWxsb3cgPSBbXS5jb25jYXQoZW50cmllcyk7XG4gICAgZW50cmllcy5sZW5ndGggPSAwO1xuICAgIHNoYWxsb3cuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgIGNsZWFyVGltZW91dChlbnRyeS50aW1lcklkKTtcbiAgICAgIGVudHJ5LmNhbGxiYWNrKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBhZGQ6IGFkZCxcbiAgICBmbHVzaDogZmx1c2hcbiAgfTtcbn0pO1xuXG52YXIgYXJlTG9jYXRpb25zRXF1YWwgPSBmdW5jdGlvbiBhcmVMb2NhdGlvbnNFcXVhbChmaXJzdCwgc2Vjb25kKSB7XG4gIGlmIChmaXJzdCA9PSBudWxsICYmIHNlY29uZCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoZmlyc3QgPT0gbnVsbCB8fCBzZWNvbmQgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBmaXJzdC5kcm9wcGFibGVJZCA9PT0gc2Vjb25kLmRyb3BwYWJsZUlkICYmIGZpcnN0LmluZGV4ID09PSBzZWNvbmQuaW5kZXg7XG59O1xudmFyIGlzQ29tYmluZUVxdWFsID0gZnVuY3Rpb24gaXNDb21iaW5lRXF1YWwoZmlyc3QsIHNlY29uZCkge1xuICBpZiAoZmlyc3QgPT0gbnVsbCAmJiBzZWNvbmQgPT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGZpcnN0ID09IG51bGwgfHwgc2Vjb25kID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gZmlyc3QuZHJhZ2dhYmxlSWQgPT09IHNlY29uZC5kcmFnZ2FibGVJZCAmJiBmaXJzdC5kcm9wcGFibGVJZCA9PT0gc2Vjb25kLmRyb3BwYWJsZUlkO1xufTtcbnZhciBpc0NyaXRpY2FsRXF1YWwgPSBmdW5jdGlvbiBpc0NyaXRpY2FsRXF1YWwoZmlyc3QsIHNlY29uZCkge1xuICBpZiAoZmlyc3QgPT09IHNlY29uZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdmFyIGlzRHJhZ2dhYmxlRXF1YWwgPSBmaXJzdC5kcmFnZ2FibGUuaWQgPT09IHNlY29uZC5kcmFnZ2FibGUuaWQgJiYgZmlyc3QuZHJhZ2dhYmxlLmRyb3BwYWJsZUlkID09PSBzZWNvbmQuZHJhZ2dhYmxlLmRyb3BwYWJsZUlkICYmIGZpcnN0LmRyYWdnYWJsZS50eXBlID09PSBzZWNvbmQuZHJhZ2dhYmxlLnR5cGUgJiYgZmlyc3QuZHJhZ2dhYmxlLmluZGV4ID09PSBzZWNvbmQuZHJhZ2dhYmxlLmluZGV4O1xuICB2YXIgaXNEcm9wcGFibGVFcXVhbCA9IGZpcnN0LmRyb3BwYWJsZS5pZCA9PT0gc2Vjb25kLmRyb3BwYWJsZS5pZCAmJiBmaXJzdC5kcm9wcGFibGUudHlwZSA9PT0gc2Vjb25kLmRyb3BwYWJsZS50eXBlO1xuICByZXR1cm4gaXNEcmFnZ2FibGVFcXVhbCAmJiBpc0Ryb3BwYWJsZUVxdWFsO1xufTtcblxudmFyIHdpdGhUaW1pbmdzID0gZnVuY3Rpb24gd2l0aFRpbWluZ3Moa2V5LCBmbikge1xuICBzdGFydCgpO1xuICBmbigpO1xuICBmaW5pc2goKTtcbn07XG5cbnZhciBnZXREcmFnU3RhcnQgPSBmdW5jdGlvbiBnZXREcmFnU3RhcnQoY3JpdGljYWwsIG1vZGUpIHtcbiAgcmV0dXJuIHtcbiAgICBkcmFnZ2FibGVJZDogY3JpdGljYWwuZHJhZ2dhYmxlLmlkLFxuICAgIHR5cGU6IGNyaXRpY2FsLmRyb3BwYWJsZS50eXBlLFxuICAgIHNvdXJjZToge1xuICAgICAgZHJvcHBhYmxlSWQ6IGNyaXRpY2FsLmRyb3BwYWJsZS5pZCxcbiAgICAgIGluZGV4OiBjcml0aWNhbC5kcmFnZ2FibGUuaW5kZXhcbiAgICB9LFxuICAgIG1vZGU6IG1vZGVcbiAgfTtcbn07XG5cbnZhciBleGVjdXRlID0gZnVuY3Rpb24gZXhlY3V0ZShyZXNwb25kZXIsIGRhdGEsIGFubm91bmNlLCBnZXREZWZhdWx0TWVzc2FnZSkge1xuICBpZiAoIXJlc3BvbmRlcikge1xuICAgIGFubm91bmNlKGdldERlZmF1bHRNZXNzYWdlKGRhdGEpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgd2lsbEV4cGlyZSA9IGdldEV4cGlyaW5nQW5ub3VuY2UoYW5ub3VuY2UpO1xuICB2YXIgcHJvdmlkZWQgPSB7XG4gICAgYW5ub3VuY2U6IHdpbGxFeHBpcmVcbiAgfTtcbiAgcmVzcG9uZGVyKGRhdGEsIHByb3ZpZGVkKTtcblxuICBpZiAoIXdpbGxFeHBpcmUud2FzQ2FsbGVkKCkpIHtcbiAgICBhbm5vdW5jZShnZXREZWZhdWx0TWVzc2FnZShkYXRhKSk7XG4gIH1cbn07XG5cbnZhciBnZXRQdWJsaXNoZXIgPSAoZnVuY3Rpb24gKGdldFJlc3BvbmRlcnMsIGFubm91bmNlKSB7XG4gIHZhciBhc3luY01hcnNoYWwgPSBnZXRBc3luY01hcnNoYWwoKTtcbiAgdmFyIGRyYWdnaW5nID0gbnVsbDtcblxuICB2YXIgYmVmb3JlQ2FwdHVyZSA9IGZ1bmN0aW9uIGJlZm9yZUNhcHR1cmUoZHJhZ2dhYmxlSWQsIG1vZGUpIHtcbiAgICAhIWRyYWdnaW5nID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGZpcmUgb25CZWZvcmVDYXB0dXJlIGFzIGEgZHJhZyBzdGFydCBoYXMgYWxyZWFkeSBiZWVuIHB1Ymxpc2hlZCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB3aXRoVGltaW5ncygnb25CZWZvcmVDYXB0dXJlJywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGZuID0gZ2V0UmVzcG9uZGVycygpLm9uQmVmb3JlQ2FwdHVyZTtcblxuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIHZhciBiZWZvcmUgPSB7XG4gICAgICAgICAgZHJhZ2dhYmxlSWQ6IGRyYWdnYWJsZUlkLFxuICAgICAgICAgIG1vZGU6IG1vZGVcbiAgICAgICAgfTtcbiAgICAgICAgZm4oYmVmb3JlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB2YXIgYmVmb3JlU3RhcnQgPSBmdW5jdGlvbiBiZWZvcmVTdGFydChjcml0aWNhbCwgbW9kZSkge1xuICAgICEhZHJhZ2dpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgZmlyZSBvbkJlZm9yZURyYWdTdGFydCBhcyBhIGRyYWcgc3RhcnQgaGFzIGFscmVhZHkgYmVlbiBwdWJsaXNoZWQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgd2l0aFRpbWluZ3MoJ29uQmVmb3JlRHJhZ1N0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGZuID0gZ2V0UmVzcG9uZGVycygpLm9uQmVmb3JlRHJhZ1N0YXJ0O1xuXG4gICAgICBpZiAoZm4pIHtcbiAgICAgICAgZm4oZ2V0RHJhZ1N0YXJ0KGNyaXRpY2FsLCBtb2RlKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQoY3JpdGljYWwsIG1vZGUpIHtcbiAgICAhIWRyYWdnaW5nID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGZpcmUgb25CZWZvcmVEcmFnU3RhcnQgYXMgYSBkcmFnIHN0YXJ0IGhhcyBhbHJlYWR5IGJlZW4gcHVibGlzaGVkJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBkYXRhID0gZ2V0RHJhZ1N0YXJ0KGNyaXRpY2FsLCBtb2RlKTtcbiAgICBkcmFnZ2luZyA9IHtcbiAgICAgIG1vZGU6IG1vZGUsXG4gICAgICBsYXN0Q3JpdGljYWw6IGNyaXRpY2FsLFxuICAgICAgbGFzdExvY2F0aW9uOiBkYXRhLnNvdXJjZSxcbiAgICAgIGxhc3RDb21iaW5lOiBudWxsXG4gICAgfTtcbiAgICBhc3luY01hcnNoYWwuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdpdGhUaW1pbmdzKCdvbkRyYWdTdGFydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGV4ZWN1dGUoZ2V0UmVzcG9uZGVycygpLm9uRHJhZ1N0YXJ0LCBkYXRhLCBhbm5vdW5jZSwgcHJlc2V0Lm9uRHJhZ1N0YXJ0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciB1cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoY3JpdGljYWwsIGltcGFjdCkge1xuICAgIHZhciBsb2NhdGlvbiA9IHRyeUdldERlc3RpbmF0aW9uKGltcGFjdCk7XG4gICAgdmFyIGNvbWJpbmUgPSB0cnlHZXRDb21iaW5lKGltcGFjdCk7XG4gICAgIWRyYWdnaW5nID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGZpcmUgb25EcmFnTW92ZSB3aGVuIG9uRHJhZ1N0YXJ0IGhhcyBub3QgYmVlbiBjYWxsZWQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGhhc0NyaXRpY2FsQ2hhbmdlZCA9ICFpc0NyaXRpY2FsRXF1YWwoY3JpdGljYWwsIGRyYWdnaW5nLmxhc3RDcml0aWNhbCk7XG5cbiAgICBpZiAoaGFzQ3JpdGljYWxDaGFuZ2VkKSB7XG4gICAgICBkcmFnZ2luZy5sYXN0Q3JpdGljYWwgPSBjcml0aWNhbDtcbiAgICB9XG5cbiAgICB2YXIgaGFzTG9jYXRpb25DaGFuZ2VkID0gIWFyZUxvY2F0aW9uc0VxdWFsKGRyYWdnaW5nLmxhc3RMb2NhdGlvbiwgbG9jYXRpb24pO1xuXG4gICAgaWYgKGhhc0xvY2F0aW9uQ2hhbmdlZCkge1xuICAgICAgZHJhZ2dpbmcubGFzdExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgfVxuXG4gICAgdmFyIGhhc0dyb3VwaW5nQ2hhbmdlZCA9ICFpc0NvbWJpbmVFcXVhbChkcmFnZ2luZy5sYXN0Q29tYmluZSwgY29tYmluZSk7XG5cbiAgICBpZiAoaGFzR3JvdXBpbmdDaGFuZ2VkKSB7XG4gICAgICBkcmFnZ2luZy5sYXN0Q29tYmluZSA9IGNvbWJpbmU7XG4gICAgfVxuXG4gICAgaWYgKCFoYXNDcml0aWNhbENoYW5nZWQgJiYgIWhhc0xvY2F0aW9uQ2hhbmdlZCAmJiAhaGFzR3JvdXBpbmdDaGFuZ2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRhdGEgPSBfZXh0ZW5kcyh7fSwgZ2V0RHJhZ1N0YXJ0KGNyaXRpY2FsLCBkcmFnZ2luZy5tb2RlKSwge1xuICAgICAgY29tYmluZTogY29tYmluZSxcbiAgICAgIGRlc3RpbmF0aW9uOiBsb2NhdGlvblxuICAgIH0pO1xuXG4gICAgYXN5bmNNYXJzaGFsLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICB3aXRoVGltaW5ncygnb25EcmFnVXBkYXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZXhlY3V0ZShnZXRSZXNwb25kZXJzKCkub25EcmFnVXBkYXRlLCBkYXRhLCBhbm5vdW5jZSwgcHJlc2V0Lm9uRHJhZ1VwZGF0ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAhZHJhZ2dpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW4gb25seSBmbHVzaCByZXNwb25kZXJzIHdoaWxlIGRyYWdnaW5nJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGFzeW5jTWFyc2hhbC5mbHVzaCgpO1xuICB9O1xuXG4gIHZhciBkcm9wID0gZnVuY3Rpb24gZHJvcChyZXN1bHQpIHtcbiAgICAhZHJhZ2dpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgZmlyZSBvbkRyYWdFbmQgd2hlbiB0aGVyZSBpcyBubyBtYXRjaGluZyBvbkRyYWdTdGFydCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBkcmFnZ2luZyA9IG51bGw7XG4gICAgd2l0aFRpbWluZ3MoJ29uRHJhZ0VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBleGVjdXRlKGdldFJlc3BvbmRlcnMoKS5vbkRyYWdFbmQsIHJlc3VsdCwgYW5ub3VuY2UsIHByZXNldC5vbkRyYWdFbmQpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBhYm9ydCA9IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgIGlmICghZHJhZ2dpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0gX2V4dGVuZHMoe30sIGdldERyYWdTdGFydChkcmFnZ2luZy5sYXN0Q3JpdGljYWwsIGRyYWdnaW5nLm1vZGUpLCB7XG4gICAgICBjb21iaW5lOiBudWxsLFxuICAgICAgZGVzdGluYXRpb246IG51bGwsXG4gICAgICByZWFzb246ICdDQU5DRUwnXG4gICAgfSk7XG5cbiAgICBkcm9wKHJlc3VsdCk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBiZWZvcmVDYXB0dXJlOiBiZWZvcmVDYXB0dXJlLFxuICAgIGJlZm9yZVN0YXJ0OiBiZWZvcmVTdGFydCxcbiAgICBzdGFydDogc3RhcnQsXG4gICAgdXBkYXRlOiB1cGRhdGUsXG4gICAgZmx1c2g6IGZsdXNoLFxuICAgIGRyb3A6IGRyb3AsXG4gICAgYWJvcnQ6IGFib3J0XG4gIH07XG59KTtcblxudmFyIHJlc3BvbmRlcnMgPSAoZnVuY3Rpb24gKGdldFJlc3BvbmRlcnMsIGFubm91bmNlKSB7XG4gIHZhciBwdWJsaXNoZXIgPSBnZXRQdWJsaXNoZXIoZ2V0UmVzcG9uZGVycywgYW5ub3VuY2UpO1xuICByZXR1cm4gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09ICdCRUZPUkVfSU5JVElBTF9DQVBUVVJFJykge1xuICAgICAgICAgIHB1Ymxpc2hlci5iZWZvcmVDYXB0dXJlKGFjdGlvbi5wYXlsb2FkLmRyYWdnYWJsZUlkLCBhY3Rpb24ucGF5bG9hZC5tb3ZlbWVudE1vZGUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gJ0lOSVRJQUxfUFVCTElTSCcpIHtcbiAgICAgICAgICB2YXIgY3JpdGljYWwgPSBhY3Rpb24ucGF5bG9hZC5jcml0aWNhbDtcbiAgICAgICAgICBwdWJsaXNoZXIuYmVmb3JlU3RhcnQoY3JpdGljYWwsIGFjdGlvbi5wYXlsb2FkLm1vdmVtZW50TW9kZSk7XG4gICAgICAgICAgbmV4dChhY3Rpb24pO1xuICAgICAgICAgIHB1Ymxpc2hlci5zdGFydChjcml0aWNhbCwgYWN0aW9uLnBheWxvYWQubW92ZW1lbnRNb2RlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09ICdEUk9QX0NPTVBMRVRFJykge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBhY3Rpb24ucGF5bG9hZC5jb21wbGV0ZWQucmVzdWx0O1xuICAgICAgICAgIHB1Ymxpc2hlci5mbHVzaCgpO1xuICAgICAgICAgIG5leHQoYWN0aW9uKTtcbiAgICAgICAgICBwdWJsaXNoZXIuZHJvcChyZXN1bHQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG5leHQoYWN0aW9uKTtcblxuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09ICdGTFVTSCcpIHtcbiAgICAgICAgICBwdWJsaXNoZXIuYWJvcnQoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIGlmIChzdGF0ZS5waGFzZSA9PT0gJ0RSQUdHSU5HJykge1xuICAgICAgICAgIHB1Ymxpc2hlci51cGRhdGUoc3RhdGUuY3JpdGljYWwsIHN0YXRlLmltcGFjdCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn0pO1xuXG52YXIgZHJvcEFuaW1hdGlvbkZpbmlzaCA9IChmdW5jdGlvbiAoc3RvcmUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIGlmIChhY3Rpb24udHlwZSAhPT0gJ0RST1BfQU5JTUFUSU9OX0ZJTklTSEVEJykge1xuICAgICAgICBuZXh0KGFjdGlvbik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICEoc3RhdGUucGhhc2UgPT09ICdEUk9QX0FOSU1BVElORycpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGZpbmlzaCBhIGRyb3AgYW5pbWF0aW5nIHdoZW4gbm8gZHJvcCBpcyBvY2N1cnJpbmcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICBzdG9yZS5kaXNwYXRjaChjb21wbGV0ZURyb3Aoe1xuICAgICAgICBjb21wbGV0ZWQ6IHN0YXRlLmNvbXBsZXRlZFxuICAgICAgfSkpO1xuICAgIH07XG4gIH07XG59KTtcblxudmFyIGRyb3BBbmltYXRpb25GbHVzaE9uU2Nyb2xsID0gKGZ1bmN0aW9uIChzdG9yZSkge1xuICB2YXIgdW5iaW5kID0gbnVsbDtcbiAgdmFyIGZyYW1lSWQgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIGlmIChmcmFtZUlkKSB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZUlkKTtcbiAgICAgIGZyYW1lSWQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICh1bmJpbmQpIHtcbiAgICAgIHVuYmluZCgpO1xuICAgICAgdW5iaW5kID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgaWYgKGFjdGlvbi50eXBlID09PSAnRkxVU0gnIHx8IGFjdGlvbi50eXBlID09PSAnRFJPUF9DT01QTEVURScgfHwgYWN0aW9uLnR5cGUgPT09ICdEUk9QX0FOSU1BVElPTl9GSU5JU0hFRCcpIHtcbiAgICAgICAgY2xlYXIoKTtcbiAgICAgIH1cblxuICAgICAgbmV4dChhY3Rpb24pO1xuXG4gICAgICBpZiAoYWN0aW9uLnR5cGUgIT09ICdEUk9QX0FOSU1BVEUnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGJpbmRpbmcgPSB7XG4gICAgICAgIGV2ZW50TmFtZTogJ3Njcm9sbCcsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgICAgIG9uY2U6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgZm46IGZ1bmN0aW9uIGZsdXNoRHJvcEFuaW1hdGlvbigpIHtcbiAgICAgICAgICB2YXIgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgICAgaWYgKHN0YXRlLnBoYXNlID09PSAnRFJPUF9BTklNQVRJTkcnKSB7XG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChkcm9wQW5pbWF0aW9uRmluaXNoZWQoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZnJhbWVJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZyYW1lSWQgPSBudWxsO1xuICAgICAgICB1bmJpbmQgPSBiaW5kRXZlbnRzKHdpbmRvdywgW2JpbmRpbmddKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG59KTtcblxudmFyIGRpbWVuc2lvbk1hcnNoYWxTdG9wcGVyID0gKGZ1bmN0aW9uIChtYXJzaGFsKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09ICdEUk9QX0NPTVBMRVRFJyB8fCBhY3Rpb24udHlwZSA9PT0gJ0ZMVVNIJyB8fCBhY3Rpb24udHlwZSA9PT0gJ0RST1BfQU5JTUFURScpIHtcbiAgICAgICAgICBtYXJzaGFsLnN0b3BQdWJsaXNoaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0KGFjdGlvbik7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59KTtcblxudmFyIGZvY3VzID0gKGZ1bmN0aW9uIChtYXJzaGFsKSB7XG4gIHZhciBpc1dhdGNoaW5nID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09ICdJTklUSUFMX1BVQkxJU0gnKSB7XG4gICAgICAgICAgaXNXYXRjaGluZyA9IHRydWU7XG4gICAgICAgICAgbWFyc2hhbC50cnlSZWNvcmRGb2N1cyhhY3Rpb24ucGF5bG9hZC5jcml0aWNhbC5kcmFnZ2FibGUuaWQpO1xuICAgICAgICAgIG5leHQoYWN0aW9uKTtcbiAgICAgICAgICBtYXJzaGFsLnRyeVJlc3RvcmVGb2N1c1JlY29yZGVkKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV4dChhY3Rpb24pO1xuXG4gICAgICAgIGlmICghaXNXYXRjaGluZykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gJ0ZMVVNIJykge1xuICAgICAgICAgIGlzV2F0Y2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICBtYXJzaGFsLnRyeVJlc3RvcmVGb2N1c1JlY29yZGVkKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFjdGlvbi50eXBlID09PSAnRFJPUF9DT01QTEVURScpIHtcbiAgICAgICAgICBpc1dhdGNoaW5nID0gZmFsc2U7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGFjdGlvbi5wYXlsb2FkLmNvbXBsZXRlZC5yZXN1bHQ7XG5cbiAgICAgICAgICBpZiAocmVzdWx0LmNvbWJpbmUpIHtcbiAgICAgICAgICAgIG1hcnNoYWwudHJ5U2hpZnRSZWNvcmQocmVzdWx0LmRyYWdnYWJsZUlkLCByZXN1bHQuY29tYmluZS5kcmFnZ2FibGVJZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWFyc2hhbC50cnlSZXN0b3JlRm9jdXNSZWNvcmRlZCgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59KTtcblxudmFyIHNob3VsZFN0b3AgPSBmdW5jdGlvbiBzaG91bGRTdG9wKGFjdGlvbikge1xuICByZXR1cm4gYWN0aW9uLnR5cGUgPT09ICdEUk9QX0NPTVBMRVRFJyB8fCBhY3Rpb24udHlwZSA9PT0gJ0RST1BfQU5JTUFURScgfHwgYWN0aW9uLnR5cGUgPT09ICdGTFVTSCc7XG59O1xuXG52YXIgYXV0b1Njcm9sbCA9IChmdW5jdGlvbiAoYXV0b1Njcm9sbGVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoc3RvcmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIGlmIChzaG91bGRTdG9wKGFjdGlvbikpIHtcbiAgICAgICAgICBhdXRvU2Nyb2xsZXIuc3RvcCgpO1xuICAgICAgICAgIG5leHQoYWN0aW9uKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09ICdJTklUSUFMX1BVQkxJU0gnKSB7XG4gICAgICAgICAgbmV4dChhY3Rpb24pO1xuICAgICAgICAgIHZhciBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgICAgIShzdGF0ZS5waGFzZSA9PT0gJ0RSQUdHSU5HJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCBwaGFzZSB0byBiZSBEUkFHR0lORyBhZnRlciBJTklUSUFMX1BVQkxJU0gnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgICAgYXV0b1Njcm9sbGVyLnN0YXJ0KHN0YXRlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0KGFjdGlvbik7XG4gICAgICAgIGF1dG9TY3JvbGxlci5zY3JvbGwoc3RvcmUuZ2V0U3RhdGUoKSk7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59KTtcblxudmFyIHBlbmRpbmdEcm9wID0gKGZ1bmN0aW9uIChzdG9yZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgbmV4dChhY3Rpb24pO1xuXG4gICAgICBpZiAoYWN0aW9uLnR5cGUgIT09ICdQVUJMSVNIX1dISUxFX0RSQUdHSU5HJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwb3N0QWN0aW9uU3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuXG4gICAgICBpZiAocG9zdEFjdGlvblN0YXRlLnBoYXNlICE9PSAnRFJPUF9QRU5ESU5HJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChwb3N0QWN0aW9uU3RhdGUuaXNXYWl0aW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3RvcmUuZGlzcGF0Y2goZHJvcCh7XG4gICAgICAgIHJlYXNvbjogcG9zdEFjdGlvblN0YXRlLnJlYXNvblxuICAgICAgfSkpO1xuICAgIH07XG4gIH07XG59KTtcblxudmFyIGNvbXBvc2VFbmhhbmNlcnMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX18gPyB3aW5kb3cuX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fQ09NUE9TRV9fKHtcbiAgbmFtZTogJ3JlYWN0LWJlYXV0aWZ1bC1kbmQnXG59KSA6IGNvbXBvc2U7XG52YXIgY3JlYXRlU3RvcmUgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGRpbWVuc2lvbk1hcnNoYWwgPSBfcmVmLmRpbWVuc2lvbk1hcnNoYWwsXG4gICAgICBmb2N1c01hcnNoYWwgPSBfcmVmLmZvY3VzTWFyc2hhbCxcbiAgICAgIHN0eWxlTWFyc2hhbCA9IF9yZWYuc3R5bGVNYXJzaGFsLFxuICAgICAgZ2V0UmVzcG9uZGVycyA9IF9yZWYuZ2V0UmVzcG9uZGVycyxcbiAgICAgIGFubm91bmNlID0gX3JlZi5hbm5vdW5jZSxcbiAgICAgIGF1dG9TY3JvbGxlciA9IF9yZWYuYXV0b1Njcm9sbGVyO1xuICByZXR1cm4gY3JlYXRlU3RvcmUkMShyZWR1Y2VyLCBjb21wb3NlRW5oYW5jZXJzKGFwcGx5TWlkZGxld2FyZShzdHlsZShzdHlsZU1hcnNoYWwpLCBkaW1lbnNpb25NYXJzaGFsU3RvcHBlcihkaW1lbnNpb25NYXJzaGFsKSwgbGlmdCQxKGRpbWVuc2lvbk1hcnNoYWwpLCBkcm9wJDEsIGRyb3BBbmltYXRpb25GaW5pc2gsIGRyb3BBbmltYXRpb25GbHVzaE9uU2Nyb2xsLCBwZW5kaW5nRHJvcCwgYXV0b1Njcm9sbChhdXRvU2Nyb2xsZXIpLCBzY3JvbGxMaXN0ZW5lciwgZm9jdXMoZm9jdXNNYXJzaGFsKSwgcmVzcG9uZGVycyhnZXRSZXNwb25kZXJzLCBhbm5vdW5jZSkpKSk7XG59KTtcblxudmFyIGNsZWFuJDEgPSBmdW5jdGlvbiBjbGVhbigpIHtcbiAgcmV0dXJuIHtcbiAgICBhZGRpdGlvbnM6IHt9LFxuICAgIHJlbW92YWxzOiB7fSxcbiAgICBtb2RpZmllZDoge31cbiAgfTtcbn07XG5mdW5jdGlvbiBjcmVhdGVQdWJsaXNoZXIoX3JlZikge1xuICB2YXIgcmVnaXN0cnkgPSBfcmVmLnJlZ2lzdHJ5LFxuICAgICAgY2FsbGJhY2tzID0gX3JlZi5jYWxsYmFja3M7XG4gIHZhciBzdGFnaW5nID0gY2xlYW4kMSgpO1xuICB2YXIgZnJhbWVJZCA9IG51bGw7XG5cbiAgdmFyIGNvbGxlY3QgPSBmdW5jdGlvbiBjb2xsZWN0KCkge1xuICAgIGlmIChmcmFtZUlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2FsbGJhY2tzLmNvbGxlY3Rpb25TdGFydGluZygpO1xuICAgIGZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgZnJhbWVJZCA9IG51bGw7XG4gICAgICBzdGFydCgpO1xuICAgICAgdmFyIF9zdGFnaW5nID0gc3RhZ2luZyxcbiAgICAgICAgICBhZGRpdGlvbnMgPSBfc3RhZ2luZy5hZGRpdGlvbnMsXG4gICAgICAgICAgcmVtb3ZhbHMgPSBfc3RhZ2luZy5yZW1vdmFscyxcbiAgICAgICAgICBtb2RpZmllZCA9IF9zdGFnaW5nLm1vZGlmaWVkO1xuICAgICAgdmFyIGFkZGVkID0gT2JqZWN0LmtleXMoYWRkaXRpb25zKS5tYXAoZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiByZWdpc3RyeS5kcmFnZ2FibGUuZ2V0QnlJZChpZCkuZ2V0RGltZW5zaW9uKG9yaWdpbik7XG4gICAgICB9KS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLmRlc2NyaXB0b3IuaW5kZXggLSBiLmRlc2NyaXB0b3IuaW5kZXg7XG4gICAgICB9KTtcbiAgICAgIHZhciB1cGRhdGVkID0gT2JqZWN0LmtleXMobW9kaWZpZWQpLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gcmVnaXN0cnkuZHJvcHBhYmxlLmdldEJ5SWQoaWQpO1xuICAgICAgICB2YXIgc2Nyb2xsID0gZW50cnkuY2FsbGJhY2tzLmdldFNjcm9sbFdoaWxlRHJhZ2dpbmcoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkcm9wcGFibGVJZDogaWQsXG4gICAgICAgICAgc2Nyb2xsOiBzY3JvbGxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgYWRkaXRpb25zOiBhZGRlZCxcbiAgICAgICAgcmVtb3ZhbHM6IE9iamVjdC5rZXlzKHJlbW92YWxzKSxcbiAgICAgICAgbW9kaWZpZWQ6IHVwZGF0ZWRcbiAgICAgIH07XG4gICAgICBzdGFnaW5nID0gY2xlYW4kMSgpO1xuICAgICAgZmluaXNoKCk7XG4gICAgICBjYWxsYmFja3MucHVibGlzaChyZXN1bHQpO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBhZGQgPSBmdW5jdGlvbiBhZGQoZW50cnkpIHtcbiAgICB2YXIgaWQgPSBlbnRyeS5kZXNjcmlwdG9yLmlkO1xuICAgIHN0YWdpbmcuYWRkaXRpb25zW2lkXSA9IGVudHJ5O1xuICAgIHN0YWdpbmcubW9kaWZpZWRbZW50cnkuZGVzY3JpcHRvci5kcm9wcGFibGVJZF0gPSB0cnVlO1xuXG4gICAgaWYgKHN0YWdpbmcucmVtb3ZhbHNbaWRdKSB7XG4gICAgICBkZWxldGUgc3RhZ2luZy5yZW1vdmFsc1tpZF07XG4gICAgfVxuXG4gICAgY29sbGVjdCgpO1xuICB9O1xuXG4gIHZhciByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoZW50cnkpIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IGVudHJ5LmRlc2NyaXB0b3I7XG4gICAgc3RhZ2luZy5yZW1vdmFsc1tkZXNjcmlwdG9yLmlkXSA9IHRydWU7XG4gICAgc3RhZ2luZy5tb2RpZmllZFtkZXNjcmlwdG9yLmRyb3BwYWJsZUlkXSA9IHRydWU7XG5cbiAgICBpZiAoc3RhZ2luZy5hZGRpdGlvbnNbZGVzY3JpcHRvci5pZF0pIHtcbiAgICAgIGRlbGV0ZSBzdGFnaW5nLmFkZGl0aW9uc1tkZXNjcmlwdG9yLmlkXTtcbiAgICB9XG5cbiAgICBjb2xsZWN0KCk7XG4gIH07XG5cbiAgdmFyIHN0b3AgPSBmdW5jdGlvbiBzdG9wKCkge1xuICAgIGlmICghZnJhbWVJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lSWQpO1xuICAgIGZyYW1lSWQgPSBudWxsO1xuICAgIHN0YWdpbmcgPSBjbGVhbiQxKCk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBhZGQ6IGFkZCxcbiAgICByZW1vdmU6IHJlbW92ZSxcbiAgICBzdG9wOiBzdG9wXG4gIH07XG59XG5cbnZhciBnZXRNYXhTY3JvbGwgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHNjcm9sbEhlaWdodCA9IF9yZWYuc2Nyb2xsSGVpZ2h0LFxuICAgICAgc2Nyb2xsV2lkdGggPSBfcmVmLnNjcm9sbFdpZHRoLFxuICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQsXG4gICAgICB3aWR0aCA9IF9yZWYud2lkdGg7XG4gIHZhciBtYXhTY3JvbGwgPSBzdWJ0cmFjdCh7XG4gICAgeDogc2Nyb2xsV2lkdGgsXG4gICAgeTogc2Nyb2xsSGVpZ2h0XG4gIH0sIHtcbiAgICB4OiB3aWR0aCxcbiAgICB5OiBoZWlnaHRcbiAgfSk7XG4gIHZhciBhZGp1c3RlZE1heFNjcm9sbCA9IHtcbiAgICB4OiBNYXRoLm1heCgwLCBtYXhTY3JvbGwueCksXG4gICAgeTogTWF0aC5tYXgoMCwgbWF4U2Nyb2xsLnkpXG4gIH07XG4gIHJldHVybiBhZGp1c3RlZE1heFNjcm9sbDtcbn0pO1xuXG52YXIgZ2V0RG9jdW1lbnRFbGVtZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGRvYyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgIWRvYyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBmaW5kIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgcmV0dXJuIGRvYztcbn0pO1xuXG52YXIgZ2V0TWF4V2luZG93U2Nyb2xsID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGRvYyA9IGdldERvY3VtZW50RWxlbWVudCgpO1xuICB2YXIgbWF4U2Nyb2xsID0gZ2V0TWF4U2Nyb2xsKHtcbiAgICBzY3JvbGxIZWlnaHQ6IGRvYy5zY3JvbGxIZWlnaHQsXG4gICAgc2Nyb2xsV2lkdGg6IGRvYy5zY3JvbGxXaWR0aCxcbiAgICB3aWR0aDogZG9jLmNsaWVudFdpZHRoLFxuICAgIGhlaWdodDogZG9jLmNsaWVudEhlaWdodFxuICB9KTtcbiAgcmV0dXJuIG1heFNjcm9sbDtcbn0pO1xuXG52YXIgZ2V0Vmlld3BvcnQgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgc2Nyb2xsID0gZ2V0V2luZG93U2Nyb2xsKCk7XG4gIHZhciBtYXhTY3JvbGwgPSBnZXRNYXhXaW5kb3dTY3JvbGwoKTtcbiAgdmFyIHRvcCA9IHNjcm9sbC55O1xuICB2YXIgbGVmdCA9IHNjcm9sbC54O1xuICB2YXIgZG9jID0gZ2V0RG9jdW1lbnRFbGVtZW50KCk7XG4gIHZhciB3aWR0aCA9IGRvYy5jbGllbnRXaWR0aDtcbiAgdmFyIGhlaWdodCA9IGRvYy5jbGllbnRIZWlnaHQ7XG4gIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDtcbiAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDtcbiAgdmFyIGZyYW1lID0gZ2V0UmVjdCh7XG4gICAgdG9wOiB0b3AsXG4gICAgbGVmdDogbGVmdCxcbiAgICByaWdodDogcmlnaHQsXG4gICAgYm90dG9tOiBib3R0b21cbiAgfSk7XG4gIHZhciB2aWV3cG9ydCA9IHtcbiAgICBmcmFtZTogZnJhbWUsXG4gICAgc2Nyb2xsOiB7XG4gICAgICBpbml0aWFsOiBzY3JvbGwsXG4gICAgICBjdXJyZW50OiBzY3JvbGwsXG4gICAgICBtYXg6IG1heFNjcm9sbCxcbiAgICAgIGRpZmY6IHtcbiAgICAgICAgdmFsdWU6IG9yaWdpbixcbiAgICAgICAgZGlzcGxhY2VtZW50OiBvcmlnaW5cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiB2aWV3cG9ydDtcbn0pO1xuXG52YXIgZ2V0SW5pdGlhbFB1Ymxpc2ggPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGNyaXRpY2FsID0gX3JlZi5jcml0aWNhbCxcbiAgICAgIHNjcm9sbE9wdGlvbnMgPSBfcmVmLnNjcm9sbE9wdGlvbnMsXG4gICAgICByZWdpc3RyeSA9IF9yZWYucmVnaXN0cnk7XG4gIHN0YXJ0KCk7XG4gIHZhciB2aWV3cG9ydCA9IGdldFZpZXdwb3J0KCk7XG4gIHZhciB3aW5kb3dTY3JvbGwgPSB2aWV3cG9ydC5zY3JvbGwuY3VycmVudDtcbiAgdmFyIGhvbWUgPSBjcml0aWNhbC5kcm9wcGFibGU7XG4gIHZhciBkcm9wcGFibGVzID0gcmVnaXN0cnkuZHJvcHBhYmxlLmdldEFsbEJ5VHlwZShob21lLnR5cGUpLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICByZXR1cm4gZW50cnkuY2FsbGJhY2tzLmdldERpbWVuc2lvbkFuZFdhdGNoU2Nyb2xsKHdpbmRvd1Njcm9sbCwgc2Nyb2xsT3B0aW9ucyk7XG4gIH0pO1xuICB2YXIgZHJhZ2dhYmxlcyA9IHJlZ2lzdHJ5LmRyYWdnYWJsZS5nZXRBbGxCeVR5cGUoY3JpdGljYWwuZHJhZ2dhYmxlLnR5cGUpLm1hcChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICByZXR1cm4gZW50cnkuZ2V0RGltZW5zaW9uKHdpbmRvd1Njcm9sbCk7XG4gIH0pO1xuICB2YXIgZGltZW5zaW9ucyA9IHtcbiAgICBkcmFnZ2FibGVzOiB0b0RyYWdnYWJsZU1hcChkcmFnZ2FibGVzKSxcbiAgICBkcm9wcGFibGVzOiB0b0Ryb3BwYWJsZU1hcChkcm9wcGFibGVzKVxuICB9O1xuICBmaW5pc2goKTtcbiAgdmFyIHJlc3VsdCA9IHtcbiAgICBkaW1lbnNpb25zOiBkaW1lbnNpb25zLFxuICAgIGNyaXRpY2FsOiBjcml0aWNhbCxcbiAgICB2aWV3cG9ydDogdmlld3BvcnRcbiAgfTtcbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuXG5mdW5jdGlvbiBzaG91bGRQdWJsaXNoVXBkYXRlKHJlZ2lzdHJ5LCBkcmFnZ2luZywgZW50cnkpIHtcbiAgaWYgKGVudHJ5LmRlc2NyaXB0b3IuaWQgPT09IGRyYWdnaW5nLmlkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGVudHJ5LmRlc2NyaXB0b3IudHlwZSAhPT0gZHJhZ2dpbmcudHlwZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBob21lID0gcmVnaXN0cnkuZHJvcHBhYmxlLmdldEJ5SWQoZW50cnkuZGVzY3JpcHRvci5kcm9wcGFibGVJZCk7XG5cbiAgaWYgKGhvbWUuZGVzY3JpcHRvci5tb2RlICE9PSAndmlydHVhbCcpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiXFxuICAgICAgWW91IGFyZSBhdHRlbXB0aW5nIHRvIGFkZCBvciByZW1vdmUgYSBEcmFnZ2FibGUgW2lkOiBcIiArIGVudHJ5LmRlc2NyaXB0b3IuaWQgKyBcIl1cXG4gICAgICB3aGlsZSBhIGRyYWcgaXMgb2NjdXJyaW5nLiBUaGlzIGlzIG9ubHkgc3VwcG9ydGVkIGZvciB2aXJ0dWFsIGxpc3RzLlxcblxcbiAgICAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYXRsYXNzaWFuL3JlYWN0LWJlYXV0aWZ1bC1kbmQvYmxvYi9tYXN0ZXIvZG9jcy9wYXR0ZXJucy92aXJ0dWFsLWxpc3RzLm1kXFxuICAgIFwiKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxudmFyIGNyZWF0ZURpbWVuc2lvbk1hcnNoYWwgPSAoZnVuY3Rpb24gKHJlZ2lzdHJ5LCBjYWxsYmFja3MpIHtcbiAgdmFyIGNvbGxlY3Rpb24gPSBudWxsO1xuICB2YXIgcHVibGlzaGVyID0gY3JlYXRlUHVibGlzaGVyKHtcbiAgICBjYWxsYmFja3M6IHtcbiAgICAgIHB1Ymxpc2g6IGNhbGxiYWNrcy5wdWJsaXNoV2hpbGVEcmFnZ2luZyxcbiAgICAgIGNvbGxlY3Rpb25TdGFydGluZzogY2FsbGJhY2tzLmNvbGxlY3Rpb25TdGFydGluZ1xuICAgIH0sXG4gICAgcmVnaXN0cnk6IHJlZ2lzdHJ5XG4gIH0pO1xuXG4gIHZhciB1cGRhdGVEcm9wcGFibGVJc0VuYWJsZWQgPSBmdW5jdGlvbiB1cGRhdGVEcm9wcGFibGVJc0VuYWJsZWQoaWQsIGlzRW5hYmxlZCkge1xuICAgICFyZWdpc3RyeS5kcm9wcGFibGUuZXhpc3RzKGlkKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJDYW5ub3QgdXBkYXRlIGlzIGVuYWJsZWQgZmxhZyBvZiBEcm9wcGFibGUgXCIgKyBpZCArIFwiIGFzIGl0IGlzIG5vdCByZWdpc3RlcmVkXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcblxuICAgIGlmICghY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNhbGxiYWNrcy51cGRhdGVEcm9wcGFibGVJc0VuYWJsZWQoe1xuICAgICAgaWQ6IGlkLFxuICAgICAgaXNFbmFibGVkOiBpc0VuYWJsZWRcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgdXBkYXRlRHJvcHBhYmxlSXNDb21iaW5lRW5hYmxlZCA9IGZ1bmN0aW9uIHVwZGF0ZURyb3BwYWJsZUlzQ29tYmluZUVuYWJsZWQoaWQsIGlzQ29tYmluZUVuYWJsZWQpIHtcbiAgICBpZiAoIWNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAhcmVnaXN0cnkuZHJvcHBhYmxlLmV4aXN0cyhpZCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiQ2Fubm90IHVwZGF0ZSBpc0NvbWJpbmVFbmFibGVkIGZsYWcgb2YgRHJvcHBhYmxlIFwiICsgaWQgKyBcIiBhcyBpdCBpcyBub3QgcmVnaXN0ZXJlZFwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgY2FsbGJhY2tzLnVwZGF0ZURyb3BwYWJsZUlzQ29tYmluZUVuYWJsZWQoe1xuICAgICAgaWQ6IGlkLFxuICAgICAgaXNDb21iaW5lRW5hYmxlZDogaXNDb21iaW5lRW5hYmxlZFxuICAgIH0pO1xuICB9O1xuXG4gIHZhciB1cGRhdGVEcm9wcGFibGVTY3JvbGwgPSBmdW5jdGlvbiB1cGRhdGVEcm9wcGFibGVTY3JvbGwoaWQsIG5ld1Njcm9sbCkge1xuICAgIGlmICghY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgICFyZWdpc3RyeS5kcm9wcGFibGUuZXhpc3RzKGlkKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJDYW5ub3QgdXBkYXRlIHRoZSBzY3JvbGwgb24gRHJvcHBhYmxlIFwiICsgaWQgKyBcIiBhcyBpdCBpcyBub3QgcmVnaXN0ZXJlZFwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgY2FsbGJhY2tzLnVwZGF0ZURyb3BwYWJsZVNjcm9sbCh7XG4gICAgICBpZDogaWQsXG4gICAgICBuZXdTY3JvbGw6IG5ld1Njcm9sbFxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBzY3JvbGxEcm9wcGFibGUgPSBmdW5jdGlvbiBzY3JvbGxEcm9wcGFibGUoaWQsIGNoYW5nZSkge1xuICAgIGlmICghY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlZ2lzdHJ5LmRyb3BwYWJsZS5nZXRCeUlkKGlkKS5jYWxsYmFja3Muc2Nyb2xsKGNoYW5nZSk7XG4gIH07XG5cbiAgdmFyIHN0b3BQdWJsaXNoaW5nID0gZnVuY3Rpb24gc3RvcFB1Ymxpc2hpbmcoKSB7XG4gICAgaWYgKCFjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcHVibGlzaGVyLnN0b3AoKTtcbiAgICB2YXIgaG9tZSA9IGNvbGxlY3Rpb24uY3JpdGljYWwuZHJvcHBhYmxlO1xuICAgIHJlZ2lzdHJ5LmRyb3BwYWJsZS5nZXRBbGxCeVR5cGUoaG9tZS50eXBlKS5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgcmV0dXJuIGVudHJ5LmNhbGxiYWNrcy5kcmFnU3RvcHBlZCgpO1xuICAgIH0pO1xuICAgIGNvbGxlY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICBjb2xsZWN0aW9uID0gbnVsbDtcbiAgfTtcblxuICB2YXIgc3Vic2NyaWJlciA9IGZ1bmN0aW9uIHN1YnNjcmliZXIoZXZlbnQpIHtcbiAgICAhY29sbGVjdGlvbiA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ1Nob3VsZCBvbmx5IGJlIHN1YnNjcmliZWQgd2hlbiBhIGNvbGxlY3Rpb24gaXMgb2NjdXJyaW5nJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBkcmFnZ2luZyA9IGNvbGxlY3Rpb24uY3JpdGljYWwuZHJhZ2dhYmxlO1xuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdBRERJVElPTicpIHtcbiAgICAgIGlmIChzaG91bGRQdWJsaXNoVXBkYXRlKHJlZ2lzdHJ5LCBkcmFnZ2luZywgZXZlbnQudmFsdWUpKSB7XG4gICAgICAgIHB1Ymxpc2hlci5hZGQoZXZlbnQudmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChldmVudC50eXBlID09PSAnUkVNT1ZBTCcpIHtcbiAgICAgIGlmIChzaG91bGRQdWJsaXNoVXBkYXRlKHJlZ2lzdHJ5LCBkcmFnZ2luZywgZXZlbnQudmFsdWUpKSB7XG4gICAgICAgIHB1Ymxpc2hlci5yZW1vdmUoZXZlbnQudmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgc3RhcnRQdWJsaXNoaW5nID0gZnVuY3Rpb24gc3RhcnRQdWJsaXNoaW5nKHJlcXVlc3QpIHtcbiAgICAhIWNvbGxlY3Rpb24gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3Qgc3RhcnQgY2FwdHVyaW5nIGNyaXRpY2FsIGRpbWVuc2lvbnMgYXMgdGhlcmUgaXMgYWxyZWFkeSBhIGNvbGxlY3Rpb24nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGVudHJ5ID0gcmVnaXN0cnkuZHJhZ2dhYmxlLmdldEJ5SWQocmVxdWVzdC5kcmFnZ2FibGVJZCk7XG4gICAgdmFyIGhvbWUgPSByZWdpc3RyeS5kcm9wcGFibGUuZ2V0QnlJZChlbnRyeS5kZXNjcmlwdG9yLmRyb3BwYWJsZUlkKTtcbiAgICB2YXIgY3JpdGljYWwgPSB7XG4gICAgICBkcmFnZ2FibGU6IGVudHJ5LmRlc2NyaXB0b3IsXG4gICAgICBkcm9wcGFibGU6IGhvbWUuZGVzY3JpcHRvclxuICAgIH07XG4gICAgdmFyIHVuc3Vic2NyaWJlID0gcmVnaXN0cnkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIGNvbGxlY3Rpb24gPSB7XG4gICAgICBjcml0aWNhbDogY3JpdGljYWwsXG4gICAgICB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmVcbiAgICB9O1xuICAgIHJldHVybiBnZXRJbml0aWFsUHVibGlzaCh7XG4gICAgICBjcml0aWNhbDogY3JpdGljYWwsXG4gICAgICByZWdpc3RyeTogcmVnaXN0cnksXG4gICAgICBzY3JvbGxPcHRpb25zOiByZXF1ZXN0LnNjcm9sbE9wdGlvbnNcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgbWFyc2hhbCA9IHtcbiAgICB1cGRhdGVEcm9wcGFibGVJc0VuYWJsZWQ6IHVwZGF0ZURyb3BwYWJsZUlzRW5hYmxlZCxcbiAgICB1cGRhdGVEcm9wcGFibGVJc0NvbWJpbmVFbmFibGVkOiB1cGRhdGVEcm9wcGFibGVJc0NvbWJpbmVFbmFibGVkLFxuICAgIHNjcm9sbERyb3BwYWJsZTogc2Nyb2xsRHJvcHBhYmxlLFxuICAgIHVwZGF0ZURyb3BwYWJsZVNjcm9sbDogdXBkYXRlRHJvcHBhYmxlU2Nyb2xsLFxuICAgIHN0YXJ0UHVibGlzaGluZzogc3RhcnRQdWJsaXNoaW5nLFxuICAgIHN0b3BQdWJsaXNoaW5nOiBzdG9wUHVibGlzaGluZ1xuICB9O1xuICByZXR1cm4gbWFyc2hhbDtcbn0pO1xuXG52YXIgY2FuU3RhcnREcmFnID0gKGZ1bmN0aW9uIChzdGF0ZSwgaWQpIHtcbiAgaWYgKHN0YXRlLnBoYXNlID09PSAnSURMRScpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChzdGF0ZS5waGFzZSAhPT0gJ0RST1BfQU5JTUFUSU5HJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChzdGF0ZS5jb21wbGV0ZWQucmVzdWx0LmRyYWdnYWJsZUlkID09PSBpZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBzdGF0ZS5jb21wbGV0ZWQucmVzdWx0LnJlYXNvbiA9PT0gJ0RST1AnO1xufSk7XG5cbnZhciBzY3JvbGxXaW5kb3cgPSAoZnVuY3Rpb24gKGNoYW5nZSkge1xuICB3aW5kb3cuc2Nyb2xsQnkoY2hhbmdlLngsIGNoYW5nZS55KTtcbn0pO1xuXG52YXIgZ2V0U2Nyb2xsYWJsZURyb3BwYWJsZXMgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChkcm9wcGFibGVzKSB7XG4gIHJldHVybiB0b0Ryb3BwYWJsZUxpc3QoZHJvcHBhYmxlcykuZmlsdGVyKGZ1bmN0aW9uIChkcm9wcGFibGUpIHtcbiAgICBpZiAoIWRyb3BwYWJsZS5pc0VuYWJsZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIWRyb3BwYWJsZS5mcmFtZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn0pO1xuXG52YXIgZ2V0U2Nyb2xsYWJsZURyb3BwYWJsZU92ZXIgPSBmdW5jdGlvbiBnZXRTY3JvbGxhYmxlRHJvcHBhYmxlT3Zlcih0YXJnZXQsIGRyb3BwYWJsZXMpIHtcbiAgdmFyIG1heWJlID0gZmluZChnZXRTY3JvbGxhYmxlRHJvcHBhYmxlcyhkcm9wcGFibGVzKSwgZnVuY3Rpb24gKGRyb3BwYWJsZSkge1xuICAgICFkcm9wcGFibGUuZnJhbWUgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdJbnZhbGlkIHJlc3VsdCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gaXNQb3NpdGlvbkluRnJhbWUoZHJvcHBhYmxlLmZyYW1lLnBhZ2VNYXJnaW5Cb3gpKHRhcmdldCk7XG4gIH0pO1xuICByZXR1cm4gbWF5YmU7XG59O1xuXG52YXIgZ2V0QmVzdFNjcm9sbGFibGVEcm9wcGFibGUgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGNlbnRlciA9IF9yZWYuY2VudGVyLFxuICAgICAgZGVzdGluYXRpb24gPSBfcmVmLmRlc3RpbmF0aW9uLFxuICAgICAgZHJvcHBhYmxlcyA9IF9yZWYuZHJvcHBhYmxlcztcblxuICBpZiAoZGVzdGluYXRpb24pIHtcbiAgICB2YXIgX2RpbWVuc2lvbiA9IGRyb3BwYWJsZXNbZGVzdGluYXRpb25dO1xuXG4gICAgaWYgKCFfZGltZW5zaW9uLmZyYW1lKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2RpbWVuc2lvbjtcbiAgfVxuXG4gIHZhciBkaW1lbnNpb24gPSBnZXRTY3JvbGxhYmxlRHJvcHBhYmxlT3ZlcihjZW50ZXIsIGRyb3BwYWJsZXMpO1xuICByZXR1cm4gZGltZW5zaW9uO1xufSk7XG5cbnZhciBjb25maWcgPSB7XG4gIHN0YXJ0RnJvbVBlcmNlbnRhZ2U6IDAuMjUsXG4gIG1heFNjcm9sbEF0UGVyY2VudGFnZTogMC4wNSxcbiAgbWF4UGl4ZWxTY3JvbGw6IDI4LFxuICBlYXNlOiBmdW5jdGlvbiBlYXNlKHBlcmNlbnRhZ2UpIHtcbiAgICByZXR1cm4gTWF0aC5wb3cocGVyY2VudGFnZSwgMik7XG4gIH0sXG4gIGR1cmF0aW9uRGFtcGVuaW5nOiB7XG4gICAgc3RvcERhbXBlbmluZ0F0OiAxMjAwLFxuICAgIGFjY2VsZXJhdGVBdDogMzYwXG4gIH1cbn07XG5cbnZhciBnZXREaXN0YW5jZVRocmVzaG9sZHMgPSAoZnVuY3Rpb24gKGNvbnRhaW5lciwgYXhpcykge1xuICB2YXIgc3RhcnRTY3JvbGxpbmdGcm9tID0gY29udGFpbmVyW2F4aXMuc2l6ZV0gKiBjb25maWcuc3RhcnRGcm9tUGVyY2VudGFnZTtcbiAgdmFyIG1heFNjcm9sbFZhbHVlQXQgPSBjb250YWluZXJbYXhpcy5zaXplXSAqIGNvbmZpZy5tYXhTY3JvbGxBdFBlcmNlbnRhZ2U7XG4gIHZhciB0aHJlc2hvbGRzID0ge1xuICAgIHN0YXJ0U2Nyb2xsaW5nRnJvbTogc3RhcnRTY3JvbGxpbmdGcm9tLFxuICAgIG1heFNjcm9sbFZhbHVlQXQ6IG1heFNjcm9sbFZhbHVlQXRcbiAgfTtcbiAgcmV0dXJuIHRocmVzaG9sZHM7XG59KTtcblxudmFyIGdldFBlcmNlbnRhZ2UgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIHN0YXJ0T2ZSYW5nZSA9IF9yZWYuc3RhcnRPZlJhbmdlLFxuICAgICAgZW5kT2ZSYW5nZSA9IF9yZWYuZW5kT2ZSYW5nZSxcbiAgICAgIGN1cnJlbnQgPSBfcmVmLmN1cnJlbnQ7XG4gIHZhciByYW5nZSA9IGVuZE9mUmFuZ2UgLSBzdGFydE9mUmFuZ2U7XG5cbiAgaWYgKHJhbmdlID09PSAwKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhcIlxcbiAgICAgIERldGVjdGVkIGRpc3RhbmNlIHJhbmdlIG9mIDAgaW4gdGhlIGZsdWlkIGF1dG8gc2Nyb2xsZXJcXG4gICAgICBUaGlzIGlzIHVuZXhwZWN0ZWQgYW5kIHdvdWxkIGNhdXNlIGEgZGl2aWRlIGJ5IDAgaXNzdWUuXFxuICAgICAgTm90IGFsbG93aW5nIGFuIGF1dG8gc2Nyb2xsXFxuICAgIFwiKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHZhciBjdXJyZW50SW5SYW5nZSA9IGN1cnJlbnQgLSBzdGFydE9mUmFuZ2U7XG4gIHZhciBwZXJjZW50YWdlID0gY3VycmVudEluUmFuZ2UgLyByYW5nZTtcbiAgcmV0dXJuIHBlcmNlbnRhZ2U7XG59KTtcblxudmFyIG1pblNjcm9sbCA9IDE7XG5cbnZhciBnZXRWYWx1ZUZyb21EaXN0YW5jZSA9IChmdW5jdGlvbiAoZGlzdGFuY2VUb0VkZ2UsIHRocmVzaG9sZHMpIHtcbiAgaWYgKGRpc3RhbmNlVG9FZGdlID4gdGhyZXNob2xkcy5zdGFydFNjcm9sbGluZ0Zyb20pIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGlmIChkaXN0YW5jZVRvRWRnZSA8PSB0aHJlc2hvbGRzLm1heFNjcm9sbFZhbHVlQXQpIHtcbiAgICByZXR1cm4gY29uZmlnLm1heFBpeGVsU2Nyb2xsO1xuICB9XG5cbiAgaWYgKGRpc3RhbmNlVG9FZGdlID09PSB0aHJlc2hvbGRzLnN0YXJ0U2Nyb2xsaW5nRnJvbSkge1xuICAgIHJldHVybiBtaW5TY3JvbGw7XG4gIH1cblxuICB2YXIgcGVyY2VudGFnZUZyb21NYXhTY3JvbGxWYWx1ZUF0ID0gZ2V0UGVyY2VudGFnZSh7XG4gICAgc3RhcnRPZlJhbmdlOiB0aHJlc2hvbGRzLm1heFNjcm9sbFZhbHVlQXQsXG4gICAgZW5kT2ZSYW5nZTogdGhyZXNob2xkcy5zdGFydFNjcm9sbGluZ0Zyb20sXG4gICAgY3VycmVudDogZGlzdGFuY2VUb0VkZ2VcbiAgfSk7XG4gIHZhciBwZXJjZW50YWdlRnJvbVN0YXJ0U2Nyb2xsaW5nRnJvbSA9IDEgLSBwZXJjZW50YWdlRnJvbU1heFNjcm9sbFZhbHVlQXQ7XG4gIHZhciBzY3JvbGwgPSBjb25maWcubWF4UGl4ZWxTY3JvbGwgKiBjb25maWcuZWFzZShwZXJjZW50YWdlRnJvbVN0YXJ0U2Nyb2xsaW5nRnJvbSk7XG4gIHJldHVybiBNYXRoLmNlaWwoc2Nyb2xsKTtcbn0pO1xuXG52YXIgYWNjZWxlcmF0ZUF0ID0gY29uZmlnLmR1cmF0aW9uRGFtcGVuaW5nLmFjY2VsZXJhdGVBdDtcbnZhciBzdG9wQXQgPSBjb25maWcuZHVyYXRpb25EYW1wZW5pbmcuc3RvcERhbXBlbmluZ0F0O1xudmFyIGRhbXBlblZhbHVlQnlUaW1lID0gKGZ1bmN0aW9uIChwcm9wb3NlZFNjcm9sbCwgZHJhZ1N0YXJ0VGltZSkge1xuICB2YXIgc3RhcnRPZlJhbmdlID0gZHJhZ1N0YXJ0VGltZTtcbiAgdmFyIGVuZE9mUmFuZ2UgPSBzdG9wQXQ7XG4gIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICB2YXIgcnVuVGltZSA9IG5vdyAtIHN0YXJ0T2ZSYW5nZTtcblxuICBpZiAocnVuVGltZSA+PSBzdG9wQXQpIHtcbiAgICByZXR1cm4gcHJvcG9zZWRTY3JvbGw7XG4gIH1cblxuICBpZiAocnVuVGltZSA8IGFjY2VsZXJhdGVBdCkge1xuICAgIHJldHVybiBtaW5TY3JvbGw7XG4gIH1cblxuICB2YXIgYmV0d2VlbkFjY2VsZXJhdGVBdEFuZFN0b3BBdFBlcmNlbnRhZ2UgPSBnZXRQZXJjZW50YWdlKHtcbiAgICBzdGFydE9mUmFuZ2U6IGFjY2VsZXJhdGVBdCxcbiAgICBlbmRPZlJhbmdlOiBlbmRPZlJhbmdlLFxuICAgIGN1cnJlbnQ6IHJ1blRpbWVcbiAgfSk7XG4gIHZhciBzY3JvbGwgPSBwcm9wb3NlZFNjcm9sbCAqIGNvbmZpZy5lYXNlKGJldHdlZW5BY2NlbGVyYXRlQXRBbmRTdG9wQXRQZXJjZW50YWdlKTtcbiAgcmV0dXJuIE1hdGguY2VpbChzY3JvbGwpO1xufSk7XG5cbnZhciBnZXRWYWx1ZSA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZGlzdGFuY2VUb0VkZ2UgPSBfcmVmLmRpc3RhbmNlVG9FZGdlLFxuICAgICAgdGhyZXNob2xkcyA9IF9yZWYudGhyZXNob2xkcyxcbiAgICAgIGRyYWdTdGFydFRpbWUgPSBfcmVmLmRyYWdTdGFydFRpbWUsXG4gICAgICBzaG91bGRVc2VUaW1lRGFtcGVuaW5nID0gX3JlZi5zaG91bGRVc2VUaW1lRGFtcGVuaW5nO1xuICB2YXIgc2Nyb2xsID0gZ2V0VmFsdWVGcm9tRGlzdGFuY2UoZGlzdGFuY2VUb0VkZ2UsIHRocmVzaG9sZHMpO1xuXG4gIGlmIChzY3JvbGwgPT09IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGlmICghc2hvdWxkVXNlVGltZURhbXBlbmluZykge1xuICAgIHJldHVybiBzY3JvbGw7XG4gIH1cblxuICByZXR1cm4gTWF0aC5tYXgoZGFtcGVuVmFsdWVCeVRpbWUoc2Nyb2xsLCBkcmFnU3RhcnRUaW1lKSwgbWluU2Nyb2xsKTtcbn0pO1xuXG52YXIgZ2V0U2Nyb2xsT25BeGlzID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBjb250YWluZXIgPSBfcmVmLmNvbnRhaW5lcixcbiAgICAgIGRpc3RhbmNlVG9FZGdlcyA9IF9yZWYuZGlzdGFuY2VUb0VkZ2VzLFxuICAgICAgZHJhZ1N0YXJ0VGltZSA9IF9yZWYuZHJhZ1N0YXJ0VGltZSxcbiAgICAgIGF4aXMgPSBfcmVmLmF4aXMsXG4gICAgICBzaG91bGRVc2VUaW1lRGFtcGVuaW5nID0gX3JlZi5zaG91bGRVc2VUaW1lRGFtcGVuaW5nO1xuICB2YXIgdGhyZXNob2xkcyA9IGdldERpc3RhbmNlVGhyZXNob2xkcyhjb250YWluZXIsIGF4aXMpO1xuICB2YXIgaXNDbG9zZXJUb0VuZCA9IGRpc3RhbmNlVG9FZGdlc1theGlzLmVuZF0gPCBkaXN0YW5jZVRvRWRnZXNbYXhpcy5zdGFydF07XG5cbiAgaWYgKGlzQ2xvc2VyVG9FbmQpIHtcbiAgICByZXR1cm4gZ2V0VmFsdWUoe1xuICAgICAgZGlzdGFuY2VUb0VkZ2U6IGRpc3RhbmNlVG9FZGdlc1theGlzLmVuZF0sXG4gICAgICB0aHJlc2hvbGRzOiB0aHJlc2hvbGRzLFxuICAgICAgZHJhZ1N0YXJ0VGltZTogZHJhZ1N0YXJ0VGltZSxcbiAgICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmc6IHNob3VsZFVzZVRpbWVEYW1wZW5pbmdcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiAtMSAqIGdldFZhbHVlKHtcbiAgICBkaXN0YW5jZVRvRWRnZTogZGlzdGFuY2VUb0VkZ2VzW2F4aXMuc3RhcnRdLFxuICAgIHRocmVzaG9sZHM6IHRocmVzaG9sZHMsXG4gICAgZHJhZ1N0YXJ0VGltZTogZHJhZ1N0YXJ0VGltZSxcbiAgICBzaG91bGRVc2VUaW1lRGFtcGVuaW5nOiBzaG91bGRVc2VUaW1lRGFtcGVuaW5nXG4gIH0pO1xufSk7XG5cbnZhciBhZGp1c3RGb3JTaXplTGltaXRzID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBjb250YWluZXIgPSBfcmVmLmNvbnRhaW5lcixcbiAgICAgIHN1YmplY3QgPSBfcmVmLnN1YmplY3QsXG4gICAgICBwcm9wb3NlZFNjcm9sbCA9IF9yZWYucHJvcG9zZWRTY3JvbGw7XG4gIHZhciBpc1Rvb0JpZ1ZlcnRpY2FsbHkgPSBzdWJqZWN0LmhlaWdodCA+IGNvbnRhaW5lci5oZWlnaHQ7XG4gIHZhciBpc1Rvb0JpZ0hvcml6b250YWxseSA9IHN1YmplY3Qud2lkdGggPiBjb250YWluZXIud2lkdGg7XG5cbiAgaWYgKCFpc1Rvb0JpZ0hvcml6b250YWxseSAmJiAhaXNUb29CaWdWZXJ0aWNhbGx5KSB7XG4gICAgcmV0dXJuIHByb3Bvc2VkU2Nyb2xsO1xuICB9XG5cbiAgaWYgKGlzVG9vQmlnSG9yaXpvbnRhbGx5ICYmIGlzVG9vQmlnVmVydGljYWxseSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB4OiBpc1Rvb0JpZ0hvcml6b250YWxseSA/IDAgOiBwcm9wb3NlZFNjcm9sbC54LFxuICAgIHk6IGlzVG9vQmlnVmVydGljYWxseSA/IDAgOiBwcm9wb3NlZFNjcm9sbC55XG4gIH07XG59KTtcblxudmFyIGNsZWFuJDIgPSBhcHBseShmdW5jdGlvbiAodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSAwID8gMCA6IHZhbHVlO1xufSk7XG52YXIgZ2V0U2Nyb2xsID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBkcmFnU3RhcnRUaW1lID0gX3JlZi5kcmFnU3RhcnRUaW1lLFxuICAgICAgY29udGFpbmVyID0gX3JlZi5jb250YWluZXIsXG4gICAgICBzdWJqZWN0ID0gX3JlZi5zdWJqZWN0LFxuICAgICAgY2VudGVyID0gX3JlZi5jZW50ZXIsXG4gICAgICBzaG91bGRVc2VUaW1lRGFtcGVuaW5nID0gX3JlZi5zaG91bGRVc2VUaW1lRGFtcGVuaW5nO1xuICB2YXIgZGlzdGFuY2VUb0VkZ2VzID0ge1xuICAgIHRvcDogY2VudGVyLnkgLSBjb250YWluZXIudG9wLFxuICAgIHJpZ2h0OiBjb250YWluZXIucmlnaHQgLSBjZW50ZXIueCxcbiAgICBib3R0b206IGNvbnRhaW5lci5ib3R0b20gLSBjZW50ZXIueSxcbiAgICBsZWZ0OiBjZW50ZXIueCAtIGNvbnRhaW5lci5sZWZ0XG4gIH07XG4gIHZhciB5ID0gZ2V0U2Nyb2xsT25BeGlzKHtcbiAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICBkaXN0YW5jZVRvRWRnZXM6IGRpc3RhbmNlVG9FZGdlcyxcbiAgICBkcmFnU3RhcnRUaW1lOiBkcmFnU3RhcnRUaW1lLFxuICAgIGF4aXM6IHZlcnRpY2FsLFxuICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmc6IHNob3VsZFVzZVRpbWVEYW1wZW5pbmdcbiAgfSk7XG4gIHZhciB4ID0gZ2V0U2Nyb2xsT25BeGlzKHtcbiAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICBkaXN0YW5jZVRvRWRnZXM6IGRpc3RhbmNlVG9FZGdlcyxcbiAgICBkcmFnU3RhcnRUaW1lOiBkcmFnU3RhcnRUaW1lLFxuICAgIGF4aXM6IGhvcml6b250YWwsXG4gICAgc2hvdWxkVXNlVGltZURhbXBlbmluZzogc2hvdWxkVXNlVGltZURhbXBlbmluZ1xuICB9KTtcbiAgdmFyIHJlcXVpcmVkID0gY2xlYW4kMih7XG4gICAgeDogeCxcbiAgICB5OiB5XG4gIH0pO1xuXG4gIGlmIChpc0VxdWFsKHJlcXVpcmVkLCBvcmlnaW4pKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgbGltaXRlZCA9IGFkanVzdEZvclNpemVMaW1pdHMoe1xuICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgIHN1YmplY3Q6IHN1YmplY3QsXG4gICAgcHJvcG9zZWRTY3JvbGw6IHJlcXVpcmVkXG4gIH0pO1xuXG4gIGlmICghbGltaXRlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGlzRXF1YWwobGltaXRlZCwgb3JpZ2luKSA/IG51bGwgOiBsaW1pdGVkO1xufSk7XG5cbnZhciBzbWFsbGVzdFNpZ25lZCA9IGFwcGx5KGZ1bmN0aW9uICh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IDApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZSA+IDAgPyAxIDogLTE7XG59KTtcbnZhciBnZXRPdmVybGFwID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZ2V0UmVtYWluZGVyID0gZnVuY3Rpb24gZ2V0UmVtYWluZGVyKHRhcmdldCwgbWF4KSB7XG4gICAgaWYgKHRhcmdldCA8IDApIHtcbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgaWYgKHRhcmdldCA+IG1heCkge1xuICAgICAgcmV0dXJuIHRhcmdldCAtIG1heDtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgY3VycmVudCA9IF9yZWYuY3VycmVudCxcbiAgICAgICAgbWF4ID0gX3JlZi5tYXgsXG4gICAgICAgIGNoYW5nZSA9IF9yZWYuY2hhbmdlO1xuICAgIHZhciB0YXJnZXRTY3JvbGwgPSBhZGQoY3VycmVudCwgY2hhbmdlKTtcbiAgICB2YXIgb3ZlcmxhcCA9IHtcbiAgICAgIHg6IGdldFJlbWFpbmRlcih0YXJnZXRTY3JvbGwueCwgbWF4LngpLFxuICAgICAgeTogZ2V0UmVtYWluZGVyKHRhcmdldFNjcm9sbC55LCBtYXgueSlcbiAgICB9O1xuXG4gICAgaWYgKGlzRXF1YWwob3ZlcmxhcCwgb3JpZ2luKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG92ZXJsYXA7XG4gIH07XG59KCk7XG52YXIgY2FuUGFydGlhbGx5U2Nyb2xsID0gZnVuY3Rpb24gY2FuUGFydGlhbGx5U2Nyb2xsKF9yZWYyKSB7XG4gIHZhciByYXdNYXggPSBfcmVmMi5tYXgsXG4gICAgICBjdXJyZW50ID0gX3JlZjIuY3VycmVudCxcbiAgICAgIGNoYW5nZSA9IF9yZWYyLmNoYW5nZTtcbiAgdmFyIG1heCA9IHtcbiAgICB4OiBNYXRoLm1heChjdXJyZW50LngsIHJhd01heC54KSxcbiAgICB5OiBNYXRoLm1heChjdXJyZW50LnksIHJhd01heC55KVxuICB9O1xuICB2YXIgc21hbGxlc3RDaGFuZ2UgPSBzbWFsbGVzdFNpZ25lZChjaGFuZ2UpO1xuICB2YXIgb3ZlcmxhcCA9IGdldE92ZXJsYXAoe1xuICAgIG1heDogbWF4LFxuICAgIGN1cnJlbnQ6IGN1cnJlbnQsXG4gICAgY2hhbmdlOiBzbWFsbGVzdENoYW5nZVxuICB9KTtcblxuICBpZiAoIW92ZXJsYXApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChzbWFsbGVzdENoYW5nZS54ICE9PSAwICYmIG92ZXJsYXAueCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHNtYWxsZXN0Q2hhbmdlLnkgIT09IDAgJiYgb3ZlcmxhcC55ID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xudmFyIGNhblNjcm9sbFdpbmRvdyA9IGZ1bmN0aW9uIGNhblNjcm9sbFdpbmRvdyh2aWV3cG9ydCwgY2hhbmdlKSB7XG4gIHJldHVybiBjYW5QYXJ0aWFsbHlTY3JvbGwoe1xuICAgIGN1cnJlbnQ6IHZpZXdwb3J0LnNjcm9sbC5jdXJyZW50LFxuICAgIG1heDogdmlld3BvcnQuc2Nyb2xsLm1heCxcbiAgICBjaGFuZ2U6IGNoYW5nZVxuICB9KTtcbn07XG52YXIgZ2V0V2luZG93T3ZlcmxhcCA9IGZ1bmN0aW9uIGdldFdpbmRvd092ZXJsYXAodmlld3BvcnQsIGNoYW5nZSkge1xuICBpZiAoIWNhblNjcm9sbFdpbmRvdyh2aWV3cG9ydCwgY2hhbmdlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIG1heCA9IHZpZXdwb3J0LnNjcm9sbC5tYXg7XG4gIHZhciBjdXJyZW50ID0gdmlld3BvcnQuc2Nyb2xsLmN1cnJlbnQ7XG4gIHJldHVybiBnZXRPdmVybGFwKHtcbiAgICBjdXJyZW50OiBjdXJyZW50LFxuICAgIG1heDogbWF4LFxuICAgIGNoYW5nZTogY2hhbmdlXG4gIH0pO1xufTtcbnZhciBjYW5TY3JvbGxEcm9wcGFibGUgPSBmdW5jdGlvbiBjYW5TY3JvbGxEcm9wcGFibGUoZHJvcHBhYmxlLCBjaGFuZ2UpIHtcbiAgdmFyIGZyYW1lID0gZHJvcHBhYmxlLmZyYW1lO1xuXG4gIGlmICghZnJhbWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gY2FuUGFydGlhbGx5U2Nyb2xsKHtcbiAgICBjdXJyZW50OiBmcmFtZS5zY3JvbGwuY3VycmVudCxcbiAgICBtYXg6IGZyYW1lLnNjcm9sbC5tYXgsXG4gICAgY2hhbmdlOiBjaGFuZ2VcbiAgfSk7XG59O1xudmFyIGdldERyb3BwYWJsZU92ZXJsYXAgPSBmdW5jdGlvbiBnZXREcm9wcGFibGVPdmVybGFwKGRyb3BwYWJsZSwgY2hhbmdlKSB7XG4gIHZhciBmcmFtZSA9IGRyb3BwYWJsZS5mcmFtZTtcblxuICBpZiAoIWZyYW1lKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoIWNhblNjcm9sbERyb3BwYWJsZShkcm9wcGFibGUsIGNoYW5nZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBnZXRPdmVybGFwKHtcbiAgICBjdXJyZW50OiBmcmFtZS5zY3JvbGwuY3VycmVudCxcbiAgICBtYXg6IGZyYW1lLnNjcm9sbC5tYXgsXG4gICAgY2hhbmdlOiBjaGFuZ2VcbiAgfSk7XG59O1xuXG52YXIgZ2V0V2luZG93U2Nyb2xsQ2hhbmdlID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciB2aWV3cG9ydCA9IF9yZWYudmlld3BvcnQsXG4gICAgICBzdWJqZWN0ID0gX3JlZi5zdWJqZWN0LFxuICAgICAgY2VudGVyID0gX3JlZi5jZW50ZXIsXG4gICAgICBkcmFnU3RhcnRUaW1lID0gX3JlZi5kcmFnU3RhcnRUaW1lLFxuICAgICAgc2hvdWxkVXNlVGltZURhbXBlbmluZyA9IF9yZWYuc2hvdWxkVXNlVGltZURhbXBlbmluZztcbiAgdmFyIHNjcm9sbCA9IGdldFNjcm9sbCh7XG4gICAgZHJhZ1N0YXJ0VGltZTogZHJhZ1N0YXJ0VGltZSxcbiAgICBjb250YWluZXI6IHZpZXdwb3J0LmZyYW1lLFxuICAgIHN1YmplY3Q6IHN1YmplY3QsXG4gICAgY2VudGVyOiBjZW50ZXIsXG4gICAgc2hvdWxkVXNlVGltZURhbXBlbmluZzogc2hvdWxkVXNlVGltZURhbXBlbmluZ1xuICB9KTtcbiAgcmV0dXJuIHNjcm9sbCAmJiBjYW5TY3JvbGxXaW5kb3codmlld3BvcnQsIHNjcm9sbCkgPyBzY3JvbGwgOiBudWxsO1xufSk7XG5cbnZhciBnZXREcm9wcGFibGVTY3JvbGxDaGFuZ2UgPSAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIGRyb3BwYWJsZSA9IF9yZWYuZHJvcHBhYmxlLFxuICAgICAgc3ViamVjdCA9IF9yZWYuc3ViamVjdCxcbiAgICAgIGNlbnRlciA9IF9yZWYuY2VudGVyLFxuICAgICAgZHJhZ1N0YXJ0VGltZSA9IF9yZWYuZHJhZ1N0YXJ0VGltZSxcbiAgICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmcgPSBfcmVmLnNob3VsZFVzZVRpbWVEYW1wZW5pbmc7XG4gIHZhciBmcmFtZSA9IGRyb3BwYWJsZS5mcmFtZTtcblxuICBpZiAoIWZyYW1lKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgc2Nyb2xsID0gZ2V0U2Nyb2xsKHtcbiAgICBkcmFnU3RhcnRUaW1lOiBkcmFnU3RhcnRUaW1lLFxuICAgIGNvbnRhaW5lcjogZnJhbWUucGFnZU1hcmdpbkJveCxcbiAgICBzdWJqZWN0OiBzdWJqZWN0LFxuICAgIGNlbnRlcjogY2VudGVyLFxuICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmc6IHNob3VsZFVzZVRpbWVEYW1wZW5pbmdcbiAgfSk7XG4gIHJldHVybiBzY3JvbGwgJiYgY2FuU2Nyb2xsRHJvcHBhYmxlKGRyb3BwYWJsZSwgc2Nyb2xsKSA/IHNjcm9sbCA6IG51bGw7XG59KTtcblxudmFyIHNjcm9sbCQxID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgICBkcmFnU3RhcnRUaW1lID0gX3JlZi5kcmFnU3RhcnRUaW1lLFxuICAgICAgc2hvdWxkVXNlVGltZURhbXBlbmluZyA9IF9yZWYuc2hvdWxkVXNlVGltZURhbXBlbmluZyxcbiAgICAgIHNjcm9sbFdpbmRvdyA9IF9yZWYuc2Nyb2xsV2luZG93LFxuICAgICAgc2Nyb2xsRHJvcHBhYmxlID0gX3JlZi5zY3JvbGxEcm9wcGFibGU7XG4gIHZhciBjZW50ZXIgPSBzdGF0ZS5jdXJyZW50LnBhZ2UuYm9yZGVyQm94Q2VudGVyO1xuICB2YXIgZHJhZ2dhYmxlID0gc3RhdGUuZGltZW5zaW9ucy5kcmFnZ2FibGVzW3N0YXRlLmNyaXRpY2FsLmRyYWdnYWJsZS5pZF07XG4gIHZhciBzdWJqZWN0ID0gZHJhZ2dhYmxlLnBhZ2UubWFyZ2luQm94O1xuXG4gIGlmIChzdGF0ZS5pc1dpbmRvd1Njcm9sbEFsbG93ZWQpIHtcbiAgICB2YXIgdmlld3BvcnQgPSBzdGF0ZS52aWV3cG9ydDtcblxuICAgIHZhciBfY2hhbmdlID0gZ2V0V2luZG93U2Nyb2xsQ2hhbmdlKHtcbiAgICAgIGRyYWdTdGFydFRpbWU6IGRyYWdTdGFydFRpbWUsXG4gICAgICB2aWV3cG9ydDogdmlld3BvcnQsXG4gICAgICBzdWJqZWN0OiBzdWJqZWN0LFxuICAgICAgY2VudGVyOiBjZW50ZXIsXG4gICAgICBzaG91bGRVc2VUaW1lRGFtcGVuaW5nOiBzaG91bGRVc2VUaW1lRGFtcGVuaW5nXG4gICAgfSk7XG5cbiAgICBpZiAoX2NoYW5nZSkge1xuICAgICAgc2Nyb2xsV2luZG93KF9jaGFuZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIHZhciBkcm9wcGFibGUgPSBnZXRCZXN0U2Nyb2xsYWJsZURyb3BwYWJsZSh7XG4gICAgY2VudGVyOiBjZW50ZXIsXG4gICAgZGVzdGluYXRpb246IHdoYXRJc0RyYWdnZWRPdmVyKHN0YXRlLmltcGFjdCksXG4gICAgZHJvcHBhYmxlczogc3RhdGUuZGltZW5zaW9ucy5kcm9wcGFibGVzXG4gIH0pO1xuXG4gIGlmICghZHJvcHBhYmxlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGNoYW5nZSA9IGdldERyb3BwYWJsZVNjcm9sbENoYW5nZSh7XG4gICAgZHJhZ1N0YXJ0VGltZTogZHJhZ1N0YXJ0VGltZSxcbiAgICBkcm9wcGFibGU6IGRyb3BwYWJsZSxcbiAgICBzdWJqZWN0OiBzdWJqZWN0LFxuICAgIGNlbnRlcjogY2VudGVyLFxuICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmc6IHNob3VsZFVzZVRpbWVEYW1wZW5pbmdcbiAgfSk7XG5cbiAgaWYgKGNoYW5nZSkge1xuICAgIHNjcm9sbERyb3BwYWJsZShkcm9wcGFibGUuZGVzY3JpcHRvci5pZCwgY2hhbmdlKTtcbiAgfVxufSk7XG5cbnZhciBjcmVhdGVGbHVpZFNjcm9sbGVyID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBzY3JvbGxXaW5kb3cgPSBfcmVmLnNjcm9sbFdpbmRvdyxcbiAgICAgIHNjcm9sbERyb3BwYWJsZSA9IF9yZWYuc2Nyb2xsRHJvcHBhYmxlO1xuICB2YXIgc2NoZWR1bGVXaW5kb3dTY3JvbGwgPSByYWZTY2hkKHNjcm9sbFdpbmRvdyk7XG4gIHZhciBzY2hlZHVsZURyb3BwYWJsZVNjcm9sbCA9IHJhZlNjaGQoc2Nyb2xsRHJvcHBhYmxlKTtcbiAgdmFyIGRyYWdnaW5nID0gbnVsbDtcblxuICB2YXIgdHJ5U2Nyb2xsID0gZnVuY3Rpb24gdHJ5U2Nyb2xsKHN0YXRlKSB7XG4gICAgIWRyYWdnaW5nID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IGZsdWlkIHNjcm9sbCBpZiBub3QgZHJhZ2dpbmcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIF9kcmFnZ2luZyA9IGRyYWdnaW5nLFxuICAgICAgICBzaG91bGRVc2VUaW1lRGFtcGVuaW5nID0gX2RyYWdnaW5nLnNob3VsZFVzZVRpbWVEYW1wZW5pbmcsXG4gICAgICAgIGRyYWdTdGFydFRpbWUgPSBfZHJhZ2dpbmcuZHJhZ1N0YXJ0VGltZTtcbiAgICBzY3JvbGwkMSh7XG4gICAgICBzdGF0ZTogc3RhdGUsXG4gICAgICBzY3JvbGxXaW5kb3c6IHNjaGVkdWxlV2luZG93U2Nyb2xsLFxuICAgICAgc2Nyb2xsRHJvcHBhYmxlOiBzY2hlZHVsZURyb3BwYWJsZVNjcm9sbCxcbiAgICAgIGRyYWdTdGFydFRpbWU6IGRyYWdTdGFydFRpbWUsXG4gICAgICBzaG91bGRVc2VUaW1lRGFtcGVuaW5nOiBzaG91bGRVc2VUaW1lRGFtcGVuaW5nXG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHN0YXJ0JDEgPSBmdW5jdGlvbiBzdGFydCQxKHN0YXRlKSB7XG4gICAgc3RhcnQoKTtcbiAgICAhIWRyYWdnaW5nID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHN0YXJ0IGF1dG8gc2Nyb2xsaW5nIHdoZW4gYWxyZWFkeSBzdGFydGVkJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBkcmFnU3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB2YXIgd2FzU2Nyb2xsTmVlZGVkID0gZmFsc2U7XG5cbiAgICB2YXIgZmFrZVNjcm9sbENhbGxiYWNrID0gZnVuY3Rpb24gZmFrZVNjcm9sbENhbGxiYWNrKCkge1xuICAgICAgd2FzU2Nyb2xsTmVlZGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgc2Nyb2xsJDEoe1xuICAgICAgc3RhdGU6IHN0YXRlLFxuICAgICAgZHJhZ1N0YXJ0VGltZTogMCxcbiAgICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmc6IGZhbHNlLFxuICAgICAgc2Nyb2xsV2luZG93OiBmYWtlU2Nyb2xsQ2FsbGJhY2ssXG4gICAgICBzY3JvbGxEcm9wcGFibGU6IGZha2VTY3JvbGxDYWxsYmFja1xuICAgIH0pO1xuICAgIGRyYWdnaW5nID0ge1xuICAgICAgZHJhZ1N0YXJ0VGltZTogZHJhZ1N0YXJ0VGltZSxcbiAgICAgIHNob3VsZFVzZVRpbWVEYW1wZW5pbmc6IHdhc1Njcm9sbE5lZWRlZFxuICAgIH07XG4gICAgZmluaXNoKCk7XG5cbiAgICBpZiAod2FzU2Nyb2xsTmVlZGVkKSB7XG4gICAgICB0cnlTY3JvbGwoc3RhdGUpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgaWYgKCFkcmFnZ2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNjaGVkdWxlV2luZG93U2Nyb2xsLmNhbmNlbCgpO1xuICAgIHNjaGVkdWxlRHJvcHBhYmxlU2Nyb2xsLmNhbmNlbCgpO1xuICAgIGRyYWdnaW5nID0gbnVsbDtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBzdGFydCQxLFxuICAgIHN0b3A6IHN0b3AsXG4gICAgc2Nyb2xsOiB0cnlTY3JvbGxcbiAgfTtcbn0pO1xuXG52YXIgY3JlYXRlSnVtcFNjcm9sbGVyID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBtb3ZlID0gX3JlZi5tb3ZlLFxuICAgICAgc2Nyb2xsRHJvcHBhYmxlID0gX3JlZi5zY3JvbGxEcm9wcGFibGUsXG4gICAgICBzY3JvbGxXaW5kb3cgPSBfcmVmLnNjcm9sbFdpbmRvdztcblxuICB2YXIgbW92ZUJ5T2Zmc2V0ID0gZnVuY3Rpb24gbW92ZUJ5T2Zmc2V0KHN0YXRlLCBvZmZzZXQpIHtcbiAgICB2YXIgY2xpZW50ID0gYWRkKHN0YXRlLmN1cnJlbnQuY2xpZW50LnNlbGVjdGlvbiwgb2Zmc2V0KTtcbiAgICBtb3ZlKHtcbiAgICAgIGNsaWVudDogY2xpZW50XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHNjcm9sbERyb3BwYWJsZUFzTXVjaEFzSXRDYW4gPSBmdW5jdGlvbiBzY3JvbGxEcm9wcGFibGVBc011Y2hBc0l0Q2FuKGRyb3BwYWJsZSwgY2hhbmdlKSB7XG4gICAgaWYgKCFjYW5TY3JvbGxEcm9wcGFibGUoZHJvcHBhYmxlLCBjaGFuZ2UpKSB7XG4gICAgICByZXR1cm4gY2hhbmdlO1xuICAgIH1cblxuICAgIHZhciBvdmVybGFwID0gZ2V0RHJvcHBhYmxlT3ZlcmxhcChkcm9wcGFibGUsIGNoYW5nZSk7XG5cbiAgICBpZiAoIW92ZXJsYXApIHtcbiAgICAgIHNjcm9sbERyb3BwYWJsZShkcm9wcGFibGUuZGVzY3JpcHRvci5pZCwgY2hhbmdlKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciB3aGF0VGhlRHJvcHBhYmxlQ2FuU2Nyb2xsID0gc3VidHJhY3QoY2hhbmdlLCBvdmVybGFwKTtcbiAgICBzY3JvbGxEcm9wcGFibGUoZHJvcHBhYmxlLmRlc2NyaXB0b3IuaWQsIHdoYXRUaGVEcm9wcGFibGVDYW5TY3JvbGwpO1xuICAgIHZhciByZW1haW5kZXIgPSBzdWJ0cmFjdChjaGFuZ2UsIHdoYXRUaGVEcm9wcGFibGVDYW5TY3JvbGwpO1xuICAgIHJldHVybiByZW1haW5kZXI7XG4gIH07XG5cbiAgdmFyIHNjcm9sbFdpbmRvd0FzTXVjaEFzSXRDYW4gPSBmdW5jdGlvbiBzY3JvbGxXaW5kb3dBc011Y2hBc0l0Q2FuKGlzV2luZG93U2Nyb2xsQWxsb3dlZCwgdmlld3BvcnQsIGNoYW5nZSkge1xuICAgIGlmICghaXNXaW5kb3dTY3JvbGxBbGxvd2VkKSB7XG4gICAgICByZXR1cm4gY2hhbmdlO1xuICAgIH1cblxuICAgIGlmICghY2FuU2Nyb2xsV2luZG93KHZpZXdwb3J0LCBjaGFuZ2UpKSB7XG4gICAgICByZXR1cm4gY2hhbmdlO1xuICAgIH1cblxuICAgIHZhciBvdmVybGFwID0gZ2V0V2luZG93T3ZlcmxhcCh2aWV3cG9ydCwgY2hhbmdlKTtcblxuICAgIGlmICghb3ZlcmxhcCkge1xuICAgICAgc2Nyb2xsV2luZG93KGNoYW5nZSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgd2hhdFRoZVdpbmRvd0NhblNjcm9sbCA9IHN1YnRyYWN0KGNoYW5nZSwgb3ZlcmxhcCk7XG4gICAgc2Nyb2xsV2luZG93KHdoYXRUaGVXaW5kb3dDYW5TY3JvbGwpO1xuICAgIHZhciByZW1haW5kZXIgPSBzdWJ0cmFjdChjaGFuZ2UsIHdoYXRUaGVXaW5kb3dDYW5TY3JvbGwpO1xuICAgIHJldHVybiByZW1haW5kZXI7XG4gIH07XG5cbiAgdmFyIGp1bXBTY3JvbGxlciA9IGZ1bmN0aW9uIGp1bXBTY3JvbGxlcihzdGF0ZSkge1xuICAgIHZhciByZXF1ZXN0ID0gc3RhdGUuc2Nyb2xsSnVtcFJlcXVlc3Q7XG5cbiAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZGVzdGluYXRpb24gPSB3aGF0SXNEcmFnZ2VkT3ZlcihzdGF0ZS5pbXBhY3QpO1xuICAgICFkZXN0aW5hdGlvbiA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBwZXJmb3JtIGEganVtcCBzY3JvbGwgd2hlbiB0aGVyZSBpcyBubyBkZXN0aW5hdGlvbicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgZHJvcHBhYmxlUmVtYWluZGVyID0gc2Nyb2xsRHJvcHBhYmxlQXNNdWNoQXNJdENhbihzdGF0ZS5kaW1lbnNpb25zLmRyb3BwYWJsZXNbZGVzdGluYXRpb25dLCByZXF1ZXN0KTtcblxuICAgIGlmICghZHJvcHBhYmxlUmVtYWluZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHZpZXdwb3J0ID0gc3RhdGUudmlld3BvcnQ7XG4gICAgdmFyIHdpbmRvd1JlbWFpbmRlciA9IHNjcm9sbFdpbmRvd0FzTXVjaEFzSXRDYW4oc3RhdGUuaXNXaW5kb3dTY3JvbGxBbGxvd2VkLCB2aWV3cG9ydCwgZHJvcHBhYmxlUmVtYWluZGVyKTtcblxuICAgIGlmICghd2luZG93UmVtYWluZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbW92ZUJ5T2Zmc2V0KHN0YXRlLCB3aW5kb3dSZW1haW5kZXIpO1xuICB9O1xuXG4gIHJldHVybiBqdW1wU2Nyb2xsZXI7XG59KTtcblxudmFyIGNyZWF0ZUF1dG9TY3JvbGxlciA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgc2Nyb2xsRHJvcHBhYmxlID0gX3JlZi5zY3JvbGxEcm9wcGFibGUsXG4gICAgICBzY3JvbGxXaW5kb3cgPSBfcmVmLnNjcm9sbFdpbmRvdyxcbiAgICAgIG1vdmUgPSBfcmVmLm1vdmU7XG4gIHZhciBmbHVpZFNjcm9sbGVyID0gY3JlYXRlRmx1aWRTY3JvbGxlcih7XG4gICAgc2Nyb2xsV2luZG93OiBzY3JvbGxXaW5kb3csXG4gICAgc2Nyb2xsRHJvcHBhYmxlOiBzY3JvbGxEcm9wcGFibGVcbiAgfSk7XG4gIHZhciBqdW1wU2Nyb2xsID0gY3JlYXRlSnVtcFNjcm9sbGVyKHtcbiAgICBtb3ZlOiBtb3ZlLFxuICAgIHNjcm9sbFdpbmRvdzogc2Nyb2xsV2luZG93LFxuICAgIHNjcm9sbERyb3BwYWJsZTogc2Nyb2xsRHJvcHBhYmxlXG4gIH0pO1xuXG4gIHZhciBzY3JvbGwgPSBmdW5jdGlvbiBzY3JvbGwoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUucGhhc2UgIT09ICdEUkFHR0lORycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUubW92ZW1lbnRNb2RlID09PSAnRkxVSUQnKSB7XG4gICAgICBmbHVpZFNjcm9sbGVyLnNjcm9sbChzdGF0ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFzdGF0ZS5zY3JvbGxKdW1wUmVxdWVzdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGp1bXBTY3JvbGwoc3RhdGUpO1xuICB9O1xuXG4gIHZhciBzY3JvbGxlciA9IHtcbiAgICBzY3JvbGw6IHNjcm9sbCxcbiAgICBzdGFydDogZmx1aWRTY3JvbGxlci5zdGFydCxcbiAgICBzdG9wOiBmbHVpZFNjcm9sbGVyLnN0b3BcbiAgfTtcbiAgcmV0dXJuIHNjcm9sbGVyO1xufSk7XG5cbnZhciBwcmVmaXgkMSA9ICdkYXRhLXJiZCc7XG52YXIgZHJhZ0hhbmRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGJhc2UgPSBwcmVmaXgkMSArIFwiLWRyYWctaGFuZGxlXCI7XG4gIHJldHVybiB7XG4gICAgYmFzZTogYmFzZSxcbiAgICBkcmFnZ2FibGVJZDogYmFzZSArIFwiLWRyYWdnYWJsZS1pZFwiLFxuICAgIGNvbnRleHRJZDogYmFzZSArIFwiLWNvbnRleHQtaWRcIlxuICB9O1xufSgpO1xudmFyIGRyYWdnYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGJhc2UgPSBwcmVmaXgkMSArIFwiLWRyYWdnYWJsZVwiO1xuICByZXR1cm4ge1xuICAgIGJhc2U6IGJhc2UsXG4gICAgY29udGV4dElkOiBiYXNlICsgXCItY29udGV4dC1pZFwiLFxuICAgIGlkOiBiYXNlICsgXCItaWRcIlxuICB9O1xufSgpO1xudmFyIGRyb3BwYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGJhc2UgPSBwcmVmaXgkMSArIFwiLWRyb3BwYWJsZVwiO1xuICByZXR1cm4ge1xuICAgIGJhc2U6IGJhc2UsXG4gICAgY29udGV4dElkOiBiYXNlICsgXCItY29udGV4dC1pZFwiLFxuICAgIGlkOiBiYXNlICsgXCItaWRcIlxuICB9O1xufSgpO1xudmFyIHNjcm9sbENvbnRhaW5lciA9IHtcbiAgY29udGV4dElkOiBwcmVmaXgkMSArIFwiLXNjcm9sbC1jb250YWluZXItY29udGV4dC1pZFwiXG59O1xuXG52YXIgbWFrZUdldFNlbGVjdG9yID0gZnVuY3Rpb24gbWFrZUdldFNlbGVjdG9yKGNvbnRleHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcbiAgICByZXR1cm4gXCJbXCIgKyBhdHRyaWJ1dGUgKyBcIj1cXFwiXCIgKyBjb250ZXh0ICsgXCJcXFwiXVwiO1xuICB9O1xufTtcblxudmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uIGdldFN0eWxlcyhydWxlcywgcHJvcGVydHkpIHtcbiAgcmV0dXJuIHJ1bGVzLm1hcChmdW5jdGlvbiAocnVsZSkge1xuICAgIHZhciB2YWx1ZSA9IHJ1bGUuc3R5bGVzW3Byb3BlcnR5XTtcblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICByZXR1cm4gcnVsZS5zZWxlY3RvciArIFwiIHsgXCIgKyB2YWx1ZSArIFwiIH1cIjtcbiAgfSkuam9pbignICcpO1xufTtcblxudmFyIG5vUG9pbnRlckV2ZW50cyA9ICdwb2ludGVyLWV2ZW50czogbm9uZTsnO1xudmFyIGdldFN0eWxlcyQxID0gKGZ1bmN0aW9uIChjb250ZXh0SWQpIHtcbiAgdmFyIGdldFNlbGVjdG9yID0gbWFrZUdldFNlbGVjdG9yKGNvbnRleHRJZCk7XG5cbiAgdmFyIGRyYWdIYW5kbGUkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZ3JhYkN1cnNvciA9IFwiXFxuICAgICAgY3Vyc29yOiAtd2Via2l0LWdyYWI7XFxuICAgICAgY3Vyc29yOiBncmFiO1xcbiAgICBcIjtcbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0b3I6IGdldFNlbGVjdG9yKGRyYWdIYW5kbGUuY29udGV4dElkKSxcbiAgICAgIHN0eWxlczoge1xuICAgICAgICBhbHdheXM6IFwiXFxuICAgICAgICAgIC13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtcXG4gICAgICAgICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsMCwwLDApO1xcbiAgICAgICAgICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjtcXG4gICAgICAgIFwiLFxuICAgICAgICByZXN0aW5nOiBncmFiQ3Vyc29yLFxuICAgICAgICBkcmFnZ2luZzogbm9Qb2ludGVyRXZlbnRzLFxuICAgICAgICBkcm9wQW5pbWF0aW5nOiBncmFiQ3Vyc29yXG4gICAgICB9XG4gICAgfTtcbiAgfSgpO1xuXG4gIHZhciBkcmFnZ2FibGUkMSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdHJhbnNpdGlvbiA9IFwiXFxuICAgICAgdHJhbnNpdGlvbjogXCIgKyB0cmFuc2l0aW9ucy5vdXRPZlRoZVdheSArIFwiO1xcbiAgICBcIjtcbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0b3I6IGdldFNlbGVjdG9yKGRyYWdnYWJsZS5jb250ZXh0SWQpLFxuICAgICAgc3R5bGVzOiB7XG4gICAgICAgIGRyYWdnaW5nOiB0cmFuc2l0aW9uLFxuICAgICAgICBkcm9wQW5pbWF0aW5nOiB0cmFuc2l0aW9uLFxuICAgICAgICB1c2VyQ2FuY2VsOiB0cmFuc2l0aW9uXG4gICAgICB9XG4gICAgfTtcbiAgfSgpO1xuXG4gIHZhciBkcm9wcGFibGUkMSA9IHtcbiAgICBzZWxlY3RvcjogZ2V0U2VsZWN0b3IoZHJvcHBhYmxlLmNvbnRleHRJZCksXG4gICAgc3R5bGVzOiB7XG4gICAgICBhbHdheXM6IFwib3ZlcmZsb3ctYW5jaG9yOiBub25lO1wiXG4gICAgfVxuICB9O1xuICB2YXIgYm9keSA9IHtcbiAgICBzZWxlY3RvcjogJ2JvZHknLFxuICAgIHN0eWxlczoge1xuICAgICAgZHJhZ2dpbmc6IFwiXFxuICAgICAgICBjdXJzb3I6IGdyYWJiaW5nO1xcbiAgICAgICAgY3Vyc29yOiAtd2Via2l0LWdyYWJiaW5nO1xcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAgICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gICAgICAgIG92ZXJmbG93LWFuY2hvcjogbm9uZTtcXG4gICAgICBcIlxuICAgIH1cbiAgfTtcbiAgdmFyIHJ1bGVzID0gW2RyYWdnYWJsZSQxLCBkcmFnSGFuZGxlJDEsIGRyb3BwYWJsZSQxLCBib2R5XTtcbiAgcmV0dXJuIHtcbiAgICBhbHdheXM6IGdldFN0eWxlcyhydWxlcywgJ2Fsd2F5cycpLFxuICAgIHJlc3Rpbmc6IGdldFN0eWxlcyhydWxlcywgJ3Jlc3RpbmcnKSxcbiAgICBkcmFnZ2luZzogZ2V0U3R5bGVzKHJ1bGVzLCAnZHJhZ2dpbmcnKSxcbiAgICBkcm9wQW5pbWF0aW5nOiBnZXRTdHlsZXMocnVsZXMsICdkcm9wQW5pbWF0aW5nJyksXG4gICAgdXNlckNhbmNlbDogZ2V0U3R5bGVzKHJ1bGVzLCAndXNlckNhbmNlbCcpXG4gIH07XG59KTtcblxudmFyIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09ICd1bmRlZmluZWQnID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0O1xuXG52YXIgZ2V0SGVhZCA9IGZ1bmN0aW9uIGdldEhlYWQoKSB7XG4gIHZhciBoZWFkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpO1xuICAhaGVhZCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBmaW5kIHRoZSBoZWFkIHRvIGFwcGVuZCBhIHN0eWxlIHRvJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICByZXR1cm4gaGVhZDtcbn07XG5cbnZhciBjcmVhdGVTdHlsZUVsID0gZnVuY3Rpb24gY3JlYXRlU3R5bGVFbChub25jZSkge1xuICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXG4gIGlmIChub25jZSkge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBub25jZSk7XG4gIH1cblxuICBlbC50eXBlID0gJ3RleHQvY3NzJztcbiAgcmV0dXJuIGVsO1xufTtcblxuZnVuY3Rpb24gdXNlU3R5bGVNYXJzaGFsKGNvbnRleHRJZCwgbm9uY2UpIHtcbiAgdmFyIHN0eWxlcyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRTdHlsZXMkMShjb250ZXh0SWQpO1xuICB9LCBbY29udGV4dElkXSk7XG4gIHZhciBhbHdheXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBkeW5hbWljUmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgc2V0RHluYW1pY1N0eWxlID0gdXNlQ2FsbGJhY2sobWVtb2l6ZU9uZShmdW5jdGlvbiAocHJvcG9zZWQpIHtcbiAgICB2YXIgZWwgPSBkeW5hbWljUmVmLmN1cnJlbnQ7XG4gICAgIWVsID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHNldCBkeW5hbWljIHN0eWxlIGVsZW1lbnQgaWYgaXQgaXMgbm90IHNldCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBlbC50ZXh0Q29udGVudCA9IHByb3Bvc2VkO1xuICB9KSwgW10pO1xuICB2YXIgc2V0QWx3YXlzU3R5bGUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcG9zZWQpIHtcbiAgICB2YXIgZWwgPSBhbHdheXNSZWYuY3VycmVudDtcbiAgICAhZWwgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3Qgc2V0IGR5bmFtaWMgc3R5bGUgZWxlbWVudCBpZiBpdCBpcyBub3Qgc2V0JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGVsLnRleHRDb250ZW50ID0gcHJvcG9zZWQ7XG4gIH0sIFtdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgISghYWx3YXlzUmVmLmN1cnJlbnQgJiYgIWR5bmFtaWNSZWYuY3VycmVudCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdzdHlsZSBlbGVtZW50cyBhbHJlYWR5IG1vdW50ZWQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGFsd2F5cyA9IGNyZWF0ZVN0eWxlRWwobm9uY2UpO1xuICAgIHZhciBkeW5hbWljID0gY3JlYXRlU3R5bGVFbChub25jZSk7XG4gICAgYWx3YXlzUmVmLmN1cnJlbnQgPSBhbHdheXM7XG4gICAgZHluYW1pY1JlZi5jdXJyZW50ID0gZHluYW1pYztcbiAgICBhbHdheXMuc2V0QXR0cmlidXRlKHByZWZpeCQxICsgXCItYWx3YXlzXCIsIGNvbnRleHRJZCk7XG4gICAgZHluYW1pYy5zZXRBdHRyaWJ1dGUocHJlZml4JDEgKyBcIi1keW5hbWljXCIsIGNvbnRleHRJZCk7XG4gICAgZ2V0SGVhZCgpLmFwcGVuZENoaWxkKGFsd2F5cyk7XG4gICAgZ2V0SGVhZCgpLmFwcGVuZENoaWxkKGR5bmFtaWMpO1xuICAgIHNldEFsd2F5c1N0eWxlKHN0eWxlcy5hbHdheXMpO1xuICAgIHNldER5bmFtaWNTdHlsZShzdHlsZXMucmVzdGluZyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUocmVmKSB7XG4gICAgICAgIHZhciBjdXJyZW50ID0gcmVmLmN1cnJlbnQ7XG4gICAgICAgICFjdXJyZW50ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2Fubm90IHVubW91bnQgcmVmIGFzIGl0IGlzIG5vdCBzZXQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIGdldEhlYWQoKS5yZW1vdmVDaGlsZChjdXJyZW50KTtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgcmVtb3ZlKGFsd2F5c1JlZik7XG4gICAgICByZW1vdmUoZHluYW1pY1JlZik7XG4gICAgfTtcbiAgfSwgW25vbmNlLCBzZXRBbHdheXNTdHlsZSwgc2V0RHluYW1pY1N0eWxlLCBzdHlsZXMuYWx3YXlzLCBzdHlsZXMucmVzdGluZywgY29udGV4dElkXSk7XG4gIHZhciBkcmFnZ2luZyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc2V0RHluYW1pY1N0eWxlKHN0eWxlcy5kcmFnZ2luZyk7XG4gIH0sIFtzZXREeW5hbWljU3R5bGUsIHN0eWxlcy5kcmFnZ2luZ10pO1xuICB2YXIgZHJvcHBpbmcgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgaWYgKHJlYXNvbiA9PT0gJ0RST1AnKSB7XG4gICAgICBzZXREeW5hbWljU3R5bGUoc3R5bGVzLmRyb3BBbmltYXRpbmcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldER5bmFtaWNTdHlsZShzdHlsZXMudXNlckNhbmNlbCk7XG4gIH0sIFtzZXREeW5hbWljU3R5bGUsIHN0eWxlcy5kcm9wQW5pbWF0aW5nLCBzdHlsZXMudXNlckNhbmNlbF0pO1xuICB2YXIgcmVzdGluZyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWR5bmFtaWNSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldER5bmFtaWNTdHlsZShzdHlsZXMucmVzdGluZyk7XG4gIH0sIFtzZXREeW5hbWljU3R5bGUsIHN0eWxlcy5yZXN0aW5nXSk7XG4gIHZhciBtYXJzaGFsID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRyYWdnaW5nOiBkcmFnZ2luZyxcbiAgICAgIGRyb3BwaW5nOiBkcm9wcGluZyxcbiAgICAgIHJlc3Rpbmc6IHJlc3RpbmdcbiAgICB9O1xuICB9LCBbZHJhZ2dpbmcsIGRyb3BwaW5nLCByZXN0aW5nXSk7XG4gIHJldHVybiBtYXJzaGFsO1xufVxuXG52YXIgZ2V0V2luZG93RnJvbUVsID0gKGZ1bmN0aW9uIChlbCkge1xuICByZXR1cm4gZWwgJiYgZWwub3duZXJEb2N1bWVudCA/IGVsLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgOiB3aW5kb3c7XG59KTtcblxuZnVuY3Rpb24gaXNIdG1sRWxlbWVudChlbCkge1xuICByZXR1cm4gZWwgaW5zdGFuY2VvZiBnZXRXaW5kb3dGcm9tRWwoZWwpLkhUTUxFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBmaW5kRHJhZ0hhbmRsZShjb250ZXh0SWQsIGRyYWdnYWJsZUlkKSB7XG4gIHZhciBzZWxlY3RvciA9IFwiW1wiICsgZHJhZ0hhbmRsZS5jb250ZXh0SWQgKyBcIj1cXFwiXCIgKyBjb250ZXh0SWQgKyBcIlxcXCJdXCI7XG4gIHZhciBwb3NzaWJsZSA9IHRvQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xuXG4gIGlmICghcG9zc2libGUubGVuZ3RoKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhcIlVuYWJsZSB0byBmaW5kIGFueSBkcmFnIGhhbmRsZXMgaW4gdGhlIGNvbnRleHQgXFxcIlwiICsgY29udGV4dElkICsgXCJcXFwiXCIpIDogdm9pZCAwO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIGhhbmRsZSA9IGZpbmQocG9zc2libGUsIGZ1bmN0aW9uIChlbCkge1xuICAgIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoZHJhZ0hhbmRsZS5kcmFnZ2FibGVJZCkgPT09IGRyYWdnYWJsZUlkO1xuICB9KTtcblxuICBpZiAoIWhhbmRsZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoXCJVbmFibGUgdG8gZmluZCBkcmFnIGhhbmRsZSB3aXRoIGlkIFxcXCJcIiArIGRyYWdnYWJsZUlkICsgXCJcXFwiIGFzIG5vIGhhbmRsZSB3aXRoIGEgbWF0Y2hpbmcgaWQgd2FzIGZvdW5kXCIpIDogdm9pZCAwO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKCFpc0h0bWxFbGVtZW50KGhhbmRsZSkpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCdkcmFnIGhhbmRsZSBuZWVkcyB0byBiZSBhIEhUTUxFbGVtZW50JykgOiB2b2lkIDA7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gaGFuZGxlO1xufVxuXG5mdW5jdGlvbiB1c2VGb2N1c01hcnNoYWwoY29udGV4dElkKSB7XG4gIHZhciBlbnRyaWVzUmVmID0gdXNlUmVmKHt9KTtcbiAgdmFyIHJlY29yZFJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIHJlc3RvcmVGb2N1c0ZyYW1lUmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgaXNNb3VudGVkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgdmFyIHJlZ2lzdGVyID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gcmVnaXN0ZXIoaWQsIGZvY3VzKSB7XG4gICAgdmFyIGVudHJ5ID0ge1xuICAgICAgaWQ6IGlkLFxuICAgICAgZm9jdXM6IGZvY3VzXG4gICAgfTtcbiAgICBlbnRyaWVzUmVmLmN1cnJlbnRbaWRdID0gZW50cnk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVucmVnaXN0ZXIoKSB7XG4gICAgICB2YXIgZW50cmllcyA9IGVudHJpZXNSZWYuY3VycmVudDtcbiAgICAgIHZhciBjdXJyZW50ID0gZW50cmllc1tpZF07XG5cbiAgICAgIGlmIChjdXJyZW50ICE9PSBlbnRyeSkge1xuICAgICAgICBkZWxldGUgZW50cmllc1tpZF07XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuICB2YXIgdHJ5R2l2ZUZvY3VzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gdHJ5R2l2ZUZvY3VzKHRyeUdpdmVGb2N1c1RvKSB7XG4gICAgdmFyIGhhbmRsZSA9IGZpbmREcmFnSGFuZGxlKGNvbnRleHRJZCwgdHJ5R2l2ZUZvY3VzVG8pO1xuXG4gICAgaWYgKGhhbmRsZSAmJiBoYW5kbGUgIT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgIGhhbmRsZS5mb2N1cygpO1xuICAgIH1cbiAgfSwgW2NvbnRleHRJZF0pO1xuICB2YXIgdHJ5U2hpZnRSZWNvcmQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiB0cnlTaGlmdFJlY29yZChwcmV2aW91cywgcmVkaXJlY3RUbykge1xuICAgIGlmIChyZWNvcmRSZWYuY3VycmVudCA9PT0gcHJldmlvdXMpIHtcbiAgICAgIHJlY29yZFJlZi5jdXJyZW50ID0gcmVkaXJlY3RUbztcbiAgICB9XG4gIH0sIFtdKTtcbiAgdmFyIHRyeVJlc3RvcmVGb2N1c1JlY29yZGVkID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gdHJ5UmVzdG9yZUZvY3VzUmVjb3JkZWQoKSB7XG4gICAgaWYgKHJlc3RvcmVGb2N1c0ZyYW1lUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWlzTW91bnRlZFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVzdG9yZUZvY3VzRnJhbWVSZWYuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICByZXN0b3JlRm9jdXNGcmFtZVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIHZhciByZWNvcmQgPSByZWNvcmRSZWYuY3VycmVudDtcblxuICAgICAgaWYgKHJlY29yZCkge1xuICAgICAgICB0cnlHaXZlRm9jdXMocmVjb3JkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW3RyeUdpdmVGb2N1c10pO1xuICB2YXIgdHJ5UmVjb3JkRm9jdXMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiB0cnlSZWNvcmRGb2N1cyhpZCkge1xuICAgIHJlY29yZFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB2YXIgZm9jdXNlZCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cbiAgICBpZiAoIWZvY3VzZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZm9jdXNlZC5nZXRBdHRyaWJ1dGUoZHJhZ0hhbmRsZS5kcmFnZ2FibGVJZCkgIT09IGlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVjb3JkUmVmLmN1cnJlbnQgPSBpZDtcbiAgfSwgW10pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpc01vdW50ZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNsZWFyRnJhbWVPblVubW91bnQoKSB7XG4gICAgICBpc01vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgdmFyIGZyYW1lSWQgPSByZXN0b3JlRm9jdXNGcmFtZVJlZi5jdXJyZW50O1xuXG4gICAgICBpZiAoZnJhbWVJZCkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZUlkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG4gIHZhciBtYXJzaGFsID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlZ2lzdGVyOiByZWdpc3RlcixcbiAgICAgIHRyeVJlY29yZEZvY3VzOiB0cnlSZWNvcmRGb2N1cyxcbiAgICAgIHRyeVJlc3RvcmVGb2N1c1JlY29yZGVkOiB0cnlSZXN0b3JlRm9jdXNSZWNvcmRlZCxcbiAgICAgIHRyeVNoaWZ0UmVjb3JkOiB0cnlTaGlmdFJlY29yZFxuICAgIH07XG4gIH0sIFtyZWdpc3RlciwgdHJ5UmVjb3JkRm9jdXMsIHRyeVJlc3RvcmVGb2N1c1JlY29yZGVkLCB0cnlTaGlmdFJlY29yZF0pO1xuICByZXR1cm4gbWFyc2hhbDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUmVnaXN0cnkoKSB7XG4gIHZhciBlbnRyaWVzID0ge1xuICAgIGRyYWdnYWJsZXM6IHt9LFxuICAgIGRyb3BwYWJsZXM6IHt9XG4gIH07XG4gIHZhciBzdWJzY3JpYmVycyA9IFtdO1xuXG4gIGZ1bmN0aW9uIHN1YnNjcmliZShjYikge1xuICAgIHN1YnNjcmliZXJzLnB1c2goY2IpO1xuICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIHZhciBpbmRleCA9IHN1YnNjcmliZXJzLmluZGV4T2YoY2IpO1xuXG4gICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3Vic2NyaWJlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbm90aWZ5KGV2ZW50KSB7XG4gICAgaWYgKHN1YnNjcmliZXJzLmxlbmd0aCkge1xuICAgICAgc3Vic2NyaWJlcnMuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgcmV0dXJuIGNiKGV2ZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmREcmFnZ2FibGVCeUlkKGlkKSB7XG4gICAgcmV0dXJuIGVudHJpZXMuZHJhZ2dhYmxlc1tpZF0gfHwgbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERyYWdnYWJsZUJ5SWQoaWQpIHtcbiAgICB2YXIgZW50cnkgPSBmaW5kRHJhZ2dhYmxlQnlJZChpZCk7XG4gICAgIWVudHJ5ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkNhbm5vdCBmaW5kIGRyYWdnYWJsZSBlbnRyeSB3aXRoIGlkIFtcIiArIGlkICsgXCJdXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gZW50cnk7XG4gIH1cblxuICB2YXIgZHJhZ2dhYmxlQVBJID0ge1xuICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcihlbnRyeSkge1xuICAgICAgZW50cmllcy5kcmFnZ2FibGVzW2VudHJ5LmRlc2NyaXB0b3IuaWRdID0gZW50cnk7XG4gICAgICBub3RpZnkoe1xuICAgICAgICB0eXBlOiAnQURESVRJT04nLFxuICAgICAgICB2YWx1ZTogZW50cnlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoZW50cnksIGxhc3QpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gZW50cmllcy5kcmFnZ2FibGVzW2xhc3QuZGVzY3JpcHRvci5pZF07XG5cbiAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChjdXJyZW50LnVuaXF1ZUlkICE9PSBlbnRyeS51bmlxdWVJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGRlbGV0ZSBlbnRyaWVzLmRyYWdnYWJsZXNbbGFzdC5kZXNjcmlwdG9yLmlkXTtcbiAgICAgIGVudHJpZXMuZHJhZ2dhYmxlc1tlbnRyeS5kZXNjcmlwdG9yLmlkXSA9IGVudHJ5O1xuICAgIH0sXG4gICAgdW5yZWdpc3RlcjogZnVuY3Rpb24gdW5yZWdpc3RlcihlbnRyeSkge1xuICAgICAgdmFyIGRyYWdnYWJsZUlkID0gZW50cnkuZGVzY3JpcHRvci5pZDtcbiAgICAgIHZhciBjdXJyZW50ID0gZmluZERyYWdnYWJsZUJ5SWQoZHJhZ2dhYmxlSWQpO1xuXG4gICAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZW50cnkudW5pcXVlSWQgIT09IGN1cnJlbnQudW5pcXVlSWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBkZWxldGUgZW50cmllcy5kcmFnZ2FibGVzW2RyYWdnYWJsZUlkXTtcbiAgICAgIG5vdGlmeSh7XG4gICAgICAgIHR5cGU6ICdSRU1PVkFMJyxcbiAgICAgICAgdmFsdWU6IGVudHJ5XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGdldEJ5SWQ6IGdldERyYWdnYWJsZUJ5SWQsXG4gICAgZmluZEJ5SWQ6IGZpbmREcmFnZ2FibGVCeUlkLFxuICAgIGV4aXN0czogZnVuY3Rpb24gZXhpc3RzKGlkKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihmaW5kRHJhZ2dhYmxlQnlJZChpZCkpO1xuICAgIH0sXG4gICAgZ2V0QWxsQnlUeXBlOiBmdW5jdGlvbiBnZXRBbGxCeVR5cGUodHlwZSkge1xuICAgICAgcmV0dXJuIHZhbHVlcyhlbnRyaWVzLmRyYWdnYWJsZXMpLmZpbHRlcihmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LmRlc2NyaXB0b3IudHlwZSA9PT0gdHlwZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBmaW5kRHJvcHBhYmxlQnlJZChpZCkge1xuICAgIHJldHVybiBlbnRyaWVzLmRyb3BwYWJsZXNbaWRdIHx8IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREcm9wcGFibGVCeUlkKGlkKSB7XG4gICAgdmFyIGVudHJ5ID0gZmluZERyb3BwYWJsZUJ5SWQoaWQpO1xuICAgICFlbnRyeSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJDYW5ub3QgZmluZCBkcm9wcGFibGUgZW50cnkgd2l0aCBpZCBbXCIgKyBpZCArIFwiXVwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGVudHJ5O1xuICB9XG5cbiAgdmFyIGRyb3BwYWJsZUFQSSA9IHtcbiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoZW50cnkpIHtcbiAgICAgIGVudHJpZXMuZHJvcHBhYmxlc1tlbnRyeS5kZXNjcmlwdG9yLmlkXSA9IGVudHJ5O1xuICAgIH0sXG4gICAgdW5yZWdpc3RlcjogZnVuY3Rpb24gdW5yZWdpc3RlcihlbnRyeSkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBmaW5kRHJvcHBhYmxlQnlJZChlbnRyeS5kZXNjcmlwdG9yLmlkKTtcblxuICAgICAgaWYgKCFjdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGVudHJ5LnVuaXF1ZUlkICE9PSBjdXJyZW50LnVuaXF1ZUlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIGVudHJpZXMuZHJvcHBhYmxlc1tlbnRyeS5kZXNjcmlwdG9yLmlkXTtcbiAgICB9LFxuICAgIGdldEJ5SWQ6IGdldERyb3BwYWJsZUJ5SWQsXG4gICAgZmluZEJ5SWQ6IGZpbmREcm9wcGFibGVCeUlkLFxuICAgIGV4aXN0czogZnVuY3Rpb24gZXhpc3RzKGlkKSB7XG4gICAgICByZXR1cm4gQm9vbGVhbihmaW5kRHJvcHBhYmxlQnlJZChpZCkpO1xuICAgIH0sXG4gICAgZ2V0QWxsQnlUeXBlOiBmdW5jdGlvbiBnZXRBbGxCeVR5cGUodHlwZSkge1xuICAgICAgcmV0dXJuIHZhbHVlcyhlbnRyaWVzLmRyb3BwYWJsZXMpLmZpbHRlcihmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5LmRlc2NyaXB0b3IudHlwZSA9PT0gdHlwZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBjbGVhbigpIHtcbiAgICBlbnRyaWVzLmRyYWdnYWJsZXMgPSB7fTtcbiAgICBlbnRyaWVzLmRyb3BwYWJsZXMgPSB7fTtcbiAgICBzdWJzY3JpYmVycy5sZW5ndGggPSAwO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZUFQSSxcbiAgICBkcm9wcGFibGU6IGRyb3BwYWJsZUFQSSxcbiAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcbiAgICBjbGVhbjogY2xlYW5cbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlUmVnaXN0cnkoKSB7XG4gIHZhciByZWdpc3RyeSA9IHVzZU1lbW8oY3JlYXRlUmVnaXN0cnksIFtdKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZWdpc3RyeS5jbGVhbik7XG4gICAgfTtcbiAgfSwgW3JlZ2lzdHJ5XSk7XG4gIHJldHVybiByZWdpc3RyeTtcbn1cblxudmFyIFN0b3JlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5cbnZhciBnZXRCb2R5RWxlbWVudCA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgIWJvZHkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgZmluZCBkb2N1bWVudC5ib2R5JykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICByZXR1cm4gYm9keTtcbn0pO1xuXG52YXIgdmlzdWFsbHlIaWRkZW4gPSB7XG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB3aWR0aDogJzFweCcsXG4gIGhlaWdodDogJzFweCcsXG4gIG1hcmdpbjogJy0xcHgnLFxuICBib3JkZXI6ICcwJyxcbiAgcGFkZGluZzogJzAnLFxuICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIGNsaXA6ICdyZWN0KDAgMCAwIDApJyxcbiAgJ2NsaXAtcGF0aCc6ICdpbnNldCgxMDAlKSdcbn07XG5cbnZhciBnZXRJZCA9IGZ1bmN0aW9uIGdldElkKGNvbnRleHRJZCkge1xuICByZXR1cm4gXCJyYmQtYW5ub3VuY2VtZW50LVwiICsgY29udGV4dElkO1xufTtcbmZ1bmN0aW9uIHVzZUFubm91bmNlcihjb250ZXh0SWQpIHtcbiAgdmFyIGlkID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldElkKGNvbnRleHRJZCk7XG4gIH0sIFtjb250ZXh0SWRdKTtcbiAgdmFyIHJlZiA9IHVzZVJlZihudWxsKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uIHNldHVwKCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHJlZi5jdXJyZW50ID0gZWw7XG4gICAgZWwuaWQgPSBpZDtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdhc3NlcnRpdmUnKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtYXRvbWljJywgJ3RydWUnKTtcblxuICAgIF9leHRlbmRzKGVsLnN0eWxlLCB2aXN1YWxseUhpZGRlbik7XG5cbiAgICBnZXRCb2R5RWxlbWVudCgpLmFwcGVuZENoaWxkKGVsKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgICB2YXIgYm9keSA9IGdldEJvZHlFbGVtZW50KCk7XG5cbiAgICAgICAgaWYgKGJvZHkuY29udGFpbnMoZWwpKSB7XG4gICAgICAgICAgYm9keS5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWwgPT09IHJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgcmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9LCBbaWRdKTtcbiAgdmFyIGFubm91bmNlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICB2YXIgZWwgPSByZWYuY3VycmVudDtcblxuICAgIGlmIChlbCkge1xuICAgICAgZWwudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoXCJcXG4gICAgICBBIHNjcmVlbiByZWFkZXIgbWVzc2FnZSB3YXMgdHJ5aW5nIHRvIGJlIGFubm91bmNlZCBidXQgaXQgd2FzIHVuYWJsZSB0byBkbyBzby5cXG4gICAgICBUaGlzIGNhbiBvY2N1ciBpZiB5b3UgdW5tb3VudCB5b3VyIDxEcmFnRHJvcENvbnRleHQgLz4gaW4geW91ciBvbkRyYWdFbmQuXFxuICAgICAgQ29uc2lkZXIgY2FsbGluZyBwcm92aWRlZC5hbm5vdW5jZSgpIGJlZm9yZSB0aGUgdW5tb3VudCBzbyB0aGF0IHRoZSBpbnN0cnVjdGlvbiB3aWxsXFxuICAgICAgbm90IGJlIGxvc3QgZm9yIHVzZXJzIHJlbHlpbmcgb24gYSBzY3JlZW4gcmVhZGVyLlxcblxcbiAgICAgIE1lc3NhZ2Ugbm90IHBhc3NlZCB0byBzY3JlZW4gcmVhZGVyOlxcblxcbiAgICAgIFxcXCJcIiArIG1lc3NhZ2UgKyBcIlxcXCJcXG4gICAgXCIpIDogdm9pZCAwO1xuICB9LCBbXSk7XG4gIHJldHVybiBhbm5vdW5jZTtcbn1cblxudmFyIGNvdW50ID0gMDtcbnZhciBkZWZhdWx0cyA9IHtcbiAgc2VwYXJhdG9yOiAnOjonXG59O1xuZnVuY3Rpb24gcmVzZXQoKSB7XG4gIGNvdW50ID0gMDtcbn1cbmZ1bmN0aW9uIHVzZVVuaXF1ZUlkKHByZWZpeCwgb3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IGRlZmF1bHRzO1xuICB9XG5cbiAgcmV0dXJuIHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIlwiICsgcHJlZml4ICsgb3B0aW9ucy5zZXBhcmF0b3IgKyBjb3VudCsrO1xuICB9LCBbb3B0aW9ucy5zZXBhcmF0b3IsIHByZWZpeF0pO1xufVxuXG5mdW5jdGlvbiBnZXRFbGVtZW50SWQoX3JlZikge1xuICB2YXIgY29udGV4dElkID0gX3JlZi5jb250ZXh0SWQsXG4gICAgICB1bmlxdWVJZCA9IF9yZWYudW5pcXVlSWQ7XG4gIHJldHVybiBcInJiZC1oaWRkZW4tdGV4dC1cIiArIGNvbnRleHRJZCArIFwiLVwiICsgdW5pcXVlSWQ7XG59XG5mdW5jdGlvbiB1c2VIaWRkZW5UZXh0RWxlbWVudChfcmVmMikge1xuICB2YXIgY29udGV4dElkID0gX3JlZjIuY29udGV4dElkLFxuICAgICAgdGV4dCA9IF9yZWYyLnRleHQ7XG4gIHZhciB1bmlxdWVJZCA9IHVzZVVuaXF1ZUlkKCdoaWRkZW4tdGV4dCcsIHtcbiAgICBzZXBhcmF0b3I6ICctJ1xuICB9KTtcbiAgdmFyIGlkID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldEVsZW1lbnRJZCh7XG4gICAgICBjb250ZXh0SWQ6IGNvbnRleHRJZCxcbiAgICAgIHVuaXF1ZUlkOiB1bmlxdWVJZFxuICAgIH0pO1xuICB9LCBbdW5pcXVlSWQsIGNvbnRleHRJZF0pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWwuaWQgPSBpZDtcbiAgICBlbC50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBnZXRCb2R5RWxlbWVudCgpLmFwcGVuZENoaWxkKGVsKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgICAgIHZhciBib2R5ID0gZ2V0Qm9keUVsZW1lbnQoKTtcblxuICAgICAgaWYgKGJvZHkuY29udGFpbnMoZWwpKSB7XG4gICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtpZCwgdGV4dF0pO1xuICByZXR1cm4gaWQ7XG59XG5cbnZhciBBcHBDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcblxudmFyIHBlZXJEZXBlbmRlbmNpZXMgPSB7XG5cdHJlYWN0OiBcIl4xNi44LjUgfHwgXjE3LjAuMFwiLFxuXHRcInJlYWN0LWRvbVwiOiBcIl4xNi44LjUgfHwgXjE3LjAuMFwiXG59O1xuXG52YXIgc2VtdmVyID0gLyhcXGQrKVxcLihcXGQrKVxcLihcXGQrKS87XG5cbnZhciBnZXRWZXJzaW9uID0gZnVuY3Rpb24gZ2V0VmVyc2lvbih2YWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gc2VtdmVyLmV4ZWModmFsdWUpO1xuICAhKHJlc3VsdCAhPSBudWxsKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJVbmFibGUgdG8gcGFyc2UgUmVhY3QgdmVyc2lvbiBcIiArIHZhbHVlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHZhciBtYWpvciA9IE51bWJlcihyZXN1bHRbMV0pO1xuICB2YXIgbWlub3IgPSBOdW1iZXIocmVzdWx0WzJdKTtcbiAgdmFyIHBhdGNoID0gTnVtYmVyKHJlc3VsdFszXSk7XG4gIHJldHVybiB7XG4gICAgbWFqb3I6IG1ham9yLFxuICAgIG1pbm9yOiBtaW5vcixcbiAgICBwYXRjaDogcGF0Y2gsXG4gICAgcmF3OiB2YWx1ZVxuICB9O1xufTtcblxudmFyIGlzU2F0aXNmaWVkID0gZnVuY3Rpb24gaXNTYXRpc2ZpZWQoZXhwZWN0ZWQsIGFjdHVhbCkge1xuICBpZiAoYWN0dWFsLm1ham9yID4gZXhwZWN0ZWQubWFqb3IpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChhY3R1YWwubWFqb3IgPCBleHBlY3RlZC5tYWpvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChhY3R1YWwubWlub3IgPiBleHBlY3RlZC5taW5vcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGFjdHVhbC5taW5vciA8IGV4cGVjdGVkLm1pbm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGFjdHVhbC5wYXRjaCA+PSBleHBlY3RlZC5wYXRjaDtcbn07XG5cbnZhciBjaGVja1JlYWN0VmVyc2lvbiA9IChmdW5jdGlvbiAocGVlckRlcFZhbHVlLCBhY3R1YWxWYWx1ZSkge1xuICB2YXIgcGVlckRlcCA9IGdldFZlcnNpb24ocGVlckRlcFZhbHVlKTtcbiAgdmFyIGFjdHVhbCA9IGdldFZlcnNpb24oYWN0dWFsVmFsdWUpO1xuXG4gIGlmIChpc1NhdGlzZmllZChwZWVyRGVwLCBhY3R1YWwpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhcIlxcbiAgICBSZWFjdCB2ZXJzaW9uOiBbXCIgKyBhY3R1YWwucmF3ICsgXCJdXFxuICAgIGRvZXMgbm90IHNhdGlzZnkgZXhwZWN0ZWQgcGVlciBkZXBlbmRlbmN5IHZlcnNpb246IFtcIiArIHBlZXJEZXAucmF3ICsgXCJdXFxuXFxuICAgIFRoaXMgY2FuIHJlc3VsdCBpbiBydW4gdGltZSBidWdzLCBhbmQgZXZlbiBmYXRhbCBjcmFzaGVzXFxuICBcIikgOiB2b2lkIDA7XG59KTtcblxudmFyIHN1ZmZpeCA9IFwiXFxuICBXZSBleHBlY3QgYSBodG1sNSBkb2N0eXBlOiA8IWRvY3R5cGUgaHRtbD5cXG4gIFRoaXMgaXMgdG8gZW5zdXJlIGNvbnNpc3RlbnQgYnJvd3NlciBsYXlvdXQgYW5kIG1lYXN1cmVtZW50XFxuXFxuICBNb3JlIGluZm9ybWF0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vYXRsYXNzaWFuL3JlYWN0LWJlYXV0aWZ1bC1kbmQvYmxvYi9tYXN0ZXIvZG9jcy9ndWlkZXMvZG9jdHlwZS5tZFxcblwiO1xudmFyIGNoZWNrRG9jdHlwZSA9IChmdW5jdGlvbiAoZG9jKSB7XG4gIHZhciBkb2N0eXBlID0gZG9jLmRvY3R5cGU7XG5cbiAgaWYgKCFkb2N0eXBlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhcIlxcbiAgICAgIE5vIDwhZG9jdHlwZSBodG1sPiBmb3VuZC5cXG5cXG4gICAgICBcIiArIHN1ZmZpeCArIFwiXFxuICAgIFwiKSA6IHZvaWQgMDtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoZG9jdHlwZS5uYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdodG1sJykge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoXCJcXG4gICAgICBVbmV4cGVjdGVkIDwhZG9jdHlwZT4gZm91bmQ6IChcIiArIGRvY3R5cGUubmFtZSArIFwiKVxcblxcbiAgICAgIFwiICsgc3VmZml4ICsgXCJcXG4gICAgXCIpIDogdm9pZCAwO1xuICB9XG5cbiAgaWYgKGRvY3R5cGUucHVibGljSWQgIT09ICcnKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhcIlxcbiAgICAgIFVuZXhwZWN0ZWQgPCFkb2N0eXBlPiBwdWJsaWNJZCBmb3VuZDogKFwiICsgZG9jdHlwZS5wdWJsaWNJZCArIFwiKVxcbiAgICAgIEEgaHRtbDUgZG9jdHlwZSBkb2VzIG5vdCBoYXZlIGEgcHVibGljSWRcXG5cXG4gICAgICBcIiArIHN1ZmZpeCArIFwiXFxuICAgIFwiKSA6IHZvaWQgMDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIHVzZURldih1c2VIb29rKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdXNlSG9vaygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZURldlNldHVwV2FybmluZyhmbiwgaW5wdXRzKSB7XG4gIHVzZURldihmdW5jdGlvbiAoKSB7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZuKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVycm9yKFwiXFxuICAgICAgICAgIEEgc2V0dXAgcHJvYmxlbSB3YXMgZW5jb3VudGVyZWQuXFxuXFxuICAgICAgICAgID4gXCIgKyBlLm1lc3NhZ2UgKyBcIlxcbiAgICAgICAgXCIpO1xuICAgICAgfVxuICAgIH0sIGlucHV0cyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VTdGFydHVwVmFsaWRhdGlvbigpIHtcbiAgdXNlRGV2U2V0dXBXYXJuaW5nKGZ1bmN0aW9uICgpIHtcbiAgICBjaGVja1JlYWN0VmVyc2lvbihwZWVyRGVwZW5kZW5jaWVzLnJlYWN0LCBSZWFjdC52ZXJzaW9uKTtcbiAgICBjaGVja0RvY3R5cGUoZG9jdW1lbnQpO1xuICB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIHVzZVByZXZpb3VzKGN1cnJlbnQpIHtcbiAgdmFyIHJlZiA9IHVzZVJlZihjdXJyZW50KTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZWYuY3VycmVudCA9IGN1cnJlbnQ7XG4gIH0pO1xuICByZXR1cm4gcmVmO1xufVxuXG5mdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBsb2NrID0gbnVsbDtcblxuICBmdW5jdGlvbiBpc0NsYWltZWQoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4obG9jayk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0FjdGl2ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbG9jaztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsYWltKGFiYW5kb24pIHtcbiAgICAhIWxvY2sgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgY2xhaW0gbG9jayBhcyBpdCBpcyBhbHJlYWR5IGNsYWltZWQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIG5ld0xvY2sgPSB7XG4gICAgICBhYmFuZG9uOiBhYmFuZG9uXG4gICAgfTtcbiAgICBsb2NrID0gbmV3TG9jaztcbiAgICByZXR1cm4gbmV3TG9jaztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbGVhc2UoKSB7XG4gICAgIWxvY2sgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgcmVsZWFzZSBsb2NrIHdoZW4gdGhlcmUgaXMgbm8gbG9jaycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICBsb2NrID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyeUFiYW5kb24oKSB7XG4gICAgaWYgKGxvY2spIHtcbiAgICAgIGxvY2suYWJhbmRvbigpO1xuICAgICAgcmVsZWFzZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaXNDbGFpbWVkOiBpc0NsYWltZWQsXG4gICAgaXNBY3RpdmU6IGlzQWN0aXZlLFxuICAgIGNsYWltOiBjbGFpbSxcbiAgICByZWxlYXNlOiByZWxlYXNlLFxuICAgIHRyeUFiYW5kb246IHRyeUFiYW5kb25cbiAgfTtcbn1cblxudmFyIHRhYiA9IDk7XG52YXIgZW50ZXIgPSAxMztcbnZhciBlc2NhcGUgPSAyNztcbnZhciBzcGFjZSA9IDMyO1xudmFyIHBhZ2VVcCA9IDMzO1xudmFyIHBhZ2VEb3duID0gMzQ7XG52YXIgZW5kID0gMzU7XG52YXIgaG9tZSA9IDM2O1xudmFyIGFycm93TGVmdCA9IDM3O1xudmFyIGFycm93VXAgPSAzODtcbnZhciBhcnJvd1JpZ2h0ID0gMzk7XG52YXIgYXJyb3dEb3duID0gNDA7XG5cbnZhciBfcHJldmVudGVkS2V5cztcbnZhciBwcmV2ZW50ZWRLZXlzID0gKF9wcmV2ZW50ZWRLZXlzID0ge30sIF9wcmV2ZW50ZWRLZXlzW2VudGVyXSA9IHRydWUsIF9wcmV2ZW50ZWRLZXlzW3RhYl0gPSB0cnVlLCBfcHJldmVudGVkS2V5cyk7XG52YXIgcHJldmVudFN0YW5kYXJkS2V5RXZlbnRzID0gKGZ1bmN0aW9uIChldmVudCkge1xuICBpZiAocHJldmVudGVkS2V5c1tldmVudC5rZXlDb2RlXSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbn0pO1xuXG52YXIgc3VwcG9ydGVkRXZlbnROYW1lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYmFzZSA9ICd2aXNpYmlsaXR5Y2hhbmdlJztcblxuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBiYXNlO1xuICB9XG5cbiAgdmFyIGNhbmRpZGF0ZXMgPSBbYmFzZSwgXCJtc1wiICsgYmFzZSwgXCJ3ZWJraXRcIiArIGJhc2UsIFwibW96XCIgKyBiYXNlLCBcIm9cIiArIGJhc2VdO1xuICB2YXIgc3VwcG9ydGVkID0gZmluZChjYW5kaWRhdGVzLCBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIFwib25cIiArIGV2ZW50TmFtZSBpbiBkb2N1bWVudDtcbiAgfSk7XG4gIHJldHVybiBzdXBwb3J0ZWQgfHwgYmFzZTtcbn0oKTtcblxudmFyIHByaW1hcnlCdXR0b24gPSAwO1xudmFyIHNsb3BweUNsaWNrVGhyZXNob2xkID0gNTtcblxuZnVuY3Rpb24gaXNTbG9wcHlDbGlja1RocmVzaG9sZEV4Y2VlZGVkKG9yaWdpbmFsLCBjdXJyZW50KSB7XG4gIHJldHVybiBNYXRoLmFicyhjdXJyZW50LnggLSBvcmlnaW5hbC54KSA+PSBzbG9wcHlDbGlja1RocmVzaG9sZCB8fCBNYXRoLmFicyhjdXJyZW50LnkgLSBvcmlnaW5hbC55KSA+PSBzbG9wcHlDbGlja1RocmVzaG9sZDtcbn1cblxudmFyIGlkbGUkMSA9IHtcbiAgdHlwZTogJ0lETEUnXG59O1xuXG5mdW5jdGlvbiBnZXRDYXB0dXJlQmluZGluZ3MoX3JlZikge1xuICB2YXIgY2FuY2VsID0gX3JlZi5jYW5jZWwsXG4gICAgICBjb21wbGV0ZWQgPSBfcmVmLmNvbXBsZXRlZCxcbiAgICAgIGdldFBoYXNlID0gX3JlZi5nZXRQaGFzZSxcbiAgICAgIHNldFBoYXNlID0gX3JlZi5zZXRQaGFzZTtcbiAgcmV0dXJuIFt7XG4gICAgZXZlbnROYW1lOiAnbW91c2Vtb3ZlJyxcbiAgICBmbjogZnVuY3Rpb24gZm4oZXZlbnQpIHtcbiAgICAgIHZhciBidXR0b24gPSBldmVudC5idXR0b24sXG4gICAgICAgICAgY2xpZW50WCA9IGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgY2xpZW50WSA9IGV2ZW50LmNsaWVudFk7XG5cbiAgICAgIGlmIChidXR0b24gIT09IHByaW1hcnlCdXR0b24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcG9pbnQgPSB7XG4gICAgICAgIHg6IGNsaWVudFgsXG4gICAgICAgIHk6IGNsaWVudFlcbiAgICAgIH07XG4gICAgICB2YXIgcGhhc2UgPSBnZXRQaGFzZSgpO1xuXG4gICAgICBpZiAocGhhc2UudHlwZSA9PT0gJ0RSQUdHSU5HJykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBwaGFzZS5hY3Rpb25zLm1vdmUocG9pbnQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICEocGhhc2UudHlwZSA9PT0gJ1BFTkRJTkcnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBiZSBJRExFJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIHBlbmRpbmcgPSBwaGFzZS5wb2ludDtcblxuICAgICAgaWYgKCFpc1Nsb3BweUNsaWNrVGhyZXNob2xkRXhjZWVkZWQocGVuZGluZywgcG9pbnQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBhY3Rpb25zID0gcGhhc2UuYWN0aW9ucy5mbHVpZExpZnQocG9pbnQpO1xuICAgICAgc2V0UGhhc2Uoe1xuICAgICAgICB0eXBlOiAnRFJBR0dJTkcnLFxuICAgICAgICBhY3Rpb25zOiBhY3Rpb25zXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBldmVudE5hbWU6ICdtb3VzZXVwJyxcbiAgICBmbjogZnVuY3Rpb24gZm4oZXZlbnQpIHtcbiAgICAgIHZhciBwaGFzZSA9IGdldFBoYXNlKCk7XG5cbiAgICAgIGlmIChwaGFzZS50eXBlICE9PSAnRFJBR0dJTkcnKSB7XG4gICAgICAgIGNhbmNlbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBwaGFzZS5hY3Rpb25zLmRyb3Aoe1xuICAgICAgICBzaG91bGRCbG9ja05leHRDbGljazogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBjb21wbGV0ZWQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBldmVudE5hbWU6ICdtb3VzZWRvd24nLFxuICAgIGZuOiBmdW5jdGlvbiBmbihldmVudCkge1xuICAgICAgaWYgKGdldFBoYXNlKCkudHlwZSA9PT0gJ0RSQUdHSU5HJykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuXG4gICAgICBjYW5jZWwoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBldmVudE5hbWU6ICdrZXlkb3duJyxcbiAgICBmbjogZnVuY3Rpb24gZm4oZXZlbnQpIHtcbiAgICAgIHZhciBwaGFzZSA9IGdldFBoYXNlKCk7XG5cbiAgICAgIGlmIChwaGFzZS50eXBlID09PSAnUEVORElORycpIHtcbiAgICAgICAgY2FuY2VsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IGVzY2FwZSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwcmV2ZW50U3RhbmRhcmRLZXlFdmVudHMoZXZlbnQpO1xuICAgIH1cbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ3Jlc2l6ZScsXG4gICAgZm46IGNhbmNlbFxuICB9LCB7XG4gICAgZXZlbnROYW1lOiAnc2Nyb2xsJyxcbiAgICBvcHRpb25zOiB7XG4gICAgICBwYXNzaXZlOiB0cnVlLFxuICAgICAgY2FwdHVyZTogZmFsc2VcbiAgICB9LFxuICAgIGZuOiBmdW5jdGlvbiBmbigpIHtcbiAgICAgIGlmIChnZXRQaGFzZSgpLnR5cGUgPT09ICdQRU5ESU5HJykge1xuICAgICAgICBjYW5jZWwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBldmVudE5hbWU6ICd3ZWJraXRtb3VzZWZvcmNlZG93bicsXG4gICAgZm46IGZ1bmN0aW9uIGZuKGV2ZW50KSB7XG4gICAgICB2YXIgcGhhc2UgPSBnZXRQaGFzZSgpO1xuICAgICAgIShwaGFzZS50eXBlICE9PSAnSURMRScpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnVW5leHBlY3RlZCBwaGFzZScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcblxuICAgICAgaWYgKHBoYXNlLmFjdGlvbnMuc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3MoKSkge1xuICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGV2ZW50TmFtZTogc3VwcG9ydGVkRXZlbnROYW1lLFxuICAgIGZuOiBjYW5jZWxcbiAgfV07XG59XG5cbmZ1bmN0aW9uIHVzZU1vdXNlU2Vuc29yKGFwaSkge1xuICB2YXIgcGhhc2VSZWYgPSB1c2VSZWYoaWRsZSQxKTtcbiAgdmFyIHVuYmluZEV2ZW50c1JlZiA9IHVzZVJlZihub29wKTtcbiAgdmFyIHN0YXJ0Q2FwdHVyZUJpbmRpbmcgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXZlbnROYW1lOiAnbW91c2Vkb3duJyxcbiAgICAgIGZuOiBmdW5jdGlvbiBvbk1vdXNlRG93bihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5idXR0b24gIT09IHByaW1hcnlCdXR0b24pIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LmFsdEtleSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkcmFnZ2FibGVJZCA9IGFwaS5maW5kQ2xvc2VzdERyYWdnYWJsZUlkKGV2ZW50KTtcblxuICAgICAgICBpZiAoIWRyYWdnYWJsZUlkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFjdGlvbnMgPSBhcGkudHJ5R2V0TG9jayhkcmFnZ2FibGVJZCwgc3RvcCwge1xuICAgICAgICAgIHNvdXJjZUV2ZW50OiBldmVudFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWFjdGlvbnMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgcG9pbnQgPSB7XG4gICAgICAgICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICB5OiBldmVudC5jbGllbnRZXG4gICAgICAgIH07XG4gICAgICAgIHVuYmluZEV2ZW50c1JlZi5jdXJyZW50KCk7XG4gICAgICAgIHN0YXJ0UGVuZGluZ0RyYWcoYWN0aW9ucywgcG9pbnQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFthcGldKTtcbiAgdmFyIHByZXZlbnRGb3JjZVByZXNzQmluZGluZyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBldmVudE5hbWU6ICd3ZWJraXRtb3VzZWZvcmNld2lsbGJlZ2luJyxcbiAgICAgIGZuOiBmdW5jdGlvbiBmbihldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpZCA9IGFwaS5maW5kQ2xvc2VzdERyYWdnYWJsZUlkKGV2ZW50KTtcblxuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcGkuZmluZE9wdGlvbnNGb3JEcmFnZ2FibGUoaWQpO1xuXG4gICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3VsZFJlc3BlY3RGb3JjZVByZXNzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhcGkuY2FuR2V0TG9jayhpZCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFthcGldKTtcbiAgdmFyIGxpc3RlbkZvckNhcHR1cmUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiBsaXN0ZW5Gb3JDYXB0dXJlKCkge1xuICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICBjYXB0dXJlOiB0cnVlXG4gICAgfTtcbiAgICB1bmJpbmRFdmVudHNSZWYuY3VycmVudCA9IGJpbmRFdmVudHMod2luZG93LCBbcHJldmVudEZvcmNlUHJlc3NCaW5kaW5nLCBzdGFydENhcHR1cmVCaW5kaW5nXSwgb3B0aW9ucyk7XG4gIH0sIFtwcmV2ZW50Rm9yY2VQcmVzc0JpbmRpbmcsIHN0YXJ0Q2FwdHVyZUJpbmRpbmddKTtcbiAgdmFyIHN0b3AgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBwaGFzZVJlZi5jdXJyZW50O1xuXG4gICAgaWYgKGN1cnJlbnQudHlwZSA9PT0gJ0lETEUnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGhhc2VSZWYuY3VycmVudCA9IGlkbGUkMTtcbiAgICB1bmJpbmRFdmVudHNSZWYuY3VycmVudCgpO1xuICAgIGxpc3RlbkZvckNhcHR1cmUoKTtcbiAgfSwgW2xpc3RlbkZvckNhcHR1cmVdKTtcbiAgdmFyIGNhbmNlbCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGhhc2UgPSBwaGFzZVJlZi5jdXJyZW50O1xuICAgIHN0b3AoKTtcblxuICAgIGlmIChwaGFzZS50eXBlID09PSAnRFJBR0dJTkcnKSB7XG4gICAgICBwaGFzZS5hY3Rpb25zLmNhbmNlbCh7XG4gICAgICAgIHNob3VsZEJsb2NrTmV4dENsaWNrOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocGhhc2UudHlwZSA9PT0gJ1BFTkRJTkcnKSB7XG4gICAgICBwaGFzZS5hY3Rpb25zLmFib3J0KCk7XG4gICAgfVxuICB9LCBbc3RvcF0pO1xuICB2YXIgYmluZENhcHR1cmluZ0V2ZW50cyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIGJpbmRDYXB0dXJpbmdFdmVudHMoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICB9O1xuICAgIHZhciBiaW5kaW5ncyA9IGdldENhcHR1cmVCaW5kaW5ncyh7XG4gICAgICBjYW5jZWw6IGNhbmNlbCxcbiAgICAgIGNvbXBsZXRlZDogc3RvcCxcbiAgICAgIGdldFBoYXNlOiBmdW5jdGlvbiBnZXRQaGFzZSgpIHtcbiAgICAgICAgcmV0dXJuIHBoYXNlUmVmLmN1cnJlbnQ7XG4gICAgICB9LFxuICAgICAgc2V0UGhhc2U6IGZ1bmN0aW9uIHNldFBoYXNlKHBoYXNlKSB7XG4gICAgICAgIHBoYXNlUmVmLmN1cnJlbnQgPSBwaGFzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1bmJpbmRFdmVudHNSZWYuY3VycmVudCA9IGJpbmRFdmVudHMod2luZG93LCBiaW5kaW5ncywgb3B0aW9ucyk7XG4gIH0sIFtjYW5jZWwsIHN0b3BdKTtcbiAgdmFyIHN0YXJ0UGVuZGluZ0RyYWcgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiBzdGFydFBlbmRpbmdEcmFnKGFjdGlvbnMsIHBvaW50KSB7XG4gICAgIShwaGFzZVJlZi5jdXJyZW50LnR5cGUgPT09ICdJRExFJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdFeHBlY3RlZCB0byBtb3ZlIGZyb20gSURMRSB0byBQRU5ESU5HIGRyYWcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgcGhhc2VSZWYuY3VycmVudCA9IHtcbiAgICAgIHR5cGU6ICdQRU5ESU5HJyxcbiAgICAgIHBvaW50OiBwb2ludCxcbiAgICAgIGFjdGlvbnM6IGFjdGlvbnNcbiAgICB9O1xuICAgIGJpbmRDYXB0dXJpbmdFdmVudHMoKTtcbiAgfSwgW2JpbmRDYXB0dXJpbmdFdmVudHNdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBsaXN0ZW5Gb3JDYXB0dXJlKCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVubW91bnQoKSB7XG4gICAgICB1bmJpbmRFdmVudHNSZWYuY3VycmVudCgpO1xuICAgIH07XG4gIH0sIFtsaXN0ZW5Gb3JDYXB0dXJlXSk7XG59XG5cbnZhciBfc2Nyb2xsSnVtcEtleXM7XG5cbmZ1bmN0aW9uIG5vb3AkMSgpIHt9XG5cbnZhciBzY3JvbGxKdW1wS2V5cyA9IChfc2Nyb2xsSnVtcEtleXMgPSB7fSwgX3Njcm9sbEp1bXBLZXlzW3BhZ2VEb3duXSA9IHRydWUsIF9zY3JvbGxKdW1wS2V5c1twYWdlVXBdID0gdHJ1ZSwgX3Njcm9sbEp1bXBLZXlzW2hvbWVdID0gdHJ1ZSwgX3Njcm9sbEp1bXBLZXlzW2VuZF0gPSB0cnVlLCBfc2Nyb2xsSnVtcEtleXMpO1xuXG5mdW5jdGlvbiBnZXREcmFnZ2luZ0JpbmRpbmdzKGFjdGlvbnMsIHN0b3ApIHtcbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIHN0b3AoKTtcbiAgICBhY3Rpb25zLmNhbmNlbCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZHJvcCgpIHtcbiAgICBzdG9wKCk7XG4gICAgYWN0aW9ucy5kcm9wKCk7XG4gIH1cblxuICByZXR1cm4gW3tcbiAgICBldmVudE5hbWU6ICdrZXlkb3duJyxcbiAgICBmbjogZnVuY3Rpb24gZm4oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBlc2NhcGUpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY2FuY2VsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IHNwYWNlKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGRyb3AoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gYXJyb3dEb3duKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGFjdGlvbnMubW92ZURvd24oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gYXJyb3dVcCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBhY3Rpb25zLm1vdmVVcCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBhcnJvd1JpZ2h0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGFjdGlvbnMubW92ZVJpZ2h0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IGFycm93TGVmdCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBhY3Rpb25zLm1vdmVMZWZ0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHNjcm9sbEp1bXBLZXlzW2V2ZW50LmtleUNvZGVdKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcHJldmVudFN0YW5kYXJkS2V5RXZlbnRzKGV2ZW50KTtcbiAgICB9XG4gIH0sIHtcbiAgICBldmVudE5hbWU6ICdtb3VzZWRvd24nLFxuICAgIGZuOiBjYW5jZWxcbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ21vdXNldXAnLFxuICAgIGZuOiBjYW5jZWxcbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ2NsaWNrJyxcbiAgICBmbjogY2FuY2VsXG4gIH0sIHtcbiAgICBldmVudE5hbWU6ICd0b3VjaHN0YXJ0JyxcbiAgICBmbjogY2FuY2VsXG4gIH0sIHtcbiAgICBldmVudE5hbWU6ICdyZXNpemUnLFxuICAgIGZuOiBjYW5jZWxcbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ3doZWVsJyxcbiAgICBmbjogY2FuY2VsLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9XG4gIH0sIHtcbiAgICBldmVudE5hbWU6IHN1cHBvcnRlZEV2ZW50TmFtZSxcbiAgICBmbjogY2FuY2VsXG4gIH1dO1xufVxuXG5mdW5jdGlvbiB1c2VLZXlib2FyZFNlbnNvcihhcGkpIHtcbiAgdmFyIHVuYmluZEV2ZW50c1JlZiA9IHVzZVJlZihub29wJDEpO1xuICB2YXIgc3RhcnRDYXB0dXJlQmluZGluZyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBldmVudE5hbWU6ICdrZXlkb3duJyxcbiAgICAgIGZuOiBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSAhPT0gc3BhY2UpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZHJhZ2dhYmxlSWQgPSBhcGkuZmluZENsb3Nlc3REcmFnZ2FibGVJZChldmVudCk7XG5cbiAgICAgICAgaWYgKCFkcmFnZ2FibGVJZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcmVEcmFnID0gYXBpLnRyeUdldExvY2soZHJhZ2dhYmxlSWQsIHN0b3AsIHtcbiAgICAgICAgICBzb3VyY2VFdmVudDogZXZlbnRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFwcmVEcmFnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGlzQ2FwdHVyaW5nID0gdHJ1ZTtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBwcmVEcmFnLnNuYXBMaWZ0KCk7XG4gICAgICAgIHVuYmluZEV2ZW50c1JlZi5jdXJyZW50KCk7XG5cbiAgICAgICAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgICAhaXNDYXB0dXJpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3Qgc3RvcCBjYXB0dXJpbmcgYSBrZXlib2FyZCBkcmFnIHdoZW4gbm90IGNhcHR1cmluZycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgICBpc0NhcHR1cmluZyA9IGZhbHNlO1xuICAgICAgICAgIHVuYmluZEV2ZW50c1JlZi5jdXJyZW50KCk7XG4gICAgICAgICAgbGlzdGVuRm9yQ2FwdHVyZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdW5iaW5kRXZlbnRzUmVmLmN1cnJlbnQgPSBiaW5kRXZlbnRzKHdpbmRvdywgZ2V0RHJhZ2dpbmdCaW5kaW5ncyhhY3Rpb25zLCBzdG9wKSwge1xuICAgICAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2FwaV0pO1xuICB2YXIgbGlzdGVuRm9yQ2FwdHVyZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIHRyeVN0YXJ0Q2FwdHVyZSgpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgIH07XG4gICAgdW5iaW5kRXZlbnRzUmVmLmN1cnJlbnQgPSBiaW5kRXZlbnRzKHdpbmRvdywgW3N0YXJ0Q2FwdHVyZUJpbmRpbmddLCBvcHRpb25zKTtcbiAgfSwgW3N0YXJ0Q2FwdHVyZUJpbmRpbmddKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBsaXN0ZW5Gb3JDYXB0dXJlKCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVubW91bnQoKSB7XG4gICAgICB1bmJpbmRFdmVudHNSZWYuY3VycmVudCgpO1xuICAgIH07XG4gIH0sIFtsaXN0ZW5Gb3JDYXB0dXJlXSk7XG59XG5cbnZhciBpZGxlJDIgPSB7XG4gIHR5cGU6ICdJRExFJ1xufTtcbnZhciB0aW1lRm9yTG9uZ1ByZXNzID0gMTIwO1xudmFyIGZvcmNlUHJlc3NUaHJlc2hvbGQgPSAwLjE1O1xuXG5mdW5jdGlvbiBnZXRXaW5kb3dCaW5kaW5ncyhfcmVmKSB7XG4gIHZhciBjYW5jZWwgPSBfcmVmLmNhbmNlbCxcbiAgICAgIGdldFBoYXNlID0gX3JlZi5nZXRQaGFzZTtcbiAgcmV0dXJuIFt7XG4gICAgZXZlbnROYW1lOiAnb3JpZW50YXRpb25jaGFuZ2UnLFxuICAgIGZuOiBjYW5jZWxcbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ3Jlc2l6ZScsXG4gICAgZm46IGNhbmNlbFxuICB9LCB7XG4gICAgZXZlbnROYW1lOiAnY29udGV4dG1lbnUnLFxuICAgIGZuOiBmdW5jdGlvbiBmbihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBldmVudE5hbWU6ICdrZXlkb3duJyxcbiAgICBmbjogZnVuY3Rpb24gZm4oZXZlbnQpIHtcbiAgICAgIGlmIChnZXRQaGFzZSgpLnR5cGUgIT09ICdEUkFHR0lORycpIHtcbiAgICAgICAgY2FuY2VsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IGVzY2FwZSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgfVxuXG4gICAgICBjYW5jZWwoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBldmVudE5hbWU6IHN1cHBvcnRlZEV2ZW50TmFtZSxcbiAgICBmbjogY2FuY2VsXG4gIH1dO1xufVxuXG5mdW5jdGlvbiBnZXRIYW5kbGVCaW5kaW5ncyhfcmVmMikge1xuICB2YXIgY2FuY2VsID0gX3JlZjIuY2FuY2VsLFxuICAgICAgY29tcGxldGVkID0gX3JlZjIuY29tcGxldGVkLFxuICAgICAgZ2V0UGhhc2UgPSBfcmVmMi5nZXRQaGFzZTtcbiAgcmV0dXJuIFt7XG4gICAgZXZlbnROYW1lOiAndG91Y2htb3ZlJyxcbiAgICBvcHRpb25zOiB7XG4gICAgICBjYXB0dXJlOiBmYWxzZVxuICAgIH0sXG4gICAgZm46IGZ1bmN0aW9uIGZuKGV2ZW50KSB7XG4gICAgICB2YXIgcGhhc2UgPSBnZXRQaGFzZSgpO1xuXG4gICAgICBpZiAocGhhc2UudHlwZSAhPT0gJ0RSQUdHSU5HJykge1xuICAgICAgICBjYW5jZWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwaGFzZS5oYXNNb3ZlZCA9IHRydWU7XG4gICAgICB2YXIgX2V2ZW50JHRvdWNoZXMkID0gZXZlbnQudG91Y2hlc1swXSxcbiAgICAgICAgICBjbGllbnRYID0gX2V2ZW50JHRvdWNoZXMkLmNsaWVudFgsXG4gICAgICAgICAgY2xpZW50WSA9IF9ldmVudCR0b3VjaGVzJC5jbGllbnRZO1xuICAgICAgdmFyIHBvaW50ID0ge1xuICAgICAgICB4OiBjbGllbnRYLFxuICAgICAgICB5OiBjbGllbnRZXG4gICAgICB9O1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHBoYXNlLmFjdGlvbnMubW92ZShwb2ludCk7XG4gICAgfVxuICB9LCB7XG4gICAgZXZlbnROYW1lOiAndG91Y2hlbmQnLFxuICAgIGZuOiBmdW5jdGlvbiBmbihldmVudCkge1xuICAgICAgdmFyIHBoYXNlID0gZ2V0UGhhc2UoKTtcblxuICAgICAgaWYgKHBoYXNlLnR5cGUgIT09ICdEUkFHR0lORycpIHtcbiAgICAgICAgY2FuY2VsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHBoYXNlLmFjdGlvbnMuZHJvcCh7XG4gICAgICAgIHNob3VsZEJsb2NrTmV4dENsaWNrOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIGNvbXBsZXRlZCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ3RvdWNoY2FuY2VsJyxcbiAgICBmbjogZnVuY3Rpb24gZm4oZXZlbnQpIHtcbiAgICAgIGlmIChnZXRQaGFzZSgpLnR5cGUgIT09ICdEUkFHR0lORycpIHtcbiAgICAgICAgY2FuY2VsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNhbmNlbCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGV2ZW50TmFtZTogJ3RvdWNoZm9yY2VjaGFuZ2UnLFxuICAgIGZuOiBmdW5jdGlvbiBmbihldmVudCkge1xuICAgICAgdmFyIHBoYXNlID0gZ2V0UGhhc2UoKTtcbiAgICAgICEocGhhc2UudHlwZSAhPT0gJ0lETEUnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSkgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICAgdmFyIHRvdWNoID0gZXZlbnQudG91Y2hlc1swXTtcblxuICAgICAgaWYgKCF0b3VjaCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpc0ZvcmNlUHJlc3MgPSB0b3VjaC5mb3JjZSA+PSBmb3JjZVByZXNzVGhyZXNob2xkO1xuXG4gICAgICBpZiAoIWlzRm9yY2VQcmVzcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzaG91bGRSZXNwZWN0ID0gcGhhc2UuYWN0aW9ucy5zaG91bGRSZXNwZWN0Rm9yY2VQcmVzcygpO1xuXG4gICAgICBpZiAocGhhc2UudHlwZSA9PT0gJ1BFTkRJTkcnKSB7XG4gICAgICAgIGlmIChzaG91bGRSZXNwZWN0KSB7XG4gICAgICAgICAgY2FuY2VsKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChzaG91bGRSZXNwZWN0KSB7XG4gICAgICAgIGlmIChwaGFzZS5oYXNNb3ZlZCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY2FuY2VsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBldmVudE5hbWU6IHN1cHBvcnRlZEV2ZW50TmFtZSxcbiAgICBmbjogY2FuY2VsXG4gIH1dO1xufVxuXG5mdW5jdGlvbiB1c2VUb3VjaFNlbnNvcihhcGkpIHtcbiAgdmFyIHBoYXNlUmVmID0gdXNlUmVmKGlkbGUkMik7XG4gIHZhciB1bmJpbmRFdmVudHNSZWYgPSB1c2VSZWYobm9vcCk7XG4gIHZhciBnZXRQaGFzZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIGdldFBoYXNlKCkge1xuICAgIHJldHVybiBwaGFzZVJlZi5jdXJyZW50O1xuICB9LCBbXSk7XG4gIHZhciBzZXRQaGFzZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIHNldFBoYXNlKHBoYXNlKSB7XG4gICAgcGhhc2VSZWYuY3VycmVudCA9IHBoYXNlO1xuICB9LCBbXSk7XG4gIHZhciBzdGFydENhcHR1cmVCaW5kaW5nID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV2ZW50TmFtZTogJ3RvdWNoc3RhcnQnLFxuICAgICAgZm46IGZ1bmN0aW9uIG9uVG91Y2hTdGFydChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkcmFnZ2FibGVJZCA9IGFwaS5maW5kQ2xvc2VzdERyYWdnYWJsZUlkKGV2ZW50KTtcblxuICAgICAgICBpZiAoIWRyYWdnYWJsZUlkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFjdGlvbnMgPSBhcGkudHJ5R2V0TG9jayhkcmFnZ2FibGVJZCwgc3RvcCwge1xuICAgICAgICAgIHNvdXJjZUV2ZW50OiBldmVudFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWFjdGlvbnMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG91Y2ggPSBldmVudC50b3VjaGVzWzBdO1xuICAgICAgICB2YXIgY2xpZW50WCA9IHRvdWNoLmNsaWVudFgsXG4gICAgICAgICAgICBjbGllbnRZID0gdG91Y2guY2xpZW50WTtcbiAgICAgICAgdmFyIHBvaW50ID0ge1xuICAgICAgICAgIHg6IGNsaWVudFgsXG4gICAgICAgICAgeTogY2xpZW50WVxuICAgICAgICB9O1xuICAgICAgICB1bmJpbmRFdmVudHNSZWYuY3VycmVudCgpO1xuICAgICAgICBzdGFydFBlbmRpbmdEcmFnKGFjdGlvbnMsIHBvaW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbYXBpXSk7XG4gIHZhciBsaXN0ZW5Gb3JDYXB0dXJlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gbGlzdGVuRm9yQ2FwdHVyZSgpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICBwYXNzaXZlOiBmYWxzZVxuICAgIH07XG4gICAgdW5iaW5kRXZlbnRzUmVmLmN1cnJlbnQgPSBiaW5kRXZlbnRzKHdpbmRvdywgW3N0YXJ0Q2FwdHVyZUJpbmRpbmddLCBvcHRpb25zKTtcbiAgfSwgW3N0YXJ0Q2FwdHVyZUJpbmRpbmddKTtcbiAgdmFyIHN0b3AgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBwaGFzZVJlZi5jdXJyZW50O1xuXG4gICAgaWYgKGN1cnJlbnQudHlwZSA9PT0gJ0lETEUnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnQudHlwZSA9PT0gJ1BFTkRJTkcnKSB7XG4gICAgICBjbGVhclRpbWVvdXQoY3VycmVudC5sb25nUHJlc3NUaW1lcklkKTtcbiAgICB9XG5cbiAgICBzZXRQaGFzZShpZGxlJDIpO1xuICAgIHVuYmluZEV2ZW50c1JlZi5jdXJyZW50KCk7XG4gICAgbGlzdGVuRm9yQ2FwdHVyZSgpO1xuICB9LCBbbGlzdGVuRm9yQ2FwdHVyZSwgc2V0UGhhc2VdKTtcbiAgdmFyIGNhbmNlbCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGhhc2UgPSBwaGFzZVJlZi5jdXJyZW50O1xuICAgIHN0b3AoKTtcblxuICAgIGlmIChwaGFzZS50eXBlID09PSAnRFJBR0dJTkcnKSB7XG4gICAgICBwaGFzZS5hY3Rpb25zLmNhbmNlbCh7XG4gICAgICAgIHNob3VsZEJsb2NrTmV4dENsaWNrOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAocGhhc2UudHlwZSA9PT0gJ1BFTkRJTkcnKSB7XG4gICAgICBwaGFzZS5hY3Rpb25zLmFib3J0KCk7XG4gICAgfVxuICB9LCBbc3RvcF0pO1xuICB2YXIgYmluZENhcHR1cmluZ0V2ZW50cyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIGJpbmRDYXB0dXJpbmdFdmVudHMoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgcGFzc2l2ZTogZmFsc2VcbiAgICB9O1xuICAgIHZhciBhcmdzID0ge1xuICAgICAgY2FuY2VsOiBjYW5jZWwsXG4gICAgICBjb21wbGV0ZWQ6IHN0b3AsXG4gICAgICBnZXRQaGFzZTogZ2V0UGhhc2VcbiAgICB9O1xuICAgIHZhciB1bmJpbmRUYXJnZXQgPSBiaW5kRXZlbnRzKHdpbmRvdywgZ2V0SGFuZGxlQmluZGluZ3MoYXJncyksIG9wdGlvbnMpO1xuICAgIHZhciB1bmJpbmRXaW5kb3cgPSBiaW5kRXZlbnRzKHdpbmRvdywgZ2V0V2luZG93QmluZGluZ3MoYXJncyksIG9wdGlvbnMpO1xuXG4gICAgdW5iaW5kRXZlbnRzUmVmLmN1cnJlbnQgPSBmdW5jdGlvbiB1bmJpbmRBbGwoKSB7XG4gICAgICB1bmJpbmRUYXJnZXQoKTtcbiAgICAgIHVuYmluZFdpbmRvdygpO1xuICAgIH07XG4gIH0sIFtjYW5jZWwsIGdldFBoYXNlLCBzdG9wXSk7XG4gIHZhciBzdGFydERyYWdnaW5nID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gc3RhcnREcmFnZ2luZygpIHtcbiAgICB2YXIgcGhhc2UgPSBnZXRQaGFzZSgpO1xuICAgICEocGhhc2UudHlwZSA9PT0gJ1BFTkRJTkcnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJDYW5ub3Qgc3RhcnQgZHJhZ2dpbmcgZnJvbSBwaGFzZSBcIiArIHBoYXNlLnR5cGUpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9ucyA9IHBoYXNlLmFjdGlvbnMuZmx1aWRMaWZ0KHBoYXNlLnBvaW50KTtcbiAgICBzZXRQaGFzZSh7XG4gICAgICB0eXBlOiAnRFJBR0dJTkcnLFxuICAgICAgYWN0aW9uczogYWN0aW9ucyxcbiAgICAgIGhhc01vdmVkOiBmYWxzZVxuICAgIH0pO1xuICB9LCBbZ2V0UGhhc2UsIHNldFBoYXNlXSk7XG4gIHZhciBzdGFydFBlbmRpbmdEcmFnID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gc3RhcnRQZW5kaW5nRHJhZyhhY3Rpb25zLCBwb2ludCkge1xuICAgICEoZ2V0UGhhc2UoKS50eXBlID09PSAnSURMRScpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgdG8gbW92ZSBmcm9tIElETEUgdG8gUEVORElORyBkcmFnJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBsb25nUHJlc3NUaW1lcklkID0gc2V0VGltZW91dChzdGFydERyYWdnaW5nLCB0aW1lRm9yTG9uZ1ByZXNzKTtcbiAgICBzZXRQaGFzZSh7XG4gICAgICB0eXBlOiAnUEVORElORycsXG4gICAgICBwb2ludDogcG9pbnQsXG4gICAgICBhY3Rpb25zOiBhY3Rpb25zLFxuICAgICAgbG9uZ1ByZXNzVGltZXJJZDogbG9uZ1ByZXNzVGltZXJJZFxuICAgIH0pO1xuICAgIGJpbmRDYXB0dXJpbmdFdmVudHMoKTtcbiAgfSwgW2JpbmRDYXB0dXJpbmdFdmVudHMsIGdldFBoYXNlLCBzZXRQaGFzZSwgc3RhcnREcmFnZ2luZ10pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uIG1vdW50KCkge1xuICAgIGxpc3RlbkZvckNhcHR1cmUoKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgICAgIHVuYmluZEV2ZW50c1JlZi5jdXJyZW50KCk7XG4gICAgICB2YXIgcGhhc2UgPSBnZXRQaGFzZSgpO1xuXG4gICAgICBpZiAocGhhc2UudHlwZSA9PT0gJ1BFTkRJTkcnKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChwaGFzZS5sb25nUHJlc3NUaW1lcklkKTtcbiAgICAgICAgc2V0UGhhc2UoaWRsZSQyKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbZ2V0UGhhc2UsIGxpc3RlbkZvckNhcHR1cmUsIHNldFBoYXNlXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gd2Via2l0SGFjaygpIHtcbiAgICB2YXIgdW5iaW5kID0gYmluZEV2ZW50cyh3aW5kb3csIFt7XG4gICAgICBldmVudE5hbWU6ICd0b3VjaG1vdmUnLFxuICAgICAgZm46IGZ1bmN0aW9uIGZuKCkge30sXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgICAgICBwYXNzaXZlOiBmYWxzZVxuICAgICAgfVxuICAgIH1dKTtcbiAgICByZXR1cm4gdW5iaW5kO1xuICB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIHVzZVZhbGlkYXRlU2Vuc29ySG9va3Moc2Vuc29ySG9va3MpIHtcbiAgdXNlRGV2KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcHJldmlvdXNSZWYgPSB1c2VQcmV2aW91cyhzZW5zb3JIb29rcyk7XG4gICAgdXNlRGV2U2V0dXBXYXJuaW5nKGZ1bmN0aW9uICgpIHtcbiAgICAgICEocHJldmlvdXNSZWYuY3VycmVudC5sZW5ndGggPT09IHNlbnNvckhvb2tzLmxlbmd0aCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgY2hhbmdlIHRoZSBhbW91bnQgb2Ygc2Vuc29yIGhvb2tzIGFmdGVyIG1vdW50aW5nJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIH0pO1xuICB9KTtcbn1cblxudmFyIGludGVyYWN0aXZlVGFnTmFtZXMgPSB7XG4gIGlucHV0OiB0cnVlLFxuICBidXR0b246IHRydWUsXG4gIHRleHRhcmVhOiB0cnVlLFxuICBzZWxlY3Q6IHRydWUsXG4gIG9wdGlvbjogdHJ1ZSxcbiAgb3B0Z3JvdXA6IHRydWUsXG4gIHZpZGVvOiB0cnVlLFxuICBhdWRpbzogdHJ1ZVxufTtcblxuZnVuY3Rpb24gaXNBbkludGVyYWN0aXZlRWxlbWVudChwYXJlbnQsIGN1cnJlbnQpIHtcbiAgaWYgKGN1cnJlbnQgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBoYXNBbkludGVyYWN0aXZlVGFnID0gQm9vbGVhbihpbnRlcmFjdGl2ZVRhZ05hbWVzW2N1cnJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpXSk7XG5cbiAgaWYgKGhhc0FuSW50ZXJhY3RpdmVUYWcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHZhciBhdHRyaWJ1dGUgPSBjdXJyZW50LmdldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJyk7XG5cbiAgaWYgKGF0dHJpYnV0ZSA9PT0gJ3RydWUnIHx8IGF0dHJpYnV0ZSA9PT0gJycpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChjdXJyZW50ID09PSBwYXJlbnQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gaXNBbkludGVyYWN0aXZlRWxlbWVudChwYXJlbnQsIGN1cnJlbnQucGFyZW50RWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGlzRXZlbnRJbkludGVyYWN0aXZlRWxlbWVudChkcmFnZ2FibGUsIGV2ZW50KSB7XG4gIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cbiAgaWYgKCFpc0h0bWxFbGVtZW50KHRhcmdldCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gaXNBbkludGVyYWN0aXZlRWxlbWVudChkcmFnZ2FibGUsIHRhcmdldCk7XG59XG5cbnZhciBnZXRCb3JkZXJCb3hDZW50ZXJQb3NpdGlvbiA9IChmdW5jdGlvbiAoZWwpIHtcbiAgcmV0dXJuIGdldFJlY3QoZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLmNlbnRlcjtcbn0pO1xuXG5mdW5jdGlvbiBpc0VsZW1lbnQoZWwpIHtcbiAgcmV0dXJuIGVsIGluc3RhbmNlb2YgZ2V0V2luZG93RnJvbUVsKGVsKS5FbGVtZW50O1xufVxuXG52YXIgc3VwcG9ydGVkTWF0Y2hlc05hbWUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBiYXNlID0gJ21hdGNoZXMnO1xuXG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGJhc2U7XG4gIH1cblxuICB2YXIgY2FuZGlkYXRlcyA9IFtiYXNlLCAnbXNNYXRjaGVzU2VsZWN0b3InLCAnd2Via2l0TWF0Y2hlc1NlbGVjdG9yJ107XG4gIHZhciB2YWx1ZSA9IGZpbmQoY2FuZGlkYXRlcywgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gbmFtZSBpbiBFbGVtZW50LnByb3RvdHlwZTtcbiAgfSk7XG4gIHJldHVybiB2YWx1ZSB8fCBiYXNlO1xufSgpO1xuXG5mdW5jdGlvbiBjbG9zZXN0UG9ueWZpbGwoZWwsIHNlbGVjdG9yKSB7XG4gIGlmIChlbCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoZWxbc3VwcG9ydGVkTWF0Y2hlc05hbWVdKHNlbGVjdG9yKSkge1xuICAgIHJldHVybiBlbDtcbiAgfVxuXG4gIHJldHVybiBjbG9zZXN0UG9ueWZpbGwoZWwucGFyZW50RWxlbWVudCwgc2VsZWN0b3IpO1xufVxuXG5mdW5jdGlvbiBjbG9zZXN0JDEoZWwsIHNlbGVjdG9yKSB7XG4gIGlmIChlbC5jbG9zZXN0KSB7XG4gICAgcmV0dXJuIGVsLmNsb3Nlc3Qoc2VsZWN0b3IpO1xuICB9XG5cbiAgcmV0dXJuIGNsb3Nlc3RQb255ZmlsbChlbCwgc2VsZWN0b3IpO1xufVxuXG5mdW5jdGlvbiBnZXRTZWxlY3Rvcihjb250ZXh0SWQpIHtcbiAgcmV0dXJuIFwiW1wiICsgZHJhZ0hhbmRsZS5jb250ZXh0SWQgKyBcIj1cXFwiXCIgKyBjb250ZXh0SWQgKyBcIlxcXCJdXCI7XG59XG5cbmZ1bmN0aW9uIGZpbmRDbG9zZXN0RHJhZ0hhbmRsZUZyb21FdmVudChjb250ZXh0SWQsIGV2ZW50KSB7XG4gIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cbiAgaWYgKCFpc0VsZW1lbnQodGFyZ2V0KSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoJ2V2ZW50LnRhcmdldCBtdXN0IGJlIGEgRWxlbWVudCcpIDogdm9pZCAwO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHNlbGVjdG9yID0gZ2V0U2VsZWN0b3IoY29udGV4dElkKTtcbiAgdmFyIGhhbmRsZSA9IGNsb3Nlc3QkMSh0YXJnZXQsIHNlbGVjdG9yKTtcblxuICBpZiAoIWhhbmRsZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKCFpc0h0bWxFbGVtZW50KGhhbmRsZSkpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCdkcmFnIGhhbmRsZSBtdXN0IGJlIGEgSFRNTEVsZW1lbnQnKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBoYW5kbGU7XG59XG5cbmZ1bmN0aW9uIHRyeUdldENsb3Nlc3REcmFnZ2FibGVJZEZyb21FdmVudChjb250ZXh0SWQsIGV2ZW50KSB7XG4gIHZhciBoYW5kbGUgPSBmaW5kQ2xvc2VzdERyYWdIYW5kbGVGcm9tRXZlbnQoY29udGV4dElkLCBldmVudCk7XG5cbiAgaWYgKCFoYW5kbGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBoYW5kbGUuZ2V0QXR0cmlidXRlKGRyYWdIYW5kbGUuZHJhZ2dhYmxlSWQpO1xufVxuXG5mdW5jdGlvbiBmaW5kRHJhZ2dhYmxlKGNvbnRleHRJZCwgZHJhZ2dhYmxlSWQpIHtcbiAgdmFyIHNlbGVjdG9yID0gXCJbXCIgKyBkcmFnZ2FibGUuY29udGV4dElkICsgXCI9XFxcIlwiICsgY29udGV4dElkICsgXCJcXFwiXVwiO1xuICB2YXIgcG9zc2libGUgPSB0b0FycmF5KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbiAgdmFyIGRyYWdnYWJsZSQxID0gZmluZChwb3NzaWJsZSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZShkcmFnZ2FibGUuaWQpID09PSBkcmFnZ2FibGVJZDtcbiAgfSk7XG5cbiAgaWYgKCFkcmFnZ2FibGUkMSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKCFpc0h0bWxFbGVtZW50KGRyYWdnYWJsZSQxKSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoJ0RyYWdnYWJsZSBlbGVtZW50IGlzIG5vdCBhIEhUTUxFbGVtZW50JykgOiB2b2lkIDA7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gZHJhZ2dhYmxlJDE7XG59XG5cbmZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGV2ZW50KSB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG59XG5cbmZ1bmN0aW9uIF9pc0FjdGl2ZShfcmVmKSB7XG4gIHZhciBleHBlY3RlZCA9IF9yZWYuZXhwZWN0ZWQsXG4gICAgICBwaGFzZSA9IF9yZWYucGhhc2UsXG4gICAgICBpc0xvY2tBY3RpdmUgPSBfcmVmLmlzTG9ja0FjdGl2ZSxcbiAgICAgIHNob3VsZFdhcm4gPSBfcmVmLnNob3VsZFdhcm47XG5cbiAgaWYgKCFpc0xvY2tBY3RpdmUoKSkge1xuICAgIGlmIChzaG91bGRXYXJuKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiXFxuICAgICAgICBDYW5ub3QgcGVyZm9ybSBhY3Rpb24uXFxuICAgICAgICBUaGUgc2Vuc29yIG5vIGxvbmdlciBoYXMgYW4gYWN0aW9uIGxvY2suXFxuXFxuICAgICAgICBUaXBzOlxcblxcbiAgICAgICAgLSBUaHJvdyBhd2F5IHlvdXIgYWN0aW9uIGhhbmRsZXJzIHdoZW4gZm9yY2VTdG9wKCkgaXMgY2FsbGVkXFxuICAgICAgICAtIENoZWNrIGFjdGlvbnMuaXNBY3RpdmUoKSBpZiB5b3UgcmVhbGx5IG5lZWQgdG9cXG4gICAgICBcIikgOiB2b2lkIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGV4cGVjdGVkICE9PSBwaGFzZSkge1xuICAgIGlmIChzaG91bGRXYXJuKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiXFxuICAgICAgICBDYW5ub3QgcGVyZm9ybSBhY3Rpb24uXFxuICAgICAgICBUaGUgYWN0aW9ucyB5b3UgdXNlZCBiZWxvbmcgdG8gYW4gb3V0ZGF0ZWQgcGhhc2VcXG5cXG4gICAgICAgIEN1cnJlbnQgcGhhc2U6IFwiICsgZXhwZWN0ZWQgKyBcIlxcbiAgICAgICAgWW91IGNhbGxlZCBhbiBhY3Rpb24gZnJvbSBvdXRkYXRlZCBwaGFzZTogXCIgKyBwaGFzZSArIFwiXFxuXFxuICAgICAgICBUaXBzOlxcblxcbiAgICAgICAgLSBEbyBub3QgdXNlIHByZURyYWdBY3Rpb25zIGFjdGlvbnMgYWZ0ZXIgY2FsbGluZyBwcmVEcmFnQWN0aW9ucy5saWZ0KClcXG4gICAgICBcIikgOiB2b2lkIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNhblN0YXJ0KF9yZWYyKSB7XG4gIHZhciBsb2NrQVBJID0gX3JlZjIubG9ja0FQSSxcbiAgICAgIHN0b3JlID0gX3JlZjIuc3RvcmUsXG4gICAgICByZWdpc3RyeSA9IF9yZWYyLnJlZ2lzdHJ5LFxuICAgICAgZHJhZ2dhYmxlSWQgPSBfcmVmMi5kcmFnZ2FibGVJZDtcblxuICBpZiAobG9ja0FQSS5pc0NsYWltZWQoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBlbnRyeSA9IHJlZ2lzdHJ5LmRyYWdnYWJsZS5maW5kQnlJZChkcmFnZ2FibGVJZCk7XG5cbiAgaWYgKCFlbnRyeSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoXCJVbmFibGUgdG8gZmluZCBkcmFnZ2FibGUgd2l0aCBpZDogXCIgKyBkcmFnZ2FibGVJZCkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCFlbnRyeS5vcHRpb25zLmlzRW5hYmxlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICghY2FuU3RhcnREcmFnKHN0b3JlLmdldFN0YXRlKCksIGRyYWdnYWJsZUlkKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB0cnlTdGFydChfcmVmMykge1xuICB2YXIgbG9ja0FQSSA9IF9yZWYzLmxvY2tBUEksXG4gICAgICBjb250ZXh0SWQgPSBfcmVmMy5jb250ZXh0SWQsXG4gICAgICBzdG9yZSA9IF9yZWYzLnN0b3JlLFxuICAgICAgcmVnaXN0cnkgPSBfcmVmMy5yZWdpc3RyeSxcbiAgICAgIGRyYWdnYWJsZUlkID0gX3JlZjMuZHJhZ2dhYmxlSWQsXG4gICAgICBmb3JjZVNlbnNvclN0b3AgPSBfcmVmMy5mb3JjZVNlbnNvclN0b3AsXG4gICAgICBzb3VyY2VFdmVudCA9IF9yZWYzLnNvdXJjZUV2ZW50O1xuICB2YXIgc2hvdWxkU3RhcnQgPSBjYW5TdGFydCh7XG4gICAgbG9ja0FQSTogbG9ja0FQSSxcbiAgICBzdG9yZTogc3RvcmUsXG4gICAgcmVnaXN0cnk6IHJlZ2lzdHJ5LFxuICAgIGRyYWdnYWJsZUlkOiBkcmFnZ2FibGVJZFxuICB9KTtcblxuICBpZiAoIXNob3VsZFN0YXJ0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgZW50cnkgPSByZWdpc3RyeS5kcmFnZ2FibGUuZ2V0QnlJZChkcmFnZ2FibGVJZCk7XG4gIHZhciBlbCA9IGZpbmREcmFnZ2FibGUoY29udGV4dElkLCBlbnRyeS5kZXNjcmlwdG9yLmlkKTtcblxuICBpZiAoIWVsKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhcIlVuYWJsZSB0byBmaW5kIGRyYWdnYWJsZSBlbGVtZW50IHdpdGggaWQ6IFwiICsgZHJhZ2dhYmxlSWQpIDogdm9pZCAwO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHNvdXJjZUV2ZW50ICYmICFlbnRyeS5vcHRpb25zLmNhbkRyYWdJbnRlcmFjdGl2ZUVsZW1lbnRzICYmIGlzRXZlbnRJbkludGVyYWN0aXZlRWxlbWVudChlbCwgc291cmNlRXZlbnQpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgbG9jayA9IGxvY2tBUEkuY2xhaW0oZm9yY2VTZW5zb3JTdG9wIHx8IG5vb3ApO1xuICB2YXIgcGhhc2UgPSAnUFJFX0RSQUcnO1xuXG4gIGZ1bmN0aW9uIGdldFNob3VsZFJlc3BlY3RGb3JjZVByZXNzKCkge1xuICAgIHJldHVybiBlbnRyeS5vcHRpb25zLnNob3VsZFJlc3BlY3RGb3JjZVByZXNzO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNMb2NrQWN0aXZlKCkge1xuICAgIHJldHVybiBsb2NrQVBJLmlzQWN0aXZlKGxvY2spO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJ5RGlzcGF0Y2goZXhwZWN0ZWQsIGdldEFjdGlvbikge1xuICAgIGlmIChfaXNBY3RpdmUoe1xuICAgICAgZXhwZWN0ZWQ6IGV4cGVjdGVkLFxuICAgICAgcGhhc2U6IHBoYXNlLFxuICAgICAgaXNMb2NrQWN0aXZlOiBpc0xvY2tBY3RpdmUsXG4gICAgICBzaG91bGRXYXJuOiB0cnVlXG4gICAgfSkpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKGdldEFjdGlvbigpKTtcbiAgICB9XG4gIH1cblxuICB2YXIgdHJ5RGlzcGF0Y2hXaGVuRHJhZ2dpbmcgPSB0cnlEaXNwYXRjaC5iaW5kKG51bGwsICdEUkFHR0lORycpO1xuXG4gIGZ1bmN0aW9uIGxpZnQkMShhcmdzKSB7XG4gICAgZnVuY3Rpb24gY29tcGxldGVkKCkge1xuICAgICAgbG9ja0FQSS5yZWxlYXNlKCk7XG4gICAgICBwaGFzZSA9ICdDT01QTEVURUQnO1xuICAgIH1cblxuICAgIGlmIChwaGFzZSAhPT0gJ1BSRV9EUkFHJykge1xuICAgICAgY29tcGxldGVkKCk7XG4gICAgICAhKHBoYXNlID09PSAnUFJFX0RSQUcnKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJDYW5ub3QgbGlmdCBpbiBwaGFzZSBcIiArIHBoYXNlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfVxuXG4gICAgc3RvcmUuZGlzcGF0Y2gobGlmdChhcmdzLmxpZnRBY3Rpb25BcmdzKSk7XG4gICAgcGhhc2UgPSAnRFJBR0dJTkcnO1xuXG4gICAgZnVuY3Rpb24gZmluaXNoKHJlYXNvbiwgb3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgIHNob3VsZEJsb2NrTmV4dENsaWNrOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBhcmdzLmNsZWFudXAoKTtcblxuICAgICAgaWYgKG9wdGlvbnMuc2hvdWxkQmxvY2tOZXh0Q2xpY2spIHtcbiAgICAgICAgdmFyIHVuYmluZCA9IGJpbmRFdmVudHMod2luZG93LCBbe1xuICAgICAgICAgIGV2ZW50TmFtZTogJ2NsaWNrJyxcbiAgICAgICAgICBmbjogcHJldmVudERlZmF1bHQsXG4gICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgb25jZTogdHJ1ZSxcbiAgICAgICAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuICAgICAgICBzZXRUaW1lb3V0KHVuYmluZCk7XG4gICAgICB9XG5cbiAgICAgIGNvbXBsZXRlZCgpO1xuICAgICAgc3RvcmUuZGlzcGF0Y2goZHJvcCh7XG4gICAgICAgIHJlYXNvbjogcmVhc29uXG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgIGlzQWN0aXZlOiBmdW5jdGlvbiBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIF9pc0FjdGl2ZSh7XG4gICAgICAgICAgZXhwZWN0ZWQ6ICdEUkFHR0lORycsXG4gICAgICAgICAgcGhhc2U6IHBoYXNlLFxuICAgICAgICAgIGlzTG9ja0FjdGl2ZTogaXNMb2NrQWN0aXZlLFxuICAgICAgICAgIHNob3VsZFdhcm46IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHNob3VsZFJlc3BlY3RGb3JjZVByZXNzOiBnZXRTaG91bGRSZXNwZWN0Rm9yY2VQcmVzcyxcbiAgICAgIGRyb3A6IGZ1bmN0aW9uIGRyb3Aob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZmluaXNoKCdEUk9QJywgb3B0aW9ucyk7XG4gICAgICB9LFxuICAgICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZmluaXNoKCdDQU5DRUwnLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LCBhcmdzLmFjdGlvbnMpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1aWRMaWZ0KGNsaWVudFNlbGVjdGlvbikge1xuICAgIHZhciBtb3ZlJDEgPSByYWZTY2hkKGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgIHRyeURpc3BhdGNoV2hlbkRyYWdnaW5nKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG1vdmUoe1xuICAgICAgICAgIGNsaWVudDogY2xpZW50XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdmFyIGFwaSA9IGxpZnQkMSh7XG4gICAgICBsaWZ0QWN0aW9uQXJnczoge1xuICAgICAgICBpZDogZHJhZ2dhYmxlSWQsXG4gICAgICAgIGNsaWVudFNlbGVjdGlvbjogY2xpZW50U2VsZWN0aW9uLFxuICAgICAgICBtb3ZlbWVudE1vZGU6ICdGTFVJRCdcbiAgICAgIH0sXG4gICAgICBjbGVhbnVwOiBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICByZXR1cm4gbW92ZSQxLmNhbmNlbCgpO1xuICAgICAgfSxcbiAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgbW92ZTogbW92ZSQxXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBhcGksIHtcbiAgICAgIG1vdmU6IG1vdmUkMVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc25hcExpZnQoKSB7XG4gICAgdmFyIGFjdGlvbnMgPSB7XG4gICAgICBtb3ZlVXA6IGZ1bmN0aW9uIG1vdmVVcCQxKCkge1xuICAgICAgICByZXR1cm4gdHJ5RGlzcGF0Y2hXaGVuRHJhZ2dpbmcobW92ZVVwKTtcbiAgICAgIH0sXG4gICAgICBtb3ZlUmlnaHQ6IGZ1bmN0aW9uIG1vdmVSaWdodCQxKCkge1xuICAgICAgICByZXR1cm4gdHJ5RGlzcGF0Y2hXaGVuRHJhZ2dpbmcobW92ZVJpZ2h0KTtcbiAgICAgIH0sXG4gICAgICBtb3ZlRG93bjogZnVuY3Rpb24gbW92ZURvd24kMSgpIHtcbiAgICAgICAgcmV0dXJuIHRyeURpc3BhdGNoV2hlbkRyYWdnaW5nKG1vdmVEb3duKTtcbiAgICAgIH0sXG4gICAgICBtb3ZlTGVmdDogZnVuY3Rpb24gbW92ZUxlZnQkMSgpIHtcbiAgICAgICAgcmV0dXJuIHRyeURpc3BhdGNoV2hlbkRyYWdnaW5nKG1vdmVMZWZ0KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBsaWZ0JDEoe1xuICAgICAgbGlmdEFjdGlvbkFyZ3M6IHtcbiAgICAgICAgaWQ6IGRyYWdnYWJsZUlkLFxuICAgICAgICBjbGllbnRTZWxlY3Rpb246IGdldEJvcmRlckJveENlbnRlclBvc2l0aW9uKGVsKSxcbiAgICAgICAgbW92ZW1lbnRNb2RlOiAnU05BUCdcbiAgICAgIH0sXG4gICAgICBjbGVhbnVwOiBub29wLFxuICAgICAgYWN0aW9uczogYWN0aW9uc1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWJvcnRQcmVEcmFnKCkge1xuICAgIHZhciBzaG91bGRSZWxlYXNlID0gX2lzQWN0aXZlKHtcbiAgICAgIGV4cGVjdGVkOiAnUFJFX0RSQUcnLFxuICAgICAgcGhhc2U6IHBoYXNlLFxuICAgICAgaXNMb2NrQWN0aXZlOiBpc0xvY2tBY3RpdmUsXG4gICAgICBzaG91bGRXYXJuOiB0cnVlXG4gICAgfSk7XG5cbiAgICBpZiAoc2hvdWxkUmVsZWFzZSkge1xuICAgICAgbG9ja0FQSS5yZWxlYXNlKCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByZURyYWcgPSB7XG4gICAgaXNBY3RpdmU6IGZ1bmN0aW9uIGlzQWN0aXZlKCkge1xuICAgICAgcmV0dXJuIF9pc0FjdGl2ZSh7XG4gICAgICAgIGV4cGVjdGVkOiAnUFJFX0RSQUcnLFxuICAgICAgICBwaGFzZTogcGhhc2UsXG4gICAgICAgIGlzTG9ja0FjdGl2ZTogaXNMb2NrQWN0aXZlLFxuICAgICAgICBzaG91bGRXYXJuOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBzaG91bGRSZXNwZWN0Rm9yY2VQcmVzczogZ2V0U2hvdWxkUmVzcGVjdEZvcmNlUHJlc3MsXG4gICAgZmx1aWRMaWZ0OiBmbHVpZExpZnQsXG4gICAgc25hcExpZnQ6IHNuYXBMaWZ0LFxuICAgIGFib3J0OiBhYm9ydFByZURyYWdcbiAgfTtcbiAgcmV0dXJuIHByZURyYWc7XG59XG5cbnZhciBkZWZhdWx0U2Vuc29ycyA9IFt1c2VNb3VzZVNlbnNvciwgdXNlS2V5Ym9hcmRTZW5zb3IsIHVzZVRvdWNoU2Vuc29yXTtcbmZ1bmN0aW9uIHVzZVNlbnNvck1hcnNoYWwoX3JlZjQpIHtcbiAgdmFyIGNvbnRleHRJZCA9IF9yZWY0LmNvbnRleHRJZCxcbiAgICAgIHN0b3JlID0gX3JlZjQuc3RvcmUsXG4gICAgICByZWdpc3RyeSA9IF9yZWY0LnJlZ2lzdHJ5LFxuICAgICAgY3VzdG9tU2Vuc29ycyA9IF9yZWY0LmN1c3RvbVNlbnNvcnMsXG4gICAgICBlbmFibGVEZWZhdWx0U2Vuc29ycyA9IF9yZWY0LmVuYWJsZURlZmF1bHRTZW5zb3JzO1xuICB2YXIgdXNlU2Vuc29ycyA9IFtdLmNvbmNhdChlbmFibGVEZWZhdWx0U2Vuc29ycyA/IGRlZmF1bHRTZW5zb3JzIDogW10sIGN1c3RvbVNlbnNvcnMgfHwgW10pO1xuICB2YXIgbG9ja0FQSSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY3JlYXRlKCk7XG4gIH0pWzBdO1xuICB2YXIgdHJ5QWJhbmRvbkxvY2sgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiB0cnlBYmFuZG9uTG9jayhwcmV2aW91cywgY3VycmVudCkge1xuICAgIGlmIChwcmV2aW91cy5pc0RyYWdnaW5nICYmICFjdXJyZW50LmlzRHJhZ2dpbmcpIHtcbiAgICAgIGxvY2tBUEkudHJ5QWJhbmRvbigpO1xuICAgIH1cbiAgfSwgW2xvY2tBUEldKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiBsaXN0ZW5Ub1N0b3JlKCkge1xuICAgIHZhciBwcmV2aW91cyA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgdmFyIHVuc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgIHRyeUFiYW5kb25Mb2NrKHByZXZpb3VzLCBjdXJyZW50KTtcbiAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5zdWJzY3JpYmU7XG4gIH0sIFtsb2NrQVBJLCBzdG9yZSwgdHJ5QWJhbmRvbkxvY2tdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGxvY2tBUEkudHJ5QWJhbmRvbjtcbiAgfSwgW2xvY2tBUEkudHJ5QWJhbmRvbl0pO1xuICB2YXIgY2FuR2V0TG9jayA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChkcmFnZ2FibGVJZCkge1xuICAgIHJldHVybiBjYW5TdGFydCh7XG4gICAgICBsb2NrQVBJOiBsb2NrQVBJLFxuICAgICAgcmVnaXN0cnk6IHJlZ2lzdHJ5LFxuICAgICAgc3RvcmU6IHN0b3JlLFxuICAgICAgZHJhZ2dhYmxlSWQ6IGRyYWdnYWJsZUlkXG4gICAgfSk7XG4gIH0sIFtsb2NrQVBJLCByZWdpc3RyeSwgc3RvcmVdKTtcbiAgdmFyIHRyeUdldExvY2sgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZHJhZ2dhYmxlSWQsIGZvcmNlU3RvcCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0cnlTdGFydCh7XG4gICAgICBsb2NrQVBJOiBsb2NrQVBJLFxuICAgICAgcmVnaXN0cnk6IHJlZ2lzdHJ5LFxuICAgICAgY29udGV4dElkOiBjb250ZXh0SWQsXG4gICAgICBzdG9yZTogc3RvcmUsXG4gICAgICBkcmFnZ2FibGVJZDogZHJhZ2dhYmxlSWQsXG4gICAgICBmb3JjZVNlbnNvclN0b3A6IGZvcmNlU3RvcCxcbiAgICAgIHNvdXJjZUV2ZW50OiBvcHRpb25zICYmIG9wdGlvbnMuc291cmNlRXZlbnQgPyBvcHRpb25zLnNvdXJjZUV2ZW50IDogbnVsbFxuICAgIH0pO1xuICB9LCBbY29udGV4dElkLCBsb2NrQVBJLCByZWdpc3RyeSwgc3RvcmVdKTtcbiAgdmFyIGZpbmRDbG9zZXN0RHJhZ2dhYmxlSWQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICByZXR1cm4gdHJ5R2V0Q2xvc2VzdERyYWdnYWJsZUlkRnJvbUV2ZW50KGNvbnRleHRJZCwgZXZlbnQpO1xuICB9LCBbY29udGV4dElkXSk7XG4gIHZhciBmaW5kT3B0aW9uc0ZvckRyYWdnYWJsZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpZCkge1xuICAgIHZhciBlbnRyeSA9IHJlZ2lzdHJ5LmRyYWdnYWJsZS5maW5kQnlJZChpZCk7XG4gICAgcmV0dXJuIGVudHJ5ID8gZW50cnkub3B0aW9ucyA6IG51bGw7XG4gIH0sIFtyZWdpc3RyeS5kcmFnZ2FibGVdKTtcbiAgdmFyIHRyeVJlbGVhc2VMb2NrID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gdHJ5UmVsZWFzZUxvY2soKSB7XG4gICAgaWYgKCFsb2NrQVBJLmlzQ2xhaW1lZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbG9ja0FQSS50cnlBYmFuZG9uKCk7XG5cbiAgICBpZiAoc3RvcmUuZ2V0U3RhdGUoKS5waGFzZSAhPT0gJ0lETEUnKSB7XG4gICAgICBzdG9yZS5kaXNwYXRjaChmbHVzaCgpKTtcbiAgICB9XG4gIH0sIFtsb2NrQVBJLCBzdG9yZV0pO1xuICB2YXIgaXNMb2NrQ2xhaW1lZCA9IHVzZUNhbGxiYWNrKGxvY2tBUEkuaXNDbGFpbWVkLCBbbG9ja0FQSV0pO1xuICB2YXIgYXBpID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbkdldExvY2s6IGNhbkdldExvY2ssXG4gICAgICB0cnlHZXRMb2NrOiB0cnlHZXRMb2NrLFxuICAgICAgZmluZENsb3Nlc3REcmFnZ2FibGVJZDogZmluZENsb3Nlc3REcmFnZ2FibGVJZCxcbiAgICAgIGZpbmRPcHRpb25zRm9yRHJhZ2dhYmxlOiBmaW5kT3B0aW9uc0ZvckRyYWdnYWJsZSxcbiAgICAgIHRyeVJlbGVhc2VMb2NrOiB0cnlSZWxlYXNlTG9jayxcbiAgICAgIGlzTG9ja0NsYWltZWQ6IGlzTG9ja0NsYWltZWRcbiAgICB9O1xuICB9LCBbY2FuR2V0TG9jaywgdHJ5R2V0TG9jaywgZmluZENsb3Nlc3REcmFnZ2FibGVJZCwgZmluZE9wdGlvbnNGb3JEcmFnZ2FibGUsIHRyeVJlbGVhc2VMb2NrLCBpc0xvY2tDbGFpbWVkXSk7XG4gIHVzZVZhbGlkYXRlU2Vuc29ySG9va3ModXNlU2Vuc29ycyk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB1c2VTZW5zb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgdXNlU2Vuc29yc1tpXShhcGkpO1xuICB9XG59XG5cbnZhciBjcmVhdGVSZXNwb25kZXJzID0gZnVuY3Rpb24gY3JlYXRlUmVzcG9uZGVycyhwcm9wcykge1xuICByZXR1cm4ge1xuICAgIG9uQmVmb3JlQ2FwdHVyZTogcHJvcHMub25CZWZvcmVDYXB0dXJlLFxuICAgIG9uQmVmb3JlRHJhZ1N0YXJ0OiBwcm9wcy5vbkJlZm9yZURyYWdTdGFydCxcbiAgICBvbkRyYWdTdGFydDogcHJvcHMub25EcmFnU3RhcnQsXG4gICAgb25EcmFnRW5kOiBwcm9wcy5vbkRyYWdFbmQsXG4gICAgb25EcmFnVXBkYXRlOiBwcm9wcy5vbkRyYWdVcGRhdGVcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGdldFN0b3JlKGxhenlSZWYpIHtcbiAgIWxhenlSZWYuY3VycmVudCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0NvdWxkIG5vdCBmaW5kIHN0b3JlIGZyb20gbGF6eSByZWYnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHJldHVybiBsYXp5UmVmLmN1cnJlbnQ7XG59XG5cbmZ1bmN0aW9uIEFwcChwcm9wcykge1xuICB2YXIgY29udGV4dElkID0gcHJvcHMuY29udGV4dElkLFxuICAgICAgc2V0Q2FsbGJhY2tzID0gcHJvcHMuc2V0Q2FsbGJhY2tzLFxuICAgICAgc2Vuc29ycyA9IHByb3BzLnNlbnNvcnMsXG4gICAgICBub25jZSA9IHByb3BzLm5vbmNlLFxuICAgICAgZHJhZ0hhbmRsZVVzYWdlSW5zdHJ1Y3Rpb25zID0gcHJvcHMuZHJhZ0hhbmRsZVVzYWdlSW5zdHJ1Y3Rpb25zO1xuICB2YXIgbGF6eVN0b3JlUmVmID0gdXNlUmVmKG51bGwpO1xuICB1c2VTdGFydHVwVmFsaWRhdGlvbigpO1xuICB2YXIgbGFzdFByb3BzUmVmID0gdXNlUHJldmlvdXMocHJvcHMpO1xuICB2YXIgZ2V0UmVzcG9uZGVycyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY3JlYXRlUmVzcG9uZGVycyhsYXN0UHJvcHNSZWYuY3VycmVudCk7XG4gIH0sIFtsYXN0UHJvcHNSZWZdKTtcbiAgdmFyIGFubm91bmNlID0gdXNlQW5ub3VuY2VyKGNvbnRleHRJZCk7XG4gIHZhciBkcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnNJZCA9IHVzZUhpZGRlblRleHRFbGVtZW50KHtcbiAgICBjb250ZXh0SWQ6IGNvbnRleHRJZCxcbiAgICB0ZXh0OiBkcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnNcbiAgfSk7XG4gIHZhciBzdHlsZU1hcnNoYWwgPSB1c2VTdHlsZU1hcnNoYWwoY29udGV4dElkLCBub25jZSk7XG4gIHZhciBsYXp5RGlzcGF0Y2ggPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgZ2V0U3RvcmUobGF6eVN0b3JlUmVmKS5kaXNwYXRjaChhY3Rpb24pO1xuICB9LCBbXSk7XG4gIHZhciBtYXJzaGFsQ2FsbGJhY2tzID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9ycyh7XG4gICAgICBwdWJsaXNoV2hpbGVEcmFnZ2luZzogcHVibGlzaFdoaWxlRHJhZ2dpbmcsXG4gICAgICB1cGRhdGVEcm9wcGFibGVTY3JvbGw6IHVwZGF0ZURyb3BwYWJsZVNjcm9sbCxcbiAgICAgIHVwZGF0ZURyb3BwYWJsZUlzRW5hYmxlZDogdXBkYXRlRHJvcHBhYmxlSXNFbmFibGVkLFxuICAgICAgdXBkYXRlRHJvcHBhYmxlSXNDb21iaW5lRW5hYmxlZDogdXBkYXRlRHJvcHBhYmxlSXNDb21iaW5lRW5hYmxlZCxcbiAgICAgIGNvbGxlY3Rpb25TdGFydGluZzogY29sbGVjdGlvblN0YXJ0aW5nXG4gICAgfSwgbGF6eURpc3BhdGNoKTtcbiAgfSwgW2xhenlEaXNwYXRjaF0pO1xuICB2YXIgcmVnaXN0cnkgPSB1c2VSZWdpc3RyeSgpO1xuICB2YXIgZGltZW5zaW9uTWFyc2hhbCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjcmVhdGVEaW1lbnNpb25NYXJzaGFsKHJlZ2lzdHJ5LCBtYXJzaGFsQ2FsbGJhY2tzKTtcbiAgfSwgW3JlZ2lzdHJ5LCBtYXJzaGFsQ2FsbGJhY2tzXSk7XG4gIHZhciBhdXRvU2Nyb2xsZXIgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY3JlYXRlQXV0b1Njcm9sbGVyKF9leHRlbmRzKHtcbiAgICAgIHNjcm9sbFdpbmRvdzogc2Nyb2xsV2luZG93LFxuICAgICAgc2Nyb2xsRHJvcHBhYmxlOiBkaW1lbnNpb25NYXJzaGFsLnNjcm9sbERyb3BwYWJsZVxuICAgIH0sIGJpbmRBY3Rpb25DcmVhdG9ycyh7XG4gICAgICBtb3ZlOiBtb3ZlXG4gICAgfSwgbGF6eURpc3BhdGNoKSkpO1xuICB9LCBbZGltZW5zaW9uTWFyc2hhbC5zY3JvbGxEcm9wcGFibGUsIGxhenlEaXNwYXRjaF0pO1xuICB2YXIgZm9jdXNNYXJzaGFsID0gdXNlRm9jdXNNYXJzaGFsKGNvbnRleHRJZCk7XG4gIHZhciBzdG9yZSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjcmVhdGVTdG9yZSh7XG4gICAgICBhbm5vdW5jZTogYW5ub3VuY2UsXG4gICAgICBhdXRvU2Nyb2xsZXI6IGF1dG9TY3JvbGxlcixcbiAgICAgIGRpbWVuc2lvbk1hcnNoYWw6IGRpbWVuc2lvbk1hcnNoYWwsXG4gICAgICBmb2N1c01hcnNoYWw6IGZvY3VzTWFyc2hhbCxcbiAgICAgIGdldFJlc3BvbmRlcnM6IGdldFJlc3BvbmRlcnMsXG4gICAgICBzdHlsZU1hcnNoYWw6IHN0eWxlTWFyc2hhbFxuICAgIH0pO1xuICB9LCBbYW5ub3VuY2UsIGF1dG9TY3JvbGxlciwgZGltZW5zaW9uTWFyc2hhbCwgZm9jdXNNYXJzaGFsLCBnZXRSZXNwb25kZXJzLCBzdHlsZU1hcnNoYWxdKTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChsYXp5U3RvcmVSZWYuY3VycmVudCAmJiBsYXp5U3RvcmVSZWYuY3VycmVudCAhPT0gc3RvcmUpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoJ3VuZXhwZWN0ZWQgc3RvcmUgY2hhbmdlJykgOiB2b2lkIDA7XG4gICAgfVxuICB9XG5cbiAgbGF6eVN0b3JlUmVmLmN1cnJlbnQgPSBzdG9yZTtcbiAgdmFyIHRyeVJlc2V0U3RvcmUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBnZXRTdG9yZShsYXp5U3RvcmVSZWYpO1xuICAgIHZhciBzdGF0ZSA9IGN1cnJlbnQuZ2V0U3RhdGUoKTtcblxuICAgIGlmIChzdGF0ZS5waGFzZSAhPT0gJ0lETEUnKSB7XG4gICAgICBjdXJyZW50LmRpc3BhdGNoKGZsdXNoKCkpO1xuICAgIH1cbiAgfSwgW10pO1xuICB2YXIgaXNEcmFnZ2luZyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhdGUgPSBnZXRTdG9yZShsYXp5U3RvcmVSZWYpLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHN0YXRlLmlzRHJhZ2dpbmcgfHwgc3RhdGUucGhhc2UgPT09ICdEUk9QX0FOSU1BVElORyc7XG4gIH0sIFtdKTtcbiAgdmFyIGFwcENhbGxiYWNrcyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc0RyYWdnaW5nOiBpc0RyYWdnaW5nLFxuICAgICAgdHJ5QWJvcnQ6IHRyeVJlc2V0U3RvcmVcbiAgICB9O1xuICB9LCBbaXNEcmFnZ2luZywgdHJ5UmVzZXRTdG9yZV0pO1xuICBzZXRDYWxsYmFja3MoYXBwQ2FsbGJhY2tzKTtcbiAgdmFyIGdldENhbkxpZnQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoaWQpIHtcbiAgICByZXR1cm4gY2FuU3RhcnREcmFnKGdldFN0b3JlKGxhenlTdG9yZVJlZikuZ2V0U3RhdGUoKSwgaWQpO1xuICB9LCBbXSk7XG4gIHZhciBnZXRJc01vdmVtZW50QWxsb3dlZCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gaXNNb3ZlbWVudEFsbG93ZWQoZ2V0U3RvcmUobGF6eVN0b3JlUmVmKS5nZXRTdGF0ZSgpKTtcbiAgfSwgW10pO1xuICB2YXIgYXBwQ29udGV4dCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXJzaGFsOiBkaW1lbnNpb25NYXJzaGFsLFxuICAgICAgZm9jdXM6IGZvY3VzTWFyc2hhbCxcbiAgICAgIGNvbnRleHRJZDogY29udGV4dElkLFxuICAgICAgY2FuTGlmdDogZ2V0Q2FuTGlmdCxcbiAgICAgIGlzTW92ZW1lbnRBbGxvd2VkOiBnZXRJc01vdmVtZW50QWxsb3dlZCxcbiAgICAgIGRyYWdIYW5kbGVVc2FnZUluc3RydWN0aW9uc0lkOiBkcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnNJZCxcbiAgICAgIHJlZ2lzdHJ5OiByZWdpc3RyeVxuICAgIH07XG4gIH0sIFtjb250ZXh0SWQsIGRpbWVuc2lvbk1hcnNoYWwsIGRyYWdIYW5kbGVVc2FnZUluc3RydWN0aW9uc0lkLCBmb2N1c01hcnNoYWwsIGdldENhbkxpZnQsIGdldElzTW92ZW1lbnRBbGxvd2VkLCByZWdpc3RyeV0pO1xuICB1c2VTZW5zb3JNYXJzaGFsKHtcbiAgICBjb250ZXh0SWQ6IGNvbnRleHRJZCxcbiAgICBzdG9yZTogc3RvcmUsXG4gICAgcmVnaXN0cnk6IHJlZ2lzdHJ5LFxuICAgIGN1c3RvbVNlbnNvcnM6IHNlbnNvcnMsXG4gICAgZW5hYmxlRGVmYXVsdFNlbnNvcnM6IHByb3BzLmVuYWJsZURlZmF1bHRTZW5zb3JzICE9PSBmYWxzZVxuICB9KTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHJ5UmVzZXRTdG9yZTtcbiAgfSwgW3RyeVJlc2V0U3RvcmVdKTtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQXBwQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBhcHBDb250ZXh0XG4gIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvdmlkZXIsIHtcbiAgICBjb250ZXh0OiBTdG9yZUNvbnRleHQsXG4gICAgc3RvcmU6IHN0b3JlXG4gIH0sIHByb3BzLmNoaWxkcmVuKSk7XG59XG5cbnZhciBjb3VudCQxID0gMDtcbmZ1bmN0aW9uIHJlc2V0JDEoKSB7XG4gIGNvdW50JDEgPSAwO1xufVxuZnVuY3Rpb24gdXNlSW5zdGFuY2VDb3VudCgpIHtcbiAgcmV0dXJuIHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIlwiICsgY291bnQkMSsrO1xuICB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0U2VydmVyQ29udGV4dCgpIHtcbiAgcmVzZXQkMSgpO1xuICByZXNldCgpO1xufVxuZnVuY3Rpb24gRHJhZ0Ryb3BDb250ZXh0KHByb3BzKSB7XG4gIHZhciBjb250ZXh0SWQgPSB1c2VJbnN0YW5jZUNvdW50KCk7XG4gIHZhciBkcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnMgPSBwcm9wcy5kcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnMgfHwgcHJlc2V0LmRyYWdIYW5kbGVVc2FnZUluc3RydWN0aW9ucztcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRXJyb3JCb3VuZGFyeSwgbnVsbCwgZnVuY3Rpb24gKHNldENhbGxiYWNrcykge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEFwcCwge1xuICAgICAgbm9uY2U6IHByb3BzLm5vbmNlLFxuICAgICAgY29udGV4dElkOiBjb250ZXh0SWQsXG4gICAgICBzZXRDYWxsYmFja3M6IHNldENhbGxiYWNrcyxcbiAgICAgIGRyYWdIYW5kbGVVc2FnZUluc3RydWN0aW9uczogZHJhZ0hhbmRsZVVzYWdlSW5zdHJ1Y3Rpb25zLFxuICAgICAgZW5hYmxlRGVmYXVsdFNlbnNvcnM6IHByb3BzLmVuYWJsZURlZmF1bHRTZW5zb3JzLFxuICAgICAgc2Vuc29yczogcHJvcHMuc2Vuc29ycyxcbiAgICAgIG9uQmVmb3JlQ2FwdHVyZTogcHJvcHMub25CZWZvcmVDYXB0dXJlLFxuICAgICAgb25CZWZvcmVEcmFnU3RhcnQ6IHByb3BzLm9uQmVmb3JlRHJhZ1N0YXJ0LFxuICAgICAgb25EcmFnU3RhcnQ6IHByb3BzLm9uRHJhZ1N0YXJ0LFxuICAgICAgb25EcmFnVXBkYXRlOiBwcm9wcy5vbkRyYWdVcGRhdGUsXG4gICAgICBvbkRyYWdFbmQ6IHByb3BzLm9uRHJhZ0VuZFxuICAgIH0sIHByb3BzLmNoaWxkcmVuKTtcbiAgfSk7XG59XG5cbnZhciBpc0VxdWFsJDEgPSBmdW5jdGlvbiBpc0VxdWFsKGJhc2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiBiYXNlID09PSB2YWx1ZTtcbiAgfTtcbn07XG5cbnZhciBpc1Njcm9sbCA9IGlzRXF1YWwkMSgnc2Nyb2xsJyk7XG52YXIgaXNBdXRvID0gaXNFcXVhbCQxKCdhdXRvJyk7XG52YXIgaXNWaXNpYmxlJDEgPSBpc0VxdWFsJDEoJ3Zpc2libGUnKTtcblxudmFyIGlzRWl0aGVyID0gZnVuY3Rpb24gaXNFaXRoZXIob3ZlcmZsb3csIGZuKSB7XG4gIHJldHVybiBmbihvdmVyZmxvdy5vdmVyZmxvd1gpIHx8IGZuKG92ZXJmbG93Lm92ZXJmbG93WSk7XG59O1xuXG52YXIgaXNCb3RoID0gZnVuY3Rpb24gaXNCb3RoKG92ZXJmbG93LCBmbikge1xuICByZXR1cm4gZm4ob3ZlcmZsb3cub3ZlcmZsb3dYKSAmJiBmbihvdmVyZmxvdy5vdmVyZmxvd1kpO1xufTtcblxudmFyIGlzRWxlbWVudFNjcm9sbGFibGUgPSBmdW5jdGlvbiBpc0VsZW1lbnRTY3JvbGxhYmxlKGVsKSB7XG4gIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgdmFyIG92ZXJmbG93ID0ge1xuICAgIG92ZXJmbG93WDogc3R5bGUub3ZlcmZsb3dYLFxuICAgIG92ZXJmbG93WTogc3R5bGUub3ZlcmZsb3dZXG4gIH07XG4gIHJldHVybiBpc0VpdGhlcihvdmVyZmxvdywgaXNTY3JvbGwpIHx8IGlzRWl0aGVyKG92ZXJmbG93LCBpc0F1dG8pO1xufTtcblxudmFyIGlzQm9keVNjcm9sbGFibGUgPSBmdW5jdGlvbiBpc0JvZHlTY3JvbGxhYmxlKCkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBib2R5ID0gZ2V0Qm9keUVsZW1lbnQoKTtcbiAgdmFyIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICFodG1sID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG5cbiAgaWYgKCFpc0VsZW1lbnRTY3JvbGxhYmxlKGJvZHkpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGh0bWxTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGh0bWwpO1xuICB2YXIgaHRtbE92ZXJmbG93ID0ge1xuICAgIG92ZXJmbG93WDogaHRtbFN0eWxlLm92ZXJmbG93WCxcbiAgICBvdmVyZmxvd1k6IGh0bWxTdHlsZS5vdmVyZmxvd1lcbiAgfTtcblxuICBpZiAoaXNCb3RoKGh0bWxPdmVyZmxvdywgaXNWaXNpYmxlJDEpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhcIlxcbiAgICBXZSBoYXZlIGRldGVjdGVkIHRoYXQgeW91ciA8Ym9keT4gZWxlbWVudCBtaWdodCBiZSBhIHNjcm9sbCBjb250YWluZXIuXFxuICAgIFdlIGhhdmUgZm91bmQgbm8gcmVsaWFibGUgd2F5IG9mIGRldGVjdGluZyB3aGV0aGVyIHRoZSA8Ym9keT4gZWxlbWVudCBpcyBhIHNjcm9sbCBjb250YWluZXIuXFxuICAgIFVuZGVyIG1vc3QgY2lyY3Vtc3RhbmNlcyBhIDxib2R5PiBzY3JvbGwgYmFyIHdpbGwgYmUgb24gdGhlIDxodG1sPiBlbGVtZW50IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpXFxuXFxuICAgIEJlY2F1c2Ugd2UgY2Fubm90IGRldGVybWluZSBpZiB0aGUgPGJvZHk+IGlzIGEgc2Nyb2xsIGNvbnRhaW5lciwgYW5kIGdlbmVyYWxseSBpdCBpcyBub3Qgb25lLFxcbiAgICB3ZSB3aWxsIGJlIHRyZWF0aW5nIHRoZSA8Ym9keT4gYXMgKm5vdCogYSBzY3JvbGwgY29udGFpbmVyXFxuXFxuICAgIE1vcmUgaW5mb3JtYXRpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9hdGxhc3NpYW4vcmVhY3QtYmVhdXRpZnVsLWRuZC9ibG9iL21hc3Rlci9kb2NzL2d1aWRlcy9ob3ctd2UtZGV0ZWN0LXNjcm9sbC1jb250YWluZXJzLm1kXFxuICBcIikgOiB2b2lkIDA7XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbnZhciBnZXRDbG9zZXN0U2Nyb2xsYWJsZSA9IGZ1bmN0aW9uIGdldENsb3Nlc3RTY3JvbGxhYmxlKGVsKSB7XG4gIGlmIChlbCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoZWwgPT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICByZXR1cm4gaXNCb2R5U2Nyb2xsYWJsZSgpID8gZWwgOiBudWxsO1xuICB9XG5cbiAgaWYgKGVsID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICghaXNFbGVtZW50U2Nyb2xsYWJsZShlbCkpIHtcbiAgICByZXR1cm4gZ2V0Q2xvc2VzdFNjcm9sbGFibGUoZWwucGFyZW50RWxlbWVudCk7XG4gIH1cblxuICByZXR1cm4gZWw7XG59O1xuXG52YXIgY2hlY2tGb3JOZXN0ZWRTY3JvbGxDb250YWluZXJzID0gKGZ1bmN0aW9uIChzY3JvbGxhYmxlKSB7XG4gIGlmICghc2Nyb2xsYWJsZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBhbm90aGVyU2Nyb2xsUGFyZW50ID0gZ2V0Q2xvc2VzdFNjcm9sbGFibGUoc2Nyb2xsYWJsZS5wYXJlbnRFbGVtZW50KTtcblxuICBpZiAoIWFub3RoZXJTY3JvbGxQYXJlbnQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKFwiXFxuICAgIERyb3BwYWJsZTogdW5zdXBwb3J0ZWQgbmVzdGVkIHNjcm9sbCBjb250YWluZXIgZGV0ZWN0ZWQuXFxuICAgIEEgRHJvcHBhYmxlIGNhbiBvbmx5IGhhdmUgb25lIHNjcm9sbCBwYXJlbnQgKHdoaWNoIGNhbiBiZSBpdHNlbGYpXFxuICAgIE5lc3RlZCBzY3JvbGwgY29udGFpbmVycyBhcmUgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQuXFxuXFxuICAgIFdlIGhvcGUgdG8gc3VwcG9ydCBuZXN0ZWQgc2Nyb2xsIGNvbnRhaW5lcnMgc29vbjogaHR0cHM6Ly9naXRodWIuY29tL2F0bGFzc2lhbi9yZWFjdC1iZWF1dGlmdWwtZG5kL2lzc3Vlcy8xMzFcXG4gIFwiKSA6IHZvaWQgMDtcbn0pO1xuXG52YXIgZ2V0U2Nyb2xsJDEgPSAoZnVuY3Rpb24gKGVsKSB7XG4gIHJldHVybiB7XG4gICAgeDogZWwuc2Nyb2xsTGVmdCxcbiAgICB5OiBlbC5zY3JvbGxUb3BcbiAgfTtcbn0pO1xuXG52YXIgZ2V0SXNGaXhlZCA9IGZ1bmN0aW9uIGdldElzRml4ZWQoZWwpIHtcbiAgaWYgKCFlbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcblxuICBpZiAoc3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBnZXRJc0ZpeGVkKGVsLnBhcmVudEVsZW1lbnQpO1xufTtcblxudmFyIGdldEVudiA9IChmdW5jdGlvbiAoc3RhcnQpIHtcbiAgdmFyIGNsb3Nlc3RTY3JvbGxhYmxlID0gZ2V0Q2xvc2VzdFNjcm9sbGFibGUoc3RhcnQpO1xuICB2YXIgaXNGaXhlZE9uUGFnZSA9IGdldElzRml4ZWQoc3RhcnQpO1xuICByZXR1cm4ge1xuICAgIGNsb3Nlc3RTY3JvbGxhYmxlOiBjbG9zZXN0U2Nyb2xsYWJsZSxcbiAgICBpc0ZpeGVkT25QYWdlOiBpc0ZpeGVkT25QYWdlXG4gIH07XG59KTtcblxudmFyIGdldERyb3BwYWJsZURpbWVuc2lvbiA9IChmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgZGVzY3JpcHRvciA9IF9yZWYuZGVzY3JpcHRvcixcbiAgICAgIGlzRW5hYmxlZCA9IF9yZWYuaXNFbmFibGVkLFxuICAgICAgaXNDb21iaW5lRW5hYmxlZCA9IF9yZWYuaXNDb21iaW5lRW5hYmxlZCxcbiAgICAgIGlzRml4ZWRPblBhZ2UgPSBfcmVmLmlzRml4ZWRPblBhZ2UsXG4gICAgICBkaXJlY3Rpb24gPSBfcmVmLmRpcmVjdGlvbixcbiAgICAgIGNsaWVudCA9IF9yZWYuY2xpZW50LFxuICAgICAgcGFnZSA9IF9yZWYucGFnZSxcbiAgICAgIGNsb3Nlc3QgPSBfcmVmLmNsb3Nlc3Q7XG5cbiAgdmFyIGZyYW1lID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghY2xvc2VzdCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHNjcm9sbFNpemUgPSBjbG9zZXN0LnNjcm9sbFNpemUsXG4gICAgICAgIGZyYW1lQ2xpZW50ID0gY2xvc2VzdC5jbGllbnQ7XG4gICAgdmFyIG1heFNjcm9sbCA9IGdldE1heFNjcm9sbCh7XG4gICAgICBzY3JvbGxIZWlnaHQ6IHNjcm9sbFNpemUuc2Nyb2xsSGVpZ2h0LFxuICAgICAgc2Nyb2xsV2lkdGg6IHNjcm9sbFNpemUuc2Nyb2xsV2lkdGgsXG4gICAgICBoZWlnaHQ6IGZyYW1lQ2xpZW50LnBhZGRpbmdCb3guaGVpZ2h0LFxuICAgICAgd2lkdGg6IGZyYW1lQ2xpZW50LnBhZGRpbmdCb3gud2lkdGhcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgcGFnZU1hcmdpbkJveDogY2xvc2VzdC5wYWdlLm1hcmdpbkJveCxcbiAgICAgIGZyYW1lQ2xpZW50OiBmcmFtZUNsaWVudCxcbiAgICAgIHNjcm9sbFNpemU6IHNjcm9sbFNpemUsXG4gICAgICBzaG91bGRDbGlwU3ViamVjdDogY2xvc2VzdC5zaG91bGRDbGlwU3ViamVjdCxcbiAgICAgIHNjcm9sbDoge1xuICAgICAgICBpbml0aWFsOiBjbG9zZXN0LnNjcm9sbCxcbiAgICAgICAgY3VycmVudDogY2xvc2VzdC5zY3JvbGwsXG4gICAgICAgIG1heDogbWF4U2Nyb2xsLFxuICAgICAgICBkaWZmOiB7XG4gICAgICAgICAgdmFsdWU6IG9yaWdpbixcbiAgICAgICAgICBkaXNwbGFjZW1lbnQ6IG9yaWdpblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfSgpO1xuXG4gIHZhciBheGlzID0gZGlyZWN0aW9uID09PSAndmVydGljYWwnID8gdmVydGljYWwgOiBob3Jpem9udGFsO1xuICB2YXIgc3ViamVjdCA9IGdldFN1YmplY3Qoe1xuICAgIHBhZ2U6IHBhZ2UsXG4gICAgd2l0aFBsYWNlaG9sZGVyOiBudWxsLFxuICAgIGF4aXM6IGF4aXMsXG4gICAgZnJhbWU6IGZyYW1lXG4gIH0pO1xuICB2YXIgZGltZW5zaW9uID0ge1xuICAgIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3IsXG4gICAgaXNDb21iaW5lRW5hYmxlZDogaXNDb21iaW5lRW5hYmxlZCxcbiAgICBpc0ZpeGVkT25QYWdlOiBpc0ZpeGVkT25QYWdlLFxuICAgIGF4aXM6IGF4aXMsXG4gICAgaXNFbmFibGVkOiBpc0VuYWJsZWQsXG4gICAgY2xpZW50OiBjbGllbnQsXG4gICAgcGFnZTogcGFnZSxcbiAgICBmcmFtZTogZnJhbWUsXG4gICAgc3ViamVjdDogc3ViamVjdFxuICB9O1xuICByZXR1cm4gZGltZW5zaW9uO1xufSk7XG5cbnZhciBnZXRDbGllbnQgPSBmdW5jdGlvbiBnZXRDbGllbnQodGFyZ2V0UmVmLCBjbG9zZXN0U2Nyb2xsYWJsZSkge1xuICB2YXIgYmFzZSA9IGdldEJveCh0YXJnZXRSZWYpO1xuXG4gIGlmICghY2xvc2VzdFNjcm9sbGFibGUpIHtcbiAgICByZXR1cm4gYmFzZTtcbiAgfVxuXG4gIGlmICh0YXJnZXRSZWYgIT09IGNsb3Nlc3RTY3JvbGxhYmxlKSB7XG4gICAgcmV0dXJuIGJhc2U7XG4gIH1cblxuICB2YXIgdG9wID0gYmFzZS5wYWRkaW5nQm94LnRvcCAtIGNsb3Nlc3RTY3JvbGxhYmxlLnNjcm9sbFRvcDtcbiAgdmFyIGxlZnQgPSBiYXNlLnBhZGRpbmdCb3gubGVmdCAtIGNsb3Nlc3RTY3JvbGxhYmxlLnNjcm9sbExlZnQ7XG4gIHZhciBib3R0b20gPSB0b3AgKyBjbG9zZXN0U2Nyb2xsYWJsZS5zY3JvbGxIZWlnaHQ7XG4gIHZhciByaWdodCA9IGxlZnQgKyBjbG9zZXN0U2Nyb2xsYWJsZS5zY3JvbGxXaWR0aDtcbiAgdmFyIHBhZGRpbmdCb3ggPSB7XG4gICAgdG9wOiB0b3AsXG4gICAgcmlnaHQ6IHJpZ2h0LFxuICAgIGJvdHRvbTogYm90dG9tLFxuICAgIGxlZnQ6IGxlZnRcbiAgfTtcbiAgdmFyIGJvcmRlckJveCA9IGV4cGFuZChwYWRkaW5nQm94LCBiYXNlLmJvcmRlcik7XG4gIHZhciBjbGllbnQgPSBjcmVhdGVCb3goe1xuICAgIGJvcmRlckJveDogYm9yZGVyQm94LFxuICAgIG1hcmdpbjogYmFzZS5tYXJnaW4sXG4gICAgYm9yZGVyOiBiYXNlLmJvcmRlcixcbiAgICBwYWRkaW5nOiBiYXNlLnBhZGRpbmdcbiAgfSk7XG4gIHJldHVybiBjbGllbnQ7XG59O1xuXG52YXIgZ2V0RGltZW5zaW9uID0gKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciByZWYgPSBfcmVmLnJlZixcbiAgICAgIGRlc2NyaXB0b3IgPSBfcmVmLmRlc2NyaXB0b3IsXG4gICAgICBlbnYgPSBfcmVmLmVudixcbiAgICAgIHdpbmRvd1Njcm9sbCA9IF9yZWYud2luZG93U2Nyb2xsLFxuICAgICAgZGlyZWN0aW9uID0gX3JlZi5kaXJlY3Rpb24sXG4gICAgICBpc0Ryb3BEaXNhYmxlZCA9IF9yZWYuaXNEcm9wRGlzYWJsZWQsXG4gICAgICBpc0NvbWJpbmVFbmFibGVkID0gX3JlZi5pc0NvbWJpbmVFbmFibGVkLFxuICAgICAgc2hvdWxkQ2xpcFN1YmplY3QgPSBfcmVmLnNob3VsZENsaXBTdWJqZWN0O1xuICB2YXIgY2xvc2VzdFNjcm9sbGFibGUgPSBlbnYuY2xvc2VzdFNjcm9sbGFibGU7XG4gIHZhciBjbGllbnQgPSBnZXRDbGllbnQocmVmLCBjbG9zZXN0U2Nyb2xsYWJsZSk7XG4gIHZhciBwYWdlID0gd2l0aFNjcm9sbChjbGllbnQsIHdpbmRvd1Njcm9sbCk7XG5cbiAgdmFyIGNsb3Nlc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFjbG9zZXN0U2Nyb2xsYWJsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGZyYW1lQ2xpZW50ID0gZ2V0Qm94KGNsb3Nlc3RTY3JvbGxhYmxlKTtcbiAgICB2YXIgc2Nyb2xsU2l6ZSA9IHtcbiAgICAgIHNjcm9sbEhlaWdodDogY2xvc2VzdFNjcm9sbGFibGUuc2Nyb2xsSGVpZ2h0LFxuICAgICAgc2Nyb2xsV2lkdGg6IGNsb3Nlc3RTY3JvbGxhYmxlLnNjcm9sbFdpZHRoXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgY2xpZW50OiBmcmFtZUNsaWVudCxcbiAgICAgIHBhZ2U6IHdpdGhTY3JvbGwoZnJhbWVDbGllbnQsIHdpbmRvd1Njcm9sbCksXG4gICAgICBzY3JvbGw6IGdldFNjcm9sbCQxKGNsb3Nlc3RTY3JvbGxhYmxlKSxcbiAgICAgIHNjcm9sbFNpemU6IHNjcm9sbFNpemUsXG4gICAgICBzaG91bGRDbGlwU3ViamVjdDogc2hvdWxkQ2xpcFN1YmplY3RcbiAgICB9O1xuICB9KCk7XG5cbiAgdmFyIGRpbWVuc2lvbiA9IGdldERyb3BwYWJsZURpbWVuc2lvbih7XG4gICAgZGVzY3JpcHRvcjogZGVzY3JpcHRvcixcbiAgICBpc0VuYWJsZWQ6ICFpc0Ryb3BEaXNhYmxlZCxcbiAgICBpc0NvbWJpbmVFbmFibGVkOiBpc0NvbWJpbmVFbmFibGVkLFxuICAgIGlzRml4ZWRPblBhZ2U6IGVudi5pc0ZpeGVkT25QYWdlLFxuICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgIGNsaWVudDogY2xpZW50LFxuICAgIHBhZ2U6IHBhZ2UsXG4gICAgY2xvc2VzdDogY2xvc2VzdFxuICB9KTtcbiAgcmV0dXJuIGRpbWVuc2lvbjtcbn0pO1xuXG52YXIgaW1tZWRpYXRlID0ge1xuICBwYXNzaXZlOiBmYWxzZVxufTtcbnZhciBkZWxheWVkID0ge1xuICBwYXNzaXZlOiB0cnVlXG59O1xudmFyIGdldExpc3RlbmVyT3B0aW9ucyA9IChmdW5jdGlvbiAob3B0aW9ucykge1xuICByZXR1cm4gb3B0aW9ucy5zaG91bGRQdWJsaXNoSW1tZWRpYXRlbHkgPyBpbW1lZGlhdGUgOiBkZWxheWVkO1xufSk7XG5cbmZ1bmN0aW9uIHVzZVJlcXVpcmVkQ29udGV4dChDb250ZXh0KSB7XG4gIHZhciByZXN1bHQgPSB1c2VDb250ZXh0KENvbnRleHQpO1xuICAhcmVzdWx0ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ291bGQgbm90IGZpbmQgcmVxdWlyZWQgY29udGV4dCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxudmFyIGdldENsb3Nlc3RTY3JvbGxhYmxlRnJvbURyYWcgPSBmdW5jdGlvbiBnZXRDbG9zZXN0U2Nyb2xsYWJsZUZyb21EcmFnKGRyYWdnaW5nKSB7XG4gIHJldHVybiBkcmFnZ2luZyAmJiBkcmFnZ2luZy5lbnYuY2xvc2VzdFNjcm9sbGFibGUgfHwgbnVsbDtcbn07XG5cbmZ1bmN0aW9uIHVzZURyb3BwYWJsZVB1Ymxpc2hlcihhcmdzKSB7XG4gIHZhciB3aGlsZURyYWdnaW5nUmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgYXBwQ29udGV4dCA9IHVzZVJlcXVpcmVkQ29udGV4dChBcHBDb250ZXh0KTtcbiAgdmFyIHVuaXF1ZUlkID0gdXNlVW5pcXVlSWQoJ2Ryb3BwYWJsZScpO1xuICB2YXIgcmVnaXN0cnkgPSBhcHBDb250ZXh0LnJlZ2lzdHJ5LFxuICAgICAgbWFyc2hhbCA9IGFwcENvbnRleHQubWFyc2hhbDtcbiAgdmFyIHByZXZpb3VzUmVmID0gdXNlUHJldmlvdXMoYXJncyk7XG4gIHZhciBkZXNjcmlwdG9yID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBhcmdzLmRyb3BwYWJsZUlkLFxuICAgICAgdHlwZTogYXJncy50eXBlLFxuICAgICAgbW9kZTogYXJncy5tb2RlXG4gICAgfTtcbiAgfSwgW2FyZ3MuZHJvcHBhYmxlSWQsIGFyZ3MubW9kZSwgYXJncy50eXBlXSk7XG4gIHZhciBwdWJsaXNoZWREZXNjcmlwdG9yUmVmID0gdXNlUmVmKGRlc2NyaXB0b3IpO1xuICB2YXIgbWVtb2l6ZWRVcGRhdGVTY3JvbGwgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbWVtb2l6ZU9uZShmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgIXdoaWxlRHJhZ2dpbmdSZWYuY3VycmVudCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0NhbiBvbmx5IHVwZGF0ZSBzY3JvbGwgd2hlbiBkcmFnZ2luZycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgIHZhciBzY3JvbGwgPSB7XG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHlcbiAgICAgIH07XG4gICAgICBtYXJzaGFsLnVwZGF0ZURyb3BwYWJsZVNjcm9sbChkZXNjcmlwdG9yLmlkLCBzY3JvbGwpO1xuICAgIH0pO1xuICB9LCBbZGVzY3JpcHRvci5pZCwgbWFyc2hhbF0pO1xuICB2YXIgZ2V0Q2xvc2VzdFNjcm9sbCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZHJhZ2dpbmcgPSB3aGlsZURyYWdnaW5nUmVmLmN1cnJlbnQ7XG5cbiAgICBpZiAoIWRyYWdnaW5nIHx8ICFkcmFnZ2luZy5lbnYuY2xvc2VzdFNjcm9sbGFibGUpIHtcbiAgICAgIHJldHVybiBvcmlnaW47XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFNjcm9sbCQxKGRyYWdnaW5nLmVudi5jbG9zZXN0U2Nyb2xsYWJsZSk7XG4gIH0sIFtdKTtcbiAgdmFyIHVwZGF0ZVNjcm9sbCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2Nyb2xsID0gZ2V0Q2xvc2VzdFNjcm9sbCgpO1xuICAgIG1lbW9pemVkVXBkYXRlU2Nyb2xsKHNjcm9sbC54LCBzY3JvbGwueSk7XG4gIH0sIFtnZXRDbG9zZXN0U2Nyb2xsLCBtZW1vaXplZFVwZGF0ZVNjcm9sbF0pO1xuICB2YXIgc2NoZWR1bGVTY3JvbGxVcGRhdGUgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmFmU2NoZCh1cGRhdGVTY3JvbGwpO1xuICB9LCBbdXBkYXRlU2Nyb2xsXSk7XG4gIHZhciBvbkNsb3Nlc3RTY3JvbGwgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRyYWdnaW5nID0gd2hpbGVEcmFnZ2luZ1JlZi5jdXJyZW50O1xuICAgIHZhciBjbG9zZXN0ID0gZ2V0Q2xvc2VzdFNjcm9sbGFibGVGcm9tRHJhZyhkcmFnZ2luZyk7XG4gICAgIShkcmFnZ2luZyAmJiBjbG9zZXN0KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0NvdWxkIG5vdCBmaW5kIHNjcm9sbCBvcHRpb25zIHdoaWxlIHNjcm9sbGluZycpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB2YXIgb3B0aW9ucyA9IGRyYWdnaW5nLnNjcm9sbE9wdGlvbnM7XG5cbiAgICBpZiAob3B0aW9ucy5zaG91bGRQdWJsaXNoSW1tZWRpYXRlbHkpIHtcbiAgICAgIHVwZGF0ZVNjcm9sbCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNjaGVkdWxlU2Nyb2xsVXBkYXRlKCk7XG4gIH0sIFtzY2hlZHVsZVNjcm9sbFVwZGF0ZSwgdXBkYXRlU2Nyb2xsXSk7XG4gIHZhciBnZXREaW1lbnNpb25BbmRXYXRjaFNjcm9sbCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICh3aW5kb3dTY3JvbGwsIG9wdGlvbnMpIHtcbiAgICAhIXdoaWxlRHJhZ2dpbmdSZWYuY3VycmVudCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBjb2xsZWN0IGEgZHJvcHBhYmxlIHdoaWxlIGEgZHJhZyBpcyBvY2N1cnJpbmcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIHByZXZpb3VzID0gcHJldmlvdXNSZWYuY3VycmVudDtcbiAgICB2YXIgcmVmID0gcHJldmlvdXMuZ2V0RHJvcHBhYmxlUmVmKCk7XG4gICAgIXJlZiA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBjb2xsZWN0IHdpdGhvdXQgYSBkcm9wcGFibGUgcmVmJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBlbnYgPSBnZXRFbnYocmVmKTtcbiAgICB2YXIgZHJhZ2dpbmcgPSB7XG4gICAgICByZWY6IHJlZixcbiAgICAgIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3IsXG4gICAgICBlbnY6IGVudixcbiAgICAgIHNjcm9sbE9wdGlvbnM6IG9wdGlvbnNcbiAgICB9O1xuICAgIHdoaWxlRHJhZ2dpbmdSZWYuY3VycmVudCA9IGRyYWdnaW5nO1xuICAgIHZhciBkaW1lbnNpb24gPSBnZXREaW1lbnNpb24oe1xuICAgICAgcmVmOiByZWYsXG4gICAgICBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yLFxuICAgICAgZW52OiBlbnYsXG4gICAgICB3aW5kb3dTY3JvbGw6IHdpbmRvd1Njcm9sbCxcbiAgICAgIGRpcmVjdGlvbjogcHJldmlvdXMuZGlyZWN0aW9uLFxuICAgICAgaXNEcm9wRGlzYWJsZWQ6IHByZXZpb3VzLmlzRHJvcERpc2FibGVkLFxuICAgICAgaXNDb21iaW5lRW5hYmxlZDogcHJldmlvdXMuaXNDb21iaW5lRW5hYmxlZCxcbiAgICAgIHNob3VsZENsaXBTdWJqZWN0OiAhcHJldmlvdXMuaWdub3JlQ29udGFpbmVyQ2xpcHBpbmdcbiAgICB9KTtcbiAgICB2YXIgc2Nyb2xsYWJsZSA9IGVudi5jbG9zZXN0U2Nyb2xsYWJsZTtcblxuICAgIGlmIChzY3JvbGxhYmxlKSB7XG4gICAgICBzY3JvbGxhYmxlLnNldEF0dHJpYnV0ZShzY3JvbGxDb250YWluZXIuY29udGV4dElkLCBhcHBDb250ZXh0LmNvbnRleHRJZCk7XG4gICAgICBzY3JvbGxhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uQ2xvc2VzdFNjcm9sbCwgZ2V0TGlzdGVuZXJPcHRpb25zKGRyYWdnaW5nLnNjcm9sbE9wdGlvbnMpKTtcblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgY2hlY2tGb3JOZXN0ZWRTY3JvbGxDb250YWluZXJzKHNjcm9sbGFibGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkaW1lbnNpb247XG4gIH0sIFthcHBDb250ZXh0LmNvbnRleHRJZCwgZGVzY3JpcHRvciwgb25DbG9zZXN0U2Nyb2xsLCBwcmV2aW91c1JlZl0pO1xuICB2YXIgZ2V0U2Nyb2xsV2hpbGVEcmFnZ2luZyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZHJhZ2dpbmcgPSB3aGlsZURyYWdnaW5nUmVmLmN1cnJlbnQ7XG4gICAgdmFyIGNsb3Nlc3QgPSBnZXRDbG9zZXN0U2Nyb2xsYWJsZUZyb21EcmFnKGRyYWdnaW5nKTtcbiAgICAhKGRyYWdnaW5nICYmIGNsb3Nlc3QpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQ2FuIG9ubHkgcmVjb2xsZWN0IERyb3BwYWJsZSBjbGllbnQgZm9yIERyb3BwYWJsZXMgdGhhdCBoYXZlIGEgc2Nyb2xsIGNvbnRhaW5lcicpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gZ2V0U2Nyb2xsJDEoY2xvc2VzdCk7XG4gIH0sIFtdKTtcbiAgdmFyIGRyYWdTdG9wcGVkID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBkcmFnZ2luZyA9IHdoaWxlRHJhZ2dpbmdSZWYuY3VycmVudDtcbiAgICAhZHJhZ2dpbmcgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3Qgc3RvcCBkcmFnIHdoZW4gbm8gYWN0aXZlIGRyYWcnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgdmFyIGNsb3Nlc3QgPSBnZXRDbG9zZXN0U2Nyb2xsYWJsZUZyb21EcmFnKGRyYWdnaW5nKTtcbiAgICB3aGlsZURyYWdnaW5nUmVmLmN1cnJlbnQgPSBudWxsO1xuXG4gICAgaWYgKCFjbG9zZXN0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2NoZWR1bGVTY3JvbGxVcGRhdGUuY2FuY2VsKCk7XG4gICAgY2xvc2VzdC5yZW1vdmVBdHRyaWJ1dGUoc2Nyb2xsQ29udGFpbmVyLmNvbnRleHRJZCk7XG4gICAgY2xvc2VzdC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBvbkNsb3Nlc3RTY3JvbGwsIGdldExpc3RlbmVyT3B0aW9ucyhkcmFnZ2luZy5zY3JvbGxPcHRpb25zKSk7XG4gIH0sIFtvbkNsb3Nlc3RTY3JvbGwsIHNjaGVkdWxlU2Nyb2xsVXBkYXRlXSk7XG4gIHZhciBzY3JvbGwgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgdmFyIGRyYWdnaW5nID0gd2hpbGVEcmFnZ2luZ1JlZi5jdXJyZW50O1xuICAgICFkcmFnZ2luZyA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0Nhbm5vdCBzY3JvbGwgd2hlbiB0aGVyZSBpcyBubyBkcmFnJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIHZhciBjbG9zZXN0ID0gZ2V0Q2xvc2VzdFNjcm9sbGFibGVGcm9tRHJhZyhkcmFnZ2luZyk7XG4gICAgIWNsb3Nlc3QgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3Qgc2Nyb2xsIGEgZHJvcHBhYmxlIHdpdGggbm8gY2xvc2VzdCBzY3JvbGxhYmxlJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgIGNsb3Nlc3Quc2Nyb2xsVG9wICs9IGNoYW5nZS55O1xuICAgIGNsb3Nlc3Quc2Nyb2xsTGVmdCArPSBjaGFuZ2UueDtcbiAgfSwgW10pO1xuICB2YXIgY2FsbGJhY2tzID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldERpbWVuc2lvbkFuZFdhdGNoU2Nyb2xsOiBnZXREaW1lbnNpb25BbmRXYXRjaFNjcm9sbCxcbiAgICAgIGdldFNjcm9sbFdoaWxlRHJhZ2dpbmc6IGdldFNjcm9sbFdoaWxlRHJhZ2dpbmcsXG4gICAgICBkcmFnU3RvcHBlZDogZHJhZ1N0b3BwZWQsXG4gICAgICBzY3JvbGw6IHNjcm9sbFxuICAgIH07XG4gIH0sIFtkcmFnU3RvcHBlZCwgZ2V0RGltZW5zaW9uQW5kV2F0Y2hTY3JvbGwsIGdldFNjcm9sbFdoaWxlRHJhZ2dpbmcsIHNjcm9sbF0pO1xuICB2YXIgZW50cnkgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdW5pcXVlSWQ6IHVuaXF1ZUlkLFxuICAgICAgZGVzY3JpcHRvcjogZGVzY3JpcHRvcixcbiAgICAgIGNhbGxiYWNrczogY2FsbGJhY2tzXG4gICAgfTtcbiAgfSwgW2NhbGxiYWNrcywgZGVzY3JpcHRvciwgdW5pcXVlSWRdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcHVibGlzaGVkRGVzY3JpcHRvclJlZi5jdXJyZW50ID0gZW50cnkuZGVzY3JpcHRvcjtcbiAgICByZWdpc3RyeS5kcm9wcGFibGUucmVnaXN0ZXIoZW50cnkpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAod2hpbGVEcmFnZ2luZ1JlZi5jdXJyZW50KSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoJ1Vuc3VwcG9ydGVkOiBjaGFuZ2luZyB0aGUgZHJvcHBhYmxlSWQgb3IgdHlwZSBvZiBhIERyb3BwYWJsZSBkdXJpbmcgYSBkcmFnJykgOiB2b2lkIDA7XG4gICAgICAgIGRyYWdTdG9wcGVkKCk7XG4gICAgICB9XG5cbiAgICAgIHJlZ2lzdHJ5LmRyb3BwYWJsZS51bnJlZ2lzdGVyKGVudHJ5KTtcbiAgICB9O1xuICB9LCBbY2FsbGJhY2tzLCBkZXNjcmlwdG9yLCBkcmFnU3RvcHBlZCwgZW50cnksIG1hcnNoYWwsIHJlZ2lzdHJ5LmRyb3BwYWJsZV0pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXdoaWxlRHJhZ2dpbmdSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1hcnNoYWwudXBkYXRlRHJvcHBhYmxlSXNFbmFibGVkKHB1Ymxpc2hlZERlc2NyaXB0b3JSZWYuY3VycmVudC5pZCwgIWFyZ3MuaXNEcm9wRGlzYWJsZWQpO1xuICB9LCBbYXJncy5pc0Ryb3BEaXNhYmxlZCwgbWFyc2hhbF0pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXdoaWxlRHJhZ2dpbmdSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1hcnNoYWwudXBkYXRlRHJvcHBhYmxlSXNDb21iaW5lRW5hYmxlZChwdWJsaXNoZWREZXNjcmlwdG9yUmVmLmN1cnJlbnQuaWQsIGFyZ3MuaXNDb21iaW5lRW5hYmxlZCk7XG4gIH0sIFthcmdzLmlzQ29tYmluZUVuYWJsZWQsIG1hcnNoYWxdKTtcbn1cblxuZnVuY3Rpb24gbm9vcCQyKCkge31cblxudmFyIGVtcHR5ID0ge1xuICB3aWR0aDogMCxcbiAgaGVpZ2h0OiAwLFxuICBtYXJnaW46IG5vU3BhY2luZ1xufTtcblxudmFyIGdldFNpemUgPSBmdW5jdGlvbiBnZXRTaXplKF9yZWYpIHtcbiAgdmFyIGlzQW5pbWF0aW5nT3Blbk9uTW91bnQgPSBfcmVmLmlzQW5pbWF0aW5nT3Blbk9uTW91bnQsXG4gICAgICBwbGFjZWhvbGRlciA9IF9yZWYucGxhY2Vob2xkZXIsXG4gICAgICBhbmltYXRlID0gX3JlZi5hbmltYXRlO1xuXG4gIGlmIChpc0FuaW1hdGluZ09wZW5Pbk1vdW50KSB7XG4gICAgcmV0dXJuIGVtcHR5O1xuICB9XG5cbiAgaWYgKGFuaW1hdGUgPT09ICdjbG9zZScpIHtcbiAgICByZXR1cm4gZW1wdHk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGhlaWdodDogcGxhY2Vob2xkZXIuY2xpZW50LmJvcmRlckJveC5oZWlnaHQsXG4gICAgd2lkdGg6IHBsYWNlaG9sZGVyLmNsaWVudC5ib3JkZXJCb3gud2lkdGgsXG4gICAgbWFyZ2luOiBwbGFjZWhvbGRlci5jbGllbnQubWFyZ2luXG4gIH07XG59O1xuXG52YXIgZ2V0U3R5bGUgPSBmdW5jdGlvbiBnZXRTdHlsZShfcmVmMikge1xuICB2YXIgaXNBbmltYXRpbmdPcGVuT25Nb3VudCA9IF9yZWYyLmlzQW5pbWF0aW5nT3Blbk9uTW91bnQsXG4gICAgICBwbGFjZWhvbGRlciA9IF9yZWYyLnBsYWNlaG9sZGVyLFxuICAgICAgYW5pbWF0ZSA9IF9yZWYyLmFuaW1hdGU7XG4gIHZhciBzaXplID0gZ2V0U2l6ZSh7XG4gICAgaXNBbmltYXRpbmdPcGVuT25Nb3VudDogaXNBbmltYXRpbmdPcGVuT25Nb3VudCxcbiAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgYW5pbWF0ZTogYW5pbWF0ZVxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBkaXNwbGF5OiBwbGFjZWhvbGRlci5kaXNwbGF5LFxuICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgIHdpZHRoOiBzaXplLndpZHRoLFxuICAgIGhlaWdodDogc2l6ZS5oZWlnaHQsXG4gICAgbWFyZ2luVG9wOiBzaXplLm1hcmdpbi50b3AsXG4gICAgbWFyZ2luUmlnaHQ6IHNpemUubWFyZ2luLnJpZ2h0LFxuICAgIG1hcmdpbkJvdHRvbTogc2l6ZS5tYXJnaW4uYm90dG9tLFxuICAgIG1hcmdpbkxlZnQ6IHNpemUubWFyZ2luLmxlZnQsXG4gICAgZmxleFNocmluazogJzAnLFxuICAgIGZsZXhHcm93OiAnMCcsXG4gICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgIHRyYW5zaXRpb246IGFuaW1hdGUgIT09ICdub25lJyA/IHRyYW5zaXRpb25zLnBsYWNlaG9sZGVyIDogbnVsbFxuICB9O1xufTtcblxuZnVuY3Rpb24gUGxhY2Vob2xkZXIocHJvcHMpIHtcbiAgdmFyIGFuaW1hdGVPcGVuVGltZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciB0cnlDbGVhckFuaW1hdGVPcGVuVGltZXIgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFhbmltYXRlT3BlblRpbWVyUmVmLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQoYW5pbWF0ZU9wZW5UaW1lclJlZi5jdXJyZW50KTtcbiAgICBhbmltYXRlT3BlblRpbWVyUmVmLmN1cnJlbnQgPSBudWxsO1xuICB9LCBbXSk7XG4gIHZhciBhbmltYXRlID0gcHJvcHMuYW5pbWF0ZSxcbiAgICAgIG9uVHJhbnNpdGlvbkVuZCA9IHByb3BzLm9uVHJhbnNpdGlvbkVuZCxcbiAgICAgIG9uQ2xvc2UgPSBwcm9wcy5vbkNsb3NlLFxuICAgICAgY29udGV4dElkID0gcHJvcHMuY29udGV4dElkO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShwcm9wcy5hbmltYXRlID09PSAnb3BlbicpLFxuICAgICAgaXNBbmltYXRpbmdPcGVuT25Nb3VudCA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldElzQW5pbWF0aW5nT3Blbk9uTW91bnQgPSBfdXNlU3RhdGVbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWlzQW5pbWF0aW5nT3Blbk9uTW91bnQpIHtcbiAgICAgIHJldHVybiBub29wJDI7XG4gICAgfVxuXG4gICAgaWYgKGFuaW1hdGUgIT09ICdvcGVuJykge1xuICAgICAgdHJ5Q2xlYXJBbmltYXRlT3BlblRpbWVyKCk7XG4gICAgICBzZXRJc0FuaW1hdGluZ09wZW5Pbk1vdW50KGZhbHNlKTtcbiAgICAgIHJldHVybiBub29wJDI7XG4gICAgfVxuXG4gICAgaWYgKGFuaW1hdGVPcGVuVGltZXJSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuIG5vb3AkMjtcbiAgICB9XG5cbiAgICBhbmltYXRlT3BlblRpbWVyUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGFuaW1hdGVPcGVuVGltZXJSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICBzZXRJc0FuaW1hdGluZ09wZW5Pbk1vdW50KGZhbHNlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJ5Q2xlYXJBbmltYXRlT3BlblRpbWVyO1xuICB9LCBbYW5pbWF0ZSwgaXNBbmltYXRpbmdPcGVuT25Nb3VudCwgdHJ5Q2xlYXJBbmltYXRlT3BlblRpbWVyXSk7XG4gIHZhciBvblNpemVDaGFuZ2VFbmQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQucHJvcGVydHlOYW1lICE9PSAnaGVpZ2h0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9uVHJhbnNpdGlvbkVuZCgpO1xuXG4gICAgaWYgKGFuaW1hdGUgPT09ICdjbG9zZScpIHtcbiAgICAgIG9uQ2xvc2UoKTtcbiAgICB9XG4gIH0sIFthbmltYXRlLCBvbkNsb3NlLCBvblRyYW5zaXRpb25FbmRdKTtcbiAgdmFyIHN0eWxlID0gZ2V0U3R5bGUoe1xuICAgIGlzQW5pbWF0aW5nT3Blbk9uTW91bnQ6IGlzQW5pbWF0aW5nT3Blbk9uTW91bnQsXG4gICAgYW5pbWF0ZTogcHJvcHMuYW5pbWF0ZSxcbiAgICBwbGFjZWhvbGRlcjogcHJvcHMucGxhY2Vob2xkZXJcbiAgfSk7XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KHByb3BzLnBsYWNlaG9sZGVyLnRhZ05hbWUsIHtcbiAgICBzdHlsZTogc3R5bGUsXG4gICAgJ2RhdGEtcmJkLXBsYWNlaG9sZGVyLWNvbnRleHQtaWQnOiBjb250ZXh0SWQsXG4gICAgb25UcmFuc2l0aW9uRW5kOiBvblNpemVDaGFuZ2VFbmQsXG4gICAgcmVmOiBwcm9wcy5pbm5lclJlZlxuICB9KTtcbn1cblxudmFyIFBsYWNlaG9sZGVyJDEgPSBSZWFjdC5tZW1vKFBsYWNlaG9sZGVyKTtcblxudmFyIERyb3BwYWJsZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuXG5mdW5jdGlvbiBjaGVja0lzVmFsaWRJbm5lclJlZihlbCkge1xuICAhKGVsICYmIGlzSHRtbEVsZW1lbnQoZWwpKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJcXG4gICAgcHJvdmlkZWQuaW5uZXJSZWYgaGFzIG5vdCBiZWVuIHByb3ZpZGVkIHdpdGggYSBIVE1MRWxlbWVudC5cXG5cXG4gICAgWW91IGNhbiBmaW5kIGEgZ3VpZGUgb24gdXNpbmcgdGhlIGlubmVyUmVmIGNhbGxiYWNrIGZ1bmN0aW9ucyBhdDpcXG4gICAgaHR0cHM6Ly9naXRodWIuY29tL2F0bGFzc2lhbi9yZWFjdC1iZWF1dGlmdWwtZG5kL2Jsb2IvbWFzdGVyL2RvY3MvZ3VpZGVzL3VzaW5nLWlubmVyLXJlZi5tZFxcbiAgXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbn1cblxuZnVuY3Rpb24gaXNCb29sZWFuKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcbn1cblxuZnVuY3Rpb24gcnVuQ2hlY2tzKGFyZ3MsIGNoZWNrcykge1xuICBjaGVja3MuZm9yRWFjaChmdW5jdGlvbiAoY2hlY2spIHtcbiAgICByZXR1cm4gY2hlY2soYXJncyk7XG4gIH0pO1xufVxuXG52YXIgc2hhcmVkID0gW2Z1bmN0aW9uIHJlcXVpcmVkKF9yZWYpIHtcbiAgdmFyIHByb3BzID0gX3JlZi5wcm9wcztcbiAgIXByb3BzLmRyb3BwYWJsZUlkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnQSBEcm9wcGFibGUgcmVxdWlyZXMgYSBkcm9wcGFibGVJZCBwcm9wJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAhKHR5cGVvZiBwcm9wcy5kcm9wcGFibGVJZCA9PT0gJ3N0cmluZycpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkEgRHJvcHBhYmxlIHJlcXVpcmVzIGEgW3N0cmluZ10gZHJvcHBhYmxlSWQuIFByb3ZpZGVkOiBbXCIgKyB0eXBlb2YgcHJvcHMuZHJvcHBhYmxlSWQgKyBcIl1cIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xufSwgZnVuY3Rpb24gX2Jvb2xlYW4oX3JlZjIpIHtcbiAgdmFyIHByb3BzID0gX3JlZjIucHJvcHM7XG4gICFpc0Jvb2xlYW4ocHJvcHMuaXNEcm9wRGlzYWJsZWQpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnaXNEcm9wRGlzYWJsZWQgbXVzdCBiZSBhIGJvb2xlYW4nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICFpc0Jvb2xlYW4ocHJvcHMuaXNDb21iaW5lRW5hYmxlZCkgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdpc0NvbWJpbmVFbmFibGVkIG11c3QgYmUgYSBib29sZWFuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAhaXNCb29sZWFuKHByb3BzLmlnbm9yZUNvbnRhaW5lckNsaXBwaW5nKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ2lnbm9yZUNvbnRhaW5lckNsaXBwaW5nIG11c3QgYmUgYSBib29sZWFuJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xufSwgZnVuY3Rpb24gcmVmKF9yZWYzKSB7XG4gIHZhciBnZXREcm9wcGFibGVSZWYgPSBfcmVmMy5nZXREcm9wcGFibGVSZWY7XG4gIGNoZWNrSXNWYWxpZElubmVyUmVmKGdldERyb3BwYWJsZVJlZigpKTtcbn1dO1xudmFyIHN0YW5kYXJkID0gW2Z1bmN0aW9uIHBsYWNlaG9sZGVyKF9yZWY0KSB7XG4gIHZhciBwcm9wcyA9IF9yZWY0LnByb3BzLFxuICAgICAgZ2V0UGxhY2Vob2xkZXJSZWYgPSBfcmVmNC5nZXRQbGFjZWhvbGRlclJlZjtcblxuICBpZiAoIXByb3BzLnBsYWNlaG9sZGVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHJlZiA9IGdldFBsYWNlaG9sZGVyUmVmKCk7XG5cbiAgaWYgKHJlZikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoXCJcXG4gICAgICBEcm9wcGFibGUgc2V0dXAgaXNzdWUgW2Ryb3BwYWJsZUlkOiBcXFwiXCIgKyBwcm9wcy5kcm9wcGFibGVJZCArIFwiXFxcIl06XFxuICAgICAgRHJvcHBhYmxlUHJvdmlkZWQgPiBwbGFjZWhvbGRlciBjb3VsZCBub3QgYmUgZm91bmQuXFxuXFxuICAgICAgUGxlYXNlIGJlIHN1cmUgdG8gYWRkIHRoZSB7cHJvdmlkZWQucGxhY2Vob2xkZXJ9IFJlYWN0IE5vZGUgYXMgYSBjaGlsZCBvZiB5b3VyIERyb3BwYWJsZS5cXG4gICAgICBNb3JlIGluZm9ybWF0aW9uOiBodHRwczovL2dpdGh1Yi5jb20vYXRsYXNzaWFuL3JlYWN0LWJlYXV0aWZ1bC1kbmQvYmxvYi9tYXN0ZXIvZG9jcy9hcGkvZHJvcHBhYmxlLm1kXFxuICAgIFwiKSA6IHZvaWQgMDtcbn1dO1xudmFyIHZpcnR1YWwgPSBbZnVuY3Rpb24gaGFzQ2xvbmUoX3JlZjUpIHtcbiAgdmFyIHByb3BzID0gX3JlZjUucHJvcHM7XG4gICFwcm9wcy5yZW5kZXJDbG9uZSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ011c3QgcHJvdmlkZSBhIGNsb25lIHJlbmRlciBmdW5jdGlvbiAocmVuZGVyQ2xvbmUpIGZvciB2aXJ0dWFsIGxpc3RzJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xufSwgZnVuY3Rpb24gaGFzTm9QbGFjZWhvbGRlcihfcmVmNikge1xuICB2YXIgZ2V0UGxhY2Vob2xkZXJSZWYgPSBfcmVmNi5nZXRQbGFjZWhvbGRlclJlZjtcbiAgISFnZXRQbGFjZWhvbGRlclJlZigpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnRXhwZWN0ZWQgdmlydHVhbCBsaXN0IHRvIG5vdCBoYXZlIGEgcGxhY2Vob2xkZXInKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG59XTtcbmZ1bmN0aW9uIHVzZVZhbGlkYXRpb24oYXJncykge1xuICB1c2VEZXZTZXR1cFdhcm5pbmcoZnVuY3Rpb24gKCkge1xuICAgIHJ1bkNoZWNrcyhhcmdzLCBzaGFyZWQpO1xuXG4gICAgaWYgKGFyZ3MucHJvcHMubW9kZSA9PT0gJ3N0YW5kYXJkJykge1xuICAgICAgcnVuQ2hlY2tzKGFyZ3MsIHN0YW5kYXJkKTtcbiAgICB9XG5cbiAgICBpZiAoYXJncy5wcm9wcy5tb2RlID09PSAndmlydHVhbCcpIHtcbiAgICAgIHJ1bkNoZWNrcyhhcmdzLCB2aXJ0dWFsKTtcbiAgICB9XG4gIH0pO1xufVxuXG52YXIgQW5pbWF0ZUluT3V0ID0gZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKEFuaW1hdGVJbk91dCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEFuaW1hdGVJbk91dCgpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXMgPSBfUmVhY3QkUHVyZUNvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRQdXJlQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSB8fCB0aGlzO1xuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgaXNWaXNpYmxlOiBCb29sZWFuKF90aGlzLnByb3BzLm9uKSxcbiAgICAgIGRhdGE6IF90aGlzLnByb3BzLm9uLFxuICAgICAgYW5pbWF0ZTogX3RoaXMucHJvcHMuc2hvdWxkQW5pbWF0ZSAmJiBfdGhpcy5wcm9wcy5vbiA/ICdvcGVuJyA6ICdub25lJ1xuICAgIH07XG5cbiAgICBfdGhpcy5vbkNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzLnN0YXRlLmFuaW1hdGUgIT09ICdjbG9zZScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzVmlzaWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBBbmltYXRlSW5PdXQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBzdGF0ZSkge1xuICAgIGlmICghcHJvcHMuc2hvdWxkQW5pbWF0ZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNWaXNpYmxlOiBCb29sZWFuKHByb3BzLm9uKSxcbiAgICAgICAgZGF0YTogcHJvcHMub24sXG4gICAgICAgIGFuaW1hdGU6ICdub25lJ1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAocHJvcHMub24pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzVmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgZGF0YTogcHJvcHMub24sXG4gICAgICAgIGFuaW1hdGU6ICdvcGVuJ1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuaXNWaXNpYmxlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1Zpc2libGU6IHRydWUsXG4gICAgICAgIGRhdGE6IHN0YXRlLmRhdGEsXG4gICAgICAgIGFuaW1hdGU6ICdjbG9zZSdcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzVmlzaWJsZTogZmFsc2UsXG4gICAgICBhbmltYXRlOiAnY2xvc2UnLFxuICAgICAgZGF0YTogbnVsbFxuICAgIH07XG4gIH07XG5cbiAgdmFyIF9wcm90byA9IEFuaW1hdGVJbk91dC5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuaXNWaXNpYmxlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgcHJvdmlkZWQgPSB7XG4gICAgICBvbkNsb3NlOiB0aGlzLm9uQ2xvc2UsXG4gICAgICBkYXRhOiB0aGlzLnN0YXRlLmRhdGEsXG4gICAgICBhbmltYXRlOiB0aGlzLnN0YXRlLmFuaW1hdGVcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuKHByb3ZpZGVkKTtcbiAgfTtcblxuICByZXR1cm4gQW5pbWF0ZUluT3V0O1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxudmFyIHpJbmRleE9wdGlvbnMgPSB7XG4gIGRyYWdnaW5nOiA1MDAwLFxuICBkcm9wQW5pbWF0aW5nOiA0NTAwXG59O1xuXG52YXIgZ2V0RHJhZ2dpbmdUcmFuc2l0aW9uID0gZnVuY3Rpb24gZ2V0RHJhZ2dpbmdUcmFuc2l0aW9uKHNob3VsZEFuaW1hdGVEcmFnTW92ZW1lbnQsIGRyb3BwaW5nKSB7XG4gIGlmIChkcm9wcGluZykge1xuICAgIHJldHVybiB0cmFuc2l0aW9ucy5kcm9wKGRyb3BwaW5nLmR1cmF0aW9uKTtcbiAgfVxuXG4gIGlmIChzaG91bGRBbmltYXRlRHJhZ01vdmVtZW50KSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25zLnNuYXA7XG4gIH1cblxuICByZXR1cm4gdHJhbnNpdGlvbnMuZmx1aWQ7XG59O1xuXG52YXIgZ2V0RHJhZ2dpbmdPcGFjaXR5ID0gZnVuY3Rpb24gZ2V0RHJhZ2dpbmdPcGFjaXR5KGlzQ29tYmluaW5nLCBpc0Ryb3BBbmltYXRpbmcpIHtcbiAgaWYgKCFpc0NvbWJpbmluZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGlzRHJvcEFuaW1hdGluZyA/IGNvbWJpbmUub3BhY2l0eS5kcm9wIDogY29tYmluZS5vcGFjaXR5LmNvbWJpbmluZztcbn07XG5cbnZhciBnZXRTaG91bGREcmFnZ2luZ0FuaW1hdGUgPSBmdW5jdGlvbiBnZXRTaG91bGREcmFnZ2luZ0FuaW1hdGUoZHJhZ2dpbmcpIHtcbiAgaWYgKGRyYWdnaW5nLmZvcmNlU2hvdWxkQW5pbWF0ZSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIGRyYWdnaW5nLmZvcmNlU2hvdWxkQW5pbWF0ZTtcbiAgfVxuXG4gIHJldHVybiBkcmFnZ2luZy5tb2RlID09PSAnU05BUCc7XG59O1xuXG5mdW5jdGlvbiBnZXREcmFnZ2luZ1N0eWxlKGRyYWdnaW5nKSB7XG4gIHZhciBkaW1lbnNpb24gPSBkcmFnZ2luZy5kaW1lbnNpb247XG4gIHZhciBib3ggPSBkaW1lbnNpb24uY2xpZW50O1xuICB2YXIgb2Zmc2V0ID0gZHJhZ2dpbmcub2Zmc2V0LFxuICAgICAgY29tYmluZVdpdGggPSBkcmFnZ2luZy5jb21iaW5lV2l0aCxcbiAgICAgIGRyb3BwaW5nID0gZHJhZ2dpbmcuZHJvcHBpbmc7XG4gIHZhciBpc0NvbWJpbmluZyA9IEJvb2xlYW4oY29tYmluZVdpdGgpO1xuICB2YXIgc2hvdWxkQW5pbWF0ZSA9IGdldFNob3VsZERyYWdnaW5nQW5pbWF0ZShkcmFnZ2luZyk7XG4gIHZhciBpc0Ryb3BBbmltYXRpbmcgPSBCb29sZWFuKGRyb3BwaW5nKTtcbiAgdmFyIHRyYW5zZm9ybSA9IGlzRHJvcEFuaW1hdGluZyA/IHRyYW5zZm9ybXMuZHJvcChvZmZzZXQsIGlzQ29tYmluaW5nKSA6IHRyYW5zZm9ybXMubW92ZVRvKG9mZnNldCk7XG4gIHZhciBzdHlsZSA9IHtcbiAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICB0b3A6IGJveC5tYXJnaW5Cb3gudG9wLFxuICAgIGxlZnQ6IGJveC5tYXJnaW5Cb3gubGVmdCxcbiAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICB3aWR0aDogYm94LmJvcmRlckJveC53aWR0aCxcbiAgICBoZWlnaHQ6IGJveC5ib3JkZXJCb3guaGVpZ2h0LFxuICAgIHRyYW5zaXRpb246IGdldERyYWdnaW5nVHJhbnNpdGlvbihzaG91bGRBbmltYXRlLCBkcm9wcGluZyksXG4gICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgb3BhY2l0eTogZ2V0RHJhZ2dpbmdPcGFjaXR5KGlzQ29tYmluaW5nLCBpc0Ryb3BBbmltYXRpbmcpLFxuICAgIHpJbmRleDogaXNEcm9wQW5pbWF0aW5nID8gekluZGV4T3B0aW9ucy5kcm9wQW5pbWF0aW5nIDogekluZGV4T3B0aW9ucy5kcmFnZ2luZyxcbiAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgfTtcbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBnZXRTZWNvbmRhcnlTdHlsZShzZWNvbmRhcnkpIHtcbiAgcmV0dXJuIHtcbiAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybXMubW92ZVRvKHNlY29uZGFyeS5vZmZzZXQpLFxuICAgIHRyYW5zaXRpb246IHNlY29uZGFyeS5zaG91bGRBbmltYXRlRGlzcGxhY2VtZW50ID8gbnVsbCA6ICdub25lJ1xuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRTdHlsZSQxKG1hcHBlZCkge1xuICByZXR1cm4gbWFwcGVkLnR5cGUgPT09ICdEUkFHR0lORycgPyBnZXREcmFnZ2luZ1N0eWxlKG1hcHBlZCkgOiBnZXRTZWNvbmRhcnlTdHlsZShtYXBwZWQpO1xufVxuXG5mdW5jdGlvbiBnZXREaW1lbnNpb24kMShkZXNjcmlwdG9yLCBlbCwgd2luZG93U2Nyb2xsKSB7XG4gIGlmICh3aW5kb3dTY3JvbGwgPT09IHZvaWQgMCkge1xuICAgIHdpbmRvd1Njcm9sbCA9IG9yaWdpbjtcbiAgfVxuXG4gIHZhciBjb21wdXRlZFN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgdmFyIGJvcmRlckJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICB2YXIgY2xpZW50ID0gY2FsY3VsYXRlQm94KGJvcmRlckJveCwgY29tcHV0ZWRTdHlsZXMpO1xuICB2YXIgcGFnZSA9IHdpdGhTY3JvbGwoY2xpZW50LCB3aW5kb3dTY3JvbGwpO1xuICB2YXIgcGxhY2Vob2xkZXIgPSB7XG4gICAgY2xpZW50OiBjbGllbnQsXG4gICAgdGFnTmFtZTogZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgIGRpc3BsYXk6IGNvbXB1dGVkU3R5bGVzLmRpc3BsYXlcbiAgfTtcbiAgdmFyIGRpc3BsYWNlQnkgPSB7XG4gICAgeDogY2xpZW50Lm1hcmdpbkJveC53aWR0aCxcbiAgICB5OiBjbGllbnQubWFyZ2luQm94LmhlaWdodFxuICB9O1xuICB2YXIgZGltZW5zaW9uID0ge1xuICAgIGRlc2NyaXB0b3I6IGRlc2NyaXB0b3IsXG4gICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuICAgIGRpc3BsYWNlQnk6IGRpc3BsYWNlQnksXG4gICAgY2xpZW50OiBjbGllbnQsXG4gICAgcGFnZTogcGFnZVxuICB9O1xuICByZXR1cm4gZGltZW5zaW9uO1xufVxuXG5mdW5jdGlvbiB1c2VEcmFnZ2FibGVQdWJsaXNoZXIoYXJncykge1xuICB2YXIgdW5pcXVlSWQgPSB1c2VVbmlxdWVJZCgnZHJhZ2dhYmxlJyk7XG4gIHZhciBkZXNjcmlwdG9yID0gYXJncy5kZXNjcmlwdG9yLFxuICAgICAgcmVnaXN0cnkgPSBhcmdzLnJlZ2lzdHJ5LFxuICAgICAgZ2V0RHJhZ2dhYmxlUmVmID0gYXJncy5nZXREcmFnZ2FibGVSZWYsXG4gICAgICBjYW5EcmFnSW50ZXJhY3RpdmVFbGVtZW50cyA9IGFyZ3MuY2FuRHJhZ0ludGVyYWN0aXZlRWxlbWVudHMsXG4gICAgICBzaG91bGRSZXNwZWN0Rm9yY2VQcmVzcyA9IGFyZ3Muc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3MsXG4gICAgICBpc0VuYWJsZWQgPSBhcmdzLmlzRW5hYmxlZDtcbiAgdmFyIG9wdGlvbnMgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2FuRHJhZ0ludGVyYWN0aXZlRWxlbWVudHM6IGNhbkRyYWdJbnRlcmFjdGl2ZUVsZW1lbnRzLFxuICAgICAgc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3M6IHNob3VsZFJlc3BlY3RGb3JjZVByZXNzLFxuICAgICAgaXNFbmFibGVkOiBpc0VuYWJsZWRcbiAgICB9O1xuICB9LCBbY2FuRHJhZ0ludGVyYWN0aXZlRWxlbWVudHMsIGlzRW5hYmxlZCwgc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3NdKTtcbiAgdmFyIGdldERpbWVuc2lvbiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICh3aW5kb3dTY3JvbGwpIHtcbiAgICB2YXIgZWwgPSBnZXREcmFnZ2FibGVSZWYoKTtcbiAgICAhZWwgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDYW5ub3QgZ2V0IGRpbWVuc2lvbiB3aGVuIG5vIHJlZiBpcyBzZXQnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgcmV0dXJuIGdldERpbWVuc2lvbiQxKGRlc2NyaXB0b3IsIGVsLCB3aW5kb3dTY3JvbGwpO1xuICB9LCBbZGVzY3JpcHRvciwgZ2V0RHJhZ2dhYmxlUmVmXSk7XG4gIHZhciBlbnRyeSA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICB1bmlxdWVJZDogdW5pcXVlSWQsXG4gICAgICBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yLFxuICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgIGdldERpbWVuc2lvbjogZ2V0RGltZW5zaW9uXG4gICAgfTtcbiAgfSwgW2Rlc2NyaXB0b3IsIGdldERpbWVuc2lvbiwgb3B0aW9ucywgdW5pcXVlSWRdKTtcbiAgdmFyIHB1Ymxpc2hlZFJlZiA9IHVzZVJlZihlbnRyeSk7XG4gIHZhciBpc0ZpcnN0UHVibGlzaFJlZiA9IHVzZVJlZih0cnVlKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgcmVnaXN0cnkuZHJhZ2dhYmxlLnJlZ2lzdGVyKHB1Ymxpc2hlZFJlZi5jdXJyZW50KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlZ2lzdHJ5LmRyYWdnYWJsZS51bnJlZ2lzdGVyKHB1Ymxpc2hlZFJlZi5jdXJyZW50KTtcbiAgICB9O1xuICB9LCBbcmVnaXN0cnkuZHJhZ2dhYmxlXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChpc0ZpcnN0UHVibGlzaFJlZi5jdXJyZW50KSB7XG4gICAgICBpc0ZpcnN0UHVibGlzaFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxhc3QgPSBwdWJsaXNoZWRSZWYuY3VycmVudDtcbiAgICBwdWJsaXNoZWRSZWYuY3VycmVudCA9IGVudHJ5O1xuICAgIHJlZ2lzdHJ5LmRyYWdnYWJsZS51cGRhdGUoZW50cnksIGxhc3QpO1xuICB9LCBbZW50cnksIHJlZ2lzdHJ5LmRyYWdnYWJsZV0pO1xufVxuXG5mdW5jdGlvbiB1c2VWYWxpZGF0aW9uJDEocHJvcHMsIGNvbnRleHRJZCwgZ2V0UmVmKSB7XG4gIHVzZURldlNldHVwV2FybmluZyhmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcHJlZml4KGlkKSB7XG4gICAgICByZXR1cm4gXCJEcmFnZ2FibGVbaWQ6IFwiICsgaWQgKyBcIl06IFwiO1xuICAgIH1cblxuICAgIHZhciBpZCA9IHByb3BzLmRyYWdnYWJsZUlkO1xuICAgICFpZCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0RyYWdnYWJsZSByZXF1aXJlcyBhIGRyYWdnYWJsZUlkJykgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICEodHlwZW9mIGlkID09PSAnc3RyaW5nJykgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiRHJhZ2dhYmxlIHJlcXVpcmVzIGEgW3N0cmluZ10gZHJhZ2dhYmxlSWQuXFxuICAgICAgUHJvdmlkZWQ6IFt0eXBlOiBcIiArIHR5cGVvZiBpZCArIFwiXSAodmFsdWU6IFwiICsgaWQgKyBcIilcIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwO1xuICAgICFpc0ludGVnZXIocHJvcHMuaW5kZXgpID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBwcmVmaXgoaWQpICsgXCIgcmVxdWlyZXMgYW4gaW50ZWdlciBpbmRleCBwcm9wXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcblxuICAgIGlmIChwcm9wcy5tYXBwZWQudHlwZSA9PT0gJ0RSQUdHSU5HJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNoZWNrSXNWYWxpZElubmVyUmVmKGdldFJlZigpKTtcblxuICAgIGlmIChwcm9wcy5pc0VuYWJsZWQpIHtcbiAgICAgICFmaW5kRHJhZ0hhbmRsZShjb250ZXh0SWQsIGlkKSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgcHJlZml4KGlkKSArIFwiIFVuYWJsZSB0byBmaW5kIGRyYWcgaGFuZGxlXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gdXNlQ2xvbmVQcm9wVmFsaWRhdGlvbihpc0Nsb25lKSB7XG4gIHVzZURldihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGluaXRpYWxSZWYgPSB1c2VSZWYoaXNDbG9uZSk7XG4gICAgdXNlRGV2U2V0dXBXYXJuaW5nKGZ1bmN0aW9uICgpIHtcbiAgICAgICEoaXNDbG9uZSA9PT0gaW5pdGlhbFJlZi5jdXJyZW50KSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0RyYWdnYWJsZSBpc0Nsb25lIHByb3AgdmFsdWUgY2hhbmdlZCBkdXJpbmcgY29tcG9uZW50IGxpZmUnKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgfSwgW2lzQ2xvbmVdKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZXZlbnRIdG1sNURuZChldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5mdW5jdGlvbiBEcmFnZ2FibGUocHJvcHMpIHtcbiAgdmFyIHJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIHNldFJlZiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChlbCkge1xuICAgIHJlZi5jdXJyZW50ID0gZWw7XG4gIH0sIFtdKTtcbiAgdmFyIGdldFJlZiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVmLmN1cnJlbnQ7XG4gIH0sIFtdKTtcblxuICB2YXIgX3VzZVJlcXVpcmVkQ29udGV4dCA9IHVzZVJlcXVpcmVkQ29udGV4dChBcHBDb250ZXh0KSxcbiAgICAgIGNvbnRleHRJZCA9IF91c2VSZXF1aXJlZENvbnRleHQuY29udGV4dElkLFxuICAgICAgZHJhZ0hhbmRsZVVzYWdlSW5zdHJ1Y3Rpb25zSWQgPSBfdXNlUmVxdWlyZWRDb250ZXh0LmRyYWdIYW5kbGVVc2FnZUluc3RydWN0aW9uc0lkLFxuICAgICAgcmVnaXN0cnkgPSBfdXNlUmVxdWlyZWRDb250ZXh0LnJlZ2lzdHJ5O1xuXG4gIHZhciBfdXNlUmVxdWlyZWRDb250ZXh0MiA9IHVzZVJlcXVpcmVkQ29udGV4dChEcm9wcGFibGVDb250ZXh0KSxcbiAgICAgIHR5cGUgPSBfdXNlUmVxdWlyZWRDb250ZXh0Mi50eXBlLFxuICAgICAgZHJvcHBhYmxlSWQgPSBfdXNlUmVxdWlyZWRDb250ZXh0Mi5kcm9wcGFibGVJZDtcblxuICB2YXIgZGVzY3JpcHRvciA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogcHJvcHMuZHJhZ2dhYmxlSWQsXG4gICAgICBpbmRleDogcHJvcHMuaW5kZXgsXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgZHJvcHBhYmxlSWQ6IGRyb3BwYWJsZUlkXG4gICAgfTtcbiAgfSwgW3Byb3BzLmRyYWdnYWJsZUlkLCBwcm9wcy5pbmRleCwgdHlwZSwgZHJvcHBhYmxlSWRdKTtcbiAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBkcmFnZ2FibGVJZCA9IHByb3BzLmRyYWdnYWJsZUlkLFxuICAgICAgaXNFbmFibGVkID0gcHJvcHMuaXNFbmFibGVkLFxuICAgICAgc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3MgPSBwcm9wcy5zaG91bGRSZXNwZWN0Rm9yY2VQcmVzcyxcbiAgICAgIGNhbkRyYWdJbnRlcmFjdGl2ZUVsZW1lbnRzID0gcHJvcHMuY2FuRHJhZ0ludGVyYWN0aXZlRWxlbWVudHMsXG4gICAgICBpc0Nsb25lID0gcHJvcHMuaXNDbG9uZSxcbiAgICAgIG1hcHBlZCA9IHByb3BzLm1hcHBlZCxcbiAgICAgIGRyb3BBbmltYXRpb25GaW5pc2hlZEFjdGlvbiA9IHByb3BzLmRyb3BBbmltYXRpb25GaW5pc2hlZDtcbiAgdXNlVmFsaWRhdGlvbiQxKHByb3BzLCBjb250ZXh0SWQsIGdldFJlZik7XG4gIHVzZUNsb25lUHJvcFZhbGlkYXRpb24oaXNDbG9uZSk7XG5cbiAgaWYgKCFpc0Nsb25lKSB7XG4gICAgdmFyIGZvclB1Ymxpc2hlciA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGVzY3JpcHRvcjogZGVzY3JpcHRvcixcbiAgICAgICAgcmVnaXN0cnk6IHJlZ2lzdHJ5LFxuICAgICAgICBnZXREcmFnZ2FibGVSZWY6IGdldFJlZixcbiAgICAgICAgY2FuRHJhZ0ludGVyYWN0aXZlRWxlbWVudHM6IGNhbkRyYWdJbnRlcmFjdGl2ZUVsZW1lbnRzLFxuICAgICAgICBzaG91bGRSZXNwZWN0Rm9yY2VQcmVzczogc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3MsXG4gICAgICAgIGlzRW5hYmxlZDogaXNFbmFibGVkXG4gICAgICB9O1xuICAgIH0sIFtkZXNjcmlwdG9yLCByZWdpc3RyeSwgZ2V0UmVmLCBjYW5EcmFnSW50ZXJhY3RpdmVFbGVtZW50cywgc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3MsIGlzRW5hYmxlZF0pO1xuICAgIHVzZURyYWdnYWJsZVB1Ymxpc2hlcihmb3JQdWJsaXNoZXIpO1xuICB9XG5cbiAgdmFyIGRyYWdIYW5kbGVQcm9wcyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBpc0VuYWJsZWQgPyB7XG4gICAgICB0YWJJbmRleDogMCxcbiAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiBkcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnNJZCxcbiAgICAgICdkYXRhLXJiZC1kcmFnLWhhbmRsZS1kcmFnZ2FibGUtaWQnOiBkcmFnZ2FibGVJZCxcbiAgICAgICdkYXRhLXJiZC1kcmFnLWhhbmRsZS1jb250ZXh0LWlkJzogY29udGV4dElkLFxuICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcbiAgICAgIG9uRHJhZ1N0YXJ0OiBwcmV2ZW50SHRtbDVEbmRcbiAgICB9IDogbnVsbDtcbiAgfSwgW2NvbnRleHRJZCwgZHJhZ0hhbmRsZVVzYWdlSW5zdHJ1Y3Rpb25zSWQsIGRyYWdnYWJsZUlkLCBpc0VuYWJsZWRdKTtcbiAgdmFyIG9uTW92ZUVuZCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChtYXBwZWQudHlwZSAhPT0gJ0RSQUdHSU5HJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghbWFwcGVkLmRyb3BwaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LnByb3BlcnR5TmFtZSAhPT0gJ3RyYW5zZm9ybScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkcm9wQW5pbWF0aW9uRmluaXNoZWRBY3Rpb24oKTtcbiAgfSwgW2Ryb3BBbmltYXRpb25GaW5pc2hlZEFjdGlvbiwgbWFwcGVkXSk7XG4gIHZhciBwcm92aWRlZCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdHlsZSA9IGdldFN0eWxlJDEobWFwcGVkKTtcbiAgICB2YXIgb25UcmFuc2l0aW9uRW5kID0gbWFwcGVkLnR5cGUgPT09ICdEUkFHR0lORycgJiYgbWFwcGVkLmRyb3BwaW5nID8gb25Nb3ZlRW5kIDogbnVsbDtcbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgaW5uZXJSZWY6IHNldFJlZixcbiAgICAgIGRyYWdnYWJsZVByb3BzOiB7XG4gICAgICAgICdkYXRhLXJiZC1kcmFnZ2FibGUtY29udGV4dC1pZCc6IGNvbnRleHRJZCxcbiAgICAgICAgJ2RhdGEtcmJkLWRyYWdnYWJsZS1pZCc6IGRyYWdnYWJsZUlkLFxuICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgIG9uVHJhbnNpdGlvbkVuZDogb25UcmFuc2l0aW9uRW5kXG4gICAgICB9LFxuICAgICAgZHJhZ0hhbmRsZVByb3BzOiBkcmFnSGFuZGxlUHJvcHNcbiAgICB9O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIFtjb250ZXh0SWQsIGRyYWdIYW5kbGVQcm9wcywgZHJhZ2dhYmxlSWQsIG1hcHBlZCwgb25Nb3ZlRW5kLCBzZXRSZWZdKTtcbiAgdmFyIHJ1YnJpYyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBkcmFnZ2FibGVJZDogZGVzY3JpcHRvci5pZCxcbiAgICAgIHR5cGU6IGRlc2NyaXB0b3IudHlwZSxcbiAgICAgIHNvdXJjZToge1xuICAgICAgICBpbmRleDogZGVzY3JpcHRvci5pbmRleCxcbiAgICAgICAgZHJvcHBhYmxlSWQ6IGRlc2NyaXB0b3IuZHJvcHBhYmxlSWRcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbZGVzY3JpcHRvci5kcm9wcGFibGVJZCwgZGVzY3JpcHRvci5pZCwgZGVzY3JpcHRvci5pbmRleCwgZGVzY3JpcHRvci50eXBlXSk7XG4gIHJldHVybiBjaGlsZHJlbihwcm92aWRlZCwgbWFwcGVkLnNuYXBzaG90LCBydWJyaWMpO1xufVxuXG52YXIgaXNTdHJpY3RFcXVhbCA9IChmdW5jdGlvbiAoYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn0pO1xuXG52YXIgd2hhdElzRHJhZ2dlZE92ZXJGcm9tUmVzdWx0ID0gKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgdmFyIGNvbWJpbmUgPSByZXN1bHQuY29tYmluZSxcbiAgICAgIGRlc3RpbmF0aW9uID0gcmVzdWx0LmRlc3RpbmF0aW9uO1xuXG4gIGlmIChkZXN0aW5hdGlvbikge1xuICAgIHJldHVybiBkZXN0aW5hdGlvbi5kcm9wcGFibGVJZDtcbiAgfVxuXG4gIGlmIChjb21iaW5lKSB7XG4gICAgcmV0dXJuIGNvbWJpbmUuZHJvcHBhYmxlSWQ7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn0pO1xuXG52YXIgZ2V0Q29tYmluZVdpdGhGcm9tUmVzdWx0ID0gZnVuY3Rpb24gZ2V0Q29tYmluZVdpdGhGcm9tUmVzdWx0KHJlc3VsdCkge1xuICByZXR1cm4gcmVzdWx0LmNvbWJpbmUgPyByZXN1bHQuY29tYmluZS5kcmFnZ2FibGVJZCA6IG51bGw7XG59O1xuXG52YXIgZ2V0Q29tYmluZVdpdGhGcm9tSW1wYWN0ID0gZnVuY3Rpb24gZ2V0Q29tYmluZVdpdGhGcm9tSW1wYWN0KGltcGFjdCkge1xuICByZXR1cm4gaW1wYWN0LmF0ICYmIGltcGFjdC5hdC50eXBlID09PSAnQ09NQklORScgPyBpbXBhY3QuYXQuY29tYmluZS5kcmFnZ2FibGVJZCA6IG51bGw7XG59O1xuXG5mdW5jdGlvbiBnZXREcmFnZ2FibGVTZWxlY3RvcigpIHtcbiAgdmFyIG1lbW9pemVkT2Zmc2V0ID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAoeCwgeSkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiB4LFxuICAgICAgeTogeVxuICAgIH07XG4gIH0pO1xuICB2YXIgZ2V0TWVtb2l6ZWRTbmFwc2hvdCA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKG1vZGUsIGlzQ2xvbmUsIGRyYWdnaW5nT3ZlciwgY29tYmluZVdpdGgsIGRyb3BwaW5nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzRHJhZ2dpbmc6IHRydWUsXG4gICAgICBpc0Nsb25lOiBpc0Nsb25lLFxuICAgICAgaXNEcm9wQW5pbWF0aW5nOiBCb29sZWFuKGRyb3BwaW5nKSxcbiAgICAgIGRyb3BBbmltYXRpb246IGRyb3BwaW5nLFxuICAgICAgbW9kZTogbW9kZSxcbiAgICAgIGRyYWdnaW5nT3ZlcjogZHJhZ2dpbmdPdmVyLFxuICAgICAgY29tYmluZVdpdGg6IGNvbWJpbmVXaXRoLFxuICAgICAgY29tYmluZVRhcmdldEZvcjogbnVsbFxuICAgIH07XG4gIH0pO1xuICB2YXIgZ2V0TWVtb2l6ZWRQcm9wcyA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKG9mZnNldCwgbW9kZSwgZGltZW5zaW9uLCBpc0Nsb25lLCBkcmFnZ2luZ092ZXIsIGNvbWJpbmVXaXRoLCBmb3JjZVNob3VsZEFuaW1hdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFwcGVkOiB7XG4gICAgICAgIHR5cGU6ICdEUkFHR0lORycsXG4gICAgICAgIGRyb3BwaW5nOiBudWxsLFxuICAgICAgICBkcmFnZ2luZ092ZXI6IGRyYWdnaW5nT3ZlcixcbiAgICAgICAgY29tYmluZVdpdGg6IGNvbWJpbmVXaXRoLFxuICAgICAgICBtb2RlOiBtb2RlLFxuICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgZGltZW5zaW9uOiBkaW1lbnNpb24sXG4gICAgICAgIGZvcmNlU2hvdWxkQW5pbWF0ZTogZm9yY2VTaG91bGRBbmltYXRlLFxuICAgICAgICBzbmFwc2hvdDogZ2V0TWVtb2l6ZWRTbmFwc2hvdChtb2RlLCBpc0Nsb25lLCBkcmFnZ2luZ092ZXIsIGNvbWJpbmVXaXRoLCBudWxsKVxuICAgICAgfVxuICAgIH07XG4gIH0pO1xuXG4gIHZhciBzZWxlY3RvciA9IGZ1bmN0aW9uIHNlbGVjdG9yKHN0YXRlLCBvd25Qcm9wcykge1xuICAgIGlmIChzdGF0ZS5pc0RyYWdnaW5nKSB7XG4gICAgICBpZiAoc3RhdGUuY3JpdGljYWwuZHJhZ2dhYmxlLmlkICE9PSBvd25Qcm9wcy5kcmFnZ2FibGVJZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIG9mZnNldCA9IHN0YXRlLmN1cnJlbnQuY2xpZW50Lm9mZnNldDtcbiAgICAgIHZhciBkaW1lbnNpb24gPSBzdGF0ZS5kaW1lbnNpb25zLmRyYWdnYWJsZXNbb3duUHJvcHMuZHJhZ2dhYmxlSWRdO1xuICAgICAgdmFyIGRyYWdnaW5nT3ZlciA9IHdoYXRJc0RyYWdnZWRPdmVyKHN0YXRlLmltcGFjdCk7XG4gICAgICB2YXIgY29tYmluZVdpdGggPSBnZXRDb21iaW5lV2l0aEZyb21JbXBhY3Qoc3RhdGUuaW1wYWN0KTtcbiAgICAgIHZhciBmb3JjZVNob3VsZEFuaW1hdGUgPSBzdGF0ZS5mb3JjZVNob3VsZEFuaW1hdGU7XG4gICAgICByZXR1cm4gZ2V0TWVtb2l6ZWRQcm9wcyhtZW1vaXplZE9mZnNldChvZmZzZXQueCwgb2Zmc2V0LnkpLCBzdGF0ZS5tb3ZlbWVudE1vZGUsIGRpbWVuc2lvbiwgb3duUHJvcHMuaXNDbG9uZSwgZHJhZ2dpbmdPdmVyLCBjb21iaW5lV2l0aCwgZm9yY2VTaG91bGRBbmltYXRlKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUucGhhc2UgPT09ICdEUk9QX0FOSU1BVElORycpIHtcbiAgICAgIHZhciBjb21wbGV0ZWQgPSBzdGF0ZS5jb21wbGV0ZWQ7XG5cbiAgICAgIGlmIChjb21wbGV0ZWQucmVzdWx0LmRyYWdnYWJsZUlkICE9PSBvd25Qcm9wcy5kcmFnZ2FibGVJZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzQ2xvbmUgPSBvd25Qcm9wcy5pc0Nsb25lO1xuICAgICAgdmFyIF9kaW1lbnNpb24gPSBzdGF0ZS5kaW1lbnNpb25zLmRyYWdnYWJsZXNbb3duUHJvcHMuZHJhZ2dhYmxlSWRdO1xuICAgICAgdmFyIHJlc3VsdCA9IGNvbXBsZXRlZC5yZXN1bHQ7XG4gICAgICB2YXIgbW9kZSA9IHJlc3VsdC5tb2RlO1xuXG4gICAgICB2YXIgX2RyYWdnaW5nT3ZlciA9IHdoYXRJc0RyYWdnZWRPdmVyRnJvbVJlc3VsdChyZXN1bHQpO1xuXG4gICAgICB2YXIgX2NvbWJpbmVXaXRoID0gZ2V0Q29tYmluZVdpdGhGcm9tUmVzdWx0KHJlc3VsdCk7XG5cbiAgICAgIHZhciBkdXJhdGlvbiA9IHN0YXRlLmRyb3BEdXJhdGlvbjtcbiAgICAgIHZhciBkcm9wcGluZyA9IHtcbiAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICBjdXJ2ZTogY3VydmVzLmRyb3AsXG4gICAgICAgIG1vdmVUbzogc3RhdGUubmV3SG9tZUNsaWVudE9mZnNldCxcbiAgICAgICAgb3BhY2l0eTogX2NvbWJpbmVXaXRoID8gY29tYmluZS5vcGFjaXR5LmRyb3AgOiBudWxsLFxuICAgICAgICBzY2FsZTogX2NvbWJpbmVXaXRoID8gY29tYmluZS5zY2FsZS5kcm9wIDogbnVsbFxuICAgICAgfTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1hcHBlZDoge1xuICAgICAgICAgIHR5cGU6ICdEUkFHR0lORycsXG4gICAgICAgICAgb2Zmc2V0OiBzdGF0ZS5uZXdIb21lQ2xpZW50T2Zmc2V0LFxuICAgICAgICAgIGRpbWVuc2lvbjogX2RpbWVuc2lvbixcbiAgICAgICAgICBkcm9wcGluZzogZHJvcHBpbmcsXG4gICAgICAgICAgZHJhZ2dpbmdPdmVyOiBfZHJhZ2dpbmdPdmVyLFxuICAgICAgICAgIGNvbWJpbmVXaXRoOiBfY29tYmluZVdpdGgsXG4gICAgICAgICAgbW9kZTogbW9kZSxcbiAgICAgICAgICBmb3JjZVNob3VsZEFuaW1hdGU6IG51bGwsXG4gICAgICAgICAgc25hcHNob3Q6IGdldE1lbW9pemVkU25hcHNob3QobW9kZSwgaXNDbG9uZSwgX2RyYWdnaW5nT3ZlciwgX2NvbWJpbmVXaXRoLCBkcm9wcGluZylcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gc2VsZWN0b3I7XG59XG5cbmZ1bmN0aW9uIGdldFNlY29uZGFyeVNuYXBzaG90KGNvbWJpbmVUYXJnZXRGb3IpIHtcbiAgcmV0dXJuIHtcbiAgICBpc0RyYWdnaW5nOiBmYWxzZSxcbiAgICBpc0Ryb3BBbmltYXRpbmc6IGZhbHNlLFxuICAgIGlzQ2xvbmU6IGZhbHNlLFxuICAgIGRyb3BBbmltYXRpb246IG51bGwsXG4gICAgbW9kZTogbnVsbCxcbiAgICBkcmFnZ2luZ092ZXI6IG51bGwsXG4gICAgY29tYmluZVRhcmdldEZvcjogY29tYmluZVRhcmdldEZvcixcbiAgICBjb21iaW5lV2l0aDogbnVsbFxuICB9O1xufVxuXG52YXIgYXRSZXN0ID0ge1xuICBtYXBwZWQ6IHtcbiAgICB0eXBlOiAnU0VDT05EQVJZJyxcbiAgICBvZmZzZXQ6IG9yaWdpbixcbiAgICBjb21iaW5lVGFyZ2V0Rm9yOiBudWxsLFxuICAgIHNob3VsZEFuaW1hdGVEaXNwbGFjZW1lbnQ6IHRydWUsXG4gICAgc25hcHNob3Q6IGdldFNlY29uZGFyeVNuYXBzaG90KG51bGwpXG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldFNlY29uZGFyeVNlbGVjdG9yKCkge1xuICB2YXIgbWVtb2l6ZWRPZmZzZXQgPSBtZW1vaXplT25lKGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHgsXG4gICAgICB5OiB5XG4gICAgfTtcbiAgfSk7XG4gIHZhciBnZXRNZW1vaXplZFNuYXBzaG90ID0gbWVtb2l6ZU9uZShnZXRTZWNvbmRhcnlTbmFwc2hvdCk7XG4gIHZhciBnZXRNZW1vaXplZFByb3BzID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAob2Zmc2V0LCBjb21iaW5lVGFyZ2V0Rm9yLCBzaG91bGRBbmltYXRlRGlzcGxhY2VtZW50KSB7XG4gICAgaWYgKGNvbWJpbmVUYXJnZXRGb3IgPT09IHZvaWQgMCkge1xuICAgICAgY29tYmluZVRhcmdldEZvciA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1hcHBlZDoge1xuICAgICAgICB0eXBlOiAnU0VDT05EQVJZJyxcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgIGNvbWJpbmVUYXJnZXRGb3I6IGNvbWJpbmVUYXJnZXRGb3IsXG4gICAgICAgIHNob3VsZEFuaW1hdGVEaXNwbGFjZW1lbnQ6IHNob3VsZEFuaW1hdGVEaXNwbGFjZW1lbnQsXG4gICAgICAgIHNuYXBzaG90OiBnZXRNZW1vaXplZFNuYXBzaG90KGNvbWJpbmVUYXJnZXRGb3IpXG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG5cbiAgdmFyIGdldEZhbGxiYWNrID0gZnVuY3Rpb24gZ2V0RmFsbGJhY2soY29tYmluZVRhcmdldEZvcikge1xuICAgIHJldHVybiBjb21iaW5lVGFyZ2V0Rm9yID8gZ2V0TWVtb2l6ZWRQcm9wcyhvcmlnaW4sIGNvbWJpbmVUYXJnZXRGb3IsIHRydWUpIDogbnVsbDtcbiAgfTtcblxuICB2YXIgZ2V0UHJvcHMgPSBmdW5jdGlvbiBnZXRQcm9wcyhvd25JZCwgZHJhZ2dpbmdJZCwgaW1wYWN0LCBhZnRlckNyaXRpY2FsKSB7XG4gICAgdmFyIHZpc3VhbERpc3BsYWNlbWVudCA9IGltcGFjdC5kaXNwbGFjZWQudmlzaWJsZVtvd25JZF07XG4gICAgdmFyIGlzQWZ0ZXJDcml0aWNhbEluVmlydHVhbExpc3QgPSBCb29sZWFuKGFmdGVyQ3JpdGljYWwuaW5WaXJ0dWFsTGlzdCAmJiBhZnRlckNyaXRpY2FsLmVmZmVjdGVkW293bklkXSk7XG4gICAgdmFyIGNvbWJpbmUgPSB0cnlHZXRDb21iaW5lKGltcGFjdCk7XG4gICAgdmFyIGNvbWJpbmVUYXJnZXRGb3IgPSBjb21iaW5lICYmIGNvbWJpbmUuZHJhZ2dhYmxlSWQgPT09IG93bklkID8gZHJhZ2dpbmdJZCA6IG51bGw7XG5cbiAgICBpZiAoIXZpc3VhbERpc3BsYWNlbWVudCkge1xuICAgICAgaWYgKCFpc0FmdGVyQ3JpdGljYWxJblZpcnR1YWxMaXN0KSB7XG4gICAgICAgIHJldHVybiBnZXRGYWxsYmFjayhjb21iaW5lVGFyZ2V0Rm9yKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGltcGFjdC5kaXNwbGFjZWQuaW52aXNpYmxlW293bklkXSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGNoYW5nZSA9IG5lZ2F0ZShhZnRlckNyaXRpY2FsLmRpc3BsYWNlZEJ5LnBvaW50KTtcblxuICAgICAgdmFyIF9vZmZzZXQgPSBtZW1vaXplZE9mZnNldChjaGFuZ2UueCwgY2hhbmdlLnkpO1xuXG4gICAgICByZXR1cm4gZ2V0TWVtb2l6ZWRQcm9wcyhfb2Zmc2V0LCBjb21iaW5lVGFyZ2V0Rm9yLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBZnRlckNyaXRpY2FsSW5WaXJ0dWFsTGlzdCkge1xuICAgICAgcmV0dXJuIGdldEZhbGxiYWNrKGNvbWJpbmVUYXJnZXRGb3IpO1xuICAgIH1cblxuICAgIHZhciBkaXNwbGFjZUJ5ID0gaW1wYWN0LmRpc3BsYWNlZEJ5LnBvaW50O1xuICAgIHZhciBvZmZzZXQgPSBtZW1vaXplZE9mZnNldChkaXNwbGFjZUJ5LngsIGRpc3BsYWNlQnkueSk7XG4gICAgcmV0dXJuIGdldE1lbW9pemVkUHJvcHMob2Zmc2V0LCBjb21iaW5lVGFyZ2V0Rm9yLCB2aXN1YWxEaXNwbGFjZW1lbnQuc2hvdWxkQW5pbWF0ZSk7XG4gIH07XG5cbiAgdmFyIHNlbGVjdG9yID0gZnVuY3Rpb24gc2VsZWN0b3Ioc3RhdGUsIG93blByb3BzKSB7XG4gICAgaWYgKHN0YXRlLmlzRHJhZ2dpbmcpIHtcbiAgICAgIGlmIChzdGF0ZS5jcml0aWNhbC5kcmFnZ2FibGUuaWQgPT09IG93blByb3BzLmRyYWdnYWJsZUlkKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0UHJvcHMob3duUHJvcHMuZHJhZ2dhYmxlSWQsIHN0YXRlLmNyaXRpY2FsLmRyYWdnYWJsZS5pZCwgc3RhdGUuaW1wYWN0LCBzdGF0ZS5hZnRlckNyaXRpY2FsKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUucGhhc2UgPT09ICdEUk9QX0FOSU1BVElORycpIHtcbiAgICAgIHZhciBjb21wbGV0ZWQgPSBzdGF0ZS5jb21wbGV0ZWQ7XG5cbiAgICAgIGlmIChjb21wbGV0ZWQucmVzdWx0LmRyYWdnYWJsZUlkID09PSBvd25Qcm9wcy5kcmFnZ2FibGVJZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFByb3BzKG93blByb3BzLmRyYWdnYWJsZUlkLCBjb21wbGV0ZWQucmVzdWx0LmRyYWdnYWJsZUlkLCBjb21wbGV0ZWQuaW1wYWN0LCBjb21wbGV0ZWQuYWZ0ZXJDcml0aWNhbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIHNlbGVjdG9yO1xufVxuXG52YXIgbWFrZU1hcFN0YXRlVG9Qcm9wcyA9IGZ1bmN0aW9uIG1ha2VNYXBTdGF0ZVRvUHJvcHMoKSB7XG4gIHZhciBkcmFnZ2luZ1NlbGVjdG9yID0gZ2V0RHJhZ2dhYmxlU2VsZWN0b3IoKTtcbiAgdmFyIHNlY29uZGFyeVNlbGVjdG9yID0gZ2V0U2Vjb25kYXJ5U2VsZWN0b3IoKTtcblxuICB2YXIgc2VsZWN0b3IgPSBmdW5jdGlvbiBzZWxlY3RvcihzdGF0ZSwgb3duUHJvcHMpIHtcbiAgICByZXR1cm4gZHJhZ2dpbmdTZWxlY3RvcihzdGF0ZSwgb3duUHJvcHMpIHx8IHNlY29uZGFyeVNlbGVjdG9yKHN0YXRlLCBvd25Qcm9wcykgfHwgYXRSZXN0O1xuICB9O1xuXG4gIHJldHVybiBzZWxlY3Rvcjtcbn07XG52YXIgbWFwRGlzcGF0Y2hUb1Byb3BzID0ge1xuICBkcm9wQW5pbWF0aW9uRmluaXNoZWQ6IGRyb3BBbmltYXRpb25GaW5pc2hlZFxufTtcbnZhciBDb25uZWN0ZWREcmFnZ2FibGUgPSBjb25uZWN0KG1ha2VNYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcywgbnVsbCwge1xuICBjb250ZXh0OiBTdG9yZUNvbnRleHQsXG4gIHB1cmU6IHRydWUsXG4gIGFyZVN0YXRlUHJvcHNFcXVhbDogaXNTdHJpY3RFcXVhbFxufSkoRHJhZ2dhYmxlKTtcblxuZnVuY3Rpb24gUHJpdmF0ZURyYWdnYWJsZShwcm9wcykge1xuICB2YXIgZHJvcHBhYmxlQ29udGV4dCA9IHVzZVJlcXVpcmVkQ29udGV4dChEcm9wcGFibGVDb250ZXh0KTtcbiAgdmFyIGlzVXNpbmdDbG9uZUZvciA9IGRyb3BwYWJsZUNvbnRleHQuaXNVc2luZ0Nsb25lRm9yO1xuXG4gIGlmIChpc1VzaW5nQ2xvbmVGb3IgPT09IHByb3BzLmRyYWdnYWJsZUlkICYmICFwcm9wcy5pc0Nsb25lKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb25uZWN0ZWREcmFnZ2FibGUsIHByb3BzKTtcbn1cbmZ1bmN0aW9uIFB1YmxpY0RyYWdnYWJsZShwcm9wcykge1xuICB2YXIgaXNFbmFibGVkID0gdHlwZW9mIHByb3BzLmlzRHJhZ0Rpc2FibGVkID09PSAnYm9vbGVhbicgPyAhcHJvcHMuaXNEcmFnRGlzYWJsZWQgOiB0cnVlO1xuICB2YXIgY2FuRHJhZ0ludGVyYWN0aXZlRWxlbWVudHMgPSBCb29sZWFuKHByb3BzLmRpc2FibGVJbnRlcmFjdGl2ZUVsZW1lbnRCbG9ja2luZyk7XG4gIHZhciBzaG91bGRSZXNwZWN0Rm9yY2VQcmVzcyA9IEJvb2xlYW4ocHJvcHMuc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3MpO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQcml2YXRlRHJhZ2dhYmxlLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICBpc0Nsb25lOiBmYWxzZSxcbiAgICBpc0VuYWJsZWQ6IGlzRW5hYmxlZCxcbiAgICBjYW5EcmFnSW50ZXJhY3RpdmVFbGVtZW50czogY2FuRHJhZ0ludGVyYWN0aXZlRWxlbWVudHMsXG4gICAgc2hvdWxkUmVzcGVjdEZvcmNlUHJlc3M6IHNob3VsZFJlc3BlY3RGb3JjZVByZXNzXG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gRHJvcHBhYmxlKHByb3BzKSB7XG4gIHZhciBhcHBDb250ZXh0ID0gdXNlQ29udGV4dChBcHBDb250ZXh0KTtcbiAgIWFwcENvbnRleHQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdDb3VsZCBub3QgZmluZCBhcHAgY29udGV4dCcpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIGNvbnRleHRJZCA9IGFwcENvbnRleHQuY29udGV4dElkLFxuICAgICAgaXNNb3ZlbWVudEFsbG93ZWQgPSBhcHBDb250ZXh0LmlzTW92ZW1lbnRBbGxvd2VkO1xuICB2YXIgZHJvcHBhYmxlUmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgcGxhY2Vob2xkZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgZHJvcHBhYmxlSWQgPSBwcm9wcy5kcm9wcGFibGVJZCxcbiAgICAgIHR5cGUgPSBwcm9wcy50eXBlLFxuICAgICAgbW9kZSA9IHByb3BzLm1vZGUsXG4gICAgICBkaXJlY3Rpb24gPSBwcm9wcy5kaXJlY3Rpb24sXG4gICAgICBpZ25vcmVDb250YWluZXJDbGlwcGluZyA9IHByb3BzLmlnbm9yZUNvbnRhaW5lckNsaXBwaW5nLFxuICAgICAgaXNEcm9wRGlzYWJsZWQgPSBwcm9wcy5pc0Ryb3BEaXNhYmxlZCxcbiAgICAgIGlzQ29tYmluZUVuYWJsZWQgPSBwcm9wcy5pc0NvbWJpbmVFbmFibGVkLFxuICAgICAgc25hcHNob3QgPSBwcm9wcy5zbmFwc2hvdCxcbiAgICAgIHVzZUNsb25lID0gcHJvcHMudXNlQ2xvbmUsXG4gICAgICB1cGRhdGVWaWV3cG9ydE1heFNjcm9sbCA9IHByb3BzLnVwZGF0ZVZpZXdwb3J0TWF4U2Nyb2xsLFxuICAgICAgZ2V0Q29udGFpbmVyRm9yQ2xvbmUgPSBwcm9wcy5nZXRDb250YWluZXJGb3JDbG9uZTtcbiAgdmFyIGdldERyb3BwYWJsZVJlZiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZHJvcHBhYmxlUmVmLmN1cnJlbnQ7XG4gIH0sIFtdKTtcbiAgdmFyIHNldERyb3BwYWJsZVJlZiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGRyb3BwYWJsZVJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH0sIFtdKTtcbiAgdmFyIGdldFBsYWNlaG9sZGVyUmVmID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwbGFjZWhvbGRlclJlZi5jdXJyZW50O1xuICB9LCBbXSk7XG4gIHZhciBzZXRQbGFjZWhvbGRlclJlZiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHBsYWNlaG9sZGVyUmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfSwgW10pO1xuICB1c2VWYWxpZGF0aW9uKHtcbiAgICBwcm9wczogcHJvcHMsXG4gICAgZ2V0RHJvcHBhYmxlUmVmOiBnZXREcm9wcGFibGVSZWYsXG4gICAgZ2V0UGxhY2Vob2xkZXJSZWY6IGdldFBsYWNlaG9sZGVyUmVmXG4gIH0pO1xuICB2YXIgb25QbGFjZWhvbGRlclRyYW5zaXRpb25FbmQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGlzTW92ZW1lbnRBbGxvd2VkKCkpIHtcbiAgICAgIHVwZGF0ZVZpZXdwb3J0TWF4U2Nyb2xsKHtcbiAgICAgICAgbWF4U2Nyb2xsOiBnZXRNYXhXaW5kb3dTY3JvbGwoKVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbaXNNb3ZlbWVudEFsbG93ZWQsIHVwZGF0ZVZpZXdwb3J0TWF4U2Nyb2xsXSk7XG4gIHVzZURyb3BwYWJsZVB1Ymxpc2hlcih7XG4gICAgZHJvcHBhYmxlSWQ6IGRyb3BwYWJsZUlkLFxuICAgIHR5cGU6IHR5cGUsXG4gICAgbW9kZTogbW9kZSxcbiAgICBkaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICBpc0Ryb3BEaXNhYmxlZDogaXNEcm9wRGlzYWJsZWQsXG4gICAgaXNDb21iaW5lRW5hYmxlZDogaXNDb21iaW5lRW5hYmxlZCxcbiAgICBpZ25vcmVDb250YWluZXJDbGlwcGluZzogaWdub3JlQ29udGFpbmVyQ2xpcHBpbmcsXG4gICAgZ2V0RHJvcHBhYmxlUmVmOiBnZXREcm9wcGFibGVSZWZcbiAgfSk7XG4gIHZhciBwbGFjZWhvbGRlciA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQW5pbWF0ZUluT3V0LCB7XG4gICAgb246IHByb3BzLnBsYWNlaG9sZGVyLFxuICAgIHNob3VsZEFuaW1hdGU6IHByb3BzLnNob3VsZEFuaW1hdGVQbGFjZWhvbGRlclxuICB9LCBmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBvbkNsb3NlID0gX3JlZi5vbkNsb3NlLFxuICAgICAgICBkYXRhID0gX3JlZi5kYXRhLFxuICAgICAgICBhbmltYXRlID0gX3JlZi5hbmltYXRlO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFBsYWNlaG9sZGVyJDEsIHtcbiAgICAgIHBsYWNlaG9sZGVyOiBkYXRhLFxuICAgICAgb25DbG9zZTogb25DbG9zZSxcbiAgICAgIGlubmVyUmVmOiBzZXRQbGFjZWhvbGRlclJlZixcbiAgICAgIGFuaW1hdGU6IGFuaW1hdGUsXG4gICAgICBjb250ZXh0SWQ6IGNvbnRleHRJZCxcbiAgICAgIG9uVHJhbnNpdGlvbkVuZDogb25QbGFjZWhvbGRlclRyYW5zaXRpb25FbmRcbiAgICB9KTtcbiAgfSk7XG4gIHZhciBwcm92aWRlZCA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbm5lclJlZjogc2V0RHJvcHBhYmxlUmVmLFxuICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuICAgICAgZHJvcHBhYmxlUHJvcHM6IHtcbiAgICAgICAgJ2RhdGEtcmJkLWRyb3BwYWJsZS1pZCc6IGRyb3BwYWJsZUlkLFxuICAgICAgICAnZGF0YS1yYmQtZHJvcHBhYmxlLWNvbnRleHQtaWQnOiBjb250ZXh0SWRcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbY29udGV4dElkLCBkcm9wcGFibGVJZCwgcGxhY2Vob2xkZXIsIHNldERyb3BwYWJsZVJlZl0pO1xuICB2YXIgaXNVc2luZ0Nsb25lRm9yID0gdXNlQ2xvbmUgPyB1c2VDbG9uZS5kcmFnZ2luZy5kcmFnZ2FibGVJZCA6IG51bGw7XG4gIHZhciBkcm9wcGFibGVDb250ZXh0ID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRyb3BwYWJsZUlkOiBkcm9wcGFibGVJZCxcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBpc1VzaW5nQ2xvbmVGb3I6IGlzVXNpbmdDbG9uZUZvclxuICAgIH07XG4gIH0sIFtkcm9wcGFibGVJZCwgaXNVc2luZ0Nsb25lRm9yLCB0eXBlXSk7XG5cbiAgZnVuY3Rpb24gZ2V0Q2xvbmUoKSB7XG4gICAgaWYgKCF1c2VDbG9uZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGRyYWdnaW5nID0gdXNlQ2xvbmUuZHJhZ2dpbmcsXG4gICAgICAgIHJlbmRlciA9IHVzZUNsb25lLnJlbmRlcjtcbiAgICB2YXIgbm9kZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJpdmF0ZURyYWdnYWJsZSwge1xuICAgICAgZHJhZ2dhYmxlSWQ6IGRyYWdnaW5nLmRyYWdnYWJsZUlkLFxuICAgICAgaW5kZXg6IGRyYWdnaW5nLnNvdXJjZS5pbmRleCxcbiAgICAgIGlzQ2xvbmU6IHRydWUsXG4gICAgICBpc0VuYWJsZWQ6IHRydWUsXG4gICAgICBzaG91bGRSZXNwZWN0Rm9yY2VQcmVzczogZmFsc2UsXG4gICAgICBjYW5EcmFnSW50ZXJhY3RpdmVFbGVtZW50czogdHJ1ZVxuICAgIH0sIGZ1bmN0aW9uIChkcmFnZ2FibGVQcm92aWRlZCwgZHJhZ2dhYmxlU25hcHNob3QpIHtcbiAgICAgIHJldHVybiByZW5kZXIoZHJhZ2dhYmxlUHJvdmlkZWQsIGRyYWdnYWJsZVNuYXBzaG90LCBkcmFnZ2luZyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFJlYWN0RE9NLmNyZWF0ZVBvcnRhbChub2RlLCBnZXRDb250YWluZXJGb3JDbG9uZSgpKTtcbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KERyb3BwYWJsZUNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogZHJvcHBhYmxlQ29udGV4dFxuICB9LCBjaGlsZHJlbihwcm92aWRlZCwgc25hcHNob3QpLCBnZXRDbG9uZSgpKTtcbn1cblxudmFyIGlzTWF0Y2hpbmdUeXBlID0gZnVuY3Rpb24gaXNNYXRjaGluZ1R5cGUodHlwZSwgY3JpdGljYWwpIHtcbiAgcmV0dXJuIHR5cGUgPT09IGNyaXRpY2FsLmRyb3BwYWJsZS50eXBlO1xufTtcblxudmFyIGdldERyYWdnYWJsZSA9IGZ1bmN0aW9uIGdldERyYWdnYWJsZShjcml0aWNhbCwgZGltZW5zaW9ucykge1xuICByZXR1cm4gZGltZW5zaW9ucy5kcmFnZ2FibGVzW2NyaXRpY2FsLmRyYWdnYWJsZS5pZF07XG59O1xuXG52YXIgbWFrZU1hcFN0YXRlVG9Qcm9wcyQxID0gZnVuY3Rpb24gbWFrZU1hcFN0YXRlVG9Qcm9wcygpIHtcbiAgdmFyIGlkbGVXaXRoQW5pbWF0aW9uID0ge1xuICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgIHNob3VsZEFuaW1hdGVQbGFjZWhvbGRlcjogdHJ1ZSxcbiAgICBzbmFwc2hvdDoge1xuICAgICAgaXNEcmFnZ2luZ092ZXI6IGZhbHNlLFxuICAgICAgZHJhZ2dpbmdPdmVyV2l0aDogbnVsbCxcbiAgICAgIGRyYWdnaW5nRnJvbVRoaXNXaXRoOiBudWxsLFxuICAgICAgaXNVc2luZ1BsYWNlaG9sZGVyOiBmYWxzZVxuICAgIH0sXG4gICAgdXNlQ2xvbmU6IG51bGxcbiAgfTtcblxuICB2YXIgaWRsZVdpdGhvdXRBbmltYXRpb24gPSBfZXh0ZW5kcyh7fSwgaWRsZVdpdGhBbmltYXRpb24sIHtcbiAgICBzaG91bGRBbmltYXRlUGxhY2Vob2xkZXI6IGZhbHNlXG4gIH0pO1xuXG4gIHZhciBnZXREcmFnZ2FibGVSdWJyaWMgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChkZXNjcmlwdG9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRyYWdnYWJsZUlkOiBkZXNjcmlwdG9yLmlkLFxuICAgICAgdHlwZTogZGVzY3JpcHRvci50eXBlLFxuICAgICAgc291cmNlOiB7XG4gICAgICAgIGluZGV4OiBkZXNjcmlwdG9yLmluZGV4LFxuICAgICAgICBkcm9wcGFibGVJZDogZGVzY3JpcHRvci5kcm9wcGFibGVJZFxuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICB2YXIgZ2V0TWFwUHJvcHMgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChpZCwgaXNFbmFibGVkLCBpc0RyYWdnaW5nT3ZlckZvckNvbnN1bWVyLCBpc0RyYWdnaW5nT3ZlckZvckltcGFjdCwgZHJhZ2dpbmcsIHJlbmRlckNsb25lKSB7XG4gICAgdmFyIGRyYWdnYWJsZUlkID0gZHJhZ2dpbmcuZGVzY3JpcHRvci5pZDtcbiAgICB2YXIgaXNIb21lID0gZHJhZ2dpbmcuZGVzY3JpcHRvci5kcm9wcGFibGVJZCA9PT0gaWQ7XG5cbiAgICBpZiAoaXNIb21lKSB7XG4gICAgICB2YXIgdXNlQ2xvbmUgPSByZW5kZXJDbG9uZSA/IHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXJDbG9uZSxcbiAgICAgICAgZHJhZ2dpbmc6IGdldERyYWdnYWJsZVJ1YnJpYyhkcmFnZ2luZy5kZXNjcmlwdG9yKVxuICAgICAgfSA6IG51bGw7XG4gICAgICB2YXIgX3NuYXBzaG90ID0ge1xuICAgICAgICBpc0RyYWdnaW5nT3ZlcjogaXNEcmFnZ2luZ092ZXJGb3JDb25zdW1lcixcbiAgICAgICAgZHJhZ2dpbmdPdmVyV2l0aDogaXNEcmFnZ2luZ092ZXJGb3JDb25zdW1lciA/IGRyYWdnYWJsZUlkIDogbnVsbCxcbiAgICAgICAgZHJhZ2dpbmdGcm9tVGhpc1dpdGg6IGRyYWdnYWJsZUlkLFxuICAgICAgICBpc1VzaW5nUGxhY2Vob2xkZXI6IHRydWVcbiAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwbGFjZWhvbGRlcjogZHJhZ2dpbmcucGxhY2Vob2xkZXIsXG4gICAgICAgIHNob3VsZEFuaW1hdGVQbGFjZWhvbGRlcjogZmFsc2UsXG4gICAgICAgIHNuYXBzaG90OiBfc25hcHNob3QsXG4gICAgICAgIHVzZUNsb25lOiB1c2VDbG9uZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoIWlzRW5hYmxlZCkge1xuICAgICAgcmV0dXJuIGlkbGVXaXRob3V0QW5pbWF0aW9uO1xuICAgIH1cblxuICAgIGlmICghaXNEcmFnZ2luZ092ZXJGb3JJbXBhY3QpIHtcbiAgICAgIHJldHVybiBpZGxlV2l0aEFuaW1hdGlvbjtcbiAgICB9XG5cbiAgICB2YXIgc25hcHNob3QgPSB7XG4gICAgICBpc0RyYWdnaW5nT3ZlcjogaXNEcmFnZ2luZ092ZXJGb3JDb25zdW1lcixcbiAgICAgIGRyYWdnaW5nT3ZlcldpdGg6IGRyYWdnYWJsZUlkLFxuICAgICAgZHJhZ2dpbmdGcm9tVGhpc1dpdGg6IG51bGwsXG4gICAgICBpc1VzaW5nUGxhY2Vob2xkZXI6IHRydWVcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICBwbGFjZWhvbGRlcjogZHJhZ2dpbmcucGxhY2Vob2xkZXIsXG4gICAgICBzaG91bGRBbmltYXRlUGxhY2Vob2xkZXI6IHRydWUsXG4gICAgICBzbmFwc2hvdDogc25hcHNob3QsXG4gICAgICB1c2VDbG9uZTogbnVsbFxuICAgIH07XG4gIH0pO1xuXG4gIHZhciBzZWxlY3RvciA9IGZ1bmN0aW9uIHNlbGVjdG9yKHN0YXRlLCBvd25Qcm9wcykge1xuICAgIHZhciBpZCA9IG93blByb3BzLmRyb3BwYWJsZUlkO1xuICAgIHZhciB0eXBlID0gb3duUHJvcHMudHlwZTtcbiAgICB2YXIgaXNFbmFibGVkID0gIW93blByb3BzLmlzRHJvcERpc2FibGVkO1xuICAgIHZhciByZW5kZXJDbG9uZSA9IG93blByb3BzLnJlbmRlckNsb25lO1xuXG4gICAgaWYgKHN0YXRlLmlzRHJhZ2dpbmcpIHtcbiAgICAgIHZhciBjcml0aWNhbCA9IHN0YXRlLmNyaXRpY2FsO1xuXG4gICAgICBpZiAoIWlzTWF0Y2hpbmdUeXBlKHR5cGUsIGNyaXRpY2FsKSkge1xuICAgICAgICByZXR1cm4gaWRsZVdpdGhvdXRBbmltYXRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBkcmFnZ2luZyA9IGdldERyYWdnYWJsZShjcml0aWNhbCwgc3RhdGUuZGltZW5zaW9ucyk7XG4gICAgICB2YXIgaXNEcmFnZ2luZ092ZXIgPSB3aGF0SXNEcmFnZ2VkT3ZlcihzdGF0ZS5pbXBhY3QpID09PSBpZDtcbiAgICAgIHJldHVybiBnZXRNYXBQcm9wcyhpZCwgaXNFbmFibGVkLCBpc0RyYWdnaW5nT3ZlciwgaXNEcmFnZ2luZ092ZXIsIGRyYWdnaW5nLCByZW5kZXJDbG9uZSk7XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLnBoYXNlID09PSAnRFJPUF9BTklNQVRJTkcnKSB7XG4gICAgICB2YXIgY29tcGxldGVkID0gc3RhdGUuY29tcGxldGVkO1xuXG4gICAgICBpZiAoIWlzTWF0Y2hpbmdUeXBlKHR5cGUsIGNvbXBsZXRlZC5jcml0aWNhbCkpIHtcbiAgICAgICAgcmV0dXJuIGlkbGVXaXRob3V0QW5pbWF0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgX2RyYWdnaW5nID0gZ2V0RHJhZ2dhYmxlKGNvbXBsZXRlZC5jcml0aWNhbCwgc3RhdGUuZGltZW5zaW9ucyk7XG5cbiAgICAgIHJldHVybiBnZXRNYXBQcm9wcyhpZCwgaXNFbmFibGVkLCB3aGF0SXNEcmFnZ2VkT3ZlckZyb21SZXN1bHQoY29tcGxldGVkLnJlc3VsdCkgPT09IGlkLCB3aGF0SXNEcmFnZ2VkT3Zlcihjb21wbGV0ZWQuaW1wYWN0KSA9PT0gaWQsIF9kcmFnZ2luZywgcmVuZGVyQ2xvbmUpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5waGFzZSA9PT0gJ0lETEUnICYmIHN0YXRlLmNvbXBsZXRlZCAmJiAhc3RhdGUuc2hvdWxkRmx1c2gpIHtcbiAgICAgIHZhciBfY29tcGxldGVkID0gc3RhdGUuY29tcGxldGVkO1xuXG4gICAgICBpZiAoIWlzTWF0Y2hpbmdUeXBlKHR5cGUsIF9jb21wbGV0ZWQuY3JpdGljYWwpKSB7XG4gICAgICAgIHJldHVybiBpZGxlV2l0aG91dEFuaW1hdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIHdhc092ZXIgPSB3aGF0SXNEcmFnZ2VkT3ZlcihfY29tcGxldGVkLmltcGFjdCkgPT09IGlkO1xuICAgICAgdmFyIHdhc0NvbWJpbmluZyA9IEJvb2xlYW4oX2NvbXBsZXRlZC5pbXBhY3QuYXQgJiYgX2NvbXBsZXRlZC5pbXBhY3QuYXQudHlwZSA9PT0gJ0NPTUJJTkUnKTtcbiAgICAgIHZhciBpc0hvbWUgPSBfY29tcGxldGVkLmNyaXRpY2FsLmRyb3BwYWJsZS5pZCA9PT0gaWQ7XG5cbiAgICAgIGlmICh3YXNPdmVyKSB7XG4gICAgICAgIHJldHVybiB3YXNDb21iaW5pbmcgPyBpZGxlV2l0aEFuaW1hdGlvbiA6IGlkbGVXaXRob3V0QW5pbWF0aW9uO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNIb21lKSB7XG4gICAgICAgIHJldHVybiBpZGxlV2l0aEFuaW1hdGlvbjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlkbGVXaXRob3V0QW5pbWF0aW9uO1xuICAgIH1cblxuICAgIHJldHVybiBpZGxlV2l0aG91dEFuaW1hdGlvbjtcbiAgfTtcblxuICByZXR1cm4gc2VsZWN0b3I7XG59O1xudmFyIG1hcERpc3BhdGNoVG9Qcm9wcyQxID0ge1xuICB1cGRhdGVWaWV3cG9ydE1heFNjcm9sbDogdXBkYXRlVmlld3BvcnRNYXhTY3JvbGxcbn07XG5cbmZ1bmN0aW9uIGdldEJvZHkoKSB7XG4gICFkb2N1bWVudC5ib2R5ID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCAnZG9jdW1lbnQuYm9keSBpcyBub3QgcmVhZHknKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHJldHVybiBkb2N1bWVudC5ib2R5O1xufVxuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBtb2RlOiAnc3RhbmRhcmQnLFxuICB0eXBlOiAnREVGQVVMVCcsXG4gIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgaXNEcm9wRGlzYWJsZWQ6IGZhbHNlLFxuICBpc0NvbWJpbmVFbmFibGVkOiBmYWxzZSxcbiAgaWdub3JlQ29udGFpbmVyQ2xpcHBpbmc6IGZhbHNlLFxuICByZW5kZXJDbG9uZTogbnVsbCxcbiAgZ2V0Q29udGFpbmVyRm9yQ2xvbmU6IGdldEJvZHlcbn07XG52YXIgQ29ubmVjdGVkRHJvcHBhYmxlID0gY29ubmVjdChtYWtlTWFwU3RhdGVUb1Byb3BzJDEsIG1hcERpc3BhdGNoVG9Qcm9wcyQxLCBudWxsLCB7XG4gIGNvbnRleHQ6IFN0b3JlQ29udGV4dCxcbiAgcHVyZTogdHJ1ZSxcbiAgYXJlU3RhdGVQcm9wc0VxdWFsOiBpc1N0cmljdEVxdWFsXG59KShEcm9wcGFibGUpO1xuQ29ubmVjdGVkRHJvcHBhYmxlLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0IHsgRHJhZ0Ryb3BDb250ZXh0LCBQdWJsaWNEcmFnZ2FibGUgYXMgRHJhZ2dhYmxlLCBDb25uZWN0ZWREcm9wcGFibGUgYXMgRHJvcHBhYmxlLCByZXNldFNlcnZlckNvbnRleHQsIHVzZUtleWJvYXJkU2Vuc29yLCB1c2VNb3VzZVNlbnNvciwgdXNlVG91Y2hTZW5zb3IgfTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJlYWN0SXMgPSByZXF1aXJlKCdyZWFjdC1pcycpO1xuXG4vKipcbiAqIENvcHlyaWdodCAyMDE1LCBZYWhvbyEgSW5jLlxuICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuICovXG52YXIgUkVBQ1RfU1RBVElDUyA9IHtcbiAgY2hpbGRDb250ZXh0VHlwZXM6IHRydWUsXG4gIGNvbnRleHRUeXBlOiB0cnVlLFxuICBjb250ZXh0VHlwZXM6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIGdldERlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yOiB0cnVlLFxuICBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM6IHRydWUsXG4gIG1peGluczogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlLFxuICB0eXBlOiB0cnVlXG59O1xudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG4gIG5hbWU6IHRydWUsXG4gIGxlbmd0aDogdHJ1ZSxcbiAgcHJvdG90eXBlOiB0cnVlLFxuICBjYWxsZXI6IHRydWUsXG4gIGNhbGxlZTogdHJ1ZSxcbiAgYXJndW1lbnRzOiB0cnVlLFxuICBhcml0eTogdHJ1ZVxufTtcbnZhciBGT1JXQVJEX1JFRl9TVEFUSUNTID0ge1xuICAnJCR0eXBlb2YnOiB0cnVlLFxuICByZW5kZXI6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZVxufTtcbnZhciBNRU1PX1NUQVRJQ1MgPSB7XG4gICckJHR5cGVvZic6IHRydWUsXG4gIGNvbXBhcmU6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZSxcbiAgdHlwZTogdHJ1ZVxufTtcbnZhciBUWVBFX1NUQVRJQ1MgPSB7fTtcblRZUEVfU1RBVElDU1tyZWFjdElzLkZvcndhcmRSZWZdID0gRk9SV0FSRF9SRUZfU1RBVElDUztcblRZUEVfU1RBVElDU1tyZWFjdElzLk1lbW9dID0gTUVNT19TVEFUSUNTO1xuXG5mdW5jdGlvbiBnZXRTdGF0aWNzKGNvbXBvbmVudCkge1xuICAvLyBSZWFjdCB2MTYuMTEgYW5kIGJlbG93XG4gIGlmIChyZWFjdElzLmlzTWVtbyhjb21wb25lbnQpKSB7XG4gICAgcmV0dXJuIE1FTU9fU1RBVElDUztcbiAgfSAvLyBSZWFjdCB2MTYuMTIgYW5kIGFib3ZlXG5cblxuICByZXR1cm4gVFlQRV9TVEFUSUNTW2NvbXBvbmVudFsnJCR0eXBlb2YnXV0gfHwgUkVBQ1RfU1RBVElDUztcbn1cblxudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG52YXIgb2JqZWN0UHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZTtcbmZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50LCBibGFja2xpc3QpIHtcbiAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgaG9pc3Qgb3ZlciBzdHJpbmcgKGh0bWwpIGNvbXBvbmVudHNcbiAgICBpZiAob2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICB2YXIgaW5oZXJpdGVkQ29tcG9uZW50ID0gZ2V0UHJvdG90eXBlT2Yoc291cmNlQ29tcG9uZW50KTtcblxuICAgICAgaWYgKGluaGVyaXRlZENvbXBvbmVudCAmJiBpbmhlcml0ZWRDb21wb25lbnQgIT09IG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgICBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIGluaGVyaXRlZENvbXBvbmVudCwgYmxhY2tsaXN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcblxuICAgIGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlQ29tcG9uZW50KSk7XG4gICAgfVxuXG4gICAgdmFyIHRhcmdldFN0YXRpY3MgPSBnZXRTdGF0aWNzKHRhcmdldENvbXBvbmVudCk7XG4gICAgdmFyIHNvdXJjZVN0YXRpY3MgPSBnZXRTdGF0aWNzKHNvdXJjZUNvbXBvbmVudCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXG4gICAgICBpZiAoIUtOT1dOX1NUQVRJQ1Nba2V5XSAmJiAhKGJsYWNrbGlzdCAmJiBibGFja2xpc3Rba2V5XSkgJiYgIShzb3VyY2VTdGF0aWNzICYmIHNvdXJjZVN0YXRpY3Nba2V5XSkgJiYgISh0YXJnZXRTdGF0aWNzICYmIHRhcmdldFN0YXRpY3Nba2V5XSkpIHtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlQ29tcG9uZW50LCBrZXkpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQXZvaWQgZmFpbHVyZXMgZnJvbSByZWFkLW9ubHkgcHJvcGVydGllc1xuICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldENvbXBvbmVudCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhvaXN0Tm9uUmVhY3RTdGF0aWNzO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG5cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvbldpdGhSZXNldCgpIHt9XG5lbXB0eUZ1bmN0aW9uV2l0aFJlc2V0LnJlc2V0V2FybmluZ0NhY2hlID0gZW1wdHlGdW5jdGlvbjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgIGlmIChzZWNyZXQgPT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICApO1xuICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIHRocm93IGVycjtcbiAgfTtcbiAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcbiAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcbiAgICByZXR1cm4gc2hpbTtcbiAgfTtcbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBzaGltLFxuICAgIGJvb2w6IHNoaW0sXG4gICAgZnVuYzogc2hpbSxcbiAgICBudW1iZXI6IHNoaW0sXG4gICAgb2JqZWN0OiBzaGltLFxuICAgIHN0cmluZzogc2hpbSxcbiAgICBzeW1ib2w6IHNoaW0sXG5cbiAgICBhbnk6IHNoaW0sXG4gICAgYXJyYXlPZjogZ2V0U2hpbSxcbiAgICBlbGVtZW50OiBzaGltLFxuICAgIGVsZW1lbnRUeXBlOiBzaGltLFxuICAgIGluc3RhbmNlT2Y6IGdldFNoaW0sXG4gICAgbm9kZTogc2hpbSxcbiAgICBvYmplY3RPZjogZ2V0U2hpbSxcbiAgICBvbmVPZjogZ2V0U2hpbSxcbiAgICBvbmVPZlR5cGU6IGdldFNoaW0sXG4gICAgc2hhcGU6IGdldFNoaW0sXG4gICAgZXhhY3Q6IGdldFNoaW0sXG5cbiAgICBjaGVja1Byb3BUeXBlczogZW1wdHlGdW5jdGlvbldpdGhSZXNldCxcbiAgICByZXNldFdhcm5pbmdDYWNoZTogZW1wdHlGdW5jdGlvblxuICB9O1xuXG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKFJlYWN0SXMuaXNFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuMTMuMVxuICogcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7dmFyIGI9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmZvcixjPWI/U3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIik6NjAxMDMsZD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIik6NjAxMDYsZT1iP1N5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKTo2MDEwNyxmPWI/U3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpOjYwMTA4LGc9Yj9TeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIik6NjAxMTQsaD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTo2MDEwOSxrPWI/U3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIik6NjAxMTAsbD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5hc3luY19tb2RlXCIpOjYwMTExLG09Yj9TeW1ib2wuZm9yKFwicmVhY3QuY29uY3VycmVudF9tb2RlXCIpOjYwMTExLG49Yj9TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIik6NjAxMTIscD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKTo2MDExMyxxPWI/XG5TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKTo2MDEyMCxyPWI/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsdD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2LHY9Yj9TeW1ib2wuZm9yKFwicmVhY3QuYmxvY2tcIik6NjAxMjEsdz1iP1N5bWJvbC5mb3IoXCJyZWFjdC5mdW5kYW1lbnRhbFwiKTo2MDExNyx4PWI/U3ltYm9sLmZvcihcInJlYWN0LnJlc3BvbmRlclwiKTo2MDExOCx5PWI/U3ltYm9sLmZvcihcInJlYWN0LnNjb3BlXCIpOjYwMTE5O1xuZnVuY3Rpb24geihhKXtpZihcIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hKXt2YXIgdT1hLiQkdHlwZW9mO3N3aXRjaCh1KXtjYXNlIGM6c3dpdGNoKGE9YS50eXBlLGEpe2Nhc2UgbDpjYXNlIG06Y2FzZSBlOmNhc2UgZzpjYXNlIGY6Y2FzZSBwOnJldHVybiBhO2RlZmF1bHQ6c3dpdGNoKGE9YSYmYS4kJHR5cGVvZixhKXtjYXNlIGs6Y2FzZSBuOmNhc2UgdDpjYXNlIHI6Y2FzZSBoOnJldHVybiBhO2RlZmF1bHQ6cmV0dXJuIHV9fWNhc2UgZDpyZXR1cm4gdX19fWZ1bmN0aW9uIEEoYSl7cmV0dXJuIHooYSk9PT1tfWV4cG9ydHMuQXN5bmNNb2RlPWw7ZXhwb3J0cy5Db25jdXJyZW50TW9kZT1tO2V4cG9ydHMuQ29udGV4dENvbnN1bWVyPWs7ZXhwb3J0cy5Db250ZXh0UHJvdmlkZXI9aDtleHBvcnRzLkVsZW1lbnQ9YztleHBvcnRzLkZvcndhcmRSZWY9bjtleHBvcnRzLkZyYWdtZW50PWU7ZXhwb3J0cy5MYXp5PXQ7ZXhwb3J0cy5NZW1vPXI7ZXhwb3J0cy5Qb3J0YWw9ZDtcbmV4cG9ydHMuUHJvZmlsZXI9ZztleHBvcnRzLlN0cmljdE1vZGU9ZjtleHBvcnRzLlN1c3BlbnNlPXA7ZXhwb3J0cy5pc0FzeW5jTW9kZT1mdW5jdGlvbihhKXtyZXR1cm4gQShhKXx8eihhKT09PWx9O2V4cG9ydHMuaXNDb25jdXJyZW50TW9kZT1BO2V4cG9ydHMuaXNDb250ZXh0Q29uc3VtZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT1rfTtleHBvcnRzLmlzQ29udGV4dFByb3ZpZGVyPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09aH07ZXhwb3J0cy5pc0VsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSYmYS4kJHR5cGVvZj09PWN9O2V4cG9ydHMuaXNGb3J3YXJkUmVmPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09bn07ZXhwb3J0cy5pc0ZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09ZX07ZXhwb3J0cy5pc0xhenk9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT10fTtcbmV4cG9ydHMuaXNNZW1vPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09cn07ZXhwb3J0cy5pc1BvcnRhbD1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PWR9O2V4cG9ydHMuaXNQcm9maWxlcj1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PWd9O2V4cG9ydHMuaXNTdHJpY3RNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09Zn07ZXhwb3J0cy5pc1N1c3BlbnNlPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09cH07XG5leHBvcnRzLmlzVmFsaWRFbGVtZW50VHlwZT1mdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGF8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhfHxhPT09ZXx8YT09PW18fGE9PT1nfHxhPT09Znx8YT09PXB8fGE9PT1xfHxcIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiYoYS4kJHR5cGVvZj09PXR8fGEuJCR0eXBlb2Y9PT1yfHxhLiQkdHlwZW9mPT09aHx8YS4kJHR5cGVvZj09PWt8fGEuJCR0eXBlb2Y9PT1ufHxhLiQkdHlwZW9mPT09d3x8YS4kJHR5cGVvZj09PXh8fGEuJCR0eXBlb2Y9PT15fHxhLiQkdHlwZW9mPT09dil9O2V4cG9ydHMudHlwZU9mPXo7XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuOC42XG4gKiByZWFjdC1pcy5wcm9kdWN0aW9uLm1pbi5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtcbnZhciBiPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3IsYz1iP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzLGQ9Yj9TeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpOjYwMTA2LGU9Yj9TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIik6NjAxMDcsZj1iP1N5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKTo2MDEwOCxnPWI/U3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpOjYwMTE0LGg9Yj9TeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIik6NjAxMDksaz1iP1N5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpOjYwMTEwLGw9Yj9TeW1ib2wuZm9yKFwicmVhY3QuYXN5bmNfbW9kZVwiKTo2MDExMSxtPWI/U3ltYm9sLmZvcihcInJlYWN0LmNvbmN1cnJlbnRfbW9kZVwiKTo2MDExMSxuPWI/U3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpOjYwMTEyLHA9Yj9TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIik6NjAxMTMscT1iP1N5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpOlxuNjAxMTUscj1iP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2O2Z1bmN0aW9uIHQoYSl7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSl7dmFyIHU9YS4kJHR5cGVvZjtzd2l0Y2godSl7Y2FzZSBjOnN3aXRjaChhPWEudHlwZSxhKXtjYXNlIGw6Y2FzZSBtOmNhc2UgZTpjYXNlIGc6Y2FzZSBmOmNhc2UgcDpyZXR1cm4gYTtkZWZhdWx0OnN3aXRjaChhPWEmJmEuJCR0eXBlb2YsYSl7Y2FzZSBrOmNhc2UgbjpjYXNlIGg6cmV0dXJuIGE7ZGVmYXVsdDpyZXR1cm4gdX19Y2FzZSByOmNhc2UgcTpjYXNlIGQ6cmV0dXJuIHV9fX1mdW5jdGlvbiB2KGEpe3JldHVybiB0KGEpPT09bX1leHBvcnRzLnR5cGVPZj10O2V4cG9ydHMuQXN5bmNNb2RlPWw7ZXhwb3J0cy5Db25jdXJyZW50TW9kZT1tO2V4cG9ydHMuQ29udGV4dENvbnN1bWVyPWs7ZXhwb3J0cy5Db250ZXh0UHJvdmlkZXI9aDtleHBvcnRzLkVsZW1lbnQ9YztleHBvcnRzLkZvcndhcmRSZWY9bjtcbmV4cG9ydHMuRnJhZ21lbnQ9ZTtleHBvcnRzLkxhenk9cjtleHBvcnRzLk1lbW89cTtleHBvcnRzLlBvcnRhbD1kO2V4cG9ydHMuUHJvZmlsZXI9ZztleHBvcnRzLlN0cmljdE1vZGU9ZjtleHBvcnRzLlN1c3BlbnNlPXA7ZXhwb3J0cy5pc1ZhbGlkRWxlbWVudFR5cGU9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhfHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgYXx8YT09PWV8fGE9PT1tfHxhPT09Z3x8YT09PWZ8fGE9PT1wfHxcIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiYoYS4kJHR5cGVvZj09PXJ8fGEuJCR0eXBlb2Y9PT1xfHxhLiQkdHlwZW9mPT09aHx8YS4kJHR5cGVvZj09PWt8fGEuJCR0eXBlb2Y9PT1uKX07ZXhwb3J0cy5pc0FzeW5jTW9kZT1mdW5jdGlvbihhKXtyZXR1cm4gdihhKXx8dChhKT09PWx9O2V4cG9ydHMuaXNDb25jdXJyZW50TW9kZT12O2V4cG9ydHMuaXNDb250ZXh0Q29uc3VtZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1rfTtcbmV4cG9ydHMuaXNDb250ZXh0UHJvdmlkZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1ofTtleHBvcnRzLmlzRWxlbWVudD1mdW5jdGlvbihhKXtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiZhLiQkdHlwZW9mPT09Y307ZXhwb3J0cy5pc0ZvcndhcmRSZWY9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1ufTtleHBvcnRzLmlzRnJhZ21lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1lfTtleHBvcnRzLmlzTGF6eT1mdW5jdGlvbihhKXtyZXR1cm4gdChhKT09PXJ9O2V4cG9ydHMuaXNNZW1vPWZ1bmN0aW9uKGEpe3JldHVybiB0KGEpPT09cX07ZXhwb3J0cy5pc1BvcnRhbD1mdW5jdGlvbihhKXtyZXR1cm4gdChhKT09PWR9O2V4cG9ydHMuaXNQcm9maWxlcj1mdW5jdGlvbihhKXtyZXR1cm4gdChhKT09PWd9O2V4cG9ydHMuaXNTdHJpY3RNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiB0KGEpPT09Zn07XG5leHBvcnRzLmlzU3VzcGVuc2U9ZnVuY3Rpb24oYSl7cmV0dXJuIHQoYSk9PT1wfTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1pcy5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1pcy5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwiZXhwb3J0IHZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IGNhblVzZURPTSB9IGZyb20gJy4vdXRpbHMnO1xuXG52YXIgUG9ydGFsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFBvcnRhbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUG9ydGFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb3J0YWwpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQb3J0YWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQb3J0YWwpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQb3J0YWwsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLmRlZmF1bHROb2RlKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5kZWZhdWx0Tm9kZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmRlZmF1bHROb2RlID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICBpZiAoIWNhblVzZURPTSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5wcm9wcy5ub2RlICYmICF0aGlzLmRlZmF1bHROb2RlKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRlZmF1bHROb2RlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdERPTS5jcmVhdGVQb3J0YWwodGhpcy5wcm9wcy5jaGlsZHJlbiwgdGhpcy5wcm9wcy5ub2RlIHx8IHRoaXMuZGVmYXVsdE5vZGUpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQb3J0YWw7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cblBvcnRhbC5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuICBub2RlOiBQcm9wVHlwZXMuYW55XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQb3J0YWw7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vLyBUaGlzIGZpbGUgaXMgYSBmYWxsYmFjayBmb3IgYSBjb25zdW1lciB3aG8gaXMgbm90IHlldCBvbiBSZWFjdCAxNlxuLy8gYXMgY3JlYXRlUG9ydGFsIHdhcyBpbnRyb2R1Y2VkIGluIFJlYWN0IDE2XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbnZhciBQb3J0YWwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUG9ydGFsLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQb3J0YWwoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvcnRhbCk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBvcnRhbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBvcnRhbCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFBvcnRhbCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5yZW5kZXJQb3J0YWwoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJvcHMpIHtcbiAgICAgIHRoaXMucmVuZGVyUG9ydGFsKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIFJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUodGhpcy5kZWZhdWx0Tm9kZSB8fCB0aGlzLnByb3BzLm5vZGUpO1xuICAgICAgaWYgKHRoaXMuZGVmYXVsdE5vZGUpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmRlZmF1bHROb2RlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGVmYXVsdE5vZGUgPSBudWxsO1xuICAgICAgdGhpcy5wb3J0YWwgPSBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlclBvcnRhbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclBvcnRhbChwcm9wcykge1xuICAgICAgaWYgKCF0aGlzLnByb3BzLm5vZGUgJiYgIXRoaXMuZGVmYXVsdE5vZGUpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZGVmYXVsdE5vZGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgICAgLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vamltZmIvZDk5ZTA2NzhlOWRhNzE1Y2NmNjQ1NDk2MWVmMDRkMWJcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5jaGlsZHJlbi50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNoaWxkcmVuID0gUmVhY3QuY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBvcnRhbCA9IFJlYWN0RE9NLnVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHRoaXMsIGNoaWxkcmVuLCB0aGlzLnByb3BzLm5vZGUgfHwgdGhpcy5kZWZhdWx0Tm9kZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBvcnRhbDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgUG9ydGFsO1xuXG5cblBvcnRhbC5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuICBub2RlOiBQcm9wVHlwZXMuYW55XG59OyIsImltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG5pbXBvcnQgUG9ydGFsdjQgZnJvbSAnLi9Qb3J0YWwnO1xuaW1wb3J0IExlZ2FjeVBvcnRhbCBmcm9tICcuL0xlZ2FjeVBvcnRhbCc7XG5cbnZhciBQb3J0YWwgPSB2b2lkIDA7XG5cbmlmIChSZWFjdERPTS5jcmVhdGVQb3J0YWwpIHtcbiAgUG9ydGFsID0gUG9ydGFsdjQ7XG59IGVsc2Uge1xuICBQb3J0YWwgPSBMZWdhY3lQb3J0YWw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcnRhbDsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFBvcnRhbCBmcm9tICcuL1BvcnRhbENvbXBhdCc7XG5cbnZhciBLRVlDT0RFUyA9IHtcbiAgRVNDQVBFOiAyN1xufTtcblxudmFyIFBvcnRhbFdpdGhTdGF0ZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhQb3J0YWxXaXRoU3RhdGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFBvcnRhbFdpdGhTdGF0ZShwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb3J0YWxXaXRoU3RhdGUpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBvcnRhbFdpdGhTdGF0ZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBvcnRhbFdpdGhTdGF0ZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnBvcnRhbE5vZGUgPSBudWxsO1xuICAgIF90aGlzLnN0YXRlID0geyBhY3RpdmU6ICEhcHJvcHMuZGVmYXVsdE9wZW4gfTtcbiAgICBfdGhpcy5vcGVuUG9ydGFsID0gX3RoaXMub3BlblBvcnRhbC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5jbG9zZVBvcnRhbCA9IF90aGlzLmNsb3NlUG9ydGFsLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLndyYXBXaXRoUG9ydGFsID0gX3RoaXMud3JhcFdpdGhQb3J0YWwuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuaGFuZGxlT3V0c2lkZU1vdXNlQ2xpY2sgPSBfdGhpcy5oYW5kbGVPdXRzaWRlTW91c2VDbGljay5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5oYW5kbGVLZXlkb3duID0gX3RoaXMuaGFuZGxlS2V5ZG93bi5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUG9ydGFsV2l0aFN0YXRlLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jbG9zZU9uRXNjKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleWRvd24pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucHJvcHMuY2xvc2VPbk91dHNpZGVDbGljaykge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlT3V0c2lkZU1vdXNlQ2xpY2spO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jbG9zZU9uRXNjKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleWRvd24pO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucHJvcHMuY2xvc2VPbk91dHNpZGVDbGljaykge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlT3V0c2lkZU1vdXNlQ2xpY2spO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29wZW5Qb3J0YWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuUG9ydGFsKGUpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZSAmJiBlLm5hdGl2ZUV2ZW50KSB7XG4gICAgICAgIGUubmF0aXZlRXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlOiB0cnVlIH0sIHRoaXMucHJvcHMub25PcGVuKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjbG9zZVBvcnRhbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNsb3NlUG9ydGFsKCkge1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLmFjdGl2ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnNldFN0YXRlKHsgYWN0aXZlOiBmYWxzZSB9LCB0aGlzLnByb3BzLm9uQ2xvc2UpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3dyYXBXaXRoUG9ydGFsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gd3JhcFdpdGhQb3J0YWwoY2hpbGRyZW4pIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuc3RhdGUuYWN0aXZlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFBvcnRhbCxcbiAgICAgICAge1xuICAgICAgICAgIG5vZGU6IHRoaXMucHJvcHMubm9kZSxcbiAgICAgICAgICBrZXk6ICdyZWFjdC1wb3J0YWwnLFxuICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKHBvcnRhbE5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIucG9ydGFsTm9kZSA9IHBvcnRhbE5vZGU7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlblxuICAgICAgKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYW5kbGVPdXRzaWRlTW91c2VDbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZU91dHNpZGVNb3VzZUNsaWNrKGUpIHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZS5hY3RpdmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHJvb3QgPSB0aGlzLnBvcnRhbE5vZGUgJiYgKHRoaXMucG9ydGFsTm9kZS5wcm9wcy5ub2RlIHx8IHRoaXMucG9ydGFsTm9kZS5kZWZhdWx0Tm9kZSk7XG4gICAgICBpZiAoIXJvb3QgfHwgcm9vdC5jb250YWlucyhlLnRhcmdldCkgfHwgZS5idXR0b24gJiYgZS5idXR0b24gIT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5jbG9zZVBvcnRhbCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZUtleWRvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVLZXlkb3duKGUpIHtcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IEtFWUNPREVTLkVTQ0FQRSAmJiB0aGlzLnN0YXRlLmFjdGl2ZSkge1xuICAgICAgICB0aGlzLmNsb3NlUG9ydGFsKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW4oe1xuICAgICAgICBvcGVuUG9ydGFsOiB0aGlzLm9wZW5Qb3J0YWwsXG4gICAgICAgIGNsb3NlUG9ydGFsOiB0aGlzLmNsb3NlUG9ydGFsLFxuICAgICAgICBwb3J0YWw6IHRoaXMud3JhcFdpdGhQb3J0YWwsXG4gICAgICAgIGlzT3BlbjogdGhpcy5zdGF0ZS5hY3RpdmVcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQb3J0YWxXaXRoU3RhdGU7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cblBvcnRhbFdpdGhTdGF0ZS5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBkZWZhdWx0T3BlbjogUHJvcFR5cGVzLmJvb2wsXG4gIG5vZGU6IFByb3BUeXBlcy5hbnksXG4gIGNsb3NlT25Fc2M6IFByb3BUeXBlcy5ib29sLFxuICBjbG9zZU9uT3V0c2lkZUNsaWNrOiBQcm9wVHlwZXMuYm9vbCxcbiAgb25PcGVuOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25DbG9zZTogUHJvcFR5cGVzLmZ1bmNcbn07XG5cblBvcnRhbFdpdGhTdGF0ZS5kZWZhdWx0UHJvcHMgPSB7XG4gIG9uT3BlbjogZnVuY3Rpb24gb25PcGVuKCkge30sXG4gIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7fVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUG9ydGFsV2l0aFN0YXRlOyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidXJsIiwib3B0aW9ucyIsIlN0cmluZyIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwidGVzdCIsInNsaWNlIiwiaGFzaCIsIm5lZWRRdW90ZXMiLCJjb25jYXQiLCJyZXBsYWNlIiwiYmFzZUZvck93biIsImJhc2VFYWNoIiwiY3JlYXRlQmFzZUVhY2giLCJpc0FycmF5TGlrZSIsImJhc2VNYXAiLCJjb2xsZWN0aW9uIiwiaXRlcmF0ZWUiLCJpbmRleCIsInJlc3VsdCIsIkFycmF5IiwibGVuZ3RoIiwidmFsdWUiLCJrZXkiLCJhcnJheU1hcCIsImJhc2VHZXQiLCJiYXNlSXRlcmF0ZWUiLCJiYXNlU29ydEJ5IiwiYmFzZVVuYXJ5IiwiY29tcGFyZU11bHRpcGxlIiwiaWRlbnRpdHkiLCJpc0FycmF5IiwiYmFzZU9yZGVyQnkiLCJpdGVyYXRlZXMiLCJvcmRlcnMiLCJvYmplY3QiLCJvdGhlciIsImFycmF5IiwiY29tcGFyZXIiLCJzb3J0IiwiaXNTeW1ib2wiLCJjb21wYXJlQXNjZW5kaW5nIiwidmFsSXNEZWZpbmVkIiwidW5kZWZpbmVkIiwidmFsSXNOdWxsIiwidmFsSXNSZWZsZXhpdmUiLCJ2YWxJc1N5bWJvbCIsIm90aElzRGVmaW5lZCIsIm90aElzTnVsbCIsIm90aElzUmVmbGV4aXZlIiwib3RoSXNTeW1ib2wiLCJvYmpDcml0ZXJpYSIsImNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJlYWNoRnVuYyIsImZyb21SaWdodCIsIml0ZXJhYmxlIiwiT2JqZWN0IiwiaXNPYmplY3QiLCJub3ciLCJ0b051bWJlciIsIm5hdGl2ZU1heCIsIk1hdGgiLCJtYXgiLCJuYXRpdmVNaW4iLCJtaW4iLCJkZWJvdW5jZSIsImZ1bmMiLCJ3YWl0IiwibGFzdEFyZ3MiLCJsYXN0VGhpcyIsIm1heFdhaXQiLCJ0aW1lcklkIiwibGFzdENhbGxUaW1lIiwibGFzdEludm9rZVRpbWUiLCJsZWFkaW5nIiwibWF4aW5nIiwidHJhaWxpbmciLCJUeXBlRXJyb3IiLCJpbnZva2VGdW5jIiwidGltZSIsImFyZ3MiLCJ0aGlzQXJnIiwiYXBwbHkiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRpbWVyRXhwaXJlZCIsInRyYWlsaW5nRWRnZSIsInNldFRpbWVvdXQiLCJyZW1haW5pbmdXYWl0IiwidGltZVdhaXRpbmciLCJkZWJvdW5jZWQiLCJpc0ludm9raW5nIiwiYXJndW1lbnRzIiwidGhpcyIsImxlYWRpbmdFZGdlIiwiY2xlYXJUaW1lb3V0IiwiY2FuY2VsIiwiZmx1c2giLCJyb290IiwiRGF0ZSIsIm9yZGVyQnkiLCJndWFyZCIsIl9zZXRQcm90b3R5cGVPZiIsIm8iLCJwIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfaW5oZXJpdHNMb29zZSIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInByb3RvdHlwZSIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwiZm9ybWF0UHJvZEVycm9yTWVzc2FnZSIsImNvZGUiLCIkJG9ic2VydmFibGUiLCJTeW1ib2wiLCJvYnNlcnZhYmxlIiwicmFuZG9tU3RyaW5nIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJzcGxpdCIsImpvaW4iLCJBY3Rpb25UeXBlcyIsIklOSVQiLCJSRVBMQUNFIiwiUFJPQkVfVU5LTk9XTl9BQ1RJT04iLCJpc1BsYWluT2JqZWN0Iiwib2JqIiwicHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsImNyZWF0ZVN0b3JlIiwicmVkdWNlciIsInByZWxvYWRlZFN0YXRlIiwiZW5oYW5jZXIiLCJfcmVmMiIsIkVycm9yIiwiY3VycmVudFJlZHVjZXIiLCJjdXJyZW50U3RhdGUiLCJjdXJyZW50TGlzdGVuZXJzIiwibmV4dExpc3RlbmVycyIsImlzRGlzcGF0Y2hpbmciLCJlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzIiwiZ2V0U3RhdGUiLCJzdWJzY3JpYmUiLCJsaXN0ZW5lciIsImlzU3Vic2NyaWJlZCIsInB1c2giLCJ1bnN1YnNjcmliZSIsImluZGV4T2YiLCJzcGxpY2UiLCJkaXNwYXRjaCIsImFjdGlvbiIsInR5cGUiLCJsaXN0ZW5lcnMiLCJpIiwicmVwbGFjZVJlZHVjZXIiLCJuZXh0UmVkdWNlciIsIl9yZWYiLCJvdXRlclN1YnNjcmliZSIsIm9ic2VydmVyIiwib2JzZXJ2ZVN0YXRlIiwibmV4dCIsImJpbmRBY3Rpb25DcmVhdG9yIiwiYWN0aW9uQ3JlYXRvciIsImJpbmRBY3Rpb25DcmVhdG9ycyIsImFjdGlvbkNyZWF0b3JzIiwiYm91bmRBY3Rpb25DcmVhdG9ycyIsImNvbXBvc2UiLCJfbGVuIiwiZnVuY3MiLCJfa2V5IiwiYXJnIiwicmVkdWNlIiwiYSIsImIiLCJiYXRjaCIsImRlZmF1bHROb29wQmF0Y2giLCJjYWxsYmFjayIsImdldEJhdGNoIiwibnVsbExpc3RlbmVycyIsIm5vdGlmeSIsImdldCIsInN0b3JlIiwicGFyZW50U3ViIiwiaGFuZGxlQ2hhbmdlV3JhcHBlciIsInN1YnNjcmlwdGlvbiIsIm9uU3RhdGVDaGFuZ2UiLCJ0cnlTdWJzY3JpYmUiLCJhZGROZXN0ZWRTdWIiLCJjcmVhdGVMaXN0ZW5lckNvbGxlY3Rpb24iLCJmaXJzdCIsImxhc3QiLCJjbGVhciIsInByZXYiLCJub3RpZnlOZXN0ZWRTdWJzIiwiQm9vbGVhbiIsInRyeVVuc3Vic2NyaWJlIiwiZ2V0TGlzdGVuZXJzIiwid2luZG93IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidXNlTGF5b3V0RWZmZWN0IiwidXNlRWZmZWN0IiwiUHJvdmlkZXIiLCJjb250ZXh0IiwiY2hpbGRyZW4iLCJjb250ZXh0VmFsdWUiLCJ1c2VNZW1vIiwicHJldmlvdXNTdGF0ZSIsIkNvbnRleHQiLCJfZXhjbHVkZWQiLCJfZXhjbHVkZWQyIiwiRU1QVFlfQVJSQVkiLCJOT19TVUJTQ1JJUFRJT05fQVJSQVkiLCJzdG9yZVN0YXRlVXBkYXRlc1JlZHVjZXIiLCJzdGF0ZSIsInVwZGF0ZUNvdW50IiwicGF5bG9hZCIsInVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3RXaXRoQXJncyIsImVmZmVjdEZ1bmMiLCJlZmZlY3RBcmdzIiwiZGVwZW5kZW5jaWVzIiwiY2FwdHVyZVdyYXBwZXJQcm9wcyIsImxhc3RXcmFwcGVyUHJvcHMiLCJsYXN0Q2hpbGRQcm9wcyIsInJlbmRlcklzU2NoZWR1bGVkIiwid3JhcHBlclByb3BzIiwiYWN0dWFsQ2hpbGRQcm9wcyIsImNoaWxkUHJvcHNGcm9tU3RvcmVVcGRhdGUiLCJjdXJyZW50Iiwic3Vic2NyaWJlVXBkYXRlcyIsInNob3VsZEhhbmRsZVN0YXRlQ2hhbmdlcyIsImNoaWxkUHJvcHNTZWxlY3RvciIsImZvcmNlQ29tcG9uZW50VXBkYXRlRGlzcGF0Y2giLCJkaWRVbnN1YnNjcmliZSIsImxhc3RUaHJvd25FcnJvciIsImNoZWNrRm9yVXBkYXRlcyIsIm5ld0NoaWxkUHJvcHMiLCJlcnJvciIsImxhdGVzdFN0b3JlU3RhdGUiLCJlIiwidW5zdWJzY3JpYmVXcmFwcGVyIiwiaW5pdFN0YXRlVXBkYXRlcyIsImNvbm5lY3RBZHZhbmNlZCIsInNlbGVjdG9yRmFjdG9yeSIsIl9yZWYyJGdldERpc3BsYXlOYW1lIiwiZ2V0RGlzcGxheU5hbWUiLCJuYW1lIiwiX3JlZjIkbWV0aG9kTmFtZSIsIm1ldGhvZE5hbWUiLCJfcmVmMiRyZW5kZXJDb3VudFByb3AiLCJyZW5kZXJDb3VudFByb3AiLCJfcmVmMiRzaG91bGRIYW5kbGVTdGEiLCJfcmVmMiRzdG9yZUtleSIsInN0b3JlS2V5IiwiX3JlZjIkZm9yd2FyZFJlZiIsIndpdGhSZWYiLCJmb3J3YXJkUmVmIiwiX3JlZjIkY29udGV4dCIsImNvbm5lY3RPcHRpb25zIiwid3JhcFdpdGhDb25uZWN0IiwiV3JhcHBlZENvbXBvbmVudCIsIndyYXBwZWRDb21wb25lbnROYW1lIiwiZGlzcGxheU5hbWUiLCJzZWxlY3RvckZhY3RvcnlPcHRpb25zIiwicHVyZSIsInVzZVB1cmVPbmx5TWVtbyIsIkNvbm5lY3RGdW5jdGlvbiIsInByb3BzIiwiX3VzZU1lbW8iLCJyZWFjdFJlZHV4Rm9yd2FyZGVkUmVmIiwicHJvcHNDb250ZXh0IiwiQ29udGV4dFRvVXNlIiwiQ29uc3VtZXIiLCJpc0NvbnRleHRDb25zdW1lciIsInVzZUNvbnRleHQiLCJkaWRTdG9yZUNvbWVGcm9tUHJvcHMiLCJjcmVhdGVDaGlsZFNlbGVjdG9yIiwiX3VzZU1lbW8yIiwiYmluZCIsIm92ZXJyaWRkZW5Db250ZXh0VmFsdWUiLCJfdXNlUmVkdWNlciIsInVzZVJlZHVjZXIiLCJwcmV2aW91c1N0YXRlVXBkYXRlUmVzdWx0IiwidXNlUmVmIiwicmVuZGVyZWRXcmFwcGVkQ29tcG9uZW50IiwicmVmIiwiQ29ubmVjdCIsImZvcndhcmRlZCIsImZvcndhcmRDb25uZWN0UmVmIiwiaXMiLCJ4IiwieSIsInNoYWxsb3dFcXVhbCIsIm9iakEiLCJvYmpCIiwia2V5c0EiLCJrZXlzIiwia2V5c0IiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJ3cmFwTWFwVG9Qcm9wc0NvbnN0YW50IiwiZ2V0Q29uc3RhbnQiLCJpbml0Q29uc3RhbnRTZWxlY3RvciIsImNvbnN0YW50IiwiY29uc3RhbnRTZWxlY3RvciIsImRlcGVuZHNPbk93blByb3BzIiwiZ2V0RGVwZW5kc09uT3duUHJvcHMiLCJtYXBUb1Byb3BzIiwid3JhcE1hcFRvUHJvcHNGdW5jIiwiaW5pdFByb3h5U2VsZWN0b3IiLCJwcm94eSIsIm1hcFRvUHJvcHNQcm94eSIsInN0YXRlT3JEaXNwYXRjaCIsIm93blByb3BzIiwiZGV0ZWN0RmFjdG9yeUFuZFZlcmlmeSIsIndoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc0Z1bmN0aW9uIiwibWFwRGlzcGF0Y2hUb1Byb3BzIiwid2hlbk1hcERpc3BhdGNoVG9Qcm9wc0lzTWlzc2luZyIsIndoZW5NYXBEaXNwYXRjaFRvUHJvcHNJc09iamVjdCIsIl9sb29wIiwid2hlbk1hcFN0YXRlVG9Qcm9wc0lzRnVuY3Rpb24iLCJtYXBTdGF0ZVRvUHJvcHMiLCJ3aGVuTWFwU3RhdGVUb1Byb3BzSXNNaXNzaW5nIiwiZGVmYXVsdE1lcmdlUHJvcHMiLCJzdGF0ZVByb3BzIiwiZGlzcGF0Y2hQcm9wcyIsIndoZW5NZXJnZVByb3BzSXNGdW5jdGlvbiIsIm1lcmdlUHJvcHMiLCJ3cmFwTWVyZ2VQcm9wc0Z1bmMiLCJpbml0TWVyZ2VQcm9wc1Byb3h5IiwibWVyZ2VkUHJvcHMiLCJhcmVNZXJnZWRQcm9wc0VxdWFsIiwiaGFzUnVuT25jZSIsIm1lcmdlUHJvcHNQcm94eSIsIm5leHRNZXJnZWRQcm9wcyIsIndoZW5NZXJnZVByb3BzSXNPbWl0dGVkIiwiaW1wdXJlRmluYWxQcm9wc1NlbGVjdG9yRmFjdG9yeSIsImltcHVyZUZpbmFsUHJvcHNTZWxlY3RvciIsInB1cmVGaW5hbFByb3BzU2VsZWN0b3JGYWN0b3J5IiwiYXJlU3RhdGVzRXF1YWwiLCJhcmVPd25Qcm9wc0VxdWFsIiwiYXJlU3RhdGVQcm9wc0VxdWFsIiwiaGFzUnVuQXRMZWFzdE9uY2UiLCJoYW5kbGVTdWJzZXF1ZW50Q2FsbHMiLCJuZXh0U3RhdGUiLCJuZXh0T3duUHJvcHMiLCJwcm9wc0NoYW5nZWQiLCJzdGF0ZUNoYW5nZWQiLCJoYW5kbGVOZXdQcm9wc0FuZE5ld1N0YXRlIiwiaGFuZGxlTmV3UHJvcHMiLCJoYW5kbGVOZXdTdGF0ZSIsIm5leHRTdGF0ZVByb3BzIiwic3RhdGVQcm9wc0NoYW5nZWQiLCJwdXJlRmluYWxQcm9wc1NlbGVjdG9yIiwiaGFuZGxlRmlyc3RDYWxsIiwiZmlyc3RTdGF0ZSIsImZpcnN0T3duUHJvcHMiLCJmaW5hbFByb3BzU2VsZWN0b3JGYWN0b3J5IiwiaW5pdE1hcFN0YXRlVG9Qcm9wcyIsImluaXRNYXBEaXNwYXRjaFRvUHJvcHMiLCJpbml0TWVyZ2VQcm9wcyIsIm1hdGNoIiwiZmFjdG9yaWVzIiwic3RyaWN0RXF1YWwiLCJjcmVhdGVDb25uZWN0IiwiX3RlbXAiLCJfcmVmJGNvbm5lY3RIT0MiLCJjb25uZWN0SE9DIiwiX3JlZiRtYXBTdGF0ZVRvUHJvcHNGIiwibWFwU3RhdGVUb1Byb3BzRmFjdG9yaWVzIiwiX3JlZiRtYXBEaXNwYXRjaFRvUHJvIiwibWFwRGlzcGF0Y2hUb1Byb3BzRmFjdG9yaWVzIiwiX3JlZiRtZXJnZVByb3BzRmFjdG9yIiwibWVyZ2VQcm9wc0ZhY3RvcmllcyIsIl9yZWYkc2VsZWN0b3JGYWN0b3J5IiwiY29ubmVjdCIsIl9yZWYzIiwiX3JlZjMkcHVyZSIsIl9yZWYzJGFyZVN0YXRlc0VxdWFsIiwiX3JlZjMkYXJlT3duUHJvcHNFcXVhIiwiX3JlZjMkYXJlU3RhdGVQcm9wc0VxIiwiX3JlZjMkYXJlTWVyZ2VkUHJvcHNFIiwiZXh0cmFPcHRpb25zIiwidXNlTWVtb09uZSIsImdldFJlc3VsdCIsImlucHV0cyIsImluaXRpYWwiLCJ1c2VTdGF0ZSIsImlzRmlyc3RSdW4iLCJjb21taXR0ZWQiLCJjYWNoZSIsImFyZUlucHV0c0VxdWFsIiwibmV3SW5wdXRzIiwibGFzdElucHV0cyIsInNldEJhdGNoIiwibmV3QmF0Y2giLCJ1c2VDYWxsYmFjayIsInVzZUNhbGxiYWNrT25lIiwiaW52YXJpYW50IiwiY29uZGl0aW9uIiwibWVzc2FnZSIsImdldFJlY3QiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJ3aWR0aCIsImhlaWdodCIsImNlbnRlciIsImV4cGFuZCIsInRhcmdldCIsImV4cGFuZEJ5Iiwic2hyaW5rIiwic2hyaW5rQnkiLCJub1NwYWNpbmciLCJjcmVhdGVCb3giLCJib3JkZXJCb3giLCJfcmVmMiRtYXJnaW4iLCJtYXJnaW4iLCJfcmVmMiRib3JkZXIiLCJib3JkZXIiLCJfcmVmMiRwYWRkaW5nIiwicGFkZGluZyIsIm1hcmdpbkJveCIsInBhZGRpbmdCb3giLCJjb250ZW50Qm94IiwicGFyc2UiLCJyYXciLCJOdW1iZXIiLCJpc05hTiIsIm9mZnNldCIsIm9yaWdpbmFsIiwiY2hhbmdlIiwic2hpZnRlZCIsInNoaWZ0Iiwic2hpZnRCeSIsIndpdGhTY3JvbGwiLCJzY3JvbGwiLCJnZXRXaW5kb3dTY3JvbGwiLCJwYWdlWE9mZnNldCIsInBhZ2VZT2Zmc2V0IiwiY2FsY3VsYXRlQm94Iiwic3R5bGVzIiwibWFyZ2luVG9wIiwibWFyZ2luUmlnaHQiLCJtYXJnaW5Cb3R0b20iLCJtYXJnaW5MZWZ0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdSaWdodCIsInBhZGRpbmdCb3R0b20iLCJwYWRkaW5nTGVmdCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwiYm9yZGVyTGVmdFdpZHRoIiwiZ2V0Qm94IiwiZWwiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRDb21wdXRlZFN0eWxlIiwibWVtb2l6ZU9uZSIsInJlc3VsdEZuIiwiaXNFcXVhbCIsImxhc3RSZXN1bHQiLCJjYWxsZWRPbmNlIiwibWVtb2l6ZWQiLCJuZXdBcmdzIiwiX2kiLCJyYWZTY2hkIiwiZm4iLCJmcmFtZUlkIiwid3JhcHBlckZuIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJsb2ciLCJub29wIiwiYmluZEV2ZW50cyIsImJpbmRpbmdzIiwic2hhcmVkT3B0aW9ucyIsInVuYmluZGluZ3MiLCJtYXAiLCJiaW5kaW5nIiwiZ2V0T3B0aW9ucyIsInNoYXJlZCIsImZyb21CaW5kaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50TmFtZSIsInVuYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1bmJpbmRBbGwiLCJmb3JFYWNoIiwiaXNQcm9kdWN0aW9uJDEiLCJSYmRJbnZhcmlhbnQiLCJFcnJvckJvdW5kYXJ5IiwiX1JlYWN0JENvbXBvbmVudCIsIl90aGlzIiwiY2FsbGJhY2tzIiwib25XaW5kb3dFcnJvciIsImV2ZW50IiwiZ2V0Q2FsbGJhY2tzIiwiaXNEcmFnZ2luZyIsInRyeUFib3J0IiwicHJldmVudERlZmF1bHQiLCJzZXRDYWxsYmFja3MiLCJfcHJvdG8iLCJjb21wb25lbnREaWRNb3VudCIsImNvbXBvbmVudERpZENhdGNoIiwiZXJyIiwic2V0U3RhdGUiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlbmRlciIsInBvc2l0aW9uIiwid2l0aExvY2F0aW9uIiwic291cmNlIiwiZGVzdGluYXRpb24iLCJpc0luSG9tZUxpc3QiLCJkcm9wcGFibGVJZCIsInN0YXJ0UG9zaXRpb24iLCJlbmRQb3NpdGlvbiIsIndpdGhDb21iaW5lIiwiaWQiLCJjb21iaW5lIiwiZHJhZ2dhYmxlSWQiLCJyZXR1cm5lZFRvU3RhcnQiLCJwcmVzZXQiLCJkcmFnSGFuZGxlVXNhZ2VJbnN0cnVjdGlvbnMiLCJvbkRyYWdTdGFydCIsInN0YXJ0Iiwib25EcmFnVXBkYXRlIiwidXBkYXRlIiwibG9jYXRpb24iLCJvbkRyYWdFbmQiLCJyZWFzb24iLCJvcmlnaW4iLCJhZGQiLCJwb2ludDEiLCJwb2ludDIiLCJzdWJ0cmFjdCIsIm5lZ2F0ZSIsInBvaW50IiwicGF0Y2giLCJsaW5lIiwib3RoZXJWYWx1ZSIsImRpc3RhbmNlIiwic3FydCIsInBvdyIsImNsb3Nlc3QiLCJwb2ludHMiLCJvZmZzZXRCeVBvc2l0aW9uIiwic3BhY2luZyIsImdldENvcm5lcnMiLCJjbGlwIiwiZnJhbWUiLCJzaG91bGRDbGlwU3ViamVjdCIsInN1YmplY3QiLCJleGVjdXRlQ2xpcCIsInBhZ2VNYXJnaW5Cb3giLCJnZXRTdWJqZWN0IiwicGFnZSIsIndpdGhQbGFjZWhvbGRlciIsImF4aXMiLCJzY3JvbGxlZCIsImRpZmYiLCJkaXNwbGFjZW1lbnQiLCJpbmNyZWFzZWQiLCJpbmNyZWFzZSIsIl9leHRlbmRzMiIsImluY3JlYXNlZEJ5IiwiZW5kIiwiYWN0aXZlIiwic2Nyb2xsRHJvcHBhYmxlIiwiZHJvcHBhYmxlIiwibmV3U2Nyb2xsIiwic2Nyb2xsYWJsZSIsInNjcm9sbERpZmYiLCJzY3JvbGxEaXNwbGFjZW1lbnQiLCJ2YWx1ZXMiLCJmaW5kSW5kZXgiLCJsaXN0IiwicHJlZGljYXRlIiwiZmluZCIsInRvQXJyYXkiLCJ0b0Ryb3BwYWJsZU1hcCIsImRyb3BwYWJsZXMiLCJwcmV2aW91cyIsImRlc2NyaXB0b3IiLCJ0b0RyYWdnYWJsZU1hcCIsImRyYWdnYWJsZXMiLCJ0b0Ryb3BwYWJsZUxpc3QiLCJ0b0RyYWdnYWJsZUxpc3QiLCJnZXREcmFnZ2FibGVzSW5zaWRlRHJvcHBhYmxlIiwiZmlsdGVyIiwiZHJhZ2dhYmxlIiwidHJ5R2V0RGVzdGluYXRpb24iLCJpbXBhY3QiLCJhdCIsInRyeUdldENvbWJpbmUiLCJyZW1vdmVEcmFnZ2FibGVGcm9tTGlzdCIsInJlbW92ZSIsIml0ZW0iLCJpc0hvbWVPZiIsIm5vRGlzcGxhY2VkQnkiLCJlbXB0eUdyb3VwcyIsImludmlzaWJsZSIsInZpc2libGUiLCJhbGwiLCJub0ltcGFjdCIsImRpc3BsYWNlZCIsImRpc3BsYWNlZEJ5IiwiaXNXaXRoaW4iLCJsb3dlckJvdW5kIiwidXBwZXJCb3VuZCIsImlzUGFydGlhbGx5VmlzaWJsZVRocm91Z2hGcmFtZSIsImlzV2l0aGluVmVydGljYWwiLCJpc1dpdGhpbkhvcml6b250YWwiLCJpc1BhcnRpYWxseVZpc2libGVWZXJ0aWNhbGx5IiwiaXNQYXJ0aWFsbHlWaXNpYmxlSG9yaXpvbnRhbGx5IiwiaXNCaWdnZXJWZXJ0aWNhbGx5IiwiaXNCaWdnZXJIb3Jpem9udGFsbHkiLCJpc1RvdGFsbHlWaXNpYmxlVGhyb3VnaEZyYW1lIiwidmVydGljYWwiLCJkaXJlY3Rpb24iLCJjcm9zc0F4aXNMaW5lIiwic2l6ZSIsImNyb3NzQXhpc1N0YXJ0IiwiY3Jvc3NBeGlzRW5kIiwiY3Jvc3NBeGlzU2l6ZSIsImhvcml6b250YWwiLCJpc1Zpc2libGUiLCJ0b0JlRGlzcGxhY2VkIiwidmlld3BvcnQiLCJ3aXRoRHJvcHBhYmxlRGlzcGxhY2VtZW50IiwiaXNWaXNpYmxlVGhyb3VnaEZyYW1lRm4iLCJkaXNwbGFjZWRUYXJnZXQiLCJnZXREcm9wcGFibGVEaXNwbGFjZWQiLCJpc1Zpc2libGVJbkRyb3BwYWJsZSIsImlzVmlzaWJsZUluVmlld3BvcnQiLCJpc1BhcnRpYWxseVZpc2libGUiLCJpc1RvdGFsbHlWaXNpYmxlIiwiZ2V0U2hvdWxkQW5pbWF0ZSIsImZvcmNlU2hvdWxkQW5pbWF0ZSIsInNob3VsZEFuaW1hdGUiLCJnZXREaXNwbGFjZW1lbnRHcm91cHMiLCJhZnRlckRyYWdnaW5nIiwicHJvY2VzcyIsImdyb3VwcyIsImdldFRhcmdldCIsImdvQXRFbmQiLCJpbnNpZGVEZXN0aW5hdGlvbiIsImluSG9tZUxpc3QiLCJuZXdJbmRleCIsImdldEluZGV4T2ZMYXN0SXRlbSIsImluZGV4T2ZMYXN0SXRlbSIsImNhbGN1bGF0ZVJlb3JkZXJJbXBhY3QiLCJ3aXRob3V0RHJhZ2dpbmciLCJzbGljZUZyb20iLCJkaWRTdGFydEFmdGVyQ3JpdGljYWwiLCJhZnRlckNyaXRpY2FsIiwiZWZmZWN0ZWQiLCJtb3ZlVG9OZXh0SW5kZXgiLCJpc01vdmluZ0ZvcndhcmQiLCJwcmV2aW91c0ltcGFjdCIsIndhc0F0IiwiX25ld0luZGV4IiwiY3VycmVudEluZGV4IiwicHJvcG9zZWRJbmRleCIsImZpcnN0SW5kZXgiLCJsYXN0SW5kZXgiLCJmcm9tUmVvcmRlciIsImlzQ29tYmluZUVuYWJsZWQiLCJjb21iaW5lSWQiLCJjb21iaW5lV2l0aEluZGV4IiwiZnJvbUNvbWJpbmUiLCJ3aGVuQ29tYmluaW5nIiwiY29tYmluZVdpdGgiLCJkaXNwbGFjZUJ5IiwiaXNEaXNwbGFjZWQiLCJnZXRDb21iaW5lZEl0ZW1EaXNwbGFjZW1lbnQiLCJkaXN0YW5jZUZyb21TdGFydFRvQm9yZGVyQm94Q2VudGVyIiwiYm94IiwiZ2V0Q3Jvc3NBeGlzQm9yZGVyQm94Q2VudGVyIiwiaXNNb3ZpbmciLCJnb0FmdGVyIiwibW92ZVJlbGF0aXZlVG8iLCJnb0JlZm9yZSIsImRpc3RhbmNlRnJvbUVuZFRvQm9yZGVyQm94Q2VudGVyIiwid2hlblJlb3JkZXJpbmciLCJkcmFnZ2FibGVQYWdlIiwiZ29JbnRvU3RhcnQiLCJtb3ZlSW50byIsImNsb3Nlc3RBZnRlciIsIndpdGhEaXNwbGFjZW1lbnQiLCJnZXRQYWdlQm9yZGVyQm94Q2VudGVyRnJvbUltcGFjdCIsIndpdGhvdXREaXNwbGFjZW1lbnQiLCJnZXRSZXN1bHRXaXRob3V0RHJvcHBhYmxlRGlzcGxhY2VtZW50Iiwic2Nyb2xsVmlld3BvcnQiLCJnZXREcmFnZ2FibGVzIiwiaWRzIiwiZ2V0Q2xpZW50RnJvbVBhZ2VCb3JkZXJCb3hDZW50ZXIiLCJwYWdlQm9yZGVyQm94Q2VudGVyIiwid2l0aG91dFBhZ2VTY3JvbGxDaGFuZ2UiLCJ3aXRoVmlld3BvcnREaXNwbGFjZW1lbnQiLCJjbGllbnQiLCJpc1RvdGFsbHlWaXNpYmxlSW5OZXdMb2NhdGlvbiIsIm5ld1BhZ2VCb3JkZXJCb3hDZW50ZXIiLCJfcmVmJG9ubHlPbk1haW5BeGlzIiwib25seU9uTWFpbkF4aXMiLCJjaGFuZ2VOZWVkZWQiLCJpc1RvdGFsbHlWaXNpYmxlT25BeGlzIiwibW92ZVRvTmV4dFBsYWNlIiwicHJldmlvdXNQYWdlQm9yZGVyQm94Q2VudGVyIiwicHJldmlvdXNDbGllbnRTZWxlY3Rpb24iLCJpc0VuYWJsZWQiLCJnZXRJbXBhY3QiLCJjbG9zZXN0SWQiLCJ3aXRob3V0RHJhZ2dhYmxlIiwiaW5kZXhPZkNsb3Nlc3QiLCJkIiwibW92ZVRvTmV4dENvbWJpbmUiLCJjbGllbnRTZWxlY3Rpb24iLCJzY3JvbGxKdW1wUmVxdWVzdCIsImNhdXRpb3VzIiwibWF4U2Nyb2xsQ2hhbmdlIiwic2Nyb2xsZWRWaWV3cG9ydCIsInNjcm9sbGVkRHJvcHBhYmxlIiwid2l0aFZpZXdwb3J0U2Nyb2xsIiwid2l0aERyb3BwYWJsZVNjcm9sbCIsInRyeUdldFZpc2libGUiLCJzcGVjdWxhdGl2ZWx5SW5jcmVhc2UiLCJnZXRLbm93bkFjdGl2ZSIsInJlY3QiLCJnZXRDdXJyZW50UGFnZUJvcmRlckJveENlbnRlciIsImdldEN1cnJlbnRQYWdlQm9yZGVyQm94IiwiZ2V0RGlzcGxhY2VkQnkiLCJ3aXRoTWF4U2Nyb2xsIiwiYWRkUGxhY2Vob2xkZXIiLCJwbGFjZWhvbGRlclNpemUiLCJyZXF1aXJlZEdyb3d0aCIsImdldFJlcXVpcmVkR3Jvd3RoRm9yUGxhY2Vob2xkZXIiLCJtb2RlIiwiYXZhaWxhYmxlU3BhY2UiLCJuZWVkc1RvR3Jvd0J5Iiwic3VtIiwiZGltZW5zaW9uIiwiYWRkZWQiLCJvbGRGcmFtZU1heFNjcm9sbCIsIl9zdWJqZWN0IiwibWF4U2Nyb2xsIiwibmV3RnJhbWUiLCJtb3ZlQ3Jvc3NBeGlzIiwiaXNPdmVyIiwiaXNCZXR3ZWVuU291cmNlQ2xpcHBlZCIsImNhbmRpZGF0ZXMiLCJhY3RpdmVPZlRhcmdldCIsImlzQmV0d2VlbkRlc3RpbmF0aW9uQ2xpcHBlZCIsInNlY29uZCIsImNvbnRhaW5zIiwiaXNXaXRoaW5Ecm9wcGFibGUiLCJnZXRCZXN0Q3Jvc3NBeGlzRHJvcHBhYmxlIiwic29ydGVkIiwiZGlzdGFuY2VUb0EiLCJkaXN0YW5jZVRvQiIsImdldENsb3Nlc3REcmFnZ2FibGUiLCJwcm9wb3NlZCIsInByb3Bvc2VkUGFnZUJvcmRlckJveENlbnRlciIsInJlbGF0aXZlVG8iLCJpc0dvaW5nQmVmb3JlVGFyZ2V0IiwibW92ZVRvTmV3RHJvcHBhYmxlIiwid2hhdElzRHJhZ2dlZE92ZXIiLCJtb3ZlSW5EaXJlY3Rpb24iLCJpc0FjdHVhbGx5T3ZlciIsImdldERyb3BwYWJsZU92ZXIiLCJkaW1lbnNpb25zIiwiaXNNYWluQXhpc01vdmVtZW50QWxsb3dlZCIsImhvbWUiLCJjcml0aWNhbCIsImlzTW92aW5nT25NYWluQXhpcyIsImJvcmRlckJveENlbnRlciIsIl9zdGF0ZSRkaW1lbnNpb25zIiwic2VsZWN0aW9uIiwiaXNNb3ZlbWVudEFsbG93ZWQiLCJwaGFzZSIsImlzUG9zaXRpb25JbkZyYW1lIiwicnVuIiwiZ2V0RHJvcHBhYmxlT3ZlciQxIiwicGFnZUJvcmRlckJveCIsImdldEhhc092ZXJsYXAiLCJjaGlsZENlbnRlciIsImlzQ29udGFpbmVkIiwiaXNTdGFydENvbnRhaW5lZCIsImlzRW5kQ29udGFpbmVkIiwiZ2V0RnVydGhlc3RBd2F5Iiwic3RhcnRDZW50ZXIiLCJjYW5kaWRhdGUiLCJvZmZzZXRSZWN0QnlQb3NpdGlvbiIsImdldElzRGlzcGxhY2VkIiwiZ2V0RHJhZ0ltcGFjdCIsInBhZ2VPZmZzZXQiLCJkZXN0aW5hdGlvbklkIiwicGFnZUJvcmRlckJveFdpdGhEcm9wcGFibGVTY3JvbGwiLCJhcmVhIiwidGFyZ2V0UmVjdCIsInRhcmdldFN0YXJ0IiwidGFyZ2V0RW5kIiwiY2hpbGQiLCJjaGlsZFJlY3QiLCJ0aHJlc2hvbGQiLCJkaWRTdGFydEFmdGVyQ3JpdGljYWwkMSIsImdldENvbWJpbmVJbXBhY3QiLCJhdEluZGV4IiwiZ2V0UmVvcmRlckltcGFjdCIsInBhdGNoRHJvcHBhYmxlTWFwIiwidXBkYXRlZCIsImNsZWFyVW51c2VkUGxhY2Vob2xkZXIiLCJsYXN0RHJvcHBhYmxlIiwicmVtb3ZlUGxhY2Vob2xkZXIiLCJfc3ViamVjdDIiLCJvbGRNYXhTY3JvbGwiLCJmb3JjZWRDbGllbnRTZWxlY3Rpb24iLCJmb3JjZWREaW1lbnNpb25zIiwiZm9yY2VkVmlld3BvcnQiLCJmb3JjZWRJbXBhY3QiLCJuZXdJbXBhY3QiLCJ3aXRoVXBkYXRlZFBsYWNlaG9sZGVycyIsImNsZWFuZWQiLCJwYXRjaGVkIiwicmVjb21wdXRlUGxhY2Vob2xkZXJzIiwicmVjb21wdXRlIiwiZ2V0RHJhZ2dhYmxlcyQxIiwiZ2V0Q2xpZW50Qm9yZGVyQm94Q2VudGVyIiwicmVmcmVzaFNuYXAiLCJtb3ZlbWVudE1vZGUiLCJuZWVkc1Zpc2liaWxpdHlDaGVjayIsImdldExpZnRFZmZlY3QiLCJpbnNpZGVIb21lIiwicmF3SW5kZXgiLCJpblZpcnR1YWxMaXN0IiwiZmluaXNoIiwiYWRqdXN0QWRkaXRpb25zRm9yU2Nyb2xsQ2hhbmdlcyIsImFkZGl0aW9ucyIsInVwZGF0ZWREcm9wcGFibGVzIiwid2luZG93U2Nyb2xsQ2hhbmdlIiwiZ2V0RnJhbWUiLCJkcm9wcGFibGVTY3JvbGxDaGFuZ2UiLCJtb3ZlZCIsIm9mZnNldCQxIiwiaW5pdGlhbFdpbmRvd1Njcm9sbCIsInBsYWNlaG9sZGVyIiwib2Zmc2V0RHJhZ2dhYmxlIiwiaXNTbmFwcGluZyIsInBvc3REcm9wcGFibGVDaGFuZ2UiLCJpc0VuYWJsZWRDaGFuZ2luZyIsInBhdGNoRGltZW5zaW9uTWFwIiwicmVtb3ZlU2Nyb2xsSnVtcFJlcXVlc3QiLCJpZGxlIiwiY29tcGxldGVkIiwic2hvdWxkRmx1c2giLCJfYWN0aW9uJHBheWxvYWQiLCJpc1dpbmRvd1Njcm9sbEFsbG93ZWQiLCJldmVyeSIsImlzRml4ZWRPblBhZ2UiLCJfZ2V0TGlmdEVmZmVjdCIsIm9uTGlmdEltcGFjdCIsInB1Ymxpc2hlZCIsIndpdGhTY3JvbGxDaGFuZ2UiLCJtb2RpZmllZCIsImV4aXN0aW5nIiwidXBkYXRlZEFkZGl0aW9ucyIsInJlbW92YWxzIiwid2FzT3ZlcklkIiwid2FzT3ZlciIsImRyYWdnaW5nU3RhdGUiLCJpc1dhaXRpbmciLCJwdWJsaXNoV2hpbGVEcmFnZ2luZ0luVmlydHVhbCIsIl9jbGllbnRTZWxlY3Rpb24iLCJfYWN0aW9uJHBheWxvYWQyIiwiX2FjdGlvbiRwYXlsb2FkMyIsIl9pZCIsIl90YXJnZXQiLCJfYWN0aW9uJHBheWxvYWQ0IiwiX2lkMiIsIl90YXJnZXQyIiwiX3VwZGF0ZWQiLCJfbmV3U2Nyb2xsIiwiX3ZpZXdwb3J0IiwiX3Jlc3VsdDIiLCJfYWN0aW9uJHBheWxvYWQ1IiwiZHJvcER1cmF0aW9uIiwibmV3SG9tZUNsaWVudE9mZnNldCIsImxpZnQiLCJwdWJsaXNoV2hpbGVEcmFnZ2luZyIsImNvbGxlY3Rpb25TdGFydGluZyIsInVwZGF0ZURyb3BwYWJsZVNjcm9sbCIsInVwZGF0ZURyb3BwYWJsZUlzRW5hYmxlZCIsInVwZGF0ZURyb3BwYWJsZUlzQ29tYmluZUVuYWJsZWQiLCJtb3ZlIiwibW92ZVVwIiwibW92ZURvd24iLCJtb3ZlUmlnaHQiLCJtb3ZlTGVmdCIsImNvbXBsZXRlRHJvcCIsImRyb3AiLCJkcm9wQW5pbWF0aW9uRmluaXNoZWQiLCJjdXJ2ZXMiLCJjb21iaW5pbmciLCJvdXRPZlRoZVdheVRpbWluZyIsInRyYW5zaXRpb25zIiwiZmx1aWQiLCJzbmFwIiwiZHVyYXRpb24iLCJ0aW1pbmciLCJvdXRPZlRoZVdheSIsIm1vdmVUbyIsInRyYW5zZm9ybXMiLCJpc0NvbWJpbmluZyIsInRyYW5zbGF0ZSIsIm1pbkRyb3BUaW1lIiwibWF4RHJvcFRpbWUiLCJkcm9wVGltZVJhbmdlIiwiZHJvcCQxIiwiX2dldERyb3BJbXBhY3QiLCJsYXN0SW1wYWN0IiwiZGlkRHJvcEluc2lkZURyb3BwYWJsZSIsImdldERyb3BJbXBhY3QiLCJuZXdDbGllbnRDZW50ZXIiLCJnZXROZXdIb21lQ2xpZW50T2Zmc2V0IiwiZGlzdGFuY2UkMSIsInRvRml4ZWQiLCJnZXREcm9wRHVyYXRpb24iLCJhbmltYXRlRHJvcCIsImRyb3BQZW5kaW5nIiwiZ2V0U2Nyb2xsTGlzdGVuZXIiLCJvbldpbmRvd1Njcm9sbCIsInNjaGVkdWxlZCIsInVwZGF0ZVNjcm9sbCIsImdldFdpbmRvd1Njcm9sbEJpbmRpbmciLCJwYXNzaXZlIiwiY2FwdHVyZSIsImlzQWN0aXZlIiwic3RvcCIsInNjcm9sbExpc3RlbmVyIiwibW92ZUJ5V2luZG93U2Nyb2xsIiwic2hvdWxkRW5kIiwiZ2V0QXN5bmNNYXJzaGFsIiwiZW50cmllcyIsImV4ZWN1dGUiLCJlbnRyeSIsInNoYWxsb3ciLCJ3aXRoVGltaW5ncyIsImdldERyYWdTdGFydCIsInJlc3BvbmRlciIsImRhdGEiLCJhbm5vdW5jZSIsImdldERlZmF1bHRNZXNzYWdlIiwid2lsbEV4cGlyZSIsIndhc0NhbGxlZCIsImlzRXhwaXJlZCIsInRpbWVvdXRJZCIsImdldEV4cGlyaW5nQW5ub3VuY2UiLCJyZXNwb25kZXJzIiwiZ2V0UmVzcG9uZGVycyIsInB1Ymxpc2hlciIsImFzeW5jTWFyc2hhbCIsImRyYWdnaW5nIiwiYmVmb3JlQ2FwdHVyZSIsIm9uQmVmb3JlQ2FwdHVyZSIsImJlZm9yZVN0YXJ0Iiwib25CZWZvcmVEcmFnU3RhcnQiLCJsYXN0Q3JpdGljYWwiLCJsYXN0TG9jYXRpb24iLCJsYXN0Q29tYmluZSIsImhhc0NyaXRpY2FsQ2hhbmdlZCIsImlzQ3JpdGljYWxFcXVhbCIsImlzRHJhZ2dhYmxlRXF1YWwiLCJpc0Ryb3BwYWJsZUVxdWFsIiwiaGFzTG9jYXRpb25DaGFuZ2VkIiwiYXJlTG9jYXRpb25zRXF1YWwiLCJoYXNHcm91cGluZ0NoYW5nZWQiLCJpc0NvbWJpbmVFcXVhbCIsImFib3J0IiwiZ2V0UHVibGlzaGVyIiwiZHJvcEFuaW1hdGlvbkZpbmlzaCIsImRyb3BBbmltYXRpb25GbHVzaE9uU2Nyb2xsIiwib25jZSIsImZsdXNoRHJvcEFuaW1hdGlvbiIsInBlbmRpbmdEcm9wIiwicG9zdEFjdGlvblN0YXRlIiwiY29tcG9zZUVuaGFuY2VycyIsIm1hcnNoYWwiLCJkaW1lbnNpb25NYXJzaGFsIiwiZm9jdXNNYXJzaGFsIiwic3R5bGVNYXJzaGFsIiwiYXV0b1Njcm9sbGVyIiwiYXBwbHlNaWRkbGV3YXJlIiwibWlkZGxld2FyZXMiLCJfZGlzcGF0Y2giLCJtaWRkbGV3YXJlQVBJIiwiY2hhaW4iLCJtaWRkbGV3YXJlIiwiZHJvcHBpbmciLCJyZXN0aW5nIiwic3RvcFB1Ymxpc2hpbmciLCJkaW1lbnNpb25NYXJzaGFsU3RvcHBlciIsImJlZm9yZUluaXRpYWxDYXB0dXJlIiwicmVxdWVzdCIsInNjcm9sbE9wdGlvbnMiLCJzaG91bGRQdWJsaXNoSW1tZWRpYXRlbHkiLCJfbWFyc2hhbCRzdGFydFB1Ymxpc2giLCJzdGFydFB1Ymxpc2hpbmciLCJpbml0aWFsUHVibGlzaCIsImxpZnQkMSIsInNob3VsZFN0b3AiLCJhdXRvU2Nyb2xsIiwiaXNXYXRjaGluZyIsInRyeVJlY29yZEZvY3VzIiwidHJ5UmVzdG9yZUZvY3VzUmVjb3JkZWQiLCJ0cnlTaGlmdFJlY29yZCIsImdldE1heFNjcm9sbCIsInNjcm9sbEhlaWdodCIsInNjcm9sbFdpZHRoIiwiZ2V0RG9jdW1lbnRFbGVtZW50IiwiZG9jIiwiZG9jdW1lbnRFbGVtZW50IiwiZ2V0TWF4V2luZG93U2Nyb2xsIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZXRJbml0aWFsUHVibGlzaCIsInJlZ2lzdHJ5Iiwid2luZG93U2Nyb2xsIiwiZ2V0QWxsQnlUeXBlIiwiZ2V0RGltZW5zaW9uQW5kV2F0Y2hTY3JvbGwiLCJnZXREaW1lbnNpb24iLCJzaG91bGRQdWJsaXNoVXBkYXRlIiwiZ2V0QnlJZCIsImdldFJlbWFpbmRlciIsImJhc2UiLCJjcmVhdGVEaW1lbnNpb25NYXJzaGFsIiwiY3JlYXRlUHVibGlzaGVyIiwic3RhZ2luZyIsImNvbGxlY3QiLCJfc3RhZ2luZyIsImdldFNjcm9sbFdoaWxlRHJhZ2dpbmciLCJwdWJsaXNoIiwic3Vic2NyaWJlciIsImV4aXN0cyIsImRyYWdTdG9wcGVkIiwiY2FuU3RhcnREcmFnIiwic2Nyb2xsV2luZG93Iiwic2Nyb2xsQnkiLCJnZXRTY3JvbGxhYmxlRHJvcHBhYmxlcyIsImdldEJlc3RTY3JvbGxhYmxlRHJvcHBhYmxlIiwiX2RpbWVuc2lvbiIsImdldFNjcm9sbGFibGVEcm9wcGFibGVPdmVyIiwibWF5YmUiLCJjb25maWciLCJlYXNlIiwicGVyY2VudGFnZSIsInN0b3BEYW1wZW5pbmdBdCIsImFjY2VsZXJhdGVBdCIsImdldFBlcmNlbnRhZ2UiLCJzdGFydE9mUmFuZ2UiLCJlbmRPZlJhbmdlIiwicmFuZ2UiLCJzdG9wQXQiLCJnZXRWYWx1ZSIsImRpc3RhbmNlVG9FZGdlIiwidGhyZXNob2xkcyIsImRyYWdTdGFydFRpbWUiLCJzaG91bGRVc2VUaW1lRGFtcGVuaW5nIiwic3RhcnRTY3JvbGxpbmdGcm9tIiwibWF4U2Nyb2xsVmFsdWVBdCIsInBlcmNlbnRhZ2VGcm9tTWF4U2Nyb2xsVmFsdWVBdCIsImNlaWwiLCJnZXRWYWx1ZUZyb21EaXN0YW5jZSIsInByb3Bvc2VkU2Nyb2xsIiwicnVuVGltZSIsImJldHdlZW5BY2NlbGVyYXRlQXRBbmRTdG9wQXRQZXJjZW50YWdlIiwiZGFtcGVuVmFsdWVCeVRpbWUiLCJnZXRTY3JvbGxPbkF4aXMiLCJjb250YWluZXIiLCJkaXN0YW5jZVRvRWRnZXMiLCJnZXREaXN0YW5jZVRocmVzaG9sZHMiLCJjbGVhbiQyIiwiZ2V0U2Nyb2xsIiwicmVxdWlyZWQiLCJsaW1pdGVkIiwiaXNUb29CaWdWZXJ0aWNhbGx5IiwiaXNUb29CaWdIb3Jpem9udGFsbHkiLCJhZGp1c3RGb3JTaXplTGltaXRzIiwic21hbGxlc3RTaWduZWQiLCJnZXRPdmVybGFwIiwidGFyZ2V0U2Nyb2xsIiwib3ZlcmxhcCIsImNhblBhcnRpYWxseVNjcm9sbCIsInJhd01heCIsInNtYWxsZXN0Q2hhbmdlIiwiY2FuU2Nyb2xsV2luZG93IiwiY2FuU2Nyb2xsRHJvcHBhYmxlIiwic2Nyb2xsJDEiLCJfY2hhbmdlIiwiZ2V0V2luZG93U2Nyb2xsQ2hhbmdlIiwiZ2V0RHJvcHBhYmxlU2Nyb2xsQ2hhbmdlIiwiY3JlYXRlSnVtcFNjcm9sbGVyIiwic2Nyb2xsRHJvcHBhYmxlQXNNdWNoQXNJdENhbiIsImdldERyb3BwYWJsZU92ZXJsYXAiLCJ3aGF0VGhlRHJvcHBhYmxlQ2FuU2Nyb2xsIiwic2Nyb2xsV2luZG93QXNNdWNoQXNJdENhbiIsImdldFdpbmRvd092ZXJsYXAiLCJ3aGF0VGhlV2luZG93Q2FuU2Nyb2xsIiwianVtcFNjcm9sbGVyIiwiZHJvcHBhYmxlUmVtYWluZGVyIiwid2luZG93UmVtYWluZGVyIiwibW92ZUJ5T2Zmc2V0IiwiY3JlYXRlQXV0b1Njcm9sbGVyIiwiZmx1aWRTY3JvbGxlciIsInNjaGVkdWxlV2luZG93U2Nyb2xsIiwic2NoZWR1bGVEcm9wcGFibGVTY3JvbGwiLCJ0cnlTY3JvbGwiLCJfZHJhZ2dpbmciLCJzdGFydCQxIiwid2FzU2Nyb2xsTmVlZGVkIiwiZmFrZVNjcm9sbENhbGxiYWNrIiwiY3JlYXRlRmx1aWRTY3JvbGxlciIsImp1bXBTY3JvbGwiLCJwcmVmaXgkMSIsImRyYWdIYW5kbGUiLCJjb250ZXh0SWQiLCJzY3JvbGxDb250YWluZXIiLCJnZXRTdHlsZXMiLCJydWxlcyIsInByb3BlcnR5IiwicnVsZSIsInNlbGVjdG9yIiwiZ2V0U3R5bGVzJDEiLCJncmFiQ3Vyc29yIiwidHJhbnNpdGlvbiIsImdldFNlbGVjdG9yIiwibWFrZUdldFNlbGVjdG9yIiwiYXR0cmlidXRlIiwiZHJhZ0hhbmRsZSQxIiwiYWx3YXlzIiwiZHJvcEFuaW1hdGluZyIsInVzZXJDYW5jZWwiLCJnZXRIZWFkIiwiaGVhZCIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGVTdHlsZUVsIiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJnZXRXaW5kb3dGcm9tRWwiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJpc0h0bWxFbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJmaW5kRHJhZ0hhbmRsZSIsInBvc3NpYmxlIiwicXVlcnlTZWxlY3RvckFsbCIsImhhbmRsZSIsImdldEF0dHJpYnV0ZSIsImNyZWF0ZVJlZ2lzdHJ5Iiwic3Vic2NyaWJlcnMiLCJjYiIsImZpbmREcmFnZ2FibGVCeUlkIiwiZmluZERyb3BwYWJsZUJ5SWQiLCJyZWdpc3RlciIsInVuaXF1ZUlkIiwidW5yZWdpc3RlciIsImdldERyYWdnYWJsZUJ5SWQiLCJmaW5kQnlJZCIsImdldERyb3BwYWJsZUJ5SWQiLCJjbGVhbiIsIlN0b3JlQ29udGV4dCIsImdldEJvZHlFbGVtZW50IiwiYm9keSIsInZpc3VhbGx5SGlkZGVuIiwib3ZlcmZsb3ciLCJnZXRJZCIsImNvdW50IiwiZGVmYXVsdHMiLCJzZXBhcmF0b3IiLCJ1c2VVbmlxdWVJZCIsInByZWZpeCIsIkFwcENvbnRleHQiLCJ1c2VEZXYiLCJ1c2VIb29rIiwidXNlRGV2U2V0dXBXYXJuaW5nIiwidXNlUHJldmlvdXMiLCJfcHJldmVudGVkS2V5cyIsInNwYWNlIiwiYXJyb3dMZWZ0IiwiYXJyb3dVcCIsImFycm93UmlnaHQiLCJhcnJvd0Rvd24iLCJwcmV2ZW50ZWRLZXlzIiwicHJldmVudFN0YW5kYXJkS2V5RXZlbnRzIiwia2V5Q29kZSIsInN1cHBvcnRlZEV2ZW50TmFtZSIsInByaW1hcnlCdXR0b24iLCJzbG9wcHlDbGlja1RocmVzaG9sZCIsIl9zY3JvbGxKdW1wS2V5cyIsImlkbGUkMSIsImdldENhcHR1cmVCaW5kaW5ncyIsImdldFBoYXNlIiwic2V0UGhhc2UiLCJidXR0b24iLCJjbGllbnRYIiwiY2xpZW50WSIsImFjdGlvbnMiLCJpc1Nsb3BweUNsaWNrVGhyZXNob2xkRXhjZWVkZWQiLCJhYnMiLCJmbHVpZExpZnQiLCJzaG91bGRCbG9ja05leHRDbGljayIsInNob3VsZFJlc3BlY3RGb3JjZVByZXNzIiwidXNlTW91c2VTZW5zb3IiLCJhcGkiLCJwaGFzZVJlZiIsInVuYmluZEV2ZW50c1JlZiIsInN0YXJ0Q2FwdHVyZUJpbmRpbmciLCJvbk1vdXNlRG93biIsImRlZmF1bHRQcmV2ZW50ZWQiLCJjdHJsS2V5IiwibWV0YUtleSIsInNoaWZ0S2V5IiwiYWx0S2V5IiwiZmluZENsb3Nlc3REcmFnZ2FibGVJZCIsInRyeUdldExvY2siLCJzb3VyY2VFdmVudCIsInN0YXJ0UGVuZGluZ0RyYWciLCJwcmV2ZW50Rm9yY2VQcmVzc0JpbmRpbmciLCJmaW5kT3B0aW9uc0ZvckRyYWdnYWJsZSIsImNhbkdldExvY2siLCJsaXN0ZW5Gb3JDYXB0dXJlIiwiYmluZENhcHR1cmluZ0V2ZW50cyIsIm1vdW50IiwidW5tb3VudCIsIm5vb3AkMSIsInNjcm9sbEp1bXBLZXlzIiwiZ2V0RHJhZ2dpbmdCaW5kaW5ncyIsInVzZUtleWJvYXJkU2Vuc29yIiwib25LZXlEb3duIiwicHJlRHJhZyIsImlzQ2FwdHVyaW5nIiwic25hcExpZnQiLCJ0cnlTdGFydENhcHR1cmUiLCJpZGxlJDIiLCJ0aW1lRm9yTG9uZ1ByZXNzIiwiZm9yY2VQcmVzc1RocmVzaG9sZCIsInVzZVRvdWNoU2Vuc29yIiwib25Ub3VjaFN0YXJ0IiwidG91Y2giLCJ0b3VjaGVzIiwibG9uZ1ByZXNzVGltZXJJZCIsInVuYmluZFRhcmdldCIsImdldEhhbmRsZUJpbmRpbmdzIiwiaGFzTW92ZWQiLCJfZXZlbnQkdG91Y2hlcyQiLCJmb3JjZSIsInNob3VsZFJlc3BlY3QiLCJ1bmJpbmRXaW5kb3ciLCJnZXRXaW5kb3dCaW5kaW5ncyIsInN0YXJ0RHJhZ2dpbmciLCJ3ZWJraXRIYWNrIiwiaW50ZXJhY3RpdmVUYWdOYW1lcyIsImlucHV0IiwidGV4dGFyZWEiLCJzZWxlY3QiLCJvcHRpb24iLCJvcHRncm91cCIsInZpZGVvIiwiYXVkaW8iLCJpc0FuSW50ZXJhY3RpdmVFbGVtZW50IiwicGFyZW50IiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwicGFyZW50RWxlbWVudCIsImlzRXZlbnRJbkludGVyYWN0aXZlRWxlbWVudCIsImdldEJvcmRlckJveENlbnRlclBvc2l0aW9uIiwic3VwcG9ydGVkTWF0Y2hlc05hbWUiLCJFbGVtZW50IiwiY2xvc2VzdFBvbnlmaWxsIiwiY2xvc2VzdCQxIiwiZmluZENsb3Nlc3REcmFnSGFuZGxlRnJvbUV2ZW50IiwiaXNFbGVtZW50IiwiX2lzQWN0aXZlIiwiZXhwZWN0ZWQiLCJpc0xvY2tBY3RpdmUiLCJzaG91bGRXYXJuIiwiY2FuU3RhcnQiLCJsb2NrQVBJIiwiaXNDbGFpbWVkIiwidHJ5U3RhcnQiLCJmb3JjZVNlbnNvclN0b3AiLCJmaW5kRHJhZ2dhYmxlIiwiZHJhZ2dhYmxlJDEiLCJjYW5EcmFnSW50ZXJhY3RpdmVFbGVtZW50cyIsImxvY2siLCJjbGFpbSIsImdldFNob3VsZFJlc3BlY3RGb3JjZVByZXNzIiwidHJ5RGlzcGF0Y2hXaGVuRHJhZ2dpbmciLCJ0cnlEaXNwYXRjaCIsImdldEFjdGlvbiIsInJlbGVhc2UiLCJjbGVhbnVwIiwibGlmdEFjdGlvbkFyZ3MiLCJtb3ZlJDEiLCJtb3ZlVXAkMSIsIm1vdmVSaWdodCQxIiwibW92ZURvd24kMSIsIm1vdmVMZWZ0JDEiLCJhYm9ydFByZURyYWciLCJkZWZhdWx0U2Vuc29ycyIsInVzZVNlbnNvck1hcnNoYWwiLCJfcmVmNCIsImN1c3RvbVNlbnNvcnMiLCJlbmFibGVEZWZhdWx0U2Vuc29ycyIsInVzZVNlbnNvcnMiLCJhYmFuZG9uIiwibmV3TG9jayIsInRyeUFiYW5kb24iLCJ0cnlBYmFuZG9uTG9jayIsImxpc3RlblRvU3RvcmUiLCJmb3JjZVN0b3AiLCJ0cnlHZXRDbG9zZXN0RHJhZ2dhYmxlSWRGcm9tRXZlbnQiLCJ0cnlSZWxlYXNlTG9jayIsImlzTG9ja0NsYWltZWQiLCJ1c2VWYWxpZGF0ZVNlbnNvckhvb2tzIiwic2Vuc29ySG9va3MiLCJjcmVhdGVSZXNwb25kZXJzIiwiZ2V0U3RvcmUiLCJsYXp5UmVmIiwiQXBwIiwic2Vuc29ycyIsImxhenlTdG9yZVJlZiIsInVzZVN0YXJ0dXBWYWxpZGF0aW9uIiwibGFzdFByb3BzUmVmIiwidXNlQW5ub3VuY2VyIiwic2V0dXAiLCJzdHlsZSIsImFwcGVuZENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJ0ZXh0Q29udGVudCIsImRyYWdIYW5kbGVVc2FnZUluc3RydWN0aW9uc0lkIiwidXNlSGlkZGVuVGV4dEVsZW1lbnQiLCJ0ZXh0IiwiZ2V0RWxlbWVudElkIiwiZGlzcGxheSIsInVzZVN0eWxlTWFyc2hhbCIsImFsd2F5c1JlZiIsImR5bmFtaWNSZWYiLCJzZXREeW5hbWljU3R5bGUiLCJzZXRBbHdheXNTdHlsZSIsImR5bmFtaWMiLCJsYXp5RGlzcGF0Y2giLCJtYXJzaGFsQ2FsbGJhY2tzIiwidXNlUmVnaXN0cnkiLCJ1c2VGb2N1c01hcnNoYWwiLCJlbnRyaWVzUmVmIiwicmVjb3JkUmVmIiwicmVzdG9yZUZvY3VzRnJhbWVSZWYiLCJpc01vdW50ZWRSZWYiLCJmb2N1cyIsInRyeUdpdmVGb2N1cyIsInRyeUdpdmVGb2N1c1RvIiwiYWN0aXZlRWxlbWVudCIsInJlZGlyZWN0VG8iLCJyZWNvcmQiLCJmb2N1c2VkIiwiY2xlYXJGcmFtZU9uVW5tb3VudCIsInRyeVJlc2V0U3RvcmUiLCJnZXRDYW5MaWZ0IiwiZ2V0SXNNb3ZlbWVudEFsbG93ZWQiLCJhcHBDb250ZXh0IiwiY2FuTGlmdCIsImNvdW50JDEiLCJyZXNldFNlcnZlckNvbnRleHQiLCJyZXNldCQxIiwiRHJhZ0Ryb3BDb250ZXh0IiwidXNlSW5zdGFuY2VDb3VudCIsImlzRXF1YWwkMSIsImlzU2Nyb2xsIiwiaXNBdXRvIiwiaXNFaXRoZXIiLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJpc0VsZW1lbnRTY3JvbGxhYmxlIiwiZ2V0Q2xvc2VzdFNjcm9sbGFibGUiLCJnZXRTY3JvbGwkMSIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJnZXRJc0ZpeGVkIiwiZ2V0RW52IiwiY2xvc2VzdFNjcm9sbGFibGUiLCJlbnYiLCJpc0Ryb3BEaXNhYmxlZCIsImdldENsaWVudCIsInRhcmdldFJlZiIsImZyYW1lQ2xpZW50Iiwic2Nyb2xsU2l6ZSIsImdldERyb3BwYWJsZURpbWVuc2lvbiIsImltbWVkaWF0ZSIsImRlbGF5ZWQiLCJnZXRMaXN0ZW5lck9wdGlvbnMiLCJ1c2VSZXF1aXJlZENvbnRleHQiLCJnZXRDbG9zZXN0U2Nyb2xsYWJsZUZyb21EcmFnIiwibm9vcCQyIiwiZW1wdHkiLCJnZXRTdHlsZSIsImlzQW5pbWF0aW5nT3Blbk9uTW91bnQiLCJhbmltYXRlIiwiZ2V0U2l6ZSIsImJveFNpemluZyIsImZsZXhTaHJpbmsiLCJmbGV4R3JvdyIsInBvaW50ZXJFdmVudHMiLCJQbGFjZWhvbGRlciQxIiwiUGxhY2Vob2xkZXIiLCJhbmltYXRlT3BlblRpbWVyUmVmIiwidHJ5Q2xlYXJBbmltYXRlT3BlblRpbWVyIiwib25UcmFuc2l0aW9uRW5kIiwib25DbG9zZSIsIl91c2VTdGF0ZSIsInNldElzQW5pbWF0aW5nT3Blbk9uTW91bnQiLCJvblNpemVDaGFuZ2VFbmQiLCJwcm9wZXJ0eU5hbWUiLCJpbm5lclJlZiIsIkRyb3BwYWJsZUNvbnRleHQiLCJBbmltYXRlSW5PdXQiLCJfUmVhY3QkUHVyZUNvbXBvbmVudCIsIm9uIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwicHJvdmlkZWQiLCJ6SW5kZXhPcHRpb25zIiwiZ2V0RHJhZ2dpbmdUcmFuc2l0aW9uIiwic2hvdWxkQW5pbWF0ZURyYWdNb3ZlbWVudCIsImdldERyYWdnaW5nT3BhY2l0eSIsImlzRHJvcEFuaW1hdGluZyIsImdldFNob3VsZERyYWdnaW5nQW5pbWF0ZSIsImdldFN0eWxlJDEiLCJtYXBwZWQiLCJnZXREcmFnZ2luZ1N0eWxlIiwidHJhbnNmb3JtIiwib3BhY2l0eSIsInpJbmRleCIsImdldFNlY29uZGFyeVN0eWxlIiwic2Vjb25kYXJ5Iiwic2hvdWxkQW5pbWF0ZURpc3BsYWNlbWVudCIsInVzZURyYWdnYWJsZVB1Ymxpc2hlciIsImdldERyYWdnYWJsZVJlZiIsImdldERpbWVuc2lvbiQxIiwiY29tcHV0ZWRTdHlsZXMiLCJwdWJsaXNoZWRSZWYiLCJpc0ZpcnN0UHVibGlzaFJlZiIsInVzZVZhbGlkYXRpb24kMSIsImdldFJlZiIsInByZXZlbnRIdG1sNURuZCIsImlzU3RyaWN0RXF1YWwiLCJ3aGF0SXNEcmFnZ2VkT3ZlckZyb21SZXN1bHQiLCJnZXRTZWNvbmRhcnlTbmFwc2hvdCIsImNvbWJpbmVUYXJnZXRGb3IiLCJpc0Nsb25lIiwiZHJvcEFuaW1hdGlvbiIsImRyYWdnaW5nT3ZlciIsImF0UmVzdCIsInNuYXBzaG90IiwiQ29ubmVjdGVkRHJhZ2dhYmxlIiwibWFrZU1hcFN0YXRlVG9Qcm9wcyIsImRyYWdnaW5nU2VsZWN0b3IiLCJnZXREcmFnZ2FibGVTZWxlY3RvciIsIm1lbW9pemVkT2Zmc2V0IiwiZ2V0TWVtb2l6ZWRTbmFwc2hvdCIsImdldE1lbW9pemVkUHJvcHMiLCJnZXRDb21iaW5lV2l0aEZyb21JbXBhY3QiLCJfZHJhZ2dpbmdPdmVyIiwiX2NvbWJpbmVXaXRoIiwiZ2V0Q29tYmluZVdpdGhGcm9tUmVzdWx0IiwiY3VydmUiLCJzY2FsZSIsInNlY29uZGFyeVNlbGVjdG9yIiwiZ2V0U2Vjb25kYXJ5U2VsZWN0b3IiLCJnZXRGYWxsYmFjayIsImdldFByb3BzIiwib3duSWQiLCJkcmFnZ2luZ0lkIiwidmlzdWFsRGlzcGxhY2VtZW50IiwiaXNBZnRlckNyaXRpY2FsSW5WaXJ0dWFsTGlzdCIsIl9vZmZzZXQiLCJEcmFnZ2FibGUiLCJzZXRSZWYiLCJfdXNlUmVxdWlyZWRDb250ZXh0IiwiX3VzZVJlcXVpcmVkQ29udGV4dDIiLCJkcm9wQW5pbWF0aW9uRmluaXNoZWRBY3Rpb24iLCJ1c2VDbG9uZVByb3BWYWxpZGF0aW9uIiwiZHJhZ0hhbmRsZVByb3BzIiwidGFiSW5kZXgiLCJyb2xlIiwib25Nb3ZlRW5kIiwiZHJhZ2dhYmxlUHJvcHMiLCJydWJyaWMiLCJQcml2YXRlRHJhZ2dhYmxlIiwiaXNVc2luZ0Nsb25lRm9yIiwiUHVibGljRHJhZ2dhYmxlIiwiaXNEcmFnRGlzYWJsZWQiLCJkaXNhYmxlSW50ZXJhY3RpdmVFbGVtZW50QmxvY2tpbmciLCJpc01hdGNoaW5nVHlwZSIsImdldERyYWdnYWJsZSIsImRlZmF1bHRQcm9wcyIsImlnbm9yZUNvbnRhaW5lckNsaXBwaW5nIiwicmVuZGVyQ2xvbmUiLCJnZXRDb250YWluZXJGb3JDbG9uZSIsImdldEJvZHkiLCJDb25uZWN0ZWREcm9wcGFibGUiLCJpZGxlV2l0aEFuaW1hdGlvbiIsInNob3VsZEFuaW1hdGVQbGFjZWhvbGRlciIsImlzRHJhZ2dpbmdPdmVyIiwiZHJhZ2dpbmdPdmVyV2l0aCIsImRyYWdnaW5nRnJvbVRoaXNXaXRoIiwiaXNVc2luZ1BsYWNlaG9sZGVyIiwidXNlQ2xvbmUiLCJpZGxlV2l0aG91dEFuaW1hdGlvbiIsImdldERyYWdnYWJsZVJ1YnJpYyIsImdldE1hcFByb3BzIiwiaXNEcmFnZ2luZ092ZXJGb3JDb25zdW1lciIsImlzRHJhZ2dpbmdPdmVyRm9ySW1wYWN0IiwiX3NuYXBzaG90IiwiX2NvbXBsZXRlZCIsIndhc0NvbWJpbmluZyIsImlzSG9tZSIsInVwZGF0ZVZpZXdwb3J0TWF4U2Nyb2xsIiwiRHJvcHBhYmxlIiwiZHJvcHBhYmxlUmVmIiwicGxhY2Vob2xkZXJSZWYiLCJnZXREcm9wcGFibGVSZWYiLCJzZXREcm9wcGFibGVSZWYiLCJzZXRQbGFjZWhvbGRlclJlZiIsInVzZVZhbGlkYXRpb24iLCJvblBsYWNlaG9sZGVyVHJhbnNpdGlvbkVuZCIsInVzZURyb3BwYWJsZVB1Ymxpc2hlciIsIndoaWxlRHJhZ2dpbmdSZWYiLCJwcmV2aW91c1JlZiIsInB1Ymxpc2hlZERlc2NyaXB0b3JSZWYiLCJtZW1vaXplZFVwZGF0ZVNjcm9sbCIsImdldENsb3Nlc3RTY3JvbGwiLCJzY2hlZHVsZVNjcm9sbFVwZGF0ZSIsIm9uQ2xvc2VzdFNjcm9sbCIsInJlbW92ZUF0dHJpYnV0ZSIsImRyb3BwYWJsZVByb3BzIiwiZHJvcHBhYmxlQ29udGV4dCIsImdldENsb25lIiwibm9kZSIsImRyYWdnYWJsZVByb3ZpZGVkIiwiZHJhZ2dhYmxlU25hcHNob3QiLCJyZWFjdElzIiwiUkVBQ1RfU1RBVElDUyIsImNoaWxkQ29udGV4dFR5cGVzIiwiY29udGV4dFR5cGUiLCJjb250ZXh0VHlwZXMiLCJnZXREZWZhdWx0UHJvcHMiLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJtaXhpbnMiLCJwcm9wVHlwZXMiLCJLTk9XTl9TVEFUSUNTIiwiY2FsbGVyIiwiY2FsbGVlIiwiYXJpdHkiLCJNRU1PX1NUQVRJQ1MiLCJjb21wYXJlIiwiVFlQRV9TVEFUSUNTIiwiZ2V0U3RhdGljcyIsImNvbXBvbmVudCIsImlzTWVtbyIsIkZvcndhcmRSZWYiLCJNZW1vIiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwib2JqZWN0UHJvdG90eXBlIiwiaG9pc3ROb25SZWFjdFN0YXRpY3MiLCJ0YXJnZXRDb21wb25lbnQiLCJzb3VyY2VDb21wb25lbnQiLCJibGFja2xpc3QiLCJpbmhlcml0ZWRDb21wb25lbnQiLCJ0YXJnZXRTdGF0aWNzIiwic291cmNlU3RhdGljcyIsIlJlYWN0UHJvcFR5cGVzU2VjcmV0IiwiZW1wdHlGdW5jdGlvbiIsImVtcHR5RnVuY3Rpb25XaXRoUmVzZXQiLCJyZXNldFdhcm5pbmdDYWNoZSIsInNoaW0iLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJwcm9wRnVsbE5hbWUiLCJzZWNyZXQiLCJnZXRTaGltIiwiaXNSZXF1aXJlZCIsIlJlYWN0UHJvcFR5cGVzIiwiYm9vbCIsIm51bWJlciIsInN0cmluZyIsInN5bWJvbCIsImFueSIsImFycmF5T2YiLCJlbGVtZW50IiwiZWxlbWVudFR5cGUiLCJpbnN0YW5jZU9mIiwib2JqZWN0T2YiLCJvbmVPZiIsIm9uZU9mVHlwZSIsInNoYXBlIiwiZXhhY3QiLCJjaGVja1Byb3BUeXBlcyIsIlByb3BUeXBlcyIsImZvciIsImMiLCJmIiwiZyIsImgiLCJrIiwibCIsIm0iLCJuIiwicSIsInIiLCJ0IiwidiIsInciLCJ6IiwidSIsIiQkdHlwZW9mIiwiQSIsInR5cGVPZiIsIkFzeW5jTW9kZSIsIkNvbmN1cnJlbnRNb2RlIiwiQ29udGV4dENvbnN1bWVyIiwiQ29udGV4dFByb3ZpZGVyIiwiRnJhZ21lbnQiLCJMYXp5IiwiUG9ydGFsIiwiUHJvZmlsZXIiLCJTdHJpY3RNb2RlIiwiU3VzcGVuc2UiLCJpc1ZhbGlkRWxlbWVudFR5cGUiLCJpc0FzeW5jTW9kZSIsImlzQ29uY3VycmVudE1vZGUiLCJpc0NvbnRleHRQcm92aWRlciIsImlzRm9yd2FyZFJlZiIsImlzRnJhZ21lbnQiLCJpc0xhenkiLCJpc1BvcnRhbCIsImlzUHJvZmlsZXIiLCJpc1N0cmljdE1vZGUiLCJpc1N1c3BlbnNlIiwiY2FuVXNlRE9NIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsImRlZmF1bHROb2RlIiwicmVuZGVyUG9ydGFsIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicG9ydGFsIiwiTGVnYWN5UG9ydGFsIiwiS0VZQ09ERVMiLCJQb3J0YWxXaXRoU3RhdGUiLCJwb3J0YWxOb2RlIiwiZGVmYXVsdE9wZW4iLCJvcGVuUG9ydGFsIiwiY2xvc2VQb3J0YWwiLCJ3cmFwV2l0aFBvcnRhbCIsImhhbmRsZU91dHNpZGVNb3VzZUNsaWNrIiwiaGFuZGxlS2V5ZG93biIsImNsb3NlT25Fc2MiLCJjbG9zZU9uT3V0c2lkZUNsaWNrIiwibmF0aXZlRXZlbnQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJvbk9wZW4iLCJfdGhpczIiLCJpc09wZW4iXSwic291cmNlUm9vdCI6IiJ9