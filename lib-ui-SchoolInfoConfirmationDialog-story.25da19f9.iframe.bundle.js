"use strict";(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[751],{"./src/lib/ui/SchoolInfoConfirmationDialog.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.styles=exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireWildcard(__webpack_require__("./node_modules/react/index.js")),_fontConstants=_interopRequireDefault(__webpack_require__("./src/fontConstants.js")),_Button=_interopRequireDefault(__webpack_require__("./src/legacySharedComponents/Button.jsx")),_AnalyticsConstants=__webpack_require__("./src/lib/util/AnalyticsConstants.js"),_AnalyticsReporter=_interopRequireDefault(__webpack_require__("./src/lib/util/AnalyticsReporter.js")),_Dialog=_interopRequireWildcard(__webpack_require__("./src/templates/Dialog.jsx")),_color=_interopRequireDefault(__webpack_require__("./src/util/color.js")),_locale=_interopRequireDefault(__webpack_require__("./src/util/locale-do-not-import.js")),_redux=__webpack_require__("./src/redux.js"),_SchoolInfoInterstitial=_interopRequireDefault(__webpack_require__("./src/lib/ui/SchoolInfoInterstitial.jsx"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(obj,key,value){return(key=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var styles=exports.styles={button:{marginTop:20,marginLeft:"50%"},buttonRTL:{marginTop:20,marginRight:"50%"},updateButton:{marginTop:20,marginLeft:5},updateButtonRTL:{marginTop:20,marginRight:5},intro:_objectSpread(_objectSpread({fontSize:18},_fontConstants.default["main-font-semi-bold"]),{},{color:_color.default.charcoal,paddingRight:20}),schoolName:{color:_color.default.purple,fontStyle:"italic"},body:{margin:10}},SchoolInfoConfirmationDialog=function(_Component){function SchoolInfoConfirmationDialog(props){var _this;return _defineProperty(_this=_Component.call(this,props)||this,"closeModal",(function(){_AnalyticsReporter.default.sendEvent(_AnalyticsConstants.EVENTS.UPDATE_SCHOOL_INFO_DIALOG_CLOSED,{},_AnalyticsConstants.PLATFORMS.BOTH),_this.setState({isOpen:!1}),_this.props.onClose()})),_defineProperty(_this,"handleClickYes",(function(){_AnalyticsReporter.default.sendEvent(_AnalyticsConstants.EVENTS.CONFIRM_SCHOOL_CLICKED,{},_AnalyticsConstants.PLATFORMS.BOTH);var _this$props$scriptDat=_this.props.scriptData,authTokenName=_this$props$scriptDat.authTokenName,authTokenValue=_this$props$scriptDat.authTokenValue,formData=new FormData;formData.append(authTokenName,authTokenValue),fetch("/api/v1/user_school_infos/".concat(_this.props.scriptData.existingSchoolInfo.user_school_info_id,"/update_last_confirmation_date"),{method:"PATCH",body:formData}).then(_this.closeModal).catch((function(error){_this.setState({error})}))})),_defineProperty(_this,"handleClickUpdate",(function(){_AnalyticsReporter.default.sendEvent(_AnalyticsConstants.EVENTS.UPDATE_SCHOOL_CLICKED,{},_AnalyticsConstants.PLATFORMS.BOTH),_this.setState({showSchoolInterstitial:!0})})),_defineProperty(_this,"renderInitialContent",(function(){var _getStore$getState;_AnalyticsReporter.default.sendEvent(_AnalyticsConstants.EVENTS.UPDATE_SCHOOL_INFO_DIALOG_SHOWN,{},_AnalyticsConstants.PLATFORMS.BOTH);var schoolName=_this.state.schoolName,isRTL=null===(_getStore$getState=(0,_redux.getStore)().getState())||void 0===_getStore$getState?void 0:_getStore$getState.isRtl;return _react.default.createElement(_Dialog.Body,null,_react.default.createElement("div",{style:styles.body},_react.default.createElement("p",{style:styles.intro},_locale.default.schoolInfoDialogDescription(),_react.default.createElement("span",{style:styles.schoolName},_locale.default.schoolInfoDialogDescriptionSchoolName({schoolName})))),_react.default.createElement(_Button.default,{style:isRTL?styles.updateButtonRTL:styles.updateButton,text:_locale.default.schoolInfoDialogUpdate(),color:_Button.default.ButtonColor.blue,onClick:_this.handleClickUpdate,id:"update-button"}),_react.default.createElement(_Button.default,{style:isRTL?styles.buttonRTL:styles.button,text:_locale.default.yes(),color:_Button.default.ButtonColor.brandSecondaryDefault,onClick:_this.handleClickYes,id:"yes-button"}))})),_this.state={showSchoolInterstitial:!1,schoolName:props.scriptData.existingSchoolInfo.school_name,isOpen:props.isOpen||!0},_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(SchoolInfoConfirmationDialog,_Component);var _proto=SchoolInfoConfirmationDialog.prototype;return _proto.renderSchoolInformationForm=function renderSchoolInformationForm(){return _react.default.createElement(_Dialog.Body,null,_react.default.createElement(_SchoolInfoInterstitial.default,{scriptData:this.props.scriptData,onClose:this.closeModal}))},_proto.render=function render(){var _this$state=this.state,showSchoolInterstitial=_this$state.showSchoolInterstitial,isOpen=_this$state.isOpen;return _react.default.createElement(_Dialog.default,{isOpen,handleClose:this.closeModal},showSchoolInterstitial?this.renderSchoolInformationForm():this.renderInitialContent())},SchoolInfoConfirmationDialog}(_react.Component);_defineProperty(SchoolInfoConfirmationDialog,"propTypes",{schoolName:_propTypes.default.string,scriptData:_propTypes.default.shape({formUrl:_propTypes.default.string.isRequired,authTokenName:_propTypes.default.string.isRequired,authTokenValue:_propTypes.default.string.isRequired,existingSchoolInfo:_propTypes.default.shape({id:_propTypes.default.number,user_school_info_id:_propTypes.default.number,school_id:_propTypes.default.string,country:_propTypes.default.string,school_type:_propTypes.default.string,school_name:_propTypes.default.string,full_address:_propTypes.default.string}).isRequired}).isRequired,onClose:_propTypes.default.func,isOpen:_propTypes.default.bool});exports.default=SchoolInfoConfirmationDialog},"./src/redux.js":(module,exports,__webpack_require__)=>{function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStore=function getStore(){reduxStore||(reduxStore=createStoreWithReducers(),_experiments.default.isEnabled("reduxGlobalStore")&&(window.reduxStore=reduxStore));return reduxStore},exports.hasReducer=function hasReducer(key){return!!globalReducers[key]},exports.registerReducers=function registerReducers(reducers){for(var key in reducers){var existingReducer=globalReducers[key];if(existingReducer&&existingReducer!==reducers[key])throw new Error('reducer with key "'.concat(key,'" already registered!'))}Object.assign(globalReducers,reducers),reduxStore&&reduxStore.replaceReducer(redux.combineReducers(globalReducers))};var reduxStore,_toolkit=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),redux=(_interopRequireDefault(__webpack_require__("./node_modules/immutable/dist/immutable.js")),function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./node_modules/redux/es/redux.js"))),_reduxThunk=_interopRequireDefault(__webpack_require__("./node_modules/redux-thunk/lib/index.js")),_experiments=_interopRequireDefault(__webpack_require__("./src/util/experiments.js"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var globalReducers={};function createStoreWithReducers(){return function createStore(reducer,initialState){_experiments.default.isEnabled(_experiments.default.REDUX_LOGGING);0;return(0,_toolkit.configureStore)({reducer,preloadedState:initialState,middleware:[_reduxThunk.default],devTools:!1})}(Object.keys(globalReducers).length>0?globalReducers:function(s){return s})}module.exports.createStoreWithReducers=createStoreWithReducers},"./node_modules/redux-thunk/lib/index.js":(__unused_webpack_module,exports)=>{function createThunkMiddleware(extraArgument){return function(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(action){return"function"==typeof action?action(dispatch,getState,extraArgument):next(action)}}}}exports.__esModule=!0;var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware,exports.default=thunk},"./src/lib/ui/SchoolInfoConfirmationDialog.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.DisplaySchoolInfoConfirmationDialog=void 0;var _addonActions=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.js"),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_SchoolInfoConfirmationDialog=_interopRequireDefault(__webpack_require__("./src/lib/ui/SchoolInfoConfirmationDialog.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default={component:_SchoolInfoConfirmationDialog.default};(exports.DisplaySchoolInfoConfirmationDialog=function Template(args){return _react.default.createElement(_SchoolInfoConfirmationDialog.default,args)}.bind({})).args={scriptData:{formUrl:"",authTokenName:"auth_token",authTokenValue:"fake_auth_token",existingSchoolInfo:{}},onClose:(0,_addonActions.action)("onClose callback"),isOpen:!0}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGliLXVpLVNjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2ctc3RvcnkuZWFkODAxMGYuaWZyYW1lLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiaVNBQUEsSUFBQUEsV0FBQUMsdUJBQUFDLG9CQUFBLHVDQUNBQyxPQUFBQyx3QkFBQUYsb0JBQUEsa0NBRUFHLGVBQUFKLHVCQUFBQyxvQkFBQSwyQkFDQUksUUFBQUwsdUJBQUFDLG9CQUFBLDRDQUNBSyxvQkFBQUwsb0JBQUEsd0NBQ0FNLG1CQUFBUCx1QkFBQUMsb0JBQUEsd0NBQ0FPLFFBQUFMLHdCQUFBRixvQkFBQSwrQkFDQVEsT0FBQVQsdUJBQUFDLG9CQUFBLHdCQUNBUyxRQUFBVix1QkFBQUMsb0JBQUEsdUNBRUFVLE9BQUFWLG9CQUFBLGtCQUVBVyx3QkFBQVosdUJBQUFDLG9CQUFBLDRDQUE4RCxTQUFBWSx5QkFBQUMsR0FBQSxzQkFBQUMsUUFBQSxnQkFBQUMsRUFBQSxJQUFBRCxRQUFBRSxFQUFBLElBQUFGLFFBQUEsT0FBQUYseUJBQUEsU0FBQUEseUJBQUFDLEdBQUEsT0FBQUEsRUFBQUcsRUFBQUQsQ0FBQSxHQUFBRixFQUFBLFVBQUFYLHdCQUFBVyxFQUFBRSxHQUFBLElBQUFBLEdBQUFGLEdBQUFBLEVBQUFJLFdBQUEsT0FBQUosRUFBQSxVQUFBQSxHQUFBLFVBQUFLLFFBQUFMLElBQUEsbUJBQUFBLEVBQUEsZUFBQUEsR0FBQSxJQUFBRyxFQUFBSix5QkFBQUcsR0FBQSxHQUFBQyxHQUFBQSxFQUFBRyxJQUFBTixHQUFBLE9BQUFHLEVBQUFJLElBQUFQLEdBQUEsSUFBQVEsRUFBQSxDQUFBQyxVQUFBLE1BQUFDLEVBQUFDLE9BQUFDLGdCQUFBRCxPQUFBRSx5QkFBQSxRQUFBQyxLQUFBZCxFQUFBLGVBQUFjLEdBQUEsR0FBQUMsZUFBQUMsS0FBQWhCLEVBQUFjLEdBQUEsS0FBQUcsRUFBQVAsRUFBQUMsT0FBQUUseUJBQUFiLEVBQUFjLEdBQUEsS0FBQUcsSUFBQUEsRUFBQVYsS0FBQVUsRUFB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RzdCRyxLQUFLQyxPQUNkLENBQ0YsQ0FDRixDQUNGLENBZkF0SSxRQUFRbEQsWUFBYSxFQWlCckIsSUFBSXlMLE1BQVFOLHdCQUNaTSxNQUFNQyxrQkFBb0JQLHNCQUUxQmpJLFFBQUEsUUFBcUJ1SSxLLDBPQ3RCckIsSUFBQUUsY0FBQTVNLG9CQUFBLHlEQUNBQyxPQUFBRix1QkFBQUMsb0JBQUEsa0NBRUE2TSw4QkFBQTlNLHVCQUFBQyxvQkFBQSxrREFBMEUsU0FBQUQsdUJBQUFpQyxLQUFBLE9BQUFBLEtBQUFBLElBQUFmLFdBQUFlLElBQUEsU0FBQUEsSUFBQSxDQUFBbUMsUUFBQUEsUUFFM0QsQ0FDYjJJLFVBQVd4SCw4QkFBQUEsVUFhbUNuQixRQUFBQSxvQ0FOL0IsU0FBWDRJLFNBQVdDLE1BQUksT0FBSS9NLE9BQUEsUUFBQTJILGNBQUNpRiw4QkFBQSxRQUFpQ0csS0FBUSxFQU1QdkssS0FBSyxDQUFDLElBQzlCdUssS0FBTyxDQUN6QzNHLFdBQVksQ0FDVndELFFBQVMsR0FDVHZELGNBQWUsYUFDZkMsZUFBZ0Isa0JBQ2hCTSxtQkFBb0IsQ0FBQyxHQUV2QlgsU0FBUyxFQUFBdUcsY0FBQUEsUUFBTyxvQkFDaEJ4RyxRQUFRLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvbGliL3VpL1NjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2cuanN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9yZWR1eC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcmVkdXgtdGh1bmsvbGliL2luZGV4LmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9saWIvdWkvU2Nob29sSW5mb0NvbmZpcm1hdGlvbkRpYWxvZy5zdG9yeS5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCwge0NvbXBvbmVudH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgZm9udENvbnN0YW50cyBmcm9tICdAY2RvL2FwcHMvZm9udENvbnN0YW50cyc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BjZG8vYXBwcy9sZWdhY3lTaGFyZWRDb21wb25lbnRzL0J1dHRvbic7XG5pbXBvcnQge0VWRU5UUywgUExBVEZPUk1TfSBmcm9tICdAY2RvL2FwcHMvbGliL3V0aWwvQW5hbHl0aWNzQ29uc3RhbnRzJztcbmltcG9ydCBhbmFseXRpY3NSZXBvcnRlciBmcm9tICdAY2RvL2FwcHMvbGliL3V0aWwvQW5hbHl0aWNzUmVwb3J0ZXInO1xuaW1wb3J0IERpYWxvZywge0JvZHl9IGZyb20gJ0BjZG8vYXBwcy90ZW1wbGF0ZXMvRGlhbG9nJztcbmltcG9ydCBjb2xvciBmcm9tICdAY2RvL2FwcHMvdXRpbC9jb2xvcic7XG5pbXBvcnQgaTE4biBmcm9tICdAY2RvL2xvY2FsZSc7XG5cbmltcG9ydCB7Z2V0U3RvcmV9IGZyb20gJy4uLy4uL3JlZHV4JztcblxuaW1wb3J0IFNjaG9vbEluZm9JbnRlcnN0aXRpYWwgZnJvbSAnLi9TY2hvb2xJbmZvSW50ZXJzdGl0aWFsJztcblxuZXhwb3J0IGNvbnN0IHN0eWxlcyA9IHtcbiAgYnV0dG9uOiB7XG4gICAgbWFyZ2luVG9wOiAyMCxcbiAgICBtYXJnaW5MZWZ0OiAnNTAlJyxcbiAgfSxcbiAgYnV0dG9uUlRMOiB7XG4gICAgbWFyZ2luVG9wOiAyMCxcbiAgICBtYXJnaW5SaWdodDogJzUwJScsXG4gIH0sXG4gIHVwZGF0ZUJ1dHRvbjoge1xuICAgIG1hcmdpblRvcDogMjAsXG4gICAgbWFyZ2luTGVmdDogNSxcbiAgfSxcbiAgdXBkYXRlQnV0dG9uUlRMOiB7XG4gICAgbWFyZ2luVG9wOiAyMCxcbiAgICBtYXJnaW5SaWdodDogNSxcbiAgfSxcbiAgaW50cm86IHtcbiAgICBmb250U2l6ZTogMTgsXG4gICAgLi4uZm9udENvbnN0YW50c1snbWFpbi1mb250LXNlbWktYm9sZCddLFxuICAgIGNvbG9yOiBjb2xvci5jaGFyY29hbCxcbiAgICBwYWRkaW5nUmlnaHQ6IDIwLFxuICB9LFxuICBzY2hvb2xOYW1lOiB7XG4gICAgY29sb3I6IGNvbG9yLnB1cnBsZSxcbiAgICBmb250U3R5bGU6ICdpdGFsaWMnLFxuICB9LFxuICBib2R5OiB7XG4gICAgbWFyZ2luOiAxMCxcbiAgfSxcbn07XG5cbmNsYXNzIFNjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2cgZXh0ZW5kcyBDb21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIHNjaG9vbE5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc2NyaXB0RGF0YTogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGZvcm1Vcmw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgIGF1dGhUb2tlbk5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgIGF1dGhUb2tlblZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICBleGlzdGluZ1NjaG9vbEluZm86IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgIGlkOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgICB1c2VyX3NjaG9vbF9pbmZvX2lkOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgICAgICBzY2hvb2xfaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIGNvdW50cnk6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgIHNjaG9vbF90eXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICBzY2hvb2xfbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgZnVsbF9hZGRyZXNzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgfSkuaXNSZXF1aXJlZCxcbiAgICB9KS5pc1JlcXVpcmVkLFxuICAgIG9uQ2xvc2U6IFByb3BUeXBlcy5mdW5jLFxuICAgIGlzT3BlbjogUHJvcFR5cGVzLmJvb2wsXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNob3dTY2hvb2xJbnRlcnN0aXRpYWw6IGZhbHNlLFxuICAgICAgc2Nob29sTmFtZTogcHJvcHMuc2NyaXB0RGF0YS5leGlzdGluZ1NjaG9vbEluZm8uc2Nob29sX25hbWUsXG4gICAgICBpc09wZW46IHByb3BzLmlzT3BlbiB8fCB0cnVlLFxuICAgIH07XG4gIH1cblxuICBjbG9zZU1vZGFsID0gKCkgPT4ge1xuICAgIGFuYWx5dGljc1JlcG9ydGVyLnNlbmRFdmVudChcbiAgICAgIEVWRU5UUy5VUERBVEVfU0NIT09MX0lORk9fRElBTE9HX0NMT1NFRCxcbiAgICAgIHt9LFxuICAgICAgUExBVEZPUk1TLkJPVEhcbiAgICApO1xuICAgIHRoaXMuc2V0U3RhdGUoe2lzT3BlbjogZmFsc2V9KTtcbiAgICB0aGlzLnByb3BzLm9uQ2xvc2UoKTtcbiAgfTtcblxuICBoYW5kbGVDbGlja1llcyA9ICgpID0+IHtcbiAgICBhbmFseXRpY3NSZXBvcnRlci5zZW5kRXZlbnQoXG4gICAgICBFVkVOVFMuQ09ORklSTV9TQ0hPT0xfQ0xJQ0tFRCxcbiAgICAgIHt9LFxuICAgICAgUExBVEZPUk1TLkJPVEhcbiAgICApO1xuICAgIGNvbnN0IHthdXRoVG9rZW5OYW1lLCBhdXRoVG9rZW5WYWx1ZX0gPSB0aGlzLnByb3BzLnNjcmlwdERhdGE7XG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBmb3JtRGF0YS5hcHBlbmQoYXV0aFRva2VuTmFtZSwgYXV0aFRva2VuVmFsdWUpO1xuICAgIGZldGNoKFxuICAgICAgYC9hcGkvdjEvdXNlcl9zY2hvb2xfaW5mb3MvJHt0aGlzLnByb3BzLnNjcmlwdERhdGEuZXhpc3RpbmdTY2hvb2xJbmZvLnVzZXJfc2Nob29sX2luZm9faWR9L3VwZGF0ZV9sYXN0X2NvbmZpcm1hdGlvbl9kYXRlYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgIH1cbiAgICApXG4gICAgICAudGhlbih0aGlzLmNsb3NlTW9kYWwpXG4gICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtlcnJvcn0pO1xuICAgICAgfSk7XG4gIH07XG5cbiAgaGFuZGxlQ2xpY2tVcGRhdGUgPSAoKSA9PiB7XG4gICAgYW5hbHl0aWNzUmVwb3J0ZXIuc2VuZEV2ZW50KFxuICAgICAgRVZFTlRTLlVQREFURV9TQ0hPT0xfQ0xJQ0tFRCxcbiAgICAgIHt9LFxuICAgICAgUExBVEZPUk1TLkJPVEhcbiAgICApO1xuICAgIHRoaXMuc2V0U3RhdGUoe3Nob3dTY2hvb2xJbnRlcnN0aXRpYWw6IHRydWV9KTtcbiAgfTtcblxuICByZW5kZXJJbml0aWFsQ29udGVudCA9ICgpID0+IHtcbiAgICBhbmFseXRpY3NSZXBvcnRlci5zZW5kRXZlbnQoXG4gICAgICBFVkVOVFMuVVBEQVRFX1NDSE9PTF9JTkZPX0RJQUxPR19TSE9XTixcbiAgICAgIHt9LFxuICAgICAgUExBVEZPUk1TLkJPVEhcbiAgICApO1xuICAgIGNvbnN0IHtzY2hvb2xOYW1lfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgaXNSVEwgPSBnZXRTdG9yZSgpLmdldFN0YXRlKCk/LmlzUnRsO1xuICAgIHJldHVybiAoXG4gICAgICA8Qm9keT5cbiAgICAgICAgPGRpdiBzdHlsZT17c3R5bGVzLmJvZHl9PlxuICAgICAgICAgIDxwIHN0eWxlPXtzdHlsZXMuaW50cm99PlxuICAgICAgICAgICAge2kxOG4uc2Nob29sSW5mb0RpYWxvZ0Rlc2NyaXB0aW9uKCl9XG4gICAgICAgICAgICA8c3BhbiBzdHlsZT17c3R5bGVzLnNjaG9vbE5hbWV9PlxuICAgICAgICAgICAgICB7aTE4bi5zY2hvb2xJbmZvRGlhbG9nRGVzY3JpcHRpb25TY2hvb2xOYW1lKHtzY2hvb2xOYW1lfSl9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIHN0eWxlPXtpc1JUTCA/IHN0eWxlcy51cGRhdGVCdXR0b25SVEwgOiBzdHlsZXMudXBkYXRlQnV0dG9ufVxuICAgICAgICAgIHRleHQ9e2kxOG4uc2Nob29sSW5mb0RpYWxvZ1VwZGF0ZSgpfVxuICAgICAgICAgIGNvbG9yPXtCdXR0b24uQnV0dG9uQ29sb3IuYmx1ZX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrVXBkYXRlfVxuICAgICAgICAgIGlkPVwidXBkYXRlLWJ1dHRvblwiXG4gICAgICAgIC8+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBzdHlsZT17aXNSVEwgPyBzdHlsZXMuYnV0dG9uUlRMIDogc3R5bGVzLmJ1dHRvbn1cbiAgICAgICAgICB0ZXh0PXtpMThuLnllcygpfVxuICAgICAgICAgIGNvbG9yPXtCdXR0b24uQnV0dG9uQ29sb3IuYnJhbmRTZWNvbmRhcnlEZWZhdWx0fVxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2tZZXN9XG4gICAgICAgICAgaWQ9XCJ5ZXMtYnV0dG9uXCJcbiAgICAgICAgLz5cbiAgICAgIDwvQm9keT5cbiAgICApO1xuICB9O1xuXG4gIHJlbmRlclNjaG9vbEluZm9ybWF0aW9uRm9ybSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPEJvZHk+XG4gICAgICAgIDxTY2hvb2xJbmZvSW50ZXJzdGl0aWFsXG4gICAgICAgICAgc2NyaXB0RGF0YT17dGhpcy5wcm9wcy5zY3JpcHREYXRhfVxuICAgICAgICAgIG9uQ2xvc2U9e3RoaXMuY2xvc2VNb2RhbH1cbiAgICAgICAgLz5cbiAgICAgIDwvQm9keT5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtzaG93U2Nob29sSW50ZXJzdGl0aWFsLCBpc09wZW59ID0gdGhpcy5zdGF0ZTtcbiAgICByZXR1cm4gKFxuICAgICAgPERpYWxvZyBpc09wZW49e2lzT3Blbn0gaGFuZGxlQ2xvc2U9e3RoaXMuY2xvc2VNb2RhbH0+XG4gICAgICAgIHshc2hvd1NjaG9vbEludGVyc3RpdGlhbFxuICAgICAgICAgID8gdGhpcy5yZW5kZXJJbml0aWFsQ29udGVudCgpXG4gICAgICAgICAgOiB0aGlzLnJlbmRlclNjaG9vbEluZm9ybWF0aW9uRm9ybSgpfVxuICAgICAgPC9EaWFsb2c+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nO1xuIiwiLyoqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fX19fX19fX19fX19fX19fX19fX19fXG4gKiAgICAgIF9fX19fX19fX19fX19fX19fX19fX19fLS0tLS0tLS0tLS0tLS0tLS0tLSAgICAgICAgICAgICAgICAgICAgICAgYFxcXG4gKiAgICAvOi0tX18gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgfHw8ID4gfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19fX19fX19fX19fX19fX19fX19fX19fX19fL1xuICogICB8IFxcX18vX19fX19fX19fX19fX19fX18tLS0tLS0tLS0tLS0tLS0tLS0tICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgIHwgICAgICAgICAgICAgICAgICAgVEhFIExPUkQgT0YgVEhFIFJFRFVYIFNUT1JFUyAgICAgICAgICAgICAgICAgICB8XG4gKiAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgfCAgICAgXCJUaHJlZSBTdG9yZXMgZm9yIHRoZSBFbHZlbi1raW5ncyB1bmRlciB0aGUgc2t5LCAgICAgICAgICAgICB8XG4gKiAgICAgfCAgICAgICBTZXZlbiBmb3IgdGhlIER3YXJmLWxvcmRzIGluIHRoZWlyIGhhbGxzIG9mIHN0b25lLCAgICAgICAgIHxcbiAqICAgICB8ICAgICBOaW5lIGZvciBNb3J0YWwgTWVuIGRvb21lZCB0byBkaWUsICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgIHwgICAgICAgT25lIGZvciB0aGUgRGFyayBMb3JkIG9uIGhpcyBkYXJrIHRocm9uZSAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgfCAgICAgSW4gdGhlIExhbmQgb2YgTW9yZG9yIHdoZXJlIHRoZSBTaGFkb3dzIGxpZS4gICAgICAgICAgICAgICAgICB8XG4gKiAgICAgIHwgICAgICBPbmUgU3RvcmUgdG8gcnVsZSB0aGVtIGFsbCwgT25lIFN0b3JlIHRvIGZpbmQgdGhlbSwgICAgICAgICB8XG4gKiAgICAgIHwgICAgICBPbmUgU3RvcmUgdG8gYnJpbmcgdGhlbSBhbGwgYW5kIGluIHRoZSBkYXJrbmVzcyBiaW5kIHRoZW0gICB8XG4gKiAgICAgIHwgICAgSW4gdGhlIExhbmQgb2YgTW9yZG9yIHdoZXJlIHRoZSBTaGFkb3dzIGxpZS4gICAgICAgICAgICAgICAgIHxcbiAqICAgICB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fX19fX19fX19fX19fX19fX19ffF9cbiAqICAgICB8ICBfX19fX19fX19fX19fX19fX19fLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgICAgICAgICAgICAgICAgICAgICBgXFxcbiAqICAgICB8L2AtLV8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICAgICB8fFsgXXx8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX19fX19fX19fX19fX19fX19fL1xuICogICAgICBcXD09PS9fX19fX19fX19fX19fX19fX19fLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqXG4gKlxuICogQGZpbGUgVGhlIGdsb2JhbCByZWR1eCBzdG9yZSAtIFwiVGhlcmUgY2FuIGJlIG9ubHkgb25lXCJcbiAqL1xuXG5pbXBvcnQge2NvbmZpZ3VyZVN0b3JlfSBmcm9tICdAcmVkdXhqcy90b29sa2l0JztcbmltcG9ydCBJbW11dGFibGUgZnJvbSAnaW1tdXRhYmxlJztcbmltcG9ydCAqIGFzIHJlZHV4IGZyb20gJ3JlZHV4JztcbmltcG9ydCByZWR1eFRodW5rIGZyb20gJ3JlZHV4LXRodW5rJztcblxuaW1wb3J0IGV4cGVyaW1lbnRzIGZyb20gJy4vdXRpbC9leHBlcmltZW50cyc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBjcmVhdGVMb2dnZXIgPSByZXF1aXJlKCdyZWR1eC1sb2dnZXInKTtcbn1cblxubGV0IHJlZHV4U3RvcmU7XG5sZXQgZ2xvYmFsUmVkdWNlcnMgPSB7fTtcblxuaWYgKElOX1VOSVRfVEVTVCkge1xuICBsZXQgX19vbGRSZWR1eFN0b3JlO1xuICBsZXQgX19vbGRHbG9iYWxSZWR1Y2VycztcblxuICBtb2R1bGUuZXhwb3J0cy5zdHViUmVkdXggPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKF9fb2xkUmVkdXhTdG9yZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnUmVkdXggc3RvcmUgaGFzIGFscmVhZHkgYmVlbiBzdHViYmVkLiBEaWQgeW91IGZvcmdldCB0byBjYWxsIHJlc3RvcmU/J1xuICAgICAgKTtcbiAgICB9XG4gICAgX19vbGRSZWR1eFN0b3JlID0gcmVkdXhTdG9yZTtcbiAgICBfX29sZEdsb2JhbFJlZHVjZXJzID0gZ2xvYmFsUmVkdWNlcnM7XG4gICAgcmVkdXhTdG9yZSA9IG51bGw7XG4gICAgZ2xvYmFsUmVkdWNlcnMgPSB7fTtcbiAgfTtcblxuICBtb2R1bGUuZXhwb3J0cy5yZXN0b3JlUmVkdXggPSBmdW5jdGlvbiAoKSB7XG4gICAgcmVkdXhTdG9yZSA9IF9fb2xkUmVkdXhTdG9yZTtcbiAgICBnbG9iYWxSZWR1Y2VycyA9IF9fb2xkR2xvYmFsUmVkdWNlcnM7XG4gICAgX19vbGRSZWR1eFN0b3JlID0gbnVsbDtcbiAgICBfX29sZEdsb2JhbFJlZHVjZXJzID0gbnVsbDtcbiAgfTtcbn1cblxuaWYgKElOX1NUT1JZQk9PSyB8fCBJTl9VTklUX1RFU1QpIHtcbiAgLy8gU3Rvcnlib29rcyBuZWVkIHRoZSBhYmlsaXR5IHRvIGNyZWF0ZSBtdWx0aXBsZSBkaXN0aW5jdCBzdG9yZXMgaW5zdGVhZCBvZlxuICAvLyB1c2luZyBhIHNpbmdsZXRvblxuICBtb2R1bGUuZXhwb3J0cy5jcmVhdGVTdG9yZVdpdGhSZWR1Y2VycyA9IGNyZWF0ZVN0b3JlV2l0aFJlZHVjZXJzO1xufVxuXG4vKipcbiAqIEdldCBhIHJlZmVyZW5jZSB0byBvdXIgcmVkdXggc3RvcmUuIElmIGl0IGRvZXNuJ3QgZXhpc3QgeWV0LCBjcmVhdGUgaXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZSgpIHtcbiAgaWYgKCFyZWR1eFN0b3JlKSB7XG4gICAgcmVkdXhTdG9yZSA9IGNyZWF0ZVN0b3JlV2l0aFJlZHVjZXJzKCk7XG4gICAgaWYgKGV4cGVyaW1lbnRzLmlzRW5hYmxlZCgncmVkdXhHbG9iYWxTdG9yZScpKSB7XG4gICAgICAvLyBFeHBvc2Ugb3VyIHN0b3JlIGdsb2JhbGx5LCB0byBtYWtlIGRlYnVnZ2luZyBlYXNpZXJcbiAgICAgIHdpbmRvdy5yZWR1eFN0b3JlID0gcmVkdXhTdG9yZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVkdXhTdG9yZTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgb3VyIHN0b3JlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlV2l0aFJlZHVjZXJzKCkge1xuICByZXR1cm4gY3JlYXRlU3RvcmUoXG4gICAgT2JqZWN0LmtleXMoZ2xvYmFsUmVkdWNlcnMpLmxlbmd0aCA+IDAgPyBnbG9iYWxSZWR1Y2VycyA6IHMgPT4gc1xuICApO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVyIG11bHRpcGxlIHRvcC1sZXZlbCByZWR1Y2VycyB3aXRoIHRoZSBnbG9iYWwgc3RvcmUuIFRoaXMgZG9lcyBub3QgcmVtb3ZlXG4gKiBhbnkgcmVkdWNlcnMgdGhhdCBoYXZlIGJlZW4gcHJldmlvdXNseSByZWdpc3RlcmVkLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSByZWR1Y2VycyAtIGFuIG9iamVjdCBtYXBwaW5nIHVuaXF1ZSBrZXlzIHRvIHJlZHVjZXIgZnVuY3Rpb25zXG4gKiAgICAgVGhlIGtleXMgd2lsbCBiZSB1c2VkIGluIHRoZSBzdGF0ZSBvYmplY3QuXG4gKiBAcmV0dXJucyB2b2lkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclJlZHVjZXJzKHJlZHVjZXJzKSB7XG4gIGZvciAobGV0IGtleSBpbiByZWR1Y2Vycykge1xuICAgIGNvbnN0IGV4aXN0aW5nUmVkdWNlciA9IGdsb2JhbFJlZHVjZXJzW2tleV07XG4gICAgaWYgKGV4aXN0aW5nUmVkdWNlciAmJiBleGlzdGluZ1JlZHVjZXIgIT09IHJlZHVjZXJzW2tleV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgcmVkdWNlciB3aXRoIGtleSBcIiR7a2V5fVwiIGFscmVhZHkgcmVnaXN0ZXJlZCFgKTtcbiAgICB9XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihnbG9iYWxSZWR1Y2VycywgcmVkdWNlcnMpO1xuICBpZiAocmVkdXhTdG9yZSkge1xuICAgIHJlZHV4U3RvcmUucmVwbGFjZVJlZHVjZXIocmVkdXguY29tYmluZVJlZHVjZXJzKGdsb2JhbFJlZHVjZXJzKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgYSByZWR1Y2VyIHdpdGggdGhlIGdpdmVuIGtleSBoYXMgYmVlbiByZWdpc3RlcmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNSZWR1Y2VyKGtleSkge1xuICByZXR1cm4gISFnbG9iYWxSZWR1Y2Vyc1trZXldO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdG9yZSBjb25maWd1cmVkIGZvciB1c2UgdGhlIHdheSB3ZSB3YW50IGZvciBDb2RlLm9yZy5cbiAqIEBzZWUgaHR0cDovL3JlZHV4LmpzLm9yZy9kb2NzL2FwaS9jcmVhdGVTdG9yZS5odG1sXG4gKiBAcGFyYW0geyFmdW5jdGlvbn0gcmVkdWNlclxuICogQHJldHVybiB7U3RvcmV9IENvbmZpZ3VyZWQgUmVkdXggc3RvcmUsIHJlYWR5IGZvciB1c2UuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIGluaXRpYWxTdGF0ZSkge1xuICAvLyBZb3UgaGF2ZSB0byBtYW51YWxseSBlbmFibGUgZGVidWdnaW5nLCBib3RoIHRvIGtlZXAgdGhlIGxvZ2dlciBvdXRcbiAgLy8gb2YgcHJvZHVjdGlvbiBidW5kbGVzLCBhbmQgYmVjYXVzZSBpdCBjYXVzZXMgYSBsb3Qgb2YgY29uc29sZSBub2lzZSBhbmRcbiAgLy8gbWFrZXMgb3VyIHVuaXQgdGVzdHMgZmFpbC4gVG8gZW5hYmxlLCBhcHBlbmQgP2VuYWJsZUV4cGVyaW1lbnRzPXJlZHV4TG9nZ2luZ1xuICAvLyB0byB5b3VyIHVybC4gVGhpcyB3aWxsIGFsc28gZW5hYmxlIGxvZ2dpbmcgaWYgdGhlcmUgaXMgYSBub24taW1tdXRhYmxlIG9yIG5vbi1zZXJpYWxpemFibGVcbiAgLy8gdmFsdWUgaW4gdGhlIHJlZHV4IHN0b3JlLCB3aXRoIHNvbWUgaWdub3JlcyBhbHJlYWR5IHNldCB1cCAoc2VlIGJlbG93KS5cbiAgdmFyIGVuYWJsZVJlZHV4RGVidWdnaW5nID0gZXhwZXJpbWVudHMuaXNFbmFibGVkKGV4cGVyaW1lbnRzLlJFRFVYX0xPR0dJTkcpO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBlbmFibGVSZWR1eERlYnVnZ2luZykge1xuICAgIHZhciByZWR1eExvZ2dlciA9IGNyZWF0ZUxvZ2dlcih7XG4gICAgICBjb2xsYXBzZWQ6IHRydWUsXG4gICAgICAvLyBjb252ZXJ0IGltbXV0YWJsZS5qcyBvYmplY3RzIHRvIEpTIGZvciBsb2dnaW5nIChjb2RlIGNvcGllZCBmcm9tXG4gICAgICAvLyByZWR1eC1sb2dnZXIgcmVhZG1lKVxuICAgICAgc3RhdGVUcmFuc2Zvcm1lcjogc3RhdGUgPT4ge1xuICAgICAgICBsZXQgbmV3U3RhdGUgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpIG9mIE9iamVjdC5rZXlzKHN0YXRlKSkge1xuICAgICAgICAgIGlmIChJbW11dGFibGUuSXRlcmFibGUuaXNJdGVyYWJsZShzdGF0ZVtpXSkpIHtcbiAgICAgICAgICAgIG5ld1N0YXRlW2ldID0gc3RhdGVbaV0udG9KUygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdTdGF0ZVtpXSA9IHN0YXRlW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gY29uZmlndXJlU3RvcmUoe1xuICAgICAgcmVkdWNlcjogcmVkdWNlcixcbiAgICAgIHByZWxvYWRlZFN0YXRlOiBpbml0aWFsU3RhdGUsXG4gICAgICBtaWRkbGV3YXJlOiBnZXREZWZhdWx0TWlkZGxld2FyZSA9PlxuICAgICAgICAvLyB0aGUgZGVmYXVsdCBtaWRkbGV3YXJlIGluY2x1ZGVzIHJlZHV4IHRodW5rLCBpbW11dGFiaWxpdHkgY2hlY2ssXG4gICAgICAgIC8vIGFuZCBzZXJpYWxpemFiaWxpdHkgY2hlY2suIFNvbWUgb2Ygb3VyIHN0b3JlIGRvZXMgbm90IHBhc3MgdGhlc2UgY2hlY2tzLFxuICAgICAgICAvLyBzbyB3ZSBhcmUgaWdub3JpbmcgdGhlbSBmb3Igbm93LiBXZSBvbmx5IGVuYWJsZSB0aGlzIGluIGRldiBtb2RlXG4gICAgICAgIC8vIGJlY2F1c2UgaXQgY2F1c2VzIGNvbnNvbGUgZXJyb3JzIGlmIHNvbWV0aGluZyBmYWlscyB0aGUgY2hlY2ssIGFuZFxuICAgICAgICAvLyBjYW4gcG90ZW50aWFsbHkgY2F1c2UgYSBwYWdlIGNyYXNoIChpbiB0aGUgY2FzZSBvZiB0aGUgSlMgSW50ZXJwcmV0ZXIgYW5kIHRoZVxuICAgICAgICAvLyBpbW11dGFiaWxpdHkgY2hlY2spLlxuICAgICAgICBnZXREZWZhdWx0TWlkZGxld2FyZSh7XG4gICAgICAgICAgaW1tdXRhYmxlQ2hlY2s6IHtcbiAgICAgICAgICAgIGlnbm9yZWRQYXRoczogWydqc0ludGVycHJldGVyJywgJ2pzZGVidWdnZXInXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNlcmlhbGl6YWJsZUNoZWNrOiB7XG4gICAgICAgICAgICBpZ25vcmVkQWN0aW9uUGF0aHM6IFtcbiAgICAgICAgICAgICAgJ2Jsb2InLFxuICAgICAgICAgICAgICAnanNkZWJ1Z2dlcicsXG4gICAgICAgICAgICAgICdvYnNlcnZlcicsXG4gICAgICAgICAgICAgICdqc0ludGVycHJldGVyJyxcbiAgICAgICAgICAgICAgJ3J1bkFwcCcsXG4gICAgICAgICAgICAgICdwcm9wcy5zaG93TmV4dEhpbnQnLFxuICAgICAgICAgICAgICAncHJvcHMuYXNzZXRVcmwnLFxuICAgICAgICAgICAgICAncHJvcHMuZXhwb3J0QXBwJyxcbiAgICAgICAgICAgICAgJ3BheWxvYWQuZ2V0Q2hhbmdlcycsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgaWdub3JlZFBhdGhzOiBbXG4gICAgICAgICAgICAgICdoaWRkZW5MZXNzb24nLFxuICAgICAgICAgICAgICAnYmxvYicsXG4gICAgICAgICAgICAgICdwYWdlQ29uc3RhbnRzJyxcbiAgICAgICAgICAgICAgJ29ic2VydmVyJyxcbiAgICAgICAgICAgICAgJ3dhdGNoZWRFeHByZXNzaW9ucycsXG4gICAgICAgICAgICAgICdpbnN0cnVjdGlvbnMnLFxuICAgICAgICAgICAgICAncnVuQXBwJyxcbiAgICAgICAgICAgICAgJ2pzZGVidWdnZXInLFxuICAgICAgICAgICAgICAvYW5pbWF0aW9uTGlzdFxcLnByb3BzQnlLZXkuKlxcLmJsb2IvLFxuICAgICAgICAgICAgICAnbWFrZXInLFxuICAgICAgICAgICAgICAnZGF0YScsXG4gICAgICAgICAgICAgICdzY3JlZW5zJyxcbiAgICAgICAgICAgICAgJ2hlYWRlci5nZXRMZXZlbEJ1aWxkZXJDaGFuZ2VzJyxcbiAgICAgICAgICAgICAgJ2dldENoYW5nZXMnLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KS5jb25jYXQocmVkdXhMb2dnZXIpLFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGNvbmZpZ3VyZVN0b3JlKHtcbiAgICByZWR1Y2VyOiByZWR1Y2VyLFxuICAgIHByZWxvYWRlZFN0YXRlOiBpbml0aWFsU3RhdGUsXG4gICAgbWlkZGxld2FyZTogW3JlZHV4VGh1bmtdLFxuICAgIGRldlRvb2xzOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JywgLy8gb25seSBlbmFibGUgZGV2VG9vbHMgaW4gZGV2ZWxvcG1lbnRcbiAgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5mdW5jdGlvbiBjcmVhdGVUaHVua01pZGRsZXdhcmUoZXh0cmFBcmd1bWVudCkge1xuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoO1xuICAgIHZhciBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBhY3Rpb24oZGlzcGF0Y2gsIGdldFN0YXRlLCBleHRyYUFyZ3VtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59XG5cbnZhciB0aHVuayA9IGNyZWF0ZVRodW5rTWlkZGxld2FyZSgpO1xudGh1bmsud2l0aEV4dHJhQXJndW1lbnQgPSBjcmVhdGVUaHVua01pZGRsZXdhcmU7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHRodW5rOyIsImltcG9ydCB7YWN0aW9ufSBmcm9tICdAc3Rvcnlib29rL2FkZG9uLWFjdGlvbnMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IFNjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2cgZnJvbSAnLi9TY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjb21wb25lbnQ6IFNjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2csXG59O1xuXG4vL1xuLy8gVEVNUExBVEVcbi8vXG5cbmNvbnN0IFRlbXBsYXRlID0gYXJncyA9PiA8U2Nob29sSW5mb0NvbmZpcm1hdGlvbkRpYWxvZyB7Li4uYXJnc30gLz47XG5cbi8vXG4vLyBTVE9SSUVTXG4vL1xuXG5leHBvcnQgY29uc3QgRGlzcGxheVNjaG9vbEluZm9Db25maXJtYXRpb25EaWFsb2cgPSBUZW1wbGF0ZS5iaW5kKHt9KTtcbkRpc3BsYXlTY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nLmFyZ3MgPSB7XG4gIHNjcmlwdERhdGE6IHtcbiAgICBmb3JtVXJsOiAnJyxcbiAgICBhdXRoVG9rZW5OYW1lOiAnYXV0aF90b2tlbicsXG4gICAgYXV0aFRva2VuVmFsdWU6ICdmYWtlX2F1dGhfdG9rZW4nLFxuICAgIGV4aXN0aW5nU2Nob29sSW5mbzoge30sXG4gIH0sXG4gIG9uQ2xvc2U6IGFjdGlvbignb25DbG9zZSBjYWxsYmFjaycpLFxuICBpc09wZW46IHRydWUsXG59O1xuIl0sIm5hbWVzIjpbIl9wcm9wVHlwZXMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX2ZvbnRDb25zdGFudHMiLCJfQnV0dG9uIiwiX0FuYWx5dGljc0NvbnN0YW50cyIsIl9BbmFseXRpY3NSZXBvcnRlciIsIl9EaWFsb2ciLCJfY29sb3IiLCJfbG9jYWxlIiwiX3JlZHV4IiwiX1NjaG9vbEluZm9JbnRlcnN0aXRpYWwiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsIl90eXBlb2YiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJvYmoiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIl9zZXRQcm90b3R5cGVPZiIsInAiLCJzZXRQcm90b3R5cGVPZiIsImJpbmQiLCJvd25LZXlzIiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImZpbHRlciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwia2V5IiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsIl90b1ByaW1pdGl2ZSIsInRvUHJpbWl0aXZlIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiTnVtYmVyIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJzdHlsZXMiLCJleHBvcnRzIiwiYnV0dG9uIiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsImJ1dHRvblJUTCIsIm1hcmdpblJpZ2h0IiwidXBkYXRlQnV0dG9uIiwidXBkYXRlQnV0dG9uUlRMIiwiaW50cm8iLCJmb250U2l6ZSIsImZvbnRDb25zdGFudHMiLCJjb2xvciIsImNoYXJjb2FsIiwicGFkZGluZ1JpZ2h0Iiwic2Nob29sTmFtZSIsInB1cnBsZSIsImZvbnRTdHlsZSIsImJvZHkiLCJtYXJnaW4iLCJTY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nIiwiX0NvbXBvbmVudCIsInByb3BzIiwiX3RoaXMiLCJhbmFseXRpY3NSZXBvcnRlciIsInNlbmRFdmVudCIsIkVWRU5UUyIsIlVQREFURV9TQ0hPT0xfSU5GT19ESUFMT0dfQ0xPU0VEIiwiUExBVEZPUk1TIiwiQk9USCIsInNldFN0YXRlIiwiaXNPcGVuIiwib25DbG9zZSIsIkNPTkZJUk1fU0NIT09MX0NMSUNLRUQiLCJfdGhpcyRwcm9wcyRzY3JpcHREYXQiLCJzY3JpcHREYXRhIiwiYXV0aFRva2VuTmFtZSIsImF1dGhUb2tlblZhbHVlIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsImZldGNoIiwiY29uY2F0IiwiZXhpc3RpbmdTY2hvb2xJbmZvIiwidXNlcl9zY2hvb2xfaW5mb19pZCIsIm1ldGhvZCIsInRoZW4iLCJjbG9zZU1vZGFsIiwiZXJyb3IiLCJVUERBVEVfU0NIT09MX0NMSUNLRUQiLCJzaG93U2Nob29sSW50ZXJzdGl0aWFsIiwiX2dldFN0b3JlJGdldFN0YXRlIiwiVVBEQVRFX1NDSE9PTF9JTkZPX0RJQUxPR19TSE9XTiIsInN0YXRlIiwiaXNSVEwiLCJnZXRTdG9yZSIsImdldFN0YXRlIiwiaXNSdGwiLCJjcmVhdGVFbGVtZW50IiwiQm9keSIsInN0eWxlIiwiaTE4biIsInNjaG9vbEluZm9EaWFsb2dEZXNjcmlwdGlvbiIsInNjaG9vbEluZm9EaWFsb2dEZXNjcmlwdGlvblNjaG9vbE5hbWUiLCJ0ZXh0Iiwic2Nob29sSW5mb0RpYWxvZ1VwZGF0ZSIsIkJ1dHRvbiIsIkJ1dHRvbkNvbG9yIiwiYmx1ZSIsIm9uQ2xpY2siLCJoYW5kbGVDbGlja1VwZGF0ZSIsImlkIiwieWVzIiwiYnJhbmRTZWNvbmRhcnlEZWZhdWx0IiwiaGFuZGxlQ2xpY2tZZXMiLCJzY2hvb2xfbmFtZSIsIl9pbmhlcml0c0xvb3NlIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiY3JlYXRlIiwiX3Byb3RvIiwicmVuZGVyU2Nob29sSW5mb3JtYXRpb25Gb3JtIiwidGhpcyIsInJlbmRlciIsIl90aGlzJHN0YXRlIiwiaGFuZGxlQ2xvc2UiLCJyZW5kZXJJbml0aWFsQ29udGVudCIsIkNvbXBvbmVudCIsIlByb3BUeXBlcyIsInN0cmluZyIsInNoYXBlIiwiZm9ybVVybCIsImlzUmVxdWlyZWQiLCJudW1iZXIiLCJzY2hvb2xfaWQiLCJjb3VudHJ5Iiwic2Nob29sX3R5cGUiLCJmdWxsX2FkZHJlc3MiLCJmdW5jIiwiYm9vbCIsInJlZHV4U3RvcmUiLCJjcmVhdGVTdG9yZVdpdGhSZWR1Y2VycyIsImV4cGVyaW1lbnRzIiwiaXNFbmFibGVkIiwid2luZG93IiwiaGFzUmVkdWNlciIsImdsb2JhbFJlZHVjZXJzIiwicmVnaXN0ZXJSZWR1Y2VycyIsInJlZHVjZXJzIiwiZXhpc3RpbmdSZWR1Y2VyIiwiRXJyb3IiLCJhc3NpZ24iLCJyZXBsYWNlUmVkdWNlciIsInJlZHV4IiwiY29tYmluZVJlZHVjZXJzIiwiX3Rvb2xraXQiLCJfcmVkdXhUaHVuayIsIl9leHBlcmltZW50cyIsImNyZWF0ZVN0b3JlIiwicmVkdWNlciIsImluaXRpYWxTdGF0ZSIsIlJFRFVYX0xPR0dJTkciLCJwcm9jZXNzIiwiY29uZmlndXJlU3RvcmUiLCJwcmVsb2FkZWRTdGF0ZSIsIm1pZGRsZXdhcmUiLCJyZWR1eFRodW5rIiwiZGV2VG9vbHMiLCJzIiwibW9kdWxlIiwiY3JlYXRlVGh1bmtNaWRkbGV3YXJlIiwiZXh0cmFBcmd1bWVudCIsIl9yZWYiLCJkaXNwYXRjaCIsIm5leHQiLCJhY3Rpb24iLCJ0aHVuayIsIndpdGhFeHRyYUFyZ3VtZW50IiwiX2FkZG9uQWN0aW9ucyIsIl9TY2hvb2xJbmZvQ29uZmlybWF0aW9uRGlhbG9nIiwiY29tcG9uZW50IiwiVGVtcGxhdGUiLCJhcmdzIl0sInNvdXJjZVJvb3QiOiIifQ==