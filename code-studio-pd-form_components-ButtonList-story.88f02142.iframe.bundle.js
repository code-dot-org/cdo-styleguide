(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[9663],{"./src/code-studio/pd/form_components/ButtonList.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.otherString=exports.default=exports.ButtonList=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_lodash=_interopRequireDefault(__webpack_require__("./node_modules/lodash/lodash.js")),_reactBootstrap=__webpack_require__("./node_modules/react-bootstrap/es/index.js"),_utils=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/form_components/utils.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}exports.otherString="Other:";var ButtonList=function(_React$Component){function ButtonList(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this),"handleChange",(function(event){var value;if("radio"===_this.props.type)value=event.target.value;else if("check"===_this.props.type){var currentSelection=new Set(_this.props.selectedItems);event.target.checked?currentSelection.add(event.target.value):currentSelection.delete(event.target.value),value=currentSelection.size>0?Array.from(currentSelection):null}_this.props.onChange(_defineProperty({},_this.props.groupName,value))})),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(ButtonList,_React$Component);var _proto=ButtonList.prototype;return _proto.handleAnswerInputChange=function handleAnswerInputChange(answer,event){answer.onInputChange(event.target.value)},_proto.renderInputComponents=function renderInputComponents(){var _this2=this,InputComponent={radio:_reactBootstrap.Radio,check:_reactBootstrap.Checkbox}[this.props.type],answers=this.props.answers;return this.props.includeOther&&(answers=_lodash.default.concat(answers,{answerText:"Other:",inputId:"".concat(this.props.groupName,"_other")})),answers.map((function(answer,i){var _utils$normalizeAnswe=_utils.default.normalizeAnswer(answer),answerText=_utils$normalizeAnswe.answerText,answerValue=_utils$normalizeAnswe.answerValue,checked="radio"===_this2.props.type?_this2.props.selectedItems===answerValue:!!(_this2.props.selectedItems&&_this2.props.selectedItems.indexOf(answerValue)>=0);return _react.default.createElement(InputComponent,{value:answerValue,label:answerText,key:i,name:_this2.props.groupName,onChange:_this2.props.onChange?_this2.handleChange:void 0,checked:_this2.props.onChange?checked:void 0},"object"===_typeof(answer)&&void 0===answer.answerValue?_react.default.createElement("div",null,_react.default.createElement("span",{style:styles.inputLabel},answerText),"Â ",_react.default.createElement("input",{type:"text",value:answer.onInputChange?answer.inputValue||"":void 0,id:answer.inputId,maxLength:"200",onChange:answer.onInputChange?_this2.handleAnswerInputChange.bind(_this2,answer):void 0})):answerText)}))},_proto.render=function render(){var validationState=this.props.validationState;this.props.errorText&&(validationState="error");var columnCount=this.props.columnCount?this.props.columnCount:1;return _react.default.createElement(_reactBootstrap.FormGroup,{id:this.props.groupName,controlId:this.props.groupName,validationState},_react.default.createElement(_reactBootstrap.ControlLabel,null,this.props.label,this.props.required&&_react.default.createElement("span",{style:{color:"red"}}," *")),_react.default.createElement(_reactBootstrap.FormGroup,{style:{columnCount}},this.renderInputComponents()),this.props.errorText&&_react.default.createElement(_reactBootstrap.HelpBlock,null,this.props.errorText),!this.props.suppressLineBreak&&_react.default.createElement("br",null))},ButtonList}(_react.default.Component);exports.ButtonList=ButtonList,_defineProperty(ButtonList,"propTypes",{type:_propTypes.default.oneOf(["radio","check"]).isRequired,label:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.element]).isRequired,groupName:_propTypes.default.string.isRequired,answers:_propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.shape({answerText:_propTypes.default.string.isRequired,inputId:_propTypes.default.string,inputValue:_propTypes.default.string,onInputChange:_propTypes.default.func}),_propTypes.default.shape({answerText:_propTypes.default.string.isRequired,answerValue:_propTypes.default.string.isRequired})])).isRequired,includeOther:_propTypes.default.bool,onChange:_propTypes.default.func,selectedItems:_propTypes.default.oneOfType([_propTypes.default.array,_propTypes.default.string]),required:_propTypes.default.bool,validationState:_propTypes.default.string,errorText:_propTypes.default.string,columnCount:_propTypes.default.number,suppressLineBreak:_propTypes.default.bool}),_defineProperty(ButtonList,"defaultProps",{suppressLineBreak:!1});var styles={inputLabel:{verticalAlign:"top",marginRight:15}},_default=ButtonList;exports.default=_default},"./src/code-studio/pd/form_components/utils.js":module=>{module.exports={},module.exports.normalizeAnswer=function(answer){var answerText="string"==typeof answer?answer:answer.answerText;return{answerText,answerValue:"string"==typeof answer?answer:answer.answerValue||answerText}}},"./node_modules/prop-types/factoryWithThrowingShims.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ReactPropTypesSecret=__webpack_require__("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function emptyFunction(){}module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return ReactPropTypes.checkPropTypes=emptyFunction,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},"./node_modules/prop-types/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":module=>{"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./src/code-studio/pd/form_components/ButtonList.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.RadioButtons=exports.CheckboxesWithCustom=exports.CheckboxesIncludeOther=exports.Checkboxes=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_ButtonList=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/form_components/ButtonList.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={component:_ButtonList.default};exports.default=_default;var Template=function Template(args){return _react.default.createElement(_ButtonList.default,args)},RadioButtons=Template.bind({});exports.RadioButtons=RadioButtons,RadioButtons.args={type:"radio",label:"What is your favorite pet?",groupName:"favoritePet",answers:["Cat","Dog"]};var Checkboxes=Template.bind({});exports.Checkboxes=Checkboxes,Checkboxes.args={type:"check",label:"What is your favorite pet?",groupName:"favoritePet",answers:["Cat","Dog"]};var CheckboxesIncludeOther=Template.bind({});exports.CheckboxesIncludeOther=CheckboxesIncludeOther,CheckboxesIncludeOther.args={type:"check",label:"What is your favorite pet?",groupName:"favoritePet",answers:["Cat","Dog"],includeOther:!0};var CheckboxesWithCustom=Template.bind({});exports.CheckboxesWithCustom=CheckboxesWithCustom,CheckboxesWithCustom.args={type:"check",label:"What is your favorite pet?",groupName:"favoritePet",answers:["Cat",{answerText:"Specific dog breed",inputId:"dog-breed-input"}]}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZS1zdHVkaW8tcGQtZm9ybV9jb21wb25lbnRzLUJ1dHRvbkxpc3Qtc3RvcnkuNjlhZjdhNzguaWZyYW1lLmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiZ1VBQUEsaUdBQ0Esb0ZBQ0EsdUZBRUEsa0ZBU0Esb0csaXNCQUVvQixTLElBRWRBLFdBQUFBLFNBQUFBLGtCLGtaQTJDVyxTQUFBQyxPQUNiLElBQUlDLE1BQ0osR0FBd0IsVUFBcEIsTUFBS0MsTUFBTUMsS0FDYkYsTUFBUUQsTUFBTUksT0FBT0gsV0FDaEIsR0FBd0IsVUFBcEIsTUFBS0MsTUFBTUMsS0FBa0IsQ0FDdEMsSUFBTUUsaUJBQW1CLElBQUlDLElBQUksTUFBS0osTUFBTUssZUFDeENQLE1BQU1JLE9BQU9JLFFBQ2ZILGlCQUFpQkksSUFBSVQsTUFBTUksT0FBT0gsT0FFbENJLGlCQUFnQixPQUFRTCxNQUFNSSxPQUFPSCxPQUV2Q0EsTUFBUUksaUJBQWlCSyxLQUFPLEVBQUlDLE1BQU1DLEtBQUtQLGtCQUFvQixJQUNwRSxDQUNELE1BQUtILE1BQU1XLFNBQVgsbUJBQ0csTUFBS1gsTUFBTVksVUFBWWIsT0FFM0IsSSxvUUFFRGMsd0JBQUEsU0FBQUEsd0JBQXdCQyxPQUFRaEIsT0FDOUJnQixPQUFPQyxjQUFjakIsTUFBTUksT0FBT0gsTUFDbkMsRSxPQUVEaUIsc0JBQUEsU0FBQUEsd0JBQXdCLGdCQUNoQkMsZUFBaUIsQ0FDckJDLE1BQU9DLGdCQUFBQSxNQUNQQyxNQUFPQyxnQkFBQUEsVUFDUEMsS0FBS3RCLE1BQU1DLE1BRVRzQixRQUFVRCxLQUFLdEIsTUFBTXVCLFFBc0R6QixPQXBESUQsS0FBS3RCLE1BQU13QixlQUNiRCxRQUFVRSxRQUFBQSxRQUFFQyxPQUFPSCxRQUFTLENBQzFCSSxXQTdFWSxTQThFWkMsUUFBUyxHQUFGLE9BQUtOLEtBQUt0QixNQUFNWSxVQUFoQixhQUlLVyxRQUFRTSxLQUFJLFNBQUNmLE9BQVFnQixHQUNuQywwQkFBa0NDLE9BQUFBLFFBQU1DLGdCQUFn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UUFGb0IsOEMscVRDVDNCLHdGQUNBLCtHLCtGQUVlLENBQ2JxQixVQUFXbkcsWUFBQUEsUyx5QkFHYixJQUFNb0csU0FBVyxTQUFYQSxTQUFXQyxNQUFJLE9BQUksNkJBQUMsb0JBQWVBLEtBQXBCLEVBRVJDLGFBQWVGLFNBQVNuRCxLQUFLLENBQUMsRyxrQ0FDM0NxRCxhQUFhRCxLQUFPLENBQ2xCakcsS0FBTSxRQUNOa0MsTUFBTyw2QkFDUHZCLFVBQVcsY0FDWFcsUUFBUyxDQUFDLE1BQU8sUUFHWixJQUFNNkUsV0FBYUgsU0FBU25ELEtBQUssQ0FBQyxHLDhCQUN6Q3NELFdBQVdGLEtBQU8sQ0FDaEJqRyxLQUFNLFFBQ05rQyxNQUFPLDZCQUNQdkIsVUFBVyxjQUNYVyxRQUFTLENBQUMsTUFBTyxRQUdaLElBQU04RSx1QkFBeUJKLFNBQVNuRCxLQUFLLENBQUMsRyxzREFDckR1RCx1QkFBdUJILEtBQU8sQ0FDNUJqRyxLQUFNLFFBQ05rQyxNQUFPLDZCQUNQdkIsVUFBVyxjQUNYVyxRQUFTLENBQUMsTUFBTyxPQUNqQkMsY0FBYyxHQUdULElBQU04RSxxQkFBdUJMLFNBQVNuRCxLQUFLLENBQUMsRyxrREFDbkR3RCxxQkFBcUJKLEtBQU8sQ0FDMUJqRyxLQUFNLFFBQ05rQyxNQUFPLDZCQUNQdkIsVUFBVyxjQUNYVyxRQUFTLENBQ1AsTUFDQSxDQUNFSSxXQUFZLHFCQUNaQyxRQUFTLG9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL2NvZGUtc3R1ZGlvL3BkL2Zvcm1fY29tcG9uZW50cy9CdXR0b25MaXN0LmpzeCIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9zcmMvY29kZS1zdHVkaW8vcGQvZm9ybV9jb21wb25lbnRzL3V0aWxzLmpzIiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL2NvZGUtc3R1ZGlvL3BkL2Zvcm1fY29tcG9uZW50cy9CdXR0b25MaXN0LnN0b3J5LmpzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWltcG9ydHMgKi9cbmltcG9ydCB7XG4gIFJhZGlvLFxuICBDaGVja2JveCxcbiAgQ29udHJvbExhYmVsLFxuICBGb3JtR3JvdXAsXG4gIEhlbHBCbG9jayxcbn0gZnJvbSAncmVhY3QtYm9vdHN0cmFwJztcbi8qIGVzbGludC1lbmFibGUgbm8tcmVzdHJpY3RlZC1pbXBvcnRzICovXG5cbmltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzJztcblxuY29uc3Qgb3RoZXJTdHJpbmcgPSAnT3RoZXI6JztcblxuY2xhc3MgQnV0dG9uTGlzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgdHlwZTogUHJvcFR5cGVzLm9uZU9mKFsncmFkaW8nLCAnY2hlY2snXSkuaXNSZXF1aXJlZCxcbiAgICBsYWJlbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmVsZW1lbnRdKVxuICAgICAgLmlzUmVxdWlyZWQsXG4gICAgZ3JvdXBOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgYW5zd2VyczogUHJvcFR5cGVzLmFycmF5T2YoXG4gICAgICBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgLy8gU3RhbmRhcmQgc3RyaW5nIGFuc3dlciAuLi5cbiAgICAgICAgLy8gKHNlZSB0eXBlZGVmIFNpbXBsZUFuc3dlciBpbiB1dGlscylcbiAgICAgICAgUHJvcFR5cGVzLnN0cmluZyxcblxuICAgICAgICAvLyAuLi4gb3IgYW4gYW5zd2VyIGZvbGxvd2VkIGJ5IGFuIGlucHV0IGZvciBhZGRpdGlvbmFsIHRleHQgLi4uXG4gICAgICAgIC8vIChzZWUgdHlwZWRlZiBFeHRyYUlucHV0QW5zd2VyIGluIHV0aWxzKVxuICAgICAgICBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgIGFuc3dlclRleHQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgICBpbnB1dElkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgIGlucHV0VmFsdWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgb25JbnB1dENoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgIH0pLFxuXG4gICAgICAgIC8vIC4uLiBvciBhbiBhbnN3ZXIgd2l0aCBkaWZmZXJlbnQgc3RyaW5ncyBmb3IgZGlzcGxheSB2cyB2YWx1ZS5cbiAgICAgICAgLy8gKHNlZSB0eXBlZGVmIEFuc3dlciBpbiB1dGlscylcbiAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICBhbnN3ZXJUZXh0OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgICAgICAgYW5zd2VyVmFsdWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgICAgfSksXG4gICAgICBdKVxuICAgICkuaXNSZXF1aXJlZCxcbiAgICBpbmNsdWRlT3RoZXI6IFByb3BUeXBlcy5ib29sLFxuICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBzZWxlY3RlZEl0ZW1zOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYXJyYXksIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgICByZXF1aXJlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgdmFsaWRhdGlvblN0YXRlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGVycm9yVGV4dDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjb2x1bW5Db3VudDogUHJvcFR5cGVzLm51bWJlcixcbiAgICBzdXBwcmVzc0xpbmVCcmVhazogUHJvcFR5cGVzLmJvb2wsXG4gIH07XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBzdXBwcmVzc0xpbmVCcmVhazogZmFsc2UsXG4gIH07XG5cbiAgaGFuZGxlQ2hhbmdlID0gZXZlbnQgPT4ge1xuICAgIGxldCB2YWx1ZTtcbiAgICBpZiAodGhpcy5wcm9wcy50eXBlID09PSAncmFkaW8nKSB7XG4gICAgICB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMudHlwZSA9PT0gJ2NoZWNrJykge1xuICAgICAgY29uc3QgY3VycmVudFNlbGVjdGlvbiA9IG5ldyBTZXQodGhpcy5wcm9wcy5zZWxlY3RlZEl0ZW1zKTtcbiAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCkge1xuICAgICAgICBjdXJyZW50U2VsZWN0aW9uLmFkZChldmVudC50YXJnZXQudmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFNlbGVjdGlvbi5kZWxldGUoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gY3VycmVudFNlbGVjdGlvbi5zaXplID4gMCA/IEFycmF5LmZyb20oY3VycmVudFNlbGVjdGlvbikgOiBudWxsO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgIFt0aGlzLnByb3BzLmdyb3VwTmFtZV06IHZhbHVlLFxuICAgIH0pO1xuICB9O1xuXG4gIGhhbmRsZUFuc3dlcklucHV0Q2hhbmdlKGFuc3dlciwgZXZlbnQpIHtcbiAgICBhbnN3ZXIub25JbnB1dENoYW5nZShldmVudC50YXJnZXQudmFsdWUpO1xuICB9XG5cbiAgcmVuZGVySW5wdXRDb21wb25lbnRzKCkge1xuICAgIGNvbnN0IElucHV0Q29tcG9uZW50ID0ge1xuICAgICAgcmFkaW86IFJhZGlvLFxuICAgICAgY2hlY2s6IENoZWNrYm94LFxuICAgIH1bdGhpcy5wcm9wcy50eXBlXTtcblxuICAgIGxldCBhbnN3ZXJzID0gdGhpcy5wcm9wcy5hbnN3ZXJzO1xuXG4gICAgaWYgKHRoaXMucHJvcHMuaW5jbHVkZU90aGVyKSB7XG4gICAgICBhbnN3ZXJzID0gXy5jb25jYXQoYW5zd2Vycywge1xuICAgICAgICBhbnN3ZXJUZXh0OiBvdGhlclN0cmluZyxcbiAgICAgICAgaW5wdXRJZDogYCR7dGhpcy5wcm9wcy5ncm91cE5hbWV9X290aGVyYCxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IG9wdGlvbnMgPSBhbnN3ZXJzLm1hcCgoYW5zd2VyLCBpKSA9PiB7XG4gICAgICBjb25zdCB7YW5zd2VyVGV4dCwgYW5zd2VyVmFsdWV9ID0gdXRpbHMubm9ybWFsaXplQW5zd2VyKGFuc3dlcik7XG5cbiAgICAgIGNvbnN0IGNoZWNrZWQgPVxuICAgICAgICB0aGlzLnByb3BzLnR5cGUgPT09ICdyYWRpbydcbiAgICAgICAgICA/IHRoaXMucHJvcHMuc2VsZWN0ZWRJdGVtcyA9PT0gYW5zd2VyVmFsdWVcbiAgICAgICAgICA6ICEhKFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLnNlbGVjdGVkSXRlbXMgJiZcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zZWxlY3RlZEl0ZW1zLmluZGV4T2YoYW5zd2VyVmFsdWUpID49IDBcbiAgICAgICAgICAgICk7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxJbnB1dENvbXBvbmVudFxuICAgICAgICAgIHZhbHVlPXthbnN3ZXJWYWx1ZX1cbiAgICAgICAgICBsYWJlbD17YW5zd2VyVGV4dH1cbiAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgbmFtZT17dGhpcy5wcm9wcy5ncm91cE5hbWV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMucHJvcHMub25DaGFuZ2UgPyB0aGlzLmhhbmRsZUNoYW5nZSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICBjaGVja2VkPXt0aGlzLnByb3BzLm9uQ2hhbmdlID8gY2hlY2tlZCA6IHVuZGVmaW5lZH1cbiAgICAgICAgPlxuICAgICAgICAgIHt0eXBlb2YgYW5zd2VyID09PSAnb2JqZWN0JyAmJiBhbnN3ZXIuYW5zd2VyVmFsdWUgPT09IHVuZGVmaW5lZCA/IChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXtzdHlsZXMuaW5wdXRMYWJlbH0+e2Fuc3dlclRleHR9PC9zcGFuPlxuICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtcbiAgICAgICAgICAgICAgICAgIGFuc3dlci5vbklucHV0Q2hhbmdlID8gYW5zd2VyLmlucHV0VmFsdWUgfHwgJycgOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWQ9e2Fuc3dlci5pbnB1dElkfVxuICAgICAgICAgICAgICAgIG1heExlbmd0aD1cIjIwMFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e1xuICAgICAgICAgICAgICAgICAgYW5zd2VyLm9uSW5wdXRDaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmhhbmRsZUFuc3dlcklucHV0Q2hhbmdlLmJpbmQodGhpcywgYW5zd2VyKVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICBhbnN3ZXJUZXh0XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9JbnB1dENvbXBvbmVudD5cbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgdmFsaWRhdGlvblN0YXRlID0gdGhpcy5wcm9wcy52YWxpZGF0aW9uU3RhdGU7XG4gICAgaWYgKHRoaXMucHJvcHMuZXJyb3JUZXh0KSB7XG4gICAgICB2YWxpZGF0aW9uU3RhdGUgPSAnZXJyb3InO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbHVtbkNvdW50ID0gdGhpcy5wcm9wcy5jb2x1bW5Db3VudCA/IHRoaXMucHJvcHMuY29sdW1uQ291bnQgOiAxO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxGb3JtR3JvdXBcbiAgICAgICAgaWQ9e3RoaXMucHJvcHMuZ3JvdXBOYW1lfVxuICAgICAgICBjb250cm9sSWQ9e3RoaXMucHJvcHMuZ3JvdXBOYW1lfVxuICAgICAgICB2YWxpZGF0aW9uU3RhdGU9e3ZhbGlkYXRpb25TdGF0ZX1cbiAgICAgID5cbiAgICAgICAgPENvbnRyb2xMYWJlbD5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5sYWJlbH1cbiAgICAgICAgICB7dGhpcy5wcm9wcy5yZXF1aXJlZCAmJiA8c3BhbiBzdHlsZT17e2NvbG9yOiAncmVkJ319PiAqPC9zcGFuPn1cbiAgICAgICAgPC9Db250cm9sTGFiZWw+XG4gICAgICAgIDxGb3JtR3JvdXAgc3R5bGU9e3tjb2x1bW5Db3VudDogY29sdW1uQ291bnR9fT5cbiAgICAgICAgICB7dGhpcy5yZW5kZXJJbnB1dENvbXBvbmVudHMoKX1cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICAgIHt0aGlzLnByb3BzLmVycm9yVGV4dCAmJiA8SGVscEJsb2NrPnt0aGlzLnByb3BzLmVycm9yVGV4dH08L0hlbHBCbG9jaz59XG4gICAgICAgIHshdGhpcy5wcm9wcy5zdXBwcmVzc0xpbmVCcmVhayAmJiA8YnIgLz59XG4gICAgICA8L0Zvcm1Hcm91cD5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IHtcbiAgaW5wdXRMYWJlbDoge1xuICAgIHZlcnRpY2FsQWxpZ246ICd0b3AnLFxuICAgIG1hcmdpblJpZ2h0OiAxNSxcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkxpc3Q7XG5leHBvcnQge0J1dHRvbkxpc3QsIG90aGVyU3RyaW5nfTtcbiIsIm1vZHVsZS5leHBvcnRzID0ge307XG5cbi8qKlxuICogVGhlIG1vc3Qgc3RhbmRhcmQga2luZCBvZiBhbnN3ZXIsIHNpbXBseSBwcm92aWRlcyBmb3IgYSB3YXkgdG8gc3BlY2lmeSB0aGVcbiAqIGRpc3BsYXkgdGV4dCBhbmQgZm9ybSB2YWx1ZSBpbmRpdmlkdWFsbHlcbiAqIEB0eXBlZGVmIEFuc3dlclxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBhbnN3ZXJUZXh0IC0gdGhlIGRpc3BsYXkgdGV4dCBvZiB0aGUgYW5zd2VyOyB1c2VkIHRvXG4gKiAgICAgbGFiZWwgdGhlIGlucHV0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2Fuc3dlclZhbHVlXSAtIHRoZSBmb3JtIHZhbHVlIG9mIHRoZSBhbnN3ZXI7IHVzZWQgaW4gdGhlXG4gKiAgICAgXCJ2YWx1ZVwiIGF0dHJpYnV0ZSBvZiB0aGUgaW5wdXQuIERlZmF1bHRzIHRvICdhbnN3ZXJUZXh0JyBpZiB1bmRlZmluZWQuXG4gKi9cblxuLyoqXG4gKiBUaGUgbW9zdCBiYXNpYyBraW5kIG9mIGFuc3dlciwgdXNlZCBmb3IgdGhvc2Ugc2l0dWF0aW9ucyB3aGVyZSB0aGUgZGlzcGxheVxuICogdGV4dCBhbmQgZm9ybSB2YWx1ZSBhcmUgaWRlbnRpY2FsLlxuICogQHR5cGVkZWYgU2ltcGxlQW5zd2VyXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5cbi8qKlxuICogQSBjb21wbGV4IGtpbmQgb2YgYW5zd2VyIHdoaWNoIHdpbGwgYWRkIGFuIGFkZGl0aW9uYWwgaW5wdXQgZWxlbWVudCB0b1xuICogZXhpc3RpbmcgZm9ybSBlbGVtZW50cy4gTW9zdCBjb21tb25seSB1c2VkIHRvIGFkZCBhIHRleHQgaW5wdXQgdG8gdGhlXG4gKiBcIm90aGVyXCIgb3B0aW9uIGluIGEgcmFkaW8gaW5wdXQuXG4gKlxuICogTm90YWJseSwgdGhpcyBraW5kIGRvZXMgbm90IGluY2x1ZGUgYW4gXCJhbnN3ZXJWYWx1ZVwiIHByb3BlcnR5OyB0aGUgdmFsdWUgb2ZcbiAqIHRoaXMgaW5wdXQgaXMgZXhwZWN0ZWQgdG8gY29tZSBmcm9tIHRoZSBhZGRpdGlvbmFsIGlucHV0LlxuICpcbiAqIEB0eXBlZGVmIEV4dHJhSW5wdXRBbnN3ZXJcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gYW5zd2VyVGV4dCAtIHRoZSBkaXNwbGF5IHRleHQgb2YgdGhlIGFuc3dlcjsgdXNlZCB0b1xuICogICAgIGxhYmVsIHRoZSBpbnB1dFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGlucHV0SWQgLSB0aGUgdmFsdWUgdG8gYXNzaWduIHRvIHRoZSBcImlkXCIgcGFyYW0gb2YgdGhlXG4gKiAgICAgYWRkaXRpb25hbCBpbnB1dCBlbGVtZW50LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtpbnB1dFZhbHVlXSAtIHRoZSBmb3JtIHZhbHVlIHRvIGFzc2lnbiB0byB0aGUgXCJ2YWx1ZVwiXG4gKiAgICAgYXR0cmlidXRlIG9mIHRoZSBhZGRpdGlvbmFsIGlucHV0IGVsZW1lbnQuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbb25DaGFuZ2VdIC0gYW4gb3B0aW9uYWwgbGlzdGVuZXIgdG8gYXNzaWduIHRvIHRoZVxuICogICAgIFwib25DaGFuZ2VcIiBhdHRyaWJ1dGUgb2YgdGhlIGFkZGl0aW9uYWwgaW5wdXQgZWxlbWVudC5cbiAqL1xuXG4vKipcbiAqIFNpbXBsZSB1dGlsaXR5IHRvIG5vcm1hbGl6ZSBlaXRoZXIgQW5zd2VycyBvciBTaW1wbGVBbnN3ZXJzIHRvIGp1c3QgQW5zd2Vycy5cbiAqIEBwYXJhbSB7KEFuc3dlcnxTaW1wbGVBbnN3ZXIpfSBhbnN3ZXJcbiAqIEByZXR1cm5zIHsoQW5zd2VyKX1cbiAqL1xubW9kdWxlLmV4cG9ydHMubm9ybWFsaXplQW5zd2VyID0gYW5zd2VyID0+IHtcbiAgY29uc3QgYW5zd2VyVGV4dCA9IHR5cGVvZiBhbnN3ZXIgPT09ICdzdHJpbmcnID8gYW5zd2VyIDogYW5zd2VyLmFuc3dlclRleHQ7XG4gIGNvbnN0IGFuc3dlclZhbHVlID1cbiAgICB0eXBlb2YgYW5zd2VyID09PSAnc3RyaW5nJyA/IGFuc3dlciA6IGFuc3dlci5hbnN3ZXJWYWx1ZSB8fCBhbnN3ZXJUZXh0O1xuICByZXR1cm4ge2Fuc3dlclRleHQsIGFuc3dlclZhbHVlfTtcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gcmVxdWlyZSgnLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQnKTtcblxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKFxuICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgKTtcbiAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB0aHJvdyBlcnI7XG4gIH07XG4gIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG4gIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG4gICAgcmV0dXJuIHNoaW07XG4gIH07XG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltXG4gIH07XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBlbXB0eUZ1bmN0aW9uO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcbiAgICBTeW1ib2wuZm9yICYmXG4gICAgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuICAgIDB4ZWFjNztcblxuICB2YXIgaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH07XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IEJ1dHRvbkxpc3QgZnJvbSAnLi9CdXR0b25MaXN0JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBjb21wb25lbnQ6IEJ1dHRvbkxpc3QsXG59O1xuXG5jb25zdCBUZW1wbGF0ZSA9IGFyZ3MgPT4gPEJ1dHRvbkxpc3Qgey4uLmFyZ3N9IC8+O1xuXG5leHBvcnQgY29uc3QgUmFkaW9CdXR0b25zID0gVGVtcGxhdGUuYmluZCh7fSk7XG5SYWRpb0J1dHRvbnMuYXJncyA9IHtcbiAgdHlwZTogJ3JhZGlvJyxcbiAgbGFiZWw6ICdXaGF0IGlzIHlvdXIgZmF2b3JpdGUgcGV0PycsXG4gIGdyb3VwTmFtZTogJ2Zhdm9yaXRlUGV0JyxcbiAgYW5zd2VyczogWydDYXQnLCAnRG9nJ10sXG59O1xuXG5leHBvcnQgY29uc3QgQ2hlY2tib3hlcyA9IFRlbXBsYXRlLmJpbmQoe30pO1xuQ2hlY2tib3hlcy5hcmdzID0ge1xuICB0eXBlOiAnY2hlY2snLFxuICBsYWJlbDogJ1doYXQgaXMgeW91ciBmYXZvcml0ZSBwZXQ/JyxcbiAgZ3JvdXBOYW1lOiAnZmF2b3JpdGVQZXQnLFxuICBhbnN3ZXJzOiBbJ0NhdCcsICdEb2cnXSxcbn07XG5cbmV4cG9ydCBjb25zdCBDaGVja2JveGVzSW5jbHVkZU90aGVyID0gVGVtcGxhdGUuYmluZCh7fSk7XG5DaGVja2JveGVzSW5jbHVkZU90aGVyLmFyZ3MgPSB7XG4gIHR5cGU6ICdjaGVjaycsXG4gIGxhYmVsOiAnV2hhdCBpcyB5b3VyIGZhdm9yaXRlIHBldD8nLFxuICBncm91cE5hbWU6ICdmYXZvcml0ZVBldCcsXG4gIGFuc3dlcnM6IFsnQ2F0JywgJ0RvZyddLFxuICBpbmNsdWRlT3RoZXI6IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgQ2hlY2tib3hlc1dpdGhDdXN0b20gPSBUZW1wbGF0ZS5iaW5kKHt9KTtcbkNoZWNrYm94ZXNXaXRoQ3VzdG9tLmFyZ3MgPSB7XG4gIHR5cGU6ICdjaGVjaycsXG4gIGxhYmVsOiAnV2hhdCBpcyB5b3VyIGZhdm9yaXRlIHBldD8nLFxuICBncm91cE5hbWU6ICdmYXZvcml0ZVBldCcsXG4gIGFuc3dlcnM6IFtcbiAgICAnQ2F0JyxcbiAgICB7XG4gICAgICBhbnN3ZXJUZXh0OiAnU3BlY2lmaWMgZG9nIGJyZWVkJyxcbiAgICAgIGlucHV0SWQ6ICdkb2ctYnJlZWQtaW5wdXQnLFxuICAgIH0sXG4gIF0sXG59O1xuIl0sIm5hbWVzIjpbIkJ1dHRvbkxpc3QiLCJldmVudCIsInZhbHVlIiwicHJvcHMiLCJ0eXBlIiwidGFyZ2V0IiwiY3VycmVudFNlbGVjdGlvbiIsIlNldCIsInNlbGVjdGVkSXRlbXMiLCJjaGVja2VkIiwiYWRkIiwic2l6ZSIsIkFycmF5IiwiZnJvbSIsIm9uQ2hhbmdlIiwiZ3JvdXBOYW1lIiwiaGFuZGxlQW5zd2VySW5wdXRDaGFuZ2UiLCJhbnN3ZXIiLCJvbklucHV0Q2hhbmdlIiwicmVuZGVySW5wdXRDb21wb25lbnRzIiwiSW5wdXRDb21wb25lbnQiLCJyYWRpbyIsIlJhZGlvIiwiY2hlY2siLCJDaGVja2JveCIsInRoaXMiLCJhbnN3ZXJzIiwiaW5jbHVkZU90aGVyIiwiXyIsImNvbmNhdCIsImFuc3dlclRleHQiLCJpbnB1dElkIiwibWFwIiwiaSIsInV0aWxzIiwibm9ybWFsaXplQW5zd2VyIiwiYW5zd2VyVmFsdWUiLCJpbmRleE9mIiwibGFiZWwiLCJrZXkiLCJuYW1lIiwiaGFuZGxlQ2hhbmdlIiwidW5kZWZpbmVkIiwic3R5bGUiLCJzdHlsZXMiLCJpbnB1dExhYmVsIiwiaW5wdXRWYWx1ZSIsImlkIiwibWF4TGVuZ3RoIiwiYmluZCIsInJlbmRlciIsInZhbGlkYXRpb25TdGF0ZSIsImVycm9yVGV4dCIsImNvbHVtbkNvdW50IiwiRm9ybUdyb3VwIiwiY29udHJvbElkIiwiQ29udHJvbExhYmVsIiwicmVxdWlyZWQiLCJjb2xvciIsIkhlbHBCbG9jayIsInN1cHByZXNzTGluZUJyZWFrIiwiUmVhY3QiLCJDb21wb25lbnQiLCJQcm9wVHlwZXMiLCJvbmVPZiIsImlzUmVxdWlyZWQiLCJvbmVPZlR5cGUiLCJzdHJpbmciLCJlbGVtZW50IiwiYXJyYXlPZiIsInNoYXBlIiwiZnVuYyIsImJvb2wiLCJhcnJheSIsIm51bWJlciIsInZlcnRpY2FsQWxpZ24iLCJtYXJnaW5SaWdodCIsIm1vZHVsZSIsImV4cG9ydHMiLCJSZWFjdFByb3BUeXBlc1NlY3JldCIsImVtcHR5RnVuY3Rpb24iLCJzaGltIiwicHJvcE5hbWUiLCJjb21wb25lbnROYW1lIiwibG9jYXRpb24iLCJwcm9wRnVsbE5hbWUiLCJzZWNyZXQiLCJlcnIiLCJFcnJvciIsImdldFNoaW0iLCJSZWFjdFByb3BUeXBlcyIsIm9iamVjdCIsInN5bWJvbCIsImFueSIsImluc3RhbmNlT2YiLCJub2RlIiwib2JqZWN0T2YiLCJleGFjdCIsImNoZWNrUHJvcFR5cGVzIiwiY29tcG9uZW50IiwiVGVtcGxhdGUiLCJhcmdzIiwiUmFkaW9CdXR0b25zIiwiQ2hlY2tib3hlcyIsIkNoZWNrYm94ZXNJbmNsdWRlT3RoZXIiLCJDaGVja2JveGVzV2l0aEN1c3RvbSJdLCJzb3VyY2VSb290IjoiIn0=