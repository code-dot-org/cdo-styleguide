(self.webpackChunkblockly_mooc=self.webpackChunkblockly_mooc||[]).push([[6434],{"./src/code-studio/pd/form_components/FieldGroup.jsx":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_reactBootstrap=__webpack_require__("./node_modules/react-bootstrap/es/index.js"),_excluded=["id","validationState","errorMessage","label","required","onChange","children","labelWidth","controlWidth","inlineControl"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var REQUIRED=_react.default.createElement("span",{style:{color:"red"}},"Â *"),FieldGroup=function(_React$Component){function FieldGroup(props){var _this;return(_this=_React$Component.call(this,props)||this).handleChange=_this.handleChange.bind(function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(_this)),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(FieldGroup,_React$Component);var _proto=FieldGroup.prototype;return _proto.handleChange=function handleChange(event){var value=event.target.value;("number"!==this.props.type||value.match(/^$|^-?[0-9]*\.?[0-9]*$/))&&this.props.onChange&&this.props.onChange(_defineProperty({},this.props.id,value))},_proto.renderControl=function renderControl(controlWidth,children,props){var updatedProps=_objectSpread(_objectSpread({},props),{},{type:"number"===props.type?"text":props.type});return _react.default.createElement(_reactBootstrap.Col,controlWidth,_react.default.createElement(_reactBootstrap.FormControl,_extends({onChange:this.handleChange},updatedProps),children))},_proto.render=function render(){var _this$props=this.props,id=_this$props.id,validationState=_this$props.validationState,errorMessage=_this$props.errorMessage,label=_this$props.label,required=_this$props.required,children=(_this$props.onChange,_this$props.children),labelWidth=_this$props.labelWidth,controlWidth=_this$props.controlWidth,inlineControl=_this$props.inlineControl,props=_objectWithoutProperties(_this$props,_excluded);return _react.default.createElement(_reactBootstrap.FormGroup,{controlId:id,validationState},_react.default.createElement(_reactBootstrap.Row,null,_react.default.createElement(_reactBootstrap.Col,labelWidth,_react.default.createElement(_reactBootstrap.ControlLabel,null,label,required&&REQUIRED)),inlineControl&&this.renderControl(controlWidth,children,props)),!inlineControl&&_react.default.createElement(_reactBootstrap.Row,null,this.renderControl(controlWidth,children,props)),_react.default.createElement(_reactBootstrap.HelpBlock,null,errorMessage))},FieldGroup}(_react.default.Component);exports.default=FieldGroup,FieldGroup.defaultProps={labelWidth:{md:12},controlWidth:{md:12}},FieldGroup.propTypes={id:_propTypes.default.string.isRequired,type:_propTypes.default.string,label:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.element]).isRequired,required:_propTypes.default.bool,validationState:_propTypes.default.string,errorMessage:_propTypes.default.string,children:_propTypes.default.arrayOf(_propTypes.default.node),onChange:_propTypes.default.func,labelWidth:_propTypes.default.object,controlWidth:_propTypes.default.object,inlineControl:_propTypes.default.bool},module.exports=exports.default},"./src/code-studio/pd/form_components/UsPhoneNumberInput.jsx":(module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__("./node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_FieldGroup=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/form_components/FieldGroup.jsx")),_excluded=["name","label","validationState","errorMessage","required","value","onChange"];function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var PHONE_NUMBER_REGEX=/(\()?(\(?\d{1,3})?(\) ?)?(\d{1,3})?(-| )?(\d{1,4})?/,UsPhoneNumberInput=function(_React$Component){function UsPhoneNumberInput(props){var _this;return _defineProperty(function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(_this=_React$Component.call(this,props)||this),"handleChange",(function(change){var phoneNumber=UsPhoneNumberInput.coercePhoneNumber(change[_this.props.name]);_this.setState({value:phoneNumber});var phoneNumberDigits=UsPhoneNumberInput.toJustNumbers(phoneNumber);_this.props.onChange&&phoneNumberDigits!==UsPhoneNumberInput.toJustNumbers(_this.props.value)&&_this.props.onChange(_defineProperty({},_this.props.name,phoneNumberDigits))})),_this.state={value:UsPhoneNumberInput.coercePhoneNumber(_this.props.value)},_this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(UsPhoneNumberInput,_React$Component),UsPhoneNumberInput.isValid=function isValid(value){return/^\d{10}$/.test(value)},UsPhoneNumberInput.coercePhoneNumber=function coercePhoneNumber(value){var match=PHONE_NUMBER_REGEX.exec(value),phoneNumber="";return match&&(match[1]&&!match[2]?phoneNumber=match[1]:match[2]&&(phoneNumber="(".concat(match[2]),3===match[2].length&&(match[3]&&!match[4]?phoneNumber+=match[3]:match[4]&&(phoneNumber+=") ".concat(match[4]),3===match[4].length&&(match[5]&&!match[6]?phoneNumber+="-":match[6]&&(phoneNumber+="-".concat(match[6]))))))),phoneNumber},UsPhoneNumberInput.toJustNumbers=function toJustNumbers(value){return"string"==typeof value?value.replace(/[^\d]/g,""):""},UsPhoneNumberInput.prototype.render=function render(){var _this$props=this.props,name=_this$props.name,label=_this$props.label,validationState=_this$props.validationState,errorMessage=_this$props.errorMessage,required=_this$props.required,props=(_this$props.value,_this$props.onChange,_objectWithoutProperties(_this$props,_excluded));return _react.default.createElement("div",null,_react.default.createElement(_FieldGroup.default,_extends({key:name,id:name,type:"text",label,validationState,errorMessage,onChange:this.handleChange,value:this.state.value||"",required,placeholder:"(xxx) xxx-xxxx"},props)))},UsPhoneNumberInput}(_react.default.Component);exports.default=UsPhoneNumberInput,_defineProperty(UsPhoneNumberInput,"propTypes",{name:_propTypes.default.string.isRequired,label:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.element]).isRequired,value:_propTypes.default.string,validationState:_propTypes.default.string,errorMessage:_propTypes.default.string,required:_propTypes.default.bool,onChange:_propTypes.default.func}),module.exports=exports.default},"./node_modules/prop-types/factoryWithThrowingShims.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ReactPropTypesSecret=__webpack_require__("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function emptyFunction(){}module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim};return ReactPropTypes.checkPropTypes=emptyFunction,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},"./node_modules/prop-types/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":module=>{"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./src/code-studio/pd/form_components/UsPhoneNumberInput.story.jsx":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.DefaultPhoneInput=void 0;var _react=_interopRequireDefault(__webpack_require__("./node_modules/react/index.js")),_UsPhoneNumberInput=_interopRequireDefault(__webpack_require__("./src/code-studio/pd/form_components/UsPhoneNumberInput.jsx"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={component:_UsPhoneNumberInput.default};exports.default=_default;var DefaultPhoneInput=function Template(args){return _react.default.createElement(_UsPhoneNumberInput.default,args)}.bind({});exports.DefaultPhoneInput=DefaultPhoneInput,DefaultPhoneInput.args={name:"Storybook",label:"Enter a phone number"}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZS1zdHVkaW8tcGQtZm9ybV9jb21wb25lbnRzLVVzUGhvbmVOdW1iZXJJbnB1dC1zdG9yeS40NGE3NDlhNi5pZnJhbWUuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJ3UUFBQSxpR0FDQSxvRkFFQSxrRiw0c0VBVUEsSUFBTUEsU0FBVyxxQ0FBTUMsTUFBTyxDQUFDQyxNQUFPLFFBQXJCLE1BRUlDLFdBQUFBLFNBQUFBLGtCQUNuQixvQkFBWUMsT0FBTyxpQkFDakIsaUNBQU1BLFFBQU4sTUFDS0MsYUFBZSxNQUFLQSxhQUFhQyxLLHlKQUFsQixTQUZILEtBR2xCLEUsNlBBRURELGFBQUEsU0FBQUEsYUFBYUUsT0FDWCxJQUFNQyxNQUFRRCxNQUFNRSxPQUFPRCxPQUNILFdBQXBCRSxLQUFLTixNQUFNTyxNQUlSSCxNQUFNSSxNQUFNLDRCQUluQkYsS0FBS04sTUFBTVMsVUFDVEgsS0FBS04sTUFBTVMsU0FBWCxtQkFDR0gsS0FBS04sTUFBTVUsR0FBS04sT0FFdEIsRSxPQUVETyxjQUFBLFNBQUFBLGNBQWNDLGFBQWNDLFNBQVViLE9BR3BDLElBQU1jLGFBQWUsY0FBSCxpQkFDYmQsT0FEYSxJQUVoQk8sS0FBcUIsV0FBZlAsTUFBTU8sS0FBb0IsT0FBU1AsTUFBTU8sT0FHakQsT0FDRSw2QkFBQyxnQkFBQVEsSUFBUUgsYUFDUCw2QkFBQyxnQkFBQUksWUFBRCxVQUFhUCxTQUFVSCxLQUFLTCxjQUFrQmEsY0FDM0NELFVBSVIsRSxPQUVESSxPQUFBLFNBQUFBLFNBQ0UsZ0JBYUlYLEtBQUtOLE1BWlBVLEdBREYsWUFDRUEsR0FDQVEsZ0JBRkYsWUFFRUEsZ0JBQ0FDLGFBSEYsWUFHRUEsYUFDQUMsTUFKRixZQUlFQSxNQUNBQyxTQUxGLFlBS0VBLFNBR0FSLFVBUkYsWUFPRUosU0FQRixZQVFFSSxVQUNBUyxXQVRGLFlBU0VBLFdBQ0FWLGFBVkYsWUFVRUEsYUFDQVcsY0FYRixZQVdFQSxjQUNHdkIsTUFaTCxnREFlQSxPQUNFLDZCQUFDLGdCQUFBd0IsVUFB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UUFBU2lDLFFBQ1RuQyxRQUFTMkIsS0FDVGMsV0FBWU4sUUFDWmhDLEtBQU13QixLQUNOZSxTQUFVUCxRQUNWUSxNQUFPUixRQUNQcEMsVUFBV29DLFFBQ1hTLE1BQU9ULFFBQ1BVLE1BQU9WLFNBTVQsT0FIQUMsZUFBZVUsZUFBaUJ0QixjQUNoQ1ksZUFBZXhDLFVBQVl3QyxlQUVwQkEsY0FDVCxDLCtGQ2hDRVgsT0FBT0MsUUFBVSxvQkFBUSx3REFBUixFLGdGQ2ZuQkQsT0FBT0MsUUFGb0IsOEMsbVBDVDNCLHdGQUNBLCtILCtGQUVlLENBQ2JxQixVQUFXeEMsb0JBQUFBLFMseUJBR2IsSUFFYXlDLGtCQUZJLFNBQVhDLFNBQVdDLE1BQUksT0FBSSw2QkFBQyw0QkFBdUJBLEtBQTVCLEVBRXFCdEYsS0FBSyxDQUFDLEcsNENBQ2hEb0Ysa0JBQWtCRSxLQUFPLENBQ3ZCdkMsS0FBTSxZQUNON0IsTUFBTyx1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL3NyYy9jb2RlLXN0dWRpby9wZC9mb3JtX2NvbXBvbmVudHMvRmllbGRHcm91cC5qc3giLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL2NvZGUtc3R1ZGlvL3BkL2Zvcm1fY29tcG9uZW50cy9Vc1Bob25lTnVtYmVySW5wdXQuanN4Iiwid2VicGFjazovL2Jsb2NrbHktbW9vYy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9ibG9ja2x5LW1vb2MvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vYmxvY2tseS1tb29jLy4vc3JjL2NvZGUtc3R1ZGlvL3BkL2Zvcm1fY29tcG9uZW50cy9Vc1Bob25lTnVtYmVySW5wdXQuc3RvcnkuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1pbXBvcnRzICovXG5pbXBvcnQge1xuICBDb250cm9sTGFiZWwsXG4gIEZvcm1Db250cm9sLFxuICBGb3JtR3JvdXAsXG4gIEhlbHBCbG9jayxcbiAgUm93LFxuICBDb2wsXG59IGZyb20gJ3JlYWN0LWJvb3RzdHJhcCc7XG4vKiBlc2xpbnQtZW5hYmxlIG5vLXJlc3RyaWN0ZWQtaW1wb3J0cyAqL1xuXG5jb25zdCBSRVFVSVJFRCA9IDxzcGFuIHN0eWxlPXt7Y29sb3I6ICdyZWQnfX0+Jm5ic3A7Kjwvc3Bhbj47XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpZWxkR3JvdXAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmhhbmRsZUNoYW5nZSA9IHRoaXMuaGFuZGxlQ2hhbmdlLmJpbmQodGhpcyk7XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UoZXZlbnQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICBpZiAodGhpcy5wcm9wcy50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgLy8gV2Ugb25seSB3YW50IG51bWJlcnMgb3V0IG9mIHRoaXMgdGV4dCBmaWVsZCwgYW5kIHNvIHRoaXMgcmVndWxhciBleHByZXNzaW9uIHJlc3RyaWN0cyBpbnB1dCB0b1xuICAgICAgLy8gZGlnaXRzLCBhIHNpbmdsZSBkZWNpbWFsIHBvaW50LCBhbmQgYW4gb3B0aW9uYWwgbWludXMgc2lnbiBhdCB0aGVcbiAgICAgIC8vIGJlZ2lubmluZy5cbiAgICAgIGlmICghdmFsdWUubWF0Y2goL14kfF4tP1swLTldKlxcLj9bMC05XSokLykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uQ2hhbmdlICYmXG4gICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgICAgW3RoaXMucHJvcHMuaWRdOiB2YWx1ZSxcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyQ29udHJvbChjb250cm9sV2lkdGgsIGNoaWxkcmVuLCBwcm9wcykge1xuICAgIC8vIFJhdGhlciB0aGFuIHNldCBhbiBpbnB1dCBmaWVsZCdzIHR5cGUgdG8gbnVtYmVyLCB3ZSBsZWF2ZSBpdCBhcyB0ZXh0LlxuICAgIC8vIFRoZSBoYW5kbGVDaGFuZ2UgZnVuY3Rpb24gd2lsbCBmaWx0ZXIgaXRzIGNvbnRlbnRzIHRvIGJlIG51bWJlcnMgb25seS5cbiAgICBjb25zdCB1cGRhdGVkUHJvcHMgPSB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHR5cGU6IHByb3BzLnR5cGUgPT09ICdudW1iZXInID8gJ3RleHQnIDogcHJvcHMudHlwZSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxDb2wgey4uLmNvbnRyb2xXaWR0aH0+XG4gICAgICAgIDxGb3JtQ29udHJvbCBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9IHsuLi51cGRhdGVkUHJvcHN9PlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgIDwvQ29sPlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgaWQsXG4gICAgICB2YWxpZGF0aW9uU3RhdGUsXG4gICAgICBlcnJvck1lc3NhZ2UsXG4gICAgICBsYWJlbCxcbiAgICAgIHJlcXVpcmVkLFxuICAgICAgLy8gd2UgcHVsbCBvbkNoYW5nZSBvdXQgaGVyZSBqdXN0IHNvIGl0IGRvZXNuJ3QgZ2V0IGluY2x1ZGVkIGluIC4uLnByb3BzXG4gICAgICBvbkNoYW5nZSwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgY2hpbGRyZW4sXG4gICAgICBsYWJlbFdpZHRoLFxuICAgICAgY29udHJvbFdpZHRoLFxuICAgICAgaW5saW5lQ29udHJvbCxcbiAgICAgIC4uLnByb3BzXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPEZvcm1Hcm91cCBjb250cm9sSWQ9e2lkfSB2YWxpZGF0aW9uU3RhdGU9e3ZhbGlkYXRpb25TdGF0ZX0+XG4gICAgICAgIDxSb3c+XG4gICAgICAgICAgPENvbCB7Li4ubGFiZWxXaWR0aH0+XG4gICAgICAgICAgICA8Q29udHJvbExhYmVsPlxuICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICAgIHtyZXF1aXJlZCAmJiBSRVFVSVJFRH1cbiAgICAgICAgICAgIDwvQ29udHJvbExhYmVsPlxuICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgIHtpbmxpbmVDb250cm9sICYmIHRoaXMucmVuZGVyQ29udHJvbChjb250cm9sV2lkdGgsIGNoaWxkcmVuLCBwcm9wcyl9XG4gICAgICAgIDwvUm93PlxuICAgICAgICB7IWlubGluZUNvbnRyb2wgJiYgKFxuICAgICAgICAgIDxSb3c+e3RoaXMucmVuZGVyQ29udHJvbChjb250cm9sV2lkdGgsIGNoaWxkcmVuLCBwcm9wcyl9PC9Sb3c+XG4gICAgICAgICl9XG4gICAgICAgIDxIZWxwQmxvY2s+e2Vycm9yTWVzc2FnZX08L0hlbHBCbG9jaz5cbiAgICAgIDwvRm9ybUdyb3VwPlxuICAgICk7XG4gIH1cbn1cblxuRmllbGRHcm91cC5kZWZhdWx0UHJvcHMgPSB7XG4gIGxhYmVsV2lkdGg6IHttZDogMTJ9LFxuICBjb250cm9sV2lkdGg6IHttZDogMTJ9LFxufTtcblxuRmllbGRHcm91cC5wcm9wVHlwZXMgPSB7XG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHR5cGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGxhYmVsOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMuZWxlbWVudF0pLmlzUmVxdWlyZWQsXG4gIHJlcXVpcmVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgdmFsaWRhdGlvblN0YXRlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBlcnJvck1lc3NhZ2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubm9kZSksXG4gIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgbGFiZWxXaWR0aDogUHJvcFR5cGVzLm9iamVjdCxcbiAgY29udHJvbFdpZHRoOiBQcm9wVHlwZXMub2JqZWN0LFxuICBpbmxpbmVDb250cm9sOiBQcm9wVHlwZXMuYm9vbCxcbn07XG4iLCJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGaWVsZEdyb3VwIGZyb20gJy4vRmllbGRHcm91cCc7XG5cbmNvbnN0IFBIT05FX05VTUJFUl9SRUdFWCA9XG4gIC8oXFwoKT8oXFwoP1xcZHsxLDN9KT8oXFwpID8pPyhcXGR7MSwzfSk/KC18ICk/KFxcZHsxLDR9KT8vO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc1Bob25lTnVtYmVySW5wdXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICBsYWJlbDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmVsZW1lbnRdKVxuICAgICAgLmlzUmVxdWlyZWQsXG4gICAgdmFsdWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgdmFsaWRhdGlvblN0YXRlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGVycm9yTWVzc2FnZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICByZXF1aXJlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHZhbHVlOiBVc1Bob25lTnVtYmVySW5wdXQuY29lcmNlUGhvbmVOdW1iZXIodGhpcy5wcm9wcy52YWx1ZSksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHZhbHVlIGlzIGV4YWN0bHkgMTAgZGlnaXRzIGFuZCBubyBvdGhlciBjaGFyYWN0ZXJzLCBvdGhlcndpc2UgZmFsc2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIHRvIGluc3BlY3RcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuICBzdGF0aWMgaXNWYWxpZCh2YWx1ZSkge1xuICAgIHJldHVybiAvXlxcZHsxMH0kLy50ZXN0KHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb2VyY2UgcmF3IHZhbHVlIGludG8gdGhlIG5lYXJlc3QgcHJvcGVybHkgZm9ybWF0dGVkIHBob25lIG51bWJlclxuICAgKiBUaGlzIGlzIHRvIG1ha2UgdGhlIHR5cGluZyBtb3JlIG5hdHVyYWwgYW5kIGZsZXhpYmxlLlxuICAgKiBJZiB3ZSBpbnN0ZWFkIHZhbGlkYXRlIHRoZSBmb3JtYXQgZXhwbGljaXRseSwgdGhlbiBpdCB3aWxsIHJlcXVpcmUgZW50ZXJpbmcgaW4gdGhlIHBhcmVudGhlc2VzLCBzcGFjZSwgYW5kIGRhc2guXG4gICAqIE9uIHRoZSBvdGhlciBoYW5kLCBpZiB3ZSBvbmx5IGFjY2VwdCBudW1iZXJzIGFuZCByZWZvcm1hdCBvdXJzZWx2ZXMsIHRoZW4gZWRpdGluZyBhbmQgZGVsZXRpbmcgYmVjb21lIGF3a3dhcmQuXG4gICAqXG4gICAqIFNlZSB0aGUgdW5pdCB0ZXN0cyBmb3IgZXhhbXBsZXMuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSAtIHJhdyB2YWx1ZSB0byBjb2VyY2UgaW50byBhIHBob25lIG51bWJlclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBiZXN0IGVmZm9ydCBmb3JtYXR0ZWQgcGhvbmUgbnVtYmVyIGZyb20gdGhlIHN1cHBsaWVkIHZhbHVlXG4gICAqL1xuICBzdGF0aWMgY29lcmNlUGhvbmVOdW1iZXIodmFsdWUpIHtcbiAgICBjb25zdCBtYXRjaCA9IFBIT05FX05VTUJFUl9SRUdFWC5leGVjKHZhbHVlKTtcbiAgICBsZXQgcGhvbmVOdW1iZXIgPSAnJztcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGlmIChtYXRjaFsxXSAmJiAhbWF0Y2hbMl0pIHtcbiAgICAgICAgLy8gb3BlbmluZyAoXG4gICAgICAgIHBob25lTnVtYmVyID0gbWF0Y2hbMV07XG4gICAgICB9IGVsc2UgaWYgKG1hdGNoWzJdKSB7XG4gICAgICAgIC8vIEZpcnN0IDMgZGlnaXRzLCBcIigxMjMpXCJcbiAgICAgICAgcGhvbmVOdW1iZXIgPSBgKCR7bWF0Y2hbMl19YDtcbiAgICAgICAgaWYgKG1hdGNoWzJdLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgIC8vIE9wdGlvbmFsIHNwYWNlLCBcIigxMjMpIFwiXG4gICAgICAgICAgaWYgKG1hdGNoWzNdICYmICFtYXRjaFs0XSkge1xuICAgICAgICAgICAgcGhvbmVOdW1iZXIgKz0gbWF0Y2hbM107XG4gICAgICAgICAgfSBlbHNlIGlmIChtYXRjaFs0XSkge1xuICAgICAgICAgICAgLy8gU2Vjb25kIHNldCBvZiAzIGRpZ2l0cywgXCIoMTIzKSA0NTZcIlxuICAgICAgICAgICAgcGhvbmVOdW1iZXIgKz0gYCkgJHttYXRjaFs0XX1gO1xuICAgICAgICAgICAgaWYgKG1hdGNoWzRdLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICBpZiAobWF0Y2hbNV0gJiYgIW1hdGNoWzZdKSB7XG4gICAgICAgICAgICAgICAgLy8gT3B0aW9uYWwgLSwgXCIoMTIzKSA0NTYtXCJcbiAgICAgICAgICAgICAgICBwaG9uZU51bWJlciArPSAnLSc7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbNl0pIHtcbiAgICAgICAgICAgICAgICAvLyBMYXN0IDQgZGlnaXRzLCBcIigxMjMpIDQ1Ni03ODkwXCJcbiAgICAgICAgICAgICAgICBwaG9uZU51bWJlciArPSBgLSR7bWF0Y2hbNl19YDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwaG9uZU51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gb25seSBkaWdpdHMgZnJvbSB0aGUgc3VwcGxpZWQgc3RyaW5nXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIHN1cHBsaWVkIHN0cmluZ1xuICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIGFsbCBkaWdpdHMgZnJvbSB0aGUgc3VwcGxpZWQgc3RyaW5nXG4gICAqL1xuICBzdGF0aWMgdG9KdXN0TnVtYmVycyh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUucmVwbGFjZSgvW15cXGRdL2csICcnKSA6ICcnO1xuICB9XG5cbiAgaGFuZGxlQ2hhbmdlID0gY2hhbmdlID0+IHtcbiAgICBjb25zdCBwaG9uZU51bWJlciA9IFVzUGhvbmVOdW1iZXJJbnB1dC5jb2VyY2VQaG9uZU51bWJlcihcbiAgICAgIGNoYW5nZVt0aGlzLnByb3BzLm5hbWVdXG4gICAgKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHZhbHVlOiBwaG9uZU51bWJlcixcbiAgICB9KTtcblxuICAgIGNvbnN0IHBob25lTnVtYmVyRGlnaXRzID0gVXNQaG9uZU51bWJlcklucHV0LnRvSnVzdE51bWJlcnMocGhvbmVOdW1iZXIpO1xuICAgIGlmIChcbiAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UgJiZcbiAgICAgIHBob25lTnVtYmVyRGlnaXRzICE9PSBVc1Bob25lTnVtYmVySW5wdXQudG9KdXN0TnVtYmVycyh0aGlzLnByb3BzLnZhbHVlKVxuICAgICkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgIFt0aGlzLnByb3BzLm5hbWVdOiBwaG9uZU51bWJlckRpZ2l0cyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIGxhYmVsLFxuICAgICAgdmFsaWRhdGlvblN0YXRlLFxuICAgICAgZXJyb3JNZXNzYWdlLFxuICAgICAgcmVxdWlyZWQsXG4gICAgICAvLyBwdWxsIHZhbHVlIGFuZCBvbkNoYW5nZSBzbyB0aGV5IGRvbid0IGdldCBpbmNsdWRlZCBpbiAuLi5wcm9wc1xuICAgICAgdmFsdWUsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIG9uQ2hhbmdlLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICAuLi5wcm9wc1xuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxGaWVsZEdyb3VwXG4gICAgICAgICAga2V5PXtuYW1lfVxuICAgICAgICAgIGlkPXtuYW1lfVxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICBsYWJlbD17bGFiZWx9XG4gICAgICAgICAgdmFsaWRhdGlvblN0YXRlPXt2YWxpZGF0aW9uU3RhdGV9XG4gICAgICAgICAgZXJyb3JNZXNzYWdlPXtlcnJvck1lc3NhZ2V9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnZhbHVlIHx8ICcnfVxuICAgICAgICAgIHJlcXVpcmVkPXtyZXF1aXJlZH1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIih4eHgpIHh4eC14eHh4XCJcbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gcmVxdWlyZSgnLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQnKTtcblxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvbigpIHt9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIHNoaW0ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICBpZiAoc2VjcmV0ID09PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgLy8gSXQgaXMgc3RpbGwgc2FmZSB3aGVuIGNhbGxlZCBmcm9tIFJlYWN0LlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKFxuICAgICAgJ0NhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgJ1VzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgKTtcbiAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB0aHJvdyBlcnI7XG4gIH07XG4gIHNoaW0uaXNSZXF1aXJlZCA9IHNoaW07XG4gIGZ1bmN0aW9uIGdldFNoaW0oKSB7XG4gICAgcmV0dXJuIHNoaW07XG4gIH07XG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFR5cGVDaGVja2Vycy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogc2hpbSxcbiAgICBib29sOiBzaGltLFxuICAgIGZ1bmM6IHNoaW0sXG4gICAgbnVtYmVyOiBzaGltLFxuICAgIG9iamVjdDogc2hpbSxcbiAgICBzdHJpbmc6IHNoaW0sXG4gICAgc3ltYm9sOiBzaGltLFxuXG4gICAgYW55OiBzaGltLFxuICAgIGFycmF5T2Y6IGdldFNoaW0sXG4gICAgZWxlbWVudDogc2hpbSxcbiAgICBpbnN0YW5jZU9mOiBnZXRTaGltLFxuICAgIG5vZGU6IHNoaW0sXG4gICAgb2JqZWN0T2Y6IGdldFNoaW0sXG4gICAgb25lT2Y6IGdldFNoaW0sXG4gICAgb25lT2ZUeXBlOiBnZXRTaGltLFxuICAgIHNoYXBlOiBnZXRTaGltLFxuICAgIGV4YWN0OiBnZXRTaGltXG4gIH07XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBlbXB0eUZ1bmN0aW9uO1xuICBSZWFjdFByb3BUeXBlcy5Qcm9wVHlwZXMgPSBSZWFjdFByb3BUeXBlcztcblxuICByZXR1cm4gUmVhY3RQcm9wVHlwZXM7XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcbiAgICBTeW1ib2wuZm9yICYmXG4gICAgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpKSB8fFxuICAgIDB4ZWFjNztcblxuICB2YXIgaXNWYWxpZEVsZW1lbnQgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiZcbiAgICAgIG9iamVjdCAhPT0gbnVsbCAmJlxuICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH07XG5cbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgZGV2ZWxvcG1lbnQgYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgdmFyIHRocm93T25EaXJlY3RBY2Nlc3MgPSB0cnVlO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMnKShpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcyk7XG59IGVsc2Uge1xuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBwcm9kdWN0aW9uIGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMnKSgpO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9ICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY3RQcm9wVHlwZXNTZWNyZXQ7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFVzUGhvbmVOdW1iZXJJbnB1dCBmcm9tICcuL1VzUGhvbmVOdW1iZXJJbnB1dCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgY29tcG9uZW50OiBVc1Bob25lTnVtYmVySW5wdXQsXG59O1xuXG5jb25zdCBUZW1wbGF0ZSA9IGFyZ3MgPT4gPFVzUGhvbmVOdW1iZXJJbnB1dCB7Li4uYXJnc30gLz47XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0UGhvbmVJbnB1dCA9IFRlbXBsYXRlLmJpbmQoe30pO1xuRGVmYXVsdFBob25lSW5wdXQuYXJncyA9IHtcbiAgbmFtZTogJ1N0b3J5Ym9vaycsXG4gIGxhYmVsOiAnRW50ZXIgYSBwaG9uZSBudW1iZXInLFxufTtcbiJdLCJuYW1lcyI6WyJSRVFVSVJFRCIsInN0eWxlIiwiY29sb3IiLCJGaWVsZEdyb3VwIiwicHJvcHMiLCJoYW5kbGVDaGFuZ2UiLCJiaW5kIiwiZXZlbnQiLCJ2YWx1ZSIsInRhcmdldCIsInRoaXMiLCJ0eXBlIiwibWF0Y2giLCJvbkNoYW5nZSIsImlkIiwicmVuZGVyQ29udHJvbCIsImNvbnRyb2xXaWR0aCIsImNoaWxkcmVuIiwidXBkYXRlZFByb3BzIiwiQ29sIiwiRm9ybUNvbnRyb2wiLCJyZW5kZXIiLCJ2YWxpZGF0aW9uU3RhdGUiLCJlcnJvck1lc3NhZ2UiLCJsYWJlbCIsInJlcXVpcmVkIiwibGFiZWxXaWR0aCIsImlubGluZUNvbnRyb2wiLCJGb3JtR3JvdXAiLCJjb250cm9sSWQiLCJSb3ciLCJDb250cm9sTGFiZWwiLCJIZWxwQmxvY2siLCJSZWFjdCIsIkNvbXBvbmVudCIsImRlZmF1bHRQcm9wcyIsIm1kIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwic3RyaW5nIiwiaXNSZXF1aXJlZCIsIm9uZU9mVHlwZSIsImVsZW1lbnQiLCJib29sIiwiYXJyYXlPZiIsIm5vZGUiLCJmdW5jIiwib2JqZWN0IiwiUEhPTkVfTlVNQkVSX1JFR0VYIiwiVXNQaG9uZU51bWJlcklucHV0IiwiY2hhbmdlIiwicGhvbmVOdW1iZXIiLCJjb2VyY2VQaG9uZU51bWJlciIsIm5hbWUiLCJzZXRTdGF0ZSIsInBob25lTnVtYmVyRGlnaXRzIiwidG9KdXN0TnVtYmVycyIsInN0YXRlIiwiaXNWYWxpZCIsInRlc3QiLCJleGVjIiwibGVuZ3RoIiwicmVwbGFjZSIsImtleSIsInBsYWNlaG9sZGVyIiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJlbXB0eUZ1bmN0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyIsInNoaW0iLCJwcm9wTmFtZSIsImNvbXBvbmVudE5hbWUiLCJsb2NhdGlvbiIsInByb3BGdWxsTmFtZSIsInNlY3JldCIsImVyciIsIkVycm9yIiwiZ2V0U2hpbSIsIlJlYWN0UHJvcFR5cGVzIiwiYXJyYXkiLCJudW1iZXIiLCJzeW1ib2wiLCJhbnkiLCJpbnN0YW5jZU9mIiwib2JqZWN0T2YiLCJvbmVPZiIsInNoYXBlIiwiZXhhY3QiLCJjaGVja1Byb3BUeXBlcyIsImNvbXBvbmVudCIsIkRlZmF1bHRQaG9uZUlucHV0IiwiVGVtcGxhdGUiLCJhcmdzIl0sInNvdXJjZVJvb3QiOiIifQ==